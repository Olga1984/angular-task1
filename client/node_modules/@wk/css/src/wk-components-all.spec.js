'use strict';
let fs = require('fs');
let path = require('path');
let Sassaby = require('sassaby');
let blacklist = ['fonts', '.DSStore', '.DS_Store'];
let components = fs
    .readdirSync('src/wk-components')
    .filter(c => blacklist.indexOf(c) < 0)
    .map(c => c.replace('_', ''))
    .map(c => c.replace('.scss', ''));

describe('_wk-components-all.scss', () => {
    let file = path.resolve('src/_wk-components-all.scss');
    let sb = new Sassaby(file);

    describe('imports', () =>  {
        components.forEach((c) => {
            if(`${c}` !== 'contrast-version') {
                it(`imports ${c}`, () => sb.imports(`wk-components/${c}/${c}`));
            }
        });
    });
});
