'use strict';

let fs = require('fs');
let path = require('path');
let pify = require('pify');
let read = pify(fs.readFile);
let write = pify(fs.writeFile);

module.exports = (file) => {
    return read(file, { encoding: 'utf8' })
    .then(json => write(file.replace('json', 'ts'), `export default ${json}`).then(() => json))
    .then(json => write(file.replace('json', 'module.js'), `export default ${json}`).then(() => json))
    .then(json => write(file.replace('json', 'common.js'), `module.exports = ${json}`))
    .catch(e => conosle.log(`Something went wrong ${e}`))
}