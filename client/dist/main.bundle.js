!function o(a,s,u){function c(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[t]={exports:{}};a[t][0].call(i.exports,function(e){return c(a[t][1][e]||e)},i,i.exports,o,a,s,u)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("templates",[]).run(["$templateCache",function(e){e.put("index.html",'<!DOCTYPE html>\n\x3c!--[if lt IE 9]><html class="ie" lang="en" ng-app="core"><![endif]--\x3e\x3c!--[if IE 9]><html class="ie ie9" lang="en" ng-app="core"><![endif]--\x3e\x3c!--[if (gt IE 9)|!(IE)]>\x3c!--\x3e\n<html lang="en" ng-app="core">\n\x3c!--<![endif]--\x3e\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\n    <base href="/">\n    <title>Angular Task</title>\n    \x3c!-- inject:css --\x3e\n    \x3c!-- endinject --\x3e\n    \x3c!-- inject:js --\x3e\n    \x3c!-- endinject --\x3e\n</head>\n<body>\n    <swt-app></swt-app>\n</body>\n</html>\n'),e.put("app.html",'<div class="app">\n    <swt-header></swt-header>\n    <div class="content-view">\n        <ui-view></ui-view>\n    </div>\n    <swt-footer></swt-footer>\n</div>\n'),e.put("home.html",'<div class="homepage">\n    <swt-searchbar></swt-searchbar>\n    <swt-popular-documents></swt-popular-documents>\n</div>\n'),e.put("searchPage.html",'<div class="search-page">\n    <div class="filter-wrapper">\n        <swt-filter-panel></swt-filter-panel>\n    </div>\n    <div class="search-content">\n        <swt-searchbar></swt-searchbar>\n        <h4 translate="TOTAL_RESULTS" class="search-count"></h4>\n        <swt-search-results></swt-search-results>\n    </div>\n</div>\n'),e.put("translate.html",'<div>\n    <button  ng-class="{ button__active: translateCtrl.selectedLanguage === \'en\' }"  ng-click="translateCtrl.changeLanguage(\'en\')" translate="BUTTON_LANG_EN">english</button>\n    <button ng-class="{ button__active: translateCtrl.selectedLanguage === \'de\' }"  ng-click="translateCtrl.changeLanguage(\'de\')" translate="BUTTON_LANG_DE">german</button>\n    <button ng-class="{ button__active: translateCtrl.selectedLanguage === \'es\' }"  ng-click="translateCtrl.changeLanguage(\'es\')" translate="BUTTON_LANG_ES">spanish</button>\n</div>\n\n'),e.put("homeRoute.html","<swt-home></swt-home>\n"),e.put("searchRoute.html","<swt-search-page></swt-search-page>\n"),e.put("popularDocuments.html",'<div class="popular">\n    <header class="popular-header">\n        <h2>Most popular documents</h2>\n    </header>\n    <div class="popular-docs">\n        <div class="popular-article" ng-repeat="item in popular.documents">\n            <swt-document document="item" headline="false"></swt-document>\n        </div>\n    </div>\n</div>\n'),e.put("document.html",'<section class="document">\n    <header class="document-header" ng-class="{ none: showHeadline == \'false\' }">\n        <h3>\n            {{ document.value.headline }}\n        </h3>\n    </header>\n    <article class="document-text">\n        {{ document.value.text }}\n    </article>\n</section>\n\n'),e.put("footer.html",'<footer class="page-footer">\n    <div class="footer-copyright"> Â©\n        <a href="" target="_blank">copyright</a>.\n    </div>\n    <div class="footer-container">\n        <div class=""></div>\n    </div>\n</footer>\n'),e.put("header.html",'<header class="header">\n    <div class="logo-language-section">\n        <img class="logo" src="" alt="logo">\n        <swt-translate></swt-translate>\n    </div>\n    <swt-hamburger-menu></swt-hamburger-menu>\n</header>\n'),e.put("searchbar.html",'<form class="search-bar" ng-submit="searchbar.submitForm($event)" >\n    <input class="site-search"\n            ng-model="searchbar.input"\n            type="text" \n            id="site-search" \n            placeholder="Search through site content">\n    <button class="search-btn" type="submit">\n        <svg  height="30" version="1.1" viewBox="0 0 22 22" width="30"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg>\n    </button>\n</form> '),e.put("filterPanel.html",'<ul class="filter">\n    <li ng-repeat="item in filter.filteredArticles" class="filter-item">\n     {{item.filteredCategoryName }} ({{ item.filteredGroup.length }})\n    </li>\n</ul>\n'),e.put("searchResults.html",'<div>\n    <div ng-repeat="item in search.results">\n        <swt-document document="item"></swt-document>\n    </div>\n    <div class="page-buttons">\n        <button \n            class="page-button"\n            ng-class="{ button__active: search.results === value }" \n            ng-repeat="(key, value) in search.paginatedDocuments" \n            ng-click="search.changePage(key)"\n        >\n            {{ key + 1 }}\n        </button>\n    </div>\n</div>\n'),e.put("hamburgerMenu.html",'<div class="hamburger">\n    <div class="icon-container" ng-click="hamburger.toggleMenu()">\n        <span class="icon" ng-class="{ close: hamburger.isActive == true }"></span>\n    </div>\n    <div class="menu" ng-class="{ folded: hamburger.isActive == true }">\n        <nav class="navigation-list">\n            <ul>\n                <li ng-repeat="link in hamburger.navList">\n                    <a class="nav-link" ui-sref="{{link.state}}" ng-click="hamburger.toggleMenu()">{{ link.text }}</a>\n                </li>\n            </ul>\n        </nav>\n    </div>\n</div>\n')}]);n.default=i},{angular:87}],2:[function(e,t,n){var r,i;r=this,i=function(t,e,S){"use strict";var n=angular,x=e&&e.module?e:n;function r(){var n=null;return function(e,t){return n=n||S.services.$injector.get("$templateFactory"),[new E(e,t,n)]}}var s=function(e,n){return e.reduce(function(e,t){return e||S.isDefined(n[t])},!1)};function i(r){if(!r.parent)return{};var i=["component","bindings","componentProvider"],o=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),e=i.concat(o);if(S.isDefined(r.views)&&s(e,r))throw new Error("State '"+r.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+e.filter(function(e){return S.isDefined(r[e])}).join(", "));var a={},t=r.views||{$default:S.pick(r,e)};return S.forEach(t,function(e,t){if(t=t||"$default",S.isString(e)&&(e={component:e}),e=S.extend({},e),s(i,e)&&s(o,e))throw new Error("Cannot combine: "+i.join("|")+" with: "+o.join("|")+" in stateview: '"+t+"@"+r.name+"'");e.resolveAs=e.resolveAs||"$resolve",e.$type="ng1",e.$context=r,e.$name=t;var n=S.ViewService.normalizeUIViewTarget(e.$context,e.$name);e.$uiViewName=n.uiViewName,e.$uiViewContextAnchor=n.uiViewContextAnchor,a[t]=e}),a}var o=0,E=function(){function e(e,t,n){var r=this;this.path=e,this.viewDecl=t,this.factory=n,this.$id=o++,this.loaded=!1,this.getTemplate=function(e,t){return r.component?r.factory.makeComponentTemplate(e,t,r.component,r.viewDecl.bindings):r.template}}return e.prototype.load=function(){var t=this,e=S.services.$q,n=new S.ResolveContext(this.path),r=this.path.reduce(function(e,t){return S.extend(e,t.paramValues)},{}),i={template:e.when(this.factory.fromConfig(this.viewDecl,r,n)),controller:e.when(this.getController(n))};return e.all(i).then(function(e){return S.trace.traceViewServiceEvent("Loaded",t),t.controller=e.controller,S.extend(t,e.template),t})},e.prototype.getController=function(e){var t=this.viewDecl.controllerProvider;if(!S.isInjectable(t))return this.viewDecl.controller;var n=S.services.$injector.annotate(t),r=S.isArray(t)?S.tail(t):t;return new S.Resolvable("",r,n).get(e)},e}(),a=function(){function e(){var r=this;this._useHttp=x.version.minor<3,this.$get=["$http","$templateCache","$injector",function(e,t,n){return r.$templateRequest=n.has&&n.has("$templateRequest")&&n.get("$templateRequest"),r.$http=e,r.$templateCache=t,r}]}return e.prototype.useHttpService=function(e){this._useHttp=e},e.prototype.fromConfig=function(e,t,n){var r=function(e){return S.services.$q.when(e).then(function(e){return{template:e}})},i=function(e){return S.services.$q.when(e).then(function(e){return{component:e}})};return S.isDefined(e.template)?r(this.fromString(e.template,t)):S.isDefined(e.templateUrl)?r(this.fromUrl(e.templateUrl,t)):S.isDefined(e.templateProvider)?r(this.fromProvider(e.templateProvider,t,n)):S.isDefined(e.component)?i(e.component):S.isDefined(e.componentProvider)?i(this.fromComponentProvider(e.componentProvider,t,n)):r("<ui-view></ui-view>")},e.prototype.fromString=function(e,t){return S.isFunction(e)?e(t):e},e.prototype.fromUrl=function(e,t){return S.isFunction(e)&&(e=e(t)),null==e?null:this._useHttp?this.$http.get(e,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(e){return e.data}):this.$templateRequest(e)},e.prototype.fromProvider=function(e,t,n){var r=S.services.$injector.annotate(e),i=S.isArray(e)?S.tail(e):e;return new S.Resolvable("",i,r).get(n)},e.prototype.fromComponentProvider=function(e,t,n){var r=S.services.$injector.annotate(e),i=S.isArray(e)?S.tail(e):e;return new S.Resolvable("",i,r).get(n)},e.prototype.makeComponentTemplate=function(u,c,e,l){l=l||{};var f=3<=x.version.minor?"::":"",p=function(e){var t=S.kebobString(e);return/^(x|data)-/.exec(t)?"x-"+t:t},t=function(e){var t=S.services.$injector.get(e+"Directive");if(!t||!t.length)throw new Error("Unable to find component named '"+e+"'");return t.map(h).reduce(S.unnestR,[])}(e).map(function(e){var t=e.name,n=e.type,r=p(t);if(u.attr(r)&&!l[t])return r+"='"+u.attr(r)+"'";var i=l[t]||t;if("@"===n)return r+"='{{"+f+"$resolve."+i+"}}'";if("&"!==n)return r+"='"+f+"$resolve."+i+"'";var o=c.getResolvable(i),a=o&&o.data,s=a&&S.services.$injector.annotate(a)||[];return r+"='$resolve."+i+(S.isArray(a)?"["+(a.length-1)+"]":"")+"("+s.join(",")+")'"}).join(" "),n=p(e);return"<"+n+" "+t+"></"+n+">"},e}();var h=function(e){return S.isObject(e.bindToController)?u(e.bindToController):u(e.scope)},u=function(t){return Object.keys(t||{}).map(function(e){return[e,/^([=<@&])[?]?(.*)/.exec(t[e])]}).filter(function(e){return S.isDefined(e)&&S.isArray(e[1])}).map(function(e){return{name:e[1][2]||e[0],type:e[1][1]}})},c=function(){function n(e,t){this.stateRegistry=e,this.stateService=t,S.createProxyFunctions(S.val(n.prototype),this,S.val(this))}return n.prototype.decorator=function(e,t){return this.stateRegistry.decorator(e,t)||this},n.prototype.state=function(e,t){return S.isObject(e)?t=e:t.name=e,this.stateRegistry.register(t),this},n.prototype.onInvalid=function(e){return this.stateService.onInvalid(e)},n}(),l=function(n){return function(e,t){var i=e[n],o="onExit"===n?"from":"to";return i?function(e,t){var n=new S.ResolveContext(e.treeChanges(o)).subContext(t.$$state()),r=S.extend(R(n),{$state$:t,$transition$:e});return S.services.$injector.invoke(i,this,r)}:void 0}},f=function(){function e(e){this._urlListeners=[],this.$locationProvider=e;var t=S.val(e);S.createProxyFunctions(t,this,t,["hashPrefix"])}return e.monkeyPatchPathParameterType=function(e){var t=e.urlMatcherFactory.type("path");t.encode=function(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e},t.decode=function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}},e.prototype.dispose=function(){},e.prototype.onChange=function(e){var t=this;return this._urlListeners.push(e),function(){return S.removeFrom(t._urlListeners)(e)}},e.prototype.html5Mode=function(){var e=this.$locationProvider.html5Mode();return(e=S.isObject(e)?e.enabled:e)&&this.$sniffer.history},e.prototype.baseHref=function(){return this._baseHref||(this._baseHref=this.$browser.baseHref()||this.$window.location.pathname)},e.prototype.url=function(e,t,n){return void 0===t&&(t=!1),S.isDefined(e)&&this.$location.url(e),t&&this.$location.replace(),n&&this.$location.state(n),this.$location.url()},e.prototype._runtimeServices=function(e,t,n,r,i){var o=this;this.$location=t,this.$sniffer=n,this.$browser=r,this.$window=i,e.$on("$locationChangeSuccess",function(t){return o._urlListeners.forEach(function(e){return e(t)})});var a=S.val(t);S.createProxyFunctions(a,this,a,["replace","path","search","hash"]),S.createProxyFunctions(a,this,a,["port","protocol","host"])},e}(),p=function(){function n(e){this.router=e}return n.injectableHandler=function(t,n){return function(e){return S.services.$injector.invoke(n,null,{$match:e,$stateParams:t.globals.params})}},n.prototype.$get=function(){var e=this.router.urlService;return this.router.urlRouter.update(!0),e.interceptDeferred||e.listen(),this.router.urlRouter},n.prototype.rule=function(e){var t=this;if(!S.isFunction(e))throw new Error("'rule' must be a function");var n=new S.BaseUrlRule(function(){return e(S.services.$injector,t.router.locationService)},S.identity);return this.router.urlService.rules.rule(n),this},n.prototype.otherwise=function(e){var t=this,n=this.router.urlService.rules;if(S.isString(e))n.otherwise(e);else{if(!S.isFunction(e))throw new Error("'rule' must be a string or function");n.otherwise(function(){return e(S.services.$injector,t.router.locationService)})}return this},n.prototype.when=function(e,t){return(S.isArray(t)||S.isFunction(t))&&(t=n.injectableHandler(this.router,t)),this.router.urlService.rules.when(e,t),this},n.prototype.deferIntercept=function(e){this.router.urlService.deferIntercept(e)},n}();x.module("ui.router.angular1",[]);var d=x.module("ui.router.init",["ng"]),m=x.module("ui.router.util",["ui.router.init"]),v=x.module("ui.router.router",["ui.router.util"]),g=x.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),$=x.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),y=(x.module("ui.router.compat",["ui.router"]),null);function b(e){(y=this.router=new S.UIRouter).stateProvider=new c(y.stateRegistry,y.stateService),y.stateRegistry.decorator("views",i),y.stateRegistry.decorator("onExit",l("onExit")),y.stateRegistry.decorator("onRetain",l("onRetain")),y.stateRegistry.decorator("onEnter",l("onEnter")),y.viewService._pluginapi._viewConfigFactory("ng1",r());var s=y.locationService=y.locationConfig=new f(e);function t(e,t,n,r,i,o,a){return s._runtimeServices(i,e,r,t,n),delete y.router,delete y.$get,y}return f.monkeyPatchPathParameterType(y),((y.router=y).$get=t).$inject=["$location","$browser","$window","$sniffer","$rootScope","$http","$templateCache"],y}b.$inject=["$locationProvider"];var w=function(n){return["$uiRouterProvider",function(e){var t=e.router[n];return t.$get=function(){return t},t}]};function _(t,e,n){if(S.services.$injector=t,S.services.$q=e,!t.hasOwnProperty("strictDi"))try{t.invoke(function(e){})}catch(e){t.strictDi=!!/strict mode/.exec(e&&e.toString())}n.stateRegistry.get().map(function(e){return e.$$state().resolvables}).reduce(S.unnestR,[]).filter(function(e){return"deferred"===e.deps}).forEach(function(e){return e.deps=t.annotate(e.resolveFn,t.strictDi)})}_.$inject=["$injector","$q","$uiRouter"];function C(e){e.$watch(function(){S.trace.approximateDigests++})}C.$inject=["$rootScope"],d.provider("$uiRouter",b),v.provider("$urlRouter",["$uiRouterProvider",function(e){return e.urlRouterProvider=new p(e)}]),m.provider("$urlService",w("urlService")),m.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return y.urlMatcherFactory}]),m.provider("$templateFactory",function(){return new a}),g.provider("$stateRegistry",w("stateRegistry")),g.provider("$uiRouterGlobals",w("globals")),g.provider("$transitions",w("transitionService")),g.provider("$state",["$uiRouterProvider",function(){return S.extend(y.stateProvider,{$get:function(){return y.stateService}})}]),g.factory("$stateParams",["$uiRouter",function(e){return e.globals.params}]),$.factory("$view",function(){return y.viewService}),$.service("$trace",function(){return S.trace}),$.run(C),m.run(["$urlMatcherFactory",function(e){}]),g.run(["$state",function(e){}]),v.run(["$urlRouter",function(e){}]),d.run(_);var k,O,j,P,R=function(n){return n.getTokens().filter(S.isString).map(function(e){var t=n.getResolvable(e);return[e,"NOWAIT"===n.getPolicy(t).async?t.promise:t.data]}).reduce(S.applyPairs,{})};function T(e){var t,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e="("+n[1]+")"),!(t=e.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1]||null,paramExpr:t[3]||null}}function A(e){var t=e.parent().inheritedData("$uiView"),n=S.parse("$cfg.path")(t);return n?S.tail(n).state.name:void 0}function M(e,t,n){var r,i=n.uiState||e.current.name,o=S.extend((r=e,{relative:A(t)||r.$current,inherit:!0,source:"sref"}),n.uiStateOpts||{}),a=e.href(i,n.uiStateParams,o);return{uiState:i,uiStateParams:n.uiStateParams,uiStateOpts:o,href:a}}function N(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function L(o,a,s,u,c){return function(e){var t=e.which||e.button,n=c();if(!(1<t||e.ctrlKey||e.metaKey||e.shiftKey||o.attr("target"))){var r=s(function(){o.attr("disabled")||a.go(n.uiState,n.uiStateParams,n.uiStateOpts)});e.preventDefault();var i=u.isAnchor&&!n.href?1:0;e.preventDefault=function(){i--<=0&&s.cancel(r)}}}}function V(i,e,o,t){var a;t&&(a=t.events),S.isArray(a)||(a=["click"]);for(var n=i.on?"on":"bind",r=0,s=a;r<s.length;r++){var u=s[r];i[n](u,o)}e.$on("$destroy",function(){for(var e=i.off?"off":"unbind",t=0,n=a;t<n.length;t++){var r=n[t];i[e](r,o)}})}function I(r){var e=function(e,t,n){return r.is(e,t,n)};return e.$stateful=!0,e}function D(r){var e=function(e,t,n){return r.includes(e,t,n)};return e.$stateful=!0,e}function q(m,v,g,e,$,t){var y=S.parse("viewDecl.controllerAs"),b=S.parse("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(e){var d=e.html();return e.empty(),function(t,n){var e=n.data("$uiView");if(!e)return n.html(d),void m(n.contents())(t);var r=e.$cfg||{viewDecl:{},getTemplate:S.noop},i=r.path&&new S.ResolveContext(r.path);n.html(r.getTemplate(n,i)||d),S.trace.traceUIViewFill(e.$uiView,n.html());var o=m(n.contents()),a=r.controller,s=y(r),u=b(r),c=i&&R(i);if(t[u]=c,a){var l=v(a,S.extend({},c,{$scope:t,$element:n}));s&&(t[s]=l,t[s][u]=c),n.data("$ngControllerController",l),n.children().data("$ngControllerController",l),H($,g,l,t,r)}if(S.isString(r.component))var f=S.kebobString(r.component),p=new RegExp("^(x-|data-)?"+f+"$","i"),h=t.$watch(function(){var e=[].slice.call(n[0].children).filter(function(e){return e&&e.tagName&&p.exec(e.tagName)});return e&&x.element(e).data("$"+r.component+"Controller")},function(e){e&&(H($,g,e,t,r),h())});o(t)}}}}k=["$uiRouter","$timeout",function(p,h){var d=p.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,t,n,r){var i,o=N(t),a=r[1]||r[0],s=null,u={},c=function(){return M(d,t,u)},l=T(n.uiSref);function f(){var e=c();s&&s(),a&&(s=a.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&n.$set(o.attr,e.href)}u.uiState=l.state,u.uiStateOpts=n.uiSrefOpts?e.$eval(n.uiSrefOpts):{},l.paramExpr&&(e.$watch(l.paramExpr,function(e){u.uiStateParams=S.extend({},e),f()},!0),u.uiStateParams=S.extend({},e.$eval(l.paramExpr))),f(),e.$on("$destroy",p.stateRegistry.onStatesChanged(f)),e.$on("$destroy",p.transitionService.onSuccess({},f)),o.clickable&&(i=L(t,d,h,o,c),V(t,e,i,u.uiStateOpts))}}}],O=["$uiRouter","$timeout",function(h,d){var m=h.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,e,r,t){var i,o=N(e),a=t[1]||t[0],s=null,u={},c=function(){return M(m,e,u)},l=["uiState","uiStateParams","uiStateOpts"],f=l.reduce(function(e,t){return e[t]=S.noop,e},{});function p(){var e=c();s&&s(),a&&(s=a.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&r.$set(o.attr,e.href)}l.forEach(function(t){u[t]=r[t]?n.$eval(r[t]):null,r.$observe(t,function(e){f[t](),f[t]=n.$watch(e,function(e){u[t]=e,p()},!0)})}),p(),n.$on("$destroy",h.stateRegistry.onStatesChanged(p)),n.$on("$destroy",h.transitionService.onSuccess({},p)),o.clickable&&(i=L(e,m,d,o,c),V(e,n,i,u.uiStateOpts))}}}],j=["$state","$stateParams","$interpolate","$uiRouter",function(d,e,m,v){return{restrict:"A",controller:["$scope","$element","$attrs",function(s,u,e){var c,r,t,n,i,l=[];c=m(e.uiSrefActiveEq||"",!1)(s);try{r=s.$eval(e.uiSrefActive)}catch(e){}function o(e){e.promise.then(h,S.noop)}function a(){f(r)}function f(e){S.isObject(e)&&(l=[],S.forEach(e,function(e,t){var n=function(e,t){var n=T(e);p(n.state,s.$eval(n.paramExpr),t)};S.isString(e)?n(e,t):S.isArray(e)&&S.forEach(e,function(e){n(e,t)})}))}function p(e,t,n){var r={state:d.get(e,A(u))||{name:e},params:t,activeClass:n};return l.push(r),function(){S.removeFrom(l)(r)}}function h(){var t=function(e){return e.split(/\s/).filter(S.identity)},e=function(e){return e.map(function(e){return e.activeClass}).map(t).reduce(S.unnestR,[])},n=e(l).concat(t(c)).reduce(S.uniqR,[]),r=e(l.filter(function(e){return d.includes(e.state.name,e.params)})),i=!!l.filter(function(e){return d.is(e.state.name,e.params)}).length?t(c):[],o=r.concat(i).reduce(S.uniqR,[]),a=n.filter(function(e){return!S.inArray(o,e)});s.$evalAsync(function(){o.forEach(function(e){return u.addClass(e)}),a.forEach(function(e){return u.removeClass(e)})})}f(r=r||m(e.uiSrefActive||"",!1)(s)),this.$$addStateInfo=function(e,t){if(!(S.isObject(r)&&0<l.length)){var n=p(e,t,r);return h(),n}},s.$on("$destroy",(t=v.stateRegistry.onStatesChanged(a),n=v.transitionService.onStart({},o),i=s.$on("$stateChangeSuccess",h),function(){t(),n(),i()})),v.globals.transition&&o(v.globals.transition),h()}]}}],x.module("ui.router.state").directive("uiSref",k).directive("uiSrefActive",j).directive("uiSrefActiveEq",j).directive("uiState",O),I.$inject=["$state"],D.$inject=["$state"],x.module("ui.router.state").filter("isState",I).filter("includedByState",D),P=["$view","$animate","$uiViewScroll","$interpolate","$q",function(i,o,$,y,b){var w={$cfg:{viewDecl:{$context:i._pluginapi._rootViewContext()}},$uiView:{}},_={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,t,g){return function(a,s,e){var u,c,l,f,t,p=e.onload||"",h=e.autoscroll,d={enter:function(e,t,n){2<x.version.minor?o.enter(e,null,t).then(n):o.enter(e,null,t,n)},leave:function(e,t){2<x.version.minor?o.leave(e).then(t):o.leave(e,t)}},n=s.inheritedData("$uiView")||w,m=y(e.uiView||e.name||"")(a)||"$default",v={$type:"ng1",id:_.count++,name:m,fqn:n.$uiView.fqn?n.$uiView.fqn+"."+m:m,config:null,configUpdated:function(e){if(e&&!(e instanceof E))return;if(t=f,n=e,t===n)return;var t,n;S.trace.traceUIViewConfigUpdated(v,e&&e.viewDecl&&e.viewDecl.$context),r(f=e)},get creationContext(){var e=S.parse("$cfg.viewDecl.$context")(n),t=S.parse("$uiView.creationContext")(n);return e||t}};function r(e){var t=a.$new(),n=b.defer(),r=b.defer(),i={$cfg:e,$uiView:v},o={$animEnter:n.promise,$animLeave:r.promise,$$animLeave:r};t.$emit("$viewContentLoading",m),c=g(t,function(e){e.data("$uiViewAnim",o),e.data("$uiView",i),d.enter(e,s,function(){n.resolve(),l&&l.$emit("$viewContentAnimationEnded"),(S.isDefined(h)&&!h||a.$eval(h))&&$(e)}),function(){if(u&&(S.trace.traceUIViewEvent("Removing (previous) el",u.data("$uiView")),u.remove(),u=null),l&&(S.trace.traceUIViewEvent("Destroying scope",v),l.$destroy(),l=null),c){var e=c.data("$uiViewAnim");S.trace.traceUIViewEvent("Animate out",e),d.leave(c,function(){e.$$animLeave.resolve(),u=null}),u=c,c=null}}()}),(l=t).$emit("$viewContentLoaded",e||f),l.$eval(p)}S.trace.traceUIViewEvent("Linking",v),s.data("$uiView",{$uiView:v}),r(),t=i.registerUIView(v),a.$on("$destroy",function(){S.trace.traceUIViewEvent("Destroying/Unregistering",v),t()})}}};return _}],q.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var U="function"==typeof x.module("ui.router").component,F=0;function H(r,e,c,t,n){!S.isFunction(c.$onInit)||n.viewDecl.component&&U||c.$onInit();var l=S.tail(n.path).state.self,i={bind:c};if(S.isFunction(c.uiOnParamsChanged)){var f=new S.ResolveContext(n.path).getResolvable("$transition$").data;t.$on("$destroy",e.onSuccess({},function(e){if(e!==f&&-1===e.exiting().indexOf(l)){var n=e.params("to"),r=e.params("from"),t=function(e){return e.paramSchema},i=e.treeChanges("to").map(t).reduce(S.unnestR,[]),o=e.treeChanges("from").map(t).reduce(S.unnestR,[]),a=i.filter(function(e){var t=o.indexOf(e);return-1===t||!o[t].type.equals(n[e.id],r[e.id])});if(a.length){var s=a.map(function(e){return e.id}),u=S.filter(n,function(e,t){return-1!==s.indexOf(t)});c.uiOnParamsChanged(u,e)}}},i))}if(S.isFunction(c.uiCanExit)){var o=F++,a="_uiCanExitIds",s=function(e){return!!e&&(e[a]&&!0===e[a][o]||s(e.redirectedFrom()))},u={exiting:l.name};t.$on("$destroy",e.onBefore(u,function(e){var t,n=e[a]=e[a]||{};return s(e)||(t=r.when(c.uiCanExit(e))).then(function(e){return n[o]=!1!==e}),t},i))}}x.module("ui.router.state").directive("uiView",P),x.module("ui.router.state").directive("uiView",q),x.module("ui.router.state").provider("$uiViewScroll",function(){var n=!1;this.useAnchorScroll=function(){n=!0},this.$get=["$anchorScroll","$timeout",function(e,t){return n?e:function(e){return t(function(){e[0].scrollIntoView()},0,!1)}}]});Object.keys(S).forEach(function(e){t[e]=S[e]}),t.core=S,t.default="ui.router",t.watchDigests=C,t.getLocals=R,t.getNg1ViewConfigFactory=r,t.ng1ViewsBuilder=i,t.Ng1ViewConfig=E,t.StateProvider=c,t.UrlRouterProvider=p,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==t?i(n,e("angular"),e("@uirouter/core")):"function"==typeof define&&define.amd?define(["exports","angular","@uirouter/core"],i):i((r=r||self)["@uirouter/angularjs"]={},r.angular,r["@uirouter/core"])},{"@uirouter/core":23,angular:87}],3:[function(m,e,v){(function(e){"use strict";Object.defineProperty(v,"__esModule",{value:!0});var u=m("./predicates"),c=m("./hof"),t=m("./coreservices");v.root="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this;var n=v.root.angular||{};function r(e,t){return-1!==e.indexOf(t)}function i(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),e}function o(e,t){return e.push(t),t}function a(e,t){var n={};for(var r in e)-1!==t.indexOf(r)&&(n[r]=e[r]);return n}function s(e,n,r){return r=r||(u.isArray(e)?[]:{}),v.forEach(e,function(e,t){return r[t]=n(e,t)}),r}function l(e,t){return e.push(t),e}function f(n,r){return void 0===r&&(r="assert failure"),function(e){var t=n(e);if(!t)throw new Error(u.isFunction(r)?r(e):r);return t}}function p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return[];for(var n=e.reduce(function(e,t){return Math.min(t.length,e)},9007199254740991),r=[],i=function(t){switch(e.length){case 1:r.push([e[0][t]]);break;case 2:r.push([e[0][t],e[1][t]]);break;case 3:r.push([e[0][t],e[1][t],e[2][t]]);break;case 4:r.push([e[0][t],e[1][t],e[2][t],e[3][t]]);break;default:r.push(e.map(function(e){return e[t]}))}},o=0;o<n;o++)i(o);return r}function h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var r=Object.keys(n),i=0;i<r.length;i++)e[r[i]]=n[r[i]]}return e}function d(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n=typeof e;if(n!==typeof t||"object"!==n)return!1;var r,i,o=[e,t];if(c.all(u.isArray)(o))return i=t,(r=e).length===i.length&&p(r,i).reduce(function(e,t){return e&&d(t[0],t[1])},!0);if(c.all(u.isDate)(o))return e.getTime()===t.getTime();if(c.all(u.isRegExp)(o))return e.toString()===t.toString();if(c.all(u.isFunction)(o))return!0;if([u.isFunction,u.isArray,u.isDate,u.isRegExp].map(c.any).reduce(function(e,t){return e||!!t(o)},!1))return!1;var a={};for(var s in e){if(!d(e[s],t[s]))return!1;a[s]=!0}for(var s in t)if(!a[s])return!1;return!0}v.fromJson=n.fromJson||JSON.parse.bind(JSON),v.toJson=n.toJson||JSON.stringify.bind(JSON),v.forEach=n.forEach||function(t,n,e){if(u.isArray(t))return t.forEach(n,e);Object.keys(t).forEach(function(e){return n(t[e],e)})},v.extend=Object.assign||h,v.equals=n.equals||d,v.identity=function(e){return e},v.noop=function(){},v.createProxyFunctions=function(t,r,n,e,i){void 0===i&&(i=!1);var o=function(e){return t()[e].bind(n())};return(e=e||Object.keys(t())).reduce(function(e,t){var n;return e[t]=i?(n=t,function(){return r[n]=o(n),r[n].apply(null,arguments)}):o(t),e},r)},v.inherit=function(e,t){return v.extend(Object.create(e),t)},v.inArray=c.curry(r),v._inArray=r,v.removeFrom=c.curry(i),v._removeFrom=i,v.pushTo=c.curry(o),v._pushTo=o,v.deregAll=function(t){return t.slice().forEach(function(e){"function"==typeof e&&e(),v.removeFrom(t,e)})},v.defaults=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=v.extend.apply(void 0,[{}].concat(t.reverse()));return v.extend(r,a(e||{},Object.keys(r)))},v.mergeR=function(e,t){return v.extend(e,t)},v.ancestors=function(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n},v.pick=a,v.omit=function(n,e){return Object.keys(n).filter(c.not(v.inArray(e))).reduce(function(e,t){return e[t]=n[t],e},{})},v.pluck=function(e,t){return s(e,c.prop(t))},v.filter=function(e,n){var t=u.isArray(e),r=t?[]:{},i=t?function(e){return r.push(e)}:function(e,t){return r[t]=e};return v.forEach(e,function(e,t){n(e,t)&&i(e,t)}),r},v.find=function(e,n){var r;return v.forEach(e,function(e,t){r||n(e,t)&&(r=e)}),r},v.mapObj=s,v.map=s,v.values=function(t){return Object.keys(t).map(function(e){return t[e]})},v.allTrueR=function(e,t){return e&&t},v.anyTrueR=function(e,t){return e||t},v.unnestR=function(e,t){return e.concat(t)},v.flattenR=function(e,t){return u.isArray(t)?e.concat(t.reduce(v.flattenR,[])):l(e,t)},v.pushR=l,v.uniqR=function(e,t){return v.inArray(e,t)?e:l(e,t)},v.unnest=function(e){return e.reduce(v.unnestR,[])},v.flatten=function(e){return e.reduce(v.flattenR,[])},v.assertPredicate=f,v.assertMap=f,v.assertFn=f,v.pairs=function(t){return Object.keys(t).map(function(e){return[e,t[e]]})},v.arrayTuples=p,v.applyPairs=function(e,t){var n,r;if(u.isArray(t)&&(n=t[0],r=t[1]),!u.isString(n))throw new Error("invalid parameters to applyPairs");return e[n]=r,e},v.tail=function(e){return e.length&&e[e.length-1]||void 0},v.copy=function(e,t){return t&&Object.keys(t).forEach(function(e){return delete t[e]}),t||(t={}),v.extend(t,e)},v._extend=h,v.silenceUncaughtInPromise=function(e){return e.catch(function(e){return 0})&&e},v.silentRejection=function(e){return v.silenceUncaughtInPromise(t.services.$q.reject(e))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./coreservices":4,"./hof":6,"./predicates":8}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.makeStub=function(r,e){return e.reduce(function(e,t){return e[t]=(n=r+"."+t+"()",function(){throw new Error("No implementation for "+n+". The framework specific code did not implement this method.")}),e;var n},{})};var r={$q:void 0,$injector:void 0};n.services=r},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(e){this.text=e,this.glob=e.split(".");var t=this.text.split(".").map(function(e){return"**"===e?"(?:|(?:\\.[^.]*)*)":"*"===e?"\\.[^.]*":"\\."+e}).join("");this.regexp=new RegExp("^"+t+"$")}return t.is=function(e){return!!/[!,*]+/.exec(e)},t.fromString=function(e){return t.is(e)?new t(e):null},t.prototype.matches=function(e){return this.regexp.test("."+e)},t}();n.Glob=r},{}],6:[function(e,t,n){"use strict";function r(n){var e=[].slice.apply(arguments,[1]),r=n.length;return function e(t){return t.length>=r?n.apply(null,t):function(){return e(t.concat([].slice.apply(arguments)))}}(e)}function i(){var n=arguments,r=n.length-1;return function(){for(var e=r,t=n[r].apply(this,arguments);e--;)t=n[e].call(this,t);return t}}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.apply(null,[].slice.call(arguments).reverse())}Object.defineProperty(n,"__esModule",{value:!0}),n.curry=r,n.compose=i,n.pipe=o,n.prop=function(t){return function(e){return e&&e[t]}},n.propEq=r(function(e,t,n){return n&&n[e]===t}),n.parse=function(e){return o.apply(null,e.split(".").map(n.prop))},n.not=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!n.apply(null,e)}},n.and=function(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(null,e)&&r.apply(null,e)}},n.or=function(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(null,e)||r.apply(null,e)}},n.all=function(n){return function(e){return e.reduce(function(e,t){return e&&!!n(t)},!0)}},n.any=function(n){return function(e){return e.reduce(function(e,t){return e||!!n(t)},!1)}},n.is=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},n.eq=function(t){return function(e){return t===e}},n.val=function(e){return function(){return e}},n.invoke=function(t,n){return function(e){return e[t].apply(e,n)}},n.pattern=function(n){return function(e){for(var t=0;t<n.length;t++)if(n[t][0](e))return n[t][1](e)}}},{}],7:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./common")),r(e("./coreservices")),r(e("./glob")),r(e("./hof")),r(e("./predicates")),r(e("./queue")),r(e("./strings")),r(e("./trace"))},{"./common":3,"./coreservices":4,"./glob":5,"./hof":6,"./predicates":8,"./queue":9,"./strings":10,"./trace":11}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("./hof"),n=Object.prototype.toString,o=function(t){return function(e){return typeof e===t}};r.isUndefined=o("undefined"),r.isDefined=i.not(r.isUndefined),r.isNull=function(e){return null===e},r.isNullOrUndefined=i.or(r.isNull,r.isUndefined),r.isFunction=o("function"),r.isNumber=o("number"),r.isString=o("string"),r.isObject=function(e){return null!==e&&"object"==typeof e},r.isArray=Array.isArray,r.isDate=function(e){return"[object Date]"===n.call(e)},r.isRegExp=function(e){return"[object RegExp]"===n.call(e)},r.isInjectable=function(e){if(r.isArray(e)&&e.length){var t=e.slice(0,-1),n=e.slice(-1);return!(t.filter(i.not(r.isString)).length||n.filter(i.not(r.isFunction)).length)}return r.isFunction(e)},r.isPromise=i.and(r.isObject,i.pipe(i.prop("then"),r.isFunction))},{"./hof":6}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./common"),i=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=null),this._items=e,this._limit=t,this._evictListeners=[],this.onEvict=r.pushTo(this._evictListeners)}return e.prototype.enqueue=function(e){var t=this._items;return t.push(e),this._limit&&t.length>this._limit&&this.evict(),e},e.prototype.evict=function(){var t=this._items.shift();return this._evictListeners.forEach(function(e){return e(t)}),t},e.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},e.prototype.clear=function(){var e=this._items;return this._items=[],e},e.prototype.size=function(){return this._items.length},e.prototype.remove=function(e){var t=this._items.indexOf(e);return-1<t&&this._items.splice(t,1)[0]},e.prototype.peekTail=function(){return this._items[this._items.length-1]},e.prototype.peekHead=function(){if(this.size())return this._items[0]},e}();n.Queue=i},{"./common":3}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./predicates"),i=e("../transition/rejectFactory"),o=e("./common"),a=e("./hof");function s(e){var t=u(e),n=t.match(/^(function [^ ]+\([^)]*\))/),r=n?n[1]:t,i=e.name||"";return i&&r.match(/function \(/)?"function "+i+r.substr(9):r}function u(e){var t=r.isArray(e)?e.slice(-1)[0]:e;return t&&t.toString()||"undefined"}n.maxLength=function(e,t){return t.length<=e?t:t.substr(0,e-3)+"..."},n.padString=function(e,t){for(;t.length<e;)t+=" ";return t},n.kebobString=function(e){return e.replace(/^([A-Z])/,function(e){return e.toLowerCase()}).replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})},n.functionToString=s,n.fnToString=u;var c=i.Rejection.isRejectionPromise,l=a.pattern([[r.isUndefined,a.val("undefined")],[r.isNull,a.val("null")],[r.isPromise,a.val("[Promise]")],[c,function(e){return e._transitionRejection.toString()}],[function(e){return r.isObject(e)&&!r.isArray(e)&&e.constructor!==Object&&r.isFunction(e.toString)},function(e){return e.toString()}],[r.isInjectable,s],[a.val(!0),o.identity]]);n.stringify=function(e){var t=[];function n(e){if(r.isObject(e)){if(-1!==t.indexOf(e))return"[circular ref]";t.push(e)}return l(e)}return r.isUndefined(e)?n(e):JSON.stringify(e,function(e,t){return n(t)}).replace(/\\"/g,'"')},n.beforeAfterSubstr=function(n){return function(e){if(!e)return["",""];var t=e.indexOf(n);return-1===t?[e,""]:[e.substr(0,t),e.substr(t+1)]}},n.hostRegex=new RegExp("^(?:[a-z]+:)?//[^/]+/"),n.stripLastPathElement=function(e){return e.replace(/\/[^/]*$/,"")},n.splitHash=n.beforeAfterSubstr("#"),n.splitQuery=n.beforeAfterSubstr("?"),n.splitEqual=n.beforeAfterSubstr("="),n.trimHashVal=function(e){return e?e.replace(/^#/,""):""},n.splitOnDelim=function(e){var t=new RegExp("("+e+")","g");return function(e){return e.split(t).filter(o.identity)}},n.joinNeighborsR=function(e,t){return r.isString(o.tail(e))&&r.isString(t)?e.slice(0,-1).concat(o.tail(e)+t):o.pushR(e,t)}},{"../transition/rejectFactory":50,"./common":3,"./hof":6,"./predicates":8}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("../common/hof"),r=e("../common/predicates"),s=e("./strings");function i(e){if(!e)return"ui-view (defunct)";var t=e.creationContext?e.creationContext.name||"(root)":"(none)";return"[ui-view#"+e.id+" "+e.$type+":"+e.fqn+" ("+e.name+"@"+t+")]"}function o(e){return r.isNumber(e)?u[e]:u[u[e]]}var u,c,l=Function.prototype.bind.call(console.log,console),f=r.isFunction(console.table)?console.table.bind(console):l.bind(console);(c=u||(u={}))[c.RESOLVE=0]="RESOLVE",c[c.TRANSITION=1]="TRANSITION",c[c.HOOK=2]="HOOK",c[c.UIVIEW=3]="UIVIEW",c[c.VIEWCONFIG=4]="VIEWCONFIG",n.Category=u;var p=a.parse("$id"),h=a.parse("router.$id"),d=function(e){return"Transition #"+p(e)+"-"+h(e)},m=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(t,e){var n=this;e.length||(e=Object.keys(u).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)}).map(function(e){return u[e]})),e.map(o).forEach(function(e){return n._enabled[e]=t})},e.prototype.enable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!0,e)},e.prototype.disable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!1,e)},e.prototype.enabled=function(e){return!!this._enabled[o(e)]},e.prototype.traceTransitionStart=function(e){this.enabled(u.TRANSITION)&&console.log(d(e)+": Started  -> "+s.stringify(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(u.TRANSITION)&&console.log(d(e)+": Ignored  <> "+s.stringify(e))},e.prototype.traceHookInvocation=function(e,t,n){if(this.enabled(u.HOOK)){var r=a.parse("traceData.hookType")(n)||"internal",i=a.parse("traceData.context.state.name")(n)||a.parse("traceData.context")(n)||"unknown",o=s.functionToString(e.registeredHook.callback);console.log(d(t)+":   Hook -> "+r+" context: "+i+", "+s.maxLength(200,o))}},e.prototype.traceHookResult=function(e,t,n){this.enabled(u.HOOK)&&console.log(d(t)+":   <- Hook returned: "+s.maxLength(200,s.stringify(e)))},e.prototype.traceResolvePath=function(e,t,n){this.enabled(u.RESOLVE)&&console.log(d(n)+":         Resolving "+e+" ("+t+")")},e.prototype.traceResolvableResolved=function(e,t){this.enabled(u.RESOLVE)&&console.log(d(t)+":               <- Resolved  "+e+" to: "+s.maxLength(200,s.stringify(e.data)))},e.prototype.traceError=function(e,t){this.enabled(u.TRANSITION)&&console.log(d(t)+": <- Rejected "+s.stringify(t)+", reason: "+e)},e.prototype.traceSuccess=function(e,t){this.enabled(u.TRANSITION)&&console.log(d(t)+": <- Success  "+s.stringify(t)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,t,n){void 0===n&&(n=""),this.enabled(u.UIVIEW)&&console.log("ui-view: "+s.padString(30,e)+" "+i(t)+n)},e.prototype.traceUIViewConfigUpdated=function(e,t){this.enabled(u.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+t+"'")},e.prototype.traceUIViewFill=function(e,t){this.enabled(u.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+s.maxLength(200,t))},e.prototype.traceViewSync=function(e){if(this.enabled(u.VIEWCONFIG)){var a="uiview component fqn",t=e.map(function(e){var t,n=e.uiView,r=e.viewConfig,i=n&&n.fqn,o=r&&r.viewDecl.$context.name+": ("+r.viewDecl.$name+")";return(t={})[a]=i,t["view config state (view name)"]=o,t}).sort(function(e,t){return(e[a]||"").localeCompare(t[a]||"")});f(t)}},e.prototype.traceViewServiceEvent=function(e,t){var n,r,i;this.enabled(u.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+(r=(n=t).viewDecl,i=r.$context.name||"(root)","[View#"+n.$id+" from '"+i+"' state]: target ui-view: '"+r.$uiViewName+"@"+r.$uiViewContextAnchor+"'"))},e.prototype.traceViewServiceUIViewEvent=function(e,t){this.enabled(u.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+i(t))},e}(),v=new(n.Trace=m);n.trace=v},{"../common/hof":6,"../common/predicates":8,"./strings":10}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./params/stateParams"),i=e("./common/queue"),o=function(){function e(){this.params=new r.StateParams,this.lastStartedTransitionId=-1,this.transitionHistory=new i.Queue([],1),this.successfulTransitions=new i.Queue([],1)}return e.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},e}();n.UIRouterGlobals=o},{"./common/queue":9,"./params/stateParams":29}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../transition/transition"),i=e("../router"),o=e("../resolve"),a=e("../common");function s(t){t.addResolvable(o.Resolvable.fromData(i.UIRouter,t.router),""),t.addResolvable(o.Resolvable.fromData(r.Transition,t),""),t.addResolvable(o.Resolvable.fromData("$transition$",t),""),t.addResolvable(o.Resolvable.fromData("$stateParams",t.params()),""),t.entering().forEach(function(e){t.addResolvable(o.Resolvable.fromData("$state$",e),e)})}n.registerAddCoreResolvables=function(e){return e.onCreate({},s)};var u=["$transition$",r.Transition],c=a.inArray(u);n.treeChangesCleanup=function(e){var t=a.values(e.treeChanges()).reduce(a.unnestR,[]).reduce(a.uniqR,[]),n=function(e){return c(e.token)?o.Resolvable.fromData(e.token,null):e};t.forEach(function(e){e.resolvables=e.resolvables.map(n)})}},{"../common":7,"../resolve":33,"../router":37,"../transition/transition":51}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/trace"),i=e("../transition/rejectFactory");function o(e){var t=e._ignoredReason();if(t){r.trace.traceTransitionIgnored(e);var n=e.router.globals.transition;return"SameAsCurrent"===t&&n&&n.abort(),i.Rejection.ignored().toPromise()}}n.registerIgnoredTransitionHook=function(e){return e.onBefore({},o,{priority:-9999})}},{"../common/trace":11,"../transition/rejectFactory":50}],15:[function(e,t,n){"use strict";function r(e){if(!e.valid())throw new Error(e.error().toString())}Object.defineProperty(n,"__esModule",{value:!0}),n.registerInvalidTransitionHook=function(e){return e.onBefore({},r,{priority:-1e4})}},{}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../common/coreservices"),r=function(a){var s=a.router;var e=a.entering().filter(function(e){return!!e.$$state().lazyLoad}).map(function(e){return o(a,e)});return i.services.$q.all(e).then(function(){if("url"!==a.originalTransition().options().source){var e=a.targetState();return s.stateService.target(e.identifier(),e.params(),e.options())}var t=s.urlService,n=t.match(t.parts()),r=n&&n.rule;if(r&&"STATE"===r.type){var i=r.state,o=n.match;return s.stateService.target(i,o,a.options())}s.urlService.sync()})};function o(t,n){var r=n.$$state().lazyLoad,e=r._promise;if(!e){e=r._promise=i.services.$q.when(r(t,n)).then(function(e){e&&Array.isArray(e.states)&&e.states.forEach(function(e){return t.router.stateRegistry.register(e)});return e}).then(function(e){return delete n.lazyLoad,delete n.$$state().lazyLoad,delete r._promise,e},function(e){return delete r._promise,i.services.$q.reject(e)})}return e}n.registerLazyLoadHook=function(e){return e.onBefore({entering:function(e){return!!e.lazyLoad}},r)},n.lazyLoadState=o},{"../common/coreservices":4}],17:[function(e,t,n){"use strict";function r(n){return function(e,t){return(0,t.$$state()[n])(e,t)}}Object.defineProperty(n,"__esModule",{value:!0});var i=r("onExit");n.registerOnExitHook=function(e){return e.onExit({exiting:function(e){return!!e.onExit}},i)};var o=r("onRetain");n.registerOnRetainHook=function(e){return e.onRetain({retained:function(e){return!!e.onRetain}},o)};var a=r("onEnter");n.registerOnEnterHook=function(e){return e.onEnter({entering:function(e){return!!e.onEnter}},a)}},{}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../common/predicates"),o=e("../common/coreservices"),a=e("../state/targetState"),r=function(t){var e=t.to().redirectTo;if(e){var n=t.router.stateService;return i.isFunction(e)?o.services.$q.when(e(t)).then(r):r(e)}function r(e){if(e)return e instanceof a.TargetState?e:i.isString(e)?n.target(e,t.params(),t.options()):e.state||e.params?n.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}};n.registerRedirectToHook=function(e){return e.onStart({to:function(e){return!!e.redirectTo}},r)}},{"../common/coreservices":4,"../common/predicates":8,"../state/targetState":45}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/common"),i=e("../resolve/resolveContext"),o=e("../common/hof");n.RESOLVE_HOOK_PRIORITY=1e3;var a=function(e){return new i.ResolveContext(e.treeChanges().to).resolvePath("EAGER",e).then(r.noop)};n.registerEagerResolvePath=function(e){return e.onStart({},a,{priority:n.RESOLVE_HOOK_PRIORITY})};var s=function(e,t){return new i.ResolveContext(e.treeChanges().to).subContext(t.$$state()).resolvePath("LAZY",e).then(r.noop)};n.registerLazyResolveState=function(e){return e.onEnter({entering:o.val(!0)},s,{priority:n.RESOLVE_HOOK_PRIORITY})};var u=function(e){return new i.ResolveContext(e.treeChanges().to).resolvePath("LAZY",e).then(r.noop)};n.registerResolveRemaining=function(e){return e.onFinish({},u,{priority:n.RESOLVE_HOOK_PRIORITY})}},{"../common/common":3,"../common/hof":6,"../resolve/resolveContext":36}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/common"),i=function(e){var t=e.router.globals,n=function(){t.transition===e&&(t.transition=null)};e.onSuccess({},function(){t.successfulTransitions.enqueue(e),t.$current=e.$to(),t.current=t.$current.self,r.copy(e.params(),t.params)},{priority:1e4}),e.promise.then(n,n)};n.registerUpdateGlobalState=function(e){return e.onCreate({},i)}},{"../common/common":3}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){var t=e.options(),n=e.router.stateService,r=e.router.urlRouter;if("url"!==t.source&&t.location&&n.$current.navigable){var i={replace:"replace"===t.location};r.push(n.$current.navigable.url,n.params,i)}r.update(!0)};n.registerUpdateUrl=function(e){return e.onSuccess({},r,{priority:9999})}},{}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/common"),i=e("../common/coreservices"),o=function(e){var t=i.services.$q,n=e.views("entering");if(n.length)return t.all(n.map(function(e){return t.when(e.load())})).then(r.noop)};n.registerLoadEnteringViews=function(e){return e.onFinish({},o)};var a=function(e){var t=e.views("entering"),n=e.views("exiting");if(t.length||n.length){var r=e.router.viewService;n.forEach(function(e){return r.deactivateViewConfig(e)}),t.forEach(function(e){return r.activateViewConfig(e)}),r.sync()}};n.registerActivateViews=function(e){return e.onSuccess({},a)}},{"../common/common":3,"../common/coreservices":4}],23:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./common/index")),r(e("./params/index")),r(e("./path/index")),r(e("./resolve/index")),r(e("./state/index")),r(e("./transition/index")),r(e("./url/index")),r(e("./view/index")),r(e("./globals")),r(e("./router")),r(e("./vanilla")),r(e("./interface"))},{"./common/index":7,"./globals":12,"./interface":24,"./params/index":25,"./path/index":30,"./resolve/index":33,"./router":37,"./state/index":38,"./transition/index":48,"./url/index":55,"./vanilla":63,"./view/index":75}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.dispose=function(e){},e}();n.UIRouterPluginBase=r},{}],25:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./param")),r(e("./paramTypes")),r(e("./stateParams")),r(e("./paramType"))},{"./param":26,"./paramType":27,"./paramTypes":28,"./stateParams":29}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m,r,v=e("../common/common"),g=e("../common/hof"),$=e("../common/predicates"),o=e("../common/coreservices"),y=e("./paramType"),i=Object.prototype.hasOwnProperty,s=function(e){return 0===["value","type","squash","array","dynamic"].filter(i.bind(e||{})).length};function b(e,t,n){var r=!1===n.reloadOnSearch&&t===m.SEARCH||void 0,i=v.find([n.dynamic,r],$.isDefined),o=$.isDefined(i)?{dynamic:i}:{},a=function(e){function t(){return e.value}e=s(e)?{value:e}:e,t.__cacheable=!0;var n=$.isInjectable(e.value)?e.value:t;return v.extend(e,{$$fn:n})}(n&&n.params&&n.params[e]);return v.extend(o,a)}(r=m||(m={}))[r.PATH=0]="PATH",r[r.SEARCH=1]="SEARCH",r[r.CONFIG=2]="CONFIG",n.DefType=m;var a=function(){function r(e,t,n,r,i){var o=b(e,n,i);t=function(e,t,n,r,i){if(e.type&&t&&"string"!==t.name)throw new Error("Param '"+r+"' has two type configurations.");if(e.type&&t&&"string"===t.name&&i.type(e.type))return i.type(e.type);if(t)return t;if(e.type)return e.type instanceof y.ParamType?e.type:i.type(e.type);var o=n===m.CONFIG?"any":n===m.PATH?"path":n===m.SEARCH?"query":"string";return i.type(o)}(o,t,n,e,r.paramTypes);var a,s,u=(a={array:n===m.SEARCH&&"auto"},s=e.match(/\[\]$/)?{array:!0}:{},v.extend(a,s,o).array);t=u?t.$asArray(u,n===m.SEARCH):t;var c=void 0!==o.value||n===m.SEARCH,l=$.isDefined(o.dynamic)?!!o.dynamic:!!t.dynamic,f=$.isDefined(o.raw)?!!o.raw:!!t.raw,p=function(e,t,n){var r=e.squash;if(!t||!1===r)return!1;if(!$.isDefined(r)||null==r)return n;if(!0===r||$.isString(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}(o,c,r.defaultSquashPolicy()),h=function(e,t,n,r){var i=[{from:"",to:n||t?void 0:""},{from:null,to:n||t?void 0:""}],o=$.isArray(e.replace)?e.replace:[];$.isString(r)&&o.push({from:r,to:void 0});var a=v.map(o,g.prop("from"));return v.filter(i,function(e){return-1===a.indexOf(e.from)}).concat(o)}(o,u,c,p),d=$.isDefined(o.inherit)?!!o.inherit:!!t.inherit;v.extend(this,{id:e,type:t,location:n,isOptional:c,dynamic:l,raw:f,squash:p,replace:h,inherit:d,array:u,config:o})}return r.values=function(e,t){void 0===t&&(t={});for(var n={},r=0,i=e;r<i.length;r++){var o=i[r];n[o.id]=o.value(t[o.id])}return n},r.changed=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e.filter(function(e){return!e.type.equals(t[e.id],n[e.id])})},r.equals=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),0===r.changed(e,t,n).length},r.validates=function(e,t){return void 0===t&&(t={}),e.map(function(e){return e.validates(t[e.id])}).reduce(v.allTrueR,!0)},r.prototype.isDefaultValue=function(e){return this.isOptional&&this.type.equals(this.value(),e)},r.prototype.value=function(e){var i=this;return e=function(e){for(var t=0,n=i.replace;t<n.length;t++){var r=n[t];if(r.from===e)return r.to}return e}(e),$.isUndefined(e)?function(){if(i._defaultValueCache)return i._defaultValueCache.defaultValue;if(!o.services.$injector)throw new Error("Injectable functions cannot be called at configuration time");var e=o.services.$injector.invoke(i.config.$$fn);if(null!=e&&!i.type.is(e))throw new Error("Default value ("+e+") for parameter '"+i.id+"' is not an instance of ParamType ("+i.type.name+")");return i.config.$$fn.__cacheable&&(i._defaultValueCache={defaultValue:e}),e}():this.type.$normalize(e)},r.prototype.isSearch=function(){return this.location===m.SEARCH},r.prototype.validates=function(e){if(($.isUndefined(e)||null===e)&&this.isOptional)return!0;var t=this.type.$normalize(e);if(!this.type.is(t))return!1;var n=this.type.encode(t);return!($.isString(n)&&!this.type.pattern.exec(n))},r.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},r}();n.Param=a},{"../common/common":3,"../common/coreservices":4,"../common/hof":6,"../common/predicates":8,"./paramType":27}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=e("../common/common"),l=e("../common/predicates"),r=function(){function e(e){this.pattern=/.*/,this.inherit=!0,c.extend(this,e)}return e.prototype.is=function(e,t){return!0},e.prototype.encode=function(e,t){return e},e.prototype.decode=function(e,t){return e},e.prototype.equals=function(e,t){return e==t},e.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},e.prototype.toString=function(){return"{ParamType:"+this.name+"}"},e.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},e.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},e}();function i(r,o){var i=this;function a(e){return l.isArray(e)?e:l.isDefined(e)?[e]:[]}function s(r,i){return function(e){if(l.isArray(e)&&0===e.length)return e;var t=a(e),n=c.map(t,r);return!0===i?0===c.filter(n,function(e){return!e}).length:function(e){switch(e.length){case 0:return;case 1:return"auto"===o?e[0]:e;default:return e}}(n)}}function u(o){return function(e,t){var n=a(e),r=a(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!o(n[i],r[i]))return!1;return!0}}["encode","decode","equals","$normalize"].forEach(function(e){var t=r[e].bind(r),n="equals"===e?u:s;i[e]=n(t)}),c.extend(this,{dynamic:r.dynamic,name:r.name,pattern:r.pattern,inherit:r.inherit,raw:r.raw,is:s(r.is.bind(r),!0),$arrayMode:o})}n.ParamType=r},{"../common/common":3,"../common/predicates":8}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=e("../common/common"),o=e("../common/predicates"),a=e("../common/hof"),s=e("../common/coreservices"),u=e("./paramType"),c=function(){function e(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=i.pick(e.prototype,["hash","string","query","path","int","bool","date","json","any"]);this.types=i.inherit(i.map(this.defaultTypes,function(e,t){return new u.ParamType(i.extend({name:t},e))}),{})}return e.prototype.dispose=function(){this.types={}},e.prototype.type=function(e,t,n){if(!o.isDefined(t))return this.types[e];if(this.types.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return this.types[e]=new u.ParamType(i.extend({name:e},t)),n&&(this.typeQueue.push({name:e,def:n}),this.enqueue||this._flushTypeQueue()),this},e.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var e=this.typeQueue.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");i.extend(this.types[e.name],s.services.$injector.invoke(e.def))}},e}();n.ParamTypes=c,r=function(e){var t=function(e){return null!=e?e.toString():e},n={encode:t,decode:t,is:a.is(String),pattern:/.*/,equals:function(e,t){return e==t}};return i.extend({},n,e)},i.extend(c.prototype,{string:r({}),path:r({pattern:/[^/]*/}),query:r({}),hash:r({inherit:!1}),int:r({decode:function(e){return parseInt(e,10)},is:function(e){return!o.isNullOrUndefined(e)&&this.decode(e.toString())===e},pattern:/-?\d+/}),bool:r({encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:a.is(Boolean),pattern:/0|1/}),date:r({encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):void 0},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):void 0},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(n,r){return["getFullYear","getMonth","getDate"].reduce(function(e,t){return e&&n[t]()===r[t]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:r({encode:i.toJson,decode:i.fromJson,is:a.is(Object),equals:i.equals,pattern:/[^/]*/}),any:r({encode:i.identity,decode:i.identity,is:function(){return!0},equals:i.equals})})},{"../common/common":3,"../common/coreservices":4,"../common/hof":6,"../common/predicates":8,"./paramType":27}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=e("../common/common"),r=function(){function e(e){void 0===e&&(e={}),c.extend(this,e)}return e.prototype.$inherit=function(e,t,n){var r,i=c.ancestors(t,n),o={},a=[];for(var s in i)if(i[s]&&i[s].params&&(r=Object.keys(i[s].params)).length)for(var u in r)0<=a.indexOf(r[u])||(a.push(r[u]),o[r[u]]=this[r[u]]);return c.extend({},o,e)},e}();n.StateParams=r},{"../common/common":3}],30:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./pathNode")),r(e("./pathUtils"))},{"./pathNode":31,"./pathUtils":32}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../common/common"),o=e("../common/hof"),a=e("../params/param"),r=function(){function r(e){if(e instanceof r){var t=e;this.state=t.state,this.paramSchema=t.paramSchema.slice(),this.paramValues=i.extend({},t.paramValues),this.resolvables=t.resolvables.slice(),this.views=t.views&&t.views.slice()}else{var n=e;this.state=n,this.paramSchema=n.parameters({inherit:!1}),this.paramValues={},this.resolvables=n.resolvables.map(function(e){return e.clone()})}}return r.prototype.clone=function(){return new r(this)},r.prototype.applyRawParams=function(r){return this.paramValues=this.paramSchema.reduce(function(e,t){return i.applyPairs(e,[(n=t).id,n.value(r[n.id])]);var n},{}),this},r.prototype.parameter=function(e){return i.find(this.paramSchema,o.propEq("id",e))},r.prototype.equals=function(e,t){var n=this.diff(e,t);return n&&0===n.length},r.prototype.diff=function(e,t){if(this.state!==e.state)return!1;var n=t?t(this):this.paramSchema;return a.Param.changed(n,this.paramValues,e.paramValues)},r.clone=function(e){return e.clone()},r}();n.PathNode=r},{"../common/common":3,"../common/hof":6,"../params/param":26}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var f=e("../common/common"),h=e("../common/hof"),r=e("../state/targetState"),d=e("./pathNode"),i=function(){function p(){}return p.makeTargetState=function(e,t){var n=f.tail(t).state;return new r.TargetState(e,n,t.map(h.prop("paramValues")).reduce(f.mergeR,{}),{})},p.buildPath=function(e){var t=e.params();return e.$state().path.map(function(e){return new d.PathNode(e).applyRawParams(t)})},p.buildToPath=function(e,t){var n=p.buildPath(t);return t.options().inherit?p.inheritParams(e,n,Object.keys(t.params())):n},p.applyViewConfigs=function(i,o,t){o.filter(function(e){return f.inArray(t,e.state)}).forEach(function(t){var e=f.values(t.state.views||{}),n=p.subPath(o,function(e){return e===t}),r=e.map(function(e){return i.createViewConfig(n,e)});t.views=r.reduce(f.unnestR,[])})},p.inheritParams=function(u,e,c){void 0===c&&(c=[]);var l=u.map(function(e){return e.paramSchema}).reduce(f.unnestR,[]).filter(function(e){return!e.inherit}).map(h.prop("id"));return e.map(function(e){var t=f.extend({},e&&e.paramValues),n=f.pick(t,c);t=f.omit(t,c);var r,i,o,a=f.omit((r=u,i=e.state,o=f.find(r,h.propEq("state",i)),f.extend({},o&&o.paramValues)||{}),l),s=f.extend(t,a,n);return new d.PathNode(e.state).applyRawParams(s)})},p.treeChanges=function(e,r,t){for(var n,i,o,a,s,u,c=Math.min(e.length,r.length),l=0;l<c&&e[l].state!==t&&(n=e[l],i=r[l],n.equals(i,p.nonDynamicParams));)l++;a=(o=e).slice(0,l),s=o.slice(l);var f=a.map(function(e,t){var n=e.clone();return n.paramValues=r[t].paramValues,n});return u=r.slice(l),{from:o,to:f.concat(u),retained:a,retainedWithToParams:f,exiting:s,entering:u}},p.matching=function(e,t,i){var o=!1;return f.arrayTuples(e,t).reduce(function(e,t){var n=t[0],r=t[1];return(o=o||!n.equals(r,i))?e:e.concat(n)},[])},p.equals=function(e,t,n){return e.length===t.length&&p.matching(e,t,n).length===e.length},p.subPath=function(e,t){var n=f.find(e,t),r=e.indexOf(n);return-1===r?void 0:e.slice(0,r+1)},p.nonDynamicParams=function(e){return e.state.parameters({inherit:!1}).filter(function(e){return!e.dynamic})},p.paramValues=function(e){return e.reduce(function(e,t){return f.extend(e,t.paramValues)},{})},p}();n.PathUtils=i},{"../common/common":3,"../common/hof":6,"../state/targetState":45,"./pathNode":31}],33:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./interface")),r(e("./resolvable")),r(e("./resolveContext"))},{"./interface":34,"./resolvable":35,"./resolveContext":36}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.resolvePolicies={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}}},{}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("../common/common"),u=e("../common/coreservices"),c=e("../common/trace"),n=e("../common/strings"),l=e("../common/predicates"),f=e("../common/predicates");r.defaultResolvePolicy={when:"LAZY",async:"WAIT"};var i=function(){function a(e,t,n,r,i){if(this.resolved=!1,this.promise=void 0,e instanceof a)s.extend(this,e);else if(l.isFunction(t)){if(f.isNullOrUndefined(e))throw new Error("new Resolvable(): token argument is required");if(!l.isFunction(t))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=r,this.resolveFn=t,this.deps=n||[],this.data=i,this.resolved=void 0!==i,this.promise=this.resolved?u.services.$q.when(this.data):void 0}else if(l.isObject(e)&&e.token&&(e.hasOwnProperty("resolveFn")||e.hasOwnProperty("data"))){var o=e;return new a(o.token,o.resolveFn,o.deps,o.policy,o.data)}}return a.prototype.getPolicy=function(e){var t=this.policy||{},n=e&&e.resolvePolicy||{};return{when:t.when||n.when||r.defaultResolvePolicy.when,async:t.async||n.async||r.defaultResolvePolicy.async}},a.prototype.resolve=function(t,n){var r=this,e=u.services.$q,i=t.findNode(this),o=i&&i.state,a="RXWAIT"===this.getPolicy(o).async?function(e){var t=e.cache(1);return t.take(1).toPromise().then(function(){return t})}:s.identity;return this.promise=e.when().then(function(){return e.all(t.getDependencies(r).map(function(e){return e.get(t,n)}))}).then(function(e){return r.resolveFn.apply(null,e)}).then(a).then(function(e){return r.data=e,r.resolved=!0,r.resolveFn=null,c.trace.traceResolvableResolved(r,n),r.data})},a.prototype.get=function(e,t){return this.promise||this.resolve(e,t)},a.prototype.toString=function(){return"Resolvable(token: "+n.stringify(this.token)+", requires: ["+this.deps.map(n.stringify)+"])"},a.prototype.clone=function(){return new a(this)},a.fromData=function(e,t){return new a(e,function(){return t},null,null,t)},a}();r.Resolvable=i},{"../common/common":3,"../common/coreservices":4,"../common/predicates":8,"../common/strings":10,"../common/trace":11}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../common/common"),f=e("../common/hof"),r=e("../common/trace"),i=e("../common/coreservices"),a=e("./interface"),s=e("./resolvable"),u=e("../path/pathUtils"),c=e("../common/strings"),l=e("../common"),p=a.resolvePolicies.when,h=[p.EAGER,p.LAZY],d=[p.EAGER];n.NATIVE_INJECTOR_TOKEN="Native Injector";var m=function(){function e(e){this._path=e}return e.prototype.getTokens=function(){return this._path.reduce(function(e,t){return e.concat(t.resolvables.map(function(e){return e.token}))},[]).reduce(o.uniqR,[])},e.prototype.getResolvable=function(t){var e=this._path.map(function(e){return e.resolvables}).reduce(o.unnestR,[]).filter(function(e){return e.token===t});return o.tail(e)},e.prototype.getPolicy=function(e){var t=this.findNode(e);return e.getPolicy(t.state)},e.prototype.subContext=function(t){return new e(u.PathUtils.subPath(this._path,function(e){return e.state===t}))},e.prototype.addResolvables=function(e,t){var n=o.find(this._path,f.propEq("state",t)),r=e.map(function(e){return e.token});n.resolvables=n.resolvables.filter(function(e){return-1===r.indexOf(e.token)}).concat(e)},e.prototype.resolvePath=function(e,s){var u=this;void 0===e&&(e="LAZY");var c=(o.inArray(h,e)?e:"LAZY")===a.resolvePolicies.when.EAGER?d:h;r.trace.traceResolvePath(this._path,e,s);var l=function(t,n){return function(e){return o.inArray(t,u.getPolicy(e)[n])}},t=this._path.reduce(function(e,t){var n=t.resolvables.filter(l(c,"when")),r=n.filter(l(["NOWAIT"],"async")),i=n.filter(f.not(l(["NOWAIT"],"async"))),o=u.subContext(t.state),a=function(t){return t.get(o,s).then(function(e){return{token:t.token,value:e}})};return r.forEach(a),e.concat(i.map(a))},[]);return i.services.$q.all(t)},e.prototype.injector=function(){return this._injector||(this._injector=new v(this))},e.prototype.findNode=function(t){return o.find(this._path,function(e){return o.inArray(e.resolvables,t)})},e.prototype.getDependencies=function(t){var r=this,n=this.findNode(t),i=(u.PathUtils.subPath(this._path,function(e){return e===n})||this._path).reduce(function(e,t){return e.concat(t.resolvables)},[]).filter(function(e){return e!==t});return t.deps.map(function(t){var e=i.filter(function(e){return e.token===t});if(e.length)return o.tail(e);var n=r.injector().getNative(t);if(l.isUndefined(n))throw new Error("Could not find Dependency Injection token: "+c.stringify(t));return new s.Resolvable(t,function(){return n},[],n)})},e}();n.ResolveContext=m;var v=function(){function e(e){this.context=e,this.native=this.get(n.NATIVE_INJECTOR_TOKEN)||i.services.$injector}return e.prototype.get=function(e){var t=this.context.getResolvable(e);if(t){if("NOWAIT"===this.context.getPolicy(t).async)return t.get(this.context);if(!t.resolved)throw new Error("Resolvable async .get() not complete:"+c.stringify(t.token));return t.data}return this.getNative(e)},e.prototype.getAsync=function(e){var t=this.context.getResolvable(e);return t?t.get(this.context):i.services.$q.when(this.native.get(e))},e.prototype.getNative=function(e){return this.native&&this.native.get(e)},e}()},{"../common":7,"../common/common":3,"../common/coreservices":4,"../common/hof":6,"../common/strings":10,"../common/trace":11,"../path/pathUtils":32,"./interface":34,"./resolvable":35}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./url/urlMatcherFactory"),i=e("./url/urlRouter"),o=e("./transition/transitionService"),a=e("./view/view"),s=e("./state/stateRegistry"),u=e("./state/stateService"),c=e("./globals"),l=e("./common/common"),f=e("./common/predicates"),p=e("./url/urlService"),h=e("./common/trace"),d=e("./common"),m=0,v=d.makeStub("LocationServices",["url","path","search","hash","onChange"]),g=d.makeStub("LocationConfig",["port","protocol","host","baseHref","html5Mode","hashPrefix"]),$=function(){function e(e,t){void 0===e&&(e=v),void 0===t&&(t=g),this.locationService=e,this.locationConfig=t,this.$id=m++,this._disposed=!1,this._disposables=[],this.trace=h.trace,this.viewService=new a.ViewService(this),this.globals=new c.UIRouterGlobals,this.transitionService=new o.TransitionService(this),this.urlMatcherFactory=new r.UrlMatcherFactory(this),this.urlRouter=new i.UrlRouter(this),this.urlService=new p.UrlService(this),this.stateRegistry=new s.StateRegistry(this),this.stateService=new u.StateService(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlService),this.disposable(e),this.disposable(t)}return e.prototype.disposable=function(e){this._disposables.push(e)},e.prototype.dispose=function(e){var t=this;e&&f.isFunction(e.dispose)?e.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(e){try{"function"==typeof e.dispose&&e.dispose(t),l.removeFrom(t._disposables,e)}catch(e){}}))},e.prototype.plugin=function(e,t){void 0===t&&(t={});var n=new e(this,t);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},e.prototype.getPlugin=function(e){return e?this._plugins[e]:l.values(this._plugins)},e}();n.UIRouter=$},{"./common":7,"./common/common":3,"./common/predicates":8,"./common/trace":11,"./globals":12,"./state/stateRegistry":43,"./state/stateService":44,"./transition/transitionService":54,"./url/urlMatcherFactory":58,"./url/urlRouter":59,"./url/urlService":62,"./view/view":76}],38:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./stateBuilder")),r(e("./stateObject")),r(e("./stateMatcher")),r(e("./stateQueueManager")),r(e("./stateRegistry")),r(e("./stateService")),r(e("./targetState"))},{"./stateBuilder":39,"./stateMatcher":40,"./stateObject":41,"./stateQueueManager":42,"./stateRegistry":43,"./stateService":44,"./targetState":45}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var u=e("../common/common"),c=e("../common/predicates"),l=e("../common/strings"),f=e("../common/hof"),p=e("../resolve/resolvable"),h=e("../common/coreservices");function s(e){return e.name}function d(e){return e.self.$$state=function(){return e},e.self}function m(e){return e.parent&&e.parent.data&&(e.data=e.self.data=u.inherit(e.parent.data,e.data)),e.data}var v=function(a,s){return function(e){var t=e.self;if(t&&t.url&&t.name&&t.name.match(/\.\*\*$/)){var n={};u.copy(t,n),n.url+="{remainder:any}",t=n}var r=e.parent,i=function(e){if(!c.isString(e))return!1;var t="^"===e.charAt(0);return{val:t?e.substring(1):e,root:t}}(t.url),o=i?a.compile(i.val,{state:t}):t.url;if(!o)return null;if(!a.isMatcher(o))throw new Error("Invalid url '"+o+"' in state '"+e+"'");return i&&i.root?o:(r&&r.navigable||s()).url.append(o)}};function g(e){return e.parent?e.parent.path.concat(e):[e]}function $(e){var t=e.parent?u.extend({},e.parent.includes):{};return t[e.name]=!0,t}function y(e){var t,n,r=function(e){return e.provide||e.token},i=f.pattern([[f.prop("resolveFn"),function(e){return new p.Resolvable(r(e),e.resolveFn,e.deps,e.policy)}],[f.prop("useFactory"),function(e){return new p.Resolvable(r(e),e.useFactory,e.deps||e.dependencies,e.policy)}],[f.prop("useClass"),function(e){return new p.Resolvable(r(e),function(){return new e.useClass},[],e.policy)}],[f.prop("useValue"),function(e){return new p.Resolvable(r(e),function(){return e.useValue},[],e.policy,e.useValue)}],[f.prop("useExisting"),function(e){return new p.Resolvable(r(e),u.identity,[e.useExisting],e.policy)}]]),o=f.pattern([[f.pipe(f.prop("val"),c.isString),function(e){return new p.Resolvable(e.token,u.identity,[e.val],e.policy)}],[f.pipe(f.prop("val"),c.isArray),function(e){return new p.Resolvable(e.token,u.tail(e.val),e.val.slice(0,-1),e.policy)}],[f.pipe(f.prop("val"),c.isFunction),function(e){return new p.Resolvable(e.token,e.val,(t=e.val,n=h.services.$injector,t.$inject||n&&n.annotate(t,n.strictDi)||"deferred"),e.policy);var t,n}]]),a=f.pattern([[f.is(p.Resolvable),function(e){return e}],[function(e){return!(!e.token||!e.resolveFn)},i],[function(e){return!(!e.provide&&!e.token||!(e.useValue||e.useFactory||e.useExisting||e.useClass))},i],[function(e){return!!(e&&e.val&&(c.isString(e.val)||c.isArray(e.val)||c.isFunction(e.val)))},o],[f.val(!0),function(e){throw new Error("Invalid resolve value: "+l.stringify(e))}]]),s=e.resolve;return(c.isArray(s)?s:(t=s,n=e.resolvePolicy||{},Object.keys(t||{}).map(function(e){return{token:e,val:t[e],deps:void 0,policy:n[e]}}))).map(a)}n.resolvablesBuilder=y;var r=function(){function e(t,e){this.matcher=t;var r,n,i=this,o=function(){return t.find("")},a=function(e){return""===e.name};this.builders={name:[s],self:[d],parent:[function(e){return a(e)?null:t.find(i.parentName(e))||o()}],data:[m],url:[v(e,o)],navigable:[(n=a,function(e){return!n(e)&&e.url?e:e.parent?e.parent.navigable:null})],params:[(r=e.paramFactory,function(n){var e=n.url&&n.url.parameters({inherit:!1})||[],t=u.values(u.mapObj(u.omit(n.params||{},e.map(f.prop("id"))),function(e,t){return r.fromConfig(t,null,n.self)}));return e.concat(t).map(function(e){return[e.id,e]}).reduce(u.applyPairs,{})})],views:[],path:[g],includes:[$],resolvables:[y]}}return e.prototype.builder=function(e,t){var n=this.builders,r=n[e]||[];return c.isString(e)&&!c.isDefined(t)?1<r.length?r:r[0]:c.isString(e)&&c.isFunction(t)?(n[e]=r,n[e].push(t),function(){return n[e].splice(n[e].indexOf(t,1))&&null}):void 0},e.prototype.build=function(e){var t=this.matcher,n=this.builders,r=this.parentName(e);if(r&&!t.find(r,void 0,!1))return null;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i].reduce(function(t,n){return function(e){return n(e,t)}},u.noop);e[i]=o(e)}return e},e.prototype.parentName=function(e){var t=e.name||"",n=t.split(".");if("**"===n.pop()&&n.pop(),n.length){if(e.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+t+")");return n.join(".")}return e.parent?c.isString(e.parent)?e.parent:e.parent.name:""},e.prototype.name=function(e){var t=e.name;if(-1!==t.indexOf(".")||!e.parent)return t;var n=c.isString(e.parent)?e.parent:e.parent.name;return n?n+"."+t:t},e}();n.StateBuilder=r},{"../common/common":3,"../common/coreservices":4,"../common/hof":6,"../common/predicates":8,"../common/strings":10,"../resolve/resolvable":35}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("../common/predicates"),u=e("../common/common"),r=function(){function e(e){this._states=e}return e.prototype.isRelative=function(e){return 0===(e=e||"").indexOf(".")||0===e.indexOf("^")},e.prototype.find=function(e,t,n){if(void 0===n&&(n=!0),e||""===e){var r=s.isString(e),i=r?e:e.name;this.isRelative(i)&&(i=this.resolvePath(i,t));var o=this._states[i];if(o&&(r||!(r||o!==e&&o.self!==e)))return o;if(r&&n){var a=u.values(this._states).filter(function(e){return e.__stateObjectCache.nameGlob&&e.__stateObjectCache.nameGlob.matches(i)});return 1<a.length&&console.log("stateMatcher.find: Found multiple matches for "+i+" using glob: ",a.map(function(e){return e.name})),a[0]}}},e.prototype.resolvePath=function(e,t){if(!t)throw new Error("No reference point given for path '"+e+"'");for(var n=this.find(t),r=e.split("."),i=r.length,o=0,a=n;o<i;o++)if(""!==r[o]||0!==o){if("^"!==r[o])break;if(!a.parent)throw new Error("Path '"+e+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=r.slice(o).join(".");return a.name+(a.name&&s?".":"")+s},e}();n.StateMatcher=r},{"../common/common":3,"../common/predicates":8}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/common"),i=e("../common/hof"),o=e("../common/glob"),a=e("../common/predicates"),s=function(){function n(e){return n.create(e||{})}return n.create=function(e){e=n.isStateClass(e)?new e:e;var t=r.inherit(r.inherit(e,n.prototype));return e.$$state=function(){return t},t.self=e,t.__stateObjectCache={nameGlob:o.Glob.fromString(t.name)},t},n.prototype.is=function(e){return this===e||this.self===e||this.fqn()===e},n.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var e=this.parent.fqn();return e?e+"."+this.name:this.name},n.prototype.root=function(){return this.parent&&this.parent.root()||this},n.prototype.parameters=function(t){return((t=r.defaults(t,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(r.values(this.params)).filter(function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)})},n.prototype.parameter=function(e,t){return void 0===t&&(t={}),this.url&&this.url.parameter(e,t)||r.find(r.values(this.params),i.propEq("id",e))||t.inherit&&this.parent&&this.parent.parameter(e)},n.prototype.toString=function(){return this.fqn()},n.isStateClass=function(e){return a.isFunction(e)&&!0===e.__uiRouterState},n.isState=function(e){return a.isObject(e.__stateObjectCache)},n}();n.StateObject=s},{"../common/common":3,"../common/glob":5,"../common/hof":6,"../common/predicates":8}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../common"),o=e("./stateObject"),r=function(){function e(e,t,n,r){this.router=e,this.states=t,this.builder=n,this.listeners=r,this.queue=[]}return e.prototype.dispose=function(){this.queue=[]},e.prototype.register=function(e){var t=this.queue,n=o.StateObject.create(e),r=n.name;if(!i.isString(r))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(r)||i.inArray(t.map(i.prop("name")),r))throw new Error("State '"+r+"' is already defined");return t.push(n),this.flush(),n},e.prototype.flush=function(){for(var t=this,e=this.queue,n=this.states,r=this.builder,i=[],o=[],a={},s=function(e){return t.states.hasOwnProperty(e)&&t.states[e]},u=function(){i.length&&t.listeners.forEach(function(e){return e("registered",i.map(function(e){return e.self}))})};0<e.length;){var c=e.shift(),l=c.name,f=r.build(c),p=o.indexOf(c);if(f){var h=s(l);if(h&&h.name===l)throw new Error("State '"+l+"' is already defined");var d=s(l+".**");d&&this.router.stateRegistry.deregister(d),n[l]=c,this.attachRoute(c),0<=p&&o.splice(p,1),i.push(c)}else{var m=a[l];if(a[l]=e.length,0<=p&&m===e.length)return e.push(c),u(),n;p<0&&o.push(c),e.push(c)}}return u(),n},e.prototype.attachRoute=function(e){if(!e.abstract&&e.url){var t=this.router.urlService.rules;t.rule(t.urlRuleFactory.create(e))}},e}();n.StateQueueManager=r},{"../common":7,"./stateObject":41}],43:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./stateMatcher"),i=e("./stateBuilder"),o=e("./stateQueueManager"),a=e("../common/common"),s=e("../common/hof"),u=function(){function e(e){this.router=e,this.states={},this.listeners=[],this.matcher=new r.StateMatcher(this.states),this.builder=new i.StateBuilder(this.matcher,e.urlMatcherFactory),this.stateQueue=new o.StateQueueManager(e,this.states,this.builder,this.listeners),this._registerRoot()}return e.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},e.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(e){return t.get(e)&&t.deregister(e)})},e.prototype.onStatesChanged=function(e){return this.listeners.push(e),function(){a.removeFrom(this.listeners)(e)}.bind(this)},e.prototype.root=function(){return this._root},e.prototype.register=function(e){return this.stateQueue.register(e)},e.prototype._deregisterTree=function(e){var n=this,r=this.get().map(function(e){return e.$$state()}),i=function(t){var e=r.filter(function(e){return-1!==t.indexOf(e.parent)});return 0===e.length?e:e.concat(i(e))},t=i([e]),o=[e].concat(t).reverse();return o.forEach(function(e){var t=n.router.urlService.rules;t.rules().filter(s.propEq("state",e)).forEach(function(e){return t.removeRule(e)}),delete n.states[e.name]}),o},e.prototype.deregister=function(e){var t=this.get(e);if(!t)throw new Error("Can't deregister state; not found: "+e);var n=this._deregisterTree(t.$$state());return this.listeners.forEach(function(e){return e("deregistered",n.map(function(e){return e.self}))}),n},e.prototype.get=function(e,t){var n=this;if(0===arguments.length)return Object.keys(this.states).map(function(e){return n.states[e].self});var r=this.matcher.find(e,t);return r&&r.self||null},e.prototype.decorator=function(e,t){return this.builder.builder(e,t)},e}();n.StateRegistry=u},{"../common/common":3,"../common/hof":6,"./stateBuilder":39,"./stateMatcher":40,"./stateQueueManager":42}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var f=e("../common/common"),s=e("../common/predicates"),l=e("../common/queue"),p=e("../common/coreservices"),h=e("../path/pathUtils"),r=e("../path/pathNode"),d=e("../transition/transitionService"),m=e("../transition/rejectFactory"),v=e("./targetState"),u=e("../params/param"),c=e("../common/glob"),g=e("../resolve/resolveContext"),o=e("../hooks/lazyLoad"),i=e("../common/hof"),a=function(){function n(e){this.router=e,this.invalidCallbacks=[],this._defaultErrorHandler=function(e){e instanceof Error&&e.stack?(console.error(e),console.error(e.stack)):e instanceof m.Rejection?(console.error(e.toString()),e.detail&&e.detail.stack&&console.error(e.detail.stack)):console.error(e)};var t=Object.keys(n.prototype).filter(i.not(f.inArray(["current","$current","params","transition"])));f.createProxyFunctions(i.val(n.prototype),this,i.val(this),t)}return Object.defineProperty(n.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){this.defaultErrorHandler(f.noop),this.invalidCallbacks=[]},n.prototype._handleInvalidTargetState=function(e,n){var r=this,i=h.PathUtils.makeTargetState(this.router.stateRegistry,e),t=this.router.globals,o=function(){return t.transitionHistory.peekTail()},a=o(),s=new l.Queue(this.invalidCallbacks.slice()),u=new g.ResolveContext(e).injector(),c=function(e){if(e instanceof v.TargetState){var t=e;return(t=r.target(t.identifier(),t.params(),t.options())).valid()?o()!==a?m.Rejection.superseded().toPromise():r.transitionTo(t.identifier(),t.params(),t.options()):m.Rejection.invalid(t.error()).toPromise()}};return function t(){var e=s.dequeue();return void 0===e?m.Rejection.invalid(n.error()).toPromise():p.services.$q.when(e(n,i,u)).then(c).then(function(e){return e||t()})}()},n.prototype.onInvalid=function(e){return this.invalidCallbacks.push(e),function(){f.removeFrom(this.invalidCallbacks)(e)}.bind(this)},n.prototype.reload=function(e){return this.transitionTo(this.current,this.params,{reload:!s.isDefined(e)||e,inherit:!1,notify:!1})},n.prototype.go=function(e,t,n){var r={relative:this.$current,inherit:!0},i=f.defaults(n,r,d.defaultTransOpts);return this.transitionTo(e,t,i)},n.prototype.target=function(e,t,n){if(void 0===n&&(n={}),s.isObject(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var r=this.router.stateRegistry;if(n.reloadState=!0===n.reload?r.root():r.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(s.isString(n.reload)?n.reload:n.reload.name)+"'");return new v.TargetState(this.router.stateRegistry,e,t,n)},n.prototype.getCurrentPath=function(){var e=this,t=this.router.globals.successfulTransitions.peekTail();return t?t.treeChanges().to:[new r.PathNode(e.router.stateRegistry.root())]},n.prototype.transitionTo=function(e,t,n){var o=this;void 0===t&&(t={}),void 0===n&&(n={});var a=this.router,s=a.globals;n=f.defaults(n,d.defaultTransOpts);n=f.extend(n,{current:function(){return s.transition}});var r=this.target(e,t,n),i=this.getCurrentPath();if(!r.exists())return this._handleInvalidTargetState(i,r);if(!r.valid())return f.silentRejection(r.error());var u=function(i){return function(e){if(e instanceof m.Rejection){var t=a.globals.lastStartedTransitionId<=i.$id;if(e.type===m.RejectType.IGNORED)return t&&a.urlRouter.update(),p.services.$q.when(s.current);var n=e.detail;if(e.type===m.RejectType.SUPERSEDED&&e.redirected&&n instanceof v.TargetState){var r=i.redirect(n);return r.run().catch(u(r))}if(e.type===m.RejectType.ABORTED)return t&&a.urlRouter.update(),p.services.$q.reject(e)}return o.defaultErrorHandler()(e),p.services.$q.reject(e)}},c=this.router.transitionService.create(i,r),l=c.run().catch(u(c));return f.silenceUncaughtInPromise(l),f.extend(l,{transition:c})},n.prototype.is=function(e,t,n){n=f.defaults(n,{relative:this.$current});var r=this.router.stateRegistry.matcher.find(e,n.relative);if(s.isDefined(r)){if(this.$current!==r)return!1;if(!t)return!0;var i=r.parameters({inherit:!0,matchingKeys:t});return u.Param.equals(i,u.Param.values(i,t),this.params)}},n.prototype.includes=function(e,t,n){n=f.defaults(n,{relative:this.$current});var r=s.isString(e)&&c.Glob.fromString(e);if(r){if(!r.matches(this.$current.name))return!1;e=this.$current.name}var i=this.router.stateRegistry.matcher.find(e,n.relative),o=this.$current.includes;if(s.isDefined(i)){if(!s.isDefined(o[i.name]))return!1;if(!t)return!0;var a=i.parameters({inherit:!0,matchingKeys:t});return u.Param.equals(a,u.Param.values(a,t),this.params)}},n.prototype.href=function(e,t,n){var r={lossy:!0,inherit:!0,absolute:!1,relative:this.$current};n=f.defaults(n,r),t=t||{};var i=this.router.stateRegistry.matcher.find(e,n.relative);if(!s.isDefined(i))return null;n.inherit&&(t=this.params.$inherit(t,this.$current,i));var o=i&&n.lossy?i.navigable:i;return o&&void 0!==o.url&&null!==o.url?this.router.urlRouter.href(o.url,t,{absolute:n.absolute}):null},n.prototype.defaultErrorHandler=function(e){return this._defaultErrorHandler=e||this._defaultErrorHandler},n.prototype.get=function(e,t){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(e,t||this.$current)},n.prototype.lazyLoad=function(e,t){var n=this.get(e);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+e);var r=this.getCurrentPath(),i=h.PathUtils.makeTargetState(this.router.stateRegistry,r);return t=t||this.router.transitionService.create(r,i),o.lazyLoadState(t,n)},n}();n.StateService=a},{"../common/common":3,"../common/coreservices":4,"../common/glob":5,"../common/hof":6,"../common/predicates":8,"../common/queue":9,"../hooks/lazyLoad":16,"../params/param":26,"../path/pathNode":31,"../path/pathUtils":32,"../resolve/resolveContext":36,"../transition/rejectFactory":50,"../transition/transitionService":54,"./targetState":45}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../common/predicates"),o=e("../common/strings"),a=e("../common"),r=function(){function r(e,t,n,r){this._stateRegistry=e,this._identifier=t,this._identifier=t,this._params=a.extend({},n||{}),this._options=a.extend({},r||{}),this._definition=e.matcher.find(t,this._options.relative)}return r.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},r.prototype.identifier=function(){return this._identifier},r.prototype.params=function(){return this._params},r.prototype.$state=function(){return this._definition},r.prototype.state=function(){return this._definition&&this._definition.self},r.prototype.options=function(){return this._options},r.prototype.exists=function(){return!(!this._definition||!this._definition.self)},r.prototype.valid=function(){return!this.error()},r.prototype.error=function(){var e=this.options().relative;if(this._definition||!e)return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'";var t=e.name?e.name:e;return"Could not resolve '"+this.name()+"' from state '"+t+"'"},r.prototype.toString=function(){return"'"+this.name()+"'"+o.stringify(this.params())},r.prototype.withState=function(e){return new r(this._stateRegistry,e,this._params,this._options)},r.prototype.withParams=function(e,t){void 0===t&&(t=!1);var n=t?e:a.extend({},this._params,e);return new r(this._stateRegistry,this._identifier,n,this._options)},r.prototype.withOptions=function(e,t){void 0===t&&(t=!1);var n=t?e:a.extend({},this._options,e);return new r(this._stateRegistry,this._identifier,this._params,n)},r.isDef=function(e){return e&&e.state&&(i.isString(e.state)||i.isString(e.state.name))},r}();n.TargetState=r},{"../common":7,"../common/predicates":8,"../common/strings":10}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var u=e("../common/common"),o=e("../common/predicates"),c=e("./interface"),l=e("./transitionHook"),r=function(){function e(e){this.transition=e}return e.prototype.buildHooksForPhase=function(e){var t=this;return this.transition.router.transitionService._pluginapi._getEvents(e).map(function(e){return t.buildHooks(e)}).reduce(u.unnestR,[]).filter(u.identity)},e.prototype.buildHooks=function(o){var a=this.transition,e=a.treeChanges(),t=this.getMatchingHooks(o,e,a);if(!t)return[];var s={transition:a,current:a.options().current};return t.map(function(i){return i.matches(e,a)[o.criteriaMatchPath.name].map(function(e){var t=u.extend({bind:i.bind,traceData:{hookType:o.name,context:e}},s),n=o.criteriaMatchPath.scope===c.TransitionHookScope.STATE?e.state.self:null,r=new l.TransitionHook(a,n,i,t);return{hook:i,node:e,transitionHook:r}})}).reduce(u.unnestR,[]).sort(function(i){void 0===i&&(i=!1);return function(e,t){var n=i?-1:1,r=(e.node.state.path.length-t.node.state.path.length)*n;return 0!==r?r:t.hook.priority-e.hook.priority}}(o.reverseSort)).map(function(e){return e.transitionHook})},e.prototype.getMatchingHooks=function(t,n,r){var e=t.hookPhase===c.TransitionHookPhase.CREATE,i=this.transition.router.transitionService;return(e?[i]:[this.transition,i]).map(function(e){return e.getHooks(t.name)}).filter(u.assertPredicate(o.isArray,"broken event named: "+t.name)).reduce(u.unnestR,[]).filter(function(e){return e.matches(n,r)})},e}();n.HookBuilder=r},{"../common/common":3,"../common/predicates":8,"./interface":49,"./transitionHook":53}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=e("../common"),l=e("./interface");function i(e,t,n){var i=c.isString(t)?[t]:t;return!!(c.isFunction(i)?i:function(e){for(var t=i,n=0;n<t.length;n++){var r=new c.Glob(t[n]);if(r&&r.matches(e.name)||!r&&t[n]===e.name)return!0}return!1})(e,n)}n.matchState=i;var u=function(){function e(e,t,n,r,i,o){void 0===o&&(o={}),this.tranSvc=e,this.eventType=t,this.callback=n,this.matchCriteria=r,this.removeHookFromRegistry=i,this.invokeCount=0,this._deregistered=!1,this.priority=o.priority||0,this.bind=o.bind||null,this.invokeLimit=o.invokeLimit}return e.prototype._matchingNodes=function(e,t,n){if(!0===t)return e;var r=e.filter(function(e){return i(e.state,t,n)});return r.length?r:null},e.prototype._getDefaultMatchCriteria=function(){return c.mapObj(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},e.prototype._getMatchingNodes=function(o,a){var s=this,u=c.extend(this._getDefaultMatchCriteria(),this.matchCriteria);return c.values(this.tranSvc._pluginapi._getPathTypes()).reduce(function(e,t){var n=t.scope===l.TransitionHookScope.STATE,r=o[t.name]||[],i=n?r:[c.tail(r)];return e[t.name]=s._matchingNodes(i,u[t.name],a),e},{})},e.prototype.matches=function(e,t){var n=this._getMatchingNodes(e,t);return c.values(n).every(c.identity)?n:null},e.prototype.deregister=function(){this.removeHookFromRegistry(this),this._deregistered=!0},e}();n.RegisteredHook=u,n.makeEvent=function(e,i,o){var a=(e._registeredHooks=e._registeredHooks||{})[o.name]=[],s=c.removeFrom(a);function t(e,t,n){void 0===n&&(n={});var r=new u(i,o,t,e,s,n);return a.push(r),r.deregister.bind(r)}return e[o.name]=t}},{"../common":7,"./interface":49}],48:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./interface")),r(e("./hookBuilder")),r(e("./hookRegistry")),r(e("./rejectFactory")),r(e("./transition")),r(e("./transitionHook")),r(e("./transitionEventType")),r(e("./transitionService"))},{"./hookBuilder":46,"./hookRegistry":47,"./interface":49,"./rejectFactory":50,"./transition":51,"./transitionEventType":52,"./transitionHook":53,"./transitionService":54}],49:[function(e,t,n){"use strict";var r,i,o,a;Object.defineProperty(n,"__esModule",{value:!0}),(i=r||(r={}))[i.CREATE=0]="CREATE",i[i.BEFORE=1]="BEFORE",i[i.RUN=2]="RUN",i[i.SUCCESS=3]="SUCCESS",i[i.ERROR=4]="ERROR",n.TransitionHookPhase=r,(a=o||(o={}))[a.TRANSITION=0]="TRANSITION",a[a.STATE=1]="STATE",n.TransitionHookScope=o},{}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r,o=e("../common/common"),a=e("../common/strings"),s=e("../common/hof");(r=i||(i={}))[r.SUPERSEDED=2]="SUPERSEDED",r[r.ABORTED=3]="ABORTED",r[r.INVALID=4]="INVALID",r[r.IGNORED=5]="IGNORED",r[r.ERROR=6]="ERROR",n.RejectType=i;var u=0,c=function(){function r(e,t,n){this.$id=u++,this.type=e,this.message=t,this.detail=n}return r.isRejectionPromise=function(e){return e&&"function"==typeof e.then&&s.is(r)(e._transitionRejection)},r.superseded=function(e,t){var n=new r(i.SUPERSEDED,"The transition has been superseded by a different transition",e);return t&&t.redirected&&(n.redirected=!0),n},r.redirected=function(e){return r.superseded(e,{redirected:!0})},r.invalid=function(e){return new r(i.INVALID,"This transition is invalid",e)},r.ignored=function(e){return new r(i.IGNORED,"The transition was ignored",e)},r.aborted=function(e){return new r(i.ABORTED,"The transition has been aborted",e)},r.errored=function(e){return new r(i.ERROR,"The transition errored",e)},r.normalize=function(e){return s.is(r)(e)?e:r.errored(e)},r.prototype.toString=function(){var e,t=(e=this.detail)&&e.toString!==Object.prototype.toString?e.toString():a.stringify(e);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+t+")"},r.prototype.toPromise=function(){return o.extend(o.silentRejection(this),{_transitionRejection:this})},r}();n.Rejection=c},{"../common/common":3,"../common/hof":6,"../common/strings":10}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../common/trace"),a=e("../common/coreservices"),s=e("../common/strings"),c=e("../common/common"),r=e("../common/predicates"),l=e("../common/hof"),u=e("./interface"),f=e("./transitionHook"),o=e("./hookRegistry"),p=e("./hookBuilder"),h=e("../path/pathUtils"),d=e("../params/param"),m=e("../resolve/resolvable"),v=e("../resolve/resolveContext"),g=e("./rejectFactory"),$=e("../common"),y=l.prop("self"),b=function(){function t(e,t,n){var r=this;if(this._deferred=a.services.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new p.HookBuilder(this),this.isActive=function(){return r.router.globals.transition===r},this.router=n,!(this._targetState=t).valid())throw new Error(t.error());this._options=c.extend({current:l.val(this)},t.options()),this.$id=n.transitionService._transitionCount++;var i=h.PathUtils.buildToPath(e,t);this._treeChanges=h.PathUtils.treeChanges(e,i,this._options.reloadState),this.createTransitionHookRegFns();var o=this._hookBuilder.buildHooksForPhase(u.TransitionHookPhase.CREATE);f.TransitionHook.invokeHooks(o,function(){return null}),this.applyViewConfigs(n)}return t.prototype.onBefore=function(e,t,n){},t.prototype.onStart=function(e,t,n){},t.prototype.onExit=function(e,t,n){},t.prototype.onRetain=function(e,t,n){},t.prototype.onEnter=function(e,t,n){},t.prototype.onFinish=function(e,t,n){},t.prototype.onSuccess=function(e,t,n){},t.prototype.onError=function(e,t,n){},t.prototype.createTransitionHookRegFns=function(){var t=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==u.TransitionHookPhase.CREATE}).forEach(function(e){return o.makeEvent(t,t.router.transitionService,e)})},t.prototype.getHooks=function(e){return this._registeredHooks[e]},t.prototype.applyViewConfigs=function(e){var t=this._treeChanges.entering.map(function(e){return e.state});h.PathUtils.applyViewConfigs(e.transitionService.$view,this._treeChanges.to,t)},t.prototype.$from=function(){return c.tail(this._treeChanges.from).state},t.prototype.$to=function(){return c.tail(this._treeChanges.to).state},t.prototype.from=function(){return this.$from().self},t.prototype.to=function(){return this.$to().self},t.prototype.targetState=function(){return this._targetState},t.prototype.is=function(e){return e instanceof t?this.is({to:e.$to().name,from:e.$from().name}):!(e.to&&!o.matchState(this.$to(),e.to,this)||e.from&&!o.matchState(this.$from(),e.from,this))},t.prototype.params=function(e){return void 0===e&&(e="to"),Object.freeze(this._treeChanges[e].map(l.prop("paramValues")).reduce(c.mergeR,{}))},t.prototype.paramsChanged=function(){var e=this.params("from"),n=this.params("to"),t=[].concat(this._treeChanges.to).concat(this._treeChanges.from).map(function(e){return e.paramSchema}).reduce($.flattenR,[]).reduce($.uniqR,[]);return d.Param.changed(t,e,n).reduce(function(e,t){return e[t.id]=n[t.id],e},{})},t.prototype.injector=function(t,e){void 0===e&&(e="to");var n=this._treeChanges[e];return t&&(n=h.PathUtils.subPath(n,function(e){return e.state===t||e.state.name===t})),new v.ResolveContext(n).injector()},t.prototype.getResolveTokens=function(e){return void 0===e&&(e="to"),new v.ResolveContext(this._treeChanges[e]).getTokens()},t.prototype.addResolvable=function(e,t){void 0===t&&(t=""),e=l.is(m.Resolvable)(e)?e:new m.Resolvable(e);var n="string"==typeof t?t:t.name,r=this._treeChanges.to,i=c.find(r,function(e){return e.state.name===n});new v.ResolveContext(r).addResolvables([e],i.state)},t.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},t.prototype.originalTransition=function(){var e=this.redirectedFrom();return e&&e.originalTransition()||this},t.prototype.options=function(){return this._options},t.prototype.entering=function(){return c.map(this._treeChanges.entering,l.prop("state")).map(y)},t.prototype.exiting=function(){return c.map(this._treeChanges.exiting,l.prop("state")).map(y).reverse()},t.prototype.retained=function(){return c.map(this._treeChanges.retained,l.prop("state")).map(y)},t.prototype.views=function(e,t){void 0===e&&(e="entering");var n=this._treeChanges[e];return(n=t?n.filter(l.propEq("state",t)):n).map(l.prop("views")).filter(c.identity).reduce(c.unnestR,[])},t.prototype.treeChanges=function(e){return e?this._treeChanges[e]:this._treeChanges},t.prototype.redirect=function(e){for(var t=1,n=this;null!=(n=n.redirectedFrom());)if(20<++t)throw new Error("Too many consecutive Transition redirects (20+)");var r={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==e.options().location&&(r.location="replace");var i=c.extend({},this.options(),e.options(),r);e=e.withOptions(i,!0);var o,a=this.router.transitionService.create(this._treeChanges.from,e),s=this._treeChanges.entering,u=a._treeChanges.entering;return h.PathUtils.matching(u,s,h.PathUtils.nonDynamicParams).filter(l.not((o=e.options().reloadState,function(e){return o&&e.state.includes[o.name]}))).forEach(function(e,t){e.resolvables=s[t].resolvables}),a},t.prototype._changedParams=function(){var e=this._treeChanges;if(!this._options.reload&&(!e.exiting.length&&!e.entering.length&&e.to.length===e.from.length&&!c.arrayTuples(e.to,e.from).map(function(e){return e[0].state!==e[1].state}).reduce(c.anyTrueR,!1))){var t=e.to.map(function(e){return e.paramSchema}),n=[e.to,e.from].map(function(e){return e.map(function(e){return e.paramValues})}),r=n[0],i=n[1];return c.arrayTuples(t,r,i).map(function(e){var t=e[0],n=e[1],r=e[2];return d.Param.changed(t,n,r)}).reduce(c.unnestR,[])}},t.prototype.dynamic=function(){var e=this._changedParams();return!!e&&e.map(function(e){return e.dynamic}).reduce(c.anyTrueR,!1)},t.prototype.ignored=function(){return!!this._ignoredReason()},t.prototype._ignoredReason=function(){var e=this.router.globals.transition,r=this._options.reloadState,t=function(e,t){if(e.length!==t.length)return!1;var n=h.PathUtils.matching(e,t);return e.length===n.filter(function(e){return!r||!e.state.includes[r.name]}).length},n=this.treeChanges(),i=e&&e.treeChanges();return i&&t(i.to,n.to)&&t(i.exiting,n.exiting)?"SameAsPending":0===n.exiting.length&&0===n.entering.length&&t(n.from,n.to)?"SameAsCurrent":void 0},t.prototype.run=function(){var t=this,n=f.TransitionHook.runAllHooks,r=function(e){return t._hookBuilder.buildHooksForPhase(e)},e=r(u.TransitionHookPhase.BEFORE);return f.TransitionHook.invokeHooks(e,function(){var e=t.router.globals;return e.lastStartedTransitionId=t.$id,e.transition=t,e.transitionHistory.enqueue(t),i.trace.traceTransitionStart(t),a.services.$q.when(void 0)}).then(function(){var e=r(u.TransitionHookPhase.RUN);return f.TransitionHook.invokeHooks(e,function(){return a.services.$q.when(void 0)})}).then(function(){i.trace.traceSuccess(t.$to(),t),t.success=!0,t._deferred.resolve(t.to()),n(r(u.TransitionHookPhase.SUCCESS))},function(e){i.trace.traceError(e,t),t.success=!1,t._deferred.reject(e),t._error=e,n(r(u.TransitionHookPhase.ERROR))}),this.promise},t.prototype.valid=function(){return!this.error()||void 0!==this.success},t.prototype.abort=function(){r.isUndefined(this.success)&&(this._aborted=!0)},t.prototype.error=function(){var e=this.$to();if(e.self.abstract)return g.Rejection.invalid("Cannot transition to abstract state '"+e.name+"'");var t=e.parameters(),n=this.params(),r=t.filter(function(e){return!e.validates(n[e.id])});if(r.length){var i=r.map(function(e){return"["+e.id+":"+s.stringify(n[e.id])+"]"}).join(", "),o="The following parameter values are not valid for state '"+e.name+"': "+i;return g.Rejection.invalid(o)}return!1===this.success?this._error:void 0},t.prototype.toString=function(){var e=this.from(),t=this.to(),n=function(e){return null!==e["#"]&&void 0!==e["#"]?e:c.omit(e,["#"])};return"Transition#"+this.$id+"( '"+(r.isObject(e)?e.name:e)+"'"+s.stringify(n(this._treeChanges.from.map(l.prop("paramValues")).reduce(c.mergeR,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(r.isObject(t)?t.name:t)+"'"+s.stringify(n(this.params()))+" )"},t.diToken=t}();n.Transition=b},{"../common":7,"../common/common":3,"../common/coreservices":4,"../common/hof":6,"../common/predicates":8,"../common/strings":10,"../common/trace":11,"../params/param":26,"../path/pathUtils":32,"../resolve/resolvable":35,"../resolve/resolveContext":36,"./hookBuilder":46,"./hookRegistry":47,"./interface":49,"./rejectFactory":50,"./transitionHook":53}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var u=e("./transitionHook"),r=function(e,t,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=u.TransitionHook.HANDLE_RESULT),void 0===a&&(a=u.TransitionHook.REJECT_ERROR),void 0===s&&(s=!1),this.name=e,this.hookPhase=t,this.hookOrder=n,this.criteriaMatchPath=r,this.reverseSort=i,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=s};n.TransitionEventType=r},{"./transitionHook":53}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("./interface"),s=e("../common/common"),u=e("../common/strings"),c=e("../common/predicates"),l=e("../common/hof"),f=e("../common/trace"),r=e("../common/coreservices"),p=e("./rejectFactory"),i=e("../state/targetState"),h={current:s.noop,transition:null,traceData:{},bind:null},o=function(){function o(e,t,n,r){var i=this;this.transition=e,this.stateContext=t,this.registeredHook=n,this.options=r,this.isSuperseded=function(){return i.type.hookPhase===a.TransitionHookPhase.RUN&&!i.options.transition.isActive()},this.options=s.defaults(r,h),this.type=n.eventType}return o.chain=function(e,t){return e.reduce(function(e,t){return e.then(function(){return t.invokeHook()})},t||r.services.$q.when())},o.invokeHooks=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].invokeHook();if(c.isPromise(r)){var i=e.slice(n+1);return o.chain(i,r).then(t)}}return t()},o.runAllHooks=function(e){e.forEach(function(e){return e.invokeHook()})},o.prototype.logError=function(e){this.transition.router.stateService.defaultErrorHandler()(e)},o.prototype.invokeHook=function(){var t=this,n=this.registeredHook;if(!n._deregistered){var e=this.getNotCurrentRejection();if(e)return e;var r=this.options;f.trace.traceHookInvocation(this,this.transition,r);var i=function(e){return n.eventType.getErrorHandler(t)(e)},o=function(e){return n.eventType.getResultHandler(t)(e)};try{var a=n.callback.call(r.bind,t.transition,t.stateContext);return!this.type.synchronous&&c.isPromise(a)?a.catch(function(e){return p.Rejection.normalize(e).toPromise()}).then(o,i):o(a)}catch(e){return i(p.Rejection.normalize(e))}finally{n.invokeLimit&&++n.invokeCount>=n.invokeLimit&&n.deregister()}}},o.prototype.handleHookResult=function(e){var t=this,n=this.getNotCurrentRejection();return n||(c.isPromise(e)?e.then(function(e){return t.handleHookResult(e)}):(f.trace.traceHookResult(e,this.transition,this.options),!1===e?p.Rejection.aborted("Hook aborted transition").toPromise():l.is(i.TargetState)(e)?p.Rejection.redirected(e).toPromise():void 0))},o.prototype.getNotCurrentRejection=function(){var e=this.transition.router;return e._disposed?p.Rejection.aborted("UIRouter instance #"+e.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?p.Rejection.aborted().toPromise():this.isSuperseded()?p.Rejection.superseded(this.options.current()).toPromise():void 0},o.prototype.toString=function(){var e=this.options,t=this.registeredHook,n=l.parse("traceData.hookType")(e)||"internal",r=l.parse("traceData.context.state.name")(e)||l.parse("traceData.context")(e)||"unknown",i=u.fnToString(t.callback);return n+" context: "+r+", "+u.maxLength(200,i)},o.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},o.LOG_REJECTED_RESULT=function(t){return function(e){c.isPromise(e)&&e.catch(function(e){return t.logError(p.Rejection.normalize(e))})}},o.LOG_ERROR=function(t){return function(e){return t.logError(e)}},o.REJECT_ERROR=function(e){return function(e){return s.silentRejection(e)}},o.THROW_ERROR=function(e){return function(e){throw e}},o}();n.TransitionHook=o},{"../common/common":3,"../common/coreservices":4,"../common/hof":6,"../common/predicates":8,"../common/strings":10,"../common/trace":11,"../state/targetState":45,"./interface":49,"./rejectFactory":50}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./interface"),i=e("./transition"),c=e("./hookRegistry"),o=e("../hooks/coreResolvables"),a=e("../hooks/redirectTo"),s=e("../hooks/onEnterExitRetain"),u=e("../hooks/resolve"),l=e("../hooks/views"),f=e("../hooks/updateGlobals"),p=e("../hooks/url"),h=e("../hooks/lazyLoad"),d=e("./transitionEventType"),m=e("./transitionHook"),v=e("../common/predicates"),g=e("../common/common"),$=e("../common/hof"),y=e("../hooks/ignoredTransition"),b=e("../hooks/invalidTransition");n.defaultTransOpts={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"};var w=function(){function e(e){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=e,this.$view=e.viewService,this._deregisterHookFns={},this._pluginapi=g.createProxyFunctions($.val(this),{},$.val(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks(),e.globals.successfulTransitions.onEvict(o.treeChangesCleanup)}return e.prototype.onCreate=function(e,t,n){},e.prototype.onBefore=function(e,t,n){},e.prototype.onStart=function(e,t,n){},e.prototype.onExit=function(e,t,n){},e.prototype.onRetain=function(e,t,n){},e.prototype.onEnter=function(e,t,n){},e.prototype.onFinish=function(e,t,n){},e.prototype.onSuccess=function(e,t,n){},e.prototype.onError=function(e,t,n){},e.prototype.dispose=function(e){g.values(this._registeredHooks).forEach(function(t){return t.forEach(function(e){e._deregistered=!0,g.removeFrom(t,e)})})},e.prototype.create=function(e,t){return new i.Transition(e,t,this._router)},e.prototype._defineCoreEvents=function(){var e=r.TransitionHookPhase,t=m.TransitionHook,n=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,n.to,!1,t.LOG_REJECTED_RESULT,t.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,n.to),this._defineEvent("onStart",e.RUN,0,n.to),this._defineEvent("onExit",e.RUN,100,n.exiting,!0),this._defineEvent("onRetain",e.RUN,200,n.retained),this._defineEvent("onEnter",e.RUN,300,n.entering),this._defineEvent("onFinish",e.RUN,400,n.to),this._defineEvent("onSuccess",e.SUCCESS,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=r.TransitionHookScope.STATE,t=r.TransitionHookScope.TRANSITION;this._definePathType("to",t),this._definePathType("from",t),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(e,t,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=m.TransitionHook.HANDLE_RESULT),void 0===a&&(a=m.TransitionHook.REJECT_ERROR),void 0===s&&(s=!1);var u=new d.TransitionEventType(e,t,n,r,i,o,a,s);this._eventTypes.push(u),c.makeEvent(this,this,u)},e.prototype._getEvents=function(t){return(v.isDefined(t)?this._eventTypes.filter(function(e){return e.hookPhase===t}):this._eventTypes.slice()).sort(function(e,t){var n=e.hookPhase-t.hookPhase;return 0===n?e.hookOrder-t.hookOrder:n})},e.prototype._definePathType=function(e,t){this._criteriaPaths[e]={name:e,scope:t}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(e){return this._registeredHooks[e]},e.prototype._registerCoreTransitionHooks=function(){var e=this._deregisterHookFns;e.addCoreResolves=o.registerAddCoreResolvables(this),e.ignored=y.registerIgnoredTransitionHook(this),e.invalid=b.registerInvalidTransitionHook(this),e.redirectTo=a.registerRedirectToHook(this),e.onExit=s.registerOnExitHook(this),e.onRetain=s.registerOnRetainHook(this),e.onEnter=s.registerOnEnterHook(this),e.eagerResolve=u.registerEagerResolvePath(this),e.lazyResolve=u.registerLazyResolveState(this),e.resolveAll=u.registerResolveRemaining(this),e.loadViews=l.registerLoadEnteringViews(this),e.activateViews=l.registerActivateViews(this),e.updateGlobals=f.registerUpdateGlobalState(this),e.updateUrl=p.registerUpdateUrl(this),e.lazyLoad=h.registerLazyLoadHook(this)},e}();n.TransitionService=w},{"../common/common":3,"../common/hof":6,"../common/predicates":8,"../hooks/coreResolvables":13,"../hooks/ignoredTransition":14,"../hooks/invalidTransition":15,"../hooks/lazyLoad":16,"../hooks/onEnterExitRetain":17,"../hooks/redirectTo":18,"../hooks/resolve":19,"../hooks/updateGlobals":20,"../hooks/url":21,"../hooks/views":22,"./hookRegistry":47,"./interface":49,"./transition":51,"./transitionEventType":52,"./transitionHook":53}],55:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./urlMatcher")),r(e("./urlMatcherFactory")),r(e("./urlRouter")),r(e("./urlRule")),r(e("./urlService"));var i=e("./urlRules");n.UrlRules=i.UrlRules;var o=e("./urlConfig");n.UrlConfig=o.UrlConfig},{"./urlConfig":56,"./urlMatcher":57,"./urlMatcherFactory":58,"./urlRouter":59,"./urlRule":60,"./urlRules":61,"./urlService":62}],56:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../params"),i=e("../common"),o=function(){function e(e){var t=this;this.router=e,this.paramTypes=new r.ParamTypes,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this.dispose=function(){return t.paramTypes.dispose()},this.baseHref=function(){return t.router.locationConfig.baseHref()},this.hashPrefix=function(e){return t.router.locationConfig.hashPrefix(e)},this.host=function(){return t.router.locationConfig.host()},this.html5Mode=function(){return t.router.locationConfig.html5Mode()},this.port=function(){return t.router.locationConfig.port()},this.protocol=function(){return t.router.locationConfig.protocol()}}return e.prototype.caseInsensitive=function(e){return this._isCaseInsensitive=i.isDefined(e)?e:this._isCaseInsensitive},e.prototype.defaultSquashPolicy=function(e){if(i.isDefined(e)&&!0!==e&&!1!==e&&!i.isString(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=i.isDefined(e)?e:this._defaultSquashPolicy},e.prototype.strictMode=function(e){return this._isStrictMode=i.isDefined(e)?e:this._isStrictMode},e.prototype.type=function(e,t,n){var r=this.paramTypes.type(e,t,n);return i.isDefined(t)?this:r},e}();n.UrlConfig=o},{"../common":7,"../params":25}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var w=e("../common/common"),_=e("../common/hof"),S=e("../common/predicates"),u=e("../params/param"),c=e("../common/strings"),g=e("../common");function $(e,t){var n=["",""],r=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return r;switch(t.squash){case!1:n=["(",")"+(t.isOptional?"?":"")];break;case!0:r=r.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+t.squash+"|",")?"]}return r+n[0]+t.type.pattern.source+n[1]}var l=c.splitOnDelim("/"),y={state:{params:{}},strict:!0,caseInsensitive:!0},r=function(){function v(o,a,e,t){var s=this;this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.config=t=g.defaults(t,y),this.pattern=o;for(var n,r,i,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l=[],f=0,p=function(e){if(!v.nameValidator.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+o+"'");if(w.find(s._params,_.propEq("id",e)))throw new Error("Duplicate parameter name '"+e+"' in pattern '"+o+"'")},h=function(e,t){var n,r=e[2]||e[3],i=t?e[4]:e[4]||("*"===e[1]?"[\\s\\S]*":null);return{id:r,regexp:i,segment:o.substring(f,e.index),type:i?a.type(i)||(n=i,w.inherit(a.type(t?"query":"path"),{pattern:new RegExp(n,s.config.caseInsensitive?"i":void 0)})):null}};(n=u.exec(o))&&!(0<=(r=h(n,!1)).segment.indexOf("?"));)p(r.id),this._params.push(e.fromPath(r.id,r.type,t.state)),this._segments.push(r.segment),l.push([r.segment,w.tail(this._params)]),f=u.lastIndex;var d=(i=o.substring(f)).indexOf("?");if(0<=d){var m=i.substring(d);if(i=i.substring(0,d),0<m.length)for(f=0;n=c.exec(m);)p((r=h(n,!0)).id),this._params.push(e.fromSearch(r.id,r.type,t.state)),f=u.lastIndex}this._segments.push(i),this._compiled=l.map(function(e){return $.apply(null,e)}).concat($(i))}return v.encodeDashes=function(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})},v.pathSegmentsAndParams=function(e){var t=e._segments,n=e._params.filter(function(e){return e.location===u.DefType.PATH});return w.arrayTuples(t,n.concat(void 0)).reduce(w.unnestR,[]).filter(function(e){return""!==e&&S.isDefined(e)})},v.queryParams=function(e){return e._params.filter(function(e){return e.location===u.DefType.SEARCH})},v.compare=function(e,t){var n=function(e){return e._cache.weights=e._cache.weights||(t=e,t._cache.segments=t._cache.segments||t._cache.path.map(v.pathSegmentsAndParams).reduce(w.unnestR,[]).reduce(c.joinNeighborsR,[]).map(function(e){return S.isString(e)?l(e):e}).reduce(w.unnestR,[])).map(function(e){return"/"===e?1:S.isString(e)?2:e instanceof u.Param?3:void 0});var t},r=n(e),i=n(t);!function(e,t,n){for(var r=Math.max(e.length,t.length);e.length<r;)e.push(n);for(;t.length<r;)t.push(n)}(r,i,0);var o,a,s=w.arrayTuples(r,i);for(a=0;a<s.length;a++)if(0!==(o=s[a][0]-s[a][1]))return o;return 0},v.prototype.append=function(e){return this._children.push(e),e._cache={path:this._cache.path.concat(e),parent:this,pattern:null},e},v.prototype.isRoot=function(){return this._cache.path[0]===this},v.prototype.toString=function(){return this.pattern},v.prototype.exec=function(e,r,t,n){var i=this;void 0===r&&(r={}),void 0===n&&(n={});var o,a,s,u=(o=this._cache,a="pattern",s=function(){return new RegExp(["^",w.unnest(i._cache.path.map(_.prop("_compiled"))).join(""),!1===i.config.strict?"/?":"","$"].join(""),i.config.caseInsensitive?"i":void 0)},o[a]=o[a]||s()).exec(e);if(!u)return null;var c,l,f,p=this.parameters(),h=p.filter(function(e){return!e.isSearch()}),d=p.filter(function(e){return e.isSearch()}),m=this._cache.path.map(function(e){return e._segments.length-1}).reduce(function(e,t){return e+t}),v={};if(m!==u.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var g=0;g<m;g++){for(var $=h[g],y=u[g+1],b=0;b<$.replace.length;b++)$.replace[b].from===y&&(y=$.replace[b].to);y&&!0===$.array&&(void 0,l=(c=function(e){return e.split("").reverse().join("")})(y).split(/-(?!\\)/),f=w.map(l,c),y=w.map(f,function(e){return e.replace(/\\-/g,"-")}).reverse()),S.isDefined(y)&&(y=$.type.decode(y)),v[$.id]=$.value(y)}return d.forEach(function(e){for(var t=r[e.id],n=0;n<e.replace.length;n++)e.replace[n].from===t&&(t=e.replace[n].to);S.isDefined(t)&&(t=e.type.decode(t)),v[e.id]=e.value(t)}),t&&(v["#"]=t),v},v.prototype.parameters=function(e){return void 0===e&&(e={}),!1===e.inherit?this._params:w.unnest(this._cache.path.map(function(e){return e._params}))},v.prototype.parameter=function(r,e){var i=this;void 0===e&&(e={});var t=this._cache.parent;return function(){for(var e=0,t=i._params;e<t.length;e++){var n=t[e];if(n.id===r)return n}}()||!1!==e.inherit&&t&&t.parameter(r,e)||null},v.prototype.validates=function(r){return r=r||{},this.parameters().filter(function(e){return r.hasOwnProperty(e.id)}).map(function(e){return n=r[(t=e).id],!t||t.validates(n);var t,n}).reduce(w.allTrueR,!0)},v.prototype.format=function(a){void 0===a&&(a={});var e=this._cache.path,t=e.map(v.pathSegmentsAndParams).reduce(w.unnestR,[]).map(function(e){return S.isString(e)?e:r(e)}),n=e.map(v.queryParams).reduce(w.unnestR,[]).map(r);if(t.concat(n).filter(function(e){return!1===e.isValid}).length)return null;function r(e){var t=e.value(a[e.id]),n=e.validates(t),r=e.isDefaultValue(t),i=!!r&&e.squash,o=e.type.encode(t);return{param:e,value:t,isValid:n,isDefaultValue:r,squash:i,encoded:o}}var i=t.reduce(function(e,t){if(S.isString(t))return e+t;var n=t.squash,r=t.encoded,i=t.param;return!0===n?e.match(/\/$/)?e.slice(0,-1):e:S.isString(n)?e+n:!1!==n?e:null==r?e:S.isArray(r)?e+w.map(r,v.encodeDashes).join("-"):i.raw?e+r:e+encodeURIComponent(r)},""),o=n.map(function(e){var t=e.param,n=e.squash,r=e.encoded,i=e.isDefaultValue;if(!(null==r||i&&!1!==n)&&(S.isArray(r)||(r=[r]),0!==r.length))return t.raw||(r=w.map(r,encodeURIComponent)),r.map(function(e){return t.id+"="+e})}).filter(w.identity).reduce(w.unnestR,[]).join("&");return i+(o?"?"+o:"")+(a["#"]?"#"+a["#"]:"")},v.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,v}();n.UrlMatcher=r},{"../common":7,"../common/common":3,"../common/hof":6,"../common/predicates":8,"../common/strings":10,"../params/param":26}],58:[function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../common"),s=e("./urlMatcher"),i=e("../params"),u=function(){function e(e){this.router=e}return e.prototype.fromConfig=function(e,t,n){return new i.Param(e,t,i.DefType.CONFIG,this.router.urlService.config,n)},e.prototype.fromPath=function(e,t,n){return new i.Param(e,t,i.DefType.PATH,this.router.urlService.config,n)},e.prototype.fromSearch=function(e,t,n){return new i.Param(e,t,i.DefType.SEARCH,this.router.urlService.config,n)},e}();n.ParamFactory=u;var r=function(){function e(e){var r=this;this.router=e,this.paramFactory=new u(this.router),this.caseInsensitive=function(e){return r.router.urlService.config.caseInsensitive(e)},this.defaultSquashPolicy=function(e){return r.router.urlService.config.defaultSquashPolicy(e)},this.strictMode=function(e){return r.router.urlService.config.strictMode(e)},this.type=function(e,t,n){return r.router.urlService.config.type(e,t,n)||r},a.extend(this,{UrlMatcher:s.UrlMatcher,Param:i.Param})}return e.prototype.compile=function(e,t){var n=this.router.urlService.config,r=t&&!t.state&&t.params;t=r?o({state:{params:r}},t):t;var i={strict:n._isStrictMode,caseInsensitive:n._isCaseInsensitive};return new s.UrlMatcher(e,n.paramTypes,this.paramFactory,a.extend(i,t))},e.prototype.isMatcher=function(n){if(!a.isObject(n))return!1;var r=!0;return a.forEach(s.UrlMatcher.prototype,function(e,t){a.isFunction(e)&&(r=r&&a.isDefined(n[t])&&a.isFunction(n[t]))}),r},e.prototype.$get=function(){var e=this.router.urlService.config;return e.paramTypes.enqueue=!1,e.paramTypes._flushTypeQueue(),this},e}();n.UrlMatcherFactory=r},{"../common":7,"../params":25,"./urlMatcher":57}],59:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var h=e("../common"),i=e("./urlRule");var r=function(){function e(e){var r=this;this.router=e,this.sync=function(e){return r.router.urlService.sync(e)},this.listen=function(e){return r.router.urlService.listen(e)},this.deferIntercept=function(e){return r.router.urlService.deferIntercept(e)},this.match=function(e){return r.router.urlService.match(e)},this.initial=function(e){return r.router.urlService.rules.initial(e)},this.otherwise=function(e){return r.router.urlService.rules.otherwise(e)},this.removeRule=function(e){return r.router.urlService.rules.removeRule(e)},this.rule=function(e){return r.router.urlService.rules.rule(e)},this.rules=function(){return r.router.urlService.rules.rules()},this.sort=function(e){return r.router.urlService.rules.sort(e)},this.when=function(e,t,n){return r.router.urlService.rules.when(e,t,n)},this.urlRuleFactory=new i.UrlRuleFactory(e)}return e.prototype.update=function(e){var t=this.router.locationService;e?this.location=t.url():t.url()!==this.location&&t.url(this.location,!0)},e.prototype.push=function(e,t,n){var r=n&&!!n.replace;this.router.urlService.url(e.format(t||{}),r)},e.prototype.href=function(e,t,n){var r=e.format(t);if(null==r)return null;n=n||{absolute:!1};var i,o,a,s,u=this.router.urlService.config,c=u.html5Mode();if(c||null===r||(r="#"+u.hashPrefix()+r),i=r,o=c,a=n.absolute,r="/"===(s=u.baseHref())?i:o?h.stripLastPathElement(s)+i:a?s.slice(1)+i:i,!n.absolute||!r)return r;var l=!c&&r?"/":"",f=u.port(),p=80===f||443===f?"":":"+f;return[u.protocol(),"://",u.host(),p,l,r].join("")},Object.defineProperty(e.prototype,"interceptDeferred",{get:function(){return this.router.urlService.interceptDeferred},enumerable:!0,configurable:!0}),e}();n.UrlRouter=r},{"../common":7,"./urlRule":60}],60:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("./urlMatcher"),s=e("../common/predicates"),o=e("../common/common"),u=e("../common/hof"),c=e("../state/stateObject"),r=function(){function e(e){this.router=e}return e.prototype.compile=function(e){return this.router.urlMatcherFactory.compile(e)},e.prototype.create=function(e,t){var n=this,r=c.StateObject.isState,i=u.pattern([[s.isString,function(e){return i(n.compile(e))}],[u.is(a.UrlMatcher),function(e){return n.fromUrlMatcher(e,t)}],[r,function(e){return n.fromState(e,n.router)}],[u.is(RegExp),function(e){return n.fromRegExp(e,t)}],[s.isFunction,function(e){return new l(e,t)}]]),o=i(e);if(!o)throw new Error("invalid 'what' in when()");return o},e.prototype.fromUrlMatcher=function(n,t){var e=t;s.isString(t)&&(t=this.router.urlMatcherFactory.compile(t)),u.is(a.UrlMatcher)(t)&&(e=function(e){return t.format(e)});var r={urlMatcher:n,matchPriority:function(t){var e=n.parameters().filter(function(e){return e.isOptional});return e.length?e.filter(function(e){return t[e.id]}).length/e.length:1e-6},type:"URLMATCHER"};return o.extend(new l(function(e){var t=n.exec(e.path,e.search,e.hash);return n.validates(t)&&t},e),r)},e.prototype.fromState=function(r,i){var e={state:r,type:"STATE"};return o.extend(this.fromUrlMatcher(r.url,function(e){var t=i.stateService,n=i.globals;t.href(r,e)!==t.href(n.current,n.params)&&t.transitionTo(r,e,{inherit:!0,source:"url"})}),e)},e.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=s.isString(e)?function(n){return e.replace(/\$(\$|\d{1,2})/,function(e,t){return n["$"===t?0:Number(t)]})}:e,r={regexp:t,type:"REGEXP"};return o.extend(new l(function(e){return t.exec(e.path)},n),r)},e.isUrlRule=function(t){return t&&["type","match","handler"].every(function(e){return s.isDefined(t[e])})},e}();n.UrlRuleFactory=r;var l=function(e,t){var n=this;this.match=e,this.type="RAW",this.matchPriority=function(e){return 0-n.$id},this.handler=t||o.identity};n.BaseUrlRule=l},{"../common/common":3,"../common/hof":6,"../common/predicates":8,"../state/stateObject":41,"./urlMatcher":57}],61:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=e("../state"),f=e("./urlMatcher"),o=e("../common"),a=e("./urlRule");function s(e){if(!(o.isFunction(e)||o.isString(e)||o.is(i.TargetState)(e)||i.TargetState.isDef(e)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return o.isFunction(e)?e:o.val(e)}r=function(e,t){var n,r,i,o,a,s,u,c,l=(n=e,(t.priority||0)-(n.priority||0));return 0!==l?l:(r=t,0!==(l=((i={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1})[e.type]||0)-(i[r.type]||0))?l:(a=t,0!==(l=(o=e).urlMatcher&&a.urlMatcher?f.UrlMatcher.compare(o.urlMatcher,a.urlMatcher):0)?l:(u=t,(c={STATE:!0,URLMATCHER:!0})[(s=e).type]&&c[u.type]?0:(s.$id||0)-(u.$id||0))))};var u=function(){function e(e){this.router=e,this._sortFn=r,this._rules=[],this._id=0,this.urlRuleFactory=new a.UrlRuleFactory(e)}return e.prototype.dispose=function(e){this._rules=[],delete this._otherwiseFn},e.prototype.initial=function(e){var t=s(e);this.rule(this.urlRuleFactory.create(function(e,t){return 0===t.globals.transitionHistory.size()&&!!/^\/?$/.exec(e.path)},t))},e.prototype.otherwise=function(e){var t=s(e);this._otherwiseFn=this.urlRuleFactory.create(o.val(!0),t),this._sorted=!1},e.prototype.removeRule=function(e){o.removeFrom(this._rules,e)},e.prototype.rule=function(e){var t=this;if(!a.UrlRuleFactory.isUrlRule(e))throw new Error("invalid rule");return e.$id=this._id++,e.priority=e.priority||0,this._rules.push(e),this._sorted=!1,function(){return t.removeRule(e)}},e.prototype.rules=function(){return this.ensureSorted(),this._rules.concat(this._otherwiseFn?[this._otherwiseFn]:[])},e.prototype.sort=function(e){for(var t=this.stableSort(this._rules,this._sortFn=e||this._sortFn),n=0,r=0;r<t.length;r++)t[r]._group=n,r<t.length-1&&0!==this._sortFn(t[r],t[r+1])&&n++;this._rules=t,this._sorted=!0},e.prototype.ensureSorted=function(){this._sorted||this.sort()},e.prototype.stableSort=function(e,r){var t=e.map(function(e,t){return{elem:e,idx:t}});return t.sort(function(e,t){var n=r(e.elem,t.elem);return 0===n?e.idx-t.idx:n}),t.map(function(e){return e.elem})},e.prototype.when=function(e,t,n){var r=this.urlRuleFactory.create(e,t);return o.isDefined(n&&n.priority)&&(r.priority=n.priority),this.rule(r),r},e}();n.UrlRules=u},{"../common":7,"../state":38,"./urlMatcher":57,"./urlRule":60}],62:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var u=e("../common"),i=e("./urlRules"),o=e("./urlConfig"),a=e("../state"),r=function(){function e(e){var r=this;this.router=e,this.interceptDeferred=!1,this.rules=new i.UrlRules(this.router),this.config=new o.UrlConfig(this.router),this.url=function(e,t,n){return r.router.locationService.url(e,t,n)},this.path=function(){return r.router.locationService.path()},this.search=function(){return r.router.locationService.search()},this.hash=function(){return r.router.locationService.hash()},this.onChange=function(e){return r.router.locationService.onChange(e)}}return e.prototype.dispose=function(){this.listen(!1),this.rules.dispose()},e.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},e.prototype.sync=function(e){if(!e||!e.defaultPrevented){var t=this.router,n=t.urlService,r=t.stateService,i={path:n.path(),search:n.search(),hash:n.hash()},o=this.match(i);u.pattern([[u.isString,function(e){return n.url(e,!0)}],[a.TargetState.isDef,function(e){return r.go(e.state,e.params,e.options)}],[u.is(a.TargetState),function(e){return r.go(e.state(),e.params(),e.options())}]])(o&&o.rule.handler(o.match,i,this.router))}},e.prototype.listen=function(e){var t=this;if(!1!==e)return this._stopListeningFn=this._stopListeningFn||this.router.urlService.onChange(function(e){return t.sync(e)});this._stopListeningFn&&this._stopListeningFn(),delete this._stopListeningFn},e.prototype.deferIntercept=function(e){void 0===e&&(e=!0),this.interceptDeferred=e},e.prototype.match=function(e){var t=this;e=u.extend({path:"",search:{},hash:""},e);for(var n,r,i,o=this.rules.rules(),a=0;a<o.length&&(!n||n.rule._group===o[a]._group);a++){var s=(r=o[a],void 0,(i=r.match(e,t.router))&&{match:i,rule:r,weight:r.matchPriority(i)});n=!n||s&&s.weight>n.weight?s:n}return n},e}();n.UrlService=r},{"../common":7,"../state":38,"./urlConfig":56,"./urlRules":61}],63:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("./vanilla/index"))},{"./vanilla/index":67}],64:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common"),i=e("./utils"),o=function(){function e(e,t){var n=this;this.fireAfterUpdate=t,this._listeners=[],this._listener=function(t){return n._listeners.forEach(function(e){return e(t)})},this.hash=function(){return i.parseUrl(n._get()).hash},this.path=function(){return i.parseUrl(n._get()).path},this.search=function(){return i.getParams(i.parseUrl(n._get()).search)},this._location=r.root.location,this._history=r.root.history}return e.prototype.url=function(t,e){return void 0===e&&(e=!0),r.isDefined(t)&&t!==this._get()&&(this._set(null,null,t,e),this.fireAfterUpdate&&this._listeners.forEach(function(e){return e({url:t})})),i.buildUrl(this)},e.prototype.onChange=function(e){var t=this;return this._listeners.push(e),function(){return r.removeFrom(t._listeners,e)}},e.prototype.dispose=function(e){r.deregAll(this._listeners)},e}();n.BaseLocationServices=o},{"../common":7,"./utils":74}],65:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/predicates"),i=function(){function e(e,t){void 0===t&&(t=!1),this._isHtml5=t,this._baseHref=void 0,this._hashPrefix=""}return e.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},e.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},e.prototype.host=function(){return location.hostname},e.prototype.html5Mode=function(){return this._isHtml5},e.prototype.hashPrefix=function(e){return r.isDefined(e)?this._hashPrefix=e:this._hashPrefix},e.prototype.baseHref=function(e){return r.isDefined(e)&&(this._baseHref=e),r.isUndefined(this._baseHref)&&(this._baseHref=this.getBaseHref()),this._baseHref},e.prototype.getBaseHref=function(){var e=document.getElementsByTagName("base")[0];return e&&e.href?e.href.replace(/^([^/:]*:)?\/\/[^/]*/,""):this._isHtml5?"/":location.pathname||"/"},e.prototype.dispose=function(){},e}();n.BrowserLocationConfig=i},{"../common/predicates":8}],66:[function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("../common"),a=function(n){function e(e){var t=n.call(this,e,!1)||this;return o.root.addEventListener("hashchange",t._listener,!1),t}return i(e,n),e.prototype._get=function(){return o.trimHashVal(this._location.hash)},e.prototype._set=function(e,t,n,r){this._location.hash=n},e.prototype.dispose=function(e){n.prototype.dispose.call(this,e),o.root.removeEventListener("hashchange",this._listener)},e}(e("./baseLocationService").BaseLocationServices);n.HashLocationService=a},{"../common":7,"./baseLocationService":64}],67:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./q")),r(e("./injector")),r(e("./baseLocationService")),r(e("./hashLocationService")),r(e("./memoryLocationService")),r(e("./pushStateLocationService")),r(e("./memoryLocationConfig")),r(e("./browserLocationConfig")),r(e("./utils")),r(e("./plugins"))},{"./baseLocationService":64,"./browserLocationConfig":65,"./hashLocationService":66,"./injector":68,"./memoryLocationConfig":69,"./memoryLocationService":70,"./plugins":71,"./pushStateLocationService":72,"./q":73,"./utils":74}],68:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var u=e("../common/index"),c={},n=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,r=/([^\s,]+)/g;s.$injector={get:function(e){return c[e]},has:function(e){return null!=s.$injector.get(e)},invoke:function(e,t,n){var r=u.extend({},c,n||{}),i=s.$injector.annotate(e),o=u.assertPredicate(function(e){return r.hasOwnProperty(e)},function(e){return"DI can't find injectable: '"+e+"'"}),a=i.filter(o).map(function(e){return r[e]});return u.isFunction(e)?e.apply(t,a):e.slice(-1)[0].apply(t,a)},annotate:function(e){if(!u.isInjectable(e))throw new Error("Not an injectable function: "+e);if(e&&e.$inject)return e.$inject;if(u.isArray(e))return e.slice(0,-1);var t=e.toString().replace(n,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(r)||[]}}},{"../common/index":7}],69:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/predicates"),i=e("../common/common"),o=function(){var t=this;this.dispose=i.noop,this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return r.isDefined(e)?t._hashPrefix=e:t._hashPrefix}};n.MemoryLocationConfig=o},{"../common/common":3,"../common/predicates":8}],70:[function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){function e(e){return t.call(this,e,!0)||this}return i(e,t),e.prototype._get=function(){return this._url},e.prototype._set=function(e,t,n,r){this._url=n},e}(e("./baseLocationService").BaseLocationServices);n.MemoryLocationService=o},{"./baseLocationService":64}],71:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./browserLocationConfig"),i=e("./hashLocationService"),o=e("./utils"),a=e("./pushStateLocationService"),s=e("./memoryLocationService"),u=e("./memoryLocationConfig"),c=e("./injector"),l=e("./q"),f=e("../common/coreservices");n.servicesPlugin=function(e){return f.services.$injector=c.$injector,f.services.$q=l.$q,{name:"vanilla.services",$q:l.$q,$injector:c.$injector,dispose:function(){return null}}},n.hashLocationPlugin=o.locationPluginFactory("vanilla.hashBangLocation",!1,i.HashLocationService,r.BrowserLocationConfig),n.pushStateLocationPlugin=o.locationPluginFactory("vanilla.pushStateLocation",!0,a.PushStateLocationService,r.BrowserLocationConfig),n.memoryLocationPlugin=o.locationPluginFactory("vanilla.memoryLocation",!1,s.MemoryLocationService,u.MemoryLocationConfig)},{"../common/coreservices":4,"./browserLocationConfig":65,"./hashLocationService":66,"./injector":68,"./memoryLocationConfig":69,"./memoryLocationService":70,"./pushStateLocationService":72,"./q":73,"./utils":74}],72:[function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=e("./baseLocationService"),s=e("../common"),a=function(n){function e(e){var t=n.call(this,e,!0)||this;return t._config=e.urlService.config,s.root.addEventListener("popstate",t._listener,!1),t}return i(e,n),e.prototype._getBasePrefix=function(){return s.stripLastPathElement(this._config.baseHref())},e.prototype._get=function(){var e=this._location,t=e.pathname,n=e.hash,r=e.search;r=s.splitQuery(r)[1],n=s.splitHash(n)[1];var i=this._getBasePrefix(),o=t===this._config.baseHref(),a=t.substr(0,i.length)===i;return(t=o?"/":a?t.substring(i.length):t)+(r?"?"+r:"")+(n?"#"+n:"")},e.prototype._set=function(e,t,n,r){var i=this._getBasePrefix(),o=n&&"/"!==n[0]?"/":"",a=""===n||"/"===n?this._config.baseHref():i+o+n;r?this._history.replaceState(e,t,a):this._history.pushState(e,t,a)},e.prototype.dispose=function(e){n.prototype.dispose.call(this,e),s.root.removeEventListener("popstate",this._listener)},e}(o.BaseLocationServices);n.PushStateLocationService=a},{"../common":7,"./baseLocationService":64}],73:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/index");n.$q={when:function(n){return new Promise(function(e,t){return e(n)})},reject:function(n){return new Promise(function(e,t){t(n)})},defer:function(){var n={};return n.promise=new Promise(function(e,t){n.resolve=e,n.reject=t}),n},all:function(e){if(r.isArray(e))return Promise.all(e);if(r.isObject(e)){var t=Object.keys(e).map(function(t){return e[t].then(function(e){return{key:t,val:e}})});return n.$q.all(t).then(function(e){return e.reduce(function(e,t){return e[t.key]=t.val,e},{})})}}}},{"../common/index":7}],74:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("../common");n.keyValsToObjectR=function(e,t){var n=t[0],r=t[1];return e.hasOwnProperty(n)?a.isArray(e[n])?e[n].push(r):e[n]=[e[n],r]:e[n]=r,e},n.getParams=function(e){return e.split("&").filter(a.identity).map(a.splitEqual).reduce(n.keyValsToObjectR,{})},n.parseUrl=function(e){var t=function(e){return e||""},n=a.splitHash(e).map(t),r=n[0],i=n[1],o=a.splitQuery(r).map(t);return{path:o[0],search:o[1],hash:i,url:e}},n.buildUrl=function(e){var t=e.path(),n=e.search(),r=e.hash(),i=Object.keys(n).map(function(t){var e=n[t];return(a.isArray(e)?e:[e]).map(function(e){return t+"="+e})}).reduce(a.unnestR,[]).join("&");return t+(i?"?"+i:"")+(r?"#"+r:"")},n.locationPluginFactory=function(r,i,o,a){return function(e){var t=e.locationService=new o(e),n=e.locationConfig=new a(e,i);return{name:r,service:t,configuration:n,dispose:function(e){e.dispose(t),e.dispose(n)}}}}},{"../common":7}],75:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("./view"))},{"./view":76}],76:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=e("../common/common"),l=e("../common/hof"),a=e("../common/predicates"),f=e("../common/trace"),r=function(){function u(e){var n=this;this.router=e,this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._listeners=[],this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIView:function(t){return c.find(n._uiViews,function(e){return n.router.$id+"."+e.id===t})},_registeredUIViews:function(){return n._uiViews},_activeViewConfigs:function(){return n._viewConfigs},_onSync:function(e){return n._listeners.push(e),function(){return c.removeFrom(n._listeners,e)}}}}return u.normalizeUIViewTarget=function(e,t){void 0===t&&(t="");var n=t.split("@"),r=n[0]||"$default",i=a.isString(n[1])?n[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(r);o&&(i=o[1],r=o[2]),"!"===r.charAt(0)&&(r=r.substr(1),i="");/^(\^(?:\.\^)*)$/.exec(i)?i=i.split(".").reduce(function(e,t){return e.parent},e).name:"."===i&&(i=e.name);return{uiViewName:r,uiViewContextAnchor:i}},u.prototype._rootViewContext=function(e){return this._rootContext=e||this._rootContext},u.prototype._viewConfigFactory=function(e,t){this._viewConfigFactories[e]=t},u.prototype.createViewConfig=function(e,t){var n=this._viewConfigFactories[t.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+t.$type);var r=n(e,t);return a.isArray(r)?r:[r]},u.prototype.deactivateViewConfig=function(e){f.trace.traceViewServiceEvent("<- Removing",e),c.removeFrom(this._viewConfigs,e)},u.prototype.activateViewConfig=function(e){f.trace.traceViewServiceEvent("-> Registering",e),this._viewConfigs.push(e)},u.prototype.sync=function(){var n=this,r=this._uiViews.map(function(e){return[e.fqn,e]}).reduce(c.applyPairs,{});function i(e){for(var t=e.viewDecl.$context,n=0;++n&&t.parent;)t=t.parent;return n}var o=l.curry(function(e,t,n,r){return t*(e(n)-e(r))}),e=this._uiViews.sort(o(function(e){var t=function(e){return e&&e.parent?t(e.parent)+1:1};return 1e4*e.fqn.split(".").length+t(e.creationContext)},1)).map(function(e){var t=n._viewConfigs.filter(u.matches(r,e));return 1<t.length&&t.sort(o(i,-1)),{uiView:e,viewConfig:t[0]}}),t=e.map(function(e){return e.viewConfig}),a=this._viewConfigs.filter(function(e){return!c.inArray(t,e)}).map(function(e){return{uiView:void 0,viewConfig:e}});e.forEach(function(e){-1!==n._uiViews.indexOf(e.uiView)&&e.uiView.configUpdated(e.viewConfig)});var s=e.concat(a);this._listeners.forEach(function(e){return e(s)}),f.trace.traceViewSync(s)},u.prototype.registerUIView=function(t){f.trace.traceViewServiceUIViewEvent("-> Registering",t);var e=this._uiViews;return e.filter(function(e){return e.fqn===t.fqn&&e.$type===t.$type}).length&&f.trace.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){-1!==e.indexOf(t)?(f.trace.traceViewServiceUIViewEvent("<- Deregistering",t),c.removeFrom(e)(t)):f.trace.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t)}},u.prototype.available=function(){return this._uiViews.map(l.prop("fqn"))},u.prototype.active=function(){return this._uiViews.filter(l.prop("$config")).map(l.prop("name"))},u.matches=function(s,u){return function(e){if(u.$type!==e.viewDecl.$type)return!1;var t=e.viewDecl,n=t.$uiViewName.split("."),r=u.fqn.split(".");if(!c.equals(n,r.slice(0-n.length)))return!1;var i=1-n.length||void 0,o=r.slice(0,i).join("."),a=s[o].creationContext;return t.$uiViewContextAnchor===(a&&a.name)}},u}();n.ViewService=r},{"../common/common":3,"../common/hof":6,"../common/predicates":8,"../common/trace":11}],77:[function(e,C,t){!function(o,p,h){function d(e,t){return typeof e===t}function m(){return"function"!=typeof p.createElement?p.createElement(arguments[0]):$?p.createElementNS.call(p,"http://www.w3.org/2000/svg",arguments[0]):p.createElement.apply(p,arguments)}function i(e,t,n,r){var i,o,a,s,u,c="modernizr",l=m("div"),f=((u=p.body)||((u=m($?"svg":"body")).fake=!0),u);if(parseInt(n,10))for(;n--;)(a=m("div")).id=r?r[n]:c+(n+1),l.appendChild(a);return(i=m("style")).type="text/css",i.id="s"+c,(f.fake?f:l).appendChild(i),f.appendChild(l),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(p.createTextNode(e)),l.id=c,f.fake&&(f.style.background="",f.style.overflow="hidden",s=g.style.overflow,g.style.overflow="hidden",g.appendChild(f)),o=t(l,e),f.fake?(f.parentNode.removeChild(f),g.style.overflow=s,g.offsetHeight):l.parentNode.removeChild(l),!!o}function a(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function v(e,t){var n=e.length;if("CSS"in o&&"supports"in o.CSS){for(;n--;)if(o.CSS.supports(a(e[n]),t))return!0;return!1}if("CSSSupportsRule"in o){for(var r=[];n--;)r.push("("+a(e[n])+":"+t+")");return i("@supports ("+(r=r.join(" or "))+") { #modernizr { position: absolute; } }",function(e){return"absolute"==function(e,t,n){var r;if("getComputedStyle"in o){r=getComputedStyle.call(o,e,t);var i=o.console;null!==r?n&&(r=r.getPropertyValue(n)):i&&i[i.error?"error":"log"].call(i,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else r=!t&&e.currentStyle&&e.currentStyle[n];return r}(e,null,"position")})}return h}function s(e,t){return function(){return e.apply(t,arguments)}}function r(e,t,n,r,i){var o=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+b.join(o+" ")+o).split(" ");return d(t,"string")||d(t,"undefined")?function(e,t,n,r){function i(){a&&(delete _.style,delete _.modElem)}if(r=!d(r,"undefined")&&r,!d(n,"undefined")){var o=v(e,n);if(!d(o,"undefined"))return o}for(var a,s,u,c,l,f=["modernizr","tspan","samp"];!_.style&&f.length;)a=!0,_.modElem=m(f.shift()),_.style=_.modElem.style;for(u=e.length,s=0;s<u;s++)if(c=e[s],l=_.style[c],!!~(""+c).indexOf("-")&&(c=c.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")),_.style[c]!==h){if(r||d(n,"undefined"))return i(),"pfx"!=t||c;try{_.style[c]=n}catch(e){}if(_.style[c]!=l)return i(),"pfx"!=t||c}return i(),!1}(a,t,r,i):function(e,t,n){var r;for(var i in e)if(e[i]in t)return!1===n?e[i]:d(r=t[e[i]],"function")?s(r,n||t):r;return!1}(a=(e+" "+S.join(o+" ")+o).split(" "),t,n)}function e(e,t,n){return r(e,h,h,t,n)}var u=[],t={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){u.push({name:e,fn:t,options:n})},addAsyncTest:function(e){u.push({name:null,fn:e})}},c=function(){};c.prototype=t,c=new c;var n,l=[],g=p.documentElement,$="svg"===g.nodeName.toLowerCase(),f=(n=o.matchMedia||o.msMatchMedia)?function(e){var t=n(e);return t&&t.matches||!1}:function(e){var t=!1;return i("@media "+e+" { #modernizr { position: absolute; } }",function(e){t="absolute"==(o.getComputedStyle?o.getComputedStyle(e,null):e.currentStyle).position}),t};t.mq=f,$||function(e,u){function c(){var e=d.elements;return"string"==typeof e?e.split(" "):e}function l(e){var t=s[e[n]];return t||(t={},a++,e[n]=a,s[a]=t),t}function f(e,t,n){return t||(t=u),h?t.createElement(e):(n||(n=l(t)),!(r=n.cache[e]?n.cache[e].cloneNode():o.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e)).canHaveChildren||i.test(e)||r.tagUrn?r:n.frag.appendChild(r));var r}function r(e){e||(e=u);var t,n,r,i,o,a,s=l(e);return!d.shivCSS||p||s.hasCSS||(s.hasCSS=(i="article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}",o=(r=e).createElement("p"),a=r.getElementsByTagName("head")[0]||r.documentElement,o.innerHTML="x<style>"+i+"</style>",!!a.insertBefore(o.lastChild,a.firstChild))),h||(t=e,(n=s).cache||(n.cache={},n.createElem=t.createElement,n.createFrag=t.createDocumentFragment,n.frag=n.createFrag()),t.createElement=function(e){return d.shivMethods?f(e,t,n):n.createElem(e)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/[\w\-:]+/g,function(e){return n.createElem(e),n.frag.createElement(e),'c("'+e+'")'})+");return n}")(d,n.frag)),e}var p,h,t=e.html5||{},i=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,o=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,n="_html5shiv",a=0,s={};!function(){try{var e=u.createElement("a");e.innerHTML="<xyz></xyz>",p="hidden"in e,h=1==e.childNodes.length||function(){u.createElement("a");var e=u.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){h=p=!0}}();var d={elements:t.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3",shivCSS:!1!==t.shivCSS,supportsUnknownElements:h,shivMethods:!1!==t.shivMethods,type:"default",shivDocument:r,createElement:f,createDocumentFragment:function(e,t){if(e||(e=u),h)return e.createDocumentFragment();for(var n=(t=t||l(e)).frag.cloneNode(),r=0,i=c(),o=i.length;r<o;r++)n.createElement(i[r]);return n},addElements:function(e,t){var n=d.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),d.elements=n+" "+e,r(t)}};e.html5=d,r(u),"object"==typeof C&&C.exports&&(C.exports=d)}(void 0!==o?o:this,p);var y="Moz O ms Webkit",b=t._config.usePrefixes?y.split(" "):[];t._cssomPrefixes=b;var w={elem:m("modernizr")};c._q.push(function(){delete w.elem});var _={style:w.elem.style};c._q.unshift(function(){delete _.style});var S=t._config.usePrefixes?y.toLowerCase().split(" "):[];t._domPrefixes=S,t.testAllProps=r,t.testAllProps=e,c.addTest("borderimage",e("borderImage","url() 1",!0)),c.addTest("borderradius",e("borderRadius","0px",!0)),c.addTest("flexbox",e("flexBasis","1px",!0)),c.addTest("overflowscrolling",e("overflowScrolling","touch",!0));var x={}.toString;c.addTest("smil",function(){return!!p.createElementNS&&/SVGAnimate/.test(x.call(p.createElementNS("http://www.w3.org/2000/svg","animate")))}),function(){var e,t,n,r,i,o;for(var a in u)if(u.hasOwnProperty(a)){if(e=[],(t=u[a]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=d(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)1===(o=e[i].split(".")).length?c[o[0]]=r:(!c[o[0]]||c[o[0]]instanceof Boolean||(c[o[0]]=new Boolean(c[o[0]])),c[o[0]][o[1]]=r),l.push((r?"":"no-")+o.join("-"))}}(),function(e){var t=g.className,n=c._config.classPrefix||"";if($&&(t=t.baseVal),c._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}c._config.enableClasses&&(t+=" "+n+e.join(" "+n),$?g.className.baseVal=t:g.className=t)}(l),delete t.addTest,delete t.addAsyncTest;for(var E=0;E<c._q.length;E++)c._q[E]();o.Modernizr=c}(window,document)},{}],78:[function(e,t,n){!function(e,c){"use strict";function t(e,s,t){var u=t.baseHref(),r=e[0];return function(e,t,n){r.cookie=function(e,t,n){var r,i;i=(n=n||{}).expires,r=c.isDefined(n.path)?n.path:u,c.isUndefined(t)&&(i="Thu, 01 Jan 1970 00:00:00 GMT",t=""),c.isString(i)&&(i=new Date(i));var o=encodeURIComponent(e)+"="+encodeURIComponent(t);o+=r?";path="+r:"",o+=n.domain?";domain="+n.domain:"",o+=i?";expires="+i.toUTCString():"",o+=n.secure?";secure":"";var a=(o+=n.samesite?";samesite="+n.samesite:"").length+1;return 4096<a&&s.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+a+" > 4096 bytes)!"),o}(e,t,n)}}c.module("ngCookies",["ng"]).info({angularVersion:"1.7.7"}).provider("$cookies",[function(){var t=this.defaults={};function i(e){return e?c.extend({},t,e):t}this.$get=["$$cookieReader","$$cookieWriter",function(t,r){return{get:function(e){return t()[e]},getObject:function(e){var t=this.get(e);return t?c.fromJson(t):t},getAll:function(){return t()},put:function(e,t,n){r(e,t,i(n))},putObject:function(e,t,n){this.put(e,c.toJson(t),n)},remove:function(e,t){r(e,void 0,i(t))}}}]}]),t.$inject=["$document","$log","$browser"],c.module("ngCookies").provider("$$cookieWriter",function(){this.$get=t})}(window,window.angular)},{}],79:[function(e,t,n){e("./angular-cookies"),t.exports="ngCookies"},{"./angular-cookies":78}],80:[function(e,t,n){!function(x,E){"use strict";var C,k,O,j,P,R,T,A,M,N,L=E.$$minErr("$sanitize");E.module("ngSanitize",[]).provider("$sanitize",function(){var t=!1,r=!1;this.$get=["$$sanitizeUri",function(n){return t=!0,r&&k(p,l),function(e){var t=[];return M(e,N(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}],this.enableSvg=function(e){return P(e)?(r=e,this):r},this.addValidElements=function(e){return t||(j(e)&&(e={htmlElements:e}),y(l,e.svgElements),y(s,e.htmlVoidElements),y(p,e.htmlVoidElements),y(p,e.htmlElements)),this},this.addValidAttrs=function(e){return t||k(v,$(e,!0)),this},C=E.bind,k=E.extend,O=E.forEach,j=E.isArray,P=E.isDefined,R=E.$$lowercase,T=E.noop,M=function(e,t){null==e?e="":"string"!=typeof e&&(e=""+e);var n=b(e);if(!n)return"";var r=5;do{if(0===r)throw L("uinput","Failed to sanitize html because the input is unstable");r--,e=n.innerHTML,n=b(e)}while(e!==n.innerHTML);for(var i=n.firstChild;i;){switch(i.nodeType){case 1:t.start(i.nodeName.toLowerCase(),w(i.attributes));break;case 3:t.chars(i.textContent)}var o;if(!((o=i.firstChild)||(1===i.nodeType&&t.end(i.nodeName.toLowerCase()),o=S("nextSibling",i))))for(;null==o&&(i=S("parentNode",i))!==n;)o=S("nextSibling",i),1===i.nodeType&&t.end(i.nodeName.toLowerCase());i=o}for(;i=n.firstChild;)n.removeChild(i)},N=function(e,o){var t=!1,a=C(e,e.push);return{start:function(i,e){i=R(i),!t&&f[i]&&(t=i),t||!0!==p[i]||(a("<"),a(i),O(e,function(e,t){var n=R(t),r="img"===i&&"src"===n||"background"===n;!0!==v[n]||!0===h[n]&&!o(e,r)||(a(" "),a(t),a('="'),a(_(e)),a('"'))}),a(">"))},end:function(e){e=R(e),t||!0!==p[e]||!0===s[e]||(a("</"),a(e),a(">")),e==t&&(t=!1)},chars:function(e){t||a(_(e))}}},A=x.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/([^#-~ |!])/g,s=g("area,br,col,hr,img,wbr"),e=g("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),o=g("rp,rt"),a=k({},o,e),u=k({},e,g("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),c=k({},o,g("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),l=g("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),f=g("script,style"),p=k({},s,u,c,a),h=g("background,cite,href,longdesc,src,xlink:href,xml:base"),d=g("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),m=g("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),v=k({},h,m,d);function g(e,t){return $(e.split(","),t)}function $(e,t){var n,r={};for(n=0;n<e.length;n++)r[t?R(e[n]):e[n]]=!0;return r}function y(e,t){t&&t.length&&k(e,$(t))}var b=function(r,t){var e;if(!t||!t.implementation)throw L("noinert","Can't create an inert html document");var n=((e=t.implementation.createHTMLDocument("inert")).documentElement||e.getDocumentElement()).querySelector("body");return n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',n.querySelector("svg img")?function(e){e="<remove></remove>"+e;try{var t=(new r.DOMParser).parseFromString(e,"text/html").body;return t.firstChild.remove(),t}catch(e){return}}:function(e){return n.innerHTML=e,t.documentMode&&function e(t){for(;t;){if(t.nodeType===x.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;r<i;r++){var o=n[r],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),r--,i--)}var s=t.firstChild;s&&e(s),t=S("nextSibling",t)}}(n),n}):function(e){e="<remove></remove>"+e;try{e=encodeURI(e)}catch(e){return}var t=new r.XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(null);var n=t.response.body;return n.firstChild.remove(),n}}(x,x.document);function w(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function _(e){return e.replace(/&/g,"&amp;").replace(n,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(i,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function S(e,t){var n=t[e];if(n&&A.call(t,n))throw L("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}}).info({angularVersion:"1.7.7"}),E.module("ngSanitize").filter("linky",["$sanitize",function(f){var p=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,h=/^mailto:/i,d=E.$$minErr("linky"),m=E.isDefined,v=E.isFunction,g=E.isObject,$=E.isString;return function(e,i,t){if(null==e||""===e)return e;if(!$(e))throw d("notstring","Expected string but received: {0}",e);for(var n,r,o,a=v(t)?t:g(t)?function(){return t}:function(){return{}},s=e,u=[];n=s.match(p);)r=n[0],n[2]||n[4]||(r=(n[3]?"http://":"mailto:")+r),o=n.index,c(s.substr(0,o)),l(r,n[0].replace(h,"")),s=s.substring(o+n[0].length);return c(s),f(u.join(""));function c(e){var t,n;e&&u.push((t=e,N(n=[],T).chars(t),n.join("")))}function l(e,t){var n,r=a(e);for(n in u.push("<a "),r)u.push(n+'="'+r[n]+'" ');!m(i)||"target"in r||u.push('target="',i,'" '),u.push('href="',e.replace(/"/g,"&quot;"),'">'),c(t),u.push("</a>")}}}])}(window,window.angular)},{}],81:[function(e,t,n){e("./angular-sanitize"),t.exports="ngSanitize"},{"./angular-sanitize":80}],82:[function(e,t,n){var r;r=function(){function e(o,a){"use strict";return function(n){if(!(n&&(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var e=function(e){if(!e||!angular.isString(e.prefix)||!angular.isString(e.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var t=[e.prefix,n.key,e.suffix].join("");return angular.isObject(n.fileMap)&&n.fileMap[t]&&(t=n.fileMap[t]),a(angular.extend({url:t,method:"GET"},n.$http)).then(function(e){return e.data},function(){return o.reject(n.key)})},t=[],r=n.files.length,i=0;i<r;i++)t.push(e({prefix:n.files[i].prefix,key:n.key,suffix:n.files[i].suffix}));return o.all(t).then(function(e){for(var t=e.length,n={},r=0;r<t;r++)for(var i in e[r])n[i]=e[r][i];return n})}}return e.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",e),e.displayName="$translateStaticFilesLoader","pascalprecht.translate"},"function"==typeof define&&define.amd?define([],function(){return r()}):"object"==typeof t&&t.exports?t.exports=r():r()},{}],83:[function(e,t,n){var r;r=function(){function e(e){"use strict";var n;if(1===angular.version.major&&4<=angular.version.minor){var r=e.get("$cookies");n={get:function(e){return r.get(e)},put:function(e,t){r.put(e,t)}}}else{var i=e.get("$cookieStore");n={get:function(e){return i.get(e)},put:function(e,t){i.put(e,t)}}}return{get:function(e){return n.get(e)},set:function(e,t){n.put(e,t)},put:function(e,t){n.put(e,t)}}}return e.$inject=["$injector"],angular.module("pascalprecht.translate").factory("$translateCookieStorage",e),e.displayName="$translateCookieStorage","pascalprecht.translate"},"function"==typeof define&&define.amd?define([],function(){return r()}):"object"==typeof t&&t.exports?t.exports=r():r()},{}],84:[function(e,t,n){var r;r=function(){function e(n,e){"use strict";var r,t={get:function(e){return r||(r=n.localStorage.getItem(e)),r},set:function(e,t){r=t,n.localStorage.setItem(e,t)},put:function(e,t){r=t,n.localStorage.setItem(e,t)}},i="localStorage"in n;if(i){var o="pascalprecht.translate.storageTest";try{i=null!==n.localStorage&&(n.localStorage.setItem(o,"foo"),n.localStorage.removeItem(o),!0)}catch(e){i=!1}}return i?t:e}return e.$inject=["$window","$translateCookieStorage"],angular.module("pascalprecht.translate").factory("$translateLocalStorage",e),e.displayName="$translateLocalStorageFactory","pascalprecht.translate"},"function"==typeof define&&define.amd?define([],function(){return r()}):"object"==typeof t&&t.exports?t.exports=r():r()},{}],85:[function(e,t,n){var r;r=function(){function e(t){"use strict";var n=t.storageKey(),r=t.storage(),e=function(){var e=t.preferredLanguage();angular.isString(e)?t.use(e):r.put(n,t.use())};e.displayName="fallbackFromIncorrectStorageValue",r?r.get(n)?t.use(r.get(n)).catch(e):e():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function t(e,i,t,o){"use strict";var T,l,A,M,N,L,V,n,I,D,q,U,F,H,z,B,G={},W=[],K=e,J=[],Y="translate-cloak",Q=!1,Z=!1,X=".",ee=!1,te=!1,ne=0,re=!0,r="default",a={default:function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return 1<n.length?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");switch(n.length){case 1:n[0]=n[0].toLowerCase();break;case 2:n[0]=n[0].toLowerCase(),4===n[1].length?n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase():n[1]=n[1].toUpperCase();break;case 3:n[0]=n[0].toLowerCase(),n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase(),n[2]=n[2].toUpperCase();break;default:return t}return n.join("-")},"iso639-1":function(e){return(e||"").split("_").join("-").split("-")[0].toLowerCase()}},s=function(){if(angular.isFunction(o.getLocale))return o.getLocale();var e,t,n=i.$get().navigator,r=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(n.languages))for(e=0;e<n.languages.length;e++)if((t=n.languages[e])&&t.length)return t;for(e=0;e<r.length;e++)if((t=n[r[e]])&&t.length)return t;return null};s.displayName="angular-translate/service: getFirstBrowserLanguage";var ie=function(){var e=s()||"";return a[r]&&(e=a[r](e)),e};ie.displayName="angular-translate/service: getLocale";var oe=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},ae=function(){return this.toString().replace(/^\s+|\s+$/g,"")},f=function(e){return angular.isString(e)?e.toLowerCase():e},se=function(e){if(e){for(var t,n=[],r=f(e),i=0,o=W.length;i<o;i++)n.push(f(W[i]));if(-1<(i=oe(n,r)))return W[i];if(l)for(var a in l)if(l.hasOwnProperty(a)){var s=!1,u=Object.prototype.hasOwnProperty.call(l,a)&&f(a)===f(e);if("*"===a.slice(-1)&&(s=f(a.slice(0,-1))===f(e.slice(0,a.length-1))),(u||s)&&(t=l[a],-1<oe(n,f(t))))return t}var c=e.split("_");return 1<c.length&&-1<oe(n,f(c[0]))?c[0]:void 0}},ue=function(e,t){if(!e&&!t)return G;if(e&&!t){if(angular.isString(e))return G[e]}else angular.isObject(G[e])||(G[e]={}),angular.extend(G[e],ce(t));return this};this.translations=ue,this.cloakClassName=function(e){return e?(Y=e,this):Y},this.nestedObjectDelimeter=function(e){return e?(X=e,this):X};var ce=function(e,t,n,r){var i,o,a;for(i in t||(t=[]),n||(n={}),e)Object.prototype.hasOwnProperty.call(e,i)&&(a=e[i],angular.isObject(a)?ce(a,t.concat(i),n,i):(o=t.length?""+t.join(X)+X+i:i,t.length&&i===r&&(n[""+t.join(X)]="@:"+o),n[o]=a));return n};ce.displayName="flatObject",this.addInterpolation=function(e){return J.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return D=e,this},this.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},this.preferredLanguage=function(e){return e?(le(e),this):T};var le=function(e){return e&&(T=e),T};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(F=e,this):F},this.translationNotFoundIndicatorRight=function(e){return e?(H=e,this):H},this.fallbackLanguage=function(e){return fe(e),this};var fe=function(e){return e?(angular.isString(e)?(M=!0,A=[e]):angular.isArray(e)&&(M=!1,A=e),angular.isString(T)&&oe(A,T)<0&&A.push(T),this):M?A[0]:A};this.use=function(e){if(e){if(!G[e]&&!q)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return N=e,this}return N},this.resolveClientLocale=function(){return ie()};var pe=function(e){return e?(K=e,this):n?n+K:K};this.storageKey=pe,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return q=e,U=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return V=e,this},this.storagePrefix=function(e){return e?(n=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return I=e,this},this.usePostCompiling=function(e){return Q=!!e,this},this.forceAsyncReload=function(e){return Z=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},r=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():ie();return T=W.length&&se(t)||t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(W=e,t&&(l=t),this):W},this.useLoaderCache=function(e){return!1===e?z=void 0:!0===e?z=!0:void 0===e?z="$translationCache":e&&(z=e),this},this.directivePriority=function(e){return void 0===e?ne:(ne=e,this)},this.statefulFilter=function(e){return void 0===e?re:(re=e,this)},this.postProcess=function(e){return B=e||void 0,this},this.keepContent=function(e){return te=!!e,this},this.$get=["$log","$injector","$rootScope","$q",function(e,s,a,g){var o,$,y,b=s.get(D||"$translateDefaultInterpolation"),w=!1,_={},f={},S=function(e,a,s,u,c,l){!N&&T&&(N=T);var r=c&&c!==N?se(c)||c:N;if(c&&v(c),angular.isArray(e)){return function(e){for(var r={},t=[],n=function(t){var n=g.defer(),e=function(e){r[t]=e,n.resolve([t,e])};return S(t,a,s,u,c,l).then(e,e),n.promise},i=0,o=e.length;i<o;i++)t.push(n(e[i]));return g.all(t).then(function(){return r})}(e)}var t=g.defer();e&&(e=ae.apply(e));var n=function(){var e=f[r]||f[T];if($=0,V&&!e){var t=o.get(K);if(e=f[t],A&&A.length){var n=oe(A,t);$=0===n?1:0,oe(A,T)<0&&A.push(T)}}return e}();if(n){var i=function(){c||(r=N),d(e,a,s,u,r,l).then(t.resolve,t.reject)};i.displayName="promiseResolved",n.finally(i).catch(angular.noop)}else d(e,a,s,u,r,l).then(t.resolve,t.reject);return t.promise},x=function(e){return F&&(e=[F,e].join(" ")),H&&(e=[e,H].join(" ")),e},u=function(e){N=e,V&&o.put(S.storageKey(),N),a.$emit("$translateChangeSuccess",{language:e}),b.setLocale(N);var t=function(e,t){_[t].setLocale(N)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(_,t),a.$emit("$translateChangeEnd",{language:e})},c=function(n){if(!n)throw"No language key specified for loading.";var r=g.defer();a.$emit("$translateLoadingStart",{language:n}),w=!0;var e=z;"string"==typeof e&&(e=s.get(e));var t=angular.extend({},U,{key:n,$http:angular.extend({},{cache:e},U.$http)}),i=function(e){var t={};a.$emit("$translateLoadingSuccess",{language:n}),angular.isArray(e)?angular.forEach(e,function(e){angular.extend(t,ce(e))}):angular.extend(t,ce(e)),w=!1,r.resolve({key:n,table:t}),a.$emit("$translateLoadingEnd",{language:n})};i.displayName="onLoaderSuccess";var o=function(e){a.$emit("$translateLoadingError",{language:e}),r.reject(e),a.$emit("$translateLoadingEnd",{language:e})};return o.displayName="onLoaderError",s.get(q)(t).then(i,o),r.promise};if(V&&(!(o=s.get(V)).get||!o.put))throw new Error("Couldn't use storage '"+V+"', missing get() or put() method!");if(J.length){var t=function(e){var t=s.get(e);t.setLocale(T||N),_[t.getInterpolationIdentifier()]=t};t.displayName="interpolationFactoryAdder",angular.forEach(J,t)}var l=function(r,i,o,a,s){var u=g.defer(),e=function(e){if(Object.prototype.hasOwnProperty.call(e,i)&&null!==e[i]){a.setLocale(r);var t=e[i];if("@:"===t.substr(0,2))l(r,t.substr(2),o,a,s).then(u.resolve,u.reject);else{var n=a.interpolate(e[i],o,"service",s,i);n=k(i,e[i],n,o,r),u.resolve(n)}a.setLocale(N)}else u.reject()};return e.displayName="fallbackTranslationResolver",function(e){var t=g.defer();if(Object.prototype.hasOwnProperty.call(G,e))t.resolve(G[e]);else if(f[e]){var n=function(e){ue(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",f[e].then(n,t.reject)}else t.reject();return t.promise}(r).then(e,u.reject),u.promise},p=function(e,t,n,r,i){var o,a=G[e];if(a&&Object.prototype.hasOwnProperty.call(a,t)&&null!==a[t]){if(r.setLocale(e),o=r.interpolate(a[t],n,"filter",i,t),o=k(t,a[t],o,n,e,i),!angular.isString(o)&&angular.isFunction(o.$$unwrapTrustedValue)){var s=o.$$unwrapTrustedValue();if("@:"===s.substr(0,2))return p(e,s.substr(2),n,r,i)}else if("@:"===o.substr(0,2))return p(e,o.substr(2),n,r,i);r.setLocale(N)}return o},E=function(e,t,n,r){return I?s.get(I)(e,N,t,n,r):e},C=function(e,t,n,r,i,o){var a=g.defer();if(e<A.length){var s=A[e];l(s,t,n,r,o).then(function(e){a.resolve(e)},function(){return C(e+1,t,n,r,i,o).then(a.resolve,a.reject)})}else if(i)a.resolve(i);else{var u=E(t,n,i);I&&u?a.resolve(u):a.reject(x(t))}return a.promise},h=function(e,t,n,r,i){var o;if(e<A.length){var a=A[e];(o=p(a,t,n,r,i))||""===o||(o=h(e+1,t,n,r))}return o},d=function(e,t,n,r,i,o){var a,s,u,c,l,f=g.defer(),p=i?G[i]:G,h=n?_[n]:b;if(p&&Object.prototype.hasOwnProperty.call(p,e)&&null!==p[e]){var d=p[e];if("@:"===d.substr(0,2))S(d.substr(2),t,n,r,i,o).then(f.resolve,f.reject);else{var m=h.interpolate(d,t,"service",o,e);m=k(e,d,m,t,i),f.resolve(m)}}else{var v;I&&!w&&(v=E(e,t,r)),i&&A&&A.length?(a=e,s=t,u=h,c=r,l=o,C(0<y?y:$,a,s,u,c,l)).then(function(e){f.resolve(e)},function(e){f.reject(x(e))}):I&&!w&&v?r?f.resolve(r):f.resolve(v):r?f.resolve(r):f.reject(x(e))}return f.promise},m=function(e,t,n,r,i){var o,a=r?G[r]:G,s=b;if(_&&Object.prototype.hasOwnProperty.call(_,n)&&(s=_[n]),a&&Object.prototype.hasOwnProperty.call(a,e)&&null!==a[e]){var u=a[e];o="@:"===u.substr(0,2)?m(u.substr(2),t,n,r,i):(o=s.interpolate(u,t,"filter",i,e),k(e,u,o,t,r,i))}else{var c;I&&!w&&(c=E(e,t,i)),o=r&&A&&A.length?h(($=0)<y?y:$,e,t,s,i):I&&!w&&c?c:x(e)}return o},k=function(e,t,n,r,i,o){var a=B;return a&&("string"==typeof a&&(a=s.get(a)),a)?a(e,t,n,r,i,o):n},v=function(e){G[e]||!q||f[e]||(f[e]=c(e).then(function(e){return ue(e.key,e.table),e}))};S.preferredLanguage=function(e){return e&&le(e),T},S.cloakClassName=function(){return Y},S.nestedObjectDelimeter=function(){return X},S.fallbackLanguage=function(e){if(null!=e){if(fe(e),q&&A&&A.length)for(var t=0,n=A.length;t<n;t++)f[A[t]]||(f[A[t]]=c(A[t]));S.use(S.use())}return M?A[0]:A},S.useFallbackLanguage=function(e){if(null!=e)if(e){var t=oe(A,e);-1<t&&(y=t)}else y=0},S.proposedLanguage=function(){return L},S.storage=function(){return o},S.negotiateLocale=se,S.use=function(t){if(!t)return N;var n=g.defer();n.promise.then(null,angular.noop),a.$emit("$translateChangeStart",{language:t});var e=se(t);return 0<W.length&&!e?g.reject(t):(e&&(t=e),L=t,!Z&&G[t]||!q||f[t]?f[t]?f[t].then(function(e){return L===e.key&&u(e.key),n.resolve(e.key),e},function(e){return!N&&A&&0<A.length&&A[0]!==e?S.use(A[0]).then(n.resolve,n.reject):n.reject(e)}):(n.resolve(t),u(t)):(f[t]=c(t).then(function(e){return ue(e.key,e.table),n.resolve(e.key),L===t&&u(e.key),e},function(e){return a.$emit("$translateChangeError",{language:e}),n.reject(e),a.$emit("$translateChangeEnd",{language:e}),g.reject(e)}),f[t].finally(function(){var e;L===(e=t)&&(L=void 0),f[e]=void 0}).catch(angular.noop)),n.promise)},S.resolveClientLocale=function(){return ie()},S.storageKey=function(){return pe()},S.isPostCompilingEnabled=function(){return Q},S.isForceAsyncReloadEnabled=function(){return Z},S.isKeepContent=function(){return te},S.refresh=function(e){if(!q)throw new Error("Couldn't refresh translation table, no loader registered!");a.$emit("$translateRefreshStart",{language:e});var t=g.defer(),n={};function r(t){var e=c(t);return(f[t]=e).then(function(e){G[t]={},ue(t,e.table),n[t]=!0},angular.noop),e}if(t.promise.then(function(){for(var e in G)G.hasOwnProperty(e)&&(e in n||delete G[e]);N&&u(N)},angular.noop).finally(function(){a.$emit("$translateRefreshEnd",{language:e})}),e)G[e]?r(e).then(t.resolve,t.reject):t.reject();else{var i=A&&A.slice()||[];N&&-1===i.indexOf(N)&&i.push(N),g.all(i.map(r)).then(t.resolve,t.reject)}return t.promise},S.instant=function(e,t,n,r,i){var o=r&&r!==N?se(r)||r:N;if(null===e||angular.isUndefined(e))return e;if(r&&v(r),angular.isArray(e)){for(var a={},s=0,u=e.length;s<u;s++)a[e[s]]=S.instant(e[s],t,n,r,i);return a}if(angular.isString(e)&&e.length<1)return e;e&&(e=ae.apply(e));var c,l,f=[];T&&f.push(T),o&&f.push(o),A&&A.length&&(f=f.concat(A));for(var p=0,h=f.length;p<h;p++){var d=f[p];if(G[d]&&void 0!==G[d][e]&&(c=m(e,t,n,o,i)),void 0!==c)break}c||""===c||(F||H?c=x(e):(c=b.interpolate(e,t,"filter",i),I&&!w&&(l=E(e,t,i)),I&&!w&&l&&(c=l)));return c},S.versionInfo=function(){return"2.18.1"},S.loaderCache=function(){return z},S.directivePriority=function(){return ne},S.statefulFilter=function(){return re},S.isReady=function(){return ee};var n=g.defer();n.promise.then(function(){ee=!0}),S.onReady=function(e){var t=g.defer();return angular.isFunction(e)&&t.promise.then(e),ee?t.resolve():n.promise.then(t.resolve),t.promise},S.getAvailableLanguageKeys=function(){return 0<W.length?W:null},S.getTranslationTable=function(e){return(e=e||S.use())&&G[e]?angular.copy(G[e]):null};var r=a.$on("$translateReady",function(){n.resolve(),r(),r=null}),i=a.$on("$translateChangeEnd",function(){n.resolve(),i(),i=null});if(q){if(angular.equals(G,{})&&S.use()&&S.use(S.use()),A&&A.length)for(var O=function(e){return ue(e.key,e.table),a.$emit("$translateChangeEnd",{language:e.key}),e},j=0,P=A.length;j<P;j++){var R=A[j];!Z&&G[R]||(f[R]=c(R).then(O))}}else a.$emit("$translateReady",{language:S.use()});return S}]}function n(a,s){"use strict";var e={};return e.setLocale=function(e){e},e.getInterpolationIdentifier=function(){return"default"},e.useSanitizeValueStrategy=function(e){return s.useStrategy(e),this},e.interpolate=function(e,t,n,r,i){var o;return t=t||{},t=s.sanitize(t,"params",r,n),o=angular.isNumber(e)?""+e:angular.isString(e)?(o=a(e)(t),s.sanitize(o,"text",r,n)):""},e}function r(w,_,S,x,E){"use strict";var C=function(e){return angular.isString(e)?e.toLowerCase():e};return{restrict:"AE",scope:!0,priority:w.directivePriority(),compile:function(e,d){var m=d.translateValues?d.translateValues:void 0,v=d.translateInterpolation?d.translateInterpolation:void 0,g=d.translateSanitizeStrategy?d.translateSanitizeStrategy:void 0,$=e[0].outerHTML.match(/translate-value-+/i),y="^(.*)("+_.startSymbol()+".*"+_.endSymbol()+")(.*)",b="^(.*)"+_.startSymbol()+"(.*)"+_.endSymbol()+"(.*)";return function(i,u,c){i.interpolateParams={},i.preText="",i.postText="",i.translateNamespace=function e(t){if(t.translateNamespace)return t.translateNamespace;if(t.$parent)return e(t.$parent)}(i);var o={},a=function(e){if(angular.isFunction(a._unwatchOld)&&(a._unwatchOld(),a._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var t=function(){return this.toString().replace(/^\s+|\s+$/g,"")}.apply(u.text()),n=t.match(y);if(angular.isArray(n)){i.preText=n[1],i.postText=n[3],o.translate=_(n[2])(i.$parent);var r=t.match(b);angular.isArray(r)&&r[2]&&r[2].length&&(a._unwatchOld=i.$watch(r[2],function(e){o.translate=e,l()}))}else o.translate=t||void 0}else o.translate=e;l()},e=function(t){c.$observe(t,function(e){o[t]=e,l()})};!function(e,t,n){if(t.translateValues&&angular.extend(e,x(t.translateValues)(i.$parent)),$)for(var r in n)Object.prototype.hasOwnProperty.call(t,r)&&"translateValue"===r.substr(0,14)&&"translateValues"!==r&&(e[C(r.substr(14,1))+r.substr(15)]=n[r])}(i.interpolateParams,c,d);var t=!0;for(var n in c.$observe("translate",function(e){void 0===e?a(""):""===e&&t||(o.translate=e,l()),t=!1}),c)c.hasOwnProperty(n)&&"translateAttr"===n.substr(0,13)&&13<n.length&&e(n);if(c.$observe("translateDefault",function(e){i.defaultText=e,l()}),g&&c.$observe("translateSanitizeStrategy",function(e){i.sanitizeStrategy=x(e)(i.$parent),l()}),m&&c.$observe("translateValues",function(e){e&&i.$parent.$watch(function(){angular.extend(i.interpolateParams,x(e)(i.$parent))})}),$){var r=function(n){c.$observe(n,function(e){var t=C(n.substr(14,1))+n.substr(15);i.interpolateParams[t]=e})};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&"translateValue"===s.substr(0,14)&&"translateValues"!==s&&r(s)}var l=function(){for(var e in o)o.hasOwnProperty(e)&&void 0!==o[e]&&f(e,o[e],i,i.interpolateParams,i.defaultText,i.translateNamespace)},f=function(t,e,n,r,i,o){e?(o&&"."===e.charAt(0)&&(e=o+e),w(e,r,v,i,n.translateLanguage,n.sanitizeStrategy).then(function(e){p(e,n,!0,t)},function(e){p(e,n,!1,t)})):p(e,n,!1,t)},p=function(e,t,n,r){if(n||void 0!==t.defaultText&&(e=t.defaultText),"translate"===r){(n||!n&&!w.isKeepContent()&&void 0===c.translateKeepContent)&&u.empty().append(t.preText+e+t.postText);var i=w.isPostCompilingEnabled(),o=void 0!==d.translateCompile,a=o&&"false"!==d.translateCompile;(i&&!o||a)&&S(u.contents())(t)}else{var s=c.$attr[r];"data-"===s.substr(0,5)&&(s=s.substr(5)),s=s.substr(15),u.attr(s,e)}};(m||$||c.translateDefault)&&i.$watch("interpolateParams",l,!0),i.$on("translateLanguageChanged",l);var h=E.$on("$translateChangeSuccess",l);u.text().length?c.translate?a(c.translate):a(""):c.translate&&a(c.translate),l(),i.$on("$destroy",h)}}}}function i(c,l){"use strict";return{restrict:"A",priority:c.directivePriority(),link:function(n,r,i){var o,a,s,u={},e=function(){angular.forEach(o,function(e,t){e&&(u[t]=!0,n.translateNamespace&&"."===e.charAt(0)&&(e=n.translateNamespace+e),c(e,a,i.translateInterpolation,void 0,n.translateLanguage,s).then(function(e){r.attr(t,e)},function(e){r.attr(t,e)}))}),angular.forEach(u,function(e,t){o[t]||(r.removeAttr(t),delete u[t])})};f(n,i.translateAttr,function(e){o=e},e),f(n,i.translateValues,function(e){a=e},e),f(n,i.translateSanitizeStrategy,function(e){s=e},e),i.translateValues&&n.$watch(i.translateValues,e,!0),n.$on("translateLanguageChanged",e);var t=l.$on("$translateChangeSuccess",e);e(),n.$on("$destroy",t)}}}function f(e,t,n,r){"use strict";t&&("::"===t.substr(0,2)?t=t.substr(2):e.$watch(t,function(e){n(e),r()},!0),n(e.$eval(t)))}function o(a,s){"use strict";return{compile:function(e){var o=function(e){e.addClass(a.cloakClassName())};return o(e),function(e,t,n){var r=function(e){e.removeClass(a.cloakClassName())}.bind(this,t),i=o.bind(this,t);n.translateCloak&&n.translateCloak.length?(n.$observe("translateCloak",function(e){a(e).then(r,i)}),s.$on("$translateChangeSuccess",function(){a(n.translateCloak).then(r,i)})):a.onReady(r)}}}}function a(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=function e(t){if(t.translateNamespace)return t.translateNamespace;if(t.$parent)return e(t.$parent)}(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(t,e,n){n.$observe("translateLanguage",function(e){t.translateLanguage=e}),t.$watch("translateLanguage",function(){t.$broadcast("translateLanguageChanged")})}}}}function u(o,a){"use strict";var e=function(e,t,n,r){if(!angular.isObject(t)){var i=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"};t=o(t)(i)}return a.instant(e,t,n,r)};return a.statefulFilter()&&(e.$stateful=!0),e}function c(e){"use strict";return e("translations")}return e.$inject=["$translate"],t.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.$inject=["$interpolate","$translateSanitization"],r.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],i.$inject=["$translate","$rootScope"],o.$inject=["$translate","$rootScope"],u.$inject=["$parse","$translate"],c.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(e),e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",function(){"use strict";var n,r,p,h=null,d=!1,m=!1;(p={sanitize:function(e,t){return"text"===t&&(e=o(e)),e},escape:function(e,t){return"text"===t&&(e=i(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=s(e,o)),e},escapeParameters:function(e,t){return"params"===t&&(e=s(e,i)),e},sce:function(e,t,n){return"text"===t?e=a(e):"params"===t&&"filter"!==n&&(e=s(e,i)),e},sceParameters:function(e,t){return"params"===t&&(e=s(e,a)),e}}).escaped=p.escapeParameters,this.addStrategy=function(e,t){return p[e]=t,this},this.removeStrategy=function(e){return delete p[e],this},this.useStrategy=function(e){return d=!0,h=e,this},this.$get=["$injector","$log",function(c,l){var t,f={};return c.has("$sanitize")&&(n=c.get("$sanitize")),c.has("$sce")&&(r=c.get("$sce")),{useStrategy:(t=this,function(e){t.useStrategy(e)}),sanitize:function(e,t,n,r){if(h||d||m||(l.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),m=!0),n||null===n||(n=h),!n)return e;r||(r="service");var i,o,a,s,u=angular.isArray(n)?n:[n];return i=e,o=t,a=r,s=u,angular.forEach(s,function(t){if(angular.isFunction(t))i=t(i,o,a);else if(angular.isFunction(p[t]))i=p[t](i,o,a);else{if(!angular.isString(p[t]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+t+"'");if(!f[p[t]])try{f[p[t]]=c.get(p[t])}catch(e){throw f[p[t]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+t+"'")}i=f[p[t]](i,o,a)}}),i}}}];var i=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},o=function(e){if(!n)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return n(e)},a=function(e){if(!r)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return r.trustAsHtml(e)},s=function(e,n,r){if(angular.isDate(e))return e;if(angular.isObject(e)){var i=angular.isArray(e)?[]:{};if(r){if(-1<r.indexOf(e))throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else r=[];return r.push(e),angular.forEach(e,function(e,t){angular.isFunction(e)||(i[t]=s(e,n,r))}),r.splice(-1,1),i}return angular.isNumber(e)?e:!0===e||!1===e?e:angular.isUndefined(e)||null===e?e:n(e)}}),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",t),t.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",n),n.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",i),i.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",o),o.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",a),a.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",s),s.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",u),u.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",c),c.displayName="$translationCache","pascalprecht.translate"},"function"==typeof define&&define.amd?define([],function(){return r()}):"object"==typeof t&&t.exports?t.exports=r():r()},{}],86:[function(e,t,n){!function(fe){"use strict";var l={objectMaxDepth:5,urlErrorParamsEnabled:!0};function e(e){if(!Se(e))return l;T(e.objectMaxDepth)&&(l.objectMaxDepth=c(e.objectMaxDepth)?e.objectMaxDepth:NaN),T(e.urlErrorParamsEnabled)&&je(e.urlErrorParamsEnabled)&&(l.urlErrorParamsEnabled=e.urlErrorParamsEnabled)}function c(e){return S(e)&&0<e}function O(a,s){s=s||Error;var u="https://errors.angularjs.org/1.7.7/",e=u.replace(".","\\.")+"[\\s\\S]*",c=new RegExp(e,"g");return function(){var e,t,n=arguments[0],r=arguments[1],i="["+(a?a+":":"")+n+"] ",o=Ne(arguments,2).map(function(e){return We(e,l.objectMaxDepth)});if(i+=r.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<o.length?o[t].replace(c,""):e}),i+="\n"+u+(a?a+"/":"")+n,l.urlErrorParamsEnabled)for(t=0,e="?";t<o.length;t++,e="&")i+=e+"p"+t+"="+encodeURIComponent(o[t]);return new s(i)}}var pe,he,t,g,o=/^\/(.+)\/([a-z]*)$/,f="validity",de=Object.prototype.hasOwnProperty,me=function(e){return xe(e)?e.toLowerCase():e},p=function(e){return xe(e)?e.toUpperCase():e},a=[].slice,r=[].splice,n=[].push,ve=Object.prototype.toString,h=Object.getPrototypeOf,d=O("ng"),y=fe.angular||(fe.angular={}),i=0;function N(e){if(null==e||C(e))return!1;if(Ee(e)||xe(e)||he&&e instanceof he)return!0;var t="length"in Object(e)&&e.length;return S(t)&&(0<=t&&t-1 in e||"function"==typeof e.item)}function ge(e,t,n){var r,i;if(e)if(ke(e))for(r in e)"prototype"!==r&&"length"!==r&&"name"!==r&&e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else if(Ee(e)||N(e)){var o="object"!=typeof e;for(r=0,i=e.length;r<i;r++)(o||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==ge)e.forEach(t,n,e);else if(_(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)de.call(e,r)&&t.call(n,e[r],r,e);return e}function s(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function j(n){return function(e,t){n(t,e)}}function u(){return++i}function m(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function v(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var a=t[i];if(Se(a)||ke(a))for(var s=Object.keys(a),u=0,c=s.length;u<c;u++){var l=s[u],f=a[l];n&&Se(f)?x(f)?e[l]=new Date(f.valueOf()):E(f)?e[l]=new RegExp(f):f.nodeName?e[l]=f.cloneNode(!0):L(f)?e[l]=f.clone():(Se(e[l])||(e[l]=Ee(f)?[]:{}),v(e[l],[f],!0)):e[l]=f}}return m(e,r),e}function $e(e){return v(e,a.call(arguments,1),!1)}function $(e){return v(e,a.call(arguments,1),!0)}function b(e){return parseInt(e,10)}pe=fe.document.documentMode;var P=Number.isNaN||function(e){return e!=e};function ye(e,t){return $e(Object.create(e),t)}function be(){}function we(e){return e}function R(e){return function(){return e}}function w(e){return ke(e.toString)&&e.toString!==ve}function _e(e){return void 0===e}function T(e){return void 0!==e}function Se(e){return null!==e&&"object"==typeof e}function _(e){return null!==e&&"object"==typeof e&&!h(e)}function xe(e){return"string"==typeof e}function S(e){return"number"==typeof e}function x(e){return"[object Date]"===ve.call(e)}function Ee(e){return Array.isArray(e)||e instanceof Array}function Ce(e){switch(ve.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function ke(e){return"function"==typeof e}function E(e){return"[object RegExp]"===ve.call(e)}function C(e){return e&&e.window===e}function Oe(e){return e&&e.$evalAsync&&e.$watch}function je(e){return"boolean"==typeof e}function k(e){return e&&ke(e.then)}be.$inject=[],we.$inject=[];var A=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var Pe=function(e){return xe(e)?e.trim():e},M=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function L(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function Re(e){return me(e.nodeName||e[0]&&e[0].nodeName)}function V(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function Te(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),n}function I(e,n,t){var r,i,o=[],a=[];if(t=c(t)?t:NaN,n){if((i=n)&&S(i.length)&&A.test(ve.call(i))||(r=n,"[object ArrayBuffer]"===ve.call(r)))throw d("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===n)throw d("cpi","Can't copy! Source and destination are identical.");return Ee(n)?n.length=0:ge(n,function(e,t){"$$hashKey"!==t&&delete n[t]}),o.push(e),a.push(n),s(e,n,t)}return u(e,t);function s(e,t,n){if(--n<0)return"...";var r,i=t.$$hashKey;if(Ee(e))for(var o=0,a=e.length;o<a;o++)t.push(u(e[o],n));else if(_(e))for(r in e)t[r]=u(e[r],n);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=u(e[r],n));else for(r in e)de.call(e,r)&&(t[r]=u(e[r],n));return m(t,i),t}function u(e,t){if(!Se(e))return e;var n=o.indexOf(e);if(-1!==n)return a[n];if(C(e)||Oe(e))throw d("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=function(e){switch(ve.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(u(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t;case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(ke(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===i&&(i=Ee(e)?[]:Object.create(h(e)),r=!0),o.push(e),a.push(i),r?s(e,i,t):i}}function Ae(e,t){return e===t||e!=e&&t!=t}function Me(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,r,i,o=typeof e;if(o===typeof t&&"object"===o){if(!Ee(e)){if(x(e))return!!x(t)&&Ae(e.getTime(),t.getTime());if(E(e))return!!E(t)&&e.toString()===t.toString();if(Oe(e)||Oe(t)||C(e)||C(t)||Ee(t)||x(t)||E(t))return!1;for(r in i=qe(),e)if("$"!==r.charAt(0)&&!ke(e[r])){if(!Me(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&T(t[r])&&!ke(t[r]))return!1;return!0}if(!Ee(t))return!1;if((n=e.length)===t.length){for(r=0;r<n;r++)if(!Me(e[r],t[r]))return!1;return!0}}return!1}var D=function(){if(!T(D.rules)){var e=fe.document.querySelector("[ng-csp]")||fe.document.querySelector("[data-ng-csp]");if(e){var t=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");D.rules={noUnsafeEval:!t||-1!==t.indexOf("no-unsafe-eval"),noInlineStyle:!t||-1!==t.indexOf("no-inline-style")}}else D.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return D.rules},q=function(){if(T(q.name_))return q.name_;var e,t,n,r,i=X.length;for(t=0;t<i;++t)if(n=X[t],e=fe.document.querySelector("["+n.replace(":","\\:")+"jq]")){r=e.getAttribute(n+"jq");break}return q.name_=r};function U(e,t,n){return e.concat(a.call(t,n))}function Ne(e,t){return a.call(e,t||0)}function Le(e,t){var n=2<arguments.length?Ne(arguments,2):[];return!ke(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,U(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function F(e,t){var n=t;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?n=void 0:C(t)?n="$WINDOW":t&&fe.document===t?n="$DOCUMENT":Oe(t)&&(n="$SCOPE"),n}function H(e,t){if(!_e(e))return S(t)||(t=t?2:null),JSON.stringify(e,F,t)}function z(e){return xe(e)?JSON.parse(e):e}var B=/:/g;function G(e,t){e=e.replace(B,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return P(n)?t:n}function W(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function K(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return W(e,n*(G(t,r)-r))}function Ve(e){e=he(e).clone().empty();var t=he("<div></div>").append(e).html();try{return e[0].nodeType===Fe?me(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+me(t)})}catch(e){return me(t)}}function J(e){try{return decodeURIComponent(e)}catch(e){}}function Y(e){var i={};return ge((e||"").split("&"),function(e){var t,n,r;e&&(n=e=e.replace(/\+/g,"%20"),-1!==(t=e.indexOf("="))&&(n=e.substring(0,t),r=e.substring(t+1)),T(n=J(n))&&(r=!T(r)||J(r),de.call(i,n)?Ee(i[n])?i[n].push(r):i[n]=[i[n],r]:i[n]=r))}),i}function Q(e){return Z(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Z(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var X=["ng-","data-ng-","ng:","x-ng-"];var ee=function(n){var e=n.currentScript;if(!e)return!0;if(!(e instanceof fe.HTMLScriptElement||e instanceof fe.SVGScriptElement))return!1;var t=e.attributes;return[t.getNamedItem("src"),t.getNamedItem("href"),t.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var t=n.createElement("a");if(t.href=e.value,n.location.origin===t.origin)return!0;switch(t.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(fe.document);function te(r,e){var i,o,t={};if(ge(X,function(e){var t=e+"app";!i&&r.hasAttribute&&r.hasAttribute(t)&&(o=(i=r).getAttribute(t))}),ge(X,function(e){var t,n=e+"app";!i&&(t=r.querySelector("["+n.replace(":","\\:")+"]"))&&(o=(i=t).getAttribute(n))}),i){if(!ee)return void fe.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");t.strictDi=null!==function(e,t){var n,r,i=X.length;for(r=0;r<i;++r)if(n=X[r]+t,xe(n=e.getAttribute(n)))return n;return null}(i,"strict-di"),e(i,o?[o]:[],t)}}function ne(n,r,i){Se(i)||(i={});i=$e({strictDi:!1},i);var t=function(){if((n=he(n)).injector()){var e=n[0]===fe.document?"document":Ve(n);throw d("btstrpd","App already bootstrapped with this element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}(r=r||[]).unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var t=Qt(r,i.strictDi);return t.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),t},e=/^NG_ENABLE_DEBUG_INFO!/,o=/^NG_DEFER_BOOTSTRAP!/;if(fe&&e.test(fe.name)&&(i.debugInfoEnabled=!0,fe.name=fe.name.replace(e,"")),fe&&!o.test(fe.name))return t();fe.name=fe.name.replace(o,""),y.resumeBootstrap=function(e){return ge(e,function(e){r.push(e)}),t()},ke(y.resumeDeferredBootstrap)&&y.resumeDeferredBootstrap()}function re(){fe.name="NG_ENABLE_DEBUG_INFO!"+fe.name,fe.location.reload()}function ie(e){var t=y.element(e).injector();if(!t)throw d("test","no injector found for element argument to getTestability");return t.get("$$testability")}var oe=/[A-Z]/g;function Ie(e,n){return n=n||"_",e.replace(oe,function(e,t){return(t?n:"")+e.toLowerCase()})}var ae=!1;function De(e,t,n){if(!e)throw d("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function se(e,t,n){return n&&Ee(e)&&(e=e[e.length-1]),De(ke(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ue(e,t){if("hasOwnProperty"===e)throw d("badname","hasOwnProperty is not a valid {0} name",t)}function ce(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=he(a.call(e,0,i))),t.push(n));return t||e}function qe(){return Object.create(null)}function le(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!w(e)||Ee(e)||x(e)?H(e):e.toString()}return e}var Ue=1,Fe=3,He=8,ze=9,Be=11;function Ge(e,t){if(Ee(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(Se(e))for(var i in t=t||{},e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i]);return t||e}function We(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):_e(e)?"undefined":"string"!=typeof e?(n=e,i=[],c(r=t)&&(n=y.copy(n,null,r)),JSON.stringify(n,function(e,t){if(Se(t=F(e,t))){if(0<=i.indexOf(t))return"...";i.push(t)}return t})):e;var n,r,i}var Ke={full:"1.7.7",major:1,minor:7,dot:7,codeName:"kingly-exiting"};pt.expando="ng339";var Je=pt.cache={},Ye=1;pt._data=function(e){return this.cache[e[this.expando]]||{}};var Qe=/-([a-z])/g,Ze=/^-ms-/,Xe={mouseleave:"mouseout",mouseenter:"mouseover"},et=O("jqLite");function tt(e,t){return t.toUpperCase()}function nt(e){return e.replace(Qe,tt)}var rt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,it=/<|&#?\w+;/,ot=/<([\w:-]+)/,at=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,st={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ut(e){return!it.test(e)}function ct(e){var t=e.nodeType;return t===Ue||!t||t===ze}function lt(e,t){var n,r,i,o,a=t.createDocumentFragment(),s=[];if(ut(e))s.push(t.createTextNode(e));else{for(n=a.appendChild(t.createElement("div")),r=(ot.exec(e)||["",""])[1].toLowerCase(),i=st[r]||st._default,n.innerHTML=i[1]+e.replace(at,"<$1></$2>")+i[2],o=i[0];o--;)n=n.lastChild;s=U(s,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",ge(s,function(e){a.appendChild(e)}),a}st.optgroup=st.option,st.tbody=st.tfoot=st.colgroup=st.caption=st.thead,st.th=st.td;var ft=fe.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function pt(e){if(e instanceof pt)return e;var t,n,r,i;if(xe(e)&&(e=Pe(e),t=!0),!(this instanceof pt)){if(t&&"<"!==e.charAt(0))throw et("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new pt(e)}t?xt(this,(n=e,r=r||fe.document,(i=rt.exec(n))?[r.createElement(i[1])]:(i=lt(n,r))?i.childNodes:[])):ke(e)?jt(e):xt(this,e)}function ht(e){return e.cloneNode(!0)}function dt(e,t){!t&&ct(e)&&he.cleanData([e]),e.querySelectorAll&&he.cleanData(e.querySelectorAll("*"))}function mt(e){var t;for(t in e)return!1;return!0}function vt(e){var t=e.ng339,n=t&&Je[t],r=n&&n.events,i=n&&n.data;i&&!mt(i)||r&&!mt(r)||(delete Je[t],e.ng339=void 0)}function gt(n,e,r,t){if(T(t))throw et("offargs","jqLite#off() does not support the `selector` argument");var i=yt(n),o=i&&i.events,a=i&&i.handle;if(a){if(e){var s=function(e){var t=o[e];T(r)&&Te(t||[],r),T(r)&&t&&0<t.length||(n.removeEventListener(e,a),delete o[e])};ge(e.split(" "),function(e){s(e),Xe[e]&&s(Xe[e])})}else for(e in o)"$destroy"!==e&&n.removeEventListener(e,a),delete o[e];vt(n)}}function $t(e,t){var n=e.ng339,r=n&&Je[n];r&&(t?delete r.data[t]:r.data={},vt(e))}function yt(e,t){var n=e.ng339,r=n&&Je[n];return t&&!r&&(e.ng339=n=++Ye,r=Je[n]={events:{},data:{},handle:void 0}),r}function bt(e,t,n){if(ct(e)){var r,i=T(n),o=!i&&t&&!Se(t),a=!t,s=yt(e,!o),u=s&&s.data;if(i)u[nt(t)]=n;else{if(a)return u;if(o)return u&&u[nt(t)];for(r in t)u[nt(r)]=t[r]}}}function wt(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function _t(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;ge(t.split(" "),function(e){e=Pe(e),r=r.replace(" "+e+" "," ")}),r!==n&&e.setAttribute("class",Pe(r))}}function St(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;ge(t.split(" "),function(e){e=Pe(e),-1===r.indexOf(" "+e+" ")&&(r+=e+" ")}),r!==n&&e.setAttribute("class",Pe(r))}}function xt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Et(e,t){return Ct(e,"$"+(t||"ngController")+"Controller")}function Ct(e,t,n){e.nodeType===ze&&(e=e.documentElement);for(var r=Ee(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(T(n=he.data(e,r[i])))return n;e=e.parentNode||e.nodeType===Be&&e.host}}function kt(e){for(dt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ot(e,t){t||dt(e);var n=e.parentNode;n&&n.removeChild(e)}function jt(e){function t(){fe.document.removeEventListener("DOMContentLoaded",t),fe.removeEventListener("load",t),e()}"complete"===fe.document.readyState?fe.setTimeout(e):(fe.document.addEventListener("DOMContentLoaded",t),fe.addEventListener("load",t))}var Pt=pt.prototype={ready:jt,toString:function(){var t=[];return ge(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(e){return he(0<=e?this[e]:this[this.length+e])},length:0,push:n,sort:[].sort,splice:[].splice},Rt={};ge("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Rt[me(e)]=e});var Tt={};ge("input,select,option,textarea,button,form,details".split(","),function(e){Tt[e]=!0});var At={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function Mt(e,t){var n=Rt[t.toLowerCase()];return n&&Tt[Re(e)]&&n}function Nt(e,t,n){n.call(e,t)}function Lt(e,t,n){var r=t.relatedTarget;r&&(r===e||ft.call(e,r))||n.call(e,t)}function Vt(){this.$get=function(){return $e(pt,{hasClass:function(e,t){return e.attr&&(e=e[0]),wt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),St(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),_t(e,t)}})}}function It(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"===r||"object"===r&&null!==e?e.$$hashKey=r+":"+(t||u)():r+":"+e}ge({data:bt,removeData:$t,hasData:function(e){for(var t in Je[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)$t(e[t]),gt(e[t])}},function(e,t){pt[t]=e}),ge({data:bt,inheritedData:Ct,scope:function(e){return he.data(e,"$scope")||Ct(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return he.data(e,"$isolateScope")||he.data(e,"$isolateScopeNoTemplate")},controller:Et,injector:function(e){return Ct(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:wt,css:function(e,t,n){if(t=nt(t.replace(Ze,"ms-")),!T(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var r,i=e.nodeType;if(i!==Fe&&2!==i&&i!==He&&e.getAttribute){var o=me(t),a=Rt[o];if(!T(n))return r=e.getAttribute(t),a&&null!==r&&(r=o),null===r?void 0:r;null===n||!1===n&&a?e.removeAttribute(t):e.setAttribute(t,a?o:n)}},prop:function(e,t,n){if(!T(n))return e[t];e[t]=n},text:function(){return e.$dv="",e;function e(e,t){if(_e(t)){var n=e.nodeType;return n===Ue||n===Fe?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(_e(t)){if(e.multiple&&"select"===Re(e)){var n=[];return ge(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){if(_e(t))return e.innerHTML;dt(e,!0),e.innerHTML=t},empty:kt},function(c,e){pt.prototype[e]=function(e,t){var n,r,i=this.length;if(c!==kt&&_e(2===c.length&&c!==wt&&c!==Et?e:t)){if(Se(e)){for(n=0;n<i;n++)if(c===bt)c(this[n],e);else for(r in e)c(this[n],r,e[r]);return this}for(var o=c.$dv,a=_e(o)?Math.min(i,1):i,s=0;s<a;s++){var u=c(this[s],e,t);o=o?o+u:u}return o}for(n=0;n<i;n++)c(this[n],e,t);return this}}),ge({removeData:$t,on:function(i,e,o,t){if(T(t))throw et("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ct(i)){var s,u,n,r=yt(i,!0),a=r.events,c=r.handle;c||(c=r.handle=(u=a,(n=function(e,t){e.isDefaultPrevented=function(){return e.defaultPrevented};var n=u[t||e.type],r=n?n.length:0;if(r){if(_e(e.immediatePropagationStopped)){var i=e.stopImmediatePropagation;e.stopImmediatePropagation=function(){e.immediatePropagationStopped=!0,e.stopPropagation&&e.stopPropagation(),i&&i.call(e)}}e.isImmediatePropagationStopped=function(){return!0===e.immediatePropagationStopped};var o=n.specialHandlerWrapper||Nt;1<r&&(n=Ge(n));for(var a=0;a<r;a++)e.isImmediatePropagationStopped()||o(s,e,n[a])}}).elem=s=i,n));for(var l=0<=e.indexOf(" ")?e.split(" "):[e],f=l.length,p=function(e,t,n){var r=a[e];r||((r=a[e]=[]).specialHandlerWrapper=t,"$destroy"===e||n||i.addEventListener(e,c)),r.push(o)};f--;)e=l[f],Xe[e]?(p(Xe[e],Lt),p(e,void 0,!0)):p(e)}},off:gt,one:function(t,n,r){(t=he(t)).on(n,function e(){t.off(n,r),t.off(n,e)}),t.on(n,r)},replaceWith:function(t,e){var n,r=t.parentNode;dt(t),ge(new pt(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(e){var t=[];return ge(e.childNodes,function(e){e.nodeType===Ue&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Ue||n===Be)for(var r=0,i=(t=new pt(t)).length;r<i;r++){var o=t[r];e.appendChild(o)}},prepend:function(t,e){if(t.nodeType===Ue){var n=t.firstChild;ge(new pt(e),function(e){t.insertBefore(e,n)})}},wrap:function(e,t){var n,r,i;n=e,r=he(t).eq(0).clone()[0],(i=n.parentNode)&&i.replaceChild(r,n),r.appendChild(n)},remove:Ot,detach:function(e){Ot(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r)for(var i=0,o=(t=new pt(t)).length;i<o;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:St,removeClass:_t,toggleClass:function(n,e,r){e&&ge(e.split(" "),function(e){var t=r;_e(t)&&(t=!wt(n,e)),(t?St:_t)(n,e)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Be?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ht,triggerHandler:function(t,e,n){var r,i,o,a=e.type||e,s=yt(t),u=s&&s.events,c=u&&u[a];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:be,type:a,target:t},e.type&&(r=$e(r,e)),i=Ge(c),o=n?[r].concat(n):[r],ge(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,o)}))}},function(a,e){pt.prototype[e]=function(e,t,n){for(var r,i=0,o=this.length;i<o;i++)_e(r)?T(r=a(this[i],e,t,n))&&(r=he(r)):xt(r,a(this[i],e,t,n));return T(r)?r:this}}),pt.prototype.bind=pt.prototype.on,pt.prototype.unbind=pt.prototype.off;var Dt=Object.create(null);function qt(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}qt.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return P(e)?Dt:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},has:function(e){return e=this._transformKey(e),-1!==this._idx(e)},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Ut=qt,Ft=[function(){this.$get=[function(){return Ut}]}],Ht=/^([^(]+?)=>/,zt=/^[^(]*\(\s*([^)]*)\)/m,Bt=/,/,Gt=/^\s*(_?)(\S+?)\1\s*$/,Wt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Kt=O("$injector");function Jt(e){return Function.prototype.toString.call(e)}function Yt(e){var t=Jt(e).replace(Wt,"");return t.match(Ht)||t.match(zt)}function Qt(e,c){c=!0===c;var i={},a="Provider",s=[],o=new Ut,l={$provide:{provider:p(h),factory:p(d),service:p(function(e,t){return d(e,["$injector",function(e){return e.instantiate(t)}])}),value:p(function(e,t){return d(e,R(t),!1)}),constant:p(function(e,t){ue(e,"constant"),l[e]=t,n[e]=t}),decorator:function(e,t){var n=u.get(e+a),r=n.$get;n.$get=function(){var e=f.invoke(r,n);return f.invoke(t,null,{$delegate:e})}}}},u=l.$injector=v(l,function(e,t){throw y.isString(t)&&s.push(t),Kt("unpr","Unknown provider: {0}",s.join(" <- "))}),n={},t=v(n,function(e,t){var n=u.get(e+a,t);return f.invoke(n.$get,n,void 0,e)}),f=t;l["$injector"+a]={$get:R(t)},f.modules=u.modules=qe();var r=m(e);return(f=t.get("$injector")).strictDi=c,ge(r,function(e){e&&f.invoke(e)}),f.loadNewModules=function(e){ge(m(e),function(e){e&&f.invoke(e)})},f;function p(n){return function(e,t){if(!Se(e))return n(e,t);ge(e,j(n))}}function h(e,t){if(ue(e,"service"),(ke(t)||Ee(t))&&(t=u.instantiate(t)),!t.$get)throw Kt("pget","Provider '{0}' must define $get factory method.",e);return l[e+a]=t}function d(e,t,n){return h(e,{$get:!1!==n?(r=e,i=t,function(){var e=f.invoke(i,this);if(_e(e))throw Kt("undef","Provider '{0}' must return a value from $get factory method.",r);return e}):t});var r,i}function m(e){De(_e(e)||Ee(e),"modulesToLoad","not an array");var n,r=[];return ge(e,function(t){if(!o.get(t)){o.set(t,!0);try{xe(t)?(n=g(t),f.modules[t]=n,r=r.concat(m(n.requires)).concat(n._runBlocks),e(n._invokeQueue),e(n._configBlocks)):ke(t)?r.push(u.invoke(t)):Ee(t)?r.push(u.invoke(t)):se(t,"module")}catch(e){throw Ee(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Kt("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}function e(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=u.get(r[0]);i[r[1]].apply(i,r[2])}}}),r}function v(n,r){function u(t,e){if(n.hasOwnProperty(t)){if(n[t]===i)throw Kt("cdep","Circular dependency found: {0}",t+" <- "+s.join(" <- "));return n[t]}try{return s.unshift(t),n[t]=i,n[t]=r(t,e),n[t]}catch(e){throw n[t]===i&&delete n[t],e}finally{s.shift()}}function o(e,t,n){for(var r=[],i=Qt.$$annotate(e,c,n),o=0,a=i.length;o<a;o++){var s=i[o];if("string"!=typeof s)throw Kt("itkn","Incorrect injection token! Expected service name as string, got {0}",s);r.push(t&&t.hasOwnProperty(s)?t[s]:u(s,n))}return r}return{invoke:function(e,t,n,r){"string"==typeof n&&(r=n,n=null);var i=o(e,n,r);return Ee(e)&&(e=e[e.length-1]),function(e){if(pe||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return je(t)||(t=e.$$ngIsClass=/^class\b/.test(Jt(e))),t}(e)?(i.unshift(null),new(Function.prototype.bind.apply(e,i))):e.apply(t,i)},instantiate:function(e,t,n){var r=Ee(e)?e[e.length-1]:e,i=o(e,t,n);return i.unshift(null),new(Function.prototype.bind.apply(r,i))},get:u,annotate:Qt.$$annotate,has:function(e){return l.hasOwnProperty(e+a)||n.hasOwnProperty(e)}}}}function Zt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(r,i,o){var a=r.document;function s(e){if(e){e.scrollIntoView();var t=function(){var e=u.yOffset;if(ke(e))e=e();else if(L(e)){var t=e[0];e="fixed"!==r.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else S(e)||(e=0);return e}();if(t){var n=e.getBoundingClientRect().top;r.scrollBy(0,n-t)}}else r.scrollTo(0,0)}function u(e){var t,n,r;(e=xe(e)?e:S(e)?e.toString():i.hash())?(t=a.getElementById(e))?s(t):(n=a.getElementsByName(e),r=null,Array.prototype.some.call(n,function(e){if("a"===Re(e))return r=e,!0}),(t=r)?s(t):"top"===e&&s(null)):s(null)}return e&&o.$watch(function(){return i.hash()},function(e,t){var n,r;e===t&&""===e||(n=function(){o.$evalAsync(u)},"complete"===(r=r||fe).document.readyState?r.setTimeout(n):he(r).on("load",n))}),u}]}Qt.$$annotate=function(e,t,n){var r,i,o;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw xe(n)&&n||(n=e.name||((o=Yt(e))?"function("+(o[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),Kt("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);ge(Yt(e)[1].split(Bt),function(e){e.replace(Gt,function(e,t,n){r.push(n)})})}e.$inject=r}}else Ee(e)?(se(e[i=e.length-1],"fn"),r=e.slice(0,i)):se(e,"fn",!0);return r};var Xt=O("$animate"),en=1,tn="ng-animate";function nn(e,t){return e||t?e?t?(Ee(e)&&(e=e.join(" ")),Ee(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function rn(e){return Se(e)?e:{}}var on=function(){this.$get=be},an=function(){var m=new Ut,v=[];this.$get=["$$AnimateRunner","$rootScope",function(f,p){return{enabled:be,on:be,off:be,pin:be,push:function(e,t,n,r){var i,o,a,s,u,c;r&&r(),(n=n||{}).from&&e.css(n.from),n.to&&e.css(n.to),(n.addClass||n.removeClass)&&(i=e,o=n.addClass,a=n.removeClass,s=m.get(i)||{},u=h(s,o,!0),c=h(s,a,!1),(u||c)&&(m.set(i,s),v.push(i),1===v.length&&p.$$postDigest(d)));var l=new f;return l.complete(),l}};function h(t,e,n){var r=!1;return e&&ge(e=xe(e)?e.split(" "):Ee(e)?e:[],function(e){e&&(r=!0,t[e]=n)}),r}function d(){ge(v,function(e){var t=m.get(e);if(t){var n=function(e){xe(e)&&(e=e.split(" "));var t=qe();return ge(e,function(e){e.length&&(t[e]=!0)}),t}(e.attr("class")),r="",i="";ge(t,function(e,t){e!==!!n[t]&&(e?r+=(r.length?" ":"")+t:i+=(i.length?" ":"")+t)}),ge(e,function(e){r&&St(e,r),i&&_t(e,i)}),m.delete(e)}}),v.length=0}}]},sn=["$provide",function(r){var i=this,t=null,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(e,t){if(e&&"."!==e.charAt(0))throw Xt("notcsel","Expecting class selector starting with '.' got '{0}'.",e);var n=e+"-animation";i.$$registeredAnimations[e.substr(1)]=n,r.factory(n,t)},this.customFilter=function(e){return 1===arguments.length&&(n=ke(e)?e:null),n},this.classNameFilter=function(e){if(1===arguments.length&&((t=e instanceof RegExp?e:null)&&new RegExp("[(\\s|\\/)]"+tn+"[(\\s|\\/)]").test(t.toString())))throw t=null,Xt("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',tn);return t},this.$get=["$$animateQueue",function(o){function i(e,t,n){if(n){var r=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===en)return n}}(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:o.on,off:o.off,pin:o.pin,enabled:o.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(e,t,n,r){return t=t&&he(t),n=n&&he(n),i(e,t=t||n.parent(),n),o.push(e,"enter",rn(r))},move:function(e,t,n,r){return t=t&&he(t),n=n&&he(n),i(e,t=t||n.parent(),n),o.push(e,"move",rn(r))},leave:function(e,t){return o.push(e,"leave",rn(t),function(){e.remove()})},addClass:function(e,t,n){return(n=rn(n)).addClass=nn(n.addclass,t),o.push(e,"addClass",n)},removeClass:function(e,t,n){return(n=rn(n)).removeClass=nn(n.removeClass,t),o.push(e,"removeClass",n)},setClass:function(e,t,n,r){return(r=rn(r)).addClass=nn(r.addClass,t),r.removeClass=nn(r.removeClass,n),o.push(e,"setClass",r)},animate:function(e,t,n,r,i){return(i=rn(i)).from=i.from?$e(i.from,t):t,i.to=i.to?$e(i.to,n):n,r=r||"ng-inline-animate",i.tempClasses=nn(i.tempClasses,r),o.push(e,"animate",i)}}}]}],un=function(){this.$get=["$$rAF",function(t){var n=[];function r(e){n.push(e),1<n.length||t(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}return function(){var t=!1;return r(function(){t=!0}),function(e){t?e():r(e)}}}]},cn=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,r,i){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){r()?i(e,0,!1):t(e)},this._state=0}return o.chain=function(e,n){var r=0;!function t(){if(r===e.length)return void n(!0);e[r](function(e){!1!==e?(r++,t()):n(!1)})}()},o.all=function(t,n){var r=0,i=!0;function o(e){i=i&&e,++r===t.length&&n(i)}ge(t,function(e){e.done(o)})},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:be,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(t){2!==this._state&&(ge(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},o}]},ln=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,e,s){return function(e,t){var n=t||{};n.$$prepared||(n=I(n)),n.cleanupStyles&&(n.from=n.to=null),n.from&&(e.css(n.from),n.from=null);var r,i=new s;return{start:o,end:o};function o(){return a(function(){!function(){n.addClass&&(e.addClass(n.addClass),n.addClass=null);n.removeClass&&(e.removeClass(n.removeClass),n.removeClass=null);n.to&&(e.css(n.to),n.to=null)}(),r||i.complete(),r=!0}),i}}}]};function fn(s,e,t,u,n){var c=this,l=s.location,f=s.history,i=s.setTimeout,r=s.clearTimeout,o={},a=n(t);c.isMock=!1,c.$$completeOutstandingRequest=a.completeTask,c.$$incOutstandingRequestCount=a.incTaskCount,c.notifyWhenNoOutstandingRequests=a.notifyWhenNoPendingTasks;var p,h,d=l.href,m=e.find("base"),v=null,g=u.history?function(){try{return f.state}catch(e){}}:be;_(),c.url=function(e,t,n){if(_e(n)&&(n=null),l!==s.location&&(l=s.location),f!==s.history&&(f=s.history),e){var r=h===n;if(e=pi(e).href,d===e&&(!u.history||r))return c;var i=d&&cr(d)===cr(e);return d=e,h=n,!u.history||i&&r?(i||(v=e),t?l.replace(e):i?l.hash=-1===(a=(o=e).indexOf("#"))?"":o.substr(a):l.href=e,l.href!==e&&(v=e)):(f[t?"replaceState":"pushState"](n,"",e),_()),v&&(v=e),c}return(v||l.href).replace(/#$/,"");var o,a},c.state=function(){return p};var $=[],y=!1;function b(){v=null,S()}var w=null;function _(){Me(p=_e(p=g())?null:p,w)&&(p=w),h=w=p}function S(){var e=h;_(),d===c.url()&&e===p||(d=c.url(),h=p,ge($,function(e){e(c.url(),p)}))}c.onUrlChange=function(e){return y||(u.history&&he(s).on("popstate",b),he(s).on("hashchange",b),y=!0),$.push(e),e},c.$$applicationDestroyed=function(){he(s).off("hashchange popstate",b)},c.$$checkUrlChange=S,c.baseHref=function(){var e=m.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},c.defer=function(e,t,n){var r;return t=t||0,n=n||a.DEFAULT_TASK_TYPE,a.incTaskCount(n),r=i(function(){delete o[r],a.completeTask(e,n)},t),o[r]=n,r},c.defer.cancel=function(e){if(o.hasOwnProperty(e)){var t=o[e];return delete o[e],r(e),a.completeTask(be,t),!0}return!1}}function pn(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(e,t,n,r,i){return new fn(e,r,t,n,i)}]}function hn(){this.$get=function(){var f={};function e(e,t){if(e in f)throw O("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var n=0,r=$e({},t,{id:e}),i=qe(),o=t&&t.capacity||Number.MAX_VALUE,a=qe(),s=null,u=null;return f[e]={put:function(e,t){if(!_e(t)){if(o<Number.MAX_VALUE)c(a[e]||(a[e]={key:e}));return e in i||n++,i[e]=t,o<n&&this.remove(u.key),t}},get:function(e){if(o<Number.MAX_VALUE){var t=a[e];if(!t)return;c(t)}return i[e]},remove:function(e){if(o<Number.MAX_VALUE){var t=a[e];if(!t)return;t===s&&(s=t.p),t===u&&(u=t.n),l(t.n,t.p),delete a[e]}e in i&&(delete i[e],n--)},removeAll:function(){i=qe(),n=0,a=qe(),s=u=null},destroy:function(){a=r=i=null,delete f[e]},info:function(){return $e({},r,{size:n})}};function c(e){e!==s&&(u?u===e&&(u=e.n):u=e,l(e.n,e.p),l(e,s),(s=e).n=null)}function l(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return e.info=function(){var n={};return ge(f,function(e,t){n[t]=e.info()}),n},e.get=function(e){return f[e]},e}}function dn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var mn=O("$compile");var vn=new function(){};function gn(n,t){var d={},m="Directive",z=/^\s*directive:\s*([\w-]+)\s+(.*)$/,le=/(([\w-]+)(?::([^;]+))?;?)/,v=function(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),$=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,b=/^(on[a-z]+|formaction)$/,s=qe();function r(e,r,i){var o=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,a=qe();return ge(e,function(e,t){if((e=e.trim())in s)a[t]=s[e];else{var n=e.match(o);if(!n)throw mn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",r,t,e,i?"controller bindings definition":"isolate scope definition");a[t]={mode:n[1][0],collection:"*"===n[2],optional:"?"===n[3],attrName:n[4]||t},n[4]&&(s[e]=a[t])}}),a}function w(e,t){var n={isolateScope:null,bindToController:null};if(Se(e.scope)&&(!0===e.bindToController?(n.bindToController=r(e.scope,t,!0),n.isolateScope={}):n.isolateScope=r(e.scope,t,!1)),Se(e.bindToController)&&(n.bindToController=r(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw mn("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}this.directive=function e(u,t){return De(u,"name"),ue(u,"directive"),xe(u)?(!function(e){var t=e.charAt(0);if(!t||t!==me(t))throw mn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw mn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(u),De(t,"directiveFactory"),d.hasOwnProperty(u)||(d[u]=[],n.factory(u+m,["$injector","$exceptionHandler",function(o,a){var s=[];return ge(d[u],function(e,t){try{var n=o.invoke(e);ke(n)?n={compile:R(n)}:!n.compile&&n.link&&(n.compile=R(n.link)),n.priority=n.priority||0,n.index=t,n.name=n.name||u,n.require=(!Ee(i=(r=n).require||r.controller&&r.name)&&Se(i)&&ge(i,function(e,t){var n=e.match($);e.substring(n[0].length)||(i[t]=n[0]+t)}),i),n.restrict=function(e,t){if(e&&(!xe(e)||!/[EACM]/.test(e)))throw mn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}(n.restrict,u),n.$$moduleName=e.$$moduleName,s.push(n)}catch(e){a(e)}var r,i}),s}])),d[u].push(t)):ge(u,j(e)),this},this.component=function e(t,i){if(!xe(t))return ge(t,j(Le(this,e))),this;var o=i.controller||function(){};function n(r){function e(n){return ke(n)||Ee(n)?function(e,t){return r.invoke(n,this,{$element:e,$attrs:t})}:n}var t=i.template||i.templateUrl?i.template:"",n={controller:o,controllerAs:function(e,t){if(t&&xe(t))return t;if(xe(e)){var n=En.exec(e);if(n)return n[3]}}(i.controller)||i.controllerAs||"$ctrl",template:e(t),templateUrl:e(i.templateUrl),transclude:i.transclude,scope:{},bindToController:i.bindings||{},restrict:"E",require:i.require};return ge(i,function(e,t){"$"===t.charAt(0)&&(n[t]=e)}),n}return ge(i,function(e,t){"$"===t.charAt(0)&&(n[t]=e,ke(o)&&(o[t]=e))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(e){return T(e)?(t.aHrefSanitizationWhitelist(e),this):t.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return T(e)?(t.imgSrcSanitizationWhitelist(e),this):t.imgSrcSanitizationWhitelist()};var _=!0,S=!(this.debugInfoEnabled=function(e){return T(e)?(_=e,this):_});this.strictComponentBindingsEnabled=function(e){return T(e)?(S=e,this):S};var x=10;this.onChangesTtl=function(e){return arguments.length?(x=e,this):x};var E=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(E=e,this):E};var C=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(C=e,this):C};var k=qe();this.addPropertySecurityContext=function(e,t,n){var r=e.toLowerCase()+"|"+t.toLowerCase();if(r in k&&k[r]!==n)throw mn("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",e,t,k[r],n);return k[r]=n,this},function(){function e(t,e){ge(e,function(e){k[e.toLowerCase()]=t})}e(Kr.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),e(Kr.CSS,["*|style"]),e(Kr.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),e(Kr.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),e(Kr.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(h,j,B,e,P,G,R,p,i){var o,u=/^\w/,c=fe.document.createElement("div"),T=E,A=C,t=x;function a(){try{if(!--t)throw o=void 0,mn("infchng","{0} $onChanges() iterations reached. Aborting!\n",x);R.$apply(function(){for(var e=0,t=o.length;e<t;++e)try{o[e]()}catch(e){B(e)}o=void 0})}finally{t++}}function l(e,t){if(!e)return e;if(!xe(e))throw mn("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',t,e.toString());for(var n="",r=Pe(e),i=/\s/.test(r)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,o=r.split(i),a=Math.floor(o.length/2),s=0;s<a;s++){var u=2*s;n+=p.getTrustedMediaUrl(Pe(o[u])),n+=" "+Pe(o[u+1])}var c=Pe(o[2*s]).split(/\s/);return n+=p.getTrustedMediaUrl(Pe(c[0])),2===c.length&&(n+=" "+Pe(c[1])),n}function W(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)this[i=o[n]]=t[i]}else this.$attr={};this.$$element=e}function O(e,t){try{e.addClass(t)}catch(e){}}W.prototype={$normalize:wn,$addClass:function(e){e&&0<e.length&&i.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&i.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=_n(e,t);n&&n.length&&i.addClass(this.$$element,n);var r=_n(t,e);r&&r.length&&i.removeClass(this.$$element,r)},$set:function(e,t,n,r){var i=Mt(this.$$element[0],e),o=At[e],a=e;i?(this.$$element.prop(e,t),r=i):o&&(this[o]=t,a=o),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=Ie(e,"-")),"img"===Re(this.$$element)&&"srcset"===e&&(this[e]=t=l(t,"$set('srcset', value)")),!1!==n&&(null===t||_e(t)?this.$$element.removeAttr(r):u.test(r)?i&&!1===t?this.$$element.removeAttr(r):this.$$element.attr(r,t):function(e,t,n){c.innerHTML="<span "+t+">";var r=c.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}(this.$$element[0],r,t));var s=this.$$observers;s&&ge(s[a],function(e){try{e(t)}catch(e){B(e)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=qe()),i=r[e]||(r[e]=[]);return i.push(t),R.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||_e(n[e])||t(n[e])}),function(){Te(i,t)}}};var n=j.startSymbol(),r=j.endSymbol(),K="{{"===n&&"}}"===r?we:function(e){return e.replace(/\{\{/g,n).replace(/}}/g,r)},M=/^ng(Attr|Prop|On)([A-Z].*)$/,N=/^(.+)Start$/;return J.$$addBindingInfo=_?function(e,t){var n=e.data("$binding")||[];Ee(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:be,J.$$addBindingClass=_?function(e){O(e,"ng-binding")}:be,J.$$addScopeInfo=_?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:be,J.$$addScopeClass=_?function(e,t){O(e,t?"ng-isolate-scope":"ng-scope")}:be,J.$$createComment=function(e,t){var n="";return _&&(n=" "+(e||"")+": ",t&&(n+=t+" ")),fe.document.createComment(n)},J;function J(l,e,t,n,f){l instanceof he||(l=he(l));var p=L(l,e,l,t,n,f);J.$$addScopeClass(l);var h=null;return function(e,t,n){if(!l)throw mn("multilink","This element has already been linked.");De(e,"scope"),f&&f.needsNewScope&&(e=e.$parent.$new());var r,i,o,a=(n=n||{}).parentBoundTranscludeFn,s=n.transcludeControllers,u=n.futureParentElement;if(a&&a.$$boundTransclude&&(a=a.$$boundTransclude),h||(i=(r=u)&&r[0],h=i&&"foreignobject"!==Re(i)&&ve.call(i).match(/SVG/)?"svg":"html"),o="html"!==h?he(oe(h,he("<div></div>").append(l).html())):t?Pt.clone.call(l):l,s)for(var c in s)o.data("$"+c+"Controller",s[c].instance);return J.$$addScopeInfo(o,e),t&&t(o,e),p&&p(e,o,o,a),t||(l=p=null),o}}function L(e,d,t,n,r,i){for(var o,a,s,u,c,l,m,v=[],f=Ee(e)||e instanceof he,p=0;p<e.length;p++)o=new W,11===pe&&g(e,p,f),(s=(a=Y(e[p],[],o,0===p?n:void 0,r)).length?I(a,e[p],o,d,t,null,[],[],i):null)&&s.scope&&J.$$addScopeClass(o.$$element),c=s&&s.terminal||!(u=e[p].childNodes)||!u.length?null:L(u,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:d),(s||c)&&(v.push(p,s,c),l=!0,m=m||s),i=null;return l?function(e,t,n,r){var i,o,a,s,u,c,l,f,p;if(m){var h=t.length;for(p=new Array(h),u=0;u<v.length;u+=3)l=v[u],p[l]=t[l]}else p=t;for(u=0,c=v.length;u<c;)a=p[v[u++]],i=v[u++],o=v[u++],i?(i.scope?(s=e.$new(),J.$$addScopeInfo(he(a),s)):s=e,f=i.transcludeOnThisElement?V(e,i.transclude,r):!i.templateOnThisElement&&r?r:!r&&d?V(e,d):null,i(o,s,a,n,f)):o&&o(e,a.childNodes,void 0,r)}:null}function g(e,t,n){var r,i=e[t],o=i.parentNode;if(i.nodeType===Fe)for(;(r=o?i.nextSibling:e[t+1])&&r.nodeType===Fe;)i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===e[t+1]&&e.splice(t+1,1)}function V(o,a,s){function e(e,t,n,r,i){return e||((e=o.$new(!1,i)).$$transcluded=!0),a(e,t,{parentBoundTranscludeFn:s,transcludeControllers:n,futureParentElement:r})}var t=e.$$slots=qe();for(var n in a.$$slots)a.$$slots[n]?t[n]=V(o,a.$$slots[n],s):t[n]=null;return e}function Y(e,t,n,r,i){var o,a,s,u,c,l,f,p,h=e.nodeType,d=n.$attr;switch(h){case Ue:D(t,wn(a=Re(e)),"E",r,i);for(var m,v,g,$,y,b=e.attributes,w=0,_=b&&b.length;w<_;w++){var S,x=!1,E=!1,C=!1,k=!1,O=!1;v=(m=b[w]).name,$=m.value,(y=(g=wn(v.toLowerCase())).match(M))?(C="Attr"===y[1],k="Prop"===y[1],O="On"===y[1],v=v.replace(yn,"").toLowerCase().substr(4+y[1].length).replace(/_(.)/g,function(e,t){return t.toUpperCase()})):(S=g.match(N))&&q(S[1])&&(E=(x=v).substr(0,v.length-5)+"end",v=v.substr(0,v.length-6)),k||O?(n[g]=$,d[g]=m.name,k?F(e,t,g,v):(f=g,p=v,t.push(Fo(P,R,B,f,p,!1)))):(d[g=wn(v.toLowerCase())]=v,!C&&n.hasOwnProperty(g)||(n[g]=$,Mt(e,g)&&(n[g]=!0)),H(e,t,$,g,C),D(t,g,"A",r,i,x,E))}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!A)break;if(Se(s=e.className)&&(s=s.animVal),xe(s)&&""!==s)for(;o=le.exec(s);)D(t,g=wn(o[2]),"C",r,i)&&(n[g]=Pe(o[3])),s=s.substr(o.index+o[0].length);break;case Fe:u=t,c=e.nodeValue,(l=j(c,!0))&&u.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&J.$$addBindingClass(t),function(e,t){var n=t.parent();r||J.$$addBindingClass(n),J.$$addBindingInfo(n,l.expressions),e.$watch(l,function(e){t[0].nodeValue=e})}}});break;case He:if(!T)break;!function(e,t,n,r,i){try{var o=z.exec(e.nodeValue);if(o){var a=wn(o[1]);D(t,a,"M",r,i)&&(n[a]=Pe(o[2]))}}catch(e){}}(e,t,n,r,i)}return t.sort(U),t}function Q(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw mn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===Ue&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(0<i);else r.push(e);return he(r)}function Z(o,a,s){return function(e,t,n,r,i){return t=Q(t[0],a,s),o(e,t,n,r,i)}}function X(e,t,n,r,i,o){var a;return e?J(t,n,r,i,o):function(){return a||(a=J(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)}}function I(e,b,w,t,n,r,_,S,i){i=i||{};for(var o,a,s,u,c,l=-Number.MAX_VALUE,x=i.newScopeDirective,E=i.controllerDirectives,C=i.newIsolateScopeDirective,k=i.templateDirective,f=i.nonTlbTranscludeDirective,p=!1,h=!1,O=i.hasElementTranscludeDirective,d=w.$$element=he(b),m=r,v=t,g=!1,$=!1,y=0,j=e.length;y<j;y++){var P=(o=e[y]).$$start,R=o.$$end;if(P&&(d=Q(b,P,R)),s=void 0,l>o.priority)break;if((c=o.scope)&&(o.templateUrl||(Se(c)?(ie("new/isolated scope",C||x,o,d),C=o):ie("new/isolated scope",C,o,d)),x=x||o),a=o.name,!g&&(o.replace&&(o.templateUrl||o.template)||o.transclude&&!o.$$tlb)){for(var T,A=y+1;T=e[A++];)if(T.transclude&&!T.$$tlb||T.replace&&(T.templateUrl||T.template)){$=!0;break}g=!0}if(!o.templateUrl&&o.controller&&(E=E||qe(),ie("'"+a+"' controller",E[a],o,d),E[a]=o),c=o.transclude)if(p=!0,o.$$tlb||(ie("transclusion",f,o,d),f=o),"element"===c)O=!0,l=o.priority,s=d,d=w.$$element=he(J.$$createComment(a,w[a])),b=d[0],ae(n,Ne(s),b),v=X($,s,t,l,m&&m.name,{nonTlbTranscludeDirective:f});else{var M=qe();if(Se(c)){s=fe.document.createDocumentFragment();var N=qe(),L=qe();for(var V in ge(c,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,N[e]=t,M[t]=null,L[t]=n}),ge(d.contents(),function(e){var t=N[wn(Re(e))];t?(L[t]=!0,M[t]=M[t]||fe.document.createDocumentFragment(),M[t].appendChild(e)):s.appendChild(e)}),ge(L,function(e,t){if(!e)throw mn("reqslot","Required transclusion slot `{0}` was not filled.",t)}),M)if(M[V]){var I=he(M[V].childNodes);M[V]=X($,I,t)}s=he(s.childNodes)}else s=he(ht(b)).contents();d.empty(),(v=X($,s,t,void 0,void 0,{needsNewScope:o.$$isolateScope||o.$$newScope})).$$slots=M}if(o.template)if(h=!0,ie("template",k,o,d),c=ke((k=o).template)?o.template(d,w):o.template,c=K(c),o.replace){if(m=o,s=ut(c)?[]:Sn(oe(o.templateNamespace,Pe(c))),b=s[0],1!==s.length||b.nodeType!==Ue)throw mn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",a,"");ae(n,d,b);var D={$attr:{}},q=Y(b,[],D),U=e.splice(y+1,e.length-(y+1));(C||x)&&te(q,C,x),e=e.concat(q).concat(U),ne(w,D),j=e.length}else d.html(c);if(o.templateUrl)h=!0,ie("template",k,o,d),(k=o).replace&&(m=o),z=re(e.splice(y,e.length-y),d,w,n,p&&v,_,S,{controllerDirectives:E,newScopeDirective:x!==o&&x,newIsolateScopeDirective:C,templateDirective:k,nonTlbTranscludeDirective:f}),j=e.length;else if(o.compile)try{u=o.compile(d,w,v);var F=o.$$originalDirective||o;ke(u)?H(null,Le(F,u),P,R):u&&H(Le(F,u.pre),Le(F,u.post),P,R)}catch(e){B(e,Ve(d))}o.terminal&&(z.terminal=!0,l=Math.max(l,o.priority))}return z.scope=x&&!0===x.scope,z.transcludeOnThisElement=p,z.templateOnThisElement=h,z.transclude=v,i.hasElementTranscludeDirective=O,z;function H(e,t,n,r){e&&(n&&(e=Z(e,n,r)),e.require=o.require,e.directiveName=a,(C===o||o.$$isolateScope)&&(e=se(e,{isolateScope:!0})),_.push(e)),t&&(n&&(t=Z(t,n,r)),t.require=o.require,t.directiveName=a,(C===o||o.$$isolateScope)&&(t=se(t,{isolateScope:!0})),S.push(t))}function z(e,t,n,r,a){var i,o,s,u,c,l,f,p,h,d;for(var m in b===n?p=(h=w).$$element:h=new W(p=he(n),w),c=t,C?u=t.$new(!0):x&&(c=t.$parent),a&&((f=function(e,t,n,r){var i;Oe(e)||(r=n,n=t,t=e,e=void 0);O&&(i=l);n||(n=O?p.parent():p);{if(!r)return a(e,t,i,n,y);var o=a.$$slots[r];if(o)return o(e,t,i,n,y);if(_e(o))throw mn("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,Ve(p))}}).$$boundTransclude=a,f.isSlotFilled=function(e){return!!a.$$slots[e]}),E&&(l=function(e,t,n,r,i,o,a){var s=qe();for(var u in r){var c=r[u],l={$scope:c===a||c.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},f=c.controller;"@"===f&&(f=t[c.name]);var p=G(f,l,!0,c.controllerAs);s[c.name]=p,e.data("$"+c.name+"Controller",p.instance)}return s}(p,h,f,E,u,t,C)),C&&(J.$$addScopeInfo(p,u,!0,!(k&&(k===C||k===C.$$originalDirective))),J.$$addScopeClass(p,!0),u.$$isolateBindings=C.$$isolateBindings,(d=ce(t,h,u,u.$$isolateBindings,C)).removeWatches&&u.$on("$destroy",d.removeWatches)),l){var v=E[m],g=l[m],$=v.$$bindings.bindToController;g.instance=g(),p.data("$"+v.name+"Controller",g.instance),g.bindingInfo=ce(c,h,g.instance,$,v)}for(ge(E,function(e,t){var n=e.require;e.bindToController&&!Ee(n)&&Se(n)&&$e(l[t].instance,ee(t,n,p,l))}),ge(l,function(e){var t=e.instance;if(ke(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){B(e)}if(ke(t.$onInit))try{t.$onInit()}catch(e){B(e)}ke(t.$doCheck)&&(c.$watch(function(){t.$doCheck()}),t.$doCheck()),ke(t.$onDestroy)&&c.$on("$destroy",function(){t.$onDestroy()})}),i=0,o=_.length;i<o;i++)ue(s=_[i],s.isolateScope?u:t,p,h,s.require&&ee(s.directiveName,s.require,p,l),f);var y=t;for(C&&(C.template||null===C.templateUrl)&&(y=u),e&&e(y,n.childNodes,void 0,a),i=S.length-1;0<=i;i--)ue(s=S[i],s.isolateScope?u:t,p,h,s.require&&ee(s.directiveName,s.require,p,l),f);ge(l,function(e){var t=e.instance;ke(t.$postLink)&&t.$postLink()})}}function ee(n,e,r,i){var o;if(xe(e)){var t=e.match($),a=e.substring(t[0].length),s=t[1]||t[3],u="?"===t[2];if("^^"===s?r=r.parent():o=(o=i&&i[a])&&o.instance,!o){var c="$"+a+"Controller";o="^^"===s&&r[0]&&r[0].nodeType===ze?null:s?r.inheritedData(c):r.data(c)}if(!o&&!u)throw mn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,n)}else if(Ee(e)){o=[];for(var l=0,f=e.length;l<f;l++)o[l]=ee(n,e[l],r,i)}else Se(e)&&(o={},ge(e,function(e,t){o[t]=ee(n,e,r,i)}));return o||null}function te(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=ye(e[r],{$$isolateScope:t,$$newScope:n})}function D(e,t,n,r,i,o,a){if(t===i)return null;var s=null;if(d.hasOwnProperty(t))for(var u,c=h.get(t+m),l=0,f=c.length;l<f;l++)if(u=c[l],(_e(r)||r>u.priority)&&-1!==u.restrict.indexOf(n)){if(o&&(u=ye(u,{$$start:o,$$end:a})),!u.$$bindings){var p=u.$$bindings=w(u,u.name);Se(p.isolateScope)&&(u.$$isolateBindings=p.isolateScope)}e.push(u),s=u}return s}function q(e){if(d.hasOwnProperty(e))for(var t=h.get(e+m),n=0,r=t.length;n<r;n++)if(t[n].multiElement)return!0;return!1}function ne(n,r){var i=r.$attr,o=n.$attr;ge(n,function(e,t){"$"!==t.charAt(0)&&(r[t]&&r[t]!==e&&(e.length?e+=("style"===t?";":" ")+r[t]:e=r[t]),n.$set(t,e,!0,i[t]))}),ge(r,function(e,t){n.hasOwnProperty(t)||"$"===t.charAt(0)||(n[t]=e,"class"!==t&&"style"!==t&&(o[t]=i[t]))})}function re(p,h,d,m,v,g,$,y){var b,w,_=[],S=h[0],x=p.shift(),E=ye(x,{templateUrl:null,transclude:null,replace:null,$$originalDirective:x}),C=ke(x.templateUrl)?x.templateUrl(h,d):x.templateUrl,k=x.templateNamespace;return h.empty(),e(C).then(function(e){var n,t,r,i;if(e=K(e),x.replace){if(r=ut(e)?[]:Sn(oe(k,Pe(e))),n=r[0],1!==r.length||n.nodeType!==Ue)throw mn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",x.name,C);t={$attr:{}},ae(m,h,n);var o=Y(n,[],t);Se(x.scope)&&te(o,!0),p=o.concat(p),ne(d,t)}else n=S,h.html(e);for(p.unshift(E),b=I(p,n,d,v,h,x,g,$,y),ge(m,function(e,t){e===n&&(m[t]=h[0])}),w=L(h[0].childNodes,v);_.length;){var a=_.shift(),s=_.shift(),u=_.shift(),c=_.shift(),l=h[0];if(!a.$$destroyed){if(s!==S){var f=s.className;y.hasElementTranscludeDirective&&x.replace||(l=ht(n)),ae(u,he(s),l),O(he(l),f)}i=b.transcludeOnThisElement?V(a,b.transclude,c):c,b(w,a,l,m,i)}}_=null}).catch(function(e){Ce(e)&&B(e)}),function(e,t,n,r,i){var o=i;t.$$destroyed||(_?_.push(t,n,r,o):(b.transcludeOnThisElement&&(o=V(t,b.transclude,i)),b(w,t,n,r,o)))}}function U(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function ie(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw mn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,Ve(r))}function oe(e,t){switch(e=me(e||"html")){case"svg":case"math":var n=fe.document.createElement("div");return n.innerHTML="<"+e+">"+t+"</"+e+">",n.childNodes[0].childNodes;default:return t}}function f(e){return l(p.valueOf(e),"ng-prop-srcset")}function F(e,t,n,o){if(b.test(o))throw mn("nodomevents","Property bindings for HTML DOM event properties are disallowed");var r,i,a=Re(e),s=(r=a,i=o.toLowerCase(),k[r+"|"+i]||k["*|"+i]),u=we;"srcset"!==o||"img"!==a&&"source"!==a?s&&(u=p.getTrusted.bind(p,s)):u=f,t.push({priority:100,compile:function(e,t){var r=P(t[n]),i=P(t[n],function(e){return p.valueOf(e)});return{pre:function(t,n){function e(){var e=r(t);n[0][o]=u(e)}e(),t.$watch(i,e)}}}})}function H(e,t,o,a,n){var r,i,s=Re(e),u=(r=s,"srcdoc"===(i=a)?p.HTML:"src"===i||"ngSrc"===i?-1===["img","video","audio","source","track"].indexOf(r)?p.RESOURCE_URL:p.MEDIA_URL:"xlinkHref"===i?"image"===r?p.MEDIA_URL:"a"===r?p.URL:p.RESOURCE_URL:"form"===r&&"action"===i||"base"===r&&"href"===i||"link"===r&&"href"===i?p.RESOURCE_URL:"a"!==r||"href"!==i&&"ngHref"!==i?void 0:p.URL),c=!n,l=v[a]||n,f=j(o,c,u,l);if(f){if("multiple"===a&&"select"===s)throw mn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Ve(e));if(b.test(a))throw mn("nodomevents","Interpolations for HTML DOM event attributes are disallowed");t.push({priority:100,compile:function(){return{pre:function(e,t,n){var r=n.$$observers||(n.$$observers=qe()),i=n[a];i!==o&&(f=i&&j(i,!0,u,l),o=i),f&&(n[a]=f(e),(r[a]||(r[a]=[])).$$inter=!0,(n.$$observers&&n.$$observers[a].$$scope||e).$watch(f,function(e,t){"class"===a&&e!==t?n.$updateClass(e,t):n.$set(a,e)}))}}}})}}function ae(e,t,n){var r,i,o=t[0],a=t.length,s=o.parentNode;if(e)for(r=0,i=e.length;r<i;r++)if(e[r]===o){e[r++]=n;for(var u=r,c=u+a-1,l=e.length;u<l;u++,c++)c<l?e[u]=e[c]:delete e[u];e.length-=a-1,e.context===o&&(e.context=n);break}s&&s.replaceChild(n,o);var f=fe.document.createDocumentFragment();for(r=0;r<a;r++)f.appendChild(t[r]);for(he.hasData(o)&&(he.data(n,he.data(o)),he(o).off("$destroy")),he.cleanData(f.querySelectorAll("*")),r=1;r<a;r++)delete t[r];t[0]=n,t.length=1}function se(e,t){return $e(function(){return e.apply(null,arguments)},e,t)}function ue(e,t,n,r,i,o){try{e(t,n,r,i,o)}catch(e){B(e,Ve(n))}}function y(e,t){if(S)throw mn("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function ce(p,h,d,e,m){var r,v=[],g={};function $(e,t,n){ke(d.$onChanges)&&!Ae(t,n)&&(o||(p.$$postDigest(a),o=[]),r||(r={},o.push(i)),r[e]&&(n=r[e].previousValue),r[e]=new $n(n,t))}function i(){d.$onChanges(r),r=void 0}return ge(e,function(e,n){var t,r,i,o,a,s=e.attrName,u=e.optional;switch(e.mode){case"@":u||de.call(h,s)||(y(s,m.name),d[n]=h[s]=void 0),a=h.$observe(s,function(e){if(xe(e)||je(e)){var t=d[n];$(n,e,t),d[n]=e}}),h.$$observers[s].$$scope=p,xe(t=h[s])?d[n]=j(t)(p):je(t)&&(d[n]=t),g[n]=new $n(vn,d[n]),v.push(a);break;case"=":if(!de.call(h,s)){if(u)break;y(s,m.name),h[s]=void 0}if(u&&!h[s])break;r=P(h[s]),o=r.literal?Me:Ae,i=r.assign||function(){throw t=d[n]=r(p),mn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",h[s],s,m.name)},t=d[n]=r(p);var c=function(e){return o(e,d[n])||(o(e,t)?i(p,e=d[n]):d[n]=e),t=e};c.$stateful=!0,a=e.collection?p.$watchCollection(h[s],c):p.$watch(P(h[s],c),null,r.literal),v.push(a);break;case"<":if(!de.call(h,s)){if(u)break;y(s,m.name),h[s]=void 0}if(u&&!h[s])break;var l=(r=P(h[s])).literal,f=d[n]=r(p);g[n]=new $n(vn,d[n]),a=p[e.collection?"$watchCollection":"$watch"](r,function(e,t){if(t===e){if(t===f||l&&Me(t,f))return;t=f}$(n,e,t),d[n]=e}),v.push(a);break;case"&":if(u||de.call(h,s)||y(s,m.name),(r=h.hasOwnProperty(s)?P(h[s]):be)===be&&u)break;d[n]=function(e){return r(p,e)}}}),{initialChanges:g,removeWatches:v.length&&function(){for(var e=0,t=v.length;e<t;++e)v[e]()}}}}]}function $n(e,t){this.previousValue=e,this.currentValue=t}gn.$inject=["$provide","$$sanitizeUriProvider"],$n.prototype.isFirstChange=function(){return this.previousValue===vn};var yn=/^((?:x|data)[:\-_])/i,bn=/[:\-_]+(.)/g;function wn(e){return e.replace(yn,"").replace(bn,function(e,t,n){return n?t.toUpperCase():t})}function _n(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue e;n+=(0<n.length?" ":"")+a}return n}function Sn(e){var t=(e=he(e)).length;if(t<=1)return e;for(;t--;){var n=e[t];(n.nodeType===He||n.nodeType===Fe&&""===n.nodeValue.trim())&&r.call(e,t,1)}return e}var xn=O("$controller"),En=/^(\S+)(\s+as\s+([\w$]+))?$/;function Cn(){var f={};this.has=function(e){return f.hasOwnProperty(e)},this.register=function(e,t){ue(e,"controller"),Se(e)?$e(f,e):f[e]=t},this.$get=["$injector",function(c){return function(t,n,e,r){var i,o,a,s;if(e=!0===e,r&&xe(r)&&(s=r),xe(t)){if(!(o=t.match(En)))throw xn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);if(a=o[1],s=s||o[3],!(t=f.hasOwnProperty(a)?f[a]:function(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;s<a;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&ke(e)?Le(o,e):e}(n.$scope,a,!0)))throw xn("ctrlreg","The controller with the name '{0}' is not registered.",a);se(t,a,!0)}if(e){var u=(Ee(t)?t[t.length-1]:t).prototype;return i=Object.create(u||null),s&&l(n,s,i,a||t.name),$e(function(){var e=c.invoke(t,i,n,a);return e!==i&&(Se(e)||ke(e))&&(i=e,s&&l(n,s,i,a||t.name)),i},{instance:i,identifier:s})}return i=c.instantiate(t,n,a),s&&l(n,s,i,a||t.name),i};function l(e,t,n,r){if(!e||!Se(e.$scope))throw O("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}}]}function kn(){this.$get=["$window",function(e){return he(e.document)}]}function On(){this.$get=["$document","$rootScope",function(e,t){var n=e[0],r=n&&n.hidden;function i(){r=n.hidden}return e.on("visibilitychange",i),t.$on("$destroy",function(){e.off("visibilitychange",i)}),function(){return r}}]}function jn(){this.$get=["$log",function(n){return function(e,t){n.error.apply(n,arguments)}}]}var Pn=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof he&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Rn="application/json",Tn={"Content-Type":Rn+";charset=utf-8"},An=/^\[|^\{(?!\{)/,Mn={"[":/]$/,"{":/}$/},Nn=/^\)]\}',?\n/,Ln=O("$http");function Vn(e){return Se(e)?x(e)?e.toISOString():H(e):e}function In(){this.$get=function(){return function(e){if(!e)return"";var n=[];return s(e,function(e,t){null===e||_e(e)||ke(e)||(Ee(e)?ge(e,function(e){n.push(Z(t)+"="+Z(Vn(e)))}):n.push(Z(t)+"="+Z(Vn(e))))}),n.join("&")}}}function Dn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function n(e,r,i){Ee(e)?ge(e,function(e,t){n(e,r+"["+(Se(e)?t:"")+"]")}):Se(e)&&!x(e)?s(e,function(e,t){n(e,r+(i?"":"[")+t+(i?"":"]"))}):(ke(e)&&(e=e()),t.push(Z(r)+"="+(null==e?"":Z(Vn(e)))))}(e,"",!0),t.join("&")}}}function qn(t,e){if(xe(t)){var n=t.replace(Nn,"").trim();if(n){var r=e("Content-Type"),i=r&&0===r.indexOf(Rn);if(i||(a=(o=n).match(An))&&Mn[a[0]].test(o))try{t=z(n)}catch(e){if(!i)return t;throw Ln("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}var o,a;return t}function Un(e){var t,n=qe();function r(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return xe(e)?ge(e.split("\n"),function(e){t=e.indexOf(":"),r(me(Pe(e.substr(0,t))),Pe(e.substr(t+1)))}):Se(e)&&ge(e,function(e,t){r(me(t),Pe(e))}),n}function Fn(n){var r;return function(e){if(r||(r=Un(n)),e){var t=r[me(e)];return void 0===t&&(t=null),t}return r}}function Hn(t,n,r,e){return ke(e)?e(t,n,r):(ge(e,function(e){t=e(t,n,r)}),t)}function zn(e){return 200<=e&&e<300}function Bn(){var x=this.defaults={transformResponse:[qn],transformRequest:[function(e){return Se(e)&&(r=e,"[object File]"!==ve.call(r))&&(n=e,"[object Blob]"!==ve.call(n))&&(t=e,"[object FormData]"!==ve.call(t))?H(e):e;var t,n,r}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Ge(Tn),put:Ge(Tn),patch:Ge(Tn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},E=!1;this.useApplyAsync=function(e){return T(e)?(E=!!e,this):E};var t=this.interceptors=[],r=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(s,v,g,e,$,y,u,b){var w=e("$http");x.paramSerializer=xe(x.paramSerializer)?u.get(x.paramSerializer):x.paramSerializer;var c=[];ge(t,function(e){c.unshift(xe(e)?u.get(e):u.invoke(e))});var n,_=(n=[li].concat(r.map(pi)),function(e){var t=pi(e);return n.some(hi.bind(null,t))});function S(e){if(!Se(e))throw O("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);if(!xe(b.valueOf(e.url)))throw O("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",e.url);var n=$e({method:"get",transformRequest:x.transformRequest,transformResponse:x.transformResponse,paramSerializer:x.paramSerializer,jsonpCallbackParam:x.jsonpCallbackParam},e);n.headers=function(e){var t,n,r,i=x.headers,o=$e({},e.headers);i=$e({},i.common,i[me(e.method)]);e:for(t in i){for(r in n=me(t),o)if(me(r)===n)continue e;o[t]=i[t]}return a=o,s=Ge(e),c={},ge(a,function(e,t){ke(e)?null!=(u=e(s))&&(c[t]=u):c[t]=e}),c;var a,s,u,c}(e),n.method=p(n.method),n.paramSerializer=xe(n.paramSerializer)?u.get(n.paramSerializer):n.paramSerializer,s.$$incOutstandingRequestCount("$http");var t=[],r=[],i=y.resolve(n);return ge(c,function(e){(e.request||e.requestError)&&t.unshift(e.request,e.requestError),(e.response||e.responseError)&&r.push(e.response,e.responseError)}),i=(i=o(i=(i=o(i,t)).then(function(e){var n=e.headers,t=Hn(e.data,Fn(n),void 0,e.transformRequest);_e(t)&&ge(n,function(e,t){"content-type"===me(t)&&delete n[t]});_e(e.withCredentials)&&!_e(x.withCredentials)&&(e.withCredentials=x.withCredentials);return function(o,e){var a,t,s=y.defer(),n=s.promise,r=o.headers,i="jsonp"===me(o.method),u=o.url;i?u=b.getTrustedResourceUrl(u):xe(u)||(u=b.valueOf(u));c=u,l=o.paramSerializer(o.params),0<l.length&&(c+=(-1===c.indexOf("?")?"?":"&")+l),u=c,i&&(u=function(n,r){var e=n.split("?");if(2<e.length)throw Ln("badjsonp",'Illegal use more than one "?", in url, "{1}"',n);return ge(Y(e[1]),function(e,t){if("JSON_CALLBACK"===e)throw Ln("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',n);if(t===r)throw Ln("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',r,n)}),n+=(-1===n.indexOf("?")?"?":"&")+r+"=JSON_CALLBACK"}(u,o.jsonpCallbackParam));var c,l;S.pendingRequests.push(o),n.then(m,m),!o.cache&&!x.cache||!1===o.cache||"GET"!==o.method&&"JSONP"!==o.method||(a=Se(o.cache)?o.cache:Se(x.cache)?x.cache:w);a&&(T(t=a.get(u))?k(t)?t.then(d,d):Ee(t)?h(t[1],t[0],Ge(t[2]),t[3],t[4]):h(t,200,{},"OK","complete"):a.put(u,n));if(_e(t)){var f=_(o.url)?g()[o.xsrfCookieName||x.xsrfCookieName]:void 0;f&&(r[o.xsrfHeaderName||x.xsrfHeaderName]=f),v(o.method,u,e,function(e,t,n,r,i){a&&(zn(e)?a.put(u,[e,t,Un(n),r,i]):a.remove(u));function o(){h(t,e,n,r,i)}E?$.$applyAsync(o):(o(),$.$$phase||$.$apply())},r,o.timeout,o.withCredentials,o.responseType,p(o.eventHandlers),p(o.uploadEventHandlers))}return n;function p(e){if(e){var t={};return ge(e,function(n,e){t[e]=function(e){function t(){n(e)}E?$.$applyAsync(t):$.$$phase?t():$.$apply(t)}}),t}}function h(e,t,n,r,i){(zn(t=-1<=t?t:0)?s.resolve:s.reject)({data:e,status:t,headers:Fn(n),config:o,statusText:r,xhrStatus:i})}function d(e){h(e.data,e.status,Ge(e.headers()),e.statusText,e.xhrStatus)}function m(){var e=S.pendingRequests.indexOf(o);-1!==e&&S.pendingRequests.splice(e,1)}}(e,t).then(a,a)}),r)).finally(function(){s.$$completeOutstandingRequest(be,"$http")});function o(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function a(e){var t=$e({},e);return t.data=Hn(e.data,e.headers,e.status,n.transformResponse),zn(e.status)?t:y.reject(t)}}return S.pendingRequests=[],function(e){ge(arguments,function(n){S[n]=function(e,t){return S($e({},t||{},{method:n,url:e}))}})}("get","delete","head","jsonp"),function(e){ge(arguments,function(r){S[r]=function(e,t,n){return S($e({},n||{},{method:r,url:e,data:t}))}})}("post","put","patch"),S.defaults=x,S}]}function Gn(){this.$get=function(){return function(){return new fe.XMLHttpRequest}}}function Wn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return $=r,y=(g=e).defer,b=t,w=n[0],function(e,r,t,i,n,o,a,s,u,c){if(r=r||g.url(),"jsonp"===me(e))var l=b.createCallback(r),f=function(e,r,i){e=e.replace("JSON_CALLBACK",r);var o=w.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){o.removeEventListener("load",a),o.removeEventListener("error",a),w.body.removeChild(o),o=null;var t=-1,n="unknown";e&&("load"!==e.type||b.wasCalled(r)||(e={type:"error"}),n=e.type,t="error"===e.type?404:200),i&&i(t,n)},o.addEventListener("load",a),o.addEventListener("error",a),w.body.appendChild(o),a}(r,l,function(e,t){var n=200===e&&b.getResponse(l);v(i,e,n,"",t,"complete"),b.removeCallback(l)});else{var p=$(e,r),h=!1;if(p.open(e,r,!0),ge(n,function(e,t){T(e)&&p.setRequestHeader(t,e)}),p.onload=function(){var e=p.statusText||"",t="response"in p?p.response:p.responseText,n=1223===p.status?204:p.status;0===n&&(n=t?200:"file"===pi(r).protocol?404:0),v(i,n,t,p.getAllResponseHeaders(),e,"complete")},p.onerror=function(){v(i,-1,null,null,"","error")},p.ontimeout=function(){v(i,-1,null,null,"","timeout")},p.onabort=function(){v(i,-1,null,null,"",h?"timeout":"abort")},ge(u,function(e,t){p.addEventListener(t,e)}),ge(c,function(e,t){p.upload.addEventListener(t,e)}),a&&(p.withCredentials=!0),s)try{p.responseType=s}catch(e){if("json"!==s)throw e}p.send(_e(t)?null:t)}if(0<o)var d=y(function(){m("timeout")},o);else k(o)&&o.then(function(){m(T(o.$$timeoutId)?"timeout":"abort")});function m(e){h="timeout"===e,f&&f(),p&&p.abort()}function v(e,t,n,r,i,o){T(d)&&y.cancel(d),f=p=null,e(t,n,r,i,o)}};var g,$,y,b,w}]}var Kn=y.$interpolateMinErr=O("$interpolate");function Jn(){var C="{{",k="}}";this.startSymbol=function(e){return e?(C=e,this):C},this.endSymbol=function(e){return e?(k=e,this):k},this.$get=["$parse","$exceptionHandler","$sce",function(y,b,w){var _=C.length,S=k.length,t=new RegExp(C.replace(/./g,e),"g"),n=new RegExp(k.replace(/./g,e),"g");function e(e){return"\\\\\\"+e}function x(e){return e.replace(t,C).replace(n,k)}function E(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function r(i,e,r,o){var a=r===w.URL||r===w.MEDIA_URL;if(!i.length||-1===i.indexOf(C)){if(e)return;var t=x(i);a&&(t=w.getTrusted(r,t));var n=R(t);return n.exp=i,n.expressions=[],n.$$watchDelegate=E,n}o=!!o;for(var s,u,c,l,f,p=0,h=[],d=i.length,m=[],v=[];p<d;){if(-1===(s=i.indexOf(C,p))||-1===(u=i.indexOf(k,s+_))){p!==d&&m.push(x(i.substring(p)));break}p!==s&&m.push(x(i.substring(p,s))),l=i.substring(s+_,u),h.push(l),p=u+S,v.push(m.length),m.push("")}f=1===m.length&&1===v.length;var g=a&&f?void 0:function(e){try{return e=r&&!a?w.getTrusted(r,e):w.valueOf(e),o&&!T(e)?e:le(e)}catch(e){b(Kn.interr(i,e))}};if(c=h.map(function(e){return y(e,g)}),!e||h.length){var $=function(e){for(var t=0,n=h.length;t<n;t++){if(o&&_e(e[t]))return;m[v[t]]=e[t]}return a?w.getTrusted(r,f?m[0]:m.join("")):(r&&1<m.length&&Kn.throwNoconcat(i),m.join(""))};return $e(function(e){var t=0,n=h.length,r=new Array(n);try{for(;t<n;t++)r[t]=c[t](e);return $(r)}catch(e){b(Kn.interr(i,e))}},{exp:i,expressions:h,$$watchDelegate:function(r,i){var o;return r.$watchGroup(c,function(e,t){var n=$(e);i.call(this,n,e!==t?o:n,r),o=n})}})}}return r.startSymbol=function(){return C},r.endSymbol=function(){return k},r}]}Kn.throwNoconcat=function(e){throw Kn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Kn.interr=function(e,t){return Kn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Yn=O("$interval");function Qn(){this.$get=["$$intervalFactory","$window",function(e,i){var o={},r=function(e){i.clearInterval(e),delete o[e]},t=e(function(e,t,n){var r=i.setInterval(e,t);return o[r]=n,r},r);return t.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$intervalId"))throw Yn("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!o.hasOwnProperty(e.$$intervalId))return!1;var t=e.$$intervalId,n=o[t];return Hr(n.promise),n.reject("canceled"),r(t),!0},t}]}function Zn(){this.$get=["$browser","$q","$$q","$rootScope",function(h,d,m,v){return function(f,p){return function(e,t,n,r){var i=4<arguments.length,o=i?Ne(arguments,4):[],a=0,s=T(r)&&!r,u=(s?m:d).defer(),c=u.promise;function l(){i?e.apply(null,o):e(a)}return n=T(n)?n:0,c.$$intervalId=f(function(){s?h.defer(l):v.$evalAsync(l),u.notify(a++),0<n&&n<=a&&(u.resolve(a),p(c.$$intervalId)),s||v.$apply()},t,u,s),c}}}]}var Xn=function(){this.$get=function(){var o=y.callbacks,a={};return{createCallback:function(e){var t,n="_"+(o.$$counter++).toString(36),r="angular.callbacks."+n,i=((t=function(e){t.data=e,t.called=!0}).id=n,t);return a[r]=o[n]=i,r},wasCalled:function(e){return a[e].called},getResponse:function(e){return a[e].data},removeCallback:function(e){var t=a[e];delete o[t.id],delete a[e]}}}},er=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,tr={http:80,https:443,ftp:21},nr=O("$location");function rr(e,t,n){var r,i=(r=[],ge(t,function(e,t){Ee(e)?ge(e,function(e){r.push(Z(t,!0)+(!0===e?"":"="+Z(e,!0)))}):r.push(Z(t,!0)+(!0===e?"":"="+Z(e,!0)))}),r.length?r.join("&"):""),o=n?"#"+Q(n):"";return function(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=Q(t[n].replace(/%2F/g,"/"));return t.join("/")}(e)+(i?"?"+i:"")+o}function ir(e,t){var n=pi(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=b(n.port)||tr[n.protocol]||null}var or=/^\s*[\\/]{2,}/;function ar(e,t,n){if(or.test(e))throw nr("badpath",'Invalid url "{0}".',e);var r="/"!==e.charAt(0);r&&(e="/"+e);var i=pi(e),o=r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname;t.$$path=function(e,t){for(var n=e.split("/"),r=n.length;r--;)n[r]=decodeURIComponent(n[r]),t&&(n[r]=n[r].replace(/\//g,"%2F"));return n.join("/")}(o,n),t.$$search=Y(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function sr(e,t){return e.slice(0,t.length)===t}function ur(e,t){if(sr(t,e))return t.substr(e.length)}function cr(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function lr(o,a,s){this.$$html5=!0,s=s||"",ir(o,this),this.$$parse=function(e){var t=ur(a,e);if(!xe(t))throw nr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,a);ar(t,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(e){return a+e.substr(1)},this.$$parseLinkUrl=function(e,t){return t&&"#"===t[0]?(this.hash(t.slice(1)),!0):(T(n=ur(o,e))?(r=n,i=s&&T(n=ur(s,n))?a+(ur("/",n)||n):o+r):T(n=ur(a,e))?i=a+n:a===e+"/"&&(i=a),i&&this.$$parse(i),!!i);var n,r,i}}function fr(r,i,o){ir(r,this),this.$$parse=function(e){var t,n=ur(r,e)||ur(i,e);_e(n)||"#"!==n.charAt(0)?this.$$html5?t=n:(t="",_e(n)&&(r=e,this.replace())):_e(t=ur(o,n))&&(t=n),ar(t,this,!1),this.$$path=function(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;sr(t,n)&&(t=t.replace(n,""));if(i.exec(t))return e;return(r=i.exec(e))?r[1]:e}(this.$$path,t,r),this.$$compose()},this.$$normalizeUrl=function(e){return r+(e?o+e:"")},this.$$parseLinkUrl=function(e,t){return cr(r)===cr(e)&&(this.$$parse(e),!0)}}function pr(i,o,a){this.$$html5=!0,fr.apply(this,arguments),this.$$parseLinkUrl=function(e,t){return t&&"#"===t[0]?(this.hash(t.slice(1)),!0):(i===cr(e)?n=e:(r=ur(o,e))?n=i+a+r:o===e+"/"&&(n=o),n&&this.$$parse(n),!!n);var n,r},this.$$normalizeUrl=function(e){return i+a+e}}var hr={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=rr(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:dr("$$absUrl"),url:function(e){if(_e(e))return this.$$url;var t=er.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:dr("$$protocol"),host:dr("$$host"),port:dr("$$port"),path:mr("$$path",function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e}),search:function(n,e){switch(arguments.length){case 0:return this.$$search;case 1:if(xe(n)||S(n))n=n.toString(),this.$$search=Y(n);else{if(!Se(n))throw nr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");ge(n=I(n,{}),function(e,t){null==e&&delete n[t]}),this.$$search=n}break;default:_e(e)||null===e?delete this.$$search[n]:this.$$search[n]=e}return this.$$compose(),this},hash:mr("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};function dr(e){return function(){return this[e]}}function mr(t,n){return function(e){return _e(e)?this[t]:(this[t]=n(e),this.$$compose(),this)}}function vr(){var g="!",$={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return T(e)?(g=e,this):g},this.html5Mode=function(e){return je(e)?($.enabled=e,this):Se(e)?(je(e.enabled)&&($.enabled=e.enabled),je(e.requireBase)&&($.requireBase=e.requireBase),(je(e.rewriteLinks)||xe(e.rewriteLinks))&&($.rewriteLinks=e.rewriteLinks),this):$},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(s,u,c,o,e){var l,t,n,r,i=u.baseHref(),a=u.url();if($.enabled){if(!i&&$.requireBase)throw nr("nobase","$location in HTML5 mode requires a <base> tag to be present!");n=(r=a).substring(0,r.indexOf("/",r.indexOf("//")+2))+(i||"/"),t=c.history?lr:pr}else n=cr(a),t=fr;var f,p=(f=n).substr(0,cr(f).lastIndexOf("/")+1);(l=new t(n,p,"#"+g)).$$parseLinkUrl(a,a),l.$$state=u.state();var h=/^\s*(javascript|mailto):/i;function d(e,t,n){var r=l.url(),i=l.$$state;try{u.url(e,t,n),l.$$state=u.state()}catch(e){throw l.url(r),l.$$state=i,e}}o.on("click",function(e){var t=$.rewriteLinks;if(t&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var n=he(e.target);"a"!==Re(n[0]);)if(n[0]===o[0]||!(n=n.parent())[0])return;if(!xe(t)||!_e(n.attr(t))){var r=n.prop("href"),i=n.attr("href")||n.attr("xlink:href");Se(r)&&"[object SVGAnimatedString]"===r.toString()&&(r=pi(r.animVal).href),h.test(r)||!r||n.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(r,i)&&(e.preventDefault(),l.absUrl()!==u.url()&&s.$apply())}}}),l.absUrl()!==a&&u.url(l.absUrl(),!0);var m=!0;return u.onUrlChange(function(r,i){sr(r,p)?(s.$evalAsync(function(){var e,t=l.absUrl(),n=l.$$state;l.$$parse(r),l.$$state=i,e=s.$broadcast("$locationChangeStart",r,t,i,n).defaultPrevented,l.absUrl()===r&&(e?(l.$$parse(t),d(t,!1,l.$$state=n)):(m=!1,v(t,n)))}),s.$$phase||s.$digest()):e.location.href=r}),s.$watch(function(){if(m||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var n=u.url(),e=l.absUrl(),r=u.state(),i=l.$$replace,o=!((t=n)===(a=e)||pi(t).href===pi(a).href)||l.$$html5&&c.history&&r!==l.$$state;(m||o)&&(m=!1,s.$evalAsync(function(){var e=l.absUrl(),t=s.$broadcast("$locationChangeStart",e,n,l.$$state,r).defaultPrevented;l.absUrl()===e&&(t?(l.$$parse(n),l.$$state=r):(o&&d(e,i,r===l.$$state?null:l.$$state),v(n,r)))}))}var t,a;l.$$replace=!1}),l;function v(e,t){s.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}}]}function gr(){var r=!0,o=this;this.debugEnabled=function(e){return T(e)?(r=e,this):r},this.$get=["$window",function(n){var e,i=pe||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:t("log"),info:t("info"),warn:t("warn"),error:t("error"),debug:(e=t("debug"),function(){r&&e.apply(o,arguments)})};function t(e){var t=n.console||{},r=t[e]||t.log||be;return function(){var n=[];return ge(arguments,function(e){var t;n.push((Ce(t=e)&&(t.stack&&i?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t))}),Function.prototype.apply.call(r,t,n)}}}]}ge([pr,fr,lr],function(t){t.prototype=Object.create(hr),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==lr||!this.$$html5)throw nr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=_e(e)?null:e,this.$$urlUpdatedByLocation=!0,this}});var $r=O("$parse"),yr={}.constructor.prototype.valueOf;function br(e){return e+""}var wr=qe();ge("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){wr[e]=!0});var _r={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Sr=function(e){this.options=e};Sr.prototype={constructor:Sr,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=wr[t],o=wr[n],a=wr[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||"Â "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return 55296<=n&&n<=56319&&56320<=r&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=T(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw $r("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=me(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=_r[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var xr=function(e,t){this.lexer=e,this.options=t};function Er(e,t){return void 0!==e?e:t}function Cr(e,t){return void 0===e?t:void 0===t?e:e+t}xr.Program="Program",xr.ExpressionStatement="ExpressionStatement",xr.AssignmentExpression="AssignmentExpression",xr.ConditionalExpression="ConditionalExpression",xr.LogicalExpression="LogicalExpression",xr.BinaryExpression="BinaryExpression",xr.UnaryExpression="UnaryExpression",xr.CallExpression="CallExpression",xr.MemberExpression="MemberExpression",xr.Identifier="Identifier",xr.Literal="Literal",xr.ArrayExpression="ArrayExpression",xr.Property="Property",xr.ObjectExpression="ObjectExpression",xr.ThisExpression="ThisExpression",xr.LocalsExpression="LocalsExpression",xr.NGValueParameter="NGValueParameter",xr.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:xr.Program,body:e}},expressionStatement:function(){return{type:xr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!Rr(e))throw $r("lval","Trying to assign a value to a non l-value");e={type:xr.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:xr.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:xr.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:xr.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:xr.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:xr.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:xr.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:xr.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:xr.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=I(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:xr.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:xr.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:xr.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:xr.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:xr.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)for(;e.push(this.filterChain()),this.expect(","););return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:xr.Identifier,name:e.text}},constant:function(){return{type:xr.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:xr.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:xr.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:xr.ObjectExpression,properties:t}},throwError:function(e,t){throw $r("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw $r("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw $r("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:xr.ThisExpression},$locals:{type:xr.LocalsExpression}}};var kr=1,Or=2;function jr(e,t,n){var r,i,o,a,s,u=e.isPure=function(e,t){switch(e.type){case xr.MemberExpression:if(e.computed)return!1;break;case xr.UnaryExpression:return kr;case xr.BinaryExpression:return"+"!==e.operator&&kr;case xr.CallExpression:return!1}return void 0===t?Or:t}(e,n);switch(e.type){case xr.Program:r=!0,ge(e.body,function(e){jr(e.expression,t,u),r=r&&e.expression.constant}),e.constant=r;break;case xr.Literal:e.constant=!0,e.toWatch=[];break;case xr.UnaryExpression:jr(e.argument,t,u),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case xr.BinaryExpression:jr(e.left,t,u),jr(e.right,t,u),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case xr.LogicalExpression:jr(e.left,t,u),jr(e.right,t,u),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case xr.ConditionalExpression:jr(e.test,t,u),jr(e.alternate,t,u),jr(e.consequent,t,u),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case xr.Identifier:e.constant=!1,e.toWatch=[e];break;case xr.MemberExpression:jr(e.object,t,u),e.computed&&jr(e.property,t,u),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case xr.CallExpression:o=!!e.filter&&(a=t,s=e.callee.name,!a(s).$stateful),r=o,i=[],ge(e.arguments,function(e){jr(e,t,u),r=r&&e.constant,i.push.apply(i,e.toWatch)}),e.constant=r,e.toWatch=o?i:[e];break;case xr.AssignmentExpression:jr(e.left,t,u),jr(e.right,t,u),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case xr.ArrayExpression:r=!0,i=[],ge(e.elements,function(e){jr(e,t,u),r=r&&e.constant,i.push.apply(i,e.toWatch)}),e.constant=r,e.toWatch=i;break;case xr.ObjectExpression:r=!0,i=[],ge(e.properties,function(e){jr(e.value,t,u),r=r&&e.value.constant,i.push.apply(i,e.value.toWatch),e.computed&&(jr(e.key,t,!1),r=r&&e.key.constant,i.push.apply(i,e.key.toWatch))}),e.constant=r,e.toWatch=i;break;case xr.ThisExpression:case xr.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Pr(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function Rr(e){return e.type===xr.Identifier||e.type===xr.MemberExpression}function Tr(e){if(1===e.body.length&&Rr(e.body[0].expression))return{type:xr.AssignmentExpression,left:e.body[0].expression,right:{type:xr.NGValueParameter},operator:"="}}function Ar(e){this.$filter=e}function Mr(e){this.$filter=e}function Nr(e,t,n){this.ast=new xr(e,n),this.astCompiler=n.csp?new Mr(t):new Ar(t)}function Lr(e){return ke(e.valueOf)?e.valueOf():yr.call(e)}function Vr(){var s,u,c=qe(),l={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){l[e]=t},this.setIdentifierFns=function(e,t){return s=e,u=t,this},this.$get=["$filter",function(i){var o={csp:D().noUnsafeEval,literals:I(l),isIdentifierStart:ke(s)&&s,isIdentifierContinue:ke(u)&&u};return e.$$getAst=function(e){return new Nr(new Sr(o),i,o).getAst(e).ast},e;function e(e,t){var n,r;switch(typeof e){case"string":if(e=e.trim(),!(n=c[r=e]))n=new Nr(new Sr(o),i,o).parse(e),c[r]=d(n);return a(n,t);case"function":return a(e,t);default:return a(be,t)}}function p(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=Lr(e))&&!n)&&(e===t||e!=e&&t!=t)}function t(e,t,n,o,r){var a,s=o.inputs;if(1===s.length){var i=p;return s=s[0],e.$watch(function(e){var t=s(e);return p(t,i,s.isPure)||(a=o(e,void 0,void 0,[t]),i=t&&Lr(t)),a},t,n,r)}for(var u=[],c=[],l=0,f=s.length;l<f;l++)u[l]=p,c[l]=null;return e.$watch(function(e){for(var t=!1,n=0,r=s.length;n<r;n++){var i=s[n](e);(t||(t=!p(i,u[n],s[n].isPure)))&&(c[n]=i,u[n]=i&&Lr(i))}return t&&(a=o(e,void 0,void 0,c)),a},t,n,r)}function n(e,t,n,r,i){var o,a,s=r.literal?h:T,u=r.$$intercepted||r,c=r.$$interceptor||we,l=r.inputs&&!u.inputs;return p.literal=r.literal,p.constant=r.constant,p.inputs=r.inputs,d(p),o=e.$watch(p,t,n,i);function f(){s(a)&&o()}function p(e,t,n,r){return a=l&&r?r[0]:u(e,t,n,r),s(a)&&e.$$postDigest(f),c(a)}}function h(e){var t=!0;return ge(e,function(e){T(e)||(t=!1)}),t}function r(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function d(e){return e.constant?e.$$watchDelegate=r:e.oneTime?e.$$watchDelegate=n:e.inputs&&(e.$$watchDelegate=t),e}function a(o,a){if(!a)return o;o.$$interceptor&&(a=function(t,n){function e(e){return n(t(e))}return e.$stateful=t.$stateful||n.$stateful,e.$$pure=t.$$pure&&n.$$pure,e}(o.$$interceptor,a),o=o.$$intercepted);var s=!1,e=function(e,t,n,r){var i=s&&r?r[0]:o(e,t,n,r);return a(i)};return e.$$intercepted=o,e.$$interceptor=a,e.literal=o.literal,e.oneTime=o.oneTime,e.constant=o.constant,a.$stateful||(s=!o.inputs,e.inputs=o.inputs?o.inputs:[o],a.$$pure||(e.inputs=e.inputs.map(function(t){return t.isPure===Or?function(e){return t(e)}:t}))),d(e)}}]}function Ir(){var n=!0;this.$get=["$rootScope","$exceptionHandler",function(t,e){return qr(function(e){t.$evalAsync(e)},e,n)}],this.errorOnUnhandledRejections=function(e){return T(e)?(n=e,this):n}}function Dr(){var n=!0;this.$get=["$browser","$exceptionHandler",function(t,e){return qr(function(e){t.defer(e)},e,n)}],this.errorOnUnhandledRejections=function(e){return T(e)?(n=e,this):n}}function qr(a,s,u){var n=O("$q",TypeError),c=0,r=[];function i(){return new e}function e(){var t=this.promise=new o;this.resolve=function(e){p(t,e)},this.reject=function(e){h(t,e)},this.notify=function(e){m(t,e)}}function o(){this.$$state={status:0}}function l(){for(;!c&&r.length;){var e=r.shift();if(!Ur(e)){Fr(e);var t="Possibly unhandled rejection: "+We(e.value);Ce(e.value)?s(e.value,t):s(t)}}}function f(e){!u||e.pending||2!==e.status||Ur(e)||(0===c&&0===r.length&&a(l),r.push(e)),!e.processScheduled&&e.pending&&(e.processScheduled=!0,++c,a(function(){!function(e){var t,n,r;r=e.pending,e.processScheduled=!1,e.pending=void 0;try{for(var i=0,o=r.length;i<o;++i){Fr(e),n=r[i][0],t=r[i][e.status];try{ke(t)?p(n,t(e.value)):1===e.status?p(n,e.value):h(n,e.value)}catch(e){h(n,e),e&&!0===e.$$passToExceptionHandler&&s(e)}}}finally{--c,u&&0===c&&a(l)}}(e)}))}function p(e,t){e.$$state.status||(t===e?d(e,n("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):function t(n,e){var r;var i=!1;try{(Se(e)||ke(e))&&(r=e.then),ke(r)?(n.$$state.status=-1,r.call(e,o,a,s)):(n.$$state.value=e,n.$$state.status=1,f(n.$$state))}catch(e){a(e)}function o(e){i||(i=!0,t(n,e))}function a(e){i||(i=!0,d(n,e))}function s(e){m(n,e)}}(e,t))}function h(e,t){e.$$state.status||d(e,t)}function d(e,t){e.$$state.value=t,e.$$state.status=2,f(e.$$state)}function m(e,i){var o=e.$$state.pending;e.$$state.status<=0&&o&&o.length&&a(function(){for(var e,t,n=0,r=o.length;n<r;n++){t=o[n][0],e=o[n][3];try{m(t,ke(e)?e(i):i)}catch(e){s(e)}}})}function v(e){var t=new o;return h(t,e),t}function g(e,t,n){var r=null;try{ke(n)&&(r=n())}catch(e){return v(e)}return k(r)?r.then(function(){return t(e)},v):t(e)}function $(e,t,n,r){var i=new o;return p(i,e),i.then(t,n,r)}$e(o.prototype,{then:function(e,t,n){if(_e(e)&&_e(t)&&_e(n))return this;var r=new o;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),0<this.$$state.status&&f(this.$$state),r},catch:function(e){return this.then(null,e)},finally:function(t,e){return this.then(function(e){return g(e,y,t)},function(e){return g(e,v,t)},e)}});var y=$;function t(e){if(!ke(e))throw n("norslvr","Expected resolverFn, got '{0}'",e);var t=new o;return e(function(e){p(t,e)},function(e){h(t,e)}),t}return t.prototype=o.prototype,t.defer=i,t.reject=v,t.when=$,t.resolve=y,t.all=function(e){var n=new o,r=0,i=Ee(e)?[]:{};return ge(e,function(e,t){r++,$(e).then(function(e){i[t]=e,--r||p(n,i)},function(e){h(n,e)})}),0===r&&p(n,i),n},t.race=function(e){var t=i();return ge(e,function(e){$(e).then(t.resolve,t.reject)}),t.promise},t}function Ur(e){return!!e.pur}function Fr(e){e.pur=!0}function Hr(e){e.$$state&&Fr(e.$$state)}function zr(){this.$get=["$window","$timeout",function(e,n){var r=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,t=!!r,o=t?function(e){var t=r(e);return function(){i(t)}}:function(e){var t=n(e,16.66,!1);return function(){n.cancel(t)}};return o.supported=t,o}]}function Br(){var x=10,E=O("$rootScope"),C=null,k=null;this.digestTtl=function(e){return arguments.length&&(x=e),x},this.$get=["$exceptionHandler","$parse","$browser",function(h,d,m){function r(e){e.currentScope.$$destroyed=!0}function i(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}i.prototype={constructor:i,$new:function(e,t){var n;return t=t||this,e?(n=new i).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=u(),this.$$ChildScope=null,this.$$suspended=!1}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!==this)&&n.$on("$destroy",r),n},$watch:function(e,t,n,r){var i=d(e),o=ke(t)?t:be;if(i.$$watchDelegate)return i.$$watchDelegate(this,o,n,i,e);var a=this,s=a.$$watchers,u={fn:o,last:_,get:i,exp:r||e,eq:!!n};return C=null,s||((s=a.$$watchers=[]).$$digestWatchIndex=-1),s.unshift(u),s.$$digestWatchIndex++,c(this,1),function(){var e=Te(s,u);0<=e&&(c(a,-1),e<s.$$digestWatchIndex&&s.$$digestWatchIndex--),C=null}},$watchGroup:function(t,r){var i=new Array(t.length),o=new Array(t.length),a=[],s=this,u=!1,n=!0;if(!t.length){var e=!0;return s.$evalAsync(function(){e&&r(o,o,s)}),function(){e=!1}}if(1===t.length)return this.$watch(t[0],function(e,t,n){o[0]=e,i[0]=t,r(o,e===t?o:i,n)});function c(){u=!1;try{n?(n=!1,r(o,o,s)):r(o,i,s)}finally{for(var e=0;e<t.length;e++)i[e]=o[e]}}return ge(t,function(e,t){var n=s.$watch(e,function(e){o[t]=e,u||(u=!0,s.$evalAsync(c))});a.push(n)}),function(){for(;a.length;)a.shift()()}},$watchCollection:function(e,n){h.$$pure=d(e).literal,h.$stateful=!h.$$pure;var a,s,r,i=this,o=1<n.length,u=0,t=d(e,h),c=[],l={},f=!0,p=0;function h(e){var t,n,r,i;if(!_e(a=e)){if(Se(a))if(N(a)){s!==c&&(p=(s=c).length=0,u++),t=a.length,p!==t&&(u++,s.length=p=t);for(var o=0;o<t;o++)i=s[o],r=a[o],i!=i&&r!=r||i===r||(u++,s[o]=r)}else{for(n in s!==l&&(s=l={},p=0,u++),t=0,a)de.call(a,n)&&(t++,r=a[n],i=s[n],n in s?i!=i&&r!=r||i===r||(u++,s[n]=r):(p++,s[n]=r,u++));if(t<p)for(n in u++,s)de.call(a,n)||(p--,delete s[n])}else s!==a&&(s=a,u++);return u}}return this.$watch(t,function(){if(f?(f=!1,n(a,a,i)):n(a,r,i),o)if(Se(a))if(N(a)){r=new Array(a.length);for(var e=0;e<a.length;e++)r[e]=a[e]}else for(var t in r={},a)de.call(a,t)&&(r[t]=a[t]);else r=a})},$digest:function(){var e,t,n,r,i,o,a,s,u,c=x,l=g.length?v:this,f=[];b("$digest"),m.$$checkUrlChange(),this===v&&null!==k&&(m.defer.cancel(k),S()),C=null;do{i=!1,a=l;for(var p=0;p<g.length;p++){try{(0,(u=g[p]).fn)(u.scope,u.locals)}catch(e){h(e)}C=null}g.length=0;e:do{if(r=!a.$$suspended&&a.$$watchers)for(r.$$digestWatchIndex=r.length;r.$$digestWatchIndex--;)try{if(e=r[r.$$digestWatchIndex])if((t=(0,e.get)(a))===(n=e.last)||(e.eq?Me(t,n):P(t)&&P(n))){if(e===C){i=!1;break e}}else i=!0,(C=e).last=e.eq?I(t,null):t,(0,e.fn)(t,n===_?t:n,a),c<5&&(f[s=4-c]||(f[s]=[]),f[s].push({msg:ke(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:t,oldVal:n}))}catch(e){h(e)}if(!(o=!a.$$suspended&&a.$$watchersCount&&a.$$childHead||a!==l&&a.$$nextSibling))for(;a!==l&&!(o=a.$$nextSibling);)a=a.$parent}while(a=o);if((i||g.length)&&!c--)throw w(),E("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",x,f)}while(i||g.length);for(w();y<$.length;)try{$[y++]()}catch(e){h(e)}$.length=y=0,m.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===v&&m.$$applicationDestroyed(),c(this,-this.$$watchersCount),this.$$listenerCount)o(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=be,this.$on=this.$watch=this.$watchGroup=function(){return be},this.$$listeners={},this.$$nextSibling=null,function e(t){9===pe&&(t.$$childHead&&e(t.$$childHead),t.$$nextSibling&&e(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}(this)}},$eval:function(e,t){return d(e)(this,t)},$evalAsync:function(e,t){v.$$phase||g.length||m.defer(function(){g.length&&v.$digest()},null,"$evalAsync"),g.push({scope:this,fn:d(e),locals:t})},$$postDigest:function(e){$.push(e)},$apply:function(e){try{b("$apply");try{return this.$eval(e)}finally{w()}}catch(e){h(e)}finally{try{v.$digest()}catch(e){throw h(e),e}}},$applyAsync:function(e){var t=this;e&&n.push(function(){t.$eval(e)}),e=d(e),null===k&&(k=m.defer(function(){v.$apply(S)},null,"$applyAsync"))},$on:function(t,n){var r=this.$$listeners[t];r||(this.$$listeners[t]=r=[]),r.push(n);for(var e=this;e.$$listenerCount[t]||(e.$$listenerCount[t]=0),e.$$listenerCount[t]++,e=e.$parent;);var i=this;return function(){var e=r.indexOf(n);-1!==e&&(delete r[e],o(i,1,t))}},$emit:function(e,t){var n,r,i,o=[],a=this,s=!1,u={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=U([u],arguments,1);do{for(n=a.$$listeners[e]||o,u.currentScope=a,r=0,i=n.length;r<i;r++)if(n[r])try{n[r].apply(null,c)}catch(e){h(e)}else n.splice(r,1),r--,i--;if(s)break;a=a.$parent}while(a);return u.currentScope=null,u},$broadcast:function(e,t){var n=this,r=this,i={name:e,targetScope:this,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return i;for(var o,a,s,u=U([i],arguments,1);n=r;){for(a=0,s=(o=(i.currentScope=n).$$listeners[e]||[]).length;a<s;a++)if(o[a])try{o[a].apply(null,u)}catch(e){h(e)}else o.splice(a,1),a--,s--;if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var v=new i,g=v.$$asyncQueue=[],$=v.$$postDigestQueue=[],n=v.$$applyAsyncQueue=[],y=0;return v;function b(e){if(v.$$phase)throw E("inprog","{0} already in progress",v.$$phase);v.$$phase=e}function w(){v.$$phase=null}function c(e,t){for(;e.$$watchersCount+=t,e=e.$parent;);}function o(e,t,n){for(;e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n],e=e.$parent;);}function _(){}function S(){for(;n.length;)try{n.shift()()}catch(e){h(e)}k=null}}]}function Gr(){var i=/^\s*(https?|s?ftp|mailto|tel|file):/,o=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return T(e)?(i=e,this):i},this.imgSrcSanitizationWhitelist=function(e){return T(e)?(o=e,this):o},this.$get=function(){return function(e,t){var n=t?o:i,r=pi(e&&e.trim()).href;return""===r||r.match(n)?e:"unsafe:"+r}}}Ar.prototype={compile:function(e){var i=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},jr(e,i.$filter);var t,n="";if(this.stage="assign",t=Tr(e)){this.state.computing="assign";var r=this.nextId();this.recurse(t,r),this.return_(r),n="fn.assign="+this.generateFunction("assign","s,v,l")}var o=Pr(e.body);i.stage="inputs",ge(o,function(e,t){var n="fn"+t;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var r=i.nextId();i.recurse(e,r),i.return_(r),i.state.inputs.push({name:n,isPure:e.isPure}),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(e);var a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",s=new Function("$filter","getStringValue","ifDefined","plus",a)(this.$filter,br,Er,Cr);return this.state=this.stage=void 0,s},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return ge(e,function(e){t.push("var "+e.name+"="+n.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")}),e.length&&t.push("fn.inputs=["+e.map(function(e){return e.name}).join(",")+"];"),t.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var n=[],r=this;return ge(this.state.filters,function(e,t){n.push(e+"=$filter("+r.escape(t)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(n,t,e,r,i,o){var a,s,u,c,l,f=this;if(r=r||be,!o&&T(n.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",n.watchId)),this.lazyRecurse(n,t,e,r,i,!0));switch(n.type){case xr.Program:ge(n.body,function(e,t){f.recurse(e.expression,void 0,void 0,function(e){s=e}),t!==n.body.length-1?f.current().body.push(s,";"):f.return_(s)});break;case xr.Literal:c=this.escape(n.value),this.assign(t,c),r(t||c);break;case xr.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(e){s=e}),c=n.operator+"("+this.ifDefined(s,0)+")",this.assign(t,c),r(c);break;case xr.BinaryExpression:this.recurse(n.left,void 0,void 0,function(e){a=e}),this.recurse(n.right,void 0,void 0,function(e){s=e}),c="+"===n.operator?this.plus(a,s):"-"===n.operator?this.ifDefined(a,0)+n.operator+this.ifDefined(s,0):"("+a+")"+n.operator+"("+s+")",this.assign(t,c),r(c);break;case xr.LogicalExpression:t=t||this.nextId(),f.recurse(n.left,t),f.if_("&&"===n.operator?t:f.not(t),f.lazyRecurse(n.right,t)),r(t);break;case xr.ConditionalExpression:t=t||this.nextId(),f.recurse(n.test,t),f.if_(t,f.lazyRecurse(n.alternate,t),f.lazyRecurse(n.consequent,t)),r(t);break;case xr.Identifier:t=t||this.nextId(),e&&(e.context="inputs"===f.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),e.computed=!1,e.name=n.name),f.if_("inputs"===f.stage||f.not(f.getHasOwnProperty("l",n.name)),function(){f.if_("inputs"===f.stage||"s",function(){i&&1!==i&&f.if_(f.isNull(f.nonComputedMember("s",n.name)),f.lazyAssign(f.nonComputedMember("s",n.name),"{}")),f.assign(t,f.nonComputedMember("s",n.name))})},t&&f.lazyAssign(t,f.nonComputedMember("l",n.name))),r(t);break;case xr.MemberExpression:a=e&&(e.context=this.nextId())||this.nextId(),t=t||this.nextId(),f.recurse(n.object,a,void 0,function(){f.if_(f.notNull(a),function(){n.computed?(s=f.nextId(),f.recurse(n.property,s),f.getStringValue(s),i&&1!==i&&f.if_(f.not(f.computedMember(a,s)),f.lazyAssign(f.computedMember(a,s),"{}")),c=f.computedMember(a,s),f.assign(t,c),e&&(e.computed=!0,e.name=s)):(i&&1!==i&&f.if_(f.isNull(f.nonComputedMember(a,n.property.name)),f.lazyAssign(f.nonComputedMember(a,n.property.name),"{}")),c=f.nonComputedMember(a,n.property.name),f.assign(t,c),e&&(e.computed=!1,e.name=n.property.name))},function(){f.assign(t,"undefined")}),r(t)},!!i);break;case xr.CallExpression:t=t||this.nextId(),n.filter?(s=f.filter(n.callee.name),u=[],ge(n.arguments,function(e){var t=f.nextId();f.recurse(e,t),u.push(t)}),c=s+"("+u.join(",")+")",f.assign(t,c),r(t)):(s=f.nextId(),a={},u=[],f.recurse(n.callee,s,a,function(){f.if_(f.notNull(s),function(){ge(n.arguments,function(e){f.recurse(e,n.constant?void 0:f.nextId(),void 0,function(e){u.push(e)})}),c=a.name?f.member(a.context,a.name,a.computed)+"("+u.join(",")+")":s+"("+u.join(",")+")",f.assign(t,c)},function(){f.assign(t,"undefined")}),r(t)}));break;case xr.AssignmentExpression:s=this.nextId(),a={},this.recurse(n.left,void 0,a,function(){f.if_(f.notNull(a.context),function(){f.recurse(n.right,s),c=f.member(a.context,a.name,a.computed)+n.operator+s,f.assign(t,c),r(t||c)})},1);break;case xr.ArrayExpression:u=[],ge(n.elements,function(e){f.recurse(e,n.constant?void 0:f.nextId(),void 0,function(e){u.push(e)})}),c="["+u.join(",")+"]",this.assign(t,c),r(t||c);break;case xr.ObjectExpression:l=!(u=[]),ge(n.properties,function(e){e.computed&&(l=!0)}),l?(t=t||this.nextId(),this.assign(t,"{}"),ge(n.properties,function(e){e.computed?(a=f.nextId(),f.recurse(e.key,a)):a=e.key.type===xr.Identifier?e.key.name:""+e.key.value,s=f.nextId(),f.recurse(e.value,s),f.assign(f.member(t,a,e.computed),s)})):(ge(n.properties,function(t){f.recurse(t.value,n.constant?void 0:f.nextId(),void 0,function(e){u.push(f.escape(t.key.type===xr.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+u.join(",")+"}",this.assign(t,c)),r(t||c);break;case xr.ThisExpression:this.assign(t,"s"),r(t||"s");break;case xr.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case xr.NGValueParameter:this.assign(t,"v"),r(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(xe(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(S(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw $r("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Mr.prototype={compile:function(e){var t,r,i=this;jr(e,i.$filter),(t=Tr(e))&&(r=this.recurse(t));var o,n=Pr(e.body);n&&(o=[],ge(n,function(e,t){var n=i.recurse(e);n.isPure=e.isPure,e.input=n,o.push(n),e.watchId=t}));var a=[];ge(e.body,function(e){a.push(i.recurse(e.expression))});var s=0===e.body.length?be:1===e.body.length?a[0]:function(t,n){var r;return ge(a,function(e){r=e(t,n)}),r};return r&&(s.assign=function(e,t,n){return r(e,n,t)}),o&&(s.inputs=o),s},recurse:function(e,u,t){var a,c,l,n=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case xr.Literal:return this.value(e.value,u);case xr.UnaryExpression:return c=this.recurse(e.argument),this["unary"+e.operator](c,u);case xr.BinaryExpression:case xr.LogicalExpression:return a=this.recurse(e.left),c=this.recurse(e.right),this["binary"+e.operator](a,c,u);case xr.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),u);case xr.Identifier:return n.identifier(e.name,u,t);case xr.MemberExpression:return a=this.recurse(e.object,!1,!!t),e.computed||(c=e.property.name),e.computed&&(c=this.recurse(e.property)),e.computed?this.computedMember(a,c,u,t):this.nonComputedMember(a,c,u,t);case xr.CallExpression:return l=[],ge(e.arguments,function(e){l.push(n.recurse(e))}),e.filter&&(c=this.$filter(e.callee.name)),e.filter||(c=this.recurse(e.callee,!0)),e.filter?function(e,t,n,r){for(var i=[],o=0;o<l.length;++o)i.push(l[o](e,t,n,r));var a=c.apply(void 0,i,r);return u?{context:void 0,name:void 0,value:a}:a}:function(e,t,n,r){var i,o=c(e,t,n,r);if(null!=o.value){for(var a=[],s=0;s<l.length;++s)a.push(l[s](e,t,n,r));i=o.value.apply(o.context,a)}return u?{value:i}:i};case xr.AssignmentExpression:return a=this.recurse(e.left,!0,1),c=this.recurse(e.right),function(e,t,n,r){var i=a(e,t,n,r),o=c(e,t,n,r);return i.context[i.name]=o,u?{value:o}:o};case xr.ArrayExpression:return l=[],ge(e.elements,function(e){l.push(n.recurse(e))}),function(e,t,n,r){for(var i=[],o=0;o<l.length;++o)i.push(l[o](e,t,n,r));return u?{value:i}:i};case xr.ObjectExpression:return l=[],ge(e.properties,function(e){e.computed?l.push({key:n.recurse(e.key),computed:!0,value:n.recurse(e.value)}):l.push({key:e.key.type===xr.Identifier?e.key.name:""+e.key.value,computed:!1,value:n.recurse(e.value)})}),function(e,t,n,r){for(var i={},o=0;o<l.length;++o)l[o].computed?i[l[o].key(e,t,n,r)]=l[o].value(e,t,n,r):i[l[o].key]=l[o].value(e,t,n,r);return u?{value:i}:i};case xr.ThisExpression:return function(e){return u?{value:e}:e};case xr.LocalsExpression:return function(e,t){return u?{value:t}:t};case xr.NGValueParameter:return function(e,t,n){return u?{value:n}:n}}},"unary+":function(o,a){return function(e,t,n,r){var i=o(e,t,n,r);return i=T(i)?+i:0,a?{value:i}:i}},"unary-":function(o,a){return function(e,t,n,r){var i=o(e,t,n,r);return i=T(i)?-i:-0,a?{value:i}:i}},"unary!":function(o,a){return function(e,t,n,r){var i=!o(e,t,n,r);return a?{value:i}:i}},"binary+":function(o,a,s){return function(e,t,n,r){var i=Cr(o(e,t,n,r),a(e,t,n,r));return s?{value:i}:i}},"binary-":function(s,u,c){return function(e,t,n,r){var i=s(e,t,n,r),o=u(e,t,n,r),a=(T(i)?i:0)-(T(o)?o:0);return c?{value:a}:a}},"binary*":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)*a(e,t,n,r);return s?{value:i}:i}},"binary/":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)/a(e,t,n,r);return s?{value:i}:i}},"binary%":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)%a(e,t,n,r);return s?{value:i}:i}},"binary===":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)===a(e,t,n,r);return s?{value:i}:i}},"binary!==":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)!==a(e,t,n,r);return s?{value:i}:i}},"binary==":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)==a(e,t,n,r);return s?{value:i}:i}},"binary!=":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)!=a(e,t,n,r);return s?{value:i}:i}},"binary<":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)<a(e,t,n,r);return s?{value:i}:i}},"binary>":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)>a(e,t,n,r);return s?{value:i}:i}},"binary<=":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)<=a(e,t,n,r);return s?{value:i}:i}},"binary>=":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)>=a(e,t,n,r);return s?{value:i}:i}},"binary&&":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)&&a(e,t,n,r);return s?{value:i}:i}},"binary||":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)||a(e,t,n,r);return s?{value:i}:i}},"ternary?:":function(o,a,s,u){return function(e,t,n,r){var i=o(e,t,n,r)?a(e,t,n,r):s(e,t,n,r);return u?{value:i}:i}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(a,s,u){return function(e,t,n,r){var i=t&&a in t?t:e;u&&1!==u&&i&&null==i[a]&&(i[a]={});var o=i?i[a]:void 0;return s?{context:i,name:a,value:o}:o}},computedMember:function(s,u,c,l){return function(e,t,n,r){var i,o,a=s(e,t,n,r);return null!=a&&(i=br(i=u(e,t,n,r)),l&&1!==l&&a&&!a[i]&&(a[i]={}),o=a[i]),c?{context:a,name:i,value:o}:o}},nonComputedMember:function(a,s,u,c){return function(e,t,n,r){var i=a(e,t,n,r);c&&1!==c&&i&&null==i[s]&&(i[s]={});var o=null!=i?i[s]:void 0;return u?{context:i,name:s,value:o}:o}},inputs:function(i,o){return function(e,t,n,r){return r?r[o]:i(e,t,n)}}},Nr.prototype={constructor:Nr,parse:function(e){var t,n=this.getAst(e),r=this.astCompiler.compile(n.ast);return r.literal=0===(t=n.ast).body.length||1===t.body.length&&(t.body[0].expression.type===xr.Literal||t.body[0].expression.type===xr.ArrayExpression||t.body[0].expression.type===xr.ObjectExpression),r.constant=n.ast.constant,r.oneTime=n.oneTime,r},getAst:function(e){var t=!1;return":"===(e=e.trim()).charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var Wr=O("$sce"),Kr={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Jr=/_([a-z])/g;function Yr(e){return e.replace(Jr,tt)}function Qr(e){var t=[];return T(e)&&ge(e,function(e){t.push(function(e){if("self"===e)return e;if(xe(e)){if(-1<e.indexOf("***"))throw Wr("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=M(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(E(e))return new RegExp("^"+e.source+"$");throw Wr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))}),t}function Zr(){this.SCE_CONTEXTS=Kr;var s=["self"],u=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(s=Qr(e)),s},this.resourceUrlBlacklist=function(e){return arguments.length&&(u=Qr(e)),u},this.$get=["$injector","$$sanitizeUri",function(e,r){var i=function(e){throw Wr("unsafe","Attempting to use an unsafe value in a safe context.")};function o(e,t){return"self"===e?hi(t,li)||hi(t,fe.document.baseURI?fe.document.baseURI:(ui||((ui=fe.document.createElement("a")).href=".",ui=ui.cloneNode(!1)),ui.href)):!!e.exec(t.href)}function t(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}e.has("$sanitize")&&(i=e.get("$sanitize"));var n=t(),a={};return a[Kr.HTML]=t(n),a[Kr.CSS]=t(n),a[Kr.MEDIA_URL]=t(n),a[Kr.URL]=t(a[Kr.MEDIA_URL]),a[Kr.JS]=t(n),a[Kr.RESOURCE_URL]=t(a[Kr.URL]),{trustAs:function(e,t){var n=a.hasOwnProperty(e)?a[e]:null;if(!n)throw Wr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||_e(t)||""===t)return t;if("string"!=typeof t)throw Wr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(e,t){if(null===t||_e(t)||""===t)return t;var n=a.hasOwnProperty(e)?a[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(ke(t.$$unwrapTrustedValue)&&(t=t.$$unwrapTrustedValue()),e===Kr.MEDIA_URL||e===Kr.URL)return r(t.toString(),e===Kr.MEDIA_URL);if(e===Kr.RESOURCE_URL){if(function(e){var t,n,r=pi(e.toString()),i=!1;for(t=0,n=s.length;t<n;t++)if(o(s[t],r)){i=!0;break}if(i)for(t=0,n=u.length;t<n;t++)if(o(u[t],r)){i=!1;break}return i}(t))return t;throw Wr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Kr.HTML)return i(t);throw Wr("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof n?e.$$unwrapTrustedValue():e}}}]}function Xr(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(r,e){if(t&&pe<8)throw Wr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=Ge(Kr);i.isEnabled=function(){return t},i.trustAs=e.trustAs,i.getTrusted=e.getTrusted,i.valueOf=e.valueOf,t||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=we),i.parseAs=function(t,e){var n=r(e);return n.literal&&n.constant?n:r(e,function(e){return i.getTrusted(t,e)})};var o=i.parseAs,a=i.getTrusted,s=i.trustAs;return ge(Kr,function(t,e){var n=me(e);i[Yr("parse_as_"+n)]=function(e){return o(t,e)},i[Yr("get_trusted_"+n)]=function(e){return a(t,e)},i[Yr("trust_as_"+n)]=function(e){return s(t,e)}}),i}]}function ei(){this.$get=["$window","$document",function(e,t){var n={},r=!(!(e.nw&&e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,i=b((/android (\d+)/.exec(me((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},s=a.body&&a.body.style,u=!1,c=!1;return s&&(u=!!("transition"in s||"webkitTransition"in s),c=!!("animation"in s||"webkitAnimation"in s)),{history:!(!r||i<4||o),hasEvent:function(e){if("input"===e&&pe)return!1;if(_e(n[e])){var t=a.createElement("div");n[e]="on"+e in t}return n[e]},csp:D(),transitions:u,animations:c,android:i}}]}function ti(){this.$get=R(function(e){return new ni(e)})}function ni(s){var u={},r=[],c=this.ALL_TASKS_TYPE="$$all$$",l=this.DEFAULT_TASK_TYPE="$$default$$";function f(){var e=r.pop();return e&&e.cb}function p(e){for(var t=r.length-1;0<=t;--t){var n=r[t];if(n.type===e)return r.splice(t,1),n.cb}}this.completeTask=function(e,t){t=t||l;try{e()}finally{u[a=(a=t)||l]&&(u[a]--,u[c]--);var n=u[t],r=u[c];if(!r||!n)for(var i,o=r?p:f;i=o(t);)try{i()}catch(e){s.error(e)}}var a},this.incTaskCount=function(e){u[e=e||l]=(u[e]||0)+1,u[c]=(u[c]||0)+1},this.notifyWhenNoPendingTasks=function(e,t){u[t=t||c]?r.push({type:t,cb:e}):e()}}var ri=O("$templateRequest");function ii(){var c;this.httpOptions=function(e){return e?(c=e,this):c},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(r,i,o,a,s){function u(t,n){u.totalPendingRequests++,xe(t)&&!_e(i.get(t))||(t=s.getTrustedResourceUrl(t));var e=o.defaults&&o.defaults.transformResponse;return Ee(e)?e=e.filter(function(e){return e!==qn}):e===qn&&(e=null),o.get(t,$e({cache:i,transformResponse:e},c)).finally(function(){u.totalPendingRequests--}).then(function(e){return i.put(t,e.data)},function(e){n||(e=ri("tpload","Failed to load template: {0} (HTTP status: {1} {2})",t,e.status,e.statusText),r(e));return a.reject(e)})}return u.totalPendingRequests=0,u}]}function oi(){this.$get=["$rootScope","$browser","$location",function(t,n,r){var e={findBindings:function(e,n,r){var t=e.getElementsByClassName("ng-binding"),i=[];return ge(t,function(t){var e=y.element(t).data("$binding");e&&ge(e,function(e){r?new RegExp("(^|\\s)"+M(n)+"(\\s|\\||$)").test(e)&&i.push(t):-1!==e.indexOf(n)&&i.push(t)})}),i},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o="["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]',a=e.querySelectorAll(o);if(a.length)return a}},getLocation:function(){return r.url()},setLocation:function(e){e!==r.url()&&(r.url(e),t.$digest())},whenStable:function(e){n.notifyWhenNoOutstandingRequests(e)}};return e}]}var ai=O("$timeout");function si(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(u,c,l,f,p){var h={};function e(e,t,n){ke(e)||(n=t,t=e,e=be);var r,i=Ne(arguments,3),o=T(n)&&!n,a=(o?f:l).defer(),s=a.promise;return r=c.defer(function(){try{a.resolve(e.apply(null,i))}catch(e){a.reject(e),p(e)}finally{delete h[s.$$timeoutId]}o||u.$apply()},t,"$timeout"),s.$$timeoutId=r,h[r]=a,s}return e.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$timeoutId"))throw ai("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!h.hasOwnProperty(e.$$timeoutId))return!1;var t=e.$$timeoutId,n=h[t];return Hr(n.promise),n.reject("canceled"),delete h[t],c.defer.cancel(t)},e}]}var ui,ci=fe.document.createElement("a"),li=pi(fe.location.href);ci.href="http://[::1]";var fi="[::1]"===ci.hostname;function pi(e){if(!xe(e))return e;var t=e;pe&&(ci.setAttribute("href",t),t=ci.href),ci.setAttribute("href",t);var n=ci.hostname;return!fi&&-1<n.indexOf(":")&&(n="["+n+"]"),{href:ci.href,protocol:ci.protocol?ci.protocol.replace(/:$/,""):"",host:ci.host,search:ci.search?ci.search.replace(/^\?/,""):"",hash:ci.hash?ci.hash.replace(/^#/,""):"",hostname:n,port:ci.port,pathname:"/"===ci.pathname.charAt(0)?ci.pathname:"/"+ci.pathname}}function hi(e,t){return e=pi(e),t=pi(t),e.protocol===t.protocol&&e.host===t.host}function di(){this.$get=R(fe)}function mi(e){var a=e[0]||{},s={},u="";function c(t){try{return decodeURIComponent(t)}catch(e){return t}}return function(){var e,t,n,r,i,o=function(e){try{return e.cookie||""}catch(e){return""}}(a);if(o!==u)for(e=(u=o).split("; "),s={},n=0;n<e.length;n++)0<(r=(t=e[n]).indexOf("="))&&(i=c(t.substring(0,r)),_e(s[i])&&(s[i]=c(t.substring(r+1))));return s}}function vi(){this.$get=mi}function gi(r){var i="Filter";function o(e,t){if(Se(e)){var n={};return ge(e,function(e,t){n[t]=o(t,e)}),n}return r.factory(e+i,t)}this.register=o,this.$get=["$injector",function(t){return function(e){return t.get(e+i)}}],o("currency",xi),o("date",Li),o("filter",$i),o("json",Vi),o("limitTo",qi),o("lowercase",Ii),o("number",Ei),o("orderBy",Fi),o("uppercase",Di)}function $i(){return function(e,t,n,r){if(!N(e)){if(null==e)return e;throw O("filter")("notarray","Expected array but received: {0}",e)}var i,o;switch(r=r||"$",bi(t)){case"function":i=t;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":i=function(t,n,r,i){var o=Se(t)&&r in t;!0===n?n=Me:ke(n)||(n=function(e,t){return!_e(e)&&(null===e||null===t?e===t:!(Se(t)||Se(e)&&!w(e))&&(e=me(""+e),t=me(""+t),-1!==e.indexOf(t)))});return function(e){return o&&!Se(e)?yi(e,t[r],n,r,!1):yi(e,t,n,r,i)}}(t,n,r,o);break;default:return e}return Array.prototype.filter.call(e,i)}}function yi(e,t,n,r,i,o){var a=bi(e),s=bi(t);if("string"===s&&"!"===t.charAt(0))return!yi(e,t.substring(1),n,r,i);if(Ee(e))return e.some(function(e){return yi(e,t,n,r,i)});switch(a){case"object":var u;if(i){for(u in e)if(u.charAt&&"$"!==u.charAt(0)&&yi(e[u],t,n,r,!0))return!0;return!o&&yi(e,t,n,r,!1)}if("object"!==s)return n(e,t);for(u in t){var c=t[u];if(!ke(c)&&!_e(c)){var l=u===r;if(!yi(l?e:e[u],c,n,r,l,l))return!1}}return!0;case"function":return!1;default:return n(e,t)}}function bi(e){return null===e?"null":typeof e}mi.$inject=["$document"],gi.$inject=["$provide"];var wi=22,_i=".",Si="0";function xi(e){var i=e.NUMBER_FORMATS;return function(e,t,n){_e(t)&&(t=i.CURRENCY_SYM),_e(n)&&(n=i.PATTERNS[1].maxFrac);var r=t?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:Ci(e,i.PATTERNS[1],i.GROUP_SEP,i.DECIMAL_SEP,n).replace(r,t)}}function Ei(e){var n=e.NUMBER_FORMATS;return function(e,t){return null==e?e:Ci(e,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,t)}}function Ci(e,t,n,r,i){if(!xe(e)&&!S(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,u=Math.abs(e)+"",c="";if(a)c="â";else{(function(e,t,n,r){var i=e.d,o=i.length-e.i,a=(t=_e(t)?Math.min(Math.max(n,o),r):+t)+e.i,s=i[a];if(0<a){i.splice(Math.max(e.i,a));for(var u=a;u<i.length;u++)i[u]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,a=t+1),i[0]=0;for(var c=1;c<a;c++)i[c]=0}if(5<=s)if(a-1<0){for(var l=0;a<l;l--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[a-1]++;for(;o<Math.max(0,t);o++)i.push(0);var f=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);f&&(i.unshift(f),e.i++)})(o=function(e){var t,n,r,i,o,a=0;for(-1<(n=e.indexOf(_i))&&(e=e.replace(_i,"")),0<(r=e.search(/e/i))?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)===Si;r++);if(r===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===Si;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return wi<n&&(t=t.splice(0,wi-1),a=n-1,n=1),{d:t,e:a,i:n}}(u),i,t.minFrac,t.maxFrac);var l=o.d,f=o.i,p=o.e,h=[];for(s=l.reduce(function(e,t){return e&&!t},!0);f<0;)l.unshift(0),f++;0<f?h=l.splice(f,l.length):(h=l,l=[0]);var d=[];for(l.length>=t.lgSize&&d.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)d.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&d.unshift(l.join("")),c=d.join(n),h.length&&(c+=r+h.join("")),p&&(c+="e+"+p)}return e<0&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function ki(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=1-e:(e=-e,i="-")),e=""+e;e.length<t;)e=Si+e;return n&&(e=e.substr(e.length-t)),i+e}function Oi(n,r,i,o,a){return i=i||0,function(e){var t=e["get"+n]();return(0<i||-i<t)&&(t+=i),0===t&&-12===i&&(t=12),ki(t,r,o,a)}}function ji(r,i,o){return function(e,t){var n=e["get"+r]();return t[p((o?"STANDALONE":"")+(i?"SHORT":"")+r)][n]}}function Pi(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Ri(i){return function(e){var t,n=Pi(e.getFullYear()),r=+(t=e,new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay())))-+n;return ki(1+Math.round(r/6048e5),i)}}function Ti(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}xi.$inject=["$locale"];var Ai={yyyy:Oi("FullYear",4,0,!(Ei.$inject=["$locale"]),!0),yy:Oi("FullYear",2,0,!0,!0),y:Oi("FullYear",1,0,!1,!0),MMMM:ji("Month"),MMM:ji("Month",!0),MM:Oi("Month",2,1),M:Oi("Month",1,1),LLLL:ji("Month",!1,!0),dd:Oi("Date",2),d:Oi("Date",1),HH:Oi("Hours",2),H:Oi("Hours",1),hh:Oi("Hours",2,-12),h:Oi("Hours",1,-12),mm:Oi("Minutes",2),m:Oi("Minutes",1),ss:Oi("Seconds",2),s:Oi("Seconds",1),sss:Oi("Milliseconds",3),EEEE:ji("Day"),EEE:ji("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var r=-1*n,i=0<=r?"+":"";return i+=ki(Math[0<r?"floor":"ceil"](r/60),2)+ki(Math.abs(r%60),2)},ww:Ri(2),w:Ri(1),G:Ti,GG:Ti,GGG:Ti,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},Mi=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Ni=/^-?\d+$/;function Li(u){var f=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,e,n){var r,i,o="",a=[];if(e=e||"mediumDate",e=u.DATETIME_FORMATS[e]||e,xe(t)&&(t=Ni.test(t)?b(t):function(e){var t;if(t=e.match(f)){var n=new Date(0),r=0,i=0,o=t[8]?n.setUTCFullYear:n.setFullYear,a=t[8]?n.setUTCHours:n.setHours;t[9]&&(r=b(t[9]+t[10]),i=b(t[9]+t[11])),o.call(n,b(t[1]),b(t[2])-1,b(t[3]));var s=b(t[4]||0)-r,u=b(t[5]||0)-i,c=b(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return a.call(n,s,u,c,l),n}return e}(t)),S(t)&&(t=new Date(t)),!x(t)||!isFinite(t.getTime()))return t;for(;e;)e=(i=Mi.exec(e))?(a=U(a,i,1)).pop():(a.push(e),null);var s=t.getTimezoneOffset();return n&&(s=G(n,s),t=K(t,n,!0)),ge(a,function(e){r=Ai[e],o+=r?r(t,u.DATETIME_FORMATS,s):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),o}}function Vi(){return function(e,t){return _e(t)&&(t=2),H(e,t)}}Li.$inject=["$locale"];var Ii=R(me),Di=R(p);function qi(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):b(t),P(t)?e:(S(e)&&(e=e.toString()),N(e)?(n=(n=!n||isNaN(n)?0:b(n))<0?Math.max(0,e.length+n):n,0<=t?Ui(e,n,n+t):0===n?Ui(e,t,e.length):Ui(e,Math.max(0,n+t),n)):e)}}function Ui(e,t,n){return xe(e)?e.slice(t,n):a.call(e,t,n)}function Fi(u){return function(e,t,n,r){if(null==e)return e;if(!N(e))throw O("orderBy")("notarray","Expected array but received: {0}",e);Ee(t)||(t=[t]),0===t.length&&(t=["+"]);var o=t.map(function(e){var t=1,n=we;if(ke(e))n=e;else if(xe(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(t="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(n=u(e)).constant)){var r=n();n=function(e){return e[r]}}return{get:n,descending:t}}),a=n?-1:1,s=ke(r)?r:l,i=Array.prototype.map.call(e,function(t,n){return{value:t,tieBreaker:{value:n,type:"number",index:n},predicateValues:o.map(function(e){return function(e,t){var n=typeof e;null===e?n="null":"object"===n&&(e=function(e){if(ke(e.valueOf)&&c(e=e.valueOf()))return e;if(w(e)&&c(e=e.toString()))return e;return e}(e));return{value:e,type:n,index:t}}(e.get(t),n)})}});return i.sort(function(e,t){for(var n=0,r=o.length;n<r;n++){var i=s(e.predicateValues[n],t.predicateValues[n]);if(i)return i*o[n].descending*a}return(s(e.tieBreaker,t.tieBreaker)||l(e.tieBreaker,t.tieBreaker))*a}),e=i.map(function(e){return e.value})};function c(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function l(e,t){var n=0,r=e.type,i=t.type;if(r===i){var o=e.value,a=t.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(Se(o)&&(o=e.index),Se(a)&&(a=t.index)),o!==a&&(n=o<a?-1:1)}else n="undefined"===r?1:"undefined"===i?-1:"null"===r?1:"null"===i?-1:r<i?-1:1;return n}}function Hi(e){return ke(e)&&(e={link:e}),e.restrict=e.restrict||"AC",R(e)}Fi.$inject=["$parse"];var zi=R({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===ve.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Bi={};ge(Rt,function(e,r){if("multiple"!==e){var i=wn("ng-"+r),t=o;"checked"===e&&(t=function(e,t,n){n.ngModel!==n[i]&&o(e,0,n)}),Bi[i]=function(){return{restrict:"A",priority:100,link:t}}}function o(e,t,n){e.$watch(n[i],function(e){n.$set(r,!!e)})}}),ge(At,function(e,i){Bi[i]=function(){return{priority:100,link:function(e,t,n){if("ngPattern"===i&&"/"===n.ngPattern.charAt(0)){var r=n.ngPattern.match(o);if(r)return void n.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(n[i],function(e){n.$set(i,e)})}}}}),ge(["src","srcset","href"],function(a){var s=wn("ng-"+a);Bi[s]=["$sce",function(o){return{priority:99,link:function(e,t,n){var r=a,i=a;"href"===a&&"[object SVGAnimatedString]"===ve.call(t.prop("href"))&&(i="xlinkHref",n.$attr[i]="xlink:href",r=null),n.$set(s,o.getTrustedMediaUrl(n[s])),n.$observe(s,function(e){e?(n.$set(i,e),pe&&r&&t.prop(r,n[i])):"href"===a&&n.$set(i,null)})}}}]});var Gi={$addControl:be,$getControls:R([]),$$renameControl:function(e,t){e.$name=t},$removeControl:be,$setValidity:be,$setDirty:be,$setPristine:be,$setSubmitted:be,$$setSubmitted:be},Wi="ng-pending",Ki="ng-submitted";function Ji(e,t,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Gi,this.$$element=e,this.$$animate=r,Xi(this)}Ji.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Ji.prototype={$rollbackViewValue:function(){ge(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){ge(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){ue(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$getControls:function(){return Ge(this.$$controls)},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],(this[t]=e).$name=t},$removeControl:function(n){n.$name&&this[n.$name]===n&&delete this[n.$name],ge(this.$pending,function(e,t){this.$setValidity(t,null,n)},this),ge(this.$error,function(e,t){this.$setValidity(t,null,n)},this),ge(this.$$success,function(e,t){this.$setValidity(t,null,n)},this),Te(this.$$controls,n),n.$$parentForm=Gi},$setDirty:function(){this.$$animate.removeClass(this.$$element,Yo),this.$$animate.addClass(this.$$element,Qo),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Yo,Qo+" "+Ki),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,ge(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){ge(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==Gi;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Ki),this.$submitted=!0,ge(this.$$controls,function(e){e.$$setSubmitted&&e.$$setSubmitted()})}},eo({clazz:Ji,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(Te(r,n),0===r.length&&delete e[t])}});var Yi=function(n){return["$timeout","$parse",function(u,t){return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:Ji,compile:function(e,t){e.addClass(Yo).addClass(Ko);var s=t.name?"name":!(!n||!t.ngForm)&&"ngForm";return{pre:function(t,e,n,r){var i=r[0];if(!("action"in n)){var o=function(e){t.$apply(function(){i.$commitViewValue(),i.$setSubmitted()}),e.preventDefault()};e[0].addEventListener("submit",o),e.on("$destroy",function(){u(function(){e[0].removeEventListener("submit",o)},0,!1)})}(r[1]||i.$$parentForm).$addControl(i);var a=s?c(i.$name):be;s&&(a(t,i),n.$observe(s,function(e){i.$name!==e&&(a(t,void 0),i.$$parentForm.$$renameControl(i,e),(a=c(i.$name))(t,i))})),e.on("$destroy",function(){i.$$parentForm.$removeControl(i),a(t,void 0),$e(i,Gi)})}}}};function c(e){return""===e?t('this[""]').assign:t(e).assign||be}}]},Qi=Yi(),Zi=Yi(!0);function Xi(e){e.$$classCache={},e.$$classCache[Jo]=!(e.$$classCache[Ko]=e.$$element.hasClass(Ko))}function eo(e){var t=e.clazz,i=e.set,o=e.unset;function a(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function s(e,t,n){t=t?"-"+Ie(t,"-"):"",a(e,Ko+t,!0===n),a(e,Jo+t,!1===n)}t.prototype.$setValidity=function(e,t,n){var r;_e(t)?function(e,t,n,r){e[t]||(e[t]={});i(e[t],n,r)}(this,"$pending",e,n):function(e,t,n,r){e[t]&&o(e[t],n,r);to(e[t])&&(e[t]=void 0)}(this,"$pending",e,n),je(t)?t?(o(this.$error,e,n),i(this.$$success,e,n)):(i(this.$error,e,n),o(this.$$success,e,n)):(o(this.$error,e,n),o(this.$$success,e,n)),this.$pending?(a(this,Wi,!0),this.$valid=this.$invalid=void 0,s(this,"",null)):(a(this,Wi,!1),this.$valid=to(this.$error),this.$invalid=!this.$valid,s(this,"",this.$valid)),s(this,e,r=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,r,this)}}function to(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var no=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ro=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,io=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,oo=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ao=/^(\d{4,})-(\d{2})-(\d{2})$/,so=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,uo=/^(\d{4,})-W(\d\d)$/,co=/^(\d{4,})-(\d\d)$/,lo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,fo="keydown wheel mousedown",po=qe();ge("date,datetime-local,month,time,week".split(","),function(e){po[e]=!0});var ho={text:function(e,t,n,r,i,o){vo(e,t,n,r,i,o),mo(r)},date:$o("date",ao,go(ao,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":$o("datetimelocal",so,go(so,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:$o("time",lo,go(lo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:$o("week",uo,function(e,t){if(x(e))return e;if(xe(e)){uo.lastIndex=0;var n=uo.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,c=Pi(r),l=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),u=t.getMilliseconds()),new Date(r,0,c.getDate()+l,o,a,s,u)}}return NaN},"yyyy-Www"),month:$o("month",co,go(co,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,r,i,o,a,s){var u;if(yo(e,t,n,r,"number"),bo(r),vo(e,t,n,r,i,o),T(n.min)||n.ngMin){var c=n.min||s(n.ngMin)(e);u=wo(c),r.$validators.min=function(e,t){return r.$isEmpty(t)||_e(u)||u<=t},n.$observe("min",function(e){e!==c&&(u=wo(e),c=e,r.$validate())})}if(T(n.max)||n.ngMax){var l=n.max||s(n.ngMax)(e),f=wo(l);r.$validators.max=function(e,t){return r.$isEmpty(t)||_e(f)||t<=f},n.$observe("max",function(e){e!==l&&(f=wo(e),l=e,r.$validate())})}if(T(n.step)||n.ngStep){var p=n.step||s(n.ngStep)(e),h=wo(p);r.$validators.step=function(e,t){return r.$isEmpty(t)||_e(h)||xo(t,u||0,h)},n.$observe("step",function(e){e!==p&&(h=wo(e),p=e,r.$validate())})}},url:function(e,t,n,r,i,o){vo(e,t,n,r,i,o),mo(r),r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||ro.test(n)}},email:function(e,t,n,r,i,o){vo(e,t,n,r,i,o),mo(r),r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||io.test(n)}},radio:function(e,n,r,i){var o=!r.ngTrim||"false"!==Pe(r.ngTrim);_e(r.name)&&n.attr("name",u());n.on("change",function(e){var t;n[0].checked&&(t=r.value,o&&(t=Pe(t)),i.$setViewValue(t,e&&e.type))}),i.$render=function(){var e=r.value;o&&(e=Pe(e)),n[0].checked=e===i.$viewValue},r.$observe("value",i.$render)},range:function(e,r,i,n,t,o){yo(e,r,i,n,"range"),bo(n),vo(e,r,i,n,t,o);var a=n.$$hasNativeValidators&&"range"===r[0].type,s=a?0:void 0,u=a?100:void 0,c=a?1:void 0,l=r[0].validity,f=T(i.min),p=T(i.max),h=T(i.step),d=n.$render;n.$render=a&&T(l.rangeUnderflow)&&T(l.rangeOverflow)?function(){d(),n.$setViewValue(r.val())}:d,f&&(s=wo(i.min),n.$validators.min=a?function(){return!0}:function(e,t){return n.$isEmpty(t)||_e(s)||s<=t},m("min",function(e){if(s=wo(e),P(n.$modelValue))return;if(a){var t=r.val();t<s&&(t=s,r.val(t)),n.$setViewValue(t)}else n.$validate()}));p&&(u=wo(i.max),n.$validators.max=a?function(){return!0}:function(e,t){return n.$isEmpty(t)||_e(u)||t<=u},m("max",function(e){if(u=wo(e),P(n.$modelValue))return;if(a){var t=r.val();u<t&&(r.val(u),t=u<s?s:u),n.$setViewValue(t)}else n.$validate()}));h&&(c=wo(i.step),n.$validators.step=a?function(){return!l.stepMismatch}:function(e,t){return n.$isEmpty(t)||_e(c)||xo(t,s||0,c)},m("step",function(e){if(c=wo(e),P(n.$modelValue))return;a?n.$viewValue!==r.val()&&n.$setViewValue(r.val()):n.$validate()}));function m(e,t){r.attr(e,i[e]);var n=i[e];i.$observe(e,function(e){e!==n&&t(n=e)})}},checkbox:function(e,t,n,r,i,o,a,s){var u=Eo(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Eo(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("change",function(e){r.$setViewValue(t[0].checked,e&&e.type)}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return Me(e,u)}),r.$parsers.push(function(e){return e?u:c})},hidden:be,button:be,submit:be,reset:be,file:be};function mo(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function vo(e,r,i,o,t,a){var s,u=me(r[0].type);if(!t.android){var c=!1;r.on("compositionstart",function(){c=!0}),r.on("compositionupdate",function(e){(_e(e.data)||""===e.data)&&(c=!1)}),r.on("compositionend",function(){c=!1,l()})}var l=function(e){if(s&&(a.defer.cancel(s),s=null),!c){var t=r.val(),n=e&&e.type;"password"===u||i.ngTrim&&"false"===i.ngTrim||(t=Pe(t)),(o.$viewValue!==t||""===t&&o.$$hasNativeValidators)&&o.$setViewValue(t,n)}};if(t.hasEvent("input"))r.on("input",l);else{var n=function(e,t,n){s||(s=a.defer(function(){s=null,t&&t.value===n||l(e)}))};r.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||n(e,this,this.value)}),t.hasEvent("paste")&&r.on("paste cut drop",n)}r.on("change",l),po[u]&&o.$$hasNativeValidators&&u===i.type&&r.on(fo,function(e){if(!s){var t=this[f],n=t.badInput,r=t.typeMismatch;s=a.defer(function(){s=null,t.badInput===n&&t.typeMismatch===r||l(e)})}}),o.$render=function(){var e=o.$isEmpty(o.$viewValue)?"":o.$viewValue;r.val()!==e&&r.val(e)}}function go(o,a){return function(e,t){var n,r;if(x(e))return e;if(xe(e)){if('"'===e.charAt(0)&&'"'===e.charAt(e.length-1)&&(e=e.substring(1,e.length-1)),no.test(e))return new Date(e);if(o.lastIndex=0,n=o.exec(e)){n.shift(),r=t?{yyyy:t.getFullYear(),MM:t.getMonth()+1,dd:t.getDate(),HH:t.getHours(),mm:t.getMinutes(),ss:t.getSeconds(),sss:t.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},ge(n,function(e,t){t<a.length&&(r[a[t]]=+e)});var i=new Date(r.yyyy,r.MM-1,r.dd,r.HH,r.mm,r.ss||0,1e3*r.sss||0);return r.yyyy<100&&i.setFullYear(r.yyyy),i}}return NaN}}function $o($,y,b,w){return function(e,t,n,i,r,o,a,s){yo(e,t,n,i,$),vo(0,t,n,i,r,o);var u,c,l="time"===$||"datetimelocal"===$;if(i.$parsers.push(function(e){return i.$isEmpty(e)?null:y.test(e)?g(e,u):void(i.$$parserName=$)}),i.$formatters.push(function(e){if(e&&!x(e))throw ta("datefmt","Expected `{0}` to be a date",e);if(m(e)){u=e;var t=i.$options.getOption("timezone");return t&&(u=K(u,c=t,!0)),function(e,t){var n=w;l&&xe(i.$options.getOption("timeSecondsFormat"))&&(n=w.replace("ss.sss",i.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var r=a("date")(e,n,t);l&&i.$options.getOption("timeStripZeroSeconds")&&(r=r.replace(/(?::00)?(?:\.000)?$/,""));return r}(e,t)}return c=u=null,""}),T(n.min)||n.ngMin){var f=n.min||s(n.ngMin)(e),p=v(f);i.$validators.min=function(e){return!m(e)||_e(p)||b(e)>=p},n.$observe("min",function(e){e!==f&&(p=v(e),f=e,i.$validate())})}if(T(n.max)||n.ngMax){var h=n.max||s(n.ngMax)(e),d=v(h);i.$validators.max=function(e){return!m(e)||_e(d)||b(e)<=d},n.$observe("max",function(e){e!==h&&(d=v(e),h=e,i.$validate())})}function m(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function v(e){return T(e)&&!x(e)?g(e)||void 0:e}function g(e,t){var n=i.$options.getOption("timezone");c&&c!==n&&(t=W(t,G(c)));var r=b(e,t);return!isNaN(r)&&n&&(r=K(r,n)),r}}}function yo(e,n,t,r,i){var o=n[0];(r.$$hasNativeValidators=Se(o.validity))&&r.$parsers.push(function(e){var t=n.prop(f)||{};if(!t.badInput&&!t.typeMismatch)return e;r.$$parserName=i})}function bo(t){t.$parsers.push(function(e){return t.$isEmpty(e)?null:oo.test(e)?parseFloat(e):void(t.$$parserName="number")}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!S(e))throw ta("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function wo(e){return T(e)&&!S(e)&&(e=parseFloat(e)),P(e)?void 0:e}function _o(e){return(0|e)===e}function So(e){var t=e.toString(),n=t.indexOf(".");if(-1!==n)return t.length-n-1;if(-1<e&&e<1){var r=/e-(\d+)$/.exec(t);if(r)return Number(r[1])}return 0}function xo(e,t,n){var r=Number(e),i=!_o(r),o=!_o(t),a=!_o(n);if(i||o||a){var s=i?So(r):0,u=o?So(t):0,c=a?So(n):0,l=Math.max(s,u,c),f=Math.pow(10,l);r*=f,t*=f,n*=f,i&&(r=Math.round(r)),o&&(t=Math.round(t)),a&&(n=Math.round(n))}return(r-t)%n==0}function Eo(e,t,n,r,i){var o;if(T(r)){if(!(o=e(r)).constant)throw ta("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}var Co=["$browser","$sniffer","$filter","$parse",function(i,o,a,s){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,t,n,r){r[0]&&(ho[me(n.type)]||ho.text)(e,t,n,r[0],o,i,a,s)}}}}],ko=function(){var o={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(e){this.setAttribute("value",e)}};return{restrict:"E",priority:200,compile:function(e,t){if("hidden"===me(t.type))return{pre:function(e,t,n,r){var i=t[0];i.parentNode&&i.parentNode.insertBefore(i,i.nextSibling),Object.defineProperty&&Object.defineProperty(i,"value",o)}}}}},Oo=/^(true|false|\d+)$/,jo=function(){function r(e,t,n){var r=T(n)?n:9===pe?"":null;e.prop("value",r),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,t){return Oo.test(t.ngValue)?function(e,t,n){r(t,n,e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){r(t,n,e)})}}}},Po=["$compile",function(r){return{restrict:"AC",compile:function(e){return r.$$addBindingClass(e),function(e,t,n){r.$$addBindingInfo(t,n.ngBind),t=t[0],e.$watch(n.ngBind,function(e){t.textContent=le(e)})}}}}],Ro=["$interpolate","$compile",function(i,o){return{compile:function(e){return o.$$addBindingClass(e),function(e,t,n){var r=i(t.attr(n.$attr.ngBindTemplate));o.$$addBindingInfo(t,r.expressions),t=t[0],n.$observe("ngBindTemplate",function(e){t.textContent=_e(e)?"":e})}}}}],To=["$sce","$parse","$compile",function(o,n,a){return{restrict:"A",compile:function(e,t){var r=n(t.ngBindHtml),i=n(t.ngBindHtml,function(e){return o.valueOf(e)});return a.$$addBindingClass(e),function(t,n,e){a.$$addBindingInfo(n,e.ngBindHtml),t.$watch(i,function(){var e=r(t);n.html(o.getTrustedHtml(e)||"")})}}}}],Ao=R({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}});function Mo(i,p){var o;return i="ngClass"+i,["$parse",function(n){return{restrict:"AC",link:function(e,t,u){var c,r=t.data("$classCounts"),l=!0;function f(e,t){var n=[];return ge(e,function(e){(0<t||r[e])&&(r[e]=(r[e]||0)+t,r[e]===+(0<t)&&n.push(e))}),n.join(" ")}r||(r=qe(),t.data("$classCounts",r)),"ngClass"!==i&&(o||(o=n("$index",function(e){return 1&e})),e.$watch(o,function(e){e===p?(n=f(d(n=c),1),u.$addClass(n)):(t=f(d(t=c),-1),u.$removeClass(t));var t;var n;l=e})),e.$watch(n(u[i],a),function(e){l===p&&(t=e,n=d(c),r=d(t),i=h(n,r),o=h(r,n),a=f(i,-1),s=f(o,1),u.$addClass(s),u.$removeClass(a));var t,n,r,i,o,a,s;c=e})}}}];function h(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i===t[o])continue e;n.push(i)}return n}function d(e){return e&&e.split(" ")}function a(t){if(!t)return t;var e=t;return Ee(t)?e=t.map(a).join(" "):Se(t)?e=Object.keys(t).filter(function(e){return t[e]}).join(" "):xe(t)||(e=t+""),e}}var No=Mo("",!0),Lo=Mo("Odd",0),Vo=Mo("Even",1),Io=Hi({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Do=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],qo={},Uo={blur:!0,focus:!0};function Fo(n,i,o,a,s,u){return{restrict:"A",compile:function(e,t){var r=n(t[a]);return function(n,e){e.on(s,function(e){var t=function(){r(n,{$event:e})};if(i.$$phase)if(u)n.$evalAsync(t);else try{t()}catch(e){o(e)}else n.$apply(t)})}}}}ge("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(r){var i=wn("ng-"+r);qo[i]=["$parse","$rootScope","$exceptionHandler",function(e,t,n){return Fo(e,t,n,i,r,Uo[r])}]});var Ho=["$animate","$compile",function(u,c){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(e,n,r,t,i){var o,a,s;e.$watch(r.ngIf,function(e){e?a||i(function(e,t){a=t,e[e.length++]=c.$$createComment("end ngIf",r.ngIf),o={clone:e},u.enter(e,n.parent(),n)}):(s&&(s.remove(),s=null),a&&(a.$destroy(),a=null),o&&(s=ce(o.clone),u.leave(s).done(function(e){!1!==e&&(s=null)}),o=null))})}}}],zo=["$templateRequest","$anchorScroll","$animate",function(v,g,$){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:y.noop,compile:function(e,t){var n=t.ngInclude||t.src,d=t.onload||"",m=t.autoscroll;return function(a,s,e,u,c){var l,t,f,p=0,h=function(){t&&(t.remove(),t=null),l&&(l.$destroy(),l=null),f&&($.leave(f).done(function(e){!1!==e&&(t=null)}),t=f,f=null)};a.$watch(n,function(r){var i=function(e){!1===e||!T(m)||m&&!a.$eval(m)||g()},o=++p;r?(v(r,!0).then(function(e){if(!a.$$destroyed&&o===p){var t=a.$new();u.template=e;var n=c(t,function(e){h(),$.enter(e,null,s).done(i)});f=n,(l=t).$emit("$includeContentLoaded",r),a.$eval(d)}},function(){a.$$destroyed||o===p&&(h(),a.$emit("$includeContentError",r))}),a.$emit("$includeContentRequested",r)):(h(),u.template=null)})}}}}],Bo=["$compile",function(i){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(e,t,n,r){if(ve.call(t[0]).match(/SVG/))return t.empty(),void i(lt(r.template,fe.document).childNodes)(e,function(e){t.append(e)},{futureParentElement:t});t.html(r.template),i(t.contents())(e)}}}],Go=Hi({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Wo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var i=n.ngList||", ",o="false"!==n.ngTrim,a=o?Pe(i):i;r.$parsers.push(function(e){if(!_e(e)){var t=[];return e&&ge(e.split(a),function(e){e&&t.push(o?Pe(e):e)}),t}}),r.$formatters.push(function(e){if(Ee(e))return e.join(i)}),r.$isEmpty=function(e){return!e||!e.length}}}},Ko="ng-valid",Jo="ng-invalid",Yo="ng-pristine",Qo="ng-dirty",Zo="ng-untouched",Xo="ng-touched",ea="ng-not-empty",ta=O("ngModel");function na(e,t,n,r,i,o,a,s,u){var c;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(e),this.$$parentForm=Gi,this.$options=ra,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=t,Xi(this),(c=this).$$scope.$watch(function(e){var t=c.$$ngModelGet(e);return t===c.$modelValue||c.$modelValue!=c.$modelValue&&t!=t||c.$$setModelValue(t),t})}na.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],na.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var n=this.$$parse(this.$$attr.ngModel+"()"),r=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var t=this.$$parsedNgModel(e);return ke(t)&&(t=n(e)),t},this.$$ngModelSet=function(e,t){ke(this.$$parsedNgModel(e))?r(e,{$$$p:t}):this.$$parsedNgModelAssign(e,t)}}else if(!this.$$parsedNgModel.assign)throw ta("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,Ve(this.$$element))},$render:be,$isEmpty:function(e){return _e(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,ea),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,ea))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Qo),this.$$animate.addClass(this.$$element,Yo)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Yo),this.$$animate.addClass(this.$$element,Qo),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Zo,Xo)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Xo,Zo)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!P(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,function(e){i||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==r&&o.$$writeModelToScope())})}},$$runValidators:function(r,i,t){this.$$currentValidationRunId++;var o,a,s,n=this.$$currentValidationRunId,u=this;(function(){var e=u.$$parserName;{if(!_e(u.$$parserValid))return u.$$parserValid||(ge(u.$validators,function(e,t){c(t,null)}),ge(u.$asyncValidators,function(e,t){c(t,null)})),c(e,u.$$parserValid),u.$$parserValid;c(e,null)}return!0})()?(o=!0,ge(u.$validators,function(e,t){var n=Boolean(e(r,i));o=o&&n,c(t,n)}),o||(ge(u.$asyncValidators,function(e,t){c(t,null)}),0)?(a=[],s=!0,ge(u.$asyncValidators,function(e,t){var n=e(r,i);if(!k(n))throw ta("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",n);c(t,void 0),a.push(n.then(function(){c(t,!0)},function(){c(t,s=!1)}))}),a.length?u.$$q.all(a).then(function(){e(s)},be):e(!0)):e(!1)):e(!1);function c(e,t){n===u.$$currentValidationRunId&&u.$setValidity(e,t)}function e(e){n===u.$$currentValidationRunId&&t(e)}},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue,n=this;if(this.$$parserValid=!_e(t)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var e=0;e<this.$parsers.length;e++)if(_e(t=this.$parsers[e](t))){this.$$parserValid=!1;break}P(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,i=this.$options.getOption("allowInvalid");function o(){n.$modelValue!==r&&n.$$writeModelToScope()}this.$$rawModelValue=t,i&&(this.$modelValue=t,o()),this.$$runValidators(t,this.$$lastCommittedViewValue,function(e){i||(n.$modelValue=e?t:void 0,o())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),ge(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");S(t[e])?t=t[e]:S(t.default)&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t.default:S(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;0<t?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,be))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},eo({clazz:na,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var ra,ia=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:na,priority:1,compile:function(e){return e.addClass(Yo).addClass(Zo).addClass(Ko),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm,a=r[2];a&&(i.$options=a.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(e,t,n,r){var i=r[0];function o(){i.$setTouched()}i.$$setUpdateOnEvents(),t.on("blur",function(){i.$touched||(a.$$phase?e.$evalAsync(o):e.$apply(o))})}}}}}],oa=/(\s+|^)default(\s+|$)/;function aa(e){this.$$options=e}aa.prototype={getOption:function(e){return this.$$options[e]},createChild:function(n){var r=!1;return ge(n=$e({},n),function(e,t){"$inherit"===e?"*"===t?r=!0:(n[t]=this.$$options[t],"updateOn"===t&&(n.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===t&&(n.updateOnDefault=!1,n[t]=Pe(e.replace(oa,function(){return n.updateOnDefault=!0," "})))},this),r&&(delete n["*"],ua(n,this.$$options)),ua(n,ra.$$options),new aa(n)}},ra=new aa({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var sa=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:ra,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}};function ua(n,e){ge(e,function(e,t){T(n[t])||(n[t]=e)})}var ca=Hi({terminal:!0,priority:1e3}),la=O("ngOptions"),fa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,pa=["$compile","$document","$parse",function(v,g,x){var $=fe.document.createElement("option"),y=fe.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=be},post:function(e,a,t,n){for(var s=n[0],u=n[1],c=t.multiple,r=0,i=a.children(),o=i.length;r<o;r++)if(""===i[r].value){s.hasEmptyOption=!0,s.emptyOption=i.eq(r);break}a.empty();var l,f=!!s.emptyOption;he($.cloneNode(!1)).val("?");var p=function(e,t,p){var f=e.match(fa);if(!f)throw la("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Ve(t));var n=f[5]||f[7],r=f[6],i=/ as /.test(f[0])&&f[1],h=f[9],o=x(f[2]?f[1]:n),d=i&&x(i)||o,a=h&&x(h),m=h?function(e,t){return a(p,t)}:function(e){return It(e)},v=function(e,t){return m(e,w(e,t))},g=x(f[2]||f[1]),$=x(f[3]||""),y=x(f[4]||""),b=x(f[8]),s={},w=r?function(e,t){return s[r]=t,s[n]=e,s}:function(e){return s[n]=e,s};function _(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function S(e){var t;if(!r&&N(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:h,getTrackByValue:v,getWatchables:x(b,function(e){for(var t=[],n=S(e=e||[]),r=n.length,i=0;i<r;i++){var o=e===n?i:n[i],a=e[o],s=w(a,o),u=m(a,s);if(t.push(u),f[2]||f[1]){var c=g(p,s);t.push(c)}if(f[4]){var l=y(p,s);t.push(l)}}return t}),getOptions:function(){for(var e=[],t={},n=b(p)||[],r=S(n),i=r.length,o=0;o<i;o++){var a=n===r?o:r[o],s=n[a],u=w(s,a),c=d(p,u),l=m(c,u),f=new _(l,c,g(p,u),$(p,u),y(p,u));e.push(f),t[l]=f}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return h?I(e.viewValue):e.viewValue}}}}}(t.ngOptions,a,e),h=g[0].createDocumentFragment();function d(e,t){var n,r,i=$.cloneNode(!1);t.appendChild(i),r=i,((n=e).element=r).disabled=n.disabled,n.label!==r.label&&(r.label=n.label,r.textContent=n.label),r.value=n.selectValue}function m(e){var t=l.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}s.generateUnknownOptionValue=function(e){return"?"},c?(s.writeValue=function(e){if(l){var t=e&&e.map(m)||[];l.items.forEach(function(e){e.element.selected&&!V(t,e)&&(e.element.selected=!1)})}},s.readValue=function(){var e=a.val()||[],n=[];return ge(e,function(e){var t=l.selectValueMap[e];t&&!t.disabled&&n.push(l.getViewValueFromOption(t))}),n},p.trackBy&&e.$watchCollection(function(){if(Ee(u.$viewValue))return u.$viewValue.map(function(e){return p.getTrackByValue(e)})},function(){u.$render()})):(s.writeValue=function(e){if(l){var t=a[0].options[a[0].selectedIndex],n=l.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(a[0].value!==n.selectValue&&(s.removeUnknownOption(),a[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):s.selectUnknownOrEmptyOption(e)}},s.readValue=function(){var e=l.selectValueMap[a.val()];return e&&!e.disabled?(s.unselectEmptyOption(),s.removeUnknownOption(),l.getViewValueFromOption(e)):null},p.trackBy&&e.$watch(function(){return p.getTrackByValue(u.$viewValue)},function(){u.$render()})),f&&(v(s.emptyOption)(e),a.prepend(s.emptyOption),s.emptyOption[0].nodeType===He?(s.hasEmptyOption=!1,s.registerOption=function(e,t){""===t.val()&&(s.hasEmptyOption=!0,s.emptyOption=t,s.emptyOption.removeClass("ng-scope"),u.$render(),t.on("$destroy",function(){var e=s.$isEmptyOptionSelected();s.hasEmptyOption=!1,s.emptyOption=void 0,e&&u.$render()}))}):s.emptyOption.removeClass("ng-scope")),e.$watchCollection(p.getWatchables,function(){var e=l&&s.readValue();if(l)for(var t=l.items.length-1;0<=t;t--){var n=l.items[t];T(n.group)?Ot(n.element.parentNode):Ot(n.element)}l=p.getOptions();var r={};if(l.items.forEach(function(e){var t;T(e.group)?((t=r[e.group])||(t=y.cloneNode(!1),h.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t),d(e,t)):d(e,h)}),a[0].appendChild(h),u.$render(),!u.$isEmpty(e)){var i=s.readValue(),o=p.trackBy||c;(o?Me(e,i):e===i)||(u.$setViewValue(i),u.$render())}})}}}}],ha=["$locale","$interpolate","$log",function(d,m,v){var g=/{}/g,$=/^when(Minus)?(.+)$/;return{link:function(i,o,a){var s,e=a.count,u=a.$attr.when&&o.attr(a.$attr.when),c=a.offset||0,l=i.$eval(u)||{},f={},t=m.startSymbol(),n=m.endSymbol(),r=t+e+"-"+c+n,p=y.noop;function h(e){o.text(e||"")}ge(a,function(e,t){var n=$.exec(t);if(n){var r=(n[1]?"-":"")+me(n[2]);l[r]=o.attr(a.$attr[t])}}),ge(l,function(e,t){f[t]=m(e.replace(g,r))}),i.$watch(e,function(e){var t=parseFloat(e),n=P(t);if(n||t in l||(t=d.pluralCat(t-c)),!(t===s||n&&P(s))){p();var r=f[t];_e(r)?(null!=e&&v.debug("ngPluralize: no rule defined for '"+t+"' in "+u),p=be,h()):p=i.$watch(r,h),s=t}})}}}],da=O("ngRef"),ma=["$parse",function(t){return{priority:-1,restrict:"A",compile:function(e,i){var o=wn(Re(e)),a=t(i.ngRef),s=a.assign||function(){throw da("nonassign",'Expression in ngRef="{0}" is non-assignable!',i.ngRef)};return function(e,t,n){var r;if(n.hasOwnProperty("ngRefRead")){if("$element"===n.ngRefRead)r=t;else if(!(r=t.data("$"+n.ngRefRead+"Controller")))throw da("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',n.ngRefRead,i.ngRef)}else r=t.data("$"+o+"Controller");s(e,r=r||t),t.on("$destroy",function(){a(e)===r&&s(e,null)})}}}}],va=["$parse","$animate","$compile",function(s,j,u){var P="$$NG_REMOVED",R=O("ngRepeat"),T=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},A=function(e,t,n){return It(n)},M=function(e,t){return t};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,t){var _=t.ngRepeat,S=u.$$createComment("end ngRepeat",_),n=_.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!n)throw R("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",_);var r=n[1],i=n[2],x=n[3],o=n[4];if(!(n=r.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw R("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",r);var E,C=n[3]||n[1],k=n[2];if(x&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(x)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(x)))throw R("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",x);if(o){var O={$id:It},a=s(o);E=function(e,t,n,r){return k&&(O[k]=t),O[C]=n,O.$index=r,a(e,O)}}return function($,y,e,t,b){var w=qe();$.$watchCollection(i,function(e){var r,t,n,i,o,a,s,u,c,l,f,p,h,d=y[0],m=qe();if(x&&($[x]=e),N(e))c=e,u=E||A;else for(var v in u=E||M,c=[],e)de.call(e,v)&&"$"!==v.charAt(0)&&c.push(v);for(i=c.length,f=new Array(i),r=0;r<i;r++)if(o=e===c?r:c[r],a=e[o],s=u($,o,a,r),w[s])l=w[s],delete w[s],m[s]=l,f[r]=l;else{if(m[s])throw ge(f,function(e){e&&e.scope&&(w[e.id]=e)}),R("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",_,s,a);f[r]={id:s,scope:void 0,clone:void 0},m[s]=!0}for(var g in O&&(O[C]=void 0),w){if(p=ce((l=w[g]).clone),j.leave(p),p[0].parentNode)for(r=0,t=p.length;r<t;r++)p[r][P]=!0;l.scope.$destroy()}for(r=0;r<i;r++)if(o=e===c?r:c[r],a=e[o],(l=f[r]).scope){for(n=d;(n=n.nextSibling)&&n[P];);l.clone[0]!==n&&j.move(ce(l.clone),null,d),d=(h=l).clone[h.clone.length-1],T(l.scope,r,C,a,k,o,i)}else b(function(e,t){l.scope=t;var n=S.cloneNode(!1);e[e.length++]=n,j.enter(e,null,d),d=n,l.clone=e,m[l.id]=l,T(l.scope,r,C,a,k,o,i)});w=m})}}}}],ga="ng-hide-animate",$a=["$animate",function(r){return{restrict:"A",multiElement:!0,link:function(e,t,n){e.$watch(n.ngShow,function(e){r[e?"removeClass":"addClass"](t,"ng-hide",{tempClasses:ga})})}}}],ya=["$animate",function(r){return{restrict:"A",multiElement:!0,link:function(e,t,n){e.$watch(n.ngHide,function(e){r[e?"addClass":"removeClass"](t,"ng-hide",{tempClasses:ga})})}}}],ba=Hi(function(e,t,n){e.$watchCollection(n.ngStyle,function(n,e){e&&n!==e&&(n||(n={}),ge(e,function(e,t){null==n[t]&&(n[t]="")})),n&&t.css(n)})}),wa=["$animate","$compile",function(l,f){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(e,t,n,i){var r=n.ngSwitch||n.on,o=[],a=[],s=[],u=[],c=function(t,n){return function(e){!1!==e&&t.splice(n,1)}};e.$watch(r,function(e){for(var t,n;s.length;)l.cancel(s.pop());for(t=0,n=u.length;t<n;++t){var r=ce(a[t].clone);u[t].$destroy(),(s[t]=l.leave(r)).done(c(s,t))}a.length=0,u.length=0,(o=i.cases["!"+e]||i.cases["?"])&&ge(o,function(i){i.transclude(function(e,t){u.push(t);var n=i.element;e[e.length++]=f.$$createComment("end ngSwitchWhen");var r={clone:e};a.push(r),l.enter(e,n.parent(),n)})})})}}}],_a=Hi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){ge(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){r.cases["!"+e]=r.cases["!"+e]||[],r.cases["!"+e].push({transclude:i,element:t})})}}),Sa=Hi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),xa=O("ngTransclude"),Ea=["$compile",function(t){return{restrict:"EAC",compile:function(e){var s=t(e.contents());return e.empty(),function(e,n,t,r,i){if(!i)throw xa("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Ve(n));t.ngTransclude===t.$attr.ngTransclude&&(t.ngTransclude="");var o=t.ngTransclude||t.ngTranscludeSlot;function a(){s(e,function(e){n.append(e)})}i(function(e,t){e.length&&function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.nodeType!==Fe||r.nodeValue.trim())return!0}}(e)?n.append(e):(a(),t.$destroy())},null,o),o&&!i.isSlotFilled(o)&&a()}}}}],Ca=["$templateCache",function(i){return{restrict:"E",terminal:!0,compile:function(e,t){if("text/ng-template"===t.type){var n=t.id,r=e[0].text;i.put(n,r)}}}}],ka={$setViewValue:be,$render:be};function Oa(e,t){e.prop("selected",t),e.attr("selected",t)}var ja=["$element","$scope",function(i,t){var s=this,r=new Ut;s.selectValueMap={},s.ngModelCtrl=ka,s.multiple=!1,s.unknownOption=he(fe.document.createElement("option")),s.hasEmptyOption=!1,s.emptyOption=void 0,s.renderUnknownOption=function(e){var t=s.generateUnknownOptionValue(e);s.unknownOption.val(t),i.prepend(s.unknownOption),Oa(s.unknownOption,!0),i.val(t)},s.updateUnknownOption=function(e){var t=s.generateUnknownOptionValue(e);s.unknownOption.val(t),Oa(s.unknownOption,!0),i.val(t)},s.generateUnknownOptionValue=function(e){return"? "+It(e)+" ?"},s.removeUnknownOption=function(){s.unknownOption.parent()&&s.unknownOption.remove()},s.selectEmptyOption=function(){s.emptyOption&&(i.val(""),Oa(s.emptyOption,!0))},s.unselectEmptyOption=function(){s.hasEmptyOption&&Oa(s.emptyOption,!1)},t.$on("$destroy",function(){s.renderUnknownOption=be}),s.readValue=function(){var e=i.val(),t=e in s.selectValueMap?s.selectValueMap[e]:e;return s.hasOption(t)?t:null},s.writeValue=function(e){var t=i[0].options[i[0].selectedIndex];if(t&&Oa(he(t),!1),s.hasOption(e)){s.removeUnknownOption();var n=It(e);i.val(n in s.selectValueMap?n:e);var r=i[0].options[i[0].selectedIndex];Oa(he(r),!0)}else s.selectUnknownOrEmptyOption(e)},s.addOption=function(e,t){if(t[0].nodeType!==He){ue(e,'"option value"'),""===e&&(s.hasEmptyOption=!0,s.emptyOption=t);var n=r.get(e)||0;r.set(e,n+1),u()}},s.removeOption=function(e){var t=r.get(e);t&&(1===t?(r.delete(e),""===e&&(s.hasEmptyOption=!1,s.emptyOption=void 0)):r.set(e,t-1))},s.hasOption=function(e){return!!r.get(e)},s.$hasEmptyOption=function(){return s.hasEmptyOption},s.$isUnknownOptionSelected=function(){return i[0].options[0]===s.unknownOption[0]},s.$isEmptyOptionSelected=function(){return s.hasEmptyOption&&i[0].options[i[0].selectedIndex]===s.emptyOption[0]};var e=!(s.selectUnknownOrEmptyOption=function(e){null==e&&s.emptyOption?(s.removeUnknownOption(),s.selectEmptyOption()):s.unknownOption.parent().length?s.updateUnknownOption(e):s.renderUnknownOption(e)});function u(){e||(e=!0,t.$$postDigest(function(){e=!1,s.ngModelCtrl.$render()}))}var n=!1;function c(e){n||(n=!0,t.$$postDigest(function(){t.$$destroyed||(n=!1,s.ngModelCtrl.$setViewValue(s.readValue()),e&&s.ngModelCtrl.$render())}))}s.registerOption=function(e,r,i,t,n){var o,a;i.$attr.ngValue?i.$observe("value",function(e){var t,n=r.prop("selected");T(a)&&(s.removeOption(o),delete s.selectValueMap[a],t=!0),a=It(e),o=e,s.selectValueMap[a]=e,s.addOption(e,r),r.attr("value",a),t&&n&&c()}):t?i.$observe("value",function(e){var t;s.readValue();var n=r.prop("selected");T(o)&&(s.removeOption(o),t=!0),o=e,s.addOption(e,r),t&&n&&c()}):n?e.$watch(n,function(e,t){i.$set("value",e);var n=r.prop("selected");t!==e&&s.removeOption(t),s.addOption(e,r),t&&n&&c()}):s.addOption(i.value,r);i.$observe("disabled",function(e){("true"===e||e&&r.prop("selected"))&&(s.multiple?c(!0):(s.ngModelCtrl.$setViewValue(null),s.ngModelCtrl.$render()))}),r.on("$destroy",function(){var e=s.readValue(),t=i.value;s.removeOption(t),u(),(s.multiple&&e&&-1!==e.indexOf(t)||e===t)&&c(!0)})}}],Pa=function(){return{restrict:"E",require:["select","?ngModel"],controller:ja,priority:1,link:{pre:function(e,t,n,r){var i=r[0],o=r[1];if(!o)return void(i.registerOption=be);if(i.ngModelCtrl=o,t.on("change",function(){i.removeUnknownOption(),e.$apply(function(){o.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var n=[];return ge(t.find("option"),function(e){if(e.selected&&!e.disabled){var t=e.value;n.push(t in i.selectValueMap?i.selectValueMap[t]:t)}}),n},i.writeValue=function(r){ge(t.find("option"),function(e){var t=!!r&&(V(r,e.value)||V(r,i.selectValueMap[e.value])),n=e.selected;t!==n&&Oa(he(e),t)})};var a,s=NaN;e.$watch(function(){s!==o.$viewValue||Me(a,o.$viewValue)||(a=Ge(o.$viewValue),o.$render()),s=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}},post:function(e,t,n,r){var i=r[1];if(!i)return;var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}}},Ra=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(e,t){var a,s;return T(t.ngValue)||(T(t.value)?a=n(t.value,!0):(s=n(e.text(),!0))||t.$set("value",e.text())),function(e,t,n){var r="$selectController",i=t.parent(),o=i.data(r)||i.parent().data(r);o&&o.registerOption(e,t,n,a,s)}}}}],Ta=["$parse",function(o){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=n.required||o(n.ngRequired)(e);n.required=!0,r.$validators.required=function(e,t){return!i||!r.$isEmpty(t)},n.$observe("required",function(e){i!==e&&(i=e,r.$validate())})}}}}],Aa=["$parse",function(n){return{restrict:"A",require:"?ngModel",compile:function(e,t){var a,s;return t.ngPattern&&(a=t.ngPattern,s="/"===t.ngPattern.charAt(0)&&o.test(t.ngPattern)?function(){return t.ngPattern}:n(t.ngPattern)),function(e,n,t,r){if(r){var i=t.pattern;t.ngPattern?i=s(e):a=t.pattern;var o=La(i,a,n);t.$observe("pattern",function(e){var t=o;o=La(e,a,n),(t&&t.toString())!==(o&&o.toString())&&r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||_e(o)||o.test(t)}}}}}}],Ma=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=n.maxlength||a(n.ngMaxlength)(e),o=Va(i);n.$observe("maxlength",function(e){i!==e&&(o=Va(e),i=e,r.$validate())}),r.$validators.maxlength=function(e,t){return o<0||r.$isEmpty(t)||t.length<=o}}}}}],Na=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=n.minlength||a(n.ngMinlength)(e),o=Va(i)||-1;n.$observe("minlength",function(e){i!==e&&(o=Va(e)||-1,i=e,r.$validate())}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=o}}}}}];function La(e,t,n){if(e){if(xe(e)&&(e=new RegExp("^"+e+"$")),!e.test)throw O("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",t,e,Ve(n));return e}}function Va(e){var t=b(e);return P(t)?-1:t}fe.angular.bootstrap?fe.console&&console.log("WARNING: Tried to load AngularJS more than once."):(!function(){var i;if(!ae){var e=q();(t=_e(e)?fe.jQuery:e?fe[e]:void 0)&&t.fn.on?$e((he=t).fn,{scope:Pt.scope,isolateScope:Pt.isolateScope,controller:Pt.controller,injector:Pt.injector,inheritedData:Pt.inheritedData}):he=pt,i=he.cleanData,he.cleanData=function(e){for(var t,n,r=0;null!=(n=e[r]);r++)(t=(he._data(n)||{}).events)&&t.$destroy&&he(n).triggerHandler("$destroy");i(e)},y.element=he,ae=!0}}(),$e(y,{errorHandlingConfig:e,bootstrap:ne,copy:I,extend:$e,merge:$,equals:Me,element:he,forEach:ge,injector:Qt,noop:be,bind:Le,toJson:H,fromJson:z,identity:we,isUndefined:_e,isDefined:T,isString:xe,isFunction:ke,isObject:Se,isNumber:S,isElement:L,isArray:Ee,version:Ke,isDate:x,callbacks:{$$counter:0},getTestability:ie,reloadWithDebugInfo:re,$$minErr:O,$$csp:D,$$encodeUriSegment:Q,$$encodeUriQuery:Z,$$lowercase:me,$$stringify:le,$$uppercase:p}),(g=function(e){var f=O("$injector"),p=O("ng");function t(e,t,n){return e[t]||(e[t]=n())}var n=t(e,"angular",Object);return n.$$minErr=n.$$minErr||O,t(n,"module",function(){var e={};return function(s,u,c){var l={};return function(e,t){if("hasOwnProperty"===e)throw p("badname","hasOwnProperty is not a valid {0} name",t)}(s,"module"),u&&e.hasOwnProperty(s)&&(e[s]=null),t(e,s,function(){if(!u)throw f("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",s);var o=[],e=[],t=[],n=r("$injector","invoke","push",e),a={_invokeQueue:o,_configBlocks:e,_runBlocks:t,info:function(e){if(T(e)){if(!Se(e))throw p("aobj","Argument '{0}' must be an object","value");return l=e,this}return l},requires:u,name:s,provider:i("$provide","provider"),factory:i("$provide","factory"),service:i("$provide","service"),value:r("$provide","value"),constant:r("$provide","constant","unshift"),decorator:i("$provide","decorator",e),animation:i("$animateProvider","register"),filter:i("$filterProvider","register"),controller:i("$controllerProvider","register"),directive:i("$compileProvider","directive"),component:i("$compileProvider","component"),config:n,run:function(e){return t.push(e),this}};return c&&n(c),a;function r(e,t,n,r){return r||(r=o),function(){return r[n||"push"]([e,t,arguments]),a}}function i(n,r,i){return i||(i=o),function(e,t){return t&&ke(t)&&(t.$$moduleName=s),i.push([n,r,arguments]),a}}})}})}(fe))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Gr}),e.provider("$compile",gn).directive({a:zi,input:Co,textarea:Co,form:Qi,script:Ca,select:Pa,option:Ra,ngBind:Po,ngBindHtml:To,ngBindTemplate:Ro,ngClass:No,ngClassEven:Vo,ngClassOdd:Lo,ngCloak:Io,ngController:Do,ngForm:Zi,ngHide:ya,ngIf:Ho,ngInclude:zo,ngInit:Go,ngNonBindable:ca,ngPluralize:ha,ngRef:ma,ngRepeat:va,ngShow:$a,ngStyle:ba,ngSwitch:wa,ngSwitchWhen:_a,ngSwitchDefault:Sa,ngOptions:pa,ngTransclude:Ea,ngModel:ia,ngList:Wo,ngChange:Ao,pattern:Aa,ngPattern:Aa,required:Ta,ngRequired:Ta,minlength:Na,ngMinlength:Na,maxlength:Ma,ngMaxlength:Ma,ngValue:jo,ngModelOptions:sa}).directive({ngInclude:Bo,input:ko}).directive(Bi).directive(qo),e.provider({$anchorScroll:Zt,$animate:sn,$animateCss:ln,$$animateJs:on,$$animateQueue:an,$$AnimateRunner:cn,$$animateAsyncRun:un,$browser:pn,$cacheFactory:hn,$controller:Cn,$document:kn,$$isDocumentHidden:On,$exceptionHandler:jn,$filter:gi,$$forceReflow:Pn,$interpolate:Jn,$interval:Qn,$$intervalFactory:Zn,$http:Bn,$httpParamSerializer:In,$httpParamSerializerJQLike:Dn,$httpBackend:Wn,$xhrFactory:Gn,$jsonpCallbacks:Xn,$location:vr,$log:gr,$parse:Vr,$rootScope:Br,$q:Ir,$$q:Dr,$sce:Xr,$sceDelegate:Zr,$sniffer:ei,$$taskTrackerFactory:ti,$templateCache:dn,$templateRequest:ii,$$testability:oi,$timeout:si,$window:di,$$rAF:zr,$$jqLite:Vt,$$Map:Ft,$$cookieReader:vi})}]).info({angularVersion:"1.7.7"}),y.module("ngLocale",[],["$provide",function(e){var i="one",o="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-Â¤",negSuf:"",posPre:"Â¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var n=0|e,r=function(e,t){var n,r,i=t;void 0===i&&(i=Math.min((n=e,-1==(r=(n+="").indexOf("."))?0:n.length-r-1),3));var o=Math.pow(10,i);return{v:i,f:(e*o|0)%o}}(e,t);return 1==n&&0==r.v?i:o}})}]),he(function(){te(fe.document,ne)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},{}],87:[function(e,t,n){e("./angular"),t.exports=angular},{"./angular":86}],88:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],89:[function(e,t,n){var r=e("./_wks")("unscopables"),i=Array.prototype;null==i[r]&&e("./_hide")(i,r,{}),t.exports=function(e){i[r][e]=!0}},{"./_hide":105,"./_wks":143}],90:[function(e,t,n){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":110}],91:[function(e,t,n){var u=e("./_to-iobject"),c=e("./_to-length"),l=e("./_to-absolute-index");t.exports=function(s){return function(e,t,n){var r,i=u(e),o=c(i.length),a=l(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}},{"./_to-absolute-index":134,"./_to-iobject":136,"./_to-length":137}],92:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],93:[function(e,t,n){var r=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},{}],94:[function(e,t,n){var o=e("./_a-function");t.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},{"./_a-function":88}],95:[function(e,t,n){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],96:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":101}],97:[function(e,t,n){var r=e("./_is-object"),i=e("./_global").document,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"./_global":103,"./_is-object":110}],98:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],99:[function(e,t,n){var s=e("./_object-keys"),u=e("./_object-gops"),c=e("./_object-pie");t.exports=function(e){var t=s(e),n=u.f;if(n)for(var r,i=n(e),o=c.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t}},{"./_object-gops":123,"./_object-keys":126,"./_object-pie":127}],100:[function(e,t,n){var m=e("./_global"),v=e("./_core"),g=e("./_hide"),$=e("./_redefine"),y=e("./_ctx"),b="prototype",w=function(e,t,n){var r,i,o,a,s=e&w.F,u=e&w.G,c=e&w.S,l=e&w.P,f=e&w.B,p=u?m:c?m[t]||(m[t]={}):(m[t]||{})[b],h=u?v:v[t]||(v[t]={}),d=h[b]||(h[b]={});for(r in u&&(n=t),n)o=((i=!s&&p&&void 0!==p[r])?p:n)[r],a=f&&i?y(o,m):l&&"function"==typeof o?y(Function.call,o):o,p&&$(p,r,o,e&w.U),h[r]!=o&&g(h,r,a),l&&d[r]!=o&&(d[r]=o)};m.core=v,w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,t.exports=w},{"./_core":93,"./_ctx":94,"./_global":103,"./_hide":105,"./_redefine":130}],101:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],102:[function(e,t,n){t.exports=e("./_shared")("native-function-to-string",Function.toString)},{"./_shared":133}],103:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],104:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],105:[function(e,t,n){var r=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":96,"./_object-dp":118,"./_property-desc":129}],106:[function(e,t,n){var r=e("./_global").document;t.exports=r&&r.documentElement},{"./_global":103}],107:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":96,"./_dom-create":97,"./_fails":101}],108:[function(e,t,n){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":92}],109:[function(e,t,n){var r=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./_cof":92}],110:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],111:[function(e,t,n){"use strict";var r=e("./_object-create"),i=e("./_property-desc"),o=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},{"./_hide":105,"./_object-create":117,"./_property-desc":129,"./_set-to-string-tag":131,"./_wks":143}],112:[function(e,t,n){"use strict";var y=e("./_library"),b=e("./_export"),w=e("./_redefine"),_=e("./_hide"),S=e("./_iterators"),x=e("./_iter-create"),E=e("./_set-to-string-tag"),C=e("./_object-gpo"),k=e("./_wks")("iterator"),O=!([].keys&&"next"in[].keys()),j="values",P=function(){return this};t.exports=function(e,t,n,r,i,o,a){x(n,t,r);var s,u,c,l=function(e){if(!O&&e in d)return d[e];switch(e){case"keys":case j:return function(){return new n(this,e)}}return function(){return new n(this,e)}},f=t+" Iterator",p=i==j,h=!1,d=e.prototype,m=d[k]||d["@@iterator"]||i&&d[i],v=m||l(i),g=i?p?l("entries"):v:void 0,$="Array"==t&&d.entries||m;if($&&(c=C($.call(new e)))!==Object.prototype&&c.next&&(E(c,f,!0),y||"function"==typeof c[k]||_(c,k,P)),p&&m&&m.name!==j&&(h=!0,v=function(){return m.call(this)}),y&&!a||!O&&!h&&d[k]||_(d,k,v),S[t]=v,S[f]=P,i)if(s={values:p?v:l(j),keys:o?v:l("keys"),entries:g},a)for(u in s)u in d||w(d,u,s[u]);else b(b.P+b.F*(O||h),t,s);return s}},{"./_export":100,"./_hide":105,"./_iter-create":111,"./_iterators":114,"./_library":115,"./_object-gpo":124,"./_redefine":130,"./_set-to-string-tag":131,"./_wks":143}],113:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],114:[function(e,t,n){t.exports={}},{}],115:[function(e,t,n){t.exports=!1},{}],116:[function(e,t,n){var r=e("./_uid")("meta"),i=e("./_is-object"),o=e("./_has"),a=e("./_object-dp").f,s=0,u=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&f.NEED&&u(e)&&!o(e,r)&&l(e),e}}},{"./_fails":101,"./_has":104,"./_is-object":110,"./_object-dp":118,"./_uid":140}],117:[function(r,e,t){var i=r("./_an-object"),o=r("./_object-dps"),a=r("./_enum-bug-keys"),s=r("./_shared-key")("IE_PROTO"),u=function(){},c="prototype",l=function(){var e,t=r("./_dom-create")("iframe"),n=a.length;for(t.style.display="none",r("./_html").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[c][a[n]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(u[c]=i(e),n=new u,u[c]=null,n[s]=e):n=l(),void 0===t?n:o(n,t)}},{"./_an-object":90,"./_dom-create":97,"./_enum-bug-keys":98,"./_html":106,"./_object-dps":119,"./_shared-key":132}],118:[function(e,t,n){var r=e("./_an-object"),i=e("./_ie8-dom-define"),o=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":90,"./_descriptors":96,"./_ie8-dom-define":107,"./_to-primitive":139}],119:[function(e,t,n){var a=e("./_object-dp"),s=e("./_an-object"),u=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){s(e);for(var n,r=u(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},{"./_an-object":90,"./_descriptors":96,"./_object-dp":118,"./_object-keys":126}],120:[function(e,t,n){var r=e("./_object-pie"),i=e("./_property-desc"),o=e("./_to-iobject"),a=e("./_to-primitive"),s=e("./_has"),u=e("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;n.f=e("./_descriptors")?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},{"./_descriptors":96,"./_has":104,"./_ie8-dom-define":107,"./_object-pie":127,"./_property-desc":129,"./_to-iobject":136,"./_to-primitive":139}],121:[function(e,t,n){var r=e("./_to-iobject"),i=e("./_object-gopn").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},{"./_object-gopn":122,"./_to-iobject":136}],122:[function(e,t,n){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},{"./_enum-bug-keys":98,"./_object-keys-internal":125}],123:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],124:[function(e,t,n){var r=e("./_has"),i=e("./_to-object"),o=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":104,"./_shared-key":132,"./_to-object":138}],125:[function(e,t,n){var a=e("./_has"),s=e("./_to-iobject"),u=e("./_array-includes")(!1),c=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)n!=c&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~u(o,n)||o.push(n));return o}},{"./_array-includes":91,"./_has":104,"./_shared-key":132,"./_to-iobject":136}],126:[function(e,t,n){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,i)}},{"./_enum-bug-keys":98,"./_object-keys-internal":125}],127:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],128:[function(e,t,n){var i=e("./_export"),o=e("./_core"),a=e("./_fails");t.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],r={};r[e]=t(n),i(i.S+i.F*a(function(){n(1)}),"Object",r)}},{"./_core":93,"./_export":100,"./_fails":101}],129:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],130:[function(e,t,n){var o=e("./_global"),a=e("./_hide"),s=e("./_has"),u=e("./_uid")("src"),r=e("./_function-to-string"),c=(""+r).split("toString");e("./_core").inspectSource=function(e){return r.call(e)},(t.exports=function(e,t,n,r){var i="function"==typeof n;i&&(s(n,"name")||a(n,"name",t)),e[t]!==n&&(i&&(s(n,u)||a(n,u,e[t]?""+e[t]:c.join(String(t)))),e===o?e[t]=n:r?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[u]||r.call(this)})},{"./_core":93,"./_function-to-string":102,"./_global":103,"./_has":104,"./_hide":105,"./_uid":140}],131:[function(e,t,n){var r=e("./_object-dp").f,i=e("./_has"),o=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},{"./_has":104,"./_object-dp":118,"./_wks":143}],132:[function(e,t,n){var r=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return r[e]||(r[e]=i(e))}},{"./_shared":133,"./_uid":140}],133:[function(e,t,n){var r=e("./_core"),i=e("./_global"),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:e("./_library")?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},{"./_core":93,"./_global":103,"./_library":115}],134:[function(e,t,n){var r=e("./_to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},{"./_to-integer":135}],135:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?i:r)(e)}},{}],136:[function(e,t,n){var r=e("./_iobject"),i=e("./_defined");t.exports=function(e){return r(i(e))}},{"./_defined":95,"./_iobject":108}],137:[function(e,t,n){var r=e("./_to-integer"),i=Math.min;t.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},{"./_to-integer":135}],138:[function(e,t,n){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":95}],139:[function(e,t,n){var i=e("./_is-object");t.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":110}],140:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],141:[function(e,t,n){var r=e("./_global"),i=e("./_core"),o=e("./_library"),a=e("./_wks-ext"),s=e("./_object-dp").f;t.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},{"./_core":93,"./_global":103,"./_library":115,"./_object-dp":118,"./_wks-ext":142}],142:[function(e,t,n){n.f=e("./_wks")},{"./_wks":143}],143:[function(e,t,n){var r=e("./_shared")("wks"),i=e("./_uid"),o=e("./_global").Symbol,a="function"==typeof o;(t.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},{"./_global":103,"./_shared":133,"./_uid":140}],144:[function(e,t,n){"use strict";var r=e("./_add-to-unscopables"),i=e("./_iter-step"),o=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":89,"./_iter-define":112,"./_iter-step":113,"./_iterators":114,"./_to-iobject":136}],145:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},{"./_export":100}],146:[function(e,t,n){var r=e("./_to-object"),i=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return i(r(e))}})},{"./_object-keys":126,"./_object-sap":128,"./_to-object":138}],147:[function(e,t,n){"use strict";var r=e("./_global"),a=e("./_has"),i=e("./_descriptors"),o=e("./_export"),s=e("./_redefine"),u=e("./_meta").KEY,c=e("./_fails"),l=e("./_shared"),f=e("./_set-to-string-tag"),p=e("./_uid"),h=e("./_wks"),d=e("./_wks-ext"),m=e("./_wks-define"),v=e("./_enum-keys"),g=e("./_is-array"),$=e("./_an-object"),y=e("./_is-object"),b=e("./_to-iobject"),w=e("./_to-primitive"),_=e("./_property-desc"),S=e("./_object-create"),x=e("./_object-gopn-ext"),E=e("./_object-gopd"),C=e("./_object-dp"),k=e("./_object-keys"),O=E.f,j=C.f,P=x.f,R=r.Symbol,T=r.JSON,A=T&&T.stringify,M="prototype",N=h("_hidden"),L=h("toPrimitive"),V={}.propertyIsEnumerable,I=l("symbol-registry"),D=l("symbols"),q=l("op-symbols"),U=Object[M],F="function"==typeof R,H=r.QObject,z=!H||!H[M]||!H[M].findChild,B=i&&c(function(){return 7!=S(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O(U,t);r&&delete U[t],j(e,t,n),r&&e!==U&&j(U,t,r)}:j,G=function(e){var t=D[e]=S(R[M]);return t._k=e,t},W=F&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},K=function(e,t,n){return e===U&&K(q,t,n),$(e),t=w(t,!0),$(n),a(D,t)?(n.enumerable?(a(e,N)&&e[N][t]&&(e[N][t]=!1),n=S(n,{enumerable:_(0,!1)})):(a(e,N)||j(e,N,_(1,{})),e[N][t]=!0),B(e,t,n)):j(e,t,n)},J=function(e,t){$(e);for(var n,r=v(t=b(t)),i=0,o=r.length;i<o;)K(e,n=r[i++],t[n]);return e},Y=function(e){var t=V.call(this,e=w(e,!0));return!(this===U&&a(D,e)&&!a(q,e))&&(!(t||!a(this,e)||!a(D,e)||a(this,N)&&this[N][e])||t)},Q=function(e,t){if(e=b(e),t=w(t,!0),e!==U||!a(D,t)||a(q,t)){var n=O(e,t);return!n||!a(D,t)||a(e,N)&&e[N][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=P(b(e)),r=[],i=0;n.length>i;)a(D,t=n[i++])||t==N||t==u||r.push(t);return r},X=function(e){for(var t,n=e===U,r=P(n?q:b(e)),i=[],o=0;r.length>o;)!a(D,t=r[o++])||n&&!a(U,t)||i.push(D[t]);return i};F||(s((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=p(0<arguments.length?arguments[0]:void 0),n=function(e){this===U&&n.call(q,e),a(this,N)&&a(this[N],t)&&(this[N][t]=!1),B(this,t,_(1,e))};return i&&z&&B(U,t,{configurable:!0,set:n}),G(t)})[M],"toString",function(){return this._k}),E.f=Q,C.f=K,e("./_object-gopn").f=x.f=Z,e("./_object-pie").f=Y,e("./_object-gops").f=X,i&&!e("./_library")&&s(U,"propertyIsEnumerable",Y,!0),d.f=function(e){return G(h(e))}),o(o.G+o.W+o.F*!F,{Symbol:R});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)h(ee[te++]);for(var ne=k(h.store),re=0;ne.length>re;)m(ne[re++]);o(o.S+o.F*!F,"Symbol",{for:function(e){return a(I,e+="")?I[e]:I[e]=R(e)},keyFor:function(e){if(!W(e))throw TypeError(e+" is not a symbol!");for(var t in I)if(I[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),o(o.S+o.F*!F,"Object",{create:function(e,t){return void 0===t?S(e):J(S(e),t)},defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:X}),T&&o(o.S+o.F*(!F||c(function(){var e=R();return"[null]"!=A([e])||"{}"!=A({a:e})||"{}"!=A(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(y(t)||void 0!==e)&&!W(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!W(t))return t}),r[1]=t,A.apply(T,r)}}),R[M][L]||e("./_hide")(R[M],L,R[M].valueOf),f(R,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},{"./_an-object":90,"./_descriptors":96,"./_enum-keys":99,"./_export":100,"./_fails":101,"./_global":103,"./_has":104,"./_hide":105,"./_is-array":109,"./_is-object":110,"./_library":115,"./_meta":116,"./_object-create":117,"./_object-dp":118,"./_object-gopd":120,"./_object-gopn":122,"./_object-gopn-ext":121,"./_object-gops":123,"./_object-keys":126,"./_object-pie":127,"./_property-desc":129,"./_redefine":130,"./_set-to-string-tag":131,"./_shared":133,"./_to-iobject":136,"./_to-primitive":139,"./_uid":140,"./_wks":143,"./_wks-define":141,"./_wks-ext":142}],148:[function(e,t,n){e("./_wks-define")("asyncIterator")},{"./_wks-define":141}],149:[function(e,t,n){for(var r=e("./es6.array.iterator"),i=e("./_object-keys"),o=e("./_redefine"),a=e("./_global"),s=e("./_hide"),u=e("./_iterators"),c=e("./_wks"),l=c("iterator"),f=c("toStringTag"),p=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(h),m=0;m<d.length;m++){var v,g=d[m],$=h[g],y=a[g],b=y&&y.prototype;if(b&&(b[l]||s(b,l,p),b[f]||s(b,f,g),u[g]=p,$))for(v in r)b[v]||o(b,v,r[v],!0)}},{"./_global":103,"./_hide":105,"./_iterators":114,"./_object-keys":126,"./_redefine":130,"./_wks":143,"./es6.array.iterator":144}],150:[function(e,t,n){"use strict";var r,i=(r=e("angular"))&&r.__esModule?r:{default:r};e("@uirouter/angularjs"),e("angular-translate"),e("angular-sanitize"),e("angular-translate-loader-static-files"),e("angular-translate-storage-local"),e("angular-translate-storage-cookie"),e("angular-cookies"),i.default.module("core",["templates","ui.router","searchPage","shared","home","ngCookies","pascalprecht.translate","translate","ngSanitize"]),i.default.module("home",[]),i.default.module("searchPage",[]),i.default.module("shared",[]),i.default.module("translate",[])},{"@uirouter/angularjs":2,angular:87,"angular-cookies":79,"angular-sanitize":81,"angular-translate":85,"angular-translate-loader-static-files":82,"angular-translate-storage-cookie":83,"angular-translate-storage-local":84}],151:[function(e,t,n){t.exports={BUTTON_LANG_EN:"Englisch",BUTTON_LANG_DE:"Deutsch",BUTTON_LANG_ES:"Spanisch",TOTAL_RESULTS:"Ergebnisse insgesamt"}},{}],152:[function(e,t,n){t.exports={BUTTON_LANG_EN:"English",BUTTON_LANG_DE:"German",BUTTON_LANG_ES:"Spanish",TOTAL_RESULTS:"Total results"}},{}],153:[function(e,t,n){t.exports={BUTTON_LANG_EN:"Ingles",BUTTON_LANG_DE:"Alemn",BUTTON_LANG_ES:"Espanol",TOTAL_RESULTS:"Resultados totales"}},{}],154:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.mockDocuments=void 0;n.mockDocuments=[{category:"Journals",value:{headline:"Journals happend",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras ultricies ipsum vel tortor aliquam eleifend. Sed non velit rhoncus quam volutpat gravida tincidunt nec lectus. Nullam tristique erat a lacus sollicitudin, commodo tempus elit viverra. Vestibulum imperdiet neque nec tortor mollis, at scelerisque nisi varius. Vivamus ligula magna, porta et felis non, convallis facilisis est. Morbi ut nunc libero. Vivamus posuere auctor sem, quis molestie massa laoreet vitae. Donec nec libero vitae turpis aliquet scelerisque ac ac dui. Praesent metus turpis, elementum eu purus faucibus, imperdiet pellentesque nisi. Duis maximus libero dictum mi vulputate, in iaculis neque commodo.",views:90132}},{category:"Journals",value:{headline:"Where Journals I get some?",text:"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Qu vel eum iure reprehenderit qui in ea voluptate velit consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?",views:100}},{category:"News",value:{headline:"Something News",text:"Etiam sit amet malesuada dolor. Suspendisse eu dignissim mauris. Aliquam ut leo dignissim, posuere nunc non, ullamcorper neque. Interdum et malesuada fames ac ante ipsum primis in faucibus. Cras nec odio in massa fermentum pellentesque vehicula eget odio. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Mauris ligula turpis, vehicula id justo non, laoreet maximus augue. Nam vel ex ullamcorper, posuere magna eu, consequat orci. Suspendisse accumsan ligula augue, convallis posuere libero sodales ac. Vivamus eget ipsum in velit gravida faucibus consectetur id dolor. Etiam et dui sed leo congue tristique. Curabitur non lobortis nibh, sit amet fringilla nisl. Maecenas et sem ut lorem consequat aliquam in ut lectus. In gravida quam dolor, eget porta lorem vulputate at.",views:932}},{category:"Taxes",value:{headline:"Taxes happend",text:"Maecenas malesuada at ipsum ultrices elementum. Sed dolor odio, mollis nec ligula sodales, semper sollicitudin libero. Phasellus venenatis, nulla sed interdum auctor, orci metus congue dui, et feugiat ex enim sed nunc. Donec malesuada, leo quis consequat efficitur, nulla velit condimentum enim, sed tristique sapien nunc rutrum nunc. In quis odio ac ipsum feugiat viverra. Etiam odio est, tristique eget pharetra sed, tincidunt eget purus. Nullam non efficitur nulla. Suspendisse diam erat, semper sed rhoncus vitae, lacinia in odio.",views:32}},{category:"Journals",value:{headline:"Where Journals I get some?",text:"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a handful of model sentence structures, to generate Lorem Ipsum which looks reasonable. The generated Lorem Ipsum is therefore always free from repetition, injected humour, or non-characteristic words etc.",views:10}},{category:"Taxes",value:{headline:"Taxes happend",text:"Vestibulum ac malesuada neque, at porta nisi. Nam urna sapien, egestas vel eros nec, efficitur cursus quam. Duis sed mauris egestas, convallis felis sed, hendrerit ex. Nullam fringilla finibus mi, eget euismod felis euismod a. Nullam blandit eget justo nec cursus. Suspendisse orci tortor, gravida ac convallis nec, mollis eget dolor. Sed non leo eu nunc egestas fermentum a vel arcu. Sed volutpat a nibh eu vestibulum.",views:90}},{category:"News",value:{headline:"News happend",text:"Nullam condimentum ac risus quis vulputate. Fusce at lorem quis lectus malesuada semper eget sed massa. Duis ut est ante. In id turpis a mi fringilla convallis quis vel sapien. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Aenean nibh sem, dictum et tempor vel, rhoncus ut ipsum. Vestibulum sit amet enim arcu. Cras sapien neque, pulvinar eu egestas at, molestie non enim.",views:132}},{category:"Topics",value:{headline:"Topics happend",text:"Pellentesque ac nisi ultricies, accumsan ipsum vel, volutpat metus. Pellentesque elementum velit quam, vitae semper magna venenatis a. Fusce nulla lorem, mollis sit amet iaculis et, mattis id mi. Morbi enim velit, dignissim semper dignissim nec, tincidunt vel justo. Maecenas bibendum efficitur eros, feugiat volutpat lacus sodales vitae. Proin faucibus nisl non nisl consectetur aliquam. Mauris placerat leo laoreet, tempor turpis scelerisque, iaculis leo. Vestibulum quis ipsum at tellus accumsan aliquet vitae eu leo. Proin rhoncus dolor faucibus, elementum justo nec, sodales diam. Integer eu velit condimentum, iaculis lorem sed, tristique quam. Nullam ultricies sagittis neque eleifend facilisis. Proin quis laoreet augue, nec molestie risus. Nam quis bibendum ipsum, quis sollicitudin massa.",views:701}},{category:"Topics",value:{headline:"Topics happend",text:"On the other hand, we denounce with righteous indignation and dislike men who are so beguiled and demoralized by the charms of pleasure of the moment, so blinded by desire, that they cannot foresee the pain and trouble that are bound to ensue; and equal blame belongs to those who fail in their duty through weakness of will, which is the same as saying through shrinking from toil and pain. These cases are perfectly simple and easy to distinguish. In a free hour, when our power of choice is untrammelled and when nothing prevents our being able to do what we like best, every pleasure is to be welcomed and every pain avoided. But in certain circumstances and owing to the claims of duty or the obligations of business it will frequently occur that pleasures have to be repudiated and annoyances accepted. The wise man therefore always holds",views:90132}},{category:"News",value:{headline:"News happend",text:"Aliquam consectetur augue turpis, vel tristique ipsum tincidunt ac. Ut a dignissim est. Aenean at posuere turpis. Duis quis luctus purus. Aenean efficitur vestibulum tortor vel hendrerit. Morbi sit amet pharetra ipsum, at eleifend erat. Sed lacinia metus sapien, vel consequat justo fringilla et. Suspendisse ac velit et quam facilisis volutpat. Cras at odio tellus. Mauris quam lectus, bibendum sed lacinia sed, ultrices nec dolor. Donec ut ex eget dolor lacinia lacinia quis eu nisl. Proin luctus maximus vestibulum. Quisque a felis nec nunc egestas pellentesque in non quam. Nam lacinia rhoncus velit sed interdum. Suspendisse nunc urna, tristique id sem a, condimentum laoreet risus.",views:132}},{category:"Topics",value:{headline:"Topics happend",text:"On the other hand, we denounce with righteous indignation and dislike men who are so beguiled and demoralized by the charms of pleasure of the moment, so blinded by desire, that they cannot foresee the pain and trouble that are bound to ensue; and equal blame belongs to those who fail in their duty through weakness of will, which is the same as saying through shrinking from toil and pain. These cases are perfectly simple and easy to distinguish. In a free hour, when our power of choice is untrammelled and when nothing prevents our being able to do what we like best, every pleasure is to be welcomed and every pain avoided. But in certain circumstances and owing to the claims of duty or the obligations of business it will frequently occur that pleasures have to be repudiated and aters to this principle of selection: he rejects pleasu",views:701}},{category:"Topics",value:{headline:"Something Topics",text:"Donec ut elementum erat, at ullamcorper est. Ut tristique, mauris in interdum consectetur, neque leo viverra leo, non sagittis enim leo vitae urna. Cras eros turpis, dignissim at scelerisque non, fringilla sed odio. Morbi tristique, justo sit amet sodales vestibulum, justo elit dapibus tellus, eget sagittis odio libero non arcu. Nunc convallis ipsum a maximus fermentum. Nam tincidunt cursus ultrices. In ac cursus risus.",views:90132}},{category:"News",value:{headline:"News happend",text:"Sed iaculis, lectus vitae mollis consectetur, nibh libero interdum ipsum, eu pulvinar arcu leo eu risus. Proin pulvinar eros scelerisque lorem dignissim, pretium blandit nisi volutpat. Etiam sit amet elit vitae lectus elementum laoreet. Morbi posuere ex eros, non ultrices purus condimentum sagittis. Duis eget auctor orci. Morbi ultrices lobortis neque et iaculis. In non felis aliquet, finibus mi vel, ultricies diam. Ut id hendrerit urna. Nam iaculis dolor non elit sodales sodales. Pellentesque convallis, lorem sit amet sagittis ultrices, risus eros blandit lacus, volutpat vestibulum felis nibh eget enim. Etiam porta maximus ligula sit amet euismod. Nullam aliquam bibendum leo. Pellentesque tempus arcu vel odio maximus rutrum. Etiam id convallis libero. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec nisl nulla, lacinia vel sagittis nec, pulvinar finibus augue.",views:132}},{category:"Topics",value:{headline:"Topics happend",text:"Ut nisl justo, sagittis ac urna non, convallis gravida tortor. Fusce in tristique libero. Sed porta commodo nisl, ac pellentesque metus pellentesque a. In vel urna velit. Donec faucibus molestie nulla, vel ultrices ipsum efficitur eu. Morbi varius turpis ac enim ullamcorper ultrices. Nam ornare arcu sed sollicitudin facilisis. Praesent velit enim, luctus ut semper a, ullamcorper sed justo. Cras ligula quam, aliquet sit amet bibendum a, fermentum eu ante. Donec suscipit eleifend metus, et luctus elit cursus ac. Aenean interdum nunc ac imperdiet molestie. Vivamus volutpat tortor cursus magna vestibulum tincidunt. Curabitur tincidunt, dui ut cursus malesuada, diam mi efficitur tortor, sit amet dictum augue dui vel mauris.",views:701}},{category:"Topics",value:{headline:"Something Topics",text:"Something really important happened somewhere today Something really important happened somewhere today Something really important happened somewhere today",views:90132}}]},{}],155:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("core").directive("swtApp",function(){return{templateUrl:"app.html",restrict:"E"}});n.default=i},{angular:87}],156:[function(e,t,n){"use strict";e("./routes"),e("./appDirective")},{"./appDirective":155,"./routes":157}],157:[function(e,t,n){"use strict";e("./routes")},{"./routes":158}],158:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("core").config(["$stateProvider","$locationProvider",function(e,t){e.state({name:"home",url:"/",templateUrl:"homeRoute.html"}).state({name:"search",url:"/search?query",templateUrl:"searchRoute.html"}),t.html5Mode(!0)}]);n.default=i},{angular:87}],159:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("home").directive("swtHome",function(){return{templateUrl:"home.html",restrict:"E"}});n.default=i},{angular:87}],160:[function(e,t,n){"use strict";e("./home.directive"),e("./popularDocuments")},{"./home.directive":159,"./popularDocuments":162}],161:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("angular"))&&r.__esModule?r:{default:r},o=e("../../assets/documents");var a=i.default.module("home").controller("PopularDocumentsController",function(){this.documents=o.mockDocuments});n.default=a},{"../../assets/documents":154,angular:87}],162:[function(e,t,n){"use strict";e("./popularDocuments.directive"),e("./PopularDocuments.controller")},{"./PopularDocuments.controller":161,"./popularDocuments.directive":163}],163:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("home").directive("swtPopularDocuments",function(){return{templateUrl:"popularDocuments.html",restrict:"E",controller:"PopularDocumentsController",controllerAs:"popular"}});n.default=i},{angular:87}],164:[function(e,t,n){"use strict";e("./app.module"),e("./core"),e("./shared"),e("./searchPage"),e("./home"),e("./translate")},{"./app.module":150,"./core":156,"./home":160,"./searchPage":168,"./shared":185,"./translate":192}],165:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("searchPage").controller("FilterPanelController",["filterPanelService",function(e){this.filteredArticles=e.getFilteredArticles()}]);n.default=i},{angular:87}],166:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("searchPage").directive("swtFilterPanel",function(){return{controller:"FilterPanelController",controllerAs:"filter",templateUrl:"filterPanel.html"}});n.default=i},{angular:87}],167:[function(e,t,n){"use strict";e("./filterPanelDirective"),e("./FilterPanelController")},{"./FilterPanelController":165,"./filterPanelDirective":166}],168:[function(e,t,n){"use strict";e("./searchResults"),e("./filterPanel"),e("./searchPageDirective"),e("./searchPageController")},{"./filterPanel":167,"./searchPageController":169,"./searchPageDirective":170,"./searchResults":172}],169:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("searchPage").controller("SearchPageController",["$translate",function(e){}]);n.default=i},{angular:87}],170:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("searchPage").directive("swtSearchPage",function(){return{templateUrl:"searchPage.html",restrict:"E",controller:"SearchPageController",controllerAs:"searchPageCtrl"}});n.default=i},{angular:87}],171:[function(e,t,n){"use strict";var r;function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("core-js/modules/es7.symbol.async-iterator"),e("core-js/modules/es6.symbol"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.math.trunc");var o=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("searchPage").controller("SearchResultsController",["$state","documentService",function(e,t){var n=this,r=e.params.query;this.results=[];t.searchDocuments(r).then(function(e){n.paginatedDocuments=e.reduce(function(e,t,n){var r=Math.trunc(n/8);return e[r]||e.push([]),e[r].push(t),e},[]);var t=i(n.paginatedDocuments,1);n.results=t[0],n.changePage=function(e){n.results=n.paginatedDocuments[e]}})}]);n.default=o},{angular:87,"core-js/modules/es6.math.trunc":145,"core-js/modules/es6.symbol":147,"core-js/modules/es7.symbol.async-iterator":148,"core-js/modules/web.dom.iterable":149}],172:[function(e,t,n){"use strict";e("./searchResultsDirective"),e("./SearchResultsController")},{"./SearchResultsController":171,"./searchResultsDirective":173}],173:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("searchPage").directive("swtSearchResults",function(){return{controller:"SearchResultsController",controllerAs:"search",templateUrl:"searchResults.html"}});n.default=i},{angular:87}],174:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("shared").directive("swtDocument",function(){return{restrict:"E",templateUrl:"document.html",scope:{showHeadline:"@headline",document:"<"}}});n.default=i},{angular:87}],175:[function(e,t,n){"use strict";e("./documentDirective")},{"./documentDirective":174}],176:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("shared");i.controller("FooterController",function(){this.text="2019"});var o=i;n.default=o},{angular:87}],177:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("shared").directive("swtFooter",function(){return{restrict:"E",templateUrl:"footer.html"}});n.default=i},{angular:87}],178:[function(e,t,n){"use strict";e("./footer.controller"),e("./footer.directive")},{"./footer.controller":176,"./footer.directive":177}],179:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("shared").controller("HamburgerMenuController",function(){var e=this;this.isActive=!1,this.toggleMenu=function(){e.isActive=!e.isActive},this.navList=[{text:"Home",state:"home"}]});n.default=i},{angular:87}],180:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("shared").directive("swtHamburgerMenu",function(){return{restrict:"E",templateUrl:"hamburgerMenu.html",controller:"HamburgerMenuController",controllerAs:"hamburger",link:function(e,t){function n(){e.hamburger.isActive&&(e.hamburger.toggleMenu(),e.$digest())}function r(e){e.stopPropagation()}document.addEventListener("click",n),t.on("click",r),e.$on("$destroy",function(){document.removeEventListener("click",n),t.off("click",r)})}}});n.default=i},{angular:87}],181:[function(e,t,n){"use strict";e("./hamburgerMenuDirective"),e("./HamburgerMenuController")},{"./HamburgerMenuController":179,"./hamburgerMenuDirective":180}],182:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("shared");i.controller("HeaderController",function(){var e=this;this.menuActive=!1,this.toggleMenu=function(){e.menuActive=!e.menuActive}});var o=i;n.default=o},{angular:87}],183:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("shared").directive("swtHeader",function(){return{restrict:"E",templateUrl:"header.html",controller:"HeaderController",controllerAs:"header"}});n.default=i},{angular:87}],184:[function(e,t,n){"use strict";e("./header.controller"),e("./header.directive"),e("./hamburgerMenu")},{"./hamburgerMenu":181,"./header.controller":182,"./header.directive":183}],185:[function(e,t,n){"use strict";e("./document"),e("./services"),e("./header"),e("./footer"),e("./searchbar")},{"./document":175,"./footer":178,"./header":184,"./searchbar":186,"./services":191}],186:[function(e,t,n){"use strict";e("./searchbarController"),e("./searchbarDirective")},{"./searchbarController":187,"./searchbarDirective":188}],187:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("shared");i.controller("SearchbarController",["$state",function(t){var n=this;this.input=t.params.query||"",this.submitForm=function(e){e.preventDefault(),t.go("search",{query:n.input})}}]);var o=i;n.default=o},{angular:87}],188:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("shared").directive("swtSearchbar",function(){return{restrict:"E",templateUrl:"searchbar.html",controller:"SearchbarController",controllerAs:"searchbar"}});n.default=i},{angular:87}],189:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("angular"))&&r.__esModule?r:{default:r},o=e("../../assets/documents");var a=i.default.module("shared").service("documentService",["$q",function(t){return{documents:[],getDocuments:function(){return t.resolve(o.mockDocuments)},searchDocuments:function(e){return t.resolve(o.mockDocuments)}}}]);n.default=a},{"../../assets/documents":154,angular:87}],190:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("core-js/modules/es6.array.iterator"),e("core-js/modules/es6.object.keys"),e("core-js/modules/web.dom.iterable");var r,i=(r=e("angular"))&&r.__esModule?r:{default:r},o=e("../../assets/documents");var a=i.default.module("searchPage");a.service("filterPanelService",function(){return{getFilteredArticles:function(){var t=[],n={};return o.mockDocuments.forEach(function(e){var t=e.category;n[t]?n[t].push(e.value):n[t]=[e.value]}),Object.keys(n).forEach(function(e){t.push({filteredCategoryName:e,filteredGroup:n[e]})}),t}}});var s=a;n.default=s},{"../../assets/documents":154,angular:87,"core-js/modules/es6.array.iterator":144,"core-js/modules/es6.object.keys":146,"core-js/modules/web.dom.iterable":149}],191:[function(e,t,n){"use strict";e("./documentService"),e("./filterPanelService")},{"./documentService":189,"./filterPanelService":190}],192:[function(e,t,n){"use strict";e("./translateConfig"),e("./translateController"),e("./translateDirective")},{"./translateConfig":193,"./translateController":194,"./translateDirective":195}],193:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=s(e("angular")),i=s(e("../assets/data/de.json")),o=s(e("../assets/data/en.json")),a=s(e("../assets/data/es.json"));function s(e){return e&&e.__esModule?e:{default:e}}var u=r.default.module("translate").config(["$translateProvider",function(e){e.translations("en",o.default),e.translations("de",i.default),e.translations("es",a.default),e.useCookieStorage(),e.useLocalStorage(),e.preferredLanguage("en"),e.registerAvailableLanguageKeys(["en","de","es"],{"en-*":"en","de-*":"de","es-*":"es"}),e.useStaticFilesLoader({prefix:"data/",suffix:".json"}),e.useSanitizeValueStrategy("sanitize")}]);n.default=u},{"../assets/data/de.json":151,"../assets/data/en.json":152,"../assets/data/es.json":153,angular:87}],194:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("translate").controller("TranslateController",["$translate",function(t){var n=this;this.selectedLanguage=t.use(),this.changeLanguage=function(e){t.use(e),n.selectedLanguage=e}}]);n.default=i},{angular:87}],195:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=((r=e("angular"))&&r.__esModule?r:{default:r}).default.module("translate").directive("swtTranslate",function(){return{templateUrl:"translate.html",restrict:"E",controller:"TranslateController",controllerAs:"translateCtrl"}});n.default=i},{angular:87}]},{},[77,164,1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uYnVuZGxlLmpzIl0sIm5hbWVzIjpbInIiLCJlIiwibiIsInQiLCJvIiwiaSIsImYiLCJjIiwicmVxdWlyZSIsInUiLCJhIiwiRXJyb3IiLCJjb2RlIiwicCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsIm9iaiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJfX2VzTW9kdWxlIiwicnVuIiwiJHRlbXBsYXRlQ2FjaGUiLCJwdXQiLCJhbmd1bGFyIiwiMiIsImdsb2JhbCIsImZhY3RvcnkiLCJ0aGlzIiwibmdfZnJvbV9pbXBvcnQiLCJjb3JlIiwibmdfZnJvbV9nbG9iYWwiLCJuZyIsImdldE5nMVZpZXdDb25maWdGYWN0b3J5IiwidGVtcGxhdGVGYWN0b3J5IiwicGF0aCIsInZpZXciLCJzZXJ2aWNlcyIsIiRpbmplY3RvciIsImdldCIsIk5nMVZpZXdDb25maWciLCJoYXNBbnlLZXkiLCJrZXlzIiwicmVkdWNlIiwiYWNjIiwia2V5IiwiaXNEZWZpbmVkIiwibmcxVmlld3NCdWlsZGVyIiwic3RhdGUiLCJwYXJlbnQiLCJjb21wS2V5cyIsIm5vbkNvbXBLZXlzIiwiY29uY2F0IiwiYWxsVmlld0tleXMiLCJ2aWV3cyIsIm5hbWUiLCJmaWx0ZXIiLCJqb2luIiwidmlld3NPYmplY3QiLCIkZGVmYXVsdCIsInBpY2siLCJmb3JFYWNoIiwiY29uZmlnIiwiaXNTdHJpbmciLCJjb21wb25lbnQiLCJleHRlbmQiLCJyZXNvbHZlQXMiLCIkdHlwZSIsIiRjb250ZXh0IiwiJG5hbWUiLCJub3JtYWxpemVkIiwiVmlld1NlcnZpY2UiLCJub3JtYWxpemVVSVZpZXdUYXJnZXQiLCIkdWlWaWV3TmFtZSIsInVpVmlld05hbWUiLCIkdWlWaWV3Q29udGV4dEFuY2hvciIsInVpVmlld0NvbnRleHRBbmNob3IiLCJpZCIsInZpZXdEZWNsIiwiX3RoaXMiLCIkaWQiLCJsb2FkZWQiLCJnZXRUZW1wbGF0ZSIsInVpVmlldyIsImNvbnRleHQiLCJtYWtlQ29tcG9uZW50VGVtcGxhdGUiLCJiaW5kaW5ncyIsInRlbXBsYXRlIiwicHJvdG90eXBlIiwibG9hZCIsIiRxIiwiUmVzb2x2ZUNvbnRleHQiLCJwYXJhbXMiLCJub2RlIiwicGFyYW1WYWx1ZXMiLCJwcm9taXNlcyIsIndoZW4iLCJmcm9tQ29uZmlnIiwiY29udHJvbGxlciIsImdldENvbnRyb2xsZXIiLCJhbGwiLCJ0aGVuIiwicmVzdWx0cyIsInRyYWNlIiwidHJhY2VWaWV3U2VydmljZUV2ZW50IiwicHJvdmlkZXIiLCJjb250cm9sbGVyUHJvdmlkZXIiLCJpc0luamVjdGFibGUiLCJkZXBzIiwiYW5ub3RhdGUiLCJwcm92aWRlckZuIiwiaXNBcnJheSIsInRhaWwiLCJSZXNvbHZhYmxlIiwiVGVtcGxhdGVGYWN0b3J5IiwiX3VzZUh0dHAiLCJ2ZXJzaW9uIiwibWlub3IiLCIkZ2V0IiwiJGh0dHAiLCIkdGVtcGxhdGVSZXF1ZXN0IiwiaGFzIiwidXNlSHR0cFNlcnZpY2UiLCJhc1RlbXBsYXRlIiwicmVzdWx0Iiwic3RyIiwiYXNDb21wb25lbnQiLCJmcm9tU3RyaW5nIiwidGVtcGxhdGVVcmwiLCJmcm9tVXJsIiwidGVtcGxhdGVQcm92aWRlciIsImZyb21Qcm92aWRlciIsImNvbXBvbmVudFByb3ZpZGVyIiwiZnJvbUNvbXBvbmVudFByb3ZpZGVyIiwiaXNGdW5jdGlvbiIsInVybCIsImNhY2hlIiwiaGVhZGVycyIsIkFjY2VwdCIsInJlc3BvbnNlIiwiZGF0YSIsInByZWZpeCIsImtlYm9iIiwiY2FtZWxDYXNlIiwia2Vib2JlZCIsImtlYm9iU3RyaW5nIiwiZXhlYyIsImF0dHJzIiwiY21wRGVmcyIsIm1hcCIsImdldEJpbmRpbmdzIiwidW5uZXN0UiIsImdldENvbXBvbmVudEJpbmRpbmdzIiwiaW5wdXQiLCJ0eXBlIiwiYXR0ck5hbWUiLCJhdHRyIiwicmVzb2x2ZU5hbWUiLCJyZXMiLCJnZXRSZXNvbHZhYmxlIiwiZm4iLCJhcmdzIiwia2Vib2JOYW1lIiwiZGVmIiwiaXNPYmplY3QiLCJiaW5kVG9Db250cm9sbGVyIiwic2NvcGVCaW5kaW5ncyIsInNjb3BlIiwiYmluZGluZ3NPYmoiLCJ0dXBsZSIsIlN0YXRlUHJvdmlkZXIiLCJzdGF0ZVJlZ2lzdHJ5Iiwic3RhdGVTZXJ2aWNlIiwiY3JlYXRlUHJveHlGdW5jdGlvbnMiLCJ2YWwiLCJkZWNvcmF0b3IiLCJmdW5jIiwiZGVmaW5pdGlvbiIsInJlZ2lzdGVyIiwib25JbnZhbGlkIiwiY2FsbGJhY2siLCJnZXRTdGF0ZUhvb2tCdWlsZGVyIiwiaG9va05hbWUiLCJzdGF0ZU9iamVjdCIsInBhcmVudEZuIiwiaG9vayIsInBhdGhuYW1lIiwidHJhbnMiLCJzdWJDb250ZXh0IiwidHJlZUNoYW5nZXMiLCIkJHN0YXRlIiwibG9jYWxzIiwiZ2V0TG9jYWxzIiwiJHN0YXRlJCIsIiR0cmFuc2l0aW9uJCIsImludm9rZSIsInVuZGVmaW5lZCIsIk5nMUxvY2F0aW9uU2VydmljZXMiLCIkbG9jYXRpb25Qcm92aWRlciIsIl91cmxMaXN0ZW5lcnMiLCJfbHAiLCJtb25rZXlQYXRjaFBhdGhQYXJhbWV0ZXJUeXBlIiwicm91dGVyIiwicGF0aFR5cGUiLCJ1cmxNYXRjaGVyRmFjdG9yeSIsImVuY29kZSIsIngiLCJ0b1N0cmluZyIsInJlcGxhY2UiLCJtIiwifiIsIi8iLCJkZWNvZGUiLCJ+fiIsIn4yRiIsImRpc3Bvc2UiLCJvbkNoYW5nZSIsInB1c2giLCJyZW1vdmVGcm9tIiwiaHRtbDVNb2RlIiwiZW5hYmxlZCIsIiRzbmlmZmVyIiwiaGlzdG9yeSIsImJhc2VIcmVmIiwiX2Jhc2VIcmVmIiwiJGJyb3dzZXIiLCIkd2luZG93IiwibG9jYXRpb24iLCJuZXdVcmwiLCIkbG9jYXRpb24iLCJfcnVudGltZVNlcnZpY2VzIiwiJHJvb3RTY29wZSIsIiRvbiIsImV2dCIsIl9sb2MiLCJVcmxSb3V0ZXJQcm92aWRlciIsImluamVjdGFibGVIYW5kbGVyIiwiaGFuZGxlciIsIm1hdGNoIiwiJG1hdGNoIiwiJHN0YXRlUGFyYW1zIiwiZ2xvYmFscyIsInVybFNlcnZpY2UiLCJ1cmxSb3V0ZXIiLCJ1cGRhdGUiLCJpbnRlcmNlcHREZWZlcnJlZCIsImxpc3RlbiIsInJ1bGUiLCJydWxlRm4iLCJCYXNlVXJsUnVsZSIsImxvY2F0aW9uU2VydmljZSIsImlkZW50aXR5IiwicnVsZXMiLCJvdGhlcndpc2UiLCJ1cmxSdWxlcyIsIndoYXQiLCJkZWZlckludGVyY2VwdCIsImRlZmVyIiwibW9kX2luaXQiLCJtb2RfdXRpbCIsIm1vZF9ydHIiLCJtb2Rfc3RhdGUiLCJtb2RfbWFpbiIsIiR1aVJvdXRlclByb3ZpZGVyIiwiVUlSb3V0ZXIiLCJzdGF0ZVByb3ZpZGVyIiwidmlld1NlcnZpY2UiLCJfcGx1Z2luYXBpIiwiX3ZpZXdDb25maWdGYWN0b3J5IiwibmcxTG9jYXRpb25TZXJ2aWNlIiwibG9jYXRpb25Db25maWciLCIkaW5qZWN0IiwiZ2V0UHJvdmlkZXJGb3IiLCJzZXJ2aWNlTmFtZSIsIiR1cnAiLCJzZXJ2aWNlIiwicnVuQmxvY2siLCIkdWlSb3V0ZXIiLCJoYXNPd25Qcm9wZXJ0eSIsImNoZWNrU3RyaWN0RGkiLCJlcnJvciIsInN0cmljdERpIiwicmVzb2x2YWJsZXMiLCJyZXNvbHZhYmxlIiwicmVzb2x2ZUZuIiwid2F0Y2hEaWdlc3RzIiwiJHdhdGNoIiwiYXBwcm94aW1hdGVEaWdlc3RzIiwidWlSb3V0ZXIiLCJ1cmxSb3V0ZXJQcm92aWRlciIsIiR1cmxNYXRjaGVyRmFjdG9yeSIsIiRzdGF0ZSIsIiR1cmxSb3V0ZXIiLCJ1aVNyZWZEaXJlY3RpdmUiLCJ1aVN0YXRlRGlyZWN0aXZlIiwidWlTcmVmQWN0aXZlRGlyZWN0aXZlIiwiY3R4IiwiZ2V0VG9rZW5zIiwiZ2V0UG9saWN5IiwiYXN5bmMiLCJwcm9taXNlIiwiYXBwbHlQYWlycyIsInBhcnNlU3RhdGVSZWYiLCJyZWYiLCJwYXJzZWQiLCJwYXJhbXNPbmx5IiwicGFyYW1FeHByIiwic3RhdGVDb250ZXh0IiwiZWwiLCIkdWlWaWV3IiwiaW5oZXJpdGVkRGF0YSIsInBhcnNlIiwicHJvY2Vzc2VkRGVmIiwiJGVsZW1lbnQiLCJ1aVN0YXRlIiwiY3VycmVudCIsInVpU3RhdGVPcHRzIiwicmVsYXRpdmUiLCIkY3VycmVudCIsImluaGVyaXQiLCJzb3VyY2UiLCJocmVmIiwidWlTdGF0ZVBhcmFtcyIsImdldFR5cGVJbmZvIiwiaXNTdmciLCJwcm9wIiwiaXNGb3JtIiwibm9kZU5hbWUiLCJpc0FuY2hvciIsInRvVXBwZXJDYXNlIiwiY2xpY2thYmxlIiwiY2xpY2tIb29rIiwiJHRpbWVvdXQiLCJnZXREZWYiLCJidXR0b24iLCJ3aGljaCIsInRhcmdldCIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic2hpZnRLZXkiLCJ0cmFuc2l0aW9uXzEiLCJnbyIsInByZXZlbnREZWZhdWx0IiwiaWdub3JlUHJldmVudERlZmF1bHRDb3VudF8xIiwiY2FuY2VsIiwiYmluZEV2ZW50cyIsImVsZW1lbnQiLCJob29rRm4iLCJldmVudHMiLCJvbiIsIl9pIiwiZXZlbnRzXzEiLCJldmVudF8xIiwib2ZmIiwiZXZlbnRzXzIiLCJldmVudF8yIiwiJElzU3RhdGVGaWx0ZXIiLCJpc0ZpbHRlciIsIm9wdGlvbnMiLCJpcyIsIiRzdGF0ZWZ1bCIsIiRJbmNsdWRlZEJ5U3RhdGVGaWx0ZXIiLCJpbmNsdWRlc0ZpbHRlciIsImluY2x1ZGVzIiwiJFZpZXdEaXJlY3RpdmVGaWxsIiwiJGNvbXBpbGUiLCIkY29udHJvbGxlciIsIiR0cmFuc2l0aW9ucyIsIiR2aWV3IiwiZ2V0Q29udHJvbGxlckFzIiwiZ2V0UmVzb2x2ZUFzIiwicmVzdHJpY3QiLCJwcmlvcml0eSIsImNvbXBpbGUiLCJ0RWxlbWVudCIsImluaXRpYWwiLCJodG1sIiwiZW1wdHkiLCJjb250ZW50cyIsImNmZyIsIiRjZmciLCJub29wIiwicmVzb2x2ZUN0eCIsInRyYWNlVUlWaWV3RmlsbCIsImxpbmsiLCJjb250cm9sbGVyQXMiLCJjb250cm9sbGVySW5zdGFuY2UiLCIkc2NvcGUiLCJjaGlsZHJlbiIsInJlZ2lzdGVyQ29udHJvbGxlckNhbGxiYWNrcyIsInRhZ1JlZ2V4cF8xIiwiUmVnRXhwIiwiZGVyZWdpc3RlcldhdGNoXzEiLCJkaXJlY3RpdmVFbCIsInNsaWNlIiwidGFnTmFtZSIsImN0cmxJbnN0YW5jZSIsInVpU3JlZkFjdGl2ZSIsImFjdGl2ZSIsInVubGlua0luZm9GbiIsInJhd0RlZiIsInVpU3JlZiIsIiQkYWRkU3RhdGVJbmZvIiwiJHNldCIsInVpU3JlZk9wdHMiLCIkZXZhbCIsIm9uU3RhdGVzQ2hhbmdlZCIsInRyYW5zaXRpb25TZXJ2aWNlIiwib25TdWNjZXNzIiwiaW5wdXRBdHRycyIsIndhdGNoRGVyZWdGbnMiLCJmaWVsZCIsIiRvYnNlcnZlIiwiZXhwciIsIm5ld3ZhbCIsIiRpbnRlcnBvbGF0ZSIsIiRhdHRycyIsImFjdGl2ZUVxQ2xhc3MiLCJkZXJlZ2lzdGVyU3RhdGVzQ2hhbmdlZExpc3RlbmVyIiwiZGVyZWdpc3Rlck9uU3RhcnRMaXN0ZW5lciIsImRlcmVnaXN0ZXJTdGF0ZUNoYW5nZVN1Y2Nlc3NMaXN0ZW5lciIsInN0YXRlcyIsInVpU3JlZkFjdGl2ZUVxIiwidXBkYXRlQWZ0ZXJUcmFuc2l0aW9uIiwiaGFuZGxlU3RhdGVzQ2hhbmdlZCIsInNldFN0YXRlc0Zyb21EZWZpbml0aW9uT2JqZWN0Iiwic3RhdGVzRGVmaW5pdGlvbiIsInN0YXRlT3JOYW1lIiwiYWN0aXZlQ2xhc3MiLCJhZGRTdGF0ZUZvckNsYXNzIiwiYWRkU3RhdGUiLCJzdGF0ZU5hbWUiLCJzdGF0ZVBhcmFtcyIsInN0YXRlSW5mbyIsInNwbGl0Q2xhc3NlcyIsInNwbGl0IiwiZ2V0Q2xhc3NlcyIsInN0YXRlTGlzdCIsImFsbENsYXNzZXMiLCJ1bmlxUiIsImZ1enp5Q2xhc3NlcyIsImV4YWN0Q2xhc3NlcyIsImFkZENsYXNzZXMiLCJyZW1vdmVDbGFzc2VzIiwiY2xzIiwiaW5BcnJheSIsIiRldmFsQXN5bmMiLCJjbGFzc05hbWUiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwibmV3U3RhdGUiLCJuZXdQYXJhbXMiLCJkZXJlZ2lzdGVyIiwib25TdGFydCIsInRyYW5zaXRpb24iLCJkaXJlY3RpdmUiLCIkYW5pbWF0ZSIsIiR1aVZpZXdTY3JvbGwiLCJyb290RGF0YSIsIl9yb290Vmlld0NvbnRleHQiLCJjb3VudCIsInRlcm1pbmFsIiwidHJhbnNjbHVkZSIsInRBdHRycyIsIiR0cmFuc2NsdWRlIiwicHJldmlvdXNFbCIsImN1cnJlbnRFbCIsImN1cnJlbnRTY29wZSIsInZpZXdDb25maWciLCJ1bnJlZ2lzdGVyIiwib25sb2FkRXhwIiwiYXV0b1Njcm9sbEV4cCIsInJlbmRlcmVyIiwiZW50ZXIiLCJjYiIsImxlYXZlIiwiaW5oZXJpdGVkIiwiYWN0aXZlVUlWaWV3IiwiZnFuIiwiY29uZmlnVXBkYXRlZCIsImNvbmZpZzEiLCJjb25maWcyIiwidHJhY2VVSVZpZXdDb25maWdVcGRhdGVkIiwidXBkYXRlVmlldyIsImNyZWF0aW9uQ29udGV4dCIsImZyb21QYXJlbnRUYWdDb25maWciLCJmcm9tUGFyZW50VGFnIiwibmV3U2NvcGUiLCIkbmV3IiwiYW5pbUVudGVyIiwiYW5pbUxlYXZlIiwiJHVpVmlld0RhdGEiLCIkdWlWaWV3QW5pbSIsIiRhbmltRW50ZXIiLCIkYW5pbUxlYXZlIiwiJCRhbmltTGVhdmUiLCIkZW1pdCIsImNsb25lIiwicmVzb2x2ZSIsInRyYWNlVUlWaWV3RXZlbnQiLCJyZW1vdmUiLCIkZGVzdHJveSIsIl92aWV3RGF0YV8xIiwiY2xlYW51cExhc3RWaWV3IiwicmVnaXN0ZXJVSVZpZXciLCJoYXNDb21wb25lbnRJbXBsIiwiX3VpQ2FuRXhpdElkIiwiJG9uSW5pdCIsInZpZXdTdGF0ZSIsInNlbGYiLCJob29rT3B0aW9ucyIsImJpbmQiLCJ1aU9uUGFyYW1zQ2hhbmdlZCIsInZpZXdDcmVhdGlvblRyYW5zXzEiLCJleGl0aW5nIiwiaW5kZXhPZiIsInRvUGFyYW1zIiwiZnJvbVBhcmFtcyIsImdldE5vZGVTY2hlbWEiLCJwYXJhbVNjaGVtYSIsInRvU2NoZW1hIiwiZnJvbVNjaGVtYSIsImNoYW5nZWRUb1BhcmFtcyIsInBhcmFtIiwiaWR4IiwiZXF1YWxzIiwiY2hhbmdlZEtleXNfMSIsIm5ld1ZhbHVlcyIsInVpQ2FuRXhpdCIsImlkXzEiLCJjYWNoZVByb3BfMSIsInByZXZUcnV0aHlBbnN3ZXJfMSIsInJlZGlyZWN0ZWRGcm9tIiwiY3JpdGVyaWEiLCJvbkJlZm9yZSIsImlkcyIsInVzZUFuY2hvclNjcm9sbCIsIiRhbmNob3JTY3JvbGwiLCJzY3JvbGxJbnRvVmlldyIsImRlZmluZSIsImFtZCIsIkB1aXJvdXRlci9jb3JlIiwiMyIsInByZWRpY2F0ZXNfMSIsImhvZl8xIiwiY29yZXNlcnZpY2VzXzEiLCJyb290IiwiX2luQXJyYXkiLCJhcnJheSIsIl9yZW1vdmVGcm9tIiwic3BsaWNlIiwiX3B1c2hUbyIsImFyciIsInByb3BOYW1lcyIsIm9iakNvcHkiLCJfcHJvcCIsImNvbGxlY3Rpb24iLCJpdGVtIiwicHVzaFIiLCJhc3NlcnRGbiIsInByZWRpY2F0ZU9yTWFwIiwiZXJyTXNnIiwiYXJyYXlUdXBsZXMiLCJhcmd1bWVudHMiLCJtYXhBcnJheUxlbiIsIm1pbiIsIk1hdGgiLCJfbG9vcF8xIiwiX2V4dGVuZCIsInRvT2JqIiwiaiIsIl9lcXVhbHMiLCJvMSIsIm8yIiwidDEiLCJhMSIsImEyIiwidHVwIiwiYiIsImlzRGF0ZSIsImdldFRpbWUiLCJpc1JlZ0V4cCIsImFueSIsImZyb21Kc29uIiwiSlNPTiIsInRvSnNvbiIsInN0cmluZ2lmeSIsImFzc2lnbiIsImZuTmFtZXMiLCJsYXRlYmluZCIsImJpbmRGdW5jdGlvbiIsImZuTmFtZSIsImFwcGx5IiwiZXh0cmEiLCJjcmVhdGUiLCJjdXJyeSIsInB1c2hUbyIsImRlcmVnQWxsIiwiZnVuY3Rpb25zIiwiZGVmYXVsdHMiLCJvcHRzIiwiZGVmYXVsdHNMaXN0IiwiZGVmYXVsdFZhbHMiLCJyZXZlcnNlIiwibWVyZ2VSIiwibWVtbyIsImFuY2VzdG9ycyIsImZpcnN0Iiwic2Vjb25kIiwib21pdCIsIm5vdCIsInBsdWNrIiwicHJvcE5hbWUiLCJhY2NlcHQiLCJmaW5kIiwibWFwT2JqIiwidmFsdWVzIiwiYWxsVHJ1ZVIiLCJlbGVtIiwiYW55VHJ1ZVIiLCJmbGF0dGVuUiIsInRva2VuIiwidW5uZXN0IiwiZmxhdHRlbiIsImFzc2VydFByZWRpY2F0ZSIsImFzc2VydE1hcCIsInBhaXJzIiwia2V5VmFsVHVwbGUiLCJjb3B5Iiwic3JjIiwiZGVzdCIsInNpbGVuY2VVbmNhdWdodEluUHJvbWlzZSIsImNhdGNoIiwic2lsZW50UmVqZWN0aW9uIiwicmVqZWN0Iiwid2luZG93IiwiLi9jb3Jlc2VydmljZXMiLCIuL2hvZiIsIi4vcHJlZGljYXRlcyIsIjQiLCJtYWtlU3R1YiIsIm1ldGhvZHMiLCJmbm5hbWUiLCI1IiwiR2xvYiIsInRleHQiLCJnbG9iIiwicmVnZXhwU3RyaW5nIiwic2VnIiwicmVnZXhwIiwibWF0Y2hlcyIsInRlc3QiLCI2IiwiaW5pdGlhbF9hcmdzIiwiZnVuY19hcmdzX2xlbmd0aCIsImN1cnJpZWQiLCJjb21wb3NlIiwic3RhcnQiLCJwaXBlIiwiZnVuY3MiLCJwcm9wRXEiLCJfdmFsIiwiYW5kIiwiZm4xIiwiZm4yIiwib3IiLCJjdG9yIiwiY29uc3RydWN0b3IiLCJlcSIsIm90aGVyIiwidiIsInBhdHRlcm4iLCJzdHJ1Y3QiLCI3IiwiX19leHBvcnQiLCIuL2NvbW1vbiIsIi4vZ2xvYiIsIi4vcXVldWUiLCIuL3N0cmluZ3MiLCIuL3RyYWNlIiwiOCIsInRvU3RyIiwidGlzIiwiaXNVbmRlZmluZWQiLCJpc051bGwiLCJpc051bGxPclVuZGVmaW5lZCIsImlzTnVtYmVyIiwiQXJyYXkiLCJoZWFkIiwiaXNQcm9taXNlIiwiOSIsImNvbW1vbl8xIiwiUXVldWUiLCJfaXRlbXMiLCJfbGltaXQiLCJfZXZpY3RMaXN0ZW5lcnMiLCJvbkV2aWN0IiwiZW5xdWV1ZSIsIml0ZW1zIiwiZXZpY3QiLCJzaGlmdCIsImRlcXVldWUiLCJzaXplIiwiY2xlYXIiLCJwZWVrVGFpbCIsInBlZWtIZWFkIiwiMTAiLCJyZWplY3RGYWN0b3J5XzEiLCJmdW5jdGlvblRvU3RyaW5nIiwiZm5TdHIiLCJmblRvU3RyaW5nIiwibmFtZWRGdW5jdGlvbk1hdGNoIiwic3Vic3RyIiwiX2ZuIiwibWF4TGVuZ3RoIiwibWF4IiwicGFkU3RyaW5nIiwiJDEiLCJ0b0xvd2VyQ2FzZSIsImlzUmVqZWN0aW9uIiwiUmVqZWN0aW9uIiwiaXNSZWplY3Rpb25Qcm9taXNlIiwic3RyaW5naWZ5UGF0dGVybiIsIl90cmFuc2l0aW9uUmVqZWN0aW9uIiwic2VlbiIsImZvcm1hdCIsImJlZm9yZUFmdGVyU3Vic3RyIiwiY2hhciIsImhvc3RSZWdleCIsInN0cmlwTGFzdFBhdGhFbGVtZW50Iiwic3BsaXRIYXNoIiwic3BsaXRRdWVyeSIsInNwbGl0RXF1YWwiLCJ0cmltSGFzaFZhbCIsInNwbGl0T25EZWxpbSIsImRlbGltIiwicmUiLCJqb2luTmVpZ2hib3JzUiIsIi4uL3RyYW5zaXRpb24vcmVqZWN0RmFjdG9yeSIsIjExIiwic3RyaW5nc18xIiwidWlWaWV3U3RyaW5nIiwidWl2aWV3Iiwibm9ybWFsaXplZENhdCIsIkNhdGVnb3J5IiwiY29uc29sZUxvZyIsIkZ1bmN0aW9uIiwiY29uc29sZSIsImxvZyIsImNvbnNvbGV0YWJsZSIsInRhYmxlIiwiX3RpZCIsIl9yaWQiLCJ0cmFuc0xibCIsIlRyYWNlIiwiX2VuYWJsZWQiLCJfc2V0IiwiY2F0ZWdvcmllcyIsImsiLCJwYXJzZUludCIsImlzTmFOIiwiY2F0ZWdvcnkiLCJlbmFibGUiLCJkaXNhYmxlIiwidHJhY2VUcmFuc2l0aW9uU3RhcnQiLCJUUkFOU0lUSU9OIiwidHJhY2VUcmFuc2l0aW9uSWdub3JlZCIsInRyYWNlSG9va0ludm9jYXRpb24iLCJzdGVwIiwiSE9PSyIsImV2ZW50IiwicmVnaXN0ZXJlZEhvb2siLCJ0cmFjZUhvb2tSZXN1bHQiLCJob29rUmVzdWx0IiwidHJhbnNpdGlvbk9wdGlvbnMiLCJ0cmFjZVJlc29sdmVQYXRoIiwiUkVTT0xWRSIsInRyYWNlUmVzb2x2YWJsZVJlc29sdmVkIiwidHJhY2VFcnJvciIsInJlYXNvbiIsInRyYWNlU3VjY2VzcyIsImZpbmFsU3RhdGUiLCJ2aWV3RGF0YSIsIlVJVklFVyIsInRyYWNlVmlld1N5bmMiLCJWSUVXQ09ORklHIiwidWl2aGVhZGVyIiwibWFwcGluZyIsIl9hIiwiX2IiLCJ1aXYiLCJzb3J0IiwibG9jYWxlQ29tcGFyZSIsInRyYWNlVmlld1NlcnZpY2VVSVZpZXdFdmVudCIsIi4uL2NvbW1vbi9ob2YiLCIuLi9jb21tb24vcHJlZGljYXRlcyIsIjEyIiwic3RhdGVQYXJhbXNfMSIsInF1ZXVlXzEiLCJVSVJvdXRlckdsb2JhbHMiLCJTdGF0ZVBhcmFtcyIsImxhc3RTdGFydGVkVHJhbnNpdGlvbklkIiwidHJhbnNpdGlvbkhpc3RvcnkiLCJzdWNjZXNzZnVsVHJhbnNpdGlvbnMiLCIuL2NvbW1vbi9xdWV1ZSIsIi4vcGFyYW1zL3N0YXRlUGFyYW1zIiwiMTMiLCJyb3V0ZXJfMSIsInJlc29sdmVfMSIsImFkZENvcmVSZXNvbHZhYmxlcyIsImFkZFJlc29sdmFibGUiLCJmcm9tRGF0YSIsIlRyYW5zaXRpb24iLCJlbnRlcmluZyIsInJlZ2lzdGVyQWRkQ29yZVJlc29sdmFibGVzIiwib25DcmVhdGUiLCJUUkFOU0lUSU9OX1RPS0VOUyIsImlzVHJhbnNpdGlvbiIsInRyZWVDaGFuZ2VzQ2xlYW51cCIsIm5vZGVzIiwicmVwbGFjZVRyYW5zaXRpb25XaXRoTnVsbCIsIi4uL2NvbW1vbiIsIi4uL3Jlc29sdmUiLCIuLi9yb3V0ZXIiLCIuLi90cmFuc2l0aW9uL3RyYW5zaXRpb24iLCIxNCIsInRyYWNlXzEiLCJpZ25vcmVkSG9vayIsImlnbm9yZWRSZWFzb24iLCJfaWdub3JlZFJlYXNvbiIsInBlbmRpbmciLCJhYm9ydCIsImlnbm9yZWQiLCJ0b1Byb21pc2UiLCJyZWdpc3Rlcklnbm9yZWRUcmFuc2l0aW9uSG9vayIsIi4uL2NvbW1vbi90cmFjZSIsIjE1IiwiaW52YWxpZFRyYW5zaXRpb25Ib29rIiwidmFsaWQiLCJyZWdpc3RlckludmFsaWRUcmFuc2l0aW9uSG9vayIsIjE2IiwibGF6eUxvYWRIb29rIiwibGF6eUxvYWQiLCJsYXp5TG9hZFN0YXRlIiwib3JpZ2luYWxUcmFuc2l0aW9uIiwib3JpZyIsInRhcmdldFN0YXRlIiwiaWRlbnRpZmllciIsIiR1cmwiLCJwYXJ0cyIsInN5bmMiLCJsYXp5TG9hZEZuIiwiX3N0YXRlIiwiZXJyIiwicmVnaXN0ZXJMYXp5TG9hZEhvb2siLCIuLi9jb21tb24vY29yZXNlcnZpY2VzIiwiMTciLCJtYWtlRW50ZXJFeGl0UmV0YWluSG9vayIsIm9uRXhpdEhvb2siLCJyZWdpc3Rlck9uRXhpdEhvb2siLCJvbkV4aXQiLCJvblJldGFpbkhvb2siLCJyZWdpc3Rlck9uUmV0YWluSG9vayIsIm9uUmV0YWluIiwicmV0YWluZWQiLCJvbkVudGVySG9vayIsInJlZ2lzdGVyT25FbnRlckhvb2siLCJvbkVudGVyIiwiMTgiLCJ0YXJnZXRTdGF0ZV8xIiwicmVkaXJlY3RUb0hvb2siLCJyZWRpcmVjdCIsInRvIiwicmVkaXJlY3RUbyIsImhhbmRsZVJlc3VsdCIsIlRhcmdldFN0YXRlIiwicmVnaXN0ZXJSZWRpcmVjdFRvSG9vayIsIi4uL3N0YXRlL3RhcmdldFN0YXRlIiwiMTkiLCJyZXNvbHZlQ29udGV4dF8xIiwiUkVTT0xWRV9IT09LX1BSSU9SSVRZIiwiZWFnZXJSZXNvbHZlUGF0aCIsInJlc29sdmVQYXRoIiwicmVnaXN0ZXJFYWdlclJlc29sdmVQYXRoIiwibGF6eVJlc29sdmVTdGF0ZSIsInJlZ2lzdGVyTGF6eVJlc29sdmVTdGF0ZSIsInJlc29sdmVSZW1haW5pbmciLCJyZWdpc3RlclJlc29sdmVSZW1haW5pbmciLCJvbkZpbmlzaCIsIi4uL2NvbW1vbi9jb21tb24iLCIuLi9yZXNvbHZlL3Jlc29sdmVDb250ZXh0IiwiMjAiLCJ1cGRhdGVHbG9iYWxTdGF0ZSIsImNsZWFyQ3VycmVudFRyYW5zaXRpb24iLCIkdG8iLCJyZWdpc3RlclVwZGF0ZUdsb2JhbFN0YXRlIiwiMjEiLCJ1cGRhdGVVcmwiLCJuYXZpZ2FibGUiLCJ1cmxPcHRpb25zIiwicmVnaXN0ZXJVcGRhdGVVcmwiLCIyMiIsImxvYWRFbnRlcmluZ1ZpZXdzIiwiZW50ZXJpbmdWaWV3cyIsInJlZ2lzdGVyTG9hZEVudGVyaW5nVmlld3MiLCJhY3RpdmF0ZVZpZXdzIiwiZXhpdGluZ1ZpZXdzIiwidmMiLCJkZWFjdGl2YXRlVmlld0NvbmZpZyIsImFjdGl2YXRlVmlld0NvbmZpZyIsInJlZ2lzdGVyQWN0aXZhdGVWaWV3cyIsIjIzIiwiLi9jb21tb24vaW5kZXgiLCIuL2dsb2JhbHMiLCIuL2ludGVyZmFjZSIsIi4vcGFyYW1zL2luZGV4IiwiLi9wYXRoL2luZGV4IiwiLi9yZXNvbHZlL2luZGV4IiwiLi9yb3V0ZXIiLCIuL3N0YXRlL2luZGV4IiwiLi90cmFuc2l0aW9uL2luZGV4IiwiLi91cmwvaW5kZXgiLCIuL3ZhbmlsbGEiLCIuL3ZpZXcvaW5kZXgiLCIyNCIsIlVJUm91dGVyUGx1Z2luQmFzZSIsIjI1IiwiLi9wYXJhbSIsIi4vcGFyYW1UeXBlIiwiLi9wYXJhbVR5cGVzIiwiLi9zdGF0ZVBhcmFtcyIsIjI2IiwiRGVmVHlwZSIsInBhcmFtVHlwZV8xIiwiaGFzT3duIiwiaXNTaG9ydGhhbmQiLCJnZXRQYXJhbURlY2xhcmF0aW9uIiwicGFyYW1OYW1lIiwibm9SZWxvYWRPblNlYXJjaCIsInJlbG9hZE9uU2VhcmNoIiwiU0VBUkNIIiwiZHluYW1pYyIsImRlZmF1bHRDb25maWciLCJwYXJhbUNvbmZpZyIsImdldFN0YXRpY0RlZmF1bHRWYWx1ZSIsIiQkZm4iLCJ1bndyYXBTaG9ydGhhbmQiLCJQYXJhbSIsInVybENvbmZpZyIsInVybFR5cGUiLCJwYXJhbVR5cGVzIiwiUGFyYW1UeXBlIiwiQ09ORklHIiwiUEFUSCIsImdldFR5cGUiLCJhcnJheURlZmF1bHRzIiwiYXJyYXlQYXJhbU5vbWVuY2xhdHVyZSIsImFycmF5TW9kZSIsIiRhc0FycmF5IiwiaXNPcHRpb25hbCIsInJhdyIsInNxdWFzaCIsImRlZmF1bHRQb2xpY3kiLCJnZXRTcXVhc2hQb2xpY3kiLCJkZWZhdWx0U3F1YXNoUG9saWN5IiwiZnJvbSIsImNvbmZpZ3VyZWRLZXlzIiwiZ2V0UmVwbGFjZSIsInBhcmFtc18xIiwiY2hhbmdlZCIsInZhbHVlczEiLCJ2YWx1ZXMyIiwidmFsaWRhdGVzIiwiaXNEZWZhdWx0VmFsdWUiLCJyZXBsYWNlU3BlY2lhbFZhbHVlcyIsIl9kZWZhdWx0VmFsdWVDYWNoZSIsImRlZmF1bHRWYWx1ZSIsImdldERlZmF1bHRWYWx1ZSIsIiRub3JtYWxpemUiLCJpc1NlYXJjaCIsImVuY29kZWQiLCIyNyIsIiRzdWJQYXR0ZXJuIiwic3ViIiwibW9kZSIsIkFycmF5VHlwZSIsImFycmF5V3JhcCIsImFycmF5SGFuZGxlciIsImFsbFRydXRoeU1vZGUiLCJhcnJheVVud3JhcCIsImFycmF5RXF1YWxzSGFuZGxlciIsInZhbDEiLCJ2YWwyIiwibGVmdCIsInJpZ2h0IiwicGFyYW1UeXBlRm4iLCJ3cmFwcGVyRm4iLCIkYXJyYXlNb2RlIiwiMjgiLCJtYWtlRGVmYXVsdFR5cGUiLCJQYXJhbVR5cGVzIiwidHlwZVF1ZXVlIiwiZGVmYXVsdFR5cGVzIiwidHlwZXMiLCJkZWZpbml0aW9uRm4iLCJfZmx1c2hUeXBlUXVldWUiLCJ2YWxUb1N0cmluZyIsImRlZmF1bHRUeXBlQmFzZSIsIlN0cmluZyIsInN0cmluZyIsInF1ZXJ5IiwiaGFzaCIsImludCIsImJvb2wiLCJCb29sZWFuIiwiZGF0ZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiY2FwdHVyZSIsIkRhdGUiLCJ2YWx1ZU9mIiwibCIsImpzb24iLCIyOSIsIiRpbmhlcml0IiwicGFyZW50UGFyYW1zIiwicGFyZW50cyIsImluaGVyaXRMaXN0IiwiMzAiLCIuL3BhdGhOb2RlIiwiLi9wYXRoVXRpbHMiLCIzMSIsInBhcmFtXzEiLCJQYXRoTm9kZSIsInN0YXRlT3JOb2RlIiwicGFyYW1ldGVycyIsImFwcGx5UmF3UGFyYW1zIiwicERlZiIsInBhcmFtRGVmIiwicGFyYW1ldGVyIiwicGFyYW1zRm4iLCJkaWZmIiwiLi4vcGFyYW1zL3BhcmFtIiwiMzIiLCJwYXRoTm9kZV8xIiwiUGF0aFV0aWxzIiwibWFrZVRhcmdldFN0YXRlIiwicmVnaXN0cnkiLCJidWlsZFBhdGgiLCJidWlsZFRvUGF0aCIsImZyb21QYXRoIiwidG9QYXRoIiwiaW5oZXJpdFBhcmFtcyIsImFwcGx5Vmlld0NvbmZpZ3MiLCJ2aWV3RGVjbHMiLCJzdWJQYXRoIiwidmlld0NvbmZpZ3MiLCJjcmVhdGVWaWV3Q29uZmlnIiwidG9LZXlzIiwibm9Jbmhlcml0IiwidG9Ob2RlIiwidG9QYXJhbVZhbHMiLCJpbmNvbWluZ1BhcmFtVmFscyIsImZyb21QYXJhbVZhbHMiLCJvd25QYXJhbVZhbHMiLCJyZWxvYWRTdGF0ZSIsIm5vZGUxIiwibm9kZTIiLCJrZWVwIiwibm9uRHluYW1pY1BhcmFtcyIsInJldGFpbmVkV2l0aFRvUGFyYW1zIiwicmV0YWluZWROb2RlIiwiY2xvbmVkIiwibWF0Y2hpbmciLCJwYXRoQSIsInBhdGhCIiwiZG9uZSIsIm5vZGVBIiwibm9kZUIiLCJwcmVkaWNhdGUiLCJlbGVtZW50SWR4IiwiMzMiLCIuL3Jlc29sdmFibGUiLCIuL3Jlc29sdmVDb250ZXh0IiwiMzQiLCJyZXNvbHZlUG9saWNpZXMiLCJMQVpZIiwiRUFHRVIiLCJXQUlUIiwiTk9XQUlUIiwiUlhXQUlUIiwiMzUiLCJwcmVkaWNhdGVzXzIiLCJkZWZhdWx0UmVzb2x2ZVBvbGljeSIsImFyZzEiLCJwb2xpY3kiLCJyZXNvbHZlZCIsImxpdGVyYWwiLCJ0aGlzUG9saWN5Iiwic3RhdGVQb2xpY3kiLCJyZXNvbHZlUG9saWN5IiwicmVzb2x2ZUNvbnRleHQiLCJmaW5kTm9kZSIsIm1heWJlV2FpdEZvclJ4Iiwib2JzZXJ2YWJsZSQiLCJjYWNoZWQiLCJ0YWtlIiwiZ2V0RGVwZW5kZW5jaWVzIiwicmVzb2x2ZWREZXBzIiwicmVzb2x2ZWRWYWx1ZSIsIi4uL2NvbW1vbi9zdHJpbmdzIiwiMzYiLCJpbnRlcmZhY2VfMSIsInJlc29sdmFibGVfMSIsInBhdGhVdGlsc18xIiwiY29tbW9uXzIiLCJ3aGVucyIsIkFMTF9XSEVOUyIsIkVBR0VSX1dIRU5TIiwiTkFUSVZFX0lOSkVDVE9SX1RPS0VOIiwiX3BhdGgiLCJhZGRSZXNvbHZhYmxlcyIsIm5ld1Jlc29sdmFibGVzIiwibWF0Y2hlZFdoZW5zIiwibWF0Y2hlc1BvbGljeSIsImFjY2VwdGVkVmFscyIsIndoZW5PckFzeW5jIiwibm9kZVJlc29sdmFibGVzIiwibm93YWl0Iiwid2FpdCIsImdldFJlc3VsdCIsImluamVjdG9yIiwiX2luamVjdG9yIiwiVUlJbmplY3RvckltcGwiLCJhdmFpbGFibGVSZXNvbHZhYmxlcyIsIl9ub2RlIiwiZnJvbUluamVjdG9yIiwiZ2V0TmF0aXZlIiwibmF0aXZlIiwiZ2V0QXN5bmMiLCIuLi9wYXRoL3BhdGhVdGlscyIsIjM3IiwidXJsTWF0Y2hlckZhY3RvcnlfMSIsInVybFJvdXRlcl8xIiwidHJhbnNpdGlvblNlcnZpY2VfMSIsInZpZXdfMSIsInN0YXRlUmVnaXN0cnlfMSIsInN0YXRlU2VydmljZV8xIiwiZ2xvYmFsc18xIiwidXJsU2VydmljZV8xIiwiX3JvdXRlckluc3RhbmNlIiwibG9jYXRpb25TZXJ2aWNlU3R1YiIsImxvY2F0aW9uQ29uZmlnU3R1YiIsIl9kaXNwb3NlZCIsIl9kaXNwb3NhYmxlcyIsIlRyYW5zaXRpb25TZXJ2aWNlIiwiVXJsTWF0Y2hlckZhY3RvcnkiLCJVcmxSb3V0ZXIiLCJVcmxTZXJ2aWNlIiwiU3RhdGVSZWdpc3RyeSIsIlN0YXRlU2VydmljZSIsIl9wbHVnaW5zIiwiZGlzcG9zYWJsZSIsImQiLCJwbHVnaW4iLCJwbHVnaW5JbnN0YW5jZSIsImdldFBsdWdpbiIsInBsdWdpbk5hbWUiLCIuL2NvbW1vbi9jb21tb24iLCIuL2NvbW1vbi9wcmVkaWNhdGVzIiwiLi9jb21tb24vdHJhY2UiLCIuL3N0YXRlL3N0YXRlUmVnaXN0cnkiLCIuL3N0YXRlL3N0YXRlU2VydmljZSIsIi4vdHJhbnNpdGlvbi90cmFuc2l0aW9uU2VydmljZSIsIi4vdXJsL3VybE1hdGNoZXJGYWN0b3J5IiwiLi91cmwvdXJsUm91dGVyIiwiLi91cmwvdXJsU2VydmljZSIsIi4vdmlldy92aWV3IiwiMzgiLCIuL3N0YXRlQnVpbGRlciIsIi4vc3RhdGVNYXRjaGVyIiwiLi9zdGF0ZU9iamVjdCIsIi4vc3RhdGVRdWV1ZU1hbmFnZXIiLCIuL3N0YXRlUmVnaXN0cnkiLCIuL3N0YXRlU2VydmljZSIsIi4vdGFyZ2V0U3RhdGUiLCIzOSIsIm5hbWVCdWlsZGVyIiwic2VsZkJ1aWxkZXIiLCJkYXRhQnVpbGRlciIsImdldFVybEJ1aWxkZXIiLCIkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlciIsInN0YXRlRGVjIiwibmV3U3RhdGVEZWMiLCJjaGFyQXQiLCJzdWJzdHJpbmciLCJwYXJzZVVybCIsImlzTWF0Y2hlciIsImFwcGVuZCIsInBhdGhCdWlsZGVyIiwiaW5jbHVkZXNCdWlsZGVyIiwicmVzb2x2YWJsZXNCdWlsZGVyIiwicmVzb2x2ZU9iaiIsImdldFRva2VuIiwicHJvdmlkZSIsImxpdGVyYWwyUmVzb2x2YWJsZSIsInVzZUZhY3RvcnkiLCJkZXBlbmRlbmNpZXMiLCJ1c2VDbGFzcyIsInVzZVZhbHVlIiwidXNlRXhpc3RpbmciLCJ0dXBsZTJSZXNvbHZhYmxlIiwiaXRlbTJSZXNvbHZhYmxlIiwiZGVjbCIsIlN0YXRlQnVpbGRlciIsIm1hdGNoZXIiLCJwYXJhbUZhY3RvcnkiLCJpc1Jvb3QiLCJidWlsZGVycyIsInBhcmVudE5hbWUiLCJ1cmxQYXJhbXMiLCJub25VcmxQYXJhbXMiLCJidWlsZGVyIiwiYnVpbGQiLCJjaGFpbiIsInNlZ21lbnRzIiwicG9wIiwiLi4vcmVzb2x2ZS9yZXNvbHZhYmxlIiwiNDAiLCJTdGF0ZU1hdGNoZXIiLCJfc3RhdGVzIiwiaXNSZWxhdGl2ZSIsImJhc2UiLCJtYXRjaEdsb2IiLCJpc1N0ciIsIl9fc3RhdGVPYmplY3RDYWNoZSIsIm5hbWVHbG9iIiwiYmFzZVN0YXRlIiwic3BsaXROYW1lIiwicGF0aExlbmd0aCIsInJlbE5hbWUiLCI0MSIsImdsb2JfMSIsIlN0YXRlT2JqZWN0Iiwic3RhdGVEZWNsIiwiaXNTdGF0ZUNsYXNzIiwibWF0Y2hpbmdLZXlzIiwiaXNTdGF0ZSIsIi4uL2NvbW1vbi9nbG9iIiwiNDIiLCJzdGF0ZU9iamVjdF8xIiwiU3RhdGVRdWV1ZU1hbmFnZXIiLCJsaXN0ZW5lcnMiLCJxdWV1ZSIsImZsdXNoIiwicmVnaXN0ZXJlZCIsIm9ycGhhbnMiLCJwcmV2aW91c1F1ZXVlTGVuZ3RoIiwiZ2V0U3RhdGUiLCJub3RpZnlMaXN0ZW5lcnMiLCJsaXN0ZW5lciIsInMiLCJuYW1lXzEiLCJvcnBoYW5JZHgiLCJleGlzdGluZ1N0YXRlIiwiZXhpc3RpbmdGdXR1cmVTdGF0ZSIsImF0dGFjaFJvdXRlIiwicHJldiIsImFic3RyYWN0IiwicnVsZXNBcGkiLCJ1cmxSdWxlRmFjdG9yeSIsIjQzIiwic3RhdGVNYXRjaGVyXzEiLCJzdGF0ZUJ1aWxkZXJfMSIsInN0YXRlUXVldWVNYW5hZ2VyXzEiLCJzdGF0ZVF1ZXVlIiwiX3JlZ2lzdGVyUm9vdCIsIl9yb290IiwiIyIsInN0YXRlRGVmaW5pdGlvbiIsIl9kZXJlZ2lzdGVyVHJlZSIsImdldENoaWxkcmVuIiwiX2NoaWxkcmVuIiwiZGVyZWdpc3RlcmVkIiwicmVtb3ZlUnVsZSIsImRlcmVnaXN0ZXJlZFN0YXRlcyIsImZvdW5kIiwiNDQiLCJsYXp5TG9hZF8xIiwiaW52YWxpZENhbGxiYWNrcyIsIl9kZWZhdWx0RXJyb3JIYW5kbGVyIiwiJGVycm9yJCIsInN0YWNrIiwiZGV0YWlsIiwiYm91bmRGbnMiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiZGVmYXVsdEVycm9ySGFuZGxlciIsIl9oYW5kbGVJbnZhbGlkVGFyZ2V0U3RhdGUiLCJ0b1N0YXRlIiwiZnJvbVN0YXRlIiwibGF0ZXN0VGhpbmciLCJsYXRlc3QiLCJjYWxsYmFja1F1ZXVlIiwiY2hlY2tGb3JSZWRpcmVjdCIsInN1cGVyc2VkZWQiLCJ0cmFuc2l0aW9uVG8iLCJpbnZhbGlkIiwiaW52b2tlTmV4dENhbGxiYWNrIiwibmV4dENhbGxiYWNrIiwicmVsb2FkIiwibm90aWZ5IiwiZGVmYXV0R29PcHRzIiwidHJhbnNPcHRzIiwiZGVmYXVsdFRyYW5zT3B0cyIsInJlZyIsImdldEN1cnJlbnRQYXRoIiwibGF0ZXN0U3VjY2VzcyIsImN1cnJlbnRQYXRoIiwiZXhpc3RzIiwicmVqZWN0ZWRUcmFuc2l0aW9uSGFuZGxlciIsImlzTGF0ZXN0IiwiUmVqZWN0VHlwZSIsIklHTk9SRUQiLCJTVVBFUlNFREVEIiwicmVkaXJlY3RlZCIsIkFCT1JURUQiLCJlcnJvckhhbmRsZXIiLCJ0cmFuc2l0aW9uVG9Qcm9taXNlIiwic2NoZW1hIiwiaW5jbHVkZSIsImRlZmF1bHRIcmVmT3B0cyIsImxvc3N5IiwiYWJzb2x1dGUiLCJuYXYiLCIuLi9jb21tb24vcXVldWUiLCIuLi9ob29rcy9sYXp5TG9hZCIsIi4uL3BhdGgvcGF0aE5vZGUiLCIuLi90cmFuc2l0aW9uL3RyYW5zaXRpb25TZXJ2aWNlIiwiNDUiLCJfc3RhdGVSZWdpc3RyeSIsIl9pZGVudGlmaWVyIiwiX3BhcmFtcyIsIl9vcHRpb25zIiwiX2RlZmluaXRpb24iLCJ3aXRoU3RhdGUiLCJ3aXRoUGFyYW1zIiwid2l0aE9wdGlvbnMiLCJuZXdPcHRzIiwiaXNEZWYiLCI0NiIsInRyYW5zaXRpb25Ib29rXzEiLCJIb29rQnVpbGRlciIsImJ1aWxkSG9va3NGb3JQaGFzZSIsInBoYXNlIiwiX2dldEV2ZW50cyIsImJ1aWxkSG9va3MiLCJob29rVHlwZSIsIm1hdGNoaW5nSG9va3MiLCJnZXRNYXRjaGluZ0hvb2tzIiwiYmFzZUhvb2tPcHRpb25zIiwiY3JpdGVyaWFNYXRjaFBhdGgiLCJ0cmFjZURhdGEiLCJUcmFuc2l0aW9uSG9va1Njb3BlIiwiU1RBVEUiLCJ0cmFuc2l0aW9uSG9vayIsIlRyYW5zaXRpb25Ib29rIiwicmV2ZXJzZURlcHRoU29ydCIsImZhY3RvciIsImRlcHRoRGVsdGEiLCJ0dXBsZVNvcnQiLCJyZXZlcnNlU29ydCIsImlzQ3JlYXRlIiwiaG9va1BoYXNlIiwiVHJhbnNpdGlvbkhvb2tQaGFzZSIsIkNSRUFURSIsImdldEhvb2tzIiwiLi90cmFuc2l0aW9uSG9vayIsIjQ3IiwibWF0Y2hTdGF0ZSIsImNyaXRlcmlvbiIsInRvTWF0Y2giLCJnbG9iU3RyaW5ncyIsIlJlZ2lzdGVyZWRIb29rIiwidHJhblN2YyIsImV2ZW50VHlwZSIsIm1hdGNoQ3JpdGVyaWEiLCJyZW1vdmVIb29rRnJvbVJlZ2lzdHJ5IiwiaW52b2tlQ291bnQiLCJfZGVyZWdpc3RlcmVkIiwiaW52b2tlTGltaXQiLCJfbWF0Y2hpbmdOb2RlcyIsIl9nZXREZWZhdWx0TWF0Y2hDcml0ZXJpYSIsIl9nZXRQYXRoVHlwZXMiLCJfZ2V0TWF0Y2hpbmdOb2RlcyIsIm1uIiwicGF0aHR5cGUiLCJpc1N0YXRlSG9vayIsImV2ZXJ5IiwibWFrZUV2ZW50IiwiaG9va3MiLCJfcmVnaXN0ZXJlZEhvb2tzIiwicmVtb3ZlSG9va0ZuIiwiaG9va1JlZ2lzdHJhdGlvbkZuIiwibWF0Y2hPYmplY3QiLCI0OCIsIi4vaG9va0J1aWxkZXIiLCIuL2hvb2tSZWdpc3RyeSIsIi4vcmVqZWN0RmFjdG9yeSIsIi4vdHJhbnNpdGlvbiIsIi4vdHJhbnNpdGlvbkV2ZW50VHlwZSIsIi4vdHJhbnNpdGlvblNlcnZpY2UiLCI0OSIsIjUwIiwibWVzc2FnZSIsInJlamVjdGlvbiIsIklOVkFMSUQiLCJhYm9ydGVkIiwiZXJyb3JlZCIsIkVSUk9SIiwibm9ybWFsaXplIiwiNTEiLCJob29rUmVnaXN0cnlfMSIsImhvb2tCdWlsZGVyXzEiLCJzdGF0ZVNlbGYiLCJfZGVmZXJyZWQiLCJfaG9va0J1aWxkZXIiLCJpc0FjdGl2ZSIsIl90YXJnZXRTdGF0ZSIsIl90cmFuc2l0aW9uQ291bnQiLCJfdHJlZUNoYW5nZXMiLCJjcmVhdGVUcmFuc2l0aW9uSG9va1JlZ0ZucyIsIm9uQ3JlYXRlSG9va3MiLCJpbnZva2VIb29rcyIsIm9uRXJyb3IiLCJlbnRlcmluZ1N0YXRlcyIsIiRmcm9tIiwiY29tcGFyZSIsImZyZWV6ZSIsInBhcmFtc0NoYW5nZWQiLCJhbGxQYXJhbURlc2NyaXB0b3JzIiwicGF0aE5vZGUiLCJjaGFuZ2VkVmFsdWVzIiwiZGVzY3JpcHRvciIsInBhdGhOYW1lIiwiZ2V0UmVzb2x2ZVRva2VucyIsInRvcGF0aCIsInRhcmdldE5vZGUiLCJyZiIsInJlZGlyZWN0cyIsInJlZGlyZWN0T3B0cyIsIm5ld09wdGlvbnMiLCJuZXdUcmFuc2l0aW9uIiwib3JpZ2luYWxFbnRlcmluZ05vZGVzIiwicmVkaXJlY3RFbnRlcmluZ05vZGVzIiwiX2NoYW5nZWRQYXJhbXMiLCJ0YyIsIm5vZGVTY2hlbWFzIiwidG9WYWx1ZXMiLCJmcm9tVmFsdWVzIiwidG9WYWxzIiwiZnJvbVZhbHMiLCJjaGFuZ2VzIiwic2FtZSIsIm5ld1RDIiwicGVuZFRDIiwicnVuQWxsSG9va3MiLCJnZXRIb29rc0ZvciIsImFsbEJlZm9yZUhvb2tzIiwiQkVGT1JFIiwiYWxsUnVuSG9va3MiLCJSVU4iLCJzdWNjZXNzIiwiU1VDQ0VTUyIsIl9lcnJvciIsIl9hYm9ydGVkIiwicGFyYW1EZWZzIiwiaW52YWxpZFBhcmFtcyIsImludmFsaWRWYWx1ZXMiLCJmcm9tU3RhdGVPck5hbWUiLCJ0b1N0YXRlT3JOYW1lIiwiYXZvaWRFbXB0eUhhc2giLCJkaVRva2VuIiwiNTIiLCJUcmFuc2l0aW9uRXZlbnRUeXBlIiwiaG9va09yZGVyIiwiZ2V0UmVzdWx0SGFuZGxlciIsImdldEVycm9ySGFuZGxlciIsInN5bmNocm9ub3VzIiwiSEFORExFX1JFU1VMVCIsIlJFSkVDVF9FUlJPUiIsIjUzIiwiZGVmYXVsdE9wdGlvbnMiLCJpc1N1cGVyc2VkZWQiLCJ3YWl0Rm9yIiwibmV4dEhvb2siLCJpbnZva2VIb29rIiwiZG9uZUNhbGxiYWNrIiwicmVtYWluaW5nSG9va3MiLCJsb2dFcnJvciIsIm5vdEN1cnJlbnQiLCJnZXROb3RDdXJyZW50UmVqZWN0aW9uIiwiaGFuZGxlRXJyb3IiLCJoYW5kbGVIb29rUmVzdWx0IiwiaXNUYXJnZXRTdGF0ZSIsIkxPR19SRUpFQ1RFRF9SRVNVTFQiLCJMT0dfRVJST1IiLCJUSFJPV19FUlJPUiIsIjU0IiwiY29yZVJlc29sdmFibGVzXzEiLCJyZWRpcmVjdFRvXzEiLCJvbkVudGVyRXhpdFJldGFpbl8xIiwidmlld3NfMSIsInVwZGF0ZUdsb2JhbHNfMSIsInVybF8xIiwidHJhbnNpdGlvbkV2ZW50VHlwZV8xIiwiaWdub3JlZFRyYW5zaXRpb25fMSIsImludmFsaWRUcmFuc2l0aW9uXzEiLCJjdXN0b20iLCJfcm91dGVyIiwiX2V2ZW50VHlwZXMiLCJfY3JpdGVyaWFQYXRocyIsIl9kZXJlZ2lzdGVySG9va0ZucyIsIl9kZWZpbmVDb3JlUGF0aHMiLCJfZGVmaW5lQ29yZUV2ZW50cyIsIl9yZWdpc3RlckNvcmVUcmFuc2l0aW9uSG9va3MiLCJob29rc0FycmF5IiwiUGhhc2UiLCJUSCIsInBhdGhzIiwiX2RlZmluZUV2ZW50IiwiX2RlZmluZVBhdGhUeXBlIiwiY21wQnlQaGFzZSIsImhvb2tTY29wZSIsImZucyIsImFkZENvcmVSZXNvbHZlcyIsImVhZ2VyUmVzb2x2ZSIsImxhenlSZXNvbHZlIiwicmVzb2x2ZUFsbCIsImxvYWRWaWV3cyIsInVwZGF0ZUdsb2JhbHMiLCIuLi9ob29rcy9jb3JlUmVzb2x2YWJsZXMiLCIuLi9ob29rcy9pZ25vcmVkVHJhbnNpdGlvbiIsIi4uL2hvb2tzL2ludmFsaWRUcmFuc2l0aW9uIiwiLi4vaG9va3Mvb25FbnRlckV4aXRSZXRhaW4iLCIuLi9ob29rcy9yZWRpcmVjdFRvIiwiLi4vaG9va3MvcmVzb2x2ZSIsIi4uL2hvb2tzL3VwZGF0ZUdsb2JhbHMiLCIuLi9ob29rcy91cmwiLCIuLi9ob29rcy92aWV3cyIsIjU1IiwidXJsUnVsZXNfMSIsIlVybFJ1bGVzIiwidXJsQ29uZmlnXzEiLCJVcmxDb25maWciLCIuL3VybENvbmZpZyIsIi4vdXJsTWF0Y2hlciIsIi4vdXJsTWF0Y2hlckZhY3RvcnkiLCIuL3VybFJvdXRlciIsIi4vdXJsUnVsZSIsIi4vdXJsUnVsZXMiLCIuL3VybFNlcnZpY2UiLCI1NiIsIl9pc0Nhc2VJbnNlbnNpdGl2ZSIsIl9pc1N0cmljdE1vZGUiLCJfZGVmYXVsdFNxdWFzaFBvbGljeSIsImhhc2hQcmVmaXgiLCJuZXdwcmVmaXgiLCJob3N0IiwicG9ydCIsInByb3RvY29sIiwiY2FzZUluc2Vuc2l0aXZlIiwic3RyaWN0TW9kZSIsIi4uL3BhcmFtcyIsIjU3IiwicXVvdGVSZWdFeHAiLCJzdXJyb3VuZFBhdHRlcm4iLCJzcGxpdE9uU2xhc2giLCJzdHJpY3QiLCJVcmxNYXRjaGVyIiwiX2NhY2hlIiwiX3NlZ21lbnRzIiwiX2NvbXBpbGVkIiwibWF0Y2hBcnJheSIsImRldGFpbHMiLCJzZWdtZW50IiwicGxhY2Vob2xkZXIiLCJzZWFyY2hQbGFjZWhvbGRlciIsInBhdHRlcm5zIiwibGFzdCIsImNoZWNrUGFyYW1FcnJvcnMiLCJuYW1lVmFsaWRhdG9yIiwibWF0Y2hEZXRhaWxzIiwiaW5kZXgiLCJsYXN0SW5kZXgiLCJzZWFyY2giLCJmcm9tU2VhcmNoIiwiX3BhdHRlcm4iLCJlbmNvZGVEYXNoZXMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJjaGFyQ29kZUF0IiwicGF0aFNlZ21lbnRzQW5kUGFyYW1zIiwic3RhdGljU2VnbWVudHMiLCJwYXRoUGFyYW1zIiwicXVlcnlQYXJhbXMiLCJ3ZWlnaHRzIiwid2VpZ2h0c0EiLCJ3ZWlnaHRzQiIsInBhZFZhbCIsImxlbiIsInBhZEFycmF5cyIsImNtcCIsIl9wYWlycyIsInJldmVyc2VTdHJpbmciLCJhbGxSZXZlcnNlZCIsImFsbFBhcmFtcyIsInNlYXJjaFBhcmFtcyIsIm5QYXRoU2VnbWVudHMiLCJ1cmxtIiwiZmluZFBhcmFtIiwidXJsTWF0Y2hlcnMiLCJnZXREZXRhaWxzIiwiaXNWYWxpZCIsInBhdGhTdHJpbmciLCJxdWVyeVN0cmluZyIsInBhcmFtRGV0YWlscyIsIjU4IiwiX19hc3NpZ24iLCJ1cmxNYXRjaGVyXzEiLCJQYXJhbUZhY3RvcnkiLCJnbG9iYWxDb25maWciLCJvYmplY3QiLCI1OSIsInVybFJ1bGVfMSIsInVybFBhcnRzIiwiY29tcGFyZUZuIiwiVXJsUnVsZUZhY3RvcnkiLCJyZWFkIiwidXJsTWF0Y2hlciIsImlzSHRtbDUiLCJzbGFzaCIsImNmZ1BvcnQiLCI2MCIsIm1ha2VSdWxlIiwiX3doYXQiLCJmcm9tVXJsTWF0Y2hlciIsImZyb21SZWdFeHAiLCJfaGFuZGxlciIsIm1hdGNoUHJpb3JpdHkiLCJvcHRpb25hbCIsInN0aWNreSIsIk51bWJlciIsImlzVXJsUnVsZSIsIi4uL3N0YXRlL3N0YXRlT2JqZWN0IiwiNjEiLCJkZWZhdWx0UnVsZVNvcnRGbiIsInN0YXRlXzEiLCJnZXRIYW5kbGVyRm4iLCJ1c2VNYXRjaFByaW9yaXR5IiwiVVJMTUFUQ0hFUiIsIlJFR0VYUCIsIlJBVyIsIk9USEVSIiwiX3NvcnRGbiIsIl9ydWxlcyIsIl9pZCIsIl9vdGhlcndpc2VGbiIsImhhbmRsZXJGbiIsIl9zb3J0ZWQiLCJlbnN1cmVTb3J0ZWQiLCJzb3J0ZWQiLCJzdGFibGVTb3J0IiwiZ3JvdXAiLCJfZ3JvdXAiLCJhcnJPZldyYXBwZXIiLCJ3cmFwcGVyQSIsIndyYXBwZXJCIiwiY21wRGlmZiIsIndyYXBwZXIiLCIuLi9zdGF0ZSIsIjYyIiwibmV3dXJsIiwiZGVmYXVsdFByZXZlbnRlZCIsImJlc3QiLCJhcHBseVJlc3VsdCIsIl9zdG9wTGlzdGVuaW5nRm4iLCJ3ZWlnaHQiLCI2MyIsIi4vdmFuaWxsYS9pbmRleCIsIjY0IiwidXRpbHNfMSIsIkJhc2VMb2NhdGlvblNlcnZpY2VzIiwiZmlyZUFmdGVyVXBkYXRlIiwiX2xpc3RlbmVycyIsIl9saXN0ZW5lciIsIl9nZXQiLCJnZXRQYXJhbXMiLCJfbG9jYXRpb24iLCJfaGlzdG9yeSIsImJ1aWxkVXJsIiwiLi91dGlscyIsIjY1IiwiQnJvd3NlckxvY2F0aW9uQ29uZmlnIiwiX2lzSHRtbDUiLCJfaGFzaFByZWZpeCIsImhvc3RuYW1lIiwiZ2V0QmFzZUhyZWYiLCJiYXNlVGFnIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIjY2IiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX18iLCJIYXNoTG9jYXRpb25TZXJ2aWNlIiwiX3N1cGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRpdGxlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIi4vYmFzZUxvY2F0aW9uU2VydmljZSIsIjY3IiwiLi9icm93c2VyTG9jYXRpb25Db25maWciLCIuL2hhc2hMb2NhdGlvblNlcnZpY2UiLCIuL2luamVjdG9yIiwiLi9tZW1vcnlMb2NhdGlvbkNvbmZpZyIsIi4vbWVtb3J5TG9jYXRpb25TZXJ2aWNlIiwiLi9wbHVnaW5zIiwiLi9wdXNoU3RhdGVMb2NhdGlvblNlcnZpY2UiLCIuL3EiLCI2OCIsImluZGV4XzEiLCJTVFJJUF9DT01NRU5UUyIsIkFSR1VNRU5UX05BTUVTIiwiZW5zdXJlRXhpc3QiLCIuLi9jb21tb24vaW5kZXgiLCI2OSIsIk1lbW9yeUxvY2F0aW9uQ29uZmlnIiwiX3BvcnQiLCJfcHJvdG9jb2wiLCJfaG9zdCIsIjcwIiwiTWVtb3J5TG9jYXRpb25TZXJ2aWNlIiwiX3VybCIsIjcxIiwiYnJvd3NlckxvY2F0aW9uQ29uZmlnXzEiLCJoYXNoTG9jYXRpb25TZXJ2aWNlXzEiLCJwdXNoU3RhdGVMb2NhdGlvblNlcnZpY2VfMSIsIm1lbW9yeUxvY2F0aW9uU2VydmljZV8xIiwibWVtb3J5TG9jYXRpb25Db25maWdfMSIsImluamVjdG9yXzEiLCJxXzEiLCJzZXJ2aWNlc1BsdWdpbiIsImhhc2hMb2NhdGlvblBsdWdpbiIsImxvY2F0aW9uUGx1Z2luRmFjdG9yeSIsInB1c2hTdGF0ZUxvY2F0aW9uUGx1Z2luIiwiUHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlIiwibWVtb3J5TG9jYXRpb25QbHVnaW4iLCI3MiIsImJhc2VMb2NhdGlvblNlcnZpY2VfMSIsIl9jb25maWciLCJfZ2V0QmFzZVByZWZpeCIsImJhc2VQcmVmaXgiLCJleGFjdEJhc2VIcmVmTWF0Y2giLCJzdGFydHNXaXRoQmFzZSIsImZ1bGxVcmwiLCJyZXBsYWNlU3RhdGUiLCJwdXNoU3RhdGUiLCI3MyIsIlByb21pc2UiLCJkZWZlcnJlZCIsIjc0Iiwia2V5VmFsc1RvT2JqZWN0UiIsImFjY3VtIiwib3JFbXB0eVN0cmluZyIsImJlZm9yZWhhc2giLCJsb2MiLCJzZWFyY2hPYmplY3QiLCJzZXJ2aWNlQ2xhc3MiLCJjb25maWd1cmF0aW9uQ2xhc3MiLCJjb25maWd1cmF0aW9uIiwiNzUiLCIuL3ZpZXciLCI3NiIsIl91aVZpZXdzIiwiX3ZpZXdDb25maWdzIiwiX3ZpZXdDb25maWdGYWN0b3JpZXMiLCJfcmVnaXN0ZXJlZFVJVmlldyIsIl9yZWdpc3RlcmVkVUlWaWV3cyIsIl9hY3RpdmVWaWV3Q29uZmlncyIsIl9vblN5bmMiLCJyYXdWaWV3TmFtZSIsInZpZXdBdENvbnRleHQiLCJyZWxhdGl2ZVZpZXdOYW1lU3VnYXIiLCJhbmNob3IiLCJfcm9vdENvbnRleHQiLCJ2aWV3VHlwZSIsImNmZ0ZhY3RvcnkiLCJjZmdzIiwidWlWaWV3c0J5RnFuIiwidmlld0NvbmZpZ0RlcHRoIiwiZGVwdGhDb21wYXJlIiwiZGVwdGhGbiIsInBvc05lZyIsInVpVmlld1R1cGxlcyIsInN0YXRlRGVwdGgiLCJtYXRjaGluZ0NvbmZpZ3MiLCJtYXRjaGVkVmlld0NvbmZpZ3MiLCJ1bm1hdGNoZWRDb25maWdUdXBsZXMiLCJhbGxUdXBsZXMiLCJ1aVZpZXdzIiwiYXZhaWxhYmxlIiwidmNTZWdtZW50cyIsInVpdlNlZ21lbnRzIiwibmVnT2Zmc2V0IiwiZnFuVG9GaXJzdFNlZ21lbnQiLCJ1aVZpZXdDb250ZXh0IiwiNzciLCJjcmVhdGVFbGVtZW50IiwidyIsImNyZWF0ZUVsZW1lbnROUyIsImJvZHkiLCJmYWtlIiwiYXBwZW5kQ2hpbGQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwib3ZlcmZsb3ciLCJFIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwib2Zmc2V0SGVpZ2h0IiwiQ1NTIiwic3VwcG9ydHMiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImN1cnJlbnRTdHlsZSIsImgiLCJOIiwieiIsIm1vZEVsZW0iLCJnIiwieSIsIlMiLCJDIiwiX3ZlcnNpb24iLCJjbGFzc1ByZWZpeCIsImVuYWJsZUNsYXNzZXMiLCJlbmFibGVKU0NsYXNzIiwidXNlUHJlZml4ZXMiLCJfcSIsInNldFRpbWVvdXQiLCJhZGRUZXN0IiwiYWRkQXN5bmNUZXN0IiwiTW9kZXJuaXpyIiwiZG9jdW1lbnRFbGVtZW50IiwibWF0Y2hNZWRpYSIsIm1zTWF0Y2hNZWRpYSIsInBvc2l0aW9uIiwibXEiLCJlbGVtZW50cyIsImNsb25lTm9kZSIsImNyZWF0ZUVsZW0iLCJjYW5IYXZlQ2hpbGRyZW4iLCJ0YWdVcm4iLCJmcmFnIiwic2hpdkNTUyIsImhhc0NTUyIsImlubmVySFRNTCIsImluc2VydEJlZm9yZSIsImxhc3RDaGlsZCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVGcmFnIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsInNoaXZNZXRob2RzIiwiaHRtbDUiLCJjaGlsZE5vZGVzIiwic3VwcG9ydHNVbmtub3duRWxlbWVudHMiLCJzaGl2RG9jdW1lbnQiLCJhZGRFbGVtZW50cyIsIl8iLCJfY3Nzb21QcmVmaXhlcyIsIlQiLCJ1bnNoaWZ0IiwiX2RvbVByZWZpeGVzIiwidGVzdEFsbFByb3BzIiwiYWxpYXNlcyIsImJhc2VWYWwiLCJGIiwiNzgiLCIkJENvb2tpZVdyaXRlciIsIiRkb2N1bWVudCIsIiRsb2ciLCJjb29raWVQYXRoIiwicmF3RG9jdW1lbnQiLCJjb29raWUiLCJleHBpcmVzIiwiZG9tYWluIiwidG9VVENTdHJpbmciLCJzZWN1cmUiLCJjb29raWVMZW5ndGgiLCJzYW1lc2l0ZSIsIndhcm4iLCJidWlsZENvb2tpZVN0cmluZyIsImluZm8iLCJhbmd1bGFyVmVyc2lvbiIsImNhbGNPcHRpb25zIiwiJCRjb29raWVSZWFkZXIiLCIkJGNvb2tpZVdyaXRlciIsImdldE9iamVjdCIsImdldEFsbCIsInB1dE9iamVjdCIsIjc5IiwiLi9hbmd1bGFyLWNvb2tpZXMiLCI4MCIsImxvd2VyY2FzZSIsIm5vZGVDb250YWlucyIsImh0bWxQYXJzZXIiLCJodG1sU2FuaXRpemVXcml0ZXIiLCIkc2FuaXRpemVNaW5FcnIiLCIkJG1pbkVyciIsImhhc0JlZW5JbnN0YW50aWF0ZWQiLCJzdmdFbmFibGVkIiwiJCRzYW5pdGl6ZVVyaSIsInZhbGlkRWxlbWVudHMiLCJzdmdFbGVtZW50cyIsImJ1ZiIsInVyaSIsImlzSW1hZ2UiLCJlbmFibGVTdmciLCJhZGRWYWxpZEVsZW1lbnRzIiwiaHRtbEVsZW1lbnRzIiwiYWRkRWxlbWVudHNUbyIsInZvaWRFbGVtZW50cyIsImh0bWxWb2lkRWxlbWVudHMiLCJhZGRWYWxpZEF0dHJzIiwidmFsaWRBdHRycyIsImFycmF5VG9NYXAiLCIkJGxvd2VyY2FzZSIsImluZXJ0Qm9keUVsZW1lbnQiLCJnZXRJbmVydEJvZHlFbGVtZW50IiwibVhTU0F0dGVtcHRzIiwibm9kZVR5cGUiLCJhdHRyVG9NYXAiLCJhdHRyaWJ1dGVzIiwiY2hhcnMiLCJ0ZXh0Q29udGVudCIsIm5leHROb2RlIiwiZW5kIiwiZ2V0Tm9uRGVzY2VuZGFudCIsInVyaVZhbGlkYXRvciIsImlnbm9yZUN1cnJlbnRFbGVtZW50Iiwib3V0IiwidGFnIiwiYmxvY2tlZEVsZW1lbnRzIiwibGtleSIsInVyaUF0dHJzIiwiZW5jb2RlRW50aXRpZXMiLCJOb2RlIiwiY29udGFpbnMiLCJhcmciLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsIlNVUlJPR0FURV9QQUlSX1JFR0VYUCIsIk5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQIiwic3RyaW5nVG9NYXAiLCJvcHRpb25hbEVuZFRhZ0Jsb2NrRWxlbWVudHMiLCJvcHRpb25hbEVuZFRhZ0lubGluZUVsZW1lbnRzIiwib3B0aW9uYWxFbmRUYWdFbGVtZW50cyIsImJsb2NrRWxlbWVudHMiLCJpbmxpbmVFbGVtZW50cyIsImh0bWxBdHRycyIsInN2Z0F0dHJzIiwibG93ZXJjYXNlS2V5cyIsImVsZW1lbnRzTWFwIiwibmV3RWxlbWVudHMiLCJpbmVydERvY3VtZW50IiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJnZXREb2N1bWVudEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiZG9jdW1lbnRNb2RlIiwic3RyaXBDdXN0b21Oc0F0dHJzIiwiRUxFTUVOVF9OT0RFIiwiYXR0ck5vZGUiLCJsYXN0SW5kZXhPZiIsInJlbW92ZUF0dHJpYnV0ZU5vZGUiLCJlbmNvZGVVUkkiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInJlc3BvbnNlVHlwZSIsIm9wZW4iLCJzZW5kIiwiaWkiLCJvdXRlckhUTUwiLCJvdXRlclRleHQiLCIkc2FuaXRpemUiLCJMSU5LWV9VUkxfUkVHRVhQIiwiTUFJTFRPX1JFR0VYUCIsImxpbmt5TWluRXJyIiwiYXR0cmlidXRlc0ZuIiwiYWRkVGV4dCIsImFkZExpbmsiLCJsaW5rQXR0cmlidXRlcyIsIjgxIiwiLi9hbmd1bGFyLXNhbml0aXplIiwiODIiLCIkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXIiLCJmaWxlcyIsInN1ZmZpeCIsImZpbGUiLCJmaWxlVXJsIiwiZmlsZU1hcCIsIm1ldGhvZCIsIm1lcmdlZERhdGEiLCJkaXNwbGF5TmFtZSIsIjgzIiwiJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VGYWN0b3J5IiwiZGVsZWdhdGUiLCJtYWpvciIsIiRjb29raWVzIiwiJGNvb2tpZVN0b3JlIiwic2V0IiwiODQiLCIkdHJhbnNsYXRlTG9jYWxTdG9yYWdlRmFjdG9yeSIsIiR0cmFuc2xhdGVDb29raWVTdG9yYWdlIiwibGFuZ0tleSIsImxvY2FsU3RvcmFnZUFkYXB0ZXIiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0SXRlbSIsImhhc0xvY2FsU3RvcmFnZVN1cHBvcnQiLCJ0ZXN0S2V5IiwicmVtb3ZlSXRlbSIsIjg1IiwicnVuVHJhbnNsYXRlIiwiJHRyYW5zbGF0ZSIsInN0b3JhZ2VLZXkiLCJzdG9yYWdlIiwiZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlIiwicHJlZmVycmVkIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJ1c2UiLCIkU1RPUkFHRV9LRVkiLCIkd2luZG93UHJvdmlkZXIiLCIkdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXIiLCJwYXNjYWxwcmVjaHRUcmFuc2xhdGVPdmVycmlkZXIiLCIkcHJlZmVycmVkTGFuZ3VhZ2UiLCIkbGFuZ3VhZ2VLZXlBbGlhc2VzIiwiJGZhbGxiYWNrTGFuZ3VhZ2UiLCIkZmFsbGJhY2tXYXNTdHJpbmciLCIkdXNlcyIsIiRuZXh0TGFuZyIsIiRzdG9yYWdlRmFjdG9yeSIsIiRzdG9yYWdlUHJlZml4IiwiJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5IiwiJGludGVycG9sYXRpb25GYWN0b3J5IiwiJGxvYWRlckZhY3RvcnkiLCIkbG9hZGVyT3B0aW9ucyIsIiRub3RGb3VuZEluZGljYXRvckxlZnQiLCIkbm90Rm91bmRJbmRpY2F0b3JSaWdodCIsImxvYWRlckNhY2hlIiwicG9zdFByb2Nlc3NGbiIsIiR0cmFuc2xhdGlvblRhYmxlIiwiJGF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsIiRzdG9yYWdlS2V5IiwiJGludGVycG9sYXRvckZhY3RvcmllcyIsIiRjbG9ha0NsYXNzTmFtZSIsIiRwb3N0Q29tcGlsaW5nRW5hYmxlZCIsIiRmb3JjZUFzeW5jUmVsb2FkRW5hYmxlZCIsIiRuZXN0ZWRPYmplY3REZWxpbWV0ZXIiLCIkaXNSZWFkeSIsIiRrZWVwQ29udGVudCIsImRpcmVjdGl2ZVByaW9yaXR5Iiwic3RhdGVmdWxGaWx0ZXIiLCJ1bmlmb3JtTGFuZ3VhZ2VUYWdSZXNvbHZlciIsImxhbmd1YWdlVGFnUmVzb2x2ZXIiLCJqYXZhIiwidGVtcCIsImJjcDQ3IiwiaXNvNjM5LTEiLCJnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSIsImdldExvY2FsZSIsImxhbmd1YWdlIiwibmF2aWdhdG9yIiwiYnJvd3Nlckxhbmd1YWdlUHJvcGVydHlLZXlzIiwibGFuZ3VhZ2VzIiwibG9jYWxlIiwic2VhcmNoRWxlbWVudCIsInRyaW0iLCJuZWdvdGlhdGVMb2NhbGUiLCJhbGlhcyIsImF2YWlsIiwibGFuZ0tleUFsaWFzIiwiaGFzV2lsZGNhcmRLZXkiLCJoYXNFeGFjdEtleSIsInRyYW5zbGF0aW9ucyIsInRyYW5zbGF0aW9uVGFibGUiLCJmbGF0T2JqZWN0IiwiY2xvYWtDbGFzc05hbWUiLCJuZXN0ZWRPYmplY3REZWxpbWV0ZXIiLCJkZWxpbWl0ZXIiLCJwcmV2S2V5Iiwia2V5V2l0aFBhdGgiLCJhZGRJbnRlcnBvbGF0aW9uIiwidXNlTWVzc2FnZUZvcm1hdEludGVycG9sYXRpb24iLCJ1c2VJbnRlcnBvbGF0aW9uIiwidXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5IiwidXNlU3RyYXRlZ3kiLCJzZXR1cFByZWZlcnJlZExhbmd1YWdlIiwidHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvciIsImluZGljYXRvciIsInRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0IiwidHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclJpZ2h0IiwiZmFsbGJhY2tMYW5ndWFnZSIsImZhbGxiYWNrU3RhY2siLCJyZXNvbHZlQ2xpZW50TG9jYWxlIiwidXNlVXJsTG9hZGVyIiwidXNlTG9hZGVyIiwidXNlU3RhdGljRmlsZXNMb2FkZXIiLCJsb2FkZXJGYWN0b3J5IiwidXNlTG9jYWxTdG9yYWdlIiwidXNlU3RvcmFnZSIsInVzZUNvb2tpZVN0b3JhZ2UiLCJzdG9yYWdlRmFjdG9yeSIsInN0b3JhZ2VQcmVmaXgiLCJ1c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nIiwidXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlciIsInVzZVBvc3RDb21waWxpbmciLCJmb3JjZUFzeW5jUmVsb2FkIiwidW5pZm9ybUxhbmd1YWdlVGFnIiwic3RhbmRhcmQiLCJkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSIsInJlZ2lzdGVyQXZhaWxhYmxlTGFuZ3VhZ2VLZXlzIiwibGFuZ3VhZ2VLZXlzIiwidXNlTG9hZGVyQ2FjaGUiLCJwb3N0UHJvY2VzcyIsImtlZXBDb250ZW50IiwiU3RvcmFnZSIsImZhbGxiYWNrSW5kZXgiLCJzdGFydEZhbGxiYWNrSXRlcmF0aW9uIiwiZGVmYXVsdEludGVycG9sYXRvciIsInBlbmRpbmdMb2FkZXIiLCJpbnRlcnBvbGF0b3JIYXNoTWFwIiwibGFuZ1Byb21pc2VzIiwidHJhbnNsYXRpb25JZCIsImludGVycG9sYXRlUGFyYW1zIiwiaW50ZXJwb2xhdGlvbklkIiwiZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCIsImZvcmNlTGFuZ3VhZ2UiLCJzYW5pdGl6ZVN0cmF0ZWd5IiwidXNlcyIsImxvYWRUcmFuc2xhdGlvbnNJZk1pc3NpbmciLCJ0cmFuc2xhdGlvbklkcyIsInRyYW5zbGF0ZSIsInJlZ2FyZGxlc3MiLCJ0cmFuc2xhdGVBbGwiLCJwcm9taXNlVG9XYWl0Rm9yIiwicHJvbWlzZVJlc29sdmVkIiwiZGV0ZXJtaW5lVHJhbnNsYXRpb24iLCJhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyIsInVzZUxhbmd1YWdlIiwic2V0TG9jYWxlIiwiZWFjaEludGVycG9sYXRvciIsImludGVycG9sYXRvciIsImxvYWRBc3luYyIsImxvYWRlck9wdGlvbnMiLCJvbkxvYWRlclN1Y2Nlc3MiLCJvbkxvYWRlckVycm9yIiwiZWFjaEludGVycG9sYXRpb25GYWN0b3J5IiwiaW50ZXJwb2xhdG9yRmFjdG9yeSIsImdldEludGVycG9sYXRpb25JZGVudGlmaWVyIiwiZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbiIsIkludGVycG9sYXRvciIsIm9uUmVzb2x2ZSIsInRyYW5zbGF0aW9uIiwiaW50ZXJwb2xhdGVkVmFsdWUiLCJpbnRlcnBvbGF0ZSIsImFwcGx5UG9zdFByb2Nlc3NpbmciLCJnZXRUcmFuc2xhdGlvblRhYmxlIiwiZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQiLCIkJHVud3JhcFRydXN0ZWRWYWx1ZSIsInJlc3VsdDIiLCJ0cmFuc2xhdGVCeUhhbmRsZXIiLCJyZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZSIsImZhbGxiYWNrTGFuZ3VhZ2VJbmRleCIsIm1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbiIsInJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlSW5zdGFudCIsInJlc29sdmVkVHJhbnNsYXRpb24iLCJfdHJhbnNsYXRpb25JZCIsImRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCIsInVzZUZhbGxiYWNrTGFuZ3VhZ2UiLCJsYW5nS2V5UG9zaXRpb24iLCJwcm9wb3NlZExhbmd1YWdlIiwiYWxpYXNlZEtleSIsImlzUG9zdENvbXBpbGluZ0VuYWJsZWQiLCJpc0ZvcmNlQXN5bmNSZWxvYWRFbmFibGVkIiwiaXNLZWVwQ29udGVudCIsInJlZnJlc2giLCJ1cGRhdGVkTGFuZ3VhZ2VzIiwibG9hZE5ld0RhdGEiLCJsYW5ndWFnZUtleSIsImxhbmd1YWdlc1RvUmVsb2FkIiwiaW5zdGFudCIsInBvc3NpYmxlTGFuZ0tleXMiLCJwb3NzaWJsZUxhbmdLZXkiLCJ2ZXJzaW9uSW5mbyIsImlzUmVhZHkiLCIkb25SZWFkeURlZmVycmVkIiwib25SZWFkeSIsImdldEF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsImdsb2JhbE9uUmVhZHlMaXN0ZW5lciIsImdsb2JhbE9uQ2hhbmdlTGlzdGVuZXIiLCJwcm9jZXNzQXN5bmNSZXN1bHQiLCJmYWxsYmFja0xhbmd1YWdlSWQiLCIkdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24iLCIkdHJhbnNsYXRlU2FuaXRpemF0aW9uIiwiJHRyYW5zbGF0ZUludGVycG9sYXRvciIsImludGVycG9sYXRpb25QYXJhbXMiLCJpbnRlcnBvbGF0ZWRUZXh0Iiwic2FuaXRpemUiLCJ0cmFuc2xhdGVEaXJlY3RpdmUiLCIkcGFyc2UiLCJ0QXR0ciIsInRyYW5zbGF0ZVZhbHVlc0V4aXN0IiwidHJhbnNsYXRlVmFsdWVzIiwidHJhbnNsYXRlSW50ZXJwb2xhdGlvbiIsInRyYW5zbGF0ZVNhbml0aXplU3RyYXRlZ3lFeGlzdCIsInRyYW5zbGF0ZVNhbml0aXplU3RyYXRlZ3kiLCJ0cmFuc2xhdGVWYWx1ZUV4aXN0IiwiaW50ZXJwb2xhdGVSZWdFeHAiLCJzdGFydFN5bWJvbCIsImVuZFN5bWJvbCIsIndhdGNoZXJSZWdFeHAiLCJpRWxlbWVudCIsImlBdHRyIiwicHJlVGV4dCIsInBvc3RUZXh0IiwidHJhbnNsYXRlTmFtZXNwYWNlIiwiZ2V0VHJhbnNsYXRlTmFtZXNwYWNlIiwiJHBhcmVudCIsIm9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24iLCJfdW53YXRjaE9sZCIsImlFbGVtZW50VGV4dCIsImludGVycG9sYXRlTWF0Y2hlcyIsIndhdGNoZXJNYXRjaGVzIiwibmV3VmFsdWUiLCJ1cGRhdGVUcmFuc2xhdGlvbnMiLCJvYnNlcnZlQXR0cmlidXRlVHJhbnNsYXRpb24iLCJ0cmFuc2xhdGVBdHRyIiwiaW5pdEludGVycG9sYXRpb25QYXJhbXMiLCJmaXJzdEF0dHJpYnV0ZUNoYW5nZWRFdmVudCIsImRlZmF1bHRUZXh0Iiwib2JzZXJ2ZVZhbHVlQXR0cmlidXRlIiwiYXR0cmlidXRlTmFtZSIsInVwZGF0ZVRyYW5zbGF0aW9uIiwidHJhbnNsYXRlTGFuZ3VhZ2UiLCJhcHBseVRyYW5zbGF0aW9uIiwic3VjY2Vzc2Z1bCIsInRyYW5zbGF0ZUtlZXBDb250ZW50IiwiZ2xvYmFsbHlFbmFibGVkIiwibG9jYWxseURlZmluZWQiLCJ0cmFuc2xhdGVDb21waWxlIiwibG9jYWxseUVuYWJsZWQiLCIkYXR0ciIsInRyYW5zbGF0ZURlZmF1bHQiLCJ1bmJpbmQiLCJ0cmFuc2xhdGVBdHRyRGlyZWN0aXZlIiwicHJldmlvdXNBdHRyaWJ1dGVzIiwiZmxhZyIsInJlbW92ZUF0dHIiLCJ3YXRjaEF0dHJpYnV0ZSIsImF0dHJpYnV0ZSIsInZhbHVlQ2FsbGJhY2siLCJjaGFuZ2VDYWxsYmFjayIsInRyYW5zbGF0ZUNsb2FrRGlyZWN0aXZlIiwiYXBwbHlDbG9hayIsImlSZW1vdmVDbG9hayIsImlBcHBseUNsb2FrIiwidHJhbnNsYXRlQ2xvYWsiLCJ0cmFuc2xhdGVOYW1lc3BhY2VEaXJlY3RpdmUiLCJwcmUiLCJpQXR0cnMiLCJfZ2V0VHJhbnNsYXRlTmFtZXNwYWNlIiwidHJhbnNsYXRlTGFuZ3VhZ2VEaXJlY3RpdmUiLCJuZXdUcmFuc2xhdGVMYW5ndWFnZSIsIiRicm9hZGNhc3QiLCJ0cmFuc2xhdGVGaWx0ZXJGYWN0b3J5IiwidHJhbnNsYXRlRmlsdGVyIiwiaW50ZXJwb2xhdGlvbiIsIl9fU0NPUEVfSVNfTk9UX0FWQUlMQUJMRSIsIiR0cmFuc2xhdGlvbkNhY2hlIiwiJGNhY2hlRmFjdG9yeSIsIiRzY2UiLCJzdHJhdGVnaWVzIiwiY3VycmVudFN0cmF0ZWd5IiwiaGFzQ29uZmlndXJlZFN0cmF0ZWd5IiwiaGFzU2hvd25Ob1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmciLCJodG1sU2FuaXRpemVWYWx1ZSIsImVzY2FwZSIsImh0bWxFc2NhcGVWYWx1ZSIsInNhbml0aXplUGFyYW1ldGVycyIsIm1hcEludGVycG9sYXRpb25QYXJhbWV0ZXJzIiwiZXNjYXBlUGFyYW1ldGVycyIsInNjZSIsImh0bWxUcnVzdFZhbHVlIiwic2NlUGFyYW1ldGVycyIsImVzY2FwZWQiLCJhZGRTdHJhdGVneSIsInN0cmF0ZWd5TmFtZSIsInN0cmF0ZWd5RnVuY3Rpb24iLCJyZW1vdmVTdHJhdGVneSIsInN0cmF0ZWd5IiwiY2FjaGVkU3RyYXRlZ3lNYXAiLCJzZWxlY3RlZFN0cmF0ZWdpZXMiLCJzZWxlY3RlZFN0cmF0ZWd5IiwidHJ1c3RBc0h0bWwiLCJpdGVyYXRlZSIsInByb3BlcnR5VmFsdWUiLCJwcm9wZXJ0eUtleSIsImNvbnN0YW50IiwiODYiLCJtaW5FcnJDb25maWciLCJvYmplY3RNYXhEZXB0aCIsInVybEVycm9yUGFyYW1zRW5hYmxlZCIsImVycm9ySGFuZGxpbmdDb25maWciLCJpc1ZhbGlkT2JqZWN0TWF4RGVwdGgiLCJOYU4iLCJpc0Jvb2xlYW4iLCJtYXhEZXB0aCIsIm1pbkVyciIsIkVycm9yQ29uc3RydWN0b3IiLCJyZWdleCIsImVyclJlZ0V4cCIsInBhcmFtUHJlZml4IiwidGVtcGxhdGVBcmdzIiwic2xpY2VBcmdzIiwidG9EZWJ1Z1N0cmluZyIsIm1zaWUiLCJqcUxpdGUiLCJqUXVlcnkiLCJhbmd1bGFyTW9kdWxlIiwiUkVHRVhfU1RSSU5HX1JFR0VYUCIsIlZBTElESVRZX1NUQVRFX1BST1BFUlRZIiwidXBwZXJjYXNlIiwiZ2V0UHJvdG90eXBlT2YiLCJuZ01pbkVyciIsInVpZCIsImlzQXJyYXlMaWtlIiwiaXNXaW5kb3ciLCJpdGVyYXRvciIsImlzUHJpbWl0aXZlIiwiaXNCbGFua09iamVjdCIsImZvckVhY2hTb3J0ZWQiLCJyZXZlcnNlUGFyYW1zIiwiaXRlcmF0b3JGbiIsIm5leHRVaWQiLCJzZXRIYXNoS2V5IiwiJCRoYXNoS2V5IiwiYmFzZUV4dGVuZCIsImRzdCIsIm9ianMiLCJkZWVwIiwiamoiLCJpc0VsZW1lbnQiLCJtZXJnZSIsInRvSW50IiwiaXNOdW1iZXJOYU4iLCJudW0iLCIkIiwidmFsdWVGbiIsImhhc0N1c3RvbVRvU3RyaW5nIiwiaXNFcnJvciIsImlzU2NvcGUiLCJpc1Byb21pc2VMaWtlIiwiVFlQRURfQVJSQVlfUkVHRVhQIiwiZXNjYXBlRm9yUmVnZXhwIiwibm9kZU5hbWVfIiwiYXJyYXlSZW1vdmUiLCJkZXN0aW5hdGlvbiIsInN0YWNrU291cmNlIiwic3RhY2tEZXN0IiwiY29weVJlY3Vyc2UiLCJjb3B5RWxlbWVudCIsIm5lZWRzUmVjdXJzZSIsImJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJjb3BpZWQiLCJBcnJheUJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJVaW50OEFycmF5IiwiY29weVR5cGUiLCJzaW1wbGVDb21wYXJlIiwia2V5U2V0IiwiY3JlYXRlTWFwIiwiY3NwIiwibmdDc3BFbGVtZW50IiwibmdDc3BBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJub1Vuc2FmZUV2YWwiLCJub0lubGluZVN0eWxlIiwianEiLCJuYW1lXyIsIm5nQXR0clByZWZpeGVzIiwiYXJyYXkxIiwiYXJyYXkyIiwic3RhcnRJbmRleCIsImN1cnJ5QXJncyIsInRvSnNvblJlcGxhY2VyIiwicHJldHR5IiwiQUxMX0NPTE9OUyIsInRpbWV6b25lVG9PZmZzZXQiLCJ0aW1lem9uZSIsImZhbGxiYWNrIiwicmVxdWVzdGVkVGltZXpvbmVPZmZzZXQiLCJhZGREYXRlTWludXRlcyIsIm1pbnV0ZXMiLCJzZXRNaW51dGVzIiwiZ2V0TWludXRlcyIsImNvbnZlcnRUaW1lem9uZVRvTG9jYWwiLCJkYXRlVGltZXpvbmVPZmZzZXQiLCJnZXRUaW1lem9uZU9mZnNldCIsInN0YXJ0aW5nVGFnIiwiZWxlbUh0bWwiLCJOT0RFX1RZUEVfVEVYVCIsInRyeURlY29kZVVSSUNvbXBvbmVudCIsImRlY29kZVVSSUNvbXBvbmVudCIsInBhcnNlS2V5VmFsdWUiLCJrZXlWYWx1ZSIsInNwbGl0UG9pbnQiLCJlbmNvZGVVcmlTZWdtZW50IiwiZW5jb2RlVXJpUXVlcnkiLCJwY3RFbmNvZGVTcGFjZXMiLCJpc0F1dG9Cb290c3RyYXBBbGxvd2VkIiwic2NyaXB0IiwiY3VycmVudFNjcmlwdCIsIkhUTUxTY3JpcHRFbGVtZW50IiwiU1ZHU2NyaXB0RWxlbWVudCIsImdldE5hbWVkSXRlbSIsIm9yaWdpbiIsImFsbG93QXV0b0Jvb3RzdHJhcCIsImFuZ3VsYXJJbml0IiwiYm9vdHN0cmFwIiwiYXBwRWxlbWVudCIsImhhc0F0dHJpYnV0ZSIsImNhbmRpZGF0ZSIsIm5nQXR0ciIsImdldE5nQXR0cmlidXRlIiwibW9kdWxlcyIsImRvQm9vdHN0cmFwIiwiJHByb3ZpZGUiLCJkZWJ1Z0luZm9FbmFibGVkIiwiJGNvbXBpbGVQcm92aWRlciIsImNyZWF0ZUluamVjdG9yIiwiJGFwcGx5IiwiTkdfRU5BQkxFX0RFQlVHX0lORk8iLCJOR19ERUZFUl9CT09UU1RSQVAiLCJyZXN1bWVCb290c3RyYXAiLCJleHRyYU1vZHVsZXMiLCJyZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCIsInJlbG9hZFdpdGhEZWJ1Z0luZm8iLCJnZXRUZXN0YWJpbGl0eSIsInJvb3RFbGVtZW50IiwiU05BS0VfQ0FTRV9SRUdFWFAiLCJzbmFrZV9jYXNlIiwic2VwYXJhdG9yIiwibGV0dGVyIiwicG9zIiwiYmluZEpRdWVyeUZpcmVkIiwiYXNzZXJ0QXJnIiwiYXNzZXJ0QXJnRm4iLCJhY2NlcHRBcnJheUFubm90YXRpb24iLCJhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSIsImdldEJsb2NrTm9kZXMiLCJibG9ja05vZGVzIiwiZW5kTm9kZSIsIm5leHRTaWJsaW5nIiwiTk9ERV9UWVBFX0VMRU1FTlQiLCJOT0RFX1RZUEVfQ09NTUVOVCIsIk5PREVfVFlQRV9ET0NVTUVOVCIsIk5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCIsInNoYWxsb3dDb3B5IiwiZnVsbCIsImRvdCIsImNvZGVOYW1lIiwiSlFMaXRlIiwiZXhwYW5kbyIsImpxQ2FjaGUiLCJqcUlkIiwiX2RhdGEiLCJEQVNIX0xPV0VSQ0FTRV9SRUdFWFAiLCJNU19IQUNLX1JFR0VYUCIsIk1PVVNFX0VWRU5UX01BUCIsIm1vdXNlbGVhdmUiLCJtb3VzZWVudGVyIiwianFMaXRlTWluRXJyIiwiZm5DYW1lbENhc2VSZXBsYWNlIiwia2ViYWJUb0NhbWVsIiwiU0lOR0xFX1RBR19SRUdFWFAiLCJIVE1MX1JFR0VYUCIsIlRBR19OQU1FX1JFR0VYUCIsIlhIVE1MX1RBR19SRUdFWFAiLCJ3cmFwTWFwIiwib3B0aW9uIiwidGhlYWQiLCJjb2wiLCJ0ciIsInRkIiwianFMaXRlSXNUZXh0Tm9kZSIsImpxTGl0ZUFjY2VwdHNEYXRhIiwianFMaXRlQnVpbGRGcmFnbWVudCIsInRtcCIsIndyYXAiLCJmcmFnbWVudCIsIm9wdGdyb3VwIiwidGJvZHkiLCJ0Zm9vdCIsImNvbGdyb3VwIiwiY2FwdGlvbiIsInRoIiwianFMaXRlQ29udGFpbnMiLCJhcmdJc1N0cmluZyIsImpxTGl0ZUFkZE5vZGVzIiwianFMaXRlUmVhZHkiLCJqcUxpdGVDbG9uZSIsImpxTGl0ZURlYWxvYyIsIm9ubHlEZXNjZW5kYW50cyIsImNsZWFuRGF0YSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpc0VtcHR5T2JqZWN0IiwicmVtb3ZlSWZFbXB0eURhdGEiLCJleHBhbmRvSWQiLCJuZzMzOSIsImV4cGFuZG9TdG9yZSIsImpxTGl0ZU9mZiIsInVuc3VwcG9ydGVkIiwianFMaXRlRXhwYW5kb1N0b3JlIiwiaGFuZGxlIiwicmVtb3ZlSGFuZGxlciIsImxpc3RlbmVyRm5zIiwianFMaXRlUmVtb3ZlRGF0YSIsImNyZWF0ZUlmTmVjZXNzYXJ5IiwianFMaXRlRGF0YSIsImlzU2ltcGxlU2V0dGVyIiwiaXNTaW1wbGVHZXR0ZXIiLCJtYXNzR2V0dGVyIiwianFMaXRlSGFzQ2xhc3MiLCJzZWxlY3RvciIsImpxTGl0ZVJlbW92ZUNsYXNzIiwiY3NzQ2xhc3NlcyIsInNldEF0dHJpYnV0ZSIsImV4aXN0aW5nQ2xhc3NlcyIsIm5ld0NsYXNzZXMiLCJjc3NDbGFzcyIsImpxTGl0ZUFkZENsYXNzIiwianFMaXRlQ29udHJvbGxlciIsImpxTGl0ZUluaGVyaXRlZERhdGEiLCJuYW1lcyIsImpxTGl0ZUVtcHR5IiwianFMaXRlUmVtb3ZlIiwia2VlcERhdGEiLCJ0cmlnZ2VyIiwicmVhZHlTdGF0ZSIsIkpRTGl0ZVByb3RvdHlwZSIsInJlYWR5IiwiQk9PTEVBTl9BVFRSIiwiQk9PTEVBTl9FTEVNRU5UUyIsIkFMSUFTRURfQVRUUiIsIm5nTWlubGVuZ3RoIiwibmdNYXhsZW5ndGgiLCJuZ01pbiIsIm5nTWF4IiwibmdQYXR0ZXJuIiwibmdTdGVwIiwiZ2V0Qm9vbGVhbkF0dHJOYW1lIiwiYm9vbGVhbkF0dHIiLCJkZWZhdWx0SGFuZGxlcldyYXBwZXIiLCJzcGVjaWFsTW91c2VIYW5kbGVyV3JhcHBlciIsInJlbGF0ZWQiLCJyZWxhdGVkVGFyZ2V0IiwiJCRqcUxpdGVQcm92aWRlciIsImhhc0NsYXNzIiwiY2xhc3NlcyIsImhhc2hLZXkiLCJuZXh0VWlkRm4iLCJvYmpUeXBlIiwicmVtb3ZlRGF0YSIsImhhc0RhdGEiLCJpc29sYXRlU2NvcGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjc3MiLCJyZXQiLCJsb3dlcmNhc2VkTmFtZSIsImlzQm9vbGVhbkF0dHIiLCJnZXRUZXh0IiwiJGR2IiwibXVsdGlwbGUiLCJzZWxlY3RlZCIsImFyZzIiLCJub2RlQ291bnQiLCJub2RlVmFsdWUiLCJldmVudEhhbmRsZXIiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJldmVudEZucyIsImV2ZW50Rm5zTGVuZ3RoIiwiaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkIiwib3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJzdG9wUHJvcGFnYXRpb24iLCJpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCIsImhhbmRsZXJXcmFwcGVyIiwic3BlY2lhbEhhbmRsZXJXcmFwcGVyIiwiYWRkSGFuZGxlciIsIm5vRXZlbnRMaXN0ZW5lciIsIm9uZSIsIm9uRm4iLCJyZXBsYWNlV2l0aCIsInJlcGxhY2VOb2RlIiwicmVwbGFjZUNoaWxkIiwiY29udGVudERvY3VtZW50IiwiY2hpbGQiLCJwcmVwZW5kIiwid3JhcE5vZGUiLCJkZXRhY2giLCJhZnRlciIsIm5ld0VsZW1lbnQiLCJ0b2dnbGVDbGFzcyIsImNvbmRpdGlvbiIsImNsYXNzQ29uZGl0aW9uIiwibmV4dCIsIm5leHRFbGVtZW50U2libGluZyIsInRyaWdnZXJIYW5kbGVyIiwiZXh0cmFQYXJhbWV0ZXJzIiwiZHVtbXlFdmVudCIsImV2ZW50Rm5zQ29weSIsImhhbmRsZXJBcmdzIiwiZXZlbnROYW1lIiwiYXJnMyIsIm5hbktleSIsIk5nTWFwU2hpbSIsIl9rZXlzIiwiX3ZhbHVlcyIsIl9sYXN0S2V5IiwiX2xhc3RJbmRleCIsIl9pZHgiLCJfdHJhbnNmb3JtS2V5IiwiZGVsZXRlIiwiTmdNYXAiLCIkJE1hcFByb3ZpZGVyIiwiQVJST1dfQVJHIiwiRk5fQVJHUyIsIkZOX0FSR19TUExJVCIsIkZOX0FSRyIsIiRpbmplY3Rvck1pbkVyciIsInN0cmluZ2lmeUZuIiwiZXh0cmFjdEFyZ3MiLCJmblRleHQiLCJtb2R1bGVzVG9Mb2FkIiwiSU5TVEFOVElBVElORyIsInByb3ZpZGVyU3VmZml4IiwibG9hZGVkTW9kdWxlcyIsInByb3ZpZGVyQ2FjaGUiLCJzdXBwb3J0T2JqZWN0IiwiaW5zdGFudGlhdGUiLCJpbnN0YW5jZUNhY2hlIiwiZGVjb3JGbiIsIm9yaWdQcm92aWRlciIsInByb3ZpZGVySW5qZWN0b3IiLCJvcmlnJGdldCIsIm9yaWdJbnN0YW5jZSIsImluc3RhbmNlSW5qZWN0b3IiLCIkZGVsZWdhdGUiLCJjcmVhdGVJbnRlcm5hbEluamVjdG9yIiwiY2FsbGVyIiwicHJvdG9JbnN0YW5jZUluamVjdG9yIiwicnVuQmxvY2tzIiwibG9hZE1vZHVsZXMiLCJsb2FkTmV3TW9kdWxlcyIsIm1vZHMiLCJwcm92aWRlcl8iLCJmYWN0b3J5Rm4iLCJlbmZvcmNlIiwibW9kdWxlRm4iLCJyZXF1aXJlcyIsIl9ydW5CbG9ja3MiLCJydW5JbnZva2VRdWV1ZSIsIl9pbnZva2VRdWV1ZSIsIl9jb25maWdCbG9ja3MiLCJpbnZva2VBcmdzIiwiZ2V0U2VydmljZSIsImluamVjdGlvbkFyZ3MiLCIkJGFubm90YXRlIiwiJCRuZ0lzQ2xhc3MiLCJpc0NsYXNzIiwiVHlwZSIsIiRBbmNob3JTY3JvbGxQcm92aWRlciIsImF1dG9TY3JvbGxpbmdFbmFibGVkIiwiZGlzYWJsZUF1dG9TY3JvbGxpbmciLCJzY3JvbGxUbyIsIm9mZnNldCIsInNjcm9sbCIsInlPZmZzZXQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJib3R0b20iLCJnZXRZT2Zmc2V0IiwiZWxlbVRvcCIsInRvcCIsInNjcm9sbEJ5IiwiZWxtIiwibGlzdCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJzb21lIiwibmV3VmFsIiwib2xkVmFsIiwiYWN0aW9uIiwid2luIiwidW5kZXJzY29yZSIsIiRhbmltYXRlTWluRXJyIiwiTkdfQU5JTUFURV9DTEFTU05BTUUiLCJtZXJnZUNsYXNzZXMiLCJwcmVwYXJlQW5pbWF0ZU9wdGlvbnMiLCIkJENvcmVBbmltYXRlSnNQcm92aWRlciIsIiQkQ29yZUFuaW1hdGVRdWV1ZVByb3ZpZGVyIiwicG9zdERpZ2VzdFF1ZXVlIiwicG9zdERpZ2VzdEVsZW1lbnRzIiwiJCRBbmltYXRlUnVubmVyIiwicGluIiwiZG9tT3BlcmF0aW9uIiwiYWRkIiwiY2xhc3Nlc0FkZGVkIiwiY2xhc3Nlc1JlbW92ZWQiLCJ1cGRhdGVEYXRhIiwiJCRwb3N0RGlnZXN0IiwiaGFuZGxlQ1NTQ2xhc3NDaGFuZ2VzIiwicnVubmVyIiwiY29tcGxldGUiLCJleGlzdGluZyIsImtsYXNzIiwidG9BZGQiLCJ0b1JlbW92ZSIsInN0YXR1cyIsIiRBbmltYXRlUHJvdmlkZXIiLCJjbGFzc05hbWVGaWx0ZXIiLCJjdXN0b21GaWx0ZXIiLCIkJHJlZ2lzdGVyZWRBbmltYXRpb25zIiwiZmlsdGVyRm4iLCJleHByZXNzaW9uIiwiJCRhbmltYXRlUXVldWUiLCJkb21JbnNlcnQiLCJwYXJlbnRFbGVtZW50IiwiYWZ0ZXJFbGVtZW50IiwiYWZ0ZXJOb2RlIiwiZXh0cmFjdEVsZW1lbnROb2RlIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsIm1vdmUiLCJhZGRjbGFzcyIsInNldENsYXNzIiwiYW5pbWF0ZSIsInRlbXBDbGFzc2VzIiwiJCRBbmltYXRlQXN5bmNSdW5GYWN0b3J5UHJvdmlkZXIiLCIkJHJBRiIsIndhaXRRdWV1ZSIsIndhaXRGb3JUaWNrIiwicGFzc2VkIiwiJCRBbmltYXRlUnVubmVyRmFjdG9yeVByb3ZpZGVyIiwiJCRhbmltYXRlQXN5bmNSdW4iLCIkJGlzRG9jdW1lbnRIaWRkZW4iLCJBbmltYXRlUnVubmVyIiwic2V0SG9zdCIsInJhZlRpY2siLCJfZG9uZUNhbGxiYWNrcyIsIl90aWNrIiwicnVubmVycyIsIm9uUHJvZ3Jlc3MiLCJwcm9ncmVzcyIsImdldFByb21pc2UiLCJyZXNvbHZlSGFuZGxlciIsInJlamVjdEhhbmRsZXIiLCJmaW5hbGx5IiwicGF1c2UiLCJyZXN1bWUiLCJfcmVzb2x2ZSIsIiRDb3JlQW5pbWF0ZUNzc1Byb3ZpZGVyIiwiaW5pdGlhbE9wdGlvbnMiLCIkJHByZXBhcmVkIiwiY2xlYW51cFN0eWxlcyIsImNsb3NlZCIsImFwcGx5QW5pbWF0aW9uQ29udGVudHMiLCJCcm93c2VyIiwiJCR0YXNrVHJhY2tlckZhY3RvcnkiLCJjbGVhclRpbWVvdXQiLCJwZW5kaW5nRGVmZXJJZHMiLCJ0YXNrVHJhY2tlciIsImlzTW9jayIsIiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QiLCJjb21wbGV0ZVRhc2siLCIkJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50IiwiaW5jVGFza0NvdW50Iiwibm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cyIsIm5vdGlmeVdoZW5Ob1BlbmRpbmdUYXNrcyIsImNhY2hlZFN0YXRlIiwibGFzdEhpc3RvcnlTdGF0ZSIsImxhc3RCcm93c2VyVXJsIiwiYmFzZUVsZW1lbnQiLCJwZW5kaW5nTG9jYXRpb24iLCJnZXRDdXJyZW50U3RhdGUiLCJjYWNoZVN0YXRlIiwic2FtZVN0YXRlIiwidXJsUmVzb2x2ZSIsInNhbWVCYXNlIiwic3RyaXBIYXNoIiwidXJsQ2hhbmdlTGlzdGVuZXJzIiwidXJsQ2hhbmdlSW5pdCIsImNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlIiwiZmlyZVN0YXRlT3JVcmxDaGFuZ2UiLCJsYXN0Q2FjaGVkU3RhdGUiLCJwcmV2TGFzdEhpc3RvcnlTdGF0ZSIsIm9uVXJsQ2hhbmdlIiwiJCRhcHBsaWNhdGlvbkRlc3Ryb3llZCIsIiQkY2hlY2tVcmxDaGFuZ2UiLCJkZWxheSIsInRhc2tUeXBlIiwidGltZW91dElkIiwiREVGQVVMVF9UQVNLX1RZUEUiLCJkZWZlcklkIiwiJEJyb3dzZXJQcm92aWRlciIsIiRDYWNoZUZhY3RvcnlQcm92aWRlciIsImNhY2hlcyIsImNhY2hlRmFjdG9yeSIsImNhY2hlSWQiLCJzdGF0cyIsImNhcGFjaXR5IiwiTUFYX1ZBTFVFIiwibHJ1SGFzaCIsImZyZXNoRW5kIiwic3RhbGVFbmQiLCJscnVFbnRyeSIsInJlbW92ZUFsbCIsImRlc3Ryb3kiLCJlbnRyeSIsIm5leHRFbnRyeSIsInByZXZFbnRyeSIsIiRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIiLCIkY29tcGlsZU1pbkVyciIsIl9VTklOSVRJQUxJWkVEX1ZBTFVFIiwiJENvbXBpbGVQcm92aWRlciIsIiQkc2FuaXRpemVVcmlQcm92aWRlciIsImhhc0RpcmVjdGl2ZXMiLCJTdWZmaXgiLCJDT01NRU5UX0RJUkVDVElWRV9SRUdFWFAiLCJDTEFTU19ESVJFQ1RJVkVfUkVHRVhQIiwiQUxMX09SX05PVEhJTkdfQVRUUlMiLCJtYWtlTWFwIiwiUkVRVUlSRV9QUkVGSVhfUkVHRVhQIiwiRVZFTlRfSEFORExFUl9BVFRSX1JFR0VYUCIsImJpbmRpbmdDYWNoZSIsInBhcnNlSXNvbGF0ZUJpbmRpbmdzIiwiZGlyZWN0aXZlTmFtZSIsImlzQ29udHJvbGxlciIsIkxPQ0FMX1JFR0VYUCIsInNjb3BlTmFtZSIsInBhcnNlRGlyZWN0aXZlQmluZGluZ3MiLCJyZWdpc3RlckRpcmVjdGl2ZSIsImRpcmVjdGl2ZUZhY3RvcnkiLCJhc3NlcnRWYWxpZERpcmVjdGl2ZU5hbWUiLCIkZXhjZXB0aW9uSGFuZGxlciIsImRpcmVjdGl2ZXMiLCJnZXREaXJlY3RpdmVSZXN0cmljdCIsIiQkbW9kdWxlTmFtZSIsInJlZ2lzdGVyQ29tcG9uZW50IiwibWFrZUluamVjdGFibGUiLCJkZG8iLCJpZGVudCIsIkNOVFJMX1JFRyIsImlkZW50aWZpZXJGb3JDb250cm9sbGVyIiwiYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QiLCJpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QiLCJzdHJpY3RDb21wb25lbnRCaW5kaW5nc0VuYWJsZWQiLCJUVEwiLCJvbkNoYW5nZXNUdGwiLCJjb21tZW50RGlyZWN0aXZlc0VuYWJsZWRDb25maWciLCJjb21tZW50RGlyZWN0aXZlc0VuYWJsZWQiLCJjc3NDbGFzc0RpcmVjdGl2ZXNFbmFibGVkQ29uZmlnIiwiY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZCIsIlBST1BfQ09OVEVYVFMiLCJhZGRQcm9wZXJ0eVNlY3VyaXR5Q29udGV4dCIsImVsZW1lbnROYW1lIiwicHJvcGVydHlOYW1lIiwicmVnaXN0ZXJDb250ZXh0IiwiU0NFX0NPTlRFWFRTIiwiSFRNTCIsIlVSTCIsIk1FRElBX1VSTCIsIlJFU09VUkNFX1VSTCIsIm9uQ2hhbmdlc1F1ZXVlIiwiU0lNUExFX0FUVFJfTkFNRSIsInNwZWNpYWxBdHRySG9sZGVyIiwiZmx1c2hPbkNoYW5nZXNRdWV1ZSIsInNhbml0aXplU3Jjc2V0IiwiaW52b2tlVHlwZSIsInRyaW1tZWRTcmNzZXQiLCJyYXdVcmlzIiwibmJyVXJpc1dpdGgycGFydHMiLCJmbG9vciIsImlubmVySWR4IiwiZ2V0VHJ1c3RlZE1lZGlhVXJsIiwibGFzdFR1cGxlIiwiQXR0cmlidXRlcyIsImF0dHJpYnV0ZXNUb0NvcHkiLCIkJGVsZW1lbnQiLCJzYWZlQWRkQ2xhc3MiLCJkaXJlY3RpdmVOb3JtYWxpemUiLCIkYWRkQ2xhc3MiLCJjbGFzc1ZhbCIsIiRyZW1vdmVDbGFzcyIsIiR1cGRhdGVDbGFzcyIsIm9sZENsYXNzZXMiLCJ0b2tlbkRpZmZlcmVuY2UiLCJ3cml0ZUF0dHIiLCJib29sZWFuS2V5Iiwib2JzZXJ2ZXIiLCJyZW1vdmVOYW1lZEl0ZW0iLCJzZXROYW1lZEl0ZW0iLCJzZXRTcGVjaWFsQXR0ciIsIiQkb2JzZXJ2ZXJzIiwiJCRpbnRlciIsImRlbm9ybWFsaXplVGVtcGxhdGUiLCJOR19QUkVGSVhfQklORElORyIsIk1VTFRJX0VMRU1FTlRfRElSX1JFIiwiJCRhZGRCaW5kaW5nSW5mbyIsImJpbmRpbmciLCIkJGFkZEJpbmRpbmdDbGFzcyIsIiQkYWRkU2NvcGVJbmZvIiwiaXNvbGF0ZWQiLCJub1RlbXBsYXRlIiwiZGF0YU5hbWUiLCIkJGFkZFNjb3BlQ2xhc3MiLCIkJGNyZWF0ZUNvbW1lbnQiLCJjb21tZW50IiwiY29udGVudCIsImNyZWF0ZUNvbW1lbnQiLCIkY29tcGlsZU5vZGVzIiwidHJhbnNjbHVkZUZuIiwibWF4UHJpb3JpdHkiLCJpZ25vcmVEaXJlY3RpdmUiLCJwcmV2aW91c0NvbXBpbGVDb250ZXh0IiwiY29tcG9zaXRlTGlua0ZuIiwiY29tcGlsZU5vZGVzIiwibmFtZXNwYWNlIiwiY2xvbmVDb25uZWN0Rm4iLCJuZWVkc05ld1Njb3BlIiwiJGxpbmtOb2RlIiwicGFyZW50Qm91bmRUcmFuc2NsdWRlRm4iLCJ0cmFuc2NsdWRlQ29udHJvbGxlcnMiLCJmdXR1cmVQYXJlbnRFbGVtZW50IiwiJCRib3VuZFRyYW5zY2x1ZGUiLCJ3cmFwVGVtcGxhdGUiLCJjb250cm9sbGVyTmFtZSIsImluc3RhbmNlIiwibm9kZUxpc3QiLCIkcm9vdEVsZW1lbnQiLCJub2RlTGlua0ZuIiwiY2hpbGRMaW5rRm4iLCJsaW5rRm5Gb3VuZCIsIm5vZGVMaW5rRm5Gb3VuZCIsImxpbmtGbnMiLCJub3RMaXZlTGlzdCIsIm1lcmdlQ29uc2VjdXRpdmVUZXh0Tm9kZXMiLCJjb2xsZWN0RGlyZWN0aXZlcyIsImFwcGx5RGlyZWN0aXZlc1RvTm9kZSIsInRyYW5zY2x1ZGVPblRoaXNFbGVtZW50IiwidGVtcGxhdGVPblRoaXNFbGVtZW50IiwiY2hpbGRTY29wZSIsImNoaWxkQm91bmRUcmFuc2NsdWRlRm4iLCJzdGFibGVOb2RlTGlzdCIsIm5vZGVMaXN0TGVuZ3RoIiwiY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4iLCJzaWJsaW5nIiwicHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbiIsImJvdW5kVHJhbnNjbHVkZUZuIiwidHJhbnNjbHVkZWRTY29wZSIsImNsb25lRm4iLCJjb250cm9sbGVycyIsImNvbnRhaW5pbmdTY29wZSIsIiQkdHJhbnNjbHVkZWQiLCJib3VuZFNsb3RzIiwiJCRzbG90cyIsInNsb3ROYW1lIiwiaW50ZXJwb2xhdGVGbiIsImF0dHJzTWFwIiwiYWRkRGlyZWN0aXZlIiwibk5hbWUiLCJuZ1ByZWZpeE1hdGNoIiwibkF0dHJzIiwibXVsdGlFbGVtZW50TWF0Y2giLCJhdHRyU3RhcnROYW1lIiwiYXR0ckVuZE5hbWUiLCJpc05nQXR0ciIsImlzTmdQcm9wIiwiaXNOZ0V2ZW50IiwiUFJFRklYX1JFR0VYUCIsImRpcmVjdGl2ZUlzTXVsdGlFbGVtZW50IiwiYWRkUHJvcGVydHlEaXJlY3RpdmUiLCJjcmVhdGVFdmVudERpcmVjdGl2ZSIsImFkZEF0dHJJbnRlcnBvbGF0ZURpcmVjdGl2ZSIsImFuaW1WYWwiLCJ0ZW1wbGF0ZU5vZGUiLCJ0ZW1wbGF0ZU5vZGVQYXJlbnQiLCJoYXNDb21waWxlUGFyZW50IiwiZXhwcmVzc2lvbnMiLCJjb2xsZWN0Q29tbWVudERpcmVjdGl2ZXMiLCJieVByaW9yaXR5IiwiZ3JvdXBTY2FuIiwiYXR0clN0YXJ0IiwiYXR0ckVuZCIsImRlcHRoIiwiZ3JvdXBFbGVtZW50c0xpbmtGbldyYXBwZXIiLCJsaW5rRm4iLCJjb21waWxhdGlvbkdlbmVyYXRvciIsImVhZ2VyIiwiY29tcGlsZWQiLCJjb21waWxlTm9kZSIsInRlbXBsYXRlQXR0cnMiLCJqcUNvbGxlY3Rpb24iLCJvcmlnaW5hbFJlcGxhY2VEaXJlY3RpdmUiLCJwcmVMaW5rRm5zIiwicG9zdExpbmtGbnMiLCIkdGVtcGxhdGUiLCJkaXJlY3RpdmVWYWx1ZSIsInRlcm1pbmFsUHJpb3JpdHkiLCJuZXdTY29wZURpcmVjdGl2ZSIsImNvbnRyb2xsZXJEaXJlY3RpdmVzIiwibmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIiwidGVtcGxhdGVEaXJlY3RpdmUiLCJub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlIiwiaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSIsImhhc1RlbXBsYXRlIiwiaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUiLCIkY29tcGlsZU5vZGUiLCJyZXBsYWNlRGlyZWN0aXZlIiwiY2hpbGRUcmFuc2NsdWRlRm4iLCJkaWRTY2FuRm9yTXVsdGlwbGVUcmFuc2NsdXNpb24iLCJtaWdodEhhdmVNdWx0aXBsZVRyYW5zY2x1c2lvbkVycm9yIiwiJCRzdGFydCIsIiQkZW5kIiwiYXNzZXJ0Tm9EdXBsaWNhdGUiLCIkJHRsYiIsImNhbmRpZGF0ZURpcmVjdGl2ZSIsInNjYW5uaW5nSW5kZXgiLCJzbG90cyIsInNsb3RNYXAiLCJmaWxsZWRTbG90cyIsImVsZW1lbnRTZWxlY3RvciIsImZpbGxlZCIsInNsb3RDb21waWxlTm9kZXMiLCIkJGlzb2xhdGVTY29wZSIsIiQkbmV3U2NvcGUiLCJyZW1vdmVDb21tZW50cyIsInRlbXBsYXRlTmFtZXNwYWNlIiwibmV3VGVtcGxhdGVBdHRycyIsInRlbXBsYXRlRGlyZWN0aXZlcyIsInVucHJvY2Vzc2VkRGlyZWN0aXZlcyIsIm1hcmtEaXJlY3RpdmVTY29wZSIsIm1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzIiwiY29tcGlsZVRlbXBsYXRlVXJsIiwiJCRvcmlnaW5hbERpcmVjdGl2ZSIsImFkZExpbmtGbnMiLCJwb3N0IiwiY2xvbmVBbmRBbm5vdGF0ZUZuIiwibGlua05vZGUiLCJjb250cm9sbGVyU2NvcGUiLCJlbGVtZW50Q29udHJvbGxlcnMiLCJzY29wZUJpbmRpbmdJbmZvIiwiY2xvbmVBdHRhY2hGbiIsInNjb3BlVG9DaGlsZCIsInNsb3RUcmFuc2NsdWRlRm4iLCJpc1Nsb3RGaWxsZWQiLCJjb250cm9sbGVyS2V5Iiwic2V0dXBDb250cm9sbGVycyIsIiQkaXNvbGF0ZUJpbmRpbmdzIiwiaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzIiwicmVtb3ZlV2F0Y2hlcyIsImNvbnRyb2xsZXJEaXJlY3RpdmUiLCIkJGJpbmRpbmdzIiwiYmluZGluZ0luZm8iLCJnZXRDb250cm9sbGVycyIsIiRvbkNoYW5nZXMiLCJpbml0aWFsQ2hhbmdlcyIsIiRkb0NoZWNrIiwiJG9uRGVzdHJveSIsImludm9rZUxpbmtGbiIsIiRwb3N0TGluayIsImluaGVyaXRUeXBlIiwicHJvcGVydHkiLCJ0RGlyZWN0aXZlcyIsInN0YXJ0QXR0ck5hbWUiLCJlbmRBdHRyTmFtZSIsIm11bHRpRWxlbWVudCIsInNyY0F0dHIiLCJkc3RBdHRyIiwiYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4iLCJhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4iLCJsaW5rUXVldWUiLCJiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlIiwib3JpZ0FzeW5jRGlyZWN0aXZlIiwiZGVyaXZlZFN5bmNEaXJlY3RpdmUiLCJ0ZW1wVGVtcGxhdGVBdHRycyIsImJlZm9yZVRlbXBsYXRlTGlua05vZGUiLCJsaW5rUm9vdEVsZW1lbnQiLCIkJGRlc3Ryb3llZCIsImlnbm9yZUNoaWxkTGlua0ZuIiwicHJldmlvdXNEaXJlY3RpdmUiLCJ3cmFwTW9kdWxlTmFtZUlmRGVmaW5lZCIsIm1vZHVsZU5hbWUiLCJzYW5pdGl6ZVNyY3NldFByb3BlcnR5VmFsdWUiLCJ0cnVzdGVkQ29udGV4dCIsInNhbml0aXplciIsImdldFRydXN0ZWQiLCJuZ1Byb3BHZXR0ZXIiLCJuZ1Byb3BXYXRjaCIsImFwcGx5UHJvcFZhbHVlIiwicHJvcFZhbHVlIiwiYXR0ck5vcm1hbGl6ZWROYW1lIiwibXVzdEhhdmVFeHByZXNzaW9uIiwiYWxsT3JOb3RoaW5nIiwiJCRzY29wZSIsIm9sZFZhbHVlIiwiZWxlbWVudHNUb1JlbW92ZSIsIm5ld05vZGUiLCJmaXJzdEVsZW1lbnRUb1JlbW92ZSIsInJlbW92ZUNvdW50IiwiajIiLCJhbm5vdGF0aW9uIiwic3RyaWN0QmluZGluZ3NDaGVjayIsInJlbW92ZVdhdGNoQ29sbGVjdGlvbiIsInJlY29yZENoYW5nZXMiLCJjdXJyZW50VmFsdWUiLCJwcmV2aW91c1ZhbHVlIiwidHJpZ2dlck9uQ2hhbmdlc0hvb2siLCJTaW1wbGVDaGFuZ2UiLCJsYXN0VmFsdWUiLCJwYXJlbnRHZXQiLCJwYXJlbnRTZXQiLCJyZW1vdmVXYXRjaCIsInBhcmVudFZhbHVlV2F0Y2giLCJwYXJlbnRWYWx1ZSIsIiR3YXRjaENvbGxlY3Rpb24iLCJpc0xpdGVyYWwiLCJpbml0aWFsVmFsdWUiLCJwcmV2aW91cyIsImlzRmlyc3RDaGFuZ2UiLCJTUEVDSUFMX0NIQVJTX1JFR0VYUCIsInN0cjEiLCJzdHIyIiwidG9rZW5zMSIsInRva2VuczIiLCJvdXRlciIsImpxTm9kZXMiLCIkY29udHJvbGxlck1pbkVyciIsIiRDb250cm9sbGVyUHJvdmlkZXIiLCJsYXRlciIsImJpbmRGblRvU2NvcGUiLCJsYXN0SW5zdGFuY2UiLCJnZXR0ZXIiLCJjb250cm9sbGVyUHJvdG90eXBlIiwiYWRkSWRlbnRpZmllciIsIiREb2N1bWVudFByb3ZpZGVyIiwiJCRJc0RvY3VtZW50SGlkZGVuUHJvdmlkZXIiLCJkb2MiLCJoaWRkZW4iLCJjaGFuZ2VMaXN0ZW5lciIsIiRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIiLCJleGNlcHRpb24iLCJjYXVzZSIsIiQkRm9yY2VSZWZsb3dQcm92aWRlciIsImRvbU5vZGUiLCJvZmZzZXRXaWR0aCIsIkFQUExJQ0FUSU9OX0pTT04iLCJDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiIsIkNvbnRlbnQtVHlwZSIsIkpTT05fU1RBUlQiLCJKU09OX0VORFMiLCJbIiwieyIsIkpTT05fUFJPVEVDVElPTl9QUkVGSVgiLCIkaHR0cE1pbkVyciIsInNlcmlhbGl6ZVZhbHVlIiwidG9JU09TdHJpbmciLCIkSHR0cFBhcmFtU2VyaWFsaXplclByb3ZpZGVyIiwiJEh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VQcm92aWRlciIsInNlcmlhbGl6ZSIsInRvU2VyaWFsaXplIiwidG9wTGV2ZWwiLCJkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtIiwidGVtcERhdGEiLCJjb250ZW50VHlwZSIsImhhc0pzb25Db250ZW50VHlwZSIsImpzb25TdGFydCIsInBhcnNlSGVhZGVycyIsImZpbGxJblBhcnNlZCIsImxpbmUiLCJoZWFkZXJWYWwiLCJoZWFkZXJLZXkiLCJoZWFkZXJzR2V0dGVyIiwiaGVhZGVyc09iaiIsInRyYW5zZm9ybURhdGEiLCJpc1N1Y2Nlc3MiLCIkSHR0cFByb3ZpZGVyIiwidHJhbnNmb3JtUmVzcG9uc2UiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiY29tbW9uIiwicGF0Y2giLCJ4c3JmQ29va2llTmFtZSIsInhzcmZIZWFkZXJOYW1lIiwicGFyYW1TZXJpYWxpemVyIiwianNvbnBDYWxsYmFja1BhcmFtIiwidXNlQXBwbHlBc3luYyIsImludGVyY2VwdG9yRmFjdG9yaWVzIiwiaW50ZXJjZXB0b3JzIiwieHNyZldoaXRlbGlzdGVkT3JpZ2lucyIsIiRodHRwQmFja2VuZCIsImRlZmF1bHRDYWNoZSIsInJldmVyc2VkSW50ZXJjZXB0b3JzIiwiaW50ZXJjZXB0b3JGYWN0b3J5IiwicGFyc2VkQWxsb3dlZE9yaWdpblVybHMiLCJ1cmxJc0FsbG93ZWRPcmlnaW4iLCJvcmlnaW5VcmwiLCJyZXF1ZXN0VXJsIiwicGFyc2VkVXJsIiwidXJsc0FyZVNhbWVPcmlnaW4iLCJyZXF1ZXN0Q29uZmlnIiwiZGVmSGVhZGVyTmFtZSIsImxvd2VyY2FzZURlZkhlYWRlck5hbWUiLCJyZXFIZWFkZXJOYW1lIiwiZGVmSGVhZGVycyIsInJlcUhlYWRlcnMiLCJkZWZhdWx0SGVhZGVyc0l0ZXJhdGlvbiIsInByb2Nlc3NlZEhlYWRlcnMiLCJoZWFkZXJGbiIsImhlYWRlciIsImhlYWRlckNvbnRlbnQiLCJtZXJnZUhlYWRlcnMiLCJyZXF1ZXN0SW50ZXJjZXB0b3JzIiwicmVzcG9uc2VJbnRlcmNlcHRvcnMiLCJpbnRlcmNlcHRvciIsInJlcXVlc3QiLCJyZXF1ZXN0RXJyb3IiLCJyZXNwb25zZUVycm9yIiwiY2hhaW5JbnRlcmNlcHRvcnMiLCJyZXFEYXRhIiwid2l0aENyZWRlbnRpYWxzIiwiY2FjaGVkUmVzcCIsImlzSnNvbnAiLCJnZXRUcnVzdGVkUmVzb3VyY2VVcmwiLCJzZXJpYWxpemVkUGFyYW1zIiwiY2JLZXkiLCJzYW5pdGl6ZUpzb25wQ2FsbGJhY2tQYXJhbSIsInBlbmRpbmdSZXF1ZXN0cyIsInJlbW92ZVBlbmRpbmdSZXEiLCJyZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQiLCJyZXNvbHZlUHJvbWlzZSIsInhzcmZWYWx1ZSIsImhlYWRlcnNTdHJpbmciLCJzdGF0dXNUZXh0IiwieGhyU3RhdHVzIiwicmVzb2x2ZUh0dHBQcm9taXNlIiwiJGFwcGx5QXN5bmMiLCIkJHBoYXNlIiwidGltZW91dCIsImNyZWF0ZUFwcGx5SGFuZGxlcnMiLCJldmVudEhhbmRsZXJzIiwidXBsb2FkRXZlbnRIYW5kbGVycyIsImFwcGx5SGFuZGxlcnMiLCJjYWxsRXZlbnRIYW5kbGVyIiwic2VuZFJlcSIsInRoZW5GbiIsInJlamVjdEZuIiwicmVzcCIsImNyZWF0ZVNob3J0TWV0aG9kcyIsImNyZWF0ZVNob3J0TWV0aG9kc1dpdGhEYXRhIiwiJHhockZhY3RvcnlQcm92aWRlciIsIiRIdHRwQmFja2VuZFByb3ZpZGVyIiwiJGpzb25wQ2FsbGJhY2tzIiwiJHhockZhY3RvcnkiLCJjcmVhdGVYaHIiLCIkYnJvd3NlckRlZmVyIiwiY2FsbGJhY2tzIiwiY2FsbGJhY2tQYXRoIiwiY3JlYXRlQ2FsbGJhY2siLCJqc29ucERvbmUiLCJ3YXNDYWxsZWQiLCJqc29ucFJlcSIsImdldFJlc3BvbnNlIiwiY29tcGxldGVSZXF1ZXN0IiwicmVtb3ZlQ2FsbGJhY2siLCJhYm9ydGVkQnlUaW1lb3V0Iiwic2V0UmVxdWVzdEhlYWRlciIsIm9ubG9hZCIsInJlc3BvbnNlVGV4dCIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsIm9uZXJyb3IiLCJvbnRpbWVvdXQiLCJvbmFib3J0IiwidXBsb2FkIiwidGltZW91dFJlcXVlc3QiLCIkJHRpbWVvdXRJZCIsIiRpbnRlcnBvbGF0ZU1pbkVyciIsIiRJbnRlcnBvbGF0ZVByb3ZpZGVyIiwic3RhcnRTeW1ib2xMZW5ndGgiLCJlbmRTeW1ib2xMZW5ndGgiLCJlc2NhcGVkU3RhcnRSZWdleHAiLCJlc2NhcGVkRW5kUmVnZXhwIiwiY2giLCJ1bmVzY2FwZVRleHQiLCJjb25zdGFudFdhdGNoRGVsZWdhdGUiLCJvYmplY3RFcXVhbGl0eSIsImNvbnN0YW50SW50ZXJwIiwidW53YXRjaCIsImNvbnRleHRBbGxvd3NDb25jYXRlbmF0aW9uIiwidW5lc2NhcGVkVGV4dCIsImV4cCIsIiQkd2F0Y2hEZWxlZ2F0ZSIsImVuZEluZGV4IiwicGFyc2VGbnMiLCJzaW5nbGVFeHByZXNzaW9uIiwidGV4dExlbmd0aCIsImV4cHJlc3Npb25Qb3NpdGlvbnMiLCJpbnRlcnIiLCJjb21wdXRlIiwidGhyb3dOb2NvbmNhdCIsIiR3YXRjaEdyb3VwIiwib2xkVmFsdWVzIiwiY3VyclZhbHVlIiwiJGludGVydmFsTWluRXJyIiwiJEludGVydmFsUHJvdmlkZXIiLCIkJGludGVydmFsRmFjdG9yeSIsImludGVydmFscyIsImNsZWFySW50ZXJ2YWxGbiIsImNsZWFySW50ZXJ2YWwiLCJpbnRlcnZhbCIsInRpY2siLCJzZXRJbnRlcnZhbCIsIiQkaW50ZXJ2YWxJZCIsIm1hcmtRRXhjZXB0aW9uSGFuZGxlZCIsIiQkSW50ZXJ2YWxGYWN0b3J5UHJvdmlkZXIiLCIkJHEiLCJzZXRJbnRlcnZhbEZuIiwiaW52b2tlQXBwbHkiLCJoYXNQYXJhbXMiLCJpdGVyYXRpb24iLCJza2lwQXBwbHkiLCIkanNvbnBDYWxsYmFja3NQcm92aWRlciIsImNhbGxiYWNrTWFwIiwiY2FsbGJhY2tJZCIsIiQkY291bnRlciIsImNhbGxlZCIsIlBBVEhfTUFUQ0giLCJERUZBVUxUX1BPUlRTIiwiaHR0cCIsImh0dHBzIiwiZnRwIiwiJGxvY2F0aW9uTWluRXJyIiwibm9ybWFsaXplUGF0aCIsInBhdGhWYWx1ZSIsInNlYXJjaFZhbHVlIiwiaGFzaFZhbHVlIiwiYXJyYXlWYWx1ZSIsImVuY29kZVBhdGgiLCJwYXJzZUFic29sdXRlVXJsIiwiYWJzb2x1dGVVcmwiLCJsb2NhdGlvbk9iaiIsIiQkcHJvdG9jb2wiLCIkJGhvc3QiLCIkJHBvcnQiLCJET1VCTEVfU0xBU0hfUkVHRVgiLCJwYXJzZUFwcFVybCIsInByZWZpeGVkIiwiJCRwYXRoIiwiZGVjb2RlUGF0aCIsIiQkc2VhcmNoIiwiJCRoYXNoIiwic3RhcnRzV2l0aCIsInN0cmlwQmFzZVVybCIsIkxvY2F0aW9uSHRtbDVVcmwiLCJhcHBCYXNlIiwiYXBwQmFzZU5vRmlsZSIsIiQkaHRtbDUiLCIkJHBhcnNlIiwicGF0aFVybCIsIiQkY29tcG9zZSIsIiQkbm9ybWFsaXplVXJsIiwiJCRwYXJzZUxpbmtVcmwiLCJyZWxIcmVmIiwiYXBwVXJsIiwicHJldkFwcFVybCIsInJld3JpdHRlblVybCIsIkxvY2F0aW9uSGFzaGJhbmdVcmwiLCJ3aXRob3V0SGFzaFVybCIsIndpdGhvdXRCYXNlVXJsIiwiZmlyc3RQYXRoU2VnbWVudE1hdGNoIiwid2luZG93c0ZpbGVQYXRoRXhwIiwicmVtb3ZlV2luZG93c0RyaXZlTmFtZSIsIkxvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsIiwibG9jYXRpb25Qcm90b3R5cGUiLCIkJGFic1VybCIsIiQkcmVwbGFjZSIsIiQkdXJsIiwiJCR1cmxVcGRhdGVkQnlMb2NhdGlvbiIsImFic1VybCIsImxvY2F0aW9uR2V0dGVyIiwibG9jYXRpb25HZXR0ZXJTZXR0ZXIiLCJwYXJhbVZhbHVlIiwicHJlcHJvY2VzcyIsIiRMb2NhdGlvblByb3ZpZGVyIiwicmVxdWlyZUJhc2UiLCJyZXdyaXRlTGlua3MiLCJMb2NhdGlvbk1vZGUiLCJpbml0aWFsVXJsIiwiSUdOT1JFX1VSSV9SRUdFWFAiLCJzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrIiwib2xkVXJsIiwib2xkU3RhdGUiLCJhYnNIcmVmIiwiaW5pdGlhbGl6aW5nIiwiYWZ0ZXJMb2NhdGlvbkNoYW5nZSIsIiRkaWdlc3QiLCJjdXJyZW50UmVwbGFjZSIsInVybE9yU3RhdGVDaGFuZ2VkIiwiJExvZ1Byb3ZpZGVyIiwiZGVidWciLCJkZWJ1Z0VuYWJsZWQiLCJmb3JtYXRTdGFja1RyYWNlIiwidXNlckFnZW50IiwibG9nRm4iLCJzb3VyY2VVUkwiLCJMb2NhdGlvbiIsIiRwYXJzZU1pbkVyciIsIm9iamVjdFZhbHVlT2YiLCJnZXRTdHJpbmdWYWx1ZSIsIk9QRVJBVE9SUyIsIm9wZXJhdG9yIiwiRVNDQVBFIiwiJyIsIlwiIiwiTGV4ZXIiLCJsZXgiLCJ0b2tlbnMiLCJyZWFkU3RyaW5nIiwicGVlayIsInJlYWROdW1iZXIiLCJpc0lkZW50aWZpZXJTdGFydCIsInBlZWtNdWx0aWNoYXIiLCJyZWFkSWRlbnQiLCJpc1doaXRlc3BhY2UiLCJjaDIiLCJjaDMiLCJvcDEiLCJvcDIiLCJvcDMiLCJ0aHJvd0Vycm9yIiwiY29kZVBvaW50QXQiLCJpc1ZhbGlkSWRlbnRpZmllclN0YXJ0IiwiaXNJZGVudGlmaWVyQ29udGludWUiLCJpc1ZhbGlkSWRlbnRpZmllckNvbnRpbnVlIiwiY3AiLCJjcDEiLCJjcDIiLCJpc0V4cE9wZXJhdG9yIiwiY29sU3RyIiwibnVtYmVyIiwicGVla0NoIiwicXVvdGUiLCJyYXdTdHJpbmciLCJoZXgiLCJmcm9tQ2hhckNvZGUiLCJBU1QiLCJsZXhlciIsImlmRGVmaW5lZCIsInBsdXNGbiIsIlByb2dyYW0iLCJFeHByZXNzaW9uU3RhdGVtZW50IiwiQXNzaWdubWVudEV4cHJlc3Npb24iLCJDb25kaXRpb25hbEV4cHJlc3Npb24iLCJMb2dpY2FsRXhwcmVzc2lvbiIsIkJpbmFyeUV4cHJlc3Npb24iLCJVbmFyeUV4cHJlc3Npb24iLCJDYWxsRXhwcmVzc2lvbiIsIk1lbWJlckV4cHJlc3Npb24iLCJJZGVudGlmaWVyIiwiTGl0ZXJhbCIsIkFycmF5RXhwcmVzc2lvbiIsIlByb3BlcnR5IiwiT2JqZWN0RXhwcmVzc2lvbiIsIlRoaXNFeHByZXNzaW9uIiwiTG9jYWxzRXhwcmVzc2lvbiIsIk5HVmFsdWVQYXJhbWV0ZXIiLCJhc3QiLCJwcm9ncmFtIiwiZXhwcmVzc2lvblN0YXRlbWVudCIsImV4cGVjdCIsImZpbHRlckNoYWluIiwiYXNzaWdubWVudCIsInRlcm5hcnkiLCJpc0Fzc2lnbmFibGUiLCJhbHRlcm5hdGUiLCJjb25zZXF1ZW50IiwibG9naWNhbE9SIiwiY29uc3VtZSIsImxvZ2ljYWxBTkQiLCJlcXVhbGl0eSIsInJlbGF0aW9uYWwiLCJhZGRpdGl2ZSIsIm11bHRpcGxpY2F0aXZlIiwidW5hcnkiLCJhcmd1bWVudCIsInByaW1hcnkiLCJhcnJheURlY2xhcmF0aW9uIiwic2VsZlJlZmVyZW50aWFsIiwibGl0ZXJhbHMiLCJjYWxsZWUiLCJwYXJzZUFyZ3VtZW50cyIsImNvbXB1dGVkIiwiYmFzZUV4cHJlc3Npb24iLCJwZWVrVG9rZW4iLCJwcm9wZXJ0aWVzIiwia2luZCIsIm1zZyIsImUxIiwiZTIiLCJlMyIsImU0IiwicGVla0FoZWFkIiwiJGxvY2FscyIsIlBVUklUWV9BQlNPTFVURSIsIlBVUklUWV9SRUxBVElWRSIsImZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMiLCIkZmlsdGVyIiwicGFyZW50SXNQdXJlIiwiYWxsQ29uc3RhbnRzIiwiYXJnc1RvV2F0Y2giLCJpc1N0YXRlbGVzc0ZpbHRlciIsImZpbHRlck5hbWUiLCJhc3RJc1B1cmUiLCJpc1B1cmUiLCJ0b1dhdGNoIiwiZ2V0SW5wdXRzIiwibGFzdEV4cHJlc3Npb24iLCJhc3NpZ25hYmxlQVNUIiwiQVNUQ29tcGlsZXIiLCJBU1RJbnRlcnByZXRlciIsIlBhcnNlciIsImFzdENvbXBpbGVyIiwiZ2V0VmFsdWVPZiIsIiRQYXJzZVByb3ZpZGVyIiwiaWRlbnRTdGFydCIsImlkZW50Q29udGludWUiLCJ0cnVlIiwiZmFsc2UiLCJudWxsIiwiYWRkTGl0ZXJhbCIsImxpdGVyYWxOYW1lIiwibGl0ZXJhbFZhbHVlIiwic2V0SWRlbnRpZmllckZucyIsImlkZW50aWZpZXJTdGFydCIsImlkZW50aWZpZXJDb250aW51ZSIsIiRwYXJzZU9wdGlvbnMiLCIkJGdldEFzdCIsImdldEFzdCIsImludGVyY2VwdG9yRm4iLCJwYXJzZWRFeHByZXNzaW9uIiwiY2FjaGVLZXkiLCJhZGRXYXRjaERlbGVnYXRlIiwiYWRkSW50ZXJjZXB0b3IiLCJleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrIiwib2xkVmFsdWVPZlZhbHVlIiwiY29tcGFyZU9iamVjdElkZW50aXR5IiwiaW5wdXRzV2F0Y2hEZWxlZ2F0ZSIsInByZXR0eVByaW50RXhwcmVzc2lvbiIsImxhc3RSZXN1bHQiLCJpbnB1dEV4cHJlc3Npb25zIiwiaW5wdXRzIiwib2xkSW5wdXRWYWx1ZU9mIiwibmV3SW5wdXRWYWx1ZSIsIm9sZElucHV0VmFsdWVPZlZhbHVlcyIsIm9sZElucHV0VmFsdWVzIiwib25lVGltZVdhdGNoRGVsZWdhdGUiLCJpc0RvbmUiLCJpc0FsbERlZmluZWQiLCIkJGludGVyY2VwdGVkIiwiJCRpbnRlcmNlcHRvciIsInVzZUlucHV0cyIsIm9uZVRpbWVXYXRjaCIsInVud2F0Y2hJZkRvbmUiLCJhbGxEZWZpbmVkIiwib25lVGltZSIsImNoYWluZWRJbnRlcmNlcHRvciIsIiQkcHVyZSIsIiRRUHJvdmlkZXIiLCJlcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9ucyIsInFGYWN0b3J5IiwiJCRRUHJvdmlkZXIiLCJuZXh0VGljayIsImV4Y2VwdGlvbkhhbmRsZXIiLCIkcU1pbkVyciIsIlR5cGVFcnJvciIsInF1ZXVlU2l6ZSIsImNoZWNrUXVldWUiLCJEZWZlcnJlZCIsInJlamVjdFByb21pc2UiLCJub3RpZnlQcm9taXNlIiwicHJvY2Vzc0NoZWNrcyIsInRvQ2hlY2siLCJpc1N0YXRlRXhjZXB0aW9uSGFuZGxlZCIsIm1hcmtRU3RhdGVFeGNlcHRpb25IYW5kbGVkIiwiZXJyb3JNZXNzYWdlIiwic2NoZWR1bGVQcm9jZXNzUXVldWUiLCJwcm9jZXNzU2NoZWR1bGVkIiwiJCRwYXNzVG9FeGNlcHRpb25IYW5kbGVyIiwicHJvY2Vzc1F1ZXVlIiwiJCRyZWplY3QiLCIkJHJlc29sdmUiLCJkb1Jlc29sdmUiLCJkb1JlamVjdCIsImRvTm90aWZ5IiwiaGFuZGxlQ2FsbGJhY2siLCJyZXNvbHZlciIsImNhbGxiYWNrT3V0cHV0IiwiZXJyYmFjayIsInByb2dyZXNzQmFjayIsIm9uRnVsZmlsbGVkIiwib25SZWplY3RlZCIsIiRRIiwiY291bnRlciIsInJhY2UiLCJwdXIiLCJxIiwiJCRSQUZQcm92aWRlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyYWZTdXBwb3J0ZWQiLCJyYWYiLCJ0aW1lciIsInN1cHBvcnRlZCIsIiRSb290U2NvcGVQcm92aWRlciIsIiRyb290U2NvcGVNaW5FcnIiLCJsYXN0RGlydHlXYXRjaCIsImFwcGx5QXN5bmNJZCIsImRpZ2VzdFR0bCIsImRlc3Ryb3lDaGlsZFNjb3BlIiwiJGV2ZW50IiwiU2NvcGUiLCIkJHdhdGNoZXJzIiwiJCRuZXh0U2libGluZyIsIiQkcHJldlNpYmxpbmciLCIkJGNoaWxkSGVhZCIsIiQkY2hpbGRUYWlsIiwiJHJvb3QiLCIkJHN1c3BlbmRlZCIsIiQkbGlzdGVuZXJzIiwiJCRsaXN0ZW5lckNvdW50IiwiJCR3YXRjaGVyc0NvdW50IiwiaXNvbGF0ZSIsIiQkQ2hpbGRTY29wZSIsIkNoaWxkU2NvcGUiLCJjcmVhdGVDaGlsZFNjb3BlQ2xhc3MiLCJ3YXRjaEV4cCIsIndhdGNoZXIiLCJpbml0V2F0Y2hWYWwiLCIkJGRpZ2VzdFdhdGNoSW5kZXgiLCJpbmNyZW1lbnRXYXRjaGVyc0NvdW50Iiwid2F0Y2hFeHByZXNzaW9ucyIsImRlcmVnaXN0ZXJGbnMiLCJjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCIsImZpcnN0UnVuIiwic2hvdWxkQ2FsbCIsIndhdGNoR3JvdXBBY3Rpb24iLCJ1bndhdGNoRm4iLCIkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IiLCJ2ZXJ5T2xkVmFsdWUiLCJ0cmFja1ZlcnlPbGRWYWx1ZSIsImNoYW5nZURldGVjdGVkIiwiY2hhbmdlRGV0ZWN0b3IiLCJpbnRlcm5hbEFycmF5IiwiaW50ZXJuYWxPYmplY3QiLCJpbml0UnVuIiwib2xkTGVuZ3RoIiwiX3ZhbHVlIiwibmV3TGVuZ3RoIiwibmV3SXRlbSIsIm9sZEl0ZW0iLCJ3YXRjaCIsIndhdGNoZXJzIiwiZGlydHkiLCJsb2dJZHgiLCJhc3luY1Rhc2siLCJ0dGwiLCJhc3luY1F1ZXVlIiwid2F0Y2hMb2ciLCJiZWdpblBoYXNlIiwiZmx1c2hBcHBseUFzeW5jIiwiYXN5bmNRdWV1ZVBvc2l0aW9uIiwidHJhdmVyc2VTY29wZXNMb29wIiwiY2xlYXJQaGFzZSIsInBvc3REaWdlc3RRdWV1ZVBvc2l0aW9uIiwiJHN1c3BlbmQiLCIkaXNTdXNwZW5kZWQiLCIkcmVzdW1lIiwiZGVjcmVtZW50TGlzdGVuZXJDb3VudCIsImNsZWFuVXBTY29wZSIsImFwcGx5QXN5bmNRdWV1ZSIsIm5hbWVkTGlzdGVuZXJzIiwiaW5kZXhPZkxpc3RlbmVyIiwidGFyZ2V0U2NvcGUiLCJsaXN0ZW5lckFyZ3MiLCIkJGFzeW5jUXVldWUiLCIkJHBvc3REaWdlc3RRdWV1ZSIsIiQkYXBwbHlBc3luY1F1ZXVlIiwiJCRTYW5pdGl6ZVVyaVByb3ZpZGVyIiwiaXNNZWRpYVVybCIsIm5vcm1hbGl6ZWRWYWwiLCJuZXh0SWQiLCJmaWx0ZXJzIiwidmFycyIsIm93biIsImFzc2lnbmFibGUiLCJzdGFnZSIsImNvbXB1dGluZyIsInJlY3Vyc2UiLCJyZXR1cm5fIiwiZ2VuZXJhdGVGdW5jdGlvbiIsImZuS2V5IiwiaW50b0lkIiwid2F0Y2hJZCIsImZuU3RyaW5nIiwiVVNFIiwiU1RSSUNUIiwiZmlsdGVyUHJlZml4Iiwid2F0Y2hGbnMiLCJ2YXJzUHJlZml4Iiwic2VjdGlvbiIsIm5hbWVJZCIsInJlY3Vyc2lvbkZuIiwic2tpcFdhdGNoSWRDaGVjayIsImlmXyIsImxhenlBc3NpZ24iLCJjb21wdXRlZE1lbWJlciIsImxhenlSZWN1cnNlIiwicGx1cyIsImdldEhhc093blByb3BlcnR5Iiwibm9uQ29tcHV0ZWRNZW1iZXIiLCJub3ROdWxsIiwibWVtYmVyIiwic3RyaW5nRXNjYXBlRm4iLCJzdHJpbmdFc2NhcGVSZWdleCIsInNraXAiLCJpbml0IiwicmhzIiwibGhzIiwidW5hcnkrIiwidW5hcnktIiwidW5hcnkhIiwiYmluYXJ5KyIsImJpbmFyeS0iLCJiaW5hcnkqIiwiYmluYXJ5LyIsImJpbmFyeSUiLCJiaW5hcnk9PT0iLCJiaW5hcnkhPT0iLCJiaW5hcnk9PSIsImJpbmFyeSE9IiwiYmluYXJ5PCIsImJpbmFyeT4iLCJiaW5hcnk8PSIsImJpbmFyeT49IiwiYmluYXJ5JiYiLCJiaW5hcnl8fCIsInRlcm5hcnk/OiIsIiRzY2VNaW5FcnIiLCJKUyIsIlVOREVSU0NPUkVfTE9XRVJDQVNFX1JFR0VYUCIsInNuYWtlVG9DYW1lbCIsImFkanVzdE1hdGNoZXJzIiwibWF0Y2hlcnMiLCJhZGp1c3RlZE1hdGNoZXJzIiwiYWRqdXN0TWF0Y2hlciIsIiRTY2VEZWxlZ2F0ZVByb3ZpZGVyIiwicmVzb3VyY2VVcmxXaGl0ZWxpc3QiLCJyZXNvdXJjZVVybEJsYWNrbGlzdCIsImh0bWxTYW5pdGl6ZXIiLCJtYXRjaFVybCIsImJhc2VVUkkiLCJiYXNlVXJsUGFyc2luZ05vZGUiLCJnZW5lcmF0ZUhvbGRlclR5cGUiLCJCYXNlIiwiaG9sZGVyVHlwZSIsInRydXN0ZWRWYWx1ZSIsInRydXN0ZWRWYWx1ZUhvbGRlckJhc2UiLCJieVR5cGUiLCJ0cnVzdEFzIiwiQ29uc3RydWN0b3IiLCJtYXliZVRydXN0ZWQiLCJhbGxvd2VkIiwiaXNSZXNvdXJjZVVybEFsbG93ZWRCeVBvbGljeSIsIiRTY2VQcm92aWRlciIsIiRzY2VEZWxlZ2F0ZSIsImlzRW5hYmxlZCIsInBhcnNlQXMiLCJlbnVtVmFsdWUiLCJsTmFtZSIsIiRTbmlmZmVyUHJvdmlkZXIiLCJldmVudFN1cHBvcnQiLCJoYXNIaXN0b3J5UHVzaFN0YXRlIiwibnciLCJwcm9jZXNzIiwiY2hyb21lIiwiYXBwIiwicnVudGltZSIsImFuZHJvaWQiLCJib3hlZSIsImJvZHlTdHlsZSIsInRyYW5zaXRpb25zIiwiYW5pbWF0aW9ucyIsImhhc0V2ZW50IiwiZGl2RWxtIiwiJCRUYXNrVHJhY2tlckZhY3RvcnlQcm92aWRlciIsIlRhc2tUcmFja2VyIiwidGFza0NvdW50cyIsInRhc2tDYWxsYmFja3MiLCJBTExfVEFTS1NfVFlQRSIsImdldExhc3RDYWxsYmFjayIsImNiSW5mbyIsImdldExhc3RDYWxsYmFja0ZvclR5cGUiLCJjb3VudEZvclR5cGUiLCJjb3VudEZvckFsbCIsIm5leHRDYiIsImdldE5leHRDYWxsYmFjayIsIiR0ZW1wbGF0ZVJlcXVlc3RNaW5FcnIiLCIkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIiLCJodHRwT3B0aW9ucyIsImhhbmRsZVJlcXVlc3RGbiIsInRwbCIsImlnbm9yZVJlcXVlc3RFcnJvciIsInRvdGFsUGVuZGluZ1JlcXVlc3RzIiwidHJhbnNmb3JtZXIiLCIkJFRlc3RhYmlsaXR5UHJvdmlkZXIiLCJ0ZXN0YWJpbGl0eSIsImZpbmRCaW5kaW5ncyIsIm9wdF9leGFjdE1hdGNoIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImRhdGFCaW5kaW5nIiwiYmluZGluZ05hbWUiLCJmaW5kTW9kZWxzIiwicHJlZml4ZXMiLCJnZXRMb2NhdGlvbiIsInNldExvY2F0aW9uIiwid2hlblN0YWJsZSIsIiR0aW1lb3V0TWluRXJyIiwiJFRpbWVvdXRQcm92aWRlciIsImRlZmVycmVkcyIsInVybFBhcnNpbmdOb2RlIiwiaXB2NkluQnJhY2tldHMiLCJ1cmwxIiwidXJsMiIsIiRXaW5kb3dQcm92aWRlciIsIiQkQ29va2llUmVhZGVyIiwibGFzdENvb2tpZXMiLCJsYXN0Q29va2llU3RyaW5nIiwic2FmZURlY29kZVVSSUNvbXBvbmVudCIsImNvb2tpZUFycmF5IiwiY3VycmVudENvb2tpZVN0cmluZyIsInNhZmVHZXRDb29raWUiLCIkJENvb2tpZVJlYWRlclByb3ZpZGVyIiwiJEZpbHRlclByb3ZpZGVyIiwiY3VycmVuY3lGaWx0ZXIiLCJkYXRlRmlsdGVyIiwiZmlsdGVyRmlsdGVyIiwianNvbkZpbHRlciIsImxpbWl0VG9GaWx0ZXIiLCJsb3dlcmNhc2VGaWx0ZXIiLCJudW1iZXJGaWx0ZXIiLCJvcmRlckJ5RmlsdGVyIiwidXBwZXJjYXNlRmlsdGVyIiwiY29tcGFyYXRvciIsImFueVByb3BlcnR5S2V5IiwicHJlZGljYXRlRm4iLCJtYXRjaEFnYWluc3RBbnlQcm9wIiwiZ2V0VHlwZUZvckZpbHRlciIsInNob3VsZE1hdGNoUHJpbWl0aXZlcyIsImFjdHVhbCIsImV4cGVjdGVkIiwiZGVlcENvbXBhcmUiLCJjcmVhdGVQcmVkaWNhdGVGbiIsImRvbnRNYXRjaFdob2xlT2JqZWN0IiwiYWN0dWFsVHlwZSIsImV4cGVjdGVkVHlwZSIsImV4cGVjdGVkVmFsIiwibWF0Y2hBbnlQcm9wZXJ0eSIsIk1BWF9ESUdJVFMiLCJERUNJTUFMX1NFUCIsIlpFUk9fQ0hBUiIsIiRsb2NhbGUiLCJmb3JtYXRzIiwiTlVNQkVSX0ZPUk1BVFMiLCJhbW91bnQiLCJjdXJyZW5jeVN5bWJvbCIsImZyYWN0aW9uU2l6ZSIsIkNVUlJFTkNZX1NZTSIsIlBBVFRFUk5TIiwibWF4RnJhYyIsImN1cnJlbmN5U3ltYm9sUmUiLCJmb3JtYXROdW1iZXIiLCJHUk9VUF9TRVAiLCJncm91cFNlcCIsImRlY2ltYWxTZXAiLCJwYXJzZWROdW1iZXIiLCJpc0luZmluaXR5IiwiaXNGaW5pdGUiLCJpc1plcm8iLCJudW1TdHIiLCJhYnMiLCJmb3JtYXR0ZWRUZXh0IiwibWluRnJhYyIsImRpZ2l0cyIsImZyYWN0aW9uTGVuIiwicm91bmRBdCIsImRpZ2l0IiwiY2FycnkiLCJyZWR1Y2VSaWdodCIsInJvdW5kTnVtYmVyIiwibnVtYmVyT2ZJbnRlZ2VyRGlnaXRzIiwiemVyb3MiLCJleHBvbmVudCIsImludGVnZXJMZW4iLCJkZWNpbWFscyIsImdyb3VwcyIsImxnU2l6ZSIsImdTaXplIiwibmVnUHJlIiwibmVnU3VmIiwicG9zUHJlIiwicG9zU3VmIiwicGFkTnVtYmVyIiwibmVnV3JhcCIsIm5lZyIsImRhdGVHZXR0ZXIiLCJkYXRlU3RyR2V0dGVyIiwic2hvcnRGb3JtIiwic3RhbmRBbG9uZSIsImdldEZpcnN0VGh1cnNkYXlPZlllYXIiLCJ5ZWFyIiwiZGF5T2ZXZWVrT25GaXJzdCIsImdldERheSIsIndlZWtHZXR0ZXIiLCJkYXRldGltZSIsImZpcnN0VGh1cnMiLCJyb3VuZCIsImVyYUdldHRlciIsIkVSQVMiLCJEQVRFX0ZPUk1BVFMiLCJ5eXl5IiwieXkiLCJNTU1NIiwiTU1NIiwiTU0iLCJNIiwiTExMTCIsImRkIiwiSEgiLCJIIiwiaGgiLCJtbSIsInNzIiwic3NzIiwiRUVFRSIsIkVFRSIsImdldEhvdXJzIiwiQU1QTVMiLCJaIiwiem9uZSIsInBhZGRlZFpvbmUiLCJ3dyIsIkciLCJHRyIsIkdHRyIsIkdHR0ciLCJFUkFOQU1FUyIsIkRBVEVfRk9STUFUU19TUExJVCIsIk5VTUJFUl9TVFJJTkciLCJSX0lTTzg2MDFfU1RSIiwiREFURVRJTUVfRk9STUFUUyIsInR6SG91ciIsInR6TWluIiwiZGF0ZVNldHRlciIsInNldFVUQ0Z1bGxZZWFyIiwic2V0RnVsbFllYXIiLCJ0aW1lU2V0dGVyIiwic2V0VVRDSG91cnMiLCJzZXRIb3VycyIsIm1zIiwicGFyc2VGbG9hdCIsImpzb25TdHJpbmdUb0RhdGUiLCJzcGFjaW5nIiwibGltaXQiLCJiZWdpbiIsIkluZmluaXR5Iiwic2xpY2VGbiIsInNvcnRQcmVkaWNhdGUiLCJyZXZlcnNlT3JkZXIiLCJwcmVkaWNhdGVzIiwiZGVzY2VuZGluZyIsImRlZmF1bHRDb21wYXJlIiwiY29tcGFyZVZhbHVlcyIsInRpZUJyZWFrZXIiLCJwcmVkaWNhdGVWYWx1ZXMiLCJvYmplY3RWYWx1ZSIsImdldFByZWRpY2F0ZVZhbHVlIiwidjEiLCJ2MiIsInR5cGUxIiwidHlwZTIiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJuZ0RpcmVjdGl2ZSIsImh0bWxBbmNob3JEaXJlY3RpdmUiLCJ4bGlua0hyZWYiLCJuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyIsImRlZmF1bHRMaW5rRm4iLCJuZ01vZGVsIiwiaHRtbEF0dHIiLCJudWxsRm9ybUN0cmwiLCIkYWRkQ29udHJvbCIsIiRnZXRDb250cm9scyIsIiQkcmVuYW1lQ29udHJvbCIsImNvbnRyb2wiLCIkcmVtb3ZlQ29udHJvbCIsIiRzZXRWYWxpZGl0eSIsIiRzZXREaXJ0eSIsIiRzZXRQcmlzdGluZSIsIiRzZXRTdWJtaXR0ZWQiLCIkJHNldFN1Ym1pdHRlZCIsIlBFTkRJTkdfQ0xBU1MiLCJTVUJNSVRURURfQ0xBU1MiLCJGb3JtQ29udHJvbGxlciIsIiQkY29udHJvbHMiLCIkZXJyb3IiLCIkJHN1Y2Nlc3MiLCIkcGVuZGluZyIsIm5nRm9ybSIsIiRkaXJ0eSIsIiRwcmlzdGluZSIsIiR2YWxpZCIsIiRpbnZhbGlkIiwiJHN1Ym1pdHRlZCIsIiQkcGFyZW50Rm9ybSIsIiQkYW5pbWF0ZSIsInNldHVwVmFsaWRpdHkiLCIkcm9sbGJhY2tWaWV3VmFsdWUiLCIkY29tbWl0Vmlld1ZhbHVlIiwibmV3TmFtZSIsIm9sZE5hbWUiLCJQUklTVElORV9DTEFTUyIsIkRJUlRZX0NMQVNTIiwiJHNldFVudG91Y2hlZCIsInJvb3RGb3JtIiwiYWRkU2V0VmFsaWRpdHlNZXRob2QiLCJjbGF6eiIsInVuc2V0IiwiZm9ybURpcmVjdGl2ZUZhY3RvcnkiLCJpc05nRm9ybSIsImZvcm1FbGVtZW50IiwiVkFMSURfQ0xBU1MiLCJuYW1lQXR0ciIsImN0cmxzIiwiaGFuZGxlRm9ybVN1Ym1pc3Npb24iLCJzZXR0ZXIiLCJnZXRTZXR0ZXIiLCJmb3JtRGlyZWN0aXZlIiwibmdGb3JtRGlyZWN0aXZlIiwiJCRjbGFzc0NhY2hlIiwiSU5WQUxJRF9DTEFTUyIsImNhY2hlZFRvZ2dsZUNsYXNzIiwiY3RybCIsInN3aXRjaFZhbHVlIiwidG9nZ2xlVmFsaWRhdGlvbkNzcyIsInZhbGlkYXRpb25FcnJvcktleSIsImNvbWJpbmVkU3RhdGUiLCJjcmVhdGVBbmRTZXQiLCJpc09iamVjdEVtcHR5IiwidW5zZXRBbmRDbGVhbnVwIiwiSVNPX0RBVEVfUkVHRVhQIiwiVVJMX1JFR0VYUCIsIkVNQUlMX1JFR0VYUCIsIk5VTUJFUl9SRUdFWFAiLCJEQVRFX1JFR0VYUCIsIkRBVEVUSU1FTE9DQUxfUkVHRVhQIiwiV0VFS19SRUdFWFAiLCJNT05USF9SRUdFWFAiLCJUSU1FX1JFR0VYUCIsIlBBUlRJQUxfVkFMSURBVElPTl9FVkVOVFMiLCJQQVJUSUFMX1ZBTElEQVRJT05fVFlQRVMiLCJpbnB1dFR5cGUiLCJiYXNlSW5wdXRUeXBlIiwic3RyaW5nQmFzZWRJbnB1dFR5cGUiLCJjcmVhdGVEYXRlSW5wdXRUeXBlIiwiY3JlYXRlRGF0ZVBhcnNlciIsImRhdGV0aW1lLWxvY2FsIiwidGltZSIsIndlZWsiLCJpc29XZWVrIiwiZXhpc3RpbmdEYXRlIiwiaG91cnMiLCJzZWNvbmRzIiwibWlsbGlzZWNvbmRzIiwiYWRkRGF5cyIsImdldFNlY29uZHMiLCJnZXRNaWxsaXNlY29uZHMiLCJtb250aCIsInBhcnNlZE1pblZhbCIsImJhZElucHV0Q2hlY2tlciIsIm51bWJlckZvcm1hdHRlclBhcnNlciIsIm1pblZhbCIsInBhcnNlTnVtYmVyQXR0clZhbCIsIiR2YWxpZGF0b3JzIiwibW9kZWxWYWx1ZSIsInZpZXdWYWx1ZSIsIiRpc0VtcHR5IiwiJHZhbGlkYXRlIiwibWF4VmFsIiwicGFyc2VkTWF4VmFsIiwic3RlcFZhbCIsInBhcnNlZFN0ZXBWYWwiLCJpc1ZhbGlkRm9yU3RlcCIsImVtYWlsIiwicmFkaW8iLCJkb1RyaW0iLCJuZ1RyaW0iLCJldiIsImNoZWNrZWQiLCIkc2V0Vmlld1ZhbHVlIiwiJHJlbmRlciIsIiR2aWV3VmFsdWUiLCJyYW5nZSIsInN1cHBvcnRzUmFuZ2UiLCIkJGhhc05hdGl2ZVZhbGlkYXRvcnMiLCJ2YWxpZGl0eSIsImhhc01pbkF0dHIiLCJoYXNNYXhBdHRyIiwiaGFzU3RlcEF0dHIiLCJvcmlnaW5hbFJlbmRlciIsInJhbmdlVW5kZXJmbG93IiwicmFuZ2VPdmVyZmxvdyIsInNldEluaXRpYWxWYWx1ZUFuZE9ic2VydmVyIiwiJG1vZGVsVmFsdWUiLCJlbFZhbCIsInN0ZXBNaXNtYXRjaCIsImh0bWxBdHRyTmFtZSIsImNoYW5nZUZuIiwiY2hlY2tib3giLCJ0cnVlVmFsdWUiLCJwYXJzZUNvbnN0YW50RXhwciIsIm5nVHJ1ZVZhbHVlIiwiZmFsc2VWYWx1ZSIsIm5nRmFsc2VWYWx1ZSIsIiRmb3JtYXR0ZXJzIiwiJHBhcnNlcnMiLCJzdWJtaXQiLCJyZXNldCIsImNvbXBvc2luZyIsImRlZmVyTGlzdGVuZXIiLCJvcmlnVmFsdWUiLCJrZXlDb2RlIiwib3JpZ0JhZElucHV0IiwiYmFkSW5wdXQiLCJvcmlnVHlwZU1pc21hdGNoIiwidHlwZU1pc21hdGNoIiwiaXNvIiwicHJldmlvdXNEYXRlIiwicGFydCIsInBhcnNlRGF0ZSIsInByZXZpb3VzVGltZXpvbmUiLCJpc1RpbWVUeXBlIiwicGFyc2VEYXRlQW5kQ29udmVydFRpbWVab25lVG9Mb2NhbCIsIiQkcGFyc2VyTmFtZSIsIm5nTW9kZWxNaW5FcnIiLCJpc1ZhbGlkRGF0ZSIsIiRvcHRpb25zIiwiZ2V0T3B0aW9uIiwidGFyZ2V0Rm9ybWF0IiwiZm9ybWF0dGVkIiwiZm9ybWF0dGVyIiwicGFyc2VPYnNlcnZlZERhdGVWYWx1ZSIsInBhcnNlZERhdGUiLCJwYXJzZXJOYW1lIiwiaXNOdW1iZXJJbnRlZ2VyIiwiY291bnREZWNpbWFscyIsIm51bVN0cmluZyIsImRlY2ltYWxTeW1ib2xJbmRleCIsInN0ZXBCYXNlIiwiaXNOb25JbnRlZ2VyVmFsdWUiLCJpc05vbkludGVnZXJTdGVwQmFzZSIsImlzTm9uSW50ZWdlclN0ZXAiLCJ2YWx1ZURlY2ltYWxzIiwic3RlcEJhc2VEZWNpbWFscyIsInN0ZXBEZWNpbWFscyIsImRlY2ltYWxDb3VudCIsIm11bHRpcGxpZXIiLCJwb3ciLCJwYXJzZUZuIiwiaW5wdXREaXJlY3RpdmUiLCJoaWRkZW5JbnB1dEJyb3dzZXJDYWNoZURpcmVjdGl2ZSIsInZhbHVlUHJvcGVydHkiLCJDT05TVEFOVF9WQUxVRV9SRUdFWFAiLCJuZ1ZhbHVlRGlyZWN0aXZlIiwidXBkYXRlRWxlbWVudFZhbHVlIiwidHBsQXR0ciIsIm5nVmFsdWUiLCJuZ0JpbmREaXJlY3RpdmUiLCJ0ZW1wbGF0ZUVsZW1lbnQiLCJuZ0JpbmQiLCJuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSIsIm5nQmluZFRlbXBsYXRlIiwibmdCaW5kSHRtbERpcmVjdGl2ZSIsIm5nQmluZEh0bWxHZXR0ZXIiLCJuZ0JpbmRIdG1sIiwibmdCaW5kSHRtbFdhdGNoIiwiZ2V0VHJ1c3RlZEh0bWwiLCJuZ0NoYW5nZURpcmVjdGl2ZSIsIiR2aWV3Q2hhbmdlTGlzdGVuZXJzIiwibmdDaGFuZ2UiLCJjbGFzc0RpcmVjdGl2ZSIsImluZGV4V2F0Y2hFeHByZXNzaW9uIiwib2xkQ2xhc3NTdHJpbmciLCJjbGFzc0NvdW50cyIsIm9sZE1vZHVsbyIsImRpZ2VzdENsYXNzQ291bnRzIiwiY2xhc3NBcnJheSIsImNsYXNzZXNUb1VwZGF0ZSIsIiRpbmRleCIsIm5ld01vZHVsbyIsImNsYXNzU3RyaW5nIiwidG9DbGFzc1N0cmluZyIsIm5ld0NsYXNzU3RyaW5nIiwib2xkQ2xhc3NBcnJheSIsIm5ld0NsYXNzQXJyYXkiLCJ0b1JlbW92ZUFycmF5IiwiYXJyYXlEaWZmZXJlbmNlIiwidG9BZGRBcnJheSIsInRvUmVtb3ZlU3RyaW5nIiwidG9BZGRTdHJpbmciLCJjbGFzc1ZhbHVlIiwibmdDbGFzc0RpcmVjdGl2ZSIsIm5nQ2xhc3NPZGREaXJlY3RpdmUiLCJuZ0NsYXNzRXZlbkRpcmVjdGl2ZSIsIm5nQ2xvYWtEaXJlY3RpdmUiLCJuZ0NvbnRyb2xsZXJEaXJlY3RpdmUiLCJuZ0V2ZW50RGlyZWN0aXZlcyIsImZvcmNlQXN5bmNFdmVudHMiLCJibHVyIiwiZm9jdXMiLCJmb3JjZUFzeW5jIiwibmdJZkRpcmVjdGl2ZSIsImJsb2NrIiwicHJldmlvdXNFbGVtZW50cyIsIm5nSWYiLCJuZ0luY2x1ZGVEaXJlY3RpdmUiLCJzcmNFeHAiLCJuZ0luY2x1ZGUiLCJhdXRvc2Nyb2xsIiwicHJldmlvdXNFbGVtZW50IiwiY3VycmVudEVsZW1lbnQiLCJjaGFuZ2VDb3VudGVyIiwiY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCIsImFmdGVyQW5pbWF0aW9uIiwidGhpc0NoYW5nZUlkIiwibmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmUiLCJuZ0luaXREaXJlY3RpdmUiLCJuZ0luaXQiLCJuZ0xpc3REaXJlY3RpdmUiLCJuZ0xpc3QiLCJ0cmltVmFsdWVzIiwiVU5UT1VDSEVEX0NMQVNTIiwiVE9VQ0hFRF9DTEFTUyIsIk5PVF9FTVBUWV9DTEFTUyIsIk5nTW9kZWxDb250cm9sbGVyIiwiJCRyYXdNb2RlbFZhbHVlIiwiJGFzeW5jVmFsaWRhdG9ycyIsIiR1bnRvdWNoZWQiLCIkdG91Y2hlZCIsImRlZmF1bHRNb2RlbE9wdGlvbnMiLCIkJHVwZGF0ZUV2ZW50cyIsIiQkdXBkYXRlRXZlbnRIYW5kbGVyIiwiJCRwYXJzZWROZ01vZGVsIiwiJCRwYXJzZWROZ01vZGVsQXNzaWduIiwiJCRuZ01vZGVsR2V0IiwiJCRuZ01vZGVsU2V0IiwiJCRwZW5kaW5nRGVib3VuY2UiLCIkJHBhcnNlclZhbGlkIiwiJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkIiwiJCRyb290U2NvcGUiLCIkJGF0dHIiLCIkJHRpbWVvdXQiLCIkJGV4Y2VwdGlvbkhhbmRsZXIiLCIkJHNldE1vZGVsVmFsdWUiLCIkJGluaXRHZXR0ZXJTZXR0ZXJzIiwiaW52b2tlTW9kZWxHZXR0ZXIiLCJpbnZva2VNb2RlbFNldHRlciIsIiQkJHAiLCIkJHVwZGF0ZUVtcHR5Q2xhc3NlcyIsIiRzZXRUb3VjaGVkIiwiJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlIiwicHJldlZhbGlkIiwicHJldk1vZGVsVmFsdWUiLCJhbGxvd0ludmFsaWQiLCJ0aGF0IiwiJCRydW5WYWxpZGF0b3JzIiwiYWxsVmFsaWQiLCIkJHdyaXRlTW9kZWxUb1Njb3BlIiwic3luY1ZhbGlkYXRvcnNWYWxpZCIsInZhbGlkYXRvclByb21pc2VzIiwibG9jYWxWYWxpZGF0aW9uUnVuSWQiLCJlcnJvcktleSIsInNldFZhbGlkaXR5IiwicHJvY2Vzc1BhcnNlRXJyb3JzIiwidmFsaWRhdG9yIiwidmFsaWRhdGlvbkRvbmUiLCIkJHBhcnNlQW5kVmFsaWRhdGUiLCJ3cml0ZVRvTW9kZWxJZk5lZWRlZCIsIiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQiLCJkZWJvdW5jZURlbGF5IiwiJG92ZXJyaWRlTW9kZWxPcHRpb25zIiwiY3JlYXRlQ2hpbGQiLCIkJHNldFVwZGF0ZU9uRXZlbnRzIiwiJHByb2Nlc3NNb2RlbFZhbHVlIiwiJCRmb3JtYXQiLCJmb3JtYXR0ZXJzIiwibmdNb2RlbERpcmVjdGl2ZSIsIm1vZGVsQ3RybCIsImZvcm1DdHJsIiwib3B0aW9uc0N0cmwiLCJzZXRUb3VjaGVkIiwiREVGQVVMVF9SRUdFWFAiLCJNb2RlbE9wdGlvbnMiLCIkJG9wdGlvbnMiLCJpbmhlcml0QWxsIiwidXBkYXRlT25EZWZhdWx0IiwidXBkYXRlT24iLCJkZWJvdW5jZSIsImdldHRlclNldHRlciIsIm5nTW9kZWxPcHRpb25zRGlyZWN0aXZlIiwiTmdNb2RlbE9wdGlvbnNDb250cm9sbGVyIiwiJCRhdHRycyIsInBhcmVudE9wdGlvbnMiLCJwYXJlbnRDdHJsIiwibW9kZWxPcHRpb25zRGVmaW5pdGlvbiIsIm5nTW9kZWxPcHRpb25zIiwibmdOb25CaW5kYWJsZURpcmVjdGl2ZSIsIm5nT3B0aW9uc01pbkVyciIsIk5HX09QVElPTlNfUkVHRVhQIiwibmdPcHRpb25zRGlyZWN0aXZlIiwib3B0aW9uVGVtcGxhdGUiLCJvcHRHcm91cFRlbXBsYXRlIiwic2VsZWN0RWxlbWVudCIsInJlZ2lzdGVyT3B0aW9uIiwic2VsZWN0Q3RybCIsIm5nTW9kZWxDdHJsIiwiaGFzRW1wdHlPcHRpb24iLCJlbXB0eU9wdGlvbiIsInByb3ZpZGVkRW1wdHlPcHRpb24iLCJuZ09wdGlvbnMiLCJvcHRpb25zRXhwIiwidmFsdWVOYW1lIiwia2V5TmFtZSIsInNlbGVjdEFzIiwidHJhY2tCeSIsInZpZXdWYWx1ZUZuIiwidHJhY2tCeUZuIiwiZ2V0VHJhY2tCeVZhbHVlRm4iLCJnZXRUcmFja0J5VmFsdWUiLCJkaXNwbGF5Rm4iLCJncm91cEJ5Rm4iLCJkaXNhYmxlV2hlbkZuIiwidmFsdWVzRm4iLCJPcHRpb24iLCJzZWxlY3RWYWx1ZSIsImxhYmVsIiwiZGlzYWJsZWQiLCJnZXRPcHRpb25WYWx1ZXNLZXlzIiwib3B0aW9uVmFsdWVzIiwib3B0aW9uVmFsdWVzS2V5cyIsIml0ZW1LZXkiLCJnZXRXYXRjaGFibGVzIiwid2F0Y2hlZEFycmF5Iiwib3B0aW9uVmFsdWVzTGVuZ3RoIiwiZGlzYWJsZVdoZW4iLCJnZXRPcHRpb25zIiwib3B0aW9uSXRlbXMiLCJzZWxlY3RWYWx1ZU1hcCIsIm9wdGlvbkl0ZW0iLCJnZXRPcHRpb25Gcm9tVmlld1ZhbHVlIiwiZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbiIsInBhcnNlT3B0aW9uc0V4cHJlc3Npb24iLCJsaXN0RnJhZ21lbnQiLCJhZGRPcHRpb25FbGVtZW50Iiwib3B0aW9uRWxlbWVudCIsImdldEFuZFVwZGF0ZVNlbGVjdGVkT3B0aW9uIiwiZ2VuZXJhdGVVbmtub3duT3B0aW9uVmFsdWUiLCJ3cml0ZVZhbHVlIiwic2VsZWN0ZWRPcHRpb25zIiwicmVhZFZhbHVlIiwic2VsZWN0ZWRWYWx1ZXMiLCJzZWxlY3Rpb25zIiwic2VsZWN0ZWRPcHRpb24iLCJzZWxlY3RlZEluZGV4IiwicmVtb3ZlVW5rbm93bk9wdGlvbiIsInNlbGVjdFVua25vd25PckVtcHR5T3B0aW9uIiwidW5zZWxlY3RFbXB0eU9wdGlvbiIsIm9wdGlvblNjb3BlIiwib3B0aW9uRWwiLCJuZWVkc1JlcmVuZGVyIiwiJGlzRW1wdHlPcHRpb25TZWxlY3RlZCIsImdyb3VwRWxlbWVudE1hcCIsImdyb3VwRWxlbWVudCIsIm5leHRWYWx1ZSIsImlzTm90UHJpbWl0aXZlIiwibmdQbHVyYWxpemVEaXJlY3RpdmUiLCJCUkFDRSIsIklTX1dIRU4iLCJsYXN0Q291bnQiLCJudW1iZXJFeHAiLCJ3aGVuRXhwIiwid2hlbnNFeHBGbnMiLCJicmFjZVJlcGxhY2VtZW50Iiwid2F0Y2hSZW1vdmVyIiwidXBkYXRlRWxlbWVudFRleHQiLCJuZXdUZXh0IiwidG1wTWF0Y2giLCJ3aGVuS2V5IiwiY291bnRJc05hTiIsInBsdXJhbENhdCIsIndoZW5FeHBGbiIsIm5nUmVmTWluRXJyIiwibmdSZWZEaXJlY3RpdmUiLCJuZ1JlZiIsInJlZlZhbHVlIiwibmdSZWZSZWFkIiwibmdSZXBlYXREaXJlY3RpdmUiLCJOR19SRU1PVkVEIiwibmdSZXBlYXRNaW5FcnIiLCJ1cGRhdGVTY29wZSIsInZhbHVlSWRlbnRpZmllciIsImtleUlkZW50aWZpZXIiLCJhcnJheUxlbmd0aCIsIiRmaXJzdCIsIiRsYXN0IiwiJG1pZGRsZSIsIiRvZGQiLCIkZXZlbiIsInRyYWNrQnlJZEFycmF5Rm4iLCJ0cmFja0J5SWRPYmpGbiIsIm5nUmVwZWF0IiwibmdSZXBlYXRFbmRDb21tZW50IiwiYWxpYXNBcyIsInRyYWNrQnlFeHAiLCJ0cmFja0J5SWRFeHBGbiIsImhhc2hGbkxvY2FscyIsInRyYWNrQnlFeHBHZXR0ZXIiLCJsYXN0QmxvY2tNYXAiLCJjb2xsZWN0aW9uTGVuZ3RoIiwidHJhY2tCeUlkIiwidHJhY2tCeUlkRm4iLCJjb2xsZWN0aW9uS2V5cyIsIm5leHRCbG9ja09yZGVyIiwicHJldmlvdXNOb2RlIiwibmV4dEJsb2NrTWFwIiwiYmxvY2tLZXkiLCJOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTIiwibmdTaG93RGlyZWN0aXZlIiwibmdTaG93IiwibmdIaWRlRGlyZWN0aXZlIiwibmdIaWRlIiwibmdTdHlsZURpcmVjdGl2ZSIsIm5nU3R5bGUiLCJuZXdTdHlsZXMiLCJvbGRTdHlsZXMiLCJuZ1N3aXRjaERpcmVjdGl2ZSIsImNhc2VzIiwibmdTd2l0Y2hDb250cm9sbGVyIiwid2F0Y2hFeHByIiwibmdTd2l0Y2giLCJzZWxlY3RlZFRyYW5zY2x1ZGVzIiwic2VsZWN0ZWRFbGVtZW50cyIsInByZXZpb3VzTGVhdmVBbmltYXRpb25zIiwic2VsZWN0ZWRTY29wZXMiLCJzcGxpY2VGYWN0b3J5Iiwic2VsZWN0ZWRUcmFuc2NsdWRlIiwiY2FzZUVsZW1lbnQiLCJzZWxlY3RlZFNjb3BlIiwibmdTd2l0Y2hXaGVuRGlyZWN0aXZlIiwibmdTd2l0Y2hXaGVuIiwibmdTd2l0Y2hXaGVuU2VwYXJhdG9yIiwid2hlbkNhc2UiLCJuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUiLCJuZ1RyYW5zY2x1ZGVNaW5FcnIiLCJuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUiLCJmYWxsYmFja0xpbmtGbiIsIm5nVHJhbnNjbHVkZSIsIm5nVHJhbnNjbHVkZVNsb3QiLCJ1c2VGYWxsYmFja0NvbnRlbnQiLCJub3RXaGl0ZXNwYWNlIiwic2NyaXB0RGlyZWN0aXZlIiwibm9vcE5nTW9kZWxDb250cm9sbGVyIiwic2V0T3B0aW9uU2VsZWN0ZWRTdGF0dXMiLCJTZWxlY3RDb250cm9sbGVyIiwib3B0aW9uc01hcCIsInVua25vd25PcHRpb24iLCJyZW5kZXJVbmtub3duT3B0aW9uIiwidW5rbm93blZhbCIsInVwZGF0ZVVua25vd25PcHRpb24iLCJzZWxlY3RFbXB0eU9wdGlvbiIsInJlYWxWYWwiLCJoYXNPcHRpb24iLCJjdXJyZW50bHlTZWxlY3RlZE9wdGlvbiIsImhhc2hlZFZhbCIsImFkZE9wdGlvbiIsInNjaGVkdWxlUmVuZGVyIiwicmVtb3ZlT3B0aW9uIiwiJGhhc0VtcHR5T3B0aW9uIiwiJGlzVW5rbm93bk9wdGlvblNlbGVjdGVkIiwicmVuZGVyU2NoZWR1bGVkIiwidXBkYXRlU2NoZWR1bGVkIiwic2NoZWR1bGVWaWV3VmFsdWVVcGRhdGUiLCJyZW5kZXJBZnRlciIsIm9wdGlvbkF0dHJzIiwiaW50ZXJwb2xhdGVWYWx1ZUZuIiwiaW50ZXJwb2xhdGVUZXh0Rm4iLCJyZW1vdmFsIiwicHJldmlvdXNseVNlbGVjdGVkIiwicmVtb3ZlVmFsdWUiLCJzZWxlY3REaXJlY3RpdmUiLCJzaG91bGRCZVNlbGVjdGVkIiwiY3VycmVudGx5U2VsZWN0ZWQiLCJsYXN0VmlldyIsImxhc3RWaWV3UmVmIiwib3B0aW9uRGlyZWN0aXZlIiwic2VsZWN0Q3RybE5hbWUiLCJyZXF1aXJlZERpcmVjdGl2ZSIsInJlcXVpcmVkIiwibmdSZXF1aXJlZCIsInBhdHRlcm5EaXJlY3RpdmUiLCJ0RWxtIiwicGF0dGVybkV4cCIsImF0dHJWYWwiLCJwYXJzZVBhdHRlcm5BdHRyIiwib2xkUmVnZXhwIiwibWF4bGVuZ3RoRGlyZWN0aXZlIiwibWF4bGVuZ3RoIiwibWF4bGVuZ3RoUGFyc2VkIiwicGFyc2VMZW5ndGgiLCJtaW5sZW5ndGhEaXJlY3RpdmUiLCJtaW5sZW5ndGgiLCJtaW5sZW5ndGhQYXJzZWQiLCJpbnRWYWwiLCJvcmlnaW5hbENsZWFuRGF0YSIsImpxTmFtZSIsImVsZW1zIiwiYmluZEpRdWVyeSIsIiQkY3NwIiwiJCRlbmNvZGVVcmlTZWdtZW50IiwiJCRlbmNvZGVVcmlRdWVyeSIsIiQkc3RyaW5naWZ5IiwiJCR1cHBlcmNhc2UiLCJlbnN1cmUiLCJjb25maWdGbiIsImludm9rZVF1ZXVlIiwiY29uZmlnQmxvY2tzIiwiaW52b2tlTGF0ZXIiLCJtb2R1bGVJbnN0YW5jZSIsImludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSIsImFuaW1hdGlvbiIsImluc2VydE1ldGhvZCIsInJlY2lwZU5hbWUiLCJmYWN0b3J5RnVuY3Rpb24iLCJzZXR1cE1vZHVsZUxvYWRlciIsInRleHRhcmVhIiwiZm9ybSIsInNlbGVjdCIsIm5nQ2xhc3MiLCJuZ0NsYXNzRXZlbiIsIm5nQ2xhc3NPZGQiLCJuZ0Nsb2FrIiwibmdDb250cm9sbGVyIiwibmdOb25CaW5kYWJsZSIsIm5nUGx1cmFsaXplIiwibmdTd2l0Y2hEZWZhdWx0IiwiJGFuaW1hdGVDc3MiLCIkJGFuaW1hdGVKcyIsIiQkZm9yY2VSZWZsb3ciLCIkaW50ZXJ2YWwiLCIkaHR0cFBhcmFtU2VyaWFsaXplciIsIiRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlIiwiJCR0ZXN0YWJpbGl0eSIsIiQkanFMaXRlIiwiJCRNYXAiLCJQTFVSQUxfQ0FURUdPUlkiLCJEQVkiLCJGSVJTVERBWU9GV0VFSyIsIk1PTlRIIiwiU0hPUlREQVkiLCJTSE9SVE1PTlRIIiwiU1RBTkRBTE9ORU1PTlRIIiwiV0VFS0VORFJBTkdFIiwiZnVsbERhdGUiLCJsb25nRGF0ZSIsIm1lZGl1bSIsIm1lZGl1bURhdGUiLCJtZWRpdW1UaW1lIiwic2hvcnQiLCJzaG9ydERhdGUiLCJzaG9ydFRpbWUiLCJtaW5JbnQiLCJsb2NhbGVJRCIsIm9wdF9wcmVjaXNpb24iLCJ2ZiIsImdldFZGIiwiODciLCIuL2FuZ3VsYXIiLCI4OCIsIml0IiwiODkiLCJVTlNDT1BBQkxFUyIsIkFycmF5UHJvdG8iLCIuL19oaWRlIiwiLi9fd2tzIiwiOTAiLCIuL19pcy1vYmplY3QiLCI5MSIsInRvSU9iamVjdCIsInRvTGVuZ3RoIiwidG9BYnNvbHV0ZUluZGV4IiwiSVNfSU5DTFVERVMiLCIkdGhpcyIsImZyb21JbmRleCIsIk8iLCIuL190by1hYnNvbHV0ZS1pbmRleCIsIi4vX3RvLWlvYmplY3QiLCIuL190by1sZW5ndGgiLCI5MiIsIjkzIiwiX19lIiwiOTQiLCJhRnVuY3Rpb24iLCIuL19hLWZ1bmN0aW9uIiwiOTUiLCI5NiIsIi4vX2ZhaWxzIiwiOTciLCIuL19nbG9iYWwiLCI5OCIsIjk5IiwiZ2V0S2V5cyIsImdPUFMiLCJwSUUiLCJnZXRTeW1ib2xzIiwic3ltYm9scyIsImlzRW51bSIsIi4vX29iamVjdC1nb3BzIiwiLi9fb2JqZWN0LWtleXMiLCIuL19vYmplY3QtcGllIiwiMTAwIiwiaGlkZSIsInJlZGVmaW5lIiwiUFJPVE9UWVBFIiwiJGV4cG9ydCIsIklTX0ZPUkNFRCIsIklTX0dMT0JBTCIsIklTX1NUQVRJQyIsIklTX1BST1RPIiwiUCIsIklTX0JJTkQiLCJCIiwiZXhwUHJvdG8iLCJVIiwiVyIsIlIiLCIuL19jb3JlIiwiLi9fY3R4IiwiLi9fcmVkZWZpbmUiLCIxMDEiLCIxMDIiLCIuL19zaGFyZWQiLCIxMDMiLCJfX2ciLCIxMDQiLCIxMDUiLCJkUCIsImNyZWF0ZURlc2MiLCIuL19kZXNjcmlwdG9ycyIsIi4vX29iamVjdC1kcCIsIi4vX3Byb3BlcnR5LWRlc2MiLCIxMDYiLCIxMDciLCIuL19kb20tY3JlYXRlIiwiMTA4IiwiY29mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCIuL19jb2YiLCIxMDkiLCIxMTAiLCIxMTEiLCJzZXRUb1N0cmluZ1RhZyIsIkl0ZXJhdG9yUHJvdG90eXBlIiwiTkFNRSIsIi4vX29iamVjdC1jcmVhdGUiLCIuL19zZXQtdG8tc3RyaW5nLXRhZyIsIjExMiIsIkxJQlJBUlkiLCJJdGVyYXRvcnMiLCIkaXRlckNyZWF0ZSIsIklURVJBVE9SIiwiQlVHR1kiLCJWQUxVRVMiLCJyZXR1cm5UaGlzIiwiREVGQVVMVCIsIklTX1NFVCIsIkZPUkNFRCIsImdldE1ldGhvZCIsInByb3RvIiwiVEFHIiwiREVGX1ZBTFVFUyIsIlZBTFVFU19CVUciLCIkbmF0aXZlIiwiJGVudHJpZXMiLCIkYW55TmF0aXZlIiwiZW50cmllcyIsIi4vX2V4cG9ydCIsIi4vX2l0ZXItY3JlYXRlIiwiLi9faXRlcmF0b3JzIiwiLi9fbGlicmFyeSIsIi4vX29iamVjdC1ncG8iLCIxMTMiLCIxMTQiLCIxMTUiLCIxMTYiLCJNRVRBIiwic2V0RGVzYyIsImlzRXh0ZW5zaWJsZSIsIkZSRUVaRSIsInByZXZlbnRFeHRlbnNpb25zIiwic2V0TWV0YSIsIm1ldGEiLCJLRVkiLCJORUVEIiwiZmFzdEtleSIsImdldFdlYWsiLCJvbkZyZWV6ZSIsIi4vX2hhcyIsIi4vX3VpZCIsIjExNyIsImFuT2JqZWN0IiwiZFBzIiwiZW51bUJ1Z0tleXMiLCJJRV9QUk9UTyIsIkVtcHR5IiwiY3JlYXRlRGljdCIsImlmcmFtZURvY3VtZW50IiwiaWZyYW1lIiwiZGlzcGxheSIsImNvbnRlbnRXaW5kb3ciLCJ3cml0ZSIsImx0IiwiY2xvc2UiLCJQcm9wZXJ0aWVzIiwiLi9fYW4tb2JqZWN0IiwiLi9fZW51bS1idWcta2V5cyIsIi4vX2h0bWwiLCIuL19vYmplY3QtZHBzIiwiLi9fc2hhcmVkLWtleSIsIjExOCIsIklFOF9ET01fREVGSU5FIiwidG9QcmltaXRpdmUiLCIuL19pZTgtZG9tLWRlZmluZSIsIi4vX3RvLXByaW1pdGl2ZSIsIjExOSIsImRlZmluZVByb3BlcnRpZXMiLCIxMjAiLCJnT1BEIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiMTIxIiwiZ09QTiIsIndpbmRvd05hbWVzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImdldFdpbmRvd05hbWVzIiwiLi9fb2JqZWN0LWdvcG4iLCIxMjIiLCIka2V5cyIsImhpZGRlbktleXMiLCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIsIjEyMyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIjEyNCIsInRvT2JqZWN0IiwiT2JqZWN0UHJvdG8iLCIuL190by1vYmplY3QiLCIxMjUiLCJhcnJheUluZGV4T2YiLCIuL19hcnJheS1pbmNsdWRlcyIsIjEyNiIsIjEyNyIsIjEyOCIsImZhaWxzIiwiMTI5IiwiYml0bWFwIiwid3JpdGFibGUiLCIxMzAiLCJTUkMiLCIkdG9TdHJpbmciLCJUUEwiLCJpbnNwZWN0U291cmNlIiwic2FmZSIsIi4vX2Z1bmN0aW9uLXRvLXN0cmluZyIsIjEzMSIsInN0YXQiLCIxMzIiLCJzaGFyZWQiLCIxMzMiLCJTSEFSRUQiLCJzdG9yZSIsImNvcHlyaWdodCIsIjEzNCIsInRvSW50ZWdlciIsIi4vX3RvLWludGVnZXIiLCIxMzUiLCJjZWlsIiwiMTM2IiwiSU9iamVjdCIsImRlZmluZWQiLCIuL19kZWZpbmVkIiwiLi9faW9iamVjdCIsIjEzNyIsIjEzOCIsIjEzOSIsIjE0MCIsInB4IiwicmFuZG9tIiwiMTQxIiwid2tzRXh0IiwiJFN5bWJvbCIsIlN5bWJvbCIsIi4vX3drcy1leHQiLCIxNDIiLCIxNDMiLCJVU0VfU1lNQk9MIiwiMTQ0IiwiYWRkVG9VbnNjb3BhYmxlcyIsIml0ZXJhdGVkIiwiX3QiLCJfayIsIkFyZ3VtZW50cyIsIi4vX2FkZC10by11bnNjb3BhYmxlcyIsIi4vX2l0ZXItZGVmaW5lIiwiLi9faXRlci1zdGVwIiwiMTQ1IiwidHJ1bmMiLCIxNDYiLCIuL19vYmplY3Qtc2FwIiwiMTQ3IiwiREVTQ1JJUFRPUlMiLCIkZmFpbHMiLCJ3a3MiLCJ3a3NEZWZpbmUiLCJlbnVtS2V5cyIsIl9jcmVhdGUiLCJnT1BORXh0IiwiJEdPUEQiLCIkRFAiLCIkSlNPTiIsIl9zdHJpbmdpZnkiLCJISURERU4iLCJUT19QUklNSVRJVkUiLCJTeW1ib2xSZWdpc3RyeSIsIkFsbFN5bWJvbHMiLCJPUFN5bWJvbHMiLCJVU0VfTkFUSVZFIiwiUU9iamVjdCIsImZpbmRDaGlsZCIsInNldFN5bWJvbERlc2MiLCJEIiwicHJvdG9EZXNjIiwic3ltIiwiaXNTeW1ib2wiLCIkZGVmaW5lUHJvcGVydHkiLCIkZGVmaW5lUHJvcGVydGllcyIsIiRwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIiRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCIkZ2V0T3duUHJvcGVydHlOYW1lcyIsIiRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJJU19PUCIsImVzNlN5bWJvbHMiLCJ3ZWxsS25vd25TeW1ib2xzIiwiZm9yIiwia2V5Rm9yIiwidXNlU2V0dGVyIiwidXNlU2ltcGxlIiwicmVwbGFjZXIiLCIkcmVwbGFjZXIiLCIuL19lbnVtLWtleXMiLCIuL19pcy1hcnJheSIsIi4vX21ldGEiLCIuL19vYmplY3QtZ29wZCIsIi4vX29iamVjdC1nb3BuLWV4dCIsIi4vX3drcy1kZWZpbmUiLCIxNDgiLCIxNDkiLCIkaXRlcmF0b3JzIiwiVE9fU1RSSU5HX1RBRyIsIkFycmF5VmFsdWVzIiwiRE9NSXRlcmFibGVzIiwiQ1NTUnVsZUxpc3QiLCJDU1NTdHlsZURlY2xhcmF0aW9uIiwiQ1NTVmFsdWVMaXN0IiwiQ2xpZW50UmVjdExpc3QiLCJET01SZWN0TGlzdCIsIkRPTVN0cmluZ0xpc3QiLCJET01Ub2tlbkxpc3QiLCJEYXRhVHJhbnNmZXJJdGVtTGlzdCIsIkZpbGVMaXN0IiwiSFRNTEFsbENvbGxlY3Rpb24iLCJIVE1MQ29sbGVjdGlvbiIsIkhUTUxGb3JtRWxlbWVudCIsIkhUTUxTZWxlY3RFbGVtZW50IiwiTWVkaWFMaXN0IiwiTWltZVR5cGVBcnJheSIsIk5hbWVkTm9kZU1hcCIsIk5vZGVMaXN0IiwiUGFpbnRSZXF1ZXN0TGlzdCIsIlBsdWdpbiIsIlBsdWdpbkFycmF5IiwiU1ZHTGVuZ3RoTGlzdCIsIlNWR051bWJlckxpc3QiLCJTVkdQYXRoU2VnTGlzdCIsIlNWR1BvaW50TGlzdCIsIlNWR1N0cmluZ0xpc3QiLCJTVkdUcmFuc2Zvcm1MaXN0IiwiU291cmNlQnVmZmVyTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiVGV4dFRyYWNrQ3VlTGlzdCIsIlRleHRUcmFja0xpc3QiLCJUb3VjaExpc3QiLCJjb2xsZWN0aW9ucyIsImV4cGxpY2l0IiwiQ29sbGVjdGlvbiIsIi4vZXM2LmFycmF5Lml0ZXJhdG9yIiwiMTUwIiwiX2FuZ3VsYXIiLCJAdWlyb3V0ZXIvYW5ndWxhcmpzIiwiYW5ndWxhci1jb29raWVzIiwiYW5ndWxhci1zYW5pdGl6ZSIsImFuZ3VsYXItdHJhbnNsYXRlIiwiYW5ndWxhci10cmFuc2xhdGUtbG9hZGVyLXN0YXRpYy1maWxlcyIsImFuZ3VsYXItdHJhbnNsYXRlLXN0b3JhZ2UtY29va2llIiwiYW5ndWxhci10cmFuc2xhdGUtc3RvcmFnZS1sb2NhbCIsIjE1MSIsIkJVVFRPTl9MQU5HX0VOIiwiQlVUVE9OX0xBTkdfREUiLCJCVVRUT05fTEFOR19FUyIsIlRPVEFMX1JFU1VMVFMiLCIxNTIiLCIxNTMiLCIxNTQiLCJtb2NrRG9jdW1lbnRzIiwiaGVhZGxpbmUiLCIxNTUiLCIxNTYiLCIuL2FwcERpcmVjdGl2ZSIsIi4vcm91dGVzIiwiMTU3IiwiMTU4IiwiJHN0YXRlUHJvdmlkZXIiLCIxNTkiLCIxNjAiLCIuL2hvbWUuZGlyZWN0aXZlIiwiLi9wb3B1bGFyRG9jdW1lbnRzIiwiMTYxIiwiX2RvY3VtZW50cyIsImRvY3VtZW50cyIsIi4uLy4uL2Fzc2V0cy9kb2N1bWVudHMiLCIxNjIiLCIuL1BvcHVsYXJEb2N1bWVudHMuY29udHJvbGxlciIsIi4vcG9wdWxhckRvY3VtZW50cy5kaXJlY3RpdmUiLCIxNjMiLCIxNjQiLCIuL2FwcC5tb2R1bGUiLCIuL2NvcmUiLCIuL2hvbWUiLCIuL3NlYXJjaFBhZ2UiLCIuL3NoYXJlZCIsIi4vdHJhbnNsYXRlIiwiMTY1IiwiZmlsdGVyUGFuZWxTZXJ2aWNlIiwiZmlsdGVyZWRBcnRpY2xlcyIsImdldEZpbHRlcmVkQXJ0aWNsZXMiLCIxNjYiLCIxNjciLCIuL0ZpbHRlclBhbmVsQ29udHJvbGxlciIsIi4vZmlsdGVyUGFuZWxEaXJlY3RpdmUiLCIxNjgiLCIuL2ZpbHRlclBhbmVsIiwiLi9zZWFyY2hQYWdlQ29udHJvbGxlciIsIi4vc2VhcmNoUGFnZURpcmVjdGl2ZSIsIi4vc2VhcmNoUmVzdWx0cyIsIjE2OSIsIjE3MCIsIjE3MSIsIl9zbGljZWRUb0FycmF5IiwiX2FycmF5V2l0aEhvbGVzIiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsIl9zIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX25vbkl0ZXJhYmxlUmVzdCIsImRvY3VtZW50U2VydmljZSIsInNlYXJjaERvY3VtZW50cyIsInBhZ2luYXRlZERvY3VtZW50cyIsImluZHgiLCJjdXJyZW50Q2h1bmsiLCJfdGhpcyRwYWdpbmF0ZWREb2N1bWUiLCJjaGFuZ2VQYWdlIiwicGFnZSIsImNvcmUtanMvbW9kdWxlcy9lczYubWF0aC50cnVuYyIsImNvcmUtanMvbW9kdWxlcy9lczYuc3ltYm9sIiwiY29yZS1qcy9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IiLCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIsIjE3MiIsIi4vU2VhcmNoUmVzdWx0c0NvbnRyb2xsZXIiLCIuL3NlYXJjaFJlc3VsdHNEaXJlY3RpdmUiLCIxNzMiLCIxNzQiLCJzaG93SGVhZGxpbmUiLCIxNzUiLCIuL2RvY3VtZW50RGlyZWN0aXZlIiwiMTc2Iiwic2hhcmVkTW9kdWxlIiwiMTc3IiwiMTc4IiwiLi9mb290ZXIuY29udHJvbGxlciIsIi4vZm9vdGVyLmRpcmVjdGl2ZSIsIjE3OSIsInRvZ2dsZU1lbnUiLCJuYXZMaXN0IiwiMTgwIiwiaUVsZW0iLCJjbG9zZU1lbnUiLCJoYW1idXJnZXIiLCIxODEiLCIuL0hhbWJ1cmdlck1lbnVDb250cm9sbGVyIiwiLi9oYW1idXJnZXJNZW51RGlyZWN0aXZlIiwiMTgyIiwibWVudUFjdGl2ZSIsIjE4MyIsIjE4NCIsIi4vaGFtYnVyZ2VyTWVudSIsIi4vaGVhZGVyLmNvbnRyb2xsZXIiLCIuL2hlYWRlci5kaXJlY3RpdmUiLCIxODUiLCIuL2RvY3VtZW50IiwiLi9mb290ZXIiLCIuL2hlYWRlciIsIi4vc2VhcmNoYmFyIiwiLi9zZXJ2aWNlcyIsIjE4NiIsIi4vc2VhcmNoYmFyQ29udHJvbGxlciIsIi4vc2VhcmNoYmFyRGlyZWN0aXZlIiwiMTg3Iiwic3VibWl0Rm9ybSIsIjE4OCIsIjE4OSIsImdldERvY3VtZW50cyIsIjE5MCIsImZpbHRlclBhbmVsTW9kdWxlIiwiZmlsdGVyZWRDYXRlZ29yeU5hbWUiLCJmaWx0ZXJlZEdyb3VwIiwiY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvciIsImNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LmtleXMiLCIxOTEiLCIuL2RvY3VtZW50U2VydmljZSIsIi4vZmlsdGVyUGFuZWxTZXJ2aWNlIiwiMTkyIiwiLi90cmFuc2xhdGVDb25maWciLCIuL3RyYW5zbGF0ZUNvbnRyb2xsZXIiLCIuL3RyYW5zbGF0ZURpcmVjdGl2ZSIsIjE5MyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfZGUiLCJfZW4iLCJfZXMiLCIkdHJhbnNsYXRlUHJvdmlkZXIiLCJlbi0qIiwiZGUtKiIsImVzLSoiLCIuLi9hc3NldHMvZGF0YS9kZS5qc29uIiwiLi4vYXNzZXRzL2RhdGEvZW4uanNvbiIsIi4uL2Fzc2V0cy9kYXRhL2VzLmpzb24iLCIxOTQiLCJzZWxlY3RlZExhbmd1YWdlIiwiY2hhbmdlTGFuZ3VhZ2UiLCIxOTUiXSwibWFwcGluZ3MiOiJDQUFZ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LFFBQVUsTUFBTSxHQUFHLENBQUMsR0FBRyxJQUFJIiwiZmlsZSI6Im1haW4uYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9hbmd1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiYW5ndWxhclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9IF9hbmd1bGFyLmRlZmF1bHQubW9kdWxlKCd0ZW1wbGF0ZXMnLCBbXSkucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdpbmRleC5odG1sJywgJzwhRE9DVFlQRSBodG1sPlxcbjwhLS1baWYgbHQgSUUgOV0+PGh0bWwgY2xhc3M9XCJpZVwiIGxhbmc9XCJlblwiIG5nLWFwcD1cImNvcmVcIj48IVtlbmRpZl0tLT48IS0tW2lmIElFIDldPjxodG1sIGNsYXNzPVwiaWUgaWU5XCIgbGFuZz1cImVuXCIgbmctYXBwPVwiY29yZVwiPjwhW2VuZGlmXS0tPjwhLS1baWYgKGd0IElFIDkpfCEoSUUpXT48IS0tPlxcbjxodG1sIGxhbmc9XCJlblwiIG5nLWFwcD1cImNvcmVcIj5cXG48IS0tPCFbZW5kaWZdLS0+XFxuPGhlYWQ+XFxuICAgIDxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiPlxcbiAgICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMFwiPlxcbiAgICA8bWV0YSBodHRwLWVxdWl2PVwiWC1VQS1Db21wYXRpYmxlXCIgY29udGVudD1cImllPWVkZ2VcIj5cXG4gICAgPGJhc2UgaHJlZj1cIi9cIj5cXG4gICAgPHRpdGxlPkFuZ3VsYXIgVGFzazwvdGl0bGU+XFxuICAgIDwhLS0gaW5qZWN0OmNzcyAtLT5cXG4gICAgPCEtLSBlbmRpbmplY3QgLS0+XFxuICAgIDwhLS0gaW5qZWN0OmpzIC0tPlxcbiAgICA8IS0tIGVuZGluamVjdCAtLT5cXG48L2hlYWQ+XFxuPGJvZHk+XFxuICAgIDxzd3QtYXBwPjwvc3d0LWFwcD5cXG48L2JvZHk+XFxuPC9odG1sPlxcbicpO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2FwcC5odG1sJywgJzxkaXYgY2xhc3M9XCJhcHBcIj5cXG4gICAgPHN3dC1oZWFkZXI+PC9zd3QtaGVhZGVyPlxcbiAgICA8ZGl2IGNsYXNzPVwiY29udGVudC12aWV3XCI+XFxuICAgICAgICA8dWktdmlldz48L3VpLXZpZXc+XFxuICAgIDwvZGl2PlxcbiAgICA8c3d0LWZvb3Rlcj48L3N3dC1mb290ZXI+XFxuPC9kaXY+XFxuJyk7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnaG9tZS5odG1sJywgJzxkaXYgY2xhc3M9XCJob21lcGFnZVwiPlxcbiAgICA8c3d0LXNlYXJjaGJhcj48L3N3dC1zZWFyY2hiYXI+XFxuICAgIDxzd3QtcG9wdWxhci1kb2N1bWVudHM+PC9zd3QtcG9wdWxhci1kb2N1bWVudHM+XFxuPC9kaXY+XFxuJyk7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnc2VhcmNoUGFnZS5odG1sJywgJzxkaXYgY2xhc3M9XCJzZWFyY2gtcGFnZVwiPlxcbiAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyLXdyYXBwZXJcIj5cXG4gICAgICAgIDxzd3QtZmlsdGVyLXBhbmVsPjwvc3d0LWZpbHRlci1wYW5lbD5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XCJzZWFyY2gtY29udGVudFwiPlxcbiAgICAgICAgPHN3dC1zZWFyY2hiYXI+PC9zd3Qtc2VhcmNoYmFyPlxcbiAgICAgICAgPGg0IHRyYW5zbGF0ZT1cIlRPVEFMX1JFU1VMVFNcIiBjbGFzcz1cInNlYXJjaC1jb3VudFwiPjwvaDQ+XFxuICAgICAgICA8c3d0LXNlYXJjaC1yZXN1bHRzPjwvc3d0LXNlYXJjaC1yZXN1bHRzPlxcbiAgICA8L2Rpdj5cXG48L2Rpdj5cXG4nKTtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCd0cmFuc2xhdGUuaHRtbCcsICc8ZGl2PlxcbiAgICA8YnV0dG9uICBuZy1jbGFzcz1cInsgYnV0dG9uX19hY3RpdmU6IHRyYW5zbGF0ZUN0cmwuc2VsZWN0ZWRMYW5ndWFnZSA9PT0gXFwnZW5cXCcgfVwiICBuZy1jbGljaz1cInRyYW5zbGF0ZUN0cmwuY2hhbmdlTGFuZ3VhZ2UoXFwnZW5cXCcpXCIgdHJhbnNsYXRlPVwiQlVUVE9OX0xBTkdfRU5cIj5lbmdsaXNoPC9idXR0b24+XFxuICAgIDxidXR0b24gbmctY2xhc3M9XCJ7IGJ1dHRvbl9fYWN0aXZlOiB0cmFuc2xhdGVDdHJsLnNlbGVjdGVkTGFuZ3VhZ2UgPT09IFxcJ2RlXFwnIH1cIiAgbmctY2xpY2s9XCJ0cmFuc2xhdGVDdHJsLmNoYW5nZUxhbmd1YWdlKFxcJ2RlXFwnKVwiIHRyYW5zbGF0ZT1cIkJVVFRPTl9MQU5HX0RFXCI+Z2VybWFuPC9idXR0b24+XFxuICAgIDxidXR0b24gbmctY2xhc3M9XCJ7IGJ1dHRvbl9fYWN0aXZlOiB0cmFuc2xhdGVDdHJsLnNlbGVjdGVkTGFuZ3VhZ2UgPT09IFxcJ2VzXFwnIH1cIiAgbmctY2xpY2s9XCJ0cmFuc2xhdGVDdHJsLmNoYW5nZUxhbmd1YWdlKFxcJ2VzXFwnKVwiIHRyYW5zbGF0ZT1cIkJVVFRPTl9MQU5HX0VTXCI+c3BhbmlzaDwvYnV0dG9uPlxcbjwvZGl2PlxcblxcbicpO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2hvbWVSb3V0ZS5odG1sJywgJzxzd3QtaG9tZT48L3N3dC1ob21lPlxcbicpO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3NlYXJjaFJvdXRlLmh0bWwnLCAnPHN3dC1zZWFyY2gtcGFnZT48L3N3dC1zZWFyY2gtcGFnZT5cXG4nKTtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdwb3B1bGFyRG9jdW1lbnRzLmh0bWwnLCAnPGRpdiBjbGFzcz1cInBvcHVsYXJcIj5cXG4gICAgPGhlYWRlciBjbGFzcz1cInBvcHVsYXItaGVhZGVyXCI+XFxuICAgICAgICA8aDI+TW9zdCBwb3B1bGFyIGRvY3VtZW50czwvaDI+XFxuICAgIDwvaGVhZGVyPlxcbiAgICA8ZGl2IGNsYXNzPVwicG9wdWxhci1kb2NzXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVwicG9wdWxhci1hcnRpY2xlXCIgbmctcmVwZWF0PVwiaXRlbSBpbiBwb3B1bGFyLmRvY3VtZW50c1wiPlxcbiAgICAgICAgICAgIDxzd3QtZG9jdW1lbnQgZG9jdW1lbnQ9XCJpdGVtXCIgaGVhZGxpbmU9XCJmYWxzZVwiPjwvc3d0LWRvY3VtZW50PlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbjwvZGl2PlxcbicpO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2RvY3VtZW50Lmh0bWwnLCAnPHNlY3Rpb24gY2xhc3M9XCJkb2N1bWVudFwiPlxcbiAgICA8aGVhZGVyIGNsYXNzPVwiZG9jdW1lbnQtaGVhZGVyXCIgbmctY2xhc3M9XCJ7IG5vbmU6IHNob3dIZWFkbGluZSA9PSBcXCdmYWxzZVxcJyB9XCI+XFxuICAgICAgICA8aDM+XFxuICAgICAgICAgICAge3sgZG9jdW1lbnQudmFsdWUuaGVhZGxpbmUgfX1cXG4gICAgICAgIDwvaDM+XFxuICAgIDwvaGVhZGVyPlxcbiAgICA8YXJ0aWNsZSBjbGFzcz1cImRvY3VtZW50LXRleHRcIj5cXG4gICAgICAgIHt7IGRvY3VtZW50LnZhbHVlLnRleHQgfX1cXG4gICAgPC9hcnRpY2xlPlxcbjwvc2VjdGlvbj5cXG5cXG4nKTtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdmb290ZXIuaHRtbCcsICc8Zm9vdGVyIGNsYXNzPVwicGFnZS1mb290ZXJcIj5cXG4gICAgPGRpdiBjbGFzcz1cImZvb3Rlci1jb3B5cmlnaHRcIj4gXFx4QTlcXG4gICAgICAgIDxhIGhyZWY9XCJcIiB0YXJnZXQ9XCJfYmxhbmtcIj5jb3B5cmlnaHQ8L2E+LlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cImZvb3Rlci1jb250YWluZXJcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XCJcIj48L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9mb290ZXI+XFxuJyk7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnaGVhZGVyLmh0bWwnLCAnPGhlYWRlciBjbGFzcz1cImhlYWRlclwiPlxcbiAgICA8ZGl2IGNsYXNzPVwibG9nby1sYW5ndWFnZS1zZWN0aW9uXCI+XFxuICAgICAgICA8aW1nIGNsYXNzPVwibG9nb1wiIHNyYz1cIlwiIGFsdD1cImxvZ29cIj5cXG4gICAgICAgIDxzd3QtdHJhbnNsYXRlPjwvc3d0LXRyYW5zbGF0ZT5cXG4gICAgPC9kaXY+XFxuICAgIDxzd3QtaGFtYnVyZ2VyLW1lbnU+PC9zd3QtaGFtYnVyZ2VyLW1lbnU+XFxuPC9oZWFkZXI+XFxuJyk7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnc2VhcmNoYmFyLmh0bWwnLCAnPGZvcm0gY2xhc3M9XCJzZWFyY2gtYmFyXCIgbmctc3VibWl0PVwic2VhcmNoYmFyLnN1Ym1pdEZvcm0oJGV2ZW50KVwiID5cXG4gICAgPGlucHV0IGNsYXNzPVwic2l0ZS1zZWFyY2hcIlxcbiAgICAgICAgICAgIG5nLW1vZGVsPVwic2VhcmNoYmFyLmlucHV0XCJcXG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiIFxcbiAgICAgICAgICAgIGlkPVwic2l0ZS1zZWFyY2hcIiBcXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCB0aHJvdWdoIHNpdGUgY29udGVudFwiPlxcbiAgICA8YnV0dG9uIGNsYXNzPVwic2VhcmNoLWJ0blwiIHR5cGU9XCJzdWJtaXRcIj5cXG4gICAgICAgIDxzdmcgIGhlaWdodD1cIjMwXCIgdmVyc2lvbj1cIjEuMVwiIHZpZXdCb3g9XCIwIDAgMjIgMjJcIiB3aWR0aD1cIjMwXCI+PHBhdGggZD1cIk0xNS41IDE0aC0uNzlsLS4yOC0uMjdDMTUuNDEgMTIuNTkgMTYgMTEuMTEgMTYgOS41IDE2IDUuOTEgMTMuMDkgMyA5LjUgM1MzIDUuOTEgMyA5LjUgNS45MSAxNiA5LjUgMTZjMS42MSAwIDMuMDktLjU5IDQuMjMtMS41N2wuMjcuMjh2Ljc5bDUgNC45OUwyMC40OSAxOWwtNC45OS01em0tNiAwQzcuMDEgMTQgNSAxMS45OSA1IDkuNVM3LjAxIDUgOS41IDUgMTQgNy4wMSAxNCA5LjUgMTEuOTkgMTQgOS41IDE0elwiPjwvcGF0aD48L3N2Zz5cXG4gICAgPC9idXR0b24+XFxuPC9mb3JtPiAnKTtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdmaWx0ZXJQYW5lbC5odG1sJywgJzx1bCBjbGFzcz1cImZpbHRlclwiPlxcbiAgICA8bGkgbmctcmVwZWF0PVwiaXRlbSBpbiBmaWx0ZXIuZmlsdGVyZWRBcnRpY2xlc1wiIGNsYXNzPVwiZmlsdGVyLWl0ZW1cIj5cXG4gICAgIHt7aXRlbS5maWx0ZXJlZENhdGVnb3J5TmFtZSB9fSAoe3sgaXRlbS5maWx0ZXJlZEdyb3VwLmxlbmd0aCB9fSlcXG4gICAgPC9saT5cXG48L3VsPlxcbicpO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3NlYXJjaFJlc3VsdHMuaHRtbCcsICc8ZGl2PlxcbiAgICA8ZGl2IG5nLXJlcGVhdD1cIml0ZW0gaW4gc2VhcmNoLnJlc3VsdHNcIj5cXG4gICAgICAgIDxzd3QtZG9jdW1lbnQgZG9jdW1lbnQ9XCJpdGVtXCI+PC9zd3QtZG9jdW1lbnQ+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVwicGFnZS1idXR0b25zXCI+XFxuICAgICAgICA8YnV0dG9uIFxcbiAgICAgICAgICAgIGNsYXNzPVwicGFnZS1idXR0b25cIlxcbiAgICAgICAgICAgIG5nLWNsYXNzPVwieyBidXR0b25fX2FjdGl2ZTogc2VhcmNoLnJlc3VsdHMgPT09IHZhbHVlIH1cIiBcXG4gICAgICAgICAgICBuZy1yZXBlYXQ9XCIoa2V5LCB2YWx1ZSkgaW4gc2VhcmNoLnBhZ2luYXRlZERvY3VtZW50c1wiIFxcbiAgICAgICAgICAgIG5nLWNsaWNrPVwic2VhcmNoLmNoYW5nZVBhZ2Uoa2V5KVwiXFxuICAgICAgICA+XFxuICAgICAgICAgICAge3sga2V5ICsgMSB9fVxcbiAgICAgICAgPC9idXR0b24+XFxuICAgIDwvZGl2PlxcbjwvZGl2PlxcbicpO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2hhbWJ1cmdlck1lbnUuaHRtbCcsICc8ZGl2IGNsYXNzPVwiaGFtYnVyZ2VyXCI+XFxuICAgIDxkaXYgY2xhc3M9XCJpY29uLWNvbnRhaW5lclwiIG5nLWNsaWNrPVwiaGFtYnVyZ2VyLnRvZ2dsZU1lbnUoKVwiPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJpY29uXCIgbmctY2xhc3M9XCJ7IGNsb3NlOiBoYW1idXJnZXIuaXNBY3RpdmUgPT0gdHJ1ZSB9XCI+PC9zcGFuPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cIm1lbnVcIiBuZy1jbGFzcz1cInsgZm9sZGVkOiBoYW1idXJnZXIuaXNBY3RpdmUgPT0gdHJ1ZSB9XCI+XFxuICAgICAgICA8bmF2IGNsYXNzPVwibmF2aWdhdGlvbi1saXN0XCI+XFxuICAgICAgICAgICAgPHVsPlxcbiAgICAgICAgICAgICAgICA8bGkgbmctcmVwZWF0PVwibGluayBpbiBoYW1idXJnZXIubmF2TGlzdFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJuYXYtbGlua1wiIHVpLXNyZWY9XCJ7e2xpbmsuc3RhdGV9fVwiIG5nLWNsaWNrPVwiaGFtYnVyZ2VyLnRvZ2dsZU1lbnUoKVwiPnt7IGxpbmsudGV4dCB9fTwvYT5cXG4gICAgICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgPC9uYXY+XFxuICAgIDwvZGl2PlxcbjwvZGl2PlxcbicpO1xufV0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcblxufSx7XCJhbmd1bGFyXCI6ODd9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuICogU3RhdGUtYmFzZWQgcm91dGluZyBmb3IgQW5ndWxhckpTIDEueFxuICogVGhpcyBidW5kbGUgcmVxdWlyZXMgdGhlIHVpLXJvdXRlci1jb3JlLmpzIGJ1bmRsZSBmcm9tIHRoZSBAdWlyb3V0ZXIvY29yZSBwYWNrYWdlLlxuICogQHZlcnNpb24gdjEuMC4yMlxuICogQGxpbmsgaHR0cHM6Ly91aS1yb3V0ZXIuZ2l0aHViLmlvXG4gKiBAbGljZW5zZSBNSVQgTGljZW5zZSwgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBmYWN0b3J5KGV4cG9ydHMsIHJlcXVpcmUoJ2FuZ3VsYXInKSwgcmVxdWlyZSgnQHVpcm91dGVyL2NvcmUnKSkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnLCAnYW5ndWxhcicsICdAdWlyb3V0ZXIvY29yZSddLCBmYWN0b3J5KSA6XG4gICAgKGdsb2JhbCA9IGdsb2JhbCB8fCBzZWxmLCBmYWN0b3J5KGdsb2JhbFsnQHVpcm91dGVyL2FuZ3VsYXJqcyddID0ge30sIGdsb2JhbC5hbmd1bGFyLCBnbG9iYWxbJ0B1aXJvdXRlci9jb3JlJ10pKTtcbn0odGhpcywgZnVuY3Rpb24gKGV4cG9ydHMsIG5nX2Zyb21faW1wb3J0LCBjb3JlKSB7ICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKiBAcHVibGljYXBpIEBtb2R1bGUgbmcxICovIC8qKiAqL1xuICAgIC8qKiBAaGlkZGVuICovIHZhciBuZ19mcm9tX2dsb2JhbCA9IGFuZ3VsYXI7XG4gICAgLyoqIEBoaWRkZW4gKi8gdmFyIG5nID0gbmdfZnJvbV9pbXBvcnQgJiYgbmdfZnJvbV9pbXBvcnQubW9kdWxlID8gbmdfZnJvbV9pbXBvcnQgOiBuZ19mcm9tX2dsb2JhbDtcblxuICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICBmdW5jdGlvbiBnZXROZzFWaWV3Q29uZmlnRmFjdG9yeSgpIHtcbiAgICAgICAgdmFyIHRlbXBsYXRlRmFjdG9yeSA9IG51bGw7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAocGF0aCwgdmlldykge1xuICAgICAgICAgICAgdGVtcGxhdGVGYWN0b3J5ID0gdGVtcGxhdGVGYWN0b3J5IHx8IGNvcmUuc2VydmljZXMuJGluamVjdG9yLmdldCgnJHRlbXBsYXRlRmFjdG9yeScpO1xuICAgICAgICAgICAgcmV0dXJuIFtuZXcgTmcxVmlld0NvbmZpZyhwYXRoLCB2aWV3LCB0ZW1wbGF0ZUZhY3RvcnkpXTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbGFwaSAqL1xuICAgIHZhciBoYXNBbnlLZXkgPSBmdW5jdGlvbiAoa2V5cywgb2JqKSB7IHJldHVybiBrZXlzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHsgcmV0dXJuIGFjYyB8fCBjb3JlLmlzRGVmaW5lZChvYmpba2V5XSk7IH0sIGZhbHNlKTsgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIGEgW1tTdGF0ZUJ1aWxkZXIuYnVpbGRlcl1dIGZ1bmN0aW9uIGZvciBhbmd1bGFyMSBgdmlld3NgLlxuICAgICAqXG4gICAgICogV2hlbiB0aGUgW1tTdGF0ZUJ1aWxkZXJdXSBidWlsZHMgYSBbW1N0YXRlT2JqZWN0XV0gb2JqZWN0IGZyb20gYSByYXcgW1tTdGF0ZURlY2xhcmF0aW9uXV0sIHRoaXMgYnVpbGRlclxuICAgICAqIGhhbmRsZXMgdGhlIGB2aWV3c2AgcHJvcGVydHkgd2l0aCBsb2dpYyBzcGVjaWZpYyB0byBAdWlyb3V0ZXIvYW5ndWxhcmpzIChuZzEpLlxuICAgICAqXG4gICAgICogSWYgbm8gYHZpZXdzOiB7fWAgcHJvcGVydHkgZXhpc3RzIG9uIHRoZSBbW1N0YXRlRGVjbGFyYXRpb25dXSwgdGhlbiBpdCBjcmVhdGVzIHRoZSBgdmlld3NgIG9iamVjdFxuICAgICAqIGFuZCBhcHBsaWVzIHRoZSBzdGF0ZS1sZXZlbCBjb25maWd1cmF0aW9uIHRvIGEgdmlldyBuYW1lZCBgJGRlZmF1bHRgLlxuICAgICAqXG4gICAgICogQGludGVybmFsYXBpXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmcxVmlld3NCdWlsZGVyKHN0YXRlKSB7XG4gICAgICAgIC8vIERvIG5vdCBwcm9jZXNzIHJvb3Qgc3RhdGVcbiAgICAgICAgaWYgKCFzdGF0ZS5wYXJlbnQpXG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIHZhciB0cGxLZXlzID0gWyd0ZW1wbGF0ZVByb3ZpZGVyJywgJ3RlbXBsYXRlVXJsJywgJ3RlbXBsYXRlJywgJ25vdGlmeScsICdhc3luYyddLCBjdHJsS2V5cyA9IFsnY29udHJvbGxlcicsICdjb250cm9sbGVyUHJvdmlkZXInLCAnY29udHJvbGxlckFzJywgJ3Jlc29sdmVBcyddLCBjb21wS2V5cyA9IFsnY29tcG9uZW50JywgJ2JpbmRpbmdzJywgJ2NvbXBvbmVudFByb3ZpZGVyJ10sIG5vbkNvbXBLZXlzID0gdHBsS2V5cy5jb25jYXQoY3RybEtleXMpLCBhbGxWaWV3S2V5cyA9IGNvbXBLZXlzLmNvbmNhdChub25Db21wS2V5cyk7XG4gICAgICAgIC8vIERvIG5vdCBhbGxvdyBhIHN0YXRlIHRvIGhhdmUgYm90aCBzdGF0ZS1sZXZlbCBwcm9wcyBhbmQgYWxzbyBhIGB2aWV3czoge31gIHByb3BlcnR5LlxuICAgICAgICAvLyBBIHN0YXRlIHdpdGhvdXQgYSBgdmlld3M6IHt9YCBwcm9wZXJ0eSBjYW4gZGVjbGFyZSBwcm9wZXJ0aWVzIGZvciB0aGUgYCRkZWZhdWx0YCB2aWV3IGFzIHByb3BlcnRpZXMgb2YgdGhlIHN0YXRlLlxuICAgICAgICAvLyBIb3dldmVyLCB0aGUgYCRkZWZhdWx0YCBhcHByb2FjaCBzaG91bGQgbm90IGJlIG1peGVkIHdpdGggYSBzZXBhcmF0ZSBgdmlld3M6IGAgYmxvY2suXG4gICAgICAgIGlmIChjb3JlLmlzRGVmaW5lZChzdGF0ZS52aWV3cykgJiYgaGFzQW55S2V5KGFsbFZpZXdLZXlzLCBzdGF0ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0YXRlICdcIiArIHN0YXRlLm5hbWUgKyBcIicgaGFzIGEgJ3ZpZXdzJyBvYmplY3QuIFwiICtcbiAgICAgICAgICAgICAgICBcIkl0IGNhbm5vdCBhbHNvIGhhdmUgXFxcInZpZXcgcHJvcGVydGllc1xcXCIgYXQgdGhlIHN0YXRlIGxldmVsLiAgXCIgK1xuICAgICAgICAgICAgICAgIFwiTW92ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgaW50byBhIHZpZXcgKGluIHRoZSAndmlld3MnIG9iamVjdCk6IFwiICtcbiAgICAgICAgICAgICAgICAoXCIgXCIgKyBhbGxWaWV3S2V5cy5maWx0ZXIoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gY29yZS5pc0RlZmluZWQoc3RhdGVba2V5XSk7IH0pLmpvaW4oJywgJykpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlld3MgPSB7fSwgdmlld3NPYmplY3QgPSBzdGF0ZS52aWV3cyB8fCB7ICRkZWZhdWx0OiBjb3JlLnBpY2soc3RhdGUsIGFsbFZpZXdLZXlzKSB9O1xuICAgICAgICBjb3JlLmZvckVhY2godmlld3NPYmplY3QsIGZ1bmN0aW9uIChjb25maWcsIG5hbWUpIHtcbiAgICAgICAgICAgIC8vIEFjY291bnQgZm9yIHZpZXdzOiB7IFwiXCI6IHsgdGVtcGxhdGUuLi4gfSB9XG4gICAgICAgICAgICBuYW1lID0gbmFtZSB8fCAnJGRlZmF1bHQnO1xuICAgICAgICAgICAgLy8gQWNjb3VudCBmb3Igdmlld3M6IHsgaGVhZGVyOiBcImhlYWRlckNvbXBvbmVudFwiIH1cbiAgICAgICAgICAgIGlmIChjb3JlLmlzU3RyaW5nKGNvbmZpZykpXG4gICAgICAgICAgICAgICAgY29uZmlnID0geyBjb21wb25lbnQ6IGNvbmZpZyB9O1xuICAgICAgICAgICAgLy8gTWFrZSBhIHNoYWxsb3cgY29weSBvZiB0aGUgY29uZmlnIG9iamVjdFxuICAgICAgICAgICAgY29uZmlnID0gY29yZS5leHRlbmQoe30sIGNvbmZpZyk7XG4gICAgICAgICAgICAvLyBEbyBub3QgYWxsb3cgYSB2aWV3IHRvIG1peCBwcm9wcyBmb3IgY29tcG9uZW50LXN0eWxlIHZpZXcgd2l0aCBwcm9wcyBmb3IgdGVtcGxhdGUvY29udHJvbGxlci1zdHlsZSB2aWV3XG4gICAgICAgICAgICBpZiAoaGFzQW55S2V5KGNvbXBLZXlzLCBjb25maWcpICYmIGhhc0FueUtleShub25Db21wS2V5cywgY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjb21iaW5lOiBcIiArIGNvbXBLZXlzLmpvaW4oJ3wnKSArIFwiIHdpdGg6IFwiICsgbm9uQ29tcEtleXMuam9pbignfCcpICsgXCIgaW4gc3RhdGV2aWV3OiAnXCIgKyBuYW1lICsgXCJAXCIgKyBzdGF0ZS5uYW1lICsgXCInXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uZmlnLnJlc29sdmVBcyA9IGNvbmZpZy5yZXNvbHZlQXMgfHwgJyRyZXNvbHZlJztcbiAgICAgICAgICAgIGNvbmZpZy4kdHlwZSA9ICduZzEnO1xuICAgICAgICAgICAgY29uZmlnLiRjb250ZXh0ID0gc3RhdGU7XG4gICAgICAgICAgICBjb25maWcuJG5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWQgPSBjb3JlLlZpZXdTZXJ2aWNlLm5vcm1hbGl6ZVVJVmlld1RhcmdldChjb25maWcuJGNvbnRleHQsIGNvbmZpZy4kbmFtZSk7XG4gICAgICAgICAgICBjb25maWcuJHVpVmlld05hbWUgPSBub3JtYWxpemVkLnVpVmlld05hbWU7XG4gICAgICAgICAgICBjb25maWcuJHVpVmlld0NvbnRleHRBbmNob3IgPSBub3JtYWxpemVkLnVpVmlld0NvbnRleHRBbmNob3I7XG4gICAgICAgICAgICB2aWV3c1tuYW1lXSA9IGNvbmZpZztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB2aWV3cztcbiAgICB9XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICB2YXIgaWQgPSAwO1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICB2YXIgTmcxVmlld0NvbmZpZyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gTmcxVmlld0NvbmZpZyhwYXRoLCB2aWV3RGVjbCwgZmFjdG9yeSkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgICAgICB0aGlzLnZpZXdEZWNsID0gdmlld0RlY2w7XG4gICAgICAgICAgICB0aGlzLmZhY3RvcnkgPSBmYWN0b3J5O1xuICAgICAgICAgICAgdGhpcy4kaWQgPSBpZCsrO1xuICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbiAodWlWaWV3LCBjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICA/IF90aGlzLmZhY3RvcnkubWFrZUNvbXBvbmVudFRlbXBsYXRlKHVpVmlldywgY29udGV4dCwgX3RoaXMuY29tcG9uZW50LCBfdGhpcy52aWV3RGVjbC5iaW5kaW5ncylcbiAgICAgICAgICAgICAgICAgICAgOiBfdGhpcy50ZW1wbGF0ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgTmcxVmlld0NvbmZpZy5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgJHEgPSBjb3JlLnNlcnZpY2VzLiRxO1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBuZXcgY29yZS5SZXNvbHZlQ29udGV4dCh0aGlzLnBhdGgpO1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHRoaXMucGF0aC5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgbm9kZSkgeyByZXR1cm4gY29yZS5leHRlbmQoYWNjLCBub2RlLnBhcmFtVmFsdWVzKTsgfSwge30pO1xuICAgICAgICAgICAgdmFyIHByb21pc2VzID0ge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAkcS53aGVuKHRoaXMuZmFjdG9yeS5mcm9tQ29uZmlnKHRoaXMudmlld0RlY2wsIHBhcmFtcywgY29udGV4dCkpLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICRxLndoZW4odGhpcy5nZXRDb250cm9sbGVyKGNvbnRleHQpKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gJHEuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgY29yZS50cmFjZS50cmFjZVZpZXdTZXJ2aWNlRXZlbnQoJ0xvYWRlZCcsIF90aGlzKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb250cm9sbGVyID0gcmVzdWx0cy5jb250cm9sbGVyO1xuICAgICAgICAgICAgICAgIGNvcmUuZXh0ZW5kKF90aGlzLCByZXN1bHRzLnRlbXBsYXRlKTsgLy8gRWl0aGVyIHsgdGVtcGxhdGU6IFwidHBsXCIgfSBvciB7IGNvbXBvbmVudDogXCJjbXBOYW1lXCIgfVxuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgY29udHJvbGxlciBmb3IgYSB2aWV3IGNvbmZpZ3VyYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbnxQcm9taXNlLjxGdW5jdGlvbj59IFJldHVybnMgYSBjb250cm9sbGVyLCBvciBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIGNvbnRyb2xsZXIuXG4gICAgICAgICAqL1xuICAgICAgICBOZzFWaWV3Q29uZmlnLnByb3RvdHlwZS5nZXRDb250cm9sbGVyID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBwcm92aWRlciA9IHRoaXMudmlld0RlY2wuY29udHJvbGxlclByb3ZpZGVyO1xuICAgICAgICAgICAgaWYgKCFjb3JlLmlzSW5qZWN0YWJsZShwcm92aWRlcikpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld0RlY2wuY29udHJvbGxlcjtcbiAgICAgICAgICAgIHZhciBkZXBzID0gY29yZS5zZXJ2aWNlcy4kaW5qZWN0b3IuYW5ub3RhdGUocHJvdmlkZXIpO1xuICAgICAgICAgICAgdmFyIHByb3ZpZGVyRm4gPSBjb3JlLmlzQXJyYXkocHJvdmlkZXIpID8gY29yZS50YWlsKHByb3ZpZGVyKSA6IHByb3ZpZGVyO1xuICAgICAgICAgICAgdmFyIHJlc29sdmFibGUgPSBuZXcgY29yZS5SZXNvbHZhYmxlKCcnLCBwcm92aWRlckZuLCBkZXBzKTtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZhYmxlLmdldChjb250ZXh0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE5nMVZpZXdDb25maWc7XG4gICAgfSgpKTtcblxuICAgIC8qKiBAcHVibGljYXBpIEBtb2R1bGUgdmlldyAqLyAvKiogKi9cbiAgICAvKipcbiAgICAgKiBTZXJ2aWNlIHdoaWNoIG1hbmFnZXMgbG9hZGluZyBvZiB0ZW1wbGF0ZXMgZnJvbSBhIFZpZXdDb25maWcuXG4gICAgICovXG4gICAgdmFyIFRlbXBsYXRlRmFjdG9yeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gVGVtcGxhdGVGYWN0b3J5KCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuX3VzZUh0dHAgPSBuZy52ZXJzaW9uLm1pbm9yIDwgMztcbiAgICAgICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuJGdldCA9IFtcbiAgICAgICAgICAgICAgICAnJGh0dHAnLFxuICAgICAgICAgICAgICAgICckdGVtcGxhdGVDYWNoZScsXG4gICAgICAgICAgICAgICAgJyRpbmplY3RvcicsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCRodHRwLCAkdGVtcGxhdGVDYWNoZSwgJGluamVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLiR0ZW1wbGF0ZVJlcXVlc3QgPSAkaW5qZWN0b3IuaGFzICYmICRpbmplY3Rvci5oYXMoJyR0ZW1wbGF0ZVJlcXVlc3QnKSAmJiAkaW5qZWN0b3IuZ2V0KCckdGVtcGxhdGVSZXF1ZXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLiRodHRwID0gJGh0dHA7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLiR0ZW1wbGF0ZUNhY2hlID0gJHRlbXBsYXRlQ2FjaGU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICBUZW1wbGF0ZUZhY3RvcnkucHJvdG90eXBlLnVzZUh0dHBTZXJ2aWNlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl91c2VIdHRwID0gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIGEgdGVtcGxhdGUgZnJvbSBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gY29uZmlnIENvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciB3aGljaCB0byBsb2FkIGEgdGVtcGxhdGUuXG4gICAgICAgICAqIFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBhcmUgc2VhcmNoIGluIHRoZSBzcGVjaWZpZWQgb3JkZXIsIGFuZCB0aGUgZmlyc3Qgb25lXG4gICAgICAgICAqIHRoYXQgaXMgZGVmaW5lZCBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgdGVtcGxhdGU6XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBwYXJhbXMgIFBhcmFtZXRlcnMgdG8gcGFzcyB0byB0aGUgdGVtcGxhdGUgZnVuY3Rpb24uXG4gICAgICAgICAqIEBwYXJhbSBjb250ZXh0IFRoZSByZXNvbHZlIGNvbnRleHQgYXNzb2NpYXRlZCB3aXRoIHRoZSB0ZW1wbGF0ZSdzIHZpZXdcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybiB7c3RyaW5nfG9iamVjdH0gIFRoZSB0ZW1wbGF0ZSBodG1sIGFzIGEgc3RyaW5nLCBvciBhIHByb21pc2UgZm9yXG4gICAgICAgICAqIHRoYXQgc3RyaW5nLG9yIGBudWxsYCBpZiBubyB0ZW1wbGF0ZSBpcyBjb25maWd1cmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgVGVtcGxhdGVGYWN0b3J5LnByb3RvdHlwZS5mcm9tQ29uZmlnID0gZnVuY3Rpb24gKGNvbmZpZywgcGFyYW1zLCBjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdFRlbXBsYXRlID0gJzx1aS12aWV3PjwvdWktdmlldz4nO1xuICAgICAgICAgICAgdmFyIGFzVGVtcGxhdGUgPSBmdW5jdGlvbiAocmVzdWx0KSB7IHJldHVybiBjb3JlLnNlcnZpY2VzLiRxLndoZW4ocmVzdWx0KS50aGVuKGZ1bmN0aW9uIChzdHIpIHsgcmV0dXJuICh7IHRlbXBsYXRlOiBzdHIgfSk7IH0pOyB9O1xuICAgICAgICAgICAgdmFyIGFzQ29tcG9uZW50ID0gZnVuY3Rpb24gKHJlc3VsdCkgeyByZXR1cm4gY29yZS5zZXJ2aWNlcy4kcS53aGVuKHJlc3VsdCkudGhlbihmdW5jdGlvbiAoc3RyKSB7IHJldHVybiAoeyBjb21wb25lbnQ6IHN0ciB9KTsgfSk7IH07XG4gICAgICAgICAgICByZXR1cm4gY29yZS5pc0RlZmluZWQoY29uZmlnLnRlbXBsYXRlKVxuICAgICAgICAgICAgICAgID8gYXNUZW1wbGF0ZSh0aGlzLmZyb21TdHJpbmcoY29uZmlnLnRlbXBsYXRlLCBwYXJhbXMpKVxuICAgICAgICAgICAgICAgIDogY29yZS5pc0RlZmluZWQoY29uZmlnLnRlbXBsYXRlVXJsKVxuICAgICAgICAgICAgICAgICAgICA/IGFzVGVtcGxhdGUodGhpcy5mcm9tVXJsKGNvbmZpZy50ZW1wbGF0ZVVybCwgcGFyYW1zKSlcbiAgICAgICAgICAgICAgICAgICAgOiBjb3JlLmlzRGVmaW5lZChjb25maWcudGVtcGxhdGVQcm92aWRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYXNUZW1wbGF0ZSh0aGlzLmZyb21Qcm92aWRlcihjb25maWcudGVtcGxhdGVQcm92aWRlciwgcGFyYW1zLCBjb250ZXh0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY29yZS5pc0RlZmluZWQoY29uZmlnLmNvbXBvbmVudClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGFzQ29tcG9uZW50KGNvbmZpZy5jb21wb25lbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjb3JlLmlzRGVmaW5lZChjb25maWcuY29tcG9uZW50UHJvdmlkZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYXNDb21wb25lbnQodGhpcy5mcm9tQ29tcG9uZW50UHJvdmlkZXIoY29uZmlnLmNvbXBvbmVudFByb3ZpZGVyLCBwYXJhbXMsIGNvbnRleHQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGFzVGVtcGxhdGUoZGVmYXVsdFRlbXBsYXRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZXMgYSB0ZW1wbGF0ZSBmcm9tIGEgc3RyaW5nIG9yIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgc3RyaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gdGVtcGxhdGUgaHRtbCB0ZW1wbGF0ZSBhcyBhIHN0cmluZyBvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gaHRtbCB0ZW1wbGF0ZSBhcyBhIHN0cmluZy5cbiAgICAgICAgICogQHBhcmFtIHBhcmFtcyBQYXJhbWV0ZXJzIHRvIHBhc3MgdG8gdGhlIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd8b2JqZWN0fSBUaGUgdGVtcGxhdGUgaHRtbCBhcyBhIHN0cmluZywgb3IgYSBwcm9taXNlIGZvciB0aGF0XG4gICAgICAgICAqIHN0cmluZy5cbiAgICAgICAgICovXG4gICAgICAgIFRlbXBsYXRlRmFjdG9yeS5wcm90b3R5cGUuZnJvbVN0cmluZyA9IGZ1bmN0aW9uICh0ZW1wbGF0ZSwgcGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gY29yZS5pc0Z1bmN0aW9uKHRlbXBsYXRlKSA/IHRlbXBsYXRlKHBhcmFtcykgOiB0ZW1wbGF0ZTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvYWRzIGEgdGVtcGxhdGUgZnJvbSB0aGUgYSBVUkwgdmlhIGAkaHR0cGAgYW5kIGAkdGVtcGxhdGVDYWNoZWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfEZ1bmN0aW9ufSB1cmwgdXJsIG9mIHRoZSB0ZW1wbGF0ZSB0byBsb2FkLCBvciBhIGZ1bmN0aW9uXG4gICAgICAgICAqIHRoYXQgcmV0dXJucyBhIHVybC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBQYXJhbWV0ZXJzIHRvIHBhc3MgdG8gdGhlIHVybCBmdW5jdGlvbi5cbiAgICAgICAgICogQHJldHVybiB7c3RyaW5nfFByb21pc2UuPHN0cmluZz59IFRoZSB0ZW1wbGF0ZSBodG1sIGFzIGEgc3RyaW5nLCBvciBhIHByb21pc2VcbiAgICAgICAgICogZm9yIHRoYXQgc3RyaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgVGVtcGxhdGVGYWN0b3J5LnByb3RvdHlwZS5mcm9tVXJsID0gZnVuY3Rpb24gKHVybCwgcGFyYW1zKSB7XG4gICAgICAgICAgICBpZiAoY29yZS5pc0Z1bmN0aW9uKHVybCkpXG4gICAgICAgICAgICAgICAgdXJsID0gdXJsKHBhcmFtcyk7XG4gICAgICAgICAgICBpZiAodXJsID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5fdXNlSHR0cCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRodHRwXG4gICAgICAgICAgICAgICAgICAgIC5nZXQodXJsLCB7IGNhY2hlOiB0aGlzLiR0ZW1wbGF0ZUNhY2hlLCBoZWFkZXJzOiB7IEFjY2VwdDogJ3RleHQvaHRtbCcgfSB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kdGVtcGxhdGVSZXF1ZXN0KHVybCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIGEgdGVtcGxhdGUgYnkgaW52b2tpbmcgYW4gaW5qZWN0YWJsZSBwcm92aWRlciBmdW5jdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHByb3ZpZGVyIEZ1bmN0aW9uIHRvIGludm9rZSB2aWEgYGxvY2Fsc2BcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW5qZWN0Rm4gYSBmdW5jdGlvbiB1c2VkIHRvIGludm9rZSB0aGUgdGVtcGxhdGUgcHJvdmlkZXJcbiAgICAgICAgICogQHJldHVybiB7c3RyaW5nfFByb21pc2UuPHN0cmluZz59IFRoZSB0ZW1wbGF0ZSBodG1sIGFzIGEgc3RyaW5nLCBvciBhIHByb21pc2VcbiAgICAgICAgICogZm9yIHRoYXQgc3RyaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgVGVtcGxhdGVGYWN0b3J5LnByb3RvdHlwZS5mcm9tUHJvdmlkZXIgPSBmdW5jdGlvbiAocHJvdmlkZXIsIHBhcmFtcywgY29udGV4dCkge1xuICAgICAgICAgICAgdmFyIGRlcHMgPSBjb3JlLnNlcnZpY2VzLiRpbmplY3Rvci5hbm5vdGF0ZShwcm92aWRlcik7XG4gICAgICAgICAgICB2YXIgcHJvdmlkZXJGbiA9IGNvcmUuaXNBcnJheShwcm92aWRlcikgPyBjb3JlLnRhaWwocHJvdmlkZXIpIDogcHJvdmlkZXI7XG4gICAgICAgICAgICB2YXIgcmVzb2x2YWJsZSA9IG5ldyBjb3JlLlJlc29sdmFibGUoJycsIHByb3ZpZGVyRm4sIGRlcHMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmFibGUuZ2V0KGNvbnRleHQpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBhIGNvbXBvbmVudCdzIHRlbXBsYXRlIGJ5IGludm9raW5nIGFuIGluamVjdGFibGUgcHJvdmlkZXIgZnVuY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBwcm92aWRlciBGdW5jdGlvbiB0byBpbnZva2UgdmlhIGBsb2NhbHNgXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGluamVjdEZuIGEgZnVuY3Rpb24gdXNlZCB0byBpbnZva2UgdGhlIHRlbXBsYXRlIHByb3ZpZGVyXG4gICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRlbXBsYXRlIGh0bWwgYXMgYSBzdHJpbmc6IFwiPGNvbXBvbmVudC1uYW1lIGlucHV0MT0nOjokcmVzb2x2ZS5mb28nPjwvY29tcG9uZW50LW5hbWU+XCIuXG4gICAgICAgICAqL1xuICAgICAgICBUZW1wbGF0ZUZhY3RvcnkucHJvdG90eXBlLmZyb21Db21wb25lbnRQcm92aWRlciA9IGZ1bmN0aW9uIChwcm92aWRlciwgcGFyYW1zLCBjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgZGVwcyA9IGNvcmUuc2VydmljZXMuJGluamVjdG9yLmFubm90YXRlKHByb3ZpZGVyKTtcbiAgICAgICAgICAgIHZhciBwcm92aWRlckZuID0gY29yZS5pc0FycmF5KHByb3ZpZGVyKSA/IGNvcmUudGFpbChwcm92aWRlcikgOiBwcm92aWRlcjtcbiAgICAgICAgICAgIHZhciByZXNvbHZhYmxlID0gbmV3IGNvcmUuUmVzb2x2YWJsZSgnJywgcHJvdmlkZXJGbiwgZGVwcyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2YWJsZS5nZXQoY29udGV4dCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIGEgdGVtcGxhdGUgZnJvbSBhIGNvbXBvbmVudCdzIG5hbWVcbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBpbXBsZW1lbnRzIHJvdXRlLXRvLWNvbXBvbmVudC5cbiAgICAgICAgICogSXQgd29ya3MgYnkgcmV0cmlldmluZyB0aGUgY29tcG9uZW50IChkaXJlY3RpdmUpIG1ldGFkYXRhIGZyb20gdGhlIGluamVjdG9yLlxuICAgICAgICAgKiBJdCBhbmFseXNlcyB0aGUgY29tcG9uZW50J3MgYmluZGluZ3MsIHRoZW4gY29uc3RydWN0cyBhIHRlbXBsYXRlIHRoYXQgaW5zdGFudGlhdGVzIHRoZSBjb21wb25lbnQuXG4gICAgICAgICAqIFRoZSB0ZW1wbGF0ZSB3aXJlcyBpbnB1dCBhbmQgb3V0cHV0IGJpbmRpbmdzIHRvIHJlc29sdmVzIG9yIGZyb20gdGhlIHBhcmVudCBjb21wb25lbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB1aVZpZXcge29iamVjdH0gVGhlIHBhcmVudCB1aS12aWV3IChmb3IgYmluZGluZyBvdXRwdXRzIHRvIGNhbGxiYWNrcylcbiAgICAgICAgICogQHBhcmFtIGNvbnRleHQgVGhlIFJlc29sdmVDb250ZXh0IChmb3IgYmluZGluZyBvdXRwdXRzIHRvIGNhbGxiYWNrcyByZXR1cm5lZCBmcm9tIHJlc29sdmVzKVxuICAgICAgICAgKiBAcGFyYW0gY29tcG9uZW50IHtzdHJpbmd9IENvbXBvbmVudCdzIG5hbWUgaW4gY2FtZWwgY2FzZS5cbiAgICAgICAgICogQHBhcmFtIGJpbmRpbmdzIEFuIG9iamVjdCBkZWZpbmluZyB0aGUgY29tcG9uZW50J3MgYmluZGluZ3M6IHtmb286ICc8J31cbiAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGVtcGxhdGUgYXMgYSBzdHJpbmc6IFwiPGNvbXBvbmVudC1uYW1lIGlucHV0MT0nOjokcmVzb2x2ZS5mb28nPjwvY29tcG9uZW50LW5hbWU+XCIuXG4gICAgICAgICAqL1xuICAgICAgICBUZW1wbGF0ZUZhY3RvcnkucHJvdG90eXBlLm1ha2VDb21wb25lbnRUZW1wbGF0ZSA9IGZ1bmN0aW9uICh1aVZpZXcsIGNvbnRleHQsIGNvbXBvbmVudCwgYmluZGluZ3MpIHtcbiAgICAgICAgICAgIGJpbmRpbmdzID0gYmluZGluZ3MgfHwge307XG4gICAgICAgICAgICAvLyBCaW5kIG9uY2UgcHJlZml4XG4gICAgICAgICAgICB2YXIgcHJlZml4ID0gbmcudmVyc2lvbi5taW5vciA+PSAzID8gJzo6JyA6ICcnO1xuICAgICAgICAgICAgLy8gQ29udmVydCB0byBrZWJvYiBuYW1lLiBBZGQgeC0gcHJlZml4IGlmIHRoZSBzdHJpbmcgc3RhcnRzIHdpdGggYHgtYCBvciBgZGF0YS1gXG4gICAgICAgICAgICB2YXIga2Vib2IgPSBmdW5jdGlvbiAoY2FtZWxDYXNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtlYm9iZWQgPSBjb3JlLmtlYm9iU3RyaW5nKGNhbWVsQ2FzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC9eKHh8ZGF0YSktLy5leGVjKGtlYm9iZWQpID8gXCJ4LVwiICsga2Vib2JlZCA6IGtlYm9iZWQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZVRwbCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW5wdXQubmFtZSwgdHlwZSA9IGlucHV0LnR5cGU7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJOYW1lID0ga2Vib2IobmFtZSk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHVpLXZpZXcgaGFzIGFuIGF0dHJpYnV0ZSB3aGljaCBtYXRjaGVzIGEgYmluZGluZyBvbiB0aGUgcm91dGVkIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgIC8vIHRoZW4gcGFzcyB0aGF0IGF0dHJpYnV0ZSB0aHJvdWdoIHRvIHRoZSByb3V0ZWQgY29tcG9uZW50IHRlbXBsYXRlLlxuICAgICAgICAgICAgICAgIC8vIFByZWZlciB1aS12aWV3IHdpcmVkIG1hcHBpbmdzIHRvIHJlc29sdmUgZGF0YSwgdW5sZXNzIHRoZSByZXNvbHZlIHdhcyBleHBsaWNpdGx5IGJvdW5kIHVzaW5nIGBiaW5kaW5nczpgXG4gICAgICAgICAgICAgICAgaWYgKHVpVmlldy5hdHRyKGF0dHJOYW1lKSAmJiAhYmluZGluZ3NbbmFtZV0pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhdHRyTmFtZSArIFwiPSdcIiArIHVpVmlldy5hdHRyKGF0dHJOYW1lKSArIFwiJ1wiO1xuICAgICAgICAgICAgICAgIHZhciByZXNvbHZlTmFtZSA9IGJpbmRpbmdzW25hbWVdIHx8IG5hbWU7XG4gICAgICAgICAgICAgICAgLy8gUHJlLWV2YWx1YXRlIHRoZSBleHByZXNzaW9uIGZvciBcIkBcIiBiaW5kaW5ncyBieSBlbmNsb3NpbmcgaW4ge3sgfX1cbiAgICAgICAgICAgICAgICAvLyBzb21lLWF0dHI9XCJ7eyA6OiRyZXNvbHZlLnNvbWVSZXNvbHZlTmFtZSB9fVwiXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdAJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJOYW1lICsgXCI9J3t7XCIgKyBwcmVmaXggKyBcIiRyZXNvbHZlLlwiICsgcmVzb2x2ZU5hbWUgKyBcIn19J1wiO1xuICAgICAgICAgICAgICAgIC8vIFdpcmUgXCImXCIgY2FsbGJhY2tzIHRvIHJlc29sdmVzIHRoYXQgcmV0dXJuIGEgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHJlc3VsdCBvZiB0aGUgcmVzb2x2ZSAoc2hvdWxkIGJlIGEgZnVuY3Rpb24pIGFuZCBhbm5vdGF0ZSBpdCB0byBnZXQgaXRzIGFyZ3VtZW50cy5cbiAgICAgICAgICAgICAgICAvLyBzb21lLWF0dHI9XCIkcmVzb2x2ZS5zb21lUmVzb2x2ZVJlc3VsdE5hbWUoZm9vLCBiYXIpXCJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJyYnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXMgPSBjb250ZXh0LmdldFJlc29sdmFibGUocmVzb2x2ZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm4gPSByZXMgJiYgcmVzLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gKGZuICYmIGNvcmUuc2VydmljZXMuJGluamVjdG9yLmFubm90YXRlKGZuKSkgfHwgW107XG4gICAgICAgICAgICAgICAgICAgIC8vIGFjY291bnQgZm9yIGFycmF5IHN0eWxlIGluamVjdGlvbiwgaS5lLiwgWydmb28nLCBmdW5jdGlvbihmb28pIHt9XVxuICAgICAgICAgICAgICAgICAgICB2YXIgYXJyYXlJZHhTdHIgPSBjb3JlLmlzQXJyYXkoZm4pID8gXCJbXCIgKyAoZm4ubGVuZ3RoIC0gMSkgKyBcIl1cIiA6ICcnO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0ck5hbWUgKyBcIj0nJHJlc29sdmUuXCIgKyByZXNvbHZlTmFtZSArIGFycmF5SWR4U3RyICsgXCIoXCIgKyBhcmdzLmpvaW4oJywnKSArIFwiKSdcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc29tZS1hdHRyPVwiOjokcmVzb2x2ZS5zb21lUmVzb2x2ZU5hbWVcIlxuICAgICAgICAgICAgICAgIHJldHVybiBhdHRyTmFtZSArIFwiPSdcIiArIHByZWZpeCArIFwiJHJlc29sdmUuXCIgKyByZXNvbHZlTmFtZSArIFwiJ1wiO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBhdHRycyA9IGdldENvbXBvbmVudEJpbmRpbmdzKGNvbXBvbmVudClcbiAgICAgICAgICAgICAgICAubWFwKGF0dHJpYnV0ZVRwbClcbiAgICAgICAgICAgICAgICAuam9pbignICcpO1xuICAgICAgICAgICAgdmFyIGtlYm9iTmFtZSA9IGtlYm9iKGNvbXBvbmVudCk7XG4gICAgICAgICAgICByZXR1cm4gXCI8XCIgKyBrZWJvYk5hbWUgKyBcIiBcIiArIGF0dHJzICsgXCI+PC9cIiArIGtlYm9iTmFtZSArIFwiPlwiO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gVGVtcGxhdGVGYWN0b3J5O1xuICAgIH0oKSk7XG4gICAgLy8gR2V0cyBhbGwgdGhlIGRpcmVjdGl2ZShzKScgaW5wdXRzICgnQCcsICc9JywgYW5kICc8JykgYW5kIG91dHB1dHMgKCcmJylcbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnRCaW5kaW5ncyhuYW1lKSB7XG4gICAgICAgIHZhciBjbXBEZWZzID0gY29yZS5zZXJ2aWNlcy4kaW5qZWN0b3IuZ2V0KG5hbWUgKyAnRGlyZWN0aXZlJyk7IC8vIGNvdWxkIGJlIG11bHRpcGxlXG4gICAgICAgIGlmICghY21wRGVmcyB8fCAhY21wRGVmcy5sZW5ndGgpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBjb21wb25lbnQgbmFtZWQgJ1wiICsgbmFtZSArIFwiJ1wiKTtcbiAgICAgICAgcmV0dXJuIGNtcERlZnMubWFwKGdldEJpbmRpbmdzKS5yZWR1Y2UoY29yZS51bm5lc3RSLCBbXSk7XG4gICAgfVxuICAgIC8vIEdpdmVuIGEgZGlyZWN0aXZlIGRlZmluaXRpb24sIGZpbmQgaXRzIG9iamVjdCBpbnB1dCBhdHRyaWJ1dGVzXG4gICAgLy8gVXNlIGRpZmZlcmVudCBwcm9wZXJ0aWVzLCBkZXBlbmRpbmcgb24gdGhlIHR5cGUgb2YgZGlyZWN0aXZlIChjb21wb25lbnQsIGJpbmRUb0NvbnRyb2xsZXIsIG5vcm1hbClcbiAgICB2YXIgZ2V0QmluZGluZ3MgPSBmdW5jdGlvbiAoZGVmKSB7XG4gICAgICAgIGlmIChjb3JlLmlzT2JqZWN0KGRlZi5iaW5kVG9Db250cm9sbGVyKSlcbiAgICAgICAgICAgIHJldHVybiBzY29wZUJpbmRpbmdzKGRlZi5iaW5kVG9Db250cm9sbGVyKTtcbiAgICAgICAgcmV0dXJuIHNjb3BlQmluZGluZ3MoZGVmLnNjb3BlKTtcbiAgICB9O1xuICAgIC8vIGZvciBuZyAxLjIgc3R5bGUsIHByb2Nlc3MgdGhlIHNjb3BlOiB7IGlucHV0OiBcIj1mb29cIiB9XG4gICAgLy8gZm9yIG5nIDEuMyB0aHJvdWdoIG5nIDEuNSwgcHJvY2VzcyB0aGUgY29tcG9uZW50J3MgYmluZFRvQ29udHJvbGxlcjogeyBpbnB1dDogXCI9Zm9vXCIgfSBvYmplY3RcbiAgICB2YXIgc2NvcGVCaW5kaW5ncyA9IGZ1bmN0aW9uIChiaW5kaW5nc09iaikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoYmluZGluZ3NPYmogfHwge30pXG4gICAgICAgICAgICAvLyBbICdpbnB1dCcsIFsgJz1mb28nLCAnPScsICdmb28nIF0gXVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBba2V5LCAvXihbPTxAJl0pWz9dPyguKikvLmV4ZWMoYmluZGluZ3NPYmpba2V5XSldOyB9KVxuICAgICAgICAgICAgLy8gc2tpcCBtYWxmb3JtZWQgdmFsdWVzXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uICh0dXBsZSkgeyByZXR1cm4gY29yZS5pc0RlZmluZWQodHVwbGUpICYmIGNvcmUuaXNBcnJheSh0dXBsZVsxXSk7IH0pXG4gICAgICAgICAgICAvLyB7IG5hbWU6ICgnZm9vJyB8fCAnaW5wdXQnKSwgdHlwZTogJz0nIH1cbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHR1cGxlKSB7IHJldHVybiAoeyBuYW1lOiB0dXBsZVsxXVsyXSB8fCB0dXBsZVswXSwgdHlwZTogdHVwbGVbMV1bMV0gfSk7IH0pO1xuICAgIH07XG5cbiAgICAvKiogQHB1YmxpY2FwaSBAbW9kdWxlIG5nMSAqLyAvKiogKi9cbiAgICAvKipcbiAgICAgKiBUaGUgQW5ndWxhciAxIGBTdGF0ZVByb3ZpZGVyYFxuICAgICAqXG4gICAgICogVGhlIGAkc3RhdGVQcm92aWRlcmAgd29ya3Mgc2ltaWxhciB0byBBbmd1bGFyJ3MgdjEgcm91dGVyLCBidXQgaXQgZm9jdXNlcyBwdXJlbHlcbiAgICAgKiBvbiBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEEgc3RhdGUgY29ycmVzcG9uZHMgdG8gYSBcInBsYWNlXCIgaW4gdGhlIGFwcGxpY2F0aW9uIGluIHRlcm1zIG9mIHRoZSBvdmVyYWxsIFVJIGFuZFxuICAgICAqIG5hdmlnYXRpb24uIEEgc3RhdGUgZGVzY3JpYmVzICh2aWEgdGhlIGNvbnRyb2xsZXIgLyB0ZW1wbGF0ZSAvIHZpZXcgcHJvcGVydGllcykgd2hhdFxuICAgICAqIHRoZSBVSSBsb29rcyBsaWtlIGFuZCBkb2VzIGF0IHRoYXQgcGxhY2UuXG4gICAgICpcbiAgICAgKiBTdGF0ZXMgb2Z0ZW4gaGF2ZSB0aGluZ3MgaW4gY29tbW9uLCBhbmQgdGhlIHByaW1hcnkgd2F5IG9mIGZhY3RvcmluZyBvdXQgdGhlc2VcbiAgICAgKiBjb21tb25hbGl0aWVzIGluIHRoaXMgbW9kZWwgaXMgdmlhIHRoZSBzdGF0ZSBoaWVyYXJjaHksIGkuZS4gcGFyZW50L2NoaWxkIHN0YXRlcyBha2FcbiAgICAgKiBuZXN0ZWQgc3RhdGVzLlxuICAgICAqXG4gICAgICogVGhlIGAkc3RhdGVQcm92aWRlcmAgcHJvdmlkZXMgaW50ZXJmYWNlcyB0byBkZWNsYXJlIHRoZXNlIHN0YXRlcyBmb3IgeW91ciBhcHAuXG4gICAgICovXG4gICAgdmFyIFN0YXRlUHJvdmlkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFN0YXRlUHJvdmlkZXIoc3RhdGVSZWdpc3RyeSwgc3RhdGVTZXJ2aWNlKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlUmVnaXN0cnkgPSBzdGF0ZVJlZ2lzdHJ5O1xuICAgICAgICAgICAgdGhpcy5zdGF0ZVNlcnZpY2UgPSBzdGF0ZVNlcnZpY2U7XG4gICAgICAgICAgICBjb3JlLmNyZWF0ZVByb3h5RnVuY3Rpb25zKGNvcmUudmFsKFN0YXRlUHJvdmlkZXIucHJvdG90eXBlKSwgdGhpcywgY29yZS52YWwodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWNvcmF0ZXMgc3RhdGVzIHdoZW4gdGhleSBhcmUgcmVnaXN0ZXJlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBBbGxvd3MgeW91IHRvIGV4dGVuZCAoY2FyZWZ1bGx5KSBvciBvdmVycmlkZSAoYXQgeW91ciBvd24gcGVyaWwpIHRoZVxuICAgICAgICAgKiBgc3RhdGVCdWlsZGVyYCBvYmplY3QgdXNlZCBpbnRlcm5hbGx5IGJ5IFtbU3RhdGVSZWdpc3RyeV1dLlxuICAgICAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGFkZCBjdXN0b20gZnVuY3Rpb25hbGl0eSB0byB1aS1yb3V0ZXIsXG4gICAgICAgICAqIGZvciBleGFtcGxlIGluZmVycmluZyB0ZW1wbGF0ZVVybCBiYXNlZCBvbiB0aGUgc3RhdGUgbmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogV2hlbiBwYXNzaW5nIG9ubHkgYSBuYW1lLCBpdCByZXR1cm5zIHRoZSBjdXJyZW50IChvcmlnaW5hbCBvciBkZWNvcmF0ZWQpIGJ1aWxkZXJcbiAgICAgICAgICogZnVuY3Rpb24gdGhhdCBtYXRjaGVzIGBuYW1lYC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGJ1aWxkZXIgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIGRlY29yYXRlZCBhcmUgbGlzdGVkIGJlbG93LiBUaG91Z2ggbm90IGFsbFxuICAgICAgICAgKiBuZWNlc3NhcmlseSBoYXZlIGEgZ29vZCB1c2UgY2FzZSBmb3IgZGVjb3JhdGlvbiwgdGhhdCBpcyB1cCB0byB5b3UgdG8gZGVjaWRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJbiBhZGRpdGlvbiwgdXNlcnMgY2FuIGF0dGFjaCBjdXN0b20gZGVjb3JhdG9ycywgd2hpY2ggd2lsbCBnZW5lcmF0ZSBuZXdcbiAgICAgICAgICogcHJvcGVydGllcyB3aXRoaW4gdGhlIHN0YXRlJ3MgaW50ZXJuYWwgZGVmaW5pdGlvbi4gVGhlcmUgaXMgY3VycmVudGx5IG5vIGNsZWFyXG4gICAgICAgICAqIHVzZS1jYXNlIGZvciB0aGlzIGJleW9uZCBhY2Nlc3NpbmcgaW50ZXJuYWwgc3RhdGVzIChpLmUuICRzdGF0ZS4kY3VycmVudCksXG4gICAgICAgICAqIGhvd2V2ZXIsIGV4cGVjdCB0aGlzIHRvIGJlY29tZSBpbmNyZWFzaW5nbHkgcmVsZXZhbnQgYXMgd2UgaW50cm9kdWNlIGFkZGl0aW9uYWxcbiAgICAgICAgICogbWV0YS1wcm9ncmFtbWluZyBmZWF0dXJlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogKipXYXJuaW5nKio6IERlY29yYXRvcnMgc2hvdWxkIG5vdCBiZSBpbnRlcmRlcGVuZGVudCBiZWNhdXNlIHRoZSBvcmRlciBvZlxuICAgICAgICAgKiBleGVjdXRpb24gb2YgdGhlIGJ1aWxkZXIgZnVuY3Rpb25zIGluIG5vbi1kZXRlcm1pbmlzdGljLiBCdWlsZGVyIGZ1bmN0aW9uc1xuICAgICAgICAgKiBzaG91bGQgb25seSBiZSBkZXBlbmRlbnQgb24gdGhlIHN0YXRlIGRlZmluaXRpb24gb2JqZWN0IGFuZCBzdXBlciBmdW5jdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICpcbiAgICAgICAgICogRXhpc3RpbmcgYnVpbGRlciBmdW5jdGlvbnMgYW5kIGN1cnJlbnQgcmV0dXJuIHZhbHVlczpcbiAgICAgICAgICpcbiAgICAgICAgICogLSAqKnBhcmVudCoqIGB7b2JqZWN0fWAgLSByZXR1cm5zIHRoZSBwYXJlbnQgc3RhdGUgb2JqZWN0LlxuICAgICAgICAgKiAtICoqZGF0YSoqIGB7b2JqZWN0fWAgLSByZXR1cm5zIHN0YXRlIGRhdGEsIGluY2x1ZGluZyBhbnkgaW5oZXJpdGVkIGRhdGEgdGhhdCBpcyBub3RcbiAgICAgICAgICogICBvdmVycmlkZGVuIGJ5IG93biB2YWx1ZXMgKGlmIGFueSkuXG4gICAgICAgICAqIC0gKip1cmwqKiBge29iamVjdH1gIC0gcmV0dXJucyBhIHtAbGluayB1aS5yb3V0ZXIudXRpbC50eXBlOlVybE1hdGNoZXIgVXJsTWF0Y2hlcn1cbiAgICAgICAgICogICBvciBgbnVsbGAuXG4gICAgICAgICAqIC0gKipuYXZpZ2FibGUqKiBge29iamVjdH1gIC0gcmV0dXJucyBjbG9zZXN0IGFuY2VzdG9yIHN0YXRlIHRoYXQgaGFzIGEgVVJMIChha2EgaXNcbiAgICAgICAgICogICBuYXZpZ2FibGUpLlxuICAgICAgICAgKiAtICoqcGFyYW1zKiogYHtvYmplY3R9YCAtIHJldHVybnMgYW4gYXJyYXkgb2Ygc3RhdGUgcGFyYW1zIHRoYXQgYXJlIGVuc3VyZWQgdG9cbiAgICAgICAgICogICBiZSBhIHN1cGVyLXNldCBvZiBwYXJlbnQncyBwYXJhbXMuXG4gICAgICAgICAqIC0gKip2aWV3cyoqIGB7b2JqZWN0fWAgLSByZXR1cm5zIGEgdmlld3Mgb2JqZWN0IHdoZXJlIGVhY2gga2V5IGlzIGFuIGFic29sdXRlIHZpZXdcbiAgICAgICAgICogICBuYW1lIChpLmUuIFwidmlld05hbWVAc3RhdGVOYW1lXCIpIGFuZCBlYWNoIHZhbHVlIGlzIHRoZSBjb25maWcgb2JqZWN0XG4gICAgICAgICAqICAgKHRlbXBsYXRlLCBjb250cm9sbGVyKSBmb3IgdGhlIHZpZXcuIEV2ZW4gd2hlbiB5b3UgZG9uJ3QgdXNlIHRoZSB2aWV3cyBvYmplY3RcbiAgICAgICAgICogICBleHBsaWNpdGx5IG9uIGEgc3RhdGUgY29uZmlnLCBvbmUgaXMgc3RpbGwgY3JlYXRlZCBmb3IgeW91IGludGVybmFsbHkuXG4gICAgICAgICAqICAgU28gYnkgZGVjb3JhdGluZyB0aGlzIGJ1aWxkZXIgZnVuY3Rpb24geW91IGhhdmUgYWNjZXNzIHRvIGRlY29yYXRpbmcgdGVtcGxhdGVcbiAgICAgICAgICogICBhbmQgY29udHJvbGxlciBwcm9wZXJ0aWVzLlxuICAgICAgICAgKiAtICoqb3duUGFyYW1zKiogYHtvYmplY3R9YCAtIHJldHVybnMgYW4gYXJyYXkgb2YgcGFyYW1zIHRoYXQgYmVsb25nIHRvIHRoZSBzdGF0ZSxcbiAgICAgICAgICogICBub3QgaW5jbHVkaW5nIGFueSBwYXJhbXMgZGVmaW5lZCBieSBhbmNlc3RvciBzdGF0ZXMuXG4gICAgICAgICAqIC0gKipwYXRoKiogYHtzdHJpbmd9YCAtIHJldHVybnMgdGhlIGZ1bGwgcGF0aCBmcm9tIHRoZSByb290IGRvd24gdG8gdGhpcyBzdGF0ZS5cbiAgICAgICAgICogICBOZWVkZWQgZm9yIHN0YXRlIGFjdGl2YXRpb24uXG4gICAgICAgICAqIC0gKippbmNsdWRlcyoqIGB7b2JqZWN0fWAgLSByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGluY2x1ZGVzIGV2ZXJ5IHN0YXRlIHRoYXRcbiAgICAgICAgICogICB3b3VsZCBwYXNzIGEgYCRzdGF0ZS5pbmNsdWRlcygpYCB0ZXN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICAgICAqIE92ZXJyaWRlIHRoZSBpbnRlcm5hbCAndmlld3MnIGJ1aWxkZXIgd2l0aCBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIHN0YXRlXG4gICAgICAgICAqIGRlZmluaXRpb24sIGFuZCBhIHJlZmVyZW5jZSB0byB0aGUgaW50ZXJuYWwgZnVuY3Rpb24gYmVpbmcgb3ZlcnJpZGRlbjpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogJHN0YXRlUHJvdmlkZXIuZGVjb3JhdG9yKCd2aWV3cycsIGZ1bmN0aW9uIChzdGF0ZSwgcGFyZW50KSB7XG4gICAgICAgICAqICAgbGV0IHJlc3VsdCA9IHt9LFxuICAgICAgICAgKiAgICAgICB2aWV3cyA9IHBhcmVudChzdGF0ZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgYW5ndWxhci5mb3JFYWNoKHZpZXdzLCBmdW5jdGlvbiAoY29uZmlnLCBuYW1lKSB7XG4gICAgICAgICAqICAgICBsZXQgYXV0b05hbWUgPSAoc3RhdGUubmFtZSArICcuJyArIG5hbWUpLnJlcGxhY2UoJy4nLCAnLycpO1xuICAgICAgICAgKiAgICAgY29uZmlnLnRlbXBsYXRlVXJsID0gY29uZmlnLnRlbXBsYXRlVXJsIHx8ICcvcGFydGlhbHMvJyArIGF1dG9OYW1lICsgJy5odG1sJztcbiAgICAgICAgICogICAgIHJlc3VsdFtuYW1lXSA9IGNvbmZpZztcbiAgICAgICAgICogICB9KTtcbiAgICAgICAgICogICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICpcbiAgICAgICAgICogJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2hvbWUnLCB7XG4gICAgICAgICAqICAgdmlld3M6IHtcbiAgICAgICAgICogICAgICdjb250YWN0Lmxpc3QnOiB7IGNvbnRyb2xsZXI6ICdMaXN0Q29udHJvbGxlcicgfSxcbiAgICAgICAgICogICAgICdjb250YWN0Lml0ZW0nOiB7IGNvbnRyb2xsZXI6ICdJdGVtQ29udHJvbGxlcicgfVxuICAgICAgICAgKiAgIH1cbiAgICAgICAgICogfSk7XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKlxuICAgICAgICAgKlxuICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgKiAvLyBBdXRvLXBvcHVsYXRlcyBsaXN0IGFuZCBpdGVtIHZpZXdzIHdpdGggL3BhcnRpYWxzL2hvbWUvY29udGFjdC9saXN0Lmh0bWwsXG4gICAgICAgICAqIC8vIGFuZCAvcGFydGlhbHMvaG9tZS9jb250YWN0L2l0ZW0uaHRtbCwgcmVzcGVjdGl2ZWx5LlxuICAgICAgICAgKiAkc3RhdGUuZ28oJ2hvbWUnKTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBidWlsZGVyIGZ1bmN0aW9uIHRvIGRlY29yYXRlLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gZnVuYyBBIGZ1bmN0aW9uIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIGRlY29yYXRpbmcgdGhlIG9yaWdpbmFsXG4gICAgICAgICAqIGJ1aWxkZXIgZnVuY3Rpb24uIFRoZSBmdW5jdGlvbiByZWNlaXZlcyB0d28gcGFyYW1ldGVyczpcbiAgICAgICAgICpcbiAgICAgICAgICogICAtIGB7b2JqZWN0fWAgLSBzdGF0ZSAtIFRoZSBzdGF0ZSBjb25maWcgb2JqZWN0LlxuICAgICAgICAgKiAgIC0gYHtvYmplY3R9YCAtIHN1cGVyIC0gVGhlIG9yaWdpbmFsIGJ1aWxkZXIgZnVuY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm4ge29iamVjdH0gJHN0YXRlUHJvdmlkZXIgLSAkc3RhdGVQcm92aWRlciBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgU3RhdGVQcm92aWRlci5wcm90b3R5cGUuZGVjb3JhdG9yID0gZnVuY3Rpb24gKG5hbWUsIGZ1bmMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlUmVnaXN0cnkuZGVjb3JhdG9yKG5hbWUsIGZ1bmMpIHx8IHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIFN0YXRlUHJvdmlkZXIucHJvdG90eXBlLnN0YXRlID0gZnVuY3Rpb24gKG5hbWUsIGRlZmluaXRpb24pIHtcbiAgICAgICAgICAgIGlmIChjb3JlLmlzT2JqZWN0KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbiA9IG5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGF0ZVJlZ2lzdHJ5LnJlZ2lzdGVyKGRlZmluaXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWdpc3RlcnMgYW4gaW52YWxpZCBzdGF0ZSBoYW5kbGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgYSBwYXNzdGhyb3VnaCB0byBbW1N0YXRlU2VydmljZS5vbkludmFsaWRdXSBmb3IgbmcxLlxuICAgICAgICAgKi9cbiAgICAgICAgU3RhdGVQcm92aWRlci5wcm90b3R5cGUub25JbnZhbGlkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZVNlcnZpY2Uub25JbnZhbGlkKGNhbGxiYWNrKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFN0YXRlUHJvdmlkZXI7XG4gICAgfSgpKTtcblxuICAgIC8qKiBAcHVibGljYXBpIEBtb2R1bGUgbmcxICovIC8qKiAqL1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgYSBbW1N0YXRlQnVpbGRlci5idWlsZGVyXV0gZnVuY3Rpb24gZm9yIGFuZ3VsYXIxIGBvbkVudGVyYCwgYG9uRXhpdGAsXG4gICAgICogYG9uUmV0YWluYCBjYWxsYmFjayBob29rcyBvbiBhIFtbTmcxU3RhdGVEZWNsYXJhdGlvbl1dLlxuICAgICAqXG4gICAgICogV2hlbiB0aGUgW1tTdGF0ZUJ1aWxkZXJdXSBidWlsZHMgYSBbW1N0YXRlT2JqZWN0XV0gb2JqZWN0IGZyb20gYSByYXcgW1tTdGF0ZURlY2xhcmF0aW9uXV0sIHRoaXMgYnVpbGRlclxuICAgICAqIGVuc3VyZXMgdGhhdCB0aG9zZSBob29rcyBhcmUgaW5qZWN0YWJsZSBmb3IgQHVpcm91dGVyL2FuZ3VsYXJqcyAobmcxKS5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbGFwaVxuICAgICAqL1xuICAgIHZhciBnZXRTdGF0ZUhvb2tCdWlsZGVyID0gZnVuY3Rpb24gKGhvb2tOYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBzdGF0ZUhvb2tCdWlsZGVyKHN0YXRlT2JqZWN0LCBwYXJlbnRGbikge1xuICAgICAgICAgICAgdmFyIGhvb2sgPSBzdGF0ZU9iamVjdFtob29rTmFtZV07XG4gICAgICAgICAgICB2YXIgcGF0aG5hbWUgPSBob29rTmFtZSA9PT0gJ29uRXhpdCcgPyAnZnJvbScgOiAndG8nO1xuICAgICAgICAgICAgZnVuY3Rpb24gZGVjb3JhdGVkTmcxSG9vayh0cmFucywgc3RhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb2x2ZUNvbnRleHQgPSBuZXcgY29yZS5SZXNvbHZlQ29udGV4dCh0cmFucy50cmVlQ2hhbmdlcyhwYXRobmFtZSkpO1xuICAgICAgICAgICAgICAgIHZhciBzdWJDb250ZXh0ID0gcmVzb2x2ZUNvbnRleHQuc3ViQ29udGV4dChzdGF0ZS4kJHN0YXRlKCkpO1xuICAgICAgICAgICAgICAgIHZhciBsb2NhbHMgPSBjb3JlLmV4dGVuZChnZXRMb2NhbHMoc3ViQ29udGV4dCksIHsgJHN0YXRlJDogc3RhdGUsICR0cmFuc2l0aW9uJDogdHJhbnMgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvcmUuc2VydmljZXMuJGluamVjdG9yLmludm9rZShob29rLCB0aGlzLCBsb2NhbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhvb2sgPyBkZWNvcmF0ZWROZzFIb29rIDogdW5kZWZpbmVkO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKiogQHB1YmxpY2FwaSBAbW9kdWxlIG5nMSAqLyAvKiogKi9cbiAgICAvKipcbiAgICAgKiBJbXBsZW1lbnRzIFVJLVJvdXRlciBMb2NhdGlvblNlcnZpY2VzIGFuZCBMb2NhdGlvbkNvbmZpZyB1c2luZyBBbmd1bGFyIDEncyAkbG9jYXRpb24gc2VydmljZVxuICAgICAqIEBpbnRlcm5hbGFwaVxuICAgICAqL1xuICAgIHZhciBOZzFMb2NhdGlvblNlcnZpY2VzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBOZzFMb2NhdGlvblNlcnZpY2VzKCRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgICAgICAgICAvLyAub25DaGFuZ2UoKSByZWdpc3RyeVxuICAgICAgICAgICAgdGhpcy5fdXJsTGlzdGVuZXJzID0gW107XG4gICAgICAgICAgICB0aGlzLiRsb2NhdGlvblByb3ZpZGVyID0gJGxvY2F0aW9uUHJvdmlkZXI7XG4gICAgICAgICAgICB2YXIgX2xwID0gY29yZS52YWwoJGxvY2F0aW9uUHJvdmlkZXIpO1xuICAgICAgICAgICAgY29yZS5jcmVhdGVQcm94eUZ1bmN0aW9ucyhfbHAsIHRoaXMsIF9scCwgWydoYXNoUHJlZml4J10pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBcHBseXMgbmcxLXNwZWNpZmljIHBhdGggcGFyYW1ldGVyIGVuY29kaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBBbmd1bGFyIDEgYCRsb2NhdGlvbmAgc2VydmljZSBpcyBhIGJpdCB3ZWlyZC5cbiAgICAgICAgICogSXQgZG9lc24ndCBhbGxvdyBzbGFzaGVzIHRvIGJlIGVuY29kZWQvZGVjb2RlZCBiaS1kaXJlY3Rpb25hbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZWUgdGhlIHdyaXRldXAgYXQgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXItdWkvdWktcm91dGVyL2lzc3Vlcy8yNTk4XG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgY29kZSBwYXRjaGVzIHRoZSBgcGF0aGAgcGFyYW1ldGVyIHR5cGUgc28gaXQgZW5jb2RlZC9kZWNvZGVzIHNsYXNoZXMgYXMgfjJGXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSByb3V0ZXJcbiAgICAgICAgICovXG4gICAgICAgIE5nMUxvY2F0aW9uU2VydmljZXMubW9ua2V5UGF0Y2hQYXRoUGFyYW1ldGVyVHlwZSA9IGZ1bmN0aW9uIChyb3V0ZXIpIHtcbiAgICAgICAgICAgIHZhciBwYXRoVHlwZSA9IHJvdXRlci51cmxNYXRjaGVyRmFjdG9yeS50eXBlKCdwYXRoJyk7XG4gICAgICAgICAgICBwYXRoVHlwZS5lbmNvZGUgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB4ICE9IG51bGwgPyB4LnRvU3RyaW5nKCkucmVwbGFjZSgvKH58XFwvKS9nLCBmdW5jdGlvbiAobSkgeyByZXR1cm4gKHsgJ34nOiAnfn4nLCAnLyc6ICd+MkYnIH1bbV0pOyB9KSA6IHg7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcGF0aFR5cGUuZGVjb2RlID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geCAhPSBudWxsID8geC50b1N0cmluZygpLnJlcGxhY2UoLyh+fnx+MkYpL2csIGZ1bmN0aW9uIChtKSB7IHJldHVybiAoeyAnfn4nOiAnficsICd+MkYnOiAnLycgfVttXSk7IH0pIDogeDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIE5nMUxvY2F0aW9uU2VydmljZXMucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgICAgIE5nMUxvY2F0aW9uU2VydmljZXMucHJvdG90eXBlLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5fdXJsTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvcmUucmVtb3ZlRnJvbShfdGhpcy5fdXJsTGlzdGVuZXJzKShjYWxsYmFjayk7IH07XG4gICAgICAgIH07XG4gICAgICAgIE5nMUxvY2F0aW9uU2VydmljZXMucHJvdG90eXBlLmh0bWw1TW9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBodG1sNU1vZGUgPSB0aGlzLiRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSgpO1xuICAgICAgICAgICAgaHRtbDVNb2RlID0gY29yZS5pc09iamVjdChodG1sNU1vZGUpID8gaHRtbDVNb2RlLmVuYWJsZWQgOiBodG1sNU1vZGU7XG4gICAgICAgICAgICByZXR1cm4gaHRtbDVNb2RlICYmIHRoaXMuJHNuaWZmZXIuaGlzdG9yeTtcbiAgICAgICAgfTtcbiAgICAgICAgTmcxTG9jYXRpb25TZXJ2aWNlcy5wcm90b3R5cGUuYmFzZUhyZWYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYmFzZUhyZWYgfHwgKHRoaXMuX2Jhc2VIcmVmID0gdGhpcy4kYnJvd3Nlci5iYXNlSHJlZigpIHx8IHRoaXMuJHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgICAgIH07XG4gICAgICAgIE5nMUxvY2F0aW9uU2VydmljZXMucHJvdG90eXBlLnVybCA9IGZ1bmN0aW9uIChuZXdVcmwsIHJlcGxhY2UsIHN0YXRlKSB7XG4gICAgICAgICAgICBpZiAocmVwbGFjZSA9PT0gdm9pZCAwKSB7IHJlcGxhY2UgPSBmYWxzZTsgfVxuICAgICAgICAgICAgaWYgKGNvcmUuaXNEZWZpbmVkKG5ld1VybCkpXG4gICAgICAgICAgICAgICAgdGhpcy4kbG9jYXRpb24udXJsKG5ld1VybCk7XG4gICAgICAgICAgICBpZiAocmVwbGFjZSlcbiAgICAgICAgICAgICAgICB0aGlzLiRsb2NhdGlvbi5yZXBsYWNlKCk7XG4gICAgICAgICAgICBpZiAoc3RhdGUpXG4gICAgICAgICAgICAgICAgdGhpcy4kbG9jYXRpb24uc3RhdGUoc3RhdGUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGxvY2F0aW9uLnVybCgpO1xuICAgICAgICB9O1xuICAgICAgICBOZzFMb2NhdGlvblNlcnZpY2VzLnByb3RvdHlwZS5fcnVudGltZVNlcnZpY2VzID0gZnVuY3Rpb24gKCRyb290U2NvcGUsICRsb2NhdGlvbiwgJHNuaWZmZXIsICRicm93c2VyLCAkd2luZG93KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy4kbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgICAgICAgICB0aGlzLiRzbmlmZmVyID0gJHNuaWZmZXI7XG4gICAgICAgICAgICB0aGlzLiRicm93c2VyID0gJGJyb3dzZXI7XG4gICAgICAgICAgICB0aGlzLiR3aW5kb3cgPSAkd2luZG93O1xuICAgICAgICAgICAgLy8gQmluZCAkbG9jYXRpb25DaGFuZ2VTdWNjZXNzIHRvIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBpbiBMb2NhdGlvblNlcnZpY2Uub25DaGFuZ2VcbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gKGV2dCkgeyByZXR1cm4gX3RoaXMuX3VybExpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChmbikgeyByZXR1cm4gZm4oZXZ0KTsgfSk7IH0pO1xuICAgICAgICAgICAgdmFyIF9sb2MgPSBjb3JlLnZhbCgkbG9jYXRpb24pO1xuICAgICAgICAgICAgLy8gQmluZCB0aGVzZSBMb2NhdGlvblNlcnZpY2UgZnVuY3Rpb25zIHRvICRsb2NhdGlvblxuICAgICAgICAgICAgY29yZS5jcmVhdGVQcm94eUZ1bmN0aW9ucyhfbG9jLCB0aGlzLCBfbG9jLCBbJ3JlcGxhY2UnLCAncGF0aCcsICdzZWFyY2gnLCAnaGFzaCddKTtcbiAgICAgICAgICAgIC8vIEJpbmQgdGhlc2UgTG9jYXRpb25Db25maWcgZnVuY3Rpb25zIHRvICRsb2NhdGlvblxuICAgICAgICAgICAgY29yZS5jcmVhdGVQcm94eUZ1bmN0aW9ucyhfbG9jLCB0aGlzLCBfbG9jLCBbJ3BvcnQnLCAncHJvdG9jb2wnLCAnaG9zdCddKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE5nMUxvY2F0aW9uU2VydmljZXM7XG4gICAgfSgpKTtcblxuICAgIC8qKiBAcHVibGljYXBpIEBtb2R1bGUgdXJsICovIC8qKiAqL1xuICAgIC8qKlxuICAgICAqIE1hbmFnZXMgcnVsZXMgZm9yIGNsaWVudC1zaWRlIFVSTFxuICAgICAqXG4gICAgICogIyMjIERlcHJlY2F0aW9uIHdhcm5pbmc6XG4gICAgICogVGhpcyBjbGFzcyBpcyBub3cgY29uc2lkZXJlZCB0byBiZSBhbiBpbnRlcm5hbCBBUElcbiAgICAgKiBVc2UgdGhlIFtbVXJsU2VydmljZV1dIGluc3RlYWQuXG4gICAgICogRm9yIGNvbmZpZ3VyaW5nIFVSTCBydWxlcywgdXNlIHRoZSBbW1VybFJ1bGVzQXBpXV0gd2hpY2ggY2FuIGJlIGZvdW5kIGFzIFtbVXJsU2VydmljZS5ydWxlc11dLlxuICAgICAqXG4gICAgICogVGhpcyBjbGFzcyBtYW5hZ2VzIHRoZSByb3V0ZXIgcnVsZXMgZm9yIHdoYXQgdG8gZG8gd2hlbiB0aGUgVVJMIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIHByb3ZpZGVyIHJlbWFpbnMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICAgICAqXG4gICAgICogQGludGVybmFsYXBpXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgICB2YXIgVXJsUm91dGVyUHJvdmlkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qKiBAaGlkZGVuICovXG4gICAgICAgIGZ1bmN0aW9uIFVybFJvdXRlclByb3ZpZGVyKC8qKiBAaGlkZGVuICovIHJvdXRlcikge1xuICAgICAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgVXJsUm91dGVyUHJvdmlkZXIuaW5qZWN0YWJsZUhhbmRsZXIgPSBmdW5jdGlvbiAocm91dGVyLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBjb3JlLnNlcnZpY2VzLiRpbmplY3Rvci5pbnZva2UoaGFuZGxlciwgbnVsbCwgeyAkbWF0Y2g6IG1hdGNoLCAkc3RhdGVQYXJhbXM6IHJvdXRlci5nbG9iYWxzLnBhcmFtcyB9KTsgfTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi9cbiAgICAgICAgVXJsUm91dGVyUHJvdmlkZXIucHJvdG90eXBlLiRnZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdXJsU2VydmljZSA9IHRoaXMucm91dGVyLnVybFNlcnZpY2U7XG4gICAgICAgICAgICB0aGlzLnJvdXRlci51cmxSb3V0ZXIudXBkYXRlKHRydWUpO1xuICAgICAgICAgICAgaWYgKCF1cmxTZXJ2aWNlLmludGVyY2VwdERlZmVycmVkKVxuICAgICAgICAgICAgICAgIHVybFNlcnZpY2UubGlzdGVuKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb3V0ZXIudXJsUm91dGVyO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVnaXN0ZXJzIGEgdXJsIGhhbmRsZXIgZnVuY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIFJlZ2lzdGVycyBhIGxvdyBsZXZlbCB1cmwgaGFuZGxlciAoYSBgcnVsZWApLlxuICAgICAgICAgKiBBIHJ1bGUgZGV0ZWN0cyBzcGVjaWZpYyBVUkwgcGF0dGVybnMgYW5kIHJldHVybnMgYSByZWRpcmVjdCwgb3IgcGVyZm9ybXMgc29tZSBhY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIGEgcnVsZSByZXR1cm5zIGEgc3RyaW5nLCB0aGUgVVJMIGlzIHJlcGxhY2VkIHdpdGggdGhlIHN0cmluZywgYW5kIGFsbCBydWxlcyBhcmUgZmlyZWQgYWdhaW4uXG4gICAgICAgICAqXG4gICAgICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlci5yb3V0ZXInXSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGFwcC5jb25maWcoZnVuY3Rpb24gKCR1cmxSb3V0ZXJQcm92aWRlcikge1xuICAgICAgICAgKiAgIC8vIEhlcmUncyBhbiBleGFtcGxlIG9mIGhvdyB5b3UgbWlnaHQgYWxsb3cgY2FzZSBpbnNlbnNpdGl2ZSB1cmxzXG4gICAgICAgICAqICAgJHVybFJvdXRlclByb3ZpZGVyLnJ1bGUoZnVuY3Rpb24gKCRpbmplY3RvciwgJGxvY2F0aW9uKSB7XG4gICAgICAgICAqICAgICB2YXIgcGF0aCA9ICRsb2NhdGlvbi5wYXRoKCksXG4gICAgICAgICAqICAgICAgICAgbm9ybWFsaXplZCA9IHBhdGgudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGlmIChwYXRoICE9PSBub3JtYWxpemVkKSB7XG4gICAgICAgICAqICAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKiAgIH0pO1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBydWxlRm5cbiAgICAgICAgICogSGFuZGxlciBmdW5jdGlvbiB0aGF0IHRha2VzIGAkaW5qZWN0b3JgIGFuZCBgJGxvY2F0aW9uYCBzZXJ2aWNlcyBhcyBhcmd1bWVudHMuXG4gICAgICAgICAqIFlvdSBjYW4gdXNlIHRoZW0gdG8gZGV0ZWN0IGEgdXJsIGFuZCByZXR1cm4gYSBkaWZmZXJlbnQgdXJsIGFzIGEgc3RyaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJuIFtbVXJsUm91dGVyUHJvdmlkZXJdXSAoYHRoaXNgKVxuICAgICAgICAgKi9cbiAgICAgICAgVXJsUm91dGVyUHJvdmlkZXIucHJvdG90eXBlLnJ1bGUgPSBmdW5jdGlvbiAocnVsZUZuKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCFjb3JlLmlzRnVuY3Rpb24ocnVsZUZuKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIncnVsZScgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcnVsZUZuKGNvcmUuc2VydmljZXMuJGluamVjdG9yLCBfdGhpcy5yb3V0ZXIubG9jYXRpb25TZXJ2aWNlKTsgfTtcbiAgICAgICAgICAgIHZhciBydWxlID0gbmV3IGNvcmUuQmFzZVVybFJ1bGUobWF0Y2gsIGNvcmUuaWRlbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5yb3V0ZXIudXJsU2VydmljZS5ydWxlcy5ydWxlKHJ1bGUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbmVzIHRoZSBwYXRoIG9yIGJlaGF2aW9yIHRvIHVzZSB3aGVuIG5vIHVybCBjYW4gYmUgbWF0Y2hlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgKiB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyLnJvdXRlciddKTtcbiAgICAgICAgICpcbiAgICAgICAgICogYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHVybFJvdXRlclByb3ZpZGVyKSB7XG4gICAgICAgICAqICAgLy8gaWYgdGhlIHBhdGggZG9lc24ndCBtYXRjaCBhbnkgb2YgdGhlIHVybHMgeW91IGNvbmZpZ3VyZWRcbiAgICAgICAgICogICAvLyBvdGhlcndpc2Ugd2lsbCB0YWtlIGNhcmUgb2Ygcm91dGluZyB0aGUgdXNlciB0byB0aGVcbiAgICAgICAgICogICAvLyBzcGVjaWZpZWQgdXJsXG4gICAgICAgICAqICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2luZGV4Jyk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgLy8gRXhhbXBsZSBvZiB1c2luZyBmdW5jdGlvbiBydWxlIGFzIHBhcmFtXG4gICAgICAgICAqICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShmdW5jdGlvbiAoJGluamVjdG9yLCAkbG9jYXRpb24pIHtcbiAgICAgICAgICogICAgIHJldHVybiAnL2EvdmFsaWQvdXJsJztcbiAgICAgICAgICogICB9KTtcbiAgICAgICAgICogfSk7XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gcnVsZVxuICAgICAgICAgKiBUaGUgdXJsIHBhdGggeW91IHdhbnQgdG8gcmVkaXJlY3QgdG8gb3IgYSBmdW5jdGlvbiBydWxlIHRoYXQgcmV0dXJucyB0aGUgdXJsIHBhdGggb3IgcGVyZm9ybXMgYSBgJHN0YXRlLmdvKClgLlxuICAgICAgICAgKiBUaGUgZnVuY3Rpb24gdmVyc2lvbiBpcyBwYXNzZWQgdHdvIHBhcmFtczogYCRpbmplY3RvcmAgYW5kIGAkbG9jYXRpb25gIHNlcnZpY2VzLCBhbmQgc2hvdWxkIHJldHVybiBhIHVybCBzdHJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm4ge29iamVjdH0gYCR1cmxSb3V0ZXJQcm92aWRlcmAgLSBgJHVybFJvdXRlclByb3ZpZGVyYCBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgVXJsUm91dGVyUHJvdmlkZXIucHJvdG90eXBlLm90aGVyd2lzZSA9IGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHVybFJ1bGVzID0gdGhpcy5yb3V0ZXIudXJsU2VydmljZS5ydWxlcztcbiAgICAgICAgICAgIGlmIChjb3JlLmlzU3RyaW5nKHJ1bGUpKSB7XG4gICAgICAgICAgICAgICAgdXJsUnVsZXMub3RoZXJ3aXNlKHJ1bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29yZS5pc0Z1bmN0aW9uKHJ1bGUpKSB7XG4gICAgICAgICAgICAgICAgdXJsUnVsZXMub3RoZXJ3aXNlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ1bGUoY29yZS5zZXJ2aWNlcy4kaW5qZWN0b3IsIF90aGlzLnJvdXRlci5sb2NhdGlvblNlcnZpY2UpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIidydWxlJyBtdXN0IGJlIGEgc3RyaW5nIG9yIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWdpc3RlcnMgYSBoYW5kbGVyIGZvciBhIGdpdmVuIHVybCBtYXRjaGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogSWYgdGhlIGhhbmRsZXIgaXMgYSBzdHJpbmcsIGl0IGlzXG4gICAgICAgICAqIHRyZWF0ZWQgYXMgYSByZWRpcmVjdCwgYW5kIGlzIGludGVycG9sYXRlZCBhY2NvcmRpbmcgdG8gdGhlIHN5bnRheCBvZiBtYXRjaFxuICAgICAgICAgKiAoaS5lLiBsaWtlIGBTdHJpbmcucmVwbGFjZSgpYCBmb3IgYFJlZ0V4cGAsIG9yIGxpa2UgYSBgVXJsTWF0Y2hlcmAgcGF0dGVybiBvdGhlcndpc2UpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB0aGUgaGFuZGxlciBpcyBhIGZ1bmN0aW9uLCBpdCBpcyBpbmplY3RhYmxlLlxuICAgICAgICAgKiBJdCBnZXRzIGludm9rZWQgaWYgYCRsb2NhdGlvbmAgbWF0Y2hlcy5cbiAgICAgICAgICogWW91IGhhdmUgdGhlIG9wdGlvbiBvZiBpbmplY3QgdGhlIG1hdGNoIG9iamVjdCBhcyBgJG1hdGNoYC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGhhbmRsZXIgY2FuIHJldHVyblxuICAgICAgICAgKlxuICAgICAgICAgKiAtICoqZmFsc3kqKiB0byBpbmRpY2F0ZSB0aGF0IHRoZSBydWxlIGRpZG4ndCBtYXRjaCBhZnRlciBhbGwsIHRoZW4gYCR1cmxSb3V0ZXJgXG4gICAgICAgICAqICAgd2lsbCBjb250aW51ZSB0cnlpbmcgdG8gZmluZCBhbm90aGVyIG9uZSB0aGF0IG1hdGNoZXMuXG4gICAgICAgICAqIC0gKipzdHJpbmcqKiB3aGljaCBpcyB0cmVhdGVkIGFzIGEgcmVkaXJlY3QgYW5kIHBhc3NlZCB0byBgJGxvY2F0aW9uLnVybCgpYFxuICAgICAgICAgKiAtICoqdm9pZCoqIG9yIGFueSAqKnRydXRoeSoqIHZhbHVlIHRlbGxzIGAkdXJsUm91dGVyYCB0aGF0IHRoZSB1cmwgd2FzIGhhbmRsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbJ3VpLnJvdXRlci5yb3V0ZXInXSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGFwcC5jb25maWcoZnVuY3Rpb24gKCR1cmxSb3V0ZXJQcm92aWRlcikge1xuICAgICAgICAgKiAgICR1cmxSb3V0ZXJQcm92aWRlci53aGVuKCRzdGF0ZS51cmwsIGZ1bmN0aW9uICgkbWF0Y2gsICRzdGF0ZVBhcmFtcykge1xuICAgICAgICAgKiAgICAgaWYgKCRzdGF0ZS4kY3VycmVudC5uYXZpZ2FibGUgIT09IHN0YXRlIHx8XG4gICAgICAgICAqICAgICAgICAgIWVxdWFsRm9yS2V5cygkbWF0Y2gsICRzdGF0ZVBhcmFtcykge1xuICAgICAgICAgKiAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oc3RhdGUsICRtYXRjaCwgZmFsc2UpO1xuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKiAgIH0pO1xuICAgICAgICAgKiB9KTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB3aGF0IEEgcGF0dGVybiBzdHJpbmcgdG8gbWF0Y2gsIGNvbXBpbGVkIGFzIGEgW1tVcmxNYXRjaGVyXV0uXG4gICAgICAgICAqIEBwYXJhbSBoYW5kbGVyIFRoZSBwYXRoIChvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBwYXRoKSB0aGF0IHlvdSB3YW50IHRvIHJlZGlyZWN0IHlvdXIgdXNlciB0by5cbiAgICAgICAgICogQHBhcmFtIHJ1bGVDYWxsYmFjayBbb3B0aW9uYWxdIEEgY2FsbGJhY2sgdGhhdCByZWNlaXZlcyB0aGUgYHJ1bGVgIHJlZ2lzdGVyZWQgd2l0aCBbW1VybE1hdGNoZXIucnVsZV1dXG4gICAgICAgICAqXG4gICAgICAgICAqIE5vdGU6IHRoZSBoYW5kbGVyIG1heSBhbHNvIGludm9rZSBhcmJpdHJhcnkgY29kZSwgc3VjaCBhcyBgJHN0YXRlLmdvKClgXG4gICAgICAgICAqL1xuICAgICAgICBVcmxSb3V0ZXJQcm92aWRlci5wcm90b3R5cGUud2hlbiA9IGZ1bmN0aW9uICh3aGF0LCBoYW5kbGVyKSB7XG4gICAgICAgICAgICBpZiAoY29yZS5pc0FycmF5KGhhbmRsZXIpIHx8IGNvcmUuaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBVcmxSb3V0ZXJQcm92aWRlci5pbmplY3RhYmxlSGFuZGxlcih0aGlzLnJvdXRlciwgaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJvdXRlci51cmxTZXJ2aWNlLnJ1bGVzLndoZW4od2hhdCwgaGFuZGxlcik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGVzIG1vbml0b3Jpbmcgb2YgdGhlIFVSTC5cbiAgICAgICAgICpcbiAgICAgICAgICogQ2FsbCB0aGlzIG1ldGhvZCBiZWZvcmUgVUktUm91dGVyIGhhcyBib290c3RyYXBwZWQuXG4gICAgICAgICAqIEl0IHdpbGwgc3RvcCBVSS1Sb3V0ZXIgZnJvbSBwZXJmb3JtaW5nIHRoZSBpbml0aWFsIHVybCBzeW5jLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgdG8gcGVyZm9ybSBzb21lIGFzeW5jaHJvbm91cyBpbml0aWFsaXphdGlvbiBiZWZvcmUgdGhlIHJvdXRlciBzdGFydHMuXG4gICAgICAgICAqIE9uY2UgdGhlIGluaXRpYWxpemF0aW9uIGlzIGNvbXBsZXRlLCBjYWxsIFtbbGlzdGVuXV0gdG8gdGVsbCBVSS1Sb3V0ZXIgdG8gc3RhcnQgd2F0Y2hpbmcgYW5kIHN5bmNocm9uaXppbmcgdGhlIFVSTC5cbiAgICAgICAgICpcbiAgICAgICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgKiB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyJ10pO1xuICAgICAgICAgKlxuICAgICAgICAgKiBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdXJsUm91dGVyUHJvdmlkZXIpIHtcbiAgICAgICAgICogICAvLyBQcmV2ZW50ICR1cmxSb3V0ZXIgZnJvbSBhdXRvbWF0aWNhbGx5IGludGVyY2VwdGluZyBVUkwgY2hhbmdlcztcbiAgICAgICAgICogICAkdXJsUm91dGVyUHJvdmlkZXIuZGVmZXJJbnRlcmNlcHQoKTtcbiAgICAgICAgICogfSlcbiAgICAgICAgICpcbiAgICAgICAgICogYXBwLnJ1bihmdW5jdGlvbiAoTXlTZXJ2aWNlLCAkdXJsUm91dGVyLCAkaHR0cCkge1xuICAgICAgICAgKiAgICRodHRwLmdldChcIi9zdHVmZlwiKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICogICAgIE15U2VydmljZS5kb1N0dWZmKHJlc3AuZGF0YSk7XG4gICAgICAgICAqICAgICAkdXJsUm91dGVyLmxpc3RlbigpO1xuICAgICAgICAgKiAgICAgJHVybFJvdXRlci5zeW5jKCk7XG4gICAgICAgICAqICAgfSk7XG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGRlZmVyIEluZGljYXRlcyB3aGV0aGVyIHRvIGRlZmVyIGxvY2F0aW9uIGNoYW5nZSBpbnRlcmNlcHRpb24uXG4gICAgICAgICAqICAgICAgICBQYXNzaW5nIG5vIHBhcmFtZXRlciBpcyBlcXVpdmFsZW50IHRvIGB0cnVlYC5cbiAgICAgICAgICovXG4gICAgICAgIFVybFJvdXRlclByb3ZpZGVyLnByb3RvdHlwZS5kZWZlckludGVyY2VwdCA9IGZ1bmN0aW9uIChkZWZlcikge1xuICAgICAgICAgICAgdGhpcy5yb3V0ZXIudXJsU2VydmljZS5kZWZlckludGVyY2VwdChkZWZlcik7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBVcmxSb3V0ZXJQcm92aWRlcjtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogIyBBbmd1bGFyIDEgdHlwZXNcbiAgICAgKlxuICAgICAqIFVJLVJvdXRlciBjb3JlIHByb3ZpZGVzIHZhcmlvdXMgVHlwZXNjcmlwdCB0eXBlcyB3aGljaCB5b3UgY2FuIHVzZSBmb3IgY29kZSBjb21wbGV0aW9uIGFuZCB2YWxpZGF0aW5nIHBhcmFtZXRlciB2YWx1ZXMsIGV0Yy5cbiAgICAgKiBUaGUgY3VzdG9taXphdGlvbnMgdG8gdGhlIGNvcmUgdHlwZXMgZm9yIEFuZ3VsYXIgVUktUm91dGVyIGFyZSBkb2N1bWVudGVkIGhlcmUuXG4gICAgICpcbiAgICAgKiBUaGUgb3B0aW9uYWwgW1skcmVzb2x2ZV1dIHNlcnZpY2UgaXMgYWxzbyBkb2N1bWVudGVkIGhlcmUuXG4gICAgICpcbiAgICAgKiBAcHJlZmVycmVkIEBwdWJsaWNhcGkgQG1vZHVsZSBuZzFcbiAgICAgKi8gLyoqICovXG4gICAgbmcubW9kdWxlKCd1aS5yb3V0ZXIuYW5ndWxhcjEnLCBbXSk7XG4gICAgdmFyIG1vZF9pbml0ID0gbmcubW9kdWxlKCd1aS5yb3V0ZXIuaW5pdCcsIFsnbmcnXSk7XG4gICAgdmFyIG1vZF91dGlsID0gbmcubW9kdWxlKCd1aS5yb3V0ZXIudXRpbCcsIFsndWkucm91dGVyLmluaXQnXSk7XG4gICAgdmFyIG1vZF9ydHIgPSBuZy5tb2R1bGUoJ3VpLnJvdXRlci5yb3V0ZXInLCBbJ3VpLnJvdXRlci51dGlsJ10pO1xuICAgIHZhciBtb2Rfc3RhdGUgPSBuZy5tb2R1bGUoJ3VpLnJvdXRlci5zdGF0ZScsIFsndWkucm91dGVyLnJvdXRlcicsICd1aS5yb3V0ZXIudXRpbCcsICd1aS5yb3V0ZXIuYW5ndWxhcjEnXSk7XG4gICAgdmFyIG1vZF9tYWluID0gbmcubW9kdWxlKCd1aS5yb3V0ZXInLCBbJ3VpLnJvdXRlci5pbml0JywgJ3VpLnJvdXRlci5zdGF0ZScsICd1aS5yb3V0ZXIuYW5ndWxhcjEnXSk7XG4gICAgdmFyIG1vZF9jbXB0ID0gbmcubW9kdWxlKCd1aS5yb3V0ZXIuY29tcGF0JywgWyd1aS5yb3V0ZXInXSk7IC8vIHRzbGludDpkaXNhYmxlLWxpbmVcbiAgICB2YXIgcm91dGVyID0gbnVsbDtcbiAgICAkdWlSb3V0ZXJQcm92aWRlci4kaW5qZWN0ID0gWyckbG9jYXRpb25Qcm92aWRlciddO1xuICAgIC8qKiBUaGlzIGFuZ3VsYXIgMSBwcm92aWRlciBpbnN0YW50aWF0ZXMgYSBSb3V0ZXIgYW5kIGV4cG9zZXMgaXRzIHNlcnZpY2VzIHZpYSB0aGUgYW5ndWxhciBpbmplY3RvciAqL1xuICAgIGZ1bmN0aW9uICR1aVJvdXRlclByb3ZpZGVyKCRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgUm91dGVyIHdoZW4gdGhlICR1aVJvdXRlclByb3ZpZGVyIGlzIGluaXRpYWxpemVkXG4gICAgICAgIHJvdXRlciA9IHRoaXMucm91dGVyID0gbmV3IGNvcmUuVUlSb3V0ZXIoKTtcbiAgICAgICAgcm91dGVyLnN0YXRlUHJvdmlkZXIgPSBuZXcgU3RhdGVQcm92aWRlcihyb3V0ZXIuc3RhdGVSZWdpc3RyeSwgcm91dGVyLnN0YXRlU2VydmljZSk7XG4gICAgICAgIC8vIEFwcGx5IG5nMSBzcGVjaWZpYyBTdGF0ZUJ1aWxkZXIgY29kZSBmb3IgYHZpZXdzYCwgYHJlc29sdmVgLCBhbmQgYG9uRXhpdC9SZXRhaW4vRW50ZXJgIHByb3BlcnRpZXNcbiAgICAgICAgcm91dGVyLnN0YXRlUmVnaXN0cnkuZGVjb3JhdG9yKCd2aWV3cycsIG5nMVZpZXdzQnVpbGRlcik7XG4gICAgICAgIHJvdXRlci5zdGF0ZVJlZ2lzdHJ5LmRlY29yYXRvcignb25FeGl0JywgZ2V0U3RhdGVIb29rQnVpbGRlcignb25FeGl0JykpO1xuICAgICAgICByb3V0ZXIuc3RhdGVSZWdpc3RyeS5kZWNvcmF0b3IoJ29uUmV0YWluJywgZ2V0U3RhdGVIb29rQnVpbGRlcignb25SZXRhaW4nKSk7XG4gICAgICAgIHJvdXRlci5zdGF0ZVJlZ2lzdHJ5LmRlY29yYXRvcignb25FbnRlcicsIGdldFN0YXRlSG9va0J1aWxkZXIoJ29uRW50ZXInKSk7XG4gICAgICAgIHJvdXRlci52aWV3U2VydmljZS5fcGx1Z2luYXBpLl92aWV3Q29uZmlnRmFjdG9yeSgnbmcxJywgZ2V0TmcxVmlld0NvbmZpZ0ZhY3RvcnkoKSk7XG4gICAgICAgIHZhciBuZzFMb2NhdGlvblNlcnZpY2UgPSAocm91dGVyLmxvY2F0aW9uU2VydmljZSA9IHJvdXRlci5sb2NhdGlvbkNvbmZpZyA9IG5ldyBOZzFMb2NhdGlvblNlcnZpY2VzKCRsb2NhdGlvblByb3ZpZGVyKSk7XG4gICAgICAgIE5nMUxvY2F0aW9uU2VydmljZXMubW9ua2V5UGF0Y2hQYXRoUGFyYW1ldGVyVHlwZShyb3V0ZXIpO1xuICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0OiBhbHNvIGV4cG9zZSByb3V0ZXIgaW5zdGFuY2UgYXMgJHVpUm91dGVyUHJvdmlkZXIucm91dGVyXG4gICAgICAgIHJvdXRlclsncm91dGVyJ10gPSByb3V0ZXI7XG4gICAgICAgIHJvdXRlclsnJGdldCddID0gJGdldDtcbiAgICAgICAgJGdldC4kaW5qZWN0ID0gWyckbG9jYXRpb24nLCAnJGJyb3dzZXInLCAnJHdpbmRvdycsICckc25pZmZlcicsICckcm9vdFNjb3BlJywgJyRodHRwJywgJyR0ZW1wbGF0ZUNhY2hlJ107XG4gICAgICAgIGZ1bmN0aW9uICRnZXQoJGxvY2F0aW9uLCAkYnJvd3NlciwgJHdpbmRvdywgJHNuaWZmZXIsICRyb290U2NvcGUsICRodHRwLCAkdGVtcGxhdGVDYWNoZSkge1xuICAgICAgICAgICAgbmcxTG9jYXRpb25TZXJ2aWNlLl9ydW50aW1lU2VydmljZXMoJHJvb3RTY29wZSwgJGxvY2F0aW9uLCAkc25pZmZlciwgJGJyb3dzZXIsICR3aW5kb3cpO1xuICAgICAgICAgICAgZGVsZXRlIHJvdXRlclsncm91dGVyJ107XG4gICAgICAgICAgICBkZWxldGUgcm91dGVyWyckZ2V0J107XG4gICAgICAgICAgICByZXR1cm4gcm91dGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3V0ZXI7XG4gICAgfVxuICAgIHZhciBnZXRQcm92aWRlckZvciA9IGZ1bmN0aW9uIChzZXJ2aWNlTmFtZSkgeyByZXR1cm4gW1xuICAgICAgICAnJHVpUm91dGVyUHJvdmlkZXInLFxuICAgICAgICBmdW5jdGlvbiAoJHVycCkge1xuICAgICAgICAgICAgdmFyIHNlcnZpY2UgPSAkdXJwLnJvdXRlcltzZXJ2aWNlTmFtZV07XG4gICAgICAgICAgICBzZXJ2aWNlWyckZ2V0J10gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXJ2aWNlOyB9O1xuICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgICAgIH0sXG4gICAgXTsgfTtcbiAgICAvLyBUaGlzIGVmZmVjdGl2ZWx5IGNhbGxzICRnZXQoKSBvbiBgJHVpUm91dGVyUHJvdmlkZXJgIHRvIHRyaWdnZXIgaW5pdCAod2hlbiBuZyBlbnRlcnMgcnVudGltZSlcbiAgICBydW5CbG9jay4kaW5qZWN0ID0gWyckaW5qZWN0b3InLCAnJHEnLCAnJHVpUm91dGVyJ107XG4gICAgZnVuY3Rpb24gcnVuQmxvY2soJGluamVjdG9yLCAkcSwgJHVpUm91dGVyKSB7XG4gICAgICAgIGNvcmUuc2VydmljZXMuJGluamVjdG9yID0gJGluamVjdG9yO1xuICAgICAgICBjb3JlLnNlcnZpY2VzLiRxID0gJHE7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXVpL3VpLXJvdXRlci9pc3N1ZXMvMzY3OFxuICAgICAgICBpZiAoISRpbmplY3Rvci5oYXNPd25Qcm9wZXJ0eSgnc3RyaWN0RGknKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAkaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uIChjaGVja1N0cmljdERpKSB7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgJGluamVjdG9yLnN0cmljdERpID0gISEvc3RyaWN0IG1vZGUvLmV4ZWMoZXJyb3IgJiYgZXJyb3IudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlICRpbmplY3RvciBpcyBub3cgYXZhaWxhYmxlLlxuICAgICAgICAvLyBGaW5kIGFueSByZXNvbHZhYmxlcyB0aGF0IGhhZCBkZXBlbmRlbmN5IGFubm90YXRpb24gZGVmZXJyZWRcbiAgICAgICAgJHVpUm91dGVyLnN0YXRlUmVnaXN0cnlcbiAgICAgICAgICAgIC5nZXQoKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC4kJHN0YXRlKCkucmVzb2x2YWJsZXM7IH0pXG4gICAgICAgICAgICAucmVkdWNlKGNvcmUudW5uZXN0UiwgW10pXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmRlcHMgPT09ICdkZWZlcnJlZCc7IH0pXG4gICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAocmVzb2x2YWJsZSkgeyByZXR1cm4gKHJlc29sdmFibGUuZGVwcyA9ICRpbmplY3Rvci5hbm5vdGF0ZShyZXNvbHZhYmxlLnJlc29sdmVGbiwgJGluamVjdG9yLnN0cmljdERpKSk7IH0pO1xuICAgIH1cbiAgICAvLyAkdXJsUm91dGVyIHNlcnZpY2UgYW5kICR1cmxSb3V0ZXJQcm92aWRlclxuICAgIHZhciBnZXRVcmxSb3V0ZXJQcm92aWRlciA9IGZ1bmN0aW9uICh1aVJvdXRlcikgeyByZXR1cm4gKHVpUm91dGVyLnVybFJvdXRlclByb3ZpZGVyID0gbmV3IFVybFJvdXRlclByb3ZpZGVyKHVpUm91dGVyKSk7IH07XG4gICAgLy8gJHN0YXRlIHNlcnZpY2UgYW5kICRzdGF0ZVByb3ZpZGVyXG4gICAgLy8gJHVybFJvdXRlciBzZXJ2aWNlIGFuZCAkdXJsUm91dGVyUHJvdmlkZXJcbiAgICB2YXIgZ2V0U3RhdGVQcm92aWRlciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvcmUuZXh0ZW5kKHJvdXRlci5zdGF0ZVByb3ZpZGVyLCB7ICRnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJvdXRlci5zdGF0ZVNlcnZpY2U7IH0gfSk7IH07XG4gICAgd2F0Y2hEaWdlc3RzLiRpbmplY3QgPSBbJyRyb290U2NvcGUnXTtcbiAgICBmdW5jdGlvbiB3YXRjaERpZ2VzdHMoJHJvb3RTY29wZSkge1xuICAgICAgICAkcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb3JlLnRyYWNlLmFwcHJveGltYXRlRGlnZXN0cysrO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbW9kX2luaXQucHJvdmlkZXIoJyR1aVJvdXRlcicsICR1aVJvdXRlclByb3ZpZGVyKTtcbiAgICBtb2RfcnRyLnByb3ZpZGVyKCckdXJsUm91dGVyJywgWyckdWlSb3V0ZXJQcm92aWRlcicsIGdldFVybFJvdXRlclByb3ZpZGVyXSk7XG4gICAgbW9kX3V0aWwucHJvdmlkZXIoJyR1cmxTZXJ2aWNlJywgZ2V0UHJvdmlkZXJGb3IoJ3VybFNlcnZpY2UnKSk7XG4gICAgbW9kX3V0aWwucHJvdmlkZXIoJyR1cmxNYXRjaGVyRmFjdG9yeScsIFsnJHVpUm91dGVyUHJvdmlkZXInLCBmdW5jdGlvbiAoKSB7IHJldHVybiByb3V0ZXIudXJsTWF0Y2hlckZhY3Rvcnk7IH1dKTtcbiAgICBtb2RfdXRpbC5wcm92aWRlcignJHRlbXBsYXRlRmFjdG9yeScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBUZW1wbGF0ZUZhY3RvcnkoKTsgfSk7XG4gICAgbW9kX3N0YXRlLnByb3ZpZGVyKCckc3RhdGVSZWdpc3RyeScsIGdldFByb3ZpZGVyRm9yKCdzdGF0ZVJlZ2lzdHJ5JykpO1xuICAgIG1vZF9zdGF0ZS5wcm92aWRlcignJHVpUm91dGVyR2xvYmFscycsIGdldFByb3ZpZGVyRm9yKCdnbG9iYWxzJykpO1xuICAgIG1vZF9zdGF0ZS5wcm92aWRlcignJHRyYW5zaXRpb25zJywgZ2V0UHJvdmlkZXJGb3IoJ3RyYW5zaXRpb25TZXJ2aWNlJykpO1xuICAgIG1vZF9zdGF0ZS5wcm92aWRlcignJHN0YXRlJywgWyckdWlSb3V0ZXJQcm92aWRlcicsIGdldFN0YXRlUHJvdmlkZXJdKTtcbiAgICBtb2Rfc3RhdGUuZmFjdG9yeSgnJHN0YXRlUGFyYW1zJywgWyckdWlSb3V0ZXInLCBmdW5jdGlvbiAoJHVpUm91dGVyKSB7IHJldHVybiAkdWlSb3V0ZXIuZ2xvYmFscy5wYXJhbXM7IH1dKTtcbiAgICBtb2RfbWFpbi5mYWN0b3J5KCckdmlldycsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJvdXRlci52aWV3U2VydmljZTsgfSk7XG4gICAgbW9kX21haW4uc2VydmljZSgnJHRyYWNlJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gY29yZS50cmFjZTsgfSk7XG4gICAgbW9kX21haW4ucnVuKHdhdGNoRGlnZXN0cyk7XG4gICAgbW9kX3V0aWwucnVuKFsnJHVybE1hdGNoZXJGYWN0b3J5JywgZnVuY3Rpb24gKCR1cmxNYXRjaGVyRmFjdG9yeSkgeyB9XSk7XG4gICAgbW9kX3N0YXRlLnJ1bihbJyRzdGF0ZScsIGZ1bmN0aW9uICgkc3RhdGUpIHsgfV0pO1xuICAgIG1vZF9ydHIucnVuKFsnJHVybFJvdXRlcicsIGZ1bmN0aW9uICgkdXJsUm91dGVyKSB7IH1dKTtcbiAgICBtb2RfaW5pdC5ydW4ocnVuQmxvY2spO1xuICAgIC8qKiBAaGlkZGVuIFRPRE86IGZpbmQgYSBwbGFjZSB0byBtb3ZlIHRoaXMgKi9cbiAgICB2YXIgZ2V0TG9jYWxzID0gZnVuY3Rpb24gKGN0eCkge1xuICAgICAgICB2YXIgdG9rZW5zID0gY3R4LmdldFRva2VucygpLmZpbHRlcihjb3JlLmlzU3RyaW5nKTtcbiAgICAgICAgdmFyIHR1cGxlcyA9IHRva2Vucy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgdmFyIHJlc29sdmFibGUgPSBjdHguZ2V0UmVzb2x2YWJsZShrZXkpO1xuICAgICAgICAgICAgdmFyIHdhaXRQb2xpY3kgPSBjdHguZ2V0UG9saWN5KHJlc29sdmFibGUpLmFzeW5jO1xuICAgICAgICAgICAgcmV0dXJuIFtrZXksIHdhaXRQb2xpY3kgPT09ICdOT1dBSVQnID8gcmVzb2x2YWJsZS5wcm9taXNlIDogcmVzb2x2YWJsZS5kYXRhXTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0dXBsZXMucmVkdWNlKGNvcmUuYXBwbHlQYWlycywge30pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCAob3IgcGVuZGluZykgU3RhdGUgUGFyYW1ldGVyc1xuICAgICAqXG4gICAgICogQW4gaW5qZWN0YWJsZSBnbG9iYWwgKipTZXJ2aWNlIE9iamVjdCoqIHdoaWNoIGhvbGRzIHRoZSBzdGF0ZSBwYXJhbWV0ZXJzIGZvciB0aGUgbGF0ZXN0ICoqU1VDQ0VTU0ZVTCoqIHRyYW5zaXRpb24uXG4gICAgICpcbiAgICAgKiBUaGUgdmFsdWVzIGFyZSBub3QgdXBkYXRlZCB1bnRpbCAqYWZ0ZXIqIGEgYFRyYW5zaXRpb25gIHN1Y2Nlc3NmdWxseSBjb21wbGV0ZXMuXG4gICAgICpcbiAgICAgKiAqKkFsc286KiogYW4gaW5qZWN0YWJsZSAqKlBlci1UcmFuc2l0aW9uIE9iamVjdCoqIG9iamVjdCB3aGljaCBob2xkcyB0aGUgcGVuZGluZyBzdGF0ZSBwYXJhbWV0ZXJzIGZvciB0aGUgcGVuZGluZyBgVHJhbnNpdGlvbmAgY3VycmVudGx5IHJ1bm5pbmcuXG4gICAgICpcbiAgICAgKiAjIyMgRGVwcmVjYXRpb24gd2FybmluZzpcbiAgICAgKlxuICAgICAqIFRoZSB2YWx1ZSBpbmplY3RlZCBmb3IgYCRzdGF0ZVBhcmFtc2AgaXMgZGlmZmVyZW50IGRlcGVuZGluZyBvbiB3aGVyZSBpdCBpcyBpbmplY3RlZC5cbiAgICAgKlxuICAgICAqIC0gV2hlbiBpbmplY3RlZCBpbnRvIGFuIGFuZ3VsYXIgc2VydmljZSwgdGhlIG9iamVjdCBpbmplY3RlZCBpcyB0aGUgZ2xvYmFsICoqU2VydmljZSBPYmplY3QqKiB3aXRoIHRoZSBwYXJhbWV0ZXIgdmFsdWVzIGZvciB0aGUgbGF0ZXN0IHN1Y2Nlc3NmdWwgYFRyYW5zaXRpb25gLlxuICAgICAqIC0gV2hlbiBpbmplY3RlZCBpbnRvIHRyYW5zaXRpb24gaG9va3MsIHJlc29sdmVzLCBvciB2aWV3IGNvbnRyb2xsZXJzLCB0aGUgb2JqZWN0IGlzIHRoZSAqKlBlci1UcmFuc2l0aW9uIE9iamVjdCoqIHdpdGggdGhlIHBhcmFtZXRlciB2YWx1ZXMgZm9yIHRoZSBydW5uaW5nIGBUcmFuc2l0aW9uYC5cbiAgICAgKlxuICAgICAqIEJlY2F1c2Ugb2YgdGhlc2UgY29uZnVzaW5nIGRldGFpbHMsIHRoaXMgc2VydmljZSBpcyBkZXByZWNhdGVkLlxuICAgICAqXG4gICAgICogIyMjIEluc3RlYWQgb2YgdXNpbmcgdGhlIGdsb2JhbCBgJHN0YXRlUGFyYW1zYCBzZXJ2aWNlIG9iamVjdCxcbiAgICAgKiBpbmplY3QgW1skdWlSb3V0ZXJHbG9iYWxzXV0gYW5kIHVzZSBbW1VJUm91dGVyR2xvYmFscy5wYXJhbXNdXVxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBNeVNlcnZpY2UuJGluamVjdCA9IFsnJHVpUm91dGVyR2xvYmFscyddO1xuICAgICAqIGZ1bmN0aW9uIE15U2VydmljZSgkdWlSb3V0ZXJHbG9iYWxzKSB7XG4gICAgICogICByZXR1cm4ge1xuICAgICAqICAgICBwYXJhbVZhbHVlczogZnVuY3Rpb24gKCkge1xuICAgICAqICAgICAgIHJldHVybiAkdWlSb3V0ZXJHbG9iYWxzLnBhcmFtcztcbiAgICAgKiAgICAgfVxuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIyBJbnN0ZWFkIG9mIHVzaW5nIHRoZSBwZXItdHJhbnNpdGlvbiBgJHN0YXRlUGFyYW1zYCBvYmplY3QsXG4gICAgICogaW5qZWN0IHRoZSBjdXJyZW50IGBUcmFuc2l0aW9uYCAoYXMgW1skdHJhbnNpdGlvbiRdXSkgYW5kIHVzZSBbW1RyYW5zaXRpb24ucGFyYW1zXV1cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogTXlDb250cm9sbGVyLiRpbmplY3QgPSBbJyR0cmFuc2l0aW9uJCddO1xuICAgICAqIGZ1bmN0aW9uIE15Q29udHJvbGxlcigkdHJhbnNpdGlvbiQpIHtcbiAgICAgKiAgIHZhciB1c2VybmFtZSA9ICR0cmFuc2l0aW9uJC5wYXJhbXMoKS51c2VybmFtZTtcbiAgICAgKiAgIC8vIC4uIGRvIHNvbWV0aGluZyB3aXRoIHVzZXJuYW1lXG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogLS0tXG4gICAgICpcbiAgICAgKiBUaGlzIG9iamVjdCBjYW4gYmUgaW5qZWN0ZWQgaW50byBvdGhlciBzZXJ2aWNlcy5cbiAgICAgKlxuICAgICAqICMjIyMgRGVwcmVjYXRlZCBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogU29tZVNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJHN0YXRlUGFyYW1zJ107XG4gICAgICogZnVuY3Rpb24gU29tZVNlcnZpY2UoJGh0dHAsICRzdGF0ZVBhcmFtcykge1xuICAgICAqICAgcmV0dXJuIHtcbiAgICAgKiAgICAgZ2V0VXNlcjogZnVuY3Rpb24oKSB7XG4gICAgICogICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy8nICsgJHN0YXRlUGFyYW1zLnVzZXJuYW1lKTtcbiAgICAgKiAgICAgfVxuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICogYW5ndWxhci5zZXJ2aWNlKCdTb21lU2VydmljZScsIFNvbWVTZXJ2aWNlKTtcbiAgICAgKiBgYGBcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogIyBBbmd1bGFyIDEgRGlyZWN0aXZlc1xuICAgICAqXG4gICAgICogVGhlc2UgYXJlIHRoZSBkaXJlY3RpdmVzIGluY2x1ZGVkIGluIFVJLVJvdXRlciBmb3IgQW5ndWxhciAxLlxuICAgICAqIFRoZXNlIGRpcmVjdGl2ZXMgYXJlIHVzZWQgaW4gdGVtcGxhdGVzIHRvIGNyZWF0ZSB2aWV3cG9ydHMgYW5kIGxpbmsvbmF2aWdhdGUgdG8gc3RhdGVzLlxuICAgICAqXG4gICAgICogQHByZWZlcnJlZCBAcHVibGljYXBpIEBtb2R1bGUgZGlyZWN0aXZlc1xuICAgICAqLyAvKiogKi9cbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIGZ1bmN0aW9uIHBhcnNlU3RhdGVSZWYocmVmKSB7XG4gICAgICAgIHZhciBwYXJzZWQ7XG4gICAgICAgIHZhciBwYXJhbXNPbmx5ID0gcmVmLm1hdGNoKC9eXFxzKih7W159XSp9KVxccyokLyk7XG4gICAgICAgIGlmIChwYXJhbXNPbmx5KVxuICAgICAgICAgICAgcmVmID0gJygnICsgcGFyYW1zT25seVsxXSArICcpJztcbiAgICAgICAgcGFyc2VkID0gcmVmLnJlcGxhY2UoL1xcbi9nLCAnICcpLm1hdGNoKC9eXFxzKihbXihdKj8pXFxzKihcXCgoLiopXFwpKT9cXHMqJC8pO1xuICAgICAgICBpZiAoIXBhcnNlZCB8fCBwYXJzZWQubGVuZ3RoICE9PSA0KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSByZWYgJ1wiICsgcmVmICsgXCInXCIpO1xuICAgICAgICByZXR1cm4geyBzdGF0ZTogcGFyc2VkWzFdIHx8IG51bGwsIHBhcmFtRXhwcjogcGFyc2VkWzNdIHx8IG51bGwgfTtcbiAgICB9XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBmdW5jdGlvbiBzdGF0ZUNvbnRleHQoZWwpIHtcbiAgICAgICAgdmFyICR1aVZpZXcgPSBlbC5wYXJlbnQoKS5pbmhlcml0ZWREYXRhKCckdWlWaWV3Jyk7XG4gICAgICAgIHZhciBwYXRoID0gY29yZS5wYXJzZSgnJGNmZy5wYXRoJykoJHVpVmlldyk7XG4gICAgICAgIHJldHVybiBwYXRoID8gY29yZS50YWlsKHBhdGgpLnN0YXRlLm5hbWUgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKiBAaGlkZGVuICovXG4gICAgZnVuY3Rpb24gcHJvY2Vzc2VkRGVmKCRzdGF0ZSwgJGVsZW1lbnQsIGRlZikge1xuICAgICAgICB2YXIgdWlTdGF0ZSA9IGRlZi51aVN0YXRlIHx8ICRzdGF0ZS5jdXJyZW50Lm5hbWU7XG4gICAgICAgIHZhciB1aVN0YXRlT3B0cyA9IGNvcmUuZXh0ZW5kKGRlZmF1bHRPcHRzKCRlbGVtZW50LCAkc3RhdGUpLCBkZWYudWlTdGF0ZU9wdHMgfHwge30pO1xuICAgICAgICB2YXIgaHJlZiA9ICRzdGF0ZS5ocmVmKHVpU3RhdGUsIGRlZi51aVN0YXRlUGFyYW1zLCB1aVN0YXRlT3B0cyk7XG4gICAgICAgIHJldHVybiB7IHVpU3RhdGU6IHVpU3RhdGUsIHVpU3RhdGVQYXJhbXM6IGRlZi51aVN0YXRlUGFyYW1zLCB1aVN0YXRlT3B0czogdWlTdGF0ZU9wdHMsIGhyZWY6IGhyZWYgfTtcbiAgICB9XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBmdW5jdGlvbiBnZXRUeXBlSW5mbyhlbCkge1xuICAgICAgICAvLyBTVkdBRWxlbWVudCBkb2VzIG5vdCB1c2UgdGhlIGhyZWYgYXR0cmlidXRlLCBidXQgcmF0aGVyIHRoZSAneGxpbmtIcmVmJyBhdHRyaWJ1dGUuXG4gICAgICAgIHZhciBpc1N2ZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlbC5wcm9wKCdocmVmJykpID09PSAnW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10nO1xuICAgICAgICB2YXIgaXNGb3JtID0gZWxbMF0ubm9kZU5hbWUgPT09ICdGT1JNJztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGF0dHI6IGlzRm9ybSA/ICdhY3Rpb24nIDogaXNTdmcgPyAneGxpbms6aHJlZicgOiAnaHJlZicsXG4gICAgICAgICAgICBpc0FuY2hvcjogZWwucHJvcCgndGFnTmFtZScpLnRvVXBwZXJDYXNlKCkgPT09ICdBJyxcbiAgICAgICAgICAgIGNsaWNrYWJsZTogIWlzRm9ybSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBmdW5jdGlvbiBjbGlja0hvb2soZWwsICRzdGF0ZSwgJHRpbWVvdXQsIHR5cGUsIGdldERlZikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBidXR0b24gPSBlLndoaWNoIHx8IGUuYnV0dG9uLCB0YXJnZXQgPSBnZXREZWYoKTtcbiAgICAgICAgICAgIGlmICghKGJ1dHRvbiA+IDEgfHwgZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fCBlLnNoaWZ0S2V5IHx8IGVsLmF0dHIoJ3RhcmdldCcpKSkge1xuICAgICAgICAgICAgICAgIC8vIEhBQ0s6IFRoaXMgaXMgdG8gYWxsb3cgbmctY2xpY2tzIHRvIGJlIHByb2Nlc3NlZCBiZWZvcmUgdGhlIHRyYW5zaXRpb24gaXMgaW5pdGlhdGVkOlxuICAgICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uXzEgPSAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZWwuYXR0cignZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKHRhcmdldC51aVN0YXRlLCB0YXJnZXQudWlTdGF0ZVBhcmFtcywgdGFyZ2V0LnVpU3RhdGVPcHRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3RhdGUgaGFzIG5vIFVSTCwgaWdub3JlIG9uZSBwcmV2ZW50RGVmYXVsdCBmcm9tIHRoZSA8YT4gZGlyZWN0aXZlLlxuICAgICAgICAgICAgICAgIHZhciBpZ25vcmVQcmV2ZW50RGVmYXVsdENvdW50XzEgPSB0eXBlLmlzQW5jaG9yICYmICF0YXJnZXQuaHJlZiA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZ25vcmVQcmV2ZW50RGVmYXVsdENvdW50XzEtLSA8PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRyYW5zaXRpb25fMSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0T3B0cyhlbCwgJHN0YXRlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWxhdGl2ZTogc3RhdGVDb250ZXh0KGVsKSB8fCAkc3RhdGUuJGN1cnJlbnQsXG4gICAgICAgICAgICBpbmhlcml0OiB0cnVlLFxuICAgICAgICAgICAgc291cmNlOiAnc3JlZicsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKiBAaGlkZGVuICovXG4gICAgZnVuY3Rpb24gYmluZEV2ZW50cyhlbGVtZW50LCBzY29wZSwgaG9va0ZuLCB1aVN0YXRlT3B0cykge1xuICAgICAgICB2YXIgZXZlbnRzO1xuICAgICAgICBpZiAodWlTdGF0ZU9wdHMpIHtcbiAgICAgICAgICAgIGV2ZW50cyA9IHVpU3RhdGVPcHRzLmV2ZW50cztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvcmUuaXNBcnJheShldmVudHMpKSB7XG4gICAgICAgICAgICBldmVudHMgPSBbJ2NsaWNrJ107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9uID0gZWxlbWVudC5vbiA/ICdvbicgOiAnYmluZCc7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgZXZlbnRzXzEgPSBldmVudHM7IF9pIDwgZXZlbnRzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRfMSA9IGV2ZW50c18xW19pXTtcbiAgICAgICAgICAgIGVsZW1lbnRbb25dKGV2ZW50XzEsIGhvb2tGbik7XG4gICAgICAgIH1cbiAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvZmYgPSBlbGVtZW50Lm9mZiA/ICdvZmYnIDogJ3VuYmluZCc7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGV2ZW50c18yID0gZXZlbnRzOyBfaSA8IGV2ZW50c18yLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBldmVudF8yID0gZXZlbnRzXzJbX2ldO1xuICAgICAgICAgICAgICAgIGVsZW1lbnRbb2ZmXShldmVudF8yLCBob29rRm4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYHVpLXNyZWZgOiBBIGRpcmVjdGl2ZSBmb3IgbGlua2luZyB0byBhIHN0YXRlXG4gICAgICpcbiAgICAgKiBBIGRpcmVjdGl2ZSB3aGljaCBsaW5rcyB0byBhIHN0YXRlIChhbmQgb3B0aW9uYWxseSwgcGFyYW1ldGVycykuXG4gICAgICogV2hlbiBjbGlja2VkLCB0aGlzIGRpcmVjdGl2ZSBhY3RpdmF0ZXMgdGhlIGxpbmtlZCBzdGF0ZSB3aXRoIHRoZSBzdXBwbGllZCBwYXJhbWV0ZXIgdmFsdWVzLlxuICAgICAqXG4gICAgICogIyMjIExpbmtlZCBTdGF0ZVxuICAgICAqIFRoZSBhdHRyaWJ1dGUgdmFsdWUgb2YgdGhlIGB1aS1zcmVmYCBpcyB0aGUgbmFtZSBvZiB0aGUgc3RhdGUgdG8gbGluayB0by5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBUaGlzIHdpbGwgYWN0aXZhdGUgdGhlIGBob21lYCBzdGF0ZSB3aGVuIHRoZSBsaW5rIGlzIGNsaWNrZWQuXG4gICAgICogYGBgaHRtbFxuICAgICAqIDxhIHVpLXNyZWY9XCJob21lXCI+SG9tZTwvYT5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIyBSZWxhdGl2ZSBMaW5rc1xuICAgICAqIFlvdSBjYW4gYWxzbyB1c2UgcmVsYXRpdmUgc3RhdGUgcGF0aHMgd2l0aGluIGB1aS1zcmVmYCwganVzdCBsaWtlIGEgcmVsYXRpdmUgcGF0aCBwYXNzZWQgdG8gYCRzdGF0ZS5nbygpYCAoW1tTdGF0ZVNlcnZpY2UuZ29dXSkuXG4gICAgICogWW91IGp1c3QgbmVlZCB0byBiZSBhd2FyZSB0aGF0IHRoZSBwYXRoIGlzIHJlbGF0aXZlIHRvIHRoZSBzdGF0ZSB0aGF0ICpjcmVhdGVkKiB0aGUgbGluay5cbiAgICAgKiBUaGlzIGFsbG93cyBhIHN0YXRlIHRvIGNyZWF0ZSBhIHJlbGF0aXZlIGB1aS1zcmVmYCB3aGljaCBhbHdheXMgdGFyZ2V0cyB0aGUgc2FtZSBkZXN0aW5hdGlvbi5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBCb3RoIHRoZXNlIGxpbmtzIGFyZSByZWxhdGl2ZSB0byB0aGUgcGFyZW50IHN0YXRlLCBldmVuIHdoZW4gYSBjaGlsZCBzdGF0ZSBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICAgICAqIGBgYGh0bWxcbiAgICAgKiA8YSB1aS1zcmVmPVwiLmNoaWxkMVwiPmNoaWxkIDEgc3RhdGU8L2E+XG4gICAgICogPGEgdWktc3JlZj1cIi5jaGlsZDJcIj5jaGlsZCAyIHN0YXRlPC9hPlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVGhpcyBsaW5rIGFjdGl2YXRlcyB0aGUgcGFyZW50IHN0YXRlLlxuICAgICAqIGBgYGh0bWxcbiAgICAgKiA8YSB1aS1zcmVmPVwiXlwiPlJldHVybjwvYT5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIyBocmVmc1xuICAgICAqIElmIHRoZSBsaW5rZWQgc3RhdGUgaGFzIGEgVVJMLCB0aGUgZGlyZWN0aXZlIHdpbGwgYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhbmRcbiAgICAgKiB1cGRhdGUgdGhlIGBocmVmYCBhdHRyaWJ1dGUgKHVzaW5nIHRoZSBbW1N0YXRlU2VydmljZS5ocmVmXV0gIG1ldGhvZCkuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogQXNzdW1pbmcgdGhlIGB1c2Vyc2Agc3RhdGUgaGFzIGEgdXJsIG9mIGAvdXNlcnMvYFxuICAgICAqIGBgYGh0bWxcbiAgICAgKiA8YSB1aS1zcmVmPVwidXNlcnNcIiBocmVmPVwiL3VzZXJzL1wiPlVzZXJzPC9hPlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIFBhcmFtZXRlciBWYWx1ZXNcbiAgICAgKiBJbiBhZGRpdGlvbiB0byB0aGUgc3RhdGUgbmFtZSwgYSBgdWktc3JlZmAgY2FuIGluY2x1ZGUgcGFyYW1ldGVyIHZhbHVlcyB3aGljaCBhcmUgYXBwbGllZCB3aGVuIGFjdGl2YXRpbmcgdGhlIHN0YXRlLlxuICAgICAqIFBhcmFtIHZhbHVlcyBjYW4gYmUgcHJvdmlkZWQgaW4gdGhlIGB1aS1zcmVmYCB2YWx1ZSBhZnRlciB0aGUgc3RhdGUgbmFtZSwgZW5jbG9zZWQgYnkgcGFyZW50aGVzZXMuXG4gICAgICogVGhlIGNvbnRlbnQgaW5zaWRlIHRoZSBwYXJlbnRoZXNlcyBpcyBhbiBleHByZXNzaW9uLCBldmFsdWF0ZWQgdG8gdGhlIHBhcmFtZXRlciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogVGhpcyBleGFtcGxlIHJlbmRlcnMgYSBsaXN0IG9mIGxpbmtzIHRvIHVzZXJzLlxuICAgICAqIFRoZSBzdGF0ZSdzIGB1c2VySWRgIHBhcmFtZXRlciB2YWx1ZSBjb21lcyBmcm9tIGVhY2ggdXNlcidzIGB1c2VyLmlkYCBwcm9wZXJ0eS5cbiAgICAgKiBgYGBodG1sXG4gICAgICogPGxpIG5nLXJlcGVhdD1cInVzZXIgaW4gdXNlcnNcIj5cbiAgICAgKiAgIDxhIHVpLXNyZWY9XCJ1c2Vycy5kZXRhaWwoeyB1c2VySWQ6IHVzZXIuaWQgfSlcIj57eyB1c2VyLmRpc3BsYXlOYW1lIH19PC9hPlxuICAgICAqIDwvbGk+XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBOb3RlOlxuICAgICAqIFRoZSBwYXJhbWV0ZXIgdmFsdWVzIGV4cHJlc3Npb24gaXMgYCR3YXRjaGBlZCBmb3IgdXBkYXRlcy5cbiAgICAgKlxuICAgICAqICMjIyBUcmFuc2l0aW9uIE9wdGlvbnNcbiAgICAgKiBZb3UgY2FuIHNwZWNpZnkgW1tUcmFuc2l0aW9uT3B0aW9uc11dIHRvIHBhc3MgdG8gW1tTdGF0ZVNlcnZpY2UuZ29dXSBieSB1c2luZyB0aGUgYHVpLXNyZWYtb3B0c2AgYXR0cmlidXRlLlxuICAgICAqIE9wdGlvbnMgYXJlIHJlc3RyaWN0ZWQgdG8gYGxvY2F0aW9uYCwgYGluaGVyaXRgLCBhbmQgYHJlbG9hZGAuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBgaHRtbFxuICAgICAqIDxhIHVpLXNyZWY9XCJob21lXCIgdWktc3JlZi1vcHRzPVwieyByZWxvYWQ6IHRydWUgfVwiPkhvbWU8L2E+XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyMgT3RoZXIgRE9NIEV2ZW50c1xuICAgICAqXG4gICAgICogWW91IGNhbiBhbHNvIGN1c3RvbWl6ZSB3aGljaCBET00gZXZlbnRzIHRvIHJlc3BvbmQgdG8gKGluc3RlYWQgb2YgYGNsaWNrYCkgYnlcbiAgICAgKiBwcm92aWRpbmcgYW4gYGV2ZW50c2AgYXJyYXkgaW4gdGhlIGB1aS1zcmVmLW9wdHNgIGF0dHJpYnV0ZS5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBodG1sXG4gICAgICogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgdWktc3JlZj1cImNvbnRhY3RzXCIgdWktc3JlZi1vcHRzPVwieyBldmVudHM6IFsnY2hhbmdlJywgJ2JsdXInXSB9XCI+XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyMgSGlnaGxpZ2h0aW5nIHRoZSBhY3RpdmUgbGlua1xuICAgICAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggW1t1aVNyZWZBY3RpdmVdXSB0byBoaWdobGlnaHQgdGhlIGFjdGl2ZSBsaW5rLlxuICAgICAqXG4gICAgICogIyMjIEV4YW1wbGVzXG4gICAgICogSWYgeW91IGhhdmUgdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZTpcbiAgICAgKlxuICAgICAqIGBgYGh0bWxcbiAgICAgKiA8YSB1aS1zcmVmPVwiaG9tZVwiPkhvbWU8L2E+XG4gICAgICogPGEgdWktc3JlZj1cImFib3V0XCI+QWJvdXQ8L2E+XG4gICAgICogPGEgdWktc3JlZj1cIntwYWdlOiAyfVwiPk5leHQgcGFnZTwvYT5cbiAgICAgKlxuICAgICAqIDx1bD5cbiAgICAgKiAgICAgPGxpIG5nLXJlcGVhdD1cImNvbnRhY3QgaW4gY29udGFjdHNcIj5cbiAgICAgKiAgICAgICAgIDxhIHVpLXNyZWY9XCJjb250YWN0cy5kZXRhaWwoeyBpZDogY29udGFjdC5pZCB9KVwiPnt7IGNvbnRhY3QubmFtZSB9fTwvYT5cbiAgICAgKiAgICAgPC9saT5cbiAgICAgKiA8L3VsPlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVGhlbiAoYXNzdW1pbmcgdGhlIGN1cnJlbnQgc3RhdGUgaXMgYGNvbnRhY3RzYCkgdGhlIHJlbmRlcmVkIGh0bWwgaW5jbHVkaW5nIGhyZWZzIHdvdWxkIGJlOlxuICAgICAqXG4gICAgICogYGBgaHRtbFxuICAgICAqIDxhIGhyZWY9XCIjL2hvbWVcIiB1aS1zcmVmPVwiaG9tZVwiPkhvbWU8L2E+XG4gICAgICogPGEgaHJlZj1cIiMvYWJvdXRcIiB1aS1zcmVmPVwiYWJvdXRcIj5BYm91dDwvYT5cbiAgICAgKiA8YSBocmVmPVwiIy9jb250YWN0cz9wYWdlPTJcIiB1aS1zcmVmPVwie3BhZ2U6IDJ9XCI+TmV4dCBwYWdlPC9hPlxuICAgICAqXG4gICAgICogPHVsPlxuICAgICAqICAgICA8bGkgbmctcmVwZWF0PVwiY29udGFjdCBpbiBjb250YWN0c1wiPlxuICAgICAqICAgICAgICAgPGEgaHJlZj1cIiMvY29udGFjdHMvMVwiIHVpLXNyZWY9XCJjb250YWN0cy5kZXRhaWwoeyBpZDogY29udGFjdC5pZCB9KVwiPkpvZTwvYT5cbiAgICAgKiAgICAgPC9saT5cbiAgICAgKiAgICAgPGxpIG5nLXJlcGVhdD1cImNvbnRhY3QgaW4gY29udGFjdHNcIj5cbiAgICAgKiAgICAgICAgIDxhIGhyZWY9XCIjL2NvbnRhY3RzLzJcIiB1aS1zcmVmPVwiY29udGFjdHMuZGV0YWlsKHsgaWQ6IGNvbnRhY3QuaWQgfSlcIj5BbGljZTwvYT5cbiAgICAgKiAgICAgPC9saT5cbiAgICAgKiAgICAgPGxpIG5nLXJlcGVhdD1cImNvbnRhY3QgaW4gY29udGFjdHNcIj5cbiAgICAgKiAgICAgICAgIDxhIGhyZWY9XCIjL2NvbnRhY3RzLzNcIiB1aS1zcmVmPVwiY29udGFjdHMuZGV0YWlsKHsgaWQ6IGNvbnRhY3QuaWQgfSlcIj5Cb2I8L2E+XG4gICAgICogICAgIDwvbGk+XG4gICAgICogPC91bD5cbiAgICAgKlxuICAgICAqIDxhIGhyZWY9XCIjL2hvbWVcIiB1aS1zcmVmPVwiaG9tZVwiIHVpLXNyZWYtb3B0cz1cIntyZWxvYWQ6IHRydWV9XCI+SG9tZTwvYT5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIyBOb3Rlc1xuICAgICAqXG4gICAgICogLSBZb3UgY2FuIHVzZSBgdWktc3JlZmAgdG8gY2hhbmdlICoqb25seSB0aGUgcGFyYW1ldGVyIHZhbHVlcyoqIGJ5IG9taXR0aW5nIHRoZSBzdGF0ZSBuYW1lIGFuZCBwYXJlbnRoZXNlcy5cbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogU2V0cyB0aGUgYGxhbmdgIHBhcmFtZXRlciB0byBgZW5gIGFuZCByZW1haW5zIG9uIHRoZSBzYW1lIHN0YXRlLlxuICAgICAqXG4gICAgICogYGBgaHRtbFxuICAgICAqIDxhIHVpLXNyZWY9XCJ7IGxhbmc6ICdlbicgfVwiPkVuZ2xpc2g8L2E+XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAtIEEgbWlkZGxlLWNsaWNrLCByaWdodC1jbGljaywgb3IgY3RybC1jbGljayBpcyBoYW5kbGVkIChuYXRpdmVseSkgYnkgdGhlIGJyb3dzZXIgdG8gb3BlbiB0aGUgaHJlZiBpbiBhIG5ldyB3aW5kb3csIGZvciBleGFtcGxlLlxuICAgICAqXG4gICAgICogLSBVbmxpa2UgdGhlIHBhcmFtZXRlciB2YWx1ZXMgZXhwcmVzc2lvbiwgdGhlIHN0YXRlIG5hbWUgaXMgbm90IGAkd2F0Y2hgZWQgKGZvciBwZXJmb3JtYW5jZSByZWFzb25zKS5cbiAgICAgKiBJZiB5b3UgbmVlZCB0byBkeW5hbWljYWxseSB1cGRhdGUgdGhlIHN0YXRlIGJlaW5nIGxpbmtlZCB0bywgdXNlIHRoZSBmdWxseSBkeW5hbWljIFtbdWlTdGF0ZV1dIGRpcmVjdGl2ZS5cbiAgICAgKi9cbiAgICB2YXIgdWlTcmVmRGlyZWN0aXZlO1xuICAgIHVpU3JlZkRpcmVjdGl2ZSA9IFtcbiAgICAgICAgJyR1aVJvdXRlcicsXG4gICAgICAgICckdGltZW91dCcsXG4gICAgICAgIGZ1bmN0aW9uICRTdGF0ZVJlZkRpcmVjdGl2ZSgkdWlSb3V0ZXIsICR0aW1lb3V0KSB7XG4gICAgICAgICAgICB2YXIgJHN0YXRlID0gJHVpUm91dGVyLnN0YXRlU2VydmljZTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgICAgICByZXF1aXJlOiBbJz9edWlTcmVmQWN0aXZlJywgJz9edWlTcmVmQWN0aXZlRXEnXSxcbiAgICAgICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCB1aVNyZWZBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBnZXRUeXBlSW5mbyhlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZSA9IHVpU3JlZkFjdGl2ZVsxXSB8fCB1aVNyZWZBY3RpdmVbMF07XG4gICAgICAgICAgICAgICAgICAgIHZhciB1bmxpbmtJbmZvRm4gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaG9va0ZuO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmF3RGVmID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZXREZWYgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9jZXNzZWREZWYoJHN0YXRlLCBlbGVtZW50LCByYXdEZWYpOyB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVmID0gcGFyc2VTdGF0ZVJlZihhdHRycy51aVNyZWYpO1xuICAgICAgICAgICAgICAgICAgICByYXdEZWYudWlTdGF0ZSA9IHJlZi5zdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgcmF3RGVmLnVpU3RhdGVPcHRzID0gYXR0cnMudWlTcmVmT3B0cyA/IHNjb3BlLiRldmFsKGF0dHJzLnVpU3JlZk9wdHMpIDoge307XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWYgPSBnZXREZWYoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1bmxpbmtJbmZvRm4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5saW5rSW5mb0ZuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVubGlua0luZm9GbiA9IGFjdGl2ZS4kJGFkZFN0YXRlSW5mbyhkZWYudWlTdGF0ZSwgZGVmLnVpU3RhdGVQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZi5ocmVmICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnMuJHNldCh0eXBlLmF0dHIsIGRlZi5ocmVmKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocmVmLnBhcmFtRXhwcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKHJlZi5wYXJhbUV4cHIsIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdEZWYudWlTdGF0ZVBhcmFtcyA9IGNvcmUuZXh0ZW5kKHt9LCB2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByYXdEZWYudWlTdGF0ZVBhcmFtcyA9IGNvcmUuZXh0ZW5kKHt9LCBzY29wZS4kZXZhbChyZWYucGFyYW1FeHByKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCAkdWlSb3V0ZXIuc3RhdGVSZWdpc3RyeS5vblN0YXRlc0NoYW5nZWQodXBkYXRlKSk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCAkdWlSb3V0ZXIudHJhbnNpdGlvblNlcnZpY2Uub25TdWNjZXNzKHt9LCB1cGRhdGUpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0eXBlLmNsaWNrYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgaG9va0ZuID0gY2xpY2tIb29rKGVsZW1lbnQsICRzdGF0ZSwgJHRpbWVvdXQsIHR5cGUsIGdldERlZik7XG4gICAgICAgICAgICAgICAgICAgIGJpbmRFdmVudHMoZWxlbWVudCwgc2NvcGUsIGhvb2tGbiwgcmF3RGVmLnVpU3RhdGVPcHRzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICBdO1xuICAgIC8qKlxuICAgICAqIGB1aS1zdGF0ZWA6IEEgZnVsbHkgZHluYW1pYyBkaXJlY3RpdmUgZm9yIGxpbmtpbmcgdG8gYSBzdGF0ZVxuICAgICAqXG4gICAgICogQSBkaXJlY3RpdmUgd2hpY2ggbGlua3MgdG8gYSBzdGF0ZSAoYW5kIG9wdGlvbmFsbHksIHBhcmFtZXRlcnMpLlxuICAgICAqIFdoZW4gY2xpY2tlZCwgdGhpcyBkaXJlY3RpdmUgYWN0aXZhdGVzIHRoZSBsaW5rZWQgc3RhdGUgd2l0aCB0aGUgc3VwcGxpZWQgcGFyYW1ldGVyIHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqVGhpcyBkaXJlY3RpdmUgaXMgdmVyeSBzaW1pbGFyIHRvIFtbdWlTcmVmXV0sIGJ1dCBpdCBgJG9ic2VydmVgcyBhbmQgYCR3YXRjaGBlcy9ldmFsdWF0ZXMgYWxsIGl0cyBpbnB1dHMuKipcbiAgICAgKlxuICAgICAqIEEgZGlyZWN0aXZlIHdoaWNoIGxpbmtzIHRvIGEgc3RhdGUgKGFuZCBvcHRpb25hbGx5LCBwYXJhbWV0ZXJzKS5cbiAgICAgKiBXaGVuIGNsaWNrZWQsIHRoaXMgZGlyZWN0aXZlIGFjdGl2YXRlcyB0aGUgbGlua2VkIHN0YXRlIHdpdGggdGhlIHN1cHBsaWVkIHBhcmFtZXRlciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAjIyMgTGlua2VkIFN0YXRlXG4gICAgICogVGhlIGF0dHJpYnV0ZSB2YWx1ZSBvZiBgdWktc3RhdGVgIGlzIGFuIGV4cHJlc3Npb24gd2hpY2ggaXMgYCR3YXRjaGBlZCBhbmQgZXZhbHVhdGVkIGFzIHRoZSBzdGF0ZSB0byBsaW5rIHRvLlxuICAgICAqICoqVGhpcyBpcyBpbiBjb250cmFzdCB3aXRoIGB1aS1zcmVmYCwgd2hpY2ggdGFrZXMgYSBzdGF0ZSBuYW1lIGFzIGEgc3RyaW5nIGxpdGVyYWwuKipcbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBDcmVhdGUgYSBsaXN0IG9mIGxpbmtzLlxuICAgICAqIGBgYGh0bWxcbiAgICAgKiA8bGkgbmctcmVwZWF0PVwibGluayBpbiBuYXZsaW5rc1wiPlxuICAgICAqICAgPGEgdWktc3RhdGU9XCJsaW5rLnN0YXRlXCI+e3sgbGluay5kaXNwbGF5TmFtZSB9fTwvYT5cbiAgICAgKiA8L2xpPlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIFJlbGF0aXZlIExpbmtzXG4gICAgICogSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgcmVsYXRpdmUgcGF0aCwgaXQgaXMgcHJvY2Vzc2VkIGxpa2UgW1t1aVNyZWZdXS5cbiAgICAgKiBZb3UganVzdCBuZWVkIHRvIGJlIGF3YXJlIHRoYXQgdGhlIHBhdGggaXMgcmVsYXRpdmUgdG8gdGhlIHN0YXRlIHRoYXQgKmNyZWF0ZWQqIHRoZSBsaW5rLlxuICAgICAqIFRoaXMgYWxsb3dzIGEgc3RhdGUgdG8gY3JlYXRlIHJlbGF0aXZlIGB1aS1zdGF0ZWAgd2hpY2ggYWx3YXlzIHRhcmdldHMgdGhlIHNhbWUgZGVzdGluYXRpb24uXG4gICAgICpcbiAgICAgKiAjIyMgaHJlZnNcbiAgICAgKiBJZiB0aGUgbGlua2VkIHN0YXRlIGhhcyBhIFVSTCwgdGhlIGRpcmVjdGl2ZSB3aWxsIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYW5kXG4gICAgICogdXBkYXRlIHRoZSBgaHJlZmAgYXR0cmlidXRlICh1c2luZyB0aGUgW1tTdGF0ZVNlcnZpY2UuaHJlZl1dICBtZXRob2QpLlxuICAgICAqXG4gICAgICogIyMjIFBhcmFtZXRlciBWYWx1ZXNcbiAgICAgKiBJbiBhZGRpdGlvbiB0byB0aGUgc3RhdGUgbmFtZSBleHByZXNzaW9uLCBhIGB1aS1zdGF0ZWAgY2FuIGluY2x1ZGUgcGFyYW1ldGVyIHZhbHVlcyB3aGljaCBhcmUgYXBwbGllZCB3aGVuIGFjdGl2YXRpbmcgdGhlIHN0YXRlLlxuICAgICAqIFBhcmFtIHZhbHVlcyBzaG91bGQgYmUgcHJvdmlkZWQgdXNpbmcgdGhlIGB1aS1zdGF0ZS1wYXJhbXNgIGF0dHJpYnV0ZS5cbiAgICAgKiBUaGUgYHVpLXN0YXRlLXBhcmFtc2AgYXR0cmlidXRlIHZhbHVlIGlzIGAkd2F0Y2hgZWQgYW5kIGV2YWx1YXRlZCBhcyBhbiBleHByZXNzaW9uLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIFRoaXMgZXhhbXBsZSByZW5kZXJzIGEgbGlzdCBvZiBsaW5rcyB3aXRoIHBhcmFtIHZhbHVlcy5cbiAgICAgKiBUaGUgc3RhdGUncyBgdXNlcklkYCBwYXJhbWV0ZXIgdmFsdWUgY29tZXMgZnJvbSBlYWNoIHVzZXIncyBgdXNlci5pZGAgcHJvcGVydHkuXG4gICAgICogYGBgaHRtbFxuICAgICAqIDxsaSBuZy1yZXBlYXQ9XCJsaW5rIGluIG5hdmxpbmtzXCI+XG4gICAgICogICA8YSB1aS1zdGF0ZT1cImxpbmsuc3RhdGVcIiB1aS1zdGF0ZS1wYXJhbXM9XCJsaW5rLnBhcmFtc1wiPnt7IGxpbmsuZGlzcGxheU5hbWUgfX08L2E+XG4gICAgICogPC9saT5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIyBUcmFuc2l0aW9uIE9wdGlvbnNcbiAgICAgKiBZb3UgY2FuIHNwZWNpZnkgW1tUcmFuc2l0aW9uT3B0aW9uc11dIHRvIHBhc3MgdG8gW1tTdGF0ZVNlcnZpY2UuZ29dXSBieSB1c2luZyB0aGUgYHVpLXN0YXRlLW9wdHNgIGF0dHJpYnV0ZS5cbiAgICAgKiBPcHRpb25zIGFyZSByZXN0cmljdGVkIHRvIGBsb2NhdGlvbmAsIGBpbmhlcml0YCwgYW5kIGByZWxvYWRgLlxuICAgICAqIFRoZSB2YWx1ZSBvZiB0aGUgYHVpLXN0YXRlLW9wdHNgIGlzIGAkd2F0Y2hgZWQgYW5kIGV2YWx1YXRlZCBhcyBhbiBleHByZXNzaW9uLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGh0bWxcbiAgICAgKiA8YSB1aS1zdGF0ZT1cInJldHVybnRvLnN0YXRlXCIgdWktc3RhdGUtb3B0cz1cInsgcmVsb2FkOiB0cnVlIH1cIj5Ib21lPC9hPlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIE90aGVyIERPTSBFdmVudHNcbiAgICAgKlxuICAgICAqIFlvdSBjYW4gYWxzbyBjdXN0b21pemUgd2hpY2ggRE9NIGV2ZW50cyB0byByZXNwb25kIHRvIChpbnN0ZWFkIG9mIGBjbGlja2ApIGJ5XG4gICAgICogcHJvdmlkaW5nIGFuIGBldmVudHNgIGFycmF5IGluIHRoZSBgdWktc3RhdGUtb3B0c2AgYXR0cmlidXRlLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGh0bWxcbiAgICAgKiA8aW5wdXQgdHlwZT1cInRleHRcIiB1aS1zdGF0ZT1cImNvbnRhY3RzXCIgdWktc3RhdGUtb3B0cz1cInsgZXZlbnRzOiBbJ2NoYW5nZScsICdibHVyJ10gfVwiPlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIEhpZ2hsaWdodGluZyB0aGUgYWN0aXZlIGxpbmtcbiAgICAgKiBUaGlzIGRpcmVjdGl2ZSBjYW4gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIFtbdWlTcmVmQWN0aXZlXV0gdG8gaGlnaGxpZ2h0IHRoZSBhY3RpdmUgbGluay5cbiAgICAgKlxuICAgICAqICMjIyBOb3Rlc1xuICAgICAqXG4gICAgICogLSBZb3UgY2FuIHVzZSBgdWktcGFyYW1zYCB0byBjaGFuZ2UgKipvbmx5IHRoZSBwYXJhbWV0ZXIgdmFsdWVzKiogYnkgb21pdHRpbmcgdGhlIHN0YXRlIG5hbWUgYW5kIHN1cHBseWluZyBvbmx5IGB1aS1zdGF0ZS1wYXJhbXNgLlxuICAgICAqICAgSG93ZXZlciwgaXQgbWlnaHQgYmUgc2ltcGxlciB0byB1c2UgW1t1aVNyZWZdXSBwYXJhbWV0ZXItb25seSBsaW5rcy5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBTZXRzIHRoZSBgbGFuZ2AgcGFyYW1ldGVyIHRvIGBlbmAgYW5kIHJlbWFpbnMgb24gdGhlIHNhbWUgc3RhdGUuXG4gICAgICpcbiAgICAgKiBgYGBodG1sXG4gICAgICogPGEgdWktc3RhdGU9XCJcIiB1aS1zdGF0ZS1wYXJhbXM9XCJ7IGxhbmc6ICdlbicgfVwiPkVuZ2xpc2g8L2E+XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAtIEEgbWlkZGxlLWNsaWNrLCByaWdodC1jbGljaywgb3IgY3RybC1jbGljayBpcyBoYW5kbGVkIChuYXRpdmVseSkgYnkgdGhlIGJyb3dzZXIgdG8gb3BlbiB0aGUgaHJlZiBpbiBhIG5ldyB3aW5kb3csIGZvciBleGFtcGxlLlxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHZhciB1aVN0YXRlRGlyZWN0aXZlO1xuICAgIHVpU3RhdGVEaXJlY3RpdmUgPSBbXG4gICAgICAgICckdWlSb3V0ZXInLFxuICAgICAgICAnJHRpbWVvdXQnLFxuICAgICAgICBmdW5jdGlvbiAkU3RhdGVSZWZEeW5hbWljRGlyZWN0aXZlKCR1aVJvdXRlciwgJHRpbWVvdXQpIHtcbiAgICAgICAgICAgIHZhciAkc3RhdGUgPSAkdWlSb3V0ZXIuc3RhdGVTZXJ2aWNlO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICAgICAgICAgIHJlcXVpcmU6IFsnP151aVNyZWZBY3RpdmUnLCAnP151aVNyZWZBY3RpdmVFcSddLFxuICAgICAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIHVpU3JlZkFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGdldFR5cGVJbmZvKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlID0gdWlTcmVmQWN0aXZlWzFdIHx8IHVpU3JlZkFjdGl2ZVswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVubGlua0luZm9GbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHZhciBob29rRm47XG4gICAgICAgICAgICAgICAgICAgIHZhciByYXdEZWYgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdldERlZiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb2Nlc3NlZERlZigkc3RhdGUsIGVsZW1lbnQsIHJhd0RlZik7IH07XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dEF0dHJzID0gWyd1aVN0YXRlJywgJ3VpU3RhdGVQYXJhbXMnLCAndWlTdGF0ZU9wdHMnXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdhdGNoRGVyZWdGbnMgPSBpbnB1dEF0dHJzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBhdHRyKSB7IHJldHVybiAoKGFjY1thdHRyXSA9IGNvcmUubm9vcCksIGFjYyk7IH0sIHt9KTtcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlZiA9IGdldERlZigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVubGlua0luZm9GbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmxpbmtJbmZvRm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5saW5rSW5mb0ZuID0gYWN0aXZlLiQkYWRkU3RhdGVJbmZvKGRlZi51aVN0YXRlLCBkZWYudWlTdGF0ZVBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVmLmhyZWYgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRycy4kc2V0KHR5cGUuYXR0ciwgZGVmLmhyZWYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlucHV0QXR0cnMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd0RlZltmaWVsZF0gPSBhdHRyc1tmaWVsZF0gPyBzY29wZS4kZXZhbChhdHRyc1tmaWVsZF0pIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKGZpZWxkLCBmdW5jdGlvbiAoZXhwcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhdGNoRGVyZWdGbnNbZmllbGRdKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hEZXJlZ0Zuc1tmaWVsZF0gPSBzY29wZS4kd2F0Y2goZXhwciwgZnVuY3Rpb24gKG5ld3ZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdEZWZbZmllbGRdID0gbmV3dmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCAkdWlSb3V0ZXIuc3RhdGVSZWdpc3RyeS5vblN0YXRlc0NoYW5nZWQodXBkYXRlKSk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCAkdWlSb3V0ZXIudHJhbnNpdGlvblNlcnZpY2Uub25TdWNjZXNzKHt9LCB1cGRhdGUpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0eXBlLmNsaWNrYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgaG9va0ZuID0gY2xpY2tIb29rKGVsZW1lbnQsICRzdGF0ZSwgJHRpbWVvdXQsIHR5cGUsIGdldERlZik7XG4gICAgICAgICAgICAgICAgICAgIGJpbmRFdmVudHMoZWxlbWVudCwgc2NvcGUsIGhvb2tGbiwgcmF3RGVmLnVpU3RhdGVPcHRzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICBdO1xuICAgIC8qKlxuICAgICAqIGB1aS1zcmVmLWFjdGl2ZWAgYW5kIGB1aS1zcmVmLWFjdGl2ZS1lcWA6IEEgZGlyZWN0aXZlIHRoYXQgYWRkcyBhIENTUyBjbGFzcyB3aGVuIGEgYHVpLXNyZWZgIGlzIGFjdGl2ZVxuICAgICAqXG4gICAgICogQSBkaXJlY3RpdmUgd29ya2luZyBhbG9uZ3NpZGUgW1t1aVNyZWZdXSBhbmQgW1t1aVN0YXRlXV0gdG8gYWRkIGNsYXNzZXMgdG8gYW4gZWxlbWVudCB3aGVuIHRoZVxuICAgICAqIHJlbGF0ZWQgZGlyZWN0aXZlJ3Mgc3RhdGUgaXMgYWN0aXZlIChhbmQgcmVtb3ZlIHRoZW0gd2hlbiBpdCBpcyBpbmFjdGl2ZSkuXG4gICAgICpcbiAgICAgKiBUaGUgcHJpbWFyeSB1c2UtY2FzZSBpcyB0byBoaWdobGlnaHQgdGhlIGFjdGl2ZSBsaW5rIGluIG5hdmlnYXRpb24gbWVudXMsXG4gICAgICogZGlzdGluZ3Vpc2hpbmcgaXQgZnJvbSB0aGUgaW5hY3RpdmUgbWVudSBpdGVtcy5cbiAgICAgKlxuICAgICAqICMjIyBMaW5raW5nIHRvIGEgYHVpLXNyZWZgIG9yIGB1aS1zdGF0ZWBcbiAgICAgKiBgdWktc3JlZi1hY3RpdmVgIGNhbiBsaXZlIG9uIHRoZSBzYW1lIGVsZW1lbnQgYXMgYHVpLXNyZWZgL2B1aS1zdGF0ZWAsIG9yIGl0IGNhbiBiZSBvbiBhIHBhcmVudCBlbGVtZW50LlxuICAgICAqIElmIGEgYHVpLXNyZWYtYWN0aXZlYCBpcyBhIHBhcmVudCB0byBtb3JlIHRoYW4gb25lIGB1aS1zcmVmYC9gdWktc3RhdGVgLCBpdCB3aWxsIGFwcGx5IHRoZSBDU1MgY2xhc3Mgd2hlbiAqKmFueSBvZiB0aGUgbGlua3MgYXJlIGFjdGl2ZSoqLlxuICAgICAqXG4gICAgICogIyMjIE1hdGNoaW5nXG4gICAgICpcbiAgICAgKiBUaGUgYHVpLXNyZWYtYWN0aXZlYCBkaXJlY3RpdmUgYXBwbGllcyB0aGUgQ1NTIGNsYXNzIHdoZW4gdGhlIGB1aS1zcmVmYC9gdWktc3RhdGVgJ3MgdGFyZ2V0IHN0YXRlICoqb3IgYW55IGNoaWxkIHN0YXRlIGlzIGFjdGl2ZSoqLlxuICAgICAqIFRoaXMgaXMgYSBcImZ1enp5IG1hdGNoXCIgd2hpY2ggdXNlcyBbW1N0YXRlU2VydmljZS5pbmNsdWRlc11dLlxuICAgICAqXG4gICAgICogVGhlIGB1aS1zcmVmLWFjdGl2ZS1lcWAgZGlyZWN0aXZlIGFwcGxpZXMgdGhlIENTUyBjbGFzcyB3aGVuIHRoZSBgdWktc3JlZmAvYHVpLXN0YXRlYCdzIHRhcmdldCBzdGF0ZSBpcyBkaXJlY3RseSBhY3RpdmUgKG5vdCB3aGVuIGNoaWxkIHN0YXRlcyBhcmUgYWN0aXZlKS5cbiAgICAgKiBUaGlzIGlzIGFuIFwiZXhhY3QgbWF0Y2hcIiB3aGljaCB1c2VzIFtbU3RhdGVTZXJ2aWNlLmlzXV0uXG4gICAgICpcbiAgICAgKiAjIyMgUGFyYW1ldGVyIHZhbHVlc1xuICAgICAqIElmIHRoZSBgdWktc3JlZmAvYHVpLXN0YXRlYCBpbmNsdWRlcyBwYXJhbWV0ZXIgdmFsdWVzLCB0aGUgY3VycmVudCBwYXJhbWV0ZXIgdmFsdWVzIG11c3QgbWF0Y2ggdGhlIGxpbmsncyB2YWx1ZXMgZm9yIHRoZSBsaW5rIHRvIGJlIGhpZ2hsaWdodGVkLlxuICAgICAqIFRoaXMgYWxsb3dzIGEgbGlzdCBvZiBsaW5rcyB0byB0aGUgc2FtZSBzdGF0ZSB3aXRoIGRpZmZlcmVudCBwYXJhbWV0ZXJzIHRvIGJlIHJlbmRlcmVkLCBhbmQgdGhlIGNvcnJlY3Qgb25lIGhpZ2hsaWdodGVkLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGh0bWxcbiAgICAgKiA8bGkgbmctcmVwZWF0PVwidXNlciBpbiB1c2Vyc1wiIHVpLXNyZWYtYWN0aXZlPVwiYWN0aXZlXCI+XG4gICAgICogICA8YSB1aS1zcmVmPVwidXNlci5kZXRhaWxzKHsgdXNlcklkOiB1c2VyLmlkIH0pXCI+e3sgdXNlci5sYXN0TmFtZSB9fTwvYT5cbiAgICAgKiA8L2xpPlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIEV4YW1wbGVzXG4gICAgICpcbiAgICAgKiBHaXZlbiB0aGUgZm9sbG93aW5nIHRlbXBsYXRlOlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBodG1sXG4gICAgICogPHVsPlxuICAgICAqICAgPGxpIHVpLXNyZWYtYWN0aXZlPVwiYWN0aXZlXCIgY2xhc3M9XCJpdGVtXCI+XG4gICAgICogICAgIDxhIGhyZWYgdWktc3JlZj1cImFwcC51c2VyKHt1c2VyOiAnYmlsYm9iYWdnaW5zJ30pXCI+QGJpbGJvYmFnZ2luczwvYT5cbiAgICAgKiAgIDwvbGk+XG4gICAgICogPC91bD5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFdoZW4gdGhlIGFwcCBzdGF0ZSBpcyBgYXBwLnVzZXJgIChvciBhbnkgY2hpbGQgc3RhdGUpLFxuICAgICAqIGFuZCBjb250YWlucyB0aGUgc3RhdGUgcGFyYW1ldGVyIFwidXNlclwiIHdpdGggdmFsdWUgXCJiaWxib2JhZ2dpbnNcIixcbiAgICAgKiB0aGUgcmVzdWx0aW5nIEhUTUwgd2lsbCBhcHBlYXIgYXMgKG5vdGUgdGhlICdhY3RpdmUnIGNsYXNzKTpcbiAgICAgKlxuICAgICAqIGBgYGh0bWxcbiAgICAgKiA8dWw+XG4gICAgICogICA8bGkgdWktc3JlZi1hY3RpdmU9XCJhY3RpdmVcIiBjbGFzcz1cIml0ZW0gYWN0aXZlXCI+XG4gICAgICogICAgIDxhIHVpLXNyZWY9XCJhcHAudXNlcih7dXNlcjogJ2JpbGJvYmFnZ2lucyd9KVwiIGhyZWY9XCIvdXNlcnMvYmlsYm9iYWdnaW5zXCI+QGJpbGJvYmFnZ2luczwvYT5cbiAgICAgKiAgIDwvbGk+XG4gICAgICogPC91bD5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIyBHbG9iIG1vZGVcbiAgICAgKlxuICAgICAqIEl0IGlzIHBvc3NpYmxlIHRvIHBhc3MgYHVpLXNyZWYtYWN0aXZlYCBhbiBleHByZXNzaW9uIHRoYXQgZXZhbHVhdGVzIHRvIGFuIG9iamVjdC5cbiAgICAgKiBUaGUgb2JqZWN0cyBrZXlzIHJlcHJlc2VudCBhY3RpdmUgY2xhc3MgbmFtZXMgYW5kIHZhbHVlcyByZXByZXNlbnQgdGhlIHJlc3BlY3RpdmUgc3RhdGUgbmFtZXMvZ2xvYnMuXG4gICAgICogYHVpLXNyZWYtYWN0aXZlYCB3aWxsIG1hdGNoIGlmIHRoZSBjdXJyZW50IGFjdGl2ZSBzdGF0ZSAqKmluY2x1ZGVzKiogYW55IG9mXG4gICAgICogdGhlIHNwZWNpZmllZCBzdGF0ZSBuYW1lcy9nbG9icywgZXZlbiB0aGUgYWJzdHJhY3Qgb25lcy5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBHaXZlbiB0aGUgZm9sbG93aW5nIHRlbXBsYXRlLCB3aXRoIFwiYWRtaW5cIiBiZWluZyBhbiBhYnN0cmFjdCBzdGF0ZTpcbiAgICAgKiBgYGBodG1sXG4gICAgICogPGRpdiB1aS1zcmVmLWFjdGl2ZT1cInsnYWN0aXZlJzogJ2FkbWluLioqJ31cIj5cbiAgICAgKiAgIDxhIHVpLXNyZWYtYWN0aXZlPVwiYWN0aXZlXCIgdWktc3JlZj1cImFkbWluLnJvbGVzXCI+Um9sZXM8L2E+XG4gICAgICogPC9kaXY+XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBBcnJheXMgYXJlIGFsc28gc3VwcG9ydGVkIGFzIHZhbHVlcyBpbiB0aGUgYG5nQ2xhc3NgLWxpa2UgaW50ZXJmYWNlLlxuICAgICAqIFRoaXMgYWxsb3dzIG11bHRpcGxlIHN0YXRlcyB0byBhZGQgYGFjdGl2ZWAgY2xhc3MuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogR2l2ZW4gdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZSwgd2l0aCBcImFkbWluLnJvbGVzXCIgYmVpbmcgdGhlIGN1cnJlbnQgc3RhdGUsIHRoZSBjbGFzcyB3aWxsIGJlIGFkZGVkIHRvbzpcbiAgICAgKiBgYGBodG1sXG4gICAgICogPGRpdiB1aS1zcmVmLWFjdGl2ZT1cInsnYWN0aXZlJzogWydvd25lci4qKicsICdhZG1pbi4qKiddfVwiPlxuICAgICAqICAgPGEgdWktc3JlZi1hY3RpdmU9XCJhY3RpdmVcIiB1aS1zcmVmPVwiYWRtaW4ucm9sZXNcIj5Sb2xlczwvYT5cbiAgICAgKiA8L2Rpdj5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFdoZW4gdGhlIGN1cnJlbnQgc3RhdGUgaXMgXCJhZG1pbi5yb2xlc1wiIHRoZSBcImFjdGl2ZVwiIGNsYXNzIHdpbGwgYmUgYXBwbGllZCB0byBib3RoIHRoZSBgPGRpdj5gIGFuZCBgPGE+YCBlbGVtZW50cy5cbiAgICAgKiBJdCBpcyBpbXBvcnRhbnQgdG8gbm90ZSB0aGF0IHRoZSBzdGF0ZSBuYW1lcy9nbG9icyBwYXNzZWQgdG8gYHVpLXNyZWYtYWN0aXZlYCBvdmVycmlkZSBhbnkgc3RhdGUgcHJvdmlkZWQgYnkgYSBsaW5rZWQgYHVpLXNyZWZgLlxuICAgICAqXG4gICAgICogIyMjIE5vdGVzOlxuICAgICAqXG4gICAgICogLSBUaGUgY2xhc3MgbmFtZSBpcyBpbnRlcnBvbGF0ZWQgKipvbmNlKiogZHVyaW5nIHRoZSBkaXJlY3RpdmVzIGxpbmsgdGltZSAoYW55IGZ1cnRoZXIgY2hhbmdlcyB0byB0aGVcbiAgICAgKiBpbnRlcnBvbGF0ZWQgdmFsdWUgYXJlIGlnbm9yZWQpLlxuICAgICAqXG4gICAgICogLSBNdWx0aXBsZSBjbGFzc2VzIG1heSBiZSBzcGVjaWZpZWQgaW4gYSBzcGFjZS1zZXBhcmF0ZWQgZm9ybWF0OiBgdWktc3JlZi1hY3RpdmU9J2NsYXNzMSBjbGFzczIgY2xhc3MzJ2BcbiAgICAgKi9cbiAgICB2YXIgdWlTcmVmQWN0aXZlRGlyZWN0aXZlO1xuICAgIHVpU3JlZkFjdGl2ZURpcmVjdGl2ZSA9IFtcbiAgICAgICAgJyRzdGF0ZScsXG4gICAgICAgICckc3RhdGVQYXJhbXMnLFxuICAgICAgICAnJGludGVycG9sYXRlJyxcbiAgICAgICAgJyR1aVJvdXRlcicsXG4gICAgICAgIGZ1bmN0aW9uICRTdGF0ZVJlZkFjdGl2ZURpcmVjdGl2ZSgkc3RhdGUsICRzdGF0ZVBhcmFtcywgJGludGVycG9sYXRlLCAkdWlSb3V0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbXG4gICAgICAgICAgICAgICAgICAgICckc2NvcGUnLFxuICAgICAgICAgICAgICAgICAgICAnJGVsZW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICAnJGF0dHJzJyxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUVxQ2xhc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdWlTcmVmQWN0aXZlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgcHJvYmFibHkgaXNuJ3QgbXVjaCBwb2ludCBpbiAkb2JzZXJ2aW5nIHRoaXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVpU3JlZkFjdGl2ZSBhbmQgdWlTcmVmQWN0aXZlRXEgc2hhcmUgdGhlIHNhbWUgZGlyZWN0aXZlIG9iamVjdCB3aXRoIHNvbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNsaWdodCBkaWZmZXJlbmNlIGluIGxvZ2ljIHJvdXRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUVxQ2xhc3MgPSAkaW50ZXJwb2xhdGUoJGF0dHJzLnVpU3JlZkFjdGl2ZUVxIHx8ICcnLCBmYWxzZSkoJHNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlTcmVmQWN0aXZlID0gJHNjb3BlLiRldmFsKCRhdHRycy51aVNyZWZBY3RpdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nLiB1aVNyZWZBY3RpdmUgaXMgbm90IGEgdmFsaWQgZXhwcmVzc2lvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGYWxsIGJhY2sgdG8gdXNpbmcgJGludGVycG9sYXRlIGJlbG93XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB1aVNyZWZBY3RpdmUgPSB1aVNyZWZBY3RpdmUgfHwgJGludGVycG9sYXRlKCRhdHRycy51aVNyZWZBY3RpdmUgfHwgJycsIGZhbHNlKSgkc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3RhdGVzRnJvbURlZmluaXRpb25PYmplY3QodWlTcmVmQWN0aXZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsbG93IHVpU3JlZiB0byBjb21tdW5pY2F0ZSB3aXRoIHVpU3JlZkFjdGl2ZVtFcXVhbHNdXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiQkYWRkU3RhdGVJbmZvID0gZnVuY3Rpb24gKG5ld1N0YXRlLCBuZXdQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhbHJlYWR5IGdvdCBhbiBleHBsaWNpdCBzdGF0ZSBwcm92aWRlZCBieSB1aS1zcmVmLWFjdGl2ZSwgc28gd2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaGFkb3cgdGhlIG9uZSB0aGF0IGNvbWVzIGZyb20gdWktc3JlZlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3JlLmlzT2JqZWN0KHVpU3JlZkFjdGl2ZSkgJiYgc3RhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVyZWdpc3RlciA9IGFkZFN0YXRlKG5ld1N0YXRlLCBuZXdQYXJhbXMsIHVpU3JlZkFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlcmVnaXN0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlQWZ0ZXJUcmFuc2l0aW9uKHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnMucHJvbWlzZS50aGVuKHVwZGF0ZSwgY29yZS5ub29wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95Jywgc2V0dXBFdmVudExpc3RlbmVycygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkdWlSb3V0ZXIuZ2xvYmFscy50cmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQWZ0ZXJUcmFuc2l0aW9uKCR1aVJvdXRlci5nbG9iYWxzLnRyYW5zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0dXBFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVyZWdpc3RlclN0YXRlc0NoYW5nZWRMaXN0ZW5lciA9ICR1aVJvdXRlci5zdGF0ZVJlZ2lzdHJ5Lm9uU3RhdGVzQ2hhbmdlZChoYW5kbGVTdGF0ZXNDaGFuZ2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVyZWdpc3Rlck9uU3RhcnRMaXN0ZW5lciA9ICR1aVJvdXRlci50cmFuc2l0aW9uU2VydmljZS5vblN0YXJ0KHt9LCB1cGRhdGVBZnRlclRyYW5zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZXJlZ2lzdGVyU3RhdGVDaGFuZ2VTdWNjZXNzTGlzdGVuZXIgPSAkc2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgdXBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY2xlYW5VcCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVyZWdpc3RlclN0YXRlc0NoYW5nZWRMaXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXJlZ2lzdGVyT25TdGFydExpc3RlbmVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcmVnaXN0ZXJTdGF0ZUNoYW5nZVN1Y2Nlc3NMaXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVTdGF0ZXNDaGFuZ2VkKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFN0YXRlc0Zyb21EZWZpbml0aW9uT2JqZWN0KHVpU3JlZkFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRTdGF0ZXNGcm9tRGVmaW5pdGlvbk9iamVjdChzdGF0ZXNEZWZpbml0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvcmUuaXNPYmplY3Qoc3RhdGVzRGVmaW5pdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmUuZm9yRWFjaChzdGF0ZXNEZWZpbml0aW9uLCBmdW5jdGlvbiAoc3RhdGVPck5hbWUsIGFjdGl2ZUNsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gYWJzdHJhY3QgYWRkaW5nIHN0YXRlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZFN0YXRlRm9yQ2xhc3MgPSBmdW5jdGlvbiAoc3RhdGVPck5hbWUsIGFjdGl2ZUNsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZiA9IHBhcnNlU3RhdGVSZWYoc3RhdGVPck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFN0YXRlKHJlZi5zdGF0ZSwgJHNjb3BlLiRldmFsKHJlZi5wYXJhbUV4cHIpLCBhY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvcmUuaXNTdHJpbmcoc3RhdGVPck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgc3RhdGUgaXMgc3RyaW5nLCBqdXN0IGFkZCBpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRTdGF0ZUZvckNsYXNzKHN0YXRlT3JOYW1lLCBhY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjb3JlLmlzQXJyYXkoc3RhdGVPck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgc3RhdGUgaXMgYW4gYXJyYXksIGl0ZXJhdGUgb3ZlciBpdCBhbmQgYWRkIGVhY2ggYXJyYXkgaXRlbSBpbmRpdmlkdWFsbHkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZS5mb3JFYWNoKHN0YXRlT3JOYW1lLCBmdW5jdGlvbiAoc3RhdGVPck5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkU3RhdGVGb3JDbGFzcyhzdGF0ZU9yTmFtZSwgYWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBhZGRTdGF0ZShzdGF0ZU5hbWUsIHN0YXRlUGFyYW1zLCBhY3RpdmVDbGFzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9ICRzdGF0ZS5nZXQoc3RhdGVOYW1lLCBzdGF0ZUNvbnRleHQoJGVsZW1lbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogc3RhdGUgfHwgeyBuYW1lOiBzdGF0ZU5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBzdGF0ZVBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQ2xhc3M6IGFjdGl2ZUNsYXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVzLnB1c2goc3RhdGVJbmZvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gcmVtb3ZlU3RhdGUoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmUucmVtb3ZlRnJvbShzdGF0ZXMpKHN0YXRlSW5mbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSByb3V0ZSBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGxpdENsYXNzZXMgPSBmdW5jdGlvbiAoc3RyKSB7IHJldHVybiBzdHIuc3BsaXQoL1xccy8pLmZpbHRlcihjb3JlLmlkZW50aXR5KTsgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0Q2xhc3NlcyA9IGZ1bmN0aW9uIChzdGF0ZUxpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlTGlzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5hY3RpdmVDbGFzczsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoc3BsaXRDbGFzc2VzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlZHVjZShjb3JlLnVubmVzdFIsIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbGxDbGFzc2VzID0gZ2V0Q2xhc3NlcyhzdGF0ZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQoc3BsaXRDbGFzc2VzKGFjdGl2ZUVxQ2xhc3MpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVkdWNlKGNvcmUudW5pcVIsIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnV6enlDbGFzc2VzID0gZ2V0Q2xhc3NlcyhzdGF0ZXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiAkc3RhdGUuaW5jbHVkZXMoeC5zdGF0ZS5uYW1lLCB4LnBhcmFtcyk7IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhhY3RseU1hdGNoZXNBbnkgPSAhIXN0YXRlcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuICRzdGF0ZS5pcyh4LnN0YXRlLm5hbWUsIHgucGFyYW1zKTsgfSkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleGFjdENsYXNzZXMgPSBleGFjdGx5TWF0Y2hlc0FueSA/IHNwbGl0Q2xhc3NlcyhhY3RpdmVFcUNsYXNzKSA6IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGRDbGFzc2VzID0gZnV6enlDbGFzc2VzLmNvbmNhdChleGFjdENsYXNzZXMpLnJlZHVjZShjb3JlLnVuaXFSLCBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW92ZUNsYXNzZXMgPSBhbGxDbGFzc2VzLmZpbHRlcihmdW5jdGlvbiAoY2xzKSB7IHJldHVybiAhY29yZS5pbkFycmF5KGFkZENsYXNzZXMsIGNscyk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuICRlbGVtZW50LmFkZENsYXNzKGNsYXNzTmFtZSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkgeyByZXR1cm4gJGVsZW1lbnQucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICBdO1xuICAgIG5nXG4gICAgICAgIC5tb2R1bGUoJ3VpLnJvdXRlci5zdGF0ZScpXG4gICAgICAgIC5kaXJlY3RpdmUoJ3VpU3JlZicsIHVpU3JlZkRpcmVjdGl2ZSlcbiAgICAgICAgLmRpcmVjdGl2ZSgndWlTcmVmQWN0aXZlJywgdWlTcmVmQWN0aXZlRGlyZWN0aXZlKVxuICAgICAgICAuZGlyZWN0aXZlKCd1aVNyZWZBY3RpdmVFcScsIHVpU3JlZkFjdGl2ZURpcmVjdGl2ZSlcbiAgICAgICAgLmRpcmVjdGl2ZSgndWlTdGF0ZScsIHVpU3RhdGVEaXJlY3RpdmUpO1xuXG4gICAgLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSBuZzEgKi8gLyoqICovXG4gICAgLyoqXG4gICAgICogYGlzU3RhdGVgIEZpbHRlcjogdHJ1dGh5IGlmIHRoZSBjdXJyZW50IHN0YXRlIGlzIHRoZSBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIFRyYW5zbGF0ZXMgdG8gW1tTdGF0ZVNlcnZpY2UuaXNdXSBgJHN0YXRlLmlzKFwic3RhdGVOYW1lXCIpYC5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBodG1sXG4gICAgICogPGRpdiBuZy1pZj1cIidzdGF0ZU5hbWUnIHwgaXNTdGF0ZVwiPnNob3cgaWYgc3RhdGUgaXMgJ3N0YXRlTmFtZSc8L2Rpdj5cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICAkSXNTdGF0ZUZpbHRlci4kaW5qZWN0ID0gWyckc3RhdGUnXTtcbiAgICBmdW5jdGlvbiAkSXNTdGF0ZUZpbHRlcigkc3RhdGUpIHtcbiAgICAgICAgdmFyIGlzRmlsdGVyID0gZnVuY3Rpb24gKHN0YXRlLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiAkc3RhdGUuaXMoc3RhdGUsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgICAgIH07XG4gICAgICAgIGlzRmlsdGVyLiRzdGF0ZWZ1bCA9IHRydWU7XG4gICAgICAgIHJldHVybiBpc0ZpbHRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYGluY2x1ZGVkQnlTdGF0ZWAgRmlsdGVyOiB0cnV0aHkgaWYgdGhlIGN1cnJlbnQgc3RhdGUgaW5jbHVkZXMgdGhlIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogVHJhbnNsYXRlcyB0byBbW1N0YXRlU2VydmljZS5pbmNsdWRlc11dYCAkc3RhdGUuaXMoXCJmdWxsT3JQYXJ0aWFsU3RhdGVOYW1lXCIpYC5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBodG1sXG4gICAgICogPGRpdiBuZy1pZj1cIidmdWxsT3JQYXJ0aWFsU3RhdGVOYW1lJyB8IGluY2x1ZGVkQnlTdGF0ZVwiPnNob3cgaWYgc3RhdGUgaW5jbHVkZXMgJ2Z1bGxPclBhcnRpYWxTdGF0ZU5hbWUnPC9kaXY+XG4gICAgICogYGBgXG4gICAgICovXG4gICAgJEluY2x1ZGVkQnlTdGF0ZUZpbHRlci4kaW5qZWN0ID0gWyckc3RhdGUnXTtcbiAgICBmdW5jdGlvbiAkSW5jbHVkZWRCeVN0YXRlRmlsdGVyKCRzdGF0ZSkge1xuICAgICAgICB2YXIgaW5jbHVkZXNGaWx0ZXIgPSBmdW5jdGlvbiAoc3RhdGUsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuICRzdGF0ZS5pbmNsdWRlcyhzdGF0ZSwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5jbHVkZXNGaWx0ZXIuJHN0YXRlZnVsID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGluY2x1ZGVzRmlsdGVyO1xuICAgIH1cbiAgICBuZ1xuICAgICAgICAubW9kdWxlKCd1aS5yb3V0ZXIuc3RhdGUnKVxuICAgICAgICAuZmlsdGVyKCdpc1N0YXRlJywgJElzU3RhdGVGaWx0ZXIpXG4gICAgICAgIC5maWx0ZXIoJ2luY2x1ZGVkQnlTdGF0ZScsICRJbmNsdWRlZEJ5U3RhdGVGaWx0ZXIpO1xuXG4gICAgLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSBkaXJlY3RpdmVzICovIC8qKiAqL1xuICAgIC8qKlxuICAgICAqIGB1aS12aWV3YDogQSB2aWV3cG9ydCBkaXJlY3RpdmUgd2hpY2ggaXMgZmlsbGVkIGluIGJ5IGEgdmlldyBmcm9tIHRoZSBhY3RpdmUgc3RhdGUuXG4gICAgICpcbiAgICAgKiAjIyMgQXR0cmlidXRlc1xuICAgICAqXG4gICAgICogLSBgbmFtZWA6IChPcHRpb25hbCkgQSB2aWV3IG5hbWUuXG4gICAgICogICBUaGUgbmFtZSBzaG91bGQgYmUgdW5pcXVlIGFtb25nc3QgdGhlIG90aGVyIHZpZXdzIGluIHRoZSBzYW1lIHN0YXRlLlxuICAgICAqICAgWW91IGNhbiBoYXZlIHZpZXdzIG9mIHRoZSBzYW1lIG5hbWUgdGhhdCBsaXZlIGluIGRpZmZlcmVudCBzdGF0ZXMuXG4gICAgICogICBUaGUgdWktdmlldyBjYW4gYmUgdGFyZ2V0ZWQgaW4gYSBWaWV3IHVzaW5nIHRoZSBuYW1lIChbW05nMVN0YXRlRGVjbGFyYXRpb24udmlld3NdXSkuXG4gICAgICpcbiAgICAgKiAtIGBhdXRvc2Nyb2xsYDogYW4gZXhwcmVzc2lvbi4gV2hlbiBpdCBldmFsdWF0ZXMgdG8gdHJ1ZSwgdGhlIGB1aS12aWV3YCB3aWxsIGJlIHNjcm9sbGVkIGludG8gdmlldyB3aGVuIGl0IGlzIGFjdGl2YXRlZC5cbiAgICAgKiAgIFVzZXMgW1skdWlWaWV3U2Nyb2xsXV0gdG8gZG8gdGhlIHNjcm9sbGluZy5cbiAgICAgKlxuICAgICAqIC0gYG9ubG9hZGA6IEV4cHJlc3Npb24gdG8gZXZhbHVhdGUgd2hlbmV2ZXIgdGhlIHZpZXcgdXBkYXRlcy5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBBIHZpZXcgY2FuIGJlIHVubmFtZWQgb3IgbmFtZWQuXG4gICAgICogYGBgaHRtbFxuICAgICAqIDwhLS0gVW5uYW1lZCAtLT5cbiAgICAgKiA8ZGl2IHVpLXZpZXc+PC9kaXY+XG4gICAgICpcbiAgICAgKiA8IS0tIE5hbWVkIC0tPlxuICAgICAqIDxkaXYgdWktdmlldz1cInZpZXdOYW1lXCI+PC9kaXY+XG4gICAgICpcbiAgICAgKiA8IS0tIE5hbWVkIChkaWZmZXJlbnQgc3R5bGUpIC0tPlxuICAgICAqIDx1aS12aWV3IG5hbWU9XCJ2aWV3TmFtZVwiPjwvdWktdmlldz5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFlvdSBjYW4gb25seSBoYXZlIG9uZSB1bm5hbWVkIHZpZXcgd2l0aGluIGFueSB0ZW1wbGF0ZSAob3Igcm9vdCBodG1sKS4gSWYgeW91IGFyZSBvbmx5IHVzaW5nIGFcbiAgICAgKiBzaW5nbGUgdmlldyBhbmQgaXQgaXMgdW5uYW1lZCB0aGVuIHlvdSBjYW4gcG9wdWxhdGUgaXQgbGlrZSBzbzpcbiAgICAgKlxuICAgICAqIGBgYGh0bWxcbiAgICAgKiA8ZGl2IHVpLXZpZXc+PC9kaXY+XG4gICAgICogJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJob21lXCIsIHtcbiAgICAgKiAgIHRlbXBsYXRlOiBcIjxoMT5IRUxMTyE8L2gxPlwiXG4gICAgICogfSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoZSBhYm92ZSBpcyBhIGNvbnZlbmllbnQgc2hvcnRjdXQgZXF1aXZhbGVudCB0byBzcGVjaWZ5aW5nIHlvdXIgdmlldyBleHBsaWNpdGx5IHdpdGggdGhlXG4gICAgICogW1tOZzFTdGF0ZURlY2xhcmF0aW9uLnZpZXdzXV0gY29uZmlnIHByb3BlcnR5LCBieSBuYW1lLCBpbiB0aGlzIGNhc2UgYW4gZW1wdHkgbmFtZTpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJob21lXCIsIHtcbiAgICAgKiAgIHZpZXdzOiB7XG4gICAgICogICAgIFwiXCI6IHtcbiAgICAgKiAgICAgICB0ZW1wbGF0ZTogXCI8aDE+SEVMTE8hPC9oMT5cIlxuICAgICAqICAgICB9XG4gICAgICogICB9XG4gICAgICogfSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEJ1dCB0eXBpY2FsbHkgeW91J2xsIG9ubHkgdXNlIHRoZSB2aWV3cyBwcm9wZXJ0eSBpZiB5b3UgbmFtZSB5b3VyIHZpZXcgb3IgaGF2ZSBtb3JlIHRoYW4gb25lIHZpZXdcbiAgICAgKiBpbiB0aGUgc2FtZSB0ZW1wbGF0ZS4gVGhlcmUncyBub3QgcmVhbGx5IGEgY29tcGVsbGluZyByZWFzb24gdG8gbmFtZSBhIHZpZXcgaWYgaXRzIHRoZSBvbmx5IG9uZSxcbiAgICAgKiBidXQgeW91IGNvdWxkIGlmIHlvdSB3YW50ZWQsIGxpa2Ugc286XG4gICAgICpcbiAgICAgKiBgYGBodG1sXG4gICAgICogPGRpdiB1aS12aWV3PVwibWFpblwiPjwvZGl2PlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAkc3RhdGVQcm92aWRlci5zdGF0ZShcImhvbWVcIiwge1xuICAgICAqICAgdmlld3M6IHtcbiAgICAgKiAgICAgXCJtYWluXCI6IHtcbiAgICAgKiAgICAgICB0ZW1wbGF0ZTogXCI8aDE+SEVMTE8hPC9oMT5cIlxuICAgICAqICAgICB9XG4gICAgICogICB9XG4gICAgICogfSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFJlYWxseSB0aG91Z2gsIHlvdSdsbCB1c2Ugdmlld3MgdG8gc2V0IHVwIG11bHRpcGxlIHZpZXdzOlxuICAgICAqXG4gICAgICogYGBgaHRtbFxuICAgICAqIDxkaXYgdWktdmlldz48L2Rpdj5cbiAgICAgKiA8ZGl2IHVpLXZpZXc9XCJjaGFydFwiPjwvZGl2PlxuICAgICAqIDxkaXYgdWktdmlldz1cImRhdGFcIj48L2Rpdj5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogJHN0YXRlUHJvdmlkZXIuc3RhdGUoXCJob21lXCIsIHtcbiAgICAgKiAgIHZpZXdzOiB7XG4gICAgICogICAgIFwiXCI6IHtcbiAgICAgKiAgICAgICB0ZW1wbGF0ZTogXCI8aDE+SEVMTE8hPC9oMT5cIlxuICAgICAqICAgICB9LFxuICAgICAqICAgICBcImNoYXJ0XCI6IHtcbiAgICAgKiAgICAgICB0ZW1wbGF0ZTogXCI8Y2hhcnRfdGhpbmcvPlwiXG4gICAgICogICAgIH0sXG4gICAgICogICAgIFwiZGF0YVwiOiB7XG4gICAgICogICAgICAgdGVtcGxhdGU6IFwiPGRhdGFfdGhpbmcvPlwiXG4gICAgICogICAgIH1cbiAgICAgKiAgIH1cbiAgICAgKiB9KVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlcyBmb3IgYGF1dG9zY3JvbGxgOlxuICAgICAqIGBgYGh0bWxcbiAgICAgKiA8IS0tIElmIGF1dG9zY3JvbGwgcHJlc2VudCB3aXRoIG5vIGV4cHJlc3Npb24sXG4gICAgICogICAgICB0aGVuIHNjcm9sbCB1aS12aWV3IGludG8gdmlldyAtLT5cbiAgICAgKiA8dWktdmlldyBhdXRvc2Nyb2xsLz5cbiAgICAgKlxuICAgICAqIDwhLS0gSWYgYXV0b3Njcm9sbCBwcmVzZW50IHdpdGggdmFsaWQgZXhwcmVzc2lvbixcbiAgICAgKiAgICAgIHRoZW4gc2Nyb2xsIHVpLXZpZXcgaW50byB2aWV3IGlmIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUgLS0+XG4gICAgICogPHVpLXZpZXcgYXV0b3Njcm9sbD0ndHJ1ZScvPlxuICAgICAqIDx1aS12aWV3IGF1dG9zY3JvbGw9J2ZhbHNlJy8+XG4gICAgICogPHVpLXZpZXcgYXV0b3Njcm9sbD0nc2NvcGVWYXJpYWJsZScvPlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogUmVzb2x2ZSBkYXRhOlxuICAgICAqXG4gICAgICogVGhlIHJlc29sdmVkIGRhdGEgZnJvbSB0aGUgc3RhdGUncyBgcmVzb2x2ZWAgYmxvY2sgaXMgcGxhY2VkIG9uIHRoZSBzY29wZSBhcyBgJHJlc29sdmVgICh0aGlzXG4gICAgICogY2FuIGJlIGN1c3RvbWl6ZWQgdXNpbmcgW1tOZzFWaWV3RGVjbGFyYXRpb24ucmVzb2x2ZUFzXV0pLiAgVGhpcyBjYW4gYmUgdGhlbiBhY2Nlc3NlZCBmcm9tIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB3aGVuIGBjb250cm9sbGVyQXNgIGlzIGJlaW5nIHVzZWQsIGAkcmVzb2x2ZWAgaXMgc2V0IG9uIHRoZSBjb250cm9sbGVyIGluc3RhbmNlICphZnRlciogdGhlXG4gICAgICogY29udHJvbGxlciBpcyBpbnN0YW50aWF0ZWQuICBUaGUgYCRvbkluaXQoKWAgaG9vayBjYW4gYmUgdXNlZCB0byBwZXJmb3JtIGluaXRpYWxpemF0aW9uIGNvZGUgd2hpY2hcbiAgICAgKiBkZXBlbmRzIG9uIGAkcmVzb2x2ZWAgZGF0YS5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdob21lJywge1xuICAgICAqICAgdGVtcGxhdGU6ICc8bXktY29tcG9uZW50IHVzZXI9XCIkcmVzb2x2ZS51c2VyXCI+PC9teS1jb21wb25lbnQ+JyxcbiAgICAgKiAgIHJlc29sdmU6IHtcbiAgICAgKiAgICAgdXNlcjogZnVuY3Rpb24oVXNlclNlcnZpY2UpIHsgcmV0dXJuIFVzZXJTZXJ2aWNlLmZldGNoVXNlcigpOyB9XG4gICAgICogICB9XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgdmFyIHVpVmlldztcbiAgICB1aVZpZXcgPSBbXG4gICAgICAgICckdmlldycsXG4gICAgICAgICckYW5pbWF0ZScsXG4gICAgICAgICckdWlWaWV3U2Nyb2xsJyxcbiAgICAgICAgJyRpbnRlcnBvbGF0ZScsXG4gICAgICAgICckcScsXG4gICAgICAgIGZ1bmN0aW9uICRWaWV3RGlyZWN0aXZlKCR2aWV3LCAkYW5pbWF0ZSwgJHVpVmlld1Njcm9sbCwgJGludGVycG9sYXRlLCAkcSkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0UmVuZGVyZXIoYXR0cnMsIHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZW50ZXI6IGZ1bmN0aW9uIChlbGVtZW50LCB0YXJnZXQsIGNiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmcudmVyc2lvbi5taW5vciA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihlbGVtZW50LCBudWxsLCB0YXJnZXQpLnRoZW4oY2IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoZWxlbWVudCwgbnVsbCwgdGFyZ2V0LCBjYik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGxlYXZlOiBmdW5jdGlvbiAoZWxlbWVudCwgY2IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZy52ZXJzaW9uLm1pbm9yID4gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKGVsZW1lbnQpLnRoZW4oY2IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUoZWxlbWVudCwgY2IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBjb25maWdzRXF1YWwoY29uZmlnMSwgY29uZmlnMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25maWcxID09PSBjb25maWcyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJvb3REYXRhID0ge1xuICAgICAgICAgICAgICAgICRjZmc6IHsgdmlld0RlY2w6IHsgJGNvbnRleHQ6ICR2aWV3Ll9wbHVnaW5hcGkuX3Jvb3RWaWV3Q29udGV4dCgpIH0gfSxcbiAgICAgICAgICAgICAgICAkdWlWaWV3OiB7fSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgICAgICAgIHJlc3RyaWN0OiAnRUNBJyxcbiAgICAgICAgICAgICAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogNDAwLFxuICAgICAgICAgICAgICAgIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcbiAgICAgICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW1lbnQsIHRBdHRycywgJHRyYW5zY2x1ZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgJGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb25sb2FkRXhwID0gYXR0cnNbJ29ubG9hZCddIHx8ICcnLCBhdXRvU2Nyb2xsRXhwID0gYXR0cnNbJ2F1dG9zY3JvbGwnXSwgcmVuZGVyZXIgPSBnZXRSZW5kZXJlcihhdHRycywgc2NvcGUpLCBpbmhlcml0ZWQgPSAkZWxlbWVudC5pbmhlcml0ZWREYXRhKCckdWlWaWV3JykgfHwgcm9vdERhdGEsIG5hbWUgPSAkaW50ZXJwb2xhdGUoYXR0cnNbJ3VpVmlldyddIHx8IGF0dHJzWyduYW1lJ10gfHwgJycpKHNjb3BlKSB8fCAnJGRlZmF1bHQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzRWwsIGN1cnJlbnRFbCwgY3VycmVudFNjb3BlLCB2aWV3Q29uZmlnLCB1bnJlZ2lzdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZVVJVmlldyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdHlwZTogJ25nMScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGRpcmVjdGl2ZS5jb3VudCsrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnFuOiBpbmhlcml0ZWQuJHVpVmlldy5mcW4gPyBpbmhlcml0ZWQuJHVpVmlldy5mcW4gKyAnLicgKyBuYW1lIDogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWc6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnVXBkYXRlZDogY29uZmlnVXBkYXRlZENhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldCBjcmVhdGlvbkNvbnRleHQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjb250ZXh0IGluIHdoaWNoIHRoaXMgdWktdmlldyBcInRhZ1wiIHdhcyBjcmVhdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcm9tUGFyZW50VGFnQ29uZmlnID0gY29yZS5wYXJzZSgnJGNmZy52aWV3RGVjbC4kY29udGV4dCcpKGluaGVyaXRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsbG93IDx1aS12aWV3IG5hbWU9XCJmb29cIj48dWktdmlldyBuYW1lPVwiYmFyXCI+PC91aS12aWV3PjwvdWktdmlldz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXVpL3VpLXJvdXRlci9pc3N1ZXMvMzM1NVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJvbVBhcmVudFRhZyA9IGNvcmUucGFyc2UoJyR1aVZpZXcuY3JlYXRpb25Db250ZXh0JykoaW5oZXJpdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb21QYXJlbnRUYWdDb25maWcgfHwgZnJvbVBhcmVudFRhZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcmUudHJhY2UudHJhY2VVSVZpZXdFdmVudCgnTGlua2luZycsIGFjdGl2ZVVJVmlldyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBjb25maWdVcGRhdGVkQ2FsbGJhY2soY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZyAmJiAhKGNvbmZpZyBpbnN0YW5jZW9mIE5nMVZpZXdDb25maWcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZ3NFcXVhbCh2aWV3Q29uZmlnLCBjb25maWcpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZS50cmFjZS50cmFjZVVJVmlld0NvbmZpZ1VwZGF0ZWQoYWN0aXZlVUlWaWV3LCBjb25maWcgJiYgY29uZmlnLnZpZXdEZWNsICYmIGNvbmZpZy52aWV3RGVjbC4kY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld0NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVWaWV3KGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5kYXRhKCckdWlWaWV3JywgeyAkdWlWaWV3OiBhY3RpdmVVSVZpZXcgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVWaWV3KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyID0gJHZpZXcucmVnaXN0ZXJVSVZpZXcoYWN0aXZlVUlWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZS50cmFjZS50cmFjZVVJVmlld0V2ZW50KCdEZXN0cm95aW5nL1VucmVnaXN0ZXJpbmcnLCBhY3RpdmVVSVZpZXcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVucmVnaXN0ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gY2xlYW51cExhc3RWaWV3KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0VsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmUudHJhY2UudHJhY2VVSVZpZXdFdmVudCgnUmVtb3ZpbmcgKHByZXZpb3VzKSBlbCcsIHByZXZpb3VzRWwuZGF0YSgnJHVpVmlldycpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNFbC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNFbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZS50cmFjZS50cmFjZVVJVmlld0V2ZW50KCdEZXN0cm95aW5nIHNjb3BlJywgYWN0aXZlVUlWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF92aWV3RGF0YV8xID0gY3VycmVudEVsLmRhdGEoJyR1aVZpZXdBbmltJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmUudHJhY2UudHJhY2VVSVZpZXdFdmVudCgnQW5pbWF0ZSBvdXQnLCBfdmlld0RhdGFfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLmxlYXZlKGN1cnJlbnRFbCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZpZXdEYXRhXzEuJCRhbmltTGVhdmUucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNFbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0VsID0gY3VycmVudEVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWwgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVZpZXcoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1Njb3BlID0gc2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbmltRW50ZXIgPSAkcS5kZWZlcigpLCBhbmltTGVhdmUgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkdWlWaWV3RGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNmZzogY29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWlWaWV3OiBhY3RpdmVVSVZpZXcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJHVpVmlld0FuaW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRhbmltRW50ZXI6IGFuaW1FbnRlci5wcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYW5pbUxlYXZlOiBhbmltTGVhdmUucHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCRhbmltTGVhdmU6IGFuaW1MZWF2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBuZ2RvYyBldmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBuYW1lIHVpLnJvdXRlci5zdGF0ZS5kaXJlY3RpdmU6dWktdmlldyMkdmlld0NvbnRlbnRMb2FkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGV2ZW50T2YgdWkucm91dGVyLnN0YXRlLmRpcmVjdGl2ZTp1aS12aWV3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQGV2ZW50VHlwZSBlbWl0cyBvbiB1aS12aWV3IGRpcmVjdGl2ZSBzY29wZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogRmlyZWQgb25jZSB0aGUgdmlldyAqKmJlZ2lucyBsb2FkaW5nKiosICpiZWZvcmUqIHRoZSBET00gaXMgcmVuZGVyZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgRXZlbnQgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2aWV3TmFtZSBOYW1lIG9mIHRoZSB2aWV3LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Njb3BlLiRlbWl0KCckdmlld0NvbnRlbnRMb2FkaW5nJywgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsb25lZCA9ICR0cmFuc2NsdWRlKG5ld1Njb3BlLCBmdW5jdGlvbiAoY2xvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUuZGF0YSgnJHVpVmlld0FuaW0nLCAkdWlWaWV3QW5pbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lLmRhdGEoJyR1aVZpZXcnLCAkdWlWaWV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLmVudGVyKGNsb25lLCAkZWxlbWVudCwgZnVuY3Rpb24gb25VSVZpZXdFbnRlcigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1FbnRlci5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFNjb3BlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJHZpZXdDb250ZW50QW5pbWF0aW9uRW5kZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoY29yZS5pc0RlZmluZWQoYXV0b1Njcm9sbEV4cCkgJiYgIWF1dG9TY3JvbGxFeHApIHx8IHNjb3BlLiRldmFsKGF1dG9TY3JvbGxFeHApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpVmlld1Njcm9sbChjbG9uZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbnVwTGFzdFZpZXcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWwgPSBjbG9uZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbmV3U2NvcGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG5nZG9jIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogQG5hbWUgdWkucm91dGVyLnN0YXRlLmRpcmVjdGl2ZTp1aS12aWV3IyR2aWV3Q29udGVudExvYWRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBldmVudE9mIHVpLnJvdXRlci5zdGF0ZS5kaXJlY3RpdmU6dWktdmlld1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBldmVudFR5cGUgZW1pdHMgb24gdWktdmlldyBkaXJlY3RpdmUgc2NvcGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAZGVzY3JpcHRpb24gICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBGaXJlZCBvbmNlIHRoZSB2aWV3IGlzICoqbG9hZGVkKiosICphZnRlciogdGhlIERPTSBpcyByZW5kZXJlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCBFdmVudCBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjb3BlLiRlbWl0KCckdmlld0NvbnRlbnRMb2FkZWQnLCBjb25maWcgfHwgdmlld0NvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjb3BlLiRldmFsKG9ubG9hZEV4cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuICAgICAgICB9LFxuICAgIF07XG4gICAgJFZpZXdEaXJlY3RpdmVGaWxsLiRpbmplY3QgPSBbJyRjb21waWxlJywgJyRjb250cm9sbGVyJywgJyR0cmFuc2l0aW9ucycsICckdmlldycsICckcScsICckdGltZW91dCddO1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgZnVuY3Rpb24gJFZpZXdEaXJlY3RpdmVGaWxsKCRjb21waWxlLCAkY29udHJvbGxlciwgJHRyYW5zaXRpb25zLCAkdmlldywgJHEsICR0aW1lb3V0KSB7XG4gICAgICAgIHZhciBnZXRDb250cm9sbGVyQXMgPSBjb3JlLnBhcnNlKCd2aWV3RGVjbC5jb250cm9sbGVyQXMnKTtcbiAgICAgICAgdmFyIGdldFJlc29sdmVBcyA9IGNvcmUucGFyc2UoJ3ZpZXdEZWNsLnJlc29sdmVBcycpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQ0EnLFxuICAgICAgICAgICAgcHJpb3JpdHk6IC00MDAsXG4gICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5pdGlhbCA9IHRFbGVtZW50Lmh0bWwoKTtcbiAgICAgICAgICAgICAgICB0RWxlbWVudC5lbXB0eSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsICRlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gJGVsZW1lbnQuZGF0YSgnJHVpVmlldycpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRlbGVtZW50Lmh0bWwoaW5pdGlhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkY29tcGlsZSgkZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNmZyA9IGRhdGEuJGNmZyB8fCB7IHZpZXdEZWNsOiB7fSwgZ2V0VGVtcGxhdGU6IGNvcmUubm9vcCB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzb2x2ZUN0eCA9IGNmZy5wYXRoICYmIG5ldyBjb3JlLlJlc29sdmVDb250ZXh0KGNmZy5wYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuaHRtbChjZmcuZ2V0VGVtcGxhdGUoJGVsZW1lbnQsIHJlc29sdmVDdHgpIHx8IGluaXRpYWwpO1xuICAgICAgICAgICAgICAgICAgICBjb3JlLnRyYWNlLnRyYWNlVUlWaWV3RmlsbChkYXRhLiR1aVZpZXcsICRlbGVtZW50Lmh0bWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsaW5rID0gJGNvbXBpbGUoJGVsZW1lbnQuY29udGVudHMoKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250cm9sbGVyID0gY2ZnLmNvbnRyb2xsZXI7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250cm9sbGVyQXMgPSBnZXRDb250cm9sbGVyQXMoY2ZnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc29sdmVBcyA9IGdldFJlc29sdmVBcyhjZmcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYWxzID0gcmVzb2x2ZUN0eCAmJiBnZXRMb2NhbHMocmVzb2x2ZUN0eCk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlW3Jlc29sdmVBc10gPSBsb2NhbHM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udHJvbGxlckluc3RhbmNlID0gKCRjb250cm9sbGVyKGNvbnRyb2xsZXIsIGNvcmUuZXh0ZW5kKHt9LCBsb2NhbHMsIHsgJHNjb3BlOiBzY29wZSwgJGVsZW1lbnQ6ICRlbGVtZW50IH0pKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbGxlckFzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVbY29udHJvbGxlckFzXSA9IGNvbnRyb2xsZXJJbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZVtjb250cm9sbGVyQXNdW3Jlc29sdmVBc10gPSBsb2NhbHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBVc2UgJHZpZXcgc2VydmljZSBhcyBhIGNlbnRyYWwgcG9pbnQgZm9yIHJlZ2lzdGVyaW5nIGNvbXBvbmVudC1sZXZlbCBob29rc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlbiwgd2hlbiBhIGNvbXBvbmVudCBpcyBjcmVhdGVkLCB0ZWxsIHRoZSAkdmlldyBzZXJ2aWNlLCBzbyBpdCBjYW4gaW52b2tlIGhvb2tzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkdmlldy5jb21wb25lbnRMb2FkZWQoY29udHJvbGxlckluc3RhbmNlLCB7ICRzY29wZTogc2NvcGUsICRlbGVtZW50OiAkZWxlbWVudCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNjb3BlLiRvbignJGRlc3Ryb3knLCAoKSA9PiAkdmlldy5jb21wb25lbnRVbmxvYWRlZChjb250cm9sbGVySW5zdGFuY2UsIHsgJHNjb3BlOiBzY29wZSwgJGVsZW1lbnQ6ICRlbGVtZW50IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRlbGVtZW50LmRhdGEoJyRuZ0NvbnRyb2xsZXJDb250cm9sbGVyJywgY29udHJvbGxlckluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRlbGVtZW50LmNoaWxkcmVuKCkuZGF0YSgnJG5nQ29udHJvbGxlckNvbnRyb2xsZXInLCBjb250cm9sbGVySW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJDb250cm9sbGVyQ2FsbGJhY2tzKCRxLCAkdHJhbnNpdGlvbnMsIGNvbnRyb2xsZXJJbnN0YW5jZSwgc2NvcGUsIGNmZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIGNvbXBvbmVudCB0byBhcHBlYXIgaW4gdGhlIERPTVxuICAgICAgICAgICAgICAgICAgICBpZiAoY29yZS5pc1N0cmluZyhjZmcuY29tcG9uZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtlYm9iTmFtZSA9IGNvcmUua2Vib2JTdHJpbmcoY2ZnLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnUmVnZXhwXzEgPSBuZXcgUmVnRXhwKFwiXih4LXxkYXRhLSk/XCIgKyBrZWJvYk5hbWUgKyBcIiRcIiwgJ2knKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBnZXRDb21wb25lbnRDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3RpdmVFbCA9IFtdLnNsaWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYWxsKCRlbGVtZW50WzBdLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwgJiYgZWwudGFnTmFtZSAmJiB0YWdSZWdleHBfMS5leGVjKGVsLnRhZ05hbWUpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlRWwgJiYgbmcuZWxlbWVudChkaXJlY3RpdmVFbCkuZGF0YShcIiRcIiArIGNmZy5jb21wb25lbnQgKyBcIkNvbnRyb2xsZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlcmVnaXN0ZXJXYXRjaF8xID0gc2NvcGUuJHdhdGNoKGdldENvbXBvbmVudENvbnRyb2xsZXIsIGZ1bmN0aW9uIChjdHJsSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN0cmxJbnN0YW5jZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyQ29udHJvbGxlckNhbGxiYWNrcygkcSwgJHRyYW5zaXRpb25zLCBjdHJsSW5zdGFuY2UsIHNjb3BlLCBjZmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcmVnaXN0ZXJXYXRjaF8xKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsaW5rKHNjb3BlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICB2YXIgaGFzQ29tcG9uZW50SW1wbCA9IHR5cGVvZiBuZy5tb2R1bGUoJ3VpLnJvdXRlcicpWydjb21wb25lbnQnXSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAvKiogQGhpZGRlbiBpbmNyZW1lbnRpbmcgaWQgKi9cbiAgICB2YXIgX3VpQ2FuRXhpdElkID0gMDtcbiAgICAvKiogQGhpZGRlbiBUT0RPOiBtb3ZlIHRoZXNlIGNhbGxiYWNrcyB0byAkdmlldyBhbmQvb3IgYC9ob29rcy9jb21wb25lbnRzLnRzYCBvciBzb21ldGhpbmcgKi9cbiAgICBmdW5jdGlvbiByZWdpc3RlckNvbnRyb2xsZXJDYWxsYmFja3MoJHEsICR0cmFuc2l0aW9ucywgY29udHJvbGxlckluc3RhbmNlLCAkc2NvcGUsIGNmZykge1xuICAgICAgICAvLyBDYWxsICRvbkluaXQoKSBBU0FQXG4gICAgICAgIGlmIChjb3JlLmlzRnVuY3Rpb24oY29udHJvbGxlckluc3RhbmNlLiRvbkluaXQpICYmICEoY2ZnLnZpZXdEZWNsLmNvbXBvbmVudCAmJiBoYXNDb21wb25lbnRJbXBsKSkge1xuICAgICAgICAgICAgY29udHJvbGxlckluc3RhbmNlLiRvbkluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlld1N0YXRlID0gY29yZS50YWlsKGNmZy5wYXRoKS5zdGF0ZS5zZWxmO1xuICAgICAgICB2YXIgaG9va09wdGlvbnMgPSB7IGJpbmQ6IGNvbnRyb2xsZXJJbnN0YW5jZSB9O1xuICAgICAgICAvLyBBZGQgY29tcG9uZW50LWxldmVsIGhvb2sgZm9yIG9uVWlQYXJhbXNDaGFuZ2VkXG4gICAgICAgIGlmIChjb3JlLmlzRnVuY3Rpb24oY29udHJvbGxlckluc3RhbmNlLnVpT25QYXJhbXNDaGFuZ2VkKSkge1xuICAgICAgICAgICAgdmFyIHJlc29sdmVDb250ZXh0ID0gbmV3IGNvcmUuUmVzb2x2ZUNvbnRleHQoY2ZnLnBhdGgpO1xuICAgICAgICAgICAgdmFyIHZpZXdDcmVhdGlvblRyYW5zXzEgPSByZXNvbHZlQ29udGV4dC5nZXRSZXNvbHZhYmxlKCckdHJhbnNpdGlvbiQnKS5kYXRhO1xuICAgICAgICAgICAgLy8gRmlyZSBjYWxsYmFjayBvbiBhbnkgc3VjY2Vzc2Z1bCB0cmFuc2l0aW9uXG4gICAgICAgICAgICB2YXIgcGFyYW1zVXBkYXRlZCA9IGZ1bmN0aW9uICgkdHJhbnNpdGlvbiQpIHtcbiAgICAgICAgICAgICAgICAvLyBFeGl0IGVhcmx5IGlmIHRoZSAkdHJhbnNpdGlvbiQgaXMgdGhlIHNhbWUgYXMgdGhlIHZpZXcgd2FzIGNyZWF0ZWQgd2l0aGluLlxuICAgICAgICAgICAgICAgIC8vIEV4aXQgZWFybHkgaWYgdGhlICR0cmFuc2l0aW9uJCB3aWxsIGV4aXQgdGhlIHN0YXRlIHRoZSB2aWV3IGlzIGZvci5cbiAgICAgICAgICAgICAgICBpZiAoJHRyYW5zaXRpb24kID09PSB2aWV3Q3JlYXRpb25UcmFuc18xIHx8ICR0cmFuc2l0aW9uJC5leGl0aW5nKCkuaW5kZXhPZih2aWV3U3RhdGUpICE9PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHZhciB0b1BhcmFtcyA9ICR0cmFuc2l0aW9uJC5wYXJhbXMoJ3RvJyk7XG4gICAgICAgICAgICAgICAgdmFyIGZyb21QYXJhbXMgPSAkdHJhbnNpdGlvbiQucGFyYW1zKCdmcm9tJyk7XG4gICAgICAgICAgICAgICAgdmFyIGdldE5vZGVTY2hlbWEgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5wYXJhbVNjaGVtYTsgfTtcbiAgICAgICAgICAgICAgICB2YXIgdG9TY2hlbWEgPSAkdHJhbnNpdGlvbiRcbiAgICAgICAgICAgICAgICAgICAgLnRyZWVDaGFuZ2VzKCd0bycpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZ2V0Tm9kZVNjaGVtYSlcbiAgICAgICAgICAgICAgICAgICAgLnJlZHVjZShjb3JlLnVubmVzdFIsIFtdKTtcbiAgICAgICAgICAgICAgICB2YXIgZnJvbVNjaGVtYSA9ICR0cmFuc2l0aW9uJFxuICAgICAgICAgICAgICAgICAgICAudHJlZUNoYW5nZXMoJ2Zyb20nKVxuICAgICAgICAgICAgICAgICAgICAubWFwKGdldE5vZGVTY2hlbWEpXG4gICAgICAgICAgICAgICAgICAgIC5yZWR1Y2UoY29yZS51bm5lc3RSLCBbXSk7XG4gICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgdG8gcGFyYW1zIHRoYXQgaGF2ZSBkaWZmZXJlbnQgdmFsdWVzIHRoYW4gdGhlIGZyb20gcGFyYW1zXG4gICAgICAgICAgICAgICAgdmFyIGNoYW5nZWRUb1BhcmFtcyA9IHRvU2NoZW1hLmZpbHRlcihmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IGZyb21TY2hlbWEuaW5kZXhPZihwYXJhbSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpZHggPT09IC0xIHx8ICFmcm9tU2NoZW1hW2lkeF0udHlwZS5lcXVhbHModG9QYXJhbXNbcGFyYW0uaWRdLCBmcm9tUGFyYW1zW3BhcmFtLmlkXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gT25seSB0cmlnZ2VyIGNhbGxiYWNrIGlmIGEgdG8gcGFyYW0gaGFzIGNoYW5nZWQgb3IgaXMgbmV3XG4gICAgICAgICAgICAgICAgaWYgKGNoYW5nZWRUb1BhcmFtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYW5nZWRLZXlzXzEgPSBjaGFuZ2VkVG9QYXJhbXMubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmlsdGVyIHRoZSBwYXJhbXMgdG8gb25seSBjaGFuZ2VkL25ldyB0byBwYXJhbXMuICBgJHRyYW5zaXRpb24kLnBhcmFtcygpYCBtYXkgYmUgdXNlZCB0byBnZXQgYWxsIHBhcmFtcy5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1ZhbHVlcyA9IGNvcmUuZmlsdGVyKHRvUGFyYW1zLCBmdW5jdGlvbiAodmFsLCBrZXkpIHsgcmV0dXJuIGNoYW5nZWRLZXlzXzEuaW5kZXhPZihrZXkpICE9PSAtMTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJJbnN0YW5jZS51aU9uUGFyYW1zQ2hhbmdlZChuZXdWYWx1ZXMsICR0cmFuc2l0aW9uJCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgJHRyYW5zaXRpb25zLm9uU3VjY2Vzcyh7fSwgcGFyYW1zVXBkYXRlZCwgaG9va09wdGlvbnMpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgY29tcG9uZW50LWxldmVsIGhvb2sgZm9yIHVpQ2FuRXhpdFxuICAgICAgICBpZiAoY29yZS5pc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS51aUNhbkV4aXQpKSB7XG4gICAgICAgICAgICB2YXIgaWRfMSA9IF91aUNhbkV4aXRJZCsrO1xuICAgICAgICAgICAgdmFyIGNhY2hlUHJvcF8xID0gJ191aUNhbkV4aXRJZHMnO1xuICAgICAgICAgICAgLy8gUmV0dXJucyB0cnVlIGlmIGEgcmVkaXJlY3QgdHJhbnNpdGlvbiBhbHJlYWR5IGFuc3dlcmVkIHRydXRoeVxuICAgICAgICAgICAgdmFyIHByZXZUcnV0aHlBbnN3ZXJfMSA9IGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHJldHVybiAhIXRyYW5zICYmICgodHJhbnNbY2FjaGVQcm9wXzFdICYmIHRyYW5zW2NhY2hlUHJvcF8xXVtpZF8xXSA9PT0gdHJ1ZSkgfHwgcHJldlRydXRoeUFuc3dlcl8xKHRyYW5zLnJlZGlyZWN0ZWRGcm9tKCkpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBJZiBhIHVzZXIgYW5zd2VyZWQgeWVzLCBidXQgdGhlIHRyYW5zaXRpb24gd2FzIGxhdGVyIHJlZGlyZWN0ZWQsIGRvbid0IGFsc28gYXNrIGZvciB0aGUgbmV3IHJlZGlyZWN0IHRyYW5zaXRpb25cbiAgICAgICAgICAgIHZhciB3cmFwcGVkSG9vayA9IGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICAgICAgICAgIHZhciBwcm9taXNlO1xuICAgICAgICAgICAgICAgIHZhciBpZHMgPSAodHJhbnNbY2FjaGVQcm9wXzFdID0gdHJhbnNbY2FjaGVQcm9wXzFdIHx8IHt9KTtcbiAgICAgICAgICAgICAgICBpZiAoIXByZXZUcnV0aHlBbnN3ZXJfMSh0cmFucykpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZSA9ICRxLndoZW4oY29udHJvbGxlckluc3RhbmNlLnVpQ2FuRXhpdCh0cmFucykpO1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gKGlkc1tpZF8xXSA9IHZhbCAhPT0gZmFsc2UpOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGNyaXRlcmlhID0geyBleGl0aW5nOiB2aWV3U3RhdGUubmFtZSB9O1xuICAgICAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCAkdHJhbnNpdGlvbnMub25CZWZvcmUoY3JpdGVyaWEsIHdyYXBwZWRIb29rLCBob29rT3B0aW9ucykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nLm1vZHVsZSgndWkucm91dGVyLnN0YXRlJykuZGlyZWN0aXZlKCd1aVZpZXcnLCB1aVZpZXcpO1xuICAgIG5nLm1vZHVsZSgndWkucm91dGVyLnN0YXRlJykuZGlyZWN0aXZlKCd1aVZpZXcnLCAkVmlld0RpcmVjdGl2ZUZpbGwpO1xuXG4gICAgLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSBuZzEgKi8gLyoqICovXG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBmdW5jdGlvbiAkVmlld1Njcm9sbFByb3ZpZGVyKCkge1xuICAgICAgICB2YXIgdXNlQW5jaG9yU2Nyb2xsID0gZmFsc2U7XG4gICAgICAgIHRoaXMudXNlQW5jaG9yU2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdXNlQW5jaG9yU2Nyb2xsID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy4kZ2V0ID0gW1xuICAgICAgICAgICAgJyRhbmNob3JTY3JvbGwnLFxuICAgICAgICAgICAgJyR0aW1lb3V0JyxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgkYW5jaG9yU2Nyb2xsLCAkdGltZW91dCkge1xuICAgICAgICAgICAgICAgIGlmICh1c2VBbmNob3JTY3JvbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRhbmNob3JTY3JvbGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoJGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRlbGVtZW50WzBdLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgbmcubW9kdWxlKCd1aS5yb3V0ZXIuc3RhdGUnKS5wcm92aWRlcignJHVpVmlld1Njcm9sbCcsICRWaWV3U2Nyb2xsUHJvdmlkZXIpO1xuXG4gICAgdmFyIGluZGV4ID0gJ3VpLnJvdXRlcic7XG5cbiAgICBPYmplY3Qua2V5cyhjb3JlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgZXhwb3J0c1trZXldID0gY29yZVtrZXldOyB9KTtcbiAgICBleHBvcnRzLmNvcmUgPSBjb3JlO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGluZGV4O1xuICAgIGV4cG9ydHMud2F0Y2hEaWdlc3RzID0gd2F0Y2hEaWdlc3RzO1xuICAgIGV4cG9ydHMuZ2V0TG9jYWxzID0gZ2V0TG9jYWxzO1xuICAgIGV4cG9ydHMuZ2V0TmcxVmlld0NvbmZpZ0ZhY3RvcnkgPSBnZXROZzFWaWV3Q29uZmlnRmFjdG9yeTtcbiAgICBleHBvcnRzLm5nMVZpZXdzQnVpbGRlciA9IG5nMVZpZXdzQnVpbGRlcjtcbiAgICBleHBvcnRzLk5nMVZpZXdDb25maWcgPSBOZzFWaWV3Q29uZmlnO1xuICAgIGV4cG9ydHMuU3RhdGVQcm92aWRlciA9IFN0YXRlUHJvdmlkZXI7XG4gICAgZXhwb3J0cy5VcmxSb3V0ZXJQcm92aWRlciA9IFVybFJvdXRlclByb3ZpZGVyO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxufSkpO1xuXG5cbn0se1wiQHVpcm91dGVyL2NvcmVcIjoyMyxcImFuZ3VsYXJcIjo4N31dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIFJhbmRvbSB1dGlsaXR5IGZ1bmN0aW9ucyB1c2VkIGluIHRoZSBVSS1Sb3V0ZXIgY29kZVxuICpcbiAqIFRoZXNlIGZ1bmN0aW9ucyBhcmUgZXhwb3J0ZWQsIGJ1dCBhcmUgc3ViamVjdCB0byBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gKlxuICogQHByZWZlcnJlZCBAcHVibGljYXBpIEBtb2R1bGUgY29tbW9uXG4gKi8gLyoqICovXG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4vcHJlZGljYXRlc1wiKTtcbnZhciBob2ZfMSA9IHJlcXVpcmUoXCIuL2hvZlwiKTtcbnZhciBjb3Jlc2VydmljZXNfMSA9IHJlcXVpcmUoXCIuL2NvcmVzZXJ2aWNlc1wiKTtcbmV4cG9ydHMucm9vdCA9ICh0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcgJiYgc2VsZi5zZWxmID09PSBzZWxmICYmIHNlbGYpIHx8XG4gICAgKHR5cGVvZiBnbG9iYWwgPT09ICdvYmplY3QnICYmIGdsb2JhbC5nbG9iYWwgPT09IGdsb2JhbCAmJiBnbG9iYWwpIHx8XG4gICAgdGhpcztcbnZhciBhbmd1bGFyID0gZXhwb3J0cy5yb290LmFuZ3VsYXIgfHwge307XG5leHBvcnRzLmZyb21Kc29uID0gYW5ndWxhci5mcm9tSnNvbiB8fCBKU09OLnBhcnNlLmJpbmQoSlNPTik7XG5leHBvcnRzLnRvSnNvbiA9IGFuZ3VsYXIudG9Kc29uIHx8IEpTT04uc3RyaW5naWZ5LmJpbmQoSlNPTik7XG5leHBvcnRzLmZvckVhY2ggPSBhbmd1bGFyLmZvckVhY2ggfHwgX2ZvckVhY2g7XG5leHBvcnRzLmV4dGVuZCA9IE9iamVjdC5hc3NpZ24gfHwgX2V4dGVuZDtcbmV4cG9ydHMuZXF1YWxzID0gYW5ndWxhci5lcXVhbHMgfHwgX2VxdWFscztcbmZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbmV4cG9ydHMuaWRlbnRpdHkgPSBpZGVudGl0eTtcbmZ1bmN0aW9uIG5vb3AoKSB7IH1cbmV4cG9ydHMubm9vcCA9IG5vb3A7XG4vKipcbiAqIEJ1aWxkcyBwcm94eSBmdW5jdGlvbnMgb24gdGhlIGB0b2Agb2JqZWN0IHdoaWNoIHBhc3MgdGhyb3VnaCB0byB0aGUgYGZyb21gIG9iamVjdC5cbiAqXG4gKiBGb3IgZWFjaCBrZXkgaW4gYGZuTmFtZXNgLCBjcmVhdGVzIGEgcHJveHkgZnVuY3Rpb24gb24gdGhlIGB0b2Agb2JqZWN0LlxuICogVGhlIHByb3h5IGZ1bmN0aW9uIGNhbGxzIHRoZSByZWFsIGZ1bmN0aW9uIG9uIHRoZSBgZnJvbWAgb2JqZWN0LlxuICpcbiAqXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBUaGlzIGV4YW1wbGUgY3JlYXRlcyBhbiBuZXcgY2xhc3MgaW5zdGFuY2Ugd2hvc2UgZnVuY3Rpb25zIGFyZSBwcmVib3VuZCB0byB0aGUgbmV3J2Qgb2JqZWN0LlxuICogYGBganNcbiAqIGNsYXNzIEZvbyB7XG4gKiAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAqICAgICAvLyBCaW5kcyBhbGwgZnVuY3Rpb25zIGZyb20gRm9vLnByb3RvdHlwZSB0byAndGhpcycsXG4gKiAgICAgLy8gdGhlbiBjb3BpZXMgdGhlbSB0byAndGhpcydcbiAqICAgICBiaW5kRnVuY3Rpb25zKEZvby5wcm90b3R5cGUsIHRoaXMsIHRoaXMpO1xuICogICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gKiAgIH1cbiAqXG4gKiAgIGxvZygpIHtcbiAqICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGEpO1xuICogICB9XG4gKiB9XG4gKlxuICogbGV0IG15Rm9vID0gbmV3IEZvbyhbMSwyLDNdKTtcbiAqIHZhciBsb2dpdCA9IG15Rm9vLmxvZztcbiAqIGxvZ2l0KCk7IC8vIGxvZ3MgWzEsIDIsIDNdIGZyb20gdGhlIG15Rm9vICd0aGlzJyBpbnN0YW5jZVxuICogYGBgXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogVGhpcyBleGFtcGxlIGNyZWF0ZXMgYSBib3VuZCB2ZXJzaW9uIG9mIGEgc2VydmljZSBmdW5jdGlvbiwgYW5kIGNvcGllcyBpdCB0byBhbm90aGVyIG9iamVjdFxuICogYGBgXG4gKlxuICogdmFyIFNvbWVTZXJ2aWNlID0ge1xuICogICB0aGlzLmRhdGEgPSBbMywgNCwgNV07XG4gKiAgIHRoaXMubG9nID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgY29uc29sZS5sb2codGhpcy5kYXRhKTtcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIENvbnN0cnVjdG9yIGZuXG4gKiBmdW5jdGlvbiBPdGhlclRoaW5nKCkge1xuICogICAvLyBCaW5kcyBhbGwgZnVuY3Rpb25zIGZyb20gU29tZVNlcnZpY2UgdG8gU29tZVNlcnZpY2UsXG4gKiAgIC8vIHRoZW4gY29waWVzIHRoZW0gdG8gJ3RoaXMnXG4gKiAgIGJpbmRGdW5jdGlvbnMoU29tZVNlcnZpY2UsIHRoaXMsIFNvbWVTZXJ2aWNlKTtcbiAqIH1cbiAqXG4gKiBsZXQgbXlPdGhlclRoaW5nID0gbmV3IE90aGVyVGhpbmcoKTtcbiAqIG15T3RoZXJUaGluZy5sb2coKTsgLy8gbG9ncyBbMywgNCwgNV0gZnJvbSBTb21lU2VydmljZSdzICd0aGlzJ1xuICogYGBgXG4gKlxuICogQHBhcmFtIHNvdXJjZSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgc291cmNlIG9iamVjdCB3aGljaCBjb250YWlucyB0aGUgb3JpZ2luYWwgZnVuY3Rpb25zIHRvIGJlIGJvdW5kXG4gKiBAcGFyYW0gdGFyZ2V0IEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB0YXJnZXQgb2JqZWN0IHdoaWNoIHdpbGwgcmVjZWl2ZSB0aGUgYm91bmQgZnVuY3Rpb25zXG4gKiBAcGFyYW0gYmluZCBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgb2JqZWN0IHdoaWNoIHRoZSBmdW5jdGlvbnMgd2lsbCBiZSBib3VuZCB0b1xuICogQHBhcmFtIGZuTmFtZXMgVGhlIGZ1bmN0aW9uIG5hbWVzIHdoaWNoIHdpbGwgYmUgYm91bmQgKERlZmF1bHRzIHRvIGFsbCB0aGUgZnVuY3Rpb25zIGZvdW5kIG9uIHRoZSAnZnJvbScgb2JqZWN0KVxuICogQHBhcmFtIGxhdGViaW5kIElmIHRydWUsIHRoZSBiaW5kaW5nIG9mIHRoZSBmdW5jdGlvbiBpcyBkZWxheWVkIHVudGlsIHRoZSBmaXJzdCB0aW1lIGl0J3MgaW52b2tlZFxuICovXG5mdW5jdGlvbiBjcmVhdGVQcm94eUZ1bmN0aW9ucyhzb3VyY2UsIHRhcmdldCwgYmluZCwgZm5OYW1lcywgbGF0ZWJpbmQpIHtcbiAgICBpZiAobGF0ZWJpbmQgPT09IHZvaWQgMCkgeyBsYXRlYmluZCA9IGZhbHNlOyB9XG4gICAgdmFyIGJpbmRGdW5jdGlvbiA9IGZ1bmN0aW9uIChmbk5hbWUpIHsgcmV0dXJuIHNvdXJjZSgpW2ZuTmFtZV0uYmluZChiaW5kKCkpOyB9O1xuICAgIHZhciBtYWtlTGF0ZVJlYmluZEZuID0gZnVuY3Rpb24gKGZuTmFtZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbGF0ZVJlYmluZEZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGFyZ2V0W2ZuTmFtZV0gPSBiaW5kRnVuY3Rpb24oZm5OYW1lKTtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRbZm5OYW1lXS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgZm5OYW1lcyA9IGZuTmFtZXMgfHwgT2JqZWN0LmtleXMoc291cmNlKCkpO1xuICAgIHJldHVybiBmbk5hbWVzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBuYW1lKSB7XG4gICAgICAgIGFjY1tuYW1lXSA9IGxhdGViaW5kID8gbWFrZUxhdGVSZWJpbmRGbihuYW1lKSA6IGJpbmRGdW5jdGlvbihuYW1lKTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB0YXJnZXQpO1xufVxuZXhwb3J0cy5jcmVhdGVQcm94eUZ1bmN0aW9ucyA9IGNyZWF0ZVByb3h5RnVuY3Rpb25zO1xuLyoqXG4gKiBwcm90b3R5cGFsIGluaGVyaXRhbmNlIGhlbHBlci5cbiAqIENyZWF0ZXMgYSBuZXcgb2JqZWN0IHdoaWNoIGhhcyBgcGFyZW50YCBvYmplY3QgYXMgaXRzIHByb3RvdHlwZSwgYW5kIHRoZW4gY29waWVzIHRoZSBwcm9wZXJ0aWVzIGZyb20gYGV4dHJhYCBvbnRvIGl0XG4gKi9cbmV4cG9ydHMuaW5oZXJpdCA9IGZ1bmN0aW9uIChwYXJlbnQsIGV4dHJhKSB7IHJldHVybiBleHBvcnRzLmV4dGVuZChPYmplY3QuY3JlYXRlKHBhcmVudCksIGV4dHJhKTsgfTtcbi8qKiBHaXZlbiBhbiBhcnJheSwgcmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgZm91bmQgaW4gdGhlIGFycmF5LCAodXNpbmcgaW5kZXhPZikgKi9cbmV4cG9ydHMuaW5BcnJheSA9IGhvZl8xLmN1cnJ5KF9pbkFycmF5KTtcbmZ1bmN0aW9uIF9pbkFycmF5KGFycmF5LCBvYmopIHtcbiAgICByZXR1cm4gYXJyYXkuaW5kZXhPZihvYmopICE9PSAtMTtcbn1cbmV4cG9ydHMuX2luQXJyYXkgPSBfaW5BcnJheTtcbi8qKlxuICogR2l2ZW4gYW4gYXJyYXksIGFuZCBhbiBpdGVtLCBpZiB0aGUgaXRlbSBpcyBmb3VuZCBpbiB0aGUgYXJyYXksIGl0IHJlbW92ZXMgaXQgKGluLXBsYWNlKS5cbiAqIFRoZSBzYW1lIGFycmF5IGlzIHJldHVybmVkXG4gKi9cbmV4cG9ydHMucmVtb3ZlRnJvbSA9IGhvZl8xLmN1cnJ5KF9yZW1vdmVGcm9tKTtcbmZ1bmN0aW9uIF9yZW1vdmVGcm9tKGFycmF5LCBvYmopIHtcbiAgICB2YXIgaWR4ID0gYXJyYXkuaW5kZXhPZihvYmopO1xuICAgIGlmIChpZHggPj0gMClcbiAgICAgICAgYXJyYXkuc3BsaWNlKGlkeCwgMSk7XG4gICAgcmV0dXJuIGFycmF5O1xufVxuZXhwb3J0cy5fcmVtb3ZlRnJvbSA9IF9yZW1vdmVGcm9tO1xuLyoqIHB1c2hlcyBhIHZhbHVlcyB0byBhbiBhcnJheSBhbmQgcmV0dXJucyB0aGUgdmFsdWUgKi9cbmV4cG9ydHMucHVzaFRvID0gaG9mXzEuY3VycnkoX3B1c2hUbyk7XG5mdW5jdGlvbiBfcHVzaFRvKGFyciwgdmFsKSB7XG4gICAgcmV0dXJuIGFyci5wdXNoKHZhbCksIHZhbDtcbn1cbmV4cG9ydHMuX3B1c2hUbyA9IF9wdXNoVG87XG4vKiogR2l2ZW4gYW4gYXJyYXkgb2YgKGRlcmVnaXN0cmF0aW9uKSBmdW5jdGlvbnMsIGNhbGxzIGFsbCBmdW5jdGlvbnMgYW5kIHJlbW92ZXMgZWFjaCBvbmUgZnJvbSB0aGUgc291cmNlIGFycmF5ICovXG5leHBvcnRzLmRlcmVnQWxsID0gZnVuY3Rpb24gKGZ1bmN0aW9ucykge1xuICAgIHJldHVybiBmdW5jdGlvbnMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uIChmbikge1xuICAgICAgICB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgJiYgZm4oKTtcbiAgICAgICAgZXhwb3J0cy5yZW1vdmVGcm9tKGZ1bmN0aW9ucywgZm4pO1xuICAgIH0pO1xufTtcbi8qKlxuICogQXBwbGllcyBhIHNldCBvZiBkZWZhdWx0cyB0byBhbiBvcHRpb25zIG9iamVjdC4gIFRoZSBvcHRpb25zIG9iamVjdCBpcyBmaWx0ZXJlZFxuICogdG8gb25seSB0aG9zZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3RzIGluIHRoZSBkZWZhdWx0c0xpc3QuXG4gKiBFYXJsaWVyIG9iamVjdHMgaW4gdGhlIGRlZmF1bHRzTGlzdCB0YWtlIHByZWNlZGVuY2Ugd2hlbiBhcHBseWluZyBkZWZhdWx0cy5cbiAqL1xuZnVuY3Rpb24gZGVmYXVsdHMob3B0cykge1xuICAgIHZhciBkZWZhdWx0c0xpc3QgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBkZWZhdWx0c0xpc3RbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBkZWZhdWx0VmFscyA9IGV4cG9ydHMuZXh0ZW5kLmFwcGx5KHZvaWQgMCwgW3t9XS5jb25jYXQoZGVmYXVsdHNMaXN0LnJldmVyc2UoKSkpO1xuICAgIHJldHVybiBleHBvcnRzLmV4dGVuZChkZWZhdWx0VmFscywgcGljayhvcHRzIHx8IHt9LCBPYmplY3Qua2V5cyhkZWZhdWx0VmFscykpKTtcbn1cbmV4cG9ydHMuZGVmYXVsdHMgPSBkZWZhdWx0cztcbi8qKiBSZWR1Y2UgZnVuY3Rpb24gdGhhdCBtZXJnZXMgZWFjaCBlbGVtZW50IG9mIHRoZSBsaXN0IGludG8gYSBzaW5nbGUgb2JqZWN0LCB1c2luZyBleHRlbmQgKi9cbmV4cG9ydHMubWVyZ2VSID0gZnVuY3Rpb24gKG1lbW8sIGl0ZW0pIHsgcmV0dXJuIGV4cG9ydHMuZXh0ZW5kKG1lbW8sIGl0ZW0pOyB9O1xuLyoqXG4gKiBGaW5kcyB0aGUgY29tbW9uIGFuY2VzdG9yIHBhdGggYmV0d2VlbiB0d28gc3RhdGVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBmaXJzdCBUaGUgZmlyc3Qgc3RhdGUuXG4gKiBAcGFyYW0ge09iamVjdH0gc2Vjb25kIFRoZSBzZWNvbmQgc3RhdGUuXG4gKiBAcmV0dXJuIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBzdGF0ZSBuYW1lcyBpbiBkZXNjZW5kaW5nIG9yZGVyLCBub3QgaW5jbHVkaW5nIHRoZSByb290LlxuICovXG5mdW5jdGlvbiBhbmNlc3RvcnMoZmlyc3QsIHNlY29uZCkge1xuICAgIHZhciBwYXRoID0gW107XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmZvcmluXG4gICAgZm9yICh2YXIgbiBpbiBmaXJzdC5wYXRoKSB7XG4gICAgICAgIGlmIChmaXJzdC5wYXRoW25dICE9PSBzZWNvbmQucGF0aFtuXSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBwYXRoLnB1c2goZmlyc3QucGF0aFtuXSk7XG4gICAgfVxuICAgIHJldHVybiBwYXRoO1xufVxuZXhwb3J0cy5hbmNlc3RvcnMgPSBhbmNlc3RvcnM7XG4vKipcbiAqIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCBvbmx5IGNvbnRhaW5pbmcgdGhlIHdoaXRlbGlzdGVkIHByb3BlcnRpZXMuXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogYGBgXG4gKiB2YXIgZm9vID0geyBhOiAxLCBiOiAyLCBjOiAzIH07XG4gKiB2YXIgYWIgPSBwaWNrKGZvbywgWydhJywgJ2InXSk7IC8vIHsgYTogMSwgYjogMiB9XG4gKiBgYGBcbiAqIEBwYXJhbSBvYmogdGhlIHNvdXJjZSBvYmplY3RcbiAqIEBwYXJhbSBwcm9wTmFtZXMgYW4gQXJyYXkgb2Ygc3RyaW5ncywgd2hpY2ggYXJlIHRoZSB3aGl0ZWxpc3RlZCBwcm9wZXJ0eSBuYW1lc1xuICovXG5mdW5jdGlvbiBwaWNrKG9iaiwgcHJvcE5hbWVzKSB7XG4gICAgdmFyIG9iakNvcHkgPSB7fTtcbiAgICBmb3IgKHZhciBfcHJvcCBpbiBvYmopIHtcbiAgICAgICAgaWYgKHByb3BOYW1lcy5pbmRleE9mKF9wcm9wKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIG9iakNvcHlbX3Byb3BdID0gb2JqW19wcm9wXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqQ29weTtcbn1cbmV4cG9ydHMucGljayA9IHBpY2s7XG4vKipcbiAqIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCBvbWl0dGluZyB0aGUgYmxhY2tsaXN0ZWQgcHJvcGVydGllcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKlxuICogdmFyIGZvbyA9IHsgYTogMSwgYjogMiwgYzogMyB9O1xuICogdmFyIGFiID0gb21pdChmb28sIFsnYScsICdiJ10pOyAvLyB7IGM6IDMgfVxuICogYGBgXG4gKiBAcGFyYW0gb2JqIHRoZSBzb3VyY2Ugb2JqZWN0XG4gKiBAcGFyYW0gcHJvcE5hbWVzIGFuIEFycmF5IG9mIHN0cmluZ3MsIHdoaWNoIGFyZSB0aGUgYmxhY2tsaXN0ZWQgcHJvcGVydHkgbmFtZXNcbiAqL1xuZnVuY3Rpb24gb21pdChvYmosIHByb3BOYW1lcykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopXG4gICAgICAgIC5maWx0ZXIoaG9mXzEubm90KGV4cG9ydHMuaW5BcnJheShwcm9wTmFtZXMpKSlcbiAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHsgcmV0dXJuICgoYWNjW2tleV0gPSBvYmpba2V5XSksIGFjYyk7IH0sIHt9KTtcbn1cbmV4cG9ydHMub21pdCA9IG9taXQ7XG4vKipcbiAqIE1hcHMgYW4gYXJyYXksIG9yIG9iamVjdCB0byBhIHByb3BlcnR5IChieSBuYW1lKVxuICovXG5mdW5jdGlvbiBwbHVjayhjb2xsZWN0aW9uLCBwcm9wTmFtZSkge1xuICAgIHJldHVybiBtYXAoY29sbGVjdGlvbiwgaG9mXzEucHJvcChwcm9wTmFtZSkpO1xufVxuZXhwb3J0cy5wbHVjayA9IHBsdWNrO1xuLyoqIEZpbHRlcnMgYW4gQXJyYXkgb3IgYW4gT2JqZWN0J3MgcHJvcGVydGllcyBiYXNlZCBvbiBhIHByZWRpY2F0ZSAqL1xuZnVuY3Rpb24gZmlsdGVyKGNvbGxlY3Rpb24sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGFyciA9IHByZWRpY2F0ZXNfMS5pc0FycmF5KGNvbGxlY3Rpb24pLCByZXN1bHQgPSBhcnIgPyBbXSA6IHt9O1xuICAgIHZhciBhY2NlcHQgPSBhcnIgPyBmdW5jdGlvbiAoeCkgeyByZXR1cm4gcmVzdWx0LnB1c2goeCk7IH0gOiBmdW5jdGlvbiAoeCwga2V5KSB7IHJldHVybiAocmVzdWx0W2tleV0gPSB4KTsgfTtcbiAgICBleHBvcnRzLmZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKGl0ZW0sIGkpKVxuICAgICAgICAgICAgYWNjZXB0KGl0ZW0sIGkpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLmZpbHRlciA9IGZpbHRlcjtcbi8qKiBGaW5kcyBhbiBvYmplY3QgZnJvbSBhbiBhcnJheSwgb3IgYSBwcm9wZXJ0eSBvZiBhbiBvYmplY3QsIHRoYXQgbWF0Y2hlcyBhIHByZWRpY2F0ZSAqL1xuZnVuY3Rpb24gZmluZChjb2xsZWN0aW9uLCBjYWxsYmFjaykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgZXhwb3J0cy5mb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgIGlmIChyZXN1bHQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChjYWxsYmFjayhpdGVtLCBpKSlcbiAgICAgICAgICAgIHJlc3VsdCA9IGl0ZW07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMuZmluZCA9IGZpbmQ7XG4vKiogR2l2ZW4gYW4gb2JqZWN0LCByZXR1cm5zIGEgbmV3IG9iamVjdCwgd2hlcmUgZWFjaCBwcm9wZXJ0eSBpcyB0cmFuc2Zvcm1lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gKi9cbmV4cG9ydHMubWFwT2JqID0gbWFwO1xuLyoqIE1hcHMgYW4gYXJyYXkgb3Igb2JqZWN0IHByb3BlcnRpZXMgdXNpbmcgYSBjYWxsYmFjayBmdW5jdGlvbiAqL1xuZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0YXJnZXQpIHtcbiAgICB0YXJnZXQgPSB0YXJnZXQgfHwgKHByZWRpY2F0ZXNfMS5pc0FycmF5KGNvbGxlY3Rpb24pID8gW10gOiB7fSk7XG4gICAgZXhwb3J0cy5mb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uIChpdGVtLCBpKSB7IHJldHVybiAodGFyZ2V0W2ldID0gY2FsbGJhY2soaXRlbSwgaSkpOyB9KTtcbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuZXhwb3J0cy5tYXAgPSBtYXA7XG4vKipcbiAqIEdpdmVuIGFuIG9iamVjdCwgcmV0dXJuIGl0cyBlbnVtZXJhYmxlIHByb3BlcnR5IHZhbHVlc1xuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiBsZXQgZm9vID0geyBhOiAxLCBiOiAyLCBjOiAzIH1cbiAqIGxldCB2YWxzID0gdmFsdWVzKGZvbyk7IC8vIFsgMSwgMiwgMyBdXG4gKiBgYGBcbiAqL1xuZXhwb3J0cy52YWx1ZXMgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBvYmpba2V5XTsgfSk7IH07XG4vKipcbiAqIFJlZHVjZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiBhbGwgb2YgdGhlIHZhbHVlcyBhcmUgdHJ1dGh5LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiBsZXQgdmFscyA9IFsgMSwgdHJ1ZSwge30sIFwiaGVsbG8gd29ybGRcIl07XG4gKiB2YWxzLnJlZHVjZShhbGxUcnVlUiwgdHJ1ZSk7IC8vIHRydWVcbiAqXG4gKiB2YWxzLnB1c2goMCk7XG4gKiB2YWxzLnJlZHVjZShhbGxUcnVlUiwgdHJ1ZSk7IC8vIGZhbHNlXG4gKiBgYGBcbiAqL1xuZXhwb3J0cy5hbGxUcnVlUiA9IGZ1bmN0aW9uIChtZW1vLCBlbGVtKSB7IHJldHVybiBtZW1vICYmIGVsZW07IH07XG4vKipcbiAqIFJlZHVjZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiBhbnkgb2YgdGhlIHZhbHVlcyBhcmUgdHJ1dGh5LlxuICpcbiAqICAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiBsZXQgdmFscyA9IFsgMCwgbnVsbCwgdW5kZWZpbmVkIF07XG4gKiB2YWxzLnJlZHVjZShhbnlUcnVlUiwgdHJ1ZSk7IC8vIGZhbHNlXG4gKlxuICogdmFscy5wdXNoKFwiaGVsbG8gd29ybGRcIik7XG4gKiB2YWxzLnJlZHVjZShhbnlUcnVlUiwgdHJ1ZSk7IC8vIHRydWVcbiAqIGBgYFxuICovXG5leHBvcnRzLmFueVRydWVSID0gZnVuY3Rpb24gKG1lbW8sIGVsZW0pIHsgcmV0dXJuIG1lbW8gfHwgZWxlbTsgfTtcbi8qKlxuICogUmVkdWNlIGZ1bmN0aW9uIHdoaWNoIHVuLW5lc3RzIGEgc2luZ2xlIGxldmVsIG9mIGFycmF5c1xuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqIGxldCBpbnB1dCA9IFsgWyBcImFcIiwgXCJiXCIgXSwgWyBcImNcIiwgXCJkXCIgXSwgWyBbIFwiZG91YmxlXCIsIFwibmVzdGVkXCIgXSBdIF07XG4gKiBpbnB1dC5yZWR1Y2UodW5uZXN0UiwgW10pIC8vIFsgXCJhXCIsIFwiYlwiLCBcImNcIiwgXCJkXCIsIFsgXCJkb3VibGUsIFwibmVzdGVkXCIgXSBdXG4gKiBgYGBcbiAqL1xuZXhwb3J0cy51bm5lc3RSID0gZnVuY3Rpb24gKG1lbW8sIGVsZW0pIHsgcmV0dXJuIG1lbW8uY29uY2F0KGVsZW0pOyB9O1xuLyoqXG4gKiBSZWR1Y2UgZnVuY3Rpb24gd2hpY2ggcmVjdXJzaXZlbHkgdW4tbmVzdHMgYWxsIGFycmF5c1xuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiBsZXQgaW5wdXQgPSBbIFsgXCJhXCIsIFwiYlwiIF0sIFsgXCJjXCIsIFwiZFwiIF0sIFsgWyBcImRvdWJsZVwiLCBcIm5lc3RlZFwiIF0gXSBdO1xuICogaW5wdXQucmVkdWNlKHVubmVzdFIsIFtdKSAvLyBbIFwiYVwiLCBcImJcIiwgXCJjXCIsIFwiZFwiLCBcImRvdWJsZSwgXCJuZXN0ZWRcIiBdXG4gKiBgYGBcbiAqL1xuZXhwb3J0cy5mbGF0dGVuUiA9IGZ1bmN0aW9uIChtZW1vLCBlbGVtKSB7XG4gICAgcmV0dXJuIHByZWRpY2F0ZXNfMS5pc0FycmF5KGVsZW0pID8gbWVtby5jb25jYXQoZWxlbS5yZWR1Y2UoZXhwb3J0cy5mbGF0dGVuUiwgW10pKSA6IHB1c2hSKG1lbW8sIGVsZW0pO1xufTtcbi8qKlxuICogUmVkdWNlIGZ1bmN0aW9uIHRoYXQgcHVzaGVzIGFuIG9iamVjdCB0byBhbiBhcnJheSwgdGhlbiByZXR1cm5zIHRoZSBhcnJheS5cbiAqIE1vc3RseSBqdXN0IGZvciBbW2ZsYXR0ZW5SXV0gYW5kIFtbdW5pcVJdXVxuICovXG5mdW5jdGlvbiBwdXNoUihhcnIsIG9iaikge1xuICAgIGFyci5wdXNoKG9iaik7XG4gICAgcmV0dXJuIGFycjtcbn1cbmV4cG9ydHMucHVzaFIgPSBwdXNoUjtcbi8qKiBSZWR1Y2UgZnVuY3Rpb24gdGhhdCBmaWx0ZXJzIG91dCBkdXBsaWNhdGVzICovXG5leHBvcnRzLnVuaXFSID0gZnVuY3Rpb24gKGFjYywgdG9rZW4pIHsgcmV0dXJuIChleHBvcnRzLmluQXJyYXkoYWNjLCB0b2tlbikgPyBhY2MgOiBwdXNoUihhY2MsIHRva2VuKSk7IH07XG4vKipcbiAqIFJldHVybiBhIG5ldyBhcnJheSB3aXRoIGEgc2luZ2xlIGxldmVsIG9mIGFycmF5cyB1bm5lc3RlZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKlxuICogbGV0IGlucHV0ID0gWyBbIFwiYVwiLCBcImJcIiBdLCBbIFwiY1wiLCBcImRcIiBdLCBbIFsgXCJkb3VibGVcIiwgXCJuZXN0ZWRcIiBdIF0gXTtcbiAqIHVubmVzdChpbnB1dCkgLy8gWyBcImFcIiwgXCJiXCIsIFwiY1wiLCBcImRcIiwgWyBcImRvdWJsZSwgXCJuZXN0ZWRcIiBdIF1cbiAqIGBgYFxuICovXG5leHBvcnRzLnVubmVzdCA9IGZ1bmN0aW9uIChhcnIpIHsgcmV0dXJuIGFyci5yZWR1Y2UoZXhwb3J0cy51bm5lc3RSLCBbXSk7IH07XG4vKipcbiAqIFJldHVybiBhIGNvbXBsZXRlbHkgZmxhdHRlbmVkIHZlcnNpb24gb2YgYW4gYXJyYXkuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqIGxldCBpbnB1dCA9IFsgWyBcImFcIiwgXCJiXCIgXSwgWyBcImNcIiwgXCJkXCIgXSwgWyBbIFwiZG91YmxlXCIsIFwibmVzdGVkXCIgXSBdIF07XG4gKiBmbGF0dGVuKGlucHV0KSAvLyBbIFwiYVwiLCBcImJcIiwgXCJjXCIsIFwiZFwiLCBcImRvdWJsZSwgXCJuZXN0ZWRcIiBdXG4gKiBgYGBcbiAqL1xuZXhwb3J0cy5mbGF0dGVuID0gZnVuY3Rpb24gKGFycikgeyByZXR1cm4gYXJyLnJlZHVjZShleHBvcnRzLmZsYXR0ZW5SLCBbXSk7IH07XG4vKipcbiAqIEdpdmVuIGEgLmZpbHRlciBQcmVkaWNhdGUsIGJ1aWxkcyBhIC5maWx0ZXIgUHJlZGljYXRlIHdoaWNoIHRocm93cyBhbiBlcnJvciBpZiBhbnkgZWxlbWVudHMgZG8gbm90IHBhc3MuXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKlxuICogbGV0IGlzTnVtYmVyID0gKG9iaikgPT4gdHlwZW9mKG9iaikgPT09ICdudW1iZXInO1xuICogbGV0IGFsbE51bWJlcnMgPSBbIDEsIDIsIDMsIDQsIDUgXTtcbiAqIGFsbE51bWJlcnMuZmlsdGVyKGFzc2VydFByZWRpY2F0ZShpc051bWJlcikpOyAvL09LXG4gKlxuICogbGV0IG9uZVN0cmluZyA9IFsgMSwgMiwgMywgNCwgXCI1XCIgXTtcbiAqIG9uZVN0cmluZy5maWx0ZXIoYXNzZXJ0UHJlZGljYXRlKGlzTnVtYmVyLCBcIk5vdCBhbGwgbnVtYmVyc1wiKSk7IC8vIHRocm93cyBFcnJvcihcIlwiTm90IGFsbCBudW1iZXJzXCJcIik7XG4gKiBgYGBcbiAqL1xuZXhwb3J0cy5hc3NlcnRQcmVkaWNhdGUgPSBhc3NlcnRGbjtcbi8qKlxuICogR2l2ZW4gYSAubWFwIGZ1bmN0aW9uLCBidWlsZHMgYSAubWFwIGZ1bmN0aW9uIHdoaWNoIHRocm93cyBhbiBlcnJvciBpZiBhbnkgbWFwcGVkIGVsZW1lbnRzIGRvIG5vdCBwYXNzIGEgdHJ1dGh5bmVzcyB0ZXN0LlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqIHZhciBkYXRhID0geyBmb286IDEsIGJhcjogMiB9O1xuICpcbiAqIGxldCBrZXlzID0gWyAnZm9vJywgJ2JhcicgXVxuICogbGV0IHZhbHVlcyA9IGtleXMubWFwKGFzc2VydE1hcChrZXkgPT4gZGF0YVtrZXldLCBcIktleSBub3QgZm91bmRcIikpO1xuICogLy8gdmFsdWVzIGlzIFsxLCAyXVxuICpcbiAqIGxldCBrZXlzID0gWyAnZm9vJywgJ2JhcicsICdiYXonIF1cbiAqIGxldCB2YWx1ZXMgPSBrZXlzLm1hcChhc3NlcnRNYXAoa2V5ID0+IGRhdGFba2V5XSwgXCJLZXkgbm90IGZvdW5kXCIpKTtcbiAqIC8vIHRocm93cyBFcnJvcihcIktleSBub3QgZm91bmRcIilcbiAqIGBgYFxuICovXG5leHBvcnRzLmFzc2VydE1hcCA9IGFzc2VydEZuO1xuZnVuY3Rpb24gYXNzZXJ0Rm4ocHJlZGljYXRlT3JNYXAsIGVyck1zZykge1xuICAgIGlmIChlcnJNc2cgPT09IHZvaWQgMCkgeyBlcnJNc2cgPSAnYXNzZXJ0IGZhaWx1cmUnOyB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHByZWRpY2F0ZU9yTWFwKG9iaik7XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJlZGljYXRlc18xLmlzRnVuY3Rpb24oZXJyTXNnKSA/IGVyck1zZyhvYmopIDogZXJyTXNnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5leHBvcnRzLmFzc2VydEZuID0gYXNzZXJ0Rm47XG4vKipcbiAqIExpa2UgXy5wYWlyczogR2l2ZW4gYW4gb2JqZWN0LCByZXR1cm5zIGFuIGFycmF5IG9mIGtleS92YWx1ZSBwYWlyc1xuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiBwYWlycyh7IGZvbzogXCJGT09cIiwgYmFyOiBcIkJBUiB9KSAvLyBbIFsgXCJmb29cIiwgXCJGT09cIiBdLCBbIFwiYmFyXCI6IFwiQkFSXCIgXSBdXG4gKiBgYGBcbiAqL1xuZXhwb3J0cy5wYWlycyA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIFtrZXksIG9ialtrZXldXTsgfSk7IH07XG4vKipcbiAqIEdpdmVuIHR3byBvciBtb3JlIHBhcmFsbGVsIGFycmF5cywgcmV0dXJucyBhbiBhcnJheSBvZiB0dXBsZXMgd2hlcmVcbiAqIGVhY2ggdHVwbGUgaXMgY29tcG9zZWQgb2YgWyBhW2ldLCBiW2ldLCAuLi4geltpXSBdXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqIGxldCBmb28gPSBbIDAsIDIsIDQsIDYgXTtcbiAqIGxldCBiYXIgPSBbIDEsIDMsIDUsIDcgXTtcbiAqIGxldCBiYXogPSBbIDEwLCAzMCwgNTAsIDcwIF07XG4gKiBhcnJheVR1cGxlcyhmb28sIGJhcik7ICAgICAgIC8vIFsgWzAsIDFdLCBbMiwgM10sIFs0LCA1XSwgWzYsIDddIF1cbiAqIGFycmF5VHVwbGVzKGZvbywgYmFyLCBiYXopOyAgLy8gWyBbMCwgMSwgMTBdLCBbMiwgMywgMzBdLCBbNCwgNSwgNTBdLCBbNiwgNywgNzBdIF1cbiAqIGBgYFxuICovXG5mdW5jdGlvbiBhcnJheVR1cGxlcygpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gW107XG4gICAgdmFyIG1heEFycmF5TGVuID0gYXJncy5yZWR1Y2UoZnVuY3Rpb24gKG1pbiwgYXJyKSB7IHJldHVybiBNYXRoLm1pbihhcnIubGVuZ3RoLCBtaW4pOyB9LCA5MDA3MTk5MjU0NzQwOTkxKTsgLy8gYWthIDJeNTMg4oiSIDEgYWthIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIGhvdCBmdW5jdGlvblxuICAgICAgICAvLyBVbnJvbGwgd2hlbiB0aGVyZSBhcmUgMS00IGFyZ3VtZW50c1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW2FyZ3NbMF1baV1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbYXJnc1swXVtpXSwgYXJnc1sxXVtpXV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFthcmdzWzBdW2ldLCBhcmdzWzFdW2ldLCBhcmdzWzJdW2ldXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW2FyZ3NbMF1baV0sIGFyZ3NbMV1baV0sIGFyZ3NbMl1baV0sIGFyZ3NbM11baV1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYXJncy5tYXAoZnVuY3Rpb24gKGFycmF5KSB7IHJldHVybiBhcnJheVtpXTsgfSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heEFycmF5TGVuOyBpKyspIHtcbiAgICAgICAgX2xvb3BfMShpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMuYXJyYXlUdXBsZXMgPSBhcnJheVR1cGxlcztcbi8qKlxuICogUmVkdWNlIGZ1bmN0aW9uIHdoaWNoIGJ1aWxkcyBhbiBvYmplY3QgZnJvbSBhbiBhcnJheSBvZiBba2V5LCB2YWx1ZV0gcGFpcnMuXG4gKlxuICogRWFjaCBpdGVyYXRpb24gc2V0cyB0aGUga2V5L3ZhbCBwYWlyIG9uIHRoZSBtZW1vIG9iamVjdCwgdGhlbiByZXR1cm5zIHRoZSBtZW1vIGZvciB0aGUgbmV4dCBpdGVyYXRpb24uXG4gKlxuICogRWFjaCBrZXlWYWx1ZVR1cGxlIHNob3VsZCBiZSBhbiBhcnJheSB3aXRoIHZhbHVlcyBbIGtleTogc3RyaW5nLCB2YWx1ZTogYW55IF1cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKlxuICogdmFyIHBhaXJzID0gWyBbXCJmb29rZXlcIiwgXCJmb292YWxcIl0sIFtcImJhcmtleVwiLCBcImJhcnZhbFwiXSBdXG4gKlxuICogdmFyIHBhaXJzVG9PYmogPSBwYWlycy5yZWR1Y2UoKG1lbW8sIHBhaXIpID0+IGFwcGx5UGFpcnMobWVtbywgcGFpciksIHt9KVxuICogLy8gcGFpcnNUb09iaiA9PSB7IGZvb2tleTogXCJmb292YWxcIiwgYmFya2V5OiBcImJhcnZhbFwiIH1cbiAqXG4gKiAvLyBPciwgbW9yZSBzaW1wbHk6XG4gKiB2YXIgcGFpcnNUb09iaiA9IHBhaXJzLnJlZHVjZShhcHBseVBhaXJzLCB7fSlcbiAqIC8vIHBhaXJzVG9PYmogPT0geyBmb29rZXk6IFwiZm9vdmFsXCIsIGJhcmtleTogXCJiYXJ2YWxcIiB9XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gYXBwbHlQYWlycyhtZW1vLCBrZXlWYWxUdXBsZSkge1xuICAgIHZhciBrZXksIHZhbHVlO1xuICAgIGlmIChwcmVkaWNhdGVzXzEuaXNBcnJheShrZXlWYWxUdXBsZSkpXG4gICAgICAgIGtleSA9IGtleVZhbFR1cGxlWzBdLCB2YWx1ZSA9IGtleVZhbFR1cGxlWzFdO1xuICAgIGlmICghcHJlZGljYXRlc18xLmlzU3RyaW5nKGtleSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBwYXJhbWV0ZXJzIHRvIGFwcGx5UGFpcnMnKTtcbiAgICBtZW1vW2tleV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gbWVtbztcbn1cbmV4cG9ydHMuYXBwbHlQYWlycyA9IGFwcGx5UGFpcnM7XG4vKiogR2V0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYW4gYXJyYXkgKi9cbmZ1bmN0aW9uIHRhaWwoYXJyKSB7XG4gICAgcmV0dXJuIChhcnIubGVuZ3RoICYmIGFyclthcnIubGVuZ3RoIC0gMV0pIHx8IHVuZGVmaW5lZDtcbn1cbmV4cG9ydHMudGFpbCA9IHRhaWw7XG4vKipcbiAqIHNoYWxsb3cgY29weSBmcm9tIHNyYyB0byBkZXN0XG4gKi9cbmZ1bmN0aW9uIGNvcHkoc3JjLCBkZXN0KSB7XG4gICAgaWYgKGRlc3QpXG4gICAgICAgIE9iamVjdC5rZXlzKGRlc3QpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZGVsZXRlIGRlc3Rba2V5XTsgfSk7XG4gICAgaWYgKCFkZXN0KVxuICAgICAgICBkZXN0ID0ge307XG4gICAgcmV0dXJuIGV4cG9ydHMuZXh0ZW5kKGRlc3QsIHNyYyk7XG59XG5leHBvcnRzLmNvcHkgPSBjb3B5O1xuLyoqIE5haXZlIGZvckVhY2ggaW1wbGVtZW50YXRpb24gd29ya3Mgd2l0aCBPYmplY3RzIG9yIEFycmF5cyAqL1xuZnVuY3Rpb24gX2ZvckVhY2gob2JqLCBjYiwgX3RoaXMpIHtcbiAgICBpZiAocHJlZGljYXRlc18xLmlzQXJyYXkob2JqKSlcbiAgICAgICAgcmV0dXJuIG9iai5mb3JFYWNoKGNiLCBfdGhpcyk7XG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGNiKG9ialtrZXldLCBrZXkpOyB9KTtcbn1cbmZ1bmN0aW9uIF9leHRlbmQodG9PYmopIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgb2JqID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBpZiAoIW9iailcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwga2V5cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdG9PYmpba2V5c1tqXV0gPSBvYmpba2V5c1tqXV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvT2JqO1xufVxuZXhwb3J0cy5fZXh0ZW5kID0gX2V4dGVuZDtcbmZ1bmN0aW9uIF9lcXVhbHMobzEsIG8yKSB7XG4gICAgaWYgKG8xID09PSBvMilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKG8xID09PSBudWxsIHx8IG8yID09PSBudWxsKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKG8xICE9PSBvMSAmJiBvMiAhPT0gbzIpXG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBOYU4gPT09IE5hTlxuICAgIHZhciB0MSA9IHR5cGVvZiBvMSwgdDIgPSB0eXBlb2YgbzI7XG4gICAgaWYgKHQxICE9PSB0MiB8fCB0MSAhPT0gJ29iamVjdCcpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2YXIgdHVwID0gW28xLCBvMl07XG4gICAgaWYgKGhvZl8xLmFsbChwcmVkaWNhdGVzXzEuaXNBcnJheSkodHVwKSlcbiAgICAgICAgcmV0dXJuIF9hcnJheXNFcShvMSwgbzIpO1xuICAgIGlmIChob2ZfMS5hbGwocHJlZGljYXRlc18xLmlzRGF0ZSkodHVwKSlcbiAgICAgICAgcmV0dXJuIG8xLmdldFRpbWUoKSA9PT0gbzIuZ2V0VGltZSgpO1xuICAgIGlmIChob2ZfMS5hbGwocHJlZGljYXRlc18xLmlzUmVnRXhwKSh0dXApKVxuICAgICAgICByZXR1cm4gbzEudG9TdHJpbmcoKSA9PT0gbzIudG9TdHJpbmcoKTtcbiAgICBpZiAoaG9mXzEuYWxsKHByZWRpY2F0ZXNfMS5pc0Z1bmN0aW9uKSh0dXApKVxuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gbWVoXG4gICAgdmFyIHByZWRpY2F0ZXMgPSBbcHJlZGljYXRlc18xLmlzRnVuY3Rpb24sIHByZWRpY2F0ZXNfMS5pc0FycmF5LCBwcmVkaWNhdGVzXzEuaXNEYXRlLCBwcmVkaWNhdGVzXzEuaXNSZWdFeHBdO1xuICAgIGlmIChwcmVkaWNhdGVzLm1hcChob2ZfMS5hbnkpLnJlZHVjZShmdW5jdGlvbiAoYiwgZm4pIHsgcmV0dXJuIGIgfHwgISFmbih0dXApOyB9LCBmYWxzZSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2YXIga2V5cyA9IHt9O1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpmb3JpblxuICAgIGZvciAodmFyIGtleSBpbiBvMSkge1xuICAgICAgICBpZiAoIV9lcXVhbHMobzFba2V5XSwgbzJba2V5XSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGtleXNba2V5XSA9IHRydWU7XG4gICAgfVxuICAgIGZvciAodmFyIGtleSBpbiBvMikge1xuICAgICAgICBpZiAoIWtleXNba2V5XSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBfYXJyYXlzRXEoYTEsIGEyKSB7XG4gICAgaWYgKGExLmxlbmd0aCAhPT0gYTIubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGFycmF5VHVwbGVzKGExLCBhMikucmVkdWNlKGZ1bmN0aW9uIChiLCB0KSB7IHJldHVybiBiICYmIF9lcXVhbHModFswXSwgdFsxXSk7IH0sIHRydWUpO1xufVxuLy8gaXNzdWUgIzI2NzZcbmV4cG9ydHMuc2lsZW5jZVVuY2F1Z2h0SW5Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2UpIHsgcmV0dXJuIHByb21pc2UuY2F0Y2goZnVuY3Rpb24gKGUpIHsgcmV0dXJuIDA7IH0pICYmIHByb21pc2U7IH07XG5leHBvcnRzLnNpbGVudFJlamVjdGlvbiA9IGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gZXhwb3J0cy5zaWxlbmNlVW5jYXVnaHRJblByb21pc2UoY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEucmVqZWN0KGVycm9yKSk7IH07XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxufSx7XCIuL2NvcmVzZXJ2aWNlc1wiOjQsXCIuL2hvZlwiOjYsXCIuL3ByZWRpY2F0ZXNcIjo4fV0sNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBub0ltcGwgPSBmdW5jdGlvbiAoZm5uYW1lKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gaW1wbGVtZW50YXRpb24gZm9yIFwiICsgZm5uYW1lICsgXCIuIFRoZSBmcmFtZXdvcmsgc3BlY2lmaWMgY29kZSBkaWQgbm90IGltcGxlbWVudCB0aGlzIG1ldGhvZC5cIik7XG59OyB9O1xuZXhwb3J0cy5tYWtlU3R1YiA9IGZ1bmN0aW9uIChzZXJ2aWNlLCBtZXRob2RzKSB7XG4gICAgcmV0dXJuIG1ldGhvZHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkgeyByZXR1cm4gKChhY2Nba2V5XSA9IG5vSW1wbChzZXJ2aWNlICsgXCIuXCIgKyBrZXkgKyBcIigpXCIpKSwgYWNjKTsgfSwge30pO1xufTtcbnZhciBzZXJ2aWNlcyA9IHtcbiAgICAkcTogdW5kZWZpbmVkLFxuICAgICRpbmplY3RvcjogdW5kZWZpbmVkLFxufTtcbmV4cG9ydHMuc2VydmljZXMgPSBzZXJ2aWNlcztcblxufSx7fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAcHVibGljYXBpIEBtb2R1bGUgY29yZSAqL1xuLyoqXG4gKiBNYXRjaGVzIHN0YXRlIG5hbWVzIHVzaW5nIGdsb2ItbGlrZSBwYXR0ZXJuIHN0cmluZ3MuXG4gKlxuICogR2xvYnMgY2FuIGJlIHVzZWQgaW4gc3BlY2lmaWMgQVBJcyBpbmNsdWRpbmc6XG4gKlxuICogLSBbW1N0YXRlU2VydmljZS5pc11dXG4gKiAtIFtbU3RhdGVTZXJ2aWNlLmluY2x1ZGVzXV1cbiAqIC0gVGhlIGZpcnN0IGFyZ3VtZW50IHRvIEhvb2sgUmVnaXN0cmF0aW9uIGZ1bmN0aW9ucyBsaWtlIFtbVHJhbnNpdGlvblNlcnZpY2Uub25TdGFydF1dXG4gKiAgICAtIFtbSG9va01hdGNoQ3JpdGVyaWFdXSBhbmQgW1tIb29rTWF0Y2hDcml0ZXJpb25dXVxuICpcbiAqIEEgYEdsb2JgIHN0cmluZyBpcyBhIHBhdHRlcm4gd2hpY2ggbWF0Y2hlcyBzdGF0ZSBuYW1lcy5cbiAqIE5lc3RlZCBzdGF0ZSBuYW1lcyBhcmUgc3BsaXQgaW50byBzZWdtZW50cyAoc2VwYXJhdGVkIGJ5IGEgZG90KSB3aGVuIHByb2Nlc3NpbmcuXG4gKiBUaGUgc3RhdGUgbmFtZWQgYGZvby5iYXIuYmF6YCBpcyBzcGxpdCBpbnRvIHRocmVlIHNlZ21lbnRzIFsnZm9vJywgJ2JhcicsICdiYXonXVxuICpcbiAqIEdsb2JzIHdvcmsgYWNjb3JkaW5nIHRvIHRoZSBmb2xsb3dpbmcgcnVsZXM6XG4gKlxuICogIyMjIEV4YWN0IG1hdGNoOlxuICpcbiAqIFRoZSBnbG9iIGAnQS5CJ2AgbWF0Y2hlcyB0aGUgc3RhdGUgbmFtZWQgZXhhY3RseSBgJ0EuQidgLlxuICpcbiAqIHwgR2xvYiAgICAgICAgfE1hdGNoZXMgc3RhdGVzIG5hbWVkfERvZXMgbm90IG1hdGNoIHN0YXRlIG5hbWVkfFxuICogfDotLS0tLS0tLS0tLS18Oi0tLS0tLS0tLS0tLS0tLS0tLS0tfDotLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IGAnQSdgICAgICAgIHwgYCdBJ2AgICAgICAgICAgICAgICB8IGAnQidgICwgYCdBLkMnYCAgICAgIHxcbiAqIHwgYCdBLkInYCAgICAgfCBgJ0EuQidgICAgICAgICAgICAgIHwgYCdBJ2AgLCBgJ0EuQi5DJ2AgICAgfFxuICogfCBgJ2ZvbydgICAgICB8IGAnZm9vJ2AgICAgICAgICAgICAgfCBgJ0ZPTydgICwgYCdmb28uYmFyJ2B8XG4gKlxuICogIyMjIFNpbmdsZSBzdGFyIChgKmApXG4gKlxuICogQSBzaW5nbGUgc3RhciAoYCpgKSBpcyBhIHdpbGRjYXJkIHRoYXQgbWF0Y2hlcyBleGFjdGx5IG9uZSBzZWdtZW50LlxuICpcbiAqIHwgR2xvYiAgICAgICAgfE1hdGNoZXMgc3RhdGVzIG5hbWVkICB8RG9lcyBub3QgbWF0Y2ggc3RhdGUgbmFtZWQgfFxuICogfDotLS0tLS0tLS0tLS18Oi0tLS0tLS0tLS0tLS0tLS0tLS0tLXw6LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IGAnKidgICAgICAgIHwgYCdBJ2AgLCBgJ1onYCAgICAgICAgfCBgJ0EuQidgICwgYCdaLlkuWCdgICAgICAgIHxcbiAqIHwgYCdBLionYCAgICAgfCBgJ0EuQidgICwgYCdBLkMnYCAgICB8IGAnQSdgICwgYCdBLkIuQydgICAgICAgICAgfFxuICogfCBgJ0EuKi4qJ2AgICB8IGAnQS5CLkMnYCAsIGAnQS5YLlknYHwgYCdBJ2AsIGAnQS5CJ2AgLCBgJ1ouWS5YJ2B8XG4gKlxuICogIyMjIERvdWJsZSBzdGFyIChgKipgKVxuICpcbiAqIEEgZG91YmxlIHN0YXIgKGAnKionYCkgaXMgYSB3aWxkY2FyZCB0aGF0IG1hdGNoZXMgKnplcm8gb3IgbW9yZSBzZWdtZW50cypcbiAqXG4gKiB8IEdsb2IgICAgICAgIHxNYXRjaGVzIHN0YXRlcyBuYW1lZCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxEb2VzIG5vdCBtYXRjaCBzdGF0ZSBuYW1lZCAgICAgICAgIHxcbiAqIHw6LS0tLS0tLS0tLS0tfDotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfDotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCBgJyoqJ2AgICAgICB8IGAnQSdgICwgYCdBLkInYCwgYCdaLlkuWCdgICAgICAgICAgICAgICAgICAgICB8IChtYXRjaGVzIGFsbCBzdGF0ZXMpICAgICAgICAgICAgICB8XG4gKiB8IGAnQS4qKidgICAgIHwgYCdBJ2AgLCBgJ0EuQidgICwgYCdBLkMuWCdgICAgICAgICAgICAgICAgICAgIHwgYCdaLlkuWCdgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgYCcqKi5YJ2AgICAgfCBgJ1gnYCAsIGAnQS5YJ2AgLCBgJ1ouWS5YJ2AgICAgICAgICAgICAgICAgICAgfCBgJ0EnYCAsIGAnQS5sb2dpbi5aJ2AgICAgICAgICAgICAgfFxuICogfCBgJ0EuKiouWCdgICB8IGAnQS5YJ2AgLCBgJ0EuQi5YJ2AgLCBgJ0EuQi5DLlgnYCAgICAgICAgICAgICB8IGAnQSdgICwgYCdBLkIuQydgICAgICAgICAgICAgICAgICB8XG4gKlxuICovXG52YXIgR2xvYiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHbG9iKHRleHQpIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5nbG9iID0gdGV4dC5zcGxpdCgnLicpO1xuICAgICAgICB2YXIgcmVnZXhwU3RyaW5nID0gdGhpcy50ZXh0XG4gICAgICAgICAgICAuc3BsaXQoJy4nKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoc2VnKSB7XG4gICAgICAgICAgICBpZiAoc2VnID09PSAnKionKVxuICAgICAgICAgICAgICAgIHJldHVybiAnKD86fCg/OlxcXFwuW14uXSopKiknO1xuICAgICAgICAgICAgaWYgKHNlZyA9PT0gJyonKVxuICAgICAgICAgICAgICAgIHJldHVybiAnXFxcXC5bXi5dKic7XG4gICAgICAgICAgICByZXR1cm4gJ1xcXFwuJyArIHNlZztcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgICAgdGhpcy5yZWdleHAgPSBuZXcgUmVnRXhwKCdeJyArIHJlZ2V4cFN0cmluZyArICckJyk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIHN0cmluZyBoYXMgZ2xvYi1saWtlIGNoYXJhY3RlcnMgaW4gaXQgKi9cbiAgICBHbG9iLmlzID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgcmV0dXJuICEhL1shLCpdKy8uZXhlYyh0ZXh0KTtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIGEgZ2xvYiBmcm9tIHRoZSBzdHJpbmcsIG9yIG51bGwgaWYgdGhlIHN0cmluZyBpc24ndCBHbG9iLWxpa2UgKi9cbiAgICBHbG9iLmZyb21TdHJpbmcgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICByZXR1cm4gR2xvYi5pcyh0ZXh0KSA/IG5ldyBHbG9iKHRleHQpIDogbnVsbDtcbiAgICB9O1xuICAgIEdsb2IucHJvdG90eXBlLm1hdGNoZXMgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdleHAudGVzdCgnLicgKyBuYW1lKTtcbiAgICB9O1xuICAgIHJldHVybiBHbG9iO1xufSgpKTtcbmV4cG9ydHMuR2xvYiA9IEdsb2I7XG5cbn0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEhpZ2hlciBvcmRlciBmdW5jdGlvbnNcbiAqXG4gKiBUaGVzZSB1dGlsaXR5IGZ1bmN0aW9ucyBhcmUgZXhwb3J0ZWQsIGJ1dCBhcmUgc3ViamVjdCB0byBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gKlxuICogQG1vZHVsZSBjb21tb25faG9mXG4gKi8gLyoqICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIFJldHVybnMgYSBuZXcgZnVuY3Rpb24gZm9yIFtQYXJ0aWFsIEFwcGxpY2F0aW9uXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QYXJ0aWFsX2FwcGxpY2F0aW9uKSBvZiB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uXG4gKlxuICogR2l2ZW4gYSBmdW5jdGlvbiB3aXRoIE4gcGFyYW1ldGVycywgcmV0dXJucyBhIG5ldyBmdW5jdGlvbiB0aGF0IHN1cHBvcnRzIHBhcnRpYWwgYXBwbGljYXRpb24uXG4gKiBUaGUgbmV3IGZ1bmN0aW9uIGFjY2VwdHMgYW55d2hlcmUgZnJvbSAxIHRvIE4gcGFyYW1ldGVycy4gIFdoZW4gdGhhdCBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBNIHBhcmFtZXRlcnMsXG4gKiB3aGVyZSBNIGlzIGxlc3MgdGhhbiBOLCBpdCByZXR1cm5zIGEgbmV3IGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB0aGUgcmVtYWluaW5nIHBhcmFtZXRlcnMuICBJdCBjb250aW51ZXMgdG9cbiAqIGFjY2VwdCBtb3JlIHBhcmFtZXRlcnMgdW50aWwgYWxsIE4gcGFyYW1ldGVycyBoYXZlIGJlZW4gc3VwcGxpZWQuXG4gKlxuICpcbiAqIFRoaXMgY29udHJpdmVkIGV4YW1wbGUgdXNlcyBhIHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uIGFzIGFuIHByZWRpY2F0ZSwgd2hpY2ggcmV0dXJucyB0cnVlXG4gKiBpZiBhbiBvYmplY3QgaXMgZm91bmQgaW4gYm90aCBhcnJheXMuXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKiAvLyByZXR1cm5zIHRydWUgaWYgYW4gb2JqZWN0IGlzIGluIGJvdGggb2YgdGhlIHR3byBhcnJheXNcbiAqIGZ1bmN0aW9uIGluQm90aChhcnJheTEsIGFycmF5Miwgb2JqZWN0KSB7XG4gKiAgIHJldHVybiBhcnJheTEuaW5kZXhPZihvYmplY3QpICE9PSAtMSAmJlxuICogICAgICAgICAgYXJyYXkyLmluZGV4T2Yob2JqZWN0KSAhPT0gMTtcbiAqIH1cbiAqIGxldCBvYmoxLCBvYmoyLCBvYmozLCBvYmo0LCBvYmo1LCBvYmo2LCBvYmo3XG4gKiBsZXQgZm9vcyA9IFtvYmoxLCBvYmozXVxuICogbGV0IGJhcnMgPSBbb2JqMywgb2JqNCwgb2JqNV1cbiAqXG4gKiAvLyBBIGN1cnJpZWQgXCJjb3B5XCIgb2YgaW5Cb3RoXG4gKiBsZXQgY3VycmllZEluQm90aCA9IGN1cnJ5KGluQm90aCk7XG4gKiAvLyBQYXJ0aWFsbHkgYXBwbHkgYm90aCB0aGUgYXJyYXkxIGFuZCBhcnJheTJcbiAqIGxldCBpbkZvb3NBbmRCYXJzID0gY3VycmllZEluQm90aChmb29zLCBiYXJzKTtcbiAqXG4gKiAvLyBTdXBwbHkgdGhlIGZpbmFsIGFyZ3VtZW50OyBzaW5jZSBhbGwgYXJndW1lbnRzIGFyZVxuICogLy8gc3VwcGxpZWQsIHRoZSBvcmlnaW5hbCBpbkJvdGggZnVuY3Rpb24gaXMgdGhlbiBjYWxsZWQuXG4gKiBsZXQgb2JqMUluQm90aCA9IGluRm9vc0FuZEJhcnMob2JqMSk7IC8vIGZhbHNlXG4gKlxuICogLy8gVXNlIHRoZSBpbkZvb3NBbmRCYXJzIGFzIGEgcHJlZGljYXRlLlxuICogLy8gRmlsdGVyLCBvbiBlYWNoIGl0ZXJhdGlvbiwgc3VwcGxpZXMgdGhlIGZpbmFsIGFyZ3VtZW50XG4gKiBsZXQgYWxsT2JqcyA9IFsgb2JqMSwgb2JqMiwgb2JqMywgb2JqNCwgb2JqNSwgb2JqNiwgb2JqNyBdO1xuICogbGV0IGZvdW5kSW5Cb3RoID0gYWxsT2Jqcy5maWx0ZXIoaW5Gb29zQW5kQmFycyk7IC8vIFsgb2JqMyBdXG4gKlxuICogYGBgXG4gKlxuICogU3RvbGVuIGZyb206IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDM5NDc0Ny9qYXZhc2NyaXB0LWN1cnJ5LWZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIGZuXG4gKiBAcmV0dXJucyB7KnxmdW5jdGlvbigpOiAoKnxhbnkpfVxuICovXG5mdW5jdGlvbiBjdXJyeShmbikge1xuICAgIHZhciBpbml0aWFsX2FyZ3MgPSBbXS5zbGljZS5hcHBseShhcmd1bWVudHMsIFsxXSk7XG4gICAgdmFyIGZ1bmNfYXJnc19sZW5ndGggPSBmbi5sZW5ndGg7XG4gICAgZnVuY3Rpb24gY3VycmllZChhcmdzKSB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA+PSBmdW5jX2FyZ3NfbGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJpZWQoYXJncy5jb25jYXQoW10uc2xpY2UuYXBwbHkoYXJndW1lbnRzKSkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gY3VycmllZChpbml0aWFsX2FyZ3MpO1xufVxuZXhwb3J0cy5jdXJyeSA9IGN1cnJ5O1xuLyoqXG4gKiBHaXZlbiBhIHZhcmFyZ3MgbGlzdCBvZiBmdW5jdGlvbnMsIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNvbXBvc2VzIHRoZSBhcmd1bWVudCBmdW5jdGlvbnMsIHJpZ2h0LXRvLWxlZnRcbiAqIGdpdmVuOiBmKHgpLCBnKHgpLCBoKHgpXG4gKiBsZXQgY29tcG9zZWQgPSBjb21wb3NlKGYsZyxoKVxuICogdGhlbiwgY29tcG9zZWQgaXM6IGYoZyhoKHgpKSlcbiAqL1xuZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgc3RhcnQgPSBhcmdzLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGkgPSBzdGFydCwgcmVzdWx0ID0gYXJnc1tzdGFydF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgIHJlc3VsdCA9IGFyZ3NbaV0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5leHBvcnRzLmNvbXBvc2UgPSBjb21wb3NlO1xuLyoqXG4gKiBHaXZlbiBhIHZhcmFyZ3MgbGlzdCBvZiBmdW5jdGlvbnMsIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGlzIGNvbXBvc2VzIHRoZSBhcmd1bWVudCBmdW5jdGlvbnMsIGxlZnQtdG8tcmlnaHRcbiAqIGdpdmVuOiBmKHgpLCBnKHgpLCBoKHgpXG4gKiBsZXQgcGlwZWQgPSBwaXBlKGYsZyxoKTtcbiAqIHRoZW4sIHBpcGVkIGlzOiBoKGcoZih4KSkpXG4gKi9cbmZ1bmN0aW9uIHBpcGUoKSB7XG4gICAgdmFyIGZ1bmNzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZnVuY3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvc2UuYXBwbHkobnVsbCwgW10uc2xpY2UuY2FsbChhcmd1bWVudHMpLnJldmVyc2UoKSk7XG59XG5leHBvcnRzLnBpcGUgPSBwaXBlO1xuLyoqXG4gKiBHaXZlbiBhIHByb3BlcnR5IG5hbWUsIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhhdCBwcm9wZXJ0eSBmcm9tIGFuIG9iamVjdFxuICogbGV0IG9iaiA9IHsgZm9vOiAxLCBuYW1lOiBcImJsYXJnXCIgfTtcbiAqIGxldCBnZXROYW1lID0gcHJvcChcIm5hbWVcIik7XG4gKiBnZXROYW1lKG9iaikgPT09IFwiYmxhcmdcIlxuICovXG5leHBvcnRzLnByb3AgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIG9ialtuYW1lXTsgfTsgfTtcbi8qKlxuICogR2l2ZW4gYSBwcm9wZXJ0eSBuYW1lIGFuZCBhIHZhbHVlLCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgYm9vbGVhbiBiYXNlZCBvbiB3aGV0aGVyXG4gKiB0aGUgcGFzc2VkIG9iamVjdCBoYXMgYSBwcm9wZXJ0eSB0aGF0IG1hdGNoZXMgdGhlIHZhbHVlXG4gKiBsZXQgb2JqID0geyBmb286IDEsIG5hbWU6IFwiYmxhcmdcIiB9O1xuICogbGV0IGdldE5hbWUgPSBwcm9wRXEoXCJuYW1lXCIsIFwiYmxhcmdcIik7XG4gKiBnZXROYW1lKG9iaikgPT09IHRydWVcbiAqL1xuZXhwb3J0cy5wcm9wRXEgPSBjdXJyeShmdW5jdGlvbiAobmFtZSwgX3ZhbCwgb2JqKSB7IHJldHVybiBvYmogJiYgb2JqW25hbWVdID09PSBfdmFsOyB9KTtcbi8qKlxuICogR2l2ZW4gYSBkb3R0ZWQgcHJvcGVydHkgbmFtZSwgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIG5lc3RlZCBwcm9wZXJ0eSBmcm9tIGFuIG9iamVjdCwgb3IgdW5kZWZpbmVkXG4gKiBsZXQgb2JqID0geyBpZDogMSwgbmVzdGVkT2JqOiB7IGZvbzogMSwgbmFtZTogXCJibGFyZ1wiIH0sIH07XG4gKiBsZXQgZ2V0TmFtZSA9IHByb3AoXCJuZXN0ZWRPYmoubmFtZVwiKTtcbiAqIGdldE5hbWUob2JqKSA9PT0gXCJibGFyZ1wiXG4gKiBsZXQgcHJvcE5vdEZvdW5kID0gcHJvcChcInRoaXMucHJvcGVydHkuZG9lc250LmV4aXN0XCIpO1xuICogcHJvcE5vdEZvdW5kKG9iaikgPT09IHVuZGVmaW5lZFxuICovXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIHBpcGUuYXBwbHkobnVsbCwgbmFtZS5zcGxpdCgnLicpLm1hcChleHBvcnRzLnByb3ApKTsgfTtcbi8qKlxuICogR2l2ZW4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0cnV0aHkgb3IgZmFsc2V5IHZhbHVlLCByZXR1cm5zIGFcbiAqIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgb3Bwb3NpdGUgKGZhbHNleSBvciB0cnV0aHkpIHZhbHVlIGdpdmVuIHRoZSBzYW1lIGlucHV0c1xuICovXG5leHBvcnRzLm5vdCA9IGZ1bmN0aW9uIChmbikgeyByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gIWZuLmFwcGx5KG51bGwsIGFyZ3MpO1xufTsgfTtcbi8qKlxuICogR2l2ZW4gdHdvIGZ1bmN0aW9ucyB0aGF0IHJldHVybiB0cnV0aHkgb3IgZmFsc2V5IHZhbHVlcywgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnV0aHlcbiAqIGlmIGJvdGggZnVuY3Rpb25zIHJldHVybiB0cnV0aHkgZm9yIHRoZSBnaXZlbiBhcmd1bWVudHNcbiAqL1xuZnVuY3Rpb24gYW5kKGZuMSwgZm4yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4xLmFwcGx5KG51bGwsIGFyZ3MpICYmIGZuMi5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9O1xufVxuZXhwb3J0cy5hbmQgPSBhbmQ7XG4vKipcbiAqIEdpdmVuIHR3byBmdW5jdGlvbnMgdGhhdCByZXR1cm4gdHJ1dGh5IG9yIGZhbHNleSB2YWx1ZXMsIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1dGh5XG4gKiBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIGZ1bmN0aW9ucyByZXR1cm5zIHRydXRoeSBmb3IgdGhlIGdpdmVuIGFyZ3VtZW50c1xuICovXG5mdW5jdGlvbiBvcihmbjEsIGZuMikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZuMS5hcHBseShudWxsLCBhcmdzKSB8fCBmbjIuYXBwbHkobnVsbCwgYXJncyk7XG4gICAgfTtcbn1cbmV4cG9ydHMub3IgPSBvcjtcbi8qKlxuICogQ2hlY2sgaWYgYWxsIHRoZSBlbGVtZW50cyBvZiBhbiBhcnJheSBtYXRjaCBhIHByZWRpY2F0ZSBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSBmbjEgYSBwcmVkaWNhdGUgZnVuY3Rpb24gYGZuMWBcbiAqIEByZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgYW4gYXJyYXkgYW5kIHJldHVybnMgdHJ1ZSBpZiBgZm4xYCBpcyB0cnVlIGZvciBhbGwgZWxlbWVudHMgb2YgdGhlIGFycmF5XG4gKi9cbmV4cG9ydHMuYWxsID0gZnVuY3Rpb24gKGZuMSkgeyByZXR1cm4gZnVuY3Rpb24gKGFycikgeyByZXR1cm4gYXJyLnJlZHVjZShmdW5jdGlvbiAoYiwgeCkgeyByZXR1cm4gYiAmJiAhIWZuMSh4KTsgfSwgdHJ1ZSk7IH07IH07XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6dmFyaWFibGUtbmFtZVxuZXhwb3J0cy5hbnkgPSBmdW5jdGlvbiAoZm4xKSB7IHJldHVybiBmdW5jdGlvbiAoYXJyKSB7IHJldHVybiBhcnIucmVkdWNlKGZ1bmN0aW9uIChiLCB4KSB7IHJldHVybiBiIHx8ICEhZm4xKHgpOyB9LCBmYWxzZSk7IH07IH07XG4vKiogR2l2ZW4gYSBjbGFzcywgcmV0dXJucyBhIFByZWRpY2F0ZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIG9mIHRoYXQgY2xhc3MgKi9cbmV4cG9ydHMuaXMgPSBmdW5jdGlvbiAoY3RvcikgeyByZXR1cm4gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiAob2JqICE9IG51bGwgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBjdG9yKSB8fCBvYmogaW5zdGFuY2VvZiBjdG9yO1xufTsgfTtcbi8qKiBHaXZlbiBhIHZhbHVlLCByZXR1cm5zIGEgUHJlZGljYXRlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGFub3RoZXIgdmFsdWUgaXMgPT09IGVxdWFsIHRvIHRoZSBvcmlnaW5hbCB2YWx1ZSAqL1xuZXhwb3J0cy5lcSA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gZnVuY3Rpb24gKG90aGVyKSB7IHJldHVybiB2YWx1ZSA9PT0gb3RoZXI7IH07IH07XG4vKiogR2l2ZW4gYSB2YWx1ZSwgcmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgdGhlIHZhbHVlICovXG5leHBvcnRzLnZhbCA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiB2OyB9OyB9O1xuZnVuY3Rpb24gaW52b2tlKGZuTmFtZSwgYXJncykge1xuICAgIHJldHVybiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmpbZm5OYW1lXS5hcHBseShvYmosIGFyZ3MpOyB9O1xufVxuZXhwb3J0cy5pbnZva2UgPSBpbnZva2U7XG4vKipcbiAqIFNvcnRhIGxpa2UgUGF0dGVybiBNYXRjaGluZyAoYSBmdW5jdGlvbmFsIHByb2dyYW1taW5nIGNvbmRpdGlvbmFsIGNvbnN0cnVjdClcbiAqXG4gKiBTZWUgaHR0cDovL2MyLmNvbS9jZ2kvd2lraT9QYXR0ZXJuTWF0Y2hpbmdcbiAqXG4gKiBUaGlzIGlzIGEgY29uZGl0aW9uYWwgY29uc3RydWN0IHdoaWNoIGFsbG93cyBhIHNlcmllcyBvZiBwcmVkaWNhdGVzIGFuZCBvdXRwdXQgZnVuY3Rpb25zXG4gKiB0byBiZSBjaGVja2VkIGFuZCB0aGVuIGFwcGxpZWQuICBFYWNoIHByZWRpY2F0ZSByZWNlaXZlcyB0aGUgaW5wdXQuICBJZiB0aGUgcHJlZGljYXRlXG4gKiByZXR1cm5zIHRydXRoeSwgdGhlbiBpdHMgbWF0Y2hpbmcgb3V0cHV0IGZ1bmN0aW9uIChtYXBwaW5nIGZ1bmN0aW9uKSBpcyBwcm92aWRlZCB3aXRoXG4gKiB0aGUgaW5wdXQgYW5kLCB0aGVuIHRoZSByZXN1bHQgaXMgcmV0dXJuZWQuXG4gKlxuICogRWFjaCBjb21iaW5hdGlvbiAoMi10dXBsZSkgb2YgcHJlZGljYXRlICsgb3V0cHV0IGZ1bmN0aW9uIHNob3VsZCBiZSBwbGFjZWQgaW4gYW4gYXJyYXlcbiAqIG9mIHNpemUgMjogWyBwcmVkaWNhdGUsIG1hcEZuIF1cbiAqXG4gKiBUaGVzZSAyLXR1cGxlcyBzaG91bGQgYmUgcHV0IGluIGFuIG91dGVyIGFycmF5LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiAvLyBIZXJlJ3MgYSAyLXR1cGxlIHdoZXJlIHRoZSBmaXJzdCBlbGVtZW50IGlzIHRoZSBpc1N0cmluZyBwcmVkaWNhdGVcbiAqIC8vIGFuZCB0aGUgc2Vjb25kIGVsZW1lbnQgaXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBkZXNjcmlwdGlvbiBvZiB0aGUgaW5wdXRcbiAqIGxldCBmaXJzdFR1cGxlID0gWyBhbmd1bGFyLmlzU3RyaW5nLCAoaW5wdXQpID0+IGBIZXJlcyB5b3VyIHN0cmluZyAke2lucHV0fWAgXTtcbiAqXG4gKiAvLyBTZWNvbmQgdHVwbGU6IHByZWRpY2F0ZSBcImlzTnVtYmVyXCIsIG1hcGZuIHJldHVybnMgYSBkZXNjcmlwdGlvblxuICogbGV0IHNlY29uZFR1cGxlID0gWyBhbmd1bGFyLmlzTnVtYmVyLCAoaW5wdXQpID0+IGAoJHtpbnB1dH0pIFRoYXQncyBhIG51bWJlciFgIF07XG4gKlxuICogbGV0IHRoaXJkID0gWyAoaW5wdXQpID0+IGlucHV0ID09PSBudWxsLCAgKGlucHV0KSA9PiBgT2gsIG51bGwuLi5gIF07XG4gKlxuICogbGV0IGZvdXJ0aCA9IFsgKGlucHV0KSA9PiBpbnB1dCA9PT0gdW5kZWZpbmVkLCAgKGlucHV0KSA9PiBgbm90ZGVmaW5lZGAgXTtcbiAqXG4gKiBsZXQgZGVzY3JpcHRpb25PZiA9IHBhdHRlcm4oWyBmaXJzdFR1cGxlLCBzZWNvbmRUdXBsZSwgdGhpcmQsIGZvdXJ0aCBdKTtcbiAqXG4gKiBjb25zb2xlLmxvZyhkZXNjcmlwdGlvbk9mKHVuZGVmaW5lZCkpOyAvLyAnbm90ZGVmaW5lZCdcbiAqIGNvbnNvbGUubG9nKGRlc2NyaXB0aW9uT2YoNTUpKTsgLy8gJyg1NSkgVGhhdCdzIGEgbnVtYmVyISdcbiAqIGNvbnNvbGUubG9nKGRlc2NyaXB0aW9uT2YoXCJmb29cIikpOyAvLyAnSGVyZSdzIHlvdXIgc3RyaW5nIGZvbydcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdHJ1Y3QgQSAyRCBhcnJheS4gIEVhY2ggZWxlbWVudCBvZiB0aGUgYXJyYXkgc2hvdWxkIGJlIGFuIGFycmF5LCBhIDItdHVwbGUsXG4gKiB3aXRoIGEgUHJlZGljYXRlIGFuZCBhIG1hcHBpbmcvb3V0cHV0IGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oYW55KTogKn1cbiAqL1xuZnVuY3Rpb24gcGF0dGVybihzdHJ1Y3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJ1Y3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChzdHJ1Y3RbaV1bMF0oeCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cnVjdFtpXVsxXSh4KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnRzLnBhdHRlcm4gPSBwYXR0ZXJuO1xuXG59LHt9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAcHVibGljYXBpIEBtb2R1bGUgY29tbW9uICovIC8qKiAqL1xuX19leHBvcnQocmVxdWlyZShcIi4vY29tbW9uXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NvcmVzZXJ2aWNlc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9nbG9iXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2hvZlwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wcmVkaWNhdGVzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3F1ZXVlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3N0cmluZ3NcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdHJhY2VcIikpO1xuXG59LHtcIi4vY29tbW9uXCI6MyxcIi4vY29yZXNlcnZpY2VzXCI6NCxcIi4vZ2xvYlwiOjUsXCIuL2hvZlwiOjYsXCIuL3ByZWRpY2F0ZXNcIjo4LFwiLi9xdWV1ZVwiOjksXCIuL3N0cmluZ3NcIjoxMCxcIi4vdHJhY2VcIjoxMX1dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogUHJlZGljYXRlc1xuICpcbiAqIFRoZXNlIHByZWRpY2F0ZXMgcmV0dXJuIHRydWUvZmFsc2UgYmFzZWQgb24gdGhlIGlucHV0LlxuICogQWx0aG91Z2ggdGhlc2UgZnVuY3Rpb25zIGFyZSBleHBvcnRlZCwgdGhleSBhcmUgc3ViamVjdCB0byBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gKlxuICogQG1vZHVsZSBjb21tb25fcHJlZGljYXRlc1xuICovIC8qKiAqL1xudmFyIGhvZl8xID0gcmVxdWlyZShcIi4vaG9mXCIpO1xudmFyIHRvU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciB0aXMgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHR5cGVvZiB4ID09PSB0OyB9OyB9O1xuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IHRpcygndW5kZWZpbmVkJyk7XG5leHBvcnRzLmlzRGVmaW5lZCA9IGhvZl8xLm5vdChleHBvcnRzLmlzVW5kZWZpbmVkKTtcbmV4cG9ydHMuaXNOdWxsID0gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gPT09IG51bGw7IH07XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaG9mXzEub3IoZXhwb3J0cy5pc051bGwsIGV4cG9ydHMuaXNVbmRlZmluZWQpO1xuZXhwb3J0cy5pc0Z1bmN0aW9uID0gdGlzKCdmdW5jdGlvbicpO1xuZXhwb3J0cy5pc051bWJlciA9IHRpcygnbnVtYmVyJyk7XG5leHBvcnRzLmlzU3RyaW5nID0gdGlzKCdzdHJpbmcnKTtcbmV4cG9ydHMuaXNPYmplY3QgPSBmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAhPT0gbnVsbCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCc7IH07XG5leHBvcnRzLmlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuZXhwb3J0cy5pc0RhdGUgPSAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHRvU3RyLmNhbGwoeCkgPT09ICdbb2JqZWN0IERhdGVdJzsgfSk7XG5leHBvcnRzLmlzUmVnRXhwID0gKGZ1bmN0aW9uICh4KSB7IHJldHVybiB0b1N0ci5jYWxsKHgpID09PSAnW29iamVjdCBSZWdFeHBdJzsgfSk7XG4vKipcbiAqIFByZWRpY2F0ZSB3aGljaCBjaGVja3MgaWYgYSB2YWx1ZSBpcyBpbmplY3RhYmxlXG4gKlxuICogQSB2YWx1ZSBpcyBcImluamVjdGFibGVcIiBpZiBpdCBpcyBhIGZ1bmN0aW9uLCBvciBpZiBpdCBpcyBhbiBuZzEgYXJyYXktbm90YXRpb24tc3R5bGUgYXJyYXlcbiAqIHdoZXJlIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIGFycmF5IGFyZSBTdHJpbmdzLCBleGNlcHQgdGhlIGxhc3Qgb25lLCB3aGljaCBpcyBhIEZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGlzSW5qZWN0YWJsZSh2YWwpIHtcbiAgICBpZiAoZXhwb3J0cy5pc0FycmF5KHZhbCkgJiYgdmFsLmxlbmd0aCkge1xuICAgICAgICB2YXIgaGVhZCA9IHZhbC5zbGljZSgwLCAtMSksIHRhaWwgPSB2YWwuc2xpY2UoLTEpO1xuICAgICAgICByZXR1cm4gIShoZWFkLmZpbHRlcihob2ZfMS5ub3QoZXhwb3J0cy5pc1N0cmluZykpLmxlbmd0aCB8fCB0YWlsLmZpbHRlcihob2ZfMS5ub3QoZXhwb3J0cy5pc0Z1bmN0aW9uKSkubGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cG9ydHMuaXNGdW5jdGlvbih2YWwpO1xufVxuZXhwb3J0cy5pc0luamVjdGFibGUgPSBpc0luamVjdGFibGU7XG4vKipcbiAqIFByZWRpY2F0ZSB3aGljaCBjaGVja3MgaWYgYSB2YWx1ZSBsb29rcyBsaWtlIGEgUHJvbWlzZVxuICpcbiAqIEl0IGlzIHByb2JhYmx5IGEgUHJvbWlzZSBpZiBpdCdzIGFuIG9iamVjdCwgYW5kIGl0IGhhcyBhIGB0aGVuYCBwcm9wZXJ0eSB3aGljaCBpcyBhIEZ1bmN0aW9uXG4gKi9cbmV4cG9ydHMuaXNQcm9taXNlID0gaG9mXzEuYW5kKGV4cG9ydHMuaXNPYmplY3QsIGhvZl8xLnBpcGUoaG9mXzEucHJvcCgndGhlbicpLCBleHBvcnRzLmlzRnVuY3Rpb24pKTtcblxufSx7XCIuL2hvZlwiOjZ9XSw5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSBjb21tb24gKi8gLyoqICovXG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi9jb21tb25cIik7XG52YXIgUXVldWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUXVldWUoX2l0ZW1zLCBfbGltaXQpIHtcbiAgICAgICAgaWYgKF9pdGVtcyA9PT0gdm9pZCAwKSB7IF9pdGVtcyA9IFtdOyB9XG4gICAgICAgIGlmIChfbGltaXQgPT09IHZvaWQgMCkgeyBfbGltaXQgPSBudWxsOyB9XG4gICAgICAgIHRoaXMuX2l0ZW1zID0gX2l0ZW1zO1xuICAgICAgICB0aGlzLl9saW1pdCA9IF9saW1pdDtcbiAgICAgICAgdGhpcy5fZXZpY3RMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5vbkV2aWN0ID0gY29tbW9uXzEucHVzaFRvKHRoaXMuX2V2aWN0TGlzdGVuZXJzKTtcbiAgICB9XG4gICAgUXVldWUucHJvdG90eXBlLmVucXVldWUgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLl9pdGVtcztcbiAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgaWYgKHRoaXMuX2xpbWl0ICYmIGl0ZW1zLmxlbmd0aCA+IHRoaXMuX2xpbWl0KVxuICAgICAgICAgICAgdGhpcy5ldmljdCgpO1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICB9O1xuICAgIFF1ZXVlLnByb3RvdHlwZS5ldmljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9pdGVtcy5zaGlmdCgpO1xuICAgICAgICB0aGlzLl9ldmljdExpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChmbikgeyByZXR1cm4gZm4oaXRlbSk7IH0pO1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICB9O1xuICAgIFF1ZXVlLnByb3RvdHlwZS5kZXF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zaXplKCkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXRlbXMuc3BsaWNlKDAsIDEpWzBdO1xuICAgIH07XG4gICAgUXVldWUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX2l0ZW1zO1xuICAgICAgICB0aGlzLl9pdGVtcyA9IFtdO1xuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9O1xuICAgIFF1ZXVlLnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlbXMubGVuZ3RoO1xuICAgIH07XG4gICAgUXVldWUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciBpZHggPSB0aGlzLl9pdGVtcy5pbmRleE9mKGl0ZW0pO1xuICAgICAgICByZXR1cm4gaWR4ID4gLTEgJiYgdGhpcy5faXRlbXMuc3BsaWNlKGlkeCwgMSlbMF07XG4gICAgfTtcbiAgICBRdWV1ZS5wcm90b3R5cGUucGVla1RhaWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtc1t0aGlzLl9pdGVtcy5sZW5ndGggLSAxXTtcbiAgICB9O1xuICAgIFF1ZXVlLnByb3RvdHlwZS5wZWVrSGVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2l6ZSgpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zWzBdO1xuICAgIH07XG4gICAgcmV0dXJuIFF1ZXVlO1xufSgpKTtcbmV4cG9ydHMuUXVldWUgPSBRdWV1ZTtcblxufSx7XCIuL2NvbW1vblwiOjN9XSwxMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogRnVuY3Rpb25zIHRoYXQgbWFuaXB1bGF0ZSBzdHJpbmdzXG4gKlxuICogQWx0aG91Z2ggdGhlc2UgZnVuY3Rpb25zIGFyZSBleHBvcnRlZCwgdGhleSBhcmUgc3ViamVjdCB0byBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gKlxuICogQG1vZHVsZSBjb21tb25fc3RyaW5nc1xuICovIC8qKiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHByZWRpY2F0ZXNfMSA9IHJlcXVpcmUoXCIuL3ByZWRpY2F0ZXNcIik7XG52YXIgcmVqZWN0RmFjdG9yeV8xID0gcmVxdWlyZShcIi4uL3RyYW5zaXRpb24vcmVqZWN0RmFjdG9yeVwiKTtcbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuL2NvbW1vblwiKTtcbnZhciBob2ZfMSA9IHJlcXVpcmUoXCIuL2hvZlwiKTtcbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyBzaG9ydGVuZWQgdG8gYSBtYXhpbXVtIGxlbmd0aFxuICpcbiAqIElmIHRoZSBzdHJpbmcgaXMgYWxyZWFkeSBsZXNzIHRoYW4gdGhlIGBtYXhgIGxlbmd0aCwgcmV0dXJuIHRoZSBzdHJpbmcuXG4gKiBFbHNlIHJldHVybiB0aGUgc3RyaW5nLCBzaG9ydGVuZWQgdG8gYG1heCAtIDNgIGFuZCBhcHBlbmQgdGhyZWUgZG90cyAoXCIuLi5cIikuXG4gKlxuICogQHBhcmFtIG1heCB0aGUgbWF4aW11bSBsZW5ndGggb2YgdGhlIHN0cmluZyB0byByZXR1cm5cbiAqIEBwYXJhbSBzdHIgdGhlIGlucHV0IHN0cmluZ1xuICovXG5mdW5jdGlvbiBtYXhMZW5ndGgobWF4LCBzdHIpIHtcbiAgICBpZiAoc3RyLmxlbmd0aCA8PSBtYXgpXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgcmV0dXJuIHN0ci5zdWJzdHIoMCwgbWF4IC0gMykgKyAnLi4uJztcbn1cbmV4cG9ydHMubWF4TGVuZ3RoID0gbWF4TGVuZ3RoO1xuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nLCB3aXRoIHNwYWNlcyBhZGRlZCB0byB0aGUgZW5kLCB1cCB0byBhIGRlc2lyZWQgc3RyIGxlbmd0aFxuICpcbiAqIElmIHRoZSBzdHJpbmcgaXMgYWxyZWFkeSBsb25nZXIgdGhhbiB0aGUgZGVzaXJlZCBsZW5ndGgsIHJldHVybiB0aGUgc3RyaW5nLlxuICogRWxzZSByZXR1cm5zIHRoZSBzdHJpbmcsIHdpdGggZXh0cmEgc3BhY2VzIG9uIHRoZSBlbmQsIHN1Y2ggdGhhdCBpdCByZWFjaGVzIGBsZW5ndGhgIGNoYXJhY3RlcnMuXG4gKlxuICogQHBhcmFtIGxlbmd0aCB0aGUgZGVzaXJlZCBsZW5ndGggb2YgdGhlIHN0cmluZyB0byByZXR1cm5cbiAqIEBwYXJhbSBzdHIgdGhlIGlucHV0IHN0cmluZ1xuICovXG5mdW5jdGlvbiBwYWRTdHJpbmcobGVuZ3RoLCBzdHIpIHtcbiAgICB3aGlsZSAoc3RyLmxlbmd0aCA8IGxlbmd0aClcbiAgICAgICAgc3RyICs9ICcgJztcbiAgICByZXR1cm4gc3RyO1xufVxuZXhwb3J0cy5wYWRTdHJpbmcgPSBwYWRTdHJpbmc7XG5mdW5jdGlvbiBrZWJvYlN0cmluZyhjYW1lbENhc2UpIHtcbiAgICByZXR1cm4gY2FtZWxDYXNlXG4gICAgICAgIC5yZXBsYWNlKC9eKFtBLVpdKS8sIGZ1bmN0aW9uICgkMSkgeyByZXR1cm4gJDEudG9Mb3dlckNhc2UoKTsgfSkgLy8gcmVwbGFjZSBmaXJzdCBjaGFyXG4gICAgICAgIC5yZXBsYWNlKC8oW0EtWl0pL2csIGZ1bmN0aW9uICgkMSkgeyByZXR1cm4gJy0nICsgJDEudG9Mb3dlckNhc2UoKTsgfSk7IC8vIHJlcGxhY2UgcmVzdFxufVxuZXhwb3J0cy5rZWJvYlN0cmluZyA9IGtlYm9iU3RyaW5nO1xuZnVuY3Rpb24gZnVuY3Rpb25Ub1N0cmluZyhmbikge1xuICAgIHZhciBmblN0ciA9IGZuVG9TdHJpbmcoZm4pO1xuICAgIHZhciBuYW1lZEZ1bmN0aW9uTWF0Y2ggPSBmblN0ci5tYXRjaCgvXihmdW5jdGlvbiBbXiBdK1xcKFteKV0qXFwpKS8pO1xuICAgIHZhciB0b1N0ciA9IG5hbWVkRnVuY3Rpb25NYXRjaCA/IG5hbWVkRnVuY3Rpb25NYXRjaFsxXSA6IGZuU3RyO1xuICAgIHZhciBmbk5hbWUgPSBmblsnbmFtZSddIHx8ICcnO1xuICAgIGlmIChmbk5hbWUgJiYgdG9TdHIubWF0Y2goL2Z1bmN0aW9uIFxcKC8pKSB7XG4gICAgICAgIHJldHVybiAnZnVuY3Rpb24gJyArIGZuTmFtZSArIHRvU3RyLnN1YnN0cig5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRvU3RyO1xufVxuZXhwb3J0cy5mdW5jdGlvblRvU3RyaW5nID0gZnVuY3Rpb25Ub1N0cmluZztcbmZ1bmN0aW9uIGZuVG9TdHJpbmcoZm4pIHtcbiAgICB2YXIgX2ZuID0gcHJlZGljYXRlc18xLmlzQXJyYXkoZm4pID8gZm4uc2xpY2UoLTEpWzBdIDogZm47XG4gICAgcmV0dXJuIChfZm4gJiYgX2ZuLnRvU3RyaW5nKCkpIHx8ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5mblRvU3RyaW5nID0gZm5Ub1N0cmluZztcbnZhciBpc1JlamVjdGlvbiA9IHJlamVjdEZhY3RvcnlfMS5SZWplY3Rpb24uaXNSZWplY3Rpb25Qcm9taXNlO1xudmFyIGhhc1RvU3RyaW5nID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBwcmVkaWNhdGVzXzEuaXNPYmplY3Qob2JqKSAmJiAhcHJlZGljYXRlc18xLmlzQXJyYXkob2JqKSAmJiBvYmouY29uc3RydWN0b3IgIT09IE9iamVjdCAmJiBwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbihvYmoudG9TdHJpbmcpO1xufTtcbnZhciBzdHJpbmdpZnlQYXR0ZXJuID0gaG9mXzEucGF0dGVybihbXG4gICAgW3ByZWRpY2F0ZXNfMS5pc1VuZGVmaW5lZCwgaG9mXzEudmFsKCd1bmRlZmluZWQnKV0sXG4gICAgW3ByZWRpY2F0ZXNfMS5pc051bGwsIGhvZl8xLnZhbCgnbnVsbCcpXSxcbiAgICBbcHJlZGljYXRlc18xLmlzUHJvbWlzZSwgaG9mXzEudmFsKCdbUHJvbWlzZV0nKV0sXG4gICAgW2lzUmVqZWN0aW9uLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5fdHJhbnNpdGlvblJlamVjdGlvbi50b1N0cmluZygpOyB9XSxcbiAgICBbaGFzVG9TdHJpbmcsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnRvU3RyaW5nKCk7IH1dLFxuICAgIFtwcmVkaWNhdGVzXzEuaXNJbmplY3RhYmxlLCBmdW5jdGlvblRvU3RyaW5nXSxcbiAgICBbaG9mXzEudmFsKHRydWUpLCBjb21tb25fMS5pZGVudGl0eV0sXG5dKTtcbmZ1bmN0aW9uIHN0cmluZ2lmeShvKSB7XG4gICAgdmFyIHNlZW4gPSBbXTtcbiAgICBmdW5jdGlvbiBmb3JtYXQodmFsdWUpIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmIChzZWVuLmluZGV4T2YodmFsdWUpICE9PSAtMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1tjaXJjdWxhciByZWZdJztcbiAgICAgICAgICAgIHNlZW4ucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmeVBhdHRlcm4odmFsdWUpO1xuICAgIH1cbiAgICBpZiAocHJlZGljYXRlc18xLmlzVW5kZWZpbmVkKG8pKSB7XG4gICAgICAgIC8vIFdvcmthcm91bmQgZm9yIElFICYgRWRnZSBTcGVjIGluY29tcGF0aWJpbGl0eSB3aGVyZSByZXBsYWNlciBmdW5jdGlvbiB3b3VsZCBub3QgYmUgY2FsbGVkIHdoZW4gSlNPTi5zdHJpbmdpZnlcbiAgICAgICAgLy8gaXMgZ2l2ZW4gYHVuZGVmaW5lZGAgYXMgdmFsdWUuIFRvIHdvcmsgYXJvdW5kIHRoYXQsIHdlIHNpbXBseSBkZXRlY3QgYHVuZGVmaW5lZGAgYW5kIGJhaWwgb3V0IGVhcmx5IGJ5XG4gICAgICAgIC8vIG1hbnVhbGx5IHN0cmluZ2lmeWluZyBpdC5cbiAgICAgICAgcmV0dXJuIGZvcm1hdChvKTtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG8sIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7IHJldHVybiBmb3JtYXQodmFsdWUpOyB9KS5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJyk7XG59XG5leHBvcnRzLnN0cmluZ2lmeSA9IHN0cmluZ2lmeTtcbi8qKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBzcGxpdHMgYSBzdHJpbmcgb24gYSBjaGFyYWN0ZXIgb3Igc3Vic3RyaW5nICovXG5leHBvcnRzLmJlZm9yZUFmdGVyU3Vic3RyID0gZnVuY3Rpb24gKGNoYXIpIHsgcmV0dXJuIGZ1bmN0aW9uIChzdHIpIHtcbiAgICBpZiAoIXN0cilcbiAgICAgICAgcmV0dXJuIFsnJywgJyddO1xuICAgIHZhciBpZHggPSBzdHIuaW5kZXhPZihjaGFyKTtcbiAgICBpZiAoaWR4ID09PSAtMSlcbiAgICAgICAgcmV0dXJuIFtzdHIsICcnXTtcbiAgICByZXR1cm4gW3N0ci5zdWJzdHIoMCwgaWR4KSwgc3RyLnN1YnN0cihpZHggKyAxKV07XG59OyB9O1xuZXhwb3J0cy5ob3N0UmVnZXggPSBuZXcgUmVnRXhwKCdeKD86W2Etel0rOik/Ly9bXi9dKy8nKTtcbmV4cG9ydHMuc3RyaXBMYXN0UGF0aEVsZW1lbnQgPSBmdW5jdGlvbiAoc3RyKSB7IHJldHVybiBzdHIucmVwbGFjZSgvXFwvW14vXSokLywgJycpOyB9O1xuZXhwb3J0cy5zcGxpdEhhc2ggPSBleHBvcnRzLmJlZm9yZUFmdGVyU3Vic3RyKCcjJyk7XG5leHBvcnRzLnNwbGl0UXVlcnkgPSBleHBvcnRzLmJlZm9yZUFmdGVyU3Vic3RyKCc/Jyk7XG5leHBvcnRzLnNwbGl0RXF1YWwgPSBleHBvcnRzLmJlZm9yZUFmdGVyU3Vic3RyKCc9Jyk7XG5leHBvcnRzLnRyaW1IYXNoVmFsID0gZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gKHN0ciA/IHN0ci5yZXBsYWNlKC9eIy8sICcnKSA6ICcnKTsgfTtcbi8qKlxuICogU3BsaXRzIG9uIGEgZGVsaW1pdGVyLCBidXQgcmV0dXJucyB0aGUgZGVsaW1pdGVycyBpbiB0aGUgYXJyYXlcbiAqXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBgYGBqc1xuICogdmFyIHNwbGl0T25TbGFzaGVzID0gc3BsaXRPbkRlbGltKCcvJyk7XG4gKiBzcGxpdE9uU2xhc2hlcyhcIi9mb29cIik7IC8vIFtcIi9cIiwgXCJmb29cIl1cbiAqIHNwbGl0T25TbGFzaGVzKFwiL2Zvby9cIik7IC8vIFtcIi9cIiwgXCJmb29cIiwgXCIvXCJdXG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gc3BsaXRPbkRlbGltKGRlbGltKSB7XG4gICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgnKCcgKyBkZWxpbSArICcpJywgJ2cnKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gc3RyLnNwbGl0KHJlKS5maWx0ZXIoY29tbW9uXzEuaWRlbnRpdHkpOyB9O1xufVxuZXhwb3J0cy5zcGxpdE9uRGVsaW0gPSBzcGxpdE9uRGVsaW07XG4vKipcbiAqIFJlZHVjZSBmbiB0aGF0IGpvaW5zIG5laWdoYm9yaW5nIHN0cmluZ3NcbiAqXG4gKiBHaXZlbiBhbiBhcnJheSBvZiBzdHJpbmdzLCByZXR1cm5zIGEgbmV3IGFycmF5XG4gKiB3aGVyZSBhbGwgbmVpZ2hib3Jpbmcgc3RyaW5ncyBoYXZlIGJlZW4gam9pbmVkLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIGBgYGpzXG4gKiBsZXQgYXJyID0gW1wiZm9vXCIsIFwiYmFyXCIsIDEsIFwiYmF6XCIsIFwiXCIsIFwicXV4XCIgXTtcbiAqIGFyci5yZWR1Y2Uoam9pbk5laWdoYm9yc1IsIFtdKSAvLyBbXCJmb29iYXJcIiwgMSwgXCJiYXpxdXhcIiBdXG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gam9pbk5laWdoYm9yc1IoYWNjLCB4KSB7XG4gICAgaWYgKHByZWRpY2F0ZXNfMS5pc1N0cmluZyhjb21tb25fMS50YWlsKGFjYykpICYmIHByZWRpY2F0ZXNfMS5pc1N0cmluZyh4KSlcbiAgICAgICAgcmV0dXJuIGFjYy5zbGljZSgwLCAtMSkuY29uY2F0KGNvbW1vbl8xLnRhaWwoYWNjKSArIHgpO1xuICAgIHJldHVybiBjb21tb25fMS5wdXNoUihhY2MsIHgpO1xufVxuZXhwb3J0cy5qb2luTmVpZ2hib3JzUiA9IGpvaW5OZWlnaGJvcnNSO1xuXG59LHtcIi4uL3RyYW5zaXRpb24vcmVqZWN0RmFjdG9yeVwiOjUwLFwiLi9jb21tb25cIjozLFwiLi9ob2ZcIjo2LFwiLi9wcmVkaWNhdGVzXCI6OH1dLDExOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiAjIFRyYW5zaXRpb24gdHJhY2luZyAoZGVidWcpXG4gKlxuICogRW5hYmxlIHRyYW5zaXRpb24gdHJhY2luZyB0byBwcmludCB0cmFuc2l0aW9uIGluZm9ybWF0aW9uIHRvIHRoZSBjb25zb2xlLFxuICogaW4gb3JkZXIgdG8gaGVscCBkZWJ1ZyB5b3VyIGFwcGxpY2F0aW9uLlxuICogVHJhY2luZyBsb2dzIGRldGFpbGVkIGluZm9ybWF0aW9uIGFib3V0IGVhY2ggVHJhbnNpdGlvbiB0byB5b3VyIGNvbnNvbGUuXG4gKlxuICogVG8gZW5hYmxlIHRyYWNpbmcsIGltcG9ydCB0aGUgW1tUcmFjZV1dIHNpbmdsZXRvbiBhbmQgZW5hYmxlIG9uZSBvciBtb3JlIGNhdGVnb3JpZXMuXG4gKlxuICogIyMjIEVTNlxuICogYGBganNcbiAqIGltcG9ydCB7dHJhY2V9IGZyb20gXCJAdWlyb3V0ZXIvY29yZVwiO1xuICogdHJhY2UuZW5hYmxlKDEsIDUpOyAvLyBUUkFOU0lUSU9OIGFuZCBWSUVXQ09ORklHXG4gKiBgYGBcbiAqXG4gKiAjIyMgQ0pTXG4gKiBgYGBqc1xuICogbGV0IHRyYWNlID0gcmVxdWlyZShcIkB1aXJvdXRlci9jb3JlXCIpLnRyYWNlO1xuICogdHJhY2UuZW5hYmxlKFwiVFJBTlNJVElPTlwiLCBcIlZJRVdDT05GSUdcIik7XG4gKiBgYGBcbiAqXG4gKiAjIyMgR2xvYmFsc1xuICogYGBganNcbiAqIGxldCB0cmFjZSA9IHdpbmRvd1tcIkB1aXJvdXRlci9jb3JlXCJdLnRyYWNlO1xuICogdHJhY2UuZW5hYmxlKCk7IC8vIFRyYWNlIGV2ZXJ5dGhpbmcgKHZlcnkgdmVyYm9zZSlcbiAqIGBgYFxuICpcbiAqICMjIyBBbmd1bGFyIDE6XG4gKiBgYGBqc1xuICogYXBwLnJ1bigkdHJhY2UgPT4gJHRyYWNlLmVuYWJsZSgpKTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNhcGkgQG1vZHVsZSB0cmFjZVxuICovXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby1jb25zb2xlICovXG52YXIgaG9mXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2hvZlwiKTtcbnZhciBwcmVkaWNhdGVzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIik7XG52YXIgc3RyaW5nc18xID0gcmVxdWlyZShcIi4vc3RyaW5nc1wiKTtcbi8qKiBAaGlkZGVuICovXG5mdW5jdGlvbiB1aVZpZXdTdHJpbmcodWl2aWV3KSB7XG4gICAgaWYgKCF1aXZpZXcpXG4gICAgICAgIHJldHVybiAndWktdmlldyAoZGVmdW5jdCknO1xuICAgIHZhciBzdGF0ZSA9IHVpdmlldy5jcmVhdGlvbkNvbnRleHQgPyB1aXZpZXcuY3JlYXRpb25Db250ZXh0Lm5hbWUgfHwgJyhyb290KScgOiAnKG5vbmUpJztcbiAgICByZXR1cm4gXCJbdWktdmlldyNcIiArIHVpdmlldy5pZCArIFwiIFwiICsgdWl2aWV3LiR0eXBlICsgXCI6XCIgKyB1aXZpZXcuZnFuICsgXCIgKFwiICsgdWl2aWV3Lm5hbWUgKyBcIkBcIiArIHN0YXRlICsgXCIpXVwiO1xufVxuLyoqIEBoaWRkZW4gKi9cbnZhciB2aWV3Q29uZmlnU3RyaW5nID0gZnVuY3Rpb24gKHZpZXdDb25maWcpIHtcbiAgICB2YXIgdmlldyA9IHZpZXdDb25maWcudmlld0RlY2w7XG4gICAgdmFyIHN0YXRlID0gdmlldy4kY29udGV4dC5uYW1lIHx8ICcocm9vdCknO1xuICAgIHJldHVybiBcIltWaWV3I1wiICsgdmlld0NvbmZpZy4kaWQgKyBcIiBmcm9tICdcIiArIHN0YXRlICsgXCInIHN0YXRlXTogdGFyZ2V0IHVpLXZpZXc6ICdcIiArIHZpZXcuJHVpVmlld05hbWUgKyBcIkBcIiArIHZpZXcuJHVpVmlld0NvbnRleHRBbmNob3IgKyBcIidcIjtcbn07XG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplZENhdChpbnB1dCkge1xuICAgIHJldHVybiBwcmVkaWNhdGVzXzEuaXNOdW1iZXIoaW5wdXQpID8gQ2F0ZWdvcnlbaW5wdXRdIDogQ2F0ZWdvcnlbQ2F0ZWdvcnlbaW5wdXRdXTtcbn1cbi8qKiBAaGlkZGVuICovXG52YXIgY29uc29sZUxvZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5sb2csIGNvbnNvbGUpO1xuLyoqIEBoaWRkZW4gKi9cbnZhciBjb25zb2xldGFibGUgPSBwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbihjb25zb2xlLnRhYmxlKSA/IGNvbnNvbGUudGFibGUuYmluZChjb25zb2xlKSA6IGNvbnNvbGVMb2cuYmluZChjb25zb2xlKTtcbi8qKlxuICogVHJhY2UgY2F0ZWdvcmllcyBFbnVtXG4gKlxuICogRW5hYmxlIG9yIGRpc2FibGUgYSBjYXRlZ29yeSB1c2luZyBbW1RyYWNlLmVuYWJsZV1dIG9yIFtbVHJhY2UuZGlzYWJsZV1dXG4gKlxuICogYHRyYWNlLmVuYWJsZShDYXRlZ29yeS5UUkFOU0lUSU9OKWBcbiAqXG4gKiBUaGVzZSBjYW4gYWxzbyBiZSBwcm92aWRlZCB1c2luZyBhIG1hdGNoaW5nIHN0cmluZywgb3IgcG9zaXRpb24gb3JkaW5hbFxuICpcbiAqIGB0cmFjZS5lbmFibGUoXCJUUkFOU0lUSU9OXCIpYFxuICpcbiAqIGB0cmFjZS5lbmFibGUoMSlgXG4gKi9cbnZhciBDYXRlZ29yeTtcbihmdW5jdGlvbiAoQ2F0ZWdvcnkpIHtcbiAgICBDYXRlZ29yeVtDYXRlZ29yeVtcIlJFU09MVkVcIl0gPSAwXSA9IFwiUkVTT0xWRVwiO1xuICAgIENhdGVnb3J5W0NhdGVnb3J5W1wiVFJBTlNJVElPTlwiXSA9IDFdID0gXCJUUkFOU0lUSU9OXCI7XG4gICAgQ2F0ZWdvcnlbQ2F0ZWdvcnlbXCJIT09LXCJdID0gMl0gPSBcIkhPT0tcIjtcbiAgICBDYXRlZ29yeVtDYXRlZ29yeVtcIlVJVklFV1wiXSA9IDNdID0gXCJVSVZJRVdcIjtcbiAgICBDYXRlZ29yeVtDYXRlZ29yeVtcIlZJRVdDT05GSUdcIl0gPSA0XSA9IFwiVklFV0NPTkZJR1wiO1xufSkoQ2F0ZWdvcnkgfHwgKENhdGVnb3J5ID0ge30pKTtcbmV4cG9ydHMuQ2F0ZWdvcnkgPSBDYXRlZ29yeTtcbi8qKiBAaGlkZGVuICovXG52YXIgX3RpZCA9IGhvZl8xLnBhcnNlKCckaWQnKTtcbi8qKiBAaGlkZGVuICovXG52YXIgX3JpZCA9IGhvZl8xLnBhcnNlKCdyb3V0ZXIuJGlkJyk7XG4vKiogQGhpZGRlbiAqL1xudmFyIHRyYW5zTGJsID0gZnVuY3Rpb24gKHRyYW5zKSB7IHJldHVybiBcIlRyYW5zaXRpb24gI1wiICsgX3RpZCh0cmFucykgKyBcIi1cIiArIF9yaWQodHJhbnMpOyB9O1xuLyoqXG4gKiBQcmludHMgVUktUm91dGVyIFRyYW5zaXRpb24gdHJhY2UgaW5mb3JtYXRpb24gdG8gdGhlIGNvbnNvbGUuXG4gKi9cbnZhciBUcmFjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIGZ1bmN0aW9uIFRyYWNlKCkge1xuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICB0aGlzLl9lbmFibGVkID0ge307XG4gICAgICAgIHRoaXMuYXBwcm94aW1hdGVEaWdlc3RzID0gMDtcbiAgICB9XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBUcmFjZS5wcm90b3R5cGUuX3NldCA9IGZ1bmN0aW9uIChlbmFibGVkLCBjYXRlZ29yaWVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghY2F0ZWdvcmllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhdGVnb3JpZXMgPSBPYmplY3Qua2V5cyhDYXRlZ29yeSlcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBwYXJzZUludChrLCAxMCk7IH0pXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaykgeyByZXR1cm4gIWlzTmFOKGspOyB9KVxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gQ2F0ZWdvcnlba2V5XTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0ZWdvcmllcy5tYXAobm9ybWFsaXplZENhdCkuZm9yRWFjaChmdW5jdGlvbiAoY2F0ZWdvcnkpIHsgcmV0dXJuIChfdGhpcy5fZW5hYmxlZFtjYXRlZ29yeV0gPSBlbmFibGVkKTsgfSk7XG4gICAgfTtcbiAgICBUcmFjZS5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2F0ZWdvcmllcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgY2F0ZWdvcmllc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldCh0cnVlLCBjYXRlZ29yaWVzKTtcbiAgICB9O1xuICAgIFRyYWNlLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2F0ZWdvcmllcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgY2F0ZWdvcmllc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldChmYWxzZSwgY2F0ZWdvcmllcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGVuYWJsZWQgc3RhdGV1cyBvZiBhIFtbQ2F0ZWdvcnldXVxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiB0cmFjZS5lbmFibGVkKFwiVklFV0NPTkZJR1wiKTsgLy8gdHJ1ZSBvciBmYWxzZVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHJldHVybnMgYm9vbGVhbiB0cnVlIGlmIHRoZSBjYXRlZ29yeSBpcyBlbmFibGVkXG4gICAgICovXG4gICAgVHJhY2UucHJvdG90eXBlLmVuYWJsZWQgPSBmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5hYmxlZFtub3JtYWxpemVkQ2F0KGNhdGVnb3J5KV07XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVRyYW5zaXRpb25TdGFydCA9IGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5UUkFOU0lUSU9OKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2codHJhbnNMYmwodHJhbnMpICsgXCI6IFN0YXJ0ZWQgIC0+IFwiICsgc3RyaW5nc18xLnN0cmluZ2lmeSh0cmFucykpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cbiAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VUcmFuc2l0aW9uSWdub3JlZCA9IGZ1bmN0aW9uICh0cmFucykge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5UUkFOU0lUSU9OKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2codHJhbnNMYmwodHJhbnMpICsgXCI6IElnbm9yZWQgIDw+IFwiICsgc3RyaW5nc18xLnN0cmluZ2lmeSh0cmFucykpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cbiAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VIb29rSW52b2NhdGlvbiA9IGZ1bmN0aW9uIChzdGVwLCB0cmFucywgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5IT09LKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGV2ZW50ID0gaG9mXzEucGFyc2UoJ3RyYWNlRGF0YS5ob29rVHlwZScpKG9wdGlvbnMpIHx8ICdpbnRlcm5hbCcsIGNvbnRleHQgPSBob2ZfMS5wYXJzZSgndHJhY2VEYXRhLmNvbnRleHQuc3RhdGUubmFtZScpKG9wdGlvbnMpIHx8IGhvZl8xLnBhcnNlKCd0cmFjZURhdGEuY29udGV4dCcpKG9wdGlvbnMpIHx8ICd1bmtub3duJywgbmFtZSA9IHN0cmluZ3NfMS5mdW5jdGlvblRvU3RyaW5nKHN0ZXAucmVnaXN0ZXJlZEhvb2suY2FsbGJhY2spO1xuICAgICAgICBjb25zb2xlLmxvZyh0cmFuc0xibCh0cmFucykgKyBcIjogICBIb29rIC0+IFwiICsgZXZlbnQgKyBcIiBjb250ZXh0OiBcIiArIGNvbnRleHQgKyBcIiwgXCIgKyBzdHJpbmdzXzEubWF4TGVuZ3RoKDIwMCwgbmFtZSkpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cbiAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VIb29rUmVzdWx0ID0gZnVuY3Rpb24gKGhvb2tSZXN1bHQsIHRyYW5zLCB0cmFuc2l0aW9uT3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5IT09LKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2codHJhbnNMYmwodHJhbnMpICsgXCI6ICAgPC0gSG9vayByZXR1cm5lZDogXCIgKyBzdHJpbmdzXzEubWF4TGVuZ3RoKDIwMCwgc3RyaW5nc18xLnN0cmluZ2lmeShob29rUmVzdWx0KSkpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cbiAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VSZXNvbHZlUGF0aCA9IGZ1bmN0aW9uIChwYXRoLCB3aGVuLCB0cmFucykge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5SRVNPTFZFKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2codHJhbnNMYmwodHJhbnMpICsgXCI6ICAgICAgICAgUmVzb2x2aW5nIFwiICsgcGF0aCArIFwiIChcIiArIHdoZW4gKyBcIilcIik7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVJlc29sdmFibGVSZXNvbHZlZCA9IGZ1bmN0aW9uIChyZXNvbHZhYmxlLCB0cmFucykge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5SRVNPTFZFKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2codHJhbnNMYmwodHJhbnMpICsgXCI6ICAgICAgICAgICAgICAgPC0gUmVzb2x2ZWQgIFwiICsgcmVzb2x2YWJsZSArIFwiIHRvOiBcIiArIHN0cmluZ3NfMS5tYXhMZW5ndGgoMjAwLCBzdHJpbmdzXzEuc3RyaW5naWZ5KHJlc29sdmFibGUuZGF0YSkpKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgY2FsbGVkIGJ5IHVpLXJvdXRlciBjb2RlICovXG4gICAgVHJhY2UucHJvdG90eXBlLnRyYWNlRXJyb3IgPSBmdW5jdGlvbiAocmVhc29uLCB0cmFucykge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5UUkFOU0lUSU9OKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2codHJhbnNMYmwodHJhbnMpICsgXCI6IDwtIFJlamVjdGVkIFwiICsgc3RyaW5nc18xLnN0cmluZ2lmeSh0cmFucykgKyBcIiwgcmVhc29uOiBcIiArIHJlYXNvbik7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVN1Y2Nlc3MgPSBmdW5jdGlvbiAoZmluYWxTdGF0ZSwgdHJhbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQoQ2F0ZWdvcnkuVFJBTlNJVElPTikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnNvbGUubG9nKHRyYW5zTGJsKHRyYW5zKSArIFwiOiA8LSBTdWNjZXNzICBcIiArIHN0cmluZ3NfMS5zdHJpbmdpZnkodHJhbnMpICsgXCIsIGZpbmFsIHN0YXRlOiBcIiArIGZpbmFsU3RhdGUubmFtZSk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVVJVmlld0V2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCB2aWV3RGF0YSwgZXh0cmEpIHtcbiAgICAgICAgaWYgKGV4dHJhID09PSB2b2lkIDApIHsgZXh0cmEgPSAnJzsgfVxuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5VSVZJRVcpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zb2xlLmxvZyhcInVpLXZpZXc6IFwiICsgc3RyaW5nc18xLnBhZFN0cmluZygzMCwgZXZlbnQpICsgXCIgXCIgKyB1aVZpZXdTdHJpbmcodmlld0RhdGEpICsgZXh0cmEpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cbiAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VVSVZpZXdDb25maWdVcGRhdGVkID0gZnVuY3Rpb24gKHZpZXdEYXRhLCBjb250ZXh0KSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKENhdGVnb3J5LlVJVklFVykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMudHJhY2VVSVZpZXdFdmVudCgnVXBkYXRpbmcnLCB2aWV3RGF0YSwgXCIgd2l0aCBWaWV3Q29uZmlnIGZyb20gY29udGV4dD0nXCIgKyBjb250ZXh0ICsgXCInXCIpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cbiAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VVSVZpZXdGaWxsID0gZnVuY3Rpb24gKHZpZXdEYXRhLCBodG1sKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKENhdGVnb3J5LlVJVklFVykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMudHJhY2VVSVZpZXdFdmVudCgnRmlsbCcsIHZpZXdEYXRhLCBcIiB3aXRoOiBcIiArIHN0cmluZ3NfMS5tYXhMZW5ndGgoMjAwLCBodG1sKSk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpIGNhbGxlZCBieSB1aS1yb3V0ZXIgY29kZSAqL1xuICAgIFRyYWNlLnByb3RvdHlwZS50cmFjZVZpZXdTeW5jID0gZnVuY3Rpb24gKHBhaXJzKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKENhdGVnb3J5LlZJRVdDT05GSUcpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgdWl2aGVhZGVyID0gJ3VpdmlldyBjb21wb25lbnQgZnFuJztcbiAgICAgICAgdmFyIGNmZ2hlYWRlciA9ICd2aWV3IGNvbmZpZyBzdGF0ZSAodmlldyBuYW1lKSc7XG4gICAgICAgIHZhciBtYXBwaW5nID0gcGFpcnNcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgdWlWaWV3ID0gX2EudWlWaWV3LCB2aWV3Q29uZmlnID0gX2Eudmlld0NvbmZpZztcbiAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgIHZhciB1aXYgPSB1aVZpZXcgJiYgdWlWaWV3LmZxbjtcbiAgICAgICAgICAgIHZhciBjZmcgPSB2aWV3Q29uZmlnICYmIHZpZXdDb25maWcudmlld0RlY2wuJGNvbnRleHQubmFtZSArIFwiOiAoXCIgKyB2aWV3Q29uZmlnLnZpZXdEZWNsLiRuYW1lICsgXCIpXCI7XG4gICAgICAgICAgICByZXR1cm4gX2IgPSB7fSwgX2JbdWl2aGVhZGVyXSA9IHVpdiwgX2JbY2ZnaGVhZGVyXSA9IGNmZywgX2I7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKGFbdWl2aGVhZGVyXSB8fCAnJykubG9jYWxlQ29tcGFyZShiW3VpdmhlYWRlcl0gfHwgJycpOyB9KTtcbiAgICAgICAgY29uc29sZXRhYmxlKG1hcHBpbmcpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cbiAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VWaWV3U2VydmljZUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCB2aWV3Q29uZmlnKSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKENhdGVnb3J5LlZJRVdDT05GSUcpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlZJRVdDT05GSUc6IFwiICsgZXZlbnQgKyBcIiBcIiArIHZpZXdDb25maWdTdHJpbmcodmlld0NvbmZpZykpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSBjYWxsZWQgYnkgdWktcm91dGVyIGNvZGUgKi9cbiAgICBUcmFjZS5wcm90b3R5cGUudHJhY2VWaWV3U2VydmljZVVJVmlld0V2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCB2aWV3RGF0YSkge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZChDYXRlZ29yeS5WSUVXQ09ORklHKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc29sZS5sb2coXCJWSUVXQ09ORklHOiBcIiArIGV2ZW50ICsgXCIgXCIgKyB1aVZpZXdTdHJpbmcodmlld0RhdGEpKTtcbiAgICB9O1xuICAgIHJldHVybiBUcmFjZTtcbn0oKSk7XG5leHBvcnRzLlRyYWNlID0gVHJhY2U7XG4vKipcbiAqIFRoZSBbW1RyYWNlXV0gc2luZ2xldG9uXG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogYGBganNcbiAqIGltcG9ydCB7dHJhY2V9IGZyb20gXCJAdWlyb3V0ZXIvY29yZVwiO1xuICogdHJhY2UuZW5hYmxlKDEsIDUpO1xuICogYGBgXG4gKi9cbnZhciB0cmFjZSA9IG5ldyBUcmFjZSgpO1xuZXhwb3J0cy50cmFjZSA9IHRyYWNlO1xuXG59LHtcIi4uL2NvbW1vbi9ob2ZcIjo2LFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIjo4LFwiLi9zdHJpbmdzXCI6MTB9XSwxMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAcHVibGljYXBpIEBtb2R1bGUgY29yZSAqLyAvKiogKi9cbnZhciBzdGF0ZVBhcmFtc18xID0gcmVxdWlyZShcIi4vcGFyYW1zL3N0YXRlUGFyYW1zXCIpO1xudmFyIHF1ZXVlXzEgPSByZXF1aXJlKFwiLi9jb21tb24vcXVldWVcIik7XG4vKipcbiAqIEdsb2JhbCByb3V0ZXIgc3RhdGVcbiAqXG4gKiBUaGlzIGlzIHdoZXJlIHdlIGhvbGQgdGhlIGdsb2JhbCBtdXRhYmxlIHN0YXRlIHN1Y2ggYXMgY3VycmVudCBzdGF0ZSwgY3VycmVudFxuICogcGFyYW1zLCBjdXJyZW50IHRyYW5zaXRpb24sIGV0Yy5cbiAqL1xudmFyIFVJUm91dGVyR2xvYmFscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVSVJvdXRlckdsb2JhbHMoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHBhcmFtZXRlciB2YWx1ZXNcbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHBhcmFtZXRlciB2YWx1ZXMgZnJvbSB0aGUgbGF0ZXN0IHN1Y2Nlc3NmdWwgdHJhbnNpdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYXJhbXMgPSBuZXcgc3RhdGVQYXJhbXNfMS5TdGF0ZVBhcmFtcygpO1xuICAgICAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgICAgIHRoaXMubGFzdFN0YXJ0ZWRUcmFuc2l0aW9uSWQgPSAtMTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbGFwaSAqL1xuICAgICAgICB0aGlzLnRyYW5zaXRpb25IaXN0b3J5ID0gbmV3IHF1ZXVlXzEuUXVldWUoW10sIDEpO1xuICAgICAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgICAgIHRoaXMuc3VjY2Vzc2Z1bFRyYW5zaXRpb25zID0gbmV3IHF1ZXVlXzEuUXVldWUoW10sIDEpO1xuICAgIH1cbiAgICBVSVJvdXRlckdsb2JhbHMucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbkhpc3RvcnkuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5zdWNjZXNzZnVsVHJhbnNpdGlvbnMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBVSVJvdXRlckdsb2JhbHM7XG59KCkpO1xuZXhwb3J0cy5VSVJvdXRlckdsb2JhbHMgPSBVSVJvdXRlckdsb2JhbHM7XG5cbn0se1wiLi9jb21tb24vcXVldWVcIjo5LFwiLi9wYXJhbXMvc3RhdGVQYXJhbXNcIjoyOX1dLDEzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBpbnRlcm5hbGFwaSBAbW9kdWxlIGhvb2tzICovIC8qKiAqL1xudmFyIHRyYW5zaXRpb25fMSA9IHJlcXVpcmUoXCIuLi90cmFuc2l0aW9uL3RyYW5zaXRpb25cIik7XG52YXIgcm91dGVyXzEgPSByZXF1aXJlKFwiLi4vcm91dGVyXCIpO1xudmFyIHJlc29sdmVfMSA9IHJlcXVpcmUoXCIuLi9yZXNvbHZlXCIpO1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vblwiKTtcbmZ1bmN0aW9uIGFkZENvcmVSZXNvbHZhYmxlcyh0cmFucykge1xuICAgIHRyYW5zLmFkZFJlc29sdmFibGUocmVzb2x2ZV8xLlJlc29sdmFibGUuZnJvbURhdGEocm91dGVyXzEuVUlSb3V0ZXIsIHRyYW5zLnJvdXRlciksICcnKTtcbiAgICB0cmFucy5hZGRSZXNvbHZhYmxlKHJlc29sdmVfMS5SZXNvbHZhYmxlLmZyb21EYXRhKHRyYW5zaXRpb25fMS5UcmFuc2l0aW9uLCB0cmFucyksICcnKTtcbiAgICB0cmFucy5hZGRSZXNvbHZhYmxlKHJlc29sdmVfMS5SZXNvbHZhYmxlLmZyb21EYXRhKCckdHJhbnNpdGlvbiQnLCB0cmFucyksICcnKTtcbiAgICB0cmFucy5hZGRSZXNvbHZhYmxlKHJlc29sdmVfMS5SZXNvbHZhYmxlLmZyb21EYXRhKCckc3RhdGVQYXJhbXMnLCB0cmFucy5wYXJhbXMoKSksICcnKTtcbiAgICB0cmFucy5lbnRlcmluZygpLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHRyYW5zLmFkZFJlc29sdmFibGUocmVzb2x2ZV8xLlJlc29sdmFibGUuZnJvbURhdGEoJyRzdGF0ZSQnLCBzdGF0ZSksIHN0YXRlKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMucmVnaXN0ZXJBZGRDb3JlUmVzb2x2YWJsZXMgPSBmdW5jdGlvbiAodHJhbnNpdGlvblNlcnZpY2UpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvblNlcnZpY2Uub25DcmVhdGUoe30sIGFkZENvcmVSZXNvbHZhYmxlcyk7XG59O1xudmFyIFRSQU5TSVRJT05fVE9LRU5TID0gWyckdHJhbnNpdGlvbiQnLCB0cmFuc2l0aW9uXzEuVHJhbnNpdGlvbl07XG52YXIgaXNUcmFuc2l0aW9uID0gY29tbW9uXzEuaW5BcnJheShUUkFOU0lUSU9OX1RPS0VOUyk7XG4vLyBSZWZlcmVuY2VzIHRvIFRyYW5zaXRpb24gaW4gdGhlIHRyZWVDaGFuZ2VzIHBhdGhub2RlcyBtYWtlcyBhbGxcbi8vIHByZXZpb3VzIFRyYW5zaXRpb25zIHJlYWNoYWJsZSBpbiBtZW1vcnksIGNhdXNpbmcgYSBtZW1vcnkgbGVha1xuLy8gVGhpcyBmdW5jdGlvbiByZW1vdmVzIHJlc29sdmVzIGZvciAnJHRyYW5zaXRpb24kJyBhbmQgYFRyYW5zaXRpb25gIGZyb20gdGhlIHRyZWVDaGFuZ2VzLlxuLy8gRG8gbm90IHVzZSB0aGlzIG9uIGN1cnJlbnQgdHJhbnNpdGlvbnMsIG9ubHkgb24gb2xkIG9uZXMuXG5leHBvcnRzLnRyZWVDaGFuZ2VzQ2xlYW51cCA9IGZ1bmN0aW9uICh0cmFucykge1xuICAgIHZhciBub2RlcyA9IGNvbW1vbl8xLnZhbHVlcyh0cmFucy50cmVlQ2hhbmdlcygpKVxuICAgICAgICAucmVkdWNlKGNvbW1vbl8xLnVubmVzdFIsIFtdKVxuICAgICAgICAucmVkdWNlKGNvbW1vbl8xLnVuaXFSLCBbXSk7XG4gICAgLy8gSWYgdGhlIHJlc29sdmFibGUgaXMgYSBUcmFuc2l0aW9uLCByZXR1cm4gYSBuZXcgcmVzb2x2YWJsZSB3aXRoIG51bGwgZGF0YVxuICAgIHZhciByZXBsYWNlVHJhbnNpdGlvbldpdGhOdWxsID0gZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgcmV0dXJuIGlzVHJhbnNpdGlvbihyLnRva2VuKSA/IHJlc29sdmVfMS5SZXNvbHZhYmxlLmZyb21EYXRhKHIudG9rZW4sIG51bGwpIDogcjtcbiAgICB9O1xuICAgIG5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgbm9kZS5yZXNvbHZhYmxlcyA9IG5vZGUucmVzb2x2YWJsZXMubWFwKHJlcGxhY2VUcmFuc2l0aW9uV2l0aE51bGwpO1xuICAgIH0pO1xufTtcblxufSx7XCIuLi9jb21tb25cIjo3LFwiLi4vcmVzb2x2ZVwiOjMzLFwiLi4vcm91dGVyXCI6MzcsXCIuLi90cmFuc2l0aW9uL3RyYW5zaXRpb25cIjo1MX1dLDE0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuLyoqIEBpbnRlcm5hbGFwaSBAbW9kdWxlIGhvb2tzICovIC8qKiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRyYWNlXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3RyYWNlXCIpO1xudmFyIHJlamVjdEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuLi90cmFuc2l0aW9uL3JlamVjdEZhY3RvcnlcIik7XG4vKipcbiAqIEEgW1tUcmFuc2l0aW9uSG9va0ZuXV0gdGhhdCBza2lwcyBhIHRyYW5zaXRpb24gaWYgaXQgc2hvdWxkIGJlIGlnbm9yZWRcbiAqXG4gKiBUaGlzIGhvb2sgaXMgaW52b2tlZCBhdCB0aGUgZW5kIG9mIHRoZSBvbkJlZm9yZSBwaGFzZS5cbiAqXG4gKiBJZiB0aGUgdHJhbnNpdGlvbiBzaG91bGQgYmUgaWdub3JlZCAoYmVjYXVzZSBubyBwYXJhbWV0ZXIgb3Igc3RhdGVzIGNoYW5nZWQpXG4gKiB0aGVuIHRoZSB0cmFuc2l0aW9uIGlzIGlnbm9yZWQgYW5kIG5vdCBwcm9jZXNzZWQuXG4gKi9cbmZ1bmN0aW9uIGlnbm9yZWRIb29rKHRyYW5zKSB7XG4gICAgdmFyIGlnbm9yZWRSZWFzb24gPSB0cmFucy5faWdub3JlZFJlYXNvbigpO1xuICAgIGlmICghaWdub3JlZFJlYXNvbilcbiAgICAgICAgcmV0dXJuO1xuICAgIHRyYWNlXzEudHJhY2UudHJhY2VUcmFuc2l0aW9uSWdub3JlZCh0cmFucyk7XG4gICAgdmFyIHBlbmRpbmcgPSB0cmFucy5yb3V0ZXIuZ2xvYmFscy50cmFuc2l0aW9uO1xuICAgIC8vIFRoZSB1c2VyIGNsaWNrZWQgYSBsaW5rIGdvaW5nIGJhY2sgdG8gdGhlICpjdXJyZW50IHN0YXRlKiAoJ0EnKVxuICAgIC8vIEhvd2V2ZXIsIHRoZXJlIGlzIGFsc28gYSBwZW5kaW5nIHRyYW5zaXRpb24gaW4gZmxpZ2h0ICh0byAnQicpXG4gICAgLy8gQWJvcnQgdGhlIHRyYW5zaXRpb24gdG8gJ0InIGJlY2F1c2UgdGhlIHVzZXIgbm93IHdhbnRzIHRvIGJlIGJhY2sgYXQgJ0EnLlxuICAgIGlmIChpZ25vcmVkUmVhc29uID09PSAnU2FtZUFzQ3VycmVudCcgJiYgcGVuZGluZykge1xuICAgICAgICBwZW5kaW5nLmFib3J0KCk7XG4gICAgfVxuICAgIHJldHVybiByZWplY3RGYWN0b3J5XzEuUmVqZWN0aW9uLmlnbm9yZWQoKS50b1Byb21pc2UoKTtcbn1cbmV4cG9ydHMucmVnaXN0ZXJJZ25vcmVkVHJhbnNpdGlvbkhvb2sgPSBmdW5jdGlvbiAodHJhbnNpdGlvblNlcnZpY2UpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvblNlcnZpY2Uub25CZWZvcmUoe30sIGlnbm9yZWRIb29rLCB7IHByaW9yaXR5OiAtOTk5OSB9KTtcbn07XG5cbn0se1wiLi4vY29tbW9uL3RyYWNlXCI6MTEsXCIuLi90cmFuc2l0aW9uL3JlamVjdEZhY3RvcnlcIjo1MH1dLDE1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuLyoqIEBpbnRlcm5hbGFwaSBAbW9kdWxlIGhvb2tzICovIC8qKiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBBIFtbVHJhbnNpdGlvbkhvb2tGbl1dIHRoYXQgcmVqZWN0cyB0aGUgVHJhbnNpdGlvbiBpZiBpdCBpcyBpbnZhbGlkXG4gKlxuICogVGhpcyBob29rIGlzIGludm9rZWQgYXQgdGhlIGVuZCBvZiB0aGUgb25CZWZvcmUgcGhhc2UuXG4gKiBJZiB0aGUgdHJhbnNpdGlvbiBpcyBpbnZhbGlkIChmb3IgZXhhbXBsZSwgcGFyYW0gdmFsdWVzIGRvIG5vdCB2YWxpZGF0ZSlcbiAqIHRoZW4gdGhlIHRyYW5zaXRpb24gaXMgcmVqZWN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGludmFsaWRUcmFuc2l0aW9uSG9vayh0cmFucykge1xuICAgIGlmICghdHJhbnMudmFsaWQoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IodHJhbnMuZXJyb3IoKS50b1N0cmluZygpKTtcbiAgICB9XG59XG5leHBvcnRzLnJlZ2lzdGVySW52YWxpZFRyYW5zaXRpb25Ib29rID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uQmVmb3JlKHt9LCBpbnZhbGlkVHJhbnNpdGlvbkhvb2ssIHsgcHJpb3JpdHk6IC0xMDAwMCB9KTtcbn07XG5cbn0se31dLDE2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNvcmVzZXJ2aWNlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb3Jlc2VydmljZXNcIik7XG4vKipcbiAqIEEgW1tUcmFuc2l0aW9uSG9va0ZuXV0gdGhhdCBwZXJmb3JtcyBsYXp5IGxvYWRpbmdcbiAqXG4gKiBXaGVuIGVudGVyaW5nIGEgc3RhdGUgXCJhYmNcIiB3aGljaCBoYXMgYSBgbGF6eUxvYWRgIGZ1bmN0aW9uIGRlZmluZWQ6XG4gKiAtIEludm9rZSB0aGUgYGxhenlMb2FkYCBmdW5jdGlvbiAodW5sZXNzIGl0IGlzIGFscmVhZHkgaW4gcHJvY2VzcylcbiAqICAgLSBGbGFnIHRoZSBob29rIGZ1bmN0aW9uIGFzIFwiaW4gcHJvY2Vzc1wiXG4gKiAgIC0gVGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBwcm9taXNlICh0aGF0IHJlc29sdmVzIHdoZW4gbGF6eSBsb2FkaW5nIGlzIGNvbXBsZXRlKVxuICogLSBXYWl0IGZvciB0aGUgcHJvbWlzZSB0byBzZXR0bGVcbiAqICAgLSBJZiB0aGUgcHJvbWlzZSByZXNvbHZlcyB0byBhIFtbTGF6eUxvYWRSZXN1bHRdXSwgdGhlbiByZWdpc3RlciB0aG9zZSBzdGF0ZXNcbiAqICAgLSBGbGFnIHRoZSBob29rIGZ1bmN0aW9uIGFzIFwibm90IGluIHByb2Nlc3NcIlxuICogLSBJZiB0aGUgaG9vayB3YXMgc3VjY2Vzc2Z1bFxuICogICAtIFJlbW92ZSB0aGUgYGxhenlMb2FkYCBmdW5jdGlvbiBmcm9tIHRoZSBzdGF0ZSBkZWNsYXJhdGlvblxuICogLSBJZiBhbGwgdGhlIGhvb2tzIHdlcmUgc3VjY2Vzc2Z1bFxuICogICAtIFJldHJ5IHRoZSB0cmFuc2l0aW9uIChieSByZXR1cm5pbmcgYSBUYXJnZXRTdGF0ZSlcbiAqXG4gKiBgYGBcbiAqIC5zdGF0ZSgnYWJjJywge1xuICogICBjb21wb25lbnQ6ICdmb29Db21wb25lbnQnLFxuICogICBsYXp5TG9hZDogKCkgPT4gU3lzdGVtLmltcG9ydCgnLi9mb29Db21wb25lbnQnKVxuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIFNlZSBbW1N0YXRlRGVjbGFyYXRpb24ubGF6eUxvYWRdXVxuICovXG52YXIgbGF6eUxvYWRIb29rID0gZnVuY3Rpb24gKHRyYW5zaXRpb24pIHtcbiAgICB2YXIgcm91dGVyID0gdHJhbnNpdGlvbi5yb3V0ZXI7XG4gICAgZnVuY3Rpb24gcmV0cnlUcmFuc2l0aW9uKCkge1xuICAgICAgICBpZiAodHJhbnNpdGlvbi5vcmlnaW5hbFRyYW5zaXRpb24oKS5vcHRpb25zKCkuc291cmNlICE9PSAndXJsJykge1xuICAgICAgICAgICAgLy8gVGhlIG9yaWdpbmFsIHRyYW5zaXRpb24gd2FzIG5vdCB0cmlnZ2VyZWQgdmlhIHVybCBzeW5jXG4gICAgICAgICAgICAvLyBUaGUgbGF6eSBzdGF0ZSBzaG91bGQgYmUgbG9hZGVkIG5vdywgc28gcmUtdHJ5IHRoZSBvcmlnaW5hbCB0cmFuc2l0aW9uXG4gICAgICAgICAgICB2YXIgb3JpZyA9IHRyYW5zaXRpb24udGFyZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiByb3V0ZXIuc3RhdGVTZXJ2aWNlLnRhcmdldChvcmlnLmlkZW50aWZpZXIoKSwgb3JpZy5wYXJhbXMoKSwgb3JpZy5vcHRpb25zKCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBvcmlnaW5hbCB0cmFuc2l0aW9uIHdhcyB0cmlnZ2VyZWQgdmlhIHVybCBzeW5jXG4gICAgICAgIC8vIFJ1biB0aGUgVVJMIHJ1bGVzIGFuZCBmaW5kIHRoZSBiZXN0IG1hdGNoXG4gICAgICAgIHZhciAkdXJsID0gcm91dGVyLnVybFNlcnZpY2U7XG4gICAgICAgIHZhciByZXN1bHQgPSAkdXJsLm1hdGNoKCR1cmwucGFydHMoKSk7XG4gICAgICAgIHZhciBydWxlID0gcmVzdWx0ICYmIHJlc3VsdC5ydWxlO1xuICAgICAgICAvLyBJZiB0aGUgYmVzdCBtYXRjaCBpcyBhIHN0YXRlLCByZWRpcmVjdCB0aGUgdHJhbnNpdGlvbiAoaW5zdGVhZFxuICAgICAgICAvLyBvZiBjYWxsaW5nIHN5bmMoKSB3aGljaCBzdXBlcnNlZGVzIHRoZSBjdXJyZW50IHRyYW5zaXRpb24pXG4gICAgICAgIGlmIChydWxlICYmIHJ1bGUudHlwZSA9PT0gJ1NUQVRFJykge1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gcnVsZS5zdGF0ZTtcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSByZXN1bHQubWF0Y2g7XG4gICAgICAgICAgICByZXR1cm4gcm91dGVyLnN0YXRlU2VydmljZS50YXJnZXQoc3RhdGUsIHBhcmFtcywgdHJhbnNpdGlvbi5vcHRpb25zKCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vIG1hdGNoaW5nIHN0YXRlIGZvdW5kLCBzbyBsZXQgLnN5bmMoKSBjaG9vc2UgdGhlIGJlc3Qgbm9uLXN0YXRlIG1hdGNoL290aGVyd2lzZVxuICAgICAgICByb3V0ZXIudXJsU2VydmljZS5zeW5jKCk7XG4gICAgfVxuICAgIHZhciBwcm9taXNlcyA9IHRyYW5zaXRpb25cbiAgICAgICAgLmVudGVyaW5nKClcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuICEhc3RhdGUuJCRzdGF0ZSgpLmxhenlMb2FkOyB9KVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gbGF6eUxvYWRTdGF0ZSh0cmFuc2l0aW9uLCBzdGF0ZSk7IH0pO1xuICAgIHJldHVybiBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcS5hbGwocHJvbWlzZXMpLnRoZW4ocmV0cnlUcmFuc2l0aW9uKTtcbn07XG5leHBvcnRzLnJlZ2lzdGVyTGF6eUxvYWRIb29rID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uQmVmb3JlKHsgZW50ZXJpbmc6IGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gISFzdGF0ZS5sYXp5TG9hZDsgfSB9LCBsYXp5TG9hZEhvb2spO1xufTtcbi8qKlxuICogSW52b2tlcyBhIHN0YXRlJ3MgbGF6eSBsb2FkIGZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHRyYW5zaXRpb24gYSBUcmFuc2l0aW9uIGNvbnRleHRcbiAqIEBwYXJhbSBzdGF0ZSB0aGUgc3RhdGUgdG8gbGF6eSBsb2FkXG4gKiBAcmV0dXJucyBBIHByb21pc2UgZm9yIHRoZSBsYXp5IGxvYWQgcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGxhenlMb2FkU3RhdGUodHJhbnNpdGlvbiwgc3RhdGUpIHtcbiAgICB2YXIgbGF6eUxvYWRGbiA9IHN0YXRlLiQkc3RhdGUoKS5sYXp5TG9hZDtcbiAgICAvLyBTdG9yZS9nZXQgdGhlIGxhenkgbG9hZCBwcm9taXNlIG9uL2Zyb20gdGhlIGhvb2tmbiBzbyBpdCBkb2Vzbid0IGdldCByZS1pbnZva2VkXG4gICAgdmFyIHByb21pc2UgPSBsYXp5TG9hZEZuWydfcHJvbWlzZSddO1xuICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBzdGF0ZS5sYXp5TG9hZDtcbiAgICAgICAgICAgIGRlbGV0ZSBzdGF0ZS4kJHN0YXRlKCkubGF6eUxvYWQ7XG4gICAgICAgICAgICBkZWxldGUgbGF6eUxvYWRGblsnX3Byb21pc2UnXTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBlcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBsYXp5TG9hZEZuWydfcHJvbWlzZSddO1xuICAgICAgICAgICAgcmV0dXJuIGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxLnJlamVjdChlcnIpO1xuICAgICAgICB9O1xuICAgICAgICBwcm9taXNlID0gbGF6eUxvYWRGblsnX3Byb21pc2UnXSA9IGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxXG4gICAgICAgICAgICAud2hlbihsYXp5TG9hZEZuKHRyYW5zaXRpb24sIHN0YXRlKSlcbiAgICAgICAgICAgIC50aGVuKHVwZGF0ZVN0YXRlUmVnaXN0cnkpXG4gICAgICAgICAgICAudGhlbihzdWNjZXNzLCBlcnJvcik7XG4gICAgfVxuICAgIC8qKiBSZWdpc3RlciBhbnkgbGF6eSBsb2FkZWQgc3RhdGUgZGVmaW5pdGlvbnMgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVTdGF0ZVJlZ2lzdHJ5KHJlc3VsdCkge1xuICAgICAgICBpZiAocmVzdWx0ICYmIEFycmF5LmlzQXJyYXkocmVzdWx0LnN0YXRlcykpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zdGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAoX3N0YXRlKSB7IHJldHVybiB0cmFuc2l0aW9uLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5LnJlZ2lzdGVyKF9zdGF0ZSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xufVxuZXhwb3J0cy5sYXp5TG9hZFN0YXRlID0gbGF6eUxvYWRTdGF0ZTtcblxufSx7XCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCI6NH1dLDE3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBBIGZhY3Rvcnkgd2hpY2ggY3JlYXRlcyBhbiBvbkVudGVyLCBvbkV4aXQgb3Igb25SZXRhaW4gdHJhbnNpdGlvbiBob29rIGZ1bmN0aW9uXG4gKlxuICogVGhlIHJldHVybmVkIGZ1bmN0aW9uIGludm9rZXMgdGhlIChmb3IgaW5zdGFuY2UpIHN0YXRlLm9uRW50ZXIgaG9vayB3aGVuIHRoZVxuICogc3RhdGUgaXMgYmVpbmcgZW50ZXJlZC5cbiAqXG4gKiBAaGlkZGVuXG4gKi9cbmZ1bmN0aW9uIG1ha2VFbnRlckV4aXRSZXRhaW5Ib29rKGhvb2tOYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0cmFuc2l0aW9uLCBzdGF0ZSkge1xuICAgICAgICB2YXIgX3N0YXRlID0gc3RhdGUuJCRzdGF0ZSgpO1xuICAgICAgICB2YXIgaG9va0ZuID0gX3N0YXRlW2hvb2tOYW1lXTtcbiAgICAgICAgcmV0dXJuIGhvb2tGbih0cmFuc2l0aW9uLCBzdGF0ZSk7XG4gICAgfTtcbn1cbi8qKlxuICogVGhlIFtbVHJhbnNpdGlvblN0YXRlSG9va0ZuXV0gZm9yIG9uRXhpdFxuICpcbiAqIFdoZW4gdGhlIHN0YXRlIGlzIGJlaW5nIGV4aXRlZCwgdGhlIHN0YXRlJ3MgLm9uRXhpdCBmdW5jdGlvbiBpcyBpbnZva2VkLlxuICpcbiAqIFJlZ2lzdGVyZWQgdXNpbmcgYHRyYW5zaXRpb25TZXJ2aWNlLm9uRXhpdCh7IGV4aXRpbmc6IChzdGF0ZSkgPT4gISFzdGF0ZS5vbkV4aXQgfSwgb25FeGl0SG9vayk7YFxuICpcbiAqIFNlZTogW1tJSG9va1JlZ2lzdHJ5Lm9uRXhpdF1dXG4gKi9cbnZhciBvbkV4aXRIb29rID0gbWFrZUVudGVyRXhpdFJldGFpbkhvb2soJ29uRXhpdCcpO1xuZXhwb3J0cy5yZWdpc3Rlck9uRXhpdEhvb2sgPSBmdW5jdGlvbiAodHJhbnNpdGlvblNlcnZpY2UpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvblNlcnZpY2Uub25FeGl0KHsgZXhpdGluZzogZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiAhIXN0YXRlLm9uRXhpdDsgfSB9LCBvbkV4aXRIb29rKTtcbn07XG4vKipcbiAqIFRoZSBbW1RyYW5zaXRpb25TdGF0ZUhvb2tGbl1dIGZvciBvblJldGFpblxuICpcbiAqIFdoZW4gdGhlIHN0YXRlIHdhcyBhbHJlYWR5IGVudGVyZWQsIGFuZCBpcyBub3QgYmVpbmcgZXhpdGVkIG9yIHJlLWVudGVyZWQsIHRoZSBzdGF0ZSdzIC5vblJldGFpbiBmdW5jdGlvbiBpcyBpbnZva2VkLlxuICpcbiAqIFJlZ2lzdGVyZWQgdXNpbmcgYHRyYW5zaXRpb25TZXJ2aWNlLm9uUmV0YWluKHsgcmV0YWluZWQ6IChzdGF0ZSkgPT4gISFzdGF0ZS5vblJldGFpbiB9LCBvblJldGFpbkhvb2spO2BcbiAqXG4gKiBTZWU6IFtbSUhvb2tSZWdpc3RyeS5vblJldGFpbl1dXG4gKi9cbnZhciBvblJldGFpbkhvb2sgPSBtYWtlRW50ZXJFeGl0UmV0YWluSG9vaygnb25SZXRhaW4nKTtcbmV4cG9ydHMucmVnaXN0ZXJPblJldGFpbkhvb2sgPSBmdW5jdGlvbiAodHJhbnNpdGlvblNlcnZpY2UpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvblNlcnZpY2Uub25SZXRhaW4oeyByZXRhaW5lZDogZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiAhIXN0YXRlLm9uUmV0YWluOyB9IH0sIG9uUmV0YWluSG9vayk7XG59O1xuLyoqXG4gKiBUaGUgW1tUcmFuc2l0aW9uU3RhdGVIb29rRm5dXSBmb3Igb25FbnRlclxuICpcbiAqIFdoZW4gdGhlIHN0YXRlIGlzIGJlaW5nIGVudGVyZWQsIHRoZSBzdGF0ZSdzIC5vbkVudGVyIGZ1bmN0aW9uIGlzIGludm9rZWQuXG4gKlxuICogUmVnaXN0ZXJlZCB1c2luZyBgdHJhbnNpdGlvblNlcnZpY2Uub25FbnRlcih7IGVudGVyaW5nOiAoc3RhdGUpID0+ICEhc3RhdGUub25FbnRlciB9LCBvbkVudGVySG9vayk7YFxuICpcbiAqIFNlZTogW1tJSG9va1JlZ2lzdHJ5Lm9uRW50ZXJdXVxuICovXG52YXIgb25FbnRlckhvb2sgPSBtYWtlRW50ZXJFeGl0UmV0YWluSG9vaygnb25FbnRlcicpO1xuZXhwb3J0cy5yZWdpc3Rlck9uRW50ZXJIb29rID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uRW50ZXIoeyBlbnRlcmluZzogZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiAhIXN0YXRlLm9uRW50ZXI7IH0gfSwgb25FbnRlckhvb2spO1xufTtcblxufSx7fV0sMTg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQGludGVybmFsYXBpIEBtb2R1bGUgaG9va3MgKi8gLyoqICovXG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xudmFyIGNvcmVzZXJ2aWNlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb3Jlc2VydmljZXNcIik7XG52YXIgdGFyZ2V0U3RhdGVfMSA9IHJlcXVpcmUoXCIuLi9zdGF0ZS90YXJnZXRTdGF0ZVwiKTtcbi8qKlxuICogQSBbW1RyYW5zaXRpb25Ib29rRm5dXSB0aGF0IHJlZGlyZWN0cyB0byBhIGRpZmZlcmVudCBzdGF0ZSBvciBwYXJhbXNcbiAqXG4gKiBSZWdpc3RlcmVkIHVzaW5nIGB0cmFuc2l0aW9uU2VydmljZS5vblN0YXJ0KHsgdG86IChzdGF0ZSkgPT4gISFzdGF0ZS5yZWRpcmVjdFRvIH0sIHJlZGlyZWN0SG9vayk7YFxuICpcbiAqIFNlZSBbW1N0YXRlRGVjbGFyYXRpb24ucmVkaXJlY3RUb11dXG4gKi9cbnZhciByZWRpcmVjdFRvSG9vayA9IGZ1bmN0aW9uICh0cmFucykge1xuICAgIHZhciByZWRpcmVjdCA9IHRyYW5zLnRvKCkucmVkaXJlY3RUbztcbiAgICBpZiAoIXJlZGlyZWN0KVxuICAgICAgICByZXR1cm47XG4gICAgdmFyICRzdGF0ZSA9IHRyYW5zLnJvdXRlci5zdGF0ZVNlcnZpY2U7XG4gICAgZnVuY3Rpb24gaGFuZGxlUmVzdWx0KHJlc3VsdCkge1xuICAgICAgICBpZiAoIXJlc3VsdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIHRhcmdldFN0YXRlXzEuVGFyZ2V0U3RhdGUpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzU3RyaW5nKHJlc3VsdCkpXG4gICAgICAgICAgICByZXR1cm4gJHN0YXRlLnRhcmdldChyZXN1bHQsIHRyYW5zLnBhcmFtcygpLCB0cmFucy5vcHRpb25zKCkpO1xuICAgICAgICBpZiAocmVzdWx0WydzdGF0ZSddIHx8IHJlc3VsdFsncGFyYW1zJ10pXG4gICAgICAgICAgICByZXR1cm4gJHN0YXRlLnRhcmdldChyZXN1bHRbJ3N0YXRlJ10gfHwgdHJhbnMudG8oKSwgcmVzdWx0WydwYXJhbXMnXSB8fCB0cmFucy5wYXJhbXMoKSwgdHJhbnMub3B0aW9ucygpKTtcbiAgICB9XG4gICAgaWYgKHByZWRpY2F0ZXNfMS5pc0Z1bmN0aW9uKHJlZGlyZWN0KSkge1xuICAgICAgICByZXR1cm4gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEud2hlbihyZWRpcmVjdCh0cmFucykpLnRoZW4oaGFuZGxlUmVzdWx0KTtcbiAgICB9XG4gICAgcmV0dXJuIGhhbmRsZVJlc3VsdChyZWRpcmVjdCk7XG59O1xuZXhwb3J0cy5yZWdpc3RlclJlZGlyZWN0VG9Ib29rID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uU3RhcnQoeyB0bzogZnVuY3Rpb24gKHN0YXRlKSB7IHJldHVybiAhIXN0YXRlLnJlZGlyZWN0VG87IH0gfSwgcmVkaXJlY3RUb0hvb2spO1xufTtcblxufSx7XCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCI6NCxcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCI6OCxcIi4uL3N0YXRlL3RhcmdldFN0YXRlXCI6NDV9XSwxOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAaW50ZXJuYWxhcGkgQG1vZHVsZSBob29rcyAqLyAvKiogKi9cbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29tbW9uXCIpO1xudmFyIHJlc29sdmVDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vcmVzb2x2ZS9yZXNvbHZlQ29udGV4dFwiKTtcbnZhciBob2ZfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vaG9mXCIpO1xuZXhwb3J0cy5SRVNPTFZFX0hPT0tfUFJJT1JJVFkgPSAxMDAwO1xuLyoqXG4gKiBBIFtbVHJhbnNpdGlvbkhvb2tGbl1dIHdoaWNoIHJlc29sdmVzIGFsbCBFQUdFUiBSZXNvbHZhYmxlcyBpbiB0aGUgVG8gUGF0aFxuICpcbiAqIFJlZ2lzdGVyZWQgdXNpbmcgYHRyYW5zaXRpb25TZXJ2aWNlLm9uU3RhcnQoe30sIGVhZ2VyUmVzb2x2ZVBhdGgsIHsgcHJpb3JpdHk6IDEwMDAgfSk7YFxuICpcbiAqIFdoZW4gYSBUcmFuc2l0aW9uIHN0YXJ0cywgdGhpcyBob29rIHJlc29sdmVzIGFsbCB0aGUgRUFHRVIgUmVzb2x2YWJsZXMsIHdoaWNoIHRoZSB0cmFuc2l0aW9uIHRoZW4gd2FpdHMgZm9yLlxuICpcbiAqIFNlZSBbW1N0YXRlRGVjbGFyYXRpb24ucmVzb2x2ZV1dXG4gKi9cbnZhciBlYWdlclJlc29sdmVQYXRoID0gZnVuY3Rpb24gKHRyYW5zKSB7XG4gICAgcmV0dXJuIG5ldyByZXNvbHZlQ29udGV4dF8xLlJlc29sdmVDb250ZXh0KHRyYW5zLnRyZWVDaGFuZ2VzKCkudG8pLnJlc29sdmVQYXRoKCdFQUdFUicsIHRyYW5zKS50aGVuKGNvbW1vbl8xLm5vb3ApO1xufTtcbmV4cG9ydHMucmVnaXN0ZXJFYWdlclJlc29sdmVQYXRoID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uU3RhcnQoe30sIGVhZ2VyUmVzb2x2ZVBhdGgsIHsgcHJpb3JpdHk6IGV4cG9ydHMuUkVTT0xWRV9IT09LX1BSSU9SSVRZIH0pO1xufTtcbi8qKlxuICogQSBbW1RyYW5zaXRpb25Ib29rRm5dXSB3aGljaCByZXNvbHZlcyBhbGwgTEFaWSBSZXNvbHZhYmxlcyBmb3IgdGhlIHN0YXRlIChhbmQgYWxsIGl0cyBhbmNlc3RvcnMpIGluIHRoZSBUbyBQYXRoXG4gKlxuICogUmVnaXN0ZXJlZCB1c2luZyBgdHJhbnNpdGlvblNlcnZpY2Uub25FbnRlcih7IGVudGVyaW5nOiAoKSA9PiB0cnVlIH0sIGxhenlSZXNvbHZlU3RhdGUsIHsgcHJpb3JpdHk6IDEwMDAgfSk7YFxuICpcbiAqIFdoZW4gYSBTdGF0ZSBpcyBiZWluZyBlbnRlcmVkLCB0aGlzIGhvb2sgcmVzb2x2ZXMgYWxsIHRoZSBSZXNvbHZhYmxlcyBmb3IgdGhpcyBzdGF0ZSwgd2hpY2ggdGhlIHRyYW5zaXRpb24gdGhlbiB3YWl0cyBmb3IuXG4gKlxuICogU2VlIFtbU3RhdGVEZWNsYXJhdGlvbi5yZXNvbHZlXV1cbiAqL1xudmFyIGxhenlSZXNvbHZlU3RhdGUgPSBmdW5jdGlvbiAodHJhbnMsIHN0YXRlKSB7XG4gICAgcmV0dXJuIG5ldyByZXNvbHZlQ29udGV4dF8xLlJlc29sdmVDb250ZXh0KHRyYW5zLnRyZWVDaGFuZ2VzKCkudG8pXG4gICAgICAgIC5zdWJDb250ZXh0KHN0YXRlLiQkc3RhdGUoKSlcbiAgICAgICAgLnJlc29sdmVQYXRoKCdMQVpZJywgdHJhbnMpXG4gICAgICAgIC50aGVuKGNvbW1vbl8xLm5vb3ApO1xufTtcbmV4cG9ydHMucmVnaXN0ZXJMYXp5UmVzb2x2ZVN0YXRlID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uRW50ZXIoeyBlbnRlcmluZzogaG9mXzEudmFsKHRydWUpIH0sIGxhenlSZXNvbHZlU3RhdGUsIHsgcHJpb3JpdHk6IGV4cG9ydHMuUkVTT0xWRV9IT09LX1BSSU9SSVRZIH0pO1xufTtcbi8qKlxuICogQSBbW1RyYW5zaXRpb25Ib29rRm5dXSB3aGljaCByZXNvbHZlcyBhbnkgZHluYW1pY2FsbHkgYWRkZWQgKExBWlkgb3IgRUFHRVIpIFJlc29sdmFibGVzLlxuICpcbiAqIFJlZ2lzdGVyZWQgdXNpbmcgYHRyYW5zaXRpb25TZXJ2aWNlLm9uRmluaXNoKHt9LCBlYWdlclJlc29sdmVQYXRoLCB7IHByaW9yaXR5OiAxMDAwIH0pO2BcbiAqXG4gKiBBZnRlciBhbGwgZW50ZXJpbmcgc3RhdGVzIGhhdmUgYmVlbiBlbnRlcmVkLCB0aGlzIGhvb2sgcmVzb2x2ZXMgYW55IHJlbWFpbmluZyBSZXNvbHZhYmxlcy5cbiAqIFRoZXNlIGFyZSB0eXBpY2FsbHkgZHluYW1pYyByZXNvbHZlcyB3aGljaCB3ZXJlIGFkZGVkIGJ5IHNvbWUgVHJhbnNpdGlvbiBIb29rIHVzaW5nIFtbVHJhbnNpdGlvbi5hZGRSZXNvbHZhYmxlXV0uXG4gKlxuICogU2VlIFtbU3RhdGVEZWNsYXJhdGlvbi5yZXNvbHZlXV1cbiAqL1xudmFyIHJlc29sdmVSZW1haW5pbmcgPSBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICByZXR1cm4gbmV3IHJlc29sdmVDb250ZXh0XzEuUmVzb2x2ZUNvbnRleHQodHJhbnMudHJlZUNoYW5nZXMoKS50bykucmVzb2x2ZVBhdGgoJ0xBWlknLCB0cmFucykudGhlbihjb21tb25fMS5ub29wKTtcbn07XG5leHBvcnRzLnJlZ2lzdGVyUmVzb2x2ZVJlbWFpbmluZyA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uU2VydmljZSkge1xuICAgIHJldHVybiB0cmFuc2l0aW9uU2VydmljZS5vbkZpbmlzaCh7fSwgcmVzb2x2ZVJlbWFpbmluZywgeyBwcmlvcml0eTogZXhwb3J0cy5SRVNPTFZFX0hPT0tfUFJJT1JJVFkgfSk7XG59O1xuXG59LHtcIi4uL2NvbW1vbi9jb21tb25cIjozLFwiLi4vY29tbW9uL2hvZlwiOjYsXCIuLi9yZXNvbHZlL3Jlc29sdmVDb250ZXh0XCI6MzZ9XSwyMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29tbW9uXCIpO1xuLyoqXG4gKiBBIFtbVHJhbnNpdGlvbkhvb2tGbl1dIHdoaWNoIHVwZGF0ZXMgZ2xvYmFsIFVJLVJvdXRlciBzdGF0ZVxuICpcbiAqIFJlZ2lzdGVyZWQgdXNpbmcgYHRyYW5zaXRpb25TZXJ2aWNlLm9uQmVmb3JlKHt9LCB1cGRhdGVHbG9iYWxTdGF0ZSk7YFxuICpcbiAqIEJlZm9yZSBhIFtbVHJhbnNpdGlvbl1dIHN0YXJ0cywgdXBkYXRlcyB0aGUgZ2xvYmFsIHZhbHVlIG9mIFwidGhlIGN1cnJlbnQgdHJhbnNpdGlvblwiIChbW0dsb2JhbHMudHJhbnNpdGlvbl1dKS5cbiAqIEFmdGVyIGEgc3VjY2Vzc2Z1bCBbW1RyYW5zaXRpb25dXSwgdXBkYXRlcyB0aGUgZ2xvYmFsIHZhbHVlcyBvZiBcInRoZSBjdXJyZW50IHN0YXRlXCJcbiAqIChbW0dsb2JhbHMuY3VycmVudF1dIGFuZCBbW0dsb2JhbHMuJGN1cnJlbnRdXSkgYW5kIFwidGhlIGN1cnJlbnQgcGFyYW0gdmFsdWVzXCIgKFtbR2xvYmFscy5wYXJhbXNdXSkuXG4gKlxuICogU2VlIGFsc28gdGhlIGRlcHJlY2F0ZWQgcHJvcGVydGllczpcbiAqIFtbU3RhdGVTZXJ2aWNlLnRyYW5zaXRpb25dXSwgW1tTdGF0ZVNlcnZpY2UuY3VycmVudF1dLCBbW1N0YXRlU2VydmljZS5wYXJhbXNdXVxuICovXG52YXIgdXBkYXRlR2xvYmFsU3RhdGUgPSBmdW5jdGlvbiAodHJhbnMpIHtcbiAgICB2YXIgZ2xvYmFscyA9IHRyYW5zLnJvdXRlci5nbG9iYWxzO1xuICAgIHZhciB0cmFuc2l0aW9uU3VjY2Vzc2Z1bCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZ2xvYmFscy5zdWNjZXNzZnVsVHJhbnNpdGlvbnMuZW5xdWV1ZSh0cmFucyk7XG4gICAgICAgIGdsb2JhbHMuJGN1cnJlbnQgPSB0cmFucy4kdG8oKTtcbiAgICAgICAgZ2xvYmFscy5jdXJyZW50ID0gZ2xvYmFscy4kY3VycmVudC5zZWxmO1xuICAgICAgICBjb21tb25fMS5jb3B5KHRyYW5zLnBhcmFtcygpLCBnbG9iYWxzLnBhcmFtcyk7XG4gICAgfTtcbiAgICB2YXIgY2xlYXJDdXJyZW50VHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRG8gbm90IGNsZWFyIGdsb2JhbHMudHJhbnNpdGlvbiBpZiBhIGRpZmZlcmVudCB0cmFuc2l0aW9uIGhhcyBzdGFydGVkIGluIHRoZSBtZWFudGltZVxuICAgICAgICBpZiAoZ2xvYmFscy50cmFuc2l0aW9uID09PSB0cmFucylcbiAgICAgICAgICAgIGdsb2JhbHMudHJhbnNpdGlvbiA9IG51bGw7XG4gICAgfTtcbiAgICB0cmFucy5vblN1Y2Nlc3Moe30sIHRyYW5zaXRpb25TdWNjZXNzZnVsLCB7IHByaW9yaXR5OiAxMDAwMCB9KTtcbiAgICB0cmFucy5wcm9taXNlLnRoZW4oY2xlYXJDdXJyZW50VHJhbnNpdGlvbiwgY2xlYXJDdXJyZW50VHJhbnNpdGlvbik7XG59O1xuZXhwb3J0cy5yZWdpc3RlclVwZGF0ZUdsb2JhbFN0YXRlID0gZnVuY3Rpb24gKHRyYW5zaXRpb25TZXJ2aWNlKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25TZXJ2aWNlLm9uQ3JlYXRlKHt9LCB1cGRhdGVHbG9iYWxTdGF0ZSk7XG59O1xuXG59LHtcIi4uL2NvbW1vbi9jb21tb25cIjozfV0sMjE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIEEgW1tUcmFuc2l0aW9uSG9va0ZuXV0gd2hpY2ggdXBkYXRlcyB0aGUgVVJMIGFmdGVyIGEgc3VjY2Vzc2Z1bCB0cmFuc2l0aW9uXG4gKlxuICogUmVnaXN0ZXJlZCB1c2luZyBgdHJhbnNpdGlvblNlcnZpY2Uub25TdWNjZXNzKHt9LCB1cGRhdGVVcmwpO2BcbiAqL1xudmFyIHVwZGF0ZVVybCA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB0cmFuc2l0aW9uLm9wdGlvbnMoKTtcbiAgICB2YXIgJHN0YXRlID0gdHJhbnNpdGlvbi5yb3V0ZXIuc3RhdGVTZXJ2aWNlO1xuICAgIHZhciAkdXJsUm91dGVyID0gdHJhbnNpdGlvbi5yb3V0ZXIudXJsUm91dGVyO1xuICAgIC8vIERvbnQgdXBkYXRlIHRoZSB1cmwgaW4gdGhlc2Ugc2l0dWF0aW9uczpcbiAgICAvLyBUaGUgdHJhbnNpdGlvbiB3YXMgdHJpZ2dlcmVkIGJ5IGEgVVJMIHN5bmMgKG9wdGlvbnMuc291cmNlID09PSAndXJsJylcbiAgICAvLyBUaGUgdXNlciBkb2Vzbid0IHdhbnQgdGhlIHVybCB0byB1cGRhdGUgKG9wdGlvbnMubG9jYXRpb24gPT09IGZhbHNlKVxuICAgIC8vIFRoZSBkZXN0aW5hdGlvbiBzdGF0ZSwgYW5kIGFsbCBwYXJlbnRzIGhhdmUgbm8gbmF2aWdhYmxlIHVybFxuICAgIGlmIChvcHRpb25zLnNvdXJjZSAhPT0gJ3VybCcgJiYgb3B0aW9ucy5sb2NhdGlvbiAmJiAkc3RhdGUuJGN1cnJlbnQubmF2aWdhYmxlKSB7XG4gICAgICAgIHZhciB1cmxPcHRpb25zID0geyByZXBsYWNlOiBvcHRpb25zLmxvY2F0aW9uID09PSAncmVwbGFjZScgfTtcbiAgICAgICAgJHVybFJvdXRlci5wdXNoKCRzdGF0ZS4kY3VycmVudC5uYXZpZ2FibGUudXJsLCAkc3RhdGUucGFyYW1zLCB1cmxPcHRpb25zKTtcbiAgICB9XG4gICAgJHVybFJvdXRlci51cGRhdGUodHJ1ZSk7XG59O1xuZXhwb3J0cy5yZWdpc3RlclVwZGF0ZVVybCA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uU2VydmljZSkge1xuICAgIHJldHVybiB0cmFuc2l0aW9uU2VydmljZS5vblN1Y2Nlc3Moe30sIHVwZGF0ZVVybCwgeyBwcmlvcml0eTogOTk5OSB9KTtcbn07XG5cbn0se31dLDIyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBpbnRlcm5hbGFwaSBAbW9kdWxlIGhvb2tzICovIC8qKiAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgY29yZXNlcnZpY2VzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvcmVzZXJ2aWNlc1wiKTtcbi8qKlxuICogQSBbW1RyYW5zaXRpb25Ib29rRm5dXSB3aGljaCB3YWl0cyBmb3IgdGhlIHZpZXdzIHRvIGxvYWRcbiAqXG4gKiBSZWdpc3RlcmVkIHVzaW5nIGB0cmFuc2l0aW9uU2VydmljZS5vblN0YXJ0KHt9LCBsb2FkRW50ZXJpbmdWaWV3cyk7YFxuICpcbiAqIEFsbG93cyB0aGUgdmlld3MgdG8gZG8gYXN5bmMgd29yayBpbiBbW1ZpZXdDb25maWcubG9hZF1dIGJlZm9yZSB0aGUgdHJhbnNpdGlvbiBjb250aW51ZXMuXG4gKiBJbiBhbmd1bGFyIDEsIHRoaXMgaW5jbHVkZXMgbG9hZGluZyB0aGUgdGVtcGxhdGVzLlxuICovXG52YXIgbG9hZEVudGVyaW5nVmlld3MgPSBmdW5jdGlvbiAodHJhbnNpdGlvbikge1xuICAgIHZhciAkcSA9IGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxO1xuICAgIHZhciBlbnRlcmluZ1ZpZXdzID0gdHJhbnNpdGlvbi52aWV3cygnZW50ZXJpbmcnKTtcbiAgICBpZiAoIWVudGVyaW5nVmlld3MubGVuZ3RoKVxuICAgICAgICByZXR1cm47XG4gICAgcmV0dXJuICRxLmFsbChlbnRlcmluZ1ZpZXdzLm1hcChmdW5jdGlvbiAodmlldykgeyByZXR1cm4gJHEud2hlbih2aWV3LmxvYWQoKSk7IH0pKS50aGVuKGNvbW1vbl8xLm5vb3ApO1xufTtcbmV4cG9ydHMucmVnaXN0ZXJMb2FkRW50ZXJpbmdWaWV3cyA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uU2VydmljZSkge1xuICAgIHJldHVybiB0cmFuc2l0aW9uU2VydmljZS5vbkZpbmlzaCh7fSwgbG9hZEVudGVyaW5nVmlld3MpO1xufTtcbi8qKlxuICogQSBbW1RyYW5zaXRpb25Ib29rRm5dXSB3aGljaCBhY3RpdmF0ZXMgdGhlIG5ldyB2aWV3cyB3aGVuIGEgdHJhbnNpdGlvbiBpcyBzdWNjZXNzZnVsLlxuICpcbiAqIFJlZ2lzdGVyZWQgdXNpbmcgYHRyYW5zaXRpb25TZXJ2aWNlLm9uU3VjY2Vzcyh7fSwgYWN0aXZhdGVWaWV3cyk7YFxuICpcbiAqIEFmdGVyIGEgdHJhbnNpdGlvbiBpcyBjb21wbGV0ZSwgdGhpcyBob29rIGRlYWN0aXZhdGVzIHRoZSBvbGQgdmlld3MgZnJvbSB0aGUgcHJldmlvdXMgc3RhdGUsXG4gKiBhbmQgYWN0aXZhdGVzIHRoZSBuZXcgdmlld3MgZnJvbSB0aGUgZGVzdGluYXRpb24gc3RhdGUuXG4gKlxuICogU2VlIFtbVmlld1NlcnZpY2VdXVxuICovXG52YXIgYWN0aXZhdGVWaWV3cyA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uKSB7XG4gICAgdmFyIGVudGVyaW5nVmlld3MgPSB0cmFuc2l0aW9uLnZpZXdzKCdlbnRlcmluZycpO1xuICAgIHZhciBleGl0aW5nVmlld3MgPSB0cmFuc2l0aW9uLnZpZXdzKCdleGl0aW5nJyk7XG4gICAgaWYgKCFlbnRlcmluZ1ZpZXdzLmxlbmd0aCAmJiAhZXhpdGluZ1ZpZXdzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuO1xuICAgIHZhciAkdmlldyA9IHRyYW5zaXRpb24ucm91dGVyLnZpZXdTZXJ2aWNlO1xuICAgIGV4aXRpbmdWaWV3cy5mb3JFYWNoKGZ1bmN0aW9uICh2YykgeyByZXR1cm4gJHZpZXcuZGVhY3RpdmF0ZVZpZXdDb25maWcodmMpOyB9KTtcbiAgICBlbnRlcmluZ1ZpZXdzLmZvckVhY2goZnVuY3Rpb24gKHZjKSB7IHJldHVybiAkdmlldy5hY3RpdmF0ZVZpZXdDb25maWcodmMpOyB9KTtcbiAgICAkdmlldy5zeW5jKCk7XG59O1xuZXhwb3J0cy5yZWdpc3RlckFjdGl2YXRlVmlld3MgPSBmdW5jdGlvbiAodHJhbnNpdGlvblNlcnZpY2UpIHtcbiAgICByZXR1cm4gdHJhbnNpdGlvblNlcnZpY2Uub25TdWNjZXNzKHt9LCBhY3RpdmF0ZVZpZXdzKTtcbn07XG5cbn0se1wiLi4vY29tbW9uL2NvbW1vblwiOjMsXCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCI6NH1dLDIzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSBjb21tb24gKi8gLyoqICovXG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vY29tbW9uL2luZGV4XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3BhcmFtcy9pbmRleFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wYXRoL2luZGV4XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3Jlc29sdmUvaW5kZXhcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vc3RhdGUvaW5kZXhcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdHJhbnNpdGlvbi9pbmRleFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi91cmwvaW5kZXhcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdmlldy9pbmRleFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9nbG9iYWxzXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3JvdXRlclwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi92YW5pbGxhXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2ludGVyZmFjZVwiKSk7XG5cbn0se1wiLi9jb21tb24vaW5kZXhcIjo3LFwiLi9nbG9iYWxzXCI6MTIsXCIuL2ludGVyZmFjZVwiOjI0LFwiLi9wYXJhbXMvaW5kZXhcIjoyNSxcIi4vcGF0aC9pbmRleFwiOjMwLFwiLi9yZXNvbHZlL2luZGV4XCI6MzMsXCIuL3JvdXRlclwiOjM3LFwiLi9zdGF0ZS9pbmRleFwiOjM4LFwiLi90cmFuc2l0aW9uL2luZGV4XCI6NDgsXCIuL3VybC9pbmRleFwiOjU1LFwiLi92YW5pbGxhXCI6NjMsXCIuL3ZpZXcvaW5kZXhcIjo3NX1dLDI0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiAjIENvcmUgY2xhc3NlcyBhbmQgaW50ZXJmYWNlc1xuICpcbiAqIFRoZSBjbGFzc2VzIGFuZCBpbnRlcmZhY2VzIHRoYXQgYXJlIGNvcmUgdG8gdWktcm91dGVyIGFuZCBkbyBub3QgYmVsb25nXG4gKiB0byBhIG1vcmUgc3BlY2lmaWMgc3Vic3lzdGVtIChzdWNoIGFzIHJlc29sdmUpLlxuICpcbiAqIEBwcmVmZXJyZWQgQHB1YmxpY2FwaSBAbW9kdWxlIGNvcmVcbiAqLyAvKiogKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAaW50ZXJuYWxhcGkgKi9cbnZhciBVSVJvdXRlclBsdWdpbkJhc2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVUlSb3V0ZXJQbHVnaW5CYXNlKCkge1xuICAgIH1cbiAgICBVSVJvdXRlclBsdWdpbkJhc2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAocm91dGVyKSB7IH07XG4gICAgcmV0dXJuIFVJUm91dGVyUGx1Z2luQmFzZTtcbn0oKSk7XG5leHBvcnRzLlVJUm91dGVyUGx1Z2luQmFzZSA9IFVJUm91dGVyUGx1Z2luQmFzZTtcblxufSx7fV0sMjU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vcGFyYW1cIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcGFyYW1UeXBlc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zdGF0ZVBhcmFtc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wYXJhbVR5cGVcIikpO1xuXG59LHtcIi4vcGFyYW1cIjoyNixcIi4vcGFyYW1UeXBlXCI6MjcsXCIuL3BhcmFtVHlwZXNcIjoyOCxcIi4vc3RhdGVQYXJhbXNcIjoyOX1dLDI2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSBwYXJhbXMgKi8gLyoqICovXG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbnZhciBob2ZfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vaG9mXCIpO1xudmFyIHByZWRpY2F0ZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vcHJlZGljYXRlc1wiKTtcbnZhciBjb3Jlc2VydmljZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCIpO1xudmFyIHBhcmFtVHlwZV8xID0gcmVxdWlyZShcIi4vcGFyYW1UeXBlXCIpO1xuLyoqIEBoaWRkZW4gKi9cbnZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuLyoqIEBoaWRkZW4gKi9cbnZhciBpc1Nob3J0aGFuZCA9IGZ1bmN0aW9uIChjZmcpIHtcbiAgICByZXR1cm4gWyd2YWx1ZScsICd0eXBlJywgJ3NxdWFzaCcsICdhcnJheScsICdkeW5hbWljJ10uZmlsdGVyKGhhc093bi5iaW5kKGNmZyB8fCB7fSkpLmxlbmd0aCA9PT0gMDtcbn07XG4vKiogQGludGVybmFsYXBpICovXG52YXIgRGVmVHlwZTtcbihmdW5jdGlvbiAoRGVmVHlwZSkge1xuICAgIERlZlR5cGVbRGVmVHlwZVtcIlBBVEhcIl0gPSAwXSA9IFwiUEFUSFwiO1xuICAgIERlZlR5cGVbRGVmVHlwZVtcIlNFQVJDSFwiXSA9IDFdID0gXCJTRUFSQ0hcIjtcbiAgICBEZWZUeXBlW0RlZlR5cGVbXCJDT05GSUdcIl0gPSAyXSA9IFwiQ09ORklHXCI7XG59KShEZWZUeXBlIHx8IChEZWZUeXBlID0ge30pKTtcbmV4cG9ydHMuRGVmVHlwZSA9IERlZlR5cGU7XG4vKiogQGludGVybmFsYXBpICovXG5mdW5jdGlvbiBnZXRQYXJhbURlY2xhcmF0aW9uKHBhcmFtTmFtZSwgbG9jYXRpb24sIHN0YXRlKSB7XG4gICAgdmFyIG5vUmVsb2FkT25TZWFyY2ggPSAoc3RhdGUucmVsb2FkT25TZWFyY2ggPT09IGZhbHNlICYmIGxvY2F0aW9uID09PSBEZWZUeXBlLlNFQVJDSCkgfHwgdW5kZWZpbmVkO1xuICAgIHZhciBkeW5hbWljID0gY29tbW9uXzEuZmluZChbc3RhdGUuZHluYW1pYywgbm9SZWxvYWRPblNlYXJjaF0sIHByZWRpY2F0ZXNfMS5pc0RlZmluZWQpO1xuICAgIHZhciBkZWZhdWx0Q29uZmlnID0gcHJlZGljYXRlc18xLmlzRGVmaW5lZChkeW5hbWljKSA/IHsgZHluYW1pYzogZHluYW1pYyB9IDoge307XG4gICAgdmFyIHBhcmFtQ29uZmlnID0gdW53cmFwU2hvcnRoYW5kKHN0YXRlICYmIHN0YXRlLnBhcmFtcyAmJiBzdGF0ZS5wYXJhbXNbcGFyYW1OYW1lXSk7XG4gICAgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZChkZWZhdWx0Q29uZmlnLCBwYXJhbUNvbmZpZyk7XG59XG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gdW53cmFwU2hvcnRoYW5kKGNmZykge1xuICAgIGNmZyA9IGlzU2hvcnRoYW5kKGNmZykgPyB7IHZhbHVlOiBjZmcgfSA6IGNmZztcbiAgICBnZXRTdGF0aWNEZWZhdWx0VmFsdWVbJ19fY2FjaGVhYmxlJ10gPSB0cnVlO1xuICAgIGZ1bmN0aW9uIGdldFN0YXRpY0RlZmF1bHRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGNmZy52YWx1ZTtcbiAgICB9XG4gICAgdmFyICQkZm4gPSBwcmVkaWNhdGVzXzEuaXNJbmplY3RhYmxlKGNmZy52YWx1ZSkgPyBjZmcudmFsdWUgOiBnZXRTdGF0aWNEZWZhdWx0VmFsdWU7XG4gICAgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZChjZmcsIHsgJCRmbjogJCRmbiB9KTtcbn1cbi8qKiBAaGlkZGVuICovXG5mdW5jdGlvbiBnZXRUeXBlKGNmZywgdXJsVHlwZSwgbG9jYXRpb24sIGlkLCBwYXJhbVR5cGVzKSB7XG4gICAgaWYgKGNmZy50eXBlICYmIHVybFR5cGUgJiYgdXJsVHlwZS5uYW1lICE9PSAnc3RyaW5nJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGFyYW0gJ1wiICsgaWQgKyBcIicgaGFzIHR3byB0eXBlIGNvbmZpZ3VyYXRpb25zLlwiKTtcbiAgICBpZiAoY2ZnLnR5cGUgJiYgdXJsVHlwZSAmJiB1cmxUeXBlLm5hbWUgPT09ICdzdHJpbmcnICYmIHBhcmFtVHlwZXMudHlwZShjZmcudHlwZSkpXG4gICAgICAgIHJldHVybiBwYXJhbVR5cGVzLnR5cGUoY2ZnLnR5cGUpO1xuICAgIGlmICh1cmxUeXBlKVxuICAgICAgICByZXR1cm4gdXJsVHlwZTtcbiAgICBpZiAoIWNmZy50eXBlKSB7XG4gICAgICAgIHZhciB0eXBlID0gbG9jYXRpb24gPT09IERlZlR5cGUuQ09ORklHXG4gICAgICAgICAgICA/ICdhbnknXG4gICAgICAgICAgICA6IGxvY2F0aW9uID09PSBEZWZUeXBlLlBBVEhcbiAgICAgICAgICAgICAgICA/ICdwYXRoJ1xuICAgICAgICAgICAgICAgIDogbG9jYXRpb24gPT09IERlZlR5cGUuU0VBUkNIXG4gICAgICAgICAgICAgICAgICAgID8gJ3F1ZXJ5J1xuICAgICAgICAgICAgICAgICAgICA6ICdzdHJpbmcnO1xuICAgICAgICByZXR1cm4gcGFyYW1UeXBlcy50eXBlKHR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gY2ZnLnR5cGUgaW5zdGFuY2VvZiBwYXJhbVR5cGVfMS5QYXJhbVR5cGUgPyBjZmcudHlwZSA6IHBhcmFtVHlwZXMudHlwZShjZmcudHlwZSk7XG59XG4vKipcbiAqIEBpbnRlcm5hbGFwaVxuICogcmV0dXJucyBmYWxzZSwgdHJ1ZSwgb3IgdGhlIHNxdWFzaCB2YWx1ZSB0byBpbmRpY2F0ZSB0aGUgXCJkZWZhdWx0IHBhcmFtZXRlciB1cmwgc3F1YXNoIHBvbGljeVwiLlxuICovXG5mdW5jdGlvbiBnZXRTcXVhc2hQb2xpY3koY29uZmlnLCBpc09wdGlvbmFsLCBkZWZhdWx0UG9saWN5KSB7XG4gICAgdmFyIHNxdWFzaCA9IGNvbmZpZy5zcXVhc2g7XG4gICAgaWYgKCFpc09wdGlvbmFsIHx8IHNxdWFzaCA9PT0gZmFsc2UpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIXByZWRpY2F0ZXNfMS5pc0RlZmluZWQoc3F1YXNoKSB8fCBzcXVhc2ggPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRQb2xpY3k7XG4gICAgaWYgKHNxdWFzaCA9PT0gdHJ1ZSB8fCBwcmVkaWNhdGVzXzEuaXNTdHJpbmcoc3F1YXNoKSlcbiAgICAgICAgcmV0dXJuIHNxdWFzaDtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNxdWFzaCBwb2xpY3k6ICdcIiArIHNxdWFzaCArIFwiJy4gVmFsaWQgcG9saWNpZXM6IGZhbHNlLCB0cnVlLCBvciBhcmJpdHJhcnkgc3RyaW5nXCIpO1xufVxuLyoqIEBpbnRlcm5hbGFwaSAqL1xuZnVuY3Rpb24gZ2V0UmVwbGFjZShjb25maWcsIGFycmF5TW9kZSwgaXNPcHRpb25hbCwgc3F1YXNoKSB7XG4gICAgdmFyIGRlZmF1bHRQb2xpY3kgPSBbXG4gICAgICAgIHsgZnJvbTogJycsIHRvOiBpc09wdGlvbmFsIHx8IGFycmF5TW9kZSA/IHVuZGVmaW5lZCA6ICcnIH0sXG4gICAgICAgIHsgZnJvbTogbnVsbCwgdG86IGlzT3B0aW9uYWwgfHwgYXJyYXlNb2RlID8gdW5kZWZpbmVkIDogJycgfSxcbiAgICBdO1xuICAgIHZhciByZXBsYWNlID0gcHJlZGljYXRlc18xLmlzQXJyYXkoY29uZmlnLnJlcGxhY2UpID8gY29uZmlnLnJlcGxhY2UgOiBbXTtcbiAgICBpZiAocHJlZGljYXRlc18xLmlzU3RyaW5nKHNxdWFzaCkpXG4gICAgICAgIHJlcGxhY2UucHVzaCh7IGZyb206IHNxdWFzaCwgdG86IHVuZGVmaW5lZCB9KTtcbiAgICB2YXIgY29uZmlndXJlZEtleXMgPSBjb21tb25fMS5tYXAocmVwbGFjZSwgaG9mXzEucHJvcCgnZnJvbScpKTtcbiAgICByZXR1cm4gY29tbW9uXzEuZmlsdGVyKGRlZmF1bHRQb2xpY3ksIGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBjb25maWd1cmVkS2V5cy5pbmRleE9mKGl0ZW0uZnJvbSkgPT09IC0xOyB9KS5jb25jYXQocmVwbGFjZSk7XG59XG4vKiogQGludGVybmFsYXBpICovXG52YXIgUGFyYW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFyYW0oaWQsIHR5cGUsIGxvY2F0aW9uLCB1cmxDb25maWcsIHN0YXRlKSB7XG4gICAgICAgIHZhciBjb25maWcgPSBnZXRQYXJhbURlY2xhcmF0aW9uKGlkLCBsb2NhdGlvbiwgc3RhdGUpO1xuICAgICAgICB0eXBlID0gZ2V0VHlwZShjb25maWcsIHR5cGUsIGxvY2F0aW9uLCBpZCwgdXJsQ29uZmlnLnBhcmFtVHlwZXMpO1xuICAgICAgICB2YXIgYXJyYXlNb2RlID0gZ2V0QXJyYXlNb2RlKCk7XG4gICAgICAgIHR5cGUgPSBhcnJheU1vZGUgPyB0eXBlLiRhc0FycmF5KGFycmF5TW9kZSwgbG9jYXRpb24gPT09IERlZlR5cGUuU0VBUkNIKSA6IHR5cGU7XG4gICAgICAgIHZhciBpc09wdGlvbmFsID0gY29uZmlnLnZhbHVlICE9PSB1bmRlZmluZWQgfHwgbG9jYXRpb24gPT09IERlZlR5cGUuU0VBUkNIO1xuICAgICAgICB2YXIgZHluYW1pYyA9IHByZWRpY2F0ZXNfMS5pc0RlZmluZWQoY29uZmlnLmR5bmFtaWMpID8gISFjb25maWcuZHluYW1pYyA6ICEhdHlwZS5keW5hbWljO1xuICAgICAgICB2YXIgcmF3ID0gcHJlZGljYXRlc18xLmlzRGVmaW5lZChjb25maWcucmF3KSA/ICEhY29uZmlnLnJhdyA6ICEhdHlwZS5yYXc7XG4gICAgICAgIHZhciBzcXVhc2ggPSBnZXRTcXVhc2hQb2xpY3koY29uZmlnLCBpc09wdGlvbmFsLCB1cmxDb25maWcuZGVmYXVsdFNxdWFzaFBvbGljeSgpKTtcbiAgICAgICAgdmFyIHJlcGxhY2UgPSBnZXRSZXBsYWNlKGNvbmZpZywgYXJyYXlNb2RlLCBpc09wdGlvbmFsLCBzcXVhc2gpO1xuICAgICAgICB2YXIgaW5oZXJpdCA9IHByZWRpY2F0ZXNfMS5pc0RlZmluZWQoY29uZmlnLmluaGVyaXQpID8gISFjb25maWcuaW5oZXJpdCA6ICEhdHlwZS5pbmhlcml0O1xuICAgICAgICAvLyBhcnJheSBjb25maWc6IHBhcmFtIG5hbWUgKHBhcmFtW10pIG92ZXJyaWRlcyBkZWZhdWx0IHNldHRpbmdzLiAgZXhwbGljaXQgY29uZmlnIG92ZXJyaWRlcyBwYXJhbSBuYW1lLlxuICAgICAgICBmdW5jdGlvbiBnZXRBcnJheU1vZGUoKSB7XG4gICAgICAgICAgICB2YXIgYXJyYXlEZWZhdWx0cyA9IHsgYXJyYXk6IGxvY2F0aW9uID09PSBEZWZUeXBlLlNFQVJDSCA/ICdhdXRvJyA6IGZhbHNlIH07XG4gICAgICAgICAgICB2YXIgYXJyYXlQYXJhbU5vbWVuY2xhdHVyZSA9IGlkLm1hdGNoKC9cXFtcXF0kLykgPyB7IGFycmF5OiB0cnVlIH0gOiB7fTtcbiAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5leHRlbmQoYXJyYXlEZWZhdWx0cywgYXJyYXlQYXJhbU5vbWVuY2xhdHVyZSwgY29uZmlnKS5hcnJheTtcbiAgICAgICAgfVxuICAgICAgICBjb21tb25fMS5leHRlbmQodGhpcywgeyBpZDogaWQsIHR5cGU6IHR5cGUsIGxvY2F0aW9uOiBsb2NhdGlvbiwgaXNPcHRpb25hbDogaXNPcHRpb25hbCwgZHluYW1pYzogZHluYW1pYywgcmF3OiByYXcsIHNxdWFzaDogc3F1YXNoLCByZXBsYWNlOiByZXBsYWNlLCBpbmhlcml0OiBpbmhlcml0LCBhcnJheTogYXJyYXlNb2RlLCBjb25maWc6IGNvbmZpZyB9KTtcbiAgICB9XG4gICAgUGFyYW0udmFsdWVzID0gZnVuY3Rpb24gKHBhcmFtcywgdmFsdWVzKSB7XG4gICAgICAgIGlmICh2YWx1ZXMgPT09IHZvaWQgMCkgeyB2YWx1ZXMgPSB7fTsgfVxuICAgICAgICB2YXIgcGFyYW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBwYXJhbXNfMSA9IHBhcmFtczsgX2kgPCBwYXJhbXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IHBhcmFtc18xW19pXTtcbiAgICAgICAgICAgIHBhcmFtVmFsdWVzW3BhcmFtLmlkXSA9IHBhcmFtLnZhbHVlKHZhbHVlc1twYXJhbS5pZF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJhbVZhbHVlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbmRzIFtbUGFyYW1dXSBvYmplY3RzIHdoaWNoIGhhdmUgZGlmZmVyZW50IHBhcmFtIHZhbHVlc1xuICAgICAqXG4gICAgICogRmlsdGVycyBhIGxpc3Qgb2YgW1tQYXJhbV1dIG9iamVjdHMgdG8gb25seSB0aG9zZSB3aG9zZSBwYXJhbWV0ZXIgdmFsdWVzIGRpZmZlciBpbiB0d28gcGFyYW0gdmFsdWUgb2JqZWN0c1xuICAgICAqXG4gICAgICogQHBhcmFtIHBhcmFtczogVGhlIGxpc3Qgb2YgUGFyYW0gb2JqZWN0cyB0byBmaWx0ZXJcbiAgICAgKiBAcGFyYW0gdmFsdWVzMTogVGhlIGZpcnN0IHNldCBvZiBwYXJhbWV0ZXIgdmFsdWVzXG4gICAgICogQHBhcmFtIHZhbHVlczI6IHRoZSBzZWNvbmQgc2V0IG9mIHBhcmFtZXRlciB2YWx1ZXNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGFueSBQYXJhbSBvYmplY3RzIHdob3NlIHZhbHVlcyB3ZXJlIGRpZmZlcmVudCBiZXR3ZWVuIHZhbHVlczEgYW5kIHZhbHVlczJcbiAgICAgKi9cbiAgICBQYXJhbS5jaGFuZ2VkID0gZnVuY3Rpb24gKHBhcmFtcywgdmFsdWVzMSwgdmFsdWVzMikge1xuICAgICAgICBpZiAodmFsdWVzMSA9PT0gdm9pZCAwKSB7IHZhbHVlczEgPSB7fTsgfVxuICAgICAgICBpZiAodmFsdWVzMiA9PT0gdm9pZCAwKSB7IHZhbHVlczIgPSB7fTsgfVxuICAgICAgICByZXR1cm4gcGFyYW1zLmZpbHRlcihmdW5jdGlvbiAocGFyYW0pIHsgcmV0dXJuICFwYXJhbS50eXBlLmVxdWFscyh2YWx1ZXMxW3BhcmFtLmlkXSwgdmFsdWVzMltwYXJhbS5pZF0pOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0d28gcGFyYW0gdmFsdWUgb2JqZWN0cyBhcmUgZXF1YWwgKGZvciBhIHNldCBvZiBbW1BhcmFtXV0gb2JqZWN0cylcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXJhbXMgVGhlIGxpc3Qgb2YgW1tQYXJhbV1dIG9iamVjdHMgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0gdmFsdWVzMSBUaGUgZmlyc3Qgc2V0IG9mIHBhcmFtIHZhbHVlc1xuICAgICAqIEBwYXJhbSB2YWx1ZXMyIFRoZSBzZWNvbmQgc2V0IG9mIHBhcmFtIHZhbHVlc1xuICAgICAqXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcGFyYW0gdmFsdWVzIGluIHZhbHVlczEgYW5kIHZhbHVlczIgYXJlIGVxdWFsXG4gICAgICovXG4gICAgUGFyYW0uZXF1YWxzID0gZnVuY3Rpb24gKHBhcmFtcywgdmFsdWVzMSwgdmFsdWVzMikge1xuICAgICAgICBpZiAodmFsdWVzMSA9PT0gdm9pZCAwKSB7IHZhbHVlczEgPSB7fTsgfVxuICAgICAgICBpZiAodmFsdWVzMiA9PT0gdm9pZCAwKSB7IHZhbHVlczIgPSB7fTsgfVxuICAgICAgICByZXR1cm4gUGFyYW0uY2hhbmdlZChwYXJhbXMsIHZhbHVlczEsIHZhbHVlczIpLmxlbmd0aCA9PT0gMDtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgYSB0aGUgcGFyYW1ldGVyIHZhbHVlcyBhcmUgdmFsaWQsIGFjY29yZGluZyB0byB0aGUgUGFyYW0gZGVmaW5pdGlvbnMgKi9cbiAgICBQYXJhbS52YWxpZGF0ZXMgPSBmdW5jdGlvbiAocGFyYW1zLCB2YWx1ZXMpIHtcbiAgICAgICAgaWYgKHZhbHVlcyA9PT0gdm9pZCAwKSB7IHZhbHVlcyA9IHt9OyB9XG4gICAgICAgIHJldHVybiBwYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gcGFyYW0udmFsaWRhdGVzKHZhbHVlc1twYXJhbS5pZF0pOyB9KS5yZWR1Y2UoY29tbW9uXzEuYWxsVHJ1ZVIsIHRydWUpO1xuICAgIH07XG4gICAgUGFyYW0ucHJvdG90eXBlLmlzRGVmYXVsdFZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzT3B0aW9uYWwgJiYgdGhpcy50eXBlLmVxdWFscyh0aGlzLnZhbHVlKCksIHZhbHVlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFtJbnRlcm5hbF0gR2V0cyB0aGUgZGVjb2RlZCByZXByZXNlbnRhdGlvbiBvZiBhIHZhbHVlIGlmIHRoZSB2YWx1ZSBpcyBkZWZpbmVkLCBvdGhlcndpc2UsIHJldHVybnMgdGhlXG4gICAgICogZGVmYXVsdCB2YWx1ZSwgd2hpY2ggbWF5IGJlIHRoZSByZXN1bHQgb2YgYW4gaW5qZWN0YWJsZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBQYXJhbS5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFtJbnRlcm5hbF0gR2V0IHRoZSBkZWZhdWx0IHZhbHVlIG9mIGEgcGFyYW1ldGVyLCB3aGljaCBtYXkgYmUgYW4gaW5qZWN0YWJsZSBmdW5jdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHZhciBnZXREZWZhdWx0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX2RlZmF1bHRWYWx1ZUNhY2hlKVxuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fZGVmYXVsdFZhbHVlQ2FjaGUuZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgaWYgKCFjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kaW5qZWN0b3IpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmplY3RhYmxlIGZ1bmN0aW9ucyBjYW5ub3QgYmUgY2FsbGVkIGF0IGNvbmZpZ3VyYXRpb24gdGltZScpO1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRpbmplY3Rvci5pbnZva2UoX3RoaXMuY29uZmlnLiQkZm4pO1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gbnVsbCAmJiBkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhX3RoaXMudHlwZS5pcyhkZWZhdWx0VmFsdWUpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRlZmF1bHQgdmFsdWUgKFwiICsgZGVmYXVsdFZhbHVlICsgXCIpIGZvciBwYXJhbWV0ZXIgJ1wiICsgX3RoaXMuaWQgKyBcIicgaXMgbm90IGFuIGluc3RhbmNlIG9mIFBhcmFtVHlwZSAoXCIgKyBfdGhpcy50eXBlLm5hbWUgKyBcIilcIik7XG4gICAgICAgICAgICBpZiAoX3RoaXMuY29uZmlnLiQkZm5bJ19fY2FjaGVhYmxlJ10pIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fZGVmYXVsdFZhbHVlQ2FjaGUgPSB7IGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVwbGFjZVNwZWNpYWxWYWx1ZXMgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMucmVwbGFjZTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdHVwbGUgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgaWYgKHR1cGxlLmZyb20gPT09IHZhbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR1cGxlLnRvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfTtcbiAgICAgICAgdmFsdWUgPSByZXBsYWNlU3BlY2lhbFZhbHVlcyh2YWx1ZSk7XG4gICAgICAgIHJldHVybiBwcmVkaWNhdGVzXzEuaXNVbmRlZmluZWQodmFsdWUpID8gZ2V0RGVmYXVsdFZhbHVlKCkgOiB0aGlzLnR5cGUuJG5vcm1hbGl6ZSh2YWx1ZSk7XG4gICAgfTtcbiAgICBQYXJhbS5wcm90b3R5cGUuaXNTZWFyY2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uID09PSBEZWZUeXBlLlNFQVJDSDtcbiAgICB9O1xuICAgIFBhcmFtLnByb3RvdHlwZS52YWxpZGF0ZXMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgLy8gVGhlcmUgd2FzIG5vIHBhcmFtZXRlciB2YWx1ZSwgYnV0IHRoZSBwYXJhbSBpcyBvcHRpb25hbFxuICAgICAgICBpZiAoKHByZWRpY2F0ZXNfMS5pc1VuZGVmaW5lZCh2YWx1ZSkgfHwgdmFsdWUgPT09IG51bGwpICYmIHRoaXMuaXNPcHRpb25hbClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBUaGUgdmFsdWUgd2FzIG5vdCBvZiB0aGUgY29ycmVjdCBQYXJhbVR5cGUsIGFuZCBjb3VsZCBub3QgYmUgZGVjb2RlZCB0byB0aGUgY29ycmVjdCBQYXJhbVR5cGVcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWQgPSB0aGlzLnR5cGUuJG5vcm1hbGl6ZSh2YWx1ZSk7XG4gICAgICAgIGlmICghdGhpcy50eXBlLmlzKG5vcm1hbGl6ZWQpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBUaGUgdmFsdWUgd2FzIG9mIHRoZSBjb3JyZWN0IHR5cGUsIGJ1dCB3aGVuIGVuY29kZWQsIGRpZCBub3QgbWF0Y2ggdGhlIFBhcmFtVHlwZSdzIHJlZ2V4cFxuICAgICAgICB2YXIgZW5jb2RlZCA9IHRoaXMudHlwZS5lbmNvZGUobm9ybWFsaXplZCk7XG4gICAgICAgIHJldHVybiAhKHByZWRpY2F0ZXNfMS5pc1N0cmluZyhlbmNvZGVkKSAmJiAhdGhpcy50eXBlLnBhdHRlcm4uZXhlYyhlbmNvZGVkKSk7XG4gICAgfTtcbiAgICBQYXJhbS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIntQYXJhbTpcIiArIHRoaXMuaWQgKyBcIiBcIiArIHRoaXMudHlwZSArIFwiIHNxdWFzaDogJ1wiICsgdGhpcy5zcXVhc2ggKyBcIicgb3B0aW9uYWw6IFwiICsgdGhpcy5pc09wdGlvbmFsICsgXCJ9XCI7XG4gICAgfTtcbiAgICByZXR1cm4gUGFyYW07XG59KCkpO1xuZXhwb3J0cy5QYXJhbSA9IFBhcmFtO1xuXG59LHtcIi4uL2NvbW1vbi9jb21tb25cIjozLFwiLi4vY29tbW9uL2NvcmVzZXJ2aWNlc1wiOjQsXCIuLi9jb21tb24vaG9mXCI6NixcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCI6OCxcIi4vcGFyYW1UeXBlXCI6Mjd9XSwyNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAcHVibGljYXBpIEBtb2R1bGUgcGFyYW1zICovIC8qKiAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xuLyoqXG4gKiBBbiBpbnRlcm5hbCBjbGFzcyB3aGljaCBpbXBsZW1lbnRzIFtbUGFyYW1UeXBlRGVmaW5pdGlvbl1dLlxuICpcbiAqIEEgW1tQYXJhbVR5cGVEZWZpbml0aW9uXV0gaXMgYSBwbGFpbiBqYXZhc2NyaXB0IG9iamVjdCB1c2VkIHRvIHJlZ2lzdGVyIGN1c3RvbSBwYXJhbWV0ZXIgdHlwZXMuXG4gKiBXaGVuIGEgcGFyYW0gdHlwZSBkZWZpbml0aW9uIGlzIHJlZ2lzdGVyZWQsIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgY3JlYXRlZCBpbnRlcm5hbGx5LlxuICpcbiAqIFRoaXMgY2xhc3MgaGFzIG5haXZlIGltcGxlbWVudGF0aW9ucyBmb3IgYWxsIHRoZSBbW1BhcmFtVHlwZURlZmluaXRpb25dXSBtZXRob2RzLlxuICpcbiAqIFVzZWQgYnkgW1tVcmxNYXRjaGVyXV0gd2hlbiBtYXRjaGluZyBvciBmb3JtYXR0aW5nIFVSTHMsIG9yIGNvbXBhcmluZyBhbmQgdmFsaWRhdGluZyBwYXJhbWV0ZXIgdmFsdWVzLlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIGBgYGpzXG4gKiB2YXIgcGFyYW1UeXBlRGVmID0ge1xuICogICBkZWNvZGU6IGZ1bmN0aW9uKHZhbCkgeyByZXR1cm4gcGFyc2VJbnQodmFsLCAxMCk7IH0sXG4gKiAgIGVuY29kZTogZnVuY3Rpb24odmFsKSB7IHJldHVybiB2YWwgJiYgdmFsLnRvU3RyaW5nKCk7IH0sXG4gKiAgIGVxdWFsczogZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gdGhpcy5pcyhhKSAmJiBhID09PSBiOyB9LFxuICogICBpczogZnVuY3Rpb24odmFsKSB7IHJldHVybiBhbmd1bGFyLmlzTnVtYmVyKHZhbCkgJiYgaXNGaW5pdGUodmFsKSAmJiB2YWwgJSAxID09PSAwOyB9LFxuICogICBwYXR0ZXJuOiAvXFxkKy9cbiAqIH1cbiAqXG4gKiB2YXIgcGFyYW1UeXBlID0gbmV3IFBhcmFtVHlwZShwYXJhbVR5cGVEZWYpO1xuICogYGBgXG4gKiBAaW50ZXJuYWxhcGlcbiAqL1xudmFyIFBhcmFtVHlwZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZGVmICBBIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHdoaWNoIGNvbnRhaW5zIHRoZSBjdXN0b20gdHlwZSBkZWZpbml0aW9uLiAgVGhlIG9iamVjdCdzXG4gICAgICogICAgICAgIHByb3BlcnRpZXMgd2lsbCBvdmVycmlkZSB0aGUgZGVmYXVsdCBtZXRob2RzIGFuZC9vciBwYXR0ZXJuIGluIGBQYXJhbVR5cGVgJ3MgcHVibGljIGludGVyZmFjZS5cbiAgICAgKiBAcmV0dXJucyBhIG5ldyBQYXJhbVR5cGUgb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFyYW1UeXBlKGRlZikge1xuICAgICAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICAgICAgdGhpcy5wYXR0ZXJuID0gLy4qLztcbiAgICAgICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgICAgIHRoaXMuaW5oZXJpdCA9IHRydWU7XG4gICAgICAgIGNvbW1vbl8xLmV4dGVuZCh0aGlzLCBkZWYpO1xuICAgIH1cbiAgICAvLyBjb25zaWRlciB0aGVzZSBmb3VyIG1ldGhvZHMgdG8gYmUgXCJhYnN0cmFjdCBtZXRob2RzXCIgdGhhdCBzaG91bGQgYmUgb3ZlcnJpZGRlblxuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFBhcmFtVHlwZS5wcm90b3R5cGUuaXMgPSBmdW5jdGlvbiAodmFsLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBQYXJhbVR5cGUucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uICh2YWwsIGtleSkge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgUGFyYW1UeXBlLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAodmFsLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFBhcmFtVHlwZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnRyaXBsZS1lcXVhbHNcbiAgICAgICAgcmV0dXJuIGEgPT0gYjtcbiAgICB9O1xuICAgIFBhcmFtVHlwZS5wcm90b3R5cGUuJHN1YlBhdHRlcm4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdWIgPSB0aGlzLnBhdHRlcm4udG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIHN1Yi5zdWJzdHIoMSwgc3ViLmxlbmd0aCAtIDIpO1xuICAgIH07XG4gICAgUGFyYW1UeXBlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwie1BhcmFtVHlwZTpcIiArIHRoaXMubmFtZSArIFwifVwiO1xuICAgIH07XG4gICAgLyoqIEdpdmVuIGFuIGVuY29kZWQgc3RyaW5nLCBvciBhIGRlY29kZWQgb2JqZWN0LCByZXR1cm5zIGEgZGVjb2RlZCBvYmplY3QgKi9cbiAgICBQYXJhbVR5cGUucHJvdG90eXBlLiRub3JtYWxpemUgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzKHZhbCkgPyB2YWwgOiB0aGlzLmRlY29kZSh2YWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV3JhcHMgYW4gZXhpc3RpbmcgY3VzdG9tIFBhcmFtVHlwZSBhcyBhbiBhcnJheSBvZiBQYXJhbVR5cGUsIGRlcGVuZGluZyBvbiAnbW9kZScuXG4gICAgICogZS5nLjpcbiAgICAgKiAtIHVybG1hdGNoZXIgcGF0dGVybiBcIi9wYXRoP3txdWVyeVBhcmFtW106aW50fVwiXG4gICAgICogLSB1cmw6IFwiL3BhdGg/cXVlcnlQYXJhbT0xJnF1ZXJ5UGFyYW09MlxuICAgICAqIC0gJHN0YXRlUGFyYW1zLnF1ZXJ5UGFyYW0gd2lsbCBiZSBbMSwgMl1cbiAgICAgKiBpZiBgbW9kZWAgaXMgXCJhdXRvXCIsIHRoZW5cbiAgICAgKiAtIHVybDogXCIvcGF0aD9xdWVyeVBhcmFtPTEgd2lsbCBjcmVhdGUgJHN0YXRlUGFyYW1zLnF1ZXJ5UGFyYW06IDFcbiAgICAgKiAtIHVybDogXCIvcGF0aD9xdWVyeVBhcmFtPTEmcXVlcnlQYXJhbT0yIHdpbGwgY3JlYXRlICRzdGF0ZVBhcmFtcy5xdWVyeVBhcmFtOiBbMSwgMl1cbiAgICAgKi9cbiAgICBQYXJhbVR5cGUucHJvdG90eXBlLiRhc0FycmF5ID0gZnVuY3Rpb24gKG1vZGUsIGlzU2VhcmNoKSB7XG4gICAgICAgIGlmICghbW9kZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBpZiAobW9kZSA9PT0gJ2F1dG8nICYmICFpc1NlYXJjaClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIidhdXRvJyBhcnJheSBtb2RlIGlzIGZvciBxdWVyeSBwYXJhbWV0ZXJzIG9ubHlcIik7XG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlUeXBlKHRoaXMsIG1vZGUpO1xuICAgIH07XG4gICAgcmV0dXJuIFBhcmFtVHlwZTtcbn0oKSk7XG5leHBvcnRzLlBhcmFtVHlwZSA9IFBhcmFtVHlwZTtcbi8qKlxuICogV3JhcHMgdXAgYSBgUGFyYW1UeXBlYCBvYmplY3QgdG8gaGFuZGxlIGFycmF5IHZhbHVlcy5cbiAqIEBpbnRlcm5hbGFwaVxuICovXG5mdW5jdGlvbiBBcnJheVR5cGUodHlwZSwgbW9kZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgLy8gV3JhcCBub24tYXJyYXkgdmFsdWUgYXMgYXJyYXlcbiAgICBmdW5jdGlvbiBhcnJheVdyYXAodmFsKSB7XG4gICAgICAgIHJldHVybiBwcmVkaWNhdGVzXzEuaXNBcnJheSh2YWwpID8gdmFsIDogcHJlZGljYXRlc18xLmlzRGVmaW5lZCh2YWwpID8gW3ZhbF0gOiBbXTtcbiAgICB9XG4gICAgLy8gVW53cmFwIGFycmF5IHZhbHVlIGZvciBcImF1dG9cIiBtb2RlLiBSZXR1cm4gdW5kZWZpbmVkIGZvciBlbXB0eSBhcnJheS5cbiAgICBmdW5jdGlvbiBhcnJheVVud3JhcCh2YWwpIHtcbiAgICAgICAgc3dpdGNoICh2YWwubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZSA9PT0gJ2F1dG8nID8gdmFsWzBdIDogdmFsO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFdyYXBzIHR5cGUgKC5pcy8uZW5jb2RlLy5kZWNvZGUpIGZ1bmN0aW9ucyB0byBvcGVyYXRlIG9uIGVhY2ggdmFsdWUgb2YgYW4gYXJyYXlcbiAgICBmdW5jdGlvbiBhcnJheUhhbmRsZXIoY2FsbGJhY2ssIGFsbFRydXRoeU1vZGUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZUFycmF5KHZhbCkge1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc0FycmF5KHZhbCkgJiYgdmFsLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgdmFyIGFyciA9IGFycmF5V3JhcCh2YWwpO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbW1vbl8xLm1hcChhcnIsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybiBhbGxUcnV0aHlNb2RlID09PSB0cnVlID8gY29tbW9uXzEuZmlsdGVyKHJlc3VsdCwgZnVuY3Rpb24gKHgpIHsgcmV0dXJuICF4OyB9KS5sZW5ndGggPT09IDAgOiBhcnJheVVud3JhcChyZXN1bHQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBXcmFwcyB0eXBlICguZXF1YWxzKSBmdW5jdGlvbnMgdG8gb3BlcmF0ZSBvbiBlYWNoIHZhbHVlIG9mIGFuIGFycmF5XG4gICAgZnVuY3Rpb24gYXJyYXlFcXVhbHNIYW5kbGVyKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBoYW5kbGVBcnJheSh2YWwxLCB2YWwyKSB7XG4gICAgICAgICAgICB2YXIgbGVmdCA9IGFycmF5V3JhcCh2YWwxKSwgcmlnaHQgPSBhcnJheVdyYXAodmFsMik7XG4gICAgICAgICAgICBpZiAobGVmdC5sZW5ndGggIT09IHJpZ2h0Lmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlZnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrKGxlZnRbaV0sIHJpZ2h0W2ldKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgfVxuICAgIFsnZW5jb2RlJywgJ2RlY29kZScsICdlcXVhbHMnLCAnJG5vcm1hbGl6ZSddLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIHBhcmFtVHlwZUZuID0gdHlwZVtuYW1lXS5iaW5kKHR5cGUpO1xuICAgICAgICB2YXIgd3JhcHBlckZuID0gbmFtZSA9PT0gJ2VxdWFscycgPyBhcnJheUVxdWFsc0hhbmRsZXIgOiBhcnJheUhhbmRsZXI7XG4gICAgICAgIF90aGlzW25hbWVdID0gd3JhcHBlckZuKHBhcmFtVHlwZUZuKTtcbiAgICB9KTtcbiAgICBjb21tb25fMS5leHRlbmQodGhpcywge1xuICAgICAgICBkeW5hbWljOiB0eXBlLmR5bmFtaWMsXG4gICAgICAgIG5hbWU6IHR5cGUubmFtZSxcbiAgICAgICAgcGF0dGVybjogdHlwZS5wYXR0ZXJuLFxuICAgICAgICBpbmhlcml0OiB0eXBlLmluaGVyaXQsXG4gICAgICAgIHJhdzogdHlwZS5yYXcsXG4gICAgICAgIGlzOiBhcnJheUhhbmRsZXIodHlwZS5pcy5iaW5kKHR5cGUpLCB0cnVlKSxcbiAgICAgICAgJGFycmF5TW9kZTogbW9kZSxcbiAgICB9KTtcbn1cblxufSx7XCIuLi9jb21tb24vY29tbW9uXCI6MyxcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCI6OH1dLDI4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSBwYXJhbXMgKi8gLyoqICovXG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbnZhciBwcmVkaWNhdGVzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIik7XG52YXIgaG9mXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2hvZlwiKTtcbnZhciBjb3Jlc2VydmljZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCIpO1xudmFyIHBhcmFtVHlwZV8xID0gcmVxdWlyZShcIi4vcGFyYW1UeXBlXCIpO1xuLyoqXG4gKiBBIHJlZ2lzdHJ5IGZvciBwYXJhbWV0ZXIgdHlwZXMuXG4gKlxuICogVGhpcyByZWdpc3RyeSBtYW5hZ2VzIHRoZSBidWlsdC1pbiAoYW5kIGN1c3RvbSkgcGFyYW1ldGVyIHR5cGVzLlxuICpcbiAqIFRoZSBidWlsdC1pbiBwYXJhbWV0ZXIgdHlwZXMgYXJlOlxuICpcbiAqIC0gW1tzdHJpbmddXVxuICogLSBbW3BhdGhdXVxuICogLSBbW3F1ZXJ5XV1cbiAqIC0gW1toYXNoXV1cbiAqIC0gW1tpbnRdXVxuICogLSBbW2Jvb2xdXVxuICogLSBbW2RhdGVdXVxuICogLSBbW2pzb25dXVxuICogLSBbW2FueV1dXG4gKlxuICogVG8gcmVnaXN0ZXIgY3VzdG9tIHBhcmFtZXRlciB0eXBlcywgdXNlIFtbVXJsQ29uZmlnLnR5cGVdXSwgaS5lLixcbiAqXG4gKiBgYGBqc1xuICogcm91dGVyLnVybFNlcnZpY2UuY29uZmlnLnR5cGUoY3VzdG9tVHlwZSlcbiAqIGBgYFxuICovXG52YXIgUGFyYW1UeXBlcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgZnVuY3Rpb24gUGFyYW1UeXBlcygpIHtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi9cbiAgICAgICAgdGhpcy5lbnF1ZXVlID0gdHJ1ZTtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi9cbiAgICAgICAgdGhpcy50eXBlUXVldWUgPSBbXTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbGFwaSAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRUeXBlcyA9IGNvbW1vbl8xLnBpY2soUGFyYW1UeXBlcy5wcm90b3R5cGUsIFtcbiAgICAgICAgICAgICdoYXNoJyxcbiAgICAgICAgICAgICdzdHJpbmcnLFxuICAgICAgICAgICAgJ3F1ZXJ5JyxcbiAgICAgICAgICAgICdwYXRoJyxcbiAgICAgICAgICAgICdpbnQnLFxuICAgICAgICAgICAgJ2Jvb2wnLFxuICAgICAgICAgICAgJ2RhdGUnLFxuICAgICAgICAgICAgJ2pzb24nLFxuICAgICAgICAgICAgJ2FueScsXG4gICAgICAgIF0pO1xuICAgICAgICAvLyBSZWdpc3RlciBkZWZhdWx0IHR5cGVzLiBTdG9yZSB0aGVtIGluIHRoZSBwcm90b3R5cGUgb2YgdGhpcy50eXBlcy5cbiAgICAgICAgdmFyIG1ha2VUeXBlID0gZnVuY3Rpb24gKGRlZmluaXRpb24sIG5hbWUpIHsgcmV0dXJuIG5ldyBwYXJhbVR5cGVfMS5QYXJhbVR5cGUoY29tbW9uXzEuZXh0ZW5kKHsgbmFtZTogbmFtZSB9LCBkZWZpbml0aW9uKSk7IH07XG4gICAgICAgIHRoaXMudHlwZXMgPSBjb21tb25fMS5pbmhlcml0KGNvbW1vbl8xLm1hcCh0aGlzLmRlZmF1bHRUeXBlcywgbWFrZVR5cGUpLCB7fSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICBQYXJhbVR5cGVzLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnR5cGVzID0ge307XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBwYXJhbWV0ZXIgdHlwZVxuICAgICAqXG4gICAgICogRW5kIHVzZXJzIHNob3VsZCBjYWxsIFtbVXJsTWF0Y2hlckZhY3RvcnkudHlwZV1dLCB3aGljaCBkZWxlZ2F0ZXMgdG8gdGhpcyBtZXRob2QuXG4gICAgICovXG4gICAgUGFyYW1UeXBlcy5wcm90b3R5cGUudHlwZSA9IGZ1bmN0aW9uIChuYW1lLCBkZWZpbml0aW9uLCBkZWZpbml0aW9uRm4pIHtcbiAgICAgICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKGRlZmluaXRpb24pKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHlwZXNbbmFtZV07XG4gICAgICAgIGlmICh0aGlzLnR5cGVzLmhhc093blByb3BlcnR5KG5hbWUpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSB0eXBlIG5hbWVkICdcIiArIG5hbWUgKyBcIicgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkLlwiKTtcbiAgICAgICAgdGhpcy50eXBlc1tuYW1lXSA9IG5ldyBwYXJhbVR5cGVfMS5QYXJhbVR5cGUoY29tbW9uXzEuZXh0ZW5kKHsgbmFtZTogbmFtZSB9LCBkZWZpbml0aW9uKSk7XG4gICAgICAgIGlmIChkZWZpbml0aW9uRm4pIHtcbiAgICAgICAgICAgIHRoaXMudHlwZVF1ZXVlLnB1c2goeyBuYW1lOiBuYW1lLCBkZWY6IGRlZmluaXRpb25GbiB9KTtcbiAgICAgICAgICAgIGlmICghdGhpcy5lbnF1ZXVlKVxuICAgICAgICAgICAgICAgIHRoaXMuX2ZsdXNoVHlwZVF1ZXVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgUGFyYW1UeXBlcy5wcm90b3R5cGUuX2ZsdXNoVHlwZVF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aGlsZSAodGhpcy50eXBlUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IHRoaXMudHlwZVF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAodHlwZS5wYXR0ZXJuKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3Qgb3ZlcnJpZGUgYSB0eXBlJ3MgLnBhdHRlcm4gYXQgcnVudGltZS5cIik7XG4gICAgICAgICAgICBjb21tb25fMS5leHRlbmQodGhpcy50eXBlc1t0eXBlLm5hbWVdLCBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kaW5qZWN0b3IuaW52b2tlKHR5cGUuZGVmKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQYXJhbVR5cGVzO1xufSgpKTtcbmV4cG9ydHMuUGFyYW1UeXBlcyA9IFBhcmFtVHlwZXM7XG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gaW5pdERlZmF1bHRUeXBlcygpIHtcbiAgICB2YXIgbWFrZURlZmF1bHRUeXBlID0gZnVuY3Rpb24gKGRlZikge1xuICAgICAgICB2YXIgdmFsVG9TdHJpbmcgPSBmdW5jdGlvbiAodmFsKSB7IHJldHVybiAodmFsICE9IG51bGwgPyB2YWwudG9TdHJpbmcoKSA6IHZhbCk7IH07XG4gICAgICAgIHZhciBkZWZhdWx0VHlwZUJhc2UgPSB7XG4gICAgICAgICAgICBlbmNvZGU6IHZhbFRvU3RyaW5nLFxuICAgICAgICAgICAgZGVjb2RlOiB2YWxUb1N0cmluZyxcbiAgICAgICAgICAgIGlzOiBob2ZfMS5pcyhTdHJpbmcpLFxuICAgICAgICAgICAgcGF0dGVybjogLy4qLyxcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp0cmlwbGUtZXF1YWxzXG4gICAgICAgICAgICBlcXVhbHM6IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhID09IGI7IH0sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBjb21tb25fMS5leHRlbmQoe30sIGRlZmF1bHRUeXBlQmFzZSwgZGVmKTtcbiAgICB9O1xuICAgIC8vIERlZmF1bHQgUGFyYW1ldGVyIFR5cGUgRGVmaW5pdGlvbnNcbiAgICBjb21tb25fMS5leHRlbmQoUGFyYW1UeXBlcy5wcm90b3R5cGUsIHtcbiAgICAgICAgc3RyaW5nOiBtYWtlRGVmYXVsdFR5cGUoe30pLFxuICAgICAgICBwYXRoOiBtYWtlRGVmYXVsdFR5cGUoe1xuICAgICAgICAgICAgcGF0dGVybjogL1teL10qLyxcbiAgICAgICAgfSksXG4gICAgICAgIHF1ZXJ5OiBtYWtlRGVmYXVsdFR5cGUoe30pLFxuICAgICAgICBoYXNoOiBtYWtlRGVmYXVsdFR5cGUoe1xuICAgICAgICAgICAgaW5oZXJpdDogZmFsc2UsXG4gICAgICAgIH0pLFxuICAgICAgICBpbnQ6IG1ha2VEZWZhdWx0VHlwZSh7XG4gICAgICAgICAgICBkZWNvZGU6IGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIHBhcnNlSW50KHZhbCwgMTApOyB9LFxuICAgICAgICAgICAgaXM6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIXByZWRpY2F0ZXNfMS5pc051bGxPclVuZGVmaW5lZCh2YWwpICYmIHRoaXMuZGVjb2RlKHZhbC50b1N0cmluZygpKSA9PT0gdmFsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdHRlcm46IC8tP1xcZCsvLFxuICAgICAgICB9KSxcbiAgICAgICAgYm9vbDogbWFrZURlZmF1bHRUeXBlKHtcbiAgICAgICAgICAgIGVuY29kZTogZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gKHZhbCAmJiAxKSB8fCAwOyB9LFxuICAgICAgICAgICAgZGVjb2RlOiBmdW5jdGlvbiAodmFsKSB7IHJldHVybiBwYXJzZUludCh2YWwsIDEwKSAhPT0gMDsgfSxcbiAgICAgICAgICAgIGlzOiBob2ZfMS5pcyhCb29sZWFuKSxcbiAgICAgICAgICAgIHBhdHRlcm46IC8wfDEvLFxuICAgICAgICB9KSxcbiAgICAgICAgZGF0ZTogbWFrZURlZmF1bHRUeXBlKHtcbiAgICAgICAgICAgIGVuY29kZTogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhdGhpcy5pcyh2YWwpXG4gICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIDogW3ZhbC5nZXRGdWxsWWVhcigpLCAoJzAnICsgKHZhbC5nZXRNb250aCgpICsgMSkpLnNsaWNlKC0yKSwgKCcwJyArIHZhbC5nZXREYXRlKCkpLnNsaWNlKC0yKV0uam9pbignLScpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlY29kZTogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzKHZhbCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gdGhpcy5jYXB0dXJlLmV4ZWModmFsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2ggPyBuZXcgRGF0ZShtYXRjaFsxXSwgbWF0Y2hbMl0gLSAxLCBtYXRjaFszXSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXM6IGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIHZhbCBpbnN0YW5jZW9mIERhdGUgJiYgIWlzTmFOKHZhbC52YWx1ZU9mKCkpOyB9LFxuICAgICAgICAgICAgZXF1YWxzOiBmdW5jdGlvbiAobCwgcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBbJ2dldEZ1bGxZZWFyJywgJ2dldE1vbnRoJywgJ2dldERhdGUnXS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgZm4pIHsgcmV0dXJuIGFjYyAmJiBsW2ZuXSgpID09PSByW2ZuXSgpOyB9LCB0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXR0ZXJuOiAvWzAtOV17NH0tKD86MFsxLTldfDFbMC0yXSktKD86MFsxLTldfFsxLTJdWzAtOV18M1swLTFdKS8sXG4gICAgICAgICAgICBjYXB0dXJlOiAvKFswLTldezR9KS0oMFsxLTldfDFbMC0yXSktKDBbMS05XXxbMS0yXVswLTldfDNbMC0xXSkvLFxuICAgICAgICB9KSxcbiAgICAgICAganNvbjogbWFrZURlZmF1bHRUeXBlKHtcbiAgICAgICAgICAgIGVuY29kZTogY29tbW9uXzEudG9Kc29uLFxuICAgICAgICAgICAgZGVjb2RlOiBjb21tb25fMS5mcm9tSnNvbixcbiAgICAgICAgICAgIGlzOiBob2ZfMS5pcyhPYmplY3QpLFxuICAgICAgICAgICAgZXF1YWxzOiBjb21tb25fMS5lcXVhbHMsXG4gICAgICAgICAgICBwYXR0ZXJuOiAvW14vXSovLFxuICAgICAgICB9KSxcbiAgICAgICAgLy8gZG9lcyBub3QgZW5jb2RlL2RlY29kZVxuICAgICAgICBhbnk6IG1ha2VEZWZhdWx0VHlwZSh7XG4gICAgICAgICAgICBlbmNvZGU6IGNvbW1vbl8xLmlkZW50aXR5LFxuICAgICAgICAgICAgZGVjb2RlOiBjb21tb25fMS5pZGVudGl0eSxcbiAgICAgICAgICAgIGlzOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9LFxuICAgICAgICAgICAgZXF1YWxzOiBjb21tb25fMS5lcXVhbHMsXG4gICAgICAgIH0pLFxuICAgIH0pO1xufVxuaW5pdERlZmF1bHRUeXBlcygpO1xuXG59LHtcIi4uL2NvbW1vbi9jb21tb25cIjozLFwiLi4vY29tbW9uL2NvcmVzZXJ2aWNlc1wiOjQsXCIuLi9jb21tb24vaG9mXCI6NixcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCI6OCxcIi4vcGFyYW1UeXBlXCI6Mjd9XSwyOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAcHVibGljYXBpIEBtb2R1bGUgcGFyYW1zICovIC8qKiAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG4vKiogQGludGVybmFsYXBpICovXG52YXIgU3RhdGVQYXJhbXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGVQYXJhbXMocGFyYW1zKSB7XG4gICAgICAgIGlmIChwYXJhbXMgPT09IHZvaWQgMCkgeyBwYXJhbXMgPSB7fTsgfVxuICAgICAgICBjb21tb25fMS5leHRlbmQodGhpcywgcGFyYW1zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWVyZ2VzIGEgc2V0IG9mIHBhcmFtZXRlcnMgd2l0aCBhbGwgcGFyYW1ldGVycyBpbmhlcml0ZWQgYmV0d2VlbiB0aGUgY29tbW9uIHBhcmVudHMgb2YgdGhlXG4gICAgICogY3VycmVudCBzdGF0ZSBhbmQgYSBnaXZlbiBkZXN0aW5hdGlvbiBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBuZXdQYXJhbXMgVGhlIHNldCBvZiBwYXJhbWV0ZXJzIHdoaWNoIHdpbGwgYmUgY29tcG9zaXRlZCB3aXRoIGluaGVyaXRlZCBwYXJhbXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9ICRjdXJyZW50IEludGVybmFsIGRlZmluaXRpb24gb2Ygb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gJHRvIEludGVybmFsIGRlZmluaXRpb24gb2Ygb2JqZWN0IHJlcHJlc2VudGluZyBzdGF0ZSB0byB0cmFuc2l0aW9uIHRvLlxuICAgICAqL1xuICAgIFN0YXRlUGFyYW1zLnByb3RvdHlwZS4kaW5oZXJpdCA9IGZ1bmN0aW9uIChuZXdQYXJhbXMsICRjdXJyZW50LCAkdG8pIHtcbiAgICAgICAgdmFyIHBhcmVudFBhcmFtcztcbiAgICAgICAgdmFyIHBhcmVudHMgPSBjb21tb25fMS5hbmNlc3RvcnMoJGN1cnJlbnQsICR0byksIGluaGVyaXRlZCA9IHt9LCBpbmhlcml0TGlzdCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpIGluIHBhcmVudHMpIHtcbiAgICAgICAgICAgIGlmICghcGFyZW50c1tpXSB8fCAhcGFyZW50c1tpXS5wYXJhbXMpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBwYXJlbnRQYXJhbXMgPSBPYmplY3Qua2V5cyhwYXJlbnRzW2ldLnBhcmFtcyk7XG4gICAgICAgICAgICBpZiAoIXBhcmVudFBhcmFtcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBmb3IgKHZhciBqIGluIHBhcmVudFBhcmFtcykge1xuICAgICAgICAgICAgICAgIGlmIChpbmhlcml0TGlzdC5pbmRleE9mKHBhcmVudFBhcmFtc1tqXSkgPj0gMClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgaW5oZXJpdExpc3QucHVzaChwYXJlbnRQYXJhbXNbal0pO1xuICAgICAgICAgICAgICAgIGluaGVyaXRlZFtwYXJlbnRQYXJhbXNbal1dID0gdGhpc1twYXJlbnRQYXJhbXNbal1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21tb25fMS5leHRlbmQoe30sIGluaGVyaXRlZCwgbmV3UGFyYW1zKTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0ZVBhcmFtcztcbn0oKSk7XG5leHBvcnRzLlN0YXRlUGFyYW1zID0gU3RhdGVQYXJhbXM7XG5cbn0se1wiLi4vY29tbW9uL2NvbW1vblwiOjN9XSwzMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQGludGVybmFsYXBpIEBtb2R1bGUgcGF0aCAqLyAvKiogKi9cbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3BhdGhOb2RlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3BhdGhVdGlsc1wiKSk7XG5cbn0se1wiLi9wYXRoTm9kZVwiOjMxLFwiLi9wYXRoVXRpbHNcIjozMn1dLDMxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBpbnRlcm5hbGFwaSBAbW9kdWxlIHBhdGggKi8gLyoqICovXG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbnZhciBob2ZfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vaG9mXCIpO1xudmFyIHBhcmFtXzEgPSByZXF1aXJlKFwiLi4vcGFyYW1zL3BhcmFtXCIpO1xuLyoqXG4gKiBBIG5vZGUgaW4gYSBbW1RyZWVDaGFuZ2VzXV0gcGF0aFxuICpcbiAqIEZvciBhIFtbVHJlZUNoYW5nZXNdXSBwYXRoLCB0aGlzIGNsYXNzIGhvbGRzIHRoZSBzdGF0ZWZ1bCBpbmZvcm1hdGlvbiBmb3IgYSBzaW5nbGUgbm9kZSBpbiB0aGUgcGF0aC5cbiAqIEVhY2ggUGF0aE5vZGUgY29ycmVzcG9uZHMgdG8gYSBzdGF0ZSBiZWluZyBlbnRlcmVkLCBleGl0ZWQsIG9yIHJldGFpbmVkLlxuICogVGhlIHN0YXRlZnVsIGluZm9ybWF0aW9uIGluY2x1ZGVzIHBhcmFtZXRlciB2YWx1ZXMgYW5kIHJlc29sdmUgZGF0YS5cbiAqL1xudmFyIFBhdGhOb2RlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBhdGhOb2RlKHN0YXRlT3JOb2RlKSB7XG4gICAgICAgIGlmIChzdGF0ZU9yTm9kZSBpbnN0YW5jZW9mIFBhdGhOb2RlKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHN0YXRlT3JOb2RlO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IG5vZGUuc3RhdGU7XG4gICAgICAgICAgICB0aGlzLnBhcmFtU2NoZW1hID0gbm9kZS5wYXJhbVNjaGVtYS5zbGljZSgpO1xuICAgICAgICAgICAgdGhpcy5wYXJhbVZhbHVlcyA9IGNvbW1vbl8xLmV4dGVuZCh7fSwgbm9kZS5wYXJhbVZhbHVlcyk7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmFibGVzID0gbm9kZS5yZXNvbHZhYmxlcy5zbGljZSgpO1xuICAgICAgICAgICAgdGhpcy52aWV3cyA9IG5vZGUudmlld3MgJiYgbm9kZS52aWV3cy5zbGljZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gc3RhdGVPck5vZGU7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICB0aGlzLnBhcmFtU2NoZW1hID0gc3RhdGUucGFyYW1ldGVycyh7IGluaGVyaXQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgdGhpcy5wYXJhbVZhbHVlcyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZhYmxlcyA9IHN0YXRlLnJlc29sdmFibGVzLm1hcChmdW5jdGlvbiAocmVzKSB7IHJldHVybiByZXMuY2xvbmUoKTsgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUGF0aE5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFBhdGhOb2RlKHRoaXMpO1xuICAgIH07XG4gICAgLyoqIFNldHMgW1twYXJhbVZhbHVlc11dIGZvciB0aGUgbm9kZSwgZnJvbSB0aGUgdmFsdWVzIG9mIGFuIG9iamVjdCBoYXNoICovXG4gICAgUGF0aE5vZGUucHJvdG90eXBlLmFwcGx5UmF3UGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICB2YXIgZ2V0UGFyYW1WYWwgPSBmdW5jdGlvbiAocGFyYW1EZWYpIHsgcmV0dXJuIFtwYXJhbURlZi5pZCwgcGFyYW1EZWYudmFsdWUocGFyYW1zW3BhcmFtRGVmLmlkXSldOyB9O1xuICAgICAgICB0aGlzLnBhcmFtVmFsdWVzID0gdGhpcy5wYXJhbVNjaGVtYS5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIHBEZWYpIHsgcmV0dXJuIGNvbW1vbl8xLmFwcGx5UGFpcnMobWVtbywgZ2V0UGFyYW1WYWwocERlZikpOyB9LCB7fSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqIEdldHMgYSBzcGVjaWZpYyBbW1BhcmFtXV0gbWV0YWRhdGEgdGhhdCBiZWxvbmdzIHRvIHRoZSBub2RlICovXG4gICAgUGF0aE5vZGUucHJvdG90eXBlLnBhcmFtZXRlciA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiBjb21tb25fMS5maW5kKHRoaXMucGFyYW1TY2hlbWEsIGhvZl8xLnByb3BFcSgnaWQnLCBuYW1lKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBzdGF0ZSBhbmQgcGFyYW1ldGVyIHZhbHVlcyBmb3IgYW5vdGhlciBQYXRoTm9kZSBhcmVcbiAgICAgKiBlcXVhbCB0byB0aGUgc3RhdGUgYW5kIHBhcmFtIHZhbHVlcyBmb3IgdGhpcyBQYXRoTm9kZVxuICAgICAqL1xuICAgIFBhdGhOb2RlLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobm9kZSwgcGFyYW1zRm4pIHtcbiAgICAgICAgdmFyIGRpZmYgPSB0aGlzLmRpZmYobm9kZSwgcGFyYW1zRm4pO1xuICAgICAgICByZXR1cm4gZGlmZiAmJiBkaWZmLmxlbmd0aCA9PT0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbmRzIFBhcmFtcyB3aXRoIGRpZmZlcmVudCBwYXJhbWV0ZXIgdmFsdWVzIG9uIGFub3RoZXIgUGF0aE5vZGUuXG4gICAgICpcbiAgICAgKiBHaXZlbiBhbm90aGVyIG5vZGUgKG9mIHRoZSBzYW1lIHN0YXRlKSwgZmluZHMgdGhlIHBhcmFtZXRlciB2YWx1ZXMgd2hpY2ggZGlmZmVyLlxuICAgICAqIFJldHVybnMgdGhlIFtbUGFyYW1dXSAoc2NoZW1hIG9iamVjdHMpIHdob3NlIHBhcmFtZXRlciB2YWx1ZXMgZGlmZmVyLlxuICAgICAqXG4gICAgICogR2l2ZW4gYW5vdGhlciBub2RlIGZvciBhIGRpZmZlcmVudCBzdGF0ZSwgcmV0dXJucyBgZmFsc2VgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbm9kZSBUaGUgbm9kZSB0byBjb21wYXJlIHRvXG4gICAgICogQHBhcmFtIHBhcmFtc0ZuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHdoaWNoIHBhcmFtZXRlcnMgc2hvdWxkIGJlIGNvbXBhcmVkLlxuICAgICAqIEByZXR1cm5zIFRoZSBbW1BhcmFtXV1zIHdoaWNoIGRpZmZlciwgb3IgbnVsbCBpZiB0aGUgdHdvIG5vZGVzIGFyZSBmb3IgZGlmZmVyZW50IHN0YXRlc1xuICAgICAqL1xuICAgIFBhdGhOb2RlLnByb3RvdHlwZS5kaWZmID0gZnVuY3Rpb24gKG5vZGUsIHBhcmFtc0ZuKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBub2RlLnN0YXRlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgcGFyYW1zID0gcGFyYW1zRm4gPyBwYXJhbXNGbih0aGlzKSA6IHRoaXMucGFyYW1TY2hlbWE7XG4gICAgICAgIHJldHVybiBwYXJhbV8xLlBhcmFtLmNoYW5nZWQocGFyYW1zLCB0aGlzLnBhcmFtVmFsdWVzLCBub2RlLnBhcmFtVmFsdWVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBjbG9uZSBvZiB0aGUgUGF0aE5vZGVcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgaW5zdGFuY2UgbWV0aG9kIGBub2RlLmNsb25lKClgXG4gICAgICovXG4gICAgUGF0aE5vZGUuY2xvbmUgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5jbG9uZSgpOyB9O1xuICAgIHJldHVybiBQYXRoTm9kZTtcbn0oKSk7XG5leHBvcnRzLlBhdGhOb2RlID0gUGF0aE5vZGU7XG5cbn0se1wiLi4vY29tbW9uL2NvbW1vblwiOjMsXCIuLi9jb21tb24vaG9mXCI6NixcIi4uL3BhcmFtcy9wYXJhbVwiOjI2fV0sMzI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG4vKiogQGludGVybmFsYXBpIEBtb2R1bGUgcGF0aCAqLyAvKiogKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29tbW9uXCIpO1xudmFyIGhvZl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9ob2ZcIik7XG52YXIgdGFyZ2V0U3RhdGVfMSA9IHJlcXVpcmUoXCIuLi9zdGF0ZS90YXJnZXRTdGF0ZVwiKTtcbnZhciBwYXRoTm9kZV8xID0gcmVxdWlyZShcIi4vcGF0aE5vZGVcIik7XG4vKipcbiAqIFRoaXMgY2xhc3MgY29udGFpbnMgZnVuY3Rpb25zIHdoaWNoIGNvbnZlcnQgVGFyZ2V0U3RhdGVzLCBOb2RlcyBhbmQgcGF0aHMgZnJvbSBvbmUgdHlwZSB0byBhbm90aGVyLlxuICovXG52YXIgUGF0aFV0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBhdGhVdGlscygpIHtcbiAgICB9XG4gICAgLyoqIEdpdmVuIGEgUGF0aE5vZGVbXSwgY3JlYXRlIGFuIFRhcmdldFN0YXRlICovXG4gICAgUGF0aFV0aWxzLm1ha2VUYXJnZXRTdGF0ZSA9IGZ1bmN0aW9uIChyZWdpc3RyeSwgcGF0aCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBjb21tb25fMS50YWlsKHBhdGgpLnN0YXRlO1xuICAgICAgICByZXR1cm4gbmV3IHRhcmdldFN0YXRlXzEuVGFyZ2V0U3RhdGUocmVnaXN0cnksIHN0YXRlLCBwYXRoLm1hcChob2ZfMS5wcm9wKCdwYXJhbVZhbHVlcycpKS5yZWR1Y2UoY29tbW9uXzEubWVyZ2VSLCB7fSksIHt9KTtcbiAgICB9O1xuICAgIFBhdGhVdGlscy5idWlsZFBhdGggPSBmdW5jdGlvbiAodGFyZ2V0U3RhdGUpIHtcbiAgICAgICAgdmFyIHRvUGFyYW1zID0gdGFyZ2V0U3RhdGUucGFyYW1zKCk7XG4gICAgICAgIHJldHVybiB0YXJnZXRTdGF0ZS4kc3RhdGUoKS5wYXRoLm1hcChmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuIG5ldyBwYXRoTm9kZV8xLlBhdGhOb2RlKHN0YXRlKS5hcHBseVJhd1BhcmFtcyh0b1BhcmFtcyk7IH0pO1xuICAgIH07XG4gICAgLyoqIEdpdmVuIGEgZnJvbVBhdGg6IFBhdGhOb2RlW10gYW5kIGEgVGFyZ2V0U3RhdGUsIGJ1aWxkcyBhIHRvUGF0aDogUGF0aE5vZGVbXSAqL1xuICAgIFBhdGhVdGlscy5idWlsZFRvUGF0aCA9IGZ1bmN0aW9uIChmcm9tUGF0aCwgdGFyZ2V0U3RhdGUpIHtcbiAgICAgICAgdmFyIHRvUGF0aCA9IFBhdGhVdGlscy5idWlsZFBhdGgodGFyZ2V0U3RhdGUpO1xuICAgICAgICBpZiAodGFyZ2V0U3RhdGUub3B0aW9ucygpLmluaGVyaXQpIHtcbiAgICAgICAgICAgIHJldHVybiBQYXRoVXRpbHMuaW5oZXJpdFBhcmFtcyhmcm9tUGF0aCwgdG9QYXRoLCBPYmplY3Qua2V5cyh0YXJnZXRTdGF0ZS5wYXJhbXMoKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b1BhdGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIFZpZXdDb25maWcgb2JqZWN0cyBhbmQgYWRkcyB0byBub2Rlcy5cbiAgICAgKlxuICAgICAqIE9uIGVhY2ggW1tQYXRoTm9kZV1dLCBjcmVhdGVzIFZpZXdDb25maWcgb2JqZWN0cyBmcm9tIHRoZSB2aWV3czogcHJvcGVydHkgb2YgdGhlIG5vZGUncyBzdGF0ZVxuICAgICAqL1xuICAgIFBhdGhVdGlscy5hcHBseVZpZXdDb25maWdzID0gZnVuY3Rpb24gKCR2aWV3LCBwYXRoLCBzdGF0ZXMpIHtcbiAgICAgICAgLy8gT25seSBhcHBseSB0aGUgdmlld0NvbmZpZ3MgdG8gdGhlIG5vZGVzIGZvciB0aGUgZ2l2ZW4gc3RhdGVzXG4gICAgICAgIHBhdGhcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIGNvbW1vbl8xLmluQXJyYXkoc3RhdGVzLCBub2RlLnN0YXRlKTsgfSlcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICB2YXIgdmlld0RlY2xzID0gY29tbW9uXzEudmFsdWVzKG5vZGUuc3RhdGUudmlld3MgfHwge30pO1xuICAgICAgICAgICAgdmFyIHN1YlBhdGggPSBQYXRoVXRpbHMuc3ViUGF0aChwYXRoLCBmdW5jdGlvbiAobikgeyByZXR1cm4gbiA9PT0gbm9kZTsgfSk7XG4gICAgICAgICAgICB2YXIgdmlld0NvbmZpZ3MgPSB2aWV3RGVjbHMubWFwKGZ1bmN0aW9uICh2aWV3KSB7IHJldHVybiAkdmlldy5jcmVhdGVWaWV3Q29uZmlnKHN1YlBhdGgsIHZpZXcpOyB9KTtcbiAgICAgICAgICAgIG5vZGUudmlld3MgPSB2aWV3Q29uZmlncy5yZWR1Y2UoY29tbW9uXzEudW5uZXN0UiwgW10pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgZnJvbVBhdGggYW5kIGEgdG9QYXRoLCByZXR1cm5zIGEgbmV3IHRvIHBhdGggd2hpY2ggaW5oZXJpdHMgcGFyYW1ldGVycyBmcm9tIHRoZSBmcm9tUGF0aFxuICAgICAqXG4gICAgICogRm9yIGEgcGFyYW1ldGVyIGluIGEgbm9kZSB0byBiZSBpbmhlcml0ZWQgZnJvbSB0aGUgZnJvbSBwYXRoOlxuICAgICAqIC0gVGhlIHRvUGF0aCdzIG5vZGUgbXVzdCBoYXZlIGEgbWF0Y2hpbmcgbm9kZSBpbiB0aGUgZnJvbVBhdGggKGJ5IHN0YXRlKS5cbiAgICAgKiAtIFRoZSBwYXJhbWV0ZXIgbmFtZSBtdXN0IG5vdCBiZSBmb3VuZCBpbiB0aGUgdG9LZXlzIHBhcmFtZXRlciBhcnJheS5cbiAgICAgKlxuICAgICAqIE5vdGU6IHRoZSBrZXlzIHByb3ZpZGVkIGluIHRvS2V5cyBhcmUgaW50ZW5kZWQgdG8gYmUgdGhvc2UgcGFyYW0ga2V5cyBleHBsaWNpdGx5IHNwZWNpZmllZCBieSBzb21lXG4gICAgICogY2FsbGVyLCBmb3IgaW5zdGFuY2UsICRzdGF0ZS50cmFuc2l0aW9uVG8oLi4uLCB0b1BhcmFtcykuICBJZiBhIGtleSB3YXMgZm91bmQgaW4gdG9QYXJhbXMsXG4gICAgICogaXQgaXMgbm90IGluaGVyaXRlZCBmcm9tIHRoZSBmcm9tUGF0aC5cbiAgICAgKi9cbiAgICBQYXRoVXRpbHMuaW5oZXJpdFBhcmFtcyA9IGZ1bmN0aW9uIChmcm9tUGF0aCwgdG9QYXRoLCB0b0tleXMpIHtcbiAgICAgICAgaWYgKHRvS2V5cyA9PT0gdm9pZCAwKSB7IHRvS2V5cyA9IFtdOyB9XG4gICAgICAgIGZ1bmN0aW9uIG5vZGVQYXJhbVZhbHMocGF0aCwgc3RhdGUpIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gY29tbW9uXzEuZmluZChwYXRoLCBob2ZfMS5wcm9wRXEoJ3N0YXRlJywgc3RhdGUpKTtcbiAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5leHRlbmQoe30sIG5vZGUgJiYgbm9kZS5wYXJhbVZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vSW5oZXJpdCA9IGZyb21QYXRoXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnBhcmFtU2NoZW1hOyB9KVxuICAgICAgICAgICAgLnJlZHVjZShjb21tb25fMS51bm5lc3RSLCBbXSlcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiAhcGFyYW0uaW5oZXJpdDsgfSlcbiAgICAgICAgICAgIC5tYXAoaG9mXzEucHJvcCgnaWQnKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHaXZlbiBhbiBbW1BhdGhOb2RlXV0gXCJ0b05vZGVcIiwgcmV0dXJuIGEgbmV3IFtbUGF0aE5vZGVdXSB3aXRoIHBhcmFtIHZhbHVlcyBpbmhlcml0ZWQgZnJvbSB0aGVcbiAgICAgICAgICogbWF0Y2hpbmcgbm9kZSBpbiBmcm9tUGF0aC4gIE9ubHkgaW5oZXJpdCBrZXlzIHRoYXQgYXJlbid0IGZvdW5kIGluIFwidG9LZXlzXCIgZnJvbSB0aGUgbm9kZSBpbiBcImZyb21QYXRoXCJcIlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gbWFrZUluaGVyaXRlZFBhcmFtc05vZGUodG9Ob2RlKSB7XG4gICAgICAgICAgICAvLyBBbGwgcGFyYW0gdmFsdWVzIGZvciB0aGUgbm9kZSAobWF5IGluY2x1ZGUgZGVmYXVsdCBrZXkvdmFscywgd2hlbiBrZXkgd2FzIG5vdCBmb3VuZCBpbiB0b1BhcmFtcylcbiAgICAgICAgICAgIHZhciB0b1BhcmFtVmFscyA9IGNvbW1vbl8xLmV4dGVuZCh7fSwgdG9Ob2RlICYmIHRvTm9kZS5wYXJhbVZhbHVlcyk7XG4gICAgICAgICAgICAvLyBsaW1pdGVkIHRvIG9ubHkgdGhvc2Uga2V5cyBmb3VuZCBpbiB0b1BhcmFtc1xuICAgICAgICAgICAgdmFyIGluY29taW5nUGFyYW1WYWxzID0gY29tbW9uXzEucGljayh0b1BhcmFtVmFscywgdG9LZXlzKTtcbiAgICAgICAgICAgIHRvUGFyYW1WYWxzID0gY29tbW9uXzEub21pdCh0b1BhcmFtVmFscywgdG9LZXlzKTtcbiAgICAgICAgICAgIHZhciBmcm9tUGFyYW1WYWxzID0gY29tbW9uXzEub21pdChub2RlUGFyYW1WYWxzKGZyb21QYXRoLCB0b05vZGUuc3RhdGUpIHx8IHt9LCBub0luaGVyaXQpO1xuICAgICAgICAgICAgLy8gZXh0ZW5kIHRvUGFyYW1WYWxzIHdpdGggYW55IGZyb21QYXJhbVZhbHMsIHRoZW4gb3ZlcnJpZGUgYW55IG9mIHRob3NlIHRob3NlIHdpdGggaW5jb21pbmdQYXJhbVZhbHNcbiAgICAgICAgICAgIHZhciBvd25QYXJhbVZhbHMgPSBjb21tb25fMS5leHRlbmQodG9QYXJhbVZhbHMsIGZyb21QYXJhbVZhbHMsIGluY29taW5nUGFyYW1WYWxzKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgcGF0aE5vZGVfMS5QYXRoTm9kZSh0b05vZGUuc3RhdGUpLmFwcGx5UmF3UGFyYW1zKG93blBhcmFtVmFscyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIHBhcmFtIGtleXMgc3BlY2lmaWVkIGJ5IHRoZSBpbmNvbWluZyB0b1BhcmFtc1xuICAgICAgICByZXR1cm4gdG9QYXRoLm1hcChtYWtlSW5oZXJpdGVkUGFyYW1zTm9kZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgdHJlZSBjaGFuZ2VzIChlbnRlcmluZywgZXhpdGluZykgYmV0d2VlbiBhIGZyb21QYXRoIGFuZCB0b1BhdGguXG4gICAgICovXG4gICAgUGF0aFV0aWxzLnRyZWVDaGFuZ2VzID0gZnVuY3Rpb24gKGZyb21QYXRoLCB0b1BhdGgsIHJlbG9hZFN0YXRlKSB7XG4gICAgICAgIHZhciBtYXggPSBNYXRoLm1pbihmcm9tUGF0aC5sZW5ndGgsIHRvUGF0aC5sZW5ndGgpO1xuICAgICAgICB2YXIga2VlcCA9IDA7XG4gICAgICAgIHZhciBub2Rlc01hdGNoID0gZnVuY3Rpb24gKG5vZGUxLCBub2RlMikgeyByZXR1cm4gbm9kZTEuZXF1YWxzKG5vZGUyLCBQYXRoVXRpbHMubm9uRHluYW1pY1BhcmFtcyk7IH07XG4gICAgICAgIHdoaWxlIChrZWVwIDwgbWF4ICYmIGZyb21QYXRoW2tlZXBdLnN0YXRlICE9PSByZWxvYWRTdGF0ZSAmJiBub2Rlc01hdGNoKGZyb21QYXRoW2tlZXBdLCB0b1BhdGhba2VlcF0pKSB7XG4gICAgICAgICAgICBrZWVwKys7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEdpdmVuIGEgcmV0YWluZWQgbm9kZSwgcmV0dXJuIGEgbmV3IG5vZGUgd2hpY2ggdXNlcyB0aGUgdG8gbm9kZSdzIHBhcmFtIHZhbHVlcyAqL1xuICAgICAgICBmdW5jdGlvbiBhcHBseVRvUGFyYW1zKHJldGFpbmVkTm9kZSwgaWR4KSB7XG4gICAgICAgICAgICB2YXIgY2xvbmVkID0gcmV0YWluZWROb2RlLmNsb25lKCk7XG4gICAgICAgICAgICBjbG9uZWQucGFyYW1WYWx1ZXMgPSB0b1BhdGhbaWR4XS5wYXJhbVZhbHVlcztcbiAgICAgICAgICAgIHJldHVybiBjbG9uZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZyb20sIHJldGFpbmVkLCBleGl0aW5nLCBlbnRlcmluZywgdG87XG4gICAgICAgIGZyb20gPSBmcm9tUGF0aDtcbiAgICAgICAgcmV0YWluZWQgPSBmcm9tLnNsaWNlKDAsIGtlZXApO1xuICAgICAgICBleGl0aW5nID0gZnJvbS5zbGljZShrZWVwKTtcbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHJldGFpbmVkIHBhdGggKHdpdGggc2hhbGxvdyBjb3BpZXMgb2Ygbm9kZXMpIHdoaWNoIGhhdmUgdGhlIHBhcmFtcyBvZiB0aGUgdG9QYXRoIG1hcHBlZFxuICAgICAgICB2YXIgcmV0YWluZWRXaXRoVG9QYXJhbXMgPSByZXRhaW5lZC5tYXAoYXBwbHlUb1BhcmFtcyk7XG4gICAgICAgIGVudGVyaW5nID0gdG9QYXRoLnNsaWNlKGtlZXApO1xuICAgICAgICB0byA9IHJldGFpbmVkV2l0aFRvUGFyYW1zLmNvbmNhdChlbnRlcmluZyk7XG4gICAgICAgIHJldHVybiB7IGZyb206IGZyb20sIHRvOiB0bywgcmV0YWluZWQ6IHJldGFpbmVkLCByZXRhaW5lZFdpdGhUb1BhcmFtczogcmV0YWluZWRXaXRoVG9QYXJhbXMsIGV4aXRpbmc6IGV4aXRpbmcsIGVudGVyaW5nOiBlbnRlcmluZyB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBwYXRoIHdoaWNoIGlzOiB0aGUgc3VicGF0aCBvZiB0aGUgZmlyc3QgcGF0aCB3aGljaCBtYXRjaGVzIHRoZSBzZWNvbmQgcGF0aC5cbiAgICAgKlxuICAgICAqIFRoZSBuZXcgcGF0aCBzdGFydHMgZnJvbSByb290IGFuZCBjb250YWlucyBhbnkgbm9kZXMgdGhhdCBtYXRjaCB0aGUgbm9kZXMgaW4gdGhlIHNlY29uZCBwYXRoLlxuICAgICAqIEl0IHN0b3BzIGJlZm9yZSB0aGUgZmlyc3Qgbm9uLW1hdGNoaW5nIG5vZGUuXG4gICAgICpcbiAgICAgKiBOb2RlcyBhcmUgY29tcGFyZWQgdXNpbmcgdGhlaXIgc3RhdGUgcHJvcGVydHkgYW5kIHRoZWlyIHBhcmFtZXRlciB2YWx1ZXMuXG4gICAgICogSWYgYSBgcGFyYW1zRm5gIGlzIHByb3ZpZGVkLCBvbmx5IHRoZSBbW1BhcmFtXV0gcmV0dXJuZWQgYnkgdGhlIGZ1bmN0aW9uIHdpbGwgYmUgY29uc2lkZXJlZCB3aGVuIGNvbXBhcmluZyBub2Rlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoQSB0aGUgZmlyc3QgcGF0aFxuICAgICAqIEBwYXJhbSBwYXRoQiB0aGUgc2Vjb25kIHBhdGhcbiAgICAgKiBAcGFyYW0gcGFyYW1zRm4gYSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIHRoZSBwYXJhbWV0ZXJzIHRvIGNvbnNpZGVyIHdoZW4gY29tcGFyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhbiBhcnJheSBvZiBQYXRoTm9kZXMgZnJvbSB0aGUgZmlyc3QgcGF0aCB3aGljaCBtYXRjaCB0aGUgbm9kZXMgaW4gdGhlIHNlY29uZCBwYXRoXG4gICAgICovXG4gICAgUGF0aFV0aWxzLm1hdGNoaW5nID0gZnVuY3Rpb24gKHBhdGhBLCBwYXRoQiwgcGFyYW1zRm4pIHtcbiAgICAgICAgdmFyIGRvbmUgPSBmYWxzZTtcbiAgICAgICAgdmFyIHR1cGxlcyA9IGNvbW1vbl8xLmFycmF5VHVwbGVzKHBhdGhBLCBwYXRoQik7XG4gICAgICAgIHJldHVybiB0dXBsZXMucmVkdWNlKGZ1bmN0aW9uIChtYXRjaGluZywgX2EpIHtcbiAgICAgICAgICAgIHZhciBub2RlQSA9IF9hWzBdLCBub2RlQiA9IF9hWzFdO1xuICAgICAgICAgICAgZG9uZSA9IGRvbmUgfHwgIW5vZGVBLmVxdWFscyhub2RlQiwgcGFyYW1zRm4pO1xuICAgICAgICAgICAgcmV0dXJuIGRvbmUgPyBtYXRjaGluZyA6IG1hdGNoaW5nLmNvbmNhdChub2RlQSk7XG4gICAgICAgIH0sIFtdKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0d28gcGF0aHMgYXJlIGlkZW50aWNhbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoQVxuICAgICAqIEBwYXJhbSBwYXRoQlxuICAgICAqIEBwYXJhbSBwYXJhbXNGbiBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgdGhlIHBhcmFtZXRlcnMgdG8gY29uc2lkZXIgd2hlbiBjb21wYXJpbmdcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSB0aGUgc3RhdGVzIGFuZCBwYXJhbWV0ZXIgdmFsdWVzIGZvciBib3RoIHBhdGhzIGFyZSBpZGVudGljYWxcbiAgICAgKi9cbiAgICBQYXRoVXRpbHMuZXF1YWxzID0gZnVuY3Rpb24gKHBhdGhBLCBwYXRoQiwgcGFyYW1zRm4pIHtcbiAgICAgICAgcmV0dXJuIHBhdGhBLmxlbmd0aCA9PT0gcGF0aEIubGVuZ3RoICYmIFBhdGhVdGlscy5tYXRjaGluZyhwYXRoQSwgcGF0aEIsIHBhcmFtc0ZuKS5sZW5ndGggPT09IHBhdGhBLmxlbmd0aDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiBhIHN1YnBhdGggb2YgYSBwYXRoLCB3aGljaCBzdG9wcyBhdCB0aGUgZmlyc3QgbWF0Y2hpbmcgbm9kZVxuICAgICAqXG4gICAgICogR2l2ZW4gYW4gYXJyYXkgb2Ygbm9kZXMsIHJldHVybnMgYSBzdWJzZXQgb2YgdGhlIGFycmF5IHN0YXJ0aW5nIGZyb20gdGhlIGZpcnN0IG5vZGUsXG4gICAgICogc3RvcHBpbmcgd2hlbiB0aGUgZmlyc3Qgbm9kZSBtYXRjaGVzIHRoZSBwcmVkaWNhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCBhIHBhdGggb2YgW1tQYXRoTm9kZV1dc1xuICAgICAqIEBwYXJhbSBwcmVkaWNhdGUgYSBbW1ByZWRpY2F0ZV1dIGZuIHRoYXQgbWF0Y2hlcyBbW1BhdGhOb2RlXV1zXG4gICAgICogQHJldHVybnMgYSBzdWJwYXRoIHVwIHRvIHRoZSBtYXRjaGluZyBub2RlLCBvciB1bmRlZmluZWQgaWYgbm8gbWF0Y2ggaXMgZm91bmRcbiAgICAgKi9cbiAgICBQYXRoVXRpbHMuc3ViUGF0aCA9IGZ1bmN0aW9uIChwYXRoLCBwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBjb21tb25fMS5maW5kKHBhdGgsIHByZWRpY2F0ZSk7XG4gICAgICAgIHZhciBlbGVtZW50SWR4ID0gcGF0aC5pbmRleE9mKG5vZGUpO1xuICAgICAgICByZXR1cm4gZWxlbWVudElkeCA9PT0gLTEgPyB1bmRlZmluZWQgOiBwYXRoLnNsaWNlKDAsIGVsZW1lbnRJZHggKyAxKTtcbiAgICB9O1xuICAgIFBhdGhVdGlscy5ub25EeW5hbWljUGFyYW1zID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuc3RhdGUucGFyYW1ldGVycyh7IGluaGVyaXQ6IGZhbHNlIH0pLmZpbHRlcihmdW5jdGlvbiAocGFyYW0pIHsgcmV0dXJuICFwYXJhbS5keW5hbWljOyB9KTtcbiAgICB9O1xuICAgIC8qKiBHZXRzIHRoZSByYXcgcGFyYW1ldGVyIHZhbHVlcyBmcm9tIGEgcGF0aCAqL1xuICAgIFBhdGhVdGlscy5wYXJhbVZhbHVlcyA9IGZ1bmN0aW9uIChwYXRoKSB7IHJldHVybiBwYXRoLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBub2RlKSB7IHJldHVybiBjb21tb25fMS5leHRlbmQoYWNjLCBub2RlLnBhcmFtVmFsdWVzKTsgfSwge30pOyB9O1xuICAgIHJldHVybiBQYXRoVXRpbHM7XG59KCkpO1xuZXhwb3J0cy5QYXRoVXRpbHMgPSBQYXRoVXRpbHM7XG5cbn0se1wiLi4vY29tbW9uL2NvbW1vblwiOjMsXCIuLi9jb21tb24vaG9mXCI6NixcIi4uL3N0YXRlL3RhcmdldFN0YXRlXCI6NDUsXCIuL3BhdGhOb2RlXCI6MzF9XSwzMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQHB1YmxpY2FwaSBAbW9kdWxlIHJlc29sdmUgKi8gLyoqICovXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9pbnRlcmZhY2VcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcmVzb2x2YWJsZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9yZXNvbHZlQ29udGV4dFwiKSk7XG5cbn0se1wiLi9pbnRlcmZhY2VcIjozNCxcIi4vcmVzb2x2YWJsZVwiOjM1LFwiLi9yZXNvbHZlQ29udGV4dFwiOjM2fV0sMzQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQGludGVybmFsYXBpICovXG5leHBvcnRzLnJlc29sdmVQb2xpY2llcyA9IHtcbiAgICB3aGVuOiB7XG4gICAgICAgIExBWlk6ICdMQVpZJyxcbiAgICAgICAgRUFHRVI6ICdFQUdFUicsXG4gICAgfSxcbiAgICBhc3luYzoge1xuICAgICAgICBXQUlUOiAnV0FJVCcsXG4gICAgICAgIE5PV0FJVDogJ05PV0FJVCcsXG4gICAgICAgIFJYV0FJVDogJ1JYV0FJVCcsXG4gICAgfSxcbn07XG5cbn0se31dLDM1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSByZXNvbHZlICovIC8qKiAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgY29yZXNlcnZpY2VzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvcmVzZXJ2aWNlc1wiKTtcbnZhciB0cmFjZV8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi90cmFjZVwiKTtcbnZhciBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3N0cmluZ3NcIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xudmFyIHByZWRpY2F0ZXNfMiA9IHJlcXVpcmUoXCIuLi9jb21tb24vcHJlZGljYXRlc1wiKTtcbi8vIFRPRE86IGV4cGxpY2l0bHkgbWFrZSB0aGlzIHVzZXIgY29uZmlndXJhYmxlXG5leHBvcnRzLmRlZmF1bHRSZXNvbHZlUG9saWN5ID0ge1xuICAgIHdoZW46ICdMQVpZJyxcbiAgICBhc3luYzogJ1dBSVQnLFxufTtcbi8qKlxuICogVGhlIGJhc2ljIGJ1aWxkaW5nIGJsb2NrIGZvciB0aGUgcmVzb2x2ZSBzeXN0ZW0uXG4gKlxuICogUmVzb2x2YWJsZXMgZW5jYXBzdWxhdGUgYSBzdGF0ZSdzIHJlc29sdmUncyByZXNvbHZlRm4sIHRoZSByZXNvbHZlRm4ncyBkZWNsYXJlZCBkZXBlbmRlbmNpZXMsIHRoZSB3cmFwcGVkICgucHJvbWlzZSksXG4gKiBhbmQgdGhlIHVud3JhcHBlZC13aGVuLWNvbXBsZXRlICguZGF0YSkgcmVzdWx0IG9mIHRoZSByZXNvbHZlRm4uXG4gKlxuICogUmVzb2x2YWJsZS5nZXQoKSBlaXRoZXIgcmV0cmlldmVzIHRoZSBSZXNvbHZhYmxlJ3MgZXhpc3RpbmcgcHJvbWlzZSwgb3IgZWxzZSBpbnZva2VzIHJlc29sdmUoKSAod2hpY2ggaW52b2tlcyB0aGVcbiAqIHJlc29sdmVGbikgYW5kIHJldHVybnMgdGhlIHJlc3VsdGluZyBwcm9taXNlLlxuICpcbiAqIFJlc29sdmFibGUuZ2V0KCkgYW5kIFJlc29sdmFibGUucmVzb2x2ZSgpIGJvdGggZXhlY3V0ZSB3aXRoaW4gYSBjb250ZXh0IHBhdGgsIHdoaWNoIGlzIHBhc3NlZCBhcyB0aGUgZmlyc3RcbiAqIHBhcmFtZXRlciB0byB0aG9zZSBmbnMuXG4gKi9cbnZhciBSZXNvbHZhYmxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc29sdmFibGUoYXJnMSwgcmVzb2x2ZUZuLCBkZXBzLCBwb2xpY3ksIGRhdGEpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnByb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChhcmcxIGluc3RhbmNlb2YgUmVzb2x2YWJsZSkge1xuICAgICAgICAgICAgY29tbW9uXzEuZXh0ZW5kKHRoaXMsIGFyZzEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByZWRpY2F0ZXNfMS5pc0Z1bmN0aW9uKHJlc29sdmVGbikpIHtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGVzXzIuaXNOdWxsT3JVbmRlZmluZWQoYXJnMSkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCduZXcgUmVzb2x2YWJsZSgpOiB0b2tlbiBhcmd1bWVudCBpcyByZXF1aXJlZCcpO1xuICAgICAgICAgICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbihyZXNvbHZlRm4pKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbmV3IFJlc29sdmFibGUoKTogcmVzb2x2ZUZuIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICAgICAgdGhpcy50b2tlbiA9IGFyZzE7XG4gICAgICAgICAgICB0aGlzLnBvbGljeSA9IHBvbGljeTtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZUZuID0gcmVzb2x2ZUZuO1xuICAgICAgICAgICAgdGhpcy5kZXBzID0gZGVwcyB8fCBbXTtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVkID0gZGF0YSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5wcm9taXNlID0gdGhpcy5yZXNvbHZlZCA/IGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxLndoZW4odGhpcy5kYXRhKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcmVkaWNhdGVzXzEuaXNPYmplY3QoYXJnMSkgJiYgYXJnMS50b2tlbiAmJiAoYXJnMS5oYXNPd25Qcm9wZXJ0eSgncmVzb2x2ZUZuJykgfHwgYXJnMS5oYXNPd25Qcm9wZXJ0eSgnZGF0YScpKSkge1xuICAgICAgICAgICAgdmFyIGxpdGVyYWwgPSBhcmcxO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNvbHZhYmxlKGxpdGVyYWwudG9rZW4sIGxpdGVyYWwucmVzb2x2ZUZuLCBsaXRlcmFsLmRlcHMsIGxpdGVyYWwucG9saWN5LCBsaXRlcmFsLmRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFJlc29sdmFibGUucHJvdG90eXBlLmdldFBvbGljeSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgdGhpc1BvbGljeSA9IHRoaXMucG9saWN5IHx8IHt9O1xuICAgICAgICB2YXIgc3RhdGVQb2xpY3kgPSAoc3RhdGUgJiYgc3RhdGUucmVzb2x2ZVBvbGljeSkgfHwge307XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aGVuOiB0aGlzUG9saWN5LndoZW4gfHwgc3RhdGVQb2xpY3kud2hlbiB8fCBleHBvcnRzLmRlZmF1bHRSZXNvbHZlUG9saWN5LndoZW4sXG4gICAgICAgICAgICBhc3luYzogdGhpc1BvbGljeS5hc3luYyB8fCBzdGF0ZVBvbGljeS5hc3luYyB8fCBleHBvcnRzLmRlZmF1bHRSZXNvbHZlUG9saWN5LmFzeW5jLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXN5bmNocm9ub3VzbHkgcmVzb2x2ZSB0aGlzIFJlc29sdmFibGUncyBkYXRhXG4gICAgICpcbiAgICAgKiBHaXZlbiBhIFJlc29sdmVDb250ZXh0IHRoYXQgdGhpcyBSZXNvbHZhYmxlIGlzIGZvdW5kIGluOlxuICAgICAqIFdhaXQgZm9yIHRoaXMgUmVzb2x2YWJsZSdzIGRlcGVuZGVuY2llcywgdGhlbiBpbnZva2UgdGhpcyBSZXNvbHZhYmxlJ3MgZnVuY3Rpb25cbiAgICAgKiBhbmQgdXBkYXRlIHRoZSBSZXNvbHZhYmxlJ3Mgc3RhdGVcbiAgICAgKi9cbiAgICBSZXNvbHZhYmxlLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gKHJlc29sdmVDb250ZXh0LCB0cmFucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgJHEgPSBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcTtcbiAgICAgICAgLy8gR2V0cyBhbGwgZGVwZW5kZW5jaWVzIGZyb20gUmVzb2x2ZUNvbnRleHQgYW5kIHdhaXQgZm9yIHRoZW0gdG8gYmUgcmVzb2x2ZWRcbiAgICAgICAgdmFyIGdldFJlc29sdmFibGVEZXBlbmRlbmNpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJHEuYWxsKHJlc29sdmVDb250ZXh0LmdldERlcGVuZGVuY2llcyhfdGhpcykubWFwKGZ1bmN0aW9uIChyZXNvbHZhYmxlKSB7IHJldHVybiByZXNvbHZhYmxlLmdldChyZXNvbHZlQ29udGV4dCwgdHJhbnMpOyB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIEludm9rZXMgdGhlIHJlc29sdmUgZnVuY3Rpb24gcGFzc2luZyB0aGUgcmVzb2x2ZWQgZGVwZW5kZW5jaWVzIGFzIGFyZ3VtZW50c1xuICAgICAgICB2YXIgaW52b2tlUmVzb2x2ZUZuID0gZnVuY3Rpb24gKHJlc29sdmVkRGVwcykgeyByZXR1cm4gX3RoaXMucmVzb2x2ZUZuLmFwcGx5KG51bGwsIHJlc29sdmVkRGVwcyk7IH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3IgUlhXQUlUIHBvbGljeTpcbiAgICAgICAgICpcbiAgICAgICAgICogR2l2ZW4gYW4gb2JzZXJ2YWJsZSByZXR1cm5lZCBmcm9tIGEgcmVzb2x2ZSBmdW5jdGlvbjpcbiAgICAgICAgICogLSBlbmFibGVzIC5jYWNoZSgpIG1vZGUgKHRoaXMgYWxsb3dzIG11bHRpY2FzdCBzdWJzY3JpYmVycylcbiAgICAgICAgICogLSB0aGVuIGNhbGxzIHRvUHJvbWlzZSgpICh0aGlzIHRyaWdnZXJzIHN1YnNjcmliZSgpIGFuZCB0aHVzIGZldGNoZXMpXG4gICAgICAgICAqIC0gV2FpdHMgZm9yIHRoZSBwcm9taXNlLCB0aGVuIHJldHVybiB0aGUgY2FjaGVkIG9ic2VydmFibGUgKG5vdCB0aGUgZmlyc3QgZW1pdHRlZCB2YWx1ZSkuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgd2FpdEZvclJ4ID0gZnVuY3Rpb24gKG9ic2VydmFibGUkKSB7XG4gICAgICAgICAgICB2YXIgY2FjaGVkID0gb2JzZXJ2YWJsZSQuY2FjaGUoMSk7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkXG4gICAgICAgICAgICAgICAgLnRha2UoMSlcbiAgICAgICAgICAgICAgICAudG9Qcm9taXNlKClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBjYWNoZWQ7IH0pO1xuICAgICAgICB9O1xuICAgICAgICAvLyBJZiB0aGUgcmVzb2x2ZSBwb2xpY3kgaXMgUlhXQUlULCB3YWl0IGZvciB0aGUgb2JzZXJ2YWJsZSB0byBlbWl0IHNvbWV0aGluZy4gb3RoZXJ3aXNlIHBhc3MgdGhyb3VnaC5cbiAgICAgICAgdmFyIG5vZGUgPSByZXNvbHZlQ29udGV4dC5maW5kTm9kZSh0aGlzKTtcbiAgICAgICAgdmFyIHN0YXRlID0gbm9kZSAmJiBub2RlLnN0YXRlO1xuICAgICAgICB2YXIgbWF5YmVXYWl0Rm9yUnggPSB0aGlzLmdldFBvbGljeShzdGF0ZSkuYXN5bmMgPT09ICdSWFdBSVQnID8gd2FpdEZvclJ4IDogY29tbW9uXzEuaWRlbnRpdHk7XG4gICAgICAgIC8vIEFmdGVyIHRoZSBmaW5hbCB2YWx1ZSBoYXMgYmVlbiByZXNvbHZlZCwgdXBkYXRlIHRoZSBzdGF0ZSBvZiB0aGUgUmVzb2x2YWJsZVxuICAgICAgICB2YXIgYXBwbHlSZXNvbHZlZFZhbHVlID0gZnVuY3Rpb24gKHJlc29sdmVkVmFsdWUpIHtcbiAgICAgICAgICAgIF90aGlzLmRhdGEgPSByZXNvbHZlZFZhbHVlO1xuICAgICAgICAgICAgX3RoaXMucmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMucmVzb2x2ZUZuID0gbnVsbDtcbiAgICAgICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VSZXNvbHZhYmxlUmVzb2x2ZWQoX3RoaXMsIHRyYW5zKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5kYXRhO1xuICAgICAgICB9O1xuICAgICAgICAvLyBTZXRzIHRoZSBwcm9taXNlIHByb3BlcnR5IGZpcnN0LCB0aGVuIGdldHNSZXNvbHZhYmxlRGVwZW5kZW5jaWVzIGluIHRoZSBjb250ZXh0IG9mIHRoZSBwcm9taXNlIGNoYWluLiBBbHdheXMgd2FpdHMgb25lIHRpY2suXG4gICAgICAgIHJldHVybiAodGhpcy5wcm9taXNlID0gJHFcbiAgICAgICAgICAgIC53aGVuKClcbiAgICAgICAgICAgIC50aGVuKGdldFJlc29sdmFibGVEZXBlbmRlbmNpZXMpXG4gICAgICAgICAgICAudGhlbihpbnZva2VSZXNvbHZlRm4pXG4gICAgICAgICAgICAudGhlbihtYXliZVdhaXRGb3JSeClcbiAgICAgICAgICAgIC50aGVuKGFwcGx5UmVzb2x2ZWRWYWx1ZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyBhIHByb21pc2UgZm9yIHRoaXMgUmVzb2x2YWJsZSdzIGRhdGEuXG4gICAgICpcbiAgICAgKiBGZXRjaGVzIHRoZSBkYXRhIGFuZCByZXR1cm5zIGEgcHJvbWlzZS5cbiAgICAgKiBSZXR1cm5zIHRoZSBleGlzdGluZyBwcm9taXNlIGlmIGl0IGhhcyBhbHJlYWR5IGJlZW4gZmV0Y2hlZCBvbmNlLlxuICAgICAqL1xuICAgIFJlc29sdmFibGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChyZXNvbHZlQ29udGV4dCwgdHJhbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZSB8fCB0aGlzLnJlc29sdmUocmVzb2x2ZUNvbnRleHQsIHRyYW5zKTtcbiAgICB9O1xuICAgIFJlc29sdmFibGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJSZXNvbHZhYmxlKHRva2VuOiBcIiArIHN0cmluZ3NfMS5zdHJpbmdpZnkodGhpcy50b2tlbikgKyBcIiwgcmVxdWlyZXM6IFtcIiArIHRoaXMuZGVwcy5tYXAoc3RyaW5nc18xLnN0cmluZ2lmeSkgKyBcIl0pXCI7XG4gICAgfTtcbiAgICBSZXNvbHZhYmxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNvbHZhYmxlKHRoaXMpO1xuICAgIH07XG4gICAgUmVzb2x2YWJsZS5mcm9tRGF0YSA9IGZ1bmN0aW9uICh0b2tlbiwgZGF0YSkgeyByZXR1cm4gbmV3IFJlc29sdmFibGUodG9rZW4sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRhdGE7IH0sIG51bGwsIG51bGwsIGRhdGEpOyB9O1xuICAgIHJldHVybiBSZXNvbHZhYmxlO1xufSgpKTtcbmV4cG9ydHMuUmVzb2x2YWJsZSA9IFJlc29sdmFibGU7XG5cbn0se1wiLi4vY29tbW9uL2NvbW1vblwiOjMsXCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCI6NCxcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCI6OCxcIi4uL2NvbW1vbi9zdHJpbmdzXCI6MTAsXCIuLi9jb21tb24vdHJhY2VcIjoxMX1dLDM2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSByZXNvbHZlICovIC8qKiAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgaG9mXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2hvZlwiKTtcbnZhciB0cmFjZV8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi90cmFjZVwiKTtcbnZhciBjb3Jlc2VydmljZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCIpO1xudmFyIGludGVyZmFjZV8xID0gcmVxdWlyZShcIi4vaW50ZXJmYWNlXCIpO1xudmFyIHJlc29sdmFibGVfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmFibGVcIik7XG52YXIgcGF0aFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vcGF0aC9wYXRoVXRpbHNcIik7XG52YXIgc3RyaW5nc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9zdHJpbmdzXCIpO1xudmFyIGNvbW1vbl8yID0gcmVxdWlyZShcIi4uL2NvbW1vblwiKTtcbnZhciB3aGVucyA9IGludGVyZmFjZV8xLnJlc29sdmVQb2xpY2llcy53aGVuO1xudmFyIEFMTF9XSEVOUyA9IFt3aGVucy5FQUdFUiwgd2hlbnMuTEFaWV07XG52YXIgRUFHRVJfV0hFTlMgPSBbd2hlbnMuRUFHRVJdO1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWluZmVycmFibGUtdHlwZXNcbmV4cG9ydHMuTkFUSVZFX0lOSkVDVE9SX1RPS0VOID0gJ05hdGl2ZSBJbmplY3Rvcic7XG4vKipcbiAqIEVuY2Fwc3VsYXRlcyBEZXBlbmRlbmN5IEluamVjdGlvbiBmb3IgYSBwYXRoIG9mIG5vZGVzXG4gKlxuICogVUktUm91dGVyIHN0YXRlcyBhcmUgb3JnYW5pemVkIGFzIGEgdHJlZS5cbiAqIEEgbmVzdGVkIHN0YXRlIGhhcyBhIHBhdGggb2YgYW5jZXN0b3JzIHRvIHRoZSByb290IG9mIHRoZSB0cmVlLlxuICogV2hlbiBhIHN0YXRlIGlzIGJlaW5nIGFjdGl2YXRlZCwgZWFjaCBlbGVtZW50IGluIHRoZSBwYXRoIGlzIHdyYXBwZWQgYXMgYSBbW1BhdGhOb2RlXV0uXG4gKiBBIGBQYXRoTm9kZWAgaXMgYSBzdGF0ZWZ1bCBvYmplY3QgdGhhdCBob2xkcyB0aGluZ3MgbGlrZSBwYXJhbWV0ZXJzIGFuZCByZXNvbHZhYmxlcyBmb3IgdGhlIHN0YXRlIGJlaW5nIGFjdGl2YXRlZC5cbiAqXG4gKiBUaGUgUmVzb2x2ZUNvbnRleHQgY2xvc2VzIG92ZXIgdGhlIFtbUGF0aE5vZGVdXXMsIGFuZCBwcm92aWRlcyBESSBmb3IgdGhlIGxhc3Qgbm9kZSBpbiB0aGUgcGF0aC5cbiAqL1xudmFyIFJlc29sdmVDb250ZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc29sdmVDb250ZXh0KF9wYXRoKSB7XG4gICAgICAgIHRoaXMuX3BhdGggPSBfcGF0aDtcbiAgICB9XG4gICAgLyoqIEdldHMgYWxsIHRoZSB0b2tlbnMgZm91bmQgaW4gdGhlIHJlc29sdmUgY29udGV4dCwgZGUtZHVwbGljYXRlZCAqL1xuICAgIFJlc29sdmVDb250ZXh0LnByb3RvdHlwZS5nZXRUb2tlbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXRoLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBub2RlKSB7IHJldHVybiBhY2MuY29uY2F0KG5vZGUucmVzb2x2YWJsZXMubWFwKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnRva2VuOyB9KSk7IH0sIFtdKS5yZWR1Y2UoY29tbW9uXzEudW5pcVIsIFtdKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIFJlc29sdmFibGUgdGhhdCBtYXRjaGVzIHRoZSB0b2tlblxuICAgICAqXG4gICAgICogR2V0cyB0aGUgbGFzdCBSZXNvbHZhYmxlIHRoYXQgbWF0Y2hlcyB0aGUgdG9rZW4gaW4gdGhpcyBjb250ZXh0LCBvciB1bmRlZmluZWQuXG4gICAgICogVGhyb3dzIGFuIGVycm9yIGlmIGl0IGRvZXNuJ3QgZXhpc3QgaW4gdGhlIFJlc29sdmVDb250ZXh0XG4gICAgICovXG4gICAgUmVzb2x2ZUNvbnRleHQucHJvdG90eXBlLmdldFJlc29sdmFibGUgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgdmFyIG1hdGNoaW5nID0gdGhpcy5fcGF0aFxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5yZXNvbHZhYmxlczsgfSlcbiAgICAgICAgICAgIC5yZWR1Y2UoY29tbW9uXzEudW5uZXN0UiwgW10pXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnRva2VuID09PSB0b2tlbjsgfSk7XG4gICAgICAgIHJldHVybiBjb21tb25fMS50YWlsKG1hdGNoaW5nKTtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIHRoZSBbW1Jlc29sdmVQb2xpY3ldXSBmb3IgdGhlIGdpdmVuIFtbUmVzb2x2YWJsZV1dICovXG4gICAgUmVzb2x2ZUNvbnRleHQucHJvdG90eXBlLmdldFBvbGljeSA9IGZ1bmN0aW9uIChyZXNvbHZhYmxlKSB7XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5maW5kTm9kZShyZXNvbHZhYmxlKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmFibGUuZ2V0UG9saWN5KG5vZGUuc3RhdGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFJlc29sdmVDb250ZXh0IHRoYXQgaW5jbHVkZXMgYSBwb3J0aW9uIG9mIHRoaXMgb25lXG4gICAgICpcbiAgICAgKiBHaXZlbiBhIHN0YXRlLCB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgbmV3IFJlc29sdmVDb250ZXh0IGZyb20gdGhpcyBvbmUuXG4gICAgICogVGhlIG5ldyBjb250ZXh0IHN0YXJ0cyBhdCB0aGUgZmlyc3Qgbm9kZSAocm9vdCkgYW5kIHN0b3BzIGF0IHRoZSBub2RlIGZvciB0aGUgYHN0YXRlYCBwYXJhbWV0ZXIuXG4gICAgICpcbiAgICAgKiAjIyMjIFdoeVxuICAgICAqXG4gICAgICogV2hlbiBhIHRyYW5zaXRpb24gaXMgY3JlYXRlZCwgdGhlIG5vZGVzIGluIHRoZSBcIlRvIFBhdGhcIiBhcmUgaW5qZWN0ZWQgZnJvbSBhIFJlc29sdmVDb250ZXh0LlxuICAgICAqIEEgUmVzb2x2ZUNvbnRleHQgY2xvc2VzIG92ZXIgYSBwYXRoIG9mIFtbUGF0aE5vZGVdXXMgYW5kIHByb2Nlc3NlcyB0aGUgcmVzb2x2YWJsZXMuXG4gICAgICogVGhlIFwiVG8gU3RhdGVcIiBjYW4gaW5qZWN0IHZhbHVlcyBmcm9tIGl0cyBvd24gcmVzb2x2YWJsZXMsIGFzIHdlbGwgYXMgdGhvc2UgZnJvbSBhbGwgaXRzIGFuY2VzdG9yIHN0YXRlJ3MgKG5vZGUncykuXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBjcmVhdGUgYSBuYXJyb3dlciBjb250ZXh0IHdoZW4gaW5qZWN0aW5nIGFuY2VzdG9yIG5vZGVzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgbGV0IEFCQ0QgPSBuZXcgUmVzb2x2ZUNvbnRleHQoW0EsIEIsIEMsIERdKTtgXG4gICAgICpcbiAgICAgKiBHaXZlbiBhIHBhdGggYFtBLCBCLCBDLCBEXWAsIHdoZXJlIGBBYCwgYEJgLCBgQ2AgYW5kIGBEYCBhcmUgbm9kZXMgZm9yIHN0YXRlcyBgYWAsIGBiYCwgYGNgLCBgZGA6XG4gICAgICogV2hlbiBpbmplY3RpbmcgYERgLCBgRGAgc2hvdWxkIGhhdmUgYWNjZXNzIHRvIGFsbCByZXNvbHZhYmxlcyBmcm9tIGBBYCwgYEJgLCBgQ2AsIGBEYC5cbiAgICAgKiBIb3dldmVyLCBgQmAgc2hvdWxkIG9ubHkgYmUgYWJsZSB0byBhY2Nlc3MgcmVzb2x2YWJsZXMgZnJvbSBgQWAsIGBCYC5cbiAgICAgKlxuICAgICAqIFdoZW4gcmVzb2x2aW5nIGZvciB0aGUgYEJgIG5vZGUsIGZpcnN0IHRha2UgdGhlIGZ1bGwgXCJUbyBQYXRoXCIgQ29udGV4dCBgW0EsQixDLERdYCBhbmQgbGltaXQgdG8gdGhlIHN1YnBhdGggYFtBLEJdYC5cbiAgICAgKiBgbGV0IEFCID0gQUJDRC5zdWJjb250ZXh0KGEpYFxuICAgICAqL1xuICAgIFJlc29sdmVDb250ZXh0LnByb3RvdHlwZS5zdWJDb250ZXh0ID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb2x2ZUNvbnRleHQocGF0aFV0aWxzXzEuUGF0aFV0aWxzLnN1YlBhdGgodGhpcy5fcGF0aCwgZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUuc3RhdGUgPT09IHN0YXRlOyB9KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIFJlc29sdmFibGVzIHRvIHRoZSBub2RlIHRoYXQgbWF0Y2hlcyB0aGUgc3RhdGVcbiAgICAgKlxuICAgICAqIFRoaXMgYWRkcyBhIFtbUmVzb2x2YWJsZV1dIChnZW5lcmFsbHkgb25lIGNyZWF0ZWQgb24gdGhlIGZseTsgbm90IGRlY2xhcmVkIG9uIGEgW1tTdGF0ZURlY2xhcmF0aW9uLnJlc29sdmVdXSBibG9jaykuXG4gICAgICogVGhlIHJlc29sdmFibGUgaXMgYWRkZWQgdG8gdGhlIG5vZGUgbWF0Y2hpbmcgdGhlIGBzdGF0ZWAgcGFyYW1ldGVyLlxuICAgICAqXG4gICAgICogVGhlc2UgbmV3IHJlc29sdmFibGVzIGFyZSBub3QgYXV0b21hdGljYWxseSBmZXRjaGVkLlxuICAgICAqIFRoZSBjYWxsaW5nIGNvZGUgc2hvdWxkIGVpdGhlciBmZXRjaCB0aGVtLCBmZXRjaCBzb21ldGhpbmcgdGhhdCBkZXBlbmRzIG9uIHRoZW0sXG4gICAgICogb3IgcmVseSBvbiBbW3Jlc29sdmVQYXRoXV0gYmVpbmcgY2FsbGVkIHdoZW4gc29tZSBzdGF0ZSBpcyBiZWluZyBlbnRlcmVkLlxuICAgICAqXG4gICAgICogTm90ZTogZWFjaCByZXNvbHZhYmxlJ3MgW1tSZXNvbHZlUG9saWN5XV0gaXMgbWVyZ2VkIHdpdGggdGhlIHN0YXRlJ3MgcG9saWN5LCBhbmQgdGhlIGdsb2JhbCBkZWZhdWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIG5ld1Jlc29sdmFibGVzIHRoZSBuZXcgUmVzb2x2YWJsZXNcbiAgICAgKiBAcGFyYW0gc3RhdGUgVXNlZCB0byBmaW5kIHRoZSBub2RlIHRvIHB1dCB0aGUgcmVzb2x2YWJsZSBvblxuICAgICAqL1xuICAgIFJlc29sdmVDb250ZXh0LnByb3RvdHlwZS5hZGRSZXNvbHZhYmxlcyA9IGZ1bmN0aW9uIChuZXdSZXNvbHZhYmxlcywgc3RhdGUpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBjb21tb25fMS5maW5kKHRoaXMuX3BhdGgsIGhvZl8xLnByb3BFcSgnc3RhdGUnLCBzdGF0ZSkpO1xuICAgICAgICB2YXIga2V5cyA9IG5ld1Jlc29sdmFibGVzLm1hcChmdW5jdGlvbiAocikgeyByZXR1cm4gci50b2tlbjsgfSk7XG4gICAgICAgIG5vZGUucmVzb2x2YWJsZXMgPSBub2RlLnJlc29sdmFibGVzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4ga2V5cy5pbmRleE9mKHIudG9rZW4pID09PSAtMTsgfSkuY29uY2F0KG5ld1Jlc29sdmFibGVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIGZvciBhbiBhcnJheSBvZiByZXNvbHZlZCBwYXRoIEVsZW1lbnQgcHJvbWlzZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB3aGVuXG4gICAgICogQHBhcmFtIHRyYW5zXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pnxhbnl9XG4gICAgICovXG4gICAgUmVzb2x2ZUNvbnRleHQucHJvdG90eXBlLnJlc29sdmVQYXRoID0gZnVuY3Rpb24gKHdoZW4sIHRyYW5zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh3aGVuID09PSB2b2lkIDApIHsgd2hlbiA9ICdMQVpZJzsgfVxuICAgICAgICAvLyBUaGlzIG9wdGlvbiBkZXRlcm1pbmVzIHdoaWNoICd3aGVuJyBwb2xpY3kgUmVzb2x2YWJsZXMgd2UgYXJlIGFib3V0IHRvIGZldGNoLlxuICAgICAgICB2YXIgd2hlbk9wdGlvbiA9IGNvbW1vbl8xLmluQXJyYXkoQUxMX1dIRU5TLCB3aGVuKSA/IHdoZW4gOiAnTEFaWSc7XG4gICAgICAgIC8vIElmIHRoZSBjYWxsZXIgc3BlY2lmaWVkIEVBR0VSLCBvbmx5IHRoZSBFQUdFUiBSZXNvbHZhYmxlcyBhcmUgZmV0Y2hlZC5cbiAgICAgICAgLy8gaWYgdGhlIGNhbGxlciBzcGVjaWZpZWQgTEFaWSwgYm90aCBFQUdFUiBhbmQgTEFaWSBSZXNvbHZhYmxlcyBhcmUgZmV0Y2hlZC5gXG4gICAgICAgIHZhciBtYXRjaGVkV2hlbnMgPSB3aGVuT3B0aW9uID09PSBpbnRlcmZhY2VfMS5yZXNvbHZlUG9saWNpZXMud2hlbi5FQUdFUiA/IEVBR0VSX1dIRU5TIDogQUxMX1dIRU5TO1xuICAgICAgICAvLyBnZXQgdGhlIHN1YnBhdGggdG8gdGhlIHN0YXRlIGFyZ3VtZW50LCBpZiBwcm92aWRlZFxuICAgICAgICB0cmFjZV8xLnRyYWNlLnRyYWNlUmVzb2x2ZVBhdGgodGhpcy5fcGF0aCwgd2hlbiwgdHJhbnMpO1xuICAgICAgICB2YXIgbWF0Y2hlc1BvbGljeSA9IGZ1bmN0aW9uIChhY2NlcHRlZFZhbHMsIHdoZW5PckFzeW5jKSB7IHJldHVybiBmdW5jdGlvbiAocmVzb2x2YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmluQXJyYXkoYWNjZXB0ZWRWYWxzLCBfdGhpcy5nZXRQb2xpY3kocmVzb2x2YWJsZSlbd2hlbk9yQXN5bmNdKTtcbiAgICAgICAgfTsgfTtcbiAgICAgICAgLy8gVHJpZ2dlciBhbGwgdGhlIChtYXRjaGluZykgUmVzb2x2YWJsZXMgaW4gdGhlIHBhdGhcbiAgICAgICAgLy8gUmVkdWNlIGFsbCB0aGUgXCJXQUlUXCIgUmVzb2x2YWJsZXMgaW50byBhbiBhcnJheVxuICAgICAgICB2YXIgcHJvbWlzZXMgPSB0aGlzLl9wYXRoLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBub2RlKSB7XG4gICAgICAgICAgICB2YXIgbm9kZVJlc29sdmFibGVzID0gbm9kZS5yZXNvbHZhYmxlcy5maWx0ZXIobWF0Y2hlc1BvbGljeShtYXRjaGVkV2hlbnMsICd3aGVuJykpO1xuICAgICAgICAgICAgdmFyIG5vd2FpdCA9IG5vZGVSZXNvbHZhYmxlcy5maWx0ZXIobWF0Y2hlc1BvbGljeShbJ05PV0FJVCddLCAnYXN5bmMnKSk7XG4gICAgICAgICAgICB2YXIgd2FpdCA9IG5vZGVSZXNvbHZhYmxlcy5maWx0ZXIoaG9mXzEubm90KG1hdGNoZXNQb2xpY3koWydOT1dBSVQnXSwgJ2FzeW5jJykpKTtcbiAgICAgICAgICAgIC8vIEZvciB0aGUgbWF0Y2hpbmcgUmVzb2x2YWJsZXMsIHN0YXJ0IHRoZWlyIGFzeW5jIGZldGNoIHByb2Nlc3MuXG4gICAgICAgICAgICB2YXIgc3ViQ29udGV4dCA9IF90aGlzLnN1YkNvbnRleHQobm9kZS5zdGF0ZSk7XG4gICAgICAgICAgICB2YXIgZ2V0UmVzdWx0ID0gZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gclxuICAgICAgICAgICAgICAgICAgICAuZ2V0KHN1YkNvbnRleHQsIHRyYW5zKVxuICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gYSB0dXBsZSB0aGF0IGluY2x1ZGVzIHRoZSBSZXNvbHZhYmxlJ3MgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiAoeyB0b2tlbjogci50b2tlbiwgdmFsdWU6IHZhbHVlIH0pOyB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBub3dhaXQuZm9yRWFjaChnZXRSZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuIGFjYy5jb25jYXQod2FpdC5tYXAoZ2V0UmVzdWx0KSk7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgLy8gV2FpdCBmb3IgYWxsIHRoZSBcIldBSVRcIiByZXNvbHZhYmxlc1xuICAgICAgICByZXR1cm4gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEuYWxsKHByb21pc2VzKTtcbiAgICB9O1xuICAgIFJlc29sdmVDb250ZXh0LnByb3RvdHlwZS5pbmplY3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luamVjdG9yIHx8ICh0aGlzLl9pbmplY3RvciA9IG5ldyBVSUluamVjdG9ySW1wbCh0aGlzKSk7XG4gICAgfTtcbiAgICBSZXNvbHZlQ29udGV4dC5wcm90b3R5cGUuZmluZE5vZGUgPSBmdW5jdGlvbiAocmVzb2x2YWJsZSkge1xuICAgICAgICByZXR1cm4gY29tbW9uXzEuZmluZCh0aGlzLl9wYXRoLCBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gY29tbW9uXzEuaW5BcnJheShub2RlLnJlc29sdmFibGVzLCByZXNvbHZhYmxlKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhc3luYyBkZXBlbmRlbmNpZXMgb2YgYSBSZXNvbHZhYmxlXG4gICAgICpcbiAgICAgKiBHaXZlbiBhIFJlc29sdmFibGUsIHJldHVybnMgaXRzIGRlcGVuZGVuY2llcyBhcyBhIFJlc29sdmFibGVbXVxuICAgICAqL1xuICAgIFJlc29sdmVDb250ZXh0LnByb3RvdHlwZS5nZXREZXBlbmRlbmNpZXMgPSBmdW5jdGlvbiAocmVzb2x2YWJsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXMuZmluZE5vZGUocmVzb2x2YWJsZSk7XG4gICAgICAgIC8vIEZpbmQgd2hpY2ggb3RoZXIgcmVzb2x2YWJsZXMgYXJlIFwidmlzaWJsZVwiIHRvIHRoZSBgcmVzb2x2YWJsZWAgYXJndW1lbnRcbiAgICAgICAgLy8gc3VicGF0aCBzdG9wcGluZyBhdCByZXNvbHZhYmxlJ3Mgbm9kZSwgb3IgdGhlIHdob2xlIHBhdGggKGlmIHRoZSByZXNvbHZhYmxlIGlzbid0IGluIHRoZSBwYXRoKVxuICAgICAgICB2YXIgc3ViUGF0aCA9IHBhdGhVdGlsc18xLlBhdGhVdGlscy5zdWJQYXRoKHRoaXMuX3BhdGgsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ID09PSBub2RlOyB9KSB8fCB0aGlzLl9wYXRoO1xuICAgICAgICB2YXIgYXZhaWxhYmxlUmVzb2x2YWJsZXMgPSBzdWJQYXRoXG4gICAgICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChhY2MsIF9ub2RlKSB7IHJldHVybiBhY2MuY29uY2F0KF9ub2RlLnJlc29sdmFibGVzKTsgfSwgW10pIC8vIGFsbCBvZiBzdWJwYXRoJ3MgcmVzb2x2YWJsZXNcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gcmVzICE9PSByZXNvbHZhYmxlOyB9KTsgLy8gZmlsdGVyIG91dCB0aGUgYHJlc29sdmFibGVgIGFyZ3VtZW50XG4gICAgICAgIHZhciBnZXREZXBlbmRlbmN5ID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2hpbmcgPSBhdmFpbGFibGVSZXNvbHZhYmxlcy5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIudG9rZW4gPT09IHRva2VuOyB9KTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLnRhaWwobWF0Y2hpbmcpO1xuICAgICAgICAgICAgdmFyIGZyb21JbmplY3RvciA9IF90aGlzLmluamVjdG9yKCkuZ2V0TmF0aXZlKHRva2VuKTtcbiAgICAgICAgICAgIGlmIChjb21tb25fMi5pc1VuZGVmaW5lZChmcm9tSW5qZWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZmluZCBEZXBlbmRlbmN5IEluamVjdGlvbiB0b2tlbjogJyArIHN0cmluZ3NfMS5zdHJpbmdpZnkodG9rZW4pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgcmVzb2x2YWJsZV8xLlJlc29sdmFibGUodG9rZW4sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZyb21JbmplY3RvcjsgfSwgW10sIGZyb21JbmplY3Rvcik7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXNvbHZhYmxlLmRlcHMubWFwKGdldERlcGVuZGVuY3kpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc29sdmVDb250ZXh0O1xufSgpKTtcbmV4cG9ydHMuUmVzb2x2ZUNvbnRleHQgPSBSZXNvbHZlQ29udGV4dDtcbi8qKiBAaW50ZXJuYWxhcGkgKi9cbnZhciBVSUluamVjdG9ySW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVSUluamVjdG9ySW1wbChjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMubmF0aXZlID0gdGhpcy5nZXQoZXhwb3J0cy5OQVRJVkVfSU5KRUNUT1JfVE9LRU4pIHx8IGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRpbmplY3RvcjtcbiAgICB9XG4gICAgVUlJbmplY3RvckltcGwucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICB2YXIgcmVzb2x2YWJsZSA9IHRoaXMuY29udGV4dC5nZXRSZXNvbHZhYmxlKHRva2VuKTtcbiAgICAgICAgaWYgKHJlc29sdmFibGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQuZ2V0UG9saWN5KHJlc29sdmFibGUpLmFzeW5jID09PSAnTk9XQUlUJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZhYmxlLmdldCh0aGlzLmNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyZXNvbHZhYmxlLnJlc29sdmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNvbHZhYmxlIGFzeW5jIC5nZXQoKSBub3QgY29tcGxldGU6JyArIHN0cmluZ3NfMS5zdHJpbmdpZnkocmVzb2x2YWJsZS50b2tlbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmFibGUuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXROYXRpdmUodG9rZW4pO1xuICAgIH07XG4gICAgVUlJbmplY3RvckltcGwucHJvdG90eXBlLmdldEFzeW5jID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIHZhciByZXNvbHZhYmxlID0gdGhpcy5jb250ZXh0LmdldFJlc29sdmFibGUodG9rZW4pO1xuICAgICAgICBpZiAocmVzb2x2YWJsZSlcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZhYmxlLmdldCh0aGlzLmNvbnRleHQpO1xuICAgICAgICByZXR1cm4gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEud2hlbih0aGlzLm5hdGl2ZS5nZXQodG9rZW4pKTtcbiAgICB9O1xuICAgIFVJSW5qZWN0b3JJbXBsLnByb3RvdHlwZS5nZXROYXRpdmUgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmF0aXZlICYmIHRoaXMubmF0aXZlLmdldCh0b2tlbik7XG4gICAgfTtcbiAgICByZXR1cm4gVUlJbmplY3RvckltcGw7XG59KCkpO1xuXG59LHtcIi4uL2NvbW1vblwiOjcsXCIuLi9jb21tb24vY29tbW9uXCI6MyxcIi4uL2NvbW1vbi9jb3Jlc2VydmljZXNcIjo0LFwiLi4vY29tbW9uL2hvZlwiOjYsXCIuLi9jb21tb24vc3RyaW5nc1wiOjEwLFwiLi4vY29tbW9uL3RyYWNlXCI6MTEsXCIuLi9wYXRoL3BhdGhVdGlsc1wiOjMyLFwiLi9pbnRlcmZhY2VcIjozNCxcIi4vcmVzb2x2YWJsZVwiOjM1fV0sMzc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQHB1YmxpY2FwaSBAbW9kdWxlIGNvcmUgKi8gLyoqICovXG52YXIgdXJsTWF0Y2hlckZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuL3VybC91cmxNYXRjaGVyRmFjdG9yeVwiKTtcbnZhciB1cmxSb3V0ZXJfMSA9IHJlcXVpcmUoXCIuL3VybC91cmxSb3V0ZXJcIik7XG52YXIgdHJhbnNpdGlvblNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL3RyYW5zaXRpb24vdHJhbnNpdGlvblNlcnZpY2VcIik7XG52YXIgdmlld18xID0gcmVxdWlyZShcIi4vdmlldy92aWV3XCIpO1xudmFyIHN0YXRlUmVnaXN0cnlfMSA9IHJlcXVpcmUoXCIuL3N0YXRlL3N0YXRlUmVnaXN0cnlcIik7XG52YXIgc3RhdGVTZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi9zdGF0ZS9zdGF0ZVNlcnZpY2VcIik7XG52YXIgZ2xvYmFsc18xID0gcmVxdWlyZShcIi4vZ2xvYmFsc1wiKTtcbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuL2NvbW1vbi9jb21tb25cIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4vY29tbW9uL3ByZWRpY2F0ZXNcIik7XG52YXIgdXJsU2VydmljZV8xID0gcmVxdWlyZShcIi4vdXJsL3VybFNlcnZpY2VcIik7XG52YXIgdHJhY2VfMSA9IHJlcXVpcmUoXCIuL2NvbW1vbi90cmFjZVwiKTtcbnZhciBjb21tb25fMiA9IHJlcXVpcmUoXCIuL2NvbW1vblwiKTtcbi8qKiBAaGlkZGVuICovXG52YXIgX3JvdXRlckluc3RhbmNlID0gMDtcbi8qKiBAaGlkZGVuICovXG52YXIgbG9jU3ZjRm5zID0gWyd1cmwnLCAncGF0aCcsICdzZWFyY2gnLCAnaGFzaCcsICdvbkNoYW5nZSddO1xuLyoqIEBoaWRkZW4gKi9cbnZhciBsb2NDZmdGbnMgPSBbJ3BvcnQnLCAncHJvdG9jb2wnLCAnaG9zdCcsICdiYXNlSHJlZicsICdodG1sNU1vZGUnLCAnaGFzaFByZWZpeCddO1xuLyoqIEBoaWRkZW4gKi9cbnZhciBsb2NhdGlvblNlcnZpY2VTdHViID0gY29tbW9uXzIubWFrZVN0dWIoJ0xvY2F0aW9uU2VydmljZXMnLCBsb2NTdmNGbnMpO1xuLyoqIEBoaWRkZW4gKi9cbnZhciBsb2NhdGlvbkNvbmZpZ1N0dWIgPSBjb21tb25fMi5tYWtlU3R1YignTG9jYXRpb25Db25maWcnLCBsb2NDZmdGbnMpO1xuLyoqXG4gKiBUaGUgbWFzdGVyIGNsYXNzIHVzZWQgdG8gaW5zdGFudGlhdGUgYW4gaW5zdGFuY2Ugb2YgVUktUm91dGVyLlxuICpcbiAqIFVJLVJvdXRlciAoZm9yIGVhY2ggc3BlY2lmaWMgZnJhbWV3b3JrKSB3aWxsIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGR1cmluZyBib290c3RyYXAuXG4gKiBUaGlzIGNsYXNzIGluc3RhbnRpYXRlcyBhbmQgd2lyZXMgdGhlIFVJLVJvdXRlciBzZXJ2aWNlcyB0b2dldGhlci5cbiAqXG4gKiBBZnRlciBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgVUlSb3V0ZXIgY2xhc3MgaXMgY3JlYXRlZCwgaXQgc2hvdWxkIGJlIGNvbmZpZ3VyZWQgZm9yIHlvdXIgYXBwLlxuICogRm9yIGluc3RhbmNlLCBhcHAgc3RhdGVzIHNob3VsZCBiZSByZWdpc3RlcmVkIHdpdGggdGhlIFtbVUlSb3V0ZXIuc3RhdGVSZWdpc3RyeV1dLlxuICpcbiAqIC0tLVxuICpcbiAqIE5vcm1hbGx5IHRoZSBmcmFtZXdvcmsgY29kZSB3aWxsIGJvb3RzdHJhcCBVSS1Sb3V0ZXIuXG4gKiBJZiB5b3UgYXJlIGJvb3RzdHJhcHBpbmcgVUlSb3V0ZXIgbWFudWFsbHksIHRlbGwgaXQgdG8gbW9uaXRvciB0aGUgVVJMIGJ5IGNhbGxpbmdcbiAqIFtbVXJsU2VydmljZS5saXN0ZW5dXSB0aGVuIFtbVXJsU2VydmljZS5zeW5jXV0uXG4gKi9cbnZhciBVSVJvdXRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGBVSVJvdXRlcmAgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbG9jYXRpb25TZXJ2aWNlIGEgW1tMb2NhdGlvblNlcnZpY2VzXV0gaW1wbGVtZW50YXRpb25cbiAgICAgKiBAcGFyYW0gbG9jYXRpb25Db25maWcgYSBbW0xvY2F0aW9uQ29uZmlnXV0gaW1wbGVtZW50YXRpb25cbiAgICAgKiBAaW50ZXJuYWxhcGlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBVSVJvdXRlcihsb2NhdGlvblNlcnZpY2UsIGxvY2F0aW9uQ29uZmlnKSB7XG4gICAgICAgIGlmIChsb2NhdGlvblNlcnZpY2UgPT09IHZvaWQgMCkgeyBsb2NhdGlvblNlcnZpY2UgPSBsb2NhdGlvblNlcnZpY2VTdHViOyB9XG4gICAgICAgIGlmIChsb2NhdGlvbkNvbmZpZyA9PT0gdm9pZCAwKSB7IGxvY2F0aW9uQ29uZmlnID0gbG9jYXRpb25Db25maWdTdHViOyB9XG4gICAgICAgIHRoaXMubG9jYXRpb25TZXJ2aWNlID0gbG9jYXRpb25TZXJ2aWNlO1xuICAgICAgICB0aGlzLmxvY2F0aW9uQ29uZmlnID0gbG9jYXRpb25Db25maWc7XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuJGlkID0gX3JvdXRlckluc3RhbmNlKys7XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuX2Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuX2Rpc3Bvc2FibGVzID0gW107XG4gICAgICAgIC8qKiBQcm92aWRlcyB0cmFjZSBpbmZvcm1hdGlvbiB0byB0aGUgY29uc29sZSAqL1xuICAgICAgICB0aGlzLnRyYWNlID0gdHJhY2VfMS50cmFjZTtcbiAgICAgICAgLyoqIFByb3ZpZGVzIHNlcnZpY2VzIHJlbGF0ZWQgdG8gdWktdmlldyBzeW5jaHJvbml6YXRpb24gKi9cbiAgICAgICAgdGhpcy52aWV3U2VydmljZSA9IG5ldyB2aWV3XzEuVmlld1NlcnZpY2UodGhpcyk7XG4gICAgICAgIC8qKiBHbG9iYWwgcm91dGVyIHN0YXRlICovXG4gICAgICAgIHRoaXMuZ2xvYmFscyA9IG5ldyBnbG9iYWxzXzEuVUlSb3V0ZXJHbG9iYWxzKCk7XG4gICAgICAgIC8qKiBQcm92aWRlcyBzZXJ2aWNlcyByZWxhdGVkIHRvIFRyYW5zaXRpb25zICovXG4gICAgICAgIHRoaXMudHJhbnNpdGlvblNlcnZpY2UgPSBuZXcgdHJhbnNpdGlvblNlcnZpY2VfMS5UcmFuc2l0aW9uU2VydmljZSh0aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlcHJlY2F0ZWQgZm9yIHB1YmxpYyB1c2UuIFVzZSBbW3VybFNlcnZpY2VdXSBpbnN0ZWFkLlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBVc2UgW1t1cmxTZXJ2aWNlXV0gaW5zdGVhZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cmxNYXRjaGVyRmFjdG9yeSA9IG5ldyB1cmxNYXRjaGVyRmFjdG9yeV8xLlVybE1hdGNoZXJGYWN0b3J5KHRoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVwcmVjYXRlZCBmb3IgcHVibGljIHVzZS4gVXNlIFtbdXJsU2VydmljZV1dIGluc3RlYWQuXG4gICAgICAgICAqIEBkZXByZWNhdGVkIFVzZSBbW3VybFNlcnZpY2VdXSBpbnN0ZWFkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybFJvdXRlciA9IG5ldyB1cmxSb3V0ZXJfMS5VcmxSb3V0ZXIodGhpcyk7XG4gICAgICAgIC8qKiBQcm92aWRlcyBzZXJ2aWNlcyByZWxhdGVkIHRvIHRoZSBVUkwgKi9cbiAgICAgICAgdGhpcy51cmxTZXJ2aWNlID0gbmV3IHVybFNlcnZpY2VfMS5VcmxTZXJ2aWNlKHRoaXMpO1xuICAgICAgICAvKiogUHJvdmlkZXMgYSByZWdpc3RyeSBmb3Igc3RhdGVzLCBhbmQgcmVsYXRlZCByZWdpc3RyYXRpb24gc2VydmljZXMgKi9cbiAgICAgICAgdGhpcy5zdGF0ZVJlZ2lzdHJ5ID0gbmV3IHN0YXRlUmVnaXN0cnlfMS5TdGF0ZVJlZ2lzdHJ5KHRoaXMpO1xuICAgICAgICAvKiogUHJvdmlkZXMgc2VydmljZXMgcmVsYXRlZCB0byBzdGF0ZXMgKi9cbiAgICAgICAgdGhpcy5zdGF0ZVNlcnZpY2UgPSBuZXcgc3RhdGVTZXJ2aWNlXzEuU3RhdGVTZXJ2aWNlKHRoaXMpO1xuICAgICAgICAvKiogQGhpZGRlbiBwbHVnaW4gaW5zdGFuY2VzIGFyZSByZWdpc3RlcmVkIGhlcmUgKi9cbiAgICAgICAgdGhpcy5fcGx1Z2lucyA9IHt9O1xuICAgICAgICB0aGlzLnZpZXdTZXJ2aWNlLl9wbHVnaW5hcGkuX3Jvb3RWaWV3Q29udGV4dCh0aGlzLnN0YXRlUmVnaXN0cnkucm9vdCgpKTtcbiAgICAgICAgdGhpcy5nbG9iYWxzLiRjdXJyZW50ID0gdGhpcy5zdGF0ZVJlZ2lzdHJ5LnJvb3QoKTtcbiAgICAgICAgdGhpcy5nbG9iYWxzLmN1cnJlbnQgPSB0aGlzLmdsb2JhbHMuJGN1cnJlbnQuc2VsZjtcbiAgICAgICAgdGhpcy5kaXNwb3NhYmxlKHRoaXMuZ2xvYmFscyk7XG4gICAgICAgIHRoaXMuZGlzcG9zYWJsZSh0aGlzLnN0YXRlU2VydmljZSk7XG4gICAgICAgIHRoaXMuZGlzcG9zYWJsZSh0aGlzLnN0YXRlUmVnaXN0cnkpO1xuICAgICAgICB0aGlzLmRpc3Bvc2FibGUodGhpcy50cmFuc2l0aW9uU2VydmljZSk7XG4gICAgICAgIHRoaXMuZGlzcG9zYWJsZSh0aGlzLnVybFNlcnZpY2UpO1xuICAgICAgICB0aGlzLmRpc3Bvc2FibGUobG9jYXRpb25TZXJ2aWNlKTtcbiAgICAgICAgdGhpcy5kaXNwb3NhYmxlKGxvY2F0aW9uQ29uZmlnKTtcbiAgICB9XG4gICAgLyoqIFJlZ2lzdGVycyBhbiBvYmplY3QgdG8gYmUgbm90aWZpZWQgd2hlbiB0aGUgcm91dGVyIGlzIGRpc3Bvc2VkICovXG4gICAgVUlSb3V0ZXIucHJvdG90eXBlLmRpc3Bvc2FibGUgPSBmdW5jdGlvbiAoZGlzcG9zYWJsZSkge1xuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKGRpc3Bvc2FibGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgdGhpcyByb3V0ZXIgaW5zdGFuY2VcbiAgICAgKlxuICAgICAqIFdoZW4gY2FsbGVkLCBjbGVhcnMgcmVzb3VyY2VzIHJldGFpbmVkIGJ5IHRoZSByb3V0ZXIgYnkgY2FsbGluZyBgZGlzcG9zZSh0aGlzKWAgb24gYWxsXG4gICAgICogcmVnaXN0ZXJlZCBbW2Rpc3Bvc2FibGVdXSBvYmplY3RzLlxuICAgICAqXG4gICAgICogT3IsIGlmIGEgYGRpc3Bvc2FibGVgIG9iamVjdCBpcyBwcm92aWRlZCwgY2FsbHMgYGRpc3Bvc2UodGhpcylgIG9uIHRoYXQgb2JqZWN0IG9ubHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGlzcG9zYWJsZSAob3B0aW9uYWwpIHRoZSBkaXNwb3NhYmxlIHRvIGRpc3Bvc2VcbiAgICAgKi9cbiAgICBVSVJvdXRlci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIChkaXNwb3NhYmxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChkaXNwb3NhYmxlICYmIHByZWRpY2F0ZXNfMS5pc0Z1bmN0aW9uKGRpc3Bvc2FibGUuZGlzcG9zZSkpIHtcbiAgICAgICAgICAgIGRpc3Bvc2FibGUuZGlzcG9zZSh0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlcy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdHlwZW9mIGQuZGlzcG9zZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkLmRpc3Bvc2UoX3RoaXMpO1xuICAgICAgICAgICAgICAgIGNvbW1vbl8xLnJlbW92ZUZyb20oX3RoaXMuX2Rpc3Bvc2FibGVzLCBkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChpZ25vcmVkKSB7IH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcGx1Z2luIHRvIFVJLVJvdXRlclxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgYWRkcyBhIFVJLVJvdXRlciBQbHVnaW4uXG4gICAgICogQSBwbHVnaW4gY2FuIGVuaGFuY2Ugb3IgY2hhbmdlIFVJLVJvdXRlciBiZWhhdmlvciB1c2luZyBhbnkgcHVibGljIEFQSS5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIGltcG9ydCB7IE15Q29vbFBsdWdpbiB9IGZyb20gXCJ1aS1yb3V0ZXItY29vbC1wbHVnaW5cIjtcbiAgICAgKlxuICAgICAqIHZhciBwbHVnaW4gPSByb3V0ZXIuYWRkUGx1Z2luKE15Q29vbFBsdWdpbik7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyMgUGx1Z2luIGF1dGhvcmluZ1xuICAgICAqXG4gICAgICogQSBwbHVnaW4gaXMgc2ltcGx5IGEgY2xhc3MgKG9yIGNvbnN0cnVjdG9yIGZ1bmN0aW9uKSB3aGljaCBhY2NlcHRzIGEgW1tVSVJvdXRlcl1dIGluc3RhbmNlIGFuZCAob3B0aW9uYWxseSkgYW4gb3B0aW9ucyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBUaGUgcGx1Z2luIGNhbiBpbXBsZW1lbnQgaXRzIGZ1bmN0aW9uYWxpdHkgdXNpbmcgYW55IG9mIHRoZSBwdWJsaWMgQVBJcyBvZiBbW1VJUm91dGVyXV0uXG4gICAgICogRm9yIGV4YW1wbGUsIGl0IG1heSBjb25maWd1cmUgcm91dGVyIG9wdGlvbnMgb3IgYWRkIGEgVHJhbnNpdGlvbiBIb29rLlxuICAgICAqXG4gICAgICogVGhlIHBsdWdpbiBjYW4gdGhlbiBiZSBwdWJsaXNoZWQgYXMgYSBzZXBhcmF0ZSBtb2R1bGUuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiBleHBvcnQgY2xhc3MgTXlBdXRoUGx1Z2luIGltcGxlbWVudHMgVUlSb3V0ZXJQbHVnaW4ge1xuICAgICAqICAgY29uc3RydWN0b3Iocm91dGVyOiBVSVJvdXRlciwgb3B0aW9uczogYW55KSB7XG4gICAgICogICAgIHRoaXMubmFtZSA9IFwiTXlBdXRoUGx1Z2luXCI7XG4gICAgICogICAgIGxldCAkdHJhbnNpdGlvbnMgPSByb3V0ZXIudHJhbnNpdGlvblNlcnZpY2U7XG4gICAgICogICAgIGxldCAkc3RhdGUgPSByb3V0ZXIuc3RhdGVTZXJ2aWNlO1xuICAgICAqXG4gICAgICogICAgIGxldCBhdXRoQ3JpdGVyaWEgPSB7XG4gICAgICogICAgICAgdG86IChzdGF0ZSkgPT4gc3RhdGUuZGF0YSAmJiBzdGF0ZS5kYXRhLnJlcXVpcmVzQXV0aFxuICAgICAqICAgICB9O1xuICAgICAqXG4gICAgICogICAgIGZ1bmN0aW9uIGF1dGhIb29rKHRyYW5zaXRpb246IFRyYW5zaXRpb24pIHtcbiAgICAgKiAgICAgICBsZXQgYXV0aFNlcnZpY2UgPSB0cmFuc2l0aW9uLmluamVjdG9yKCkuZ2V0KCdBdXRoU2VydmljZScpO1xuICAgICAqICAgICAgIGlmICghYXV0aFNlcnZpY2UuaXNBdXRoZW50aWNhdGVkKCkpIHtcbiAgICAgKiAgICAgICAgIHJldHVybiAkc3RhdGUudGFyZ2V0KCdsb2dpbicpO1xuICAgICAqICAgICAgIH1cbiAgICAgKiAgICAgfVxuICAgICAqXG4gICAgICogICAgICR0cmFuc2l0aW9ucy5vblN0YXJ0KGF1dGhDcml0ZXJpYSwgYXV0aEhvb2spO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwbHVnaW4gb25lIG9mOlxuICAgICAqICAgICAgICAtIGEgcGx1Z2luIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgW1tVSVJvdXRlclBsdWdpbl1dXG4gICAgICogICAgICAgIC0gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3IgYSBbW1VJUm91dGVyUGx1Z2luXV0gd2hpY2ggYWNjZXB0cyBhIFtbVUlSb3V0ZXJdXSBpbnN0YW5jZVxuICAgICAqICAgICAgICAtIGEgZmFjdG9yeSBmdW5jdGlvbiB3aGljaCBhY2NlcHRzIGEgW1tVSVJvdXRlcl1dIGluc3RhbmNlIGFuZCByZXR1cm5zIGEgW1tVSVJvdXRlclBsdWdpbl1dIGluc3RhbmNlXG4gICAgICogQHBhcmFtIG9wdGlvbnMgb3B0aW9ucyB0byBwYXNzIHRvIHRoZSBwbHVnaW4gY2xhc3MvZmFjdG9yeVxuICAgICAqIEByZXR1cm5zIHRoZSByZWdpc3RlcmVkIHBsdWdpbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIFVJUm91dGVyLnByb3RvdHlwZS5wbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBwbHVnaW5JbnN0YW5jZSA9IG5ldyBwbHVnaW4odGhpcywgb3B0aW9ucyk7XG4gICAgICAgIGlmICghcGx1Z2luSW5zdGFuY2UubmFtZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcHJvcGVydHkgYG5hbWVgIG1pc3Npbmcgb24gcGx1Z2luOiAnICsgcGx1Z2luSW5zdGFuY2UpO1xuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKHBsdWdpbkluc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9wbHVnaW5zW3BsdWdpbkluc3RhbmNlLm5hbWVdID0gcGx1Z2luSW5zdGFuY2UpO1xuICAgIH07XG4gICAgVUlSb3V0ZXIucHJvdG90eXBlLmdldFBsdWdpbiA9IGZ1bmN0aW9uIChwbHVnaW5OYW1lKSB7XG4gICAgICAgIHJldHVybiBwbHVnaW5OYW1lID8gdGhpcy5fcGx1Z2luc1twbHVnaW5OYW1lXSA6IGNvbW1vbl8xLnZhbHVlcyh0aGlzLl9wbHVnaW5zKTtcbiAgICB9O1xuICAgIHJldHVybiBVSVJvdXRlcjtcbn0oKSk7XG5leHBvcnRzLlVJUm91dGVyID0gVUlSb3V0ZXI7XG5cbn0se1wiLi9jb21tb25cIjo3LFwiLi9jb21tb24vY29tbW9uXCI6MyxcIi4vY29tbW9uL3ByZWRpY2F0ZXNcIjo4LFwiLi9jb21tb24vdHJhY2VcIjoxMSxcIi4vZ2xvYmFsc1wiOjEyLFwiLi9zdGF0ZS9zdGF0ZVJlZ2lzdHJ5XCI6NDMsXCIuL3N0YXRlL3N0YXRlU2VydmljZVwiOjQ0LFwiLi90cmFuc2l0aW9uL3RyYW5zaXRpb25TZXJ2aWNlXCI6NTQsXCIuL3VybC91cmxNYXRjaGVyRmFjdG9yeVwiOjU4LFwiLi91cmwvdXJsUm91dGVyXCI6NTksXCIuL3VybC91cmxTZXJ2aWNlXCI6NjIsXCIuL3ZpZXcvdmlld1wiOjc2fV0sMzg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vc3RhdGVCdWlsZGVyXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3N0YXRlT2JqZWN0XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3N0YXRlTWF0Y2hlclwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zdGF0ZVF1ZXVlTWFuYWdlclwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9zdGF0ZVJlZ2lzdHJ5XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3N0YXRlU2VydmljZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90YXJnZXRTdGF0ZVwiKSk7XG5cbn0se1wiLi9zdGF0ZUJ1aWxkZXJcIjozOSxcIi4vc3RhdGVNYXRjaGVyXCI6NDAsXCIuL3N0YXRlT2JqZWN0XCI6NDEsXCIuL3N0YXRlUXVldWVNYW5hZ2VyXCI6NDIsXCIuL3N0YXRlUmVnaXN0cnlcIjo0MyxcIi4vc3RhdGVTZXJ2aWNlXCI6NDQsXCIuL3RhcmdldFN0YXRlXCI6NDV9XSwzOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAcHVibGljYXBpIEBtb2R1bGUgc3RhdGUgKi8gLyoqICovXG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbnZhciBwcmVkaWNhdGVzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIik7XG52YXIgc3RyaW5nc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9zdHJpbmdzXCIpO1xudmFyIGhvZl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9ob2ZcIik7XG52YXIgcmVzb2x2YWJsZV8xID0gcmVxdWlyZShcIi4uL3Jlc29sdmUvcmVzb2x2YWJsZVwiKTtcbnZhciBjb3Jlc2VydmljZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCIpO1xudmFyIHBhcnNlVXJsID0gZnVuY3Rpb24gKHVybCkge1xuICAgIGlmICghcHJlZGljYXRlc18xLmlzU3RyaW5nKHVybCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2YXIgcm9vdCA9IHVybC5jaGFyQXQoMCkgPT09ICdeJztcbiAgICByZXR1cm4geyB2YWw6IHJvb3QgPyB1cmwuc3Vic3RyaW5nKDEpIDogdXJsLCByb290OiByb290IH07XG59O1xuZnVuY3Rpb24gbmFtZUJ1aWxkZXIoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUubmFtZTtcbn1cbmZ1bmN0aW9uIHNlbGZCdWlsZGVyKHN0YXRlKSB7XG4gICAgc3RhdGUuc2VsZi4kJHN0YXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RhdGU7IH07XG4gICAgcmV0dXJuIHN0YXRlLnNlbGY7XG59XG5mdW5jdGlvbiBkYXRhQnVpbGRlcihzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5wYXJlbnQgJiYgc3RhdGUucGFyZW50LmRhdGEpIHtcbiAgICAgICAgc3RhdGUuZGF0YSA9IHN0YXRlLnNlbGYuZGF0YSA9IGNvbW1vbl8xLmluaGVyaXQoc3RhdGUucGFyZW50LmRhdGEsIHN0YXRlLmRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGUuZGF0YTtcbn1cbnZhciBnZXRVcmxCdWlsZGVyID0gZnVuY3Rpb24gKCR1cmxNYXRjaGVyRmFjdG9yeVByb3ZpZGVyLCByb290KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVybEJ1aWxkZXIoc3RhdGVPYmplY3QpIHtcbiAgICAgICAgdmFyIHN0YXRlRGVjID0gc3RhdGVPYmplY3Quc2VsZjtcbiAgICAgICAgLy8gRm9yIGZ1dHVyZSBzdGF0ZXMsIGkuZS4sIHN0YXRlcyB3aG9zZSBuYW1lIGVuZHMgd2l0aCBgLioqYCxcbiAgICAgICAgLy8gbWF0Y2ggYW55dGhpbmcgdGhhdCBzdGFydHMgd2l0aCB0aGUgdXJsIHByZWZpeFxuICAgICAgICBpZiAoc3RhdGVEZWMgJiYgc3RhdGVEZWMudXJsICYmIHN0YXRlRGVjLm5hbWUgJiYgc3RhdGVEZWMubmFtZS5tYXRjaCgvXFwuXFwqXFwqJC8pKSB7XG4gICAgICAgICAgICB2YXIgbmV3U3RhdGVEZWMgPSB7fTtcbiAgICAgICAgICAgIGNvbW1vbl8xLmNvcHkoc3RhdGVEZWMsIG5ld1N0YXRlRGVjKTtcbiAgICAgICAgICAgIG5ld1N0YXRlRGVjLnVybCArPSAne3JlbWFpbmRlcjphbnl9JzsgLy8gbWF0Y2ggYW55IHBhdGggKC4qKVxuICAgICAgICAgICAgc3RhdGVEZWMgPSBuZXdTdGF0ZURlYztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyZW50ID0gc3RhdGVPYmplY3QucGFyZW50O1xuICAgICAgICB2YXIgcGFyc2VkID0gcGFyc2VVcmwoc3RhdGVEZWMudXJsKTtcbiAgICAgICAgdmFyIHVybCA9ICFwYXJzZWQgPyBzdGF0ZURlYy51cmwgOiAkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlci5jb21waWxlKHBhcnNlZC52YWwsIHsgc3RhdGU6IHN0YXRlRGVjIH0pO1xuICAgICAgICBpZiAoIXVybClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoISR1cmxNYXRjaGVyRmFjdG9yeVByb3ZpZGVyLmlzTWF0Y2hlcih1cmwpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1cmwgJ1wiICsgdXJsICsgXCInIGluIHN0YXRlICdcIiArIHN0YXRlT2JqZWN0ICsgXCInXCIpO1xuICAgICAgICByZXR1cm4gcGFyc2VkICYmIHBhcnNlZC5yb290ID8gdXJsIDogKChwYXJlbnQgJiYgcGFyZW50Lm5hdmlnYWJsZSkgfHwgcm9vdCgpKS51cmwuYXBwZW5kKHVybCk7XG4gICAgfTtcbn07XG52YXIgZ2V0TmF2aWdhYmxlQnVpbGRlciA9IGZ1bmN0aW9uIChpc1Jvb3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbmF2aWdhYmxlQnVpbGRlcihzdGF0ZSkge1xuICAgICAgICByZXR1cm4gIWlzUm9vdChzdGF0ZSkgJiYgc3RhdGUudXJsID8gc3RhdGUgOiBzdGF0ZS5wYXJlbnQgPyBzdGF0ZS5wYXJlbnQubmF2aWdhYmxlIDogbnVsbDtcbiAgICB9O1xufTtcbnZhciBnZXRQYXJhbXNCdWlsZGVyID0gZnVuY3Rpb24gKHBhcmFtRmFjdG9yeSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBwYXJhbXNCdWlsZGVyKHN0YXRlKSB7XG4gICAgICAgIHZhciBtYWtlQ29uZmlnUGFyYW0gPSBmdW5jdGlvbiAoY29uZmlnLCBpZCkgeyByZXR1cm4gcGFyYW1GYWN0b3J5LmZyb21Db25maWcoaWQsIG51bGwsIHN0YXRlLnNlbGYpOyB9O1xuICAgICAgICB2YXIgdXJsUGFyYW1zID0gKHN0YXRlLnVybCAmJiBzdGF0ZS51cmwucGFyYW1ldGVycyh7IGluaGVyaXQ6IGZhbHNlIH0pKSB8fCBbXTtcbiAgICAgICAgdmFyIG5vblVybFBhcmFtcyA9IGNvbW1vbl8xLnZhbHVlcyhjb21tb25fMS5tYXBPYmooY29tbW9uXzEub21pdChzdGF0ZS5wYXJhbXMgfHwge30sIHVybFBhcmFtcy5tYXAoaG9mXzEucHJvcCgnaWQnKSkpLCBtYWtlQ29uZmlnUGFyYW0pKTtcbiAgICAgICAgcmV0dXJuIHVybFBhcmFtc1xuICAgICAgICAgICAgLmNvbmNhdChub25VcmxQYXJhbXMpXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChwKSB7IHJldHVybiBbcC5pZCwgcF07IH0pXG4gICAgICAgICAgICAucmVkdWNlKGNvbW1vbl8xLmFwcGx5UGFpcnMsIHt9KTtcbiAgICB9O1xufTtcbmZ1bmN0aW9uIHBhdGhCdWlsZGVyKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLnBhcmVudCA/IHN0YXRlLnBhcmVudC5wYXRoLmNvbmNhdChzdGF0ZSkgOiAvKnJvb3QqLyBbc3RhdGVdO1xufVxuZnVuY3Rpb24gaW5jbHVkZXNCdWlsZGVyKHN0YXRlKSB7XG4gICAgdmFyIGluY2x1ZGVzID0gc3RhdGUucGFyZW50ID8gY29tbW9uXzEuZXh0ZW5kKHt9LCBzdGF0ZS5wYXJlbnQuaW5jbHVkZXMpIDoge307XG4gICAgaW5jbHVkZXNbc3RhdGUubmFtZV0gPSB0cnVlO1xuICAgIHJldHVybiBpbmNsdWRlcztcbn1cbi8qKlxuICogVGhpcyBpcyBhIFtbU3RhdGVCdWlsZGVyLmJ1aWxkZXJdXSBmdW5jdGlvbiBmb3IgdGhlIGByZXNvbHZlOmAgYmxvY2sgb24gYSBbW1N0YXRlRGVjbGFyYXRpb25dXS5cbiAqXG4gKiBXaGVuIHRoZSBbW1N0YXRlQnVpbGRlcl1dIGJ1aWxkcyBhIFtbU3RhdGVPYmplY3RdXSBvYmplY3QgZnJvbSBhIHJhdyBbW1N0YXRlRGVjbGFyYXRpb25dXSwgdGhpcyBidWlsZGVyXG4gKiB2YWxpZGF0ZXMgdGhlIGByZXNvbHZlYCBwcm9wZXJ0eSBhbmQgY29udmVydHMgaXQgdG8gYSBbW1Jlc29sdmFibGVdXSBhcnJheS5cbiAqXG4gKiByZXNvbHZlOiBpbnB1dCB2YWx1ZSBjYW4gYmU6XG4gKlxuICoge1xuICogICAvLyBhbmFseXplZCBidXQgbm90IGluamVjdGVkXG4gKiAgIG15Rm9vUmVzb2x2ZTogZnVuY3Rpb24oKSB7IHJldHVybiBcIm15Rm9vRGF0YVwiOyB9LFxuICpcbiAqICAgLy8gZnVuY3Rpb24udG9TdHJpbmcoKSBwYXJzZWQsIFwiRGVwZW5kZW5jeU5hbWVcIiBkZXAgYXMgc3RyaW5nIChub3QgbWluLXNhZmUpXG4gKiAgIG15QmFyUmVzb2x2ZTogZnVuY3Rpb24oRGVwZW5kZW5jeU5hbWUpIHsgcmV0dXJuIERlcGVuZGVuY3lOYW1lLmZldGNoU29tZXRoaW5nQXNQcm9taXNlKCkgfSxcbiAqXG4gKiAgIC8vIEFycmF5IHNwbGl0OyBcIkRlcGVuZGVuY3lOYW1lXCIgZGVwIGFzIHN0cmluZ1xuICogICBteUJhelJlc29sdmU6IFsgXCJEZXBlbmRlbmN5TmFtZVwiLCBmdW5jdGlvbihkZXApIHsgcmV0dXJuIGRlcC5mZXRjaFNvbWV0aGluZ0FzUHJvbWlzZSgpIH0sXG4gKlxuICogICAvLyBBcnJheSBzcGxpdDsgRGVwZW5kZW5jeVR5cGUgZGVwIGFzIHRva2VuIChjb21wYXJlZCB1c2luZyA9PT0pXG4gKiAgIG15UXV4UmVzb2x2ZTogWyBEZXBlbmRlbmN5VHlwZSwgZnVuY3Rpb24oZGVwKSB7IHJldHVybiBkZXAuZmV0Y2hTb21ldGluZ0FzUHJvbWlzZSgpIH0sXG4gKlxuICogICAvLyB2YWwuJGluamVjdCB1c2VkIGFzIGRlcHNcbiAqICAgLy8gd2hlcmU6XG4gKiAgIC8vICAgICBjb3JnZVJlc29sdmUuJGluamVjdCA9IFtcIkRlcGVuZGVuY3lOYW1lXCJdO1xuICogICAvLyAgICAgZnVuY3Rpb24gY29yZ2VSZXNvbHZlKGRlcCkgeyBkZXAuZmV0Y2hTb21ldGluZ0FzUHJvbWlzZSgpIH1cbiAqICAgLy8gdGhlbiBcIkRlcGVuZGVuY3lOYW1lXCIgZGVwIGFzIHN0cmluZ1xuICogICBteUNvcmdlUmVzb2x2ZTogY29yZ2VSZXNvbHZlLFxuICpcbiAqICAvLyBpbmplY3Qgc2VydmljZSBieSBuYW1lXG4gKiAgLy8gV2hlbiBhIHN0cmluZyBpcyBmb3VuZCwgZGVzdWdhciBjcmVhdGluZyBhIHJlc29sdmUgdGhhdCBpbmplY3RzIHRoZSBuYW1lZCBzZXJ2aWNlXG4gKiAgIG15R3JhdWx0UmVzb2x2ZTogXCJTb21lU2VydmljZVwiXG4gKiB9XG4gKlxuICogb3I6XG4gKlxuICogW1xuICogICBuZXcgUmVzb2x2YWJsZShcIm15Rm9vUmVzb2x2ZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFwibXlGb29EYXRhXCIgfSksXG4gKiAgIG5ldyBSZXNvbHZhYmxlKFwibXlCYXJSZXNvbHZlXCIsIGZ1bmN0aW9uKGRlcCkgeyByZXR1cm4gZGVwLmZldGNoU29tZXRoaW5nQXNQcm9taXNlKCkgfSwgWyBcIkRlcGVuZGVuY3lOYW1lXCIgXSksXG4gKiAgIHsgcHJvdmlkZTogXCJteUJhelJlc29sdmVcIiwgdXNlRmFjdG9yeTogZnVuY3Rpb24oZGVwKSB7IGRlcC5mZXRjaFNvbWV0aGluZ0FzUHJvbWlzZSgpIH0sIGRlcHM6IFsgXCJEZXBlbmRlbmN5TmFtZVwiIF0gfVxuICogXVxuICovXG5mdW5jdGlvbiByZXNvbHZhYmxlc0J1aWxkZXIoc3RhdGUpIHtcbiAgICAvKiogY29udmVydCByZXNvbHZlOiB7fSBhbmQgcmVzb2x2ZVBvbGljeToge30gb2JqZWN0cyB0byBhbiBhcnJheSBvZiB0dXBsZXMgKi9cbiAgICB2YXIgb2JqZWN0czJUdXBsZXMgPSBmdW5jdGlvbiAocmVzb2x2ZU9iaiwgcmVzb2x2ZVBvbGljaWVzKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhyZXNvbHZlT2JqIHx8IHt9KS5tYXAoZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiAoe1xuICAgICAgICAgICAgdG9rZW46IHRva2VuLFxuICAgICAgICAgICAgdmFsOiByZXNvbHZlT2JqW3Rva2VuXSxcbiAgICAgICAgICAgIGRlcHM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHBvbGljeTogcmVzb2x2ZVBvbGljaWVzW3Rva2VuXSxcbiAgICAgICAgfSk7IH0pO1xuICAgIH07XG4gICAgLyoqIGZldGNoIERJIGFubm90YXRpb25zIGZyb20gYSBmdW5jdGlvbiBvciBuZzEtc3R5bGUgYXJyYXkgKi9cbiAgICB2YXIgYW5ub3RhdGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyICRpbmplY3RvciA9IGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRpbmplY3RvcjtcbiAgICAgICAgLy8gbmcxIGRvZXNuJ3QgaGF2ZSBhbiAkaW5qZWN0b3IgdW50aWwgcnVudGltZS5cbiAgICAgICAgLy8gSWYgdGhlICRpbmplY3RvciBkb2Vzbid0IGV4aXN0LCB1c2UgXCJkZWZlcnJlZFwiIGxpdGVyYWwgYXMgYVxuICAgICAgICAvLyBtYXJrZXIgaW5kaWNhdGluZyB0aGV5IHNob3VsZCBiZSBhbm5vdGF0ZWQgd2hlbiBydW50aW1lIHN0YXJ0c1xuICAgICAgICByZXR1cm4gZm5bJyRpbmplY3QnXSB8fCAoJGluamVjdG9yICYmICRpbmplY3Rvci5hbm5vdGF0ZShmbiwgJGluamVjdG9yLnN0cmljdERpKSkgfHwgJ2RlZmVycmVkJztcbiAgICB9O1xuICAgIC8qKiB0cnVlIGlmIHRoZSBvYmplY3QgaGFzIGJvdGggYHRva2VuYCBhbmQgYHJlc29sdmVGbmAsIGFuZCBpcyBwcm9iYWJseSBhIFtbUmVzb2x2ZUxpdGVyYWxdXSAqL1xuICAgIHZhciBpc1Jlc29sdmVMaXRlcmFsID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gISEob2JqLnRva2VuICYmIG9iai5yZXNvbHZlRm4pOyB9O1xuICAgIC8qKiB0cnVlIGlmIHRoZSBvYmplY3QgbG9va3MgbGlrZSBhIHByb3ZpZGUgbGl0ZXJhbCwgb3IgYSBuZzIgUHJvdmlkZXIgKi9cbiAgICB2YXIgaXNMaWtlTmcyUHJvdmlkZXIgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiAhISgob2JqLnByb3ZpZGUgfHwgb2JqLnRva2VuKSAmJiAob2JqLnVzZVZhbHVlIHx8IG9iai51c2VGYWN0b3J5IHx8IG9iai51c2VFeGlzdGluZyB8fCBvYmoudXNlQ2xhc3MpKTtcbiAgICB9O1xuICAgIC8qKiB0cnVlIGlmIHRoZSBvYmplY3QgbG9va3MgbGlrZSBhIHR1cGxlIGZyb20gb2JqMlR1cGxlcyAqL1xuICAgIHZhciBpc1R1cGxlRnJvbU9iaiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuICEhKG9iaiAmJiBvYmoudmFsICYmIChwcmVkaWNhdGVzXzEuaXNTdHJpbmcob2JqLnZhbCkgfHwgcHJlZGljYXRlc18xLmlzQXJyYXkob2JqLnZhbCkgfHwgcHJlZGljYXRlc18xLmlzRnVuY3Rpb24ob2JqLnZhbCkpKTtcbiAgICB9O1xuICAgIC8qKiBleHRyYWN0cyB0aGUgdG9rZW4gZnJvbSBhIFByb3ZpZGVyIG9yIHByb3ZpZGUgbGl0ZXJhbCAqL1xuICAgIHZhciBnZXRUb2tlbiA9IGZ1bmN0aW9uIChwKSB7IHJldHVybiBwLnByb3ZpZGUgfHwgcC50b2tlbjsgfTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmU6IEdpdmVuIGEgbGl0ZXJhbCByZXNvbHZlIG9yIHByb3ZpZGVyIG9iamVjdCwgcmV0dXJucyBhIFJlc29sdmFibGVcbiAgICB2YXIgbGl0ZXJhbDJSZXNvbHZhYmxlID0gaG9mXzEucGF0dGVybihbXG4gICAgICAgIFtob2ZfMS5wcm9wKCdyZXNvbHZlRm4nKSwgZnVuY3Rpb24gKHApIHsgcmV0dXJuIG5ldyByZXNvbHZhYmxlXzEuUmVzb2x2YWJsZShnZXRUb2tlbihwKSwgcC5yZXNvbHZlRm4sIHAuZGVwcywgcC5wb2xpY3kpOyB9XSxcbiAgICAgICAgW2hvZl8xLnByb3AoJ3VzZUZhY3RvcnknKSwgZnVuY3Rpb24gKHApIHsgcmV0dXJuIG5ldyByZXNvbHZhYmxlXzEuUmVzb2x2YWJsZShnZXRUb2tlbihwKSwgcC51c2VGYWN0b3J5LCBwLmRlcHMgfHwgcC5kZXBlbmRlbmNpZXMsIHAucG9saWN5KTsgfV0sXG4gICAgICAgIFtob2ZfMS5wcm9wKCd1c2VDbGFzcycpLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gbmV3IHJlc29sdmFibGVfMS5SZXNvbHZhYmxlKGdldFRva2VuKHApLCBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgcC51c2VDbGFzcygpOyB9LCBbXSwgcC5wb2xpY3kpOyB9XSxcbiAgICAgICAgW2hvZl8xLnByb3AoJ3VzZVZhbHVlJyksIGZ1bmN0aW9uIChwKSB7IHJldHVybiBuZXcgcmVzb2x2YWJsZV8xLlJlc29sdmFibGUoZ2V0VG9rZW4ocCksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHAudXNlVmFsdWU7IH0sIFtdLCBwLnBvbGljeSwgcC51c2VWYWx1ZSk7IH1dLFxuICAgICAgICBbaG9mXzEucHJvcCgndXNlRXhpc3RpbmcnKSwgZnVuY3Rpb24gKHApIHsgcmV0dXJuIG5ldyByZXNvbHZhYmxlXzEuUmVzb2x2YWJsZShnZXRUb2tlbihwKSwgY29tbW9uXzEuaWRlbnRpdHksIFtwLnVzZUV4aXN0aW5nXSwgcC5wb2xpY3kpOyB9XSxcbiAgICBdKTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICB2YXIgdHVwbGUyUmVzb2x2YWJsZSA9IGhvZl8xLnBhdHRlcm4oW1xuICAgICAgICBbaG9mXzEucGlwZShob2ZfMS5wcm9wKCd2YWwnKSwgcHJlZGljYXRlc18xLmlzU3RyaW5nKSwgZnVuY3Rpb24gKHR1cGxlKSB7IHJldHVybiBuZXcgcmVzb2x2YWJsZV8xLlJlc29sdmFibGUodHVwbGUudG9rZW4sIGNvbW1vbl8xLmlkZW50aXR5LCBbdHVwbGUudmFsXSwgdHVwbGUucG9saWN5KTsgfV0sXG4gICAgICAgIFtob2ZfMS5waXBlKGhvZl8xLnByb3AoJ3ZhbCcpLCBwcmVkaWNhdGVzXzEuaXNBcnJheSksIGZ1bmN0aW9uICh0dXBsZSkgeyByZXR1cm4gbmV3IHJlc29sdmFibGVfMS5SZXNvbHZhYmxlKHR1cGxlLnRva2VuLCBjb21tb25fMS50YWlsKHR1cGxlLnZhbCksIHR1cGxlLnZhbC5zbGljZSgwLCAtMSksIHR1cGxlLnBvbGljeSk7IH1dLFxuICAgICAgICBbaG9mXzEucGlwZShob2ZfMS5wcm9wKCd2YWwnKSwgcHJlZGljYXRlc18xLmlzRnVuY3Rpb24pLCBmdW5jdGlvbiAodHVwbGUpIHsgcmV0dXJuIG5ldyByZXNvbHZhYmxlXzEuUmVzb2x2YWJsZSh0dXBsZS50b2tlbiwgdHVwbGUudmFsLCBhbm5vdGF0ZSh0dXBsZS52YWwpLCB0dXBsZS5wb2xpY3kpOyB9XSxcbiAgICBdKTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICB2YXIgaXRlbTJSZXNvbHZhYmxlID0gaG9mXzEucGF0dGVybihbXG4gICAgICAgIFtob2ZfMS5pcyhyZXNvbHZhYmxlXzEuUmVzb2x2YWJsZSksIGZ1bmN0aW9uIChyKSB7IHJldHVybiByOyB9XSxcbiAgICAgICAgW2lzUmVzb2x2ZUxpdGVyYWwsIGxpdGVyYWwyUmVzb2x2YWJsZV0sXG4gICAgICAgIFtpc0xpa2VOZzJQcm92aWRlciwgbGl0ZXJhbDJSZXNvbHZhYmxlXSxcbiAgICAgICAgW2lzVHVwbGVGcm9tT2JqLCB0dXBsZTJSZXNvbHZhYmxlXSxcbiAgICAgICAgW2hvZl8xLnZhbCh0cnVlKSwgZnVuY3Rpb24gKG9iaikgeyB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmVzb2x2ZSB2YWx1ZTogJyArIHN0cmluZ3NfMS5zdHJpbmdpZnkob2JqKSk7IH0sXSxcbiAgICBdKTtcbiAgICAvLyBJZiByZXNvbHZlQmxvY2sgaXMgYWxyZWFkeSBhbiBhcnJheSwgdXNlIGl0IGFzLWlzLlxuICAgIC8vIE90aGVyd2lzZSwgYXNzdW1lIGl0J3MgYW4gb2JqZWN0IGFuZCBjb252ZXJ0IHRvIGFuIEFycmF5IG9mIHR1cGxlc1xuICAgIHZhciBkZWNsID0gc3RhdGUucmVzb2x2ZTtcbiAgICB2YXIgaXRlbXMgPSBwcmVkaWNhdGVzXzEuaXNBcnJheShkZWNsKSA/IGRlY2wgOiBvYmplY3RzMlR1cGxlcyhkZWNsLCBzdGF0ZS5yZXNvbHZlUG9saWN5IHx8IHt9KTtcbiAgICByZXR1cm4gaXRlbXMubWFwKGl0ZW0yUmVzb2x2YWJsZSk7XG59XG5leHBvcnRzLnJlc29sdmFibGVzQnVpbGRlciA9IHJlc29sdmFibGVzQnVpbGRlcjtcbi8qKlxuICogQGludGVybmFsYXBpIEEgaW50ZXJuYWwgZ2xvYmFsIHNlcnZpY2VcbiAqXG4gKiBTdGF0ZUJ1aWxkZXIgaXMgYSBmYWN0b3J5IGZvciB0aGUgaW50ZXJuYWwgW1tTdGF0ZU9iamVjdF1dIG9iamVjdHMuXG4gKlxuICogV2hlbiB5b3UgcmVnaXN0ZXIgYSBzdGF0ZSB3aXRoIHRoZSBbW1N0YXRlUmVnaXN0cnldXSwgeW91IHJlZ2lzdGVyIGEgcGxhaW4gb2xkIGphdmFzY3JpcHQgb2JqZWN0IHdoaWNoXG4gKiBjb25mb3JtcyB0byB0aGUgW1tTdGF0ZURlY2xhcmF0aW9uXV0gaW50ZXJmYWNlLiAgVGhpcyBmYWN0b3J5IHRha2VzIHRoYXQgb2JqZWN0IGFuZCBidWlsZHMgdGhlIGNvcnJlc3BvbmRpbmdcbiAqIFtbU3RhdGVPYmplY3RdXSBvYmplY3QsIHdoaWNoIGhhcyBhbiBBUEkgYW5kIGlzIHVzZWQgaW50ZXJuYWxseS5cbiAqXG4gKiBDdXN0b20gcHJvcGVydGllcyBvciBBUEkgbWF5IGJlIGFkZGVkIHRvIHRoZSBpbnRlcm5hbCBbW1N0YXRlT2JqZWN0XV0gb2JqZWN0IGJ5IHJlZ2lzdGVyaW5nIGEgZGVjb3JhdG9yIGZ1bmN0aW9uXG4gKiB1c2luZyB0aGUgW1tidWlsZGVyXV0gbWV0aG9kLlxuICovXG52YXIgU3RhdGVCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRlQnVpbGRlcihtYXRjaGVyLCB1cmxNYXRjaGVyRmFjdG9yeSkge1xuICAgICAgICB0aGlzLm1hdGNoZXIgPSBtYXRjaGVyO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciByb290ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbWF0Y2hlci5maW5kKCcnKTsgfTtcbiAgICAgICAgdmFyIGlzUm9vdCA9IGZ1bmN0aW9uIChzdGF0ZSkgeyByZXR1cm4gc3RhdGUubmFtZSA9PT0gJyc7IH07XG4gICAgICAgIGZ1bmN0aW9uIHBhcmVudEJ1aWxkZXIoc3RhdGUpIHtcbiAgICAgICAgICAgIGlmIChpc1Jvb3Qoc3RhdGUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXIuZmluZChzZWxmLnBhcmVudE5hbWUoc3RhdGUpKSB8fCByb290KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWlsZGVycyA9IHtcbiAgICAgICAgICAgIG5hbWU6IFtuYW1lQnVpbGRlcl0sXG4gICAgICAgICAgICBzZWxmOiBbc2VsZkJ1aWxkZXJdLFxuICAgICAgICAgICAgcGFyZW50OiBbcGFyZW50QnVpbGRlcl0sXG4gICAgICAgICAgICBkYXRhOiBbZGF0YUJ1aWxkZXJdLFxuICAgICAgICAgICAgLy8gQnVpbGQgYSBVUkxNYXRjaGVyIGlmIG5lY2Vzc2FyeSwgZWl0aGVyIHZpYSBhIHJlbGF0aXZlIG9yIGFic29sdXRlIFVSTFxuICAgICAgICAgICAgdXJsOiBbZ2V0VXJsQnVpbGRlcih1cmxNYXRjaGVyRmFjdG9yeSwgcm9vdCldLFxuICAgICAgICAgICAgLy8gS2VlcCB0cmFjayBvZiB0aGUgY2xvc2VzdCBhbmNlc3RvciBzdGF0ZSB0aGF0IGhhcyBhIFVSTCAoaS5lLiBpcyBuYXZpZ2FibGUpXG4gICAgICAgICAgICBuYXZpZ2FibGU6IFtnZXROYXZpZ2FibGVCdWlsZGVyKGlzUm9vdCldLFxuICAgICAgICAgICAgcGFyYW1zOiBbZ2V0UGFyYW1zQnVpbGRlcih1cmxNYXRjaGVyRmFjdG9yeS5wYXJhbUZhY3RvcnkpXSxcbiAgICAgICAgICAgIC8vIEVhY2ggZnJhbWV3b3JrLXNwZWNpZmljIHVpLXJvdXRlciBpbXBsZW1lbnRhdGlvbiBzaG91bGQgZGVmaW5lIGl0cyBvd24gYHZpZXdzYCBidWlsZGVyXG4gICAgICAgICAgICAvLyBlLmcuLCBzcmMvbmcxL3N0YXRlYnVpbGRlcnMvdmlld3MudHNcbiAgICAgICAgICAgIHZpZXdzOiBbXSxcbiAgICAgICAgICAgIC8vIEtlZXAgYSBmdWxsIHBhdGggZnJvbSB0aGUgcm9vdCBkb3duIHRvIHRoaXMgc3RhdGUgYXMgdGhpcyBpcyBuZWVkZWQgZm9yIHN0YXRlIGFjdGl2YXRpb24uXG4gICAgICAgICAgICBwYXRoOiBbcGF0aEJ1aWxkZXJdLFxuICAgICAgICAgICAgLy8gU3BlZWQgdXAgJHN0YXRlLmluY2x1ZGVzKCkgYXMgaXQncyB1c2VkIGEgbG90XG4gICAgICAgICAgICBpbmNsdWRlczogW2luY2x1ZGVzQnVpbGRlcl0sXG4gICAgICAgICAgICByZXNvbHZhYmxlczogW3Jlc29sdmFibGVzQnVpbGRlcl0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIFtbQnVpbGRlckZ1bmN0aW9uXV0gZm9yIGEgc3BlY2lmaWMgW1tTdGF0ZU9iamVjdF1dIHByb3BlcnR5IChlLmcuLCBgcGFyZW50YCwgYHVybGAsIG9yIGBwYXRoYCkuXG4gICAgICogTW9yZSB0aGFuIG9uZSBCdWlsZGVyRnVuY3Rpb24gY2FuIGJlIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBUaGUgQnVpbGRlckZ1bmN0aW9uKHMpIHdpbGwgYmUgdXNlZCB0byBkZWZpbmUgdGhlIHByb3BlcnR5IG9uIGFueSBzdWJzZXF1ZW50bHkgYnVpbHQgW1tTdGF0ZU9iamVjdF1dIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgU3RhdGUgcHJvcGVydHkgYmVpbmcgcmVnaXN0ZXJlZCBmb3IuXG4gICAgICogQHBhcmFtIGZuIFRoZSBCdWlsZGVyRnVuY3Rpb24gd2hpY2ggd2lsbCBiZSB1c2VkIHRvIGJ1aWxkIHRoZSBTdGF0ZSBwcm9wZXJ0eVxuICAgICAqIEByZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggZGVyZWdpc3RlcnMgdGhlIEJ1aWxkZXJGdW5jdGlvblxuICAgICAqL1xuICAgIFN0YXRlQnVpbGRlci5wcm90b3R5cGUuYnVpbGRlciA9IGZ1bmN0aW9uIChuYW1lLCBmbikge1xuICAgICAgICB2YXIgYnVpbGRlcnMgPSB0aGlzLmJ1aWxkZXJzO1xuICAgICAgICB2YXIgYXJyYXkgPSBidWlsZGVyc1tuYW1lXSB8fCBbXTtcbiAgICAgICAgLy8gQmFja3dhcmRzIGNvbXBhdDogaWYgb25seSBvbmUgYnVpbGRlciBleGlzdHMsIHJldHVybiBpdCwgZWxzZSByZXR1cm4gd2hvbGUgYXJhcnkuXG4gICAgICAgIGlmIChwcmVkaWNhdGVzXzEuaXNTdHJpbmcobmFtZSkgJiYgIXByZWRpY2F0ZXNfMS5pc0RlZmluZWQoZm4pKVxuICAgICAgICAgICAgcmV0dXJuIGFycmF5Lmxlbmd0aCA+IDEgPyBhcnJheSA6IGFycmF5WzBdO1xuICAgICAgICBpZiAoIXByZWRpY2F0ZXNfMS5pc1N0cmluZyhuYW1lKSB8fCAhcHJlZGljYXRlc18xLmlzRnVuY3Rpb24oZm4pKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBidWlsZGVyc1tuYW1lXSA9IGFycmF5O1xuICAgICAgICBidWlsZGVyc1tuYW1lXS5wdXNoKGZuKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJ1aWxkZXJzW25hbWVdLnNwbGljZShidWlsZGVyc1tuYW1lXS5pbmRleE9mKGZuLCAxKSkgJiYgbnVsbDsgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJ1aWxkcyBhbGwgb2YgdGhlIHByb3BlcnRpZXMgb24gYW4gZXNzZW50aWFsbHkgYmxhbmsgU3RhdGUgb2JqZWN0LCByZXR1cm5pbmcgYSBTdGF0ZSBvYmplY3Qgd2hpY2ggaGFzIGFsbCBpdHNcbiAgICAgKiBwcm9wZXJ0aWVzIGFuZCBBUEkgYnVpbHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RhdGUgYW4gdW5pbml0aWFsaXplZCBTdGF0ZSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB0aGUgYnVpbHQgU3RhdGUgb2JqZWN0XG4gICAgICovXG4gICAgU3RhdGVCdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBtYXRjaGVyID0gX2EubWF0Y2hlciwgYnVpbGRlcnMgPSBfYS5idWlsZGVycztcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50TmFtZShzdGF0ZSk7XG4gICAgICAgIGlmIChwYXJlbnQgJiYgIW1hdGNoZXIuZmluZChwYXJlbnQsIHVuZGVmaW5lZCwgZmFsc2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gYnVpbGRlcnMpIHtcbiAgICAgICAgICAgIGlmICghYnVpbGRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHZhciBjaGFpbiA9IGJ1aWxkZXJzW2tleV0ucmVkdWNlKGZ1bmN0aW9uIChwYXJlbnRGbiwgc3RlcCkgeyByZXR1cm4gZnVuY3Rpb24gKF9zdGF0ZSkgeyByZXR1cm4gc3RlcChfc3RhdGUsIHBhcmVudEZuKTsgfTsgfSwgY29tbW9uXzEubm9vcCk7XG4gICAgICAgICAgICBzdGF0ZVtrZXldID0gY2hhaW4oc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9O1xuICAgIFN0YXRlQnVpbGRlci5wcm90b3R5cGUucGFyZW50TmFtZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAvLyBuYW1lID0gJ2Zvby5iYXIuYmF6LioqJ1xuICAgICAgICB2YXIgbmFtZSA9IHN0YXRlLm5hbWUgfHwgJyc7XG4gICAgICAgIC8vIHNlZ21lbnRzID0gWydmb28nLCAnYmFyJywgJ2JheicsICcuKionXVxuICAgICAgICB2YXIgc2VnbWVudHMgPSBuYW1lLnNwbGl0KCcuJyk7XG4gICAgICAgIC8vIHNlZ21lbnRzID0gWydmb28nLCAnYmFyJywgJ2JheiddXG4gICAgICAgIHZhciBsYXN0U2VnbWVudCA9IHNlZ21lbnRzLnBvcCgpO1xuICAgICAgICAvLyBzZWdtZW50cyA9IFsnZm9vJywgJ2JhciddIChpZ25vcmUgLioqIHNlZ21lbnQgZm9yIGZ1dHVyZSBzdGF0ZXMpXG4gICAgICAgIGlmIChsYXN0U2VnbWVudCA9PT0gJyoqJylcbiAgICAgICAgICAgIHNlZ21lbnRzLnBvcCgpO1xuICAgICAgICBpZiAoc2VnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3RhdGVzIHRoYXQgc3BlY2lmeSB0aGUgJ3BhcmVudDonIHByb3BlcnR5IHNob3VsZCBub3QgaGF2ZSBhICcuJyBpbiB0aGVpciBuYW1lIChcIiArIG5hbWUgKyBcIilcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAnZm9vLmJhcidcbiAgICAgICAgICAgIHJldHVybiBzZWdtZW50cy5qb2luKCcuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdGF0ZS5wYXJlbnQpXG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIHJldHVybiBwcmVkaWNhdGVzXzEuaXNTdHJpbmcoc3RhdGUucGFyZW50KSA/IHN0YXRlLnBhcmVudCA6IHN0YXRlLnBhcmVudC5uYW1lO1xuICAgIH07XG4gICAgU3RhdGVCdWlsZGVyLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciBuYW1lID0gc3RhdGUubmFtZTtcbiAgICAgICAgaWYgKG5hbWUuaW5kZXhPZignLicpICE9PSAtMSB8fCAhc3RhdGUucGFyZW50KVxuICAgICAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICAgIHZhciBwYXJlbnROYW1lID0gcHJlZGljYXRlc18xLmlzU3RyaW5nKHN0YXRlLnBhcmVudCkgPyBzdGF0ZS5wYXJlbnQgOiBzdGF0ZS5wYXJlbnQubmFtZTtcbiAgICAgICAgcmV0dXJuIHBhcmVudE5hbWUgPyBwYXJlbnROYW1lICsgJy4nICsgbmFtZSA6IG5hbWU7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGVCdWlsZGVyO1xufSgpKTtcbmV4cG9ydHMuU3RhdGVCdWlsZGVyID0gU3RhdGVCdWlsZGVyO1xuXG59LHtcIi4uL2NvbW1vbi9jb21tb25cIjozLFwiLi4vY29tbW9uL2NvcmVzZXJ2aWNlc1wiOjQsXCIuLi9jb21tb24vaG9mXCI6NixcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCI6OCxcIi4uL2NvbW1vbi9zdHJpbmdzXCI6MTAsXCIuLi9yZXNvbHZlL3Jlc29sdmFibGVcIjozNX1dLDQwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSBzdGF0ZSAqLyAvKiogKi9cbnZhciBwcmVkaWNhdGVzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIik7XG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbnZhciBTdGF0ZU1hdGNoZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGVNYXRjaGVyKF9zdGF0ZXMpIHtcbiAgICAgICAgdGhpcy5fc3RhdGVzID0gX3N0YXRlcztcbiAgICB9XG4gICAgU3RhdGVNYXRjaGVyLnByb3RvdHlwZS5pc1JlbGF0aXZlID0gZnVuY3Rpb24gKHN0YXRlTmFtZSkge1xuICAgICAgICBzdGF0ZU5hbWUgPSBzdGF0ZU5hbWUgfHwgJyc7XG4gICAgICAgIHJldHVybiBzdGF0ZU5hbWUuaW5kZXhPZignLicpID09PSAwIHx8IHN0YXRlTmFtZS5pbmRleE9mKCdeJykgPT09IDA7XG4gICAgfTtcbiAgICBTdGF0ZU1hdGNoZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAoc3RhdGVPck5hbWUsIGJhc2UsIG1hdGNoR2xvYikge1xuICAgICAgICBpZiAobWF0Y2hHbG9iID09PSB2b2lkIDApIHsgbWF0Y2hHbG9iID0gdHJ1ZTsgfVxuICAgICAgICBpZiAoIXN0YXRlT3JOYW1lICYmIHN0YXRlT3JOYW1lICE9PSAnJylcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBpc1N0ciA9IHByZWRpY2F0ZXNfMS5pc1N0cmluZyhzdGF0ZU9yTmFtZSk7XG4gICAgICAgIHZhciBuYW1lID0gaXNTdHIgPyBzdGF0ZU9yTmFtZSA6IHN0YXRlT3JOYW1lLm5hbWU7XG4gICAgICAgIGlmICh0aGlzLmlzUmVsYXRpdmUobmFtZSkpXG4gICAgICAgICAgICBuYW1lID0gdGhpcy5yZXNvbHZlUGF0aChuYW1lLCBiYXNlKTtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5fc3RhdGVzW25hbWVdO1xuICAgICAgICBpZiAoc3RhdGUgJiYgKGlzU3RyIHx8ICghaXNTdHIgJiYgKHN0YXRlID09PSBzdGF0ZU9yTmFtZSB8fCBzdGF0ZS5zZWxmID09PSBzdGF0ZU9yTmFtZSkpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU3RyICYmIG1hdGNoR2xvYikge1xuICAgICAgICAgICAgdmFyIF9zdGF0ZXMgPSBjb21tb25fMS52YWx1ZXModGhpcy5fc3RhdGVzKTtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gX3N0YXRlcy5maWx0ZXIoZnVuY3Rpb24gKF9zdGF0ZSkgeyByZXR1cm4gX3N0YXRlLl9fc3RhdGVPYmplY3RDYWNoZS5uYW1lR2xvYiAmJiBfc3RhdGUuX19zdGF0ZU9iamVjdENhY2hlLm5hbWVHbG9iLm1hdGNoZXMobmFtZSk7IH0pO1xuICAgICAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdGF0ZU1hdGNoZXIuZmluZDogRm91bmQgbXVsdGlwbGUgbWF0Y2hlcyBmb3IgXCIgKyBuYW1lICsgXCIgdXNpbmcgZ2xvYjogXCIsIG1hdGNoZXMubWFwKGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gbWF0Y2gubmFtZTsgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFN0YXRlTWF0Y2hlci5wcm90b3R5cGUucmVzb2x2ZVBhdGggPSBmdW5jdGlvbiAobmFtZSwgYmFzZSkge1xuICAgICAgICBpZiAoIWJhc2UpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyByZWZlcmVuY2UgcG9pbnQgZ2l2ZW4gZm9yIHBhdGggJ1wiICsgbmFtZSArIFwiJ1wiKTtcbiAgICAgICAgdmFyIGJhc2VTdGF0ZSA9IHRoaXMuZmluZChiYXNlKTtcbiAgICAgICAgdmFyIHNwbGl0TmFtZSA9IG5hbWUuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIHBhdGhMZW5ndGggPSBzcGxpdE5hbWUubGVuZ3RoO1xuICAgICAgICB2YXIgaSA9IDAsIGN1cnJlbnQgPSBiYXNlU3RhdGU7XG4gICAgICAgIGZvciAoOyBpIDwgcGF0aExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc3BsaXROYW1lW2ldID09PSAnJyAmJiBpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGJhc2VTdGF0ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzcGxpdE5hbWVbaV0gPT09ICdeJykge1xuICAgICAgICAgICAgICAgIGlmICghY3VycmVudC5wYXJlbnQpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhdGggJ1wiICsgbmFtZSArIFwiJyBub3QgdmFsaWQgZm9yIHN0YXRlICdcIiArIGJhc2VTdGF0ZS5uYW1lICsgXCInXCIpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWxOYW1lID0gc3BsaXROYW1lLnNsaWNlKGkpLmpvaW4oJy4nKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQubmFtZSArIChjdXJyZW50Lm5hbWUgJiYgcmVsTmFtZSA/ICcuJyA6ICcnKSArIHJlbE5hbWU7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdGVNYXRjaGVyO1xufSgpKTtcbmV4cG9ydHMuU3RhdGVNYXRjaGVyID0gU3RhdGVNYXRjaGVyO1xuXG59LHtcIi4uL2NvbW1vbi9jb21tb25cIjozLFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIjo4fV0sNDE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbnZhciBob2ZfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vaG9mXCIpO1xudmFyIGdsb2JfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vZ2xvYlwiKTtcbnZhciBwcmVkaWNhdGVzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIik7XG4vKipcbiAqIEludGVybmFsIHJlcHJlc2VudGF0aW9uIG9mIGEgVUktUm91dGVyIHN0YXRlLlxuICpcbiAqIEluc3RhbmNlcyBvZiB0aGlzIGNsYXNzIGFyZSBjcmVhdGVkIHdoZW4gYSBbW1N0YXRlRGVjbGFyYXRpb25dXSBpcyByZWdpc3RlcmVkIHdpdGggdGhlIFtbU3RhdGVSZWdpc3RyeV1dLlxuICpcbiAqIEEgcmVnaXN0ZXJlZCBbW1N0YXRlRGVjbGFyYXRpb25dXSBpcyBhdWdtZW50ZWQgd2l0aCBhIGdldHRlciAoW1tTdGF0ZURlY2xhcmF0aW9uLiQkc3RhdGVdXSkgd2hpY2ggcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyBbW1N0YXRlT2JqZWN0XV0gb2JqZWN0LlxuICpcbiAqIFRoaXMgY2xhc3MgcHJvdG90eXBhbGx5IGluaGVyaXRzIGZyb20gdGhlIGNvcnJlc3BvbmRpbmcgW1tTdGF0ZURlY2xhcmF0aW9uXV0uXG4gKiBFYWNoIG9mIGl0cyBvd24gcHJvcGVydGllcyAoaS5lLiwgYGhhc093blByb3BlcnR5YCkgYXJlIGJ1aWx0IHVzaW5nIGJ1aWxkZXJzIGZyb20gdGhlIFtbU3RhdGVCdWlsZGVyXV0uXG4gKi9cbnZhciBTdGF0ZU9iamVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIFN0YXRlLmNyZWF0ZSgpICovXG4gICAgZnVuY3Rpb24gU3RhdGVPYmplY3QoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBTdGF0ZU9iamVjdC5jcmVhdGUoY29uZmlnIHx8IHt9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgc3RhdGUgb2JqZWN0IHRvIHB1dCB0aGUgcHJpdmF0ZS9pbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIG9udG8uXG4gICAgICogVGhlIG9iamVjdCdzIHByb3RvdHlwZSBjaGFpbiBsb29rcyBsaWtlOlxuICAgICAqIChJbnRlcm5hbCBTdGF0ZSBPYmplY3QpIC0+IChDb3B5IG9mIFN0YXRlLnByb3RvdHlwZSkgLT4gKFN0YXRlIERlY2xhcmF0aW9uIG9iamVjdCkgLT4gKFN0YXRlIERlY2xhcmF0aW9uJ3MgcHJvdG90eXBlLi4uKVxuICAgICAqXG4gICAgICogQHBhcmFtIHN0YXRlRGVjbCB0aGUgdXNlci1zdXBwbGllZCBTdGF0ZSBEZWNsYXJhdGlvblxuICAgICAqIEByZXR1cm5zIHtTdGF0ZU9iamVjdH0gYW4gaW50ZXJuYWwgU3RhdGUgb2JqZWN0XG4gICAgICovXG4gICAgU3RhdGVPYmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKHN0YXRlRGVjbCkge1xuICAgICAgICBzdGF0ZURlY2wgPSBTdGF0ZU9iamVjdC5pc1N0YXRlQ2xhc3Moc3RhdGVEZWNsKSA/IG5ldyBzdGF0ZURlY2woKSA6IHN0YXRlRGVjbDtcbiAgICAgICAgdmFyIHN0YXRlID0gY29tbW9uXzEuaW5oZXJpdChjb21tb25fMS5pbmhlcml0KHN0YXRlRGVjbCwgU3RhdGVPYmplY3QucHJvdG90eXBlKSk7XG4gICAgICAgIHN0YXRlRGVjbC4kJHN0YXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RhdGU7IH07XG4gICAgICAgIHN0YXRlLnNlbGYgPSBzdGF0ZURlY2w7XG4gICAgICAgIHN0YXRlLl9fc3RhdGVPYmplY3RDYWNoZSA9IHtcbiAgICAgICAgICAgIG5hbWVHbG9iOiBnbG9iXzEuR2xvYi5mcm9tU3RyaW5nKHN0YXRlLm5hbWUpLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHByb3ZpZGVkIHBhcmFtZXRlciBpcyB0aGUgc2FtZSBzdGF0ZS5cbiAgICAgKlxuICAgICAqIENvbXBhcmVzIHRoZSBpZGVudGl0eSBvZiB0aGUgc3RhdGUgYWdhaW5zdCB0aGUgcGFzc2VkIHZhbHVlLCB3aGljaCBpcyBlaXRoZXIgYW4gb2JqZWN0XG4gICAgICogcmVmZXJlbmNlIHRvIHRoZSBhY3R1YWwgYFN0YXRlYCBpbnN0YW5jZSwgdGhlIG9yaWdpbmFsIGRlZmluaXRpb24gb2JqZWN0IHBhc3NlZCB0b1xuICAgICAqIGAkc3RhdGVQcm92aWRlci5zdGF0ZSgpYCwgb3IgdGhlIGZ1bGx5LXF1YWxpZmllZCBuYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlZiBDYW4gYmUgb25lIG9mIChhKSBhIGBTdGF0ZWAgaW5zdGFuY2UsIChiKSBhbiBvYmplY3QgdGhhdCB3YXMgcGFzc2VkXG4gICAgICogICAgICAgIGludG8gYCRzdGF0ZVByb3ZpZGVyLnN0YXRlKClgLCAoYykgdGhlIGZ1bGx5LXF1YWxpZmllZCBuYW1lIG9mIGEgc3RhdGUgYXMgYSBzdHJpbmcuXG4gICAgICogQHJldHVybnMgUmV0dXJucyBgdHJ1ZWAgaWYgYHJlZmAgbWF0Y2hlcyB0aGUgY3VycmVudCBgU3RhdGVgIGluc3RhbmNlLlxuICAgICAqL1xuICAgIFN0YXRlT2JqZWN0LnByb3RvdHlwZS5pcyA9IGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMgPT09IHJlZiB8fCB0aGlzLnNlbGYgPT09IHJlZiB8fCB0aGlzLmZxbigpID09PSByZWY7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB0aGlzIGRvZXMgbm90IHByb3Blcmx5IGhhbmRsZSBkb3Qgbm90YXRpb25cbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIGEgZG90LXNlcGFyYXRlZCBuYW1lIG9mIHRoZSBzdGF0ZS5cbiAgICAgKi9cbiAgICBTdGF0ZU9iamVjdC5wcm90b3R5cGUuZnFuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMucGFyZW50IHx8ICEodGhpcy5wYXJlbnQgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgICAgIHZhciBuYW1lID0gdGhpcy5wYXJlbnQuZnFuKCk7XG4gICAgICAgIHJldHVybiBuYW1lID8gbmFtZSArICcuJyArIHRoaXMubmFtZSA6IHRoaXMubmFtZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJvb3Qgbm9kZSBvZiB0aGlzIHN0YXRlJ3MgdHJlZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSByb290IG9mIHRoaXMgc3RhdGUncyB0cmVlLlxuICAgICAqL1xuICAgIFN0YXRlT2JqZWN0LnByb3RvdHlwZS5yb290ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LnJvb3QoKSkgfHwgdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0YXRlJ3MgYFBhcmFtYCBvYmplY3RzXG4gICAgICpcbiAgICAgKiBHZXRzIHRoZSBsaXN0IG9mIFtbUGFyYW1dXSBvYmplY3RzIG93bmVkIGJ5IHRoZSBzdGF0ZS5cbiAgICAgKiBJZiBgb3B0cy5pbmhlcml0YCBpcyB0cnVlLCBpdCBhbHNvIGluY2x1ZGVzIHRoZSBhbmNlc3RvciBzdGF0ZXMnIFtbUGFyYW1dXSBvYmplY3RzLlxuICAgICAqIElmIGBvcHRzLm1hdGNoaW5nS2V5c2AgZXhpc3RzLCByZXR1cm5zIG9ubHkgYFBhcmFtYHMgd2hvc2UgYGlkYCBpcyBhIGtleSBvbiB0aGUgYG1hdGNoaW5nS2V5c2Agb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0cyBvcHRpb25zXG4gICAgICovXG4gICAgU3RhdGVPYmplY3QucHJvdG90eXBlLnBhcmFtZXRlcnMgPSBmdW5jdGlvbiAob3B0cykge1xuICAgICAgICBvcHRzID0gY29tbW9uXzEuZGVmYXVsdHMob3B0cywgeyBpbmhlcml0OiB0cnVlLCBtYXRjaGluZ0tleXM6IG51bGwgfSk7XG4gICAgICAgIHZhciBpbmhlcml0ZWQgPSAob3B0cy5pbmhlcml0ICYmIHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LnBhcmFtZXRlcnMoKSkgfHwgW107XG4gICAgICAgIHJldHVybiBpbmhlcml0ZWRcbiAgICAgICAgICAgIC5jb25jYXQoY29tbW9uXzEudmFsdWVzKHRoaXMucGFyYW1zKSlcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiAhb3B0cy5tYXRjaGluZ0tleXMgfHwgb3B0cy5tYXRjaGluZ0tleXMuaGFzT3duUHJvcGVydHkocGFyYW0uaWQpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzaW5nbGUgW1tQYXJhbV1dIHRoYXQgaXMgb3duZWQgYnkgdGhlIHN0YXRlXG4gICAgICpcbiAgICAgKiBJZiBgb3B0cy5pbmhlcml0YCBpcyB0cnVlLCBpdCBhbHNvIHNlYXJjaGVzIHRoZSBhbmNlc3RvciBzdGF0ZXNgIFtbUGFyYW1dXXMuXG4gICAgICogQHBhcmFtIGlkIHRoZSBuYW1lIG9mIHRoZSBbW1BhcmFtXV0gdG8gcmV0dXJuXG4gICAgICogQHBhcmFtIG9wdHMgb3B0aW9uc1xuICAgICAqL1xuICAgIFN0YXRlT2JqZWN0LnByb3RvdHlwZS5wYXJhbWV0ZXIgPSBmdW5jdGlvbiAoaWQsIG9wdHMpIHtcbiAgICAgICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0ge307IH1cbiAgICAgICAgcmV0dXJuICgodGhpcy51cmwgJiYgdGhpcy51cmwucGFyYW1ldGVyKGlkLCBvcHRzKSkgfHxcbiAgICAgICAgICAgIGNvbW1vbl8xLmZpbmQoY29tbW9uXzEudmFsdWVzKHRoaXMucGFyYW1zKSwgaG9mXzEucHJvcEVxKCdpZCcsIGlkKSkgfHxcbiAgICAgICAgICAgIChvcHRzLmluaGVyaXQgJiYgdGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQucGFyYW1ldGVyKGlkKSkpO1xuICAgIH07XG4gICAgU3RhdGVPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mcW4oKTtcbiAgICB9O1xuICAgIC8qKiBQcmVkaWNhdGUgd2hpY2ggcmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgYW4gY2xhc3Mgd2l0aCBAU3RhdGUoKSBkZWNvcmF0b3IgKi9cbiAgICBTdGF0ZU9iamVjdC5pc1N0YXRlQ2xhc3MgPSBmdW5jdGlvbiAoc3RhdGVEZWNsKSB7XG4gICAgICAgIHJldHVybiBwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbihzdGF0ZURlY2wpICYmIHN0YXRlRGVjbFsnX191aVJvdXRlclN0YXRlJ10gPT09IHRydWU7XG4gICAgfTtcbiAgICAvKiogUHJlZGljYXRlIHdoaWNoIHJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGFuIGludGVybmFsIFtbU3RhdGVPYmplY3RdXSBvYmplY3QgKi9cbiAgICBTdGF0ZU9iamVjdC5pc1N0YXRlID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gcHJlZGljYXRlc18xLmlzT2JqZWN0KG9ialsnX19zdGF0ZU9iamVjdENhY2hlJ10pOyB9O1xuICAgIHJldHVybiBTdGF0ZU9iamVjdDtcbn0oKSk7XG5leHBvcnRzLlN0YXRlT2JqZWN0ID0gU3RhdGVPYmplY3Q7XG5cbn0se1wiLi4vY29tbW9uL2NvbW1vblwiOjMsXCIuLi9jb21tb24vZ2xvYlwiOjUsXCIuLi9jb21tb24vaG9mXCI6NixcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCI6OH1dLDQyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSBzdGF0ZSAqLyAvKiogKi9cbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9jb21tb25cIik7XG52YXIgc3RhdGVPYmplY3RfMSA9IHJlcXVpcmUoXCIuL3N0YXRlT2JqZWN0XCIpO1xuLyoqIEBpbnRlcm5hbGFwaSAqL1xudmFyIFN0YXRlUXVldWVNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRlUXVldWVNYW5hZ2VyKHJvdXRlciwgc3RhdGVzLCBidWlsZGVyLCBsaXN0ZW5lcnMpIHtcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gICAgICAgIHRoaXMuc3RhdGVzID0gc3RhdGVzO1xuICAgICAgICB0aGlzLmJ1aWxkZXIgPSBidWlsZGVyO1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IGxpc3RlbmVycztcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgU3RhdGVRdWV1ZU1hbmFnZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICB9O1xuICAgIFN0YXRlUXVldWVNYW5hZ2VyLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChzdGF0ZURlY2wpIHtcbiAgICAgICAgdmFyIHF1ZXVlID0gdGhpcy5xdWV1ZTtcbiAgICAgICAgdmFyIHN0YXRlID0gc3RhdGVPYmplY3RfMS5TdGF0ZU9iamVjdC5jcmVhdGUoc3RhdGVEZWNsKTtcbiAgICAgICAgdmFyIG5hbWUgPSBzdGF0ZS5uYW1lO1xuICAgICAgICBpZiAoIWNvbW1vbl8xLmlzU3RyaW5nKG5hbWUpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdGF0ZSBtdXN0IGhhdmUgYSB2YWxpZCBuYW1lJyk7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSB8fCBjb21tb25fMS5pbkFycmF5KHF1ZXVlLm1hcChjb21tb25fMS5wcm9wKCduYW1lJykpLCBuYW1lKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0YXRlICdcIiArIG5hbWUgKyBcIicgaXMgYWxyZWFkeSBkZWZpbmVkXCIpO1xuICAgICAgICBxdWV1ZS5wdXNoKHN0YXRlKTtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfTtcbiAgICBTdGF0ZVF1ZXVlTWFuYWdlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHF1ZXVlID0gX2EucXVldWUsIHN0YXRlcyA9IF9hLnN0YXRlcywgYnVpbGRlciA9IF9hLmJ1aWxkZXI7XG4gICAgICAgIHZhciByZWdpc3RlcmVkID0gW10sIC8vIHN0YXRlcyB0aGF0IGdvdCByZWdpc3RlcmVkXG4gICAgICAgIG9ycGhhbnMgPSBbXSwgLy8gc3RhdGVzIHRoYXQgZG9uJ3QgeWV0IGhhdmUgYSBwYXJlbnQgcmVnaXN0ZXJlZFxuICAgICAgICBwcmV2aW91c1F1ZXVlTGVuZ3RoID0ge307IC8vIGtlZXAgdHJhY2sgb2YgaG93IGxvbmcgdGhlIHF1ZXVlIHdoZW4gYW4gb3JwaGFuIHdhcyBmaXJzdCBlbmNvdW50ZXJlZFxuICAgICAgICB2YXIgZ2V0U3RhdGUgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gX3RoaXMuc3RhdGVzLmhhc093blByb3BlcnR5KG5hbWUpICYmIF90aGlzLnN0YXRlc1tuYW1lXTsgfTtcbiAgICAgICAgdmFyIG5vdGlmeUxpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChyZWdpc3RlcmVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIoJ3JlZ2lzdGVyZWQnLCByZWdpc3RlcmVkLm1hcChmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zZWxmOyB9KSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIHZhciBuYW1lXzEgPSBzdGF0ZS5uYW1lO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGJ1aWxkZXIuYnVpbGQoc3RhdGUpO1xuICAgICAgICAgICAgdmFyIG9ycGhhbklkeCA9IG9ycGhhbnMuaW5kZXhPZihzdGF0ZSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4aXN0aW5nU3RhdGUgPSBnZXRTdGF0ZShuYW1lXzEpO1xuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ1N0YXRlICYmIGV4aXN0aW5nU3RhdGUubmFtZSA9PT0gbmFtZV8xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0YXRlICdcIiArIG5hbWVfMSArIFwiJyBpcyBhbHJlYWR5IGRlZmluZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBleGlzdGluZ0Z1dHVyZVN0YXRlID0gZ2V0U3RhdGUobmFtZV8xICsgJy4qKicpO1xuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0Z1dHVyZVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBmdXR1cmUgc3RhdGUgb2YgdGhlIHNhbWUgbmFtZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5LmRlcmVnaXN0ZXIoZXhpc3RpbmdGdXR1cmVTdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YXRlc1tuYW1lXzFdID0gc3RhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hSb3V0ZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKG9ycGhhbklkeCA+PSAwKVxuICAgICAgICAgICAgICAgICAgICBvcnBoYW5zLnNwbGljZShvcnBoYW5JZHgsIDEpO1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyZWQucHVzaChzdGF0ZSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJldiA9IHByZXZpb3VzUXVldWVMZW5ndGhbbmFtZV8xXTtcbiAgICAgICAgICAgIHByZXZpb3VzUXVldWVMZW5ndGhbbmFtZV8xXSA9IHF1ZXVlLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChvcnBoYW5JZHggPj0gMCAmJiBwcmV2ID09PSBxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBXYWl0IHVudGlsIHR3byBjb25zZWN1dGl2ZSBpdGVyYXRpb25zIHdoZXJlIG5vIGFkZGl0aW9uYWwgc3RhdGVzIHdlcmUgZGVxdWV1ZWQgc3VjY2Vzc2Z1bGx5LlxuICAgICAgICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHJlZ2lzdGVyIG9ycGhhbmVkIHN0YXRlICcke25hbWV9J2ApO1xuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goc3RhdGUpO1xuICAgICAgICAgICAgICAgIG5vdGlmeUxpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvcnBoYW5JZHggPCAwKSB7XG4gICAgICAgICAgICAgICAgb3JwaGFucy5wdXNoKHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHF1ZXVlLnB1c2goc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIG5vdGlmeUxpc3RlbmVycygpO1xuICAgICAgICByZXR1cm4gc3RhdGVzO1xuICAgIH07XG4gICAgU3RhdGVRdWV1ZU1hbmFnZXIucHJvdG90eXBlLmF0dGFjaFJvdXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIGlmIChzdGF0ZS5hYnN0cmFjdCB8fCAhc3RhdGUudXJsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgcnVsZXNBcGkgPSB0aGlzLnJvdXRlci51cmxTZXJ2aWNlLnJ1bGVzO1xuICAgICAgICBydWxlc0FwaS5ydWxlKHJ1bGVzQXBpLnVybFJ1bGVGYWN0b3J5LmNyZWF0ZShzdGF0ZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlUXVldWVNYW5hZ2VyO1xufSgpKTtcbmV4cG9ydHMuU3RhdGVRdWV1ZU1hbmFnZXIgPSBTdGF0ZVF1ZXVlTWFuYWdlcjtcblxufSx7XCIuLi9jb21tb25cIjo3LFwiLi9zdGF0ZU9iamVjdFwiOjQxfV0sNDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG4vKiogQHB1YmxpY2FwaSBAbW9kdWxlIHN0YXRlICovIC8qKiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHN0YXRlTWF0Y2hlcl8xID0gcmVxdWlyZShcIi4vc3RhdGVNYXRjaGVyXCIpO1xudmFyIHN0YXRlQnVpbGRlcl8xID0gcmVxdWlyZShcIi4vc3RhdGVCdWlsZGVyXCIpO1xudmFyIHN0YXRlUXVldWVNYW5hZ2VyXzEgPSByZXF1aXJlKFwiLi9zdGF0ZVF1ZXVlTWFuYWdlclwiKTtcbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29tbW9uXCIpO1xudmFyIGhvZl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9ob2ZcIik7XG52YXIgU3RhdGVSZWdpc3RyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgZnVuY3Rpb24gU3RhdGVSZWdpc3RyeShyb3V0ZXIpIHtcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gICAgICAgIHRoaXMuc3RhdGVzID0ge307XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMubWF0Y2hlciA9IG5ldyBzdGF0ZU1hdGNoZXJfMS5TdGF0ZU1hdGNoZXIodGhpcy5zdGF0ZXMpO1xuICAgICAgICB0aGlzLmJ1aWxkZXIgPSBuZXcgc3RhdGVCdWlsZGVyXzEuU3RhdGVCdWlsZGVyKHRoaXMubWF0Y2hlciwgcm91dGVyLnVybE1hdGNoZXJGYWN0b3J5KTtcbiAgICAgICAgdGhpcy5zdGF0ZVF1ZXVlID0gbmV3IHN0YXRlUXVldWVNYW5hZ2VyXzEuU3RhdGVRdWV1ZU1hbmFnZXIocm91dGVyLCB0aGlzLnN0YXRlcywgdGhpcy5idWlsZGVyLCB0aGlzLmxpc3RlbmVycyk7XG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyUm9vdCgpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgU3RhdGVSZWdpc3RyeS5wcm90b3R5cGUuX3JlZ2lzdGVyUm9vdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJvb3RTdGF0ZURlZiA9IHtcbiAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgdXJsOiAnXicsXG4gICAgICAgICAgICB2aWV3czogbnVsbCxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICcjJzogeyB2YWx1ZTogbnVsbCwgdHlwZTogJ2hhc2gnLCBkeW5hbWljOiB0cnVlIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHZhciBfcm9vdCA9ICh0aGlzLl9yb290ID0gdGhpcy5zdGF0ZVF1ZXVlLnJlZ2lzdGVyKHJvb3RTdGF0ZURlZikpO1xuICAgICAgICBfcm9vdC5uYXZpZ2FibGUgPSBudWxsO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSAqL1xuICAgIFN0YXRlUmVnaXN0cnkucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3RhdGVRdWV1ZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuZ2V0KCkuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuIF90aGlzLmdldChzdGF0ZSkgJiYgX3RoaXMuZGVyZWdpc3RlcihzdGF0ZSk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTGlzdGVuIGZvciBhIFN0YXRlIFJlZ2lzdHJ5IGV2ZW50c1xuICAgICAqXG4gICAgICogQWRkcyBhIGNhbGxiYWNrIHRoYXQgaXMgaW52b2tlZCB3aGVuIHN0YXRlcyBhcmUgcmVnaXN0ZXJlZCBvciBkZXJlZ2lzdGVyZWQgd2l0aCB0aGUgU3RhdGVSZWdpc3RyeS5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIGxldCBhbGxTdGF0ZXMgPSByZWdpc3RyeS5nZXQoKTtcbiAgICAgKlxuICAgICAqIC8vIExhdGVyLCBpbnZva2UgZGVyZWdpc3RlckZuKCkgdG8gcmVtb3ZlIHRoZSBsaXN0ZW5lclxuICAgICAqIGxldCBkZXJlZ2lzdGVyRm4gPSByZWdpc3RyeS5vblN0YXRlc0NoYW5nZWQoKGV2ZW50LCBzdGF0ZXMpID0+IHtcbiAgICAgKiAgIHN3aXRjaChldmVudCkge1xuICAgICAqICAgICBjYXNlOiAncmVnaXN0ZXJlZCc6XG4gICAgICogICAgICAgc3RhdGVzLmZvckVhY2goc3RhdGUgPT4gYWxsU3RhdGVzLnB1c2goc3RhdGUpKTtcbiAgICAgKiAgICAgICBicmVhaztcbiAgICAgKiAgICAgY2FzZTogJ2RlcmVnaXN0ZXJlZCc6XG4gICAgICogICAgICAgc3RhdGVzLmZvckVhY2goc3RhdGUgPT4ge1xuICAgICAqICAgICAgICAgbGV0IGlkeCA9IGFsbFN0YXRlcy5pbmRleE9mKHN0YXRlKTtcbiAgICAgKiAgICAgICAgIGlmIChpZHggIT09IC0xKSBhbGxTdGF0ZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICogICAgICAgfSk7XG4gICAgICogICAgICAgYnJlYWs7XG4gICAgICogICB9XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgYSBjYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIHdoZW4gdGhlIHJlZ2lzdGVyZWQgc3RhdGVzIGNoYW5nZXMuXG4gICAgICogICAgICAgIFRoZSBmdW5jdGlvbiByZWNlaXZlcyB0d28gcGFyYW1ldGVycywgYGV2ZW50YCBhbmQgYHN0YXRlYC5cbiAgICAgKiAgICAgICAgU2VlIFtbU3RhdGVSZWdpc3RyeUxpc3RlbmVyXV1cbiAgICAgKiBAcmV0dXJuIGEgZnVuY3Rpb24gdGhhdCBkZXJlZ2lzdGVycyB0aGUgbGlzdGVuZXJcbiAgICAgKi9cbiAgICBTdGF0ZVJlZ2lzdHJ5LnByb3RvdHlwZS5vblN0YXRlc0NoYW5nZWQgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXJlZ2lzdGVyTGlzdGVuZXIoKSB7XG4gICAgICAgICAgICBjb21tb25fMS5yZW1vdmVGcm9tKHRoaXMubGlzdGVuZXJzKShsaXN0ZW5lcik7XG4gICAgICAgIH0uYmluZCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGltcGxpY2l0IHJvb3Qgc3RhdGVcbiAgICAgKlxuICAgICAqIEdldHMgdGhlIHJvb3Qgb2YgdGhlIHN0YXRlIHRyZWUuXG4gICAgICogVGhlIHJvb3Qgc3RhdGUgaXMgaW1wbGljaXRseSBjcmVhdGVkIGJ5IFVJLVJvdXRlci5cbiAgICAgKiBOb3RlOiB0aGlzIHJldHVybnMgdGhlIGludGVybmFsIFtbU3RhdGVPYmplY3RdXSByZXByZXNlbnRhdGlvbiwgbm90IGEgW1tTdGF0ZURlY2xhcmF0aW9uXV1cbiAgICAgKlxuICAgICAqIEByZXR1cm4gdGhlIHJvb3QgW1tTdGF0ZU9iamVjdF1dXG4gICAgICovXG4gICAgU3RhdGVSZWdpc3RyeS5wcm90b3R5cGUucm9vdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvb3Q7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgc3RhdGUgdG8gdGhlIHJlZ2lzdHJ5XG4gICAgICpcbiAgICAgKiBSZWdpc3RlcnMgYSBbW1N0YXRlRGVjbGFyYXRpb25dXSBvciBxdWV1ZXMgaXQgZm9yIHJlZ2lzdHJhdGlvbi5cbiAgICAgKlxuICAgICAqIE5vdGU6IGEgc3RhdGUgd2lsbCBiZSBxdWV1ZWQgaWYgdGhlIHN0YXRlJ3MgcGFyZW50IGlzbid0IHlldCByZWdpc3RlcmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0YXRlRGVmaW5pdGlvbiB0aGUgZGVmaW5pdGlvbiBvZiB0aGUgc3RhdGUgdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybnMgdGhlIGludGVybmFsIFtbU3RhdGVPYmplY3RdXSBvYmplY3QuXG4gICAgICogICAgICAgICAgSWYgdGhlIHN0YXRlIHdhcyBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCwgdGhlbiB0aGUgb2JqZWN0IGlzIGZ1bGx5IGJ1aWx0IChTZWU6IFtbU3RhdGVCdWlsZGVyXV0pLlxuICAgICAqICAgICAgICAgIElmIHRoZSBzdGF0ZSB3YXMgb25seSBxdWV1ZWQsIHRoZW4gdGhlIG9iamVjdCBpcyBub3QgZnVsbHkgYnVpbHQuXG4gICAgICovXG4gICAgU3RhdGVSZWdpc3RyeS5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoc3RhdGVEZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlUXVldWUucmVnaXN0ZXIoc3RhdGVEZWZpbml0aW9uKTtcbiAgICB9O1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgU3RhdGVSZWdpc3RyeS5wcm90b3R5cGUuX2RlcmVnaXN0ZXJUcmVlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhbGwgPSB0aGlzLmdldCgpLm1hcChmdW5jdGlvbiAocykgeyByZXR1cm4gcy4kJHN0YXRlKCk7IH0pO1xuICAgICAgICB2YXIgZ2V0Q2hpbGRyZW4gPSBmdW5jdGlvbiAoc3RhdGVzKSB7XG4gICAgICAgICAgICB2YXIgX2NoaWxkcmVuID0gYWxsLmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gc3RhdGVzLmluZGV4T2Yocy5wYXJlbnQpICE9PSAtMTsgfSk7XG4gICAgICAgICAgICByZXR1cm4gX2NoaWxkcmVuLmxlbmd0aCA9PT0gMCA/IF9jaGlsZHJlbiA6IF9jaGlsZHJlbi5jb25jYXQoZ2V0Q2hpbGRyZW4oX2NoaWxkcmVuKSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGdldENoaWxkcmVuKFtzdGF0ZV0pO1xuICAgICAgICB2YXIgZGVyZWdpc3RlcmVkID0gW3N0YXRlXS5jb25jYXQoY2hpbGRyZW4pLnJldmVyc2UoKTtcbiAgICAgICAgZGVyZWdpc3RlcmVkLmZvckVhY2goZnVuY3Rpb24gKF9zdGF0ZSkge1xuICAgICAgICAgICAgdmFyIHJ1bGVzQXBpID0gX3RoaXMucm91dGVyLnVybFNlcnZpY2UucnVsZXM7XG4gICAgICAgICAgICAvLyBSZW1vdmUgVVJMIHJ1bGVcbiAgICAgICAgICAgIHJ1bGVzQXBpXG4gICAgICAgICAgICAgICAgLnJ1bGVzKClcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGhvZl8xLnByb3BFcSgnc3RhdGUnLCBfc3RhdGUpKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChydWxlKSB7IHJldHVybiBydWxlc0FwaS5yZW1vdmVSdWxlKHJ1bGUpOyB9KTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBzdGF0ZSBmcm9tIHJlZ2lzdHJ5XG4gICAgICAgICAgICBkZWxldGUgX3RoaXMuc3RhdGVzW19zdGF0ZS5uYW1lXTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZXJlZ2lzdGVyZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgc3RhdGUgZnJvbSB0aGUgcmVnaXN0cnlcbiAgICAgKlxuICAgICAqIFRoaXMgcmVtb3ZlcyBhIHN0YXRlIGZyb20gdGhlIHJlZ2lzdHJ5LlxuICAgICAqIElmIHRoZSBzdGF0ZSBoYXMgY2hpbGRyZW4sIHRoZXkgYXJlIGFyZSBhbHNvIHJlbW92ZWQgZnJvbSB0aGUgcmVnaXN0cnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RhdGVPck5hbWUgdGhlIHN0YXRlJ3MgbmFtZSBvciBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICAgKiBAcmV0dXJucyB7U3RhdGVPYmplY3RbXX0gYSBsaXN0IG9mIHJlbW92ZWQgc3RhdGVzXG4gICAgICovXG4gICAgU3RhdGVSZWdpc3RyeS5wcm90b3R5cGUuZGVyZWdpc3RlciA9IGZ1bmN0aW9uIChzdGF0ZU9yTmFtZSkge1xuICAgICAgICB2YXIgX3N0YXRlID0gdGhpcy5nZXQoc3RhdGVPck5hbWUpO1xuICAgICAgICBpZiAoIV9zdGF0ZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGRlcmVnaXN0ZXIgc3RhdGU7IG5vdCBmb3VuZDogXCIgKyBzdGF0ZU9yTmFtZSk7XG4gICAgICAgIHZhciBkZXJlZ2lzdGVyZWRTdGF0ZXMgPSB0aGlzLl9kZXJlZ2lzdGVyVHJlZShfc3RhdGUuJCRzdGF0ZSgpKTtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyKCdkZXJlZ2lzdGVyZWQnLCBkZXJlZ2lzdGVyZWRTdGF0ZXMubWFwKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnNlbGY7IH0pKTsgfSk7XG4gICAgICAgIHJldHVybiBkZXJlZ2lzdGVyZWRTdGF0ZXM7XG4gICAgfTtcbiAgICBTdGF0ZVJlZ2lzdHJ5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoc3RhdGVPck5hbWUsIGJhc2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5zdGF0ZXMpLm1hcChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gX3RoaXMuc3RhdGVzW25hbWVdLnNlbGY7IH0pO1xuICAgICAgICB2YXIgZm91bmQgPSB0aGlzLm1hdGNoZXIuZmluZChzdGF0ZU9yTmFtZSwgYmFzZSk7XG4gICAgICAgIHJldHVybiAoZm91bmQgJiYgZm91bmQuc2VsZikgfHwgbnVsbDtcbiAgICB9O1xuICAgIFN0YXRlUmVnaXN0cnkucHJvdG90eXBlLmRlY29yYXRvciA9IGZ1bmN0aW9uIChuYW1lLCBmdW5jKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1aWxkZXIuYnVpbGRlcihuYW1lLCBmdW5jKTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0ZVJlZ2lzdHJ5O1xufSgpKTtcbmV4cG9ydHMuU3RhdGVSZWdpc3RyeSA9IFN0YXRlUmVnaXN0cnk7XG5cbn0se1wiLi4vY29tbW9uL2NvbW1vblwiOjMsXCIuLi9jb21tb24vaG9mXCI6NixcIi4vc3RhdGVCdWlsZGVyXCI6MzksXCIuL3N0YXRlTWF0Y2hlclwiOjQwLFwiLi9zdGF0ZVF1ZXVlTWFuYWdlclwiOjQyfV0sNDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQHB1YmxpY2FwaSBAbW9kdWxlIHN0YXRlICovIC8qKiAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xudmFyIHF1ZXVlXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3F1ZXVlXCIpO1xudmFyIGNvcmVzZXJ2aWNlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb3Jlc2VydmljZXNcIik7XG52YXIgcGF0aFV0aWxzXzEgPSByZXF1aXJlKFwiLi4vcGF0aC9wYXRoVXRpbHNcIik7XG52YXIgcGF0aE5vZGVfMSA9IHJlcXVpcmUoXCIuLi9wYXRoL3BhdGhOb2RlXCIpO1xudmFyIHRyYW5zaXRpb25TZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi4vdHJhbnNpdGlvbi90cmFuc2l0aW9uU2VydmljZVwiKTtcbnZhciByZWplY3RGYWN0b3J5XzEgPSByZXF1aXJlKFwiLi4vdHJhbnNpdGlvbi9yZWplY3RGYWN0b3J5XCIpO1xudmFyIHRhcmdldFN0YXRlXzEgPSByZXF1aXJlKFwiLi90YXJnZXRTdGF0ZVwiKTtcbnZhciBwYXJhbV8xID0gcmVxdWlyZShcIi4uL3BhcmFtcy9wYXJhbVwiKTtcbnZhciBnbG9iXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2dsb2JcIik7XG52YXIgcmVzb2x2ZUNvbnRleHRfMSA9IHJlcXVpcmUoXCIuLi9yZXNvbHZlL3Jlc29sdmVDb250ZXh0XCIpO1xudmFyIGxhenlMb2FkXzEgPSByZXF1aXJlKFwiLi4vaG9va3MvbGF6eUxvYWRcIik7XG52YXIgaG9mXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2hvZlwiKTtcbi8qKlxuICogUHJvdmlkZXMgc3RhdGUgcmVsYXRlZCBzZXJ2aWNlIGZ1bmN0aW9uc1xuICpcbiAqIFRoaXMgY2xhc3MgcHJvdmlkZXMgc2VydmljZXMgcmVsYXRlZCB0byB1aS1yb3V0ZXIgc3RhdGVzLlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBsb2NhdGVkIG9uIHRoZSBnbG9iYWwgW1tVSVJvdXRlcl1dIG9iamVjdC5cbiAqL1xudmFyIFN0YXRlU2VydmljZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQGludGVybmFsYXBpICovXG4gICAgZnVuY3Rpb24gU3RhdGVTZXJ2aWNlKC8qKiBAaGlkZGVuICovIHJvdXRlcikge1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgLyoqIEBpbnRlcm5hbGFwaSAqL1xuICAgICAgICB0aGlzLmludmFsaWRDYWxsYmFja3MgPSBbXTtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi9cbiAgICAgICAgdGhpcy5fZGVmYXVsdEVycm9ySGFuZGxlciA9IGZ1bmN0aW9uICRkZWZhdWx0RXJyb3JIYW5kbGVyKCRlcnJvciQpIHtcbiAgICAgICAgICAgIGlmICgkZXJyb3IkIGluc3RhbmNlb2YgRXJyb3IgJiYgJGVycm9yJC5zdGFjaykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJGVycm9yJCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigkZXJyb3IkLnN0YWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCRlcnJvciQgaW5zdGFuY2VvZiByZWplY3RGYWN0b3J5XzEuUmVqZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigkZXJyb3IkLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIGlmICgkZXJyb3IkLmRldGFpbCAmJiAkZXJyb3IkLmRldGFpbC5zdGFjaylcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigkZXJyb3IkLmRldGFpbC5zdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCRlcnJvciQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgZ2V0dGVycyA9IFsnY3VycmVudCcsICckY3VycmVudCcsICdwYXJhbXMnLCAndHJhbnNpdGlvbiddO1xuICAgICAgICB2YXIgYm91bmRGbnMgPSBPYmplY3Qua2V5cyhTdGF0ZVNlcnZpY2UucHJvdG90eXBlKS5maWx0ZXIoaG9mXzEubm90KGNvbW1vbl8xLmluQXJyYXkoZ2V0dGVycykpKTtcbiAgICAgICAgY29tbW9uXzEuY3JlYXRlUHJveHlGdW5jdGlvbnMoaG9mXzEudmFsKFN0YXRlU2VydmljZS5wcm90b3R5cGUpLCB0aGlzLCBob2ZfMS52YWwodGhpcyksIGJvdW5kRm5zKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlU2VydmljZS5wcm90b3R5cGUsIFwidHJhbnNpdGlvblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgW1tUcmFuc2l0aW9uXV0gY3VycmVudGx5IGluIHByb2dyZXNzIChvciBudWxsKVxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIGEgcGFzc3Rocm91Z2ggdGhyb3VnaCB0byBbW1VJUm91dGVyR2xvYmFscy50cmFuc2l0aW9uXV1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm91dGVyLmdsb2JhbHMudHJhbnNpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlU2VydmljZS5wcm90b3R5cGUsIFwicGFyYW1zXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXRlc3Qgc3VjY2Vzc2Z1bCBzdGF0ZSBwYXJhbWV0ZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgYSBwYXNzdGhyb3VnaCB0aHJvdWdoIHRvIFtbVUlSb3V0ZXJHbG9iYWxzLnBhcmFtc11dXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJvdXRlci5nbG9iYWxzLnBhcmFtcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlU2VydmljZS5wcm90b3R5cGUsIFwiY3VycmVudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCBbW1N0YXRlRGVjbGFyYXRpb25dXVxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIGEgcGFzc3Rocm91Z2ggdGhyb3VnaCB0byBbW1VJUm91dGVyR2xvYmFscy5jdXJyZW50XV1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm91dGVyLmdsb2JhbHMuY3VycmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0YXRlU2VydmljZS5wcm90b3R5cGUsIFwiJGN1cnJlbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgW1tTdGF0ZU9iamVjdF1dXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgYSBwYXNzdGhyb3VnaCB0aHJvdWdoIHRvIFtbVUlSb3V0ZXJHbG9iYWxzLiRjdXJyZW50XV1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm91dGVyLmdsb2JhbHMuJGN1cnJlbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBAaW50ZXJuYWxhcGkgKi9cbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdEVycm9ySGFuZGxlcihjb21tb25fMS5ub29wKTtcbiAgICAgICAgdGhpcy5pbnZhbGlkQ2FsbGJhY2tzID0gW107XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIGZvciB3aGVuIFtbdHJhbnNpdGlvblRvXV0gaXMgY2FsbGVkIHdpdGggYW4gaW52YWxpZCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEludm9rZXMgdGhlIFtbb25JbnZhbGlkXV0gY2FsbGJhY2tzLCBpbiBuYXR1cmFsIG9yZGVyLlxuICAgICAqIEVhY2ggY2FsbGJhY2sncyByZXR1cm4gdmFsdWUgaXMgY2hlY2tlZCBpbiBzZXF1ZW5jZSB1bnRpbCBvbmUgb2YgdGhlbSByZXR1cm5zIGFuIGluc3RhbmNlIG9mIFRhcmdldFN0YXRlLlxuICAgICAqIFRoZSByZXN1bHRzIG9mIHRoZSBjYWxsYmFja3MgYXJlIHdyYXBwZWQgaW4gJHEud2hlbigpLCBzbyB0aGUgY2FsbGJhY2tzIG1heSByZXR1cm4gcHJvbWlzZXMuXG4gICAgICpcbiAgICAgKiBJZiBhIGNhbGxiYWNrIHJldHVybnMgYW4gVGFyZ2V0U3RhdGUsIHRoZW4gaXQgaXMgdXNlZCBhcyBhcmd1bWVudHMgdG8gJHN0YXRlLnRyYW5zaXRpb25UbygpIGFuZCB0aGUgcmVzdWx0IHJldHVybmVkLlxuICAgICAqXG4gICAgICogQGludGVybmFsYXBpXG4gICAgICovXG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5faGFuZGxlSW52YWxpZFRhcmdldFN0YXRlID0gZnVuY3Rpb24gKGZyb21QYXRoLCB0b1N0YXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBmcm9tU3RhdGUgPSBwYXRoVXRpbHNfMS5QYXRoVXRpbHMubWFrZVRhcmdldFN0YXRlKHRoaXMucm91dGVyLnN0YXRlUmVnaXN0cnksIGZyb21QYXRoKTtcbiAgICAgICAgdmFyIGdsb2JhbHMgPSB0aGlzLnJvdXRlci5nbG9iYWxzO1xuICAgICAgICB2YXIgbGF0ZXN0VGhpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBnbG9iYWxzLnRyYW5zaXRpb25IaXN0b3J5LnBlZWtUYWlsKCk7IH07XG4gICAgICAgIHZhciBsYXRlc3QgPSBsYXRlc3RUaGluZygpO1xuICAgICAgICB2YXIgY2FsbGJhY2tRdWV1ZSA9IG5ldyBxdWV1ZV8xLlF1ZXVlKHRoaXMuaW52YWxpZENhbGxiYWNrcy5zbGljZSgpKTtcbiAgICAgICAgdmFyIGluamVjdG9yID0gbmV3IHJlc29sdmVDb250ZXh0XzEuUmVzb2x2ZUNvbnRleHQoZnJvbVBhdGgpLmluamVjdG9yKCk7XG4gICAgICAgIHZhciBjaGVja0ZvclJlZGlyZWN0ID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKCEocmVzdWx0IGluc3RhbmNlb2YgdGFyZ2V0U3RhdGVfMS5UYXJnZXRTdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gcmVzdWx0O1xuICAgICAgICAgICAgLy8gUmVjcmVhdGUgdGhlIFRhcmdldFN0YXRlLCBpbiBjYXNlIHRoZSBzdGF0ZSBpcyBub3cgZGVmaW5lZC5cbiAgICAgICAgICAgIHRhcmdldCA9IF90aGlzLnRhcmdldCh0YXJnZXQuaWRlbnRpZmllcigpLCB0YXJnZXQucGFyYW1zKCksIHRhcmdldC5vcHRpb25zKCkpO1xuICAgICAgICAgICAgaWYgKCF0YXJnZXQudmFsaWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3RGYWN0b3J5XzEuUmVqZWN0aW9uLmludmFsaWQodGFyZ2V0LmVycm9yKCkpLnRvUHJvbWlzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhdGVzdFRoaW5nKCkgIT09IGxhdGVzdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3RGYWN0b3J5XzEuUmVqZWN0aW9uLnN1cGVyc2VkZWQoKS50b1Byb21pc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfdGhpcy50cmFuc2l0aW9uVG8odGFyZ2V0LmlkZW50aWZpZXIoKSwgdGFyZ2V0LnBhcmFtcygpLCB0YXJnZXQub3B0aW9ucygpKTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gaW52b2tlTmV4dENhbGxiYWNrKCkge1xuICAgICAgICAgICAgdmFyIG5leHRDYWxsYmFjayA9IGNhbGxiYWNrUXVldWUuZGVxdWV1ZSgpO1xuICAgICAgICAgICAgaWYgKG5leHRDYWxsYmFjayA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3RGYWN0b3J5XzEuUmVqZWN0aW9uLmludmFsaWQodG9TdGF0ZS5lcnJvcigpKS50b1Byb21pc2UoKTtcbiAgICAgICAgICAgIHZhciBjYWxsYmFja1Jlc3VsdCA9IGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxLndoZW4obmV4dENhbGxiYWNrKHRvU3RhdGUsIGZyb21TdGF0ZSwgaW5qZWN0b3IpKTtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFja1Jlc3VsdC50aGVuKGNoZWNrRm9yUmVkaXJlY3QpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgeyByZXR1cm4gcmVzdWx0IHx8IGludm9rZU5leHRDYWxsYmFjaygpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW52b2tlTmV4dENhbGxiYWNrKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYW4gSW52YWxpZCBTdGF0ZSBoYW5kbGVyXG4gICAgICpcbiAgICAgKiBSZWdpc3RlcnMgYSBbW09uSW52YWxpZENhbGxiYWNrXV0gZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB3aGVuIFtbU3RhdGVTZXJ2aWNlLnRyYW5zaXRpb25Ub11dXG4gICAgICogaGFzIGJlZW4gY2FsbGVkIHdpdGggYW4gaW52YWxpZCBzdGF0ZSByZWZlcmVuY2UgcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogc3RhdGVTZXJ2aWNlLm9uSW52YWxpZChmdW5jdGlvbih0bywgZnJvbSwgaW5qZWN0b3IpIHtcbiAgICAgKiAgIGlmICh0by5uYW1lKCkgPT09ICdmb28nKSB7XG4gICAgICogICAgIGxldCBsYXp5TG9hZGVyID0gaW5qZWN0b3IuZ2V0KCdMYXp5TG9hZFNlcnZpY2UnKTtcbiAgICAgKiAgICAgcmV0dXJuIGxhenlMb2FkZXIubG9hZCgnZm9vJylcbiAgICAgKiAgICAgICAgIC50aGVuKCgpID0+IHN0YXRlU2VydmljZS50YXJnZXQoJ2ZvbycpKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIGludm9rZWQgd2hlbiB0aGUgdG9TdGF0ZSBpcyBpbnZhbGlkXG4gICAgICogICBUaGlzIGZ1bmN0aW9uIHJlY2VpdmVzIHRoZSAoaW52YWxpZCkgdG9TdGF0ZSwgdGhlIGZyb21TdGF0ZSwgYW5kIGFuIGluamVjdG9yLlxuICAgICAqICAgVGhlIGZ1bmN0aW9uIG1heSBvcHRpb25hbGx5IHJldHVybiBhIFtbVGFyZ2V0U3RhdGVdXSBvciBhIFByb21pc2UgZm9yIGEgVGFyZ2V0U3RhdGUuXG4gICAgICogICBJZiBvbmUgaXMgcmV0dXJuZWQsIGl0IGlzIHRyZWF0ZWQgYXMgYSByZWRpcmVjdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggZGVyZWdpc3RlcnMgdGhlIGNhbGxiYWNrXG4gICAgICovXG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5vbkludmFsaWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5pbnZhbGlkQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVyZWdpc3Rlckxpc3RlbmVyKCkge1xuICAgICAgICAgICAgY29tbW9uXzEucmVtb3ZlRnJvbSh0aGlzLmludmFsaWRDYWxsYmFja3MpKGNhbGxiYWNrKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVsb2FkcyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAqXG4gICAgICogQSBtZXRob2QgdGhhdCBmb3JjZSByZWxvYWRzIHRoZSBjdXJyZW50IHN0YXRlLCBvciBhIHBhcnRpYWwgc3RhdGUgaGllcmFyY2h5LlxuICAgICAqIEFsbCByZXNvbHZlcyBhcmUgcmUtcmVzb2x2ZWQsIGFuZCBjb21wb25lbnRzIHJlaW5zdGFudGlhdGVkLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogbGV0IGFwcCBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyd1aS5yb3V0ZXInXSk7XG4gICAgICpcbiAgICAgKiBhcHAuY29udHJvbGxlcignY3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSkge1xuICAgICAqICAgJHNjb3BlLnJlbG9hZCA9IGZ1bmN0aW9uKCl7XG4gICAgICogICAgICRzdGF0ZS5yZWxvYWQoKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIE5vdGU6IGByZWxvYWQoKWAgaXMganVzdCBhbiBhbGlhcyBmb3I6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICRzdGF0ZS50cmFuc2l0aW9uVG8oJHN0YXRlLmN1cnJlbnQsICRzdGF0ZS5wYXJhbXMsIHtcbiAgICAgKiAgIHJlbG9hZDogdHJ1ZSwgaW5oZXJpdDogZmFsc2VcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSByZWxvYWRTdGF0ZSBBIHN0YXRlIG5hbWUgb3IgYSBzdGF0ZSBvYmplY3QuXG4gICAgICogICAgSWYgcHJlc2VudCwgdGhpcyBzdGF0ZSBhbmQgYWxsIGl0cyBjaGlsZHJlbiB3aWxsIGJlIHJlbG9hZGVkLCBidXQgYW5jZXN0b3JzIHdpbGwgbm90IHJlbG9hZC5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vYXNzdW1pbmcgYXBwIGFwcGxpY2F0aW9uIGNvbnNpc3RzIG9mIDMgc3RhdGVzOiAnY29udGFjdHMnLCAnY29udGFjdHMuZGV0YWlsJywgJ2NvbnRhY3RzLmRldGFpbC5pdGVtJ1xuICAgICAqIC8vYW5kIGN1cnJlbnQgc3RhdGUgaXMgJ2NvbnRhY3RzLmRldGFpbC5pdGVtJ1xuICAgICAqIGxldCBhcHAgYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsndWkucm91dGVyJ10pO1xuICAgICAqXG4gICAgICogYXBwLmNvbnRyb2xsZXIoJ2N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGUpIHtcbiAgICAgKiAgICRzY29wZS5yZWxvYWQgPSBmdW5jdGlvbigpe1xuICAgICAqICAgICAvL3dpbGwgcmVsb2FkICdjb250YWN0LmRldGFpbCcgYW5kIG5lc3RlZCAnY29udGFjdC5kZXRhaWwuaXRlbScgc3RhdGVzXG4gICAgICogICAgICRzdGF0ZS5yZWxvYWQoJ2NvbnRhY3QuZGV0YWlsJyk7XG4gICAgICogICB9XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgcmVwcmVzZW50aW5nIHRoZSBzdGF0ZSBvZiB0aGUgbmV3IHRyYW5zaXRpb24uIFNlZSBbW1N0YXRlU2VydmljZS5nb11dXG4gICAgICovXG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5yZWxvYWQgPSBmdW5jdGlvbiAocmVsb2FkU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNpdGlvblRvKHRoaXMuY3VycmVudCwgdGhpcy5wYXJhbXMsIHtcbiAgICAgICAgICAgIHJlbG9hZDogcHJlZGljYXRlc18xLmlzRGVmaW5lZChyZWxvYWRTdGF0ZSkgPyByZWxvYWRTdGF0ZSA6IHRydWUsXG4gICAgICAgICAgICBpbmhlcml0OiBmYWxzZSxcbiAgICAgICAgICAgIG5vdGlmeTogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNpdGlvbiB0byBhIGRpZmZlcmVudCBzdGF0ZSBhbmQvb3IgcGFyYW1ldGVyc1xuICAgICAqXG4gICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciB0cmFuc2l0aW9uaW5nIHRvIGEgbmV3IHN0YXRlLlxuICAgICAqXG4gICAgICogYCRzdGF0ZS5nb2AgY2FsbHMgYCRzdGF0ZS50cmFuc2l0aW9uVG9gIGludGVybmFsbHkgYnV0IGF1dG9tYXRpY2FsbHkgc2V0cyBvcHRpb25zIHRvXG4gICAgICogYHsgbG9jYXRpb246IHRydWUsIGluaGVyaXQ6IHRydWUsIHJlbGF0aXZlOiByb3V0ZXIuZ2xvYmFscy4kY3VycmVudCwgbm90aWZ5OiB0cnVlIH1gLlxuICAgICAqIFRoaXMgYWxsb3dzIHlvdSB0byB1c2UgZWl0aGVyIGFuIGFic29sdXRlIG9yIHJlbGF0aXZlIGB0b2AgYXJndW1lbnQgKGJlY2F1c2Ugb2YgYHJlbGF0aXZlOiByb3V0ZXIuZ2xvYmFscy4kY3VycmVudGApLlxuICAgICAqIEl0IGFsc28gYWxsb3dzIHlvdSB0byBzcGVjaWZ5ICogb25seSB0aGUgcGFyYW1ldGVycyB5b3UnZCBsaWtlIHRvIHVwZGF0ZSwgd2hpbGUgbGV0dGluZyB1bnNwZWNpZmllZCBwYXJhbWV0ZXJzXG4gICAgICogaW5oZXJpdCBmcm9tIHRoZSBjdXJyZW50IHBhcmFtZXRlciB2YWx1ZXMgKGJlY2F1c2Ugb2YgYGluaGVyaXQ6IHRydWVgKS5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIGxldCBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyd1aS5yb3V0ZXInXSk7XG4gICAgICpcbiAgICAgKiBhcHAuY29udHJvbGxlcignY3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSkge1xuICAgICAqICAgJHNjb3BlLmNoYW5nZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAqICAgICAkc3RhdGUuZ28oJ2NvbnRhY3QuZGV0YWlsJyk7XG4gICAgICogICB9O1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHRvIEFic29sdXRlIHN0YXRlIG5hbWUsIHN0YXRlIG9iamVjdCwgb3IgcmVsYXRpdmUgc3RhdGUgcGF0aCAocmVsYXRpdmUgdG8gY3VycmVudCBzdGF0ZSkuXG4gICAgICpcbiAgICAgKiBTb21lIGV4YW1wbGVzOlxuICAgICAqXG4gICAgICogLSBgJHN0YXRlLmdvKCdjb250YWN0LmRldGFpbCcpYCAtIHdpbGwgZ28gdG8gdGhlIGBjb250YWN0LmRldGFpbGAgc3RhdGVcbiAgICAgKiAtIGAkc3RhdGUuZ28oJ14nKWAgLSB3aWxsIGdvIHRvIHRoZSBwYXJlbnQgc3RhdGVcbiAgICAgKiAtIGAkc3RhdGUuZ28oJ14uc2libGluZycpYCAtIGlmIGN1cnJlbnQgc3RhdGUgaXMgYGhvbWUuY2hpbGRgLCB3aWxsIGdvIHRvIHRoZSBgaG9tZS5zaWJsaW5nYCBzdGF0ZVxuICAgICAqIC0gYCRzdGF0ZS5nbygnLmNoaWxkLmdyYW5kY2hpbGQnKWAgLSBpZiBjdXJyZW50IHN0YXRlIGlzIGhvbWUsIHdpbGwgZ28gdG8gdGhlIGBob21lLmNoaWxkLmdyYW5kY2hpbGRgIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFyYW1zIEEgbWFwIG9mIHRoZSBwYXJhbWV0ZXJzIHRoYXQgd2lsbCBiZSBzZW50IHRvIHRoZSBzdGF0ZSwgd2lsbCBwb3B1bGF0ZSAkc3RhdGVQYXJhbXMuXG4gICAgICpcbiAgICAgKiAgICBBbnkgcGFyYW1ldGVycyB0aGF0IGFyZSBub3Qgc3BlY2lmaWVkIHdpbGwgYmUgaW5oZXJpdGVkIGZyb20gY3VycmVudCBwYXJhbWV0ZXIgdmFsdWVzIChiZWNhdXNlIG9mIGBpbmhlcml0OiB0cnVlYCkuXG4gICAgICogICAgVGhpcyBhbGxvd3MsIGZvciBleGFtcGxlLCBnb2luZyB0byBhIHNpYmxpbmcgc3RhdGUgdGhhdCBzaGFyZXMgcGFyYW1ldGVycyBkZWZpbmVkIGJ5IGEgcGFyZW50IHN0YXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgVHJhbnNpdGlvbiBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7cHJvbWlzZX0gQSBwcm9taXNlIHJlcHJlc2VudGluZyB0aGUgc3RhdGUgb2YgdGhlIG5ldyB0cmFuc2l0aW9uLlxuICAgICAqL1xuICAgIFN0YXRlU2VydmljZS5wcm90b3R5cGUuZ28gPSBmdW5jdGlvbiAodG8sIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICB2YXIgZGVmYXV0R29PcHRzID0geyByZWxhdGl2ZTogdGhpcy4kY3VycmVudCwgaW5oZXJpdDogdHJ1ZSB9O1xuICAgICAgICB2YXIgdHJhbnNPcHRzID0gY29tbW9uXzEuZGVmYXVsdHMob3B0aW9ucywgZGVmYXV0R29PcHRzLCB0cmFuc2l0aW9uU2VydmljZV8xLmRlZmF1bHRUcmFuc09wdHMpO1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2l0aW9uVG8odG8sIHBhcmFtcywgdHJhbnNPcHRzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBbW1RhcmdldFN0YXRlXV1cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgYSBmYWN0b3J5IG1ldGhvZCBmb3IgY3JlYXRpbmcgYSBUYXJnZXRTdGF0ZVxuICAgICAqXG4gICAgICogVGhpcyBtYXkgYmUgcmV0dXJuZWQgZnJvbSBhIFRyYW5zaXRpb24gSG9vayB0byByZWRpcmVjdCBhIHRyYW5zaXRpb24sIGZvciBleGFtcGxlLlxuICAgICAqL1xuICAgIFN0YXRlU2VydmljZS5wcm90b3R5cGUudGFyZ2V0ID0gZnVuY3Rpb24gKGlkZW50aWZpZXIsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvLyBJZiB3ZSdyZSByZWxvYWRpbmcsIGZpbmQgdGhlIHN0YXRlIG9iamVjdCB0byByZWxvYWQgZnJvbVxuICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzT2JqZWN0KG9wdGlvbnMucmVsb2FkKSAmJiAhb3B0aW9ucy5yZWxvYWQubmFtZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZWxvYWQgc3RhdGUgb2JqZWN0Jyk7XG4gICAgICAgIHZhciByZWcgPSB0aGlzLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5O1xuICAgICAgICBvcHRpb25zLnJlbG9hZFN0YXRlID1cbiAgICAgICAgICAgIG9wdGlvbnMucmVsb2FkID09PSB0cnVlID8gcmVnLnJvb3QoKSA6IHJlZy5tYXRjaGVyLmZpbmQob3B0aW9ucy5yZWxvYWQsIG9wdGlvbnMucmVsYXRpdmUpO1xuICAgICAgICBpZiAob3B0aW9ucy5yZWxvYWQgJiYgIW9wdGlvbnMucmVsb2FkU3RhdGUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBzdWNoIHJlbG9hZCBzdGF0ZSAnXCIgKyAocHJlZGljYXRlc18xLmlzU3RyaW5nKG9wdGlvbnMucmVsb2FkKSA/IG9wdGlvbnMucmVsb2FkIDogb3B0aW9ucy5yZWxvYWQubmFtZSkgKyBcIidcIik7XG4gICAgICAgIHJldHVybiBuZXcgdGFyZ2V0U3RhdGVfMS5UYXJnZXRTdGF0ZSh0aGlzLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5LCBpZGVudGlmaWVyLCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5nZXRDdXJyZW50UGF0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGdsb2JhbHMgPSB0aGlzLnJvdXRlci5nbG9iYWxzO1xuICAgICAgICB2YXIgbGF0ZXN0U3VjY2VzcyA9IGdsb2JhbHMuc3VjY2Vzc2Z1bFRyYW5zaXRpb25zLnBlZWtUYWlsKCk7XG4gICAgICAgIHZhciByb290UGF0aCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtuZXcgcGF0aE5vZGVfMS5QYXRoTm9kZShfdGhpcy5yb3V0ZXIuc3RhdGVSZWdpc3RyeS5yb290KCkpXTsgfTtcbiAgICAgICAgcmV0dXJuIGxhdGVzdFN1Y2Nlc3MgPyBsYXRlc3RTdWNjZXNzLnRyZWVDaGFuZ2VzKCkudG8gOiByb290UGF0aCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG93LWxldmVsIG1ldGhvZCBmb3IgdHJhbnNpdGlvbmluZyB0byBhIG5ldyBzdGF0ZS5cbiAgICAgKlxuICAgICAqIFRoZSBbW2dvXV0gbWV0aG9kICh3aGljaCB1c2VzIGB0cmFuc2l0aW9uVG9gIGludGVybmFsbHkpIGlzIHJlY29tbWVuZGVkIGluIG1vc3Qgc2l0dWF0aW9ucy5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIGxldCBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyd1aS5yb3V0ZXInXSk7XG4gICAgICpcbiAgICAgKiBhcHAuY29udHJvbGxlcignY3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSkge1xuICAgICAqICAgJHNjb3BlLmNoYW5nZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAqICAgICAkc3RhdGUudHJhbnNpdGlvblRvKCdjb250YWN0LmRldGFpbCcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0byBTdGF0ZSBuYW1lIG9yIHN0YXRlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gdG9QYXJhbXMgQSBtYXAgb2YgdGhlIHBhcmFtZXRlcnMgdGhhdCB3aWxsIGJlIHNlbnQgdG8gdGhlIHN0YXRlLFxuICAgICAqICAgICAgd2lsbCBwb3B1bGF0ZSAkc3RhdGVQYXJhbXMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgVHJhbnNpdGlvbiBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgcmVwcmVzZW50aW5nIHRoZSBzdGF0ZSBvZiB0aGUgbmV3IHRyYW5zaXRpb24uIFNlZSBbW2dvXV1cbiAgICAgKi9cbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLnRyYW5zaXRpb25UbyA9IGZ1bmN0aW9uICh0bywgdG9QYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRvUGFyYW1zID09PSB2b2lkIDApIHsgdG9QYXJhbXMgPSB7fTsgfVxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgcm91dGVyID0gdGhpcy5yb3V0ZXI7XG4gICAgICAgIHZhciBnbG9iYWxzID0gcm91dGVyLmdsb2JhbHM7XG4gICAgICAgIG9wdGlvbnMgPSBjb21tb25fMS5kZWZhdWx0cyhvcHRpb25zLCB0cmFuc2l0aW9uU2VydmljZV8xLmRlZmF1bHRUcmFuc09wdHMpO1xuICAgICAgICB2YXIgZ2V0Q3VycmVudCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdsb2JhbHMudHJhbnNpdGlvbjsgfTtcbiAgICAgICAgb3B0aW9ucyA9IGNvbW1vbl8xLmV4dGVuZChvcHRpb25zLCB7IGN1cnJlbnQ6IGdldEN1cnJlbnQgfSk7XG4gICAgICAgIHZhciByZWYgPSB0aGlzLnRhcmdldCh0bywgdG9QYXJhbXMsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgY3VycmVudFBhdGggPSB0aGlzLmdldEN1cnJlbnRQYXRoKCk7XG4gICAgICAgIGlmICghcmVmLmV4aXN0cygpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZUludmFsaWRUYXJnZXRTdGF0ZShjdXJyZW50UGF0aCwgcmVmKTtcbiAgICAgICAgaWYgKCFyZWYudmFsaWQoKSlcbiAgICAgICAgICAgIHJldHVybiBjb21tb25fMS5zaWxlbnRSZWplY3Rpb24ocmVmLmVycm9yKCkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lhbCBoYW5kbGluZyBmb3IgSWdub3JlZCwgQWJvcnRlZCwgYW5kIFJlZGlyZWN0ZWQgdHJhbnNpdGlvbnNcbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHNlbWFudGljcyBmb3IgdGhlIHRyYW5zaXRpb24ucnVuKCkgcHJvbWlzZSBhbmQgdGhlIFN0YXRlU2VydmljZS50cmFuc2l0aW9uVG8oKVxuICAgICAgICAgKiBwcm9taXNlIGRpZmZlci4gRm9yIGluc3RhbmNlLCB0aGUgcnVuKCkgcHJvbWlzZSBtYXkgYmUgcmVqZWN0ZWQgYmVjYXVzZSBpdCB3YXNcbiAgICAgICAgICogSUdOT1JFRCwgYnV0IHRoZSB0cmFuc2l0aW9uVG8oKSBwcm9taXNlIGlzIHJlc29sdmVkIGJlY2F1c2UgZnJvbSB0aGUgdXNlciBwZXJzcGVjdGl2ZVxuICAgICAgICAgKiBubyBlcnJvciBvY2N1cnJlZC4gIExpa2V3aXNlLCB0aGUgdHJhbnNpdGlvbi5ydW4oKSBwcm9taXNlIG1heSBiZSByZWplY3RlZCBiZWNhdXNlIG9mXG4gICAgICAgICAqIGEgUmVkaXJlY3QsIGJ1dCB0aGUgdHJhbnNpdGlvblRvKCkgcHJvbWlzZSBpcyBjaGFpbmVkIHRvIHRoZSBuZXcgVHJhbnNpdGlvbidzIHByb21pc2UuXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgcmVqZWN0ZWRUcmFuc2l0aW9uSGFuZGxlciA9IGZ1bmN0aW9uICh0cmFucykgeyByZXR1cm4gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiByZWplY3RGYWN0b3J5XzEuUmVqZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzTGF0ZXN0ID0gcm91dGVyLmdsb2JhbHMubGFzdFN0YXJ0ZWRUcmFuc2l0aW9uSWQgPD0gdHJhbnMuJGlkO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci50eXBlID09PSByZWplY3RGYWN0b3J5XzEuUmVqZWN0VHlwZS5JR05PUkVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzTGF0ZXN0ICYmIHJvdXRlci51cmxSb3V0ZXIudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnNpZGVyIGlnbm9yZWQgYFRyYW5zaXRpb24ucnVuKClgIGFzIGEgc3VjY2Vzc2Z1bCBgdHJhbnNpdGlvblRvYFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEud2hlbihnbG9iYWxzLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZGV0YWlsID0gZXJyb3IuZGV0YWlsO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci50eXBlID09PSByZWplY3RGYWN0b3J5XzEuUmVqZWN0VHlwZS5TVVBFUlNFREVEICYmIGVycm9yLnJlZGlyZWN0ZWQgJiYgZGV0YWlsIGluc3RhbmNlb2YgdGFyZ2V0U3RhdGVfMS5UYXJnZXRTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBgVHJhbnNpdGlvbi5ydW4oKWAgd2FzIHJlZGlyZWN0ZWQsIGFsbG93IHRoZSBgdHJhbnNpdGlvblRvKClgIHByb21pc2UgdG8gcmVzb2x2ZSBzdWNjZXNzZnVsbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gYnkgcmV0dXJuaW5nIHRoZSBwcm9taXNlIGZvciB0aGUgbmV3IChyZWRpcmVjdCkgYFRyYW5zaXRpb24ucnVuKClgLlxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVkaXJlY3QgPSB0cmFucy5yZWRpcmVjdChkZXRhaWwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVkaXJlY3QucnVuKCkuY2F0Y2gocmVqZWN0ZWRUcmFuc2l0aW9uSGFuZGxlcihyZWRpcmVjdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IudHlwZSA9PT0gcmVqZWN0RmFjdG9yeV8xLlJlamVjdFR5cGUuQUJPUlRFRCkge1xuICAgICAgICAgICAgICAgICAgICBpc0xhdGVzdCAmJiByb3V0ZXIudXJsUm91dGVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZXJyb3JIYW5kbGVyID0gX3RoaXMuZGVmYXVsdEVycm9ySGFuZGxlcigpO1xuICAgICAgICAgICAgZXJyb3JIYW5kbGVyKGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcS5yZWplY3QoZXJyb3IpO1xuICAgICAgICB9OyB9O1xuICAgICAgICB2YXIgdHJhbnNpdGlvbiA9IHRoaXMucm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLmNyZWF0ZShjdXJyZW50UGF0aCwgcmVmKTtcbiAgICAgICAgdmFyIHRyYW5zaXRpb25Ub1Byb21pc2UgPSB0cmFuc2l0aW9uLnJ1bigpLmNhdGNoKHJlamVjdGVkVHJhbnNpdGlvbkhhbmRsZXIodHJhbnNpdGlvbikpO1xuICAgICAgICBjb21tb25fMS5zaWxlbmNlVW5jYXVnaHRJblByb21pc2UodHJhbnNpdGlvblRvUHJvbWlzZSk7IC8vIGlzc3VlICMyNjc2XG4gICAgICAgIC8vIFJldHVybiBhIHByb21pc2UgZm9yIHRoZSB0cmFuc2l0aW9uLCB3aGljaCBhbHNvIGhhcyB0aGUgdHJhbnNpdGlvbiBvYmplY3Qgb24gaXQuXG4gICAgICAgIHJldHVybiBjb21tb25fMS5leHRlbmQodHJhbnNpdGlvblRvUHJvbWlzZSwgeyB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHN0YXRlICppcyogdGhlIHByb3ZpZGVkIHN0YXRlXG4gICAgICpcbiAgICAgKiBTaW1pbGFyIHRvIFtbaW5jbHVkZXNdXSBidXQgb25seSBjaGVja3MgZm9yIHRoZSBmdWxsIHN0YXRlIG5hbWUuXG4gICAgICogSWYgcGFyYW1zIGlzIHN1cHBsaWVkIHRoZW4gaXQgd2lsbCBiZSB0ZXN0ZWQgZm9yIHN0cmljdCBlcXVhbGl0eSBhZ2FpbnN0IHRoZSBjdXJyZW50XG4gICAgICogYWN0aXZlIHBhcmFtcyBvYmplY3QsIHNvIGFsbCBwYXJhbXMgbXVzdCBtYXRjaCB3aXRoIG5vbmUgbWlzc2luZyBhbmQgbm8gZXh0cmFzLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogJHN0YXRlLiRjdXJyZW50Lm5hbWUgPSAnY29udGFjdHMuZGV0YWlscy5pdGVtJztcbiAgICAgKlxuICAgICAqIC8vIGFic29sdXRlIG5hbWVcbiAgICAgKiAkc3RhdGUuaXMoJ2NvbnRhY3QuZGV0YWlscy5pdGVtJyk7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqICRzdGF0ZS5pcyhjb250YWN0RGV0YWlsSXRlbVN0YXRlT2JqZWN0KTsgLy8gcmV0dXJucyB0cnVlXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAvLyByZWxhdGl2ZSBuYW1lICguIGFuZCBeKSwgdHlwaWNhbGx5IGZyb20gYSB0ZW1wbGF0ZVxuICAgICAqIC8vIEUuZy4gZnJvbSB0aGUgJ2NvbnRhY3RzLmRldGFpbHMnIHRlbXBsYXRlXG4gICAgICogYGBgaHRtbFxuICAgICAqIDxkaXYgbmctY2xhc3M9XCJ7aGlnaGxpZ2h0ZWQ6ICRzdGF0ZS5pcygnLml0ZW0nKX1cIj5JdGVtPC9kaXY+XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RhdGVPck5hbWUgVGhlIHN0YXRlIG5hbWUgKGFic29sdXRlIG9yIHJlbGF0aXZlKSBvciBzdGF0ZSBvYmplY3QgeW91J2QgbGlrZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0gcGFyYW1zIEEgcGFyYW0gb2JqZWN0LCBlLmcuIGB7c2VjdGlvbklkOiBzZWN0aW9uLmlkfWAsIHRoYXQgeW91J2QgbGlrZVxuICAgICAqIHRvIHRlc3QgYWdhaW5zdCB0aGUgY3VycmVudCBhY3RpdmUgc3RhdGUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgQW4gb3B0aW9ucyBvYmplY3QuIFRoZSBvcHRpb25zIGFyZTpcbiAgICAgKiAgIC0gYHJlbGF0aXZlYDogSWYgYHN0YXRlT3JOYW1lYCBpcyBhIHJlbGF0aXZlIHN0YXRlIG5hbWUgYW5kIGBvcHRpb25zLnJlbGF0aXZlYCBpcyBzZXQsIC5pcyB3aWxsXG4gICAgICogICAgIHRlc3QgcmVsYXRpdmUgdG8gYG9wdGlvbnMucmVsYXRpdmVgIHN0YXRlIChvciBuYW1lKS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFJldHVybnMgdHJ1ZSBpZiBpdCBpcyB0aGUgc3RhdGUuXG4gICAgICovXG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5pcyA9IGZ1bmN0aW9uIChzdGF0ZU9yTmFtZSwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBjb21tb25fMS5kZWZhdWx0cyhvcHRpb25zLCB7IHJlbGF0aXZlOiB0aGlzLiRjdXJyZW50IH0pO1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5Lm1hdGNoZXIuZmluZChzdGF0ZU9yTmFtZSwgb3B0aW9ucy5yZWxhdGl2ZSk7XG4gICAgICAgIGlmICghcHJlZGljYXRlc18xLmlzRGVmaW5lZChzdGF0ZSkpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy4kY3VycmVudCAhPT0gc3RhdGUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghcGFyYW1zKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHZhciBzY2hlbWEgPSBzdGF0ZS5wYXJhbWV0ZXJzKHsgaW5oZXJpdDogdHJ1ZSwgbWF0Y2hpbmdLZXlzOiBwYXJhbXMgfSk7XG4gICAgICAgIHJldHVybiBwYXJhbV8xLlBhcmFtLmVxdWFscyhzY2hlbWEsIHBhcmFtXzEuUGFyYW0udmFsdWVzKHNjaGVtYSwgcGFyYW1zKSwgdGhpcy5wYXJhbXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHN0YXRlICppbmNsdWRlcyogdGhlIHByb3ZpZGVkIHN0YXRlXG4gICAgICpcbiAgICAgKiBBIG1ldGhvZCB0byBkZXRlcm1pbmUgaWYgdGhlIGN1cnJlbnQgYWN0aXZlIHN0YXRlIGlzIGVxdWFsIHRvIG9yIGlzIHRoZSBjaGlsZCBvZiB0aGVcbiAgICAgKiBzdGF0ZSBzdGF0ZU5hbWUuIElmIGFueSBwYXJhbXMgYXJlIHBhc3NlZCB0aGVuIHRoZXkgd2lsbCBiZSB0ZXN0ZWQgZm9yIGEgbWF0Y2ggYXMgd2VsbC5cbiAgICAgKiBOb3QgYWxsIHRoZSBwYXJhbWV0ZXJzIG5lZWQgdG8gYmUgcGFzc2VkLCBqdXN0IHRoZSBvbmVzIHlvdSdkIGxpa2UgdG8gdGVzdCBmb3IgZXF1YWxpdHkuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGUgd2hlbiBgJHN0YXRlLiRjdXJyZW50Lm5hbWUgPT09ICdjb250YWN0cy5kZXRhaWxzLml0ZW0nYFxuICAgICAqIGBgYGpzXG4gICAgICogLy8gVXNpbmcgcGFydGlhbCBuYW1lc1xuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcImNvbnRhY3RzXCIpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCJjb250YWN0cy5kZXRhaWxzXCIpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCJjb250YWN0cy5kZXRhaWxzLml0ZW1cIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcImNvbnRhY3RzLmxpc3RcIik7IC8vIHJldHVybnMgZmFsc2VcbiAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCJhYm91dFwiKTsgLy8gcmV0dXJucyBmYWxzZVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIyBHbG9iIEV4YW1wbGVzIHdoZW4gYCogJHN0YXRlLiRjdXJyZW50Lm5hbWUgPT09ICdjb250YWN0cy5kZXRhaWxzLml0ZW0udXJsJ2A6XG4gICAgICogYGBganNcbiAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCIqLmRldGFpbHMuKi4qXCIpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCIqLmRldGFpbHMuKipcIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcIioqLml0ZW0uKipcIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcIiouZGV0YWlscy5pdGVtLnVybFwiKTsgLy8gcmV0dXJucyB0cnVlXG4gICAgICogJHN0YXRlLmluY2x1ZGVzKFwiKi5kZXRhaWxzLioudXJsXCIpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKiAkc3RhdGUuaW5jbHVkZXMoXCIqLmRldGFpbHMuKlwiKTsgLy8gcmV0dXJucyBmYWxzZVxuICAgICAqICRzdGF0ZS5pbmNsdWRlcyhcIml0ZW0uKipcIik7IC8vIHJldHVybnMgZmFsc2VcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGF0ZU9yTmFtZSBBIHBhcnRpYWwgbmFtZSwgcmVsYXRpdmUgbmFtZSwgZ2xvYiBwYXR0ZXJuLFxuICAgICAqICAgb3Igc3RhdGUgb2JqZWN0IHRvIGJlIHNlYXJjaGVkIGZvciB3aXRoaW4gdGhlIGN1cnJlbnQgc3RhdGUgbmFtZS5cbiAgICAgKiBAcGFyYW0gcGFyYW1zIEEgcGFyYW0gb2JqZWN0LCBlLmcuIGB7c2VjdGlvbklkOiBzZWN0aW9uLmlkfWAsXG4gICAgICogICB0aGF0IHlvdSdkIGxpa2UgdG8gdGVzdCBhZ2FpbnN0IHRoZSBjdXJyZW50IGFjdGl2ZSBzdGF0ZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBBbiBvcHRpb25zIG9iamVjdC4gVGhlIG9wdGlvbnMgYXJlOlxuICAgICAqICAgLSBgcmVsYXRpdmVgOiBJZiBgc3RhdGVPck5hbWVgIGlzIGEgcmVsYXRpdmUgc3RhdGUgbmFtZSBhbmQgYG9wdGlvbnMucmVsYXRpdmVgIGlzIHNldCwgLmlzIHdpbGxcbiAgICAgKiAgICAgdGVzdCByZWxhdGl2ZSB0byBgb3B0aW9ucy5yZWxhdGl2ZWAgc3RhdGUgKG9yIG5hbWUpLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBpdCBkb2VzIGluY2x1ZGUgdGhlIHN0YXRlXG4gICAgICovXG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIChzdGF0ZU9yTmFtZSwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBjb21tb25fMS5kZWZhdWx0cyhvcHRpb25zLCB7IHJlbGF0aXZlOiB0aGlzLiRjdXJyZW50IH0pO1xuICAgICAgICB2YXIgZ2xvYiA9IHByZWRpY2F0ZXNfMS5pc1N0cmluZyhzdGF0ZU9yTmFtZSkgJiYgZ2xvYl8xLkdsb2IuZnJvbVN0cmluZyhzdGF0ZU9yTmFtZSk7XG4gICAgICAgIGlmIChnbG9iKSB7XG4gICAgICAgICAgICBpZiAoIWdsb2IubWF0Y2hlcyh0aGlzLiRjdXJyZW50Lm5hbWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHN0YXRlT3JOYW1lID0gdGhpcy4kY3VycmVudC5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMucm91dGVyLnN0YXRlUmVnaXN0cnkubWF0Y2hlci5maW5kKHN0YXRlT3JOYW1lLCBvcHRpb25zLnJlbGF0aXZlKSwgaW5jbHVkZSA9IHRoaXMuJGN1cnJlbnQuaW5jbHVkZXM7XG4gICAgICAgIGlmICghcHJlZGljYXRlc18xLmlzRGVmaW5lZChzdGF0ZSkpXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoIXByZWRpY2F0ZXNfMS5pc0RlZmluZWQoaW5jbHVkZVtzdGF0ZS5uYW1lXSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghcGFyYW1zKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHZhciBzY2hlbWEgPSBzdGF0ZS5wYXJhbWV0ZXJzKHsgaW5oZXJpdDogdHJ1ZSwgbWF0Y2hpbmdLZXlzOiBwYXJhbXMgfSk7XG4gICAgICAgIHJldHVybiBwYXJhbV8xLlBhcmFtLmVxdWFscyhzY2hlbWEsIHBhcmFtXzEuUGFyYW0udmFsdWVzKHNjaGVtYSwgcGFyYW1zKSwgdGhpcy5wYXJhbXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgVVJMIGZvciBhIHN0YXRlIGFuZCBwYXJhbWV0ZXJzXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIHRoZSB1cmwgZm9yIHRoZSBnaXZlbiBzdGF0ZSBwb3B1bGF0ZWQgd2l0aCB0aGUgZ2l2ZW4gcGFyYW1zLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogZXhwZWN0KCRzdGF0ZS5ocmVmKFwiYWJvdXQucGVyc29uXCIsIHsgcGVyc29uOiBcImJvYlwiIH0pKS50b0VxdWFsKFwiL2Fib3V0L2JvYlwiKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGF0ZU9yTmFtZSBUaGUgc3RhdGUgbmFtZSBvciBzdGF0ZSBvYmplY3QgeW91J2QgbGlrZSB0byBnZW5lcmF0ZSBhIHVybCBmcm9tLlxuICAgICAqIEBwYXJhbSBwYXJhbXMgQW4gb2JqZWN0IG9mIHBhcmFtZXRlciB2YWx1ZXMgdG8gZmlsbCB0aGUgc3RhdGUncyByZXF1aXJlZCBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0LiBUaGUgb3B0aW9ucyBhcmU6XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBjb21waWxlZCBzdGF0ZSB1cmxcbiAgICAgKi9cbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLmhyZWYgPSBmdW5jdGlvbiAoc3RhdGVPck5hbWUsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICB2YXIgZGVmYXVsdEhyZWZPcHRzID0ge1xuICAgICAgICAgICAgbG9zc3k6IHRydWUsXG4gICAgICAgICAgICBpbmhlcml0OiB0cnVlLFxuICAgICAgICAgICAgYWJzb2x1dGU6IGZhbHNlLFxuICAgICAgICAgICAgcmVsYXRpdmU6IHRoaXMuJGN1cnJlbnQsXG4gICAgICAgIH07XG4gICAgICAgIG9wdGlvbnMgPSBjb21tb25fMS5kZWZhdWx0cyhvcHRpb25zLCBkZWZhdWx0SHJlZk9wdHMpO1xuICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwge307XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMucm91dGVyLnN0YXRlUmVnaXN0cnkubWF0Y2hlci5maW5kKHN0YXRlT3JOYW1lLCBvcHRpb25zLnJlbGF0aXZlKTtcbiAgICAgICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKHN0YXRlKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAob3B0aW9ucy5pbmhlcml0KVxuICAgICAgICAgICAgcGFyYW1zID0gdGhpcy5wYXJhbXMuJGluaGVyaXQocGFyYW1zLCB0aGlzLiRjdXJyZW50LCBzdGF0ZSk7XG4gICAgICAgIHZhciBuYXYgPSBzdGF0ZSAmJiBvcHRpb25zLmxvc3N5ID8gc3RhdGUubmF2aWdhYmxlIDogc3RhdGU7XG4gICAgICAgIGlmICghbmF2IHx8IG5hdi51cmwgPT09IHVuZGVmaW5lZCB8fCBuYXYudXJsID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yb3V0ZXIudXJsUm91dGVyLmhyZWYobmF2LnVybCwgcGFyYW1zLCB7IGFic29sdXRlOiBvcHRpb25zLmFic29sdXRlIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyBvciBnZXRzIHRoZSBkZWZhdWx0IFtbdHJhbnNpdGlvblRvXV0gZXJyb3IgaGFuZGxlci5cbiAgICAgKlxuICAgICAqIFRoZSBlcnJvciBoYW5kbGVyIGlzIGNhbGxlZCB3aGVuIGEgW1tUcmFuc2l0aW9uXV0gaXMgcmVqZWN0ZWQgb3Igd2hlbiBhbnkgZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHRoZSBUcmFuc2l0aW9uLlxuICAgICAqIFRoaXMgaW5jbHVkZXMgZXJyb3JzIGNhdXNlZCBieSByZXNvbHZlcyBhbmQgdHJhbnNpdGlvbiBob29rcy5cbiAgICAgKlxuICAgICAqIE5vdGU6XG4gICAgICogVGhpcyBoYW5kbGVyIGRvZXMgbm90IHJlY2VpdmUgY2VydGFpbiBUcmFuc2l0aW9uIHJlamVjdGlvbnMuXG4gICAgICogUmVkaXJlY3RlZCBhbmQgSWdub3JlZCBUcmFuc2l0aW9ucyBhcmUgbm90IGNvbnNpZGVyZWQgdG8gYmUgZXJyb3JzIGJ5IFtbU3RhdGVTZXJ2aWNlLnRyYW5zaXRpb25Ub11dLlxuICAgICAqXG4gICAgICogVGhlIGJ1aWx0LWluIGRlZmF1bHQgZXJyb3IgaGFuZGxlciBsb2dzIHRoZSBlcnJvciB0byB0aGUgY29uc29sZS5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gcHJvdmlkZSB5b3VyIG93biBjdXN0b20gaGFuZGxlci5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHN0YXRlU2VydmljZS5kZWZhdWx0RXJyb3JIYW5kbGVyKGZ1bmN0aW9uKCkge1xuICAgICAqICAgLy8gRG8gbm90IGxvZyB0cmFuc2l0aW9uVG8gZXJyb3JzXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGFuZGxlciBhIGdsb2JhbCBlcnJvciBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgZ2xvYmFsIGVycm9yIGhhbmRsZXJcbiAgICAgKi9cbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLmRlZmF1bHRFcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2RlZmF1bHRFcnJvckhhbmRsZXIgPSBoYW5kbGVyIHx8IHRoaXMuX2RlZmF1bHRFcnJvckhhbmRsZXIpO1xuICAgIH07XG4gICAgU3RhdGVTZXJ2aWNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoc3RhdGVPck5hbWUsIGJhc2UpIHtcbiAgICAgICAgdmFyIHJlZyA9IHRoaXMucm91dGVyLnN0YXRlUmVnaXN0cnk7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHJlZy5nZXQoKTtcbiAgICAgICAgcmV0dXJuIHJlZy5nZXQoc3RhdGVPck5hbWUsIGJhc2UgfHwgdGhpcy4kY3VycmVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBMYXp5IGxvYWRzIGEgc3RhdGVcbiAgICAgKlxuICAgICAqIEV4cGxpY2l0bHkgcnVucyBhIHN0YXRlJ3MgW1tTdGF0ZURlY2xhcmF0aW9uLmxhenlMb2FkXV0gZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RhdGVPck5hbWUgdGhlIHN0YXRlIHRoYXQgc2hvdWxkIGJlIGxhenkgbG9hZGVkXG4gICAgICogQHBhcmFtIHRyYW5zaXRpb24gdGhlIG9wdGlvbmFsIFRyYW5zaXRpb24gY29udGV4dCB0byB1c2UgKGlmIHRoZSBsYXp5TG9hZCBmdW5jdGlvbiByZXF1aXJlcyBhbiBpbmplY3RvciwgZXRjKVxuICAgICAqIE5vdGU6IElmIG5vIHRyYW5zaXRpb24gaXMgcHJvdmlkZWQsIGEgbm9vcCB0cmFuc2l0aW9uIGlzIGNyZWF0ZWQgdXNpbmcgdGhlIGZyb20gdGhlIGN1cnJlbnQgc3RhdGUgdG8gdGhlIGN1cnJlbnQgc3RhdGUuXG4gICAgICogVGhpcyBub29wIHRyYW5zaXRpb24gaXMgbm90IGFjdHVhbGx5IHJ1bi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgcHJvbWlzZSB0byBsYXp5IGxvYWRcbiAgICAgKi9cbiAgICBTdGF0ZVNlcnZpY2UucHJvdG90eXBlLmxhenlMb2FkID0gZnVuY3Rpb24gKHN0YXRlT3JOYW1lLCB0cmFuc2l0aW9uKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuZ2V0KHN0YXRlT3JOYW1lKTtcbiAgICAgICAgaWYgKCFzdGF0ZSB8fCAhc3RhdGUubGF6eUxvYWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBub3QgbGF6eSBsb2FkICcgKyBzdGF0ZU9yTmFtZSk7XG4gICAgICAgIHZhciBjdXJyZW50UGF0aCA9IHRoaXMuZ2V0Q3VycmVudFBhdGgoKTtcbiAgICAgICAgdmFyIHRhcmdldCA9IHBhdGhVdGlsc18xLlBhdGhVdGlscy5tYWtlVGFyZ2V0U3RhdGUodGhpcy5yb3V0ZXIuc3RhdGVSZWdpc3RyeSwgY3VycmVudFBhdGgpO1xuICAgICAgICB0cmFuc2l0aW9uID0gdHJhbnNpdGlvbiB8fCB0aGlzLnJvdXRlci50cmFuc2l0aW9uU2VydmljZS5jcmVhdGUoY3VycmVudFBhdGgsIHRhcmdldCk7XG4gICAgICAgIHJldHVybiBsYXp5TG9hZF8xLmxhenlMb2FkU3RhdGUodHJhbnNpdGlvbiwgc3RhdGUpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlU2VydmljZTtcbn0oKSk7XG5leHBvcnRzLlN0YXRlU2VydmljZSA9IFN0YXRlU2VydmljZTtcblxufSx7XCIuLi9jb21tb24vY29tbW9uXCI6MyxcIi4uL2NvbW1vbi9jb3Jlc2VydmljZXNcIjo0LFwiLi4vY29tbW9uL2dsb2JcIjo1LFwiLi4vY29tbW9uL2hvZlwiOjYsXCIuLi9jb21tb24vcHJlZGljYXRlc1wiOjgsXCIuLi9jb21tb24vcXVldWVcIjo5LFwiLi4vaG9va3MvbGF6eUxvYWRcIjoxNixcIi4uL3BhcmFtcy9wYXJhbVwiOjI2LFwiLi4vcGF0aC9wYXRoTm9kZVwiOjMxLFwiLi4vcGF0aC9wYXRoVXRpbHNcIjozMixcIi4uL3Jlc29sdmUvcmVzb2x2ZUNvbnRleHRcIjozNixcIi4uL3RyYW5zaXRpb24vcmVqZWN0RmFjdG9yeVwiOjUwLFwiLi4vdHJhbnNpdGlvbi90cmFuc2l0aW9uU2VydmljZVwiOjU0LFwiLi90YXJnZXRTdGF0ZVwiOjQ1fV0sNDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG4vKiogQHB1YmxpY2FwaSBAbW9kdWxlIHN0YXRlICovIC8qKiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHByZWRpY2F0ZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vcHJlZGljYXRlc1wiKTtcbnZhciBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3N0cmluZ3NcIik7XG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uXCIpO1xuLyoqXG4gKiBFbmNhcHN1bGF0ZSB0aGUgdGFyZ2V0IChkZXN0aW5hdGlvbikgc3RhdGUvcGFyYW1zL29wdGlvbnMgb2YgYSBbW1RyYW5zaXRpb25dXS5cbiAqXG4gKiBUaGlzIGNsYXNzIGlzIGZyZXF1ZW50bHkgdXNlZCB0byByZWRpcmVjdCBhIHRyYW5zaXRpb24gdG8gYSBuZXcgZGVzdGluYXRpb24uXG4gKlxuICogU2VlOlxuICpcbiAqIC0gW1tIb29rUmVzdWx0XV1cbiAqIC0gW1tUcmFuc2l0aW9uSG9va0ZuXV1cbiAqIC0gW1tUcmFuc2l0aW9uU2VydmljZS5vblN0YXJ0XV1cbiAqXG4gKiBUbyBjcmVhdGUgYSBgVGFyZ2V0U3RhdGVgLCB1c2UgW1tTdGF0ZVNlcnZpY2UudGFyZ2V0XV0uXG4gKlxuICogLS0tXG4gKlxuICogVGhpcyBjbGFzcyB3cmFwczpcbiAqXG4gKiAxKSBhbiBpZGVudGlmaWVyIGZvciBhIHN0YXRlXG4gKiAyKSBhIHNldCBvZiBwYXJhbWV0ZXJzXG4gKiAzKSBhbmQgdHJhbnNpdGlvbiBvcHRpb25zXG4gKiA0KSB0aGUgcmVnaXN0ZXJlZCBzdGF0ZSBvYmplY3QgKHRoZSBbW1N0YXRlRGVjbGFyYXRpb25dXSlcbiAqXG4gKiBNYW55IFVJLVJvdXRlciBBUElzIHN1Y2ggYXMgW1tTdGF0ZVNlcnZpY2UuZ29dXSB0YWtlIGEgW1tTdGF0ZU9yTmFtZV1dIGFyZ3VtZW50IHdoaWNoIGNhblxuICogZWl0aGVyIGJlIGEgKnN0YXRlIG9iamVjdCogKGEgW1tTdGF0ZURlY2xhcmF0aW9uXV0gb3IgW1tTdGF0ZU9iamVjdF1dKSBvciBhICpzdGF0ZSBuYW1lKiAoYSBzdHJpbmcpLlxuICogVGhlIGBUYXJnZXRTdGF0ZWAgY2xhc3Mgbm9ybWFsaXplcyB0aG9zZSBvcHRpb25zLlxuICpcbiAqIEEgYFRhcmdldFN0YXRlYCBtYXkgYmUgdmFsaWQgKHRoZSBzdGF0ZSBiZWluZyB0YXJnZXRlZCBleGlzdHMgaW4gdGhlIHJlZ2lzdHJ5KVxuICogb3IgaW52YWxpZCAodGhlIHN0YXRlIGJlaW5nIHRhcmdldGVkIGlzIG5vdCByZWdpc3RlcmVkKS5cbiAqL1xudmFyIFRhcmdldFN0YXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIFRoZSBUYXJnZXRTdGF0ZSBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogTm90ZTogRG8gbm90IGNvbnN0cnVjdCBhIGBUYXJnZXRTdGF0ZWAgbWFudWFsbHkuXG4gICAgICogVG8gY3JlYXRlIGEgYFRhcmdldFN0YXRlYCwgdXNlIHRoZSBbW1N0YXRlU2VydmljZS50YXJnZXRdXSBmYWN0b3J5IG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBfc3RhdGVSZWdpc3RyeSBUaGUgU3RhdGVSZWdpc3RyeSB0byB1c2UgdG8gbG9vayB1cCB0aGUgX2RlZmluaXRpb25cbiAgICAgKiBAcGFyYW0gX2lkZW50aWZpZXIgQW4gaWRlbnRpZmllciBmb3IgYSBzdGF0ZS5cbiAgICAgKiAgICBFaXRoZXIgYSBmdWxseS1xdWFsaWZpZWQgc3RhdGUgbmFtZSwgb3IgdGhlIG9iamVjdCB1c2VkIHRvIGRlZmluZSB0aGUgc3RhdGUuXG4gICAgICogQHBhcmFtIF9wYXJhbXMgUGFyYW1ldGVycyBmb3IgdGhlIHRhcmdldCBzdGF0ZVxuICAgICAqIEBwYXJhbSBfb3B0aW9ucyBUcmFuc2l0aW9uIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxhcGlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUYXJnZXRTdGF0ZShfc3RhdGVSZWdpc3RyeSwgX2lkZW50aWZpZXIsIF9wYXJhbXMsIF9vcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX3N0YXRlUmVnaXN0cnkgPSBfc3RhdGVSZWdpc3RyeTtcbiAgICAgICAgdGhpcy5faWRlbnRpZmllciA9IF9pZGVudGlmaWVyO1xuICAgICAgICB0aGlzLl9pZGVudGlmaWVyID0gX2lkZW50aWZpZXI7XG4gICAgICAgIHRoaXMuX3BhcmFtcyA9IGNvbW1vbl8xLmV4dGVuZCh7fSwgX3BhcmFtcyB8fCB7fSk7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBjb21tb25fMS5leHRlbmQoe30sIF9vcHRpb25zIHx8IHt9KTtcbiAgICAgICAgdGhpcy5fZGVmaW5pdGlvbiA9IF9zdGF0ZVJlZ2lzdHJ5Lm1hdGNoZXIuZmluZChfaWRlbnRpZmllciwgdGhpcy5fb3B0aW9ucy5yZWxhdGl2ZSk7XG4gICAgfVxuICAgIC8qKiBUaGUgbmFtZSBvZiB0aGUgc3RhdGUgdGhpcyBvYmplY3QgdGFyZ2V0cyAqL1xuICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2RlZmluaXRpb24gJiYgdGhpcy5fZGVmaW5pdGlvbi5uYW1lKSB8fCB0aGlzLl9pZGVudGlmaWVyO1xuICAgIH07XG4gICAgLyoqIFRoZSBpZGVudGlmaWVyIHVzZWQgd2hlbiBjcmVhdGluZyB0aGlzIFRhcmdldFN0YXRlICovXG4gICAgVGFyZ2V0U3RhdGUucHJvdG90eXBlLmlkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZGVudGlmaWVyO1xuICAgIH07XG4gICAgLyoqIFRoZSB0YXJnZXQgcGFyYW1ldGVyIHZhbHVlcyAqL1xuICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS5wYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJhbXM7XG4gICAgfTtcbiAgICAvKiogVGhlIGludGVybmFsIHN0YXRlIG9iamVjdCAoaWYgaXQgd2FzIGZvdW5kKSAqL1xuICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS4kc3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZpbml0aW9uO1xuICAgIH07XG4gICAgLyoqIFRoZSBpbnRlcm5hbCBzdGF0ZSBkZWNsYXJhdGlvbiAoaWYgaXQgd2FzIGZvdW5kKSAqL1xuICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS5zdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZmluaXRpb24gJiYgdGhpcy5fZGVmaW5pdGlvbi5zZWxmO1xuICAgIH07XG4gICAgLyoqIFRoZSB0YXJnZXQgb3B0aW9ucyAqL1xuICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS5vcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9ucztcbiAgICB9O1xuICAgIC8qKiBUcnVlIGlmIHRoZSB0YXJnZXQgc3RhdGUgd2FzIGZvdW5kICovXG4gICAgVGFyZ2V0U3RhdGUucHJvdG90eXBlLmV4aXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICEhKHRoaXMuX2RlZmluaXRpb24gJiYgdGhpcy5fZGVmaW5pdGlvbi5zZWxmKTtcbiAgICB9O1xuICAgIC8qKiBUcnVlIGlmIHRoZSBvYmplY3QgaXMgdmFsaWQgKi9cbiAgICBUYXJnZXRTdGF0ZS5wcm90b3R5cGUudmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5lcnJvcigpO1xuICAgIH07XG4gICAgLyoqIElmIHRoZSBvYmplY3QgaXMgaW52YWxpZCwgcmV0dXJucyB0aGUgcmVhc29uIHdoeSAqL1xuICAgIFRhcmdldFN0YXRlLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJhc2UgPSB0aGlzLm9wdGlvbnMoKS5yZWxhdGl2ZTtcbiAgICAgICAgaWYgKCF0aGlzLl9kZWZpbml0aW9uICYmICEhYmFzZSkge1xuICAgICAgICAgICAgdmFyIHN0YXRlTmFtZSA9IGJhc2UubmFtZSA/IGJhc2UubmFtZSA6IGJhc2U7XG4gICAgICAgICAgICByZXR1cm4gXCJDb3VsZCBub3QgcmVzb2x2ZSAnXCIgKyB0aGlzLm5hbWUoKSArIFwiJyBmcm9tIHN0YXRlICdcIiArIHN0YXRlTmFtZSArIFwiJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fZGVmaW5pdGlvbilcbiAgICAgICAgICAgIHJldHVybiBcIk5vIHN1Y2ggc3RhdGUgJ1wiICsgdGhpcy5uYW1lKCkgKyBcIidcIjtcbiAgICAgICAgaWYgKCF0aGlzLl9kZWZpbml0aW9uLnNlbGYpXG4gICAgICAgICAgICByZXR1cm4gXCJTdGF0ZSAnXCIgKyB0aGlzLm5hbWUoKSArIFwiJyBoYXMgYW4gaW52YWxpZCBkZWZpbml0aW9uXCI7XG4gICAgfTtcbiAgICBUYXJnZXRTdGF0ZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIidcIiArIHRoaXMubmFtZSgpICsgXCInXCIgKyBzdHJpbmdzXzEuc3RyaW5naWZ5KHRoaXMucGFyYW1zKCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGNvcHkgb2YgdGhpcyBUYXJnZXRTdGF0ZSB3aGljaCB0YXJnZXRzIGEgZGlmZmVyZW50IHN0YXRlLlxuICAgICAqIFRoZSBuZXcgVGFyZ2V0U3RhdGUgaGFzIHRoZSBzYW1lIHBhcmFtZXRlciB2YWx1ZXMgYW5kIHRyYW5zaXRpb24gb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGF0ZSBUaGUgbmV3IHN0YXRlIHRoYXQgc2hvdWxkIGJlIHRhcmdldGVkXG4gICAgICovXG4gICAgVGFyZ2V0U3RhdGUucHJvdG90eXBlLndpdGhTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFRhcmdldFN0YXRlKHRoaXMuX3N0YXRlUmVnaXN0cnksIHN0YXRlLCB0aGlzLl9wYXJhbXMsIHRoaXMuX29wdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGNvcHkgb2YgdGhpcyBUYXJnZXRTdGF0ZSwgdXNpbmcgdGhlIHNwZWNpZmllZCBwYXJhbWV0ZXIgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhcmFtcyB0aGUgbmV3IHBhcmFtZXRlciB2YWx1ZXMgdG8gdXNlXG4gICAgICogQHBhcmFtIHJlcGxhY2UgV2hlbiBmYWxzZSAoZGVmYXVsdCkgdGhlIG5ldyBwYXJhbWV0ZXIgdmFsdWVzIHdpbGwgYmUgbWVyZ2VkIHdpdGggdGhlIGN1cnJlbnQgdmFsdWVzLlxuICAgICAqICAgICAgICAgICAgICAgIFdoZW4gdHJ1ZSB0aGUgcGFyYW1ldGVyIHZhbHVlcyB3aWxsIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgY3VycmVudCB2YWx1ZXMuXG4gICAgICovXG4gICAgVGFyZ2V0U3RhdGUucHJvdG90eXBlLndpdGhQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1zLCByZXBsYWNlKSB7XG4gICAgICAgIGlmIChyZXBsYWNlID09PSB2b2lkIDApIHsgcmVwbGFjZSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBuZXdQYXJhbXMgPSByZXBsYWNlID8gcGFyYW1zIDogY29tbW9uXzEuZXh0ZW5kKHt9LCB0aGlzLl9wYXJhbXMsIHBhcmFtcyk7XG4gICAgICAgIHJldHVybiBuZXcgVGFyZ2V0U3RhdGUodGhpcy5fc3RhdGVSZWdpc3RyeSwgdGhpcy5faWRlbnRpZmllciwgbmV3UGFyYW1zLCB0aGlzLl9vcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBjb3B5IG9mIHRoaXMgVGFyZ2V0U3RhdGUsIHVzaW5nIHRoZSBzcGVjaWZpZWQgVHJhbnNpdGlvbiBPcHRpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgdGhlIG5ldyBvcHRpb25zIHRvIHVzZVxuICAgICAqIEBwYXJhbSByZXBsYWNlIFdoZW4gZmFsc2UgKGRlZmF1bHQpIHRoZSBuZXcgb3B0aW9ucyB3aWxsIGJlIG1lcmdlZCB3aXRoIHRoZSBjdXJyZW50IG9wdGlvbnMuXG4gICAgICogICAgICAgICAgICAgICAgV2hlbiB0cnVlIHRoZSBvcHRpb25zIHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IG9wdGlvbnMuXG4gICAgICovXG4gICAgVGFyZ2V0U3RhdGUucHJvdG90eXBlLndpdGhPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMsIHJlcGxhY2UpIHtcbiAgICAgICAgaWYgKHJlcGxhY2UgPT09IHZvaWQgMCkgeyByZXBsYWNlID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIG5ld09wdHMgPSByZXBsYWNlID8gb3B0aW9ucyA6IGNvbW1vbl8xLmV4dGVuZCh7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBuZXcgVGFyZ2V0U3RhdGUodGhpcy5fc3RhdGVSZWdpc3RyeSwgdGhpcy5faWRlbnRpZmllciwgdGhpcy5fcGFyYW1zLCBuZXdPcHRzKTtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBoYXMgYSBzdGF0ZSBwcm9wZXJ0eSB0aGF0IG1pZ2h0IGJlIGEgc3RhdGUgb3Igc3RhdGUgbmFtZSAqL1xuICAgIFRhcmdldFN0YXRlLmlzRGVmID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5zdGF0ZSAmJiAocHJlZGljYXRlc18xLmlzU3RyaW5nKG9iai5zdGF0ZSkgfHwgcHJlZGljYXRlc18xLmlzU3RyaW5nKG9iai5zdGF0ZS5uYW1lKSk7IH07XG4gICAgcmV0dXJuIFRhcmdldFN0YXRlO1xufSgpKTtcbmV4cG9ydHMuVGFyZ2V0U3RhdGUgPSBUYXJnZXRTdGF0ZTtcblxufSx7XCIuLi9jb21tb25cIjo3LFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIjo4LFwiLi4vY29tbW9uL3N0cmluZ3NcIjoxMH1dLDQ2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSB0cmFuc2l0aW9uICovIC8qKiAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xudmFyIGludGVyZmFjZV8xID0gcmVxdWlyZShcIi4vaW50ZXJmYWNlXCIpO1xudmFyIHRyYW5zaXRpb25Ib29rXzEgPSByZXF1aXJlKFwiLi90cmFuc2l0aW9uSG9va1wiKTtcbi8qKlxuICogVGhpcyBjbGFzcyByZXR1cm5zIGFwcGxpY2FibGUgVHJhbnNpdGlvbkhvb2tzIGZvciBhIHNwZWNpZmljIFRyYW5zaXRpb24gaW5zdGFuY2UuXG4gKlxuICogSG9va3MgKFtbUmVnaXN0ZXJlZEhvb2tdXSkgbWF5IGJlIHJlZ2lzdGVyZWQgZ2xvYmFsbHksIGUuZy4sICR0cmFuc2l0aW9ucy5vbkVudGVyKC4uLiksIG9yIGxvY2FsbHksIGUuZy5cbiAqIG15VHJhbnNpdGlvbi5vbkVudGVyKC4uLikuICBUaGUgSG9va0J1aWxkZXIgZmluZHMgbWF0Y2hpbmcgUmVnaXN0ZXJlZEhvb2tzICh3aGVyZSB0aGUgbWF0Y2ggY3JpdGVyaWEgaXNcbiAqIGRldGVybWluZWQgYnkgdGhlIHR5cGUgb2YgaG9vaylcbiAqXG4gKiBUaGUgSG9va0J1aWxkZXIgYWxzbyBjb252ZXJ0cyBSZWdpc3RlcmVkSG9va3Mgb2JqZWN0cyB0byBUcmFuc2l0aW9uSG9vayBvYmplY3RzLCB3aGljaCBhcmUgdXNlZCB0byBydW4gYSBUcmFuc2l0aW9uLlxuICpcbiAqIFRoZSBIb29rQnVpbGRlciBjb25zdHJ1Y3RvciBpcyBnaXZlbiB0aGUgJHRyYW5zaXRpb25zIHNlcnZpY2UgYW5kIGEgVHJhbnNpdGlvbiBpbnN0YW5jZS4gIFRodXMsIGEgSG9va0J1aWxkZXJcbiAqIGluc3RhbmNlIG1heSBvbmx5IGJlIHVzZWQgZm9yIG9uZSBzcGVjaWZpYyBUcmFuc2l0aW9uIG9iamVjdC4gKHNpZGUgbm90ZTogdGhlIF90cmVlQ2hhbmdlcyBhY2Nlc3NvciBpcyBwcml2YXRlXG4gKiBpbiB0aGUgVHJhbnNpdGlvbiBjbGFzcywgc28gd2UgbXVzdCBhbHNvIHByb3ZpZGUgdGhlIFRyYW5zaXRpb24ncyBfdHJlZUNoYW5nZXMpXG4gKlxuICovXG52YXIgSG9va0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSG9va0J1aWxkZXIodHJhbnNpdGlvbikge1xuICAgICAgICB0aGlzLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uO1xuICAgIH1cbiAgICBIb29rQnVpbGRlci5wcm90b3R5cGUuYnVpbGRIb29rc0ZvclBoYXNlID0gZnVuY3Rpb24gKHBoYXNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciAkdHJhbnNpdGlvbnMgPSB0aGlzLnRyYW5zaXRpb24ucm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlO1xuICAgICAgICByZXR1cm4gJHRyYW5zaXRpb25zLl9wbHVnaW5hcGlcbiAgICAgICAgICAgIC5fZ2V0RXZlbnRzKHBoYXNlKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodHlwZSkgeyByZXR1cm4gX3RoaXMuYnVpbGRIb29rcyh0eXBlKTsgfSlcbiAgICAgICAgICAgIC5yZWR1Y2UoY29tbW9uXzEudW5uZXN0UiwgW10pXG4gICAgICAgICAgICAuZmlsdGVyKGNvbW1vbl8xLmlkZW50aXR5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgbmV3bHkgYnVpbHQgVHJhbnNpdGlvbkhvb2sgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIC0gRmluZHMgYWxsIFJlZ2lzdGVyZWRIb29rcyByZWdpc3RlcmVkIGZvciB0aGUgZ2l2ZW4gYGhvb2tUeXBlYCB3aGljaCBtYXRjaGVkIHRoZSB0cmFuc2l0aW9uJ3MgW1tUcmVlQ2hhbmdlc11dLlxuICAgICAqIC0gRmluZHMgW1tQYXRoTm9kZV1dIChvciBgUGF0aE5vZGVbXWApIHRvIHVzZSBhcyB0aGUgVHJhbnNpdGlvbkhvb2sgY29udGV4dChzKVxuICAgICAqIC0gRm9yIGVhY2ggb2YgdGhlIFtbUGF0aE5vZGVdXXMsIGNyZWF0ZXMgYSBUcmFuc2l0aW9uSG9va1xuICAgICAqXG4gICAgICogQHBhcmFtIGhvb2tUeXBlIHRoZSB0eXBlIG9mIHRoZSBob29rIHJlZ2lzdHJhdGlvbiBmdW5jdGlvbiwgZS5nLiwgJ29uRW50ZXInLCAnb25GaW5pc2gnLlxuICAgICAqL1xuICAgIEhvb2tCdWlsZGVyLnByb3RvdHlwZS5idWlsZEhvb2tzID0gZnVuY3Rpb24gKGhvb2tUeXBlKSB7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uID0gdGhpcy50cmFuc2l0aW9uO1xuICAgICAgICB2YXIgdHJlZUNoYW5nZXMgPSB0cmFuc2l0aW9uLnRyZWVDaGFuZ2VzKCk7XG4gICAgICAgIC8vIEZpbmQgYWxsIHRoZSBtYXRjaGluZyByZWdpc3RlcmVkIGhvb2tzIGZvciBhIGdpdmVuIGhvb2sgdHlwZVxuICAgICAgICB2YXIgbWF0Y2hpbmdIb29rcyA9IHRoaXMuZ2V0TWF0Y2hpbmdIb29rcyhob29rVHlwZSwgdHJlZUNoYW5nZXMsIHRyYW5zaXRpb24pO1xuICAgICAgICBpZiAoIW1hdGNoaW5nSG9va3MpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIHZhciBiYXNlSG9va09wdGlvbnMgPSB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uLFxuICAgICAgICAgICAgY3VycmVudDogdHJhbnNpdGlvbi5vcHRpb25zKCkuY3VycmVudCxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG1ha2VUcmFuc2l0aW9uSG9va3MgPSBmdW5jdGlvbiAoaG9vaykge1xuICAgICAgICAgICAgLy8gRmV0Y2ggdGhlIE5vZGVzIHRoYXQgY2F1c2VkIHRoaXMgaG9vayB0byBtYXRjaC5cbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gaG9vay5tYXRjaGVzKHRyZWVDaGFuZ2VzLCB0cmFuc2l0aW9uKTtcbiAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgUGF0aE5vZGVbXSB0aGF0IHdpbGwgYmUgdXNlZCBhcyBUcmFuc2l0aW9uSG9vayBjb250ZXh0IG9iamVjdHNcbiAgICAgICAgICAgIHZhciBtYXRjaGluZ05vZGVzID0gbWF0Y2hlc1tob29rVHlwZS5jcml0ZXJpYU1hdGNoUGF0aC5uYW1lXTtcbiAgICAgICAgICAgIC8vIFJldHVybiBhbiBhcnJheSBvZiBIb29rVHVwbGVzXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hpbmdOb2Rlcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX29wdGlvbnMgPSBjb21tb25fMS5leHRlbmQoe1xuICAgICAgICAgICAgICAgICAgICBiaW5kOiBob29rLmJpbmQsXG4gICAgICAgICAgICAgICAgICAgIHRyYWNlRGF0YTogeyBob29rVHlwZTogaG9va1R5cGUubmFtZSwgY29udGV4dDogbm9kZSB9LFxuICAgICAgICAgICAgICAgIH0sIGJhc2VIb29rT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gaG9va1R5cGUuY3JpdGVyaWFNYXRjaFBhdGguc2NvcGUgPT09IGludGVyZmFjZV8xLlRyYW5zaXRpb25Ib29rU2NvcGUuU1RBVEUgPyBub2RlLnN0YXRlLnNlbGYgOiBudWxsO1xuICAgICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uSG9vayA9IG5ldyB0cmFuc2l0aW9uSG9va18xLlRyYW5zaXRpb25Ib29rKHRyYW5zaXRpb24sIHN0YXRlLCBob29rLCBfb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgaG9vazogaG9vaywgbm9kZTogbm9kZSwgdHJhbnNpdGlvbkhvb2s6IHRyYW5zaXRpb25Ib29rIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG1hdGNoaW5nSG9va3NcbiAgICAgICAgICAgIC5tYXAobWFrZVRyYW5zaXRpb25Ib29rcylcbiAgICAgICAgICAgIC5yZWR1Y2UoY29tbW9uXzEudW5uZXN0UiwgW10pXG4gICAgICAgICAgICAuc29ydCh0dXBsZVNvcnQoaG9va1R5cGUucmV2ZXJzZVNvcnQpKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodHVwbGUpIHsgcmV0dXJuIHR1cGxlLnRyYW5zaXRpb25Ib29rOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpbmRzIGFsbCBSZWdpc3RlcmVkSG9va3MgZnJvbTpcbiAgICAgKiAtIFRoZSBUcmFuc2l0aW9uIG9iamVjdCBpbnN0YW5jZSBob29rIHJlZ2lzdHJ5XG4gICAgICogLSBUaGUgVHJhbnNpdGlvblNlcnZpY2UgKCR0cmFuc2l0aW9ucykgZ2xvYmFsIGhvb2sgcmVnaXN0cnlcbiAgICAgKlxuICAgICAqIHdoaWNoIG1hdGNoZWQ6XG4gICAgICogLSB0aGUgZXZlbnRUeXBlXG4gICAgICogLSB0aGUgbWF0Y2hDcml0ZXJpYSAodG8sIGZyb20sIGV4aXRpbmcsIHJldGFpbmVkLCBlbnRlcmluZylcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGFuIGFycmF5IG9mIG1hdGNoZWQgW1tSZWdpc3RlcmVkSG9va11dc1xuICAgICAqL1xuICAgIEhvb2tCdWlsZGVyLnByb3RvdHlwZS5nZXRNYXRjaGluZ0hvb2tzID0gZnVuY3Rpb24gKGhvb2tUeXBlLCB0cmVlQ2hhbmdlcywgdHJhbnNpdGlvbikge1xuICAgICAgICB2YXIgaXNDcmVhdGUgPSBob29rVHlwZS5ob29rUGhhc2UgPT09IGludGVyZmFjZV8xLlRyYW5zaXRpb25Ib29rUGhhc2UuQ1JFQVRFO1xuICAgICAgICAvLyBJbnN0YW5jZSBhbmQgR2xvYmFsIGhvb2sgcmVnaXN0cmllc1xuICAgICAgICB2YXIgJHRyYW5zaXRpb25zID0gdGhpcy50cmFuc2l0aW9uLnJvdXRlci50cmFuc2l0aW9uU2VydmljZTtcbiAgICAgICAgdmFyIHJlZ2lzdHJpZXMgPSBpc0NyZWF0ZSA/IFskdHJhbnNpdGlvbnNdIDogW3RoaXMudHJhbnNpdGlvbiwgJHRyYW5zaXRpb25zXTtcbiAgICAgICAgcmV0dXJuIHJlZ2lzdHJpZXNcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHJlZykgeyByZXR1cm4gcmVnLmdldEhvb2tzKGhvb2tUeXBlLm5hbWUpOyB9KSAvLyBHZXQgbmFtZWQgaG9va3MgZnJvbSByZWdpc3RyaWVzXG4gICAgICAgICAgICAuZmlsdGVyKGNvbW1vbl8xLmFzc2VydFByZWRpY2F0ZShwcmVkaWNhdGVzXzEuaXNBcnJheSwgXCJicm9rZW4gZXZlbnQgbmFtZWQ6IFwiICsgaG9va1R5cGUubmFtZSkpIC8vIFNhbml0eSBjaGVja1xuICAgICAgICAgICAgLnJlZHVjZShjb21tb25fMS51bm5lc3RSLCBbXSkgLy8gVW4tbmVzdCBSZWdpc3RlcmVkSG9va1tdW10gdG8gUmVnaXN0ZXJlZEhvb2tbXSBhcnJheVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaG9vaykgeyByZXR1cm4gaG9vay5tYXRjaGVzKHRyZWVDaGFuZ2VzLCB0cmFuc2l0aW9uKTsgfSk7IC8vIE9ubHkgdGhvc2Ugc2F0aXNmeWluZyBtYXRjaENyaXRlcmlhXG4gICAgfTtcbiAgICByZXR1cm4gSG9va0J1aWxkZXI7XG59KCkpO1xuZXhwb3J0cy5Ib29rQnVpbGRlciA9IEhvb2tCdWlsZGVyO1xuLyoqXG4gKiBBIGZhY3RvcnkgZm9yIGEgc29ydCBmdW5jdGlvbiBmb3IgSG9va1R1cGxlcy5cbiAqXG4gKiBUaGUgc29ydCBmdW5jdGlvbiBmaXJzdCBjb21wYXJlcyB0aGUgUGF0aE5vZGUgZGVwdGggKGhvdyBkZWVwIGluIHRoZSBzdGF0ZSB0cmVlIGEgbm9kZSBpcyksIHRoZW4gY29tcGFyZXNcbiAqIHRoZSBFdmVudEhvb2sgcHJpb3JpdHkuXG4gKlxuICogQHBhcmFtIHJldmVyc2VEZXB0aFNvcnQgYSBib29sZWFuLCB3aGVuIHRydWUsIHJldmVyc2VzIHRoZSBzb3J0IG9yZGVyIGZvciB0aGUgbm9kZSBkZXB0aFxuICogQHJldHVybnMgYSB0dXBsZSBzb3J0IGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIHR1cGxlU29ydChyZXZlcnNlRGVwdGhTb3J0KSB7XG4gICAgaWYgKHJldmVyc2VEZXB0aFNvcnQgPT09IHZvaWQgMCkgeyByZXZlcnNlRGVwdGhTb3J0ID0gZmFsc2U7IH1cbiAgICByZXR1cm4gZnVuY3Rpb24gbm9kZURlcHRoVGhlblByaW9yaXR5KGwsIHIpIHtcbiAgICAgICAgdmFyIGZhY3RvciA9IHJldmVyc2VEZXB0aFNvcnQgPyAtMSA6IDE7XG4gICAgICAgIHZhciBkZXB0aERlbHRhID0gKGwubm9kZS5zdGF0ZS5wYXRoLmxlbmd0aCAtIHIubm9kZS5zdGF0ZS5wYXRoLmxlbmd0aCkgKiBmYWN0b3I7XG4gICAgICAgIHJldHVybiBkZXB0aERlbHRhICE9PSAwID8gZGVwdGhEZWx0YSA6IHIuaG9vay5wcmlvcml0eSAtIGwuaG9vay5wcmlvcml0eTtcbiAgICB9O1xufVxuXG59LHtcIi4uL2NvbW1vbi9jb21tb25cIjozLFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIjo4LFwiLi9pbnRlcmZhY2VcIjo0OSxcIi4vdHJhbnNpdGlvbkhvb2tcIjo1M31dLDQ3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSB0cmFuc2l0aW9uICovIC8qKiAqL1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vblwiKTtcbnZhciBpbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL2ludGVyZmFjZVwiKTtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gc3RhdGUgbWF0Y2hlcyB0aGUgbWF0Y2hDcml0ZXJpYVxuICpcbiAqIEBoaWRkZW5cbiAqXG4gKiBAcGFyYW0gc3RhdGUgYSBTdGF0ZSBPYmplY3QgdG8gdGVzdCBhZ2FpbnN0XG4gKiBAcGFyYW0gY3JpdGVyaW9uXG4gKiAtIElmIGEgc3RyaW5nLCBtYXRjaFN0YXRlIHVzZXMgdGhlIHN0cmluZyBhcyBhIGdsb2ItbWF0Y2hlciBhZ2FpbnN0IHRoZSBzdGF0ZSBuYW1lXG4gKiAtIElmIGFuIGFycmF5IChvZiBzdHJpbmdzKSwgbWF0Y2hTdGF0ZSB1c2VzIGVhY2ggc3RyaW5nIGluIHRoZSBhcnJheSBhcyBhIGdsb2ItbWF0Y2hlcnMgYWdhaW5zdCB0aGUgc3RhdGUgbmFtZVxuICogICBhbmQgcmV0dXJucyBhIHBvc2l0aXZlIG1hdGNoIGlmIGFueSBvZiB0aGUgZ2xvYnMgbWF0Y2guXG4gKiAtIElmIGEgZnVuY3Rpb24sIG1hdGNoU3RhdGUgY2FsbHMgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIHN0YXRlIGFuZCByZXR1cm5zIHRydWUgaWYgdGhlIGZ1bmN0aW9uJ3MgcmVzdWx0IGlzIHRydXRoeS5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBtYXRjaFN0YXRlKHN0YXRlLCBjcml0ZXJpb24sIHRyYW5zaXRpb24pIHtcbiAgICB2YXIgdG9NYXRjaCA9IGNvbW1vbl8xLmlzU3RyaW5nKGNyaXRlcmlvbikgPyBbY3JpdGVyaW9uXSA6IGNyaXRlcmlvbjtcbiAgICBmdW5jdGlvbiBtYXRjaEdsb2JzKF9zdGF0ZSkge1xuICAgICAgICB2YXIgZ2xvYlN0cmluZ3MgPSB0b01hdGNoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdsb2JTdHJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZ2xvYiA9IG5ldyBjb21tb25fMS5HbG9iKGdsb2JTdHJpbmdzW2ldKTtcbiAgICAgICAgICAgIGlmICgoZ2xvYiAmJiBnbG9iLm1hdGNoZXMoX3N0YXRlLm5hbWUpKSB8fCAoIWdsb2IgJiYgZ2xvYlN0cmluZ3NbaV0gPT09IF9zdGF0ZS5uYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIG1hdGNoRm4gPSAoY29tbW9uXzEuaXNGdW5jdGlvbih0b01hdGNoKSA/IHRvTWF0Y2ggOiBtYXRjaEdsb2JzKTtcbiAgICByZXR1cm4gISFtYXRjaEZuKHN0YXRlLCB0cmFuc2l0aW9uKTtcbn1cbmV4cG9ydHMubWF0Y2hTdGF0ZSA9IG1hdGNoU3RhdGU7XG4vKipcbiAqIEBpbnRlcm5hbGFwaVxuICogVGhlIHJlZ2lzdHJhdGlvbiBkYXRhIGZvciBhIHJlZ2lzdGVyZWQgdHJhbnNpdGlvbiBob29rXG4gKi9cbnZhciBSZWdpc3RlcmVkSG9vayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWdpc3RlcmVkSG9vayh0cmFuU3ZjLCBldmVudFR5cGUsIGNhbGxiYWNrLCBtYXRjaENyaXRlcmlhLCByZW1vdmVIb29rRnJvbVJlZ2lzdHJ5LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHRoaXMudHJhblN2YyA9IHRyYW5TdmM7XG4gICAgICAgIHRoaXMuZXZlbnRUeXBlID0gZXZlbnRUeXBlO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMubWF0Y2hDcml0ZXJpYSA9IG1hdGNoQ3JpdGVyaWE7XG4gICAgICAgIHRoaXMucmVtb3ZlSG9va0Zyb21SZWdpc3RyeSA9IHJlbW92ZUhvb2tGcm9tUmVnaXN0cnk7XG4gICAgICAgIHRoaXMuaW52b2tlQ291bnQgPSAwO1xuICAgICAgICB0aGlzLl9kZXJlZ2lzdGVyZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IG9wdGlvbnMucHJpb3JpdHkgfHwgMDtcbiAgICAgICAgdGhpcy5iaW5kID0gb3B0aW9ucy5iaW5kIHx8IG51bGw7XG4gICAgICAgIHRoaXMuaW52b2tlTGltaXQgPSBvcHRpb25zLmludm9rZUxpbWl0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtYXRjaGluZyBbW1BhdGhOb2RlXV1zXG4gICAgICpcbiAgICAgKiBHaXZlbiBhbiBhcnJheSBvZiBbW1BhdGhOb2RlXV1zLCBhbmQgYSBbW0hvb2tNYXRjaENyaXRlcmlvbl1dLCByZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmdcbiAgICAgKiB0aGUgW1tQYXRoTm9kZV1dcyB0aGF0IHRoZSBjcml0ZXJpYSBtYXRjaGVzLCBvciBgbnVsbGAgaWYgdGhlcmUgd2VyZSBubyBtYXRjaGluZyBub2Rlcy5cbiAgICAgKlxuICAgICAqIFJldHVybmluZyBgbnVsbGAgaXMgc2lnbmlmaWNhbnQgdG8gZGlzdGluZ3Vpc2ggYmV0d2VlbiB0aGUgZGVmYXVsdFxuICAgICAqIFwibWF0Y2gtYWxsIGNyaXRlcmlvbiB2YWx1ZVwiIG9mIGB0cnVlYCBjb21wYXJlZCB0byBhIGAoKSA9PiB0cnVlYCBmdW5jdGlvbixcbiAgICAgKiB3aGVuIHRoZSBub2RlcyBpcyBhbiBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdXNlZnVsIHRvIGFsbG93IGEgdHJhbnNpdGlvbiBtYXRjaCBjcml0ZXJpYSBvZiBgZW50ZXJpbmc6IHRydWVgXG4gICAgICogdG8gc3RpbGwgbWF0Y2ggYSB0cmFuc2l0aW9uLCBldmVuIHdoZW4gYGVudGVyaW5nID09PSBbXWAuICBDb250cmFzdCB0aGF0XG4gICAgICogd2l0aCBgZW50ZXJpbmc6IChzdGF0ZSkgPT4gdHJ1ZWAgd2hpY2ggb25seSBtYXRjaGVzIHdoZW4gYSBzdGF0ZSBpcyBhY3R1YWxseVxuICAgICAqIGJlaW5nIGVudGVyZWQuXG4gICAgICovXG4gICAgUmVnaXN0ZXJlZEhvb2sucHJvdG90eXBlLl9tYXRjaGluZ05vZGVzID0gZnVuY3Rpb24gKG5vZGVzLCBjcml0ZXJpb24sIHRyYW5zaXRpb24pIHtcbiAgICAgICAgaWYgKGNyaXRlcmlvbiA9PT0gdHJ1ZSlcbiAgICAgICAgICAgIHJldHVybiBub2RlcztcbiAgICAgICAgdmFyIG1hdGNoaW5nID0gbm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBtYXRjaFN0YXRlKG5vZGUuc3RhdGUsIGNyaXRlcmlvbiwgdHJhbnNpdGlvbik7IH0pO1xuICAgICAgICByZXR1cm4gbWF0Y2hpbmcubGVuZ3RoID8gbWF0Y2hpbmcgOiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGVmYXVsdCBtYXRjaCBjcml0ZXJpYSAoYWxsIGB0cnVlYClcbiAgICAgKlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHdoaWNoIGhhcyBhbGwgdGhlIGNyaXRlcmlhIG1hdGNoIHBhdGhzIGFzIGtleXMgYW5kIGB0cnVlYCBhcyB2YWx1ZXMsIGkuZS46XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIHtcbiAgICAgKiAgIHRvOiB0cnVlLFxuICAgICAqICAgZnJvbTogdHJ1ZSxcbiAgICAgKiAgIGVudGVyaW5nOiB0cnVlLFxuICAgICAqICAgZXhpdGluZzogdHJ1ZSxcbiAgICAgKiAgIHJldGFpbmVkOiB0cnVlLFxuICAgICAqIH1cbiAgICAgKi9cbiAgICBSZWdpc3RlcmVkSG9vay5wcm90b3R5cGUuX2dldERlZmF1bHRNYXRjaENyaXRlcmlhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29tbW9uXzEubWFwT2JqKHRoaXMudHJhblN2Yy5fcGx1Z2luYXBpLl9nZXRQYXRoVHlwZXMoKSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIG1hdGNoaW5nIG5vZGVzIGFzIFtbSU1hdGNoaW5nTm9kZXNdXVxuICAgICAqXG4gICAgICogQ3JlYXRlIGEgSU1hdGNoaW5nTm9kZXMgb2JqZWN0IGZyb20gdGhlIFRyYW5zaXRpb25Ib29rVHlwZXMgdGhhdCBpcyByb3VnaGx5IGVxdWl2YWxlbnQgdG86XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGxldCBtYXRjaGVzOiBJTWF0Y2hpbmdOb2RlcyA9IHtcbiAgICAgKiAgIHRvOiAgICAgICBfbWF0Y2hpbmdOb2RlcyhbdGFpbCh0cmVlQ2hhbmdlcy50byldLCAgIG1jLnRvKSxcbiAgICAgKiAgIGZyb206ICAgICBfbWF0Y2hpbmdOb2RlcyhbdGFpbCh0cmVlQ2hhbmdlcy5mcm9tKV0sIG1jLmZyb20pLFxuICAgICAqICAgZXhpdGluZzogIF9tYXRjaGluZ05vZGVzKHRyZWVDaGFuZ2VzLmV4aXRpbmcsICAgICAgbWMuZXhpdGluZyksXG4gICAgICogICByZXRhaW5lZDogX21hdGNoaW5nTm9kZXModHJlZUNoYW5nZXMucmV0YWluZWQsICAgICBtYy5yZXRhaW5lZCksXG4gICAgICogICBlbnRlcmluZzogX21hdGNoaW5nTm9kZXModHJlZUNoYW5nZXMuZW50ZXJpbmcsICAgICBtYy5lbnRlcmluZyksXG4gICAgICogfTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBSZWdpc3RlcmVkSG9vay5wcm90b3R5cGUuX2dldE1hdGNoaW5nTm9kZXMgPSBmdW5jdGlvbiAodHJlZUNoYW5nZXMsIHRyYW5zaXRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNyaXRlcmlhID0gY29tbW9uXzEuZXh0ZW5kKHRoaXMuX2dldERlZmF1bHRNYXRjaENyaXRlcmlhKCksIHRoaXMubWF0Y2hDcml0ZXJpYSk7XG4gICAgICAgIHZhciBwYXRocyA9IGNvbW1vbl8xLnZhbHVlcyh0aGlzLnRyYW5TdmMuX3BsdWdpbmFwaS5fZ2V0UGF0aFR5cGVzKCkpO1xuICAgICAgICByZXR1cm4gcGF0aHMucmVkdWNlKGZ1bmN0aW9uIChtbiwgcGF0aHR5cGUpIHtcbiAgICAgICAgICAgIC8vIFNUQVRFIHNjb3BlIGNyaXRlcmlhIG1hdGNoZXMgYWdhaW5zdCBldmVyeSBub2RlIGluIHRoZSBwYXRoLlxuICAgICAgICAgICAgLy8gVFJBTlNJVElPTiBzY29wZSBjcml0ZXJpYSBtYXRjaGVzIGFnYWluc3Qgb25seSB0aGUgbGFzdCBub2RlIGluIHRoZSBwYXRoXG4gICAgICAgICAgICB2YXIgaXNTdGF0ZUhvb2sgPSBwYXRodHlwZS5zY29wZSA9PT0gaW50ZXJmYWNlXzEuVHJhbnNpdGlvbkhvb2tTY29wZS5TVEFURTtcbiAgICAgICAgICAgIHZhciBwYXRoID0gdHJlZUNoYW5nZXNbcGF0aHR5cGUubmFtZV0gfHwgW107XG4gICAgICAgICAgICB2YXIgbm9kZXMgPSBpc1N0YXRlSG9vayA/IHBhdGggOiBbY29tbW9uXzEudGFpbChwYXRoKV07XG4gICAgICAgICAgICBtbltwYXRodHlwZS5uYW1lXSA9IF90aGlzLl9tYXRjaGluZ05vZGVzKG5vZGVzLCBjcml0ZXJpYVtwYXRodHlwZS5uYW1lXSwgdHJhbnNpdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gbW47XG4gICAgICAgIH0sIHt9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhpcyBob29rJ3MgW1ttYXRjaENyaXRlcmlhXV0gbWF0Y2ggdGhlIGdpdmVuIFtbVHJlZUNoYW5nZXNdXVxuICAgICAqXG4gICAgICogQHJldHVybnMgYW4gSU1hdGNoaW5nTm9kZXMgb2JqZWN0LCBvciBudWxsLiBJZiBhbiBJTWF0Y2hpbmdOb2RlcyBvYmplY3QgaXMgcmV0dXJuZWQsIGl0cyB2YWx1ZXNcbiAgICAgKiBhcmUgdGhlIG1hdGNoaW5nIFtbUGF0aE5vZGVdXXMgZm9yIGVhY2ggW1tIb29rTWF0Y2hDcml0ZXJpb25dXSAodG8sIGZyb20sIGV4aXRpbmcsIHJldGFpbmVkLCBlbnRlcmluZylcbiAgICAgKi9cbiAgICBSZWdpc3RlcmVkSG9vay5wcm90b3R5cGUubWF0Y2hlcyA9IGZ1bmN0aW9uICh0cmVlQ2hhbmdlcywgdHJhbnNpdGlvbikge1xuICAgICAgICB2YXIgbWF0Y2hlcyA9IHRoaXMuX2dldE1hdGNoaW5nTm9kZXModHJlZUNoYW5nZXMsIHRyYW5zaXRpb24pO1xuICAgICAgICAvLyBDaGVjayBpZiBhbGwgdGhlIGNyaXRlcmlhIG1hdGNoZWQgdGhlIFRyZWVDaGFuZ2VzIG9iamVjdFxuICAgICAgICB2YXIgYWxsTWF0Y2hlZCA9IGNvbW1vbl8xLnZhbHVlcyhtYXRjaGVzKS5ldmVyeShjb21tb25fMS5pZGVudGl0eSk7XG4gICAgICAgIHJldHVybiBhbGxNYXRjaGVkID8gbWF0Y2hlcyA6IG51bGw7XG4gICAgfTtcbiAgICBSZWdpc3RlcmVkSG9vay5wcm90b3R5cGUuZGVyZWdpc3RlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVIb29rRnJvbVJlZ2lzdHJ5KHRoaXMpO1xuICAgICAgICB0aGlzLl9kZXJlZ2lzdGVyZWQgPSB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIFJlZ2lzdGVyZWRIb29rO1xufSgpKTtcbmV4cG9ydHMuUmVnaXN0ZXJlZEhvb2sgPSBSZWdpc3RlcmVkSG9vaztcbi8qKiBAaGlkZGVuIFJldHVybiBhIHJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBvZiB0aGUgcmVxdWVzdGVkIHR5cGUuICovXG5mdW5jdGlvbiBtYWtlRXZlbnQocmVnaXN0cnksIHRyYW5zaXRpb25TZXJ2aWNlLCBldmVudFR5cGUpIHtcbiAgICAvLyBDcmVhdGUgdGhlIG9iamVjdCB3aGljaCBob2xkcyB0aGUgcmVnaXN0ZXJlZCB0cmFuc2l0aW9uIGhvb2tzLlxuICAgIHZhciBfcmVnaXN0ZXJlZEhvb2tzID0gKHJlZ2lzdHJ5Ll9yZWdpc3RlcmVkSG9va3MgPSByZWdpc3RyeS5fcmVnaXN0ZXJlZEhvb2tzIHx8IHt9KTtcbiAgICB2YXIgaG9va3MgPSAoX3JlZ2lzdGVyZWRIb29rc1tldmVudFR5cGUubmFtZV0gPSBbXSk7XG4gICAgdmFyIHJlbW92ZUhvb2tGbiA9IGNvbW1vbl8xLnJlbW92ZUZyb20oaG9va3MpO1xuICAgIC8vIENyZWF0ZSBob29rIHJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBvbiB0aGUgSUhvb2tSZWdpc3RyeSBmb3IgdGhlIGV2ZW50XG4gICAgcmVnaXN0cnlbZXZlbnRUeXBlLm5hbWVdID0gaG9va1JlZ2lzdHJhdGlvbkZuO1xuICAgIGZ1bmN0aW9uIGhvb2tSZWdpc3RyYXRpb25GbihtYXRjaE9iamVjdCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIHJlZ2lzdGVyZWRIb29rID0gbmV3IFJlZ2lzdGVyZWRIb29rKHRyYW5zaXRpb25TZXJ2aWNlLCBldmVudFR5cGUsIGNhbGxiYWNrLCBtYXRjaE9iamVjdCwgcmVtb3ZlSG9va0ZuLCBvcHRpb25zKTtcbiAgICAgICAgaG9va3MucHVzaChyZWdpc3RlcmVkSG9vayk7XG4gICAgICAgIHJldHVybiByZWdpc3RlcmVkSG9vay5kZXJlZ2lzdGVyLmJpbmQocmVnaXN0ZXJlZEhvb2spO1xuICAgIH1cbiAgICByZXR1cm4gaG9va1JlZ2lzdHJhdGlvbkZuO1xufVxuZXhwb3J0cy5tYWtlRXZlbnQgPSBtYWtlRXZlbnQ7XG5cbn0se1wiLi4vY29tbW9uXCI6NyxcIi4vaW50ZXJmYWNlXCI6NDl9XSw0ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqICMgVHJhbnNpdGlvbiBzdWJzeXN0ZW1cbiAqXG4gKiBUaGlzIG1vZHVsZSBjb250YWlucyBBUElzIHJlbGF0ZWQgdG8gYSBUcmFuc2l0aW9uLlxuICpcbiAqIFNlZTpcbiAqIC0gW1tUcmFuc2l0aW9uU2VydmljZV1dXG4gKiAtIFtbVHJhbnNpdGlvbl1dXG4gKiAtIFtbSG9va0ZuXV0sIFtbVHJhbnNpdGlvbkhvb2tGbl1dLCBbW1RyYW5zaXRpb25TdGF0ZUhvb2tGbl1dLCBbW0hvb2tNYXRjaENyaXRlcmlhXV0sIFtbSG9va1Jlc3VsdF1dXG4gKlxuICogQHByZWZlcnJlZCBAcHVibGljYXBpIEBtb2R1bGUgdHJhbnNpdGlvblxuICovIC8qKiAqL1xuX19leHBvcnQocmVxdWlyZShcIi4vaW50ZXJmYWNlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2hvb2tCdWlsZGVyXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2hvb2tSZWdpc3RyeVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9yZWplY3RGYWN0b3J5XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3RyYW5zaXRpb25cIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdHJhbnNpdGlvbkhvb2tcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdHJhbnNpdGlvbkV2ZW50VHlwZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90cmFuc2l0aW9uU2VydmljZVwiKSk7XG5cbn0se1wiLi9ob29rQnVpbGRlclwiOjQ2LFwiLi9ob29rUmVnaXN0cnlcIjo0NyxcIi4vaW50ZXJmYWNlXCI6NDksXCIuL3JlamVjdEZhY3RvcnlcIjo1MCxcIi4vdHJhbnNpdGlvblwiOjUxLFwiLi90cmFuc2l0aW9uRXZlbnRUeXBlXCI6NTIsXCIuL3RyYW5zaXRpb25Ib29rXCI6NTMsXCIuL3RyYW5zaXRpb25TZXJ2aWNlXCI6NTR9XSw0OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBUcmFuc2l0aW9uSG9va1BoYXNlO1xuKGZ1bmN0aW9uIChUcmFuc2l0aW9uSG9va1BoYXNlKSB7XG4gICAgVHJhbnNpdGlvbkhvb2tQaGFzZVtUcmFuc2l0aW9uSG9va1BoYXNlW1wiQ1JFQVRFXCJdID0gMF0gPSBcIkNSRUFURVwiO1xuICAgIFRyYW5zaXRpb25Ib29rUGhhc2VbVHJhbnNpdGlvbkhvb2tQaGFzZVtcIkJFRk9SRVwiXSA9IDFdID0gXCJCRUZPUkVcIjtcbiAgICBUcmFuc2l0aW9uSG9va1BoYXNlW1RyYW5zaXRpb25Ib29rUGhhc2VbXCJSVU5cIl0gPSAyXSA9IFwiUlVOXCI7XG4gICAgVHJhbnNpdGlvbkhvb2tQaGFzZVtUcmFuc2l0aW9uSG9va1BoYXNlW1wiU1VDQ0VTU1wiXSA9IDNdID0gXCJTVUNDRVNTXCI7XG4gICAgVHJhbnNpdGlvbkhvb2tQaGFzZVtUcmFuc2l0aW9uSG9va1BoYXNlW1wiRVJST1JcIl0gPSA0XSA9IFwiRVJST1JcIjtcbn0pKFRyYW5zaXRpb25Ib29rUGhhc2UgfHwgKFRyYW5zaXRpb25Ib29rUGhhc2UgPSB7fSkpO1xuZXhwb3J0cy5UcmFuc2l0aW9uSG9va1BoYXNlID0gVHJhbnNpdGlvbkhvb2tQaGFzZTtcbnZhciBUcmFuc2l0aW9uSG9va1Njb3BlO1xuKGZ1bmN0aW9uIChUcmFuc2l0aW9uSG9va1Njb3BlKSB7XG4gICAgVHJhbnNpdGlvbkhvb2tTY29wZVtUcmFuc2l0aW9uSG9va1Njb3BlW1wiVFJBTlNJVElPTlwiXSA9IDBdID0gXCJUUkFOU0lUSU9OXCI7XG4gICAgVHJhbnNpdGlvbkhvb2tTY29wZVtUcmFuc2l0aW9uSG9va1Njb3BlW1wiU1RBVEVcIl0gPSAxXSA9IFwiU1RBVEVcIjtcbn0pKFRyYW5zaXRpb25Ib29rU2NvcGUgfHwgKFRyYW5zaXRpb25Ib29rU2NvcGUgPSB7fSkpO1xuZXhwb3J0cy5UcmFuc2l0aW9uSG9va1Njb3BlID0gVHJhbnNpdGlvbkhvb2tTY29wZTtcblxufSx7fV0sNTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSB0cmFuc2l0aW9uICovIC8qKiAqL1xuJ3VzZSBzdHJpY3QnO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgc3RyaW5nc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9zdHJpbmdzXCIpO1xudmFyIGhvZl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9ob2ZcIik7XG52YXIgUmVqZWN0VHlwZTtcbihmdW5jdGlvbiAoUmVqZWN0VHlwZSkge1xuICAgIC8qKlxuICAgICAqIEEgbmV3IHRyYW5zaXRpb24gc3VwZXJzZWRlZCB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIFdoaWxlIHRoaXMgdHJhbnNpdGlvbiB3YXMgcnVubmluZywgYSBuZXcgdHJhbnNpdGlvbiBzdGFydGVkLlxuICAgICAqIFRoaXMgdHJhbnNpdGlvbiBpcyBjYW5jZWxsZWQgYmVjYXVzZSBpdCB3YXMgc3VwZXJzZWRlZCBieSBuZXcgdHJhbnNpdGlvbi5cbiAgICAgKi9cbiAgICBSZWplY3RUeXBlW1JlamVjdFR5cGVbXCJTVVBFUlNFREVEXCJdID0gMl0gPSBcIlNVUEVSU0VERURcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNpdGlvbiB3YXMgYWJvcnRlZFxuICAgICAqXG4gICAgICogVGhlIHRyYW5zaXRpb24gd2FzIGFib3J0ZWQgYnkgYSBob29rIHdoaWNoIHJldHVybmVkIGBmYWxzZWBcbiAgICAgKi9cbiAgICBSZWplY3RUeXBlW1JlamVjdFR5cGVbXCJBQk9SVEVEXCJdID0gM10gPSBcIkFCT1JURURcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNpdGlvbiB3YXMgaW52YWxpZFxuICAgICAqXG4gICAgICogVGhlIHRyYW5zaXRpb24gd2FzIG5ldmVyIHN0YXJ0ZWQgYmVjYXVzZSBpdCB3YXMgaW52YWxpZFxuICAgICAqL1xuICAgIFJlamVjdFR5cGVbUmVqZWN0VHlwZVtcIklOVkFMSURcIl0gPSA0XSA9IFwiSU5WQUxJRFwiO1xuICAgIC8qKlxuICAgICAqIFRoZSB0cmFuc2l0aW9uIHdhcyBpZ25vcmVkXG4gICAgICpcbiAgICAgKiBUaGUgdHJhbnNpdGlvbiB3YXMgaWdub3JlZCBiZWNhdXNlIGl0IHdvdWxkIGhhdmUgbm8gZWZmZWN0LlxuICAgICAqXG4gICAgICogRWl0aGVyOlxuICAgICAqXG4gICAgICogLSBUaGUgdHJhbnNpdGlvbiBpcyB0YXJnZXRpbmcgdGhlIGN1cnJlbnQgc3RhdGUgYW5kIHBhcmFtZXRlciB2YWx1ZXNcbiAgICAgKiAtIFRoZSB0cmFuc2l0aW9uIGlzIHRhcmdldGluZyB0aGUgc2FtZSBzdGF0ZSBhbmQgcGFyYW1ldGVyIHZhbHVlcyBhcyB0aGUgY3VycmVudGx5IHJ1bm5pbmcgdHJhbnNpdGlvbi5cbiAgICAgKi9cbiAgICBSZWplY3RUeXBlW1JlamVjdFR5cGVbXCJJR05PUkVEXCJdID0gNV0gPSBcIklHTk9SRURcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNpdGlvbiBlcnJvcmVkLlxuICAgICAqXG4gICAgICogVGhpcyBnZW5lcmFsbHkgbWVhbnMgYSBob29rIHRocmV3IGFuIGVycm9yIG9yIHJldHVybmVkIGEgcmVqZWN0ZWQgcHJvbWlzZVxuICAgICAqL1xuICAgIFJlamVjdFR5cGVbUmVqZWN0VHlwZVtcIkVSUk9SXCJdID0gNl0gPSBcIkVSUk9SXCI7XG59KShSZWplY3RUeXBlIHx8IChSZWplY3RUeXBlID0ge30pKTtcbmV4cG9ydHMuUmVqZWN0VHlwZSA9IFJlamVjdFR5cGU7XG4vKiogQGhpZGRlbiAqL1xudmFyIGlkID0gMDtcbnZhciBSZWplY3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVqZWN0aW9uKHR5cGUsIG1lc3NhZ2UsIGRldGFpbCkge1xuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICB0aGlzLiRpZCA9IGlkKys7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMuZGV0YWlsID0gZGV0YWlsO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIHRoZSBvYmogaXMgYSByZWplY3RlZCBwcm9taXNlIGNyZWF0ZWQgZnJvbSB0aGUgYGFzUHJvbWlzZWAgZmFjdG9yeSAqL1xuICAgIFJlamVjdGlvbi5pc1JlamVjdGlvblByb21pc2UgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIG9iai50aGVuID09PSAnZnVuY3Rpb24nICYmIGhvZl8xLmlzKFJlamVjdGlvbikob2JqLl90cmFuc2l0aW9uUmVqZWN0aW9uKTtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIGEgUmVqZWN0aW9uIGR1ZSB0byB0cmFuc2l0aW9uIHN1cGVyc2VkZWQgKi9cbiAgICBSZWplY3Rpb24uc3VwZXJzZWRlZCA9IGZ1bmN0aW9uIChkZXRhaWwsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnVGhlIHRyYW5zaXRpb24gaGFzIGJlZW4gc3VwZXJzZWRlZCBieSBhIGRpZmZlcmVudCB0cmFuc2l0aW9uJztcbiAgICAgICAgdmFyIHJlamVjdGlvbiA9IG5ldyBSZWplY3Rpb24oUmVqZWN0VHlwZS5TVVBFUlNFREVELCBtZXNzYWdlLCBkZXRhaWwpO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJlZGlyZWN0ZWQpIHtcbiAgICAgICAgICAgIHJlamVjdGlvbi5yZWRpcmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVqZWN0aW9uO1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgYSBSZWplY3Rpb24gZHVlIHRvIHJlZGlyZWN0ZWQgdHJhbnNpdGlvbiAqL1xuICAgIFJlamVjdGlvbi5yZWRpcmVjdGVkID0gZnVuY3Rpb24gKGRldGFpbCkge1xuICAgICAgICByZXR1cm4gUmVqZWN0aW9uLnN1cGVyc2VkZWQoZGV0YWlsLCB7IHJlZGlyZWN0ZWQ6IHRydWUgfSk7XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyBhIFJlamVjdGlvbiBkdWUgdG8gaW52YWxpZCB0cmFuc2l0aW9uICovXG4gICAgUmVqZWN0aW9uLmludmFsaWQgPSBmdW5jdGlvbiAoZGV0YWlsKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ1RoaXMgdHJhbnNpdGlvbiBpcyBpbnZhbGlkJztcbiAgICAgICAgcmV0dXJuIG5ldyBSZWplY3Rpb24oUmVqZWN0VHlwZS5JTlZBTElELCBtZXNzYWdlLCBkZXRhaWwpO1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgYSBSZWplY3Rpb24gZHVlIHRvIGlnbm9yZWQgdHJhbnNpdGlvbiAqL1xuICAgIFJlamVjdGlvbi5pZ25vcmVkID0gZnVuY3Rpb24gKGRldGFpbCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICdUaGUgdHJhbnNpdGlvbiB3YXMgaWdub3JlZCc7XG4gICAgICAgIHJldHVybiBuZXcgUmVqZWN0aW9uKFJlamVjdFR5cGUuSUdOT1JFRCwgbWVzc2FnZSwgZGV0YWlsKTtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIGEgUmVqZWN0aW9uIGR1ZSB0byBhYm9ydGVkIHRyYW5zaXRpb24gKi9cbiAgICBSZWplY3Rpb24uYWJvcnRlZCA9IGZ1bmN0aW9uIChkZXRhaWwpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnVGhlIHRyYW5zaXRpb24gaGFzIGJlZW4gYWJvcnRlZCc7XG4gICAgICAgIHJldHVybiBuZXcgUmVqZWN0aW9uKFJlamVjdFR5cGUuQUJPUlRFRCwgbWVzc2FnZSwgZGV0YWlsKTtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIGEgUmVqZWN0aW9uIGR1ZSB0byBhYm9ydGVkIHRyYW5zaXRpb24gKi9cbiAgICBSZWplY3Rpb24uZXJyb3JlZCA9IGZ1bmN0aW9uIChkZXRhaWwpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnVGhlIHRyYW5zaXRpb24gZXJyb3JlZCc7XG4gICAgICAgIHJldHVybiBuZXcgUmVqZWN0aW9uKFJlamVjdFR5cGUuRVJST1IsIG1lc3NhZ2UsIGRldGFpbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgUmVqZWN0aW9uXG4gICAgICpcbiAgICAgKiBOb3JtYWxpemVzIGEgdmFsdWUgYXMgYSBSZWplY3Rpb24uXG4gICAgICogSWYgdGhlIHZhbHVlIGlzIGFscmVhZHkgYSBSZWplY3Rpb24sIHJldHVybnMgaXQuXG4gICAgICogT3RoZXJ3aXNlLCB3cmFwcyBhbmQgcmV0dXJucyB0aGUgdmFsdWUgYXMgYSBSZWplY3Rpb24gKFJlamVjdGlvbiB0eXBlOiBFUlJPUikuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBgZGV0YWlsYCBpZiBpdCBpcyBhbHJlYWR5IGEgYFJlamVjdGlvbmAsIGVsc2UgcmV0dXJucyBhbiBFUlJPUiBSZWplY3Rpb24uXG4gICAgICovXG4gICAgUmVqZWN0aW9uLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uIChkZXRhaWwpIHtcbiAgICAgICAgcmV0dXJuIGhvZl8xLmlzKFJlamVjdGlvbikoZGV0YWlsKSA/IGRldGFpbCA6IFJlamVjdGlvbi5lcnJvcmVkKGRldGFpbCk7XG4gICAgfTtcbiAgICBSZWplY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGV0YWlsU3RyaW5nID0gZnVuY3Rpb24gKGQpIHsgcmV0dXJuIChkICYmIGQudG9TdHJpbmcgIT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgPyBkLnRvU3RyaW5nKCkgOiBzdHJpbmdzXzEuc3RyaW5naWZ5KGQpKTsgfTtcbiAgICAgICAgdmFyIGRldGFpbCA9IGRldGFpbFN0cmluZyh0aGlzLmRldGFpbCk7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsICRpZCA9IF9hLiRpZCwgdHlwZSA9IF9hLnR5cGUsIG1lc3NhZ2UgPSBfYS5tZXNzYWdlO1xuICAgICAgICByZXR1cm4gXCJUcmFuc2l0aW9uIFJlamVjdGlvbigkaWQ6IFwiICsgJGlkICsgXCIgdHlwZTogXCIgKyB0eXBlICsgXCIsIG1lc3NhZ2U6IFwiICsgbWVzc2FnZSArIFwiLCBkZXRhaWw6IFwiICsgZGV0YWlsICsgXCIpXCI7XG4gICAgfTtcbiAgICBSZWplY3Rpb24ucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZChjb21tb25fMS5zaWxlbnRSZWplY3Rpb24odGhpcyksIHsgX3RyYW5zaXRpb25SZWplY3Rpb246IHRoaXMgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVqZWN0aW9uO1xufSgpKTtcbmV4cG9ydHMuUmVqZWN0aW9uID0gUmVqZWN0aW9uO1xuXG59LHtcIi4uL2NvbW1vbi9jb21tb25cIjozLFwiLi4vY29tbW9uL2hvZlwiOjYsXCIuLi9jb21tb24vc3RyaW5nc1wiOjEwfV0sNTE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQHB1YmxpY2FwaSBAbW9kdWxlIHRyYW5zaXRpb24gKi8gLyoqICovXG52YXIgdHJhY2VfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vdHJhY2VcIik7XG52YXIgY29yZXNlcnZpY2VzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvcmVzZXJ2aWNlc1wiKTtcbnZhciBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3N0cmluZ3NcIik7XG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbnZhciBwcmVkaWNhdGVzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIik7XG52YXIgaG9mXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2hvZlwiKTtcbnZhciBpbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL2ludGVyZmFjZVwiKTsgLy8gaGFzIG9yIGlzIHVzaW5nXG52YXIgdHJhbnNpdGlvbkhvb2tfMSA9IHJlcXVpcmUoXCIuL3RyYW5zaXRpb25Ib29rXCIpO1xudmFyIGhvb2tSZWdpc3RyeV8xID0gcmVxdWlyZShcIi4vaG9va1JlZ2lzdHJ5XCIpO1xudmFyIGhvb2tCdWlsZGVyXzEgPSByZXF1aXJlKFwiLi9ob29rQnVpbGRlclwiKTtcbnZhciBwYXRoVXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9wYXRoL3BhdGhVdGlsc1wiKTtcbnZhciBwYXJhbV8xID0gcmVxdWlyZShcIi4uL3BhcmFtcy9wYXJhbVwiKTtcbnZhciByZXNvbHZhYmxlXzEgPSByZXF1aXJlKFwiLi4vcmVzb2x2ZS9yZXNvbHZhYmxlXCIpO1xudmFyIHJlc29sdmVDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vcmVzb2x2ZS9yZXNvbHZlQ29udGV4dFwiKTtcbnZhciByZWplY3RGYWN0b3J5XzEgPSByZXF1aXJlKFwiLi9yZWplY3RGYWN0b3J5XCIpO1xudmFyIGNvbW1vbl8yID0gcmVxdWlyZShcIi4uL2NvbW1vblwiKTtcbi8qKiBAaGlkZGVuICovXG52YXIgc3RhdGVTZWxmID0gaG9mXzEucHJvcCgnc2VsZicpO1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgdHJhbnNpdGlvbiBiZXR3ZWVuIHR3byBzdGF0ZXMuXG4gKlxuICogV2hlbiBuYXZpZ2F0aW5nIHRvIGEgc3RhdGUsIHdlIGFyZSB0cmFuc2l0aW9uaW5nICoqZnJvbSoqIHRoZSBjdXJyZW50IHN0YXRlICoqdG8qKiB0aGUgbmV3IHN0YXRlLlxuICpcbiAqIFRoaXMgb2JqZWN0IGNvbnRhaW5zIGFsbCBjb250ZXh0dWFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSB0by9mcm9tIHN0YXRlcywgcGFyYW1ldGVycywgcmVzb2x2ZXMuXG4gKiBJdCBoYXMgaW5mb3JtYXRpb24gYWJvdXQgYWxsIHN0YXRlcyBiZWluZyBlbnRlcmVkIGFuZCBleGl0ZWQgYXMgYSByZXN1bHQgb2YgdGhlIHRyYW5zaXRpb24uXG4gKi9cbnZhciBUcmFuc2l0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgVHJhbnNpdGlvbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgdGFyZ2V0IHN0YXRlIGlzIG5vdCB2YWxpZCwgYW4gZXJyb3IgaXMgdGhyb3duLlxuICAgICAqXG4gICAgICogQGludGVybmFsYXBpXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZnJvbVBhdGggVGhlIHBhdGggb2YgW1tQYXRoTm9kZV1dcyBmcm9tIHdoaWNoIHRoZSB0cmFuc2l0aW9uIGlzIGxlYXZpbmcuICBUaGUgbGFzdCBub2RlIGluIHRoZSBgZnJvbVBhdGhgXG4gICAgICogICAgICAgIGVuY2Fwc3VsYXRlcyB0aGUgXCJmcm9tIHN0YXRlXCIuXG4gICAgICogQHBhcmFtIHRhcmdldFN0YXRlIFRoZSB0YXJnZXQgc3RhdGUgYW5kIHBhcmFtZXRlcnMgYmVpbmcgdHJhbnNpdGlvbmVkIHRvIChhbHNvLCB0aGUgdHJhbnNpdGlvbiBvcHRpb25zKVxuICAgICAqIEBwYXJhbSByb3V0ZXIgVGhlIFtbVUlSb3V0ZXJdXSBpbnN0YW5jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRyYW5zaXRpb24oZnJvbVBhdGgsIHRhcmdldFN0YXRlLCByb3V0ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLyoqIEBoaWRkZW4gKi9cbiAgICAgICAgdGhpcy5fZGVmZXJyZWQgPSBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcS5kZWZlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBwcm9taXNlIGlzIHJlc29sdmVkIG9yIHJlamVjdGVkIGJhc2VkIG9uIHRoZSBvdXRjb21lIG9mIHRoZSBUcmFuc2l0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXaGVuIHRoZSB0cmFuc2l0aW9uIGlzIHN1Y2Nlc3NmdWwsIHRoZSBwcm9taXNlIGlzIHJlc29sdmVkXG4gICAgICAgICAqIFdoZW4gdGhlIHRyYW5zaXRpb24gaXMgdW5zdWNjZXNzZnVsLCB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCB3aXRoIHRoZSBbW1JlamVjdGlvbl1dIG9yIGphdmFzY3JpcHQgZXJyb3JcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvbWlzZSA9IHRoaXMuX2RlZmVycmVkLnByb21pc2U7XG4gICAgICAgIC8qKiBAaGlkZGVuIEhvbGRzIHRoZSBob29rIHJlZ2lzdHJhdGlvbiBmdW5jdGlvbnMgc3VjaCBhcyB0aG9zZSBwYXNzZWQgdG8gVHJhbnNpdGlvbi5vblN0YXJ0KCkgKi9cbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJlZEhvb2tzID0ge307XG4gICAgICAgIC8qKiBAaGlkZGVuICovXG4gICAgICAgIHRoaXMuX2hvb2tCdWlsZGVyID0gbmV3IGhvb2tCdWlsZGVyXzEuSG9va0J1aWxkZXIodGhpcyk7XG4gICAgICAgIC8qKiBDaGVja3MgaWYgdGhpcyB0cmFuc2l0aW9uIGlzIGN1cnJlbnRseSBhY3RpdmUvcnVubmluZy4gKi9cbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJvdXRlci5nbG9iYWxzLnRyYW5zaXRpb24gPT09IF90aGlzOyB9O1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy5fdGFyZ2V0U3RhdGUgPSB0YXJnZXRTdGF0ZTtcbiAgICAgICAgaWYgKCF0YXJnZXRTdGF0ZS52YWxpZCgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGFyZ2V0U3RhdGUuZXJyb3IoKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3VycmVudCgpIGlzIGFzc3VtZWQgdG8gY29tZSBmcm9tIHRhcmdldFN0YXRlLm9wdGlvbnMsIGJ1dCBwcm92aWRlIGEgbmFpdmUgaW1wbGVtZW50YXRpb24gb3RoZXJ3aXNlLlxuICAgICAgICB0aGlzLl9vcHRpb25zID0gY29tbW9uXzEuZXh0ZW5kKHsgY3VycmVudDogaG9mXzEudmFsKHRoaXMpIH0sIHRhcmdldFN0YXRlLm9wdGlvbnMoKSk7XG4gICAgICAgIHRoaXMuJGlkID0gcm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLl90cmFuc2l0aW9uQ291bnQrKztcbiAgICAgICAgdmFyIHRvUGF0aCA9IHBhdGhVdGlsc18xLlBhdGhVdGlscy5idWlsZFRvUGF0aChmcm9tUGF0aCwgdGFyZ2V0U3RhdGUpO1xuICAgICAgICB0aGlzLl90cmVlQ2hhbmdlcyA9IHBhdGhVdGlsc18xLlBhdGhVdGlscy50cmVlQ2hhbmdlcyhmcm9tUGF0aCwgdG9QYXRoLCB0aGlzLl9vcHRpb25zLnJlbG9hZFN0YXRlKTtcbiAgICAgICAgdGhpcy5jcmVhdGVUcmFuc2l0aW9uSG9va1JlZ0ZucygpO1xuICAgICAgICB2YXIgb25DcmVhdGVIb29rcyA9IHRoaXMuX2hvb2tCdWlsZGVyLmJ1aWxkSG9va3NGb3JQaGFzZShpbnRlcmZhY2VfMS5UcmFuc2l0aW9uSG9va1BoYXNlLkNSRUFURSk7XG4gICAgICAgIHRyYW5zaXRpb25Ib29rXzEuVHJhbnNpdGlvbkhvb2suaW52b2tlSG9va3Mob25DcmVhdGVIb29rcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSk7XG4gICAgICAgIHRoaXMuYXBwbHlWaWV3Q29uZmlncyhyb3V0ZXIpO1xuICAgIH1cbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLm9uQmVmb3JlID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5vblN0YXJ0ID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5vbkV4aXQgPSBmdW5jdGlvbiAoY3JpdGVyaWEsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLm9uUmV0YWluID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5vbkVudGVyID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5vbkZpbmlzaCA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUub25TdWNjZXNzID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKiogQGhpZGRlblxuICAgICAqIENyZWF0ZXMgdGhlIHRyYW5zaXRpb24tbGV2ZWwgaG9vayByZWdpc3RyYXRpb24gZnVuY3Rpb25zXG4gICAgICogKHdoaWNoIGNhbiB0aGVuIGJlIHVzZWQgdG8gcmVnaXN0ZXIgaG9va3MpXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuY3JlYXRlVHJhbnNpdGlvbkhvb2tSZWdGbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMucm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLl9wbHVnaW5hcGlcbiAgICAgICAgICAgIC5fZ2V0RXZlbnRzKClcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIHR5cGUuaG9va1BoYXNlICE9PSBpbnRlcmZhY2VfMS5UcmFuc2l0aW9uSG9va1BoYXNlLkNSRUFURTsgfSlcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7IHJldHVybiBob29rUmVnaXN0cnlfMS5tYWtlRXZlbnQoX3RoaXMsIF90aGlzLnJvdXRlci50cmFuc2l0aW9uU2VydmljZSwgdHlwZSk7IH0pO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbGFwaSAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLmdldEhvb2tzID0gZnVuY3Rpb24gKGhvb2tOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWdpc3RlcmVkSG9va3NbaG9va05hbWVdO1xuICAgIH07XG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuYXBwbHlWaWV3Q29uZmlncyA9IGZ1bmN0aW9uIChyb3V0ZXIpIHtcbiAgICAgICAgdmFyIGVudGVyaW5nU3RhdGVzID0gdGhpcy5fdHJlZUNoYW5nZXMuZW50ZXJpbmcubWFwKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnN0YXRlOyB9KTtcbiAgICAgICAgcGF0aFV0aWxzXzEuUGF0aFV0aWxzLmFwcGx5Vmlld0NvbmZpZ3Mocm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLiR2aWV3LCB0aGlzLl90cmVlQ2hhbmdlcy50bywgZW50ZXJpbmdTdGF0ZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGludGVybmFsYXBpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgaW50ZXJuYWwgZnJvbSBbU3RhdGVdIG9iamVjdFxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLiRmcm9tID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29tbW9uXzEudGFpbCh0aGlzLl90cmVlQ2hhbmdlcy5mcm9tKS5zdGF0ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbGFwaVxuICAgICAqXG4gICAgICogQHJldHVybnMgdGhlIGludGVybmFsIHRvIFtTdGF0ZV0gb2JqZWN0XG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuJHRvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29tbW9uXzEudGFpbCh0aGlzLl90cmVlQ2hhbmdlcy50bykuc3RhdGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBcImZyb20gc3RhdGVcIlxuICAgICAqXG4gICAgICogUmV0dXJucyB0aGUgc3RhdGUgdGhhdCB0aGUgdHJhbnNpdGlvbiBpcyBjb21pbmcgKmZyb20qLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHN0YXRlIGRlY2xhcmF0aW9uIG9iamVjdCBmb3IgdGhlIFRyYW5zaXRpb24ncyAoXCJmcm9tIHN0YXRlXCIpLlxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLmZyb20gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRmcm9tKCkuc2VsZjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFwidG8gc3RhdGVcIlxuICAgICAqXG4gICAgICogUmV0dXJucyB0aGUgc3RhdGUgdGhhdCB0aGUgdHJhbnNpdGlvbiBpcyBnb2luZyAqdG8qLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHN0YXRlIGRlY2xhcmF0aW9uIG9iamVjdCBmb3IgdGhlIFRyYW5zaXRpb24ncyB0YXJnZXQgc3RhdGUgKFwidG8gc3RhdGVcIikuXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUudG8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiR0bygpLnNlbGY7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBUYXJnZXQgU3RhdGVcbiAgICAgKlxuICAgICAqIEEgdHJhbnNpdGlvbidzIFtbVGFyZ2V0U3RhdGVdXSBlbmNhcHN1bGF0ZXMgdGhlIFtbdG9dXSBzdGF0ZSwgdGhlIFtbcGFyYW1zXV0sIGFuZCB0aGUgW1tvcHRpb25zXV0gYXMgYSBzaW5nbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgdGhlIFtbVGFyZ2V0U3RhdGVdXSBvZiB0aGlzIFRyYW5zaXRpb25cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS50YXJnZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldFN0YXRlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHR3byB0cmFuc2l0aW9ucyBhcmUgZXF1aXZhbGVudC5cbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLmlzID0gZnVuY3Rpb24gKGNvbXBhcmUpIHtcbiAgICAgICAgaWYgKGNvbXBhcmUgaW5zdGFuY2VvZiBUcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBBbHNvIGNvbXBhcmUgcGFyYW1ldGVyc1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXMoeyB0bzogY29tcGFyZS4kdG8oKS5uYW1lLCBmcm9tOiBjb21wYXJlLiRmcm9tKCkubmFtZSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gISgoY29tcGFyZS50byAmJiAhaG9va1JlZ2lzdHJ5XzEubWF0Y2hTdGF0ZSh0aGlzLiR0bygpLCBjb21wYXJlLnRvLCB0aGlzKSkgfHxcbiAgICAgICAgICAgIChjb21wYXJlLmZyb20gJiYgIWhvb2tSZWdpc3RyeV8xLm1hdGNoU3RhdGUodGhpcy4kZnJvbSgpLCBjb21wYXJlLmZyb20sIHRoaXMpKSk7XG4gICAgfTtcbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5wYXJhbXMgPSBmdW5jdGlvbiAocGF0aG5hbWUpIHtcbiAgICAgICAgaWYgKHBhdGhuYW1lID09PSB2b2lkIDApIHsgcGF0aG5hbWUgPSAndG8nOyB9XG4gICAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKHRoaXMuX3RyZWVDaGFuZ2VzW3BhdGhuYW1lXS5tYXAoaG9mXzEucHJvcCgncGFyYW1WYWx1ZXMnKSkucmVkdWNlKGNvbW1vbl8xLm1lcmdlUiwge30pKTtcbiAgICB9O1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLnBhcmFtc0NoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmcm9tUGFyYW1zID0gdGhpcy5wYXJhbXMoJ2Zyb20nKTtcbiAgICAgICAgdmFyIHRvUGFyYW1zID0gdGhpcy5wYXJhbXMoJ3RvJyk7XG4gICAgICAgIC8vIEFsbCB0aGUgcGFyYW1ldGVycyBkZWNsYXJlZCBvbiBib3RoIHRoZSBcInRvXCIgYW5kIFwiZnJvbVwiIHBhdGhzXG4gICAgICAgIHZhciBhbGxQYXJhbURlc2NyaXB0b3JzID0gW11cbiAgICAgICAgICAgIC5jb25jYXQodGhpcy5fdHJlZUNoYW5nZXMudG8pXG4gICAgICAgICAgICAuY29uY2F0KHRoaXMuX3RyZWVDaGFuZ2VzLmZyb20pXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChwYXRoTm9kZSkgeyByZXR1cm4gcGF0aE5vZGUucGFyYW1TY2hlbWE7IH0pXG4gICAgICAgICAgICAucmVkdWNlKGNvbW1vbl8yLmZsYXR0ZW5SLCBbXSlcbiAgICAgICAgICAgIC5yZWR1Y2UoY29tbW9uXzIudW5pcVIsIFtdKTtcbiAgICAgICAgdmFyIGNoYW5nZWRQYXJhbURlc2NyaXB0b3JzID0gcGFyYW1fMS5QYXJhbS5jaGFuZ2VkKGFsbFBhcmFtRGVzY3JpcHRvcnMsIGZyb21QYXJhbXMsIHRvUGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIGNoYW5nZWRQYXJhbURlc2NyaXB0b3JzLnJlZHVjZShmdW5jdGlvbiAoY2hhbmdlZFZhbHVlcywgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgY2hhbmdlZFZhbHVlc1tkZXNjcmlwdG9yLmlkXSA9IHRvUGFyYW1zW2Rlc2NyaXB0b3IuaWRdO1xuICAgICAgICAgICAgcmV0dXJuIGNoYW5nZWRWYWx1ZXM7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBbW1VJSW5qZWN0b3JdXSBEZXBlbmRlbmN5IEluamVjdG9yXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIGEgRGVwZW5kZW5jeSBJbmplY3RvciBmb3IgdGhlIFRyYW5zaXRpb24ncyB0YXJnZXQgc3RhdGUgKHRvIHN0YXRlKS5cbiAgICAgKiBUaGUgaW5qZWN0b3IgcHJvdmlkZXMgcmVzb2x2ZSB2YWx1ZXMgd2hpY2ggdGhlIHRhcmdldCBzdGF0ZSBoYXMgYWNjZXNzIHRvLlxuICAgICAqXG4gICAgICogVGhlIGBVSUluamVjdG9yYCBjYW4gYWxzbyBwcm92aWRlIHZhbHVlcyBmcm9tIHRoZSBuYXRpdmUgcm9vdC9nbG9iYWwgaW5qZWN0b3IgKG5nMS9uZzIpLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogLm9uRW50ZXIoeyBlbnRlcmluZzogJ215U3RhdGUnIH0sIHRyYW5zID0+IHtcbiAgICAgKiAgIHZhciBteVJlc29sdmVWYWx1ZSA9IHRyYW5zLmluamVjdG9yKCkuZ2V0KCdteVJlc29sdmUnKTtcbiAgICAgKiAgIC8vIEluamVjdCBhIGdsb2JhbCBzZXJ2aWNlIGZyb20gdGhlIGdsb2JhbC9uYXRpdmUgaW5qZWN0b3IgKGlmIGl0IGV4aXN0cylcbiAgICAgKiAgIHZhciBNeVNlcnZpY2UgPSB0cmFucy5pbmplY3RvcigpLmdldCgnTXlTZXJ2aWNlJyk7XG4gICAgICogfSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEluIHNvbWUgY2FzZXMgKHN1Y2ggYXMgYG9uQmVmb3JlYCksIHlvdSBtYXkgbmVlZCBhY2Nlc3MgdG8gc29tZSByZXNvbHZlIGRhdGEgYnV0IGl0IGhhcyBub3QgeWV0IGJlZW4gZmV0Y2hlZC5cbiAgICAgKiBZb3UgY2FuIHVzZSBbW1VJSW5qZWN0b3IuZ2V0QXN5bmNdXSB0byBnZXQgYSBwcm9taXNlIGZvciB0aGUgZGF0YS5cbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiAub25CZWZvcmUoe30sIHRyYW5zID0+IHtcbiAgICAgKiAgIHJldHVybiB0cmFucy5pbmplY3RvcigpLmdldEFzeW5jKCdteVJlc29sdmUnKS50aGVuKG15UmVzb2x2ZVZhbHVlID0+XG4gICAgICogICAgIHJldHVybiBteVJlc29sdmVWYWx1ZSAhPT0gJ0FCT1JUJztcbiAgICAgKiAgIH0pO1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogSWYgYSBgc3RhdGVgIGlzIHByb3ZpZGVkLCB0aGUgaW5qZWN0b3IgdGhhdCBpcyByZXR1cm5lZCB3aWxsIGJlIGxpbWl0ZWQgdG8gcmVzb2x2ZSB2YWx1ZXMgdGhhdCB0aGUgcHJvdmlkZWQgc3RhdGUgaGFzIGFjY2VzcyB0by5cbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgaWYgYm90aCBhIHBhcmVudCBzdGF0ZSBgZm9vYCBhbmQgYSBjaGlsZCBzdGF0ZSBgZm9vLmJhcmAgaGF2ZSBib3RoIGRlZmluZWQgYSByZXNvbHZlIHN1Y2ggYXMgYGRhdGFgLlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIC5vbkVudGVyKHsgdG86ICdmb28uYmFyJyB9LCB0cmFucyA9PiB7XG4gICAgICogICAvLyByZXR1cm5zIHJlc3VsdCBvZiBgZm9vYCBzdGF0ZSdzIGBteVJlc29sdmVgIHJlc29sdmVcbiAgICAgKiAgIC8vIGV2ZW4gdGhvdWdoIGBmb28uYmFyYCBhbHNvIGhhcyBhIGBteVJlc29sdmVgIHJlc29sdmVcbiAgICAgKiAgIHZhciBmb29EYXRhID0gdHJhbnMuaW5qZWN0b3IoJ2ZvbycpLmdldCgnbXlSZXNvbHZlJyk7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBJZiB5b3UgbmVlZCByZXNvbHZlIGRhdGEgZnJvbSB0aGUgZXhpdGluZyBzdGF0ZXMsIHBhc3MgYCdmcm9tJ2AgYXMgYHBhdGhOYW1lYC5cbiAgICAgKiBUaGUgcmVzb2x2ZSBkYXRhIGZyb20gdGhlIGBmcm9tYCBwYXRoIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogLm9uRXhpdCh7IGV4aXRpbmc6ICdmb28uYmFyJyB9LCB0cmFucyA9PiB7XG4gICAgICogICAvLyBHZXRzIHRoZSByZXNvbHZlIHZhbHVlIG9mIGBteVJlc29sdmVgIGZyb20gdGhlIHN0YXRlIGJlaW5nIGV4aXRlZFxuICAgICAqICAgdmFyIGZvb0RhdGEgPSB0cmFucy5pbmplY3RvcihudWxsLCAnZnJvbScpLmdldCgnbXlSZXNvbHZlJyk7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGF0ZSBMaW1pdHMgdGhlIHJlc29sdmVzIHByb3ZpZGVkIHRvIG9ubHkgdGhlIHJlc29sdmVzIHRoZSBwcm92aWRlZCBzdGF0ZSBoYXMgYWNjZXNzIHRvLlxuICAgICAqIEBwYXJhbSBwYXRoTmFtZSBEZWZhdWx0OiBgJ3RvJ2A6IENob29zZXMgdGhlIHBhdGggZm9yIHdoaWNoIHRvIGNyZWF0ZSB0aGUgaW5qZWN0b3IuIFVzZSB0aGlzIHRvIGFjY2VzcyByZXNvbHZlcyBmb3IgYGV4aXRpbmdgIHN0YXRlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgW1tVSUluamVjdG9yXV1cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5pbmplY3RvciA9IGZ1bmN0aW9uIChzdGF0ZSwgcGF0aE5hbWUpIHtcbiAgICAgICAgaWYgKHBhdGhOYW1lID09PSB2b2lkIDApIHsgcGF0aE5hbWUgPSAndG8nOyB9XG4gICAgICAgIHZhciBwYXRoID0gdGhpcy5fdHJlZUNoYW5nZXNbcGF0aE5hbWVdO1xuICAgICAgICBpZiAoc3RhdGUpXG4gICAgICAgICAgICBwYXRoID0gcGF0aFV0aWxzXzEuUGF0aFV0aWxzLnN1YlBhdGgocGF0aCwgZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUuc3RhdGUgPT09IHN0YXRlIHx8IG5vZGUuc3RhdGUubmFtZSA9PT0gc3RhdGU7IH0pO1xuICAgICAgICByZXR1cm4gbmV3IHJlc29sdmVDb250ZXh0XzEuUmVzb2x2ZUNvbnRleHQocGF0aCkuaW5qZWN0b3IoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGF2YWlsYWJsZSByZXNvbHZlIHRva2VucyAoa2V5cylcbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGNhbiBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggW1tpbmplY3Rvcl1dIHRvIGluc3BlY3QgdGhlIHJlc29sdmUgdmFsdWVzXG4gICAgICogYXZhaWxhYmxlIHRvIHRoZSBUcmFuc2l0aW9uLlxuICAgICAqXG4gICAgICogVGhpcyByZXR1cm5zIGFsbCB0aGUgdG9rZW5zIGRlZmluZWQgb24gW1tTdGF0ZURlY2xhcmF0aW9uLnJlc29sdmVdXSBibG9ja3MsIGZvciB0aGUgc3RhdGVzXG4gICAgICogaW4gdGhlIFRyYW5zaXRpb24ncyBbW1RyZWVDaGFuZ2VzLnRvXV0gcGF0aC5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBUaGlzIGV4YW1wbGUgbG9ncyBhbGwgcmVzb2x2ZSB2YWx1ZXNcbiAgICAgKiBgYGBqc1xuICAgICAqIGxldCB0b2tlbnMgPSB0cmFucy5nZXRSZXNvbHZlVG9rZW5zKCk7XG4gICAgICogdG9rZW5zLmZvckVhY2godG9rZW4gPT4gY29uc29sZS5sb2codG9rZW4gKyBcIiA9IFwiICsgdHJhbnMuaW5qZWN0b3IoKS5nZXQodG9rZW4pKSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogVGhpcyBleGFtcGxlIGNyZWF0ZXMgcHJvbWlzZXMgZm9yIGVhY2ggcmVzb2x2ZSB2YWx1ZS5cbiAgICAgKiBUaGlzIHRyaWdnZXJzIGZldGNoZXMgb2YgcmVzb2x2ZXMgKGlmIGFueSBoYXZlIG5vdCB5ZXQgYmVlbiBmZXRjaGVkKS5cbiAgICAgKiBXaGVuIGFsbCBwcm9taXNlcyBoYXZlIGFsbCBzZXR0bGVkLCBpdCBsb2dzIHRoZSByZXNvbHZlIHZhbHVlcy5cbiAgICAgKiBgYGBqc1xuICAgICAqIGxldCB0b2tlbnMgPSB0cmFucy5nZXRSZXNvbHZlVG9rZW5zKCk7XG4gICAgICogbGV0IHByb21pc2UgPSB0b2tlbnMubWFwKHRva2VuID0+IHRyYW5zLmluamVjdG9yKCkuZ2V0QXN5bmModG9rZW4pKTtcbiAgICAgKiBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbih2YWx1ZXMgPT4gY29uc29sZS5sb2coXCJSZXNvbHZlZCB2YWx1ZXM6IFwiICsgdmFsdWVzKSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBOb3RlOiBBbmd1bGFyIDEgdXNlcnMgd2hvdWxkIHVzZSBgJHEuYWxsKClgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aG5hbWUgcmVzb2x2ZSBjb250ZXh0J3MgcGF0aCBuYW1lIChlLmcuLCBgdG9gIG9yIGBmcm9tYClcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGFuIGFycmF5IG9mIHJlc29sdmUgdG9rZW5zIChrZXlzKVxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLmdldFJlc29sdmVUb2tlbnMgPSBmdW5jdGlvbiAocGF0aG5hbWUpIHtcbiAgICAgICAgaWYgKHBhdGhuYW1lID09PSB2b2lkIDApIHsgcGF0aG5hbWUgPSAndG8nOyB9XG4gICAgICAgIHJldHVybiBuZXcgcmVzb2x2ZUNvbnRleHRfMS5SZXNvbHZlQ29udGV4dCh0aGlzLl90cmVlQ2hhbmdlc1twYXRobmFtZV0pLmdldFRva2VucygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRHluYW1pY2FsbHkgYWRkcyBhIG5ldyBbW1Jlc29sdmFibGVdXSAoaS5lLiwgW1tTdGF0ZURlY2xhcmF0aW9uLnJlc29sdmVdXSkgdG8gdGhpcyB0cmFuc2l0aW9uLlxuICAgICAqXG4gICAgICogQWxsb3dzIGEgdHJhbnNpdGlvbiBob29rIHRvIGR5bmFtaWNhbGx5IGFkZCBhIFJlc29sdmFibGUgdG8gdGhpcyBUcmFuc2l0aW9uLlxuICAgICAqXG4gICAgICogVXNlIHRoZSBbW1RyYW5zaXRpb24uaW5qZWN0b3JdXSB0byByZXRyaWV2ZSB0aGUgcmVzb2x2ZWQgZGF0YSBpbiBzdWJzZXF1ZW50IGhvb2tzIChbW1VJSW5qZWN0b3IuZ2V0XV0pLlxuICAgICAqXG4gICAgICogSWYgYSBgc3RhdGVgIGFyZ3VtZW50IGlzIHByb3ZpZGVkLCB0aGUgUmVzb2x2YWJsZSBpcyBwcm9jZXNzZWQgd2hlbiB0aGF0IHN0YXRlIGlzIGJlaW5nIGVudGVyZWQuXG4gICAgICogSWYgbm8gYHN0YXRlYCBpcyBwcm92aWRlZCB0aGVuIHRoZSByb290IHN0YXRlIGlzIHVzZWQuXG4gICAgICogSWYgdGhlIGdpdmVuIGBzdGF0ZWAgaGFzIGFscmVhZHkgYmVlbiBlbnRlcmVkLCB0aGUgUmVzb2x2YWJsZSBpcyBwcm9jZXNzZWQgd2hlbiBhbnkgY2hpbGQgc3RhdGUgaXMgZW50ZXJlZC5cbiAgICAgKiBJZiBubyBjaGlsZCBzdGF0ZXMgd2lsbCBiZSBlbnRlcmVkLCB0aGUgUmVzb2x2YWJsZSBpcyBwcm9jZXNzZWQgZHVyaW5nIHRoZSBgb25GaW5pc2hgIHBoYXNlIG9mIHRoZSBUcmFuc2l0aW9uLlxuICAgICAqXG4gICAgICogVGhlIGBzdGF0ZWAgYXJndW1lbnQgYWxzbyBzY29wZXMgdGhlIHJlc29sdmVkIGRhdGEuXG4gICAgICogVGhlIHJlc29sdmVkIGRhdGEgaXMgYXZhaWxhYmxlIGZyb20gdGhlIGluamVjdG9yIGZvciB0aGF0IGBzdGF0ZWAgYW5kIGFueSBjaGlsZHJlbiBzdGF0ZXMuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiB0cmFuc2l0aW9uU2VydmljZS5vbkJlZm9yZSh7fSwgdHJhbnNpdGlvbiA9PiB7XG4gICAgICogICB0cmFuc2l0aW9uLmFkZFJlc29sdmFibGUoe1xuICAgICAqICAgICB0b2tlbjogJ215UmVzb2x2ZScsXG4gICAgICogICAgIGRlcHM6IFsnTXlTZXJ2aWNlJ10sXG4gICAgICogICAgIHJlc29sdmVGbjogbXlTZXJ2aWNlID0+IG15U2VydmljZS5nZXREYXRhKClcbiAgICAgKiAgIH0pO1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHJlc29sdmFibGUgYSBbW1Jlc29sdmFibGVMaXRlcmFsXV0gb2JqZWN0IChvciBhIFtbUmVzb2x2YWJsZV1dKVxuICAgICAqIEBwYXJhbSBzdGF0ZSB0aGUgc3RhdGUgaW4gdGhlIFwidG8gcGF0aFwiIHdoaWNoIHNob3VsZCByZWNlaXZlIHRoZSBuZXcgcmVzb2x2ZSAob3RoZXJ3aXNlLCB0aGUgcm9vdCBzdGF0ZSlcbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5hZGRSZXNvbHZhYmxlID0gZnVuY3Rpb24gKHJlc29sdmFibGUsIHN0YXRlKSB7XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gdm9pZCAwKSB7IHN0YXRlID0gJyc7IH1cbiAgICAgICAgcmVzb2x2YWJsZSA9IGhvZl8xLmlzKHJlc29sdmFibGVfMS5SZXNvbHZhYmxlKShyZXNvbHZhYmxlKSA/IHJlc29sdmFibGUgOiBuZXcgcmVzb2x2YWJsZV8xLlJlc29sdmFibGUocmVzb2x2YWJsZSk7XG4gICAgICAgIHZhciBzdGF0ZU5hbWUgPSB0eXBlb2Ygc3RhdGUgPT09ICdzdHJpbmcnID8gc3RhdGUgOiBzdGF0ZS5uYW1lO1xuICAgICAgICB2YXIgdG9wYXRoID0gdGhpcy5fdHJlZUNoYW5nZXMudG87XG4gICAgICAgIHZhciB0YXJnZXROb2RlID0gY29tbW9uXzEuZmluZCh0b3BhdGgsIGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnN0YXRlLm5hbWUgPT09IHN0YXRlTmFtZTsgfSk7XG4gICAgICAgIHZhciByZXNvbHZlQ29udGV4dCA9IG5ldyByZXNvbHZlQ29udGV4dF8xLlJlc29sdmVDb250ZXh0KHRvcGF0aCk7XG4gICAgICAgIHJlc29sdmVDb250ZXh0LmFkZFJlc29sdmFibGVzKFtyZXNvbHZhYmxlXSwgdGFyZ2V0Tm9kZS5zdGF0ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0cmFuc2l0aW9uIGZyb20gd2hpY2ggdGhpcyB0cmFuc2l0aW9uIHdhcyByZWRpcmVjdGVkLlxuICAgICAqXG4gICAgICogSWYgdGhlIGN1cnJlbnQgdHJhbnNpdGlvbiBpcyBhIHJlZGlyZWN0LCB0aGlzIG1ldGhvZCByZXR1cm5zIHRoZSB0cmFuc2l0aW9uIHRoYXQgd2FzIHJlZGlyZWN0ZWQuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiBsZXQgdHJhbnNpdGlvbkEgPSAkc3RhdGUuZ28oJ0EnKS50cmFuc2l0aW9uXG4gICAgICogdHJhbnNpdGlvbkEub25TdGFydCh7fSwgKCkgPT4gJHN0YXRlLnRhcmdldCgnQicpKTtcbiAgICAgKiAkdHJhbnNpdGlvbnMub25TdWNjZXNzKHsgdG86ICdCJyB9LCAodHJhbnMpID0+IHtcbiAgICAgKiAgIHRyYW5zLnRvKCkubmFtZSA9PT0gJ0InOyAvLyB0cnVlXG4gICAgICogICB0cmFucy5yZWRpcmVjdGVkRnJvbSgpID09PSB0cmFuc2l0aW9uQTsgLy8gdHJ1ZVxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHByZXZpb3VzIFRyYW5zaXRpb24sIG9yIG51bGwgaWYgdGhpcyBUcmFuc2l0aW9uIGlzIG5vdCB0aGUgcmVzdWx0IG9mIGEgcmVkaXJlY3Rpb25cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5yZWRpcmVjdGVkRnJvbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnMucmVkaXJlY3RlZEZyb20gfHwgbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG9yaWdpbmFsIHRyYW5zaXRpb24gaW4gYSByZWRpcmVjdCBjaGFpblxuICAgICAqXG4gICAgICogQSB0cmFuc2l0aW9uIG1pZ2h0IGJlbG9uZyB0byBhIGxvbmcgY2hhaW4gb2YgbXVsdGlwbGUgcmVkaXJlY3RzLlxuICAgICAqIFRoaXMgbWV0aG9kIHdhbGtzIHRoZSBbW3JlZGlyZWN0ZWRGcm9tXV0gY2hhaW4gYmFjayB0byB0aGUgb3JpZ2luYWwgKGZpcnN0KSB0cmFuc2l0aW9uIGluIHRoZSBjaGFpbi5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vIHN0YXRlc1xuICAgICAqIHJlZ2lzdHJ5LnJlZ2lzdGVyKHsgbmFtZTogJ0EnLCByZWRpcmVjdFRvOiAnQicgfSk7XG4gICAgICogcmVnaXN0cnkucmVnaXN0ZXIoeyBuYW1lOiAnQicsIHJlZGlyZWN0VG86ICdDJyB9KTtcbiAgICAgKiByZWdpc3RyeS5yZWdpc3Rlcih7IG5hbWU6ICdDJywgcmVkaXJlY3RUbzogJ0QnIH0pO1xuICAgICAqIHJlZ2lzdHJ5LnJlZ2lzdGVyKHsgbmFtZTogJ0QnIH0pO1xuICAgICAqXG4gICAgICogbGV0IHRyYW5zaXRpb25BID0gJHN0YXRlLmdvKCdBJykudHJhbnNpdGlvblxuICAgICAqXG4gICAgICogJHRyYW5zaXRpb25zLm9uU3VjY2Vzcyh7IHRvOiAnRCcgfSwgKHRyYW5zKSA9PiB7XG4gICAgICogICB0cmFucy50bygpLm5hbWUgPT09ICdEJzsgLy8gdHJ1ZVxuICAgICAqICAgdHJhbnMucmVkaXJlY3RlZEZyb20oKS50bygpLm5hbWUgPT09ICdDJzsgLy8gdHJ1ZVxuICAgICAqICAgdHJhbnMub3JpZ2luYWxUcmFuc2l0aW9uKCkgPT09IHRyYW5zaXRpb25BOyAvLyB0cnVlXG4gICAgICogICB0cmFucy5vcmlnaW5hbFRyYW5zaXRpb24oKS50bygpLm5hbWUgPT09ICdBJzsgLy8gdHJ1ZVxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIG9yaWdpbmFsIFRyYW5zaXRpb24gdGhhdCBzdGFydGVkIGEgcmVkaXJlY3QgY2hhaW5cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5vcmlnaW5hbFRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZiA9IHRoaXMucmVkaXJlY3RlZEZyb20oKTtcbiAgICAgICAgcmV0dXJuIChyZiAmJiByZi5vcmlnaW5hbFRyYW5zaXRpb24oKSkgfHwgdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdHJhbnNpdGlvbiBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0aGUgb3B0aW9ucyBmb3IgdGhpcyBUcmFuc2l0aW9uLlxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLm9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3RhdGVzIGJlaW5nIGVudGVyZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhbiBhcnJheSBvZiBzdGF0ZXMgdGhhdCB3aWxsIGJlIGVudGVyZWQgZHVyaW5nIHRoaXMgdHJhbnNpdGlvbi5cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5lbnRlcmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNvbW1vbl8xLm1hcCh0aGlzLl90cmVlQ2hhbmdlcy5lbnRlcmluZywgaG9mXzEucHJvcCgnc3RhdGUnKSkubWFwKHN0YXRlU2VsZik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGF0ZXMgYmVpbmcgZXhpdGVkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYW4gYXJyYXkgb2Ygc3RhdGVzIHRoYXQgd2lsbCBiZSBleGl0ZWQgZHVyaW5nIHRoaXMgdHJhbnNpdGlvbi5cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5leGl0aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29tbW9uXzEubWFwKHRoaXMuX3RyZWVDaGFuZ2VzLmV4aXRpbmcsIGhvZl8xLnByb3AoJ3N0YXRlJykpXG4gICAgICAgICAgICAubWFwKHN0YXRlU2VsZilcbiAgICAgICAgICAgIC5yZXZlcnNlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGF0ZXMgYmVpbmcgcmV0YWluZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhbiBhcnJheSBvZiBzdGF0ZXMgdGhhdCBhcmUgYWxyZWFkeSBlbnRlcmVkIGZyb20gYSBwcmV2aW91cyBUcmFuc2l0aW9uLCB0aGF0IHdpbGwgbm90IGJlXG4gICAgICogICAgZXhpdGVkIGR1cmluZyB0aGlzIFRyYW5zaXRpb25cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5yZXRhaW5lZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNvbW1vbl8xLm1hcCh0aGlzLl90cmVlQ2hhbmdlcy5yZXRhaW5lZCwgaG9mXzEucHJvcCgnc3RhdGUnKSkubWFwKHN0YXRlU2VsZik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIFtbVmlld0NvbmZpZ11dcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBUcmFuc2l0aW9uXG4gICAgICpcbiAgICAgKiBFYWNoIHN0YXRlIGNhbiBkZWZpbmUgb25lIG9yIG1vcmUgdmlld3MgKHRlbXBsYXRlL2NvbnRyb2xsZXIpLCB3aGljaCBhcmUgZW5jYXBzdWxhdGVkIGFzIGBWaWV3Q29uZmlnYCBvYmplY3RzLlxuICAgICAqIFRoaXMgbWV0aG9kIGZldGNoZXMgdGhlIGBWaWV3Q29uZmlnc2AgZm9yIGEgZ2l2ZW4gcGF0aCBpbiB0aGUgVHJhbnNpdGlvbiAoZS5nLiwgXCJ0b1wiIG9yIFwiZW50ZXJpbmdcIikuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aG5hbWUgdGhlIG5hbWUgb2YgdGhlIHBhdGggdG8gZmV0Y2ggdmlld3MgZm9yOlxuICAgICAqICAgKGAndG8nYCwgYCdmcm9tJ2AsIGAnZW50ZXJpbmcnYCwgYCdleGl0aW5nJ2AsIGAncmV0YWluZWQnYClcbiAgICAgKiBAcGFyYW0gc3RhdGUgSWYgcHJvdmlkZWQsIG9ubHkgcmV0dXJucyB0aGUgYFZpZXdDb25maWdgcyBmb3IgYSBzaW5nbGUgc3RhdGUgaW4gdGhlIHBhdGhcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgbGlzdCBvZiBWaWV3Q29uZmlnIG9iamVjdHMgZm9yIHRoZSBnaXZlbiBwYXRoLlxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLnZpZXdzID0gZnVuY3Rpb24gKHBhdGhuYW1lLCBzdGF0ZSkge1xuICAgICAgICBpZiAocGF0aG5hbWUgPT09IHZvaWQgMCkgeyBwYXRobmFtZSA9ICdlbnRlcmluZyc7IH1cbiAgICAgICAgdmFyIHBhdGggPSB0aGlzLl90cmVlQ2hhbmdlc1twYXRobmFtZV07XG4gICAgICAgIHBhdGggPSAhc3RhdGUgPyBwYXRoIDogcGF0aC5maWx0ZXIoaG9mXzEucHJvcEVxKCdzdGF0ZScsIHN0YXRlKSk7XG4gICAgICAgIHJldHVybiBwYXRoXG4gICAgICAgICAgICAubWFwKGhvZl8xLnByb3AoJ3ZpZXdzJykpXG4gICAgICAgICAgICAuZmlsdGVyKGNvbW1vbl8xLmlkZW50aXR5KVxuICAgICAgICAgICAgLnJlZHVjZShjb21tb25fMS51bm5lc3RSLCBbXSk7XG4gICAgfTtcbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS50cmVlQ2hhbmdlcyA9IGZ1bmN0aW9uIChwYXRobmFtZSkge1xuICAgICAgICByZXR1cm4gcGF0aG5hbWUgPyB0aGlzLl90cmVlQ2hhbmdlc1twYXRobmFtZV0gOiB0aGlzLl90cmVlQ2hhbmdlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdHJhbnNpdGlvbiB0aGF0IGlzIGEgcmVkaXJlY3Rpb24gb2YgdGhlIGN1cnJlbnQgb25lLlxuICAgICAqXG4gICAgICogVGhpcyB0cmFuc2l0aW9uIGNhbiBiZSByZXR1cm5lZCBmcm9tIGEgW1tUcmFuc2l0aW9uU2VydmljZV1dIGhvb2sgdG9cbiAgICAgKiByZWRpcmVjdCBhIHRyYW5zaXRpb24gdG8gYSBuZXcgc3RhdGUgYW5kL29yIHNldCBvZiBwYXJhbWV0ZXJzLlxuICAgICAqXG4gICAgICogQGludGVybmFsYXBpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIGEgbmV3IFtbVHJhbnNpdGlvbl1dIGluc3RhbmNlLlxuICAgICAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLnJlZGlyZWN0ID0gZnVuY3Rpb24gKHRhcmdldFN0YXRlKSB7XG4gICAgICAgIHZhciByZWRpcmVjdHMgPSAxLCB0cmFucyA9IHRoaXM7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1jb25kaXRpb25hbC1hc3NpZ25tZW50XG4gICAgICAgIHdoaWxlICgodHJhbnMgPSB0cmFucy5yZWRpcmVjdGVkRnJvbSgpKSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoKytyZWRpcmVjdHMgPiAyMClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbWFueSBjb25zZWN1dGl2ZSBUcmFuc2l0aW9uIHJlZGlyZWN0cyAoMjArKVwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVkaXJlY3RPcHRzID0geyByZWRpcmVjdGVkRnJvbTogdGhpcywgc291cmNlOiAncmVkaXJlY3QnIH07XG4gICAgICAgIC8vIElmIHRoZSBvcmlnaW5hbCB0cmFuc2l0aW9uIHdhcyBjYXVzZWQgYnkgVVJMIHN5bmMsIHRoZW4gdXNlIHsgbG9jYXRpb246ICdyZXBsYWNlJyB9XG4gICAgICAgIC8vIG9uIHRoZSBuZXcgdHJhbnNpdGlvbiAodW5sZXNzIHRoZSB0YXJnZXQgc3RhdGUgZXhwbGljaXRseSBzcGVjaWZpZXMgbG9jYXRpb246IGZhbHNlKS5cbiAgICAgICAgLy8gVGhpcyBjYXVzZXMgdGhlIG9yaWdpbmFsIHVybCB0byBiZSByZXBsYWNlZCB3aXRoIHRoZSB1cmwgZm9yIHRoZSByZWRpcmVjdCB0YXJnZXRcbiAgICAgICAgLy8gc28gdGhlIG9yaWdpbmFsIHVybCBkaXNhcHBlYXJzIGZyb20gdGhlIGJyb3dzZXIgaGlzdG9yeS5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucygpLnNvdXJjZSA9PT0gJ3VybCcgJiYgdGFyZ2V0U3RhdGUub3B0aW9ucygpLmxvY2F0aW9uICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgcmVkaXJlY3RPcHRzLmxvY2F0aW9uID0gJ3JlcGxhY2UnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdPcHRpb25zID0gY29tbW9uXzEuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMoKSwgdGFyZ2V0U3RhdGUub3B0aW9ucygpLCByZWRpcmVjdE9wdHMpO1xuICAgICAgICB0YXJnZXRTdGF0ZSA9IHRhcmdldFN0YXRlLndpdGhPcHRpb25zKG5ld09wdGlvbnMsIHRydWUpO1xuICAgICAgICB2YXIgbmV3VHJhbnNpdGlvbiA9IHRoaXMucm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLmNyZWF0ZSh0aGlzLl90cmVlQ2hhbmdlcy5mcm9tLCB0YXJnZXRTdGF0ZSk7XG4gICAgICAgIHZhciBvcmlnaW5hbEVudGVyaW5nTm9kZXMgPSB0aGlzLl90cmVlQ2hhbmdlcy5lbnRlcmluZztcbiAgICAgICAgdmFyIHJlZGlyZWN0RW50ZXJpbmdOb2RlcyA9IG5ld1RyYW5zaXRpb24uX3RyZWVDaGFuZ2VzLmVudGVyaW5nO1xuICAgICAgICAvLyAtLS0gUmUtdXNlIHJlc29sdmUgZGF0YSBmcm9tIG9yaWdpbmFsIHRyYW5zaXRpb24gLS0tXG4gICAgICAgIC8vIFdoZW4gcmVkaXJlY3RpbmcgZnJvbSBhIHBhcmVudCBzdGF0ZSB0byBhIGNoaWxkIHN0YXRlIHdoZXJlIHRoZSBwYXJlbnQgcGFyYW1ldGVyIHZhbHVlcyBoYXZlbid0IGNoYW5nZWRcbiAgICAgICAgLy8gKGJlY2F1c2Ugb2YgdGhlIHJlZGlyZWN0KSwgdGhlIHJlc29sdmVzIGZldGNoZWQgYnkgdGhlIG9yaWdpbmFsIHRyYW5zaXRpb24gYXJlIHN0aWxsIHZhbGlkIGluIHRoZVxuICAgICAgICAvLyByZWRpcmVjdGVkIHRyYW5zaXRpb24uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIHlvdSB0byBkZWZpbmUgYSByZWRpcmVjdCBvbiBhIHBhcmVudCBzdGF0ZSB3aGljaCBkZXBlbmRzIG9uIGFuIGFzeW5jIHJlc29sdmUgdmFsdWUuXG4gICAgICAgIC8vIFlvdSBjYW4gd2FpdCBmb3IgdGhlIHJlc29sdmUsIHRoZW4gcmVkaXJlY3QgdG8gYSBjaGlsZCBzdGF0ZSBiYXNlZCBvbiB0aGUgcmVzdWx0LlxuICAgICAgICAvLyBUaGUgcmVkaXJlY3RlZCB0cmFuc2l0aW9uIGRvZXMgbm90IGhhdmUgdG8gcmUtZmV0Y2ggdGhlIHJlc29sdmUuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB2YXIgbm9kZUlzUmVsb2FkaW5nID0gZnVuY3Rpb24gKHJlbG9hZFN0YXRlKSB7IHJldHVybiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlbG9hZFN0YXRlICYmIG5vZGUuc3RhdGUuaW5jbHVkZXNbcmVsb2FkU3RhdGUubmFtZV07XG4gICAgICAgIH07IH07XG4gICAgICAgIC8vIEZpbmQgYW55IFwiZW50ZXJpbmdcIiBub2RlcyBpbiB0aGUgcmVkaXJlY3QgcGF0aCB0aGF0IG1hdGNoIHRoZSBvcmlnaW5hbCBwYXRoIGFuZCBhcmVuJ3QgYmVpbmcgcmVsb2FkZWRcbiAgICAgICAgdmFyIG1hdGNoaW5nRW50ZXJpbmdOb2RlcyA9IHBhdGhVdGlsc18xLlBhdGhVdGlscy5tYXRjaGluZyhyZWRpcmVjdEVudGVyaW5nTm9kZXMsIG9yaWdpbmFsRW50ZXJpbmdOb2RlcywgcGF0aFV0aWxzXzEuUGF0aFV0aWxzLm5vbkR5bmFtaWNQYXJhbXMpLmZpbHRlcihob2ZfMS5ub3Qobm9kZUlzUmVsb2FkaW5nKHRhcmdldFN0YXRlLm9wdGlvbnMoKS5yZWxvYWRTdGF0ZSkpKTtcbiAgICAgICAgLy8gVXNlIHRoZSBleGlzdGluZyAocG9zc2libHkgcHJlLXJlc29sdmVkKSByZXNvbHZhYmxlcyBmb3IgdGhlIG1hdGNoaW5nIGVudGVyaW5nIG5vZGVzLlxuICAgICAgICBtYXRjaGluZ0VudGVyaW5nTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSwgaWR4KSB7XG4gICAgICAgICAgICBub2RlLnJlc29sdmFibGVzID0gb3JpZ2luYWxFbnRlcmluZ05vZGVzW2lkeF0ucmVzb2x2YWJsZXM7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3VHJhbnNpdGlvbjtcbiAgICB9O1xuICAgIC8qKiBAaGlkZGVuIElmIGEgdHJhbnNpdGlvbiBkb2Vzbid0IGV4aXQvZW50ZXIgYW55IHN0YXRlcywgcmV0dXJucyBhbnkgW1tQYXJhbV1dIHdob3NlIHZhbHVlIGNoYW5nZWQgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5fY2hhbmdlZFBhcmFtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRjID0gdGhpcy5fdHJlZUNoYW5nZXM7XG4gICAgICAgIC8qKiBSZXR1cm4gdW5kZWZpbmVkIGlmIGl0J3Mgbm90IGEgXCJkeW5hbWljXCIgdHJhbnNpdGlvbiwgZm9yIHRoZSBmb2xsb3dpbmcgcmVhc29ucyAqL1xuICAgICAgICAvLyBJZiB1c2VyIGV4cGxpY2l0bHkgd2FudHMgYSByZWxvYWRcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMucmVsb2FkKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgLy8gSWYgYW55IHN0YXRlcyBhcmUgZXhpdGluZyBvciBlbnRlcmluZ1xuICAgICAgICBpZiAodGMuZXhpdGluZy5sZW5ndGggfHwgdGMuZW50ZXJpbmcubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgLy8gSWYgdG8vZnJvbSBwYXRoIGxlbmd0aHMgZGlmZmVyXG4gICAgICAgIGlmICh0Yy50by5sZW5ndGggIT09IHRjLmZyb20ubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgLy8gSWYgdGhlIHRvL2Zyb20gcGF0aHMgYXJlIGRpZmZlcmVudFxuICAgICAgICB2YXIgcGF0aHNEaWZmZXIgPSBjb21tb25fMS5hcnJheVR1cGxlcyh0Yy50bywgdGMuZnJvbSlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHR1cGxlKSB7IHJldHVybiB0dXBsZVswXS5zdGF0ZSAhPT0gdHVwbGVbMV0uc3RhdGU7IH0pXG4gICAgICAgICAgICAucmVkdWNlKGNvbW1vbl8xLmFueVRydWVSLCBmYWxzZSk7XG4gICAgICAgIGlmIChwYXRoc0RpZmZlcilcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIEZpbmQgYW55IHBhcmFtZXRlciB2YWx1ZXMgdGhhdCBkaWZmZXJcbiAgICAgICAgdmFyIG5vZGVTY2hlbWFzID0gdGMudG8ubWFwKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnBhcmFtU2NoZW1hOyB9KTtcbiAgICAgICAgdmFyIF9hID0gW3RjLnRvLCB0Yy5mcm9tXS5tYXAoZnVuY3Rpb24gKHBhdGgpIHsgcmV0dXJuIHBhdGgubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnBhcmFtVmFsdWVzOyB9KTsgfSksIHRvVmFsdWVzID0gX2FbMF0sIGZyb21WYWx1ZXMgPSBfYVsxXTtcbiAgICAgICAgdmFyIHR1cGxlcyA9IGNvbW1vbl8xLmFycmF5VHVwbGVzKG5vZGVTY2hlbWFzLCB0b1ZhbHVlcywgZnJvbVZhbHVlcyk7XG4gICAgICAgIHJldHVybiB0dXBsZXMubWFwKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIHNjaGVtYSA9IF9hWzBdLCB0b1ZhbHMgPSBfYVsxXSwgZnJvbVZhbHMgPSBfYVsyXTtcbiAgICAgICAgICAgIHJldHVybiBwYXJhbV8xLlBhcmFtLmNoYW5nZWQoc2NoZW1hLCB0b1ZhbHMsIGZyb21WYWxzKTtcbiAgICAgICAgfSkucmVkdWNlKGNvbW1vbl8xLnVubmVzdFIsIFtdKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdHJhbnNpdGlvbiBpcyBkeW5hbWljLlxuICAgICAqXG4gICAgICogQSB0cmFuc2l0aW9uIGlzIGR5bmFtaWMgaWYgbm8gc3RhdGVzIGFyZSBlbnRlcmVkIG5vciBleGl0ZWQsIGJ1dCBhdCBsZWFzdCBvbmUgZHluYW1pYyBwYXJhbWV0ZXIgaGFzIGNoYW5nZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBUcmFuc2l0aW9uIGlzIGR5bmFtaWNcbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5keW5hbWljID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hhbmdlcyA9IHRoaXMuX2NoYW5nZWRQYXJhbXMoKTtcbiAgICAgICAgcmV0dXJuICFjaGFuZ2VzID8gZmFsc2UgOiBjaGFuZ2VzLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5keW5hbWljOyB9KS5yZWR1Y2UoY29tbW9uXzEuYW55VHJ1ZVIsIGZhbHNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdHJhbnNpdGlvbiBpcyBpZ25vcmVkLlxuICAgICAqXG4gICAgICogQSB0cmFuc2l0aW9uIGlzIGlnbm9yZWQgaWYgbm8gc3RhdGVzIGFyZSBlbnRlcmVkIG5vciBleGl0ZWQsIGFuZCBubyBwYXJhbWV0ZXIgdmFsdWVzIGhhdmUgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIFRyYW5zaXRpb24gaXMgaWdub3JlZC5cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5pZ25vcmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9pZ25vcmVkUmVhc29uKCk7XG4gICAgfTtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFRyYW5zaXRpb24ucHJvdG90eXBlLl9pZ25vcmVkUmVhc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGVuZGluZyA9IHRoaXMucm91dGVyLmdsb2JhbHMudHJhbnNpdGlvbjtcbiAgICAgICAgdmFyIHJlbG9hZFN0YXRlID0gdGhpcy5fb3B0aW9ucy5yZWxvYWRTdGF0ZTtcbiAgICAgICAgdmFyIHNhbWUgPSBmdW5jdGlvbiAocGF0aEEsIHBhdGhCKSB7XG4gICAgICAgICAgICBpZiAocGF0aEEubGVuZ3RoICE9PSBwYXRoQi5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgdmFyIG1hdGNoaW5nID0gcGF0aFV0aWxzXzEuUGF0aFV0aWxzLm1hdGNoaW5nKHBhdGhBLCBwYXRoQik7XG4gICAgICAgICAgICByZXR1cm4gcGF0aEEubGVuZ3RoID09PSBtYXRjaGluZy5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuICFyZWxvYWRTdGF0ZSB8fCAhbm9kZS5zdGF0ZS5pbmNsdWRlc1tyZWxvYWRTdGF0ZS5uYW1lXTsgfSkubGVuZ3RoO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgbmV3VEMgPSB0aGlzLnRyZWVDaGFuZ2VzKCk7XG4gICAgICAgIHZhciBwZW5kVEMgPSBwZW5kaW5nICYmIHBlbmRpbmcudHJlZUNoYW5nZXMoKTtcbiAgICAgICAgaWYgKHBlbmRUQyAmJiBzYW1lKHBlbmRUQy50bywgbmV3VEMudG8pICYmIHNhbWUocGVuZFRDLmV4aXRpbmcsIG5ld1RDLmV4aXRpbmcpKVxuICAgICAgICAgICAgcmV0dXJuICdTYW1lQXNQZW5kaW5nJztcbiAgICAgICAgaWYgKG5ld1RDLmV4aXRpbmcubGVuZ3RoID09PSAwICYmIG5ld1RDLmVudGVyaW5nLmxlbmd0aCA9PT0gMCAmJiBzYW1lKG5ld1RDLmZyb20sIG5ld1RDLnRvKSlcbiAgICAgICAgICAgIHJldHVybiAnU2FtZUFzQ3VycmVudCc7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSdW5zIHRoZSB0cmFuc2l0aW9uXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBnZW5lcmFsbHkgY2FsbGVkIGZyb20gdGhlIFtbU3RhdGVTZXJ2aWNlLnRyYW5zaXRpb25Ub11dXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxhcGlcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgYSBzdWNjZXNzZnVsIHRyYW5zaXRpb24uXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcnVuQWxsSG9va3MgPSB0cmFuc2l0aW9uSG9va18xLlRyYW5zaXRpb25Ib29rLnJ1bkFsbEhvb2tzO1xuICAgICAgICAvLyBHZXRzIHRyYW5zaXRpb24gaG9va3MgYXJyYXkgZm9yIHRoZSBnaXZlbiBwaGFzZVxuICAgICAgICB2YXIgZ2V0SG9va3NGb3IgPSBmdW5jdGlvbiAocGhhc2UpIHsgcmV0dXJuIF90aGlzLl9ob29rQnVpbGRlci5idWlsZEhvb2tzRm9yUGhhc2UocGhhc2UpOyB9O1xuICAgICAgICAvLyBXaGVuIHRoZSBjaGFpbiBpcyBjb21wbGV0ZSwgdGhlbiByZXNvbHZlIG9yIHJlamVjdCB0aGUgZGVmZXJyZWRcbiAgICAgICAgdmFyIHRyYW5zaXRpb25TdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJhY2VfMS50cmFjZS50cmFjZVN1Y2Nlc3MoX3RoaXMuJHRvKCksIF90aGlzKTtcbiAgICAgICAgICAgIF90aGlzLnN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMuX2RlZmVycmVkLnJlc29sdmUoX3RoaXMudG8oKSk7XG4gICAgICAgICAgICBydW5BbGxIb29rcyhnZXRIb29rc0ZvcihpbnRlcmZhY2VfMS5UcmFuc2l0aW9uSG9va1BoYXNlLlNVQ0NFU1MpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRyYW5zaXRpb25FcnJvciA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VFcnJvcihyZWFzb24sIF90aGlzKTtcbiAgICAgICAgICAgIF90aGlzLnN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLl9kZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgIF90aGlzLl9lcnJvciA9IHJlYXNvbjtcbiAgICAgICAgICAgIHJ1bkFsbEhvb2tzKGdldEhvb2tzRm9yKGludGVyZmFjZV8xLlRyYW5zaXRpb25Ib29rUGhhc2UuRVJST1IpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJ1blRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBXYWl0IHRvIGJ1aWxkIHRoZSBSVU4gaG9vayBjaGFpbiB1bnRpbCB0aGUgQkVGT1JFIGhvb2tzIGFyZSBkb25lXG4gICAgICAgICAgICAvLyBUaGlzIGFsbG93cyBhIEJFRk9SRSBob29rIHRvIGR5bmFtaWNhbGx5IGFkZCBhZGRpdGlvbmFsIFJVTiBob29rcyB2aWEgdGhlIFRyYW5zaXRpb24gb2JqZWN0LlxuICAgICAgICAgICAgdmFyIGFsbFJ1bkhvb2tzID0gZ2V0SG9va3NGb3IoaW50ZXJmYWNlXzEuVHJhbnNpdGlvbkhvb2tQaGFzZS5SVU4pO1xuICAgICAgICAgICAgdmFyIGRvbmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcS53aGVuKHVuZGVmaW5lZCk7IH07XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNpdGlvbkhvb2tfMS5UcmFuc2l0aW9uSG9vay5pbnZva2VIb29rcyhhbGxSdW5Ib29rcywgZG9uZSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzdGFydFRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZ2xvYmFscyA9IF90aGlzLnJvdXRlci5nbG9iYWxzO1xuICAgICAgICAgICAgZ2xvYmFscy5sYXN0U3RhcnRlZFRyYW5zaXRpb25JZCA9IF90aGlzLiRpZDtcbiAgICAgICAgICAgIGdsb2JhbHMudHJhbnNpdGlvbiA9IF90aGlzO1xuICAgICAgICAgICAgZ2xvYmFscy50cmFuc2l0aW9uSGlzdG9yeS5lbnF1ZXVlKF90aGlzKTtcbiAgICAgICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VUcmFuc2l0aW9uU3RhcnQoX3RoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIGNvcmVzZXJ2aWNlc18xLnNlcnZpY2VzLiRxLndoZW4odW5kZWZpbmVkKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGFsbEJlZm9yZUhvb2tzID0gZ2V0SG9va3NGb3IoaW50ZXJmYWNlXzEuVHJhbnNpdGlvbkhvb2tQaGFzZS5CRUZPUkUpO1xuICAgICAgICB0cmFuc2l0aW9uSG9va18xLlRyYW5zaXRpb25Ib29rLmludm9rZUhvb2tzKGFsbEJlZm9yZUhvb2tzLCBzdGFydFRyYW5zaXRpb24pXG4gICAgICAgICAgICAudGhlbihydW5UcmFuc2l0aW9uKVxuICAgICAgICAgICAgLnRoZW4odHJhbnNpdGlvblN1Y2Nlc3MsIHRyYW5zaXRpb25FcnJvcik7XG4gICAgICAgIHJldHVybiB0aGlzLnByb21pc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIFRyYW5zaXRpb24gaXMgdmFsaWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIFRyYW5zaXRpb24gaXMgdmFsaWRcbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS52YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmVycm9yKCkgfHwgdGhpcy5zdWNjZXNzICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBYm9ydHMgdGhpcyB0cmFuc2l0aW9uXG4gICAgICpcbiAgICAgKiBJbXBlcmF0aXZlIEFQSSB0byBhYm9ydCBhIFRyYW5zaXRpb24uXG4gICAgICogVGhpcyBvbmx5IGFwcGxpZXMgdG8gVHJhbnNpdGlvbnMgdGhhdCBhcmUgbm90IHlldCBjb21wbGV0ZS5cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRG8gbm90IHNldCBmbGFnIGlmIHRoZSB0cmFuc2l0aW9uIGlzIGFscmVhZHkgY29tcGxldGVcbiAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc1VuZGVmaW5lZCh0aGlzLnN1Y2Nlc3MpKSB7XG4gICAgICAgICAgICB0aGlzLl9hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIFRyYW5zaXRpb24gZXJyb3IgcmVhc29uLlxuICAgICAqXG4gICAgICogSWYgdGhlIHRyYW5zaXRpb24gaXMgaW52YWxpZCAoYW5kIGNvdWxkIG5vdCBiZSBydW4pLCByZXR1cm5zIHRoZSByZWFzb24gdGhlIHRyYW5zaXRpb24gaXMgaW52YWxpZC5cbiAgICAgKiBJZiB0aGUgdHJhbnNpdGlvbiB3YXMgdmFsaWQgYW5kIHJhbiwgYnV0IHdhcyBub3Qgc3VjY2Vzc2Z1bCwgcmV0dXJucyB0aGUgcmVhc29uIHRoZSB0cmFuc2l0aW9uIGZhaWxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgdHJhbnNpdGlvbiByZWplY3Rpb24gZXhwbGFpbmluZyB3aHkgdGhlIHRyYW5zaXRpb24gaXMgaW52YWxpZCwgb3IgdGhlIHJlYXNvbiB0aGUgdHJhbnNpdGlvbiBmYWlsZWQuXG4gICAgICovXG4gICAgVHJhbnNpdGlvbi5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuJHRvKCk7XG4gICAgICAgIGlmIChzdGF0ZS5zZWxmLmFic3RyYWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0RmFjdG9yeV8xLlJlamVjdGlvbi5pbnZhbGlkKFwiQ2Fubm90IHRyYW5zaXRpb24gdG8gYWJzdHJhY3Qgc3RhdGUgJ1wiICsgc3RhdGUubmFtZSArIFwiJ1wiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyYW1EZWZzID0gc3RhdGUucGFyYW1ldGVycygpO1xuICAgICAgICB2YXIgdmFsdWVzID0gdGhpcy5wYXJhbXMoKTtcbiAgICAgICAgdmFyIGludmFsaWRQYXJhbXMgPSBwYXJhbURlZnMuZmlsdGVyKGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gIXBhcmFtLnZhbGlkYXRlcyh2YWx1ZXNbcGFyYW0uaWRdKTsgfSk7XG4gICAgICAgIGlmIChpbnZhbGlkUGFyYW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGludmFsaWRWYWx1ZXMgPSBpbnZhbGlkUGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0pIHsgcmV0dXJuIFwiW1wiICsgcGFyYW0uaWQgKyBcIjpcIiArIHN0cmluZ3NfMS5zdHJpbmdpZnkodmFsdWVzW3BhcmFtLmlkXSkgKyBcIl1cIjsgfSkuam9pbignLCAnKTtcbiAgICAgICAgICAgIHZhciBkZXRhaWwgPSBcIlRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyIHZhbHVlcyBhcmUgbm90IHZhbGlkIGZvciBzdGF0ZSAnXCIgKyBzdGF0ZS5uYW1lICsgXCInOiBcIiArIGludmFsaWRWYWx1ZXM7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0RmFjdG9yeV8xLlJlamVjdGlvbi5pbnZhbGlkKGRldGFpbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3VjY2VzcyA9PT0gZmFsc2UpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3I7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgVHJhbnNpdGlvblxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIFRyYW5zaXRpb25cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZyb21TdGF0ZU9yTmFtZSA9IHRoaXMuZnJvbSgpO1xuICAgICAgICB2YXIgdG9TdGF0ZU9yTmFtZSA9IHRoaXMudG8oKTtcbiAgICAgICAgdmFyIGF2b2lkRW1wdHlIYXNoID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmFtc1snIyddICE9PSBudWxsICYmIHBhcmFtc1snIyddICE9PSB1bmRlZmluZWQgPyBwYXJhbXMgOiBjb21tb25fMS5vbWl0KHBhcmFtcywgWycjJ10pO1xuICAgICAgICB9O1xuICAgICAgICAvLyAoWCkgbWVhbnMgdGhlIHRvIHN0YXRlIGlzIGludmFsaWQuXG4gICAgICAgIHZhciBpZCA9IHRoaXMuJGlkLCBmcm9tID0gcHJlZGljYXRlc18xLmlzT2JqZWN0KGZyb21TdGF0ZU9yTmFtZSkgPyBmcm9tU3RhdGVPck5hbWUubmFtZSA6IGZyb21TdGF0ZU9yTmFtZSwgZnJvbVBhcmFtcyA9IHN0cmluZ3NfMS5zdHJpbmdpZnkoYXZvaWRFbXB0eUhhc2godGhpcy5fdHJlZUNoYW5nZXMuZnJvbS5tYXAoaG9mXzEucHJvcCgncGFyYW1WYWx1ZXMnKSkucmVkdWNlKGNvbW1vbl8xLm1lcmdlUiwge30pKSksIHRvVmFsaWQgPSB0aGlzLnZhbGlkKCkgPyAnJyA6ICcoWCkgJywgdG8gPSBwcmVkaWNhdGVzXzEuaXNPYmplY3QodG9TdGF0ZU9yTmFtZSkgPyB0b1N0YXRlT3JOYW1lLm5hbWUgOiB0b1N0YXRlT3JOYW1lLCB0b1BhcmFtcyA9IHN0cmluZ3NfMS5zdHJpbmdpZnkoYXZvaWRFbXB0eUhhc2godGhpcy5wYXJhbXMoKSkpO1xuICAgICAgICByZXR1cm4gXCJUcmFuc2l0aW9uI1wiICsgaWQgKyBcIiggJ1wiICsgZnJvbSArIFwiJ1wiICsgZnJvbVBhcmFtcyArIFwiIC0+IFwiICsgdG9WYWxpZCArIFwiJ1wiICsgdG8gKyBcIidcIiArIHRvUGFyYW1zICsgXCIgKVwiO1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBUcmFuc2l0aW9uLmRpVG9rZW4gPSBUcmFuc2l0aW9uO1xuICAgIHJldHVybiBUcmFuc2l0aW9uO1xufSgpKTtcbmV4cG9ydHMuVHJhbnNpdGlvbiA9IFRyYW5zaXRpb247XG5cbn0se1wiLi4vY29tbW9uXCI6NyxcIi4uL2NvbW1vbi9jb21tb25cIjozLFwiLi4vY29tbW9uL2NvcmVzZXJ2aWNlc1wiOjQsXCIuLi9jb21tb24vaG9mXCI6NixcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCI6OCxcIi4uL2NvbW1vbi9zdHJpbmdzXCI6MTAsXCIuLi9jb21tb24vdHJhY2VcIjoxMSxcIi4uL3BhcmFtcy9wYXJhbVwiOjI2LFwiLi4vcGF0aC9wYXRoVXRpbHNcIjozMixcIi4uL3Jlc29sdmUvcmVzb2x2YWJsZVwiOjM1LFwiLi4vcmVzb2x2ZS9yZXNvbHZlQ29udGV4dFwiOjM2LFwiLi9ob29rQnVpbGRlclwiOjQ2LFwiLi9ob29rUmVnaXN0cnlcIjo0NyxcIi4vaW50ZXJmYWNlXCI6NDksXCIuL3JlamVjdEZhY3RvcnlcIjo1MCxcIi4vdHJhbnNpdGlvbkhvb2tcIjo1M31dLDUyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRyYW5zaXRpb25Ib29rXzEgPSByZXF1aXJlKFwiLi90cmFuc2l0aW9uSG9va1wiKTtcbi8qKlxuICogVGhpcyBjbGFzcyBkZWZpbmVzIGEgdHlwZSBvZiBob29rLCBzdWNoIGFzIGBvbkJlZm9yZWAgb3IgYG9uRW50ZXJgLlxuICogUGx1Z2lucyBjYW4gZGVmaW5lIGN1c3RvbSBob29rIHR5cGVzLCBzdWNoIGFzIHN0aWNreSBzdGF0ZXMgZG9lcyBmb3IgYG9uSW5hY3RpdmVgLlxuICpcbiAqIEBpbnRlcmFsYXBpXG4gKi9cbnZhciBUcmFuc2l0aW9uRXZlbnRUeXBlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qIHRzbGludDpkaXNhYmxlOm5vLWluZmVycmFibGUtdHlwZXMgKi9cbiAgICBmdW5jdGlvbiBUcmFuc2l0aW9uRXZlbnRUeXBlKG5hbWUsIGhvb2tQaGFzZSwgaG9va09yZGVyLCBjcml0ZXJpYU1hdGNoUGF0aCwgcmV2ZXJzZVNvcnQsIGdldFJlc3VsdEhhbmRsZXIsIGdldEVycm9ySGFuZGxlciwgc3luY2hyb25vdXMpIHtcbiAgICAgICAgaWYgKHJldmVyc2VTb3J0ID09PSB2b2lkIDApIHsgcmV2ZXJzZVNvcnQgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoZ2V0UmVzdWx0SGFuZGxlciA9PT0gdm9pZCAwKSB7IGdldFJlc3VsdEhhbmRsZXIgPSB0cmFuc2l0aW9uSG9va18xLlRyYW5zaXRpb25Ib29rLkhBTkRMRV9SRVNVTFQ7IH1cbiAgICAgICAgaWYgKGdldEVycm9ySGFuZGxlciA9PT0gdm9pZCAwKSB7IGdldEVycm9ySGFuZGxlciA9IHRyYW5zaXRpb25Ib29rXzEuVHJhbnNpdGlvbkhvb2suUkVKRUNUX0VSUk9SOyB9XG4gICAgICAgIGlmIChzeW5jaHJvbm91cyA9PT0gdm9pZCAwKSB7IHN5bmNocm9ub3VzID0gZmFsc2U7IH1cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5ob29rUGhhc2UgPSBob29rUGhhc2U7XG4gICAgICAgIHRoaXMuaG9va09yZGVyID0gaG9va09yZGVyO1xuICAgICAgICB0aGlzLmNyaXRlcmlhTWF0Y2hQYXRoID0gY3JpdGVyaWFNYXRjaFBhdGg7XG4gICAgICAgIHRoaXMucmV2ZXJzZVNvcnQgPSByZXZlcnNlU29ydDtcbiAgICAgICAgdGhpcy5nZXRSZXN1bHRIYW5kbGVyID0gZ2V0UmVzdWx0SGFuZGxlcjtcbiAgICAgICAgdGhpcy5nZXRFcnJvckhhbmRsZXIgPSBnZXRFcnJvckhhbmRsZXI7XG4gICAgICAgIHRoaXMuc3luY2hyb25vdXMgPSBzeW5jaHJvbm91cztcbiAgICB9XG4gICAgcmV0dXJuIFRyYW5zaXRpb25FdmVudFR5cGU7XG59KCkpO1xuZXhwb3J0cy5UcmFuc2l0aW9uRXZlbnRUeXBlID0gVHJhbnNpdGlvbkV2ZW50VHlwZTtcblxufSx7XCIuL3RyYW5zaXRpb25Ib29rXCI6NTN9XSw1MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAcHVibGljYXBpIEBtb2R1bGUgdHJhbnNpdGlvbiAqLyAvKiogKi9cbnZhciBpbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL2ludGVyZmFjZVwiKTtcbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29tbW9uXCIpO1xudmFyIHN0cmluZ3NfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vc3RyaW5nc1wiKTtcbnZhciBwcmVkaWNhdGVzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIik7XG52YXIgaG9mXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2hvZlwiKTtcbnZhciB0cmFjZV8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi90cmFjZVwiKTtcbnZhciBjb3Jlc2VydmljZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCIpO1xudmFyIHJlamVjdEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuL3JlamVjdEZhY3RvcnlcIik7XG52YXIgdGFyZ2V0U3RhdGVfMSA9IHJlcXVpcmUoXCIuLi9zdGF0ZS90YXJnZXRTdGF0ZVwiKTtcbnZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBjdXJyZW50OiBjb21tb25fMS5ub29wLFxuICAgIHRyYW5zaXRpb246IG51bGwsXG4gICAgdHJhY2VEYXRhOiB7fSxcbiAgICBiaW5kOiBudWxsLFxufTtcbi8qKiBAaGlkZGVuICovXG52YXIgVHJhbnNpdGlvbkhvb2sgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVHJhbnNpdGlvbkhvb2sodHJhbnNpdGlvbiwgc3RhdGVDb250ZXh0LCByZWdpc3RlcmVkSG9vaywgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uO1xuICAgICAgICB0aGlzLnN0YXRlQ29udGV4dCA9IHN0YXRlQ29udGV4dDtcbiAgICAgICAgdGhpcy5yZWdpc3RlcmVkSG9vayA9IHJlZ2lzdGVyZWRIb29rO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmlzU3VwZXJzZWRlZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnR5cGUuaG9va1BoYXNlID09PSBpbnRlcmZhY2VfMS5UcmFuc2l0aW9uSG9va1BoYXNlLlJVTiAmJiAhX3RoaXMub3B0aW9ucy50cmFuc2l0aW9uLmlzQWN0aXZlKCk7IH07XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGNvbW1vbl8xLmRlZmF1bHRzKG9wdGlvbnMsIGRlZmF1bHRPcHRpb25zKTtcbiAgICAgICAgdGhpcy50eXBlID0gcmVnaXN0ZXJlZEhvb2suZXZlbnRUeXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFpbnMgdG9nZXRoZXIgYW4gYXJyYXkgb2YgVHJhbnNpdGlvbkhvb2tzLlxuICAgICAqXG4gICAgICogR2l2ZW4gYSBsaXN0IG9mIFtbVHJhbnNpdGlvbkhvb2tdXSBvYmplY3RzLCBjaGFpbnMgdGhlbSB0b2dldGhlci5cbiAgICAgKiBFYWNoIGhvb2sgaXMgaW52b2tlZCBhZnRlciB0aGUgcHJldmlvdXMgb25lIGNvbXBsZXRlcy5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHZhciBob29rczogVHJhbnNpdGlvbkhvb2tbXSA9IGdldEhvb2tzKCk7XG4gICAgICogbGV0IHByb21pc2U6IFByb21pc2U8YW55PiA9IFRyYW5zaXRpb25Ib29rLmNoYWluKGhvb2tzKTtcbiAgICAgKlxuICAgICAqIHByb21pc2UudGhlbihoYW5kbGVTdWNjZXNzLCBoYW5kbGVFcnJvcik7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaG9va3MgdGhlIGxpc3Qgb2YgaG9va3MgdG8gY2hhaW4gdG9nZXRoZXJcbiAgICAgKiBAcGFyYW0gd2FpdEZvciBpZiBwcm92aWRlZCwgdGhlIGNoYWluIGlzIGAudGhlbigpYCdlZCBvZmYgdGhpcyBwcm9taXNlXG4gICAgICogQHJldHVybnMgYSBgUHJvbWlzZWAgZm9yIHNlcXVlbnRpYWxseSBpbnZva2luZyB0aGUgaG9va3MgKGluIG9yZGVyKVxuICAgICAqL1xuICAgIFRyYW5zaXRpb25Ib29rLmNoYWluID0gZnVuY3Rpb24gKGhvb2tzLCB3YWl0Rm9yKSB7XG4gICAgICAgIC8vIENoYWluIHRoZSBuZXh0IGhvb2sgb2ZmIHRoZSBwcmV2aW91c1xuICAgICAgICB2YXIgY3JlYXRlSG9va0NoYWluUiA9IGZ1bmN0aW9uIChwcmV2LCBuZXh0SG9vaykgeyByZXR1cm4gcHJldi50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5leHRIb29rLmludm9rZUhvb2soKTsgfSk7IH07XG4gICAgICAgIHJldHVybiBob29rcy5yZWR1Y2UoY3JlYXRlSG9va0NoYWluUiwgd2FpdEZvciB8fCBjb3Jlc2VydmljZXNfMS5zZXJ2aWNlcy4kcS53aGVuKCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52b2tlcyBhbGwgdGhlIHByb3ZpZGVkIFRyYW5zaXRpb25Ib29rcywgaW4gb3JkZXIuXG4gICAgICogRWFjaCBob29rJ3MgcmV0dXJuIHZhbHVlIGlzIGNoZWNrZWQuXG4gICAgICogSWYgYW55IGhvb2sgcmV0dXJucyBhIHByb21pc2UsIHRoZW4gdGhlIHJlc3Qgb2YgdGhlIGhvb2tzIGFyZSBjaGFpbmVkIG9mZiB0aGF0IHByb21pc2UsIGFuZCB0aGUgcHJvbWlzZSBpcyByZXR1cm5lZC5cbiAgICAgKiBJZiBubyBob29rIHJldHVybnMgYSBwcm9taXNlLCB0aGVuIGFsbCBob29rcyBhcmUgcHJvY2Vzc2VkIHN5bmNocm9ub3VzbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaG9va3MgdGhlIGxpc3Qgb2YgVHJhbnNpdGlvbkhvb2tzIHRvIGludm9rZVxuICAgICAqIEBwYXJhbSBkb25lQ2FsbGJhY2sgYSBjYWxsYmFjayB0aGF0IGlzIGludm9rZWQgYWZ0ZXIgYWxsIHRoZSBob29rcyBoYXZlIHN1Y2Nlc3NmdWxseSBjb21wbGV0ZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIGFzeW5jIHJlc3VsdCwgb3IgdGhlIHJlc3VsdCBvZiB0aGUgY2FsbGJhY2tcbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uSG9vay5pbnZva2VIb29rcyA9IGZ1bmN0aW9uIChob29rcywgZG9uZUNhbGxiYWNrKSB7XG4gICAgICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGhvb2tzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHZhciBob29rUmVzdWx0ID0gaG9va3NbaWR4XS5pbnZva2VIb29rKCk7XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzUHJvbWlzZShob29rUmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmdIb29rcyA9IGhvb2tzLnNsaWNlKGlkeCArIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBUcmFuc2l0aW9uSG9vay5jaGFpbihyZW1haW5pbmdIb29rcywgaG9va1Jlc3VsdCkudGhlbihkb25lQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb25lQ2FsbGJhY2soKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJ1biBhbGwgVHJhbnNpdGlvbkhvb2tzLCBpZ25vcmluZyB0aGVpciByZXR1cm4gdmFsdWUuXG4gICAgICovXG4gICAgVHJhbnNpdGlvbkhvb2sucnVuQWxsSG9va3MgPSBmdW5jdGlvbiAoaG9va3MpIHtcbiAgICAgICAgaG9va3MuZm9yRWFjaChmdW5jdGlvbiAoaG9vaykgeyByZXR1cm4gaG9vay5pbnZva2VIb29rKCk7IH0pO1xuICAgIH07XG4gICAgVHJhbnNpdGlvbkhvb2sucHJvdG90eXBlLmxvZ0Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLnRyYW5zaXRpb24ucm91dGVyLnN0YXRlU2VydmljZS5kZWZhdWx0RXJyb3JIYW5kbGVyKCkoZXJyKTtcbiAgICB9O1xuICAgIFRyYW5zaXRpb25Ib29rLnByb3RvdHlwZS5pbnZva2VIb29rID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaG9vayA9IHRoaXMucmVnaXN0ZXJlZEhvb2s7XG4gICAgICAgIGlmIChob29rLl9kZXJlZ2lzdGVyZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBub3RDdXJyZW50ID0gdGhpcy5nZXROb3RDdXJyZW50UmVqZWN0aW9uKCk7XG4gICAgICAgIGlmIChub3RDdXJyZW50KVxuICAgICAgICAgICAgcmV0dXJuIG5vdEN1cnJlbnQ7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB0cmFjZV8xLnRyYWNlLnRyYWNlSG9va0ludm9jYXRpb24odGhpcywgdGhpcy50cmFuc2l0aW9uLCBvcHRpb25zKTtcbiAgICAgICAgdmFyIGludm9rZUNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gaG9vay5jYWxsYmFjay5jYWxsKG9wdGlvbnMuYmluZCwgX3RoaXMudHJhbnNpdGlvbiwgX3RoaXMuc3RhdGVDb250ZXh0KTsgfTtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZUVyciA9IGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHJlamVjdEZhY3RvcnlfMS5SZWplY3Rpb24ubm9ybWFsaXplKGVycikudG9Qcm9taXNlKCk7IH07XG4gICAgICAgIHZhciBoYW5kbGVFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIGhvb2suZXZlbnRUeXBlLmdldEVycm9ySGFuZGxlcihfdGhpcykoZXJyKTsgfTtcbiAgICAgICAgdmFyIGhhbmRsZVJlc3VsdCA9IGZ1bmN0aW9uIChyZXN1bHQpIHsgcmV0dXJuIGhvb2suZXZlbnRUeXBlLmdldFJlc3VsdEhhbmRsZXIoX3RoaXMpKHJlc3VsdCk7IH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gaW52b2tlQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIGlmICghdGhpcy50eXBlLnN5bmNocm9ub3VzICYmIHByZWRpY2F0ZXNfMS5pc1Byb21pc2UocmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQuY2F0Y2gobm9ybWFsaXplRXJyKS50aGVuKGhhbmRsZVJlc3VsdCwgaGFuZGxlRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIElmIGNhbGxiYWNrIHRocm93cyAoc3luY2hyb25vdXNseSlcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVFcnJvcihyZWplY3RGYWN0b3J5XzEuUmVqZWN0aW9uLm5vcm1hbGl6ZShlcnIpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChob29rLmludm9rZUxpbWl0ICYmICsraG9vay5pbnZva2VDb3VudCA+PSBob29rLmludm9rZUxpbWl0KSB7XG4gICAgICAgICAgICAgICAgaG9vay5kZXJlZ2lzdGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGhhbmRsZXMgdGhlIHJldHVybiB2YWx1ZSBvZiBhIFRyYW5zaXRpb24gSG9vay5cbiAgICAgKlxuICAgICAqIEEgaG9vayBjYW4gcmV0dXJuIGZhbHNlIChjYW5jZWwpLCBhIFRhcmdldFN0YXRlIChyZWRpcmVjdCksXG4gICAgICogb3IgYSBwcm9taXNlICh3aGljaCBtYXkgbGF0ZXIgcmVzb2x2ZSB0byBmYWxzZSBvciBhIHJlZGlyZWN0KVxuICAgICAqXG4gICAgICogVGhpcyBhbHNvIGhhbmRsZXMgXCJ0cmFuc2l0aW9uIHN1cGVyc2VkZWRcIiAtLSB3aGVuIGEgbmV3IHRyYW5zaXRpb25cbiAgICAgKiB3YXMgc3RhcnRlZCB3aGlsZSB0aGUgaG9vayB3YXMgc3RpbGwgcnVubmluZ1xuICAgICAqL1xuICAgIFRyYW5zaXRpb25Ib29rLnByb3RvdHlwZS5oYW5kbGVIb29rUmVzdWx0ID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbm90Q3VycmVudCA9IHRoaXMuZ2V0Tm90Q3VycmVudFJlamVjdGlvbigpO1xuICAgICAgICBpZiAobm90Q3VycmVudClcbiAgICAgICAgICAgIHJldHVybiBub3RDdXJyZW50O1xuICAgICAgICAvLyBIb29rIHJldHVybmVkIGEgcHJvbWlzZVxuICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzUHJvbWlzZShyZXN1bHQpKSB7XG4gICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgcHJvbWlzZSwgdGhlbiByZXByb2Nlc3Mgd2l0aCB0aGUgcmVzdWx0aW5nIHZhbHVlXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gX3RoaXMuaGFuZGxlSG9va1Jlc3VsdCh2YWwpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICB0cmFjZV8xLnRyYWNlLnRyYWNlSG9va1Jlc3VsdChyZXN1bHQsIHRoaXMudHJhbnNpdGlvbiwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgLy8gSG9vayByZXR1cm5lZCBmYWxzZVxuICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgLy8gQWJvcnQgdGhpcyBUcmFuc2l0aW9uXG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0RmFjdG9yeV8xLlJlamVjdGlvbi5hYm9ydGVkKCdIb29rIGFib3J0ZWQgdHJhbnNpdGlvbicpLnRvUHJvbWlzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc1RhcmdldFN0YXRlID0gaG9mXzEuaXModGFyZ2V0U3RhdGVfMS5UYXJnZXRTdGF0ZSk7XG4gICAgICAgIC8vIGhvb2sgcmV0dXJuZWQgYSBUYXJnZXRTdGF0ZVxuICAgICAgICBpZiAoaXNUYXJnZXRTdGF0ZShyZXN1bHQpKSB7XG4gICAgICAgICAgICAvLyBIYWx0IHRoZSBjdXJyZW50IFRyYW5zaXRpb24gYW5kIHJlZGlyZWN0IChhIG5ldyBUcmFuc2l0aW9uKSB0byB0aGUgVGFyZ2V0U3RhdGUuXG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0RmFjdG9yeV8xLlJlamVjdGlvbi5yZWRpcmVjdGVkKHJlc3VsdCkudG9Qcm9taXNlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiBhIFJlamVjdGlvbiBwcm9taXNlIGlmIHRoZSB0cmFuc2l0aW9uIGlzIG5vIGxvbmdlciBjdXJyZW50IGR1ZVxuICAgICAqIHRvIGEgc3RvcHBlZCByb3V0ZXIgKGRpc3Bvc2VkKSwgb3IgYSBuZXcgdHJhbnNpdGlvbiBoYXMgc3RhcnRlZCBhbmQgc3VwZXJzZWRlZCB0aGlzIG9uZS5cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uSG9vay5wcm90b3R5cGUuZ2V0Tm90Q3VycmVudFJlamVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJvdXRlciA9IHRoaXMudHJhbnNpdGlvbi5yb3V0ZXI7XG4gICAgICAgIC8vIFRoZSByb3V0ZXIgaXMgc3RvcHBlZFxuICAgICAgICBpZiAocm91dGVyLl9kaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdEZhY3RvcnlfMS5SZWplY3Rpb24uYWJvcnRlZChcIlVJUm91dGVyIGluc3RhbmNlICNcIiArIHJvdXRlci4kaWQgKyBcIiBoYXMgYmVlbiBzdG9wcGVkIChkaXNwb3NlZClcIikudG9Qcm9taXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudHJhbnNpdGlvbi5fYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdEZhY3RvcnlfMS5SZWplY3Rpb24uYWJvcnRlZCgpLnRvUHJvbWlzZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoaXMgdHJhbnNpdGlvbiBpcyBubyBsb25nZXIgY3VycmVudC5cbiAgICAgICAgLy8gQW5vdGhlciB0cmFuc2l0aW9uIHN0YXJ0ZWQgd2hpbGUgdGhpcyBob29rIHdhcyBzdGlsbCBydW5uaW5nLlxuICAgICAgICBpZiAodGhpcy5pc1N1cGVyc2VkZWQoKSkge1xuICAgICAgICAgICAgLy8gQWJvcnQgdGhpcyB0cmFuc2l0aW9uXG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0RmFjdG9yeV8xLlJlamVjdGlvbi5zdXBlcnNlZGVkKHRoaXMub3B0aW9ucy5jdXJyZW50KCkpLnRvUHJvbWlzZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUcmFuc2l0aW9uSG9vay5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIG9wdGlvbnMgPSBfYS5vcHRpb25zLCByZWdpc3RlcmVkSG9vayA9IF9hLnJlZ2lzdGVyZWRIb29rO1xuICAgICAgICB2YXIgZXZlbnQgPSBob2ZfMS5wYXJzZSgndHJhY2VEYXRhLmhvb2tUeXBlJykob3B0aW9ucykgfHwgJ2ludGVybmFsJywgY29udGV4dCA9IGhvZl8xLnBhcnNlKCd0cmFjZURhdGEuY29udGV4dC5zdGF0ZS5uYW1lJykob3B0aW9ucykgfHwgaG9mXzEucGFyc2UoJ3RyYWNlRGF0YS5jb250ZXh0Jykob3B0aW9ucykgfHwgJ3Vua25vd24nLCBuYW1lID0gc3RyaW5nc18xLmZuVG9TdHJpbmcocmVnaXN0ZXJlZEhvb2suY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gZXZlbnQgKyBcIiBjb250ZXh0OiBcIiArIGNvbnRleHQgKyBcIiwgXCIgKyBzdHJpbmdzXzEubWF4TGVuZ3RoKDIwMCwgbmFtZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGVzZSBHZXRSZXN1bHRIYW5kbGVyKHMpIGFyZSB1c2VkIGJ5IFtbaW52b2tlSG9va11dIGJlbG93XG4gICAgICogRWFjaCBIb29rVHlwZSBjaG9vc2VzIGEgR2V0UmVzdWx0SGFuZGxlciAoU2VlOiBbW1RyYW5zaXRpb25TZXJ2aWNlLl9kZWZpbmVDb3JlRXZlbnRzXV0pXG4gICAgICovXG4gICAgVHJhbnNpdGlvbkhvb2suSEFORExFX1JFU1VMVCA9IGZ1bmN0aW9uIChob29rKSB7IHJldHVybiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHJldHVybiBob29rLmhhbmRsZUhvb2tSZXN1bHQocmVzdWx0KTtcbiAgICB9OyB9O1xuICAgIC8qKlxuICAgICAqIElmIHRoZSByZXN1bHQgaXMgYSBwcm9taXNlIHJlamVjdGlvbiwgbG9nIGl0LlxuICAgICAqIE90aGVyd2lzZSwgaWdub3JlIHRoZSByZXN1bHQuXG4gICAgICovXG4gICAgVHJhbnNpdGlvbkhvb2suTE9HX1JFSkVDVEVEX1JFU1VMVCA9IGZ1bmN0aW9uIChob29rKSB7IHJldHVybiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHByZWRpY2F0ZXNfMS5pc1Byb21pc2UocmVzdWx0KSAmJiByZXN1bHQuY2F0Y2goZnVuY3Rpb24gKGVycikgeyByZXR1cm4gaG9vay5sb2dFcnJvcihyZWplY3RGYWN0b3J5XzEuUmVqZWN0aW9uLm5vcm1hbGl6ZShlcnIpKTsgfSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTsgfTtcbiAgICAvKipcbiAgICAgKiBUaGVzZSBHZXRFcnJvckhhbmRsZXIocykgYXJlIHVzZWQgYnkgW1tpbnZva2VIb29rXV0gYmVsb3dcbiAgICAgKiBFYWNoIEhvb2tUeXBlIGNob29zZXMgYSBHZXRFcnJvckhhbmRsZXIgKFNlZTogW1tUcmFuc2l0aW9uU2VydmljZS5fZGVmaW5lQ29yZUV2ZW50c11dKVxuICAgICAqL1xuICAgIFRyYW5zaXRpb25Ib29rLkxPR19FUlJPUiA9IGZ1bmN0aW9uIChob29rKSB7IHJldHVybiBmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIGhvb2subG9nRXJyb3IoZXJyb3IpOyB9OyB9O1xuICAgIFRyYW5zaXRpb25Ib29rLlJFSkVDVF9FUlJPUiA9IGZ1bmN0aW9uIChob29rKSB7IHJldHVybiBmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIGNvbW1vbl8xLnNpbGVudFJlamVjdGlvbihlcnJvcik7IH07IH07XG4gICAgVHJhbnNpdGlvbkhvb2suVEhST1dfRVJST1IgPSBmdW5jdGlvbiAoaG9vaykgeyByZXR1cm4gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH07IH07XG4gICAgcmV0dXJuIFRyYW5zaXRpb25Ib29rO1xufSgpKTtcbmV4cG9ydHMuVHJhbnNpdGlvbkhvb2sgPSBUcmFuc2l0aW9uSG9vaztcblxufSx7XCIuLi9jb21tb24vY29tbW9uXCI6MyxcIi4uL2NvbW1vbi9jb3Jlc2VydmljZXNcIjo0LFwiLi4vY29tbW9uL2hvZlwiOjYsXCIuLi9jb21tb24vcHJlZGljYXRlc1wiOjgsXCIuLi9jb21tb24vc3RyaW5nc1wiOjEwLFwiLi4vY29tbW9uL3RyYWNlXCI6MTEsXCIuLi9zdGF0ZS90YXJnZXRTdGF0ZVwiOjQ1LFwiLi9pbnRlcmZhY2VcIjo0OSxcIi4vcmVqZWN0RmFjdG9yeVwiOjUwfV0sNTQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQHB1YmxpY2FwaSBAbW9kdWxlIHRyYW5zaXRpb24gKi8gLyoqICovXG52YXIgaW50ZXJmYWNlXzEgPSByZXF1aXJlKFwiLi9pbnRlcmZhY2VcIik7XG52YXIgdHJhbnNpdGlvbl8xID0gcmVxdWlyZShcIi4vdHJhbnNpdGlvblwiKTtcbnZhciBob29rUmVnaXN0cnlfMSA9IHJlcXVpcmUoXCIuL2hvb2tSZWdpc3RyeVwiKTtcbnZhciBjb3JlUmVzb2x2YWJsZXNfMSA9IHJlcXVpcmUoXCIuLi9ob29rcy9jb3JlUmVzb2x2YWJsZXNcIik7XG52YXIgcmVkaXJlY3RUb18xID0gcmVxdWlyZShcIi4uL2hvb2tzL3JlZGlyZWN0VG9cIik7XG52YXIgb25FbnRlckV4aXRSZXRhaW5fMSA9IHJlcXVpcmUoXCIuLi9ob29rcy9vbkVudGVyRXhpdFJldGFpblwiKTtcbnZhciByZXNvbHZlXzEgPSByZXF1aXJlKFwiLi4vaG9va3MvcmVzb2x2ZVwiKTtcbnZhciB2aWV3c18xID0gcmVxdWlyZShcIi4uL2hvb2tzL3ZpZXdzXCIpO1xudmFyIHVwZGF0ZUdsb2JhbHNfMSA9IHJlcXVpcmUoXCIuLi9ob29rcy91cGRhdGVHbG9iYWxzXCIpO1xudmFyIHVybF8xID0gcmVxdWlyZShcIi4uL2hvb2tzL3VybFwiKTtcbnZhciBsYXp5TG9hZF8xID0gcmVxdWlyZShcIi4uL2hvb2tzL2xhenlMb2FkXCIpO1xudmFyIHRyYW5zaXRpb25FdmVudFR5cGVfMSA9IHJlcXVpcmUoXCIuL3RyYW5zaXRpb25FdmVudFR5cGVcIik7XG52YXIgdHJhbnNpdGlvbkhvb2tfMSA9IHJlcXVpcmUoXCIuL3RyYW5zaXRpb25Ib29rXCIpO1xudmFyIHByZWRpY2F0ZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vcHJlZGljYXRlc1wiKTtcbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29tbW9uXCIpO1xudmFyIGhvZl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9ob2ZcIik7XG52YXIgaWdub3JlZFRyYW5zaXRpb25fMSA9IHJlcXVpcmUoXCIuLi9ob29rcy9pZ25vcmVkVHJhbnNpdGlvblwiKTtcbnZhciBpbnZhbGlkVHJhbnNpdGlvbl8xID0gcmVxdWlyZShcIi4uL2hvb2tzL2ludmFsaWRUcmFuc2l0aW9uXCIpO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBbW1RyYW5zaXRpb25dXSBvcHRpb25zLlxuICpcbiAqIEluY2x1ZGUgdGhpcyBvYmplY3Qgd2hlbiBhcHBseWluZyBjdXN0b20gZGVmYXVsdHM6XG4gKiBsZXQgcmVsb2FkT3B0cyA9IHsgcmVsb2FkOiB0cnVlLCBub3RpZnk6IHRydWUgfVxuICogbGV0IG9wdGlvbnMgPSBkZWZhdWx0cyh0aGVpck9wdHMsIGN1c3RvbURlZmF1bHRzLCBkZWZhdWx0T3B0aW9ucyk7XG4gKi9cbmV4cG9ydHMuZGVmYXVsdFRyYW5zT3B0cyA9IHtcbiAgICBsb2NhdGlvbjogdHJ1ZSxcbiAgICByZWxhdGl2ZTogbnVsbCxcbiAgICBpbmhlcml0OiBmYWxzZSxcbiAgICBub3RpZnk6IHRydWUsXG4gICAgcmVsb2FkOiBmYWxzZSxcbiAgICBjdXN0b206IHt9LFxuICAgIGN1cnJlbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgc291cmNlOiAndW5rbm93bicsXG59O1xuLyoqXG4gKiBUaGlzIGNsYXNzIHByb3ZpZGVzIHNlcnZpY2VzIHJlbGF0ZWQgdG8gVHJhbnNpdGlvbnMuXG4gKlxuICogLSBNb3N0IGltcG9ydGFudGx5LCBpdCBhbGxvd3MgZ2xvYmFsIFRyYW5zaXRpb24gSG9va3MgdG8gYmUgcmVnaXN0ZXJlZC5cbiAqIC0gSXQgYWxsb3dzIHRoZSBkZWZhdWx0IHRyYW5zaXRpb24gZXJyb3IgaGFuZGxlciB0byBiZSBzZXQuXG4gKiAtIEl0IGFsc28gaGFzIGEgZmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IFtbVHJhbnNpdGlvbl1dIG9iamVjdHMsICh1c2VkIGludGVybmFsbHkgYnkgdGhlIFtbU3RhdGVTZXJ2aWNlXV0pLlxuICpcbiAqIEF0IGJvb3RzdHJhcCwgW1tVSVJvdXRlcl1dIGNyZWF0ZXMgYSBzaW5nbGUgaW5zdGFuY2UgKHNpbmdsZXRvbikgb2YgdGhpcyBjbGFzcy5cbiAqL1xudmFyIFRyYW5zaXRpb25TZXJ2aWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgZnVuY3Rpb24gVHJhbnNpdGlvblNlcnZpY2UoX3JvdXRlcikge1xuICAgICAgICAvKiogQGhpZGRlbiAqL1xuICAgICAgICB0aGlzLl90cmFuc2l0aW9uQ291bnQgPSAwO1xuICAgICAgICAvKiogQGhpZGRlbiBUaGUgdHJhbnNpdGlvbiBob29rIHR5cGVzLCBzdWNoIGFzIGBvbkVudGVyYCwgYG9uU3RhcnRgLCBldGMgKi9cbiAgICAgICAgdGhpcy5fZXZlbnRUeXBlcyA9IFtdO1xuICAgICAgICAvKiogQGhpZGRlbiBUaGUgcmVnaXN0ZXJlZCB0cmFuc2l0aW9uIGhvb2tzICovXG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyZWRIb29rcyA9IHt9O1xuICAgICAgICAvKiogQGhpZGRlbiBUaGUgIHBhdGhzIG9uIGEgY3JpdGVyaWEgb2JqZWN0ICovXG4gICAgICAgIHRoaXMuX2NyaXRlcmlhUGF0aHMgPSB7fTtcbiAgICAgICAgdGhpcy5fcm91dGVyID0gX3JvdXRlcjtcbiAgICAgICAgdGhpcy4kdmlldyA9IF9yb3V0ZXIudmlld1NlcnZpY2U7XG4gICAgICAgIHRoaXMuX2RlcmVnaXN0ZXJIb29rRm5zID0ge307XG4gICAgICAgIHRoaXMuX3BsdWdpbmFwaSA9IChjb21tb25fMS5jcmVhdGVQcm94eUZ1bmN0aW9ucyhob2ZfMS52YWwodGhpcyksIHt9LCBob2ZfMS52YWwodGhpcyksIFtcbiAgICAgICAgICAgICdfZGVmaW5lUGF0aFR5cGUnLFxuICAgICAgICAgICAgJ19kZWZpbmVFdmVudCcsXG4gICAgICAgICAgICAnX2dldFBhdGhUeXBlcycsXG4gICAgICAgICAgICAnX2dldEV2ZW50cycsXG4gICAgICAgICAgICAnZ2V0SG9va3MnLFxuICAgICAgICBdKSk7XG4gICAgICAgIHRoaXMuX2RlZmluZUNvcmVQYXRocygpO1xuICAgICAgICB0aGlzLl9kZWZpbmVDb3JlRXZlbnRzKCk7XG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyQ29yZVRyYW5zaXRpb25Ib29rcygpO1xuICAgICAgICBfcm91dGVyLmdsb2JhbHMuc3VjY2Vzc2Z1bFRyYW5zaXRpb25zLm9uRXZpY3QoY29yZVJlc29sdmFibGVzXzEudHJlZUNoYW5nZXNDbGVhbnVwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgW1tUcmFuc2l0aW9uSG9va0ZuXV0sIGNhbGxlZCAqd2hpbGUgYSB0cmFuc2l0aW9uIGlzIGJlaW5nIGNvbnN0cnVjdGVkKi5cbiAgICAgKlxuICAgICAqIFJlZ2lzdGVycyBhIHRyYW5zaXRpb24gbGlmZWN5Y2xlIGhvb2ssIHdoaWNoIGlzIGludm9rZWQgZHVyaW5nIHRyYW5zaXRpb24gY29uc3RydWN0aW9uLlxuICAgICAqXG4gICAgICogVGhpcyBsb3cgbGV2ZWwgaG9vayBzaG91bGQgb25seSBiZSB1c2VkIGJ5IHBsdWdpbnMuXG4gICAgICogVGhpcyBjYW4gYmUgYSB1c2VmdWwgdGltZSBmb3IgcGx1Z2lucyB0byBhZGQgcmVzb2x2ZXMgb3IgbXV0YXRlIHRoZSB0cmFuc2l0aW9uIGFzIG5lZWRlZC5cbiAgICAgKiBUaGUgU3RpY2t5IFN0YXRlcyBwbHVnaW4gdXNlcyB0aGlzIGhvb2sgdG8gbW9kaWZ5IHRoZSB0cmVlY2hhbmdlcy5cbiAgICAgKlxuICAgICAqICMjIyBMaWZlY3ljbGVcbiAgICAgKlxuICAgICAqIGBvbkNyZWF0ZWAgaG9va3MgYXJlIGludm9rZWQgKndoaWxlIGEgdHJhbnNpdGlvbiBpcyBiZWluZyBjb25zdHJ1Y3RlZCouXG4gICAgICpcbiAgICAgKiAjIyMgUmV0dXJuIHZhbHVlXG4gICAgICpcbiAgICAgKiBUaGUgaG9vaydzIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxhcGlcbiAgICAgKiBAcGFyYW0gY3JpdGVyaWEgZGVmaW5lcyB3aGljaCBUcmFuc2l0aW9ucyB0aGUgSG9vayBzaG91bGQgYmUgaW52b2tlZCBmb3IuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIHRoZSBob29rIGZ1bmN0aW9uIHdoaWNoIHdpbGwgYmUgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyB0aGUgcmVnaXN0cmF0aW9uIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGRlcmVnaXN0ZXJzIHRoZSBob29rLlxuICAgICAqL1xuICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5vbkNyZWF0ZSA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLm9uQmVmb3JlID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUub25TdGFydCA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLm9uRXhpdCA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLm9uUmV0YWluID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUub25FbnRlciA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgLyoqIEBpbmhlcml0ZG9jICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLm9uRmluaXNoID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUub25TdWNjZXNzID0gZnVuY3Rpb24gKGNyaXRlcmlhLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIChjcml0ZXJpYSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogZGlzcG9zZVxuICAgICAqIEBpbnRlcm5hbGFwaVxuICAgICAqL1xuICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKHJvdXRlcikge1xuICAgICAgICBjb21tb25fMS52YWx1ZXModGhpcy5fcmVnaXN0ZXJlZEhvb2tzKS5mb3JFYWNoKGZ1bmN0aW9uIChob29rc0FycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gaG9va3NBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChob29rKSB7XG4gICAgICAgICAgICAgICAgaG9vay5fZGVyZWdpc3RlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb21tb25fMS5yZW1vdmVGcm9tKGhvb2tzQXJyYXksIGhvb2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBbW1RyYW5zaXRpb25dXSBvYmplY3RcbiAgICAgKlxuICAgICAqIFRoaXMgaXMgYSBmYWN0b3J5IGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgVHJhbnNpdGlvbiBvYmplY3RzLlxuICAgICAqIEl0IGlzIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgW1tTdGF0ZVNlcnZpY2VdXSBhbmQgc2hvdWxkIGdlbmVyYWxseSBub3QgYmUgY2FsbGVkIGJ5IGFwcGxpY2F0aW9uIGNvZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZnJvbVBhdGggdGhlIHBhdGggdG8gdGhlIGN1cnJlbnQgc3RhdGUgKHRoZSBmcm9tIHN0YXRlKVxuICAgICAqIEBwYXJhbSB0YXJnZXRTdGF0ZSB0aGUgdGFyZ2V0IHN0YXRlIChkZXN0aW5hdGlvbilcbiAgICAgKiBAcmV0dXJucyBhIFRyYW5zaXRpb25cbiAgICAgKi9cbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKGZyb21QYXRoLCB0YXJnZXRTdGF0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IHRyYW5zaXRpb25fMS5UcmFuc2l0aW9uKGZyb21QYXRoLCB0YXJnZXRTdGF0ZSwgdGhpcy5fcm91dGVyKTtcbiAgICB9O1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLl9kZWZpbmVDb3JlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgUGhhc2UgPSBpbnRlcmZhY2VfMS5UcmFuc2l0aW9uSG9va1BoYXNlO1xuICAgICAgICB2YXIgVEggPSB0cmFuc2l0aW9uSG9va18xLlRyYW5zaXRpb25Ib29rO1xuICAgICAgICB2YXIgcGF0aHMgPSB0aGlzLl9jcml0ZXJpYVBhdGhzO1xuICAgICAgICB2YXIgTk9STUFMX1NPUlQgPSBmYWxzZSwgUkVWRVJTRV9TT1JUID0gdHJ1ZTtcbiAgICAgICAgdmFyIFNZTkNIUk9OT1VTID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZGVmaW5lRXZlbnQoJ29uQ3JlYXRlJywgUGhhc2UuQ1JFQVRFLCAwLCBwYXRocy50bywgTk9STUFMX1NPUlQsIFRILkxPR19SRUpFQ1RFRF9SRVNVTFQsIFRILlRIUk9XX0VSUk9SLCBTWU5DSFJPTk9VUyk7XG4gICAgICAgIHRoaXMuX2RlZmluZUV2ZW50KCdvbkJlZm9yZScsIFBoYXNlLkJFRk9SRSwgMCwgcGF0aHMudG8pO1xuICAgICAgICB0aGlzLl9kZWZpbmVFdmVudCgnb25TdGFydCcsIFBoYXNlLlJVTiwgMCwgcGF0aHMudG8pO1xuICAgICAgICB0aGlzLl9kZWZpbmVFdmVudCgnb25FeGl0JywgUGhhc2UuUlVOLCAxMDAsIHBhdGhzLmV4aXRpbmcsIFJFVkVSU0VfU09SVCk7XG4gICAgICAgIHRoaXMuX2RlZmluZUV2ZW50KCdvblJldGFpbicsIFBoYXNlLlJVTiwgMjAwLCBwYXRocy5yZXRhaW5lZCk7XG4gICAgICAgIHRoaXMuX2RlZmluZUV2ZW50KCdvbkVudGVyJywgUGhhc2UuUlVOLCAzMDAsIHBhdGhzLmVudGVyaW5nKTtcbiAgICAgICAgdGhpcy5fZGVmaW5lRXZlbnQoJ29uRmluaXNoJywgUGhhc2UuUlVOLCA0MDAsIHBhdGhzLnRvKTtcbiAgICAgICAgdGhpcy5fZGVmaW5lRXZlbnQoJ29uU3VjY2VzcycsIFBoYXNlLlNVQ0NFU1MsIDAsIHBhdGhzLnRvLCBOT1JNQUxfU09SVCwgVEguTE9HX1JFSkVDVEVEX1JFU1VMVCwgVEguTE9HX0VSUk9SLCBTWU5DSFJPTk9VUyk7XG4gICAgICAgIHRoaXMuX2RlZmluZUV2ZW50KCdvbkVycm9yJywgUGhhc2UuRVJST1IsIDAsIHBhdGhzLnRvLCBOT1JNQUxfU09SVCwgVEguTE9HX1JFSkVDVEVEX1JFU1VMVCwgVEguTE9HX0VSUk9SLCBTWU5DSFJPTk9VUyk7XG4gICAgfTtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5fZGVmaW5lQ29yZVBhdGhzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgU1RBVEUgPSBpbnRlcmZhY2VfMS5UcmFuc2l0aW9uSG9va1Njb3BlLlNUQVRFLCBUUkFOU0lUSU9OID0gaW50ZXJmYWNlXzEuVHJhbnNpdGlvbkhvb2tTY29wZS5UUkFOU0lUSU9OO1xuICAgICAgICB0aGlzLl9kZWZpbmVQYXRoVHlwZSgndG8nLCBUUkFOU0lUSU9OKTtcbiAgICAgICAgdGhpcy5fZGVmaW5lUGF0aFR5cGUoJ2Zyb20nLCBUUkFOU0lUSU9OKTtcbiAgICAgICAgdGhpcy5fZGVmaW5lUGF0aFR5cGUoJ2V4aXRpbmcnLCBTVEFURSk7XG4gICAgICAgIHRoaXMuX2RlZmluZVBhdGhUeXBlKCdyZXRhaW5lZCcsIFNUQVRFKTtcbiAgICAgICAgdGhpcy5fZGVmaW5lUGF0aFR5cGUoJ2VudGVyaW5nJywgU1RBVEUpO1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUuX2RlZmluZUV2ZW50ID0gZnVuY3Rpb24gKG5hbWUsIGhvb2tQaGFzZSwgaG9va09yZGVyLCBjcml0ZXJpYU1hdGNoUGF0aCwgcmV2ZXJzZVNvcnQsIGdldFJlc3VsdEhhbmRsZXIsIGdldEVycm9ySGFuZGxlciwgc3luY2hyb25vdXMpIHtcbiAgICAgICAgaWYgKHJldmVyc2VTb3J0ID09PSB2b2lkIDApIHsgcmV2ZXJzZVNvcnQgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoZ2V0UmVzdWx0SGFuZGxlciA9PT0gdm9pZCAwKSB7IGdldFJlc3VsdEhhbmRsZXIgPSB0cmFuc2l0aW9uSG9va18xLlRyYW5zaXRpb25Ib29rLkhBTkRMRV9SRVNVTFQ7IH1cbiAgICAgICAgaWYgKGdldEVycm9ySGFuZGxlciA9PT0gdm9pZCAwKSB7IGdldEVycm9ySGFuZGxlciA9IHRyYW5zaXRpb25Ib29rXzEuVHJhbnNpdGlvbkhvb2suUkVKRUNUX0VSUk9SOyB9XG4gICAgICAgIGlmIChzeW5jaHJvbm91cyA9PT0gdm9pZCAwKSB7IHN5bmNocm9ub3VzID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IG5ldyB0cmFuc2l0aW9uRXZlbnRUeXBlXzEuVHJhbnNpdGlvbkV2ZW50VHlwZShuYW1lLCBob29rUGhhc2UsIGhvb2tPcmRlciwgY3JpdGVyaWFNYXRjaFBhdGgsIHJldmVyc2VTb3J0LCBnZXRSZXN1bHRIYW5kbGVyLCBnZXRFcnJvckhhbmRsZXIsIHN5bmNocm9ub3VzKTtcbiAgICAgICAgdGhpcy5fZXZlbnRUeXBlcy5wdXNoKGV2ZW50VHlwZSk7XG4gICAgICAgIGhvb2tSZWdpc3RyeV8xLm1ha2VFdmVudCh0aGlzLCB0aGlzLCBldmVudFR5cGUpO1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUuX2dldEV2ZW50cyA9IGZ1bmN0aW9uIChwaGFzZSkge1xuICAgICAgICB2YXIgdHJhbnNpdGlvbkhvb2tUeXBlcyA9IHByZWRpY2F0ZXNfMS5pc0RlZmluZWQocGhhc2UpXG4gICAgICAgICAgICA/IHRoaXMuX2V2ZW50VHlwZXMuZmlsdGVyKGZ1bmN0aW9uICh0eXBlKSB7IHJldHVybiB0eXBlLmhvb2tQaGFzZSA9PT0gcGhhc2U7IH0pXG4gICAgICAgICAgICA6IHRoaXMuX2V2ZW50VHlwZXMuc2xpY2UoKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zaXRpb25Ib29rVHlwZXMuc29ydChmdW5jdGlvbiAobCwgcikge1xuICAgICAgICAgICAgdmFyIGNtcEJ5UGhhc2UgPSBsLmhvb2tQaGFzZSAtIHIuaG9va1BoYXNlO1xuICAgICAgICAgICAgcmV0dXJuIGNtcEJ5UGhhc2UgPT09IDAgPyBsLmhvb2tPcmRlciAtIHIuaG9va09yZGVyIDogY21wQnlQaGFzZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgUGF0aCB0byBiZSB1c2VkIGFzIGEgY3JpdGVyaW9uIGFnYWluc3QgYSBUcmVlQ2hhbmdlcyBwYXRoXG4gICAgICpcbiAgICAgKiBGb3IgZXhhbXBsZTogdGhlIGBleGl0aW5nYCBwYXRoIGluIFtbSG9va01hdGNoQ3JpdGVyaWFdXSBpcyBhIFNUQVRFIHNjb3BlZCBwYXRoLlxuICAgICAqIEl0IHdhcyBkZWZpbmVkIGJ5IGNhbGxpbmcgYGRlZmluZVRyZWVDaGFuZ2VzQ3JpdGVyaW9uKCdleGl0aW5nJywgVHJhbnNpdGlvbkhvb2tTY29wZS5TVEFURSlgXG4gICAgICogRWFjaCBzdGF0ZSBpbiB0aGUgZXhpdGluZyBwYXRoIGlzIGNoZWNrZWQgYWdhaW5zdCB0aGUgY3JpdGVyaWEgYW5kIHJldHVybmVkIGFzIHBhcnQgb2YgdGhlIG1hdGNoLlxuICAgICAqXG4gICAgICogQW5vdGhlciBleGFtcGxlOiB0aGUgYHRvYCBwYXRoIGluIFtbSG9va01hdGNoQ3JpdGVyaWFdXSBpcyBhIFRSQU5TSVRJT04gc2NvcGVkIHBhdGguXG4gICAgICogSXQgd2FzIGRlZmluZWQgYnkgY2FsbGluZyBgZGVmaW5lVHJlZUNoYW5nZXNDcml0ZXJpb24oJ3RvJywgVHJhbnNpdGlvbkhvb2tTY29wZS5UUkFOU0lUSU9OKWBcbiAgICAgKiBPbmx5IHRoZSB0YWlsIG9mIHRoZSBgdG9gIHBhdGggaXMgY2hlY2tlZCBhZ2FpbnN0IHRoZSBjcml0ZXJpYSBhbmQgcmV0dXJuZWQgYXMgcGFydCBvZiB0aGUgbWF0Y2guXG4gICAgICpcbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLl9kZWZpbmVQYXRoVHlwZSA9IGZ1bmN0aW9uIChuYW1lLCBob29rU2NvcGUpIHtcbiAgICAgICAgdGhpcy5fY3JpdGVyaWFQYXRoc1tuYW1lXSA9IHsgbmFtZTogbmFtZSwgc2NvcGU6IGhvb2tTY29wZSB9O1xuICAgIH07XG4gICAgLyoqICogQGhpZGRlbiAqL1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgIFRyYW5zaXRpb25TZXJ2aWNlLnByb3RvdHlwZS5fZ2V0UGF0aFR5cGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3JpdGVyaWFQYXRocztcbiAgICB9O1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgVHJhbnNpdGlvblNlcnZpY2UucHJvdG90eXBlLmdldEhvb2tzID0gZnVuY3Rpb24gKGhvb2tOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWdpc3RlcmVkSG9va3NbaG9va05hbWVdO1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBUcmFuc2l0aW9uU2VydmljZS5wcm90b3R5cGUuX3JlZ2lzdGVyQ29yZVRyYW5zaXRpb25Ib29rcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZucyA9IHRoaXMuX2RlcmVnaXN0ZXJIb29rRm5zO1xuICAgICAgICBmbnMuYWRkQ29yZVJlc29sdmVzID0gY29yZVJlc29sdmFibGVzXzEucmVnaXN0ZXJBZGRDb3JlUmVzb2x2YWJsZXModGhpcyk7XG4gICAgICAgIGZucy5pZ25vcmVkID0gaWdub3JlZFRyYW5zaXRpb25fMS5yZWdpc3Rlcklnbm9yZWRUcmFuc2l0aW9uSG9vayh0aGlzKTtcbiAgICAgICAgZm5zLmludmFsaWQgPSBpbnZhbGlkVHJhbnNpdGlvbl8xLnJlZ2lzdGVySW52YWxpZFRyYW5zaXRpb25Ib29rKHRoaXMpO1xuICAgICAgICAvLyBXaXJlIHVwIHJlZGlyZWN0VG8gaG9va1xuICAgICAgICBmbnMucmVkaXJlY3RUbyA9IHJlZGlyZWN0VG9fMS5yZWdpc3RlclJlZGlyZWN0VG9Ib29rKHRoaXMpO1xuICAgICAgICAvLyBXaXJlIHVwIG9uRXhpdC9SZXRhaW4vRW50ZXIgc3RhdGUgaG9va3NcbiAgICAgICAgZm5zLm9uRXhpdCA9IG9uRW50ZXJFeGl0UmV0YWluXzEucmVnaXN0ZXJPbkV4aXRIb29rKHRoaXMpO1xuICAgICAgICBmbnMub25SZXRhaW4gPSBvbkVudGVyRXhpdFJldGFpbl8xLnJlZ2lzdGVyT25SZXRhaW5Ib29rKHRoaXMpO1xuICAgICAgICBmbnMub25FbnRlciA9IG9uRW50ZXJFeGl0UmV0YWluXzEucmVnaXN0ZXJPbkVudGVySG9vayh0aGlzKTtcbiAgICAgICAgLy8gV2lyZSB1cCBSZXNvbHZlIGhvb2tzXG4gICAgICAgIGZucy5lYWdlclJlc29sdmUgPSByZXNvbHZlXzEucmVnaXN0ZXJFYWdlclJlc29sdmVQYXRoKHRoaXMpO1xuICAgICAgICBmbnMubGF6eVJlc29sdmUgPSByZXNvbHZlXzEucmVnaXN0ZXJMYXp5UmVzb2x2ZVN0YXRlKHRoaXMpO1xuICAgICAgICBmbnMucmVzb2x2ZUFsbCA9IHJlc29sdmVfMS5yZWdpc3RlclJlc29sdmVSZW1haW5pbmcodGhpcyk7XG4gICAgICAgIC8vIFdpcmUgdXAgdGhlIFZpZXcgbWFuYWdlbWVudCBob29rc1xuICAgICAgICBmbnMubG9hZFZpZXdzID0gdmlld3NfMS5yZWdpc3RlckxvYWRFbnRlcmluZ1ZpZXdzKHRoaXMpO1xuICAgICAgICBmbnMuYWN0aXZhdGVWaWV3cyA9IHZpZXdzXzEucmVnaXN0ZXJBY3RpdmF0ZVZpZXdzKHRoaXMpO1xuICAgICAgICAvLyBVcGRhdGVzIGdsb2JhbCBzdGF0ZSBhZnRlciBhIHRyYW5zaXRpb25cbiAgICAgICAgZm5zLnVwZGF0ZUdsb2JhbHMgPSB1cGRhdGVHbG9iYWxzXzEucmVnaXN0ZXJVcGRhdGVHbG9iYWxTdGF0ZSh0aGlzKTtcbiAgICAgICAgLy8gQWZ0ZXIgZ2xvYmFscy5jdXJyZW50IGlzIHVwZGF0ZWQgYXQgcHJpb3JpdHk6IDEwMDAwXG4gICAgICAgIGZucy51cGRhdGVVcmwgPSB1cmxfMS5yZWdpc3RlclVwZGF0ZVVybCh0aGlzKTtcbiAgICAgICAgLy8gTGF6eSBsb2FkIHN0YXRlIHRyZWVzXG4gICAgICAgIGZucy5sYXp5TG9hZCA9IGxhenlMb2FkXzEucmVnaXN0ZXJMYXp5TG9hZEhvb2sodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gVHJhbnNpdGlvblNlcnZpY2U7XG59KCkpO1xuZXhwb3J0cy5UcmFuc2l0aW9uU2VydmljZSA9IFRyYW5zaXRpb25TZXJ2aWNlO1xuXG59LHtcIi4uL2NvbW1vbi9jb21tb25cIjozLFwiLi4vY29tbW9uL2hvZlwiOjYsXCIuLi9jb21tb24vcHJlZGljYXRlc1wiOjgsXCIuLi9ob29rcy9jb3JlUmVzb2x2YWJsZXNcIjoxMyxcIi4uL2hvb2tzL2lnbm9yZWRUcmFuc2l0aW9uXCI6MTQsXCIuLi9ob29rcy9pbnZhbGlkVHJhbnNpdGlvblwiOjE1LFwiLi4vaG9va3MvbGF6eUxvYWRcIjoxNixcIi4uL2hvb2tzL29uRW50ZXJFeGl0UmV0YWluXCI6MTcsXCIuLi9ob29rcy9yZWRpcmVjdFRvXCI6MTgsXCIuLi9ob29rcy9yZXNvbHZlXCI6MTksXCIuLi9ob29rcy91cGRhdGVHbG9iYWxzXCI6MjAsXCIuLi9ob29rcy91cmxcIjoyMSxcIi4uL2hvb2tzL3ZpZXdzXCI6MjIsXCIuL2hvb2tSZWdpc3RyeVwiOjQ3LFwiLi9pbnRlcmZhY2VcIjo0OSxcIi4vdHJhbnNpdGlvblwiOjUxLFwiLi90cmFuc2l0aW9uRXZlbnRUeXBlXCI6NTIsXCIuL3RyYW5zaXRpb25Ib29rXCI6NTN9XSw1NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi91cmxNYXRjaGVyXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3VybE1hdGNoZXJGYWN0b3J5XCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3VybFJvdXRlclwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi91cmxSdWxlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3VybFNlcnZpY2VcIikpO1xudmFyIHVybFJ1bGVzXzEgPSByZXF1aXJlKFwiLi91cmxSdWxlc1wiKTtcbmV4cG9ydHMuVXJsUnVsZXMgPSB1cmxSdWxlc18xLlVybFJ1bGVzO1xudmFyIHVybENvbmZpZ18xID0gcmVxdWlyZShcIi4vdXJsQ29uZmlnXCIpO1xuZXhwb3J0cy5VcmxDb25maWcgPSB1cmxDb25maWdfMS5VcmxDb25maWc7XG5cbn0se1wiLi91cmxDb25maWdcIjo1NixcIi4vdXJsTWF0Y2hlclwiOjU3LFwiLi91cmxNYXRjaGVyRmFjdG9yeVwiOjU4LFwiLi91cmxSb3V0ZXJcIjo1OSxcIi4vdXJsUnVsZVwiOjYwLFwiLi91cmxSdWxlc1wiOjYxLFwiLi91cmxTZXJ2aWNlXCI6NjJ9XSw1NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBwYXJhbXNfMSA9IHJlcXVpcmUoXCIuLi9wYXJhbXNcIik7XG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uXCIpO1xuLyoqXG4gKiBBbiBBUEkgdG8gY3VzdG9taXplIHRoZSBVUkwgYmVoYXZpb3IgYW5kIHJldHJpZXZlIFVSTCBjb25maWd1cmF0aW9uXG4gKlxuICogVGhpcyBBUEkgaXMgdXNlZCB0byBjdXN0b21pemUgdGhlIGJlaGF2aW9yIG9mIHRoZSBVUkwuXG4gKiBUaGlzIGluY2x1ZGVzIG9wdGlvbmFsIHRyYWlsaW5nIHNsYXNoZXMgKFtbc3RyaWN0TW9kZV1dKSwgY2FzZSBzZW5zaXRpdml0eSAoW1tjYXNlSW5zZW5zaXRpdmVdXSksXG4gKiBhbmQgY3VzdG9tIHBhcmFtZXRlciBlbmNvZGluZyAoY3VzdG9tIFtbdHlwZV1dKS5cbiAqXG4gKiBJdCBhbHNvIGhhcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbG9jYXRpb24gKHVybCkgY29uZmlndXJhdGlvbiBzdWNoIGFzIFtbcG9ydF1dIGFuZCBbW2Jhc2VIcmVmXV0uXG4gKiBUaGlzIGluZm9ybWF0aW9uIGNhbiBiZSB1c2VkIHRvIGJ1aWxkIGFic29sdXRlIFVSTHMsIHN1Y2ggYXNcbiAqIGBodHRwczovL2V4YW1wbGUuY29tOjQ0My9iYXNlcGF0aC9zdGF0ZS9zdWJzdGF0ZT9wYXJhbTE9YSNoYXNodmFsdWVgO1xuICpcbiAqIFRoaXMgQVBJIGlzIGEgcHJvcGVydHkgb2YgW1tVcmxTZXJ2aWNlXV0gYXMgW1tVcmxTZXJ2aWNlLmNvbmZpZ11dLlxuICovXG52YXIgVXJsQ29uZmlnID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaGlkZGVuICovIGZ1bmN0aW9uIFVybENvbmZpZygvKiogQGhpZGRlbiAqLyByb3V0ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMucGFyYW1UeXBlcyA9IG5ldyBwYXJhbXNfMS5QYXJhbVR5cGVzKCk7XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuX2lzQ2FzZUluc2Vuc2l0aXZlID0gZmFsc2U7XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuX2lzU3RyaWN0TW9kZSA9IHRydWU7XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuX2RlZmF1bHRTcXVhc2hQb2xpY3kgPSBmYWxzZTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbGFwaSAqLyB0aGlzLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wYXJhbVR5cGVzLmRpc3Bvc2UoKTsgfTtcbiAgICAgICAgLy8gRGVsZWdhdGUgdGhlc2UgY2FsbHMgdG8gdGhlIGN1cnJlbnQgTG9jYXRpb25Db25maWcgaW1wbGVtZW50YXRpb25cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIGJhc2UgSHJlZiwgZS5nLiwgYGh0dHA6Ly9sb2NhbGhvc3QvYXBwcm9vdC9gXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm4gdGhlIGFwcGxpY2F0aW9uJ3MgYmFzZSBocmVmXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VIcmVmID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucm91dGVyLmxvY2F0aW9uQ29uZmlnLmJhc2VIcmVmKCk7IH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIG9yIHNldHMgdGhlIGhhc2hQcmVmaXhcbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBvbmx5IGFwcGxpZXMgd2hlbiBub3QgcnVubmluZyBpbiBbW2h0bWw1TW9kZV1dIChwdXNoc3RhdGUgbW9kZSlcbiAgICAgICAgICpcbiAgICAgICAgICogSWYgdGhlIGN1cnJlbnQgdXJsIGlzIGBodHRwOi8vbG9jYWxob3N0L2FwcCMhL3Vpcm91dGVyL3BhdGgvI2FuY2hvcmAsIGl0IHJldHVybnMgYCFgIHdoaWNoIGlzIHRoZSBwcmVmaXggZm9yIHRoZSBcImhhc2hiYW5nXCIgcG9ydGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybiB0aGUgaGFzaCBwcmVmaXhcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGFzaFByZWZpeCA9IGZ1bmN0aW9uIChuZXdwcmVmaXgpIHsgcmV0dXJuIF90aGlzLnJvdXRlci5sb2NhdGlvbkNvbmZpZy5oYXNoUHJlZml4KG5ld3ByZWZpeCk7IH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBob3N0LCBlLmcuLCBgbG9jYWxob3N0YFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJuIHRoZSBwcm90b2NvbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ob3N0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucm91dGVyLmxvY2F0aW9uQ29uZmlnLmhvc3QoKTsgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdHJ1ZSB3aGVuIHJ1bm5pbmcgaW4gcHVzaHN0YXRlIG1vZGVcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybiB0cnVlIHdoZW4gcnVubmluZyBpbiBodG1sNSBtb2RlIChwdXNoc3RhdGUgbW9kZSkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmh0bWw1TW9kZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJvdXRlci5sb2NhdGlvbkNvbmZpZy5odG1sNU1vZGUoKTsgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIHBvcnQsIGUuZy4sIGA4MGBcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybiB0aGUgcG9ydCBudW1iZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9ydCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJvdXRlci5sb2NhdGlvbkNvbmZpZy5wb3J0KCk7IH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBwcm90b2NvbCwgZS5nLiwgYGh0dHBgXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm4gdGhlIHByb3RvY29sXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb3RvY29sID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucm91dGVyLmxvY2F0aW9uQ29uZmlnLnByb3RvY29sKCk7IH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlZmluZXMgd2hldGhlciBVUkwgbWF0Y2hpbmcgc2hvdWxkIGJlIGNhc2Ugc2Vuc2l0aXZlICh0aGUgZGVmYXVsdCBiZWhhdmlvciksIG9yIG5vdC5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vIEFsbG93IGNhc2UgaW5zZW5zaXRpdmUgdXJsIG1hdGNoZXNcbiAgICAgKiB1cmxTZXJ2aWNlLmNvbmZpZy5jYXNlSW5zZW5zaXRpdmUodHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUgYGZhbHNlYCB0byBtYXRjaCBVUkwgaW4gYSBjYXNlIHNlbnNpdGl2ZSBtYW5uZXI7IG90aGVyd2lzZSBgdHJ1ZWA7XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgY2FzZUluc2Vuc2l0aXZlXG4gICAgICovXG4gICAgVXJsQ29uZmlnLnByb3RvdHlwZS5jYXNlSW5zZW5zaXRpdmUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9pc0Nhc2VJbnNlbnNpdGl2ZSA9IGNvbW1vbl8xLmlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IHRoaXMuX2lzQ2FzZUluc2Vuc2l0aXZlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGRlZmF1bHQgYmVoYXZpb3Igd2hlbiBnZW5lcmF0aW5nIG9yIG1hdGNoaW5nIFVSTHMgd2l0aCBkZWZhdWx0IHBhcmFtZXRlciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiAvLyBSZW1vdmUgZGVmYXVsdCBwYXJhbWV0ZXIgdmFsdWVzIGZyb20gdGhlIHVybFxuICAgICAqIHVybFNlcnZpY2UuY29uZmlnLmRlZmF1bHRTcXVhc2hQb2xpY3kodHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUgQSBzdHJpbmcgdGhhdCBkZWZpbmVzIHRoZSBkZWZhdWx0IHBhcmFtZXRlciBVUkwgc3F1YXNoaW5nIGJlaGF2aW9yLlxuICAgICAqICAgIC0gYG5vc3F1YXNoYDogV2hlbiBnZW5lcmF0aW5nIGFuIGhyZWYgd2l0aCBhIGRlZmF1bHQgcGFyYW1ldGVyIHZhbHVlLCBkbyBub3Qgc3F1YXNoIHRoZSBwYXJhbWV0ZXIgdmFsdWUgZnJvbSB0aGUgVVJMXG4gICAgICogICAgLSBgc2xhc2hgOiBXaGVuIGdlbmVyYXRpbmcgYW4gaHJlZiB3aXRoIGEgZGVmYXVsdCBwYXJhbWV0ZXIgdmFsdWUsIHNxdWFzaCAocmVtb3ZlKSB0aGUgcGFyYW1ldGVyIHZhbHVlLCBhbmQsIGlmIHRoZVxuICAgICAqICAgICAgcGFyYW1ldGVyIGlzIHN1cnJvdW5kZWQgYnkgc2xhc2hlcywgc3F1YXNoIChyZW1vdmUpIG9uZSBzbGFzaCBmcm9tIHRoZSBVUkxcbiAgICAgKiAgICAtIGFueSBvdGhlciBzdHJpbmcsIGUuZy4gXCJ+XCI6IFdoZW4gZ2VuZXJhdGluZyBhbiBocmVmIHdpdGggYSBkZWZhdWx0IHBhcmFtZXRlciB2YWx1ZSwgc3F1YXNoIChyZW1vdmUpXG4gICAgICogICAgICB0aGUgcGFyYW1ldGVyIHZhbHVlIGZyb20gdGhlIFVSTCBhbmQgcmVwbGFjZSBpdCB3aXRoIHRoaXMgc3RyaW5nLlxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHZhbHVlIG9mIGRlZmF1bHRTcXVhc2hQb2xpY3lcbiAgICAgKi9cbiAgICBVcmxDb25maWcucHJvdG90eXBlLmRlZmF1bHRTcXVhc2hQb2xpY3kgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKGNvbW1vbl8xLmlzRGVmaW5lZCh2YWx1ZSkgJiYgdmFsdWUgIT09IHRydWUgJiYgdmFsdWUgIT09IGZhbHNlICYmICFjb21tb25fMS5pc1N0cmluZyh2YWx1ZSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNxdWFzaCBwb2xpY3k6IFwiICsgdmFsdWUgKyBcIi4gVmFsaWQgcG9saWNpZXM6IGZhbHNlLCB0cnVlLCBhcmJpdHJhcnktc3RyaW5nXCIpO1xuICAgICAgICByZXR1cm4gKHRoaXMuX2RlZmF1bHRTcXVhc2hQb2xpY3kgPSBjb21tb25fMS5pc0RlZmluZWQodmFsdWUpID8gdmFsdWUgOiB0aGlzLl9kZWZhdWx0U3F1YXNoUG9saWN5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlZmluZXMgd2hldGhlciBVUkxzIHNob3VsZCBtYXRjaCB0cmFpbGluZyBzbGFzaGVzLCBvciBub3QgKHRoZSBkZWZhdWx0IGJlaGF2aW9yKS5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vIEFsbG93IG9wdGlvbmFsIHRyYWlsaW5nIHNsYXNoZXNcbiAgICAgKiB1cmxTZXJ2aWNlLmNvbmZpZy5zdHJpY3RNb2RlKGZhbHNlKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZSBgZmFsc2VgIHRvIG1hdGNoIHRyYWlsaW5nIHNsYXNoZXMgaW4gVVJMcywgb3RoZXJ3aXNlIGB0cnVlYC5cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB2YWx1ZSBvZiBzdHJpY3RNb2RlXG4gICAgICovXG4gICAgVXJsQ29uZmlnLnByb3RvdHlwZS5zdHJpY3RNb2RlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5faXNTdHJpY3RNb2RlID0gY29tbW9uXzEuaXNEZWZpbmVkKHZhbHVlKSA/IHZhbHVlIDogdGhpcy5faXNTdHJpY3RNb2RlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW5kIHJlZ2lzdGVycyBhIGN1c3RvbSBbW1BhcmFtVHlwZV1dIG9iamVjdFxuICAgICAqXG4gICAgICogQSBjdXN0b20gcGFyYW1ldGVyIHR5cGUgY2FuIGJlIHVzZWQgdG8gZ2VuZXJhdGUgVVJMcyB3aXRoIHR5cGVkIHBhcmFtZXRlcnMgb3IgY3VzdG9tIGVuY29kaW5nL2RlY29kaW5nLlxuICAgICAqXG4gICAgICogIyMjIyBOb3RlOiBSZWdpc3RlciBjdXN0b20gdHlwZXMgKmJlZm9yZSB1c2luZyB0aGVtKiBpbiBhIHN0YXRlIGRlZmluaXRpb24uXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiAvLyBFbmNvZGUgb2JqZWN0IHBhcmFtZXRlciBhcyBKU09OIHN0cmluZ1xuICAgICAqIHVybFNlcnZpY2UuY29uZmlnLnR5cGUoJ215anNvbicsIHtcbiAgICAgKiAgIGVuY29kZTogKG9iaikgPT4gSlNPTi5zdHJpbmdpZnkob2JqKSxcbiAgICAgKiAgIGRlY29kZTogKHN0cikgPT4gSlNPTi5wYXJzZShzdHIpLFxuICAgICAqICAgaXM6ICh2YWwpID0+IHR5cGVvZih2YWwpID09PSAnb2JqZWN0JyxcbiAgICAgKiAgIHBhdHRlcm46IC9bXi9dKy8sXG4gICAgICogICBlcXVhbHM6IChhLCBiKSA9PiBfLmlzRXF1YWwoYSwgYiksXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBTZWUgW1tQYXJhbVR5cGVEZWZpbml0aW9uXV0gZm9yIG1vcmUgZXhhbXBsZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSB0eXBlIG5hbWUuXG4gICAgICogQHBhcmFtIGRlZmluaXRpb24gVGhlIHR5cGUgZGVmaW5pdGlvbi4gU2VlIFtbUGFyYW1UeXBlRGVmaW5pdGlvbl1dIGZvciBpbmZvcm1hdGlvbiBvbiB0aGUgdmFsdWVzIGFjY2VwdGVkLlxuICAgICAqIEBwYXJhbSBkZWZpbml0aW9uRm4gQSBmdW5jdGlvbiB0aGF0IGlzIGluamVjdGVkIGJlZm9yZSB0aGUgYXBwIHJ1bnRpbWUgc3RhcnRzLlxuICAgICAqICAgICAgICBUaGUgcmVzdWx0IG9mIHRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGEgW1tQYXJhbVR5cGVEZWZpbml0aW9uXV0uXG4gICAgICogICAgICAgIFRoZSByZXN1bHQgaXMgbWVyZ2VkIGludG8gdGhlIGV4aXN0aW5nIGBkZWZpbml0aW9uYC5cbiAgICAgKiAgICAgICAgU2VlIFtbUGFyYW1UeXBlXV0gZm9yIGluZm9ybWF0aW9uIG9uIHRoZSB2YWx1ZXMgYWNjZXB0ZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBpZiBvbmx5IHRoZSBgbmFtZWAgcGFyYW1ldGVyIHdhcyBzcGVjaWZpZWQ6IHRoZSBjdXJyZW50bHkgcmVnaXN0ZXJlZCBbW1BhcmFtVHlwZV1dIG9iamVjdCwgb3IgdW5kZWZpbmVkXG4gICAgICovXG4gICAgVXJsQ29uZmlnLnByb3RvdHlwZS50eXBlID0gZnVuY3Rpb24gKG5hbWUsIGRlZmluaXRpb24sIGRlZmluaXRpb25Gbikge1xuICAgICAgICB2YXIgdHlwZSA9IHRoaXMucGFyYW1UeXBlcy50eXBlKG5hbWUsIGRlZmluaXRpb24sIGRlZmluaXRpb25Gbik7XG4gICAgICAgIHJldHVybiAhY29tbW9uXzEuaXNEZWZpbmVkKGRlZmluaXRpb24pID8gdHlwZSA6IHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gVXJsQ29uZmlnO1xufSgpKTtcbmV4cG9ydHMuVXJsQ29uZmlnID0gVXJsQ29uZmlnO1xuXG59LHtcIi4uL2NvbW1vblwiOjcsXCIuLi9wYXJhbXNcIjoyNX1dLDU3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSB1cmwgKi8gLyoqICovXG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbnZhciBob2ZfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vaG9mXCIpO1xudmFyIHByZWRpY2F0ZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vcHJlZGljYXRlc1wiKTtcbnZhciBwYXJhbV8xID0gcmVxdWlyZShcIi4uL3BhcmFtcy9wYXJhbVwiKTtcbnZhciBzdHJpbmdzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3N0cmluZ3NcIik7XG52YXIgY29tbW9uXzIgPSByZXF1aXJlKFwiLi4vY29tbW9uXCIpO1xuLyoqIEBoaWRkZW4gKi9cbmZ1bmN0aW9uIHF1b3RlUmVnRXhwKHN0ciwgcGFyYW0pIHtcbiAgICB2YXIgc3Vycm91bmRQYXR0ZXJuID0gWycnLCAnJ10sIHJlc3VsdCA9IHN0ci5yZXBsYWNlKC9bXFxcXFxcW1xcXVxcXiQqKz8uKCl8e31dL2csICdcXFxcJCYnKTtcbiAgICBpZiAoIXBhcmFtKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIHN3aXRjaCAocGFyYW0uc3F1YXNoKSB7XG4gICAgICAgIGNhc2UgZmFsc2U6XG4gICAgICAgICAgICBzdXJyb3VuZFBhdHRlcm4gPSBbJygnLCAnKScgKyAocGFyYW0uaXNPcHRpb25hbCA/ICc/JyA6ICcnKV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0cnVlOlxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1xcLyQvLCAnJyk7XG4gICAgICAgICAgICBzdXJyb3VuZFBhdHRlcm4gPSBbJyg/Oi8oJywgJyl8Lyk/J107XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHN1cnJvdW5kUGF0dGVybiA9IFtcIihcIiArIHBhcmFtLnNxdWFzaCArIFwifFwiLCAnKT8nXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0ICsgc3Vycm91bmRQYXR0ZXJuWzBdICsgcGFyYW0udHlwZS5wYXR0ZXJuLnNvdXJjZSArIHN1cnJvdW5kUGF0dGVyblsxXTtcbn1cbi8qKiBAaGlkZGVuICovXG52YXIgbWVtb2l6ZVRvID0gZnVuY3Rpb24gKG9iaiwgX3Byb3AsIGZuKSB7IHJldHVybiAob2JqW19wcm9wXSA9IG9ialtfcHJvcF0gfHwgZm4oKSk7IH07XG4vKiogQGhpZGRlbiAqL1xudmFyIHNwbGl0T25TbGFzaCA9IHN0cmluZ3NfMS5zcGxpdE9uRGVsaW0oJy8nKTtcbi8qKiBAaGlkZGVuICovXG52YXIgZGVmYXVsdENvbmZpZyA9IHtcbiAgICBzdGF0ZTogeyBwYXJhbXM6IHt9IH0sXG4gICAgc3RyaWN0OiB0cnVlLFxuICAgIGNhc2VJbnNlbnNpdGl2ZTogdHJ1ZSxcbn07XG4vKipcbiAqIE1hdGNoZXMgVVJMcyBhZ2FpbnN0IHBhdHRlcm5zLlxuICpcbiAqIE1hdGNoZXMgVVJMcyBhZ2FpbnN0IHBhdHRlcm5zIGFuZCBleHRyYWN0cyBuYW1lZCBwYXJhbWV0ZXJzIGZyb20gdGhlIHBhdGggb3IgdGhlIHNlYXJjaFxuICogcGFydCBvZiB0aGUgVVJMLlxuICpcbiAqIEEgVVJMIHBhdHRlcm4gY29uc2lzdHMgb2YgYSBwYXRoIHBhdHRlcm4sIG9wdGlvbmFsbHkgZm9sbG93ZWQgYnkgJz8nIGFuZCBhIGxpc3Qgb2Ygc2VhcmNoIChxdWVyeSlcbiAqIHBhcmFtZXRlcnMuIE11bHRpcGxlIHNlYXJjaCBwYXJhbWV0ZXIgbmFtZXMgYXJlIHNlcGFyYXRlZCBieSAnJicuIFNlYXJjaCBwYXJhbWV0ZXJzXG4gKiBkbyBub3QgaW5mbHVlbmNlIHdoZXRoZXIgb3Igbm90IGEgVVJMIGlzIG1hdGNoZWQsIGJ1dCB0aGVpciB2YWx1ZXMgYXJlIHBhc3NlZCB0aHJvdWdoIGludG9cbiAqIHRoZSBtYXRjaGVkIHBhcmFtZXRlcnMgcmV0dXJuZWQgYnkgW1tVcmxNYXRjaGVyLmV4ZWNdXS5cbiAqXG4gKiAtICpQYXRoIHBhcmFtZXRlcnMqIGFyZSBkZWZpbmVkIHVzaW5nIGN1cmx5IGJyYWNlIHBsYWNlaG9sZGVycyAoYC9zb21lcGF0aC97cGFyYW19YClcbiAqIG9yIGNvbG9uIHBsYWNlaG9sZGVycyAoYC9zb21lUGF0aC86cGFyYW1gKS5cbiAqXG4gKiAtICpBIHBhcmFtZXRlciBSZWdFeHAqIG1heSBiZSBkZWZpbmVkIGZvciBhIHBhcmFtIGFmdGVyIGEgY29sb25cbiAqIChgL3NvbWVQYXRoL3twYXJhbTpbYS16QS1aMC05XSt9YCkgaW4gYSBjdXJseSBicmFjZSBwbGFjZWhvbGRlci5cbiAqIFRoZSByZWdleHAgbXVzdCBtYXRjaCBmb3IgdGhlIHVybCB0byBiZSBtYXRjaGVkLlxuICogU2hvdWxkIHRoZSByZWdleHAgaXRzZWxmIGNvbnRhaW4gY3VybHkgYnJhY2VzLCB0aGV5IG11c3QgYmUgaW4gbWF0Y2hlZCBwYWlycyBvciBlc2NhcGVkIHdpdGggYSBiYWNrc2xhc2guXG4gKlxuICogTm90ZTogYSBSZWdFeHAgcGFyYW1ldGVyIHdpbGwgZW5jb2RlIGl0cyB2YWx1ZSB1c2luZyBlaXRoZXIgW1tQYXJhbVR5cGVzLnBhdGhdXSBvciBbW1BhcmFtVHlwZXMucXVlcnldXS5cbiAqXG4gKiAtICpDdXN0b20gcGFyYW1ldGVyIHR5cGVzKiBtYXkgYWxzbyBiZSBzcGVjaWZpZWQgYWZ0ZXIgYSBjb2xvbiAoYC9zb21lUGF0aC97cGFyYW06aW50fWApIGluIGN1cmx5IGJyYWNlIHBhcmFtZXRlcnMuXG4gKiAgIFNlZSBbW1VybE1hdGNoZXJGYWN0b3J5LnR5cGVdXSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiAtICpDYXRjaC1hbGwgcGFyYW1ldGVycyogYXJlIGRlZmluZWQgdXNpbmcgYW4gYXN0ZXJpc2sgcGxhY2Vob2xkZXIgKGAvc29tZXBhdGgvKmNhdGNoYWxscGFyYW1gKS5cbiAqICAgQSBjYXRjaC1hbGwgKiBwYXJhbWV0ZXIgdmFsdWUgd2lsbCBjb250YWluIHRoZSByZW1haW5kZXIgb2YgdGhlIFVSTC5cbiAqXG4gKiAtLS1cbiAqXG4gKiBQYXJhbWV0ZXIgbmFtZXMgbWF5IGNvbnRhaW4gb25seSB3b3JkIGNoYXJhY3RlcnMgKGxhdGluIGxldHRlcnMsIGRpZ2l0cywgYW5kIHVuZGVyc2NvcmUpIGFuZFxuICogbXVzdCBiZSB1bmlxdWUgd2l0aGluIHRoZSBwYXR0ZXJuIChhY3Jvc3MgYm90aCBwYXRoIGFuZCBzZWFyY2ggcGFyYW1ldGVycykuXG4gKiBBIHBhdGggcGFyYW1ldGVyIG1hdGNoZXMgYW55IG51bWJlciBvZiBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gJy8nLiBGb3IgY2F0Y2gtYWxsXG4gKiBwbGFjZWhvbGRlcnMgdGhlIHBhdGggcGFyYW1ldGVyIG1hdGNoZXMgYW55IG51bWJlciBvZiBjaGFyYWN0ZXJzLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICogYCcvaGVsbG8vJ2AgLSBNYXRjaGVzIG9ubHkgaWYgdGhlIHBhdGggaXMgZXhhY3RseSAnL2hlbGxvLycuIFRoZXJlIGlzIG5vIHNwZWNpYWwgdHJlYXRtZW50IGZvclxuICogICB0cmFpbGluZyBzbGFzaGVzLCBhbmQgcGF0dGVybnMgaGF2ZSB0byBtYXRjaCB0aGUgZW50aXJlIHBhdGgsIG5vdCBqdXN0IGEgcHJlZml4LlxuICogKiBgJy91c2VyLzppZCdgIC0gTWF0Y2hlcyAnL3VzZXIvYm9iJyBvciAnL3VzZXIvMTIzNCEhIScgb3IgZXZlbiAnL3VzZXIvJyBidXQgbm90ICcvdXNlcicgb3JcbiAqICAgJy91c2VyL2JvYi9kZXRhaWxzJy4gVGhlIHNlY29uZCBwYXRoIHNlZ21lbnQgd2lsbCBiZSBjYXB0dXJlZCBhcyB0aGUgcGFyYW1ldGVyICdpZCcuXG4gKiAqIGAnL3VzZXIve2lkfSdgIC0gU2FtZSBhcyB0aGUgcHJldmlvdXMgZXhhbXBsZSwgYnV0IHVzaW5nIGN1cmx5IGJyYWNlIHN5bnRheC5cbiAqICogYCcvdXNlci97aWQ6W14vXSp9J2AgLSBTYW1lIGFzIHRoZSBwcmV2aW91cyBleGFtcGxlLlxuICogKiBgJy91c2VyL3tpZDpbMC05YS1mQS1GXXsxLDh9fSdgIC0gU2ltaWxhciB0byB0aGUgcHJldmlvdXMgZXhhbXBsZSwgYnV0IG9ubHkgbWF0Y2hlcyBpZiB0aGUgaWRcbiAqICAgcGFyYW1ldGVyIGNvbnNpc3RzIG9mIDEgdG8gOCBoZXggZGlnaXRzLlxuICogKiBgJy9maWxlcy97cGF0aDouKn0nYCAtIE1hdGNoZXMgYW55IFVSTCBzdGFydGluZyB3aXRoICcvZmlsZXMvJyBhbmQgY2FwdHVyZXMgdGhlIHJlc3Qgb2YgdGhlXG4gKiAgIHBhdGggaW50byB0aGUgcGFyYW1ldGVyICdwYXRoJy5cbiAqICogYCcvZmlsZXMvKnBhdGgnYCAtIGRpdHRvLlxuICogKiBgJy9jYWxlbmRhci97c3RhcnQ6ZGF0ZX0nYCAtIE1hdGNoZXMgXCIvY2FsZW5kYXIvMjAxNC0xMS0xMlwiIChiZWNhdXNlIHRoZSBwYXR0ZXJuIGRlZmluZWRcbiAqICAgaW4gdGhlIGJ1aWx0LWluICBgZGF0ZWAgUGFyYW1UeXBlIG1hdGNoZXMgYDIwMTQtMTEtMTJgKSBhbmQgcHJvdmlkZXMgYSBEYXRlIG9iamVjdCBpbiAkc3RhdGVQYXJhbXMuc3RhcnRcbiAqXG4gKi9cbnZhciBVcmxNYXRjaGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwYXR0ZXJuIFRoZSBwYXR0ZXJuIHRvIGNvbXBpbGUgaW50byBhIG1hdGNoZXIuXG4gICAgICogQHBhcmFtIHBhcmFtVHlwZXMgVGhlIFtbUGFyYW1UeXBlc11dIHJlZ2lzdHJ5XG4gICAgICogQHBhcmFtIHBhcmFtRmFjdG9yeSBBIFtbUGFyYW1GYWN0b3J5XV0gb2JqZWN0XG4gICAgICogQHBhcmFtIGNvbmZpZyAgQSBbW1VybE1hdGNoZXJDb21waWxlQ29uZmlnXV0gY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBVcmxNYXRjaGVyKHBhdHRlcm4sIHBhcmFtVHlwZXMsIHBhcmFtRmFjdG9yeSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKiBAaGlkZGVuICovXG4gICAgICAgIHRoaXMuX2NhY2hlID0geyBwYXRoOiBbdGhpc10gfTtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi9cbiAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi9cbiAgICAgICAgdGhpcy5fcGFyYW1zID0gW107XG4gICAgICAgIC8qKiBAaGlkZGVuICovXG4gICAgICAgIHRoaXMuX3NlZ21lbnRzID0gW107XG4gICAgICAgIC8qKiBAaGlkZGVuICovXG4gICAgICAgIHRoaXMuX2NvbXBpbGVkID0gW107XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnID0gY29tbW9uXzIuZGVmYXVsdHMoY29uZmlnLCBkZWZhdWx0Q29uZmlnKTtcbiAgICAgICAgdGhpcy5wYXR0ZXJuID0gcGF0dGVybjtcbiAgICAgICAgLy8gRmluZCBhbGwgcGxhY2Vob2xkZXJzIGFuZCBjcmVhdGUgYSBjb21waWxlZCBwYXR0ZXJuLCB1c2luZyBlaXRoZXIgY2xhc3NpYyBvciBjdXJseSBzeW50YXg6XG4gICAgICAgIC8vICAgJyonIG5hbWVcbiAgICAgICAgLy8gICAnOicgbmFtZVxuICAgICAgICAvLyAgICd7JyBuYW1lICd9J1xuICAgICAgICAvLyAgICd7JyBuYW1lICc6JyByZWdleHAgJ30nXG4gICAgICAgIC8vIFRoZSByZWd1bGFyIGV4cHJlc3Npb24gaXMgc29tZXdoYXQgY29tcGxpY2F0ZWQgZHVlIHRvIHRoZSBuZWVkIHRvIGFsbG93IGN1cmx5IGJyYWNlc1xuICAgICAgICAvLyBpbnNpZGUgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbi4gVGhlIHBsYWNlaG9sZGVyIHJlZ2V4cCBicmVha3MgZG93biBhcyBmb2xsb3dzOlxuICAgICAgICAvLyAgICAoWzoqXSkoW1xcd1xcW1xcXV0rKSAgICAgICAgICAgICAgLSBjbGFzc2ljIHBsYWNlaG9sZGVyICgkMSAvICQyKSAoc2VhcmNoIHZlcnNpb24gaGFzIC0gZm9yIHNuYWtlLWNhc2UpXG4gICAgICAgIC8vICAgIFxceyhbXFx3XFxbXFxdXSspKD86XFw6XFxzKiggLi4uICkpP1xcfSAgLSBjdXJseSBicmFjZSBwbGFjZWhvbGRlciAoJDMpIHdpdGggb3B0aW9uYWwgcmVnZXhwL3R5cGUgLi4uICgkNCkgKHNlYXJjaCB2ZXJzaW9uIGhhcyAtIGZvciBzbmFrZS1jYXNlXG4gICAgICAgIC8vICAgICg/OiAuLi4gfCAuLi4gfCAuLi4gKSsgICAgICAgICAtIHRoZSByZWdleHAgY29uc2lzdHMgb2YgYW55IG51bWJlciBvZiBhdG9tcywgYW4gYXRvbSBiZWluZyBlaXRoZXJcbiAgICAgICAgLy8gICAgW157fVxcXFxdKyAgICAgICAgICAgICAgICAgICAgICAgLSBhbnl0aGluZyBvdGhlciB0aGFuIGN1cmx5IGJyYWNlcyBvciBiYWNrc2xhc2hcbiAgICAgICAgLy8gICAgXFxcXC4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLSBhIGJhY2tzbGFzaCBlc2NhcGVcbiAgICAgICAgLy8gICAgXFx7KD86W157fVxcXFxdK3xcXFxcLikqXFx9ICAgICAgICAgIC0gYSBtYXRjaGVkIHNldCBvZiBjdXJseSBicmFjZXMgY29udGFpbmluZyBvdGhlciBhdG9tc1xuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSAvKFs6Kl0pKFtcXHdcXFtcXF1dKyl8XFx7KFtcXHdcXFtcXF1dKykoPzpcXDpcXHMqKCg/Oltee31cXFxcXSt8XFxcXC58XFx7KD86W157fVxcXFxdK3xcXFxcLikqXFx9KSspKT9cXH0vZztcbiAgICAgICAgdmFyIHNlYXJjaFBsYWNlaG9sZGVyID0gLyhbOl0/KShbXFx3XFxbXFxdLi1dKyl8XFx7KFtcXHdcXFtcXF0uLV0rKSg/OlxcOlxccyooKD86W157fVxcXFxdK3xcXFxcLnxcXHsoPzpbXnt9XFxcXF0rfFxcXFwuKSpcXH0pKykpP1xcfS9nO1xuICAgICAgICB2YXIgcGF0dGVybnMgPSBbXTtcbiAgICAgICAgdmFyIGxhc3QgPSAwO1xuICAgICAgICB2YXIgbWF0Y2hBcnJheTtcbiAgICAgICAgdmFyIGNoZWNrUGFyYW1FcnJvcnMgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgIGlmICghVXJsTWF0Y2hlci5uYW1lVmFsaWRhdG9yLnRlc3QoaWQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFyYW1ldGVyIG5hbWUgJ1wiICsgaWQgKyBcIicgaW4gcGF0dGVybiAnXCIgKyBwYXR0ZXJuICsgXCInXCIpO1xuICAgICAgICAgICAgaWYgKGNvbW1vbl8xLmZpbmQoX3RoaXMuX3BhcmFtcywgaG9mXzEucHJvcEVxKCdpZCcsIGlkKSkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRHVwbGljYXRlIHBhcmFtZXRlciBuYW1lICdcIiArIGlkICsgXCInIGluIHBhdHRlcm4gJ1wiICsgcGF0dGVybiArIFwiJ1wiKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gU3BsaXQgaW50byBzdGF0aWMgc2VnbWVudHMgc2VwYXJhdGVkIGJ5IHBhdGggcGFyYW1ldGVyIHBsYWNlaG9sZGVycy5cbiAgICAgICAgLy8gVGhlIG51bWJlciBvZiBzZWdtZW50cyBpcyBhbHdheXMgMSBtb3JlIHRoYW4gdGhlIG51bWJlciBvZiBwYXJhbWV0ZXJzLlxuICAgICAgICB2YXIgbWF0Y2hEZXRhaWxzID0gZnVuY3Rpb24gKG0sIGlzU2VhcmNoKSB7XG4gICAgICAgICAgICAvLyBJRVs3OF0gcmV0dXJucyAnJyBmb3IgdW5tYXRjaGVkIGdyb3VwcyBpbnN0ZWFkIG9mIG51bGxcbiAgICAgICAgICAgIHZhciBpZCA9IG1bMl0gfHwgbVszXTtcbiAgICAgICAgICAgIHZhciByZWdleHAgPSBpc1NlYXJjaCA/IG1bNF0gOiBtWzRdIHx8IChtWzFdID09PSAnKicgPyAnW1xcXFxzXFxcXFNdKicgOiBudWxsKTtcbiAgICAgICAgICAgIHZhciBtYWtlUmVnZXhwVHlwZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbW9uXzEuaW5oZXJpdChwYXJhbVR5cGVzLnR5cGUoaXNTZWFyY2ggPyAncXVlcnknIDogJ3BhdGgnKSwge1xuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiBuZXcgUmVnRXhwKHN0ciwgX3RoaXMuY29uZmlnLmNhc2VJbnNlbnNpdGl2ZSA/ICdpJyA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgcmVnZXhwOiByZWdleHAsXG4gICAgICAgICAgICAgICAgc2VnbWVudDogcGF0dGVybi5zdWJzdHJpbmcobGFzdCwgbS5pbmRleCksXG4gICAgICAgICAgICAgICAgdHlwZTogIXJlZ2V4cCA/IG51bGwgOiBwYXJhbVR5cGVzLnR5cGUocmVnZXhwKSB8fCBtYWtlUmVnZXhwVHlwZShyZWdleHApLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRldGFpbHM7XG4gICAgICAgIHZhciBzZWdtZW50O1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uZGl0aW9uYWwtYXNzaWdubWVudFxuICAgICAgICB3aGlsZSAoKG1hdGNoQXJyYXkgPSBwbGFjZWhvbGRlci5leGVjKHBhdHRlcm4pKSkge1xuICAgICAgICAgICAgZGV0YWlscyA9IG1hdGNoRGV0YWlscyhtYXRjaEFycmF5LCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoZGV0YWlscy5zZWdtZW50LmluZGV4T2YoJz8nKSA+PSAwKVxuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyB3ZSdyZSBpbnRvIHRoZSBzZWFyY2ggcGFydFxuICAgICAgICAgICAgY2hlY2tQYXJhbUVycm9ycyhkZXRhaWxzLmlkKTtcbiAgICAgICAgICAgIHRoaXMuX3BhcmFtcy5wdXNoKHBhcmFtRmFjdG9yeS5mcm9tUGF0aChkZXRhaWxzLmlkLCBkZXRhaWxzLnR5cGUsIGNvbmZpZy5zdGF0ZSkpO1xuICAgICAgICAgICAgdGhpcy5fc2VnbWVudHMucHVzaChkZXRhaWxzLnNlZ21lbnQpO1xuICAgICAgICAgICAgcGF0dGVybnMucHVzaChbZGV0YWlscy5zZWdtZW50LCBjb21tb25fMS50YWlsKHRoaXMuX3BhcmFtcyldKTtcbiAgICAgICAgICAgIGxhc3QgPSBwbGFjZWhvbGRlci5sYXN0SW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgc2VnbWVudCA9IHBhdHRlcm4uc3Vic3RyaW5nKGxhc3QpO1xuICAgICAgICAvLyBGaW5kIGFueSBzZWFyY2ggcGFyYW1ldGVyIG5hbWVzIGFuZCByZW1vdmUgdGhlbSBmcm9tIHRoZSBsYXN0IHNlZ21lbnRcbiAgICAgICAgdmFyIGkgPSBzZWdtZW50LmluZGV4T2YoJz8nKTtcbiAgICAgICAgaWYgKGkgPj0gMCkge1xuICAgICAgICAgICAgdmFyIHNlYXJjaCA9IHNlZ21lbnQuc3Vic3RyaW5nKGkpO1xuICAgICAgICAgICAgc2VnbWVudCA9IHNlZ21lbnQuc3Vic3RyaW5nKDAsIGkpO1xuICAgICAgICAgICAgaWYgKHNlYXJjaC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGFzdCA9IDA7XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbmRpdGlvbmFsLWFzc2lnbm1lbnRcbiAgICAgICAgICAgICAgICB3aGlsZSAoKG1hdGNoQXJyYXkgPSBzZWFyY2hQbGFjZWhvbGRlci5leGVjKHNlYXJjaCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSBtYXRjaERldGFpbHMobWF0Y2hBcnJheSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrUGFyYW1FcnJvcnMoZGV0YWlscy5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcmFtcy5wdXNoKHBhcmFtRmFjdG9yeS5mcm9tU2VhcmNoKGRldGFpbHMuaWQsIGRldGFpbHMudHlwZSwgY29uZmlnLnN0YXRlKSk7XG4gICAgICAgICAgICAgICAgICAgIGxhc3QgPSBwbGFjZWhvbGRlci5sYXN0SW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmID8mXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgIHRoaXMuX2NvbXBpbGVkID0gcGF0dGVybnMubWFwKGZ1bmN0aW9uIChfcGF0dGVybikgeyByZXR1cm4gcXVvdGVSZWdFeHAuYXBwbHkobnVsbCwgX3BhdHRlcm4pOyB9KS5jb25jYXQocXVvdGVSZWdFeHAoc2VnbWVudCkpO1xuICAgIH1cbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFVybE1hdGNoZXIuZW5jb2RlRGFzaGVzID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAvLyBSZXBsYWNlIGRhc2hlcyB3aXRoIGVuY29kZWQgXCJcXC1cIlxuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikucmVwbGFjZSgvLS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgcmV0dXJuIFwiJTVDJVwiICsgY1xuICAgICAgICAgICAgICAgIC5jaGFyQ29kZUF0KDApXG4gICAgICAgICAgICAgICAgLnRvU3RyaW5nKDE2KVxuICAgICAgICAgICAgICAgIC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKiBAaGlkZGVuIEdpdmVuIGEgbWF0Y2hlciwgcmV0dXJuIGFuIGFycmF5IHdpdGggdGhlIG1hdGNoZXIncyBwYXRoIHNlZ21lbnRzIGFuZCBwYXRoIHBhcmFtcywgaW4gb3JkZXIgKi9cbiAgICBVcmxNYXRjaGVyLnBhdGhTZWdtZW50c0FuZFBhcmFtcyA9IGZ1bmN0aW9uIChtYXRjaGVyKSB7XG4gICAgICAgIHZhciBzdGF0aWNTZWdtZW50cyA9IG1hdGNoZXIuX3NlZ21lbnRzO1xuICAgICAgICB2YXIgcGF0aFBhcmFtcyA9IG1hdGNoZXIuX3BhcmFtcy5maWx0ZXIoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAubG9jYXRpb24gPT09IHBhcmFtXzEuRGVmVHlwZS5QQVRIOyB9KTtcbiAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmFycmF5VHVwbGVzKHN0YXRpY1NlZ21lbnRzLCBwYXRoUGFyYW1zLmNvbmNhdCh1bmRlZmluZWQpKVxuICAgICAgICAgICAgLnJlZHVjZShjb21tb25fMS51bm5lc3RSLCBbXSlcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggIT09ICcnICYmIHByZWRpY2F0ZXNfMS5pc0RlZmluZWQoeCk7IH0pO1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gR2l2ZW4gYSBtYXRjaGVyLCByZXR1cm4gYW4gYXJyYXkgd2l0aCB0aGUgbWF0Y2hlcidzIHF1ZXJ5IHBhcmFtcyAqL1xuICAgIFVybE1hdGNoZXIucXVlcnlQYXJhbXMgPSBmdW5jdGlvbiAobWF0Y2hlcikge1xuICAgICAgICByZXR1cm4gbWF0Y2hlci5fcGFyYW1zLmZpbHRlcihmdW5jdGlvbiAocCkgeyByZXR1cm4gcC5sb2NhdGlvbiA9PT0gcGFyYW1fMS5EZWZUeXBlLlNFQVJDSDsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb21wYXJlIHR3byBVcmxNYXRjaGVyc1xuICAgICAqXG4gICAgICogVGhpcyBjb21wYXJpc29uIGZ1bmN0aW9uIGNvbnZlcnRzIGEgVXJsTWF0Y2hlciBpbnRvIHN0YXRpYyBhbmQgZHluYW1pYyBwYXRoIHNlZ21lbnRzLlxuICAgICAqIEVhY2ggc3RhdGljIHBhdGggc2VnbWVudCBpcyBhIHN0YXRpYyBzdHJpbmcgYmV0d2VlbiBhIHBhdGggc2VwYXJhdG9yIChzbGFzaCBjaGFyYWN0ZXIpLlxuICAgICAqIEVhY2ggZHluYW1pYyBzZWdtZW50IGlzIGEgcGF0aCBwYXJhbWV0ZXIuXG4gICAgICpcbiAgICAgKiBUaGUgY29tcGFyaXNvbiBmdW5jdGlvbiBzb3J0cyBzdGF0aWMgc2VnbWVudHMgYmVmb3JlIGR5bmFtaWMgb25lcy5cbiAgICAgKi9cbiAgICBVcmxNYXRjaGVyLmNvbXBhcmUgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAvKipcbiAgICAgICAgICogVHVybiBhIFVybE1hdGNoZXIgYW5kIGFsbCBpdHMgcGFyZW50IG1hdGNoZXJzIGludG8gYW4gYXJyYXlcbiAgICAgICAgICogb2Ygc2xhc2ggbGl0ZXJhbHMgJy8nLCBzdHJpbmcgbGl0ZXJhbHMsIGFuZCBQYXJhbSBvYmplY3RzXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgZXhhbXBsZSBtYXRjaGVyIG1hdGNoZXMgc3RyaW5ncyBsaWtlIFwiL2Zvby86cGFyYW0vdGFpbFwiOlxuICAgICAgICAgKiB2YXIgbWF0Y2hlciA9ICR1bWYuY29tcGlsZShcIi9mb29cIikuYXBwZW5kKCR1bWYuY29tcGlsZShcIi86cGFyYW1cIikpLmFwcGVuZCgkdW1mLmNvbXBpbGUoXCIvXCIpKS5hcHBlbmQoJHVtZi5jb21waWxlKFwidGFpbFwiKSk7XG4gICAgICAgICAqIHZhciByZXN1bHQgPSBzZWdtZW50cyhtYXRjaGVyKTsgLy8gWyAnLycsICdmb28nLCAnLycsIFBhcmFtLCAnLycsICd0YWlsJyBdXG4gICAgICAgICAqXG4gICAgICAgICAqIENhY2hlcyB0aGUgcmVzdWx0IGFzIGBtYXRjaGVyLl9jYWNoZS5zZWdtZW50c2BcbiAgICAgICAgICovXG4gICAgICAgIHZhciBzZWdtZW50cyA9IGZ1bmN0aW9uIChtYXRjaGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gKG1hdGNoZXIuX2NhY2hlLnNlZ21lbnRzID1cbiAgICAgICAgICAgICAgICBtYXRjaGVyLl9jYWNoZS5zZWdtZW50cyB8fFxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVyLl9jYWNoZS5wYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKFVybE1hdGNoZXIucGF0aFNlZ21lbnRzQW5kUGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlZHVjZShjb21tb25fMS51bm5lc3RSLCBbXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZWR1Y2Uoc3RyaW5nc18xLmpvaW5OZWlnaGJvcnNSLCBbXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIChwcmVkaWNhdGVzXzEuaXNTdHJpbmcoeCkgPyBzcGxpdE9uU2xhc2goeCkgOiB4KTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZWR1Y2UoY29tbW9uXzEudW5uZXN0UiwgW10pKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIHNvcnQgd2VpZ2h0IGZvciBlYWNoIHNlZ21lbnQgb2YgYSBVcmxNYXRjaGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIENhY2hlcyB0aGUgcmVzdWx0IGFzIGBtYXRjaGVyLl9jYWNoZS53ZWlnaHRzYFxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHdlaWdodHMgPSBmdW5jdGlvbiAobWF0Y2hlcikge1xuICAgICAgICAgICAgcmV0dXJuIChtYXRjaGVyLl9jYWNoZS53ZWlnaHRzID1cbiAgICAgICAgICAgICAgICBtYXRjaGVyLl9jYWNoZS53ZWlnaHRzIHx8XG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnRzKG1hdGNoZXIpLm1hcChmdW5jdGlvbiAoc2VnbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU29ydCBzbGFzaGVzIGZpcnN0LCB0aGVuIHN0YXRpYyBzdHJpbmdzLCB0aGUgUGFyYW1zXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudCA9PT0gJy8nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc1N0cmluZyhzZWdtZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWdtZW50IGluc3RhbmNlb2YgcGFyYW1fMS5QYXJhbSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMztcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogUGFkcyBzaG9ydGVyIGFycmF5IGluLXBsYWNlIChtdXRhdGVzKVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHBhZEFycmF5cyA9IGZ1bmN0aW9uIChsLCByLCBwYWRWYWwpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSBNYXRoLm1heChsLmxlbmd0aCwgci5sZW5ndGgpO1xuICAgICAgICAgICAgd2hpbGUgKGwubGVuZ3RoIDwgbGVuKVxuICAgICAgICAgICAgICAgIGwucHVzaChwYWRWYWwpO1xuICAgICAgICAgICAgd2hpbGUgKHIubGVuZ3RoIDwgbGVuKVxuICAgICAgICAgICAgICAgIHIucHVzaChwYWRWYWwpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgd2VpZ2h0c0EgPSB3ZWlnaHRzKGEpLCB3ZWlnaHRzQiA9IHdlaWdodHMoYik7XG4gICAgICAgIHBhZEFycmF5cyh3ZWlnaHRzQSwgd2VpZ2h0c0IsIDApO1xuICAgICAgICB2YXIgX3BhaXJzID0gY29tbW9uXzEuYXJyYXlUdXBsZXMod2VpZ2h0c0EsIHdlaWdodHNCKTtcbiAgICAgICAgdmFyIGNtcCwgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IF9wYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY21wID0gX3BhaXJzW2ldWzBdIC0gX3BhaXJzW2ldWzFdO1xuICAgICAgICAgICAgaWYgKGNtcCAhPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gY21wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb25jYXRlbmF0ZWQgVXJsTWF0Y2hlclxuICAgICAqXG4gICAgICogQnVpbGRzIGEgbmV3IFVybE1hdGNoZXIgYnkgYXBwZW5kaW5nIGFub3RoZXIgVXJsTWF0Y2hlciB0byB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB1cmwgQSBgVXJsTWF0Y2hlcmAgaW5zdGFuY2UgdG8gYXBwZW5kIGFzIGEgY2hpbGQgb2YgdGhlIGN1cnJlbnQgYFVybE1hdGNoZXJgLlxuICAgICAqL1xuICAgIFVybE1hdGNoZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4ucHVzaCh1cmwpO1xuICAgICAgICB1cmwuX2NhY2hlID0ge1xuICAgICAgICAgICAgcGF0aDogdGhpcy5fY2FjaGUucGF0aC5jb25jYXQodXJsKSxcbiAgICAgICAgICAgIHBhcmVudDogdGhpcyxcbiAgICAgICAgICAgIHBhdHRlcm46IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfTtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFVybE1hdGNoZXIucHJvdG90eXBlLmlzUm9vdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlLnBhdGhbMF0gPT09IHRoaXM7XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyB0aGUgaW5wdXQgcGF0dGVybiBzdHJpbmcgKi9cbiAgICBVcmxNYXRjaGVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0dGVybjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3RzIHRoZSBzcGVjaWZpZWQgdXJsL3BhdGggYWdhaW5zdCB0aGlzIG1hdGNoZXIuXG4gICAgICpcbiAgICAgKiBUZXN0cyBpZiB0aGUgZ2l2ZW4gdXJsIG1hdGNoZXMgdGhpcyBtYXRjaGVyJ3MgcGF0dGVybiwgYW5kIHJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNhcHR1cmVkXG4gICAgICogcGFyYW1ldGVyIHZhbHVlcy4gIFJldHVybnMgbnVsbCBpZiB0aGUgcGF0aCBkb2VzIG5vdCBtYXRjaC5cbiAgICAgKlxuICAgICAqIFRoZSByZXR1cm5lZCBvYmplY3QgY29udGFpbnMgdGhlIHZhbHVlc1xuICAgICAqIG9mIGFueSBzZWFyY2ggcGFyYW1ldGVycyB0aGF0IGFyZSBtZW50aW9uZWQgaW4gdGhlIHBhdHRlcm4sIGJ1dCB0aGVpciB2YWx1ZSBtYXkgYmUgbnVsbCBpZlxuICAgICAqIHRoZXkgYXJlIG5vdCBwcmVzZW50IGluIGBzZWFyY2hgLiBUaGlzIG1lYW5zIHRoYXQgc2VhcmNoIHBhcmFtZXRlcnMgYXJlIGFsd2F5cyB0cmVhdGVkXG4gICAgICogYXMgb3B0aW9uYWwuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiBuZXcgVXJsTWF0Y2hlcignL3VzZXIve2lkfT9xJnInKS5leGVjKCcvdXNlci9ib2InLCB7XG4gICAgICogICB4OiAnMScsIHE6ICdoZWxsbydcbiAgICAgKiB9KTtcbiAgICAgKiAvLyByZXR1cm5zIHsgaWQ6ICdib2InLCBxOiAnaGVsbG8nLCByOiBudWxsIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoICAgIFRoZSBVUkwgcGF0aCB0byBtYXRjaCwgZS5nLiBgJGxvY2F0aW9uLnBhdGgoKWAuXG4gICAgICogQHBhcmFtIHNlYXJjaCAgVVJMIHNlYXJjaCBwYXJhbWV0ZXJzLCBlLmcuIGAkbG9jYXRpb24uc2VhcmNoKClgLlxuICAgICAqIEBwYXJhbSBoYXNoICAgIFVSTCBoYXNoIGUuZy4gYCRsb2NhdGlvbi5oYXNoKClgLlxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgY2FwdHVyZWQgcGFyYW1ldGVyIHZhbHVlcy5cbiAgICAgKi9cbiAgICBVcmxNYXRjaGVyLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24gKHBhdGgsIHNlYXJjaCwgaGFzaCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoc2VhcmNoID09PSB2b2lkIDApIHsgc2VhcmNoID0ge307IH1cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIG1hdGNoID0gbWVtb2l6ZVRvKHRoaXMuX2NhY2hlLCAncGF0dGVybicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFtcbiAgICAgICAgICAgICAgICAnXicsXG4gICAgICAgICAgICAgICAgY29tbW9uXzEudW5uZXN0KF90aGlzLl9jYWNoZS5wYXRoLm1hcChob2ZfMS5wcm9wKCdfY29tcGlsZWQnKSkpLmpvaW4oJycpLFxuICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpZy5zdHJpY3QgPT09IGZhbHNlID8gJy8/JyA6ICcnLFxuICAgICAgICAgICAgICAgICckJyxcbiAgICAgICAgICAgIF0uam9pbignJyksIF90aGlzLmNvbmZpZy5jYXNlSW5zZW5zaXRpdmUgPyAnaScgOiB1bmRlZmluZWQpO1xuICAgICAgICB9KS5leGVjKHBhdGgpO1xuICAgICAgICBpZiAoIW1hdGNoKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8vIG9wdGlvbnMgPSBkZWZhdWx0cyhvcHRpb25zLCB7IGlzb2xhdGU6IGZhbHNlIH0pO1xuICAgICAgICB2YXIgYWxsUGFyYW1zID0gdGhpcy5wYXJhbWV0ZXJzKCksIHBhdGhQYXJhbXMgPSBhbGxQYXJhbXMuZmlsdGVyKGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gIXBhcmFtLmlzU2VhcmNoKCk7IH0pLCBzZWFyY2hQYXJhbXMgPSBhbGxQYXJhbXMuZmlsdGVyKGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gcGFyYW0uaXNTZWFyY2goKTsgfSksIG5QYXRoU2VnbWVudHMgPSB0aGlzLl9jYWNoZS5wYXRoLm1hcChmdW5jdGlvbiAodXJsbSkgeyByZXR1cm4gdXJsbS5fc2VnbWVudHMubGVuZ3RoIC0gMTsgfSkucmVkdWNlKGZ1bmN0aW9uIChhLCB4KSB7IHJldHVybiBhICsgeDsgfSksIHZhbHVlcyA9IHt9O1xuICAgICAgICBpZiAoblBhdGhTZWdtZW50cyAhPT0gbWF0Y2gubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYmFsYW5jZWQgY2FwdHVyZSBncm91cCBpbiByb3V0ZSAnXCIgKyB0aGlzLnBhdHRlcm4gKyBcIidcIik7XG4gICAgICAgIGZ1bmN0aW9uIGRlY29kZVBhdGhBcnJheShwYXJhbVZhbCkge1xuICAgICAgICAgICAgdmFyIHJldmVyc2VTdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0clxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJycpXG4gICAgICAgICAgICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciB1bnF1b3RlRGFzaGVzID0gZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gc3RyLnJlcGxhY2UoL1xcXFwtL2csICctJyk7IH07XG4gICAgICAgICAgICB2YXIgc3BsaXQgPSByZXZlcnNlU3RyaW5nKHBhcmFtVmFsKS5zcGxpdCgvLSg/IVxcXFwpLyk7XG4gICAgICAgICAgICB2YXIgYWxsUmV2ZXJzZWQgPSBjb21tb25fMS5tYXAoc3BsaXQsIHJldmVyc2VTdHJpbmcpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLm1hcChhbGxSZXZlcnNlZCwgdW5xdW90ZURhc2hlcykucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgblBhdGhTZWdtZW50czsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW0gPSBwYXRoUGFyYW1zW2ldO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gbWF0Y2hbaSArIDFdO1xuICAgICAgICAgICAgLy8gaWYgdGhlIHBhcmFtIHZhbHVlIG1hdGNoZXMgYSBwcmUtcmVwbGFjZSBwYWlyLCByZXBsYWNlIHRoZSB2YWx1ZSBiZWZvcmUgZGVjb2RpbmcuXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhcmFtLnJlcGxhY2UubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW0ucmVwbGFjZVtqXS5mcm9tID09PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJhbS5yZXBsYWNlW2pdLnRvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlICYmIHBhcmFtLmFycmF5ID09PSB0cnVlKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gZGVjb2RlUGF0aEFycmF5KHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKHZhbHVlKSlcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcmFtLnR5cGUuZGVjb2RlKHZhbHVlKTtcbiAgICAgICAgICAgIHZhbHVlc1twYXJhbS5pZF0gPSBwYXJhbS52YWx1ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VhcmNoUGFyYW1zLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzZWFyY2hbcGFyYW0uaWRdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwYXJhbS5yZXBsYWNlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtLnJlcGxhY2Vbal0uZnJvbSA9PT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyYW0ucmVwbGFjZVtqXS50bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGVzXzEuaXNEZWZpbmVkKHZhbHVlKSlcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcmFtLnR5cGUuZGVjb2RlKHZhbHVlKTtcbiAgICAgICAgICAgIHZhbHVlc1twYXJhbS5pZF0gPSBwYXJhbS52YWx1ZSh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaGFzaClcbiAgICAgICAgICAgIHZhbHVlc1snIyddID0gaGFzaDtcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBoaWRkZW5cbiAgICAgKiBSZXR1cm5zIGFsbCB0aGUgW1tQYXJhbV1dIG9iamVjdHMgb2YgYWxsIHBhdGggYW5kIHNlYXJjaCBwYXJhbWV0ZXJzIG9mIHRoaXMgcGF0dGVybiBpbiBvcmRlciBvZiBhcHBlYXJhbmNlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0FycmF5LjxQYXJhbT59ICBBbiBhcnJheSBvZiBbW1BhcmFtXV0gb2JqZWN0cy4gTXVzdCBiZSB0cmVhdGVkIGFzIHJlYWQtb25seS4gSWYgdGhlXG4gICAgICogICAgcGF0dGVybiBoYXMgbm8gcGFyYW1ldGVycywgYW4gZW1wdHkgYXJyYXkgaXMgcmV0dXJuZWQuXG4gICAgICovXG4gICAgVXJsTWF0Y2hlci5wcm90b3R5cGUucGFyYW1ldGVycyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XG4gICAgICAgIGlmIChvcHRzLmluaGVyaXQgPT09IGZhbHNlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtcztcbiAgICAgICAgcmV0dXJuIGNvbW1vbl8xLnVubmVzdCh0aGlzLl9jYWNoZS5wYXRoLm1hcChmdW5jdGlvbiAobWF0Y2hlcikgeyByZXR1cm4gbWF0Y2hlci5fcGFyYW1zOyB9KSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaGlkZGVuXG4gICAgICogUmV0dXJucyBhIHNpbmdsZSBwYXJhbWV0ZXIgZnJvbSB0aGlzIFVybE1hdGNoZXIgYnkgaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZFxuICAgICAqIEBwYXJhbSBvcHRzXG4gICAgICogQHJldHVybnMge1R8UGFyYW18YW55fGJvb2xlYW58VXJsTWF0Y2hlcnxudWxsfVxuICAgICAqL1xuICAgIFVybE1hdGNoZXIucHJvdG90eXBlLnBhcmFtZXRlciA9IGZ1bmN0aW9uIChpZCwgb3B0cykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7IG9wdHMgPSB7fTsgfVxuICAgICAgICB2YXIgZmluZFBhcmFtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLl9wYXJhbXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbS5pZCA9PT0gaWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJhbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuX2NhY2hlLnBhcmVudDtcbiAgICAgICAgcmV0dXJuIGZpbmRQYXJhbSgpIHx8IChvcHRzLmluaGVyaXQgIT09IGZhbHNlICYmIHBhcmVudCAmJiBwYXJlbnQucGFyYW1ldGVyKGlkLCBvcHRzKSkgfHwgbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0aGUgaW5wdXQgcGFyYW1ldGVyIHZhbHVlcyBhZ2FpbnN0IHRoaXMgVXJsTWF0Y2hlclxuICAgICAqXG4gICAgICogQ2hlY2tzIGFuIG9iamVjdCBoYXNoIG9mIHBhcmFtZXRlcnMgdG8gdmFsaWRhdGUgdGhlaXIgY29ycmVjdG5lc3MgYWNjb3JkaW5nIHRvIHRoZSBwYXJhbWV0ZXJcbiAgICAgKiB0eXBlcyBvZiB0aGlzIGBVcmxNYXRjaGVyYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXJhbXMgVGhlIG9iamVjdCBoYXNoIG9mIHBhcmFtZXRlcnMgdG8gdmFsaWRhdGUuXG4gICAgICogQHJldHVybnMgUmV0dXJucyBgdHJ1ZWAgaWYgYHBhcmFtc2AgdmFsaWRhdGVzLCBvdGhlcndpc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBVcmxNYXRjaGVyLnByb3RvdHlwZS52YWxpZGF0ZXMgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgIHZhciB2YWxpZFBhcmFtVmFsID0gZnVuY3Rpb24gKHBhcmFtLCB2YWwpIHsgcmV0dXJuICFwYXJhbSB8fCBwYXJhbS52YWxpZGF0ZXModmFsKTsgfTtcbiAgICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuICAgICAgICAvLyBJJ20gbm90IHN1cmUgd2h5IHRoaXMgY2hlY2tzIG9ubHkgdGhlIHBhcmFtIGtleXMgcGFzc2VkIGluLCBhbmQgbm90IGFsbCB0aGUgcGFyYW1zIGtub3duIHRvIHRoZSBtYXRjaGVyXG4gICAgICAgIHZhciBwYXJhbVNjaGVtYSA9IHRoaXMucGFyYW1ldGVycygpLmZpbHRlcihmdW5jdGlvbiAocGFyYW1EZWYpIHsgcmV0dXJuIHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShwYXJhbURlZi5pZCk7IH0pO1xuICAgICAgICByZXR1cm4gcGFyYW1TY2hlbWEubWFwKGZ1bmN0aW9uIChwYXJhbURlZikgeyByZXR1cm4gdmFsaWRQYXJhbVZhbChwYXJhbURlZiwgcGFyYW1zW3BhcmFtRGVmLmlkXSk7IH0pLnJlZHVjZShjb21tb25fMS5hbGxUcnVlUiwgdHJ1ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHNldCBvZiBwYXJhbWV0ZXIgdmFsdWVzLCBjcmVhdGVzIGEgVVJMIGZyb20gdGhpcyBVcmxNYXRjaGVyLlxuICAgICAqXG4gICAgICogQ3JlYXRlcyBhIFVSTCB0aGF0IG1hdGNoZXMgdGhpcyBwYXR0ZXJuIGJ5IHN1YnN0aXR1dGluZyB0aGUgc3BlY2lmaWVkIHZhbHVlc1xuICAgICAqIGZvciB0aGUgcGF0aCBhbmQgc2VhcmNoIHBhcmFtZXRlcnMuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiBuZXcgVXJsTWF0Y2hlcignL3VzZXIve2lkfT9xJykuZm9ybWF0KHsgaWQ6J2JvYicsIHE6J3llcycgfSk7XG4gICAgICogLy8gcmV0dXJucyAnL3VzZXIvYm9iP3E9eWVzJ1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbHVlcyAgdGhlIHZhbHVlcyB0byBzdWJzdGl0dXRlIGZvciB0aGUgcGFyYW1ldGVycyBpbiB0aGlzIHBhdHRlcm4uXG4gICAgICogQHJldHVybnMgdGhlIGZvcm1hdHRlZCBVUkwgKHBhdGggYW5kIG9wdGlvbmFsbHkgc2VhcmNoIHBhcnQpLlxuICAgICAqL1xuICAgIFVybE1hdGNoZXIucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgaWYgKHZhbHVlcyA9PT0gdm9pZCAwKSB7IHZhbHVlcyA9IHt9OyB9XG4gICAgICAgIC8vIEJ1aWxkIHRoZSBmdWxsIHBhdGggb2YgVXJsTWF0Y2hlcnMgKGluY2x1ZGluZyBhbGwgcGFyZW50IFVybE1hdGNoZXJzKVxuICAgICAgICB2YXIgdXJsTWF0Y2hlcnMgPSB0aGlzLl9jYWNoZS5wYXRoO1xuICAgICAgICAvLyBFeHRyYWN0IGFsbCB0aGUgc3RhdGljIHNlZ21lbnRzIGFuZCBQYXJhbXMgKHByb2Nlc3NlZCBhcyBQYXJhbURldGFpbHMpXG4gICAgICAgIC8vIGludG8gYW4gb3JkZXJlZCBhcnJheVxuICAgICAgICB2YXIgcGF0aFNlZ21lbnRzQW5kUGFyYW1zID0gdXJsTWF0Y2hlcnNcbiAgICAgICAgICAgIC5tYXAoVXJsTWF0Y2hlci5wYXRoU2VnbWVudHNBbmRQYXJhbXMpXG4gICAgICAgICAgICAucmVkdWNlKGNvbW1vbl8xLnVubmVzdFIsIFtdKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gKHByZWRpY2F0ZXNfMS5pc1N0cmluZyh4KSA/IHggOiBnZXREZXRhaWxzKHgpKTsgfSk7XG4gICAgICAgIC8vIEV4dHJhY3QgdGhlIHF1ZXJ5IHBhcmFtcyBpbnRvIGEgc2VwYXJhdGUgYXJyYXlcbiAgICAgICAgdmFyIHF1ZXJ5UGFyYW1zID0gdXJsTWF0Y2hlcnNcbiAgICAgICAgICAgIC5tYXAoVXJsTWF0Y2hlci5xdWVyeVBhcmFtcylcbiAgICAgICAgICAgIC5yZWR1Y2UoY29tbW9uXzEudW5uZXN0UiwgW10pXG4gICAgICAgICAgICAubWFwKGdldERldGFpbHMpO1xuICAgICAgICB2YXIgaXNJbnZhbGlkID0gZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiBwYXJhbS5pc1ZhbGlkID09PSBmYWxzZTsgfTtcbiAgICAgICAgaWYgKHBhdGhTZWdtZW50c0FuZFBhcmFtcy5jb25jYXQocXVlcnlQYXJhbXMpLmZpbHRlcihpc0ludmFsaWQpLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdpdmVuIGEgUGFyYW0sIGFwcGxpZXMgdGhlIHBhcmFtZXRlciB2YWx1ZSwgdGhlbiByZXR1cm5zIGRldGFpbGVkIGluZm9ybWF0aW9uIGFib3V0IGl0XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXREZXRhaWxzKHBhcmFtKSB7XG4gICAgICAgICAgICAvLyBOb3JtYWxpemUgdG8gdHlwZWQgdmFsdWVcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcmFtLnZhbHVlKHZhbHVlc1twYXJhbS5pZF0pO1xuICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBwYXJhbS52YWxpZGF0ZXModmFsdWUpO1xuICAgICAgICAgICAgdmFyIGlzRGVmYXVsdFZhbHVlID0gcGFyYW0uaXNEZWZhdWx0VmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgaW4gc3F1YXNoIG1vZGUgZm9yIHRoZSBwYXJhbWV0ZXJcbiAgICAgICAgICAgIHZhciBzcXVhc2ggPSBpc0RlZmF1bHRWYWx1ZSA/IHBhcmFtLnNxdWFzaCA6IGZhbHNlO1xuICAgICAgICAgICAgLy8gQWxsb3cgdGhlIFBhcmFtZXRlcidzIFR5cGUgdG8gZW5jb2RlIHRoZSB2YWx1ZVxuICAgICAgICAgICAgdmFyIGVuY29kZWQgPSBwYXJhbS50eXBlLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4geyBwYXJhbTogcGFyYW0sIHZhbHVlOiB2YWx1ZSwgaXNWYWxpZDogaXNWYWxpZCwgaXNEZWZhdWx0VmFsdWU6IGlzRGVmYXVsdFZhbHVlLCBzcXVhc2g6IHNxdWFzaCwgZW5jb2RlZDogZW5jb2RlZCB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIEJ1aWxkIHVwIHRoZSBwYXRoLXBvcnRpb24gZnJvbSB0aGUgbGlzdCBvZiBzdGF0aWMgc2VnbWVudHMgYW5kIHBhcmFtZXRlcnNcbiAgICAgICAgdmFyIHBhdGhTdHJpbmcgPSBwYXRoU2VnbWVudHNBbmRQYXJhbXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHgpIHtcbiAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IGlzIGEgc3RhdGljIHNlZ21lbnQgKGEgcmF3IHN0cmluZyk7IGp1c3QgYXBwZW5kIGl0XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzU3RyaW5nKHgpKVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2MgKyB4O1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBpdCdzIGEgUGFyYW1EZXRhaWxzLlxuICAgICAgICAgICAgdmFyIHNxdWFzaCA9IHguc3F1YXNoLCBlbmNvZGVkID0geC5lbmNvZGVkLCBwYXJhbSA9IHgucGFyYW07XG4gICAgICAgICAgICAvLyBJZiBzcXVhc2ggaXMgPT09IHRydWUsIHRyeSB0byByZW1vdmUgYSBzbGFzaCBmcm9tIHRoZSBwYXRoXG4gICAgICAgICAgICBpZiAoc3F1YXNoID09PSB0cnVlKVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2MubWF0Y2goL1xcLyQvKSA/IGFjYy5zbGljZSgwLCAtMSkgOiBhY2M7XG4gICAgICAgICAgICAvLyBJZiBzcXVhc2ggaXMgYSBzdHJpbmcsIHVzZSB0aGUgc3RyaW5nIGZvciB0aGUgcGFyYW0gdmFsdWVcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGVzXzEuaXNTdHJpbmcoc3F1YXNoKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjICsgc3F1YXNoO1xuICAgICAgICAgICAgaWYgKHNxdWFzaCAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYzsgLy8gP1xuICAgICAgICAgICAgaWYgKGVuY29kZWQgPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgLy8gSWYgdGhpcyBwYXJhbWV0ZXIgdmFsdWUgaXMgYW4gYXJyYXksIGVuY29kZSB0aGUgdmFsdWUgdXNpbmcgZW5jb2RlRGFzaGVzXG4gICAgICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzQXJyYXkoZW5jb2RlZCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYyArIGNvbW1vbl8xLm1hcChlbmNvZGVkLCBVcmxNYXRjaGVyLmVuY29kZURhc2hlcykuam9pbignLScpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciB0eXBlIGlzIFwicmF3XCIsIHRoZW4gZG8gbm90IGVuY29kZVVSSUNvbXBvbmVudFxuICAgICAgICAgICAgaWYgKHBhcmFtLnJhdylcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjICsgZW5jb2RlZDtcbiAgICAgICAgICAgIC8vIEVuY29kZSB0aGUgdmFsdWVcbiAgICAgICAgICAgIHJldHVybiBhY2MgKyBlbmNvZGVVUklDb21wb25lbnQoZW5jb2RlZCk7XG4gICAgICAgIH0sICcnKTtcbiAgICAgICAgLy8gQnVpbGQgdGhlIHF1ZXJ5IHN0cmluZyBieSBhcHBseWluZyBwYXJhbWV0ZXIgdmFsdWVzIChhcnJheSBvciByZWd1bGFyKVxuICAgICAgICAvLyB0aGVuIG1hcHBpbmcgdG8ga2V5PXZhbHVlLCB0aGVuIGZsYXR0ZW5pbmcgYW5kIGpvaW5pbmcgdXNpbmcgXCImXCJcbiAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gcXVlcnlQYXJhbXNcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHBhcmFtRGV0YWlscykge1xuICAgICAgICAgICAgdmFyIHBhcmFtID0gcGFyYW1EZXRhaWxzLnBhcmFtLCBzcXVhc2ggPSBwYXJhbURldGFpbHMuc3F1YXNoLCBlbmNvZGVkID0gcGFyYW1EZXRhaWxzLmVuY29kZWQsIGlzRGVmYXVsdFZhbHVlID0gcGFyYW1EZXRhaWxzLmlzRGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgaWYgKGVuY29kZWQgPT0gbnVsbCB8fCAoaXNEZWZhdWx0VmFsdWUgJiYgc3F1YXNoICE9PSBmYWxzZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCFwcmVkaWNhdGVzXzEuaXNBcnJheShlbmNvZGVkKSlcbiAgICAgICAgICAgICAgICBlbmNvZGVkID0gW2VuY29kZWRdO1xuICAgICAgICAgICAgaWYgKGVuY29kZWQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmICghcGFyYW0ucmF3KVxuICAgICAgICAgICAgICAgIGVuY29kZWQgPSBjb21tb25fMS5tYXAoZW5jb2RlZCwgZW5jb2RlVVJJQ29tcG9uZW50KTtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVkLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiBwYXJhbS5pZCArIFwiPVwiICsgdmFsOyB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5maWx0ZXIoY29tbW9uXzEuaWRlbnRpdHkpXG4gICAgICAgICAgICAucmVkdWNlKGNvbW1vbl8xLnVubmVzdFIsIFtdKVxuICAgICAgICAgICAgLmpvaW4oJyYnKTtcbiAgICAgICAgLy8gQ29uY2F0IHRoZSBwYXRoc3RyaW5nIHdpdGggdGhlIHF1ZXJ5U3RyaW5nIChpZiBleGlzdHMpIGFuZCB0aGUgaGFzaFN0cmluZyAoaWYgZXhpc3RzKVxuICAgICAgICByZXR1cm4gcGF0aFN0cmluZyArIChxdWVyeVN0cmluZyA/IFwiP1wiICsgcXVlcnlTdHJpbmcgOiAnJykgKyAodmFsdWVzWycjJ10gPyAnIycgKyB2YWx1ZXNbJyMnXSA6ICcnKTtcbiAgICB9O1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgVXJsTWF0Y2hlci5uYW1lVmFsaWRhdG9yID0gL15cXHcrKFstLl0rXFx3KykqKD86XFxbXFxdKT8kLztcbiAgICByZXR1cm4gVXJsTWF0Y2hlcjtcbn0oKSk7XG5leHBvcnRzLlVybE1hdGNoZXIgPSBVcmxNYXRjaGVyO1xuXG59LHtcIi4uL2NvbW1vblwiOjcsXCIuLi9jb21tb24vY29tbW9uXCI6MyxcIi4uL2NvbW1vbi9ob2ZcIjo2LFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIjo4LFwiLi4vY29tbW9uL3N0cmluZ3NcIjoxMCxcIi4uL3BhcmFtcy9wYXJhbVwiOjI2fV0sNTg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSB1cmwgKi8gLyoqICovXG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uXCIpO1xudmFyIHVybE1hdGNoZXJfMSA9IHJlcXVpcmUoXCIuL3VybE1hdGNoZXJcIik7XG52YXIgcGFyYW1zXzEgPSByZXF1aXJlKFwiLi4vcGFyYW1zXCIpO1xuLyoqIEBpbnRlcm5hbGFwaSAqL1xudmFyIFBhcmFtRmFjdG9yeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQYXJhbUZhY3Rvcnkocm91dGVyKSB7XG4gICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyO1xuICAgIH1cbiAgICBQYXJhbUZhY3RvcnkucHJvdG90eXBlLmZyb21Db25maWcgPSBmdW5jdGlvbiAoaWQsIHR5cGUsIHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgcGFyYW1zXzEuUGFyYW0oaWQsIHR5cGUsIHBhcmFtc18xLkRlZlR5cGUuQ09ORklHLCB0aGlzLnJvdXRlci51cmxTZXJ2aWNlLmNvbmZpZywgc3RhdGUpO1xuICAgIH07XG4gICAgUGFyYW1GYWN0b3J5LnByb3RvdHlwZS5mcm9tUGF0aCA9IGZ1bmN0aW9uIChpZCwgdHlwZSwgc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBwYXJhbXNfMS5QYXJhbShpZCwgdHlwZSwgcGFyYW1zXzEuRGVmVHlwZS5QQVRILCB0aGlzLnJvdXRlci51cmxTZXJ2aWNlLmNvbmZpZywgc3RhdGUpO1xuICAgIH07XG4gICAgUGFyYW1GYWN0b3J5LnByb3RvdHlwZS5mcm9tU2VhcmNoID0gZnVuY3Rpb24gKGlkLCB0eXBlLCBzdGF0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IHBhcmFtc18xLlBhcmFtKGlkLCB0eXBlLCBwYXJhbXNfMS5EZWZUeXBlLlNFQVJDSCwgdGhpcy5yb3V0ZXIudXJsU2VydmljZS5jb25maWcsIHN0YXRlKTtcbiAgICB9O1xuICAgIHJldHVybiBQYXJhbUZhY3Rvcnk7XG59KCkpO1xuZXhwb3J0cy5QYXJhbUZhY3RvcnkgPSBQYXJhbUZhY3Rvcnk7XG4vKipcbiAqIEZhY3RvcnkgZm9yIFtbVXJsTWF0Y2hlcl1dIGluc3RhbmNlcy5cbiAqXG4gKiBUaGUgZmFjdG9yeSBpcyBhdmFpbGFibGUgdG8gbmcxIHNlcnZpY2VzIGFzXG4gKiBgJHVybE1hdGNoZXJGYWN0b3J5YCBvciBuZzEgcHJvdmlkZXJzIGFzIGAkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlcmAuXG4gKlxuICogQGludGVybmFsYXBpXG4gKi9cbnZhciBVcmxNYXRjaGVyRmFjdG9yeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBUT0RPOiBtb3ZlIGltcGxlbWVudGF0aW9ucyB0byBVcmxDb25maWcgKHVybFNlcnZpY2UuY29uZmlnKVxuICAgIGZ1bmN0aW9uIFVybE1hdGNoZXJGYWN0b3J5KC8qKiBAaGlkZGVuICovIHJvdXRlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgLyoqIEBpbnRlcm5hbGFwaSBDcmVhdGVzIGEgbmV3IFtbUGFyYW1dXSBmb3IgYSBnaXZlbiBsb2NhdGlvbiAoRGVmVHlwZSkgKi9cbiAgICAgICAgdGhpcy5wYXJhbUZhY3RvcnkgPSBuZXcgUGFyYW1GYWN0b3J5KHRoaXMucm91dGVyKTtcbiAgICAgICAgLyoqIEBkZXByZWNhdGVkIHVzZSBbW1VybENvbmZpZy5jYXNlSW5zZW5zaXRpdmVdXSAqL1xuICAgICAgICB0aGlzLmNhc2VJbnNlbnNpdGl2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gX3RoaXMucm91dGVyLnVybFNlcnZpY2UuY29uZmlnLmNhc2VJbnNlbnNpdGl2ZSh2YWx1ZSk7IH07XG4gICAgICAgIC8qKiBAZGVwcmVjYXRlZCB1c2UgW1tVcmxDb25maWcuZGVmYXVsdFNxdWFzaFBvbGljeV1dICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFNxdWFzaFBvbGljeSA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gX3RoaXMucm91dGVyLnVybFNlcnZpY2UuY29uZmlnLmRlZmF1bHRTcXVhc2hQb2xpY3kodmFsdWUpOyB9O1xuICAgICAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIFtbVXJsQ29uZmlnLnN0cmljdE1vZGVdXSAqL1xuICAgICAgICB0aGlzLnN0cmljdE1vZGUgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIF90aGlzLnJvdXRlci51cmxTZXJ2aWNlLmNvbmZpZy5zdHJpY3RNb2RlKHZhbHVlKTsgfTtcbiAgICAgICAgLyoqIEBkZXByZWNhdGVkIHVzZSBbW1VybENvbmZpZy50eXBlXV0gKi9cbiAgICAgICAgdGhpcy50eXBlID0gZnVuY3Rpb24gKG5hbWUsIGRlZmluaXRpb24sIGRlZmluaXRpb25Gbikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJvdXRlci51cmxTZXJ2aWNlLmNvbmZpZy50eXBlKG5hbWUsIGRlZmluaXRpb24sIGRlZmluaXRpb25GbikgfHwgX3RoaXM7XG4gICAgICAgIH07XG4gICAgICAgIGNvbW1vbl8xLmV4dGVuZCh0aGlzLCB7IFVybE1hdGNoZXI6IHVybE1hdGNoZXJfMS5VcmxNYXRjaGVyLCBQYXJhbTogcGFyYW1zXzEuUGFyYW0gfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBbW1VybE1hdGNoZXJdXSBmb3IgdGhlIHNwZWNpZmllZCBwYXR0ZXJuLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdHRlcm4gIFRoZSBVUkwgcGF0dGVybi5cbiAgICAgKiBAcGFyYW0gY29uZmlnICBUaGUgY29uZmlnIG9iamVjdCBoYXNoLlxuICAgICAqIEByZXR1cm5zIFRoZSBVcmxNYXRjaGVyLlxuICAgICAqL1xuICAgIFVybE1hdGNoZXJGYWN0b3J5LnByb3RvdHlwZS5jb21waWxlID0gZnVuY3Rpb24gKHBhdHRlcm4sIGNvbmZpZykge1xuICAgICAgICB2YXIgdXJsQ29uZmlnID0gdGhpcy5yb3V0ZXIudXJsU2VydmljZS5jb25maWc7XG4gICAgICAgIC8vIGJhY2t3YXJkLWNvbXBhdGlibGUgc3VwcG9ydCBmb3IgY29uZmlnLnBhcmFtcyAtPiBjb25maWcuc3RhdGUucGFyYW1zXG4gICAgICAgIHZhciBwYXJhbXMgPSBjb25maWcgJiYgIWNvbmZpZy5zdGF0ZSAmJiBjb25maWcucGFyYW1zO1xuICAgICAgICBjb25maWcgPSBwYXJhbXMgPyBfX2Fzc2lnbih7IHN0YXRlOiB7IHBhcmFtczogcGFyYW1zIH0gfSwgY29uZmlnKSA6IGNvbmZpZztcbiAgICAgICAgdmFyIGdsb2JhbENvbmZpZyA9IHsgc3RyaWN0OiB1cmxDb25maWcuX2lzU3RyaWN0TW9kZSwgY2FzZUluc2Vuc2l0aXZlOiB1cmxDb25maWcuX2lzQ2FzZUluc2Vuc2l0aXZlIH07XG4gICAgICAgIHJldHVybiBuZXcgdXJsTWF0Y2hlcl8xLlVybE1hdGNoZXIocGF0dGVybiwgdXJsQ29uZmlnLnBhcmFtVHlwZXMsIHRoaXMucGFyYW1GYWN0b3J5LCBjb21tb25fMS5leHRlbmQoZ2xvYmFsQ29uZmlnLCBjb25maWcpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIG9iamVjdCBpcyBhIFtbVXJsTWF0Y2hlcl1dLCBvciBmYWxzZSBvdGhlcndpc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb2JqZWN0ICBUaGUgb2JqZWN0IHRvIHBlcmZvcm0gdGhlIHR5cGUgY2hlY2sgYWdhaW5zdC5cbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdCBtYXRjaGVzIHRoZSBgVXJsTWF0Y2hlcmAgaW50ZXJmYWNlLCBieVxuICAgICAqICAgICAgICAgIGltcGxlbWVudGluZyBhbGwgdGhlIHNhbWUgbWV0aG9kcy5cbiAgICAgKi9cbiAgICBVcmxNYXRjaGVyRmFjdG9yeS5wcm90b3R5cGUuaXNNYXRjaGVyID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICAvLyBUT0RPOiB0eXBlb2Y/XG4gICAgICAgIGlmICghY29tbW9uXzEuaXNPYmplY3Qob2JqZWN0KSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICAgIGNvbW1vbl8xLmZvckVhY2godXJsTWF0Y2hlcl8xLlVybE1hdGNoZXIucHJvdG90eXBlLCBmdW5jdGlvbiAodmFsLCBuYW1lKSB7XG4gICAgICAgICAgICBpZiAoY29tbW9uXzEuaXNGdW5jdGlvbih2YWwpKVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCAmJiAoY29tbW9uXzEuaXNEZWZpbmVkKG9iamVjdFtuYW1lXSkgJiYgY29tbW9uXzEuaXNGdW5jdGlvbihvYmplY3RbbmFtZV0pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFVybE1hdGNoZXJGYWN0b3J5LnByb3RvdHlwZS4kZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdXJsQ29uZmlnID0gdGhpcy5yb3V0ZXIudXJsU2VydmljZS5jb25maWc7XG4gICAgICAgIHVybENvbmZpZy5wYXJhbVR5cGVzLmVucXVldWUgPSBmYWxzZTtcbiAgICAgICAgdXJsQ29uZmlnLnBhcmFtVHlwZXMuX2ZsdXNoVHlwZVF1ZXVlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFVybE1hdGNoZXJGYWN0b3J5O1xufSgpKTtcbmV4cG9ydHMuVXJsTWF0Y2hlckZhY3RvcnkgPSBVcmxNYXRjaGVyRmFjdG9yeTtcblxufSx7XCIuLi9jb21tb25cIjo3LFwiLi4vcGFyYW1zXCI6MjUsXCIuL3VybE1hdGNoZXJcIjo1N31dLDU5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBwdWJsaWNhcGkgQG1vZHVsZSB1cmwgKi8gLyoqICovXG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uXCIpO1xudmFyIHVybFJ1bGVfMSA9IHJlcXVpcmUoXCIuL3VybFJ1bGVcIik7XG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gYXBwZW5kQmFzZVBhdGgodXJsLCBpc0h0bWw1LCBhYnNvbHV0ZSwgYmFzZUhyZWYpIHtcbiAgICBpZiAoYmFzZUhyZWYgPT09ICcvJylcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICBpZiAoaXNIdG1sNSlcbiAgICAgICAgcmV0dXJuIGNvbW1vbl8xLnN0cmlwTGFzdFBhdGhFbGVtZW50KGJhc2VIcmVmKSArIHVybDtcbiAgICBpZiAoYWJzb2x1dGUpXG4gICAgICAgIHJldHVybiBiYXNlSHJlZi5zbGljZSgxKSArIHVybDtcbiAgICByZXR1cm4gdXJsO1xufVxuLyoqXG4gKiBVcGRhdGVzIFVSTCBhbmQgcmVzcG9uZHMgdG8gVVJMIGNoYW5nZXNcbiAqXG4gKiAjIyMgRGVwcmVjYXRpb24gd2FybmluZzpcbiAqIFRoaXMgY2xhc3MgaXMgbm93IGNvbnNpZGVyZWQgdG8gYmUgYW4gaW50ZXJuYWwgQVBJXG4gKiBVc2UgdGhlIFtbVXJsU2VydmljZV1dIGluc3RlYWQuXG4gKiBGb3IgY29uZmlndXJpbmcgVVJMIHJ1bGVzLCB1c2UgdGhlIFtbVXJsUnVsZXNdXSB3aGljaCBjYW4gYmUgZm91bmQgYXMgW1tVcmxTZXJ2aWNlLnJ1bGVzXV0uXG4gKlxuICogQGludGVybmFsYXBpXG4gKi9cbnZhciBVcmxSb3V0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBmdW5jdGlvbiBVcmxSb3V0ZXIoLyoqIEBoaWRkZW4gKi8gcm91dGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyO1xuICAgICAgICAvLyBEZWxlZ2F0ZSB0aGVzZSBjYWxscyB0byBbW1VybFNlcnZpY2VdXVxuICAgICAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIFtbVXJsU2VydmljZS5zeW5jXV0qL1xuICAgICAgICB0aGlzLnN5bmMgPSBmdW5jdGlvbiAoZXZ0KSB7IHJldHVybiBfdGhpcy5yb3V0ZXIudXJsU2VydmljZS5zeW5jKGV2dCk7IH07XG4gICAgICAgIC8qKiBAZGVwcmVjYXRlZCB1c2UgW1tVcmxTZXJ2aWNlLmxpc3Rlbl1dKi9cbiAgICAgICAgdGhpcy5saXN0ZW4gPSBmdW5jdGlvbiAoZW5hYmxlZCkgeyByZXR1cm4gX3RoaXMucm91dGVyLnVybFNlcnZpY2UubGlzdGVuKGVuYWJsZWQpOyB9O1xuICAgICAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIFtbVXJsU2VydmljZS5kZWZlckludGVyY2VwdF1dKi9cbiAgICAgICAgdGhpcy5kZWZlckludGVyY2VwdCA9IGZ1bmN0aW9uIChkZWZlcikgeyByZXR1cm4gX3RoaXMucm91dGVyLnVybFNlcnZpY2UuZGVmZXJJbnRlcmNlcHQoZGVmZXIpOyB9O1xuICAgICAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIFtbVXJsU2VydmljZS5tYXRjaF1dKi9cbiAgICAgICAgdGhpcy5tYXRjaCA9IGZ1bmN0aW9uICh1cmxQYXJ0cykgeyByZXR1cm4gX3RoaXMucm91dGVyLnVybFNlcnZpY2UubWF0Y2godXJsUGFydHMpOyB9O1xuICAgICAgICAvLyBEZWxlZ2F0ZSB0aGVzZSBjYWxscyB0byBbW1VybFJ1bGVzXV1cbiAgICAgICAgLyoqIEBkZXByZWNhdGVkIHVzZSBbW1VybFJ1bGVzLmluaXRpYWxdXSovXG4gICAgICAgIHRoaXMuaW5pdGlhbCA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMucm91dGVyLnVybFNlcnZpY2UucnVsZXMuaW5pdGlhbChoYW5kbGVyKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqIEBkZXByZWNhdGVkIHVzZSBbW1VybFJ1bGVzLm90aGVyd2lzZV1dKi9cbiAgICAgICAgdGhpcy5vdGhlcndpc2UgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJvdXRlci51cmxTZXJ2aWNlLnJ1bGVzLm90aGVyd2lzZShoYW5kbGVyKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqIEBkZXByZWNhdGVkIHVzZSBbW1VybFJ1bGVzLnJlbW92ZVJ1bGVdXSovXG4gICAgICAgIHRoaXMucmVtb3ZlUnVsZSA9IGZ1bmN0aW9uIChydWxlKSB7IHJldHVybiBfdGhpcy5yb3V0ZXIudXJsU2VydmljZS5ydWxlcy5yZW1vdmVSdWxlKHJ1bGUpOyB9O1xuICAgICAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIFtbVXJsUnVsZXMucnVsZV1dKi9cbiAgICAgICAgdGhpcy5ydWxlID0gZnVuY3Rpb24gKHJ1bGUpIHsgcmV0dXJuIF90aGlzLnJvdXRlci51cmxTZXJ2aWNlLnJ1bGVzLnJ1bGUocnVsZSk7IH07XG4gICAgICAgIC8qKiBAZGVwcmVjYXRlZCB1c2UgW1tVcmxSdWxlcy5ydWxlc11dKi9cbiAgICAgICAgdGhpcy5ydWxlcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJvdXRlci51cmxTZXJ2aWNlLnJ1bGVzLnJ1bGVzKCk7IH07XG4gICAgICAgIC8qKiBAZGVwcmVjYXRlZCB1c2UgW1tVcmxSdWxlcy5zb3J0XV0qL1xuICAgICAgICB0aGlzLnNvcnQgPSBmdW5jdGlvbiAoY29tcGFyZUZuKSB7IHJldHVybiBfdGhpcy5yb3V0ZXIudXJsU2VydmljZS5ydWxlcy5zb3J0KGNvbXBhcmVGbik7IH07XG4gICAgICAgIC8qKiBAZGVwcmVjYXRlZCB1c2UgW1tVcmxSdWxlcy53aGVuXV0qL1xuICAgICAgICB0aGlzLndoZW4gPSBmdW5jdGlvbiAobWF0Y2hlciwgaGFuZGxlciwgb3B0aW9ucykgeyByZXR1cm4gX3RoaXMucm91dGVyLnVybFNlcnZpY2UucnVsZXMud2hlbihtYXRjaGVyLCBoYW5kbGVyLCBvcHRpb25zKTsgfTtcbiAgICAgICAgdGhpcy51cmxSdWxlRmFjdG9yeSA9IG5ldyB1cmxSdWxlXzEuVXJsUnVsZUZhY3Rvcnkocm91dGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgQVBJLlxuICAgICAqIEBpbnRlcm5hbGFwaVxuICAgICAqL1xuICAgIFVybFJvdXRlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHJlYWQpIHtcbiAgICAgICAgdmFyICR1cmwgPSB0aGlzLnJvdXRlci5sb2NhdGlvblNlcnZpY2U7XG4gICAgICAgIGlmIChyZWFkKSB7XG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uID0gJHVybC51cmwoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJHVybC51cmwoKSA9PT0gdGhpcy5sb2NhdGlvbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgJHVybC51cmwodGhpcy5sb2NhdGlvbiwgdHJ1ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBBUEkuXG4gICAgICpcbiAgICAgKiBQdXNoZXMgYSBuZXcgbG9jYXRpb24gdG8gdGhlIGJyb3dzZXIgaGlzdG9yeS5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbGFwaVxuICAgICAqIEBwYXJhbSB1cmxNYXRjaGVyXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICovXG4gICAgVXJsUm91dGVyLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKHVybE1hdGNoZXIsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICB2YXIgcmVwbGFjZSA9IG9wdGlvbnMgJiYgISFvcHRpb25zLnJlcGxhY2U7XG4gICAgICAgIHRoaXMucm91dGVyLnVybFNlcnZpY2UudXJsKHVybE1hdGNoZXIuZm9ybWF0KHBhcmFtcyB8fCB7fSksIHJlcGxhY2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQnVpbGRzIGFuZCByZXR1cm5zIGEgVVJMIHdpdGggaW50ZXJwb2xhdGVkIHBhcmFtZXRlcnNcbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIG1hdGNoZXIgPSAkdW1mLmNvbXBpbGUoXCIvYWJvdXQvOnBlcnNvblwiKTtcbiAgICAgKiBwYXJhbXMgPSB7IHBlcnNvbjogXCJib2JcIiB9O1xuICAgICAqICRib2IgPSAkdXJsUm91dGVyLmhyZWYobWF0Y2hlciwgcGFyYW1zKTtcbiAgICAgKiAvLyAkYm9iID09IFwiL2Fib3V0L2JvYlwiO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHVybE1hdGNoZXIgVGhlIFtbVXJsTWF0Y2hlcl1dIG9iamVjdCB3aGljaCBpcyB1c2VkIGFzIHRoZSB0ZW1wbGF0ZSBvZiB0aGUgVVJMIHRvIGdlbmVyYXRlLlxuICAgICAqIEBwYXJhbSBwYXJhbXMgQW4gb2JqZWN0IG9mIHBhcmFtZXRlciB2YWx1ZXMgdG8gZmlsbCB0aGUgbWF0Y2hlcidzIHJlcXVpcmVkIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBvYmplY3QuIFRoZSBvcHRpb25zIGFyZTpcbiAgICAgKlxuICAgICAqIC0gKipgYWJzb2x1dGVgKiogLSB7Ym9vbGVhbj1mYWxzZX0sICBJZiB0cnVlIHdpbGwgZ2VuZXJhdGUgYW4gYWJzb2x1dGUgdXJsLCBlLmcuIFwiaHR0cDovL3d3dy5leGFtcGxlLmNvbS9mdWxsdXJsXCIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBSZXR1cm5zIHRoZSBmdWxseSBjb21waWxlZCBVUkwsIG9yIGBudWxsYCBpZiBgcGFyYW1zYCBmYWlsIHZhbGlkYXRpb24gYWdhaW5zdCBgdXJsTWF0Y2hlcmBcbiAgICAgKi9cbiAgICBVcmxSb3V0ZXIucHJvdG90eXBlLmhyZWYgPSBmdW5jdGlvbiAodXJsTWF0Y2hlciwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciB1cmwgPSB1cmxNYXRjaGVyLmZvcm1hdChwYXJhbXMpO1xuICAgICAgICBpZiAodXJsID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBhYnNvbHV0ZTogZmFsc2UgfTtcbiAgICAgICAgdmFyIGNmZyA9IHRoaXMucm91dGVyLnVybFNlcnZpY2UuY29uZmlnO1xuICAgICAgICB2YXIgaXNIdG1sNSA9IGNmZy5odG1sNU1vZGUoKTtcbiAgICAgICAgaWYgKCFpc0h0bWw1ICYmIHVybCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdXJsID0gJyMnICsgY2ZnLmhhc2hQcmVmaXgoKSArIHVybDtcbiAgICAgICAgfVxuICAgICAgICB1cmwgPSBhcHBlbmRCYXNlUGF0aCh1cmwsIGlzSHRtbDUsIG9wdGlvbnMuYWJzb2x1dGUsIGNmZy5iYXNlSHJlZigpKTtcbiAgICAgICAgaWYgKCFvcHRpb25zLmFic29sdXRlIHx8ICF1cmwpIHtcbiAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNsYXNoID0gIWlzSHRtbDUgJiYgdXJsID8gJy8nIDogJyc7XG4gICAgICAgIHZhciBjZmdQb3J0ID0gY2ZnLnBvcnQoKTtcbiAgICAgICAgdmFyIHBvcnQgPSAoY2ZnUG9ydCA9PT0gODAgfHwgY2ZnUG9ydCA9PT0gNDQzID8gJycgOiAnOicgKyBjZmdQb3J0KTtcbiAgICAgICAgcmV0dXJuIFtjZmcucHJvdG9jb2woKSwgJzovLycsIGNmZy5ob3N0KCksIHBvcnQsIHNsYXNoLCB1cmxdLmpvaW4oJycpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVybFJvdXRlci5wcm90b3R5cGUsIFwiaW50ZXJjZXB0RGVmZXJyZWRcIiwge1xuICAgICAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIFtbVXJsU2VydmljZS5pbnRlcmNlcHREZWZlcnJlZF1dKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb3V0ZXIudXJsU2VydmljZS5pbnRlcmNlcHREZWZlcnJlZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFVybFJvdXRlcjtcbn0oKSk7XG5leHBvcnRzLlVybFJvdXRlciA9IFVybFJvdXRlcjtcblxufSx7XCIuLi9jb21tb25cIjo3LFwiLi91cmxSdWxlXCI6NjB9XSw2MDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAcHVibGljYXBpIEBtb2R1bGUgdXJsICovIC8qKiAqL1xudmFyIHVybE1hdGNoZXJfMSA9IHJlcXVpcmUoXCIuL3VybE1hdGNoZXJcIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9jb21tb25cIik7XG52YXIgaG9mXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2hvZlwiKTtcbnZhciBzdGF0ZU9iamVjdF8xID0gcmVxdWlyZShcIi4uL3N0YXRlL3N0YXRlT2JqZWN0XCIpO1xuLyoqXG4gKiBDcmVhdGVzIGEgW1tVcmxSdWxlXV1cbiAqXG4gKiBDcmVhdGVzIGEgW1tVcmxSdWxlXV0gZnJvbSBhOlxuICpcbiAqIC0gYHN0cmluZ2BcbiAqIC0gW1tVcmxNYXRjaGVyXV1cbiAqIC0gYFJlZ0V4cGBcbiAqIC0gW1tTdGF0ZU9iamVjdF1dXG4gKiBAaW50ZXJuYWxhcGlcbiAqL1xudmFyIFVybFJ1bGVGYWN0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVybFJ1bGVGYWN0b3J5KHJvdXRlcikge1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICB9XG4gICAgVXJsUnVsZUZhY3RvcnkucHJvdG90eXBlLmNvbXBpbGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdXRlci51cmxNYXRjaGVyRmFjdG9yeS5jb21waWxlKHN0cik7XG4gICAgfTtcbiAgICBVcmxSdWxlRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKHdoYXQsIGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGlzU3RhdGUgPSBzdGF0ZU9iamVjdF8xLlN0YXRlT2JqZWN0LmlzU3RhdGU7XG4gICAgICAgIHZhciBtYWtlUnVsZSA9IGhvZl8xLnBhdHRlcm4oW1xuICAgICAgICAgICAgW3ByZWRpY2F0ZXNfMS5pc1N0cmluZywgZnVuY3Rpb24gKF93aGF0KSB7IHJldHVybiBtYWtlUnVsZShfdGhpcy5jb21waWxlKF93aGF0KSk7IH1dLFxuICAgICAgICAgICAgW2hvZl8xLmlzKHVybE1hdGNoZXJfMS5VcmxNYXRjaGVyKSwgZnVuY3Rpb24gKF93aGF0KSB7IHJldHVybiBfdGhpcy5mcm9tVXJsTWF0Y2hlcihfd2hhdCwgaGFuZGxlcik7IH1dLFxuICAgICAgICAgICAgW2lzU3RhdGUsIGZ1bmN0aW9uIChfd2hhdCkgeyByZXR1cm4gX3RoaXMuZnJvbVN0YXRlKF93aGF0LCBfdGhpcy5yb3V0ZXIpOyB9XSxcbiAgICAgICAgICAgIFtob2ZfMS5pcyhSZWdFeHApLCBmdW5jdGlvbiAoX3doYXQpIHsgcmV0dXJuIF90aGlzLmZyb21SZWdFeHAoX3doYXQsIGhhbmRsZXIpOyB9XSxcbiAgICAgICAgICAgIFtwcmVkaWNhdGVzXzEuaXNGdW5jdGlvbiwgZnVuY3Rpb24gKF93aGF0KSB7IHJldHVybiBuZXcgQmFzZVVybFJ1bGUoX3doYXQsIGhhbmRsZXIpOyB9XSxcbiAgICAgICAgXSk7XG4gICAgICAgIHZhciBydWxlID0gbWFrZVJ1bGUod2hhdCk7XG4gICAgICAgIGlmICghcnVsZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgJ3doYXQnIGluIHdoZW4oKVwiKTtcbiAgICAgICAgcmV0dXJuIHJ1bGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIFVybFJ1bGUgd2hpY2ggbWF0Y2hlcyBiYXNlZCBvbiBhIFVybE1hdGNoZXJcbiAgICAgKlxuICAgICAqIFRoZSBgaGFuZGxlcmAgbWF5IGJlIGVpdGhlciBhIGBzdHJpbmdgLCBhIFtbVXJsUnVsZUhhbmRsZXJGbl1dIG9yIGFub3RoZXIgW1tVcmxNYXRjaGVyXV1cbiAgICAgKlxuICAgICAqICMjIEhhbmRsZXIgYXMgYSBmdW5jdGlvblxuICAgICAqXG4gICAgICogSWYgYGhhbmRsZXJgIGlzIGEgZnVuY3Rpb24sIHRoZSBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGg6XG4gICAgICpcbiAgICAgKiAtIG1hdGNoZWQgcGFyYW1ldGVyIHZhbHVlcyAoW1tSYXdQYXJhbXNdXSBmcm9tIFtbVXJsTWF0Y2hlci5leGVjXV0pXG4gICAgICogLSB1cmw6IHRoZSBjdXJyZW50IFVybCAoW1tVcmxQYXJ0c11dKVxuICAgICAqIC0gcm91dGVyOiB0aGUgcm91dGVyIG9iamVjdCAoW1tVSVJvdXRlcl1dKVxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogdmFyIHVybE1hdGNoZXIgPSAkdW1mLmNvbXBpbGUoXCIvZm9vLzpmb29JZC86YmFySWRcIik7XG4gICAgICogdmFyIHJ1bGUgPSBmYWN0b3J5LmZyb21VcmxNYXRjaGVyKHVybE1hdGNoZXIsIG1hdGNoID0+IFwiL2hvbWUvXCIgKyBtYXRjaC5mb29JZCArIFwiL1wiICsgbWF0Y2guYmFySWQpO1xuICAgICAqIHZhciBtYXRjaCA9IHJ1bGUubWF0Y2goJy9mb28vMTIzLzQ1NicpOyAvLyByZXN1bHRzIGluIHsgZm9vSWQ6ICcxMjMnLCBiYXJJZDogJzQ1NicgfVxuICAgICAqIHZhciByZXN1bHQgPSBydWxlLmhhbmRsZXIobWF0Y2gpOyAvLyAnL2hvbWUvMTIzLzQ1NidcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIEhhbmRsZXIgYXMgVXJsTWF0Y2hlclxuICAgICAqXG4gICAgICogSWYgYGhhbmRsZXJgIGlzIGEgVXJsTWF0Y2hlciwgdGhlIGhhbmRsZXIgbWF0Y2hlciBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgbmV3IHVybC5cbiAgICAgKiBUaGUgYGhhbmRsZXJgIFVybE1hdGNoZXIgaXMgZm9ybWF0dGVkIHVzaW5nIHRoZSBtYXRjaGVkIHBhcmFtIGZyb20gdGhlIGZpcnN0IG1hdGNoZXIuXG4gICAgICogVGhlIHVybCBpcyByZXBsYWNlZCB3aXRoIHRoZSByZXN1bHQuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiB2YXIgdXJsTWF0Y2hlciA9ICR1bWYuY29tcGlsZShcIi9mb28vOmZvb0lkLzpiYXJJZFwiKTtcbiAgICAgKiB2YXIgaGFuZGxlciA9ICR1bWYuY29tcGlsZShcIi9ob21lLzpmb29JZC86YmFySWRcIik7XG4gICAgICogdmFyIHJ1bGUgPSBmYWN0b3J5LmZyb21VcmxNYXRjaGVyKHVybE1hdGNoZXIsIGhhbmRsZXIpO1xuICAgICAqIHZhciBtYXRjaCA9IHJ1bGUubWF0Y2goJy9mb28vMTIzLzQ1NicpOyAvLyByZXN1bHRzIGluIHsgZm9vSWQ6ICcxMjMnLCBiYXJJZDogJzQ1NicgfVxuICAgICAqIHZhciByZXN1bHQgPSBydWxlLmhhbmRsZXIobWF0Y2gpOyAvLyAnL2hvbWUvMTIzLzQ1NidcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBVcmxSdWxlRmFjdG9yeS5wcm90b3R5cGUuZnJvbVVybE1hdGNoZXIgPSBmdW5jdGlvbiAodXJsTWF0Y2hlciwgaGFuZGxlcikge1xuICAgICAgICB2YXIgX2hhbmRsZXIgPSBoYW5kbGVyO1xuICAgICAgICBpZiAocHJlZGljYXRlc18xLmlzU3RyaW5nKGhhbmRsZXIpKVxuICAgICAgICAgICAgaGFuZGxlciA9IHRoaXMucm91dGVyLnVybE1hdGNoZXJGYWN0b3J5LmNvbXBpbGUoaGFuZGxlcik7XG4gICAgICAgIGlmIChob2ZfMS5pcyh1cmxNYXRjaGVyXzEuVXJsTWF0Y2hlcikoaGFuZGxlcikpXG4gICAgICAgICAgICBfaGFuZGxlciA9IGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gaGFuZGxlci5mb3JtYXQobWF0Y2gpOyB9O1xuICAgICAgICBmdW5jdGlvbiBtYXRjaFVybFBhcmFtdGVycyh1cmwpIHtcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSB1cmxNYXRjaGVyLmV4ZWModXJsLnBhdGgsIHVybC5zZWFyY2gsIHVybC5oYXNoKTtcbiAgICAgICAgICAgIHJldHVybiB1cmxNYXRjaGVyLnZhbGlkYXRlcyhwYXJhbXMpICYmIHBhcmFtcztcbiAgICAgICAgfVxuICAgICAgICAvLyBQcmlvcml0aXplIFVSTHMsIGxvd2VzdCB0byBoaWdoZXN0OlxuICAgICAgICAvLyAtIFNvbWUgb3B0aW9uYWwgVVJMIHBhcmFtZXRlcnMsIGJ1dCBub25lIG1hdGNoZWRcbiAgICAgICAgLy8gLSBObyBvcHRpb25hbCBwYXJhbWV0ZXJzIGluIFVSTFxuICAgICAgICAvLyAtIFNvbWUgb3B0aW9uYWwgcGFyYW1ldGVycywgc29tZSBtYXRjaGVkXG4gICAgICAgIC8vIC0gU29tZSBvcHRpb25hbCBwYXJhbWV0ZXJzLCBhbGwgbWF0Y2hlZFxuICAgICAgICBmdW5jdGlvbiBtYXRjaFByaW9yaXR5KHBhcmFtcykge1xuICAgICAgICAgICAgdmFyIG9wdGlvbmFsID0gdXJsTWF0Y2hlci5wYXJhbWV0ZXJzKCkuZmlsdGVyKGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gcGFyYW0uaXNPcHRpb25hbDsgfSk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbmFsLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gMC4wMDAwMDE7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlZCA9IG9wdGlvbmFsLmZpbHRlcihmdW5jdGlvbiAocGFyYW0pIHsgcmV0dXJuIHBhcmFtc1twYXJhbS5pZF07IH0pO1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZWQubGVuZ3RoIC8gb3B0aW9uYWwubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZXRhaWxzID0geyB1cmxNYXRjaGVyOiB1cmxNYXRjaGVyLCBtYXRjaFByaW9yaXR5OiBtYXRjaFByaW9yaXR5LCB0eXBlOiAnVVJMTUFUQ0hFUicgfTtcbiAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZChuZXcgQmFzZVVybFJ1bGUobWF0Y2hVcmxQYXJhbXRlcnMsIF9oYW5kbGVyKSwgZGV0YWlscyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIFVybFJ1bGUgd2hpY2ggbWF0Y2hlcyBhIHN0YXRlIGJ5IGl0cyB1cmxcbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHZhciBydWxlID0gZmFjdG9yeS5mcm9tU3RhdGUoJHN0YXRlLmdldCgnZm9vJyksIHJvdXRlcik7XG4gICAgICogdmFyIG1hdGNoID0gcnVsZS5tYXRjaCgnL2Zvby8xMjMvNDU2Jyk7IC8vIHJlc3VsdHMgaW4geyBmb29JZDogJzEyMycsIGJhcklkOiAnNDU2JyB9XG4gICAgICogdmFyIHJlc3VsdCA9IHJ1bGUuaGFuZGxlcihtYXRjaCk7XG4gICAgICogLy8gU3RhcnRzIGEgdHJhbnNpdGlvbiB0byAnZm9vJyB3aXRoIHBhcmFtczogeyBmb29JZDogJzEyMycsIGJhcklkOiAnNDU2JyB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgVXJsUnVsZUZhY3RvcnkucHJvdG90eXBlLmZyb21TdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgcm91dGVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYW5kbGVzIG1hdGNoIGJ5IHRyYW5zaXRpb25pbmcgdG8gbWF0Y2hlZCBzdGF0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBGaXJzdCBjaGVja3MgaWYgdGhlIHJvdXRlciBzaG91bGQgc3RhcnQgYSBuZXcgdHJhbnNpdGlvbi5cbiAgICAgICAgICogQSBuZXcgdHJhbnNpdGlvbiBpcyBub3QgcmVxdWlyZWQgaWYgdGhlIGN1cnJlbnQgc3RhdGUncyBVUkxcbiAgICAgICAgICogYW5kIHRoZSBuZXcgVVJMIGFyZSBhbHJlYWR5IGlkZW50aWNhbFxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgICAgIHZhciAkc3RhdGUgPSByb3V0ZXIuc3RhdGVTZXJ2aWNlO1xuICAgICAgICAgICAgdmFyIGdsb2JhbHMgPSByb3V0ZXIuZ2xvYmFscztcbiAgICAgICAgICAgIGlmICgkc3RhdGUuaHJlZihzdGF0ZSwgbWF0Y2gpICE9PSAkc3RhdGUuaHJlZihnbG9iYWxzLmN1cnJlbnQsIGdsb2JhbHMucGFyYW1zKSkge1xuICAgICAgICAgICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oc3RhdGUsIG1hdGNoLCB7IGluaGVyaXQ6IHRydWUsIHNvdXJjZTogJ3VybCcgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBkZXRhaWxzID0geyBzdGF0ZTogc3RhdGUsIHR5cGU6ICdTVEFURScgfTtcbiAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmV4dGVuZCh0aGlzLmZyb21VcmxNYXRjaGVyKHN0YXRlLnVybCwgaGFuZGxlciksIGRldGFpbHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBVcmxSdWxlIHdoaWNoIG1hdGNoZXMgYmFzZWQgb24gYSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICAgKlxuICAgICAqIFRoZSBgaGFuZGxlcmAgbWF5IGJlIGVpdGhlciBhIFtbVXJsUnVsZUhhbmRsZXJGbl1dIG9yIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogIyMgSGFuZGxlciBhcyBhIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBJZiBgaGFuZGxlcmAgaXMgYSBmdW5jdGlvbiwgdGhlIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aDpcbiAgICAgKlxuICAgICAqIC0gcmVnZXhwIG1hdGNoIGFycmF5IChmcm9tIGByZWdleHBgKVxuICAgICAqIC0gdXJsOiB0aGUgY3VycmVudCBVcmwgKFtbVXJsUGFydHNdXSlcbiAgICAgKiAtIHJvdXRlcjogdGhlIHJvdXRlciBvYmplY3QgKFtbVUlSb3V0ZXJdXSlcbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBgYGBqc1xuICAgICAqIHZhciBydWxlID0gZmFjdG9yeS5mcm9tUmVnRXhwKC9eXFwvZm9vXFwvKGJhcnxiYXopJC8sIG1hdGNoID0+IFwiL2hvbWUvXCIgKyBtYXRjaFsxXSlcbiAgICAgKiB2YXIgbWF0Y2ggPSBydWxlLm1hdGNoKCcvZm9vL2JhcicpOyAvLyByZXN1bHRzIGluIFsgJy9mb28vYmFyJywgJ2JhcicgXVxuICAgICAqIHZhciByZXN1bHQgPSBydWxlLmhhbmRsZXIobWF0Y2gpOyAvLyAnL2hvbWUvYmFyJ1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgSGFuZGxlciBhcyBzdHJpbmdcbiAgICAgKlxuICAgICAqIElmIGBoYW5kbGVyYCBpcyBhIHN0cmluZywgdGhlIHVybCBpcyAqcmVwbGFjZWQgYnkgdGhlIHN0cmluZyogd2hlbiB0aGUgUnVsZSBpcyBpbnZva2VkLlxuICAgICAqIFRoZSBzdHJpbmcgaXMgZmlyc3QgaW50ZXJwb2xhdGVkIHVzaW5nIGBzdHJpbmcucmVwbGFjZSgpYCBzdHlsZSBwYXR0ZXJuLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogdmFyIHJ1bGUgPSBmYWN0b3J5LmZyb21SZWdFeHAoL15cXC9mb29cXC8oYmFyfGJheikkLywgXCIvaG9tZS8kMVwiKVxuICAgICAqIHZhciBtYXRjaCA9IHJ1bGUubWF0Y2goJy9mb28vYmFyJyk7IC8vIHJlc3VsdHMgaW4gWyAnL2Zvby9iYXInLCAnYmFyJyBdXG4gICAgICogdmFyIHJlc3VsdCA9IHJ1bGUuaGFuZGxlcihtYXRjaCk7IC8vICcvaG9tZS9iYXInXG4gICAgICogYGBgXG4gICAgICovXG4gICAgVXJsUnVsZUZhY3RvcnkucHJvdG90eXBlLmZyb21SZWdFeHAgPSBmdW5jdGlvbiAocmVnZXhwLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChyZWdleHAuZ2xvYmFsIHx8IHJlZ2V4cC5zdGlja3kpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1J1bGUgUmVnRXhwIG11c3Qgbm90IGJlIGdsb2JhbCBvciBzdGlja3knKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGhhbmRsZXIgaXMgYSBzdHJpbmcsIHRoZSB1cmwgd2lsbCBiZSByZXBsYWNlZCBieSB0aGUgc3RyaW5nLlxuICAgICAgICAgKiBJZiB0aGUgc3RyaW5nIGhhcyBhbnkgU3RyaW5nLnJlcGxhY2UoKSBzdHlsZSB2YXJpYWJsZXMgaW4gaXQgKGxpa2UgYCQyYCksXG4gICAgICAgICAqIHRoZXkgd2lsbCBiZSByZXBsYWNlZCBieSB0aGUgY2FwdHVyZXMgZnJvbSBbW21hdGNoXV1cbiAgICAgICAgICovXG4gICAgICAgIHZhciByZWRpcmVjdFVybFRvID0gZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgICAvLyBJbnRlcnBvbGF0ZXMgbWF0Y2hlZCB2YWx1ZXMgaW50byAkMSAkMiwgZXRjIHVzaW5nIGEgU3RyaW5nLnJlcGxhY2UoKS1zdHlsZSBwYXR0ZXJuXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlci5yZXBsYWNlKC9cXCQoXFwkfFxcZHsxLDJ9KS8sIGZ1bmN0aW9uIChtLCB3aGF0KSB7IHJldHVybiBtYXRjaFt3aGF0ID09PSAnJCcgPyAwIDogTnVtYmVyKHdoYXQpXTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBfaGFuZGxlciA9IHByZWRpY2F0ZXNfMS5pc1N0cmluZyhoYW5kbGVyKSA/IHJlZGlyZWN0VXJsVG8gOiBoYW5kbGVyO1xuICAgICAgICB2YXIgbWF0Y2hQYXJhbXNGcm9tUmVnZXhwID0gZnVuY3Rpb24gKHVybCkgeyByZXR1cm4gcmVnZXhwLmV4ZWModXJsLnBhdGgpOyB9O1xuICAgICAgICB2YXIgZGV0YWlscyA9IHsgcmVnZXhwOiByZWdleHAsIHR5cGU6ICdSRUdFWFAnIH07XG4gICAgICAgIHJldHVybiBjb21tb25fMS5leHRlbmQobmV3IEJhc2VVcmxSdWxlKG1hdGNoUGFyYW1zRnJvbVJlZ2V4cCwgX2hhbmRsZXIpLCBkZXRhaWxzKTtcbiAgICB9O1xuICAgIFVybFJ1bGVGYWN0b3J5LmlzVXJsUnVsZSA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiBbJ3R5cGUnLCAnbWF0Y2gnLCAnaGFuZGxlciddLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHByZWRpY2F0ZXNfMS5pc0RlZmluZWQob2JqW2tleV0pOyB9KTsgfTtcbiAgICByZXR1cm4gVXJsUnVsZUZhY3Rvcnk7XG59KCkpO1xuZXhwb3J0cy5VcmxSdWxlRmFjdG9yeSA9IFVybFJ1bGVGYWN0b3J5O1xuLyoqXG4gKiBBIGJhc2UgcnVsZSB3aGljaCBjYWxscyBgbWF0Y2hgXG4gKlxuICogVGhlIHZhbHVlIGZyb20gdGhlIGBtYXRjaGAgZnVuY3Rpb24gaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIGBoYW5kbGVyYC5cbiAqIEBpbnRlcm5hbGFwaVxuICovXG52YXIgQmFzZVVybFJ1bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmFzZVVybFJ1bGUobWF0Y2gsIGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5tYXRjaCA9IG1hdGNoO1xuICAgICAgICB0aGlzLnR5cGUgPSAnUkFXJztcbiAgICAgICAgdGhpcy5tYXRjaFByaW9yaXR5ID0gZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiAwIC0gX3RoaXMuJGlkOyB9O1xuICAgICAgICB0aGlzLmhhbmRsZXIgPSBoYW5kbGVyIHx8IGNvbW1vbl8xLmlkZW50aXR5O1xuICAgIH1cbiAgICByZXR1cm4gQmFzZVVybFJ1bGU7XG59KCkpO1xuZXhwb3J0cy5CYXNlVXJsUnVsZSA9IEJhc2VVcmxSdWxlO1xuXG59LHtcIi4uL2NvbW1vbi9jb21tb25cIjozLFwiLi4vY29tbW9uL2hvZlwiOjYsXCIuLi9jb21tb24vcHJlZGljYXRlc1wiOjgsXCIuLi9zdGF0ZS9zdGF0ZU9iamVjdFwiOjQxLFwiLi91cmxNYXRjaGVyXCI6NTd9XSw2MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBzdGF0ZV8xID0gcmVxdWlyZShcIi4uL3N0YXRlXCIpO1xudmFyIHVybE1hdGNoZXJfMSA9IHJlcXVpcmUoXCIuL3VybE1hdGNoZXJcIik7XG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uXCIpO1xudmFyIHVybFJ1bGVfMSA9IHJlcXVpcmUoXCIuL3VybFJ1bGVcIik7XG4vKiogQGhpZGRlbiAqL1xudmFyIHByaW9yaXR5U29ydCA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiAoYi5wcmlvcml0eSB8fCAwKSAtIChhLnByaW9yaXR5IHx8IDApOyB9O1xuLyoqIEBoaWRkZW4gKi9cbnZhciB0eXBlU29ydCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIHdlaWdodHMgPSB7IFNUQVRFOiA0LCBVUkxNQVRDSEVSOiA0LCBSRUdFWFA6IDMsIFJBVzogMiwgT1RIRVI6IDEgfTtcbiAgICByZXR1cm4gKHdlaWdodHNbYS50eXBlXSB8fCAwKSAtICh3ZWlnaHRzW2IudHlwZV0gfHwgMCk7XG59O1xuLyoqIEBoaWRkZW4gKi9cbnZhciB1cmxNYXRjaGVyU29ydCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuICFhLnVybE1hdGNoZXIgfHwgIWIudXJsTWF0Y2hlciA/IDAgOiB1cmxNYXRjaGVyXzEuVXJsTWF0Y2hlci5jb21wYXJlKGEudXJsTWF0Y2hlciwgYi51cmxNYXRjaGVyKTtcbn07XG4vKiogQGhpZGRlbiAqL1xudmFyIGlkU29ydCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgLy8gSWRlbnRpY2FsbHkgc29ydGVkIFNUQVRFIGFuZCBVUkxNQVRDSEVSIGJlc3QgcnVsZSB3aWxsIGJlIGNob3NlbiBieSBgbWF0Y2hQcmlvcml0eWAgYWZ0ZXIgZWFjaCBydWxlIG1hdGNoZXMgdGhlIFVSTFxuICAgIHZhciB1c2VNYXRjaFByaW9yaXR5ID0geyBTVEFURTogdHJ1ZSwgVVJMTUFUQ0hFUjogdHJ1ZSB9O1xuICAgIHZhciBlcXVhbCA9IHVzZU1hdGNoUHJpb3JpdHlbYS50eXBlXSAmJiB1c2VNYXRjaFByaW9yaXR5W2IudHlwZV07XG4gICAgcmV0dXJuIGVxdWFsID8gMCA6IChhLiRpZCB8fCAwKSAtIChiLiRpZCB8fCAwKTtcbn07XG4vKipcbiAqIERlZmF1bHQgcnVsZSBwcmlvcml0eSBzb3J0aW5nIGZ1bmN0aW9uLlxuICpcbiAqIFNvcnRzIHJ1bGVzIGJ5OlxuICpcbiAqIC0gRXhwbGljaXQgcHJpb3JpdHkgKHNldCBydWxlIHByaW9yaXR5IHVzaW5nIFtbVXJsUnVsZXMud2hlbl1dKVxuICogLSBSdWxlIHR5cGUgKFNUQVRFOiA0LCBVUkxNQVRDSEVSOiA0LCBSRUdFWFA6IDMsIFJBVzogMiwgT1RIRVI6IDEpXG4gKiAtIGBVcmxNYXRjaGVyYCBzcGVjaWZpY2l0eSAoW1tVcmxNYXRjaGVyLmNvbXBhcmVdXSk6IHdvcmtzIGZvciBTVEFURSBhbmQgVVJMTUFUQ0hFUiB0eXBlcyB0byBwaWNrIHRoZSBtb3N0IHNwZWNpZmljIHJ1bGUuXG4gKiAtIFJ1bGUgcmVnaXN0cmF0aW9uIG9yZGVyIChmb3IgcnVsZSB0eXBlcyBvdGhlciB0aGFuIFNUQVRFIGFuZCBVUkxNQVRDSEVSKVxuICogICAtIEVxdWFsbHkgc29ydGVkIFN0YXRlIGFuZCBVcmxNYXRjaGVyIHJ1bGVzIHdpbGwgZWFjaCBtYXRjaCB0aGUgVVJMLlxuICogICAgIFRoZW4sIHRoZSAqYmVzdCogbWF0Y2ggaXMgY2hvc2VuIGJhc2VkIG9uIGhvdyBtYW55IHBhcmFtZXRlciB2YWx1ZXMgd2VyZSBtYXRjaGVkLlxuICpcbiAqIEBwdWJsaWNhcGlcbiAqL1xudmFyIGRlZmF1bHRSdWxlU29ydEZuO1xuZGVmYXVsdFJ1bGVTb3J0Rm4gPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBjbXAgPSBwcmlvcml0eVNvcnQoYSwgYik7XG4gICAgaWYgKGNtcCAhPT0gMClcbiAgICAgICAgcmV0dXJuIGNtcDtcbiAgICBjbXAgPSB0eXBlU29ydChhLCBiKTtcbiAgICBpZiAoY21wICE9PSAwKVxuICAgICAgICByZXR1cm4gY21wO1xuICAgIGNtcCA9IHVybE1hdGNoZXJTb3J0KGEsIGIpO1xuICAgIGlmIChjbXAgIT09IDApXG4gICAgICAgIHJldHVybiBjbXA7XG4gICAgcmV0dXJuIGlkU29ydChhLCBiKTtcbn07XG4vKiogQGhpZGRlbiAqL1xuZnVuY3Rpb24gZ2V0SGFuZGxlckZuKGhhbmRsZXIpIHtcbiAgICBpZiAoIWNvbW1vbl8xLmlzRnVuY3Rpb24oaGFuZGxlcikgJiYgIWNvbW1vbl8xLmlzU3RyaW5nKGhhbmRsZXIpICYmICFjb21tb25fMS5pcyhzdGF0ZV8xLlRhcmdldFN0YXRlKShoYW5kbGVyKSAmJiAhc3RhdGVfMS5UYXJnZXRTdGF0ZS5pc0RlZihoYW5kbGVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInaGFuZGxlcicgbXVzdCBiZSBhIHN0cmluZywgZnVuY3Rpb24sIFRhcmdldFN0YXRlLCBvciBoYXZlIGEgc3RhdGU6ICduZXd0YXJnZXQnIHByb3BlcnR5XCIpO1xuICAgIH1cbiAgICByZXR1cm4gY29tbW9uXzEuaXNGdW5jdGlvbihoYW5kbGVyKSA/IGhhbmRsZXIgOiBjb21tb25fMS52YWwoaGFuZGxlcik7XG59XG4vKipcbiAqIEFQSSBmb3IgbWFuYWdpbmcgVVJMIHJ1bGVzXG4gKlxuICogVGhpcyBBUEkgaXMgdXNlZCB0byBjcmVhdGUgYW5kIG1hbmFnZSBVUkwgcnVsZXMuXG4gKiBVUkwgcnVsZXMgYXJlIGEgbWVjaGFuaXNtIHRvIHJlc3BvbmQgdG8gc3BlY2lmaWMgVVJMIHBhdHRlcm5zLlxuICpcbiAqIFRoZSBtb3N0IGNvbW1vbmx5IHVzZWQgbWV0aG9kcyBhcmUgW1tvdGhlcndpc2VdXSBhbmQgW1t3aGVuXV0uXG4gKlxuICogVGhpcyBBUEkgaXMgYSBwcm9wZXJ0eSBvZiBbW1VybFNlcnZpY2VdXSBhcyBbW1VybFNlcnZpY2UucnVsZXNdXVxuICpcbiAqIEBwdWJsaWNhcGlcbiAqL1xudmFyIFVybFJ1bGVzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgZnVuY3Rpb24gVXJsUnVsZXMoLyoqIEBoaWRkZW4gKi8gcm91dGVyKSB7XG4gICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyO1xuICAgICAgICAvKiogQGhpZGRlbiAqLyB0aGlzLl9zb3J0Rm4gPSBkZWZhdWx0UnVsZVNvcnRGbjtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi8gdGhpcy5fcnVsZXMgPSBbXTtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi8gdGhpcy5faWQgPSAwO1xuICAgICAgICB0aGlzLnVybFJ1bGVGYWN0b3J5ID0gbmV3IHVybFJ1bGVfMS5VcmxSdWxlRmFjdG9yeShyb3V0ZXIpO1xuICAgIH1cbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFVybFJ1bGVzLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKHJvdXRlcikge1xuICAgICAgICB0aGlzLl9ydWxlcyA9IFtdO1xuICAgICAgICBkZWxldGUgdGhpcy5fb3RoZXJ3aXNlRm47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBpbml0aWFsIHN0YXRlLCBwYXRoLCBvciBiZWhhdmlvciB0byB1c2Ugd2hlbiB0aGUgYXBwIHN0YXJ0cy5cbiAgICAgKlxuICAgICAqIFRoaXMgcnVsZSBkZWZpbmVzIHRoZSBpbml0aWFsL3N0YXJ0aW5nIHN0YXRlIGZvciB0aGUgYXBwbGljYXRpb24uXG4gICAgICpcbiAgICAgKiBUaGlzIHJ1bGUgaXMgdHJpZ2dlcmVkIHRoZSBmaXJzdCB0aW1lIHRoZSBVUkwgaXMgY2hlY2tlZCAod2hlbiB0aGUgYXBwIGluaXRpYWxseSBsb2FkcykuXG4gICAgICogVGhlIHJ1bGUgaXMgdHJpZ2dlcmVkIG9ubHkgd2hlbiB0aGUgdXJsIG1hdGNoZXMgZWl0aGVyIGBcIlwiYCBvciBgXCIvXCJgLlxuICAgICAqXG4gICAgICogTm90ZTogVGhlIHJ1bGUgaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCB3aGVuIHRoZSByb290IG9mIHRoZSBhcHBsaWNhdGlvbiBpcyBkaXJlY3RseSBsaW5rZWQgdG8uXG4gICAgICogV2hlbiB0aGUgVVJMIGlzICpub3QqIGBcIlwiYCBvciBgXCIvXCJgIGFuZCBkb2Vzbid0IG1hdGNoIG90aGVyIHJ1bGVzLCB0aGUgW1tvdGhlcndpc2VdXSBydWxlIGlzIHRyaWdnZXJlZC5cbiAgICAgKiBUaGlzIGFsbG93cyA0MDQtbGlrZSBiZWhhdmlvciB3aGVuIGFuIHVua25vd24gVVJMIGlzIGRlZXAtbGlua2VkLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIFN0YXJ0IGFwcCBhdCBgaG9tZWAgc3RhdGUuXG4gICAgICogYGBganNcbiAgICAgKiAuaW5pdGlhbCh7IHN0YXRlOiAnaG9tZScgfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogU3RhcnQgYXBwIGF0IGAvaG9tZWAgKGJ5IHVybClcbiAgICAgKiBgYGBqc1xuICAgICAqIC5pbml0aWFsKCcvaG9tZScpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIFdoZW4gbm8gb3RoZXIgdXJsIHJ1bGUgbWF0Y2hlcywgZ28gdG8gYGhvbWVgIHN0YXRlXG4gICAgICogYGBganNcbiAgICAgKiAuaW5pdGlhbCgobWF0Y2hWYWx1ZSwgdXJsLCByb3V0ZXIpID0+IHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdpbml0aWFsIHN0YXRlJyk7XG4gICAgICogICByZXR1cm4geyBzdGF0ZTogJ2hvbWUnIH07XG4gICAgICogfSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBoYW5kbGVyIFRoZSBpbml0aWFsIHN0YXRlIG9yIHVybCBwYXRoLCBvciBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgdGhlIHN0YXRlIG9yIHVybCBwYXRoIChvciBwZXJmb3JtcyBjdXN0b20gbG9naWMpLlxuICAgICAqL1xuICAgIFVybFJ1bGVzLnByb3RvdHlwZS5pbml0aWFsID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGhhbmRsZXJGbiA9IGdldEhhbmRsZXJGbihoYW5kbGVyKTtcbiAgICAgICAgdmFyIG1hdGNoRm4gPSBmdW5jdGlvbiAodXJsUGFydHMsIHJvdXRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlci5nbG9iYWxzLnRyYW5zaXRpb25IaXN0b3J5LnNpemUoKSA9PT0gMCAmJiAhIS9eXFwvPyQvLmV4ZWModXJsUGFydHMucGF0aCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucnVsZSh0aGlzLnVybFJ1bGVGYWN0b3J5LmNyZWF0ZShtYXRjaEZuLCBoYW5kbGVyRm4pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIHN0YXRlLCB1cmwsIG9yIGJlaGF2aW9yIHRvIHVzZSB3aGVuIG5vIG90aGVyIHJ1bGUgbWF0Y2hlcyB0aGUgVVJMLlxuICAgICAqXG4gICAgICogVGhpcyBydWxlIGlzIG1hdGNoZWQgd2hlbiAqbm8gb3RoZXIgcnVsZSogbWF0Y2hlcy5cbiAgICAgKiBJdCBpcyBnZW5lcmFsbHkgdXNlZCB0byBoYW5kbGUgdW5rbm93biBVUkxzIChzaW1pbGFyIHRvIFwiNDA0XCIgYmVoYXZpb3IsIGJ1dCBvbiB0aGUgY2xpZW50IHNpZGUpLlxuICAgICAqXG4gICAgICogLSBJZiBgaGFuZGxlcmAgYSBzdHJpbmcsIGl0IGlzIHRyZWF0ZWQgYXMgYSB1cmwgcmVkaXJlY3RcbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBXaGVuIG5vIG90aGVyIHVybCBydWxlIG1hdGNoZXMsIHJlZGlyZWN0IHRvIGAvaW5kZXhgXG4gICAgICogYGBganNcbiAgICAgKiAub3RoZXJ3aXNlKCcvaW5kZXgnKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIC0gSWYgYGhhbmRsZXJgIGlzIGFuIG9iamVjdCB3aXRoIGEgYHN0YXRlYCBwcm9wZXJ0eSwgdGhlIHN0YXRlIGlzIGFjdGl2YXRlZC5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBXaGVuIG5vIG90aGVyIHVybCBydWxlIG1hdGNoZXMsIHJlZGlyZWN0IHRvIGBob21lYCBhbmQgcHJvdmlkZSBhIGBkYXNoYm9hcmRgIHBhcmFtZXRlciB2YWx1ZS5cbiAgICAgKiBgYGBqc1xuICAgICAqIC5vdGhlcndpc2UoeyBzdGF0ZTogJ2hvbWUnLCBwYXJhbXM6IHsgZGFzaGJvYXJkOiAnZGVmYXVsdCcgfSB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIC0gSWYgYGhhbmRsZXJgIGlzIGEgZnVuY3Rpb24sIHRoZSBmdW5jdGlvbiByZWNlaXZlcyB0aGUgY3VycmVudCB1cmwgKFtbVXJsUGFydHNdXSkgYW5kIHRoZSBbW1VJUm91dGVyXV0gb2JqZWN0LlxuICAgICAqICAgVGhlIGZ1bmN0aW9uIGNhbiBwZXJmb3JtIGFjdGlvbnMsIGFuZC9vciByZXR1cm4gYSB2YWx1ZS5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBXaGVuIG5vIG90aGVyIHVybCBydWxlIG1hdGNoZXMsIG1hbnVhbGx5IHRyaWdnZXIgYSB0cmFuc2l0aW9uIHRvIHRoZSBgaG9tZWAgc3RhdGVcbiAgICAgKiBgYGBqc1xuICAgICAqIC5vdGhlcndpc2UoKG1hdGNoVmFsdWUsIHVybFBhcnRzLCByb3V0ZXIpID0+IHtcbiAgICAgKiAgIHJvdXRlci5zdGF0ZVNlcnZpY2UuZ28oJ2hvbWUnKTtcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBXaGVuIG5vIG90aGVyIHVybCBydWxlIG1hdGNoZXMsIGdvIHRvIGBob21lYCBzdGF0ZVxuICAgICAqIGBgYGpzXG4gICAgICogLm90aGVyd2lzZSgobWF0Y2hWYWx1ZSwgdXJsUGFydHMsIHJvdXRlcikgPT4ge1xuICAgICAqICAgcmV0dXJuIHsgc3RhdGU6ICdob21lJyB9O1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGhhbmRsZXIgVGhlIHVybCBwYXRoIHRvIHJlZGlyZWN0IHRvLCBvciBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgdGhlIHVybCBwYXRoIChvciBwZXJmb3JtcyBjdXN0b20gbG9naWMpLlxuICAgICAqL1xuICAgIFVybFJ1bGVzLnByb3RvdHlwZS5vdGhlcndpc2UgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICB2YXIgaGFuZGxlckZuID0gZ2V0SGFuZGxlckZuKGhhbmRsZXIpO1xuICAgICAgICB0aGlzLl9vdGhlcndpc2VGbiA9IHRoaXMudXJsUnVsZUZhY3RvcnkuY3JlYXRlKGNvbW1vbl8xLnZhbCh0cnVlKSwgaGFuZGxlckZuKTtcbiAgICAgICAgdGhpcy5fc29ydGVkID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBydWxlIHByZXZpb3VzbHkgcmVnaXN0ZXJlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHJ1bGUgdGhlIG1hdGNoZXIgcnVsZSB0aGF0IHdhcyBwcmV2aW91c2x5IHJlZ2lzdGVyZWQgdXNpbmcgW1tydWxlXV1cbiAgICAgKi9cbiAgICBVcmxSdWxlcy5wcm90b3R5cGUucmVtb3ZlUnVsZSA9IGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgIGNvbW1vbl8xLnJlbW92ZUZyb20odGhpcy5fcnVsZXMsIHJ1bGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFudWFsbHkgYWRkcyBhIFVSTCBSdWxlLlxuICAgICAqXG4gICAgICogVXN1YWxseSwgYSB1cmwgcnVsZSBpcyBhZGRlZCB1c2luZyBbW1N0YXRlRGVjbGFyYXRpb24udXJsXV0gb3IgW1t3aGVuXV0uXG4gICAgICogVGhpcyBhcGkgY2FuIGJlIHVzZWQgZGlyZWN0bHkgZm9yIG1vcmUgY29udHJvbCAodG8gcmVnaXN0ZXIgYSBbW0Jhc2VVcmxSdWxlXV0sIGZvciBleGFtcGxlKS5cbiAgICAgKiBSdWxlcyBjYW4gYmUgY3JlYXRlZCB1c2luZyBbW3VybFJ1bGVGYWN0b3J5XV0sIG9yIGNyZWF0ZWQgbWFudWFsbHkgYXMgc2ltcGxlIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBBIHJ1bGUgc2hvdWxkIGhhdmUgYSBgbWF0Y2hgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgdHJ1dGh5IGlmIHRoZSBydWxlIG1hdGNoZWQuXG4gICAgICogSXQgc2hvdWxkIGFsc28gaGF2ZSBhIGBoYW5kbGVyYCBmdW5jdGlvbiB3aGljaCBpcyBpbnZva2VkIGlmIHRoZSBydWxlIGlzIHRoZSBiZXN0IG1hdGNoLlxuICAgICAqXG4gICAgICogQHJldHVybiBhIGZ1bmN0aW9uIHRoYXQgZGVyZWdpc3RlcnMgdGhlIHJ1bGVcbiAgICAgKi9cbiAgICBVcmxSdWxlcy5wcm90b3R5cGUucnVsZSA9IGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdXJsUnVsZV8xLlVybFJ1bGVGYWN0b3J5LmlzVXJsUnVsZShydWxlKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBydWxlJyk7XG4gICAgICAgIHJ1bGUuJGlkID0gdGhpcy5faWQrKztcbiAgICAgICAgcnVsZS5wcmlvcml0eSA9IHJ1bGUucHJpb3JpdHkgfHwgMDtcbiAgICAgICAgdGhpcy5fcnVsZXMucHVzaChydWxlKTtcbiAgICAgICAgdGhpcy5fc29ydGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5yZW1vdmVSdWxlKHJ1bGUpOyB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgcmVnaXN0ZXJlZCBydWxlc1xuICAgICAqXG4gICAgICogQHJldHVybnMgYW4gYXJyYXkgb2YgYWxsIHRoZSByZWdpc3RlcmVkIHJ1bGVzXG4gICAgICovXG4gICAgVXJsUnVsZXMucHJvdG90eXBlLnJ1bGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVuc3VyZVNvcnRlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcnVsZXMuY29uY2F0KHRoaXMuX290aGVyd2lzZUZuID8gW3RoaXMuX290aGVyd2lzZUZuXSA6IFtdKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlZmluZXMgVVJMIFJ1bGUgcHJpb3JpdGllc1xuICAgICAqXG4gICAgICogTW9yZSB0aGFuIG9uZSBydWxlIChbW1VybFJ1bGVdXSkgbWlnaHQgbWF0Y2ggYSBnaXZlbiBVUkwuXG4gICAgICogVGhpcyBgY29tcGFyZUZuYCBpcyB1c2VkIHRvIHNvcnQgdGhlIHJ1bGVzIGJ5IHByaW9yaXR5LlxuICAgICAqIEhpZ2hlciBwcmlvcml0eSBydWxlcyBzaG91bGQgc29ydCBlYXJsaWVyLlxuICAgICAqXG4gICAgICogVGhlIFtbZGVmYXVsdFJ1bGVTb3J0Rm5dXSBpcyB1c2VkIGJ5IGRlZmF1bHQuXG4gICAgICpcbiAgICAgKiBZb3Ugb25seSBuZWVkIHRvIGNhbGwgdGhpcyBmdW5jdGlvbiBvbmNlLlxuICAgICAqIFRoZSBgY29tcGFyZUZuYCB3aWxsIGJlIHVzZWQgdG8gc29ydCB0aGUgcnVsZXMgYXMgZWFjaCBpcyByZWdpc3RlcmVkLlxuICAgICAqXG4gICAgICogSWYgY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlciwgaXQgd2lsbCByZS1zb3J0IHRoZSBydWxlcy5cbiAgICAgKlxuICAgICAqIC0tLVxuICAgICAqXG4gICAgICogVXJsIHJ1bGVzIG1heSBjb21lIGZyb20gbXVsdGlwbGUgc291cmNlczogc3RhdGVzJ3MgdXJscyAoW1tTdGF0ZURlY2xhcmF0aW9uLnVybF1dKSwgW1t3aGVuXV0sIGFuZCBbW3J1bGVdXS5cbiAgICAgKiBFYWNoIHJ1bGUgaGFzIGEgKHVzZXItcHJvdmlkZWQpIFtbVXJsUnVsZS5wcmlvcml0eV1dLCBhIFtbVXJsUnVsZS50eXBlXV0sIGFuZCBhIFtbVXJsUnVsZS4kaWRdXVxuICAgICAqIFRoZSBgJGlkYCBpcyBpcyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhlIHJ1bGUgd2FzIHJlZ2lzdGVyZWQuXG4gICAgICpcbiAgICAgKiBUaGUgc29ydCBmdW5jdGlvbiBzaG91bGQgdXNlIHRoZXNlIGRhdGEsIG9yIGRhdGEgZm91bmQgb24gYSBzcGVjaWZpYyB0eXBlXG4gICAgICogb2YgW1tVcmxSdWxlXV0gKHN1Y2ggYXMgW1tTdGF0ZVJ1bGUuc3RhdGVdXSksIHRvIG9yZGVyIHRoZSBydWxlcyBhcyBkZXNpcmVkLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIFRoaXMgY29tcGFyZSBmdW5jdGlvbiBwcmlvcml0aXplcyBydWxlcyBieSB0aGUgb3JkZXIgaW4gd2hpY2ggdGhlIHJ1bGVzIHdlcmUgcmVnaXN0ZXJlZC5cbiAgICAgKiBBIHJ1bGUgcmVnaXN0ZXJlZCBlYXJsaWVyIGhhcyBoaWdoZXIgcHJpb3JpdHkuXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGZ1bmN0aW9uIGNvbXBhcmVGbihhLCBiKSB7XG4gICAgICogICByZXR1cm4gYS4kaWQgLSBiLiRpZDtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29tcGFyZUZuIGEgZnVuY3Rpb24gdGhhdCBjb21wYXJlcyB0byBbW1VybFJ1bGVdXSBvYmplY3RzLlxuICAgICAqICAgIFRoZSBgY29tcGFyZUZuYCBzaG91bGQgYWJpZGUgYnkgdGhlIGBBcnJheS5zb3J0YCBjb21wYXJlIGZ1bmN0aW9uIHJ1bGVzLlxuICAgICAqICAgIEdpdmVuIHR3byBydWxlcywgYGFgIGFuZCBgYmAsIHJldHVybiBhIG5lZ2F0aXZlIG51bWJlciBpZiBgYWAgc2hvdWxkIGJlIGhpZ2hlciBwcmlvcml0eS5cbiAgICAgKiAgICBSZXR1cm4gYSBwb3NpdGl2ZSBudW1iZXIgaWYgYGJgIHNob3VsZCBiZSBoaWdoZXIgcHJpb3JpdHkuXG4gICAgICogICAgUmV0dXJuIGAwYCBpZiB0aGUgcnVsZXMgYXJlIGlkZW50aWNhbC5cbiAgICAgKlxuICAgICAqICAgIFNlZSB0aGUgW21vemlsbGEgcmVmZXJlbmNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zb3J0I0Rlc2NyaXB0aW9uKVxuICAgICAqICAgIGZvciBkZXRhaWxzLlxuICAgICAqL1xuICAgIFVybFJ1bGVzLnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24gKGNvbXBhcmVGbikge1xuICAgICAgICB2YXIgc29ydGVkID0gdGhpcy5zdGFibGVTb3J0KHRoaXMuX3J1bGVzLCAodGhpcy5fc29ydEZuID0gY29tcGFyZUZuIHx8IHRoaXMuX3NvcnRGbikpO1xuICAgICAgICAvLyBwcmVjb21wdXRlIF9zb3J0R3JvdXAgdmFsdWVzIGFuZCBhcHBseSB0byBlYWNoIHJ1bGVcbiAgICAgICAgdmFyIGdyb3VwID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3J0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNvcnRlZFtpXS5fZ3JvdXAgPSBncm91cDtcbiAgICAgICAgICAgIGlmIChpIDwgc29ydGVkLmxlbmd0aCAtIDEgJiYgdGhpcy5fc29ydEZuKHNvcnRlZFtpXSwgc29ydGVkW2kgKyAxXSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICBncm91cCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3J1bGVzID0gc29ydGVkO1xuICAgICAgICB0aGlzLl9zb3J0ZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBVcmxSdWxlcy5wcm90b3R5cGUuZW5zdXJlU29ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9zb3J0ZWQgfHwgdGhpcy5zb3J0KCk7XG4gICAgfTtcbiAgICAvKiogQGhpZGRlbiAqL1xuICAgIFVybFJ1bGVzLnByb3RvdHlwZS5zdGFibGVTb3J0ID0gZnVuY3Rpb24gKGFyciwgY29tcGFyZUZuKSB7XG4gICAgICAgIHZhciBhcnJPZldyYXBwZXIgPSBhcnIubWFwKGZ1bmN0aW9uIChlbGVtLCBpZHgpIHsgcmV0dXJuICh7IGVsZW06IGVsZW0sIGlkeDogaWR4IH0pOyB9KTtcbiAgICAgICAgYXJyT2ZXcmFwcGVyLnNvcnQoZnVuY3Rpb24gKHdyYXBwZXJBLCB3cmFwcGVyQikge1xuICAgICAgICAgICAgdmFyIGNtcERpZmYgPSBjb21wYXJlRm4od3JhcHBlckEuZWxlbSwgd3JhcHBlckIuZWxlbSk7XG4gICAgICAgICAgICByZXR1cm4gY21wRGlmZiA9PT0gMCA/IHdyYXBwZXJBLmlkeCAtIHdyYXBwZXJCLmlkeCA6IGNtcERpZmY7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXJyT2ZXcmFwcGVyLm1hcChmdW5jdGlvbiAod3JhcHBlcikgeyByZXR1cm4gd3JhcHBlci5lbGVtOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGBtYXRjaGVyYCBhbmQgYGhhbmRsZXJgIGZvciBjdXN0b20gVVJMcyBoYW5kbGluZy5cbiAgICAgKlxuICAgICAqIFRoZSBgbWF0Y2hlcmAgY2FuIGJlOlxuICAgICAqXG4gICAgICogLSBhIFtbVXJsTWF0Y2hlcl1dOiBTZWU6IFtbVXJsTWF0Y2hlckZhY3RvcnkuY29tcGlsZV1dXG4gICAgICogLSBhIGBzdHJpbmdgOiBUaGUgc3RyaW5nIGlzIGNvbXBpbGVkIHRvIGEgW1tVcmxNYXRjaGVyXV1cbiAgICAgKiAtIGEgYFJlZ0V4cGA6IFRoZSByZWdleHAgaXMgdXNlZCB0byBtYXRjaCB0aGUgdXJsLlxuICAgICAqXG4gICAgICogVGhlIGBoYW5kbGVyYCBjYW4gYmU6XG4gICAgICpcbiAgICAgKiAtIGEgc3RyaW5nOiBUaGUgdXJsIGlzIHJlZGlyZWN0ZWQgdG8gdGhlIHZhbHVlIG9mIHRoZSBzdHJpbmcuXG4gICAgICogLSBhIGZ1bmN0aW9uOiBUaGUgdXJsIGlzIHJlZGlyZWN0ZWQgdG8gdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAtLS1cbiAgICAgKlxuICAgICAqIFdoZW4gdGhlIGBoYW5kbGVyYCBpcyBhIGBzdHJpbmdgIGFuZCB0aGUgYG1hdGNoZXJgIGlzIGEgYFVybE1hdGNoZXJgIChvciBzdHJpbmcpLCB0aGUgcmVkaXJlY3RcbiAgICAgKiBzdHJpbmcgaXMgaW50ZXJwb2xhdGVkIHdpdGggcGFyYW1ldGVyIHZhbHVlcy5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBXaGVuIHRoZSBVUkwgaXMgYC9mb28vMTIzYCB0aGUgcnVsZSB3aWxsIHJlZGlyZWN0IHRvIGAvYmFyLzEyM2AuXG4gICAgICogYGBganNcbiAgICAgKiAud2hlbihcIi9mb28vOnBhcmFtMVwiLCBcIi9iYXIvOnBhcmFtMVwiKVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogLS0tXG4gICAgICpcbiAgICAgKiBXaGVuIHRoZSBgaGFuZGxlcmAgaXMgYSBzdHJpbmcgYW5kIHRoZSBgbWF0Y2hlcmAgaXMgYSBgUmVnRXhwYCwgdGhlIHJlZGlyZWN0IHN0cmluZyBpc1xuICAgICAqIGludGVycG9sYXRlZCB3aXRoIGNhcHR1cmUgZ3JvdXBzIGZyb20gdGhlIFJlZ0V4cC5cbiAgICAgKlxuICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgKiBXaGVuIHRoZSBVUkwgaXMgYC9mb28vMTIzYCB0aGUgcnVsZSB3aWxsIHJlZGlyZWN0IHRvIGAvYmFyLzEyM2AuXG4gICAgICogYGBganNcbiAgICAgKiAud2hlbihuZXcgUmVnRXhwKFwiXi9mb28vKC4qKSRcIiksIFwiL2Jhci8kMVwiKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIC0tLVxuICAgICAqXG4gICAgICogV2hlbiB0aGUgaGFuZGxlciBpcyBhIGZ1bmN0aW9uLCBpdCByZWNlaXZlcyB0aGUgbWF0Y2hlZCB2YWx1ZSwgdGhlIGN1cnJlbnQgVVJMLCBhbmQgdGhlIGBVSVJvdXRlcmAgb2JqZWN0IChTZWUgW1tVcmxSdWxlSGFuZGxlckZuXV0pLlxuICAgICAqIFRoZSBcIm1hdGNoZWQgdmFsdWVcIiBkaWZmZXJzIGJhc2VkIG9uIHRoZSBgbWF0Y2hlcmAuXG4gICAgICogRm9yIFtbVXJsTWF0Y2hlcl1dcywgaXQgd2lsbCBiZSB0aGUgbWF0Y2hlZCBzdGF0ZSBwYXJhbXMuXG4gICAgICogRm9yIGBSZWdFeHBgLCBpdCB3aWxsIGJlIHRoZSBtYXRjaCBhcnJheSBmcm9tIGByZWdleHAuZXhlYygpYC5cbiAgICAgKlxuICAgICAqIElmIHRoZSBoYW5kbGVyIHJldHVybnMgYSBzdHJpbmcsIHRoZSBVUkwgaXMgcmVkaXJlY3RlZCB0byB0aGUgc3RyaW5nLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIFdoZW4gdGhlIFVSTCBpcyBgL2Zvby8xMjNgIHRoZSBydWxlIHdpbGwgcmVkaXJlY3QgdG8gYC9iYXIvMTIzYC5cbiAgICAgKiBgYGBqc1xuICAgICAqIC53aGVuKG5ldyBSZWdFeHAoXCJeL2Zvby8oLiopJFwiKSwgbWF0Y2ggPT4gXCIvYmFyL1wiICsgbWF0Y2hbMV0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogTm90ZTogdGhlIGBoYW5kbGVyYCBtYXkgYWxzbyBpbnZva2UgYXJiaXRyYXJ5IGNvZGUsIHN1Y2ggYXMgYCRzdGF0ZS5nbygpYFxuICAgICAqXG4gICAgICogQHBhcmFtIG1hdGNoZXIgQSBwYXR0ZXJuIGBzdHJpbmdgIHRvIG1hdGNoLCBjb21waWxlZCBhcyBhIFtbVXJsTWF0Y2hlcl1dLCBvciBhIGBSZWdFeHBgLlxuICAgICAqIEBwYXJhbSBoYW5kbGVyIFRoZSBwYXRoIHRvIHJlZGlyZWN0IHRvLCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgcGF0aC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBgeyBwcmlvcml0eTogbnVtYmVyIH1gXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHRoZSByZWdpc3RlcmVkIFtbVXJsUnVsZV1dXG4gICAgICovXG4gICAgVXJsUnVsZXMucHJvdG90eXBlLndoZW4gPSBmdW5jdGlvbiAobWF0Y2hlciwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgcnVsZSA9IHRoaXMudXJsUnVsZUZhY3RvcnkuY3JlYXRlKG1hdGNoZXIsIGhhbmRsZXIpO1xuICAgICAgICBpZiAoY29tbW9uXzEuaXNEZWZpbmVkKG9wdGlvbnMgJiYgb3B0aW9ucy5wcmlvcml0eSkpXG4gICAgICAgICAgICBydWxlLnByaW9yaXR5ID0gb3B0aW9ucy5wcmlvcml0eTtcbiAgICAgICAgdGhpcy5ydWxlKHJ1bGUpO1xuICAgICAgICByZXR1cm4gcnVsZTtcbiAgICB9O1xuICAgIHJldHVybiBVcmxSdWxlcztcbn0oKSk7XG5leHBvcnRzLlVybFJ1bGVzID0gVXJsUnVsZXM7XG5cbn0se1wiLi4vY29tbW9uXCI6NyxcIi4uL3N0YXRlXCI6MzgsXCIuL3VybE1hdGNoZXJcIjo1NyxcIi4vdXJsUnVsZVwiOjYwfV0sNjI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uXCIpO1xudmFyIHVybFJ1bGVzXzEgPSByZXF1aXJlKFwiLi91cmxSdWxlc1wiKTtcbnZhciB1cmxDb25maWdfMSA9IHJlcXVpcmUoXCIuL3VybENvbmZpZ1wiKTtcbnZhciBzdGF0ZV8xID0gcmVxdWlyZShcIi4uL3N0YXRlXCIpO1xuLyoqIEFQSSBmb3IgVVJMIG1hbmFnZW1lbnQgKi9cbnZhciBVcmxTZXJ2aWNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgZnVuY3Rpb24gVXJsU2VydmljZSgvKiogQGhpZGRlbiAqLyByb3V0ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuaW50ZXJjZXB0RGVmZXJyZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuZXN0ZWQgW1tVcmxSdWxlc11dIEFQSSBmb3IgbWFuYWdpbmcgVVJMIHJ1bGVzIGFuZCByZXdyaXRlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBTZWU6IFtbVXJsUnVsZXNdXSBmb3IgZGV0YWlsc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ydWxlcyA9IG5ldyB1cmxSdWxlc18xLlVybFJ1bGVzKHRoaXMucm91dGVyKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuZXN0ZWQgW1tVcmxDb25maWddXSBBUEkgdG8gY29uZmlndXJlIHRoZSBVUkwgYW5kIHJldHJpZXZlIFVSTCBpbmZvcm1hdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBTZWU6IFtbVXJsQ29uZmlnXV0gZm9yIGRldGFpbHNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29uZmlnID0gbmV3IHVybENvbmZpZ18xLlVybENvbmZpZyh0aGlzLnJvdXRlcik7XG4gICAgICAgIC8vIERlbGVnYXRlIHRoZXNlIGNhbGxzIHRvIHRoZSBjdXJyZW50IExvY2F0aW9uU2VydmljZXMgaW1wbGVtZW50YXRpb25cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIGN1cnJlbnQgdXJsLCBvciB1cGRhdGVzIHRoZSB1cmxcbiAgICAgICAgICpcbiAgICAgICAgICogIyMjIEdldHRpbmcgdGhlIGN1cnJlbnQgVVJMXG4gICAgICAgICAqXG4gICAgICAgICAqIFdoZW4gbm8gYXJndW1lbnRzIGFyZSBwYXNzZWQsIHJldHVybnMgdGhlIGN1cnJlbnQgVVJMLlxuICAgICAgICAgKiBUaGUgVVJMIGlzIG5vcm1hbGl6ZWQgdXNpbmcgdGhlIGludGVybmFsIFtbcGF0aF1dL1tbc2VhcmNoXV0vW1toYXNoXV0gdmFsdWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBGb3IgZXhhbXBsZSwgdGhlIFVSTCBtYXkgYmUgc3RvcmVkIGluIHRoZSBoYXNoIChbW0hhc2hMb2NhdGlvblNlcnZpY2VzXV0pIG9yXG4gICAgICAgICAqIGhhdmUgYSBiYXNlIEhSRUYgcHJlcGVuZGVkIChbW1B1c2hTdGF0ZUxvY2F0aW9uU2VydmljZXNdXSkuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSByYXcgVVJMIGluIHRoZSBicm93c2VyIG1pZ2h0IGJlOlxuICAgICAgICAgKlxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICogaHR0cDovL215c2l0ZS5jb20vc29tZXBhdGgvaW5kZXguaHRtbCMvaW50ZXJuYWwvcGF0aC8xMjM/cGFyYW0xPWZvbyNhbmNob3JcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqIG9yXG4gICAgICAgICAqXG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiBodHRwOi8vbXlzaXRlLmNvbS9iYXNlcGF0aC9pbnRlcm5hbC9wYXRoLzEyMz9wYXJhbTE9Zm9vI2FuY2hvclxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogdGhlbiB0aGlzIG1ldGhvZCByZXR1cm5zOlxuICAgICAgICAgKlxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICogL2ludGVybmFsL3BhdGgvMTIzP3BhcmFtMT1mb28jYW5jaG9yXG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKlxuICAgICAgICAgKlxuICAgICAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIGxvY2F0aW9uU2VydmljZXMudXJsKCk7IC8vIFwiL3NvbWUvcGF0aD9xdWVyeT12YWx1ZSNhbmNob3JcIlxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogIyMjIFVwZGF0aW5nIHRoZSBVUkxcbiAgICAgICAgICpcbiAgICAgICAgICogV2hlbiBgbmV3dXJsYCBhcmd1bWVudHMgaXMgcHJvdmlkZWQsIGNoYW5nZXMgdGhlIFVSTCB0byByZWZsZWN0IGBuZXd1cmxgXG4gICAgICAgICAqXG4gICAgICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogbG9jYXRpb25TZXJ2aWNlcy51cmwoXCIvc29tZS9wYXRoP3F1ZXJ5PXZhbHVlI2FuY2hvclwiLCB0cnVlKTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBuZXd1cmwgVGhlIG5ldyB2YWx1ZSBmb3IgdGhlIFVSTC5cbiAgICAgICAgICogICAgICAgICAgICAgICBUaGlzIHVybCBzaG91bGQgcmVmbGVjdCBvbmx5IHRoZSBuZXcgaW50ZXJuYWwgW1twYXRoXV0sIFtbc2VhcmNoXV0sIGFuZCBbW2hhc2hdXSB2YWx1ZXMuXG4gICAgICAgICAqICAgICAgICAgICAgICAgSXQgc2hvdWxkIG5vdCBpbmNsdWRlIHRoZSBwcm90b2NvbCwgc2l0ZSwgcG9ydCwgb3IgYmFzZSBwYXRoIG9mIGFuIGFic29sdXRlIEhSRUYuXG4gICAgICAgICAqIEBwYXJhbSByZXBsYWNlIFdoZW4gdHJ1ZSwgcmVwbGFjZXMgdGhlIGN1cnJlbnQgaGlzdG9yeSBlbnRyeSAoaW5zdGVhZCBvZiBhcHBlbmRpbmcgaXQpIHdpdGggdGhpcyBuZXcgdXJsXG4gICAgICAgICAqIEBwYXJhbSBzdGF0ZSBUaGUgaGlzdG9yeSdzIHN0YXRlIG9iamVjdCwgaS5lLiwgcHVzaFN0YXRlIChpZiB0aGUgTG9jYXRpb25TZXJ2aWNlcyBpbXBsZW1lbnRhdGlvbiBzdXBwb3J0cyBpdClcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybiB0aGUgdXJsIChhZnRlciBwb3RlbnRpYWxseSBiZWluZyBwcm9jZXNzZWQpXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybCA9IGZ1bmN0aW9uIChuZXd1cmwsIHJlcGxhY2UsIHN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMucm91dGVyLmxvY2F0aW9uU2VydmljZS51cmwobmV3dXJsLCByZXBsYWNlLCBzdGF0ZSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBwYXRoIHBhcnQgb2YgdGhlIGN1cnJlbnQgdXJsXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoZSBjdXJyZW50IFVSTCBpcyBgL3NvbWUvcGF0aD9xdWVyeT12YWx1ZSNhbmNob3JgLCB0aGlzIHJldHVybnMgYC9zb21lL3BhdGhgXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm4gdGhlIHBhdGggcG9ydGlvbiBvZiB0aGUgdXJsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhdGggPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5yb3V0ZXIubG9jYXRpb25TZXJ2aWNlLnBhdGgoKTsgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIHNlYXJjaCBwYXJ0IG9mIHRoZSBjdXJyZW50IHVybCBhcyBhbiBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogSWYgdGhlIGN1cnJlbnQgVVJMIGlzIGAvc29tZS9wYXRoP3F1ZXJ5PXZhbHVlI2FuY2hvcmAsIHRoaXMgcmV0dXJucyBgeyBxdWVyeTogJ3ZhbHVlJyB9YFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJuIHRoZSBzZWFyY2ggKHF1ZXJ5KSBwb3J0aW9uIG9mIHRoZSB1cmwsIGFzIGFuIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZWFyY2ggPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5yb3V0ZXIubG9jYXRpb25TZXJ2aWNlLnNlYXJjaCgpOyB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgaGFzaCBwYXJ0IG9mIHRoZSBjdXJyZW50IHVybFxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB0aGUgY3VycmVudCBVUkwgaXMgYC9zb21lL3BhdGg/cXVlcnk9dmFsdWUjYW5jaG9yYCwgdGhpcyByZXR1cm5zIGBhbmNob3JgXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm4gdGhlIGhhc2ggKGFuY2hvcikgcG9ydGlvbiBvZiB0aGUgdXJsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhhc2ggPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5yb3V0ZXIubG9jYXRpb25TZXJ2aWNlLmhhc2goKTsgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbGFwaVxuICAgICAgICAgKlxuICAgICAgICAgKiBSZWdpc3RlcnMgYSBsb3cgbGV2ZWwgdXJsIGNoYW5nZSBoYW5kbGVyXG4gICAgICAgICAqXG4gICAgICAgICAqIE5vdGU6IEJlY2F1c2UgdGhpcyBpcyBhIGxvdyBsZXZlbCBoYW5kbGVyLCBpdCdzIG5vdCByZWNvbW1lbmRlZCBmb3IgZ2VuZXJhbCB1c2UuXG4gICAgICAgICAqXG4gICAgICAgICAqICMjIyMgRXhhbXBsZTpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogbGV0IGRlcmVnaXN0ZXJGbiA9IGxvY2F0aW9uU2VydmljZXMub25DaGFuZ2UoKGV2dCkgPT4gY29uc29sZS5sb2coXCJ1cmwgY2hhbmdlXCIsIGV2dCkpO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGNhbGxiYWNrIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1cmwgaXMgY2hhbmdpbmdcbiAgICAgICAgICogQHJldHVybiBhIGZ1bmN0aW9uIHRoYXQgZGUtcmVnaXN0ZXJzIHRoZSBjYWxsYmFja1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgeyByZXR1cm4gX3RoaXMucm91dGVyLmxvY2F0aW9uU2VydmljZS5vbkNoYW5nZShjYWxsYmFjayk7IH07XG4gICAgfVxuICAgIC8qKiBAaGlkZGVuICovXG4gICAgVXJsU2VydmljZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5saXN0ZW4oZmFsc2UpO1xuICAgICAgICB0aGlzLnJ1bGVzLmRpc3Bvc2UoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGN1cnJlbnQgVVJMIHBhcnRzXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBkaWZmZXJlbnQgcGFydHMgb2YgdGhlIGN1cnJlbnQgVVJMICh0aGUgW1twYXRoXV0sIFtbc2VhcmNoXV0sIGFuZCBbW2hhc2hdXSkgYXMgYSBbW1VybFBhcnRzXV0gb2JqZWN0LlxuICAgICAqL1xuICAgIFVybFNlcnZpY2UucHJvdG90eXBlLnBhcnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4geyBwYXRoOiB0aGlzLnBhdGgoKSwgc2VhcmNoOiB0aGlzLnNlYXJjaCgpLCBoYXNoOiB0aGlzLmhhc2goKSB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWN0aXZhdGVzIHRoZSBiZXN0IHJ1bGUgZm9yIHRoZSBjdXJyZW50IFVSTFxuICAgICAqXG4gICAgICogQ2hlY2tzIHRoZSBjdXJyZW50IFVSTCBmb3IgYSBtYXRjaGluZyBbW1VybFJ1bGVdXSwgdGhlbiBpbnZva2VzIHRoYXQgcnVsZSdzIGhhbmRsZXIuXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGludGVybmFsbHkgYW55IHRpbWUgdGhlIFVSTCBoYXMgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIFRoaXMgZWZmZWN0aXZlbHkgYWN0aXZhdGVzIHRoZSBzdGF0ZSAob3IgcmVkaXJlY3QsIGV0Yykgd2hpY2ggbWF0Y2hlcyB0aGUgY3VycmVudCBVUkwuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiB1cmxTZXJ2aWNlLmRlZmVySW50ZXJjZXB0KCk7XG4gICAgICpcbiAgICAgKiBmZXRjaCgnL3N0YXRlcy5qc29uJykudGhlbihyZXNwID0+IHJlc3AuanNvbigpKS50aGVuKGRhdGEgPT4ge1xuICAgICAqICAgZGF0YS5mb3JFYWNoKHN0YXRlID0+ICRzdGF0ZVJlZ2lzdHJ5LnJlZ2lzdGVyKHN0YXRlKSk7XG4gICAgICogICB1cmxTZXJ2aWNlLmxpc3RlbigpO1xuICAgICAqICAgLy8gRmluZCB0aGUgbWF0Y2hpbmcgVVJMIGFuZCBpbnZva2UgdGhlIGhhbmRsZXIuXG4gICAgICogICB1cmxTZXJ2aWNlLnN5bmMoKTtcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBVcmxTZXJ2aWNlLnByb3RvdHlwZS5zeW5jID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICBpZiAoZXZ0ICYmIGV2dC5kZWZhdWx0UHJldmVudGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnJvdXRlciwgdXJsU2VydmljZSA9IF9hLnVybFNlcnZpY2UsIHN0YXRlU2VydmljZSA9IF9hLnN0YXRlU2VydmljZTtcbiAgICAgICAgdmFyIHVybCA9IHsgcGF0aDogdXJsU2VydmljZS5wYXRoKCksIHNlYXJjaDogdXJsU2VydmljZS5zZWFyY2goKSwgaGFzaDogdXJsU2VydmljZS5oYXNoKCkgfTtcbiAgICAgICAgdmFyIGJlc3QgPSB0aGlzLm1hdGNoKHVybCk7XG4gICAgICAgIHZhciBhcHBseVJlc3VsdCA9IGNvbW1vbl8xLnBhdHRlcm4oW1xuICAgICAgICAgICAgW2NvbW1vbl8xLmlzU3RyaW5nLCBmdW5jdGlvbiAobmV3dXJsKSB7IHJldHVybiB1cmxTZXJ2aWNlLnVybChuZXd1cmwsIHRydWUpOyB9XSxcbiAgICAgICAgICAgIFtzdGF0ZV8xLlRhcmdldFN0YXRlLmlzRGVmLCBmdW5jdGlvbiAoZGVmKSB7IHJldHVybiBzdGF0ZVNlcnZpY2UuZ28oZGVmLnN0YXRlLCBkZWYucGFyYW1zLCBkZWYub3B0aW9ucyk7IH1dLFxuICAgICAgICAgICAgW2NvbW1vbl8xLmlzKHN0YXRlXzEuVGFyZ2V0U3RhdGUpLCBmdW5jdGlvbiAodGFyZ2V0KSB7IHJldHVybiBzdGF0ZVNlcnZpY2UuZ28odGFyZ2V0LnN0YXRlKCksIHRhcmdldC5wYXJhbXMoKSwgdGFyZ2V0Lm9wdGlvbnMoKSk7IH1dLFxuICAgICAgICBdKTtcbiAgICAgICAgYXBwbHlSZXN1bHQoYmVzdCAmJiBiZXN0LnJ1bGUuaGFuZGxlcihiZXN0Lm1hdGNoLCB1cmwsIHRoaXMucm91dGVyKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdGFydHMgb3Igc3RvcHMgbGlzdGVuaW5nIGZvciBVUkwgY2hhbmdlc1xuICAgICAqXG4gICAgICogQ2FsbCB0aGlzIHNvbWV0aW1lIGFmdGVyIGNhbGxpbmcgW1tkZWZlckludGVyY2VwdF1dIHRvIHN0YXJ0IG1vbml0b3JpbmcgdGhlIHVybC5cbiAgICAgKiBUaGlzIGNhdXNlcyBVSS1Sb3V0ZXIgdG8gc3RhcnQgbGlzdGVuaW5nIGZvciBjaGFuZ2VzIHRvIHRoZSBVUkwsIGlmIGl0IHdhc24ndCBhbHJlYWR5IGxpc3RlbmluZy5cbiAgICAgKlxuICAgICAqIElmIGNhbGxlZCB3aXRoIGBmYWxzZWAsIFVJLVJvdXRlciB3aWxsIHN0b3AgbGlzdGVuaW5nIChjYWxsIGxpc3Rlbih0cnVlKSB0byBzdGFydCBsaXN0ZW5pbmcgYWdhaW4pLlxuICAgICAqXG4gICAgICogIyMjIyBFeGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICogdXJsU2VydmljZS5kZWZlckludGVyY2VwdCgpO1xuICAgICAqXG4gICAgICogZmV0Y2goJy9zdGF0ZXMuanNvbicpLnRoZW4ocmVzcCA9PiByZXNwLmpzb24oKSkudGhlbihkYXRhID0+IHtcbiAgICAgKiAgIGRhdGEuZm9yRWFjaChzdGF0ZSA9PiAkc3RhdGVSZWdpc3RyeS5yZWdpc3RlcihzdGF0ZSkpO1xuICAgICAqICAgLy8gU3RhcnQgcmVzcG9uZGluZyB0byBVUkwgY2hhbmdlc1xuICAgICAqICAgdXJsU2VydmljZS5saXN0ZW4oKTtcbiAgICAgKiAgIHVybFNlcnZpY2Uuc3luYygpO1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGVuYWJsZWQgYHRydWVgIG9yIGBmYWxzZWAgdG8gc3RhcnQgb3Igc3RvcCBsaXN0ZW5pbmcgdG8gVVJMIGNoYW5nZXNcbiAgICAgKi9cbiAgICBVcmxTZXJ2aWNlLnByb3RvdHlwZS5saXN0ZW4gPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0b3BMaXN0ZW5pbmdGbiAmJiB0aGlzLl9zdG9wTGlzdGVuaW5nRm4oKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9zdG9wTGlzdGVuaW5nRm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX3N0b3BMaXN0ZW5pbmdGbiA9IHRoaXMuX3N0b3BMaXN0ZW5pbmdGbiB8fCB0aGlzLnJvdXRlci51cmxTZXJ2aWNlLm9uQ2hhbmdlKGZ1bmN0aW9uIChldnQpIHsgcmV0dXJuIF90aGlzLnN5bmMoZXZ0KTsgfSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyBtb25pdG9yaW5nIG9mIHRoZSBVUkwuXG4gICAgICpcbiAgICAgKiBDYWxsIHRoaXMgbWV0aG9kIGJlZm9yZSBVSS1Sb3V0ZXIgaGFzIGJvb3RzdHJhcHBlZC5cbiAgICAgKiBJdCB3aWxsIHN0b3AgVUktUm91dGVyIGZyb20gcGVyZm9ybWluZyB0aGUgaW5pdGlhbCB1cmwgc3luYy5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWZ1bCB0byBwZXJmb3JtIHNvbWUgYXN5bmNocm9ub3VzIGluaXRpYWxpemF0aW9uIGJlZm9yZSB0aGUgcm91dGVyIHN0YXJ0cy5cbiAgICAgKiBPbmNlIHRoZSBpbml0aWFsaXphdGlvbiBpcyBjb21wbGV0ZSwgY2FsbCBbW2xpc3Rlbl1dIHRvIHRlbGwgVUktUm91dGVyIHRvIHN0YXJ0IHdhdGNoaW5nIGFuZCBzeW5jaHJvbml6aW5nIHRoZSBVUkwuXG4gICAgICpcbiAgICAgKiAjIyMjIEV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgKiAvLyBQcmV2ZW50IFVJLVJvdXRlciBmcm9tIGF1dG9tYXRpY2FsbHkgaW50ZXJjZXB0aW5nIFVSTCBjaGFuZ2VzIHdoZW4gaXQgc3RhcnRzO1xuICAgICAqIHVybFNlcnZpY2UuZGVmZXJJbnRlcmNlcHQoKTtcbiAgICAgKlxuICAgICAqIGZldGNoKCcvc3RhdGVzLmpzb24nKS50aGVuKHJlc3AgPT4gcmVzcC5qc29uKCkpLnRoZW4oZGF0YSA9PiB7XG4gICAgICogICBkYXRhLmZvckVhY2goc3RhdGUgPT4gJHN0YXRlUmVnaXN0cnkucmVnaXN0ZXIoc3RhdGUpKTtcbiAgICAgKiAgIHVybFNlcnZpY2UubGlzdGVuKCk7XG4gICAgICogICB1cmxTZXJ2aWNlLnN5bmMoKTtcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBkZWZlciBJbmRpY2F0ZXMgd2hldGhlciB0byBkZWZlciBsb2NhdGlvbiBjaGFuZ2UgaW50ZXJjZXB0aW9uLlxuICAgICAqICAgICAgICBQYXNzaW5nIG5vIHBhcmFtZXRlciBpcyBlcXVpdmFsZW50IHRvIGB0cnVlYC5cbiAgICAgKi9cbiAgICBVcmxTZXJ2aWNlLnByb3RvdHlwZS5kZWZlckludGVyY2VwdCA9IGZ1bmN0aW9uIChkZWZlcikge1xuICAgICAgICBpZiAoZGVmZXIgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGRlZmVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbnRlcmNlcHREZWZlcnJlZCA9IGRlZmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWF0Y2hlcyBhIFVSTFxuICAgICAqXG4gICAgICogR2l2ZW4gYSBVUkwgKGFzIGEgW1tVcmxQYXJ0c11dIG9iamVjdCksIGNoZWNrIGFsbCBydWxlcyBhbmQgZGV0ZXJtaW5lIHRoZSBiZXN0IG1hdGNoaW5nIHJ1bGUuXG4gICAgICogUmV0dXJuIHRoZSByZXN1bHQgYXMgYSBbW01hdGNoUmVzdWx0XV0uXG4gICAgICovXG4gICAgVXJsU2VydmljZS5wcm90b3R5cGUubWF0Y2ggPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHVybCA9IGNvbW1vbl8xLmV4dGVuZCh7IHBhdGg6ICcnLCBzZWFyY2g6IHt9LCBoYXNoOiAnJyB9LCB1cmwpO1xuICAgICAgICB2YXIgcnVsZXMgPSB0aGlzLnJ1bGVzLnJ1bGVzKCk7XG4gICAgICAgIC8vIENoZWNrcyBhIHNpbmdsZSBydWxlLiBSZXR1cm5zIHsgcnVsZTogcnVsZSwgbWF0Y2g6IG1hdGNoLCB3ZWlnaHQ6IHdlaWdodCB9IGlmIGl0IG1hdGNoZWQsIG9yIHVuZGVmaW5lZFxuICAgICAgICB2YXIgY2hlY2tSdWxlID0gZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IHJ1bGUubWF0Y2godXJsLCBfdGhpcy5yb3V0ZXIpO1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoICYmIHsgbWF0Y2g6IG1hdGNoLCBydWxlOiBydWxlLCB3ZWlnaHQ6IHJ1bGUubWF0Y2hQcmlvcml0eShtYXRjaCkgfTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVGhlIHJ1bGVzIGFyZSBwcmUtc29ydGVkLlxuICAgICAgICAvLyAtIEZpbmQgdGhlIGZpcnN0IG1hdGNoaW5nIHJ1bGUuXG4gICAgICAgIC8vIC0gRmluZCBhbnkgb3RoZXIgbWF0Y2hpbmcgcnVsZSB0aGF0IHNvcnRlZCAqZXhhY3RseSB0aGUgc2FtZSosIGFjY29yZGluZyB0byBgLnNvcnQoKWAuXG4gICAgICAgIC8vIC0gQ2hvb3NlIHRoZSBydWxlIHdpdGggdGhlIGhpZ2hlc3QgbWF0Y2ggd2VpZ2h0LlxuICAgICAgICB2YXIgYmVzdDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gU3RvcCB3aGVuIHRoZXJlIGlzIGEgJ2Jlc3QnIHJ1bGUgYW5kIHRoZSBuZXh0IHJ1bGUgc29ydHMgZGlmZmVyZW50bHkgdGhhbiBpdC5cbiAgICAgICAgICAgIGlmIChiZXN0ICYmIGJlc3QucnVsZS5fZ3JvdXAgIT09IHJ1bGVzW2ldLl9ncm91cClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gY2hlY2tSdWxlKHJ1bGVzW2ldKTtcbiAgICAgICAgICAgIC8vIFBpY2sgdGhlIGJlc3QgTWF0Y2hSZXN1bHRcbiAgICAgICAgICAgIGJlc3QgPSAhYmVzdCB8fCAoY3VycmVudCAmJiBjdXJyZW50LndlaWdodCA+IGJlc3Qud2VpZ2h0KSA/IGN1cnJlbnQgOiBiZXN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiZXN0O1xuICAgIH07XG4gICAgcmV0dXJuIFVybFNlcnZpY2U7XG59KCkpO1xuZXhwb3J0cy5VcmxTZXJ2aWNlID0gVXJsU2VydmljZTtcblxufSx7XCIuLi9jb21tb25cIjo3LFwiLi4vc3RhdGVcIjozOCxcIi4vdXJsQ29uZmlnXCI6NTYsXCIuL3VybFJ1bGVzXCI6NjF9XSw2MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQGludGVybmFsYXBpIEBtb2R1bGUgdmFuaWxsYSAqLyAvKiogKi9cbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3ZhbmlsbGEvaW5kZXhcIikpO1xuXG59LHtcIi4vdmFuaWxsYS9pbmRleFwiOjY3fV0sNjQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQGludGVybmFsYXBpIEBtb2R1bGUgdmFuaWxsYSAqLyAvKiogKi9cbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9jb21tb25cIik7XG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuLyoqIEEgYmFzZSBgTG9jYXRpb25TZXJ2aWNlc2AgKi9cbnZhciBCYXNlTG9jYXRpb25TZXJ2aWNlcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXNlTG9jYXRpb25TZXJ2aWNlcyhyb3V0ZXIsIGZpcmVBZnRlclVwZGF0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmZpcmVBZnRlclVwZGF0ZSA9IGZpcmVBZnRlclVwZGF0ZTtcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuX2xpc3RlbmVyID0gZnVuY3Rpb24gKGV2dCkgeyByZXR1cm4gX3RoaXMuX2xpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChjYikgeyByZXR1cm4gY2IoZXZ0KTsgfSk7IH07XG4gICAgICAgIHRoaXMuaGFzaCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHV0aWxzXzEucGFyc2VVcmwoX3RoaXMuX2dldCgpKS5oYXNoOyB9O1xuICAgICAgICB0aGlzLnBhdGggPSBmdW5jdGlvbiAoKSB7IHJldHVybiB1dGlsc18xLnBhcnNlVXJsKF90aGlzLl9nZXQoKSkucGF0aDsgfTtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBmdW5jdGlvbiAoKSB7IHJldHVybiB1dGlsc18xLmdldFBhcmFtcyh1dGlsc18xLnBhcnNlVXJsKF90aGlzLl9nZXQoKSkuc2VhcmNoKTsgfTtcbiAgICAgICAgdGhpcy5fbG9jYXRpb24gPSBjb21tb25fMS5yb290LmxvY2F0aW9uO1xuICAgICAgICB0aGlzLl9oaXN0b3J5ID0gY29tbW9uXzEucm9vdC5oaXN0b3J5O1xuICAgIH1cbiAgICBCYXNlTG9jYXRpb25TZXJ2aWNlcy5wcm90b3R5cGUudXJsID0gZnVuY3Rpb24gKHVybCwgcmVwbGFjZSkge1xuICAgICAgICBpZiAocmVwbGFjZSA9PT0gdm9pZCAwKSB7IHJlcGxhY2UgPSB0cnVlOyB9XG4gICAgICAgIGlmIChjb21tb25fMS5pc0RlZmluZWQodXJsKSAmJiB1cmwgIT09IHRoaXMuX2dldCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXQobnVsbCwgbnVsbCwgdXJsLCByZXBsYWNlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpcmVBZnRlclVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChjYikgeyByZXR1cm4gY2IoeyB1cmw6IHVybCB9KTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHV0aWxzXzEuYnVpbGRVcmwodGhpcyk7XG4gICAgfTtcbiAgICBCYXNlTG9jYXRpb25TZXJ2aWNlcy5wcm90b3R5cGUub25DaGFuZ2UgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnB1c2goY2IpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29tbW9uXzEucmVtb3ZlRnJvbShfdGhpcy5fbGlzdGVuZXJzLCBjYik7IH07XG4gICAgfTtcbiAgICBCYXNlTG9jYXRpb25TZXJ2aWNlcy5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIChyb3V0ZXIpIHtcbiAgICAgICAgY29tbW9uXzEuZGVyZWdBbGwodGhpcy5fbGlzdGVuZXJzKTtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlTG9jYXRpb25TZXJ2aWNlcztcbn0oKSk7XG5leHBvcnRzLkJhc2VMb2NhdGlvblNlcnZpY2VzID0gQmFzZUxvY2F0aW9uU2VydmljZXM7XG5cbn0se1wiLi4vY29tbW9uXCI6NyxcIi4vdXRpbHNcIjo3NH1dLDY1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBpbnRlcm5hbGFwaSBAbW9kdWxlIHZhbmlsbGEgKi9cbi8qKiAqL1xudmFyIHByZWRpY2F0ZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vcHJlZGljYXRlc1wiKTtcbi8qKiBBIGBMb2NhdGlvbkNvbmZpZ2AgdGhhdCBkZWxlZ2F0ZXMgdG8gdGhlIGJyb3dzZXIncyBgbG9jYXRpb25gIG9iamVjdCAqL1xudmFyIEJyb3dzZXJMb2NhdGlvbkNvbmZpZyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCcm93c2VyTG9jYXRpb25Db25maWcocm91dGVyLCBfaXNIdG1sNSkge1xuICAgICAgICBpZiAoX2lzSHRtbDUgPT09IHZvaWQgMCkgeyBfaXNIdG1sNSA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMuX2lzSHRtbDUgPSBfaXNIdG1sNTtcbiAgICAgICAgdGhpcy5fYmFzZUhyZWYgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2hhc2hQcmVmaXggPSAnJztcbiAgICB9XG4gICAgQnJvd3NlckxvY2F0aW9uQ29uZmlnLnByb3RvdHlwZS5wb3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobG9jYXRpb24ucG9ydCkge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihsb2NhdGlvbi5wb3J0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm90b2NvbCgpID09PSAnaHR0cHMnID8gNDQzIDogODA7XG4gICAgfTtcbiAgICBCcm93c2VyTG9jYXRpb25Db25maWcucHJvdG90eXBlLnByb3RvY29sID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbG9jYXRpb24ucHJvdG9jb2wucmVwbGFjZSgvOi9nLCAnJyk7XG4gICAgfTtcbiAgICBCcm93c2VyTG9jYXRpb25Db25maWcucHJvdG90eXBlLmhvc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbi5ob3N0bmFtZTtcbiAgICB9O1xuICAgIEJyb3dzZXJMb2NhdGlvbkNvbmZpZy5wcm90b3R5cGUuaHRtbDVNb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNIdG1sNTtcbiAgICB9O1xuICAgIEJyb3dzZXJMb2NhdGlvbkNvbmZpZy5wcm90b3R5cGUuaGFzaFByZWZpeCA9IGZ1bmN0aW9uIChuZXdwcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZXNfMS5pc0RlZmluZWQobmV3cHJlZml4KSA/ICh0aGlzLl9oYXNoUHJlZml4ID0gbmV3cHJlZml4KSA6IHRoaXMuX2hhc2hQcmVmaXg7XG4gICAgfTtcbiAgICBCcm93c2VyTG9jYXRpb25Db25maWcucHJvdG90eXBlLmJhc2VIcmVmID0gZnVuY3Rpb24gKGhyZWYpIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZXNfMS5pc0RlZmluZWQoaHJlZikpXG4gICAgICAgICAgICB0aGlzLl9iYXNlSHJlZiA9IGhyZWY7XG4gICAgICAgIGlmIChwcmVkaWNhdGVzXzEuaXNVbmRlZmluZWQodGhpcy5fYmFzZUhyZWYpKVxuICAgICAgICAgICAgdGhpcy5fYmFzZUhyZWYgPSB0aGlzLmdldEJhc2VIcmVmKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9iYXNlSHJlZjtcbiAgICB9O1xuICAgIEJyb3dzZXJMb2NhdGlvbkNvbmZpZy5wcm90b3R5cGUuZ2V0QmFzZUhyZWYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBiYXNlVGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2Jhc2UnKVswXTtcbiAgICAgICAgaWYgKGJhc2VUYWcgJiYgYmFzZVRhZy5ocmVmKSB7XG4gICAgICAgICAgICByZXR1cm4gYmFzZVRhZy5ocmVmLnJlcGxhY2UoL14oW14vOl0qOik/XFwvXFwvW14vXSovLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzSHRtbDUgPyAnLycgOiBsb2NhdGlvbi5wYXRobmFtZSB8fCAnLyc7XG4gICAgfTtcbiAgICBCcm93c2VyTG9jYXRpb25Db25maWcucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgcmV0dXJuIEJyb3dzZXJMb2NhdGlvbkNvbmZpZztcbn0oKSk7XG5leHBvcnRzLkJyb3dzZXJMb2NhdGlvbkNvbmZpZyA9IEJyb3dzZXJMb2NhdGlvbkNvbmZpZztcblxufSx7XCIuLi9jb21tb24vcHJlZGljYXRlc1wiOjh9XSw2NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBpbnRlcm5hbGFwaSBAbW9kdWxlIHZhbmlsbGEgKi8gLyoqICovXG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uXCIpO1xudmFyIGJhc2VMb2NhdGlvblNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL2Jhc2VMb2NhdGlvblNlcnZpY2VcIik7XG4vKiogQSBgTG9jYXRpb25TZXJ2aWNlc2AgdGhhdCB1c2VzIHRoZSBicm93c2VyIGhhc2ggXCIjXCIgdG8gZ2V0L3NldCB0aGUgY3VycmVudCBsb2NhdGlvbiAqL1xudmFyIEhhc2hMb2NhdGlvblNlcnZpY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEhhc2hMb2NhdGlvblNlcnZpY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSGFzaExvY2F0aW9uU2VydmljZShyb3V0ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcm91dGVyLCBmYWxzZSkgfHwgdGhpcztcbiAgICAgICAgY29tbW9uXzEucm9vdC5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgX3RoaXMuX2xpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSGFzaExvY2F0aW9uU2VydmljZS5wcm90b3R5cGUuX2dldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNvbW1vbl8xLnRyaW1IYXNoVmFsKHRoaXMuX2xvY2F0aW9uLmhhc2gpO1xuICAgIH07XG4gICAgSGFzaExvY2F0aW9uU2VydmljZS5wcm90b3R5cGUuX3NldCA9IGZ1bmN0aW9uIChzdGF0ZSwgdGl0bGUsIHVybCwgcmVwbGFjZSkge1xuICAgICAgICB0aGlzLl9sb2NhdGlvbi5oYXNoID0gdXJsO1xuICAgIH07XG4gICAgSGFzaExvY2F0aW9uU2VydmljZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIChyb3V0ZXIpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcywgcm91dGVyKTtcbiAgICAgICAgY29tbW9uXzEucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5fbGlzdGVuZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIEhhc2hMb2NhdGlvblNlcnZpY2U7XG59KGJhc2VMb2NhdGlvblNlcnZpY2VfMS5CYXNlTG9jYXRpb25TZXJ2aWNlcykpO1xuZXhwb3J0cy5IYXNoTG9jYXRpb25TZXJ2aWNlID0gSGFzaExvY2F0aW9uU2VydmljZTtcblxufSx7XCIuLi9jb21tb25cIjo3LFwiLi9iYXNlTG9jYXRpb25TZXJ2aWNlXCI6NjR9XSw2NzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9xXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2luamVjdG9yXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2Jhc2VMb2NhdGlvblNlcnZpY2VcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vaGFzaExvY2F0aW9uU2VydmljZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9tZW1vcnlMb2NhdGlvblNlcnZpY2VcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vcHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL21lbW9yeUxvY2F0aW9uQ29uZmlnXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2Jyb3dzZXJMb2NhdGlvbkNvbmZpZ1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi91dGlsc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wbHVnaW5zXCIpKTtcblxufSx7XCIuL2Jhc2VMb2NhdGlvblNlcnZpY2VcIjo2NCxcIi4vYnJvd3NlckxvY2F0aW9uQ29uZmlnXCI6NjUsXCIuL2hhc2hMb2NhdGlvblNlcnZpY2VcIjo2NixcIi4vaW5qZWN0b3JcIjo2OCxcIi4vbWVtb3J5TG9jYXRpb25Db25maWdcIjo2OSxcIi4vbWVtb3J5TG9jYXRpb25TZXJ2aWNlXCI6NzAsXCIuL3BsdWdpbnNcIjo3MSxcIi4vcHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlXCI6NzIsXCIuL3FcIjo3MyxcIi4vdXRpbHNcIjo3NH1dLDY4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqIEBpbnRlcm5hbGFwaSBAbW9kdWxlIHZhbmlsbGEgKi8gLyoqICovXG52YXIgaW5kZXhfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vaW5kZXhcIik7XG4vLyBnbG9iYWxseSBhdmFpbGFibGUgaW5qZWN0YWJsZXNcbnZhciBnbG9iYWxzID0ge307XG52YXIgU1RSSVBfQ09NTUVOVFMgPSAvKChcXC9cXC8uKiQpfChcXC9cXCpbXFxzXFxTXSo/XFwqXFwvKSkvZ207XG52YXIgQVJHVU1FTlRfTkFNRVMgPSAvKFteXFxzLF0rKS9nO1xuLyoqXG4gKiBBIGJhc2ljIGFuZ3VsYXIxLWxpa2UgaW5qZWN0b3IgYXBpXG4gKlxuICogVGhpcyBvYmplY3QgaW1wbGVtZW50cyBmb3VyIG1ldGhvZHMgc2ltaWxhciB0byB0aGVcbiAqIFthbmd1bGFyIDEgZGVwZW5kZW5jeSBpbmplY3Rvcl0oaHR0cHM6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL2F1dG8vc2VydmljZS8kaW5qZWN0b3IpXG4gKlxuICogVUktUm91dGVyIGV2b2x2ZWQgZnJvbSBhbiBhbmd1bGFyIDEgbGlicmFyeSB0byBhIGZyYW1ld29yayBhZ25vc3RpYyBsaWJyYXJ5LlxuICogSG93ZXZlciwgc29tZSBvZiB0aGUgYEB1aXJvdXRlci9jb3JlYCBjb2RlIHVzZXMgdGhlc2UgbmcxIHN0eWxlIEFQSXMgdG8gc3VwcG9ydCBuZzEgc3R5bGUgZGVwZW5kZW5jeSBpbmplY3Rpb24uXG4gKlxuICogVGhpcyBvYmplY3QgcHJvdmlkZXMgYSBuYWl2ZSBpbXBsZW1lbnRhdGlvbiBvZiBhIGdsb2JhbGx5IHNjb3BlZCBkZXBlbmRlbmN5IGluamVjdGlvbiBzeXN0ZW0uXG4gKiBJdCBzdXBwb3J0cyB0aGUgZm9sbG93aW5nIERJIGFwcHJvYWNoZXM6XG4gKlxuICogIyMjIEZ1bmN0aW9uIHBhcmFtZXRlciBuYW1lc1xuICpcbiAqIEEgZnVuY3Rpb24ncyBgLnRvU3RyaW5nKClgIGlzIGNhbGxlZCwgYW5kIHRoZSBwYXJhbWV0ZXIgbmFtZXMgYXJlIHBhcnNlZC5cbiAqIFRoaXMgb25seSB3b3JrcyB3aGVuIHRoZSBwYXJhbWV0ZXIgbmFtZXMgYXJlbid0IFwibWFuZ2xlZFwiIGJ5IGEgbWluaWZpZXIgc3VjaCBhcyBVZ2xpZnlKUy5cbiAqXG4gKiBgYGBqc1xuICogZnVuY3Rpb24gaW5qZWN0ZWRGdW5jdGlvbihGb29TZXJ2aWNlLCBCYXJTZXJ2aWNlKSB7XG4gKiAgIC8vIEZvb1NlcnZpY2UgYW5kIEJhclNlcnZpY2UgYXJlIGluamVjdGVkXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiAjIyMgRnVuY3Rpb24gYW5ub3RhdGlvblxuICpcbiAqIEEgZnVuY3Rpb24gbWF5IGJlIGFubm90YXRlZCB3aXRoIGFuIGFycmF5IG9mIGRlcGVuZGVuY3kgbmFtZXMgYXMgdGhlIGAkaW5qZWN0YCBwcm9wZXJ0eS5cbiAqXG4gKiBgYGBqc1xuICogaW5qZWN0ZWRGdW5jdGlvbi4kaW5qZWN0ID0gWyAnRm9vU2VydmljZScsICdCYXJTZXJ2aWNlJyBdO1xuICogZnVuY3Rpb24gaW5qZWN0ZWRGdW5jdGlvbihmcywgYnMpIHtcbiAqICAgLy8gRm9vU2VydmljZSBhbmQgQmFyU2VydmljZSBhcmUgaW5qZWN0ZWQgYXMgZnMgYW5kIGJzIHBhcmFtZXRlcnNcbiAqIH1cbiAqIGBgYFxuICpcbiAqICMjIyBBcnJheSBub3RhdGlvblxuICpcbiAqIEFuIGFycmF5IHByb3ZpZGVzIHRoZSBuYW1lcyBvZiB0aGUgZGVwZW5kZW5jaWVzIHRvIGluamVjdCAoYXMgc3RyaW5ncykuXG4gKiBUaGUgZnVuY3Rpb24gaXMgdGhlIGxhc3QgZWxlbWVudCBvZiB0aGUgYXJyYXkuXG4gKlxuICogYGBganNcbiAqIFsgJ0Zvb1NlcnZpY2UnLCAnQmFyU2VydmljZScsIGZ1bmN0aW9uIChmcywgYnMpIHtcbiAqICAgLy8gRm9vU2VydmljZSBhbmQgQmFyU2VydmljZSBhcmUgaW5qZWN0ZWQgYXMgZnMgYW5kIGJzIHBhcmFtZXRlcnNcbiAqIH1dXG4gKiBgYGBcbiAqXG4gKiBAdHlwZSB7JEluamVjdG9yTGlrZX1cbiAqL1xuZXhwb3J0cy4kaW5qZWN0b3IgPSB7XG4gICAgLyoqIEdldHMgYW4gb2JqZWN0IGZyb20gREkgYmFzZWQgb24gYSBzdHJpbmcgdG9rZW4gKi9cbiAgICBnZXQ6IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBnbG9iYWxzW25hbWVdOyB9LFxuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgYW4gb2JqZWN0IG5hbWVkIGBuYW1lYCBleGlzdHMgaW4gZ2xvYmFsIERJICovXG4gICAgaGFzOiBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gZXhwb3J0cy4kaW5qZWN0b3IuZ2V0KG5hbWUpICE9IG51bGw7IH0sXG4gICAgLyoqXG4gICAgICogSW5qZWN0cyBhIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZm4gdGhlIGZ1bmN0aW9uIHRvIGluamVjdFxuICAgICAqIEBwYXJhbSBjb250ZXh0IHRoZSBmdW5jdGlvbidzIGB0aGlzYCBiaW5kaW5nXG4gICAgICogQHBhcmFtIGxvY2FscyBBbiBvYmplY3Qgd2l0aCBhZGRpdGlvbmFsIERJIHRva2VucyBhbmQgdmFsdWVzLCBzdWNoIGFzIGB7IHNvbWVUb2tlbjogeyBmb286IDEgfSB9YFxuICAgICAqL1xuICAgIGludm9rZTogZnVuY3Rpb24gKGZuLCBjb250ZXh0LCBsb2NhbHMpIHtcbiAgICAgICAgdmFyIGFsbCA9IGluZGV4XzEuZXh0ZW5kKHt9LCBnbG9iYWxzLCBsb2NhbHMgfHwge30pO1xuICAgICAgICB2YXIgcGFyYW1zID0gZXhwb3J0cy4kaW5qZWN0b3IuYW5ub3RhdGUoZm4pO1xuICAgICAgICB2YXIgZW5zdXJlRXhpc3QgPSBpbmRleF8xLmFzc2VydFByZWRpY2F0ZShmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBhbGwuaGFzT3duUHJvcGVydHkoa2V5KTsgfSwgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gXCJESSBjYW4ndCBmaW5kIGluamVjdGFibGU6ICdcIiArIGtleSArIFwiJ1wiOyB9KTtcbiAgICAgICAgdmFyIGFyZ3MgPSBwYXJhbXMuZmlsdGVyKGVuc3VyZUV4aXN0KS5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIGFsbFt4XTsgfSk7XG4gICAgICAgIGlmIChpbmRleF8xLmlzRnVuY3Rpb24oZm4pKVxuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gZm4uc2xpY2UoLTEpWzBdLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGZ1bmN0aW9uJ3MgZGVwZW5kZW5jaWVzXG4gICAgICpcbiAgICAgKiBBbmFseXplcyBhIGZ1bmN0aW9uIChvciBhcnJheSkgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgREkgdG9rZW5zIHRoYXQgdGhlIGZ1bmN0aW9uIHJlcXVpcmVzLlxuICAgICAqIEByZXR1cm4gYW4gYXJyYXkgb2YgYHN0cmluZ2BzXG4gICAgICovXG4gICAgYW5ub3RhdGU6IGZ1bmN0aW9uIChmbikge1xuICAgICAgICBpZiAoIWluZGV4XzEuaXNJbmplY3RhYmxlKGZuKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBhbiBpbmplY3RhYmxlIGZ1bmN0aW9uOiBcIiArIGZuKTtcbiAgICAgICAgaWYgKGZuICYmIGZuLiRpbmplY3QpXG4gICAgICAgICAgICByZXR1cm4gZm4uJGluamVjdDtcbiAgICAgICAgaWYgKGluZGV4XzEuaXNBcnJheShmbikpXG4gICAgICAgICAgICByZXR1cm4gZm4uc2xpY2UoMCwgLTEpO1xuICAgICAgICB2YXIgZm5TdHIgPSBmbi50b1N0cmluZygpLnJlcGxhY2UoU1RSSVBfQ09NTUVOVFMsICcnKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGZuU3RyLnNsaWNlKGZuU3RyLmluZGV4T2YoJygnKSArIDEsIGZuU3RyLmluZGV4T2YoJyknKSkubWF0Y2goQVJHVU1FTlRfTkFNRVMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0IHx8IFtdO1xuICAgIH0sXG59O1xuXG59LHtcIi4uL2NvbW1vbi9pbmRleFwiOjd9XSw2OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBwcmVkaWNhdGVzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3ByZWRpY2F0ZXNcIik7XG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2NvbW1vblwiKTtcbi8qKiBBIGBMb2NhdGlvbkNvbmZpZ2AgbW9jayB0aGF0IGdldHMvc2V0cyBhbGwgY29uZmlnIGZyb20gYW4gaW4tbWVtb3J5IG9iamVjdCAqL1xudmFyIE1lbW9yeUxvY2F0aW9uQ29uZmlnID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1lbW9yeUxvY2F0aW9uQ29uZmlnKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmRpc3Bvc2UgPSBjb21tb25fMS5ub29wO1xuICAgICAgICB0aGlzLl9iYXNlSHJlZiA9ICcnO1xuICAgICAgICB0aGlzLl9wb3J0ID0gODA7XG4gICAgICAgIHRoaXMuX3Byb3RvY29sID0gJ2h0dHAnO1xuICAgICAgICB0aGlzLl9ob3N0ID0gJ2xvY2FsaG9zdCc7XG4gICAgICAgIHRoaXMuX2hhc2hQcmVmaXggPSAnJztcbiAgICAgICAgdGhpcy5wb3J0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX3BvcnQ7IH07XG4gICAgICAgIHRoaXMucHJvdG9jb2wgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fcHJvdG9jb2w7IH07XG4gICAgICAgIHRoaXMuaG9zdCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9ob3N0OyB9O1xuICAgICAgICB0aGlzLmJhc2VIcmVmID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2Jhc2VIcmVmOyB9O1xuICAgICAgICB0aGlzLmh0bWw1TW9kZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9O1xuICAgICAgICB0aGlzLmhhc2hQcmVmaXggPSBmdW5jdGlvbiAobmV3dmFsKSB7IHJldHVybiAocHJlZGljYXRlc18xLmlzRGVmaW5lZChuZXd2YWwpID8gKF90aGlzLl9oYXNoUHJlZml4ID0gbmV3dmFsKSA6IF90aGlzLl9oYXNoUHJlZml4KTsgfTtcbiAgICB9XG4gICAgcmV0dXJuIE1lbW9yeUxvY2F0aW9uQ29uZmlnO1xufSgpKTtcbmV4cG9ydHMuTWVtb3J5TG9jYXRpb25Db25maWcgPSBNZW1vcnlMb2NhdGlvbkNvbmZpZztcblxufSx7XCIuLi9jb21tb24vY29tbW9uXCI6MyxcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCI6OH1dLDcwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQGludGVybmFsYXBpIEBtb2R1bGUgdmFuaWxsYSAqLyAvKiogKi9cbnZhciBiYXNlTG9jYXRpb25TZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi9iYXNlTG9jYXRpb25TZXJ2aWNlXCIpO1xuLyoqIEEgYExvY2F0aW9uU2VydmljZXNgIHRoYXQgZ2V0cy9zZXRzIHRoZSBjdXJyZW50IGxvY2F0aW9uIGZyb20gYW4gaW4tbWVtb3J5IG9iamVjdCAqL1xudmFyIE1lbW9yeUxvY2F0aW9uU2VydmljZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWVtb3J5TG9jYXRpb25TZXJ2aWNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1lbW9yeUxvY2F0aW9uU2VydmljZShyb3V0ZXIpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHJvdXRlciwgdHJ1ZSkgfHwgdGhpcztcbiAgICB9XG4gICAgTWVtb3J5TG9jYXRpb25TZXJ2aWNlLnByb3RvdHlwZS5fZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXJsO1xuICAgIH07XG4gICAgTWVtb3J5TG9jYXRpb25TZXJ2aWNlLnByb3RvdHlwZS5fc2V0ID0gZnVuY3Rpb24gKHN0YXRlLCB0aXRsZSwgdXJsLCByZXBsYWNlKSB7XG4gICAgICAgIHRoaXMuX3VybCA9IHVybDtcbiAgICB9O1xuICAgIHJldHVybiBNZW1vcnlMb2NhdGlvblNlcnZpY2U7XG59KGJhc2VMb2NhdGlvblNlcnZpY2VfMS5CYXNlTG9jYXRpb25TZXJ2aWNlcykpO1xuZXhwb3J0cy5NZW1vcnlMb2NhdGlvblNlcnZpY2UgPSBNZW1vcnlMb2NhdGlvblNlcnZpY2U7XG5cbn0se1wiLi9iYXNlTG9jYXRpb25TZXJ2aWNlXCI6NjR9XSw3MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAaW50ZXJuYWxhcGkgQG1vZHVsZSB2YW5pbGxhICovIC8qKiAqL1xudmFyIGJyb3dzZXJMb2NhdGlvbkNvbmZpZ18xID0gcmVxdWlyZShcIi4vYnJvd3NlckxvY2F0aW9uQ29uZmlnXCIpO1xudmFyIGhhc2hMb2NhdGlvblNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL2hhc2hMb2NhdGlvblNlcnZpY2VcIik7XG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xudmFyIHB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZV8xID0gcmVxdWlyZShcIi4vcHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlXCIpO1xudmFyIG1lbW9yeUxvY2F0aW9uU2VydmljZV8xID0gcmVxdWlyZShcIi4vbWVtb3J5TG9jYXRpb25TZXJ2aWNlXCIpO1xudmFyIG1lbW9yeUxvY2F0aW9uQ29uZmlnXzEgPSByZXF1aXJlKFwiLi9tZW1vcnlMb2NhdGlvbkNvbmZpZ1wiKTtcbnZhciBpbmplY3Rvcl8xID0gcmVxdWlyZShcIi4vaW5qZWN0b3JcIik7XG52YXIgcV8xID0gcmVxdWlyZShcIi4vcVwiKTtcbnZhciBjb3Jlc2VydmljZXNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCIpO1xuZnVuY3Rpb24gc2VydmljZXNQbHVnaW4ocm91dGVyKSB7XG4gICAgY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJGluamVjdG9yID0gaW5qZWN0b3JfMS4kaW5qZWN0b3I7XG4gICAgY29yZXNlcnZpY2VzXzEuc2VydmljZXMuJHEgPSBxXzEuJHE7XG4gICAgcmV0dXJuIHsgbmFtZTogJ3ZhbmlsbGEuc2VydmljZXMnLCAkcTogcV8xLiRxLCAkaW5qZWN0b3I6IGluamVjdG9yXzEuJGluamVjdG9yLCBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9IH07XG59XG5leHBvcnRzLnNlcnZpY2VzUGx1Z2luID0gc2VydmljZXNQbHVnaW47XG4vKiogQSBgVUlSb3V0ZXJQbHVnaW5gIHVzZXMgdGhlIGJyb3dzZXIgaGFzaCB0byBnZXQvc2V0IHRoZSBjdXJyZW50IGxvY2F0aW9uICovXG5leHBvcnRzLmhhc2hMb2NhdGlvblBsdWdpbiA9IHV0aWxzXzEubG9jYXRpb25QbHVnaW5GYWN0b3J5KCd2YW5pbGxhLmhhc2hCYW5nTG9jYXRpb24nLCBmYWxzZSwgaGFzaExvY2F0aW9uU2VydmljZV8xLkhhc2hMb2NhdGlvblNlcnZpY2UsIGJyb3dzZXJMb2NhdGlvbkNvbmZpZ18xLkJyb3dzZXJMb2NhdGlvbkNvbmZpZyk7XG4vKiogQSBgVUlSb3V0ZXJQbHVnaW5gIHRoYXQgZ2V0cy9zZXRzIHRoZSBjdXJyZW50IGxvY2F0aW9uIHVzaW5nIHRoZSBicm93c2VyJ3MgYGxvY2F0aW9uYCBhbmQgYGhpc3RvcnlgIGFwaXMgKi9cbmV4cG9ydHMucHVzaFN0YXRlTG9jYXRpb25QbHVnaW4gPSB1dGlsc18xLmxvY2F0aW9uUGx1Z2luRmFjdG9yeSgndmFuaWxsYS5wdXNoU3RhdGVMb2NhdGlvbicsIHRydWUsIHB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZV8xLlB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZSwgYnJvd3NlckxvY2F0aW9uQ29uZmlnXzEuQnJvd3NlckxvY2F0aW9uQ29uZmlnKTtcbi8qKiBBIGBVSVJvdXRlclBsdWdpbmAgdGhhdCBnZXRzL3NldHMgdGhlIGN1cnJlbnQgbG9jYXRpb24gZnJvbSBhbiBpbi1tZW1vcnkgb2JqZWN0ICovXG5leHBvcnRzLm1lbW9yeUxvY2F0aW9uUGx1Z2luID0gdXRpbHNfMS5sb2NhdGlvblBsdWdpbkZhY3RvcnkoJ3ZhbmlsbGEubWVtb3J5TG9jYXRpb24nLCBmYWxzZSwgbWVtb3J5TG9jYXRpb25TZXJ2aWNlXzEuTWVtb3J5TG9jYXRpb25TZXJ2aWNlLCBtZW1vcnlMb2NhdGlvbkNvbmZpZ18xLk1lbW9yeUxvY2F0aW9uQ29uZmlnKTtcblxufSx7XCIuLi9jb21tb24vY29yZXNlcnZpY2VzXCI6NCxcIi4vYnJvd3NlckxvY2F0aW9uQ29uZmlnXCI6NjUsXCIuL2hhc2hMb2NhdGlvblNlcnZpY2VcIjo2NixcIi4vaW5qZWN0b3JcIjo2OCxcIi4vbWVtb3J5TG9jYXRpb25Db25maWdcIjo2OSxcIi4vbWVtb3J5TG9jYXRpb25TZXJ2aWNlXCI6NzAsXCIuL3B1c2hTdGF0ZUxvY2F0aW9uU2VydmljZVwiOjcyLFwiLi9xXCI6NzMsXCIuL3V0aWxzXCI6NzR9XSw3MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGJhc2VMb2NhdGlvblNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL2Jhc2VMb2NhdGlvblNlcnZpY2VcIik7XG52YXIgY29tbW9uXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uXCIpO1xuLyoqXG4gKiBBIGBMb2NhdGlvblNlcnZpY2VzYCB0aGF0IGdldHMvc2V0cyB0aGUgY3VycmVudCBsb2NhdGlvbiB1c2luZyB0aGUgYnJvd3NlcidzIGBsb2NhdGlvbmAgYW5kIGBoaXN0b3J5YCBhcGlzXG4gKlxuICogVXNlcyBgaGlzdG9yeS5wdXNoU3RhdGVgIGFuZCBgaGlzdG9yeS5yZXBsYWNlU3RhdGVgXG4gKi9cbnZhciBQdXNoU3RhdGVMb2NhdGlvblNlcnZpY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQdXNoU3RhdGVMb2NhdGlvblNlcnZpY2Uocm91dGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJvdXRlciwgdHJ1ZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2NvbmZpZyA9IHJvdXRlci51cmxTZXJ2aWNlLmNvbmZpZztcbiAgICAgICAgY29tbW9uXzEucm9vdC5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIF90aGlzLl9saXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGJhc2UgcHJlZml4IHdpdGhvdXQ6XG4gICAgICogLSB0cmFpbGluZyBzbGFzaFxuICAgICAqIC0gdHJhaWxpbmcgZmlsZW5hbWVcbiAgICAgKiAtIHByb3RvY29sIGFuZCBob3N0bmFtZVxuICAgICAqXG4gICAgICogSWYgPGJhc2UgaHJlZj0nL2Jhc2UvJz4sIHRoaXMgcmV0dXJucyAnL2Jhc2UnLlxuICAgICAqIElmIDxiYXNlIGhyZWY9Jy9mb28vYmFzZS8nPiwgdGhpcyByZXR1cm5zICcvZm9vL2Jhc2UnLlxuICAgICAqIElmIDxiYXNlIGhyZWY9Jy9iYXNlL2luZGV4Lmh0bWwnPiwgdGhpcyByZXR1cm5zICcvYmFzZScuXG4gICAgICogSWYgPGJhc2UgaHJlZj0naHR0cDovL2xvY2FsaG9zdDo4MDgwL2Jhc2UvaW5kZXguaHRtbCc+LCB0aGlzIHJldHVybnMgJy9iYXNlJy5cbiAgICAgKiBJZiA8YmFzZSBocmVmPScvYmFzZSc+LCB0aGlzIHJldHVybnMgJycuXG4gICAgICogSWYgPGJhc2UgaHJlZj0naHR0cDovL2xvY2FsaG9zdDo4MDgwJz4sIHRoaXMgcmV0dXJucyAnJy5cbiAgICAgKiBJZiA8YmFzZSBocmVmPSdodHRwOi8vbG9jYWxob3N0OjgwODAvJz4sIHRoaXMgcmV0dXJucyAnJy5cbiAgICAgKlxuICAgICAqIFNlZTogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9kZXYvc2VtYW50aWNzLmh0bWwjdGhlLWJhc2UtZWxlbWVudFxuICAgICAqL1xuICAgIFB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZS5wcm90b3R5cGUuX2dldEJhc2VQcmVmaXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjb21tb25fMS5zdHJpcExhc3RQYXRoRWxlbWVudCh0aGlzLl9jb25maWcuYmFzZUhyZWYoKSk7XG4gICAgfTtcbiAgICBQdXNoU3RhdGVMb2NhdGlvblNlcnZpY2UucHJvdG90eXBlLl9nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMuX2xvY2F0aW9uLCBwYXRobmFtZSA9IF9hLnBhdGhuYW1lLCBoYXNoID0gX2EuaGFzaCwgc2VhcmNoID0gX2Euc2VhcmNoO1xuICAgICAgICBzZWFyY2ggPSBjb21tb25fMS5zcGxpdFF1ZXJ5KHNlYXJjaClbMV07IC8vIHN0cmlwID8gaWYgZm91bmRcbiAgICAgICAgaGFzaCA9IGNvbW1vbl8xLnNwbGl0SGFzaChoYXNoKVsxXTsgLy8gc3RyaXAgIyBpZiBmb3VuZFxuICAgICAgICB2YXIgYmFzZVByZWZpeCA9IHRoaXMuX2dldEJhc2VQcmVmaXgoKTtcbiAgICAgICAgdmFyIGV4YWN0QmFzZUhyZWZNYXRjaCA9IHBhdGhuYW1lID09PSB0aGlzLl9jb25maWcuYmFzZUhyZWYoKTtcbiAgICAgICAgdmFyIHN0YXJ0c1dpdGhCYXNlID0gcGF0aG5hbWUuc3Vic3RyKDAsIGJhc2VQcmVmaXgubGVuZ3RoKSA9PT0gYmFzZVByZWZpeDtcbiAgICAgICAgcGF0aG5hbWUgPSBleGFjdEJhc2VIcmVmTWF0Y2ggPyAnLycgOiBzdGFydHNXaXRoQmFzZSA/IHBhdGhuYW1lLnN1YnN0cmluZyhiYXNlUHJlZml4Lmxlbmd0aCkgOiBwYXRobmFtZTtcbiAgICAgICAgcmV0dXJuIHBhdGhuYW1lICsgKHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnKSArIChoYXNoID8gJyMnICsgaGFzaCA6ICcnKTtcbiAgICB9O1xuICAgIFB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZS5wcm90b3R5cGUuX3NldCA9IGZ1bmN0aW9uIChzdGF0ZSwgdGl0bGUsIHVybCwgcmVwbGFjZSkge1xuICAgICAgICB2YXIgYmFzZVByZWZpeCA9IHRoaXMuX2dldEJhc2VQcmVmaXgoKTtcbiAgICAgICAgdmFyIHNsYXNoID0gdXJsICYmIHVybFswXSAhPT0gJy8nID8gJy8nIDogJyc7XG4gICAgICAgIHZhciBmdWxsVXJsID0gdXJsID09PSAnJyB8fCB1cmwgPT09ICcvJyA/IHRoaXMuX2NvbmZpZy5iYXNlSHJlZigpIDogYmFzZVByZWZpeCArIHNsYXNoICsgdXJsO1xuICAgICAgICBpZiAocmVwbGFjZSkge1xuICAgICAgICAgICAgdGhpcy5faGlzdG9yeS5yZXBsYWNlU3RhdGUoc3RhdGUsIHRpdGxlLCBmdWxsVXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2hpc3RvcnkucHVzaFN0YXRlKHN0YXRlLCB0aXRsZSwgZnVsbFVybCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIChyb3V0ZXIpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcywgcm91dGVyKTtcbiAgICAgICAgY29tbW9uXzEucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIHRoaXMuX2xpc3RlbmVyKTtcbiAgICB9O1xuICAgIHJldHVybiBQdXNoU3RhdGVMb2NhdGlvblNlcnZpY2U7XG59KGJhc2VMb2NhdGlvblNlcnZpY2VfMS5CYXNlTG9jYXRpb25TZXJ2aWNlcykpO1xuZXhwb3J0cy5QdXNoU3RhdGVMb2NhdGlvblNlcnZpY2UgPSBQdXNoU3RhdGVMb2NhdGlvblNlcnZpY2U7XG5cbn0se1wiLi4vY29tbW9uXCI6NyxcIi4vYmFzZUxvY2F0aW9uU2VydmljZVwiOjY0fV0sNzM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQGludGVybmFsYXBpIEBtb2R1bGUgdmFuaWxsYSAqLyAvKiogKi9cbnZhciBpbmRleF8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9pbmRleFwiKTtcbi8qKlxuICogQW4gYW5ndWxhcjEtbGlrZSBwcm9taXNlIGFwaVxuICpcbiAqIFRoaXMgb2JqZWN0IGltcGxlbWVudHMgZm91ciBtZXRob2RzIHNpbWlsYXIgdG8gdGhlXG4gKiBbYW5ndWxhciAxIHByb21pc2UgYXBpXShodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcvc2VydmljZS8kcSlcbiAqXG4gKiBVSS1Sb3V0ZXIgZXZvbHZlZCBmcm9tIGFuIGFuZ3VsYXIgMSBsaWJyYXJ5IHRvIGEgZnJhbWV3b3JrIGFnbm9zdGljIGxpYnJhcnkuXG4gKiBIb3dldmVyLCBzb21lIG9mIHRoZSBgQHVpcm91dGVyL2NvcmVgIGNvZGUgdXNlcyB0aGVzZSBuZzEgc3R5bGUgQVBJcyB0byBzdXBwb3J0IG5nMSBzdHlsZSBkZXBlbmRlbmN5IGluamVjdGlvbi5cbiAqXG4gKiBUaGlzIEFQSSBwcm92aWRlcyBuYXRpdmUgRVM2IHByb21pc2Ugc3VwcG9ydCB3cmFwcGVkIGFzIGEgJHEtbGlrZSBBUEkuXG4gKiBJbnRlcm5hbGx5LCBVSS1Sb3V0ZXIgdXNlcyB0aGlzICRxIG9iamVjdCB0byBwZXJmb3JtIHByb21pc2Ugb3BlcmF0aW9ucy5cbiAqIFRoZSBgYW5ndWxhci11aS1yb3V0ZXJgICh1aS1yb3V0ZXIgZm9yIGFuZ3VsYXIgMSkgdXNlcyB0aGUgJHEgQVBJIHByb3ZpZGVkIGJ5IGFuZ3VsYXIuXG4gKlxuICogJHEtbGlrZSBwcm9taXNlIGFwaVxuICovXG5leHBvcnRzLiRxID0ge1xuICAgIC8qKiBOb3JtYWxpemVzIGEgdmFsdWUgYXMgYSBwcm9taXNlICovXG4gICAgd2hlbjogZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyByZXR1cm4gcmVzb2x2ZSh2YWwpOyB9KTsgfSxcbiAgICAvKiogTm9ybWFsaXplcyBhIHZhbHVlIGFzIGEgcHJvbWlzZSByZWplY3Rpb24gKi9cbiAgICByZWplY3Q6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHJlamVjdCh2YWwpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIC8qKiBAcmV0dXJucyBhIGRlZmVycmVkIG9iamVjdCwgd2hpY2ggaGFzIGByZXNvbHZlYCBhbmQgYHJlamVjdGAgZnVuY3Rpb25zICovXG4gICAgZGVmZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0ge307XG4gICAgICAgIGRlZmVycmVkLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCA9IHJlamVjdDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZDtcbiAgICB9LFxuICAgIC8qKiBMaWtlIFByb21pc2UuYWxsKCksIGJ1dCBhbHNvIHN1cHBvcnRzIG9iamVjdCBrZXkvcHJvbWlzZSBub3RhdGlvbiBsaWtlICRxICovXG4gICAgYWxsOiBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICAgICAgaWYgKGluZGV4XzEuaXNBcnJheShwcm9taXNlcykpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4XzEuaXNPYmplY3QocHJvbWlzZXMpKSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IHByb21pc2VzIG1hcCB0byBwcm9taXNlcyBhcnJheS5cbiAgICAgICAgICAgIC8vIFdoZW4gZWFjaCBwcm9taXNlIHJlc29sdmVzLCBtYXAgaXQgdG8gYSB0dXBsZSB7IGtleToga2V5LCB2YWw6IHZhbCB9XG4gICAgICAgICAgICB2YXIgY2hhaW4gPSBPYmplY3Qua2V5cyhwcm9taXNlcykubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHByb21pc2VzW2tleV0udGhlbihmdW5jdGlvbiAodmFsKSB7IHJldHVybiAoeyBrZXk6IGtleSwgdmFsOiB2YWwgfSk7IH0pOyB9KTtcbiAgICAgICAgICAgIC8vIFRoZW4gd2FpdCBmb3IgYWxsIHByb21pc2VzIHRvIHJlc29sdmUsIGFuZCBjb252ZXJ0IHRoZW0gYmFjayB0byBhbiBvYmplY3RcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLiRxLmFsbChjaGFpbikudGhlbihmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgdHVwbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYWNjW3R1cGxlLmtleV0gPSB0dXBsZS52YWw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgfSwge30pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxufSx7XCIuLi9jb21tb24vaW5kZXhcIjo3fV0sNzQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiogQGludGVybmFsYXBpIEBtb2R1bGUgdmFuaWxsYSAqLyAvKiogKi9cbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9jb21tb25cIik7XG5leHBvcnRzLmtleVZhbHNUb09iamVjdFIgPSBmdW5jdGlvbiAoYWNjdW0sIF9hKSB7XG4gICAgdmFyIGtleSA9IF9hWzBdLCB2YWwgPSBfYVsxXTtcbiAgICBpZiAoIWFjY3VtLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgYWNjdW1ba2V5XSA9IHZhbDtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29tbW9uXzEuaXNBcnJheShhY2N1bVtrZXldKSkge1xuICAgICAgICBhY2N1bVtrZXldLnB1c2godmFsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFjY3VtW2tleV0gPSBbYWNjdW1ba2V5XSwgdmFsXTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtO1xufTtcbmV4cG9ydHMuZ2V0UGFyYW1zID0gZnVuY3Rpb24gKHF1ZXJ5U3RyaW5nKSB7XG4gICAgcmV0dXJuIHF1ZXJ5U3RyaW5nXG4gICAgICAgIC5zcGxpdCgnJicpXG4gICAgICAgIC5maWx0ZXIoY29tbW9uXzEuaWRlbnRpdHkpXG4gICAgICAgIC5tYXAoY29tbW9uXzEuc3BsaXRFcXVhbClcbiAgICAgICAgLnJlZHVjZShleHBvcnRzLmtleVZhbHNUb09iamVjdFIsIHt9KTtcbn07XG5mdW5jdGlvbiBwYXJzZVVybCh1cmwpIHtcbiAgICB2YXIgb3JFbXB0eVN0cmluZyA9IGZ1bmN0aW9uICh4KSB7IHJldHVybiB4IHx8ICcnOyB9O1xuICAgIHZhciBfYSA9IGNvbW1vbl8xLnNwbGl0SGFzaCh1cmwpLm1hcChvckVtcHR5U3RyaW5nKSwgYmVmb3JlaGFzaCA9IF9hWzBdLCBoYXNoID0gX2FbMV07XG4gICAgdmFyIF9iID0gY29tbW9uXzEuc3BsaXRRdWVyeShiZWZvcmVoYXNoKS5tYXAob3JFbXB0eVN0cmluZyksIHBhdGggPSBfYlswXSwgc2VhcmNoID0gX2JbMV07XG4gICAgcmV0dXJuIHsgcGF0aDogcGF0aCwgc2VhcmNoOiBzZWFyY2gsIGhhc2g6IGhhc2gsIHVybDogdXJsIH07XG59XG5leHBvcnRzLnBhcnNlVXJsID0gcGFyc2VVcmw7XG5leHBvcnRzLmJ1aWxkVXJsID0gZnVuY3Rpb24gKGxvYykge1xuICAgIHZhciBwYXRoID0gbG9jLnBhdGgoKTtcbiAgICB2YXIgc2VhcmNoT2JqZWN0ID0gbG9jLnNlYXJjaCgpO1xuICAgIHZhciBoYXNoID0gbG9jLmhhc2goKTtcbiAgICB2YXIgc2VhcmNoID0gT2JqZWN0LmtleXMoc2VhcmNoT2JqZWN0KVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHBhcmFtID0gc2VhcmNoT2JqZWN0W2tleV07XG4gICAgICAgIHZhciB2YWxzID0gY29tbW9uXzEuaXNBcnJheShwYXJhbSkgPyBwYXJhbSA6IFtwYXJhbV07XG4gICAgICAgIHJldHVybiB2YWxzLm1hcChmdW5jdGlvbiAodmFsKSB7IHJldHVybiBrZXkgKyAnPScgKyB2YWw7IH0pO1xuICAgIH0pXG4gICAgICAgIC5yZWR1Y2UoY29tbW9uXzEudW5uZXN0UiwgW10pXG4gICAgICAgIC5qb2luKCcmJyk7XG4gICAgcmV0dXJuIHBhdGggKyAoc2VhcmNoID8gJz8nICsgc2VhcmNoIDogJycpICsgKGhhc2ggPyAnIycgKyBoYXNoIDogJycpO1xufTtcbmZ1bmN0aW9uIGxvY2F0aW9uUGx1Z2luRmFjdG9yeShuYW1lLCBpc0h0bWw1LCBzZXJ2aWNlQ2xhc3MsIGNvbmZpZ3VyYXRpb25DbGFzcykge1xuICAgIHJldHVybiBmdW5jdGlvbiAodWlSb3V0ZXIpIHtcbiAgICAgICAgdmFyIHNlcnZpY2UgPSAodWlSb3V0ZXIubG9jYXRpb25TZXJ2aWNlID0gbmV3IHNlcnZpY2VDbGFzcyh1aVJvdXRlcikpO1xuICAgICAgICB2YXIgY29uZmlndXJhdGlvbiA9ICh1aVJvdXRlci5sb2NhdGlvbkNvbmZpZyA9IG5ldyBjb25maWd1cmF0aW9uQ2xhc3ModWlSb3V0ZXIsIGlzSHRtbDUpKTtcbiAgICAgICAgZnVuY3Rpb24gZGlzcG9zZShyb3V0ZXIpIHtcbiAgICAgICAgICAgIHJvdXRlci5kaXNwb3NlKHNlcnZpY2UpO1xuICAgICAgICAgICAgcm91dGVyLmRpc3Bvc2UoY29uZmlndXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgbmFtZTogbmFtZSwgc2VydmljZTogc2VydmljZSwgY29uZmlndXJhdGlvbjogY29uZmlndXJhdGlvbiwgZGlzcG9zZTogZGlzcG9zZSB9O1xuICAgIH07XG59XG5leHBvcnRzLmxvY2F0aW9uUGx1Z2luRmFjdG9yeSA9IGxvY2F0aW9uUGx1Z2luRmFjdG9yeTtcblxufSx7XCIuLi9jb21tb25cIjo3fV0sNzU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vdmlld1wiKSk7XG5cbn0se1wiLi92aWV3XCI6NzZ9XSw3NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKiBAcHVibGljYXBpIEBtb2R1bGUgdmlldyAqLyAvKiogKi9cbnZhciBjb21tb25fMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29tbW9uXCIpO1xudmFyIGhvZl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9ob2ZcIik7XG52YXIgcHJlZGljYXRlc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9wcmVkaWNhdGVzXCIpO1xudmFyIHRyYWNlXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3RyYWNlXCIpO1xuLyoqXG4gKiBUaGUgVmlldyBzZXJ2aWNlXG4gKlxuICogVGhpcyBzZXJ2aWNlIHBhaXJzIGV4aXN0aW5nIGB1aS12aWV3YCBjb21wb25lbnRzICh3aGljaCBsaXZlIGluIHRoZSBET00pXG4gKiB3aXRoIHZpZXcgY29uZmlncyAoZnJvbSB0aGUgc3RhdGUgZGVjbGFyYXRpb24gb2JqZWN0czogW1tTdGF0ZURlY2xhcmF0aW9uLnZpZXdzXV0pLlxuICpcbiAqIC0gQWZ0ZXIgYSBzdWNjZXNzZnVsIFRyYW5zaXRpb24sIHRoZSB2aWV3cyBmcm9tIHRoZSBuZXdseSBlbnRlcmVkIHN0YXRlcyBhcmUgYWN0aXZhdGVkIHZpYSBbW2FjdGl2YXRlVmlld0NvbmZpZ11dLlxuICogICBUaGUgdmlld3MgZnJvbSBleGl0ZWQgc3RhdGVzIGFyZSBkZWFjdGl2YXRlZCB2aWEgW1tkZWFjdGl2YXRlVmlld0NvbmZpZ11dLlxuICogICAoU2VlOiB0aGUgW1tyZWdpc3RlckFjdGl2YXRlVmlld3NdXSBUcmFuc2l0aW9uIEhvb2spXG4gKlxuICogLSBBcyBgdWktdmlld2AgY29tcG9uZW50cyBwb3AgaW4gYW5kIG91dCBvZiBleGlzdGVuY2UsIHRoZXkgcmVnaXN0ZXIgdGhlbXNlbHZlcyB1c2luZyBbW3JlZ2lzdGVyVUlWaWV3XV0uXG4gKlxuICogLSBXaGVuIHRoZSBbW3N5bmNdXSBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSByZWdpc3RlcmVkIGB1aS12aWV3YChzKSAoW1tBY3RpdmVVSVZpZXddXSlcbiAqIGFyZSBjb25maWd1cmVkIHdpdGggdGhlIG1hdGNoaW5nIFtbVmlld0NvbmZpZ11dKHMpXG4gKlxuICovXG52YXIgVmlld1NlcnZpY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBmdW5jdGlvbiBWaWV3U2VydmljZSgvKiogQGhpZGRlbiAqLyByb3V0ZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gICAgICAgIC8qKiBAaGlkZGVuICovIHRoaXMuX3VpVmlld3MgPSBbXTtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi8gdGhpcy5fdmlld0NvbmZpZ3MgPSBbXTtcbiAgICAgICAgLyoqIEBoaWRkZW4gKi8gdGhpcy5fdmlld0NvbmZpZ0ZhY3RvcmllcyA9IHt9O1xuICAgICAgICAvKiogQGhpZGRlbiAqLyB0aGlzLl9saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbGFwaSAqL1xuICAgICAgICB0aGlzLl9wbHVnaW5hcGkgPSB7XG4gICAgICAgICAgICBfcm9vdFZpZXdDb250ZXh0OiB0aGlzLl9yb290Vmlld0NvbnRleHQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIF92aWV3Q29uZmlnRmFjdG9yeTogdGhpcy5fdmlld0NvbmZpZ0ZhY3RvcnkuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIF9yZWdpc3RlcmVkVUlWaWV3OiBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIGNvbW1vbl8xLmZpbmQoX3RoaXMuX3VpVmlld3MsIGZ1bmN0aW9uICh2aWV3KSB7IHJldHVybiBfdGhpcy5yb3V0ZXIuJGlkICsgXCIuXCIgKyB2aWV3LmlkID09PSBpZDsgfSk7IH0sXG4gICAgICAgICAgICBfcmVnaXN0ZXJlZFVJVmlld3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl91aVZpZXdzOyB9LFxuICAgICAgICAgICAgX2FjdGl2ZVZpZXdDb25maWdzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fdmlld0NvbmZpZ3M7IH0sXG4gICAgICAgICAgICBfb25TeW5jOiBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21tb25fMS5yZW1vdmVGcm9tKF90aGlzLl9saXN0ZW5lcnMsIGxpc3RlbmVyKTsgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZXMgYSB2aWV3J3MgbmFtZSBmcm9tIGEgc3RhdGUudmlld3MgY29uZmlndXJhdGlvbiBibG9jay5cbiAgICAgKlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIHVzZWQgYnkgYSBmcmFtZXdvcmsgaW1wbGVtZW50YXRpb24gdG8gY2FsY3VsYXRlIHRoZSB2YWx1ZXMgZm9yXG4gICAgICogW1tfVmlld0RlY2xhcmF0aW9uLiR1aVZpZXdOYW1lXV0gYW5kIFtbX1ZpZXdEZWNsYXJhdGlvbi4kdWlWaWV3Q29udGV4dEFuY2hvcl1dLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbnRleHQgdGhlIGNvbnRleHQgb2JqZWN0IChzdGF0ZSBkZWNsYXJhdGlvbikgdGhhdCB0aGUgdmlldyBiZWxvbmdzIHRvXG4gICAgICogQHBhcmFtIHJhd1ZpZXdOYW1lIHRoZSBuYW1lIG9mIHRoZSB2aWV3LCBhcyBkZWNsYXJlZCBpbiB0aGUgW1tTdGF0ZURlY2xhcmF0aW9uLnZpZXdzXV1cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRoZSBub3JtYWxpemVkIHVpVmlld05hbWUgYW5kIHVpVmlld0NvbnRleHRBbmNob3IgdGhhdCB0aGUgdmlldyB0YXJnZXRzXG4gICAgICovXG4gICAgVmlld1NlcnZpY2Uubm9ybWFsaXplVUlWaWV3VGFyZ2V0ID0gZnVuY3Rpb24gKGNvbnRleHQsIHJhd1ZpZXdOYW1lKSB7XG4gICAgICAgIGlmIChyYXdWaWV3TmFtZSA9PT0gdm9pZCAwKSB7IHJhd1ZpZXdOYW1lID0gJyc7IH1cbiAgICAgICAgLy8gVE9ETzogVmFsaWRhdGUgaW5jb21pbmcgdmlldyBuYW1lIHdpdGggYSByZWdleHAgdG8gYWxsb3c6XG4gICAgICAgIC8vIGV4OiBcInZpZXcubmFtZUBmb28uYmFyXCIgLCBcIl4uXi52aWV3Lm5hbWVcIiAsIFwidmlldy5uYW1lQF4uXlwiICwgXCJcIiAsXG4gICAgICAgIC8vIFwiQFwiICwgXCIkZGVmYXVsdEBeXCIgLCBcIiEkZGVmYXVsdC4kZGVmYXVsdFwiICwgXCIhZm9vLmJhclwiXG4gICAgICAgIHZhciB2aWV3QXRDb250ZXh0ID0gcmF3Vmlld05hbWUuc3BsaXQoJ0AnKTtcbiAgICAgICAgdmFyIHVpVmlld05hbWUgPSB2aWV3QXRDb250ZXh0WzBdIHx8ICckZGVmYXVsdCc7IC8vIGRlZmF1bHQgdG8gdW5uYW1lZCB2aWV3XG4gICAgICAgIHZhciB1aVZpZXdDb250ZXh0QW5jaG9yID0gcHJlZGljYXRlc18xLmlzU3RyaW5nKHZpZXdBdENvbnRleHRbMV0pID8gdmlld0F0Q29udGV4dFsxXSA6ICdeJzsgLy8gZGVmYXVsdCB0byBwYXJlbnQgY29udGV4dFxuICAgICAgICAvLyBIYW5kbGUgcmVsYXRpdmUgdmlldy1uYW1lIHN1Z2FyIHN5bnRheC5cbiAgICAgICAgLy8gTWF0Y2hlcyByYXdWaWV3TmFtZSBcIl4uXi5eLmZvby5iYXJcIiBpbnRvIGFycmF5OiBbXCJeLl4uXi5mb28uYmFyXCIsIFwiXi5eLl5cIiwgXCJmb28uYmFyXCJdLFxuICAgICAgICB2YXIgcmVsYXRpdmVWaWV3TmFtZVN1Z2FyID0gL14oXFxeKD86XFwuXFxeKSopXFwuKC4qJCkvLmV4ZWModWlWaWV3TmFtZSk7XG4gICAgICAgIGlmIChyZWxhdGl2ZVZpZXdOYW1lU3VnYXIpIHtcbiAgICAgICAgICAgIC8vIENsb2JiZXJzIGV4aXN0aW5nIGNvbnRleHRBbmNob3IgKHJhd1ZpZXdOYW1lIHZhbGlkYXRpb24gd2lsbCBmaXggdGhpcylcbiAgICAgICAgICAgIHVpVmlld0NvbnRleHRBbmNob3IgPSByZWxhdGl2ZVZpZXdOYW1lU3VnYXJbMV07IC8vIHNldCBhbmNob3IgdG8gXCJeLl4uXlwiXG4gICAgICAgICAgICB1aVZpZXdOYW1lID0gcmVsYXRpdmVWaWV3TmFtZVN1Z2FyWzJdOyAvLyBzZXQgdmlldy1uYW1lIHRvIFwiZm9vLmJhclwiXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVpVmlld05hbWUuY2hhckF0KDApID09PSAnIScpIHtcbiAgICAgICAgICAgIHVpVmlld05hbWUgPSB1aVZpZXdOYW1lLnN1YnN0cigxKTtcbiAgICAgICAgICAgIHVpVmlld0NvbnRleHRBbmNob3IgPSAnJzsgLy8gdGFyZ2V0IGFic29sdXRlbHkgZnJvbSByb290XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIHBhcmVudCByZWxhdGl2ZSB0YXJnZXRpbmcgXCJeLl4uXlwiXG4gICAgICAgIHZhciByZWxhdGl2ZU1hdGNoID0gL14oXFxeKD86XFwuXFxeKSopJC87XG4gICAgICAgIGlmIChyZWxhdGl2ZU1hdGNoLmV4ZWModWlWaWV3Q29udGV4dEFuY2hvcikpIHtcbiAgICAgICAgICAgIHZhciBhbmNob3JTdGF0ZSA9IHVpVmlld0NvbnRleHRBbmNob3Iuc3BsaXQoJy4nKS5yZWR1Y2UoZnVuY3Rpb24gKGFuY2hvciwgeCkgeyByZXR1cm4gYW5jaG9yLnBhcmVudDsgfSwgY29udGV4dCk7XG4gICAgICAgICAgICB1aVZpZXdDb250ZXh0QW5jaG9yID0gYW5jaG9yU3RhdGUubmFtZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1aVZpZXdDb250ZXh0QW5jaG9yID09PSAnLicpIHtcbiAgICAgICAgICAgIHVpVmlld0NvbnRleHRBbmNob3IgPSBjb250ZXh0Lm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdWlWaWV3TmFtZTogdWlWaWV3TmFtZSwgdWlWaWV3Q29udGV4dEFuY2hvcjogdWlWaWV3Q29udGV4dEFuY2hvciB9O1xuICAgIH07XG4gICAgLyoqIEBoaWRkZW4gKi9cbiAgICBWaWV3U2VydmljZS5wcm90b3R5cGUuX3Jvb3RWaWV3Q29udGV4dCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fcm9vdENvbnRleHQgPSBjb250ZXh0IHx8IHRoaXMuX3Jvb3RDb250ZXh0KTtcbiAgICB9O1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgVmlld1NlcnZpY2UucHJvdG90eXBlLl92aWV3Q29uZmlnRmFjdG9yeSA9IGZ1bmN0aW9uICh2aWV3VHlwZSwgZmFjdG9yeSkge1xuICAgICAgICB0aGlzLl92aWV3Q29uZmlnRmFjdG9yaWVzW3ZpZXdUeXBlXSA9IGZhY3Rvcnk7XG4gICAgfTtcbiAgICBWaWV3U2VydmljZS5wcm90b3R5cGUuY3JlYXRlVmlld0NvbmZpZyA9IGZ1bmN0aW9uIChwYXRoLCBkZWNsKSB7XG4gICAgICAgIHZhciBjZmdGYWN0b3J5ID0gdGhpcy5fdmlld0NvbmZpZ0ZhY3Rvcmllc1tkZWNsLiR0eXBlXTtcbiAgICAgICAgaWYgKCFjZmdGYWN0b3J5KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWaWV3U2VydmljZTogTm8gdmlldyBjb25maWcgZmFjdG9yeSByZWdpc3RlcmVkIGZvciB0eXBlICcgKyBkZWNsLiR0eXBlKTtcbiAgICAgICAgdmFyIGNmZ3MgPSBjZmdGYWN0b3J5KHBhdGgsIGRlY2wpO1xuICAgICAgICByZXR1cm4gcHJlZGljYXRlc18xLmlzQXJyYXkoY2ZncykgPyBjZmdzIDogW2NmZ3NdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVhY3RpdmF0ZXMgYSBWaWV3Q29uZmlnLlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBkZWFjdGl2YXRlcyBhIGBWaWV3Q29uZmlnYC5cbiAgICAgKiBBZnRlciBjYWxsaW5nIFtbc3luY11dLCBpdCB3aWxsIHVuLXBhaXIgZnJvbSBhbnkgYHVpLXZpZXdgIHdpdGggd2hpY2ggaXQgaXMgY3VycmVudGx5IHBhaXJlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2aWV3Q29uZmlnIFRoZSBWaWV3Q29uZmlnIHZpZXcgdG8gZGVyZWdpc3Rlci5cbiAgICAgKi9cbiAgICBWaWV3U2VydmljZS5wcm90b3R5cGUuZGVhY3RpdmF0ZVZpZXdDb25maWcgPSBmdW5jdGlvbiAodmlld0NvbmZpZykge1xuICAgICAgICB0cmFjZV8xLnRyYWNlLnRyYWNlVmlld1NlcnZpY2VFdmVudCgnPC0gUmVtb3ZpbmcnLCB2aWV3Q29uZmlnKTtcbiAgICAgICAgY29tbW9uXzEucmVtb3ZlRnJvbSh0aGlzLl92aWV3Q29uZmlncywgdmlld0NvbmZpZyk7XG4gICAgfTtcbiAgICBWaWV3U2VydmljZS5wcm90b3R5cGUuYWN0aXZhdGVWaWV3Q29uZmlnID0gZnVuY3Rpb24gKHZpZXdDb25maWcpIHtcbiAgICAgICAgdHJhY2VfMS50cmFjZS50cmFjZVZpZXdTZXJ2aWNlRXZlbnQoJy0+IFJlZ2lzdGVyaW5nJywgdmlld0NvbmZpZyk7XG4gICAgICAgIHRoaXMuX3ZpZXdDb25maWdzLnB1c2godmlld0NvbmZpZyk7XG4gICAgfTtcbiAgICBWaWV3U2VydmljZS5wcm90b3R5cGUuc3luYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHVpVmlld3NCeUZxbiA9IHRoaXMuX3VpVmlld3MubWFwKGZ1bmN0aW9uICh1aXYpIHsgcmV0dXJuIFt1aXYuZnFuLCB1aXZdOyB9KS5yZWR1Y2UoY29tbW9uXzEuYXBwbHlQYWlycywge30pO1xuICAgICAgICAvLyBSZXR1cm4gYSB3ZWlnaHRlZCBkZXB0aCB2YWx1ZSBmb3IgYSB1aVZpZXcuXG4gICAgICAgIC8vIFRoZSBkZXB0aCBpcyB0aGUgbmVzdGluZyBkZXB0aCBvZiB1aS12aWV3cyAoYmFzZWQgb24gRlFOOyB0aW1lcyAxMCwwMDApXG4gICAgICAgIC8vIHBsdXMgdGhlIGRlcHRoIG9mIHRoZSBzdGF0ZSB0aGF0IGlzIHBvcHVsYXRpbmcgdGhlIHVpVmlld1xuICAgICAgICBmdW5jdGlvbiB1aVZpZXdEZXB0aCh1aVZpZXcpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZURlcHRoID0gZnVuY3Rpb24gKGNvbnRleHQpIHsgcmV0dXJuIChjb250ZXh0ICYmIGNvbnRleHQucGFyZW50ID8gc3RhdGVEZXB0aChjb250ZXh0LnBhcmVudCkgKyAxIDogMSk7IH07XG4gICAgICAgICAgICByZXR1cm4gdWlWaWV3LmZxbi5zcGxpdCgnLicpLmxlbmd0aCAqIDEwMDAwICsgc3RhdGVEZXB0aCh1aVZpZXcuY3JlYXRpb25Db250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXR1cm4gdGhlIFZpZXdDb25maWcncyBjb250ZXh0J3MgZGVwdGggaW4gdGhlIGNvbnRleHQgdHJlZS5cbiAgICAgICAgZnVuY3Rpb24gdmlld0NvbmZpZ0RlcHRoKGNvbmZpZykge1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBjb25maWcudmlld0RlY2wuJGNvbnRleHQsIGNvdW50ID0gMDtcbiAgICAgICAgICAgIHdoaWxlICgrK2NvdW50ICYmIGNvbnRleHQucGFyZW50KVxuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnBhcmVudDtcbiAgICAgICAgICAgIHJldHVybiBjb3VudDtcbiAgICAgICAgfVxuICAgICAgICAvLyBHaXZlbiBhIGRlcHRoIGZ1bmN0aW9uLCByZXR1cm5zIGEgY29tcGFyZSBmdW5jdGlvbiB3aGljaCBjYW4gcmV0dXJuIGVpdGhlciBhc2NlbmRpbmcgb3IgZGVzY2VuZGluZyBvcmRlclxuICAgICAgICB2YXIgZGVwdGhDb21wYXJlID0gaG9mXzEuY3VycnkoZnVuY3Rpb24gKGRlcHRoRm4sIHBvc05lZywgbGVmdCwgcmlnaHQpIHsgcmV0dXJuIHBvc05lZyAqIChkZXB0aEZuKGxlZnQpIC0gZGVwdGhGbihyaWdodCkpOyB9KTtcbiAgICAgICAgdmFyIG1hdGNoaW5nQ29uZmlnUGFpciA9IGZ1bmN0aW9uICh1aVZpZXcpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGluZ0NvbmZpZ3MgPSBfdGhpcy5fdmlld0NvbmZpZ3MuZmlsdGVyKFZpZXdTZXJ2aWNlLm1hdGNoZXModWlWaWV3c0J5RnFuLCB1aVZpZXcpKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZ0NvbmZpZ3MubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgT0suICBDaGlsZCBzdGF0ZXMgY2FuIHRhcmdldCBhIHVpLXZpZXcgdGhhdCB0aGUgcGFyZW50IHN0YXRlIGFsc28gdGFyZ2V0cyAodGhlIGNoaWxkIHdpbnMpXG4gICAgICAgICAgICAgICAgLy8gU29ydCBieSBkZXB0aCBhbmQgcmV0dXJuIHRoZSBtYXRjaCBmcm9tIHRoZSBkZWVwZXN0IGNoaWxkXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYE11bHRpcGxlIG1hdGNoaW5nIHZpZXcgY29uZmlncyBmb3IgJHt1aVZpZXcuZnFufWAsIG1hdGNoaW5nQ29uZmlncyk7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdDb25maWdzLnNvcnQoZGVwdGhDb21wYXJlKHZpZXdDb25maWdEZXB0aCwgLTEpKTsgLy8gZGVzY2VuZGluZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgdWlWaWV3OiB1aVZpZXcsIHZpZXdDb25maWc6IG1hdGNoaW5nQ29uZmlnc1swXSB9O1xuICAgICAgICB9O1xuICAgICAgICB2YXIgY29uZmlndXJlVUlWaWV3ID0gZnVuY3Rpb24gKHR1cGxlKSB7XG4gICAgICAgICAgICAvLyBJZiBhIHBhcmVudCB1aS12aWV3IGlzIHJlY29uZmlndXJlZCwgaXQgY291bGQgZGVzdHJveSBjaGlsZCB1aS12aWV3cy5cbiAgICAgICAgICAgIC8vIEJlZm9yZSBjb25maWd1cmluZyBhIGNoaWxkIHVpLXZpZXcsIG1ha2Ugc3VyZSBpdCdzIHN0aWxsIGluIHRoZSBhY3RpdmUgdWlWaWV3cyBhcnJheS5cbiAgICAgICAgICAgIGlmIChfdGhpcy5fdWlWaWV3cy5pbmRleE9mKHR1cGxlLnVpVmlldykgIT09IC0xKVxuICAgICAgICAgICAgICAgIHR1cGxlLnVpVmlldy5jb25maWdVcGRhdGVkKHR1cGxlLnZpZXdDb25maWcpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBTb3J0IHZpZXdzIGJ5IEZRTiBhbmQgc3RhdGUgZGVwdGguIFByb2Nlc3MgdWl2aWV3cyBuZWFyZXN0IHRoZSByb290IGZpcnN0LlxuICAgICAgICB2YXIgdWlWaWV3VHVwbGVzID0gdGhpcy5fdWlWaWV3cy5zb3J0KGRlcHRoQ29tcGFyZSh1aVZpZXdEZXB0aCwgMSkpLm1hcChtYXRjaGluZ0NvbmZpZ1BhaXIpO1xuICAgICAgICB2YXIgbWF0Y2hlZFZpZXdDb25maWdzID0gdWlWaWV3VHVwbGVzLm1hcChmdW5jdGlvbiAodHVwbGUpIHsgcmV0dXJuIHR1cGxlLnZpZXdDb25maWc7IH0pO1xuICAgICAgICB2YXIgdW5tYXRjaGVkQ29uZmlnVHVwbGVzID0gdGhpcy5fdmlld0NvbmZpZ3NcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGNvbmZpZykgeyByZXR1cm4gIWNvbW1vbl8xLmluQXJyYXkobWF0Y2hlZFZpZXdDb25maWdzLCBjb25maWcpOyB9KVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodmlld0NvbmZpZykgeyByZXR1cm4gKHsgdWlWaWV3OiB1bmRlZmluZWQsIHZpZXdDb25maWc6IHZpZXdDb25maWcgfSk7IH0pO1xuICAgICAgICB1aVZpZXdUdXBsZXMuZm9yRWFjaChjb25maWd1cmVVSVZpZXcpO1xuICAgICAgICB2YXIgYWxsVHVwbGVzID0gdWlWaWV3VHVwbGVzLmNvbmNhdCh1bm1hdGNoZWRDb25maWdUdXBsZXMpO1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHsgcmV0dXJuIGNiKGFsbFR1cGxlcyk7IH0pO1xuICAgICAgICB0cmFjZV8xLnRyYWNlLnRyYWNlVmlld1N5bmMoYWxsVHVwbGVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGB1aS12aWV3YCBjb21wb25lbnRcbiAgICAgKlxuICAgICAqIFdoZW4gYSBgdWktdmlld2AgY29tcG9uZW50IGlzIGNyZWF0ZWQsIGl0IHVzZXMgdGhpcyBtZXRob2QgdG8gcmVnaXN0ZXIgaXRzZWxmLlxuICAgICAqIEFmdGVyIHJlZ2lzdHJhdGlvbiB0aGUgW1tzeW5jXV0gbWV0aG9kIGlzIHVzZWQgdG8gZW5zdXJlIGFsbCBgdWktdmlld2AgYXJlIGNvbmZpZ3VyZWQgd2l0aCB0aGUgcHJvcGVyIFtbVmlld0NvbmZpZ11dLlxuICAgICAqXG4gICAgICogTm90ZTogdGhlIGB1aS12aWV3YCBjb21wb25lbnQgdXNlcyB0aGUgYFZpZXdDb25maWdgIHRvIGRldGVybWluZSB3aGF0IHZpZXcgc2hvdWxkIGJlIGxvYWRlZCBpbnNpZGUgdGhlIGB1aS12aWV3YCxcbiAgICAgKiBhbmQgd2hhdCB0aGUgdmlldydzIHN0YXRlIGNvbnRleHQgaXMuXG4gICAgICpcbiAgICAgKiBOb3RlOiBUaGVyZSBpcyBubyBjb3JyZXNwb25kaW5nIGBkZXJlZ2lzdGVyVUlWaWV3YC5cbiAgICAgKiAgICAgICBBIGB1aS12aWV3YCBzaG91bGQgaGFuZyBvbiB0byB0aGUgcmV0dXJuIHZhbHVlIG9mIGByZWdpc3RlclVJVmlld2AgYW5kIGludm9rZSBpdCB0byBkZXJlZ2lzdGVyIGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB1aVZpZXcgVGhlIG1ldGFkYXRhIGZvciBhIFVJVmlld1xuICAgICAqIEByZXR1cm4gYSBkZS1yZWdpc3RyYXRpb24gZnVuY3Rpb24gdXNlZCB3aGVuIHRoZSB2aWV3IGlzIGRlc3Ryb3llZC5cbiAgICAgKi9cbiAgICBWaWV3U2VydmljZS5wcm90b3R5cGUucmVnaXN0ZXJVSVZpZXcgPSBmdW5jdGlvbiAodWlWaWV3KSB7XG4gICAgICAgIHRyYWNlXzEudHJhY2UudHJhY2VWaWV3U2VydmljZVVJVmlld0V2ZW50KCctPiBSZWdpc3RlcmluZycsIHVpVmlldyk7XG4gICAgICAgIHZhciB1aVZpZXdzID0gdGhpcy5fdWlWaWV3cztcbiAgICAgICAgdmFyIGZxbkFuZFR5cGVNYXRjaGVzID0gZnVuY3Rpb24gKHVpdikgeyByZXR1cm4gdWl2LmZxbiA9PT0gdWlWaWV3LmZxbiAmJiB1aXYuJHR5cGUgPT09IHVpVmlldy4kdHlwZTsgfTtcbiAgICAgICAgaWYgKHVpVmlld3MuZmlsdGVyKGZxbkFuZFR5cGVNYXRjaGVzKS5sZW5ndGgpXG4gICAgICAgICAgICB0cmFjZV8xLnRyYWNlLnRyYWNlVmlld1NlcnZpY2VVSVZpZXdFdmVudCgnISEhISBkdXBsaWNhdGUgdWlWaWV3IG5hbWVkOicsIHVpVmlldyk7XG4gICAgICAgIHVpVmlld3MucHVzaCh1aVZpZXcpO1xuICAgICAgICB0aGlzLnN5bmMoKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpZHggPSB1aVZpZXdzLmluZGV4T2YodWlWaWV3KTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdHJhY2VfMS50cmFjZS50cmFjZVZpZXdTZXJ2aWNlVUlWaWV3RXZlbnQoJ1RyaWVkIHJlbW92aW5nIG5vbi1yZWdpc3RlcmVkIHVpVmlldycsIHVpVmlldyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2VfMS50cmFjZS50cmFjZVZpZXdTZXJ2aWNlVUlWaWV3RXZlbnQoJzwtIERlcmVnaXN0ZXJpbmcnLCB1aVZpZXcpO1xuICAgICAgICAgICAgY29tbW9uXzEucmVtb3ZlRnJvbSh1aVZpZXdzKSh1aVZpZXcpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGlzdCBvZiB2aWV3cyBjdXJyZW50bHkgYXZhaWxhYmxlIG9uIHRoZSBwYWdlLCBieSBmdWxseS1xdWFsaWZpZWQgbmFtZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIGZ1bGx5LXF1YWxpZmllZCB2aWV3IG5hbWVzLlxuICAgICAqL1xuICAgIFZpZXdTZXJ2aWNlLnByb3RvdHlwZS5hdmFpbGFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91aVZpZXdzLm1hcChob2ZfMS5wcm9wKCdmcW4nKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHZpZXdzIG9uIHRoZSBwYWdlIGNvbnRhaW5pbmcgbG9hZGVkIGNvbnRlbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBmdWxseS1xdWFsaWZpZWQgdmlldyBuYW1lcy5cbiAgICAgKi9cbiAgICBWaWV3U2VydmljZS5wcm90b3R5cGUuYWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdWlWaWV3cy5maWx0ZXIoaG9mXzEucHJvcCgnJGNvbmZpZycpKS5tYXAoaG9mXzEucHJvcCgnbmFtZScpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgdWktdmlldyBhbmQgYSBWaWV3Q29uZmlnLCBkZXRlcm1pbmVzIGlmIHRoZXkgXCJtYXRjaFwiLlxuICAgICAqXG4gICAgICogQSB1aS12aWV3IGhhcyBhIGZ1bGx5IHF1YWxpZmllZCBuYW1lIChmcW4pIGFuZCBhIGNvbnRleHQgb2JqZWN0LiAgVGhlIGZxbiBpcyBidWlsdCBmcm9tIGl0cyBvdmVyYWxsIGxvY2F0aW9uIGluXG4gICAgICogdGhlIERPTSwgZGVzY3JpYmluZyBpdHMgbmVzdGluZyByZWxhdGlvbnNoaXAgdG8gYW55IHBhcmVudCB1aS12aWV3IHRhZ3MgaXQgaXMgbmVzdGVkIGluc2lkZSBvZi5cbiAgICAgKlxuICAgICAqIEEgVmlld0NvbmZpZyBoYXMgYSB0YXJnZXQgdWktdmlldyBuYW1lIGFuZCBhIGNvbnRleHQgYW5jaG9yLiAgVGhlIHVpLXZpZXcgbmFtZSBjYW4gYmUgYSBzaW1wbGUgbmFtZSwgb3JcbiAgICAgKiBjYW4gYmUgYSBzZWdtZW50ZWQgdWktdmlldyBwYXRoLCBkZXNjcmliaW5nIGEgcG9ydGlvbiBvZiBhIHVpLXZpZXcgZnFuLlxuICAgICAqXG4gICAgICogSW4gb3JkZXIgZm9yIGEgdWktdmlldyB0byBtYXRjaCBWaWV3Q29uZmlnLCB1aS12aWV3J3MgJHR5cGUgbXVzdCBtYXRjaCB0aGUgVmlld0NvbmZpZydzICR0eXBlXG4gICAgICpcbiAgICAgKiBJZiB0aGUgVmlld0NvbmZpZydzIHRhcmdldCB1aS12aWV3IG5hbWUgaXMgYSBzaW1wbGUgbmFtZSAobm8gZG90cyksIHRoZW4gYSB1aS12aWV3IG1hdGNoZXMgaWY6XG4gICAgICogLSB0aGUgdWktdmlldydzIG5hbWUgbWF0Y2hlcyB0aGUgVmlld0NvbmZpZydzIHRhcmdldCBuYW1lXG4gICAgICogLSB0aGUgdWktdmlldydzIGNvbnRleHQgbWF0Y2hlcyB0aGUgVmlld0NvbmZpZydzIGFuY2hvclxuICAgICAqXG4gICAgICogSWYgdGhlIFZpZXdDb25maWcncyB0YXJnZXQgdWktdmlldyBuYW1lIGlzIGEgc2VnbWVudGVkIG5hbWUgKHdpdGggZG90cyksIHRoZW4gYSB1aS12aWV3IG1hdGNoZXMgaWY6XG4gICAgICogLSBUaGVyZSBleGlzdHMgYSBwYXJlbnQgdWktdmlldyB3aGVyZTpcbiAgICAgKiAgICAtIHRoZSBwYXJlbnQgdWktdmlldydzIG5hbWUgbWF0Y2hlcyB0aGUgZmlyc3Qgc2VnbWVudCAoaW5kZXggMCkgb2YgdGhlIFZpZXdDb25maWcncyB0YXJnZXQgbmFtZVxuICAgICAqICAgIC0gdGhlIHBhcmVudCB1aS12aWV3J3MgY29udGV4dCBtYXRjaGVzIHRoZSBWaWV3Q29uZmlnJ3MgYW5jaG9yXG4gICAgICogLSBBbmQgdGhlIHJlbWFpbmluZyBzZWdtZW50cyAoaW5kZXggMS4ubikgb2YgdGhlIFZpZXdDb25maWcncyB0YXJnZXQgbmFtZSBtYXRjaCB0aGUgdGFpbCBvZiB0aGUgdWktdmlldydzIGZxblxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKlxuICAgICAqIERPTTpcbiAgICAgKiA8dWktdmlldz4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIGNyZWF0ZWQgaW4gdGhlIHJvb3QgY29udGV4dCAobmFtZTogXCJcIikgLS0+XG4gICAgICogICA8dWktdmlldyBuYW1lPVwiZm9vXCI+ICAgICAgICAgICAgICAgIDwhLS0gY3JlYXRlZCBpbiB0aGUgY29udGV4dCBuYW1lZDogXCJBXCIgICAgICAtLT5cbiAgICAgKiAgICAgPHVpLXZpZXc+ICAgICAgICAgICAgICAgICAgICA8IS0tIGNyZWF0ZWQgaW4gdGhlIGNvbnRleHQgbmFtZWQ6IFwiQS5CXCIgICAgLS0+XG4gICAgICogICAgICAgPHVpLXZpZXcgbmFtZT1cImJhclwiPiAgICAgICAgICAgIDwhLS0gY3JlYXRlZCBpbiB0aGUgY29udGV4dCBuYW1lZDogXCJBLkIuQ1wiICAtLT5cbiAgICAgKiAgICAgICA8L3VpLXZpZXc+XG4gICAgICogICAgIDwvdWktdmlldz5cbiAgICAgKiAgIDwvdWktdmlldz5cbiAgICAgKiA8L3VpLXZpZXc+XG4gICAgICpcbiAgICAgKiB1aVZpZXdzOiBbXG4gICAgICogIHsgZnFuOiBcIiRkZWZhdWx0XCIsICAgICAgICAgICAgICAgICAgY3JlYXRpb25Db250ZXh0OiB7IG5hbWU6IFwiXCIgfSB9LFxuICAgICAqICB7IGZxbjogXCIkZGVmYXVsdC5mb29cIiwgICAgICAgICAgICAgIGNyZWF0aW9uQ29udGV4dDogeyBuYW1lOiBcIkFcIiB9IH0sXG4gICAgICogIHsgZnFuOiBcIiRkZWZhdWx0LmZvby4kZGVmYXVsdFwiLCAgICAgY3JlYXRpb25Db250ZXh0OiB7IG5hbWU6IFwiQS5CXCIgfSB9XG4gICAgICogIHsgZnFuOiBcIiRkZWZhdWx0LmZvby4kZGVmYXVsdC5iYXJcIiwgY3JlYXRpb25Db250ZXh0OiB7IG5hbWU6IFwiQS5CLkNcIiB9IH1cbiAgICAgKiBdXG4gICAgICpcbiAgICAgKiBUaGVzZSBmb3VyIHZpZXcgY29uZmlncyBhbGwgbWF0Y2ggdGhlIHVpLXZpZXcgd2l0aCB0aGUgZnFuOiBcIiRkZWZhdWx0LmZvby4kZGVmYXVsdC5iYXJcIjpcbiAgICAgKlxuICAgICAqIC0gVmlld0NvbmZpZzE6IHsgdWlWaWV3TmFtZTogXCJiYXJcIiwgICAgICAgICAgICAgICAgICAgICAgIHVpVmlld0NvbnRleHRBbmNob3I6IFwiQS5CLkNcIiB9XG4gICAgICogLSBWaWV3Q29uZmlnMjogeyB1aVZpZXdOYW1lOiBcIiRkZWZhdWx0LmJhclwiLCAgICAgICAgICAgICAgdWlWaWV3Q29udGV4dEFuY2hvcjogXCJBLkJcIiB9XG4gICAgICogLSBWaWV3Q29uZmlnMzogeyB1aVZpZXdOYW1lOiBcImZvby4kZGVmYXVsdC5iYXJcIiwgICAgICAgICAgdWlWaWV3Q29udGV4dEFuY2hvcjogXCJBXCIgfVxuICAgICAqIC0gVmlld0NvbmZpZzQ6IHsgdWlWaWV3TmFtZTogXCIkZGVmYXVsdC5mb28uJGRlZmF1bHQuYmFyXCIsIHVpVmlld0NvbnRleHRBbmNob3I6IFwiXCIgfVxuICAgICAqXG4gICAgICogVXNpbmcgVmlld0NvbmZpZzMgYXMgYW4gZXhhbXBsZSwgaXQgbWF0Y2hlcyB0aGUgdWktdmlldyB3aXRoIGZxbiBcIiRkZWZhdWx0LmZvby4kZGVmYXVsdC5iYXJcIiBiZWNhdXNlOlxuICAgICAqIC0gVGhlIFZpZXdDb25maWcncyBzZWdtZW50ZWQgdGFyZ2V0IG5hbWUgaXM6IFsgXCJmb29cIiwgXCIkZGVmYXVsdFwiLCBcImJhclwiIF1cbiAgICAgKiAtIFRoZXJlIGV4aXN0cyBhIHBhcmVudCB1aS12aWV3ICh3aGljaCBoYXMgZnFuOiBcIiRkZWZhdWx0LmZvb1wiKSB3aGVyZTpcbiAgICAgKiAgICAtIHRoZSBwYXJlbnQgdWktdmlldydzIG5hbWUgXCJmb29cIiBtYXRjaGVzIHRoZSBmaXJzdCBzZWdtZW50IFwiZm9vXCIgb2YgdGhlIFZpZXdDb25maWcncyB0YXJnZXQgbmFtZVxuICAgICAqICAgIC0gdGhlIHBhcmVudCB1aS12aWV3J3MgY29udGV4dCBcIkFcIiBtYXRjaGVzIHRoZSBWaWV3Q29uZmlnJ3MgYW5jaG9yIGNvbnRleHQgXCJBXCJcbiAgICAgKiAtIEFuZCB0aGUgcmVtYWluaW5nIHNlZ21lbnRzIFsgXCIkZGVmYXVsdFwiLCBcImJhclwiIF0uam9pbihcIi5cIl8gb2YgdGhlIFZpZXdDb25maWcncyB0YXJnZXQgbmFtZSBtYXRjaFxuICAgICAqICAgdGhlIHRhaWwgb2YgdGhlIHVpLXZpZXcncyBmcW4gXCJkZWZhdWx0LmJhclwiXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxhcGlcbiAgICAgKi9cbiAgICBWaWV3U2VydmljZS5tYXRjaGVzID0gZnVuY3Rpb24gKHVpVmlld3NCeUZxbiwgdWlWaWV3KSB7IHJldHVybiBmdW5jdGlvbiAodmlld0NvbmZpZykge1xuICAgICAgICAvLyBEb24ndCBzdXBwbHkgYW4gbmcxIHVpLXZpZXcgd2l0aCBhbiBuZzIgVmlld0NvbmZpZywgZXRjXG4gICAgICAgIGlmICh1aVZpZXcuJHR5cGUgIT09IHZpZXdDb25maWcudmlld0RlY2wuJHR5cGUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIFNwbGl0IG5hbWVzIGFwYXJ0IGZyb20gYm90aCB2aWV3Q29uZmlnIGFuZCB1aVZpZXcgaW50byBzZWdtZW50c1xuICAgICAgICB2YXIgdmMgPSB2aWV3Q29uZmlnLnZpZXdEZWNsO1xuICAgICAgICB2YXIgdmNTZWdtZW50cyA9IHZjLiR1aVZpZXdOYW1lLnNwbGl0KCcuJyk7XG4gICAgICAgIHZhciB1aXZTZWdtZW50cyA9IHVpVmlldy5mcW4uc3BsaXQoJy4nKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRhaWxzIG9mIHRoZSBzZWdtZW50IGFycmF5cyBtYXRjaC4gZXgsIHRoZXNlIGFycmF5cycgdGFpbHMgbWF0Y2g6XG4gICAgICAgIC8vIHZjOiBbXCJmb29cIiwgXCJiYXJcIl0sIHVpdiBmcW46IFtcIiRkZWZhdWx0XCIsIFwiZm9vXCIsIFwiYmFyXCJdXG4gICAgICAgIGlmICghY29tbW9uXzEuZXF1YWxzKHZjU2VnbWVudHMsIHVpdlNlZ21lbnRzLnNsaWNlKDAgLSB2Y1NlZ21lbnRzLmxlbmd0aCkpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBOb3cgY2hlY2sgaWYgdGhlIGZxbiBlbmRpbmcgYXQgdGhlIGZpcnN0IHNlZ21lbnQgb2YgdGhlIHZpZXdDb25maWcgbWF0Y2hlcyB0aGUgY29udGV4dDpcbiAgICAgICAgLy8gW1wiJGRlZmF1bHRcIiwgXCJmb29cIl0uam9pbihcIi5cIikgPT0gXCIkZGVmYXVsdC5mb29cIiwgZG9lcyB0aGUgdWktdmlldyAkZGVmYXVsdC5mb28gY29udGV4dCBtYXRjaD9cbiAgICAgICAgdmFyIG5lZ09mZnNldCA9IDEgLSB2Y1NlZ21lbnRzLmxlbmd0aCB8fCB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBmcW5Ub0ZpcnN0U2VnbWVudCA9IHVpdlNlZ21lbnRzLnNsaWNlKDAsIG5lZ09mZnNldCkuam9pbignLicpO1xuICAgICAgICB2YXIgdWlWaWV3Q29udGV4dCA9IHVpVmlld3NCeUZxbltmcW5Ub0ZpcnN0U2VnbWVudF0uY3JlYXRpb25Db250ZXh0O1xuICAgICAgICByZXR1cm4gdmMuJHVpVmlld0NvbnRleHRBbmNob3IgPT09ICh1aVZpZXdDb250ZXh0ICYmIHVpVmlld0NvbnRleHQubmFtZSk7XG4gICAgfTsgfTtcbiAgICByZXR1cm4gVmlld1NlcnZpY2U7XG59KCkpO1xuZXhwb3J0cy5WaWV3U2VydmljZSA9IFZpZXdTZXJ2aWNlO1xuXG59LHtcIi4uL2NvbW1vbi9jb21tb25cIjozLFwiLi4vY29tbW9uL2hvZlwiOjYsXCIuLi9jb21tb24vcHJlZGljYXRlc1wiOjgsXCIuLi9jb21tb24vdHJhY2VcIjoxMX1dLDc3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qISBtb2Rlcm5penIgMy42LjAgKEN1c3RvbSBCdWlsZCkgfCBNSVQgKlxuICogaHR0cHM6Ly9tb2Rlcm5penIuY29tL2Rvd25sb2FkLz8tYm9yZGVyaW1hZ2UtYm9yZGVycmFkaXVzLWZsZXhib3gtb3ZlcmZsb3dzY3JvbGxpbmctc21pbC1tcS1zZXRjbGFzc2VzLXNoaXYgISovXG4hZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4gdHlwZW9mIGU9PT10fWZ1bmN0aW9uIG8oKXt2YXIgZSx0LG4sbyxhLGkscztmb3IodmFyIGwgaW4gUylpZihTLmhhc093blByb3BlcnR5KGwpKXtpZihlPVtdLHQ9U1tsXSx0Lm5hbWUmJihlLnB1c2godC5uYW1lLnRvTG93ZXJDYXNlKCkpLHQub3B0aW9ucyYmdC5vcHRpb25zLmFsaWFzZXMmJnQub3B0aW9ucy5hbGlhc2VzLmxlbmd0aCkpZm9yKG49MDtuPHQub3B0aW9ucy5hbGlhc2VzLmxlbmd0aDtuKyspZS5wdXNoKHQub3B0aW9ucy5hbGlhc2VzW25dLnRvTG93ZXJDYXNlKCkpO2ZvcihvPXIodC5mbixcImZ1bmN0aW9uXCIpP3QuZm4oKTp0LmZuLGE9MDthPGUubGVuZ3RoO2ErKylpPWVbYV0scz1pLnNwbGl0KFwiLlwiKSwxPT09cy5sZW5ndGg/TW9kZXJuaXpyW3NbMF1dPW86KCFNb2Rlcm5penJbc1swXV18fE1vZGVybml6cltzWzBdXWluc3RhbmNlb2YgQm9vbGVhbnx8KE1vZGVybml6cltzWzBdXT1uZXcgQm9vbGVhbihNb2Rlcm5penJbc1swXV0pKSxNb2Rlcm5penJbc1swXV1bc1sxXV09byksYi5wdXNoKChvP1wiXCI6XCJuby1cIikrcy5qb2luKFwiLVwiKSl9fWZ1bmN0aW9uIGEoZSl7dmFyIHQ9RS5jbGFzc05hbWUsbj1Nb2Rlcm5penIuX2NvbmZpZy5jbGFzc1ByZWZpeHx8XCJcIjtpZih3JiYodD10LmJhc2VWYWwpLE1vZGVybml6ci5fY29uZmlnLmVuYWJsZUpTQ2xhc3Mpe3ZhciByPW5ldyBSZWdFeHAoXCIoXnxcXFxccylcIituK1wibm8tanMoXFxcXHN8JClcIik7dD10LnJlcGxhY2UocixcIiQxXCIrbitcImpzJDJcIil9TW9kZXJuaXpyLl9jb25maWcuZW5hYmxlQ2xhc3NlcyYmKHQrPVwiIFwiK24rZS5qb2luKFwiIFwiK24pLHc/RS5jbGFzc05hbWUuYmFzZVZhbD10OkUuY2xhc3NOYW1lPXQpfWZ1bmN0aW9uIGkoKXtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmNyZWF0ZUVsZW1lbnQ/dC5jcmVhdGVFbGVtZW50KGFyZ3VtZW50c1swXSk6dz90LmNyZWF0ZUVsZW1lbnROUy5jYWxsKHQsXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLGFyZ3VtZW50c1swXSk6dC5jcmVhdGVFbGVtZW50LmFwcGx5KHQsYXJndW1lbnRzKX1mdW5jdGlvbiBzKCl7dmFyIGU9dC5ib2R5O3JldHVybiBlfHwoZT1pKHc/XCJzdmdcIjpcImJvZHlcIiksZS5mYWtlPSEwKSxlfWZ1bmN0aW9uIGwoZSxuLHIsbyl7dmFyIGEsbCx1LGMsZj1cIm1vZGVybml6clwiLGQ9aShcImRpdlwiKSxtPXMoKTtpZihwYXJzZUludChyLDEwKSlmb3IoO3ItLTspdT1pKFwiZGl2XCIpLHUuaWQ9bz9vW3JdOmYrKHIrMSksZC5hcHBlbmRDaGlsZCh1KTtyZXR1cm4gYT1pKFwic3R5bGVcIiksYS50eXBlPVwidGV4dC9jc3NcIixhLmlkPVwic1wiK2YsKG0uZmFrZT9tOmQpLmFwcGVuZENoaWxkKGEpLG0uYXBwZW5kQ2hpbGQoZCksYS5zdHlsZVNoZWV0P2Euc3R5bGVTaGVldC5jc3NUZXh0PWU6YS5hcHBlbmRDaGlsZCh0LmNyZWF0ZVRleHROb2RlKGUpKSxkLmlkPWYsbS5mYWtlJiYobS5zdHlsZS5iYWNrZ3JvdW5kPVwiXCIsbS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLGM9RS5zdHlsZS5vdmVyZmxvdyxFLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsRS5hcHBlbmRDaGlsZChtKSksbD1uKGQsZSksbS5mYWtlPyhtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobSksRS5zdHlsZS5vdmVyZmxvdz1jLEUub2Zmc2V0SGVpZ2h0KTpkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCksISFsfWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4hIX4oXCJcIitlKS5pbmRleE9mKHQpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGUucmVwbGFjZSgvKFtBLVpdKS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuXCItXCIrdC50b0xvd2VyQ2FzZSgpfSkucmVwbGFjZSgvXm1zLS8sXCItbXMtXCIpfWZ1bmN0aW9uIGYodCxuLHIpe3ZhciBvO2lmKFwiZ2V0Q29tcHV0ZWRTdHlsZVwiaW4gZSl7bz1nZXRDb21wdXRlZFN0eWxlLmNhbGwoZSx0LG4pO3ZhciBhPWUuY29uc29sZTtpZihudWxsIT09bylyJiYobz1vLmdldFByb3BlcnR5VmFsdWUocikpO2Vsc2UgaWYoYSl7dmFyIGk9YS5lcnJvcj9cImVycm9yXCI6XCJsb2dcIjthW2ldLmNhbGwoYSxcImdldENvbXB1dGVkU3R5bGUgcmV0dXJuaW5nIG51bGwsIGl0cyBwb3NzaWJsZSBtb2Rlcm5penIgdGVzdCByZXN1bHRzIGFyZSBpbmFjY3VyYXRlXCIpfX1lbHNlIG89IW4mJnQuY3VycmVudFN0eWxlJiZ0LmN1cnJlbnRTdHlsZVtyXTtyZXR1cm4gb31mdW5jdGlvbiBkKHQscil7dmFyIG89dC5sZW5ndGg7aWYoXCJDU1NcImluIGUmJlwic3VwcG9ydHNcImluIGUuQ1NTKXtmb3IoO28tLTspaWYoZS5DU1Muc3VwcG9ydHMoYyh0W29dKSxyKSlyZXR1cm4hMDtyZXR1cm4hMX1pZihcIkNTU1N1cHBvcnRzUnVsZVwiaW4gZSl7Zm9yKHZhciBhPVtdO28tLTspYS5wdXNoKFwiKFwiK2ModFtvXSkrXCI6XCIrcitcIilcIik7cmV0dXJuIGE9YS5qb2luKFwiIG9yIFwiKSxsKFwiQHN1cHBvcnRzIChcIithK1wiKSB7ICNtb2Rlcm5penIgeyBwb3NpdGlvbjogYWJzb2x1dGU7IH0gfVwiLGZ1bmN0aW9uKGUpe3JldHVyblwiYWJzb2x1dGVcIj09ZihlLG51bGwsXCJwb3NpdGlvblwiKX0pfXJldHVybiBufWZ1bmN0aW9uIG0oZSl7cmV0dXJuIGUucmVwbGFjZSgvKFthLXpdKS0oW2Etel0pL2csZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0K24udG9VcHBlckNhc2UoKX0pLnJlcGxhY2UoL14tLyxcIlwiKX1mdW5jdGlvbiBwKGUsdCxvLGEpe2Z1bmN0aW9uIHMoKXtjJiYoZGVsZXRlIHouc3R5bGUsZGVsZXRlIHoubW9kRWxlbSl9aWYoYT1yKGEsXCJ1bmRlZmluZWRcIik/ITE6YSwhcihvLFwidW5kZWZpbmVkXCIpKXt2YXIgbD1kKGUsbyk7aWYoIXIobCxcInVuZGVmaW5lZFwiKSlyZXR1cm4gbH1mb3IodmFyIGMsZixwLGgsZyx2PVtcIm1vZGVybml6clwiLFwidHNwYW5cIixcInNhbXBcIl07IXouc3R5bGUmJnYubGVuZ3RoOyljPSEwLHoubW9kRWxlbT1pKHYuc2hpZnQoKSksei5zdHlsZT16Lm1vZEVsZW0uc3R5bGU7Zm9yKHA9ZS5sZW5ndGgsZj0wO3A+ZjtmKyspaWYoaD1lW2ZdLGc9ei5zdHlsZVtoXSx1KGgsXCItXCIpJiYoaD1tKGgpKSx6LnN0eWxlW2hdIT09bil7aWYoYXx8cihvLFwidW5kZWZpbmVkXCIpKXJldHVybiBzKCksXCJwZnhcIj09dD9oOiEwO3RyeXt6LnN0eWxlW2hdPW99Y2F0Y2goeSl7fWlmKHouc3R5bGVbaF0hPWcpcmV0dXJuIHMoKSxcInBmeFwiPT10P2g6ITB9cmV0dXJuIHMoKSwhMX1mdW5jdGlvbiBoKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX1mdW5jdGlvbiBnKGUsdCxuKXt2YXIgbztmb3IodmFyIGEgaW4gZSlpZihlW2FdaW4gdClyZXR1cm4gbj09PSExP2VbYV06KG89dFtlW2FdXSxyKG8sXCJmdW5jdGlvblwiKT9oKG8sbnx8dCk6byk7cmV0dXJuITF9ZnVuY3Rpb24gdihlLHQsbixvLGEpe3ZhciBpPWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKSxzPShlK1wiIFwiK04uam9pbihpK1wiIFwiKStpKS5zcGxpdChcIiBcIik7cmV0dXJuIHIodCxcInN0cmluZ1wiKXx8cih0LFwidW5kZWZpbmVkXCIpP3Aocyx0LG8sYSk6KHM9KGUrXCIgXCIrai5qb2luKGkrXCIgXCIpK2kpLnNwbGl0KFwiIFwiKSxnKHMsdCxuKSl9ZnVuY3Rpb24geShlLHQscil7cmV0dXJuIHYoZSxuLG4sdCxyKX12YXIgUz1bXSxDPXtfdmVyc2lvbjpcIjMuNi4wXCIsX2NvbmZpZzp7Y2xhc3NQcmVmaXg6XCJcIixlbmFibGVDbGFzc2VzOiEwLGVuYWJsZUpTQ2xhc3M6ITAsdXNlUHJlZml4ZXM6ITB9LF9xOltdLG9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dChuW2VdKX0sMCl9LGFkZFRlc3Q6ZnVuY3Rpb24oZSx0LG4pe1MucHVzaCh7bmFtZTplLGZuOnQsb3B0aW9uczpufSl9LGFkZEFzeW5jVGVzdDpmdW5jdGlvbihlKXtTLnB1c2goe25hbWU6bnVsbCxmbjplfSl9fSxNb2Rlcm5penI9ZnVuY3Rpb24oKXt9O01vZGVybml6ci5wcm90b3R5cGU9QyxNb2Rlcm5penI9bmV3IE1vZGVybml6cjt2YXIgYj1bXSxFPXQuZG9jdW1lbnRFbGVtZW50LHc9XCJzdmdcIj09PUUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx4PWZ1bmN0aW9uKCl7dmFyIHQ9ZS5tYXRjaE1lZGlhfHxlLm1zTWF0Y2hNZWRpYTtyZXR1cm4gdD9mdW5jdGlvbihlKXt2YXIgbj10KGUpO3JldHVybiBuJiZuLm1hdGNoZXN8fCExfTpmdW5jdGlvbih0KXt2YXIgbj0hMTtyZXR1cm4gbChcIkBtZWRpYSBcIit0K1wiIHsgI21vZGVybml6ciB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgfSB9XCIsZnVuY3Rpb24odCl7bj1cImFic29sdXRlXCI9PShlLmdldENvbXB1dGVkU3R5bGU/ZS5nZXRDb21wdXRlZFN0eWxlKHQsbnVsbCk6dC5jdXJyZW50U3R5bGUpLnBvc2l0aW9ufSksbn19KCk7Qy5tcT14O3d8fCFmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSx0KXt2YXIgbj1lLmNyZWF0ZUVsZW1lbnQoXCJwXCIpLHI9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF18fGUuZG9jdW1lbnRFbGVtZW50O3JldHVybiBuLmlubmVySFRNTD1cIng8c3R5bGU+XCIrdCtcIjwvc3R5bGU+XCIsci5pbnNlcnRCZWZvcmUobi5sYXN0Q2hpbGQsci5maXJzdENoaWxkKX1mdW5jdGlvbiByKCl7dmFyIGU9Uy5lbGVtZW50cztyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9lLnNwbGl0KFwiIFwiKTplfWZ1bmN0aW9uIG8oZSx0KXt2YXIgbj1TLmVsZW1lbnRzO1wic3RyaW5nXCIhPXR5cGVvZiBuJiYobj1uLmpvaW4oXCIgXCIpKSxcInN0cmluZ1wiIT10eXBlb2YgZSYmKGU9ZS5qb2luKFwiIFwiKSksUy5lbGVtZW50cz1uK1wiIFwiK2UsdSh0KX1mdW5jdGlvbiBhKGUpe3ZhciB0PXlbZVtnXV07cmV0dXJuIHR8fCh0PXt9LHYrKyxlW2ddPXYseVt2XT10KSx0fWZ1bmN0aW9uIGkoZSxuLHIpe2lmKG58fChuPXQpLGYpcmV0dXJuIG4uY3JlYXRlRWxlbWVudChlKTtyfHwocj1hKG4pKTt2YXIgbztyZXR1cm4gbz1yLmNhY2hlW2VdP3IuY2FjaGVbZV0uY2xvbmVOb2RlKCk6aC50ZXN0KGUpPyhyLmNhY2hlW2VdPXIuY3JlYXRlRWxlbShlKSkuY2xvbmVOb2RlKCk6ci5jcmVhdGVFbGVtKGUpLCFvLmNhbkhhdmVDaGlsZHJlbnx8cC50ZXN0KGUpfHxvLnRhZ1Vybj9vOnIuZnJhZy5hcHBlbmRDaGlsZChvKX1mdW5jdGlvbiBzKGUsbil7aWYoZXx8KGU9dCksZilyZXR1cm4gZS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7bj1ufHxhKGUpO2Zvcih2YXIgbz1uLmZyYWcuY2xvbmVOb2RlKCksaT0wLHM9cigpLGw9cy5sZW5ndGg7bD5pO2krKylvLmNyZWF0ZUVsZW1lbnQoc1tpXSk7cmV0dXJuIG99ZnVuY3Rpb24gbChlLHQpe3QuY2FjaGV8fCh0LmNhY2hlPXt9LHQuY3JlYXRlRWxlbT1lLmNyZWF0ZUVsZW1lbnQsdC5jcmVhdGVGcmFnPWUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCx0LmZyYWc9dC5jcmVhdGVGcmFnKCkpLGUuY3JlYXRlRWxlbWVudD1mdW5jdGlvbihuKXtyZXR1cm4gUy5zaGl2TWV0aG9kcz9pKG4sZSx0KTp0LmNyZWF0ZUVsZW0obil9LGUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudD1GdW5jdGlvbihcImgsZlwiLFwicmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49Zi5jbG9uZU5vZGUoKSxjPW4uY3JlYXRlRWxlbWVudDtoLnNoaXZNZXRob2RzJiYoXCIrcigpLmpvaW4oKS5yZXBsYWNlKC9bXFx3XFwtOl0rL2csZnVuY3Rpb24oZSl7cmV0dXJuIHQuY3JlYXRlRWxlbShlKSx0LmZyYWcuY3JlYXRlRWxlbWVudChlKSwnYyhcIicrZSsnXCIpJ30pK1wiKTtyZXR1cm4gbn1cIikoUyx0LmZyYWcpfWZ1bmN0aW9uIHUoZSl7ZXx8KGU9dCk7dmFyIHI9YShlKTtyZXR1cm4hUy5zaGl2Q1NTfHxjfHxyLmhhc0NTU3x8KHIuaGFzQ1NTPSEhbihlLFwiYXJ0aWNsZSxhc2lkZSxkaWFsb2csZmlnY2FwdGlvbixmaWd1cmUsZm9vdGVyLGhlYWRlcixoZ3JvdXAsbWFpbixuYXYsc2VjdGlvbntkaXNwbGF5OmJsb2NrfW1hcmt7YmFja2dyb3VuZDojRkYwO2NvbG9yOiMwMDB9dGVtcGxhdGV7ZGlzcGxheTpub25lfVwiKSksZnx8bChlLHIpLGV9dmFyIGMsZixkPVwiMy43LjNcIixtPWUuaHRtbDV8fHt9LHA9L148fF4oPzpidXR0b258bWFwfHNlbGVjdHx0ZXh0YXJlYXxvYmplY3R8aWZyYW1lfG9wdGlvbnxvcHRncm91cCkkL2ksaD0vXig/OmF8Ynxjb2RlfGRpdnxmaWVsZHNldHxoMXxoMnxoM3xoNHxoNXxoNnxpfGxhYmVsfGxpfG9sfHB8cXxzcGFufHN0cm9uZ3xzdHlsZXx0YWJsZXx0Ym9keXx0ZHx0aHx0cnx1bCkkL2ksZz1cIl9odG1sNXNoaXZcIix2PTAseT17fTshZnVuY3Rpb24oKXt0cnl7dmFyIGU9dC5jcmVhdGVFbGVtZW50KFwiYVwiKTtlLmlubmVySFRNTD1cIjx4eXo+PC94eXo+XCIsYz1cImhpZGRlblwiaW4gZSxmPTE9PWUuY2hpbGROb2Rlcy5sZW5ndGh8fGZ1bmN0aW9uKCl7dC5jcmVhdGVFbGVtZW50KFwiYVwiKTt2YXIgZT10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgZS5jbG9uZU5vZGV8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlLmNyZWF0ZURvY3VtZW50RnJhZ21lbnR8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlLmNyZWF0ZUVsZW1lbnR9KCl9Y2F0Y2gobil7Yz0hMCxmPSEwfX0oKTt2YXIgUz17ZWxlbWVudHM6bS5lbGVtZW50c3x8XCJhYmJyIGFydGljbGUgYXNpZGUgYXVkaW8gYmRpIGNhbnZhcyBkYXRhIGRhdGFsaXN0IGRldGFpbHMgZGlhbG9nIGZpZ2NhcHRpb24gZmlndXJlIGZvb3RlciBoZWFkZXIgaGdyb3VwIG1haW4gbWFyayBtZXRlciBuYXYgb3V0cHV0IHBpY3R1cmUgcHJvZ3Jlc3Mgc2VjdGlvbiBzdW1tYXJ5IHRlbXBsYXRlIHRpbWUgdmlkZW9cIix2ZXJzaW9uOmQsc2hpdkNTUzptLnNoaXZDU1MhPT0hMSxzdXBwb3J0c1Vua25vd25FbGVtZW50czpmLHNoaXZNZXRob2RzOm0uc2hpdk1ldGhvZHMhPT0hMSx0eXBlOlwiZGVmYXVsdFwiLHNoaXZEb2N1bWVudDp1LGNyZWF0ZUVsZW1lbnQ6aSxjcmVhdGVEb2N1bWVudEZyYWdtZW50OnMsYWRkRWxlbWVudHM6b307ZS5odG1sNT1TLHUodCksXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1TKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGU/ZTp0aGlzLHQpO3ZhciBfPVwiTW96IE8gbXMgV2Via2l0XCIsTj1DLl9jb25maWcudXNlUHJlZml4ZXM/Xy5zcGxpdChcIiBcIik6W107Qy5fY3Nzb21QcmVmaXhlcz1OO3ZhciBUPXtlbGVtOmkoXCJtb2Rlcm5penJcIil9O01vZGVybml6ci5fcS5wdXNoKGZ1bmN0aW9uKCl7ZGVsZXRlIFQuZWxlbX0pO3ZhciB6PXtzdHlsZTpULmVsZW0uc3R5bGV9O01vZGVybml6ci5fcS51bnNoaWZ0KGZ1bmN0aW9uKCl7ZGVsZXRlIHouc3R5bGV9KTt2YXIgaj1DLl9jb25maWcudXNlUHJlZml4ZXM/Xy50b0xvd2VyQ2FzZSgpLnNwbGl0KFwiIFwiKTpbXTtDLl9kb21QcmVmaXhlcz1qLEMudGVzdEFsbFByb3BzPXYsQy50ZXN0QWxsUHJvcHM9eSxNb2Rlcm5penIuYWRkVGVzdChcImJvcmRlcmltYWdlXCIseShcImJvcmRlckltYWdlXCIsXCJ1cmwoKSAxXCIsITApKSxNb2Rlcm5penIuYWRkVGVzdChcImJvcmRlcnJhZGl1c1wiLHkoXCJib3JkZXJSYWRpdXNcIixcIjBweFwiLCEwKSksTW9kZXJuaXpyLmFkZFRlc3QoXCJmbGV4Ym94XCIseShcImZsZXhCYXNpc1wiLFwiMXB4XCIsITApKSxNb2Rlcm5penIuYWRkVGVzdChcIm92ZXJmbG93c2Nyb2xsaW5nXCIseShcIm92ZXJmbG93U2Nyb2xsaW5nXCIsXCJ0b3VjaFwiLCEwKSk7dmFyIGs9e30udG9TdHJpbmc7TW9kZXJuaXpyLmFkZFRlc3QoXCJzbWlsXCIsZnVuY3Rpb24oKXtyZXR1cm4hIXQuY3JlYXRlRWxlbWVudE5TJiYvU1ZHQW5pbWF0ZS8udGVzdChrLmNhbGwodC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwiYW5pbWF0ZVwiKSkpfSksbygpLGEoYiksZGVsZXRlIEMuYWRkVGVzdCxkZWxldGUgQy5hZGRBc3luY1Rlc3Q7Zm9yKHZhciBGPTA7RjxNb2Rlcm5penIuX3EubGVuZ3RoO0YrKylNb2Rlcm5penIuX3FbRl0oKTtlLk1vZGVybml6cj1Nb2Rlcm5penJ9KHdpbmRvdyxkb2N1bWVudCk7XG59LHt9XSw3ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS43LjdcbiAqIChjKSAyMDEwLTIwMTggR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgYW5ndWxhcikgeyd1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBuZ0Nvb2tpZXNcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSBgbmdDb29raWVzYCBtb2R1bGUgcHJvdmlkZXMgYSBjb252ZW5pZW50IHdyYXBwZXIgZm9yIHJlYWRpbmcgYW5kIHdyaXRpbmcgYnJvd3NlciBjb29raWVzLlxuICpcbiAqIFNlZSB7QGxpbmsgbmdDb29raWVzLiRjb29raWVzIGAkY29va2llc2B9IGZvciB1c2FnZS5cbiAqL1xuXG5cbmFuZ3VsYXIubW9kdWxlKCduZ0Nvb2tpZXMnLCBbJ25nJ10pLlxuICBpbmZvKHsgYW5ndWxhclZlcnNpb246ICcxLjcuNycgfSkuXG4gIC8qKlxuICAgKiBAbmdkb2MgcHJvdmlkZXJcbiAgICogQG5hbWUgJGNvb2tpZXNQcm92aWRlclxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVXNlIGAkY29va2llc1Byb3ZpZGVyYCB0byBjaGFuZ2UgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2YgdGhlIHtAbGluayBuZ0Nvb2tpZXMuJGNvb2tpZXMgJGNvb2tpZXN9IHNlcnZpY2UuXG4gICAqICovXG4gICBwcm92aWRlcignJGNvb2tpZXMnLCBbLyoqIEB0aGlzICovZnVuY3Rpb24gJENvb2tpZXNQcm92aWRlcigpIHtcbiAgICAvKipcbiAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgKiBAbmFtZSAkY29va2llc1Byb3ZpZGVyI2RlZmF1bHRzXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICpcbiAgICAgKiBPYmplY3QgY29udGFpbmluZyBkZWZhdWx0IG9wdGlvbnMgdG8gcGFzcyB3aGVuIHNldHRpbmcgY29va2llcy5cbiAgICAgKlxuICAgICAqIFRoZSBvYmplY3QgbWF5IGhhdmUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICpcbiAgICAgKiAtICoqcGF0aCoqIC0gYHtzdHJpbmd9YCAtIFRoZSBjb29raWUgd2lsbCBiZSBhdmFpbGFibGUgb25seSBmb3IgdGhpcyBwYXRoIGFuZCBpdHNcbiAgICAgKiAgIHN1Yi1wYXRocy4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgVVJMIHRoYXQgYXBwZWFycyBpbiB5b3VyIGA8YmFzZT5gIHRhZy5cbiAgICAgKiAtICoqZG9tYWluKiogLSBge3N0cmluZ31gIC0gVGhlIGNvb2tpZSB3aWxsIGJlIGF2YWlsYWJsZSBvbmx5IGZvciB0aGlzIGRvbWFpbiBhbmRcbiAgICAgKiAgIGl0cyBzdWItZG9tYWlucy4gRm9yIHNlY3VyaXR5IHJlYXNvbnMgdGhlIHVzZXIgYWdlbnQgd2lsbCBub3QgYWNjZXB0IHRoZSBjb29raWVcbiAgICAgKiAgIGlmIHRoZSBjdXJyZW50IGRvbWFpbiBpcyBub3QgYSBzdWItZG9tYWluIG9mIHRoaXMgZG9tYWluIG9yIGVxdWFsIHRvIGl0LlxuICAgICAqIC0gKipleHBpcmVzKiogLSBge3N0cmluZ3xEYXRlfWAgLSBTdHJpbmcgb2YgdGhlIGZvcm0gXCJXZHksIEREIE1vbiBZWVlZIEhIOk1NOlNTIEdNVFwiXG4gICAgICogICBvciBhIERhdGUgb2JqZWN0IGluZGljYXRpbmcgdGhlIGV4YWN0IGRhdGUvdGltZSB0aGlzIGNvb2tpZSB3aWxsIGV4cGlyZS5cbiAgICAgKiAtICoqc2VjdXJlKiogLSBge2Jvb2xlYW59YCAtIElmIGB0cnVlYCwgdGhlbiB0aGUgY29va2llIHdpbGwgb25seSBiZSBhdmFpbGFibGUgdGhyb3VnaCBhXG4gICAgICogICBzZWN1cmVkIGNvbm5lY3Rpb24uXG4gICAgICogLSAqKnNhbWVzaXRlKiogLSBge3N0cmluZ31gIC0gcHJldmVudHMgdGhlIGJyb3dzZXIgZnJvbSBzZW5kaW5nIHRoZSBjb29raWUgYWxvbmcgd2l0aCBjcm9zcy1zaXRlIHJlcXVlc3RzLlxuICAgICAqICAgQWNjZXB0cyB0aGUgdmFsdWVzIGBsYXhgIGFuZCBgc3RyaWN0YC4gU2VlIHRoZSBbT1dBU1AgV2lraV0oaHR0cHM6Ly93d3cub3dhc3Aub3JnL2luZGV4LnBocC9TYW1lU2l0ZSlcbiAgICAgKiAgIGZvciBtb3JlIGluZm8uIE5vdGUgdGhhdCBhcyBvZiBNYXkgMjAxOCwgbm90IGFsbCBicm93c2VycyBzdXBwb3J0IGBTYW1lU2l0ZWAsXG4gICAgICogICBzbyBpdCBjYW5ub3QgYmUgdXNlZCBhcyBhIHNpbmdsZSBtZWFzdXJlIGFnYWluc3QgQ3Jvc3MtU2l0ZS1SZXF1ZXN0LUZvcmdlcnkgKENTUkYpIGF0dGFja3MuXG4gICAgICpcbiAgICAgKiBOb3RlOiBCeSBkZWZhdWx0LCB0aGUgYWRkcmVzcyB0aGF0IGFwcGVhcnMgaW4geW91ciBgPGJhc2U+YCB0YWcgd2lsbCBiZSB1c2VkIGFzIHRoZSBwYXRoLlxuICAgICAqIFRoaXMgaXMgaW1wb3J0YW50IHNvIHRoYXQgY29va2llcyB3aWxsIGJlIHZpc2libGUgZm9yIGFsbCByb3V0ZXMgd2hlbiBodG1sNW1vZGUgaXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGFuZ3VsYXIubW9kdWxlKCdjb29raWVzUHJvdmlkZXJFeGFtcGxlJywgWyduZ0Nvb2tpZXMnXSlcbiAgICAgKiAgIC5jb25maWcoWyckY29va2llc1Byb3ZpZGVyJywgZnVuY3Rpb24oJGNvb2tpZXNQcm92aWRlcikge1xuICAgICAqICAgICAvLyBTZXR0aW5nIGRlZmF1bHQgb3B0aW9uc1xuICAgICAqICAgICAkY29va2llc1Byb3ZpZGVyLmRlZmF1bHRzLmRvbWFpbiA9ICdmb28uY29tJztcbiAgICAgKiAgICAgJGNvb2tpZXNQcm92aWRlci5kZWZhdWx0cy5zZWN1cmUgPSB0cnVlO1xuICAgICAqICAgfV0pO1xuICAgICAqIGBgYFxuICAgICAqKi9cbiAgICB2YXIgZGVmYXVsdHMgPSB0aGlzLmRlZmF1bHRzID0ge307XG5cbiAgICBmdW5jdGlvbiBjYWxjT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICByZXR1cm4gb3B0aW9ucyA/IGFuZ3VsYXIuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucykgOiBkZWZhdWx0cztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lICRjb29raWVzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBQcm92aWRlcyByZWFkL3dyaXRlIGFjY2VzcyB0byBicm93c2VyJ3MgY29va2llcy5cbiAgICAgKlxuICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gICAgICogVXAgdW50aWwgQW5ndWxhckpTIDEuMywgYCRjb29raWVzYCBleHBvc2VkIHByb3BlcnRpZXMgdGhhdCByZXByZXNlbnRlZCB0aGVcbiAgICAgKiBjdXJyZW50IGJyb3dzZXIgY29va2llIHZhbHVlcy4gSW4gdmVyc2lvbiAxLjQsIHRoaXMgYmVoYXZpb3IgaGFzIGNoYW5nZWQsIGFuZFxuICAgICAqIGAkY29va2llc2Agbm93IHByb3ZpZGVzIGEgc3RhbmRhcmQgYXBpIG9mIGdldHRlcnMsIHNldHRlcnMgZXRjLlxuICAgICAqIDwvZGl2PlxuICAgICAqXG4gICAgICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ0Nvb2tpZXMgYG5nQ29va2llc2B9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBhbmd1bGFyLm1vZHVsZSgnY29va2llc0V4YW1wbGUnLCBbJ25nQ29va2llcyddKVxuICAgICAqICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckY29va2llcycsIGZ1bmN0aW9uKCRjb29raWVzKSB7XG4gICAgICogICAgIC8vIFJldHJpZXZpbmcgYSBjb29raWVcbiAgICAgKiAgICAgdmFyIGZhdm9yaXRlQ29va2llID0gJGNvb2tpZXMuZ2V0KCdteUZhdm9yaXRlJyk7XG4gICAgICogICAgIC8vIFNldHRpbmcgYSBjb29raWVcbiAgICAgKiAgICAgJGNvb2tpZXMucHV0KCdteUZhdm9yaXRlJywgJ29hdG1lYWwnKTtcbiAgICAgKiAgIH1dKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICB0aGlzLiRnZXQgPSBbJyQkY29va2llUmVhZGVyJywgJyQkY29va2llV3JpdGVyJywgZnVuY3Rpb24oJCRjb29raWVSZWFkZXIsICQkY29va2llV3JpdGVyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY29va2llcyNnZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIGdpdmVuIGNvb2tpZSBrZXlcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBJZCB0byB1c2UgZm9yIGxvb2t1cC5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gUmF3IGNvb2tpZSB2YWx1ZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuICQkY29va2llUmVhZGVyKClba2V5XTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY29va2llcyNnZXRPYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgdGhlIGRlc2VyaWFsaXplZCB2YWx1ZSBvZiBnaXZlbiBjb29raWUga2V5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgSWQgdG8gdXNlIGZvciBsb29rdXAuXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IERlc2VyaWFsaXplZCBjb29raWUgdmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRPYmplY3Q6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0KGtleSk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlID8gYW5ndWxhci5mcm9tSnNvbih2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY29va2llcyNnZXRBbGxcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgYSBrZXkgdmFsdWUgb2JqZWN0IHdpdGggYWxsIHRoZSBjb29raWVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IEFsbCBjb29raWVzXG4gICAgICAgICAqL1xuICAgICAgICBnZXRBbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkJGNvb2tpZVJlYWRlcigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjb29raWVzI3B1dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogU2V0cyBhIHZhbHVlIGZvciBnaXZlbiBjb29raWUga2V5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgSWQgZm9yIHRoZSBgdmFsdWVgLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgUmF3IHZhbHVlIHRvIGJlIHN0b3JlZC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0LlxuICAgICAgICAgKiAgICBTZWUge0BsaW5rIG5nQ29va2llcy4kY29va2llc1Byb3ZpZGVyI2RlZmF1bHRzICRjb29raWVzUHJvdmlkZXIuZGVmYXVsdHN9XG4gICAgICAgICAqL1xuICAgICAgICBwdXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAkJGNvb2tpZVdyaXRlcihrZXksIHZhbHVlLCBjYWxjT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGNvb2tpZXMjcHV0T2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBTZXJpYWxpemVzIGFuZCBzZXRzIGEgdmFsdWUgZm9yIGdpdmVuIGNvb2tpZSBrZXlcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBJZCBmb3IgdGhlIGB2YWx1ZWAuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSBWYWx1ZSB0byBiZSBzdG9yZWQuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPcHRpb25zIG9iamVjdC5cbiAgICAgICAgICogICAgU2VlIHtAbGluayBuZ0Nvb2tpZXMuJGNvb2tpZXNQcm92aWRlciNkZWZhdWx0cyAkY29va2llc1Byb3ZpZGVyLmRlZmF1bHRzfVxuICAgICAgICAgKi9cbiAgICAgICAgcHV0T2JqZWN0OiBmdW5jdGlvbihrZXksIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgICAgdGhpcy5wdXQoa2V5LCBhbmd1bGFyLnRvSnNvbih2YWx1ZSksIG9wdGlvbnMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjb29raWVzI3JlbW92ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmVtb3ZlIGdpdmVuIGNvb2tpZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IElkIG9mIHRoZSBrZXktdmFsdWUgcGFpciB0byBkZWxldGUuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPcHRpb25zIG9iamVjdC5cbiAgICAgICAgICogICAgU2VlIHtAbGluayBuZ0Nvb2tpZXMuJGNvb2tpZXNQcm92aWRlciNkZWZhdWx0cyAkY29va2llc1Byb3ZpZGVyLmRlZmF1bHRzfVxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXksIG9wdGlvbnMpIHtcbiAgICAgICAgICAkJGNvb2tpZVdyaXRlcihrZXksIHVuZGVmaW5lZCwgY2FsY09wdGlvbnMob3B0aW9ucykpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dO1xuICB9XSk7XG5cbi8qKlxuICogQG5hbWUgJCRjb29raWVXcml0ZXJcbiAqIEByZXF1aXJlcyAkZG9jdW1lbnRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgaXMgYSBwcml2YXRlIHNlcnZpY2UgZm9yIHdyaXRpbmcgY29va2llc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIENvb2tpZSBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZz19IHZhbHVlIENvb2tpZSB2YWx1ZSAoaWYgdW5kZWZpbmVkLCBjb29raWUgd2lsbCBiZSBkZWxldGVkKVxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9iamVjdCB3aXRoIG9wdGlvbnMgdGhhdCBuZWVkIHRvIGJlIHN0b3JlZCBmb3IgdGhlIGNvb2tpZS5cbiAqL1xuZnVuY3Rpb24gJCRDb29raWVXcml0ZXIoJGRvY3VtZW50LCAkbG9nLCAkYnJvd3Nlcikge1xuICB2YXIgY29va2llUGF0aCA9ICRicm93c2VyLmJhc2VIcmVmKCk7XG4gIHZhciByYXdEb2N1bWVudCA9ICRkb2N1bWVudFswXTtcblxuICBmdW5jdGlvbiBidWlsZENvb2tpZVN0cmluZyhuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICAgIHZhciBwYXRoLCBleHBpcmVzO1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIGV4cGlyZXMgPSBvcHRpb25zLmV4cGlyZXM7XG4gICAgcGF0aCA9IGFuZ3VsYXIuaXNEZWZpbmVkKG9wdGlvbnMucGF0aCkgPyBvcHRpb25zLnBhdGggOiBjb29raWVQYXRoO1xuICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgZXhwaXJlcyA9ICdUaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVCc7XG4gICAgICB2YWx1ZSA9ICcnO1xuICAgIH1cbiAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhleHBpcmVzKSkge1xuICAgICAgZXhwaXJlcyA9IG5ldyBEYXRlKGV4cGlyZXMpO1xuICAgIH1cblxuICAgIHZhciBzdHIgPSBlbmNvZGVVUklDb21wb25lbnQobmFtZSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgIHN0ciArPSBwYXRoID8gJztwYXRoPScgKyBwYXRoIDogJyc7XG4gICAgc3RyICs9IG9wdGlvbnMuZG9tYWluID8gJztkb21haW49JyArIG9wdGlvbnMuZG9tYWluIDogJyc7XG4gICAgc3RyICs9IGV4cGlyZXMgPyAnO2V4cGlyZXM9JyArIGV4cGlyZXMudG9VVENTdHJpbmcoKSA6ICcnO1xuICAgIHN0ciArPSBvcHRpb25zLnNlY3VyZSA/ICc7c2VjdXJlJyA6ICcnO1xuICAgIHN0ciArPSBvcHRpb25zLnNhbWVzaXRlID8gJztzYW1lc2l0ZT0nICsgb3B0aW9ucy5zYW1lc2l0ZSA6ICcnO1xuXG4gICAgLy8gcGVyIGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzIxMDkudHh0IGJyb3dzZXIgbXVzdCBhbGxvdyBhdCBtaW5pbXVtOlxuICAgIC8vIC0gMzAwIGNvb2tpZXNcbiAgICAvLyAtIDIwIGNvb2tpZXMgcGVyIHVuaXF1ZSBkb21haW5cbiAgICAvLyAtIDQwOTYgYnl0ZXMgcGVyIGNvb2tpZVxuICAgIHZhciBjb29raWVMZW5ndGggPSBzdHIubGVuZ3RoICsgMTtcbiAgICBpZiAoY29va2llTGVuZ3RoID4gNDA5Nikge1xuICAgICAgJGxvZy53YXJuKCdDb29raWUgXFwnJyArIG5hbWUgK1xuICAgICAgICAnXFwnIHBvc3NpYmx5IG5vdCBzZXQgb3Igb3ZlcmZsb3dlZCBiZWNhdXNlIGl0IHdhcyB0b28gbGFyZ2UgKCcgK1xuICAgICAgICBjb29raWVMZW5ndGggKyAnID4gNDA5NiBieXRlcykhJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICAgIHJhd0RvY3VtZW50LmNvb2tpZSA9IGJ1aWxkQ29va2llU3RyaW5nKG5hbWUsIHZhbHVlLCBvcHRpb25zKTtcbiAgfTtcbn1cblxuJCRDb29raWVXcml0ZXIuJGluamVjdCA9IFsnJGRvY3VtZW50JywgJyRsb2cnLCAnJGJyb3dzZXInXTtcblxuYW5ndWxhci5tb2R1bGUoJ25nQ29va2llcycpLnByb3ZpZGVyKCckJGNvb2tpZVdyaXRlcicsIC8qKiBAdGhpcyAqLyBmdW5jdGlvbiAkJENvb2tpZVdyaXRlclByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSAkJENvb2tpZVdyaXRlcjtcbn0pO1xuXG5cbn0pKHdpbmRvdywgd2luZG93LmFuZ3VsYXIpO1xuXG59LHt9XSw3OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5yZXF1aXJlKCcuL2FuZ3VsYXItY29va2llcycpO1xubW9kdWxlLmV4cG9ydHMgPSAnbmdDb29raWVzJztcblxufSx7XCIuL2FuZ3VsYXItY29va2llc1wiOjc4fV0sODA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqXG4gKiBAbGljZW5zZSBBbmd1bGFySlMgdjEuNy43XG4gKiAoYykgMjAxMC0yMDE4IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuICogTGljZW5zZTogTUlUXG4gKi9cbihmdW5jdGlvbih3aW5kb3csIGFuZ3VsYXIpIHsndXNlIHN0cmljdCc7XG5cbi8qICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICpcbiAqICAgICBBbnkgY29tbWl0cyB0byB0aGlzIGZpbGUgc2hvdWxkIGJlIHJldmlld2VkIHdpdGggc2VjdXJpdHkgaW4gbWluZC4gICpcbiAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcbiAqICAgICAgICAgIEFuIGFwcHJvdmFsIGZyb20gMiBDb3JlIG1lbWJlcnMgd2l0aCBoaXN0b3J5IG9mIG1vZGlmeWluZyAgICAgICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgZmlsZSBpcyByZXF1aXJlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqICBEb2VzIHRoZSBjaGFuZ2Ugc29tZWhvdyBhbGxvdyBmb3IgYXJiaXRyYXJ5IGphdmFzY3JpcHQgdG8gYmUgZXhlY3V0ZWQ/ICpcbiAqICAgIE9yIGFsbG93cyBmb3Igc29tZW9uZSB0byBjaGFuZ2UgdGhlIHByb3RvdHlwZSBvZiBidWlsdC1pbiBvYmplY3RzPyAgICpcbiAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlcyBkb2N1bWVudCBvciB3aW5kb3c/ICAgICpcbiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICovXG5cbnZhciAkc2FuaXRpemVNaW5FcnIgPSBhbmd1bGFyLiQkbWluRXJyKCckc2FuaXRpemUnKTtcbnZhciBiaW5kO1xudmFyIGV4dGVuZDtcbnZhciBmb3JFYWNoO1xudmFyIGlzQXJyYXk7XG52YXIgaXNEZWZpbmVkO1xudmFyIGxvd2VyY2FzZTtcbnZhciBub29wO1xudmFyIG5vZGVDb250YWlucztcbnZhciBodG1sUGFyc2VyO1xudmFyIGh0bWxTYW5pdGl6ZVdyaXRlcjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBuZ1Nhbml0aXplXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGUgYG5nU2FuaXRpemVgIG1vZHVsZSBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHNhbml0aXplIEhUTUwuXG4gKlxuICogU2VlIHtAbGluayBuZ1Nhbml0aXplLiRzYW5pdGl6ZSBgJHNhbml0aXplYH0gZm9yIHVzYWdlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRzYW5pdGl6ZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqICAgU2FuaXRpemVzIGFuIGh0bWwgc3RyaW5nIGJ5IHN0cmlwcGluZyBhbGwgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIHRva2Vucy5cbiAqXG4gKiAgIFRoZSBpbnB1dCBpcyBzYW5pdGl6ZWQgYnkgcGFyc2luZyB0aGUgSFRNTCBpbnRvIHRva2Vucy4gQWxsIHNhZmUgdG9rZW5zIChmcm9tIGEgd2hpdGVsaXN0KSBhcmVcbiAqICAgdGhlbiBzZXJpYWxpemVkIGJhY2sgdG8gYSBwcm9wZXJseSBlc2NhcGVkIEhUTUwgc3RyaW5nLiBUaGlzIG1lYW5zIHRoYXQgbm8gdW5zYWZlIGlucHV0IGNhbiBtYWtlXG4gKiAgIGl0IGludG8gdGhlIHJldHVybmVkIHN0cmluZy5cbiAqXG4gKiAgIFRoZSB3aGl0ZWxpc3QgZm9yIFVSTCBzYW5pdGl6YXRpb24gb2YgYXR0cmlidXRlIHZhbHVlcyBpcyBjb25maWd1cmVkIHVzaW5nIHRoZSBmdW5jdGlvbnNcbiAqICAgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YCBhbmQgYGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdGAgb2Yge0BsaW5rICRjb21waWxlUHJvdmlkZXJ9LlxuICpcbiAqICAgVGhlIGlucHV0IG1heSBhbHNvIGNvbnRhaW4gU1ZHIG1hcmt1cCBpZiB0aGlzIGlzIGVuYWJsZWQgdmlhIHtAbGluayAkc2FuaXRpemVQcm92aWRlcn0uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGh0bWwgSFRNTCBpbnB1dC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFNhbml0aXplZCBIVE1MLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJzYW5pdGl6ZUV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1zYW5pdGl6ZS5qc1wiIG5hbWU9XCJzYW5pdGl6ZS1zZXJ2aWNlXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3Nhbml0aXplRXhhbXBsZScsIFsnbmdTYW5pdGl6ZSddKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckc2NlJywgZnVuY3Rpb24oJHNjb3BlLCAkc2NlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLnNuaXBwZXQgPVxuICAgICAgICAgICAgICAgJzxwIHN0eWxlPVwiY29sb3I6Ymx1ZVwiPmFuIGh0bWxcXG4nICtcbiAgICAgICAgICAgICAgICc8ZW0gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PVxcJ1BXTjNEIVxcJ1wiPmNsaWNrIGhlcmU8L2VtPlxcbicgK1xuICAgICAgICAgICAgICAgJ3NuaXBwZXQ8L3A+JztcbiAgICAgICAgICAgICAkc2NvcGUuZGVsaWJlcmF0ZWx5VHJ1c3REYW5nZXJvdXNTbmlwcGV0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICByZXR1cm4gJHNjZS50cnVzdEFzSHRtbCgkc2NvcGUuc25pcHBldCk7XG4gICAgICAgICAgICAgfTtcbiAgICAgICAgICAgfV0pO1xuICAgICA8L3NjcmlwdD5cbiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgU25pcHBldDogPHRleHRhcmVhIG5nLW1vZGVsPVwic25pcHBldFwiIGNvbHM9XCI2MFwiIHJvd3M9XCIzXCI+PC90ZXh0YXJlYT5cbiAgICAgICA8dGFibGU+XG4gICAgICAgICA8dHI+XG4gICAgICAgICAgIDx0ZD5EaXJlY3RpdmU8L3RkPlxuICAgICAgICAgICA8dGQ+SG93PC90ZD5cbiAgICAgICAgICAgPHRkPlNvdXJjZTwvdGQ+XG4gICAgICAgICAgIDx0ZD5SZW5kZXJlZDwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgICAgPHRyIGlkPVwiYmluZC1odG1sLXdpdGgtc2FuaXRpemVcIj5cbiAgICAgICAgICAgPHRkPm5nLWJpbmQtaHRtbDwvdGQ+XG4gICAgICAgICAgIDx0ZD5BdXRvbWF0aWNhbGx5IHVzZXMgJHNhbml0aXplPC90ZD5cbiAgICAgICAgICAgPHRkPjxwcmU+Jmx0O2RpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0XCImZ3Q7PGJyLz4mbHQ7L2RpdiZndDs8L3ByZT48L3RkPlxuICAgICAgICAgICA8dGQ+PGRpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0XCI+PC9kaXY+PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJiaW5kLWh0bWwtd2l0aC10cnVzdFwiPlxuICAgICAgICAgICA8dGQ+bmctYmluZC1odG1sPC90ZD5cbiAgICAgICAgICAgPHRkPkJ5cGFzcyAkc2FuaXRpemUgYnkgZXhwbGljaXRseSB0cnVzdGluZyB0aGUgZGFuZ2Vyb3VzIHZhbHVlPC90ZD5cbiAgICAgICAgICAgPHRkPlxuICAgICAgICAgICA8cHJlPiZsdDtkaXYgbmctYmluZC1odG1sPVwiZGVsaWJlcmF0ZWx5VHJ1c3REYW5nZXJvdXNTbmlwcGV0KClcIiZndDtcbiZsdDsvZGl2Jmd0OzwvcHJlPlxuICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICA8dGQ+PGRpdiBuZy1iaW5kLWh0bWw9XCJkZWxpYmVyYXRlbHlUcnVzdERhbmdlcm91c1NuaXBwZXQoKVwiPjwvZGl2PjwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgICAgPHRyIGlkPVwiYmluZC1kZWZhdWx0XCI+XG4gICAgICAgICAgIDx0ZD5uZy1iaW5kPC90ZD5cbiAgICAgICAgICAgPHRkPkF1dG9tYXRpY2FsbHkgZXNjYXBlczwvdGQ+XG4gICAgICAgICAgIDx0ZD48cHJlPiZsdDtkaXYgbmctYmluZD1cInNuaXBwZXRcIiZndDs8YnIvPiZsdDsvZGl2Jmd0OzwvcHJlPjwvdGQ+XG4gICAgICAgICAgIDx0ZD48ZGl2IG5nLWJpbmQ9XCJzbmlwcGV0XCI+PC9kaXY+PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgPC90YWJsZT5cbiAgICAgICA8L2Rpdj5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgaXQoJ3Nob3VsZCBzYW5pdGl6ZSB0aGUgaHRtbCBzbmlwcGV0IGJ5IGRlZmF1bHQnLCBmdW5jdGlvbigpIHtcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWh0bWwtd2l0aC1zYW5pdGl6ZSBkaXYnKSkuZ2V0QXR0cmlidXRlKCdpbm5lckhUTUwnKSkuXG4gICAgICAgICB0b0JlKCc8cD5hbiBodG1sXFxuPGVtPmNsaWNrIGhlcmU8L2VtPlxcbnNuaXBwZXQ8L3A+Jyk7XG4gICAgIH0pO1xuXG4gICAgIGl0KCdzaG91bGQgaW5saW5lIHJhdyBzbmlwcGV0IGlmIGJvdW5kIHRvIGEgdHJ1c3RlZCB2YWx1ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2JpbmQtaHRtbC13aXRoLXRydXN0IGRpdicpKS5nZXRBdHRyaWJ1dGUoJ2lubmVySFRNTCcpKS5cbiAgICAgICAgIHRvQmUoXCI8cCBzdHlsZT1cXFwiY29sb3I6Ymx1ZVxcXCI+YW4gaHRtbFxcblwiICtcbiAgICAgICAgICAgICAgXCI8ZW0gb25tb3VzZW92ZXI9XFxcInRoaXMudGV4dENvbnRlbnQ9J1BXTjNEISdcXFwiPmNsaWNrIGhlcmU8L2VtPlxcblwiICtcbiAgICAgICAgICAgICAgXCJzbmlwcGV0PC9wPlwiKTtcbiAgICAgfSk7XG5cbiAgICAgaXQoJ3Nob3VsZCBlc2NhcGUgc25pcHBldCB3aXRob3V0IGFueSBmaWx0ZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWRlZmF1bHQgZGl2JykpLmdldEF0dHJpYnV0ZSgnaW5uZXJIVE1MJykpLlxuICAgICAgICAgdG9CZShcIiZsdDtwIHN0eWxlPVxcXCJjb2xvcjpibHVlXFxcIiZndDthbiBodG1sXFxuXCIgK1xuICAgICAgICAgICAgICBcIiZsdDtlbSBvbm1vdXNlb3Zlcj1cXFwidGhpcy50ZXh0Q29udGVudD0nUFdOM0QhJ1xcXCImZ3Q7Y2xpY2sgaGVyZSZsdDsvZW0mZ3Q7XFxuXCIgK1xuICAgICAgICAgICAgICBcInNuaXBwZXQmbHQ7L3AmZ3Q7XCIpO1xuICAgICB9KTtcblxuICAgICBpdCgnc2hvdWxkIHVwZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NuaXBwZXQnKSkuY2xlYXIoKTtcbiAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzbmlwcGV0JykpLnNlbmRLZXlzKCduZXcgPGIgb25jbGljaz1cImFsZXJ0KDEpXCI+dGV4dDwvYj4nKTtcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWh0bWwtd2l0aC1zYW5pdGl6ZSBkaXYnKSkuZ2V0QXR0cmlidXRlKCdpbm5lckhUTUwnKSkuXG4gICAgICAgICB0b0JlKCduZXcgPGI+dGV4dDwvYj4nKTtcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWh0bWwtd2l0aC10cnVzdCBkaXYnKSkuZ2V0QXR0cmlidXRlKCdpbm5lckhUTUwnKSkudG9CZShcbiAgICAgICAgICduZXcgPGIgb25jbGljaz1cImFsZXJ0KDEpXCI+dGV4dDwvYj4nKTtcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWRlZmF1bHQgZGl2JykpLmdldEF0dHJpYnV0ZSgnaW5uZXJIVE1MJykpLnRvQmUoXG4gICAgICAgICBcIm5ldyAmbHQ7YiBvbmNsaWNrPVxcXCJhbGVydCgxKVxcXCImZ3Q7dGV4dCZsdDsvYiZndDtcIik7XG4gICAgIH0pO1xuICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRzYW5pdGl6ZVByb3ZpZGVyXG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhbmQgY29uZmlndXJlcyB7QGxpbmsgJHNhbml0aXplfSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gJFNhbml0aXplUHJvdmlkZXIoKSB7XG4gIHZhciBoYXNCZWVuSW5zdGFudGlhdGVkID0gZmFsc2U7XG4gIHZhciBzdmdFbmFibGVkID0gZmFsc2U7XG5cbiAgdGhpcy4kZ2V0ID0gWyckJHNhbml0aXplVXJpJywgZnVuY3Rpb24oJCRzYW5pdGl6ZVVyaSkge1xuICAgIGhhc0JlZW5JbnN0YW50aWF0ZWQgPSB0cnVlO1xuICAgIGlmIChzdmdFbmFibGVkKSB7XG4gICAgICBleHRlbmQodmFsaWRFbGVtZW50cywgc3ZnRWxlbWVudHMpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oaHRtbCkge1xuICAgICAgdmFyIGJ1ZiA9IFtdO1xuICAgICAgaHRtbFBhcnNlcihodG1sLCBodG1sU2FuaXRpemVXcml0ZXIoYnVmLCBmdW5jdGlvbih1cmksIGlzSW1hZ2UpIHtcbiAgICAgICAgcmV0dXJuICEvXnVuc2FmZTovLnRlc3QoJCRzYW5pdGl6ZVVyaSh1cmksIGlzSW1hZ2UpKTtcbiAgICAgIH0pKTtcbiAgICAgIHJldHVybiBidWYuam9pbignJyk7XG4gICAgfTtcbiAgfV07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkc2FuaXRpemVQcm92aWRlciNlbmFibGVTdmdcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEVuYWJsZXMgYSBzdWJzZXQgb2Ygc3ZnIHRvIGJlIHN1cHBvcnRlZCBieSB0aGUgc2FuaXRpemVyLlxuICAgKlxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgKiAgIDxwPkJ5IGVuYWJsaW5nIHRoaXMgc2V0dGluZyB3aXRob3V0IHRha2luZyBvdGhlciBwcmVjYXV0aW9ucywgeW91IG1pZ2h0IGV4cG9zZSB5b3VyXG4gICAqICAgYXBwbGljYXRpb24gdG8gY2xpY2staGlqYWNraW5nIGF0dGFja3MuIEluIHRoZXNlIGF0dGFja3MsIHNhbml0aXplZCBzdmcgZWxlbWVudHMgY291bGQgYmUgcG9zaXRpb25lZFxuICAgKiAgIG91dHNpZGUgb2YgdGhlIGNvbnRhaW5pbmcgZWxlbWVudCBhbmQgYmUgcmVuZGVyZWQgb3ZlciBvdGhlciBlbGVtZW50cyBvbiB0aGUgcGFnZSAoZS5nLiBhIGxvZ2luXG4gICAqICAgbGluaykuIFN1Y2ggYmVoYXZpb3IgY2FuIHRoZW4gcmVzdWx0IGluIHBoaXNoaW5nIGluY2lkZW50cy48L3A+XG4gICAqXG4gICAqICAgPHA+VG8gcHJvdGVjdCBhZ2FpbnN0IHRoZXNlLCBleHBsaWNpdGx5IHNldHVwIGBvdmVyZmxvdzogaGlkZGVuYCBjc3MgcnVsZSBmb3IgYWxsIHBvdGVudGlhbCBzdmdcbiAgICogICB0YWdzIHdpdGhpbiB0aGUgc2FuaXRpemVkIGNvbnRlbnQ6PC9wPlxuICAgKlxuICAgKiAgIDxicj5cbiAgICpcbiAgICogICA8cHJlPjxjb2RlPlxuICAgKiAgIC5yb290T2ZUaGVJbmNsdWRlZENvbnRlbnQgc3ZnIHtcbiAgICogICAgIG92ZXJmbG93OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgICogICB9XG4gICAqICAgPC9jb2RlPjwvcHJlPlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gZmxhZyBFbmFibGUgb3IgZGlzYWJsZSBTVkcgc3VwcG9ydCBpbiB0aGUgc2FuaXRpemVyLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbnwkc2FuaXRpemVQcm92aWRlcn0gUmV0dXJucyB0aGUgY3VycmVudGx5IGNvbmZpZ3VyZWQgdmFsdWUgaWYgY2FsbGVkXG4gICAqICAgIHdpdGhvdXQgYW4gYXJndW1lbnQgb3Igc2VsZiBmb3IgY2hhaW5pbmcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgdGhpcy5lbmFibGVTdmcgPSBmdW5jdGlvbihlbmFibGVTdmcpIHtcbiAgICBpZiAoaXNEZWZpbmVkKGVuYWJsZVN2ZykpIHtcbiAgICAgIHN2Z0VuYWJsZWQgPSBlbmFibGVTdmc7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHN2Z0VuYWJsZWQ7XG4gICAgfVxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHNhbml0aXplUHJvdmlkZXIjYWRkVmFsaWRFbGVtZW50c1xuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRXh0ZW5kcyB0aGUgYnVpbHQtaW4gbGlzdHMgb2YgdmFsaWQgSFRNTC9TVkcgZWxlbWVudHMsIGkuZS4gZWxlbWVudHMgdGhhdCBhcmUgY29uc2lkZXJlZCBzYWZlXG4gICAqIGFuZCBhcmUgbm90IHN0cmlwcGVkIG9mZiBkdXJpbmcgc2FuaXRpemF0aW9uLiBZb3UgY2FuIGV4dGVuZCB0aGUgZm9sbG93aW5nIGxpc3RzIG9mIGVsZW1lbnRzOlxuICAgKlxuICAgKiAtIGBodG1sRWxlbWVudHNgOiBBIGxpc3Qgb2YgZWxlbWVudHMgKHRhZyBuYW1lcykgdG8gZXh0ZW5kIHRoZSBjdXJyZW50IGxpc3Qgb2Ygc2FmZSBIVE1MXG4gICAqICAgZWxlbWVudHMuIEhUTUwgZWxlbWVudHMgY29uc2lkZXJlZCBzYWZlIHdpbGwgbm90IGJlIHJlbW92ZWQgZHVyaW5nIHNhbml0aXphdGlvbi4gQWxsIG90aGVyXG4gICAqICAgZWxlbWVudHMgd2lsbCBiZSBzdHJpcHBlZCBvZmYuXG4gICAqXG4gICAqIC0gYGh0bWxWb2lkRWxlbWVudHNgOiBUaGlzIGlzIHNpbWlsYXIgdG8gYGh0bWxFbGVtZW50c2AsIGJ1dCBtYXJrcyB0aGUgZWxlbWVudHMgYXNcbiAgICogICBcInZvaWQgZWxlbWVudHNcIiAoc2ltaWxhciB0byBIVE1MXG4gICAqICAgW3ZvaWQgZWxlbWVudHNdKGh0dHBzOi8vcmF3Z2l0LmNvbS93M2MvaHRtbC9odG1sNS4xLTIvc2luZ2xlLXBhZ2UuaHRtbCN2b2lkLWVsZW1lbnRzKSkuIFRoZXNlXG4gICAqICAgZWxlbWVudHMgaGF2ZSBubyBlbmQgdGFnIGFuZCBjYW5ub3QgaGF2ZSBjb250ZW50LlxuICAgKlxuICAgKiAtIGBzdmdFbGVtZW50c2A6IFRoaXMgaXMgc2ltaWxhciB0byBgaHRtbEVsZW1lbnRzYCwgYnV0IGZvciBTVkcgZWxlbWVudHMuIFRoaXMgbGlzdCBpcyBvbmx5XG4gICAqICAgdGFrZW4gaW50byBhY2NvdW50IGlmIFNWRyBpcyB7QGxpbmsgbmdTYW5pdGl6ZS4kc2FuaXRpemVQcm92aWRlciNlbmFibGVTdmcgZW5hYmxlZH0gZm9yXG4gICAqICAgYCRzYW5pdGl6ZWAuXG4gICAqXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gICAqICAgVGhpcyBtZXRob2QgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIHRoZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnIGNvbmZpZ30gcGhhc2UuIE9uY2UgdGhlXG4gICAqICAgYCRzYW5pdGl6ZWAgc2VydmljZSBoYXMgYmVlbiBpbnN0YW50aWF0ZWQsIHRoaXMgbWV0aG9kIGhhcyBubyBlZmZlY3QuXG4gICAqIDwvZGl2PlxuICAgKlxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgKiAgIEtlZXAgaW4gbWluZCB0aGF0IGV4dGVuZGluZyB0aGUgYnVpbHQtaW4gbGlzdHMgb2YgZWxlbWVudHMgbWF5IGV4cG9zZSB5b3VyIGFwcCB0byBYU1Mgb3JcbiAgICogICBvdGhlciB2dWxuZXJhYmlsaXRpZXMuIEJlIHZlcnkgbWluZGZ1bCBvZiB0aGUgZWxlbWVudHMgeW91IGFkZC5cbiAgICogPC9kaXY+XG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nPnxPYmplY3R9IGVsZW1lbnRzIC0gQSBsaXN0IG9mIHZhbGlkIEhUTUwgZWxlbWVudHMgb3IgYW4gb2JqZWN0IHdpdGggb25lIG9yXG4gICAqICAgbW9yZSBvZiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICAgLSAqKmh0bWxFbGVtZW50cyoqIC0gYHtBcnJheTxTdHJpbmc+fWAgLSBBIGxpc3Qgb2YgZWxlbWVudHMgdG8gZXh0ZW5kIHRoZSBjdXJyZW50IGxpc3Qgb2ZcbiAgICogICAgIEhUTUwgZWxlbWVudHMuXG4gICAqICAgLSAqKmh0bWxWb2lkRWxlbWVudHMqKiAtIGB7QXJyYXk8U3RyaW5nPn1gIC0gQSBsaXN0IG9mIGVsZW1lbnRzIHRvIGV4dGVuZCB0aGUgY3VycmVudCBsaXN0IG9mXG4gICAqICAgICB2b2lkIEhUTUwgZWxlbWVudHM7IGkuZS4gZWxlbWVudHMgdGhhdCBkbyBub3QgaGF2ZSBhbiBlbmQgdGFnLlxuICAgKiAgIC0gKipzdmdFbGVtZW50cyoqIC0gYHtBcnJheTxTdHJpbmc+fWAgLSBBIGxpc3Qgb2YgZWxlbWVudHMgdG8gZXh0ZW5kIHRoZSBjdXJyZW50IGxpc3Qgb2YgU1ZHXG4gICAqICAgICBlbGVtZW50cy4gVGhlIGxpc3Qgb2YgU1ZHIGVsZW1lbnRzIGlzIG9ubHkgdGFrZW4gaW50byBhY2NvdW50IGlmIFNWRyBpc1xuICAgKiAgICAge0BsaW5rIG5nU2FuaXRpemUuJHNhbml0aXplUHJvdmlkZXIjZW5hYmxlU3ZnIGVuYWJsZWR9IGZvciBgJHNhbml0aXplYC5cbiAgICpcbiAgICogUGFzc2luZyBhbiBhcnJheSAoYFsuLi5dYCkgaXMgZXF1aXZhbGVudCB0byBwYXNzaW5nIGB7aHRtbEVsZW1lbnRzOiBbLi4uXX1gLlxuICAgKlxuICAgKiBAcmV0dXJuIHskc2FuaXRpemVQcm92aWRlcn0gUmV0dXJucyBzZWxmIGZvciBjaGFpbmluZy5cbiAgICovXG4gIHRoaXMuYWRkVmFsaWRFbGVtZW50cyA9IGZ1bmN0aW9uKGVsZW1lbnRzKSB7XG4gICAgaWYgKCFoYXNCZWVuSW5zdGFudGlhdGVkKSB7XG4gICAgICBpZiAoaXNBcnJheShlbGVtZW50cykpIHtcbiAgICAgICAgZWxlbWVudHMgPSB7aHRtbEVsZW1lbnRzOiBlbGVtZW50c307XG4gICAgICB9XG5cbiAgICAgIGFkZEVsZW1lbnRzVG8oc3ZnRWxlbWVudHMsIGVsZW1lbnRzLnN2Z0VsZW1lbnRzKTtcbiAgICAgIGFkZEVsZW1lbnRzVG8odm9pZEVsZW1lbnRzLCBlbGVtZW50cy5odG1sVm9pZEVsZW1lbnRzKTtcbiAgICAgIGFkZEVsZW1lbnRzVG8odmFsaWRFbGVtZW50cywgZWxlbWVudHMuaHRtbFZvaWRFbGVtZW50cyk7XG4gICAgICBhZGRFbGVtZW50c1RvKHZhbGlkRWxlbWVudHMsIGVsZW1lbnRzLmh0bWxFbGVtZW50cyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkc2FuaXRpemVQcm92aWRlciNhZGRWYWxpZEF0dHJzXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBFeHRlbmRzIHRoZSBidWlsdC1pbiBsaXN0IG9mIHZhbGlkIGF0dHJpYnV0ZXMsIGkuZS4gYXR0cmlidXRlcyB0aGF0IGFyZSBjb25zaWRlcmVkIHNhZmUgYW5kIGFyZVxuICAgKiBub3Qgc3RyaXBwZWQgb2ZmIGR1cmluZyBzYW5pdGl6YXRpb24uXG4gICAqXG4gICAqICoqTm90ZSoqOlxuICAgKiBUaGUgbmV3IGF0dHJpYnV0ZXMgd2lsbCBub3QgYmUgdHJlYXRlZCBhcyBVUkkgYXR0cmlidXRlcywgd2hpY2ggbWVhbnMgdGhlaXIgdmFsdWVzIHdpbGwgbm90IGJlXG4gICAqIHNhbml0aXplZCBhcyBVUklzIHVzaW5nIGAkY29tcGlsZVByb3ZpZGVyYCdzXG4gICAqIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2FIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0IGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0fSBhbmRcbiAgICoge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0IGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdH0uXG4gICAqXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gICAqICAgVGhpcyBtZXRob2QgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIHRoZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnIGNvbmZpZ30gcGhhc2UuIE9uY2UgdGhlXG4gICAqICAgYCRzYW5pdGl6ZWAgc2VydmljZSBoYXMgYmVlbiBpbnN0YW50aWF0ZWQsIHRoaXMgbWV0aG9kIGhhcyBubyBlZmZlY3QuXG4gICAqIDwvZGl2PlxuICAgKlxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgKiAgIEtlZXAgaW4gbWluZCB0aGF0IGV4dGVuZGluZyB0aGUgYnVpbHQtaW4gbGlzdCBvZiBhdHRyaWJ1dGVzIG1heSBleHBvc2UgeW91ciBhcHAgdG8gWFNTIG9yXG4gICAqICAgb3RoZXIgdnVsbmVyYWJpbGl0aWVzLiBCZSB2ZXJ5IG1pbmRmdWwgb2YgdGhlIGF0dHJpYnV0ZXMgeW91IGFkZC5cbiAgICogPC9kaXY+XG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nPn0gYXR0cnMgLSBBIGxpc3Qgb2YgdmFsaWQgYXR0cmlidXRlcy5cbiAgICpcbiAgICogQHJldHVybnMgeyRzYW5pdGl6ZVByb3ZpZGVyfSBSZXR1cm5zIHNlbGYgZm9yIGNoYWluaW5nLlxuICAgKi9cbiAgdGhpcy5hZGRWYWxpZEF0dHJzID0gZnVuY3Rpb24oYXR0cnMpIHtcbiAgICBpZiAoIWhhc0JlZW5JbnN0YW50aWF0ZWQpIHtcbiAgICAgIGV4dGVuZCh2YWxpZEF0dHJzLCBhcnJheVRvTWFwKGF0dHJzLCB0cnVlKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFByaXZhdGUgc3R1ZmZcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBiaW5kID0gYW5ndWxhci5iaW5kO1xuICBleHRlbmQgPSBhbmd1bGFyLmV4dGVuZDtcbiAgZm9yRWFjaCA9IGFuZ3VsYXIuZm9yRWFjaDtcbiAgaXNBcnJheSA9IGFuZ3VsYXIuaXNBcnJheTtcbiAgaXNEZWZpbmVkID0gYW5ndWxhci5pc0RlZmluZWQ7XG4gIGxvd2VyY2FzZSA9IGFuZ3VsYXIuJCRsb3dlcmNhc2U7XG4gIG5vb3AgPSBhbmd1bGFyLm5vb3A7XG5cbiAgaHRtbFBhcnNlciA9IGh0bWxQYXJzZXJJbXBsO1xuICBodG1sU2FuaXRpemVXcml0ZXIgPSBodG1sU2FuaXRpemVXcml0ZXJJbXBsO1xuXG4gIG5vZGVDb250YWlucyA9IHdpbmRvdy5Ob2RlLnByb3RvdHlwZS5jb250YWlucyB8fCAvKiogQHRoaXMgKi8gZnVuY3Rpb24oYXJnKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICByZXR1cm4gISEodGhpcy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhcmcpICYgMTYpO1xuICB9O1xuXG4gIC8vIFJlZ3VsYXIgRXhwcmVzc2lvbnMgZm9yIHBhcnNpbmcgdGFncyBhbmQgYXR0cmlidXRlc1xuICB2YXIgU1VSUk9HQVRFX1BBSVJfUkVHRVhQID0gL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl0vZyxcbiAgICAvLyBNYXRjaCBldmVyeXRoaW5nIG91dHNpZGUgb2Ygbm9ybWFsIGNoYXJzIGFuZCBcIiAocXVvdGUgY2hhcmFjdGVyKVxuICAgIE5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQID0gLyhbXiMtfiB8IV0pL2c7XG5cblxuICAvLyBHb29kIHNvdXJjZSBvZiBpbmZvIGFib3V0IGVsZW1lbnRzIGFuZCBhdHRyaWJ1dGVzXG4gIC8vIGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3NwZWMvT3ZlcnZpZXcuaHRtbCNzZW1hbnRpY3NcbiAgLy8gaHR0cDovL3NpbW9uLmh0bWw1Lm9yZy9odG1sLWVsZW1lbnRzXG5cbiAgLy8gU2FmZSBWb2lkIEVsZW1lbnRzIC0gSFRNTDVcbiAgLy8gaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy9PdmVydmlldy5odG1sI3ZvaWQtZWxlbWVudHNcbiAgdmFyIHZvaWRFbGVtZW50cyA9IHN0cmluZ1RvTWFwKCdhcmVhLGJyLGNvbCxocixpbWcsd2JyJyk7XG5cbiAgLy8gRWxlbWVudHMgdGhhdCB5b3UgY2FuLCBpbnRlbnRpb25hbGx5LCBsZWF2ZSBvcGVuIChhbmQgd2hpY2ggY2xvc2UgdGhlbXNlbHZlcylcbiAgLy8gaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy9PdmVydmlldy5odG1sI29wdGlvbmFsLXRhZ3NcbiAgdmFyIG9wdGlvbmFsRW5kVGFnQmxvY2tFbGVtZW50cyA9IHN0cmluZ1RvTWFwKCdjb2xncm91cCxkZCxkdCxsaSxwLHRib2R5LHRkLHRmb290LHRoLHRoZWFkLHRyJyksXG4gICAgICBvcHRpb25hbEVuZFRhZ0lubGluZUVsZW1lbnRzID0gc3RyaW5nVG9NYXAoJ3JwLHJ0JyksXG4gICAgICBvcHRpb25hbEVuZFRhZ0VsZW1lbnRzID0gZXh0ZW5kKHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsRW5kVGFnSW5saW5lRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxFbmRUYWdCbG9ja0VsZW1lbnRzKTtcblxuICAvLyBTYWZlIEJsb2NrIEVsZW1lbnRzIC0gSFRNTDVcbiAgdmFyIGJsb2NrRWxlbWVudHMgPSBleHRlbmQoe30sIG9wdGlvbmFsRW5kVGFnQmxvY2tFbGVtZW50cywgc3RyaW5nVG9NYXAoJ2FkZHJlc3MsYXJ0aWNsZSwnICtcbiAgICAgICAgICAnYXNpZGUsYmxvY2txdW90ZSxjYXB0aW9uLGNlbnRlcixkZWwsZGlyLGRpdixkbCxmaWd1cmUsZmlnY2FwdGlvbixmb290ZXIsaDEsaDIsaDMsaDQsaDUsJyArXG4gICAgICAgICAgJ2g2LGhlYWRlcixoZ3JvdXAsaHIsaW5zLG1hcCxtZW51LG5hdixvbCxwcmUsc2VjdGlvbix0YWJsZSx1bCcpKTtcblxuICAvLyBJbmxpbmUgRWxlbWVudHMgLSBIVE1MNVxuICB2YXIgaW5saW5lRWxlbWVudHMgPSBleHRlbmQoe30sIG9wdGlvbmFsRW5kVGFnSW5saW5lRWxlbWVudHMsIHN0cmluZ1RvTWFwKCdhLGFiYnIsYWNyb255bSxiLCcgK1xuICAgICAgICAgICdiZGksYmRvLGJpZyxicixjaXRlLGNvZGUsZGVsLGRmbixlbSxmb250LGksaW1nLGlucyxrYmQsbGFiZWwsbWFwLG1hcmsscSxydWJ5LHJwLHJ0LHMsJyArXG4gICAgICAgICAgJ3NhbXAsc21hbGwsc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdGltZSx0dCx1LHZhcicpKTtcblxuICAvLyBTVkcgRWxlbWVudHNcbiAgLy8gaHR0cHM6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9TYW5pdGl6YXRpb25fcnVsZXMjc3ZnX0VsZW1lbnRzXG4gIC8vIE5vdGU6IHRoZSBlbGVtZW50cyBhbmltYXRlLGFuaW1hdGVDb2xvcixhbmltYXRlTW90aW9uLGFuaW1hdGVUcmFuc2Zvcm0sc2V0IGFyZSBpbnRlbnRpb25hbGx5IG9taXR0ZWQuXG4gIC8vIFRoZXkgY2FuIHBvdGVudGlhbGx5IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZC4gU2VlICMxMTI5MFxuICB2YXIgc3ZnRWxlbWVudHMgPSBzdHJpbmdUb01hcCgnY2lyY2xlLGRlZnMsZGVzYyxlbGxpcHNlLGZvbnQtZmFjZSxmb250LWZhY2UtbmFtZSxmb250LWZhY2Utc3JjLGcsZ2x5cGgsJyArXG4gICAgICAgICAgJ2hrZXJuLGltYWdlLGxpbmVhckdyYWRpZW50LGxpbmUsbWFya2VyLG1ldGFkYXRhLG1pc3NpbmctZ2x5cGgsbXBhdGgscGF0aCxwb2x5Z29uLHBvbHlsaW5lLCcgK1xuICAgICAgICAgICdyYWRpYWxHcmFkaWVudCxyZWN0LHN0b3Asc3ZnLHN3aXRjaCx0ZXh0LHRpdGxlLHRzcGFuJyk7XG5cbiAgLy8gQmxvY2tlZCBFbGVtZW50cyAod2lsbCBiZSBzdHJpcHBlZClcbiAgdmFyIGJsb2NrZWRFbGVtZW50cyA9IHN0cmluZ1RvTWFwKCdzY3JpcHQsc3R5bGUnKTtcblxuICB2YXIgdmFsaWRFbGVtZW50cyA9IGV4dGVuZCh7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tFbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVFbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbEVuZFRhZ0VsZW1lbnRzKTtcblxuICAvL0F0dHJpYnV0ZXMgdGhhdCBoYXZlIGhyZWYgYW5kIGhlbmNlIG5lZWQgdG8gYmUgc2FuaXRpemVkXG4gIHZhciB1cmlBdHRycyA9IHN0cmluZ1RvTWFwKCdiYWNrZ3JvdW5kLGNpdGUsaHJlZixsb25nZGVzYyxzcmMseGxpbms6aHJlZix4bWw6YmFzZScpO1xuXG4gIHZhciBodG1sQXR0cnMgPSBzdHJpbmdUb01hcCgnYWJicixhbGlnbixhbHQsYXhpcyxiZ2NvbG9yLGJvcmRlcixjZWxscGFkZGluZyxjZWxsc3BhY2luZyxjbGFzcyxjbGVhciwnICtcbiAgICAgICdjb2xvcixjb2xzLGNvbHNwYW4sY29tcGFjdCxjb29yZHMsZGlyLGZhY2UsaGVhZGVycyxoZWlnaHQsaHJlZmxhbmcsaHNwYWNlLCcgK1xuICAgICAgJ2lzbWFwLGxhbmcsbGFuZ3VhZ2Usbm9ocmVmLG5vd3JhcCxyZWwscmV2LHJvd3Mscm93c3BhbixydWxlcywnICtcbiAgICAgICdzY29wZSxzY3JvbGxpbmcsc2hhcGUsc2l6ZSxzcGFuLHN0YXJ0LHN1bW1hcnksdGFiaW5kZXgsdGFyZ2V0LHRpdGxlLHR5cGUsJyArXG4gICAgICAndmFsaWduLHZhbHVlLHZzcGFjZSx3aWR0aCcpO1xuXG4gIC8vIFNWRyBhdHRyaWJ1dGVzICh3aXRob3V0IFwiaWRcIiBhbmQgXCJuYW1lXCIgYXR0cmlidXRlcylcbiAgLy8gaHR0cHM6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9TYW5pdGl6YXRpb25fcnVsZXMjc3ZnX0F0dHJpYnV0ZXNcbiAgdmFyIHN2Z0F0dHJzID0gc3RyaW5nVG9NYXAoJ2FjY2VudC1oZWlnaHQsYWNjdW11bGF0ZSxhZGRpdGl2ZSxhbHBoYWJldGljLGFyYWJpYy1mb3JtLGFzY2VudCwnICtcbiAgICAgICdiYXNlUHJvZmlsZSxiYm94LGJlZ2luLGJ5LGNhbGNNb2RlLGNhcC1oZWlnaHQsY2xhc3MsY29sb3IsY29sb3ItcmVuZGVyaW5nLGNvbnRlbnQsJyArXG4gICAgICAnY3gsY3ksZCxkeCxkeSxkZXNjZW50LGRpc3BsYXksZHVyLGVuZCxmaWxsLGZpbGwtcnVsZSxmb250LWZhbWlseSxmb250LXNpemUsZm9udC1zdHJldGNoLCcgK1xuICAgICAgJ2ZvbnQtc3R5bGUsZm9udC12YXJpYW50LGZvbnQtd2VpZ2h0LGZyb20sZngsZnksZzEsZzIsZ2x5cGgtbmFtZSxncmFkaWVudFVuaXRzLGhhbmdpbmcsJyArXG4gICAgICAnaGVpZ2h0LGhvcml6LWFkdi14LGhvcml6LW9yaWdpbi14LGlkZW9ncmFwaGljLGssa2V5UG9pbnRzLGtleVNwbGluZXMsa2V5VGltZXMsbGFuZywnICtcbiAgICAgICdtYXJrZXItZW5kLG1hcmtlci1taWQsbWFya2VyLXN0YXJ0LG1hcmtlckhlaWdodCxtYXJrZXJVbml0cyxtYXJrZXJXaWR0aCxtYXRoZW1hdGljYWwsJyArXG4gICAgICAnbWF4LG1pbixvZmZzZXQsb3BhY2l0eSxvcmllbnQsb3JpZ2luLG92ZXJsaW5lLXBvc2l0aW9uLG92ZXJsaW5lLXRoaWNrbmVzcyxwYW5vc2UtMSwnICtcbiAgICAgICdwYXRoLHBhdGhMZW5ndGgscG9pbnRzLHByZXNlcnZlQXNwZWN0UmF0aW8scixyZWZYLHJlZlkscmVwZWF0Q291bnQscmVwZWF0RHVyLCcgK1xuICAgICAgJ3JlcXVpcmVkRXh0ZW5zaW9ucyxyZXF1aXJlZEZlYXR1cmVzLHJlc3RhcnQscm90YXRlLHJ4LHJ5LHNsb3BlLHN0ZW1oLHN0ZW12LHN0b3AtY29sb3IsJyArXG4gICAgICAnc3RvcC1vcGFjaXR5LHN0cmlrZXRocm91Z2gtcG9zaXRpb24sc3RyaWtldGhyb3VnaC10aGlja25lc3Msc3Ryb2tlLHN0cm9rZS1kYXNoYXJyYXksJyArXG4gICAgICAnc3Ryb2tlLWRhc2hvZmZzZXQsc3Ryb2tlLWxpbmVjYXAsc3Ryb2tlLWxpbmVqb2luLHN0cm9rZS1taXRlcmxpbWl0LHN0cm9rZS1vcGFjaXR5LCcgK1xuICAgICAgJ3N0cm9rZS13aWR0aCxzeXN0ZW1MYW5ndWFnZSx0YXJnZXQsdGV4dC1hbmNob3IsdG8sdHJhbnNmb3JtLHR5cGUsdTEsdTIsdW5kZXJsaW5lLXBvc2l0aW9uLCcgK1xuICAgICAgJ3VuZGVybGluZS10aGlja25lc3MsdW5pY29kZSx1bmljb2RlLXJhbmdlLHVuaXRzLXBlci1lbSx2YWx1ZXMsdmVyc2lvbix2aWV3Qm94LHZpc2liaWxpdHksJyArXG4gICAgICAnd2lkdGgsd2lkdGhzLHgseC1oZWlnaHQseDEseDIseGxpbms6YWN0dWF0ZSx4bGluazphcmNyb2xlLHhsaW5rOnJvbGUseGxpbms6c2hvdyx4bGluazp0aXRsZSwnICtcbiAgICAgICd4bGluazp0eXBlLHhtbDpiYXNlLHhtbDpsYW5nLHhtbDpzcGFjZSx4bWxucyx4bWxuczp4bGluayx5LHkxLHkyLHpvb21BbmRQYW4nLCB0cnVlKTtcblxuICB2YXIgdmFsaWRBdHRycyA9IGV4dGVuZCh7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmlBdHRycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdmdBdHRycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sQXR0cnMpO1xuXG4gIGZ1bmN0aW9uIHN0cmluZ1RvTWFwKHN0ciwgbG93ZXJjYXNlS2V5cykge1xuICAgIHJldHVybiBhcnJheVRvTWFwKHN0ci5zcGxpdCgnLCcpLCBsb3dlcmNhc2VLZXlzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFycmF5VG9NYXAoaXRlbXMsIGxvd2VyY2FzZUtleXMpIHtcbiAgICB2YXIgb2JqID0ge30sIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmpbbG93ZXJjYXNlS2V5cyA/IGxvd2VyY2FzZShpdGVtc1tpXSkgOiBpdGVtc1tpXV0gPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkRWxlbWVudHNUbyhlbGVtZW50c01hcCwgbmV3RWxlbWVudHMpIHtcbiAgICBpZiAobmV3RWxlbWVudHMgJiYgbmV3RWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICBleHRlbmQoZWxlbWVudHNNYXAsIGFycmF5VG9NYXAobmV3RWxlbWVudHMpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuIGluZXJ0IGRvY3VtZW50IHRoYXQgY29udGFpbnMgdGhlIGRpcnR5IEhUTUwgdGhhdCBuZWVkcyBzYW5pdGl6aW5nXG4gICAqIERlcGVuZGluZyB1cG9uIGJyb3dzZXIgc3VwcG9ydCB3ZSB1c2Ugb25lIG9mIHRocmVlIHN0cmF0ZWdpZXMgZm9yIGRvaW5nIHRoaXMuXG4gICAqIFN1cHBvcnQ6IFNhZmFyaSAxMC54IC0+IFhIUiBzdHJhdGVneVxuICAgKiBTdXBwb3J0OiBGaXJlZm94IC0+IERvbVBhcnNlciBzdHJhdGVneVxuICAgKi9cbiAgdmFyIGdldEluZXJ0Qm9keUVsZW1lbnQgLyogZnVuY3Rpb24oaHRtbDogc3RyaW5nKTogSFRNTEJvZHlFbGVtZW50ICovID0gKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQpIHtcbiAgICB2YXIgaW5lcnREb2N1bWVudDtcbiAgICBpZiAoZG9jdW1lbnQgJiYgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24pIHtcbiAgICAgIGluZXJ0RG9jdW1lbnQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoJ2luZXJ0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93ICRzYW5pdGl6ZU1pbkVycignbm9pbmVydCcsICdDYW5cXCd0IGNyZWF0ZSBhbiBpbmVydCBodG1sIGRvY3VtZW50Jyk7XG4gICAgfVxuICAgIHZhciBpbmVydEJvZHlFbGVtZW50ID0gKGluZXJ0RG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGluZXJ0RG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCkpLnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcblxuICAgIC8vIENoZWNrIGZvciB0aGUgU2FmYXJpIDEwLjEgYnVnIC0gd2hpY2ggYWxsb3dzIEpTIHRvIHJ1biBpbnNpZGUgdGhlIFNWRyBHIGVsZW1lbnRcbiAgICBpbmVydEJvZHlFbGVtZW50LmlubmVySFRNTCA9ICc8c3ZnPjxnIG9ubG9hZD1cInRoaXMucGFyZW50Tm9kZS5yZW1vdmUoKVwiPjwvZz48L3N2Zz4nO1xuICAgIGlmICghaW5lcnRCb2R5RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdzdmcnKSkge1xuICAgICAgcmV0dXJuIGdldEluZXJ0Qm9keUVsZW1lbnRfWEhSO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDaGVjayBmb3IgdGhlIEZpcmVmb3ggYnVnIC0gd2hpY2ggcHJldmVudHMgdGhlIGlubmVyIGltZyBKUyBmcm9tIGJlaW5nIHNhbml0aXplZFxuICAgICAgaW5lcnRCb2R5RWxlbWVudC5pbm5lckhUTUwgPSAnPHN2Zz48cD48c3R5bGU+PGltZyBzcmM9XCI8L3N0eWxlPjxpbWcgc3JjPXggb25lcnJvcj1hbGVydCgxKS8vXCI+JztcbiAgICAgIGlmIChpbmVydEJvZHlFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3N2ZyBpbWcnKSkge1xuICAgICAgICByZXR1cm4gZ2V0SW5lcnRCb2R5RWxlbWVudF9ET01QYXJzZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0SW5lcnRCb2R5RWxlbWVudF9JbmVydERvY3VtZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEluZXJ0Qm9keUVsZW1lbnRfWEhSKGh0bWwpIHtcbiAgICAgIC8vIFdlIGFkZCB0aGlzIGR1bW15IGVsZW1lbnQgdG8gZW5zdXJlIHRoYXQgdGhlIHJlc3Qgb2YgdGhlIGNvbnRlbnQgaXMgcGFyc2VkIGFzIGV4cGVjdGVkXG4gICAgICAvLyBlLmcuIGxlYWRpbmcgd2hpdGVzcGFjZSBpcyBtYWludGFpbmVkIGFuZCB0YWdzIGxpa2UgYDxtZXRhPmAgZG8gbm90IGdldCBob2lzdGVkIHRvIHRoZSBgPGhlYWQ+YCB0YWcuXG4gICAgICBodG1sID0gJzxyZW1vdmU+PC9yZW1vdmU+JyArIGh0bWw7XG4gICAgICB0cnkge1xuICAgICAgICBodG1sID0gZW5jb2RlVVJJKGh0bWwpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgdmFyIHhociA9IG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnZG9jdW1lbnQnO1xuICAgICAgeGhyLm9wZW4oJ0dFVCcsICdkYXRhOnRleHQvaHRtbDtjaGFyc2V0PXV0Zi04LCcgKyBodG1sLCBmYWxzZSk7XG4gICAgICB4aHIuc2VuZChudWxsKTtcbiAgICAgIHZhciBib2R5ID0geGhyLnJlc3BvbnNlLmJvZHk7XG4gICAgICBib2R5LmZpcnN0Q2hpbGQucmVtb3ZlKCk7XG4gICAgICByZXR1cm4gYm9keTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRJbmVydEJvZHlFbGVtZW50X0RPTVBhcnNlcihodG1sKSB7XG4gICAgICAvLyBXZSBhZGQgdGhpcyBkdW1teSBlbGVtZW50IHRvIGVuc3VyZSB0aGF0IHRoZSByZXN0IG9mIHRoZSBjb250ZW50IGlzIHBhcnNlZCBhcyBleHBlY3RlZFxuICAgICAgLy8gZS5nLiBsZWFkaW5nIHdoaXRlc3BhY2UgaXMgbWFpbnRhaW5lZCBhbmQgdGFncyBsaWtlIGA8bWV0YT5gIGRvIG5vdCBnZXQgaG9pc3RlZCB0byB0aGUgYDxoZWFkPmAgdGFnLlxuICAgICAgaHRtbCA9ICc8cmVtb3ZlPjwvcmVtb3ZlPicgKyBodG1sO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGJvZHkgPSBuZXcgd2luZG93LkRPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhodG1sLCAndGV4dC9odG1sJykuYm9keTtcbiAgICAgICAgYm9keS5maXJzdENoaWxkLnJlbW92ZSgpO1xuICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRJbmVydEJvZHlFbGVtZW50X0luZXJ0RG9jdW1lbnQoaHRtbCkge1xuICAgICAgaW5lcnRCb2R5RWxlbWVudC5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgICAvLyBTdXBwb3J0OiBJRSA5LTExIG9ubHlcbiAgICAgIC8vIHN0cmlwIGN1c3RvbS1uYW1lc3BhY2VkIGF0dHJpYnV0ZXMgb24gSUU8PTExXG4gICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSB7XG4gICAgICAgIHN0cmlwQ3VzdG9tTnNBdHRycyhpbmVydEJvZHlFbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGluZXJ0Qm9keUVsZW1lbnQ7XG4gICAgfVxuICB9KSh3aW5kb3csIHdpbmRvdy5kb2N1bWVudCk7XG5cbiAgLyoqXG4gICAqIEBleGFtcGxlXG4gICAqIGh0bWxQYXJzZXIoaHRtbFN0cmluZywge1xuICAgKiAgICAgc3RhcnQ6IGZ1bmN0aW9uKHRhZywgYXR0cnMpIHt9LFxuICAgKiAgICAgZW5kOiBmdW5jdGlvbih0YWcpIHt9LFxuICAgKiAgICAgY2hhcnM6IGZ1bmN0aW9uKHRleHQpIHt9LFxuICAgKiAgICAgY29tbWVudDogZnVuY3Rpb24odGV4dCkge31cbiAgICogfSk7XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBodG1sIHN0cmluZ1xuICAgKiBAcGFyYW0ge29iamVjdH0gaGFuZGxlclxuICAgKi9cbiAgZnVuY3Rpb24gaHRtbFBhcnNlckltcGwoaHRtbCwgaGFuZGxlcikge1xuICAgIGlmIChodG1sID09PSBudWxsIHx8IGh0bWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaHRtbCA9ICcnO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGh0bWwgIT09ICdzdHJpbmcnKSB7XG4gICAgICBodG1sID0gJycgKyBodG1sO1xuICAgIH1cblxuICAgIHZhciBpbmVydEJvZHlFbGVtZW50ID0gZ2V0SW5lcnRCb2R5RWxlbWVudChodG1sKTtcbiAgICBpZiAoIWluZXJ0Qm9keUVsZW1lbnQpIHJldHVybiAnJztcblxuICAgIC8vbVhTUyBwcm90ZWN0aW9uXG4gICAgdmFyIG1YU1NBdHRlbXB0cyA9IDU7XG4gICAgZG8ge1xuICAgICAgaWYgKG1YU1NBdHRlbXB0cyA9PT0gMCkge1xuICAgICAgICB0aHJvdyAkc2FuaXRpemVNaW5FcnIoJ3VpbnB1dCcsICdGYWlsZWQgdG8gc2FuaXRpemUgaHRtbCBiZWNhdXNlIHRoZSBpbnB1dCBpcyB1bnN0YWJsZScpO1xuICAgICAgfVxuICAgICAgbVhTU0F0dGVtcHRzLS07XG5cbiAgICAgIC8vIHRyaWdnZXIgbVhTUyBpZiBpdCBpcyBnb2luZyB0byBoYXBwZW4gYnkgcmVhZGluZyBhbmQgd3JpdGluZyB0aGUgaW5uZXJIVE1MXG4gICAgICBodG1sID0gaW5lcnRCb2R5RWxlbWVudC5pbm5lckhUTUw7XG4gICAgICBpbmVydEJvZHlFbGVtZW50ID0gZ2V0SW5lcnRCb2R5RWxlbWVudChodG1sKTtcbiAgICB9IHdoaWxlIChodG1sICE9PSBpbmVydEJvZHlFbGVtZW50LmlubmVySFRNTCk7XG5cbiAgICB2YXIgbm9kZSA9IGluZXJ0Qm9keUVsZW1lbnQuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgMTogLy8gRUxFTUVOVF9OT0RFXG4gICAgICAgICAgaGFuZGxlci5zdGFydChub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIGF0dHJUb01hcChub2RlLmF0dHJpYnV0ZXMpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOiAvLyBURVhUIE5PREVcbiAgICAgICAgICBoYW5kbGVyLmNoYXJzKG5vZGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV4dE5vZGU7XG4gICAgICBpZiAoIShuZXh0Tm9kZSA9IG5vZGUuZmlyc3RDaGlsZCkpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICBoYW5kbGVyLmVuZChub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9XG4gICAgICAgIG5leHROb2RlID0gZ2V0Tm9uRGVzY2VuZGFudCgnbmV4dFNpYmxpbmcnLCBub2RlKTtcbiAgICAgICAgaWYgKCFuZXh0Tm9kZSkge1xuICAgICAgICAgIHdoaWxlIChuZXh0Tm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBub2RlID0gZ2V0Tm9uRGVzY2VuZGFudCgncGFyZW50Tm9kZScsIG5vZGUpO1xuICAgICAgICAgICAgaWYgKG5vZGUgPT09IGluZXJ0Qm9keUVsZW1lbnQpIGJyZWFrO1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBnZXROb25EZXNjZW5kYW50KCduZXh0U2libGluZycsIG5vZGUpO1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgaGFuZGxlci5lbmQobm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUgPSBuZXh0Tm9kZTtcbiAgICB9XG5cbiAgICB3aGlsZSAoKG5vZGUgPSBpbmVydEJvZHlFbGVtZW50LmZpcnN0Q2hpbGQpKSB7XG4gICAgICBpbmVydEJvZHlFbGVtZW50LnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGF0dHJUb01hcChhdHRycykge1xuICAgIHZhciBtYXAgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhdHRycy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICB2YXIgYXR0ciA9IGF0dHJzW2ldO1xuICAgICAgbWFwW2F0dHIubmFtZV0gPSBhdHRyLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbWFwO1xuICB9XG5cblxuICAvKipcbiAgICogRXNjYXBlcyBhbGwgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIGNoYXJhY3RlcnMsIHNvIHRoYXQgdGhlXG4gICAqIHJlc3VsdGluZyBzdHJpbmcgY2FuIGJlIHNhZmVseSBpbnNlcnRlZCBpbnRvIGF0dHJpYnV0ZSBvclxuICAgKiBlbGVtZW50IHRleHQuXG4gICAqIEBwYXJhbSB2YWx1ZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBlc2NhcGVkIHRleHRcbiAgICovXG4gIGZ1bmN0aW9uIGVuY29kZUVudGl0aWVzKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLlxuICAgICAgcmVwbGFjZSgvJi9nLCAnJmFtcDsnKS5cbiAgICAgIHJlcGxhY2UoU1VSUk9HQVRFX1BBSVJfUkVHRVhQLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgaGkgPSB2YWx1ZS5jaGFyQ29kZUF0KDApO1xuICAgICAgICB2YXIgbG93ID0gdmFsdWUuY2hhckNvZGVBdCgxKTtcbiAgICAgICAgcmV0dXJuICcmIycgKyAoKChoaSAtIDB4RDgwMCkgKiAweDQwMCkgKyAobG93IC0gMHhEQzAwKSArIDB4MTAwMDApICsgJzsnO1xuICAgICAgfSkuXG4gICAgICByZXBsYWNlKE5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gJyYjJyArIHZhbHVlLmNoYXJDb2RlQXQoMCkgKyAnOyc7XG4gICAgICB9KS5cbiAgICAgIHJlcGxhY2UoLzwvZywgJyZsdDsnKS5cbiAgICAgIHJlcGxhY2UoLz4vZywgJyZndDsnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBjcmVhdGUgYW4gSFRNTC9YTUwgd3JpdGVyIHdoaWNoIHdyaXRlcyB0byBidWZmZXJcbiAgICogQHBhcmFtIHtBcnJheX0gYnVmIHVzZSBidWYuam9pbignJykgdG8gZ2V0IG91dCBzYW5pdGl6ZWQgaHRtbCBzdHJpbmdcbiAgICogQHJldHVybnMge29iamVjdH0gaW4gdGhlIGZvcm0gb2Yge1xuICAgKiAgICAgc3RhcnQ6IGZ1bmN0aW9uKHRhZywgYXR0cnMpIHt9LFxuICAgKiAgICAgZW5kOiBmdW5jdGlvbih0YWcpIHt9LFxuICAgKiAgICAgY2hhcnM6IGZ1bmN0aW9uKHRleHQpIHt9LFxuICAgKiAgICAgY29tbWVudDogZnVuY3Rpb24odGV4dCkge31cbiAgICogfVxuICAgKi9cbiAgZnVuY3Rpb24gaHRtbFNhbml0aXplV3JpdGVySW1wbChidWYsIHVyaVZhbGlkYXRvcikge1xuICAgIHZhciBpZ25vcmVDdXJyZW50RWxlbWVudCA9IGZhbHNlO1xuICAgIHZhciBvdXQgPSBiaW5kKGJ1ZiwgYnVmLnB1c2gpO1xuICAgIHJldHVybiB7XG4gICAgICBzdGFydDogZnVuY3Rpb24odGFnLCBhdHRycykge1xuICAgICAgICB0YWcgPSBsb3dlcmNhc2UodGFnKTtcbiAgICAgICAgaWYgKCFpZ25vcmVDdXJyZW50RWxlbWVudCAmJiBibG9ja2VkRWxlbWVudHNbdGFnXSkge1xuICAgICAgICAgIGlnbm9yZUN1cnJlbnRFbGVtZW50ID0gdGFnO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaWdub3JlQ3VycmVudEVsZW1lbnQgJiYgdmFsaWRFbGVtZW50c1t0YWddID09PSB0cnVlKSB7XG4gICAgICAgICAgb3V0KCc8Jyk7XG4gICAgICAgICAgb3V0KHRhZyk7XG4gICAgICAgICAgZm9yRWFjaChhdHRycywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgICAgdmFyIGxrZXkgPSBsb3dlcmNhc2Uoa2V5KTtcbiAgICAgICAgICAgIHZhciBpc0ltYWdlID0gKHRhZyA9PT0gJ2ltZycgJiYgbGtleSA9PT0gJ3NyYycpIHx8IChsa2V5ID09PSAnYmFja2dyb3VuZCcpO1xuICAgICAgICAgICAgaWYgKHZhbGlkQXR0cnNbbGtleV0gPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgKHVyaUF0dHJzW2xrZXldICE9PSB0cnVlIHx8IHVyaVZhbGlkYXRvcih2YWx1ZSwgaXNJbWFnZSkpKSB7XG4gICAgICAgICAgICAgIG91dCgnICcpO1xuICAgICAgICAgICAgICBvdXQoa2V5KTtcbiAgICAgICAgICAgICAgb3V0KCc9XCInKTtcbiAgICAgICAgICAgICAgb3V0KGVuY29kZUVudGl0aWVzKHZhbHVlKSk7XG4gICAgICAgICAgICAgIG91dCgnXCInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvdXQoJz4nKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVuZDogZnVuY3Rpb24odGFnKSB7XG4gICAgICAgIHRhZyA9IGxvd2VyY2FzZSh0YWcpO1xuICAgICAgICBpZiAoIWlnbm9yZUN1cnJlbnRFbGVtZW50ICYmIHZhbGlkRWxlbWVudHNbdGFnXSA9PT0gdHJ1ZSAmJiB2b2lkRWxlbWVudHNbdGFnXSAhPT0gdHJ1ZSkge1xuICAgICAgICAgIG91dCgnPC8nKTtcbiAgICAgICAgICBvdXQodGFnKTtcbiAgICAgICAgICBvdXQoJz4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgIGlmICh0YWcgPT0gaWdub3JlQ3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICBpZ25vcmVDdXJyZW50RWxlbWVudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2hhcnM6IGZ1bmN0aW9uKGNoYXJzKSB7XG4gICAgICAgIGlmICghaWdub3JlQ3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICBvdXQoZW5jb2RlRW50aXRpZXMoY2hhcnMpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuXG4gIC8qKlxuICAgKiBXaGVuIElFOS0xMSBjb21lcyBhY3Jvc3MgYW4gdW5rbm93biBuYW1lc3BhY2VkIGF0dHJpYnV0ZSBlLmcuICd4bGluazpmb28nIGl0IGFkZHMgJ3htbG5zOm5zMScgYXR0cmlidXRlIHRvIGRlY2xhcmVcbiAgICogbnMxIG5hbWVzcGFjZSBhbmQgcHJlZml4ZXMgdGhlIGF0dHJpYnV0ZSB3aXRoICduczEnIChlLmcuICduczE6eGxpbms6Zm9vJykuIFRoaXMgaXMgdW5kZXNpcmFibGUgc2luY2Ugd2UgZG9uJ3Qgd2FudFxuICAgKiB0byBhbGxvdyBhbnkgb2YgdGhlc2UgY3VzdG9tIGF0dHJpYnV0ZXMuIFRoaXMgbWV0aG9kIHN0cmlwcyB0aGVtIGFsbC5cbiAgICpcbiAgICogQHBhcmFtIG5vZGUgUm9vdCBlbGVtZW50IHRvIHByb2Nlc3NcbiAgICovXG4gIGZ1bmN0aW9uIHN0cmlwQ3VzdG9tTnNBdHRycyhub2RlKSB7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSB3aW5kb3cuTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgdmFyIGF0dHJzID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF0dHJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIHZhciBhdHRyTm9kZSA9IGF0dHJzW2ldO1xuICAgICAgICAgIHZhciBhdHRyTmFtZSA9IGF0dHJOb2RlLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICd4bWxuczpuczEnIHx8IGF0dHJOYW1lLmxhc3RJbmRleE9mKCduczE6JywgMCkgPT09IDApIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlTm9kZShhdHRyTm9kZSk7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgICAgICBsLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXh0Tm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgIGlmIChuZXh0Tm9kZSkge1xuICAgICAgICBzdHJpcEN1c3RvbU5zQXR0cnMobmV4dE5vZGUpO1xuICAgICAgfVxuXG4gICAgICBub2RlID0gZ2V0Tm9uRGVzY2VuZGFudCgnbmV4dFNpYmxpbmcnLCBub2RlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXROb25EZXNjZW5kYW50KHByb3BOYW1lLCBub2RlKSB7XG4gICAgLy8gQW4gZWxlbWVudCBpcyBjbG9iYmVyZWQgaWYgaXRzIGBwcm9wTmFtZWAgcHJvcGVydHkgcG9pbnRzIHRvIG9uZSBvZiBpdHMgZGVzY2VuZGFudHNcbiAgICB2YXIgbmV4dE5vZGUgPSBub2RlW3Byb3BOYW1lXTtcbiAgICBpZiAobmV4dE5vZGUgJiYgbm9kZUNvbnRhaW5zLmNhbGwobm9kZSwgbmV4dE5vZGUpKSB7XG4gICAgICB0aHJvdyAkc2FuaXRpemVNaW5FcnIoJ2VsY2xvYicsICdGYWlsZWQgdG8gc2FuaXRpemUgaHRtbCBiZWNhdXNlIHRoZSBlbGVtZW50IGlzIGNsb2JiZXJlZDogezB9Jywgbm9kZS5vdXRlckhUTUwgfHwgbm9kZS5vdXRlclRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dE5vZGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2FuaXRpemVUZXh0KGNoYXJzKSB7XG4gIHZhciBidWYgPSBbXTtcbiAgdmFyIHdyaXRlciA9IGh0bWxTYW5pdGl6ZVdyaXRlcihidWYsIG5vb3ApO1xuICB3cml0ZXIuY2hhcnMoY2hhcnMpO1xuICByZXR1cm4gYnVmLmpvaW4oJycpO1xufVxuXG5cbi8vIGRlZmluZSBuZ1Nhbml0aXplIG1vZHVsZSBhbmQgcmVnaXN0ZXIgJHNhbml0aXplIHNlcnZpY2VcbmFuZ3VsYXIubW9kdWxlKCduZ1Nhbml0aXplJywgW10pXG4gIC5wcm92aWRlcignJHNhbml0aXplJywgJFNhbml0aXplUHJvdmlkZXIpXG4gIC5pbmZvKHsgYW5ndWxhclZlcnNpb246ICcxLjcuNycgfSk7XG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgbGlua3lcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBGaW5kcyBsaW5rcyBpbiB0ZXh0IGlucHV0IGFuZCB0dXJucyB0aGVtIGludG8gaHRtbCBsaW5rcy4gU3VwcG9ydHMgYGh0dHAvaHR0cHMvZnRwL3NmdHAvbWFpbHRvYCBhbmRcbiAqIHBsYWluIGVtYWlsIGFkZHJlc3MgbGlua3MuXG4gKlxuICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ1Nhbml0aXplIGBuZ1Nhbml0aXplYH0gbW9kdWxlIHRvIGJlIGluc3RhbGxlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBJbnB1dCB0ZXh0LlxuICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFdpbmRvdyAoYF9ibGFua3xfc2VsZnxfcGFyZW50fF90b3BgKSBvciBuYW1lZCBmcmFtZSB0byBvcGVuIGxpbmtzIGluLlxuICogQHBhcmFtIHtvYmplY3R8ZnVuY3Rpb24odXJsKX0gW2F0dHJpYnV0ZXNdIEFkZCBjdXN0b20gYXR0cmlidXRlcyB0byB0aGUgbGluayBlbGVtZW50LlxuICpcbiAqICAgIENhbiBiZSBvbmUgb2Y6XG4gKlxuICogICAgLSBgb2JqZWN0YDogQSBtYXAgb2YgYXR0cmlidXRlc1xuICogICAgLSBgZnVuY3Rpb25gOiBUYWtlcyB0aGUgdXJsIGFzIGEgcGFyYW1ldGVyIGFuZCByZXR1cm5zIGEgbWFwIG9mIGF0dHJpYnV0ZXNcbiAqXG4gKiAgICBJZiB0aGUgbWFwIG9mIGF0dHJpYnV0ZXMgY29udGFpbnMgYSB2YWx1ZSBmb3IgYHRhcmdldGAsIGl0IG92ZXJyaWRlcyB0aGUgdmFsdWUgb2ZcbiAqICAgIHRoZSB0YXJnZXQgcGFyYW1ldGVyLlxuICpcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBIdG1sLWxpbmtpZmllZCBhbmQge0BsaW5rICRzYW5pdGl6ZSBzYW5pdGl6ZWR9IHRleHQuXG4gKlxuICogQHVzYWdlXG4gICA8c3BhbiBuZy1iaW5kLWh0bWw9XCJsaW5reV9leHByZXNzaW9uIHwgbGlua3lcIj48L3NwYW4+XG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cImxpbmt5RXhhbXBsZVwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCIgbmFtZT1cImxpbmt5LWZpbHRlclwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgU25pcHBldDogPHRleHRhcmVhIG5nLW1vZGVsPVwic25pcHBldFwiIGNvbHM9XCI2MFwiIHJvd3M9XCIzXCI+PC90ZXh0YXJlYT5cbiAgICAgICA8dGFibGU+XG4gICAgICAgICA8dHI+XG4gICAgICAgICAgIDx0aD5GaWx0ZXI8L3RoPlxuICAgICAgICAgICA8dGg+U291cmNlPC90aD5cbiAgICAgICAgICAgPHRoPlJlbmRlcmVkPC90aD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJsaW5reS1maWx0ZXJcIj5cbiAgICAgICAgICAgPHRkPmxpbmt5IGZpbHRlcjwvdGQ+XG4gICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICA8cHJlPiZsdDtkaXYgbmctYmluZC1odG1sPVwic25pcHBldCB8IGxpbmt5XCImZ3Q7PGJyPiZsdDsvZGl2Jmd0OzwvcHJlPlxuICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgPGRpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0IHwgbGlua3lcIj48L2Rpdj5cbiAgICAgICAgICAgPC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJsaW5reS10YXJnZXRcIj5cbiAgICAgICAgICA8dGQ+bGlua3kgdGFyZ2V0PC90ZD5cbiAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICA8cHJlPiZsdDtkaXYgbmctYmluZC1odG1sPVwic25pcHBldFdpdGhTaW5nbGVVUkwgfCBsaW5reTonX2JsYW5rJ1wiJmd0Ozxicj4mbHQ7L2RpdiZndDs8L3ByZT5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIDxkaXYgbmctYmluZC1odG1sPVwic25pcHBldFdpdGhTaW5nbGVVUkwgfCBsaW5reTonX2JsYW5rJ1wiPjwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgICAgPHRyIGlkPVwibGlua3ktY3VzdG9tLWF0dHJpYnV0ZXNcIj5cbiAgICAgICAgICA8dGQ+bGlua3kgY3VzdG9tIGF0dHJpYnV0ZXM8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIDxwcmU+Jmx0O2RpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0V2l0aFNpbmdsZVVSTCB8IGxpbmt5Oidfc2VsZic6e3JlbDogJ25vZm9sbG93J31cIiZndDs8YnI+Jmx0Oy9kaXYmZ3Q7PC9wcmU+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICA8ZGl2IG5nLWJpbmQtaHRtbD1cInNuaXBwZXRXaXRoU2luZ2xlVVJMIHwgbGlua3k6J19zZWxmJzp7cmVsOiAnbm9mb2xsb3cnfVwiPjwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgICAgPHRyIGlkPVwiZXNjYXBlZC1odG1sXCI+XG4gICAgICAgICAgIDx0ZD5ubyBmaWx0ZXI8L3RkPlxuICAgICAgICAgICA8dGQ+PHByZT4mbHQ7ZGl2IG5nLWJpbmQ9XCJzbmlwcGV0XCImZ3Q7PGJyPiZsdDsvZGl2Jmd0OzwvcHJlPjwvdGQ+XG4gICAgICAgICAgIDx0ZD48ZGl2IG5nLWJpbmQ9XCJzbmlwcGV0XCI+PC9kaXY+PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgPC90YWJsZT5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2xpbmt5RXhhbXBsZScsIFsnbmdTYW5pdGl6ZSddKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgJHNjb3BlLnNuaXBwZXQgPVxuICAgICAgICAgICAgICdQcmV0dHkgdGV4dCB3aXRoIHNvbWUgbGlua3M6XFxuJyArXG4gICAgICAgICAgICAgJ2h0dHA6Ly9hbmd1bGFyanMub3JnLyxcXG4nICtcbiAgICAgICAgICAgICAnbWFpbHRvOnVzQHNvbWV3aGVyZS5vcmcsXFxuJyArXG4gICAgICAgICAgICAgJ2Fub3RoZXJAc29tZXdoZXJlLm9yZyxcXG4nICtcbiAgICAgICAgICAgICAnYW5kIG9uZSBtb3JlOiBmdHA6Ly8xMjcuMC4wLjEvLic7XG4gICAgICAgICAgICRzY29wZS5zbmlwcGV0V2l0aFNpbmdsZVVSTCA9ICdodHRwOi8vYW5ndWxhcmpzLm9yZy8nO1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGxpbmtpZnkgdGhlIHNuaXBwZXQgd2l0aCB1cmxzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGlua3ktZmlsdGVyJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCB8IGxpbmt5JykpLmdldFRleHQoKSkuXG4gICAgICAgICAgICAgdG9CZSgnUHJldHR5IHRleHQgd2l0aCBzb21lIGxpbmtzOiBodHRwOi8vYW5ndWxhcmpzLm9yZy8sIHVzQHNvbWV3aGVyZS5vcmcsICcgK1xuICAgICAgICAgICAgICAgICAgJ2Fub3RoZXJAc29tZXdoZXJlLm9yZywgYW5kIG9uZSBtb3JlOiBmdHA6Ly8xMjcuMC4wLjEvLicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnI2xpbmt5LWZpbHRlciBhJykpLmNvdW50KCkpLnRvRXF1YWwoNCk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIG5vdCBsaW5raWZ5IHNuaXBwZXQgd2l0aG91dCB0aGUgbGlua3kgZmlsdGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZXNjYXBlZC1odG1sJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCcpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgIHRvQmUoJ1ByZXR0eSB0ZXh0IHdpdGggc29tZSBsaW5rczogaHR0cDovL2FuZ3VsYXJqcy5vcmcvLCBtYWlsdG86dXNAc29tZXdoZXJlLm9yZywgJyArXG4gICAgICAgICAgICAgICAgICAnYW5vdGhlckBzb21ld2hlcmUub3JnLCBhbmQgb25lIG1vcmU6IGZ0cDovLzEyNy4wLjAuMS8uJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCcjZXNjYXBlZC1odG1sIGEnKSkuY291bnQoKSkudG9FcXVhbCgwKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgdXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzbmlwcGV0JykpLmNsZWFyKCk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzbmlwcGV0JykpLnNlbmRLZXlzKCduZXcgaHR0cDovL2xpbmsuJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGlua3ktZmlsdGVyJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCB8IGxpbmt5JykpLmdldFRleHQoKSkuXG4gICAgICAgICAgICAgdG9CZSgnbmV3IGh0dHA6Ly9saW5rLicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnI2xpbmt5LWZpbHRlciBhJykpLmNvdW50KCkpLnRvRXF1YWwoMSk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZXNjYXBlZC1odG1sJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCcpKS5nZXRUZXh0KCkpXG4gICAgICAgICAgICAgLnRvQmUoJ25ldyBodHRwOi8vbGluay4nKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgd29yayB3aXRoIHRoZSB0YXJnZXQgcHJvcGVydHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmt5LXRhcmdldCcpKS5cbiAgICAgICAgICAgIGVsZW1lbnQoYnkuYmluZGluZyhcInNuaXBwZXRXaXRoU2luZ2xlVVJMIHwgbGlua3k6J19ibGFuaydcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b0JlKCdodHRwOi8vYW5ndWxhcmpzLm9yZy8nKTtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjbGlua3ktdGFyZ2V0IGEnKSkuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKSkudG9FcXVhbCgnX2JsYW5rJyk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIG9wdGlvbmFsbHkgYWRkIGN1c3RvbSBhdHRyaWJ1dGVzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5reS1jdXN0b20tYXR0cmlidXRlcycpKS5cbiAgICAgICAgICAgIGVsZW1lbnQoYnkuYmluZGluZyhcInNuaXBwZXRXaXRoU2luZ2xlVVJMIHwgbGlua3k6J19zZWxmJzp7cmVsOiAnbm9mb2xsb3cnfVwiKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgIHRvQmUoJ2h0dHA6Ly9hbmd1bGFyanMub3JnLycpO1xuICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNsaW5reS1jdXN0b20tYXR0cmlidXRlcyBhJykpLmdldEF0dHJpYnV0ZSgncmVsJykpLnRvRXF1YWwoJ25vZm9sbG93Jyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ25nU2FuaXRpemUnKS5maWx0ZXIoJ2xpbmt5JywgWyckc2FuaXRpemUnLCBmdW5jdGlvbigkc2FuaXRpemUpIHtcbiAgdmFyIExJTktZX1VSTF9SRUdFWFAgPVxuICAgICAgICAvKChzP2Z0cHxodHRwcz8pOlxcL1xcL3wod3d3XFwuKXwobWFpbHRvOik/W0EtWmEtejAtOS5fJSstXStAKVxcUypbXlxccy47LCgpe308PlwiXFx1MjAxZFxcdTIwMTldL2ksXG4gICAgICBNQUlMVE9fUkVHRVhQID0gL15tYWlsdG86L2k7XG5cbiAgdmFyIGxpbmt5TWluRXJyID0gYW5ndWxhci4kJG1pbkVycignbGlua3knKTtcbiAgdmFyIGlzRGVmaW5lZCA9IGFuZ3VsYXIuaXNEZWZpbmVkO1xuICB2YXIgaXNGdW5jdGlvbiA9IGFuZ3VsYXIuaXNGdW5jdGlvbjtcbiAgdmFyIGlzT2JqZWN0ID0gYW5ndWxhci5pc09iamVjdDtcbiAgdmFyIGlzU3RyaW5nID0gYW5ndWxhci5pc1N0cmluZztcblxuICByZXR1cm4gZnVuY3Rpb24odGV4dCwgdGFyZ2V0LCBhdHRyaWJ1dGVzKSB7XG4gICAgaWYgKHRleHQgPT0gbnVsbCB8fCB0ZXh0ID09PSAnJykgcmV0dXJuIHRleHQ7XG4gICAgaWYgKCFpc1N0cmluZyh0ZXh0KSkgdGhyb3cgbGlua3lNaW5FcnIoJ25vdHN0cmluZycsICdFeHBlY3RlZCBzdHJpbmcgYnV0IHJlY2VpdmVkOiB7MH0nLCB0ZXh0KTtcblxuICAgIHZhciBhdHRyaWJ1dGVzRm4gPVxuICAgICAgaXNGdW5jdGlvbihhdHRyaWJ1dGVzKSA/IGF0dHJpYnV0ZXMgOlxuICAgICAgaXNPYmplY3QoYXR0cmlidXRlcykgPyBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVzT2JqZWN0KCkge3JldHVybiBhdHRyaWJ1dGVzO30gOlxuICAgICAgZnVuY3Rpb24gZ2V0RW1wdHlBdHRyaWJ1dGVzT2JqZWN0KCkge3JldHVybiB7fTt9O1xuXG4gICAgdmFyIG1hdGNoO1xuICAgIHZhciByYXcgPSB0ZXh0O1xuICAgIHZhciBodG1sID0gW107XG4gICAgdmFyIHVybDtcbiAgICB2YXIgaTtcbiAgICB3aGlsZSAoKG1hdGNoID0gcmF3Lm1hdGNoKExJTktZX1VSTF9SRUdFWFApKSkge1xuICAgICAgLy8gV2UgY2FuIG5vdCBlbmQgaW4gdGhlc2UgYXMgdGhleSBhcmUgc29tZXRpbWVzIGZvdW5kIGF0IHRoZSBlbmQgb2YgdGhlIHNlbnRlbmNlXG4gICAgICB1cmwgPSBtYXRjaFswXTtcbiAgICAgIC8vIGlmIHdlIGRpZCBub3QgbWF0Y2ggZnRwL2h0dHAvd3d3L21haWx0byB0aGVuIGFzc3VtZSBtYWlsdG9cbiAgICAgIGlmICghbWF0Y2hbMl0gJiYgIW1hdGNoWzRdKSB7XG4gICAgICAgIHVybCA9IChtYXRjaFszXSA/ICdodHRwOi8vJyA6ICdtYWlsdG86JykgKyB1cmw7XG4gICAgICB9XG4gICAgICBpID0gbWF0Y2guaW5kZXg7XG4gICAgICBhZGRUZXh0KHJhdy5zdWJzdHIoMCwgaSkpO1xuICAgICAgYWRkTGluayh1cmwsIG1hdGNoWzBdLnJlcGxhY2UoTUFJTFRPX1JFR0VYUCwgJycpKTtcbiAgICAgIHJhdyA9IHJhdy5zdWJzdHJpbmcoaSArIG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgfVxuICAgIGFkZFRleHQocmF3KTtcbiAgICByZXR1cm4gJHNhbml0aXplKGh0bWwuam9pbignJykpO1xuXG4gICAgZnVuY3Rpb24gYWRkVGV4dCh0ZXh0KSB7XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaHRtbC5wdXNoKHNhbml0aXplVGV4dCh0ZXh0KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkTGluayh1cmwsIHRleHQpIHtcbiAgICAgIHZhciBrZXksIGxpbmtBdHRyaWJ1dGVzID0gYXR0cmlidXRlc0ZuKHVybCk7XG4gICAgICBodG1sLnB1c2goJzxhICcpO1xuXG4gICAgICBmb3IgKGtleSBpbiBsaW5rQXR0cmlidXRlcykge1xuICAgICAgICBodG1sLnB1c2goa2V5ICsgJz1cIicgKyBsaW5rQXR0cmlidXRlc1trZXldICsgJ1wiICcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNEZWZpbmVkKHRhcmdldCkgJiYgISgndGFyZ2V0JyBpbiBsaW5rQXR0cmlidXRlcykpIHtcbiAgICAgICAgaHRtbC5wdXNoKCd0YXJnZXQ9XCInLFxuICAgICAgICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgJ1wiICcpO1xuICAgICAgfVxuICAgICAgaHRtbC5wdXNoKCdocmVmPVwiJyxcbiAgICAgICAgICAgICAgICB1cmwucmVwbGFjZSgvXCIvZywgJyZxdW90OycpLFxuICAgICAgICAgICAgICAgICdcIj4nKTtcbiAgICAgIGFkZFRleHQodGV4dCk7XG4gICAgICBodG1sLnB1c2goJzwvYT4nKTtcbiAgICB9XG4gIH07XG59XSk7XG5cblxufSkod2luZG93LCB3aW5kb3cuYW5ndWxhcik7XG5cbn0se31dLDgxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnJlcXVpcmUoJy4vYW5ndWxhci1zYW5pdGl6ZScpO1xubW9kdWxlLmV4cG9ydHMgPSAnbmdTYW5pdGl6ZSc7XG5cbn0se1wiLi9hbmd1bGFyLXNhbml0aXplXCI6ODB9XSw4MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKiFcbiAqIGFuZ3VsYXItdHJhbnNsYXRlIC0gdjIuMTguMSAtIDIwMTgtMDUtMTlcbiAqIFxuICogQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBhbmd1bGFyLXRyYW5zbGF0ZSB0ZWFtLCBQYXNjYWwgUHJlY2h0OyBMaWNlbnNlZCBNSVRcbiAqL1xuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUgdW5sZXNzIGFtZE1vZHVsZUlkIGlzIHNldFxuICAgIGRlZmluZShbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIChmYWN0b3J5KCkpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBOb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XG5cbiR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlci4kaW5qZWN0ID0gWyckcScsICckaHR0cCddO1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlclxuICogQHJlcXVpcmVzICRxXG4gKiBAcmVxdWlyZXMgJGh0dHBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhIHR5cGljYWwgc3RhdGljIGZpbGUgdXJsIHBhdHRlcm46XG4gKiBcImxhbmctZW5fVVMuanNvblwiLCBcImxhbmctZGVfREUuanNvblwiLCBldGMuIFVzaW5nIHRoaXMgYnVpbGRlcixcbiAqIHRoZSByZXNwb25zZSBvZiB0aGVzZSB1cmxzIG11c3QgYmUgYW4gb2JqZWN0IG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdCwgd2hpY2ggZ2V0cyBwcmVmaXgsIHN1ZmZpeCwga2V5LCBhbmQgZmlsZU1hcFxuICovXG4uZmFjdG9yeSgnJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyJywgJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyKTtcblxuZnVuY3Rpb24gJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyKCRxLCAkaHR0cCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICByZXR1cm4gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblxuICAgIGlmICghb3B0aW9ucyB8fCAoIWFuZ3VsYXIuaXNBcnJheShvcHRpb25zLmZpbGVzKSAmJiAoIWFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5wcmVmaXgpIHx8ICFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMuc3VmZml4KSkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkblxcJ3QgbG9hZCBzdGF0aWMgZmlsZXMsIG5vIGZpbGVzIGFuZCBwcmVmaXggb3Igc3VmZml4IHNwZWNpZmllZCEnKTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMuZmlsZXMpIHtcbiAgICAgIG9wdGlvbnMuZmlsZXMgPSBbe1xuICAgICAgICBwcmVmaXg6IG9wdGlvbnMucHJlZml4LFxuICAgICAgICBzdWZmaXg6IG9wdGlvbnMuc3VmZml4XG4gICAgICB9XTtcbiAgICB9XG5cbiAgICB2YXIgbG9hZCA9IGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICBpZiAoIWZpbGUgfHwgKCFhbmd1bGFyLmlzU3RyaW5nKGZpbGUucHJlZml4KSB8fCAhYW5ndWxhci5pc1N0cmluZyhmaWxlLnN1ZmZpeCkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCBsb2FkIHN0YXRpYyBmaWxlLCBubyBwcmVmaXggb3Igc3VmZml4IHNwZWNpZmllZCEnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZpbGVVcmwgPSBbXG4gICAgICAgIGZpbGUucHJlZml4LFxuICAgICAgICBvcHRpb25zLmtleSxcbiAgICAgICAgZmlsZS5zdWZmaXhcbiAgICAgIF0uam9pbignJyk7XG5cbiAgICAgIGlmIChhbmd1bGFyLmlzT2JqZWN0KG9wdGlvbnMuZmlsZU1hcCkgJiYgb3B0aW9ucy5maWxlTWFwW2ZpbGVVcmxdKSB7XG4gICAgICAgIGZpbGVVcmwgPSBvcHRpb25zLmZpbGVNYXBbZmlsZVVybF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkaHR0cChhbmd1bGFyLmV4dGVuZCh7XG4gICAgICAgIHVybDogZmlsZVVybCxcbiAgICAgICAgbWV0aG9kOiAnR0VUJ1xuICAgICAgfSwgb3B0aW9ucy4kaHR0cCkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAkcS5yZWplY3Qob3B0aW9ucy5rZXkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIHByb21pc2VzID0gW10sXG4gICAgICAgIGxlbmd0aCA9IG9wdGlvbnMuZmlsZXMubGVuZ3RoO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcHJvbWlzZXMucHVzaChsb2FkKHtcbiAgICAgICAgcHJlZml4OiBvcHRpb25zLmZpbGVzW2ldLnByZWZpeCxcbiAgICAgICAga2V5OiBvcHRpb25zLmtleSxcbiAgICAgICAgc3VmZml4OiBvcHRpb25zLmZpbGVzW2ldLnN1ZmZpeFxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiAkcS5hbGwocHJvbWlzZXMpXG4gICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgICBtZXJnZWREYXRhID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhW2ldKSB7XG4gICAgICAgICAgICBtZXJnZWREYXRhW2tleV0gPSBkYXRhW2ldW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lcmdlZERhdGE7XG4gICAgICB9KTtcbiAgfTtcbn1cblxuJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyLmRpc3BsYXlOYW1lID0gJyR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlcic7XG5yZXR1cm4gJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnO1xuXG59KSk7XG5cbn0se31dLDgzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qIVxuICogYW5ndWxhci10cmFuc2xhdGUgLSB2Mi4xOC4xIC0gMjAxOC0wNS0xOVxuICogXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggVGhlIGFuZ3VsYXItdHJhbnNsYXRlIHRlYW0sIFBhc2NhbCBQcmVjaHQ7IExpY2Vuc2VkIE1JVFxuICovXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSB1bmxlc3MgYW1kTW9kdWxlSWQgaXMgc2V0XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gKGZhY3RvcnkoKSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAvLyBsaWtlIE5vZGUuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VGYWN0b3J5LiRpbmplY3QgPSBbJyRpbmplY3RvciddO1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VcbiAqIEByZXF1aXJlcyAkY29va2llU3RvcmVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFic3RyYWN0aW9uIGxheWVyIGZvciBjb29raWVTdG9yZS4gVGhpcyBzZXJ2aWNlIGlzIHVzZWQgd2hlbiB0ZWxsaW5nIGFuZ3VsYXItdHJhbnNsYXRlXG4gKiB0byB1c2UgY29va2llU3RvcmUgYXMgc3RvcmFnZS5cbiAqXG4gKi9cbiAgLmZhY3RvcnkoJyR0cmFuc2xhdGVDb29raWVTdG9yYWdlJywgJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VGYWN0b3J5KTtcblxuZnVuY3Rpb24gJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VGYWN0b3J5KCRpbmplY3Rvcikge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBTaW5jZSBBbmd1bGFySlMgMS40LCAkY29va2llU3RvcmUgaXMgZGVwcmVjYXRlZFxuICB2YXIgZGVsZWdhdGU7XG4gIGlmIChhbmd1bGFyLnZlcnNpb24ubWFqb3IgPT09IDEgJiYgYW5ndWxhci52ZXJzaW9uLm1pbm9yID49IDQpIHtcbiAgICB2YXIgJGNvb2tpZXMgPSAkaW5qZWN0b3IuZ2V0KCckY29va2llcycpO1xuICAgIGRlbGVnYXRlID0ge1xuICAgICAgZ2V0IDogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gJGNvb2tpZXMuZ2V0KGtleSk7XG4gICAgICB9LFxuICAgICAgcHV0IDogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgJGNvb2tpZXMucHV0KGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdmFyICRjb29raWVTdG9yZSA9ICRpbmplY3Rvci5nZXQoJyRjb29raWVTdG9yZScpO1xuICAgIGRlbGVnYXRlID0ge1xuICAgICAgZ2V0IDogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gJGNvb2tpZVN0b3JlLmdldChrZXkpO1xuICAgICAgfSxcbiAgICAgIHB1dCA6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICRjb29raWVTdG9yZS5wdXQoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHZhciAkdHJhbnNsYXRlQ29va2llU3RvcmFnZSA9IHtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2UjZ2V0XG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYW4gaXRlbSBmcm9tIGNvb2tpZVN0b3JhZ2UgYnkgZ2l2ZW4gbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEl0ZW0gbmFtZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVmFsdWUgb2YgaXRlbSBuYW1lXG4gICAgICovXG4gICAgZ2V0IDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIHJldHVybiBkZWxlZ2F0ZS5nZXQobmFtZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2Ujc2V0XG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNldHMgYW4gaXRlbSBpbiBjb29raWVTdG9yYWdlIGJ5IGdpdmVuIG5hbWUuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgI3B1dFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgSXRlbSBuYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIEl0ZW0gdmFsdWVcbiAgICAgKi9cbiAgICBzZXQgOiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgIGRlbGVnYXRlLnB1dChuYW1lLCB2YWx1ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2UjcHV0XG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNldHMgYW4gaXRlbSBpbiBjb29raWVTdG9yYWdlIGJ5IGdpdmVuIG5hbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBJdGVtIG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgSXRlbSB2YWx1ZVxuICAgICAqL1xuICAgIHB1dCA6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgZGVsZWdhdGUucHV0KG5hbWUsIHZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuICR0cmFuc2xhdGVDb29raWVTdG9yYWdlO1xufVxuXG4kdHJhbnNsYXRlQ29va2llU3RvcmFnZUZhY3RvcnkuZGlzcGxheU5hbWUgPSAnJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2UnO1xucmV0dXJuICdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJztcblxufSkpO1xuXG59LHt9XSw4NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKiFcbiAqIGFuZ3VsYXItdHJhbnNsYXRlIC0gdjIuMTguMSAtIDIwMTgtMDUtMTlcbiAqIFxuICogQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBhbmd1bGFyLXRyYW5zbGF0ZSB0ZWFtLCBQYXNjYWwgUHJlY2h0OyBMaWNlbnNlZCBNSVRcbiAqL1xuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUgdW5sZXNzIGFtZE1vZHVsZUlkIGlzIHNldFxuICAgIGRlZmluZShbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIChmYWN0b3J5KCkpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBOb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XG5cbiR0cmFuc2xhdGVMb2NhbFN0b3JhZ2VGYWN0b3J5LiRpbmplY3QgPSBbJyR3aW5kb3cnLCAnJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2UnXTtcbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVMb2NhbFN0b3JhZ2VcbiAqIEByZXF1aXJlcyAkd2luZG93XG4gKiBAcmVxdWlyZXMgJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFic3RyYWN0aW9uIGxheWVyIGZvciBsb2NhbFN0b3JhZ2UuIFRoaXMgc2VydmljZSBpcyB1c2VkIHdoZW4gdGVsbGluZyBhbmd1bGFyLXRyYW5zbGF0ZVxuICogdG8gdXNlIGxvY2FsU3RvcmFnZSBhcyBzdG9yYWdlLlxuICpcbiAqL1xuLmZhY3RvcnkoJyR0cmFuc2xhdGVMb2NhbFN0b3JhZ2UnLCAkdHJhbnNsYXRlTG9jYWxTdG9yYWdlRmFjdG9yeSk7XG5cbmZ1bmN0aW9uICR0cmFuc2xhdGVMb2NhbFN0b3JhZ2VGYWN0b3J5KCR3aW5kb3csICR0cmFuc2xhdGVDb29raWVTdG9yYWdlKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFNldHVwIGFkYXB0ZXJcbiAgdmFyIGxvY2FsU3RvcmFnZUFkYXB0ZXIgPSAoZnVuY3Rpb24oKXtcbiAgICB2YXIgbGFuZ0tleTtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZSNnZXRcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVMb2NhbFN0b3JhZ2VcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgYW4gaXRlbSBmcm9tIGxvY2FsU3RvcmFnZSBieSBnaXZlbiBuYW1lLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEl0ZW0gbmFtZVxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBWYWx1ZSBvZiBpdGVtIG5hbWVcbiAgICAgICAqL1xuICAgICAgZ2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBpZighbGFuZ0tleSkge1xuICAgICAgICAgIGxhbmdLZXkgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKG5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxhbmdLZXk7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZSNzZXRcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVMb2NhbFN0b3JhZ2VcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFNldHMgYW4gaXRlbSBpbiBsb2NhbFN0b3JhZ2UgYnkgZ2l2ZW4gbmFtZS5cbiAgICAgICAqXG4gICAgICAgKiBAZGVwcmVjYXRlZCB1c2UgI3B1dFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEl0ZW0gbmFtZVxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIEl0ZW0gdmFsdWVcbiAgICAgICAqL1xuICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgbGFuZ0tleT12YWx1ZTtcbiAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShuYW1lLCB2YWx1ZSk7XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZSNwdXRcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVMb2NhbFN0b3JhZ2VcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFNldHMgYW4gaXRlbSBpbiBsb2NhbFN0b3JhZ2UgYnkgZ2l2ZW4gbmFtZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBJdGVtIG5hbWVcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBJdGVtIHZhbHVlXG4gICAgICAgKi9cbiAgICAgIHB1dDogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGxhbmdLZXk9dmFsdWU7XG4gICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0obmFtZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gIH0oKSk7XG5cbiAgdmFyIGhhc0xvY2FsU3RvcmFnZVN1cHBvcnQgPSAnbG9jYWxTdG9yYWdlJyBpbiAkd2luZG93O1xuICBpZiAoaGFzTG9jYWxTdG9yYWdlU3VwcG9ydCkge1xuICAgIHZhciB0ZXN0S2V5ID0gJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUuc3RvcmFnZVRlc3QnO1xuICAgIHRyeSB7XG4gICAgICAvLyB0aGlzIGNoZWNrIGhhdmUgdG8gYmUgd3JhcHBlZCB3aXRoaW4gYSB0cnkvY2F0Y2ggYmVjYXVzZSBvblxuICAgICAgLy8gYSBTZWN1cml0eUVycm9yOiBEb20gRXhjZXB0aW9uIDE4IG9uIGlPU1xuICAgICAgaWYgKCR3aW5kb3cubG9jYWxTdG9yYWdlICE9PSBudWxsKSB7XG4gICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGVzdEtleSwgJ2ZvbycpO1xuICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRlc3RLZXkpO1xuICAgICAgICBoYXNMb2NhbFN0b3JhZ2VTdXBwb3J0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhc0xvY2FsU3RvcmFnZVN1cHBvcnQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKXtcbiAgICAgIGhhc0xvY2FsU3RvcmFnZVN1cHBvcnQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgdmFyICR0cmFuc2xhdGVMb2NhbFN0b3JhZ2UgPSBoYXNMb2NhbFN0b3JhZ2VTdXBwb3J0ID8gbG9jYWxTdG9yYWdlQWRhcHRlciA6ICR0cmFuc2xhdGVDb29raWVTdG9yYWdlO1xuICByZXR1cm4gJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZTtcbn1cblxuJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZUZhY3RvcnkuZGlzcGxheU5hbWUgPSAnJHRyYW5zbGF0ZUxvY2FsU3RvcmFnZUZhY3RvcnknO1xucmV0dXJuICdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJztcblxufSkpO1xuXG59LHt9XSw4NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKiFcbiAqIGFuZ3VsYXItdHJhbnNsYXRlIC0gdjIuMTguMSAtIDIwMTgtMDUtMTlcbiAqIFxuICogQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBhbmd1bGFyLXRyYW5zbGF0ZSB0ZWFtLCBQYXNjYWwgUHJlY2h0OyBMaWNlbnNlZCBNSVRcbiAqL1xuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUgdW5sZXNzIGFtZE1vZHVsZUlkIGlzIHNldFxuICAgIGRlZmluZShbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIChmYWN0b3J5KCkpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBOb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XG5cbi8qKlxuICogQG5nZG9jIG92ZXJ2aWV3XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgbWFpbiBtb2R1bGUgd2hpY2ggaG9sZHMgZXZlcnl0aGluZyB0b2dldGhlci5cbiAqL1xucnVuVHJhbnNsYXRlLiRpbmplY3QgPSBbJyR0cmFuc2xhdGUnXTtcbiR0cmFuc2xhdGUuJGluamVjdCA9IFsnJFNUT1JBR0VfS0VZJywgJyR3aW5kb3dQcm92aWRlcicsICckdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXInLCAncGFzY2FscHJlY2h0VHJhbnNsYXRlT3ZlcnJpZGVyJ107XG4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24uJGluamVjdCA9IFsnJGludGVycG9sYXRlJywgJyR0cmFuc2xhdGVTYW5pdGl6YXRpb24nXTtcbnRyYW5zbGF0ZURpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdHJhbnNsYXRlJywgJyRpbnRlcnBvbGF0ZScsICckY29tcGlsZScsICckcGFyc2UnLCAnJHJvb3RTY29wZSddO1xudHJhbnNsYXRlQXR0ckRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckdHJhbnNsYXRlJywgJyRyb290U2NvcGUnXTtcbnRyYW5zbGF0ZUNsb2FrRGlyZWN0aXZlLiRpbmplY3QgPSBbJyR0cmFuc2xhdGUnLCAnJHJvb3RTY29wZSddO1xudHJhbnNsYXRlRmlsdGVyRmFjdG9yeS4kaW5qZWN0ID0gWyckcGFyc2UnLCAnJHRyYW5zbGF0ZSddO1xuJHRyYW5zbGF0aW9uQ2FjaGUuJGluamVjdCA9IFsnJGNhY2hlRmFjdG9yeSddO1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnLCBbJ25nJ10pXG4gIC5ydW4ocnVuVHJhbnNsYXRlKTtcblxuZnVuY3Rpb24gcnVuVHJhbnNsYXRlKCR0cmFuc2xhdGUpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGtleSA9ICR0cmFuc2xhdGUuc3RvcmFnZUtleSgpLFxuICAgIHN0b3JhZ2UgPSAkdHJhbnNsYXRlLnN0b3JhZ2UoKTtcblxuICB2YXIgZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcmVmZXJyZWQgPSAkdHJhbnNsYXRlLnByZWZlcnJlZExhbmd1YWdlKCk7XG4gICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcocHJlZmVycmVkKSkge1xuICAgICAgJHRyYW5zbGF0ZS51c2UocHJlZmVycmVkKTtcbiAgICAgIC8vICR0cmFuc2xhdGUudXNlKCkgd2lsbCBhbHNvIHJlbWVtYmVyIHRoZSBsYW5ndWFnZS5cbiAgICAgIC8vIFNvLCB3ZSBkb24ndCBuZWVkIHRvIGNhbGwgc3RvcmFnZS5wdXQoKSBoZXJlLlxuICAgIH0gZWxzZSB7XG4gICAgICBzdG9yYWdlLnB1dChrZXksICR0cmFuc2xhdGUudXNlKCkpO1xuICAgIH1cbiAgfTtcblxuICBmYWxsYmFja0Zyb21JbmNvcnJlY3RTdG9yYWdlVmFsdWUuZGlzcGxheU5hbWUgPSAnZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlJztcblxuICBpZiAoc3RvcmFnZSkge1xuICAgIGlmICghc3RvcmFnZS5nZXQoa2V5KSkge1xuICAgICAgZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0cmFuc2xhdGUudXNlKHN0b3JhZ2UuZ2V0KGtleSkpWydjYXRjaCddKGZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSgpKSkge1xuICAgICR0cmFuc2xhdGUudXNlKCR0cmFuc2xhdGUucHJlZmVycmVkTGFuZ3VhZ2UoKSk7XG4gIH1cbn1cblxucnVuVHJhbnNsYXRlLmRpc3BsYXlOYW1lID0gJ3J1blRyYW5zbGF0ZSc7XG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBDb25maWd1cmF0aW9ucyBmb3IgJHRyYW5zbGF0ZVNhbml0aXphdGlvblxuICovXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpLnByb3ZpZGVyKCckdHJhbnNsYXRlU2FuaXRpemF0aW9uJywgJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyKTtcblxuZnVuY3Rpb24gJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyICgpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyICRzYW5pdGl6ZSxcbiAgICAgICRzY2UsXG4gICAgICBjdXJyZW50U3RyYXRlZ3kgPSBudWxsLCAvLyBUT0RPIGNoYW5nZSB0byBlaXRoZXIgJ3Nhbml0aXplJywgJ2VzY2FwZScgb3IgWydzYW5pdGl6ZScsICdlc2NhcGVQYXJhbWV0ZXJzJ10gaW4gMy4wLlxuICAgICAgaGFzQ29uZmlndXJlZFN0cmF0ZWd5ID0gZmFsc2UsXG4gICAgICBoYXNTaG93bk5vU3RyYXRlZ3lDb25maWd1cmVkV2FybmluZyA9IGZhbHNlLFxuICAgICAgc3RyYXRlZ2llcztcblxuICAvKipcbiAgICogRGVmaW5pdGlvbiBvZiBhIHNhbml0aXphdGlvbiBzdHJhdGVneSBmdW5jdGlvblxuICAgKiBAY2FsbGJhY2sgU3RyYXRlZ3lGdW5jdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHZhbHVlIC0gdmFsdWUgdG8gYmUgc2FuaXRpemVkIChlaXRoZXIgYSBzdHJpbmcgb3IgYW4gaW50ZXJwb2xhdGVkIHZhbHVlIG1hcClcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBlaXRoZXIgJ3RleHQnIGZvciBhIHN0cmluZyAodHJhbnNsYXRpb24pIG9yICdwYXJhbXMnIGZvciB0aGUgaW50ZXJwb2xhdGVkIHBhcmFtc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd8b2JqZWN0fVxuICAgKi9cblxuICAvKipcbiAgICogQG5nZG9jIHByb3BlcnR5XG4gICAqIEBuYW1lIHN0cmF0ZWdpZXNcbiAgICogQHByb3BlcnR5T2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEZvbGxvd2luZyBzdHJhdGVnaWVzIGFyZSBidWlsdC1pbjpcbiAgICogPGRsPlxuICAgKiAgIDxkdD5zYW5pdGl6ZTwvZHQ+XG4gICAqICAgPGRkPlNhbml0aXplcyBIVE1MIGluIHRoZSB0cmFuc2xhdGlvbiB0ZXh0IHVzaW5nICRzYW5pdGl6ZTwvZGQ+XG4gICAqICAgPGR0PmVzY2FwZTwvZHQ+XG4gICAqICAgPGRkPkVzY2FwZXMgSFRNTCBpbiB0aGUgdHJhbnNsYXRpb248L2RkPlxuICAgKiAgIDxkdD5zYW5pdGl6ZVBhcmFtZXRlcnM8L2R0PlxuICAgKiAgIDxkZD5TYW5pdGl6ZXMgSFRNTCBpbiB0aGUgdmFsdWVzIG9mIHRoZSBpbnRlcnBvbGF0aW9uIHBhcmFtZXRlcnMgdXNpbmcgJHNhbml0aXplPC9kZD5cbiAgICogICA8ZHQ+ZXNjYXBlUGFyYW1ldGVyczwvZHQ+XG4gICAqICAgPGRkPkVzY2FwZXMgSFRNTCBpbiB0aGUgdmFsdWVzIG9mIHRoZSBpbnRlcnBvbGF0aW9uIHBhcmFtZXRlcnM8L2RkPlxuICAgKiAgIDxkdD5lc2NhcGVkPC9kdD5cbiAgICogICA8ZGQ+U3VwcG9ydCBsZWdhY3kgc3RyYXRlZ3kgbmFtZSAnZXNjYXBlZCcgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5ICh3aWxsIGJlIHJlbW92ZWQgaW4gMy4wKTwvZGQ+XG4gICAqIDwvZGw+XG4gICAqXG4gICAqL1xuXG4gIHN0cmF0ZWdpZXMgPSB7XG4gICAgc2FuaXRpemU6IGZ1bmN0aW9uICh2YWx1ZSwgbW9kZS8qLCBjb250ZXh0Ki8pIHtcbiAgICAgIGlmIChtb2RlID09PSAndGV4dCcpIHtcbiAgICAgICAgdmFsdWUgPSBodG1sU2FuaXRpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBlc2NhcGU6IGZ1bmN0aW9uICh2YWx1ZSwgbW9kZS8qLCBjb250ZXh0Ki8pIHtcbiAgICAgIGlmIChtb2RlID09PSAndGV4dCcpIHtcbiAgICAgICAgdmFsdWUgPSBodG1sRXNjYXBlVmFsdWUodmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgc2FuaXRpemVQYXJhbWV0ZXJzOiBmdW5jdGlvbiAodmFsdWUsIG1vZGUvKiwgY29udGV4dCovKSB7XG4gICAgICBpZiAobW9kZSA9PT0gJ3BhcmFtcycpIHtcbiAgICAgICAgdmFsdWUgPSBtYXBJbnRlcnBvbGF0aW9uUGFyYW1ldGVycyh2YWx1ZSwgaHRtbFNhbml0aXplVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgZXNjYXBlUGFyYW1ldGVyczogZnVuY3Rpb24gKHZhbHVlLCBtb2RlLyosIGNvbnRleHQqLykge1xuICAgICAgaWYgKG1vZGUgPT09ICdwYXJhbXMnKSB7XG4gICAgICAgIHZhbHVlID0gbWFwSW50ZXJwb2xhdGlvblBhcmFtZXRlcnModmFsdWUsIGh0bWxFc2NhcGVWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBzY2U6IGZ1bmN0aW9uICh2YWx1ZSwgbW9kZSwgY29udGV4dCkge1xuICAgICAgaWYgKG1vZGUgPT09ICd0ZXh0Jykge1xuICAgICAgICB2YWx1ZSA9IGh0bWxUcnVzdFZhbHVlKHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ3BhcmFtcycpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgIT09ICdmaWx0ZXInKSB7XG4gICAgICAgICAgLy8gZG8gaHRtbCBlc2NhcGUgaW4gZmlsdGVyIGNvbnRleHQgIzExMDFcbiAgICAgICAgICB2YWx1ZSA9IG1hcEludGVycG9sYXRpb25QYXJhbWV0ZXJzKHZhbHVlLCBodG1sRXNjYXBlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBzY2VQYXJhbWV0ZXJzOiBmdW5jdGlvbiAodmFsdWUsIG1vZGUvKiwgY29udGV4dCovKSB7XG4gICAgICBpZiAobW9kZSA9PT0gJ3BhcmFtcycpIHtcbiAgICAgICAgdmFsdWUgPSBtYXBJbnRlcnBvbGF0aW9uUGFyYW1ldGVycyh2YWx1ZSwgaHRtbFRydXN0VmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfTtcbiAgLy8gU3VwcG9ydCBsZWdhY3kgc3RyYXRlZ3kgbmFtZSAnZXNjYXBlZCcgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICAvLyBUT0RPIHNob3VsZCBiZSByZW1vdmVkIGluIDMuMFxuICBzdHJhdGVnaWVzLmVzY2FwZWQgPSBzdHJhdGVnaWVzLmVzY2FwZVBhcmFtZXRlcnM7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb25Qcm92aWRlciNhZGRTdHJhdGVneVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEFkZHMgYSBzYW5pdGl6YXRpb24gc3RyYXRlZ3kgdG8gdGhlIGxpc3Qgb2Yga25vd24gc3RyYXRlZ2llcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmF0ZWd5TmFtZSAtIHVuaXF1ZSBrZXkgZm9yIGEgc3RyYXRlZ3lcbiAgICogQHBhcmFtIHtTdHJhdGVneUZ1bmN0aW9ufSBzdHJhdGVneUZ1bmN0aW9uIC0gc3RyYXRlZ3kgZnVuY3Rpb25cbiAgICogQHJldHVybnMge29iamVjdH0gdGhpc1xuICAgKi9cbiAgdGhpcy5hZGRTdHJhdGVneSA9IGZ1bmN0aW9uIChzdHJhdGVneU5hbWUsIHN0cmF0ZWd5RnVuY3Rpb24pIHtcbiAgICBzdHJhdGVnaWVzW3N0cmF0ZWd5TmFtZV0gPSBzdHJhdGVneUZ1bmN0aW9uO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXIjcmVtb3ZlU3RyYXRlZ3lcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZW1vdmVzIGEgc2FuaXRpemF0aW9uIHN0cmF0ZWd5IGZyb20gdGhlIGxpc3Qgb2Yga25vd24gc3RyYXRlZ2llcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmF0ZWd5TmFtZSAtIHVuaXF1ZSBrZXkgZm9yIGEgc3RyYXRlZ3lcbiAgICogQHJldHVybnMge29iamVjdH0gdGhpc1xuICAgKi9cbiAgdGhpcy5yZW1vdmVTdHJhdGVneSA9IGZ1bmN0aW9uIChzdHJhdGVneU5hbWUpIHtcbiAgICBkZWxldGUgc3RyYXRlZ2llc1tzdHJhdGVneU5hbWVdO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXIjdXNlU3RyYXRlZ3lcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZWxlY3RzIGEgc2FuaXRpemF0aW9uIHN0cmF0ZWd5LiBXaGVuIGFuIGFycmF5IGlzIHByb3ZpZGVkIHRoZSBzdHJhdGVnaWVzIHdpbGwgYmUgZXhlY3V0ZWQgaW4gb3JkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfFN0cmF0ZWd5RnVuY3Rpb258YXJyYXl9IHN0cmF0ZWd5IFRoZSBzYW5pdGl6YXRpb24gc3RyYXRlZ3kgLyBzdHJhdGVnaWVzIHdoaWNoIHNob3VsZCBiZSB1c2VkLiBFaXRoZXIgYSBuYW1lIG9mIGFuIGV4aXN0aW5nIHN0cmF0ZWd5LCBhIGN1c3RvbSBzdHJhdGVneSBmdW5jdGlvbiwgb3IgYW4gYXJyYXkgY29uc2lzdGluZyBvZiBtdWx0aXBsZSBuYW1lcyBhbmQgLyBvciBjdXN0b20gZnVuY3Rpb25zLlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSB0aGlzXG4gICAqL1xuICB0aGlzLnVzZVN0cmF0ZWd5ID0gZnVuY3Rpb24gKHN0cmF0ZWd5KSB7XG4gICAgaGFzQ29uZmlndXJlZFN0cmF0ZWd5ID0gdHJ1ZTtcbiAgICBjdXJyZW50U3RyYXRlZ3kgPSBzdHJhdGVneTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG9iamVjdFxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb25cbiAgICogQHJlcXVpcmVzICRpbmplY3RvclxuICAgKiBAcmVxdWlyZXMgJGxvZ1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2FuaXRpemVzIGludGVycG9sYXRpb24gcGFyYW1ldGVycyBhbmQgdHJhbnNsYXRlZCB0ZXh0cy5cbiAgICpcbiAgICovXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgJyRsb2cnLCBmdW5jdGlvbiAoJGluamVjdG9yLCAkbG9nKSB7XG5cbiAgICB2YXIgY2FjaGVkU3RyYXRlZ3lNYXAgPSB7fTtcblxuICAgIHZhciBhcHBseVN0cmF0ZWdpZXMgPSBmdW5jdGlvbiAodmFsdWUsIG1vZGUsIGNvbnRleHQsIHNlbGVjdGVkU3RyYXRlZ2llcykge1xuICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGVjdGVkU3RyYXRlZ2llcywgZnVuY3Rpb24gKHNlbGVjdGVkU3RyYXRlZ3kpIHtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzZWxlY3RlZFN0cmF0ZWd5KSkge1xuICAgICAgICAgIHZhbHVlID0gc2VsZWN0ZWRTdHJhdGVneSh2YWx1ZSwgbW9kZSwgY29udGV4dCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHN0cmF0ZWdpZXNbc2VsZWN0ZWRTdHJhdGVneV0pKSB7XG4gICAgICAgICAgdmFsdWUgPSBzdHJhdGVnaWVzW3NlbGVjdGVkU3RyYXRlZ3ldKHZhbHVlLCBtb2RlLCBjb250ZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHN0cmF0ZWdpZXNbc2VsZWN0ZWRTdHJhdGVneV0pKSB7XG4gICAgICAgICAgaWYgKCFjYWNoZWRTdHJhdGVneU1hcFtzdHJhdGVnaWVzW3NlbGVjdGVkU3RyYXRlZ3ldXSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY2FjaGVkU3RyYXRlZ3lNYXBbc3RyYXRlZ2llc1tzZWxlY3RlZFN0cmF0ZWd5XV0gPSAkaW5qZWN0b3IuZ2V0KHN0cmF0ZWdpZXNbc2VsZWN0ZWRTdHJhdGVneV0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBjYWNoZWRTdHJhdGVneU1hcFtzdHJhdGVnaWVzW3NlbGVjdGVkU3RyYXRlZ3ldXSA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uOiBVbmtub3duIHNhbml0aXphdGlvbiBzdHJhdGVneTogXFwnJyArIHNlbGVjdGVkU3RyYXRlZ3kgKyAnXFwnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbHVlID0gY2FjaGVkU3RyYXRlZ3lNYXBbc3RyYXRlZ2llc1tzZWxlY3RlZFN0cmF0ZWd5XV0odmFsdWUsIG1vZGUsIGNvbnRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uOiBVbmtub3duIHNhbml0aXphdGlvbiBzdHJhdGVneTogXFwnJyArIHNlbGVjdGVkU3RyYXRlZ3kgKyAnXFwnJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG5cbiAgICAvLyBUT0RPOiBzaG91bGQgYmUgcmVtb3ZlZCBpbiAzLjBcbiAgICB2YXIgc2hvd05vU3RyYXRlZ3lDb25maWd1cmVkV2FybmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghaGFzQ29uZmlndXJlZFN0cmF0ZWd5ICYmICFoYXNTaG93bk5vU3RyYXRlZ3lDb25maWd1cmVkV2FybmluZykge1xuICAgICAgICAkbG9nLndhcm4oJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbjogTm8gc2FuaXRpemF0aW9uIHN0cmF0ZWd5IGhhcyBiZWVuIGNvbmZpZ3VyZWQuIFRoaXMgY2FuIGhhdmUgc2VyaW91cyBzZWN1cml0eSBpbXBsaWNhdGlvbnMuIFNlZSBodHRwOi8vYW5ndWxhci10cmFuc2xhdGUuZ2l0aHViLmlvL2RvY3MvIy9ndWlkZS8xOV9zZWN1cml0eSBmb3IgZGV0YWlscy4nKTtcbiAgICAgICAgaGFzU2hvd25Ob1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmcgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoJGluamVjdG9yLmhhcygnJHNhbml0aXplJykpIHtcbiAgICAgICRzYW5pdGl6ZSA9ICRpbmplY3Rvci5nZXQoJyRzYW5pdGl6ZScpO1xuICAgIH1cbiAgICBpZiAoJGluamVjdG9yLmhhcygnJHNjZScpKSB7XG4gICAgICAkc2NlID0gJGluamVjdG9yLmdldCgnJHNjZScpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uI3VzZVN0cmF0ZWd5XG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU2FuaXRpemF0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBTZWxlY3RzIGEgc2FuaXRpemF0aW9uIHN0cmF0ZWd5LiBXaGVuIGFuIGFycmF5IGlzIHByb3ZpZGVkIHRoZSBzdHJhdGVnaWVzIHdpbGwgYmUgZXhlY3V0ZWQgaW4gb3JkZXIuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8U3RyYXRlZ3lGdW5jdGlvbnxhcnJheX0gc3RyYXRlZ3kgVGhlIHNhbml0aXphdGlvbiBzdHJhdGVneSAvIHN0cmF0ZWdpZXMgd2hpY2ggc2hvdWxkIGJlIHVzZWQuIEVpdGhlciBhIG5hbWUgb2YgYW4gZXhpc3Rpbmcgc3RyYXRlZ3ksIGEgY3VzdG9tIHN0cmF0ZWd5IGZ1bmN0aW9uLCBvciBhbiBhcnJheSBjb25zaXN0aW5nIG9mIG11bHRpcGxlIG5hbWVzIGFuZCAvIG9yIGN1c3RvbSBmdW5jdGlvbnMuXG4gICAgICAgKi9cbiAgICAgIHVzZVN0cmF0ZWd5OiAoZnVuY3Rpb24gKHNlbGYpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdHJhdGVneSkge1xuICAgICAgICAgIHNlbGYudXNlU3RyYXRlZ3koc3RyYXRlZ3kpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyksXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb24jc2FuaXRpemVcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFNhbml0aXplcyBhIHZhbHVlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gdmFsdWUgVGhlIHZhbHVlIHdoaWNoIHNob3VsZCBiZSBzYW5pdGl6ZWQuXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSBUaGUgY3VycmVudCBzYW5pdGl6YXRpb24gbW9kZSwgZWl0aGVyICdwYXJhbXMnIG9yICd0ZXh0Jy5cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfFN0cmF0ZWd5RnVuY3Rpb258YXJyYXl9IFtzdHJhdGVneV0gT3B0aW9uYWwgY3VzdG9tIHN0cmF0ZWd5IHdoaWNoIHNob3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBzdHJhdGVneS5cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY29udGV4dF0gVGhlIGNvbnRleHQgb2YgdGhpcyBjYWxsOiBmaWx0ZXIsIHNlcnZpY2UuIERlZmF1bHQgaXMgc2VydmljZVxuICAgICAgICogQHJldHVybnMge3N0cmluZ3xvYmplY3R9IHNhbml0aXplZCB2YWx1ZVxuICAgICAgICovXG4gICAgICBzYW5pdGl6ZTogZnVuY3Rpb24gKHZhbHVlLCBtb2RlLCBzdHJhdGVneSwgY29udGV4dCkge1xuICAgICAgICBpZiAoIWN1cnJlbnRTdHJhdGVneSkge1xuICAgICAgICAgIHNob3dOb1N0cmF0ZWd5Q29uZmlndXJlZFdhcm5pbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc3RyYXRlZ3kgJiYgc3RyYXRlZ3kgIT09IG51bGwpIHtcbiAgICAgICAgICBzdHJhdGVneSA9IGN1cnJlbnRTdHJhdGVneTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc3RyYXRlZ3kpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICBjb250ZXh0ID0gJ3NlcnZpY2UnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkU3RyYXRlZ2llcyA9IGFuZ3VsYXIuaXNBcnJheShzdHJhdGVneSkgPyBzdHJhdGVneSA6IFtzdHJhdGVneV07XG4gICAgICAgIHJldHVybiBhcHBseVN0cmF0ZWdpZXModmFsdWUsIG1vZGUsIGNvbnRleHQsIHNlbGVjdGVkU3RyYXRlZ2llcyk7XG4gICAgICB9XG4gICAgfTtcbiAgfV07XG5cbiAgdmFyIGh0bWxFc2NhcGVWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciBlbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2PjwvZGl2PicpO1xuICAgIGVsZW1lbnQudGV4dCh2YWx1ZSk7IC8vIG5vdCBjaGFpbmFibGUsIHNlZSAjMTA0NFxuICAgIHJldHVybiBlbGVtZW50Lmh0bWwoKTtcbiAgfTtcblxuICB2YXIgaHRtbFNhbml0aXplVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAoISRzYW5pdGl6ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb246IEVycm9yIGNhbm5vdCBmaW5kICRzYW5pdGl6ZSBzZXJ2aWNlLiBFaXRoZXIgaW5jbHVkZSB0aGUgbmdTYW5pdGl6ZSBtb2R1bGUgKGh0dHBzOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZ1Nhbml0aXplKSBvciB1c2UgYSBzYW5pdGl6YXRpb24gc3RyYXRlZ3kgd2hpY2ggZG9lcyBub3QgZGVwZW5kIG9uICRzYW5pdGl6ZSwgc3VjaCBhcyBcXCdlc2NhcGVcXCcuJyk7XG4gICAgfVxuICAgIHJldHVybiAkc2FuaXRpemUodmFsdWUpO1xuICB9O1xuXG4gIHZhciBodG1sVHJ1c3RWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICghJHNjZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb246IEVycm9yIGNhbm5vdCBmaW5kICRzY2Ugc2VydmljZS4nKTtcbiAgICB9XG4gICAgcmV0dXJuICRzY2UudHJ1c3RBc0h0bWwodmFsdWUpO1xuICB9O1xuXG4gIHZhciBtYXBJbnRlcnBvbGF0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uICh2YWx1ZSwgaXRlcmF0ZWUsIHN0YWNrKSB7XG4gICAgaWYgKGFuZ3VsYXIuaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgIHZhciByZXN1bHQgPSBhbmd1bGFyLmlzQXJyYXkodmFsdWUpID8gW10gOiB7fTtcblxuICAgICAgaWYgKCFzdGFjaykge1xuICAgICAgICBzdGFjayA9IFtdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHN0YWNrLmluZGV4T2YodmFsdWUpID4gLTEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbjogRXJyb3IgY2Fubm90IGludGVycG9sYXRlIHBhcmFtZXRlciBkdWUgcmVjdXJzaXZlIG9iamVjdCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHN0YWNrLnB1c2godmFsdWUpO1xuICAgICAgYW5ndWxhci5mb3JFYWNoKHZhbHVlLCBmdW5jdGlvbiAocHJvcGVydHlWYWx1ZSwgcHJvcGVydHlLZXkpIHtcblxuICAgICAgICAvKiBTa2lwcGluZyBmdW5jdGlvbiBwcm9wZXJ0aWVzLiAqL1xuICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHByb3BlcnR5VmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0W3Byb3BlcnR5S2V5XSA9IG1hcEludGVycG9sYXRpb25QYXJhbWV0ZXJzKHByb3BlcnR5VmFsdWUsIGl0ZXJhdGVlLCBzdGFjayk7XG4gICAgICB9KTtcbiAgICAgIHN0YWNrLnNwbGljZSgtMSwgMSk7IC8vIHJlbW92ZSBsYXN0XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBlbHNlIGlmICghYW5ndWxhci5pc1VuZGVmaW5lZCh2YWx1ZSkgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqICR0cmFuc2xhdGVQcm92aWRlciBhbGxvd3MgZGV2ZWxvcGVycyB0byByZWdpc3RlciB0cmFuc2xhdGlvbi10YWJsZXMsIGFzeW5jaHJvbm91cyBsb2FkZXJzXG4gKiBhbmQgc2ltaWxhciB0byBjb25maWd1cmUgdHJhbnNsYXRpb24gYmVoYXZpb3IgZGlyZWN0bHkgaW5zaWRlIG9mIGEgbW9kdWxlLlxuICpcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuICAuY29uc3RhbnQoJ3Bhc2NhbHByZWNodFRyYW5zbGF0ZU92ZXJyaWRlcicsIHt9KVxuICAucHJvdmlkZXIoJyR0cmFuc2xhdGUnLCAkdHJhbnNsYXRlKTtcblxuZnVuY3Rpb24gJHRyYW5zbGF0ZSgkU1RPUkFHRV9LRVksICR3aW5kb3dQcm92aWRlciwgJHRyYW5zbGF0ZVNhbml0aXphdGlvblByb3ZpZGVyLCBwYXNjYWxwcmVjaHRUcmFuc2xhdGVPdmVycmlkZXIpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyICR0cmFuc2xhdGlvblRhYmxlID0ge30sXG4gICAgJHByZWZlcnJlZExhbmd1YWdlLFxuICAgICRhdmFpbGFibGVMYW5ndWFnZUtleXMgPSBbXSxcbiAgICAkbGFuZ3VhZ2VLZXlBbGlhc2VzLFxuICAgICRmYWxsYmFja0xhbmd1YWdlLFxuICAgICRmYWxsYmFja1dhc1N0cmluZyxcbiAgICAkdXNlcyxcbiAgICAkbmV4dExhbmcsXG4gICAgJHN0b3JhZ2VGYWN0b3J5LFxuICAgICRzdG9yYWdlS2V5ID0gJFNUT1JBR0VfS0VZLFxuICAgICRzdG9yYWdlUHJlZml4LFxuICAgICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSxcbiAgICAkaW50ZXJwb2xhdGlvbkZhY3RvcnksXG4gICAgJGludGVycG9sYXRvckZhY3RvcmllcyA9IFtdLFxuICAgICRsb2FkZXJGYWN0b3J5LFxuICAgICRjbG9ha0NsYXNzTmFtZSA9ICd0cmFuc2xhdGUtY2xvYWsnLFxuICAgICRsb2FkZXJPcHRpb25zLFxuICAgICRub3RGb3VuZEluZGljYXRvckxlZnQsXG4gICAgJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQsXG4gICAgJHBvc3RDb21waWxpbmdFbmFibGVkID0gZmFsc2UsXG4gICAgJGZvcmNlQXN5bmNSZWxvYWRFbmFibGVkID0gZmFsc2UsXG4gICAgJG5lc3RlZE9iamVjdERlbGltZXRlciA9ICcuJyxcbiAgICAkaXNSZWFkeSA9IGZhbHNlLFxuICAgICRrZWVwQ29udGVudCA9IGZhbHNlLFxuICAgIGxvYWRlckNhY2hlLFxuICAgIGRpcmVjdGl2ZVByaW9yaXR5ID0gMCxcbiAgICBzdGF0ZWZ1bEZpbHRlciA9IHRydWUsXG4gICAgcG9zdFByb2Nlc3NGbixcbiAgICB1bmlmb3JtTGFuZ3VhZ2VUYWdSZXNvbHZlciA9ICdkZWZhdWx0JyxcbiAgICBsYW5ndWFnZVRhZ1Jlc29sdmVyID0ge1xuICAgICAgJ2RlZmF1bHQnIDogZnVuY3Rpb24gKHRhZykge1xuICAgICAgICByZXR1cm4gKHRhZyB8fCAnJykuc3BsaXQoJy0nKS5qb2luKCdfJyk7XG4gICAgICB9LFxuICAgICAgamF2YSA6IGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgdmFyIHRlbXAgPSAodGFnIHx8ICcnKS5zcGxpdCgnLScpLmpvaW4oJ18nKTtcbiAgICAgICAgdmFyIHBhcnRzID0gdGVtcC5zcGxpdCgnXycpO1xuICAgICAgICByZXR1cm4gcGFydHMubGVuZ3RoID4gMSA/IChwYXJ0c1swXS50b0xvd2VyQ2FzZSgpICsgJ18nICsgcGFydHNbMV0udG9VcHBlckNhc2UoKSkgOiB0ZW1wO1xuICAgICAgfSxcbiAgICAgIGJjcDQ3IDogZnVuY3Rpb24gKHRhZykge1xuICAgICAgICB2YXIgdGVtcCA9ICh0YWcgfHwgJycpLnNwbGl0KCdfJykuam9pbignLScpO1xuICAgICAgICB2YXIgcGFydHMgPSB0ZW1wLnNwbGl0KCctJyk7XG5cbiAgICAgICAgc3dpdGNoIChwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDE6IC8vIGxhbmd1YWdlIG9ubHlcbiAgICAgICAgICAgIHBhcnRzWzBdID0gcGFydHNbMF0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjogLy8gbGFuZ3VhZ2Utc2NyaXB0IG9yIGxhbmd1YWdlLXJlZ2lvblxuICAgICAgICAgICAgcGFydHNbMF0gPSBwYXJ0c1swXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKHBhcnRzWzFdLmxlbmd0aCA9PT0gNCkgeyAvLyBwYXJ0c1sxXSBpcyBzY3JpcHRcbiAgICAgICAgICAgICAgcGFydHNbMV0gPSBwYXJ0c1sxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHBhcnRzWzFdLnNsaWNlKDEpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBwYXJ0c1sxXSBpcyByZWdpb25cbiAgICAgICAgICAgICAgcGFydHNbMV0gPSBwYXJ0c1sxXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAzOiAvLyBsYW5ndWFnZS1zY3JpcHQtcmVnaW9uXG4gICAgICAgICAgICBwYXJ0c1swXSA9IHBhcnRzWzBdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBwYXJ0c1sxXSA9IHBhcnRzWzFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcGFydHNbMV0uc2xpY2UoMSkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHBhcnRzWzJdID0gcGFydHNbMl0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdGVtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXJ0cy5qb2luKCctJyk7XG4gICAgICB9LFxuICAgICAgJ2lzbzYzOS0xJyA6IGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgdmFyIHRlbXAgPSAodGFnIHx8ICcnKS5zcGxpdCgnXycpLmpvaW4oJy0nKTtcbiAgICAgICAgdmFyIHBhcnRzID0gdGVtcC5zcGxpdCgnLScpO1xuICAgICAgICByZXR1cm4gcGFydHNbMF0udG9Mb3dlckNhc2UoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gIHZhciB2ZXJzaW9uID0gJzIuMTguMSc7XG5cbiAgLy8gdHJpZXMgdG8gZGV0ZXJtaW5lIHRoZSBicm93c2VycyBsYW5ndWFnZVxuICB2YXIgZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBpbnRlcm5hbCBwdXJwb3NlIG9ubHlcbiAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHBhc2NhbHByZWNodFRyYW5zbGF0ZU92ZXJyaWRlci5nZXRMb2NhbGUpKSB7XG4gICAgICByZXR1cm4gcGFzY2FscHJlY2h0VHJhbnNsYXRlT3ZlcnJpZGVyLmdldExvY2FsZSgpO1xuICAgIH1cblxuICAgIHZhciBuYXYgPSAkd2luZG93UHJvdmlkZXIuJGdldCgpLm5hdmlnYXRvcixcbiAgICAgIGJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cyA9IFsnbGFuZ3VhZ2UnLCAnYnJvd3Nlckxhbmd1YWdlJywgJ3N5c3RlbUxhbmd1YWdlJywgJ3VzZXJMYW5ndWFnZSddLFxuICAgICAgaSxcbiAgICAgIGxhbmd1YWdlO1xuXG4gICAgLy8gc3VwcG9ydCBmb3IgSFRNTCA1LjEgXCJuYXZpZ2F0b3IubGFuZ3VhZ2VzXCJcbiAgICBpZiAoYW5ndWxhci5pc0FycmF5KG5hdi5sYW5ndWFnZXMpKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbmF2Lmxhbmd1YWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsYW5ndWFnZSA9IG5hdi5sYW5ndWFnZXNbaV07XG4gICAgICAgIGlmIChsYW5ndWFnZSAmJiBsYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gbGFuZ3VhZ2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0IGZvciBvdGhlciB3ZWxsIGtub3duIHByb3BlcnRpZXMgaW4gYnJvd3NlcnNcbiAgICBmb3IgKGkgPSAwOyBpIDwgYnJvd3Nlckxhbmd1YWdlUHJvcGVydHlLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsYW5ndWFnZSA9IG5hdlticm93c2VyTGFuZ3VhZ2VQcm9wZXJ0eUtleXNbaV1dO1xuICAgICAgaWYgKGxhbmd1YWdlICYmIGxhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbGFuZ3VhZ2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlLmRpc3BsYXlOYW1lID0gJ2FuZ3VsYXItdHJhbnNsYXRlL3NlcnZpY2U6IGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlJztcblxuICAvLyB0cmllcyB0byBkZXRlcm1pbmUgdGhlIGJyb3dzZXJzIGxvY2FsZVxuICB2YXIgZ2V0TG9jYWxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsb2NhbGUgPSBnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSgpIHx8ICcnO1xuICAgIGlmIChsYW5ndWFnZVRhZ1Jlc29sdmVyW3VuaWZvcm1MYW5ndWFnZVRhZ1Jlc29sdmVyXSkge1xuICAgICAgbG9jYWxlID0gbGFuZ3VhZ2VUYWdSZXNvbHZlclt1bmlmb3JtTGFuZ3VhZ2VUYWdSZXNvbHZlcl0obG9jYWxlKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsZTtcbiAgfTtcbiAgZ2V0TG9jYWxlLmRpc3BsYXlOYW1lID0gJ2FuZ3VsYXItdHJhbnNsYXRlL3NlcnZpY2U6IGdldExvY2FsZSc7XG5cbiAgLyoqXG4gICAqIEBuYW1lIGluZGV4T2ZcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIGluZGV4T2YgcG9seWZpbGwuIEtpbmRhIHNvcnRhLlxuICAgKlxuICAgKiBAcGFyYW0ge2FycmF5fSBhcnJheSBBcnJheSB0byBzZWFyY2ggaW4uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWFyY2hFbGVtZW50IEVsZW1lbnQgdG8gc2VhcmNoIGZvci5cbiAgICpcbiAgICogQHJldHVybnMge2ludH0gSW5kZXggb2Ygc2VhcmNoIGVsZW1lbnQuXG4gICAqL1xuICB2YXIgaW5kZXhPZiA9IGZ1bmN0aW9uIChhcnJheSwgc2VhcmNoRWxlbWVudCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGFycmF5W2ldID09PSBzZWFyY2hFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lIHRyaW1cbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIHRyaW0gcG9seWZpbGxcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHN0cmluZyBzdHJpcHBlZCBvZiB3aGl0ZXNwYWNlIGZyb20gYm90aCBlbmRzXG4gICAqL1xuICB2YXIgdHJpbSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50b1N0cmluZygpLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5hbWUgbG93ZXJjYXNlXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXR1cm4gdGhlIGxvd2VyY2FzZSBzdHJpbmcgb25seSBpZiB0aGUgdHlwZSBpcyBzdHJpbmdcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHN0cmluZyBhbGwgaW4gbG93ZXJjYXNlXG4gICAqL1xuICB2YXIgbG93ZXJjYXNlID0gZnVuY3Rpb24gKHN0cmluZykge1xuICAgIHJldHVybiBhbmd1bGFyLmlzU3RyaW5nKHN0cmluZykgPyBzdHJpbmcudG9Mb3dlckNhc2UoKSA6IHN0cmluZztcbiAgfTtcblxuICB2YXIgbmVnb3RpYXRlTG9jYWxlID0gZnVuY3Rpb24gKHByZWZlcnJlZCkge1xuICAgIGlmICghcHJlZmVycmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGF2YWlsID0gW10sXG4gICAgICBsb2NhbGUgPSBsb3dlcmNhc2UocHJlZmVycmVkKSxcbiAgICAgIGkgPSAwLFxuICAgICAgbiA9ICRhdmFpbGFibGVMYW5ndWFnZUtleXMubGVuZ3RoO1xuXG4gICAgZm9yICg7IGkgPCBuOyBpKyspIHtcbiAgICAgIGF2YWlsLnB1c2gobG93ZXJjYXNlKCRhdmFpbGFibGVMYW5ndWFnZUtleXNbaV0pKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgYW4gZXhhY3QgbWF0Y2ggaW4gb3VyIGxpc3Qgb2YgYXZhaWxhYmxlIGtleXNcbiAgICBpID0gaW5kZXhPZihhdmFpbCwgbG9jYWxlKTtcbiAgICBpZiAoaSA+IC0xKSB7XG4gICAgICByZXR1cm4gJGF2YWlsYWJsZUxhbmd1YWdlS2V5c1tpXTtcbiAgICB9XG5cbiAgICBpZiAoJGxhbmd1YWdlS2V5QWxpYXNlcykge1xuICAgICAgdmFyIGFsaWFzO1xuICAgICAgZm9yICh2YXIgbGFuZ0tleUFsaWFzIGluICRsYW5ndWFnZUtleUFsaWFzZXMpIHtcbiAgICAgICAgaWYgKCRsYW5ndWFnZUtleUFsaWFzZXMuaGFzT3duUHJvcGVydHkobGFuZ0tleUFsaWFzKSkge1xuICAgICAgICAgIHZhciBoYXNXaWxkY2FyZEtleSA9IGZhbHNlO1xuICAgICAgICAgIHZhciBoYXNFeGFjdEtleSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgkbGFuZ3VhZ2VLZXlBbGlhc2VzLCBsYW5nS2V5QWxpYXMpICYmXG4gICAgICAgICAgICBsb3dlcmNhc2UobGFuZ0tleUFsaWFzKSA9PT0gbG93ZXJjYXNlKHByZWZlcnJlZCk7XG5cbiAgICAgICAgICBpZiAobGFuZ0tleUFsaWFzLnNsaWNlKC0xKSA9PT0gJyonKSB7XG4gICAgICAgICAgICBoYXNXaWxkY2FyZEtleSA9IGxvd2VyY2FzZShsYW5nS2V5QWxpYXMuc2xpY2UoMCwgLTEpKSA9PT0gbG93ZXJjYXNlKHByZWZlcnJlZC5zbGljZSgwLCBsYW5nS2V5QWxpYXMubGVuZ3RoIC0gMSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaGFzRXhhY3RLZXkgfHwgaGFzV2lsZGNhcmRLZXkpIHtcbiAgICAgICAgICAgIGFsaWFzID0gJGxhbmd1YWdlS2V5QWxpYXNlc1tsYW5nS2V5QWxpYXNdO1xuICAgICAgICAgICAgaWYgKGluZGV4T2YoYXZhaWwsIGxvd2VyY2FzZShhbGlhcykpID4gLTEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGFsaWFzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBhIGxhbmd1YWdlIGNvZGUgd2l0aG91dCByZWdpb25cbiAgICB2YXIgcGFydHMgPSBwcmVmZXJyZWQuc3BsaXQoJ18nKTtcblxuICAgIGlmIChwYXJ0cy5sZW5ndGggPiAxICYmIGluZGV4T2YoYXZhaWwsIGxvd2VyY2FzZShwYXJ0c1swXSkpID4gLTEpIHtcbiAgICAgIHJldHVybiBwYXJ0c1swXTtcbiAgICB9XG5cbiAgICAvLyBJZiBldmVyeXRoaW5nIGZhaWxzLCByZXR1cm4gdW5kZWZpbmVkLlxuICAgIHJldHVybjtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3RyYW5zbGF0aW9uc1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVycyBhIG5ldyB0cmFuc2xhdGlvbiB0YWJsZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2Uga2V5LlxuICAgKlxuICAgKiBUbyByZWdpc3RlciBhIHRyYW5zbGF0aW9uIHRhYmxlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSwgcGFzcyBhIGRlZmluZWQgbGFuZ3VhZ2VcbiAgICoga2V5IGFzIGZpcnN0IHBhcmFtZXRlci5cbiAgICpcbiAgICogPHByZT5cbiAgICogIC8vIHJlZ2lzdGVyIHRyYW5zbGF0aW9uIHRhYmxlIGZvciBsYW5ndWFnZTogJ2RlX0RFJ1xuICAgKiAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZGVfREUnLCB7XG4gICAqICAgICdHUkVFVElORyc6ICdIYWxsbyBXZWx0ISdcbiAgICogIH0pO1xuICAgKlxuICAgKiAgLy8gcmVnaXN0ZXIgYW5vdGhlciBvbmVcbiAgICogICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuX1VTJywge1xuICAgKiAgICAnR1JFRVRJTkcnOiAnSGVsbG8gd29ybGQhJ1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBXaGVuIHJlZ2lzdGVyaW5nIG11bHRpcGxlIHRyYW5zbGF0aW9uIHRhYmxlcyBmb3IgZm9yIHRoZSBzYW1lIGxhbmd1YWdlIGtleSxcbiAgICogdGhlIGFjdHVhbCB0cmFuc2xhdGlvbiB0YWJsZSBnZXRzIGV4dGVuZGVkLiBUaGlzIGFsbG93cyB5b3UgdG8gZGVmaW5lIG1vZHVsZVxuICAgKiBzcGVjaWZpYyB0cmFuc2xhdGlvbiB3aGljaCBvbmx5IGdldCBhZGRlZCwgb25jZSBhIHNwZWNpZmljIG1vZHVsZSBpcyBsb2FkZWQgaW5cbiAgICogeW91ciBhcHAuXG4gICAqXG4gICAqIEludm9raW5nIHRoaXMgbWV0aG9kIHdpdGggbm8gYXJndW1lbnRzIHJldHVybnMgdGhlIHRyYW5zbGF0aW9uIHRhYmxlIHdoaWNoIHdhc1xuICAgKiByZWdpc3RlcmVkIHdpdGggbm8gbGFuZ3VhZ2Uga2V5LiBJbnZva2luZyBpdCB3aXRoIGEgbGFuZ3VhZ2Uga2V5IHJldHVybnMgdGhlXG4gICAqIHJlbGF0ZWQgdHJhbnNsYXRpb24gdGFibGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5LlxuICAgKiBAcGFyYW0ge29iamVjdH0gdHJhbnNsYXRpb25UYWJsZSBBIHBsYWluIG9sZCBKYXZhU2NyaXB0IG9iamVjdCB0aGF0IHJlcHJlc2VudHMgYSB0cmFuc2xhdGlvbiB0YWJsZS5cbiAgICpcbiAgICovXG4gIHZhciB0cmFuc2xhdGlvbnMgPSBmdW5jdGlvbiAobGFuZ0tleSwgdHJhbnNsYXRpb25UYWJsZSkge1xuXG4gICAgaWYgKCFsYW5nS2V5ICYmICF0cmFuc2xhdGlvblRhYmxlKSB7XG4gICAgICByZXR1cm4gJHRyYW5zbGF0aW9uVGFibGU7XG4gICAgfVxuXG4gICAgaWYgKGxhbmdLZXkgJiYgIXRyYW5zbGF0aW9uVGFibGUpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGxhbmdLZXkpKSB7XG4gICAgICAgIHJldHVybiAkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFhbmd1bGFyLmlzT2JqZWN0KCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldKSkge1xuICAgICAgICAkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSA9IHt9O1xuICAgICAgfVxuICAgICAgYW5ndWxhci5leHRlbmQoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0sIGZsYXRPYmplY3QodHJhbnNsYXRpb25UYWJsZSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB0aGlzLnRyYW5zbGF0aW9ucyA9IHRyYW5zbGF0aW9ucztcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2Nsb2FrQ2xhc3NOYW1lXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogTGV0J3MgeW91IGNoYW5nZSB0aGUgY2xhc3MgbmFtZSBmb3IgYHRyYW5zbGF0ZS1jbG9ha2AgZGlyZWN0aXZlLlxuICAgKiBEZWZhdWx0IGNsYXNzIG5hbWUgaXMgYHRyYW5zbGF0ZS1jbG9ha2AuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHRyYW5zbGF0ZS1jbG9hayBjbGFzcyBuYW1lXG4gICAqL1xuICB0aGlzLmNsb2FrQ2xhc3NOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHJldHVybiAkY2xvYWtDbGFzc05hbWU7XG4gICAgfVxuICAgICRjbG9ha0NsYXNzTmFtZSA9IG5hbWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNuZXN0ZWRPYmplY3REZWxpbWV0ZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBMZXQncyB5b3UgY2hhbmdlIHRoZSBkZWxpbWl0ZXIgZm9yIG5hbWVzcGFjZWQgdHJhbnNsYXRpb25zLlxuICAgKiBEZWZhdWx0IGRlbGltaXRlciBpcyBgLmAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZWxpbWl0ZXIgbmFtZXNwYWNlIHNlcGFyYXRvclxuICAgKi9cbiAgdGhpcy5uZXN0ZWRPYmplY3REZWxpbWV0ZXIgPSBmdW5jdGlvbiAoZGVsaW1pdGVyKSB7XG4gICAgaWYgKCFkZWxpbWl0ZXIpIHtcbiAgICAgIHJldHVybiAkbmVzdGVkT2JqZWN0RGVsaW1ldGVyO1xuICAgIH1cbiAgICAkbmVzdGVkT2JqZWN0RGVsaW1ldGVyID0gZGVsaW1pdGVyO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmFtZSBmbGF0T2JqZWN0XG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBGbGF0cyBhbiBvYmplY3QuIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBmbGF0dGVuIGdpdmVuIHRyYW5zbGF0aW9uIGRhdGEgd2l0aFxuICAgKiBuYW1lc3BhY2VzLCBzbyB0aGV5IGFyZSBsYXRlciBhY2Nlc3NpYmxlIHZpYSBkb3Qgbm90YXRpb24uXG4gICAqL1xuICB2YXIgZmxhdE9iamVjdCA9IGZ1bmN0aW9uIChkYXRhLCBwYXRoLCByZXN1bHQsIHByZXZLZXkpIHtcbiAgICB2YXIga2V5LCBrZXlXaXRoUGF0aCwga2V5V2l0aFNob3J0UGF0aCwgdmFsO1xuXG4gICAgaWYgKCFwYXRoKSB7XG4gICAgICBwYXRoID0gW107XG4gICAgfVxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICByZXN1bHQgPSB7fTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gZGF0YSkge1xuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhbCA9IGRhdGFba2V5XTtcbiAgICAgIGlmIChhbmd1bGFyLmlzT2JqZWN0KHZhbCkpIHtcbiAgICAgICAgZmxhdE9iamVjdCh2YWwsIHBhdGguY29uY2F0KGtleSksIHJlc3VsdCwga2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGtleVdpdGhQYXRoID0gcGF0aC5sZW5ndGggPyAoJycgKyBwYXRoLmpvaW4oJG5lc3RlZE9iamVjdERlbGltZXRlcikgKyAkbmVzdGVkT2JqZWN0RGVsaW1ldGVyICsga2V5KSA6IGtleTtcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoICYmIGtleSA9PT0gcHJldktleSkge1xuICAgICAgICAgIC8vIENyZWF0ZSBzaG9ydGN1dCBwYXRoIChmb28uYmFyID09IGZvby5iYXIuYmFyKVxuICAgICAgICAgIGtleVdpdGhTaG9ydFBhdGggPSAnJyArIHBhdGguam9pbigkbmVzdGVkT2JqZWN0RGVsaW1ldGVyKTtcbiAgICAgICAgICAvLyBMaW5rIGl0IHRvIG9yaWdpbmFsIHBhdGhcbiAgICAgICAgICByZXN1bHRba2V5V2l0aFNob3J0UGF0aF0gPSAnQDonICsga2V5V2l0aFBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W2tleVdpdGhQYXRoXSA9IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgZmxhdE9iamVjdC5kaXNwbGF5TmFtZSA9ICdmbGF0T2JqZWN0JztcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2FkZEludGVycG9sYXRpb25cbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBBZGRzIGludGVycG9sYXRpb24gc2VydmljZXMgdG8gYW5ndWxhci10cmFuc2xhdGUsIHNvIGl0IGNhbiBtYW5hZ2UgdGhlbS5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGZhY3RvcnkgSW50ZXJwb2xhdGlvbiBzZXJ2aWNlIGZhY3RvcnlcbiAgICovXG4gIHRoaXMuYWRkSW50ZXJwb2xhdGlvbiA9IGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgJGludGVycG9sYXRvckZhY3Rvcmllcy5wdXNoKGZhY3RvcnkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTWVzc2FnZUZvcm1hdEludGVycG9sYXRpb25cbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbmFsaXR5IG9mIG1lc3NhZ2Vmb3JtYXQuanMuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHdoZW4gaGF2aW5nIGhpZ2ggbGV2ZWwgcGx1cmFsaXphdGlvbiBhbmQgZ2VuZGVyIHNlbGVjdGlvbi5cbiAgICovXG4gIHRoaXMudXNlTWVzc2FnZUZvcm1hdEludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlSW50ZXJwb2xhdGlvbignJHRyYW5zbGF0ZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VJbnRlcnBvbGF0aW9uXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgd2hpY2ggaW50ZXJwb2xhdGlvbiBzdHlsZSB0byB1c2UgYXMgZGVmYXVsdCwgYXBwbGljYXRpb24td2lkZS5cbiAgICogU2ltcGx5IHBhc3MgYSBmYWN0b3J5L3NlcnZpY2UgbmFtZS4gVGhlIGludGVycG9sYXRpb24gc2VydmljZSBoYXMgdG8gaW1wbGVtZW50XG4gICAqIHRoZSBjb3JyZWN0IGludGVyZmFjZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY3RvcnkgSW50ZXJwb2xhdGlvbiBzZXJ2aWNlIG5hbWUuXG4gICAqL1xuICB0aGlzLnVzZUludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICRpbnRlcnBvbGF0aW9uRmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VTYW5pdGl6ZVN0cmF0ZWd5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2ltcGx5IHNldHMgYSBzYW5pdGF0aW9uIHN0cmF0ZWd5IHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBTdHJhdGVneSB0eXBlLlxuICAgKi9cbiAgdGhpcy51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAkdHJhbnNsYXRlU2FuaXRpemF0aW9uUHJvdmlkZXIudXNlU3RyYXRlZ3kodmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjcHJlZmVycmVkTGFuZ3VhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyB0aGUgbW9kdWxlIHdoaWNoIG9mIHRoZSByZWdpc3RlcmVkIHRyYW5zbGF0aW9uIHRhYmxlcyB0byB1c2UgZm9yIHRyYW5zbGF0aW9uXG4gICAqIGF0IGluaXRpYWwgc3RhcnR1cCBieSBwYXNzaW5nIGEgbGFuZ3VhZ2Uga2V5LiBTaW1pbGFyIHRvIGAkdHJhbnNsYXRlUHJvdmlkZXIjdXNlYFxuICAgKiBvbmx5IHRoYXQgaXQgc2F5cyB3aGljaCBsYW5ndWFnZSB0byAqKnByZWZlcioqLlxuICAgKiBJdCBpcyByZWNvbW1lbmRlZCB0byBjYWxsIHRoaXMgYWZ0ZXIge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNmYWxsYmFja0xhbmd1YWdlIGZhbGxiYWNrTGFuZ3VhZ2UoKX0uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5LlxuICAgKi9cbiAgdGhpcy5wcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgaWYgKGxhbmdLZXkpIHtcbiAgICAgIHNldHVwUHJlZmVycmVkTGFuZ3VhZ2UobGFuZ0tleSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuICRwcmVmZXJyZWRMYW5ndWFnZTtcbiAgfTtcbiAgdmFyIHNldHVwUHJlZmVycmVkTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGlmIChsYW5nS2V5KSB7XG4gICAgICAkcHJlZmVycmVkTGFuZ3VhZ2UgPSBsYW5nS2V5O1xuICAgIH1cbiAgICByZXR1cm4gJHByZWZlcnJlZExhbmd1YWdlO1xuICB9O1xuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3RyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIGFuIGluZGljYXRvciB3aGljaCBpcyB1c2VkIHdoZW4gYSB0cmFuc2xhdGlvbiBpc24ndCBmb3VuZC4gRS5nLiB3aGVuXG4gICAqIHNldHRpbmcgdGhlIGluZGljYXRvciBhcyAnWCcgYW5kIG9uZSB0cmllcyB0byB0cmFuc2xhdGUgYSB0cmFuc2xhdGlvbiBpZFxuICAgKiBjYWxsZWQgYE5PVF9GT1VORGAsIHRoaXMgd2lsbCByZXN1bHQgaW4gYFggTk9UX0ZPVU5EIFhgLlxuICAgKlxuICAgKiBJbnRlcm5hbGx5IHRoaXMgbWV0aG9kcyBzZXRzIGEgbGVmdCBpbmRpY2F0b3IgYW5kIGEgcmlnaHQgaW5kaWNhdG9yIHVzaW5nXG4gICAqIGAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQoKWAgYW5kXG4gICAqIGAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclJpZ2h0KClgLlxuICAgKlxuICAgKiAqKk5vdGUqKjogVGhlc2UgbWV0aG9kcyBhdXRvbWF0aWNhbGx5IGFkZCBhIHdoaXRlc3BhY2UgYmV0d2VlbiB0aGUgaW5kaWNhdG9yc1xuICAgKiBhbmQgdGhlIHRyYW5zbGF0aW9uIGlkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5kaWNhdG9yIEFuIGluZGljYXRvciwgY291bGQgYmUgYW55IHN0cmluZy5cbiAgICovXG4gIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvciA9IGZ1bmN0aW9uIChpbmRpY2F0b3IpIHtcbiAgICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0KGluZGljYXRvcik7XG4gICAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQoaW5kaWNhdG9yKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnRcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIGFuIGluZGljYXRvciB3aGljaCBpcyB1c2VkIHdoZW4gYSB0cmFuc2xhdGlvbiBpc24ndCBmb3VuZCBsZWZ0IHRvIHRoZVxuICAgKiB0cmFuc2xhdGlvbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGluZGljYXRvciBBbiBpbmRpY2F0b3IuXG4gICAqL1xuICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0ID0gZnVuY3Rpb24gKGluZGljYXRvcikge1xuICAgIGlmICghaW5kaWNhdG9yKSB7XG4gICAgICByZXR1cm4gJG5vdEZvdW5kSW5kaWNhdG9yTGVmdDtcbiAgICB9XG4gICAgJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCA9IGluZGljYXRvcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnRcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIGFuIGluZGljYXRvciB3aGljaCBpcyB1c2VkIHdoZW4gYSB0cmFuc2xhdGlvbiBpc24ndCBmb3VuZCByaWdodCB0byB0aGVcbiAgICogdHJhbnNsYXRpb24gaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbmRpY2F0b3IgQW4gaW5kaWNhdG9yLlxuICAgKi9cbiAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQgPSBmdW5jdGlvbiAoaW5kaWNhdG9yKSB7XG4gICAgaWYgKCFpbmRpY2F0b3IpIHtcbiAgICAgIHJldHVybiAkbm90Rm91bmRJbmRpY2F0b3JSaWdodDtcbiAgICB9XG4gICAgJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQgPSBpbmRpY2F0b3I7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNmYWxsYmFja0xhbmd1YWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgdGhlIG1vZHVsZSB3aGljaCBvZiB0aGUgcmVnaXN0ZXJlZCB0cmFuc2xhdGlvbiB0YWJsZXMgdG8gdXNlIHdoZW4gbWlzc2luZyB0cmFuc2xhdGlvbnNcbiAgICogYXQgaW5pdGlhbCBzdGFydHVwIGJ5IHBhc3NpbmcgYSBsYW5ndWFnZSBrZXkuIFNpbWlsYXIgdG8gYCR0cmFuc2xhdGVQcm92aWRlciN1c2VgXG4gICAqIG9ubHkgdGhhdCBpdCBzYXlzIHdoaWNoIGxhbmd1YWdlIHRvICoqZmFsbGJhY2sqKi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8fGFycmF5fSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5LlxuICAgKlxuICAgKi9cbiAgdGhpcy5mYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICBmYWxsYmFja1N0YWNrKGxhbmdLZXkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBmYWxsYmFja1N0YWNrID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICBpZiAobGFuZ0tleSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcobGFuZ0tleSkpIHtcbiAgICAgICAgJGZhbGxiYWNrV2FzU3RyaW5nID0gdHJ1ZTtcbiAgICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UgPSBbbGFuZ0tleV07XG4gICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNBcnJheShsYW5nS2V5KSkge1xuICAgICAgICAkZmFsbGJhY2tXYXNTdHJpbmcgPSBmYWxzZTtcbiAgICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UgPSBsYW5nS2V5O1xuICAgICAgfVxuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoJHByZWZlcnJlZExhbmd1YWdlKSAmJiBpbmRleE9mKCRmYWxsYmFja0xhbmd1YWdlLCAkcHJlZmVycmVkTGFuZ3VhZ2UpIDwgMCkge1xuICAgICAgICAkZmFsbGJhY2tMYW5ndWFnZS5wdXNoKCRwcmVmZXJyZWRMYW5ndWFnZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoJGZhbGxiYWNrV2FzU3RyaW5nKSB7XG4gICAgICAgIHJldHVybiAkZmFsbGJhY2tMYW5ndWFnZVswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAkZmFsbGJhY2tMYW5ndWFnZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXQgd2hpY2ggdHJhbnNsYXRpb24gdGFibGUgdG8gdXNlIGZvciB0cmFuc2xhdGlvbiBieSBnaXZlbiBsYW5ndWFnZSBrZXkuIFdoZW5cbiAgICogdHJ5aW5nIHRvICd1c2UnIGEgbGFuZ3VhZ2Ugd2hpY2ggaXNuJ3QgcHJvdmlkZWQsIGl0J2xsIHRocm93IGFuIGVycm9yLlxuICAgKlxuICAgKiBZb3UgYWN0dWFsbHkgZG9uJ3QgaGF2ZSB0byB1c2UgdGhpcyBtZXRob2Qgc2luY2UgYCR0cmFuc2xhdGVQcm92aWRlciNwcmVmZXJyZWRMYW5ndWFnZWBcbiAgICogZG9lcyB0aGUgam9iIHRvby5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkuXG4gICAqL1xuICB0aGlzLnVzZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgaWYgKGxhbmdLZXkpIHtcbiAgICAgIGlmICghJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0gJiYgKCEkbG9hZGVyRmFjdG9yeSkpIHtcbiAgICAgICAgLy8gb25seSB0aHJvdyBhbiBlcnJvciwgd2hlbiBub3QgbG9hZGluZyB0cmFuc2xhdGlvbiBkYXRhIGFzeW5jaHJvbm91c2x5XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignJHRyYW5zbGF0ZVByb3ZpZGVyIGNvdWxkblxcJ3QgZmluZCB0cmFuc2xhdGlvblRhYmxlIGZvciBsYW5nS2V5OiBcXCcnICsgbGFuZ0tleSArICdcXCcnKTtcbiAgICAgIH1cbiAgICAgICR1c2VzID0gbGFuZ0tleTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gJHVzZXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNyZXNvbHZlQ2xpZW50TG9jYWxlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyByZXR1cm5zIHRoZSBjdXJyZW50IGJyb3dzZXIvY2xpZW50J3MgbGFuZ3VhZ2Uga2V5LiBUaGUgcmVzdWx0IGlzIHByb2Nlc3NlZCB3aXRoIHRoZSBjb25maWd1cmVkIHVuaWZvcm0gdGFnIHJlc29sdmVyLlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgY3VycmVudCBjbGllbnQvYnJvd3NlciBsYW5ndWFnZSBrZXlcbiAgICovXG4gIHRoaXMucmVzb2x2ZUNsaWVudExvY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZ2V0TG9jYWxlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNzdG9yYWdlS2V5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgdGhlIG1vZHVsZSB3aGljaCBrZXkgbXVzdCByZXByZXNlbnQgdGhlIGNob29zZWQgbGFuZ3VhZ2UgYnkgYSB1c2VyIGluIHRoZSBzdG9yYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEEga2V5IGZvciB0aGUgc3RvcmFnZS5cbiAgICovXG4gIHZhciBzdG9yYWdlS2V5ID0gZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICgha2V5KSB7XG4gICAgICBpZiAoJHN0b3JhZ2VQcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuICRzdG9yYWdlUHJlZml4ICsgJHN0b3JhZ2VLZXk7XG4gICAgICB9XG4gICAgICByZXR1cm4gJHN0b3JhZ2VLZXk7XG4gICAgfVxuICAgICRzdG9yYWdlS2V5ID0ga2V5O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHRoaXMuc3RvcmFnZUtleSA9IHN0b3JhZ2VLZXk7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VVcmxMb2FkZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYCR0cmFuc2xhdGVVcmxMb2FkZXJgIGV4dGVuc2lvbiBzZXJ2aWNlIGFzIGxvYWRlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBVcmxcbiAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZVVybExvYWRlciA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy51c2VMb2FkZXIoJyR0cmFuc2xhdGVVcmxMb2FkZXInLCBhbmd1bGFyLmV4dGVuZCh7dXJsIDogdXJsfSwgb3B0aW9ucykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlU3RhdGljRmlsZXNMb2FkZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYCR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlcmAgZXh0ZW5zaW9uIHNlcnZpY2UgYXMgbG9hZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICovXG4gIHRoaXMudXNlU3RhdGljRmlsZXNMb2FkZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnVzZUxvYWRlcignJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyJywgb3B0aW9ucyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VMb2FkZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYW55IG90aGVyIHNlcnZpY2UgYXMgbG9hZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG9hZGVyRmFjdG9yeSBGYWN0b3J5IG5hbWUgdG8gdXNlXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgKi9cbiAgdGhpcy51c2VMb2FkZXIgPSBmdW5jdGlvbiAobG9hZGVyRmFjdG9yeSwgb3B0aW9ucykge1xuICAgICRsb2FkZXJGYWN0b3J5ID0gbG9hZGVyRmFjdG9yeTtcbiAgICAkbG9hZGVyT3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VMb2NhbFN0b3JhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYCR0cmFuc2xhdGVMb2NhbFN0b3JhZ2VgIHNlcnZpY2UgYXMgc3RvcmFnZSBsYXllci5cbiAgICpcbiAgICovXG4gIHRoaXMudXNlTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZVN0b3JhZ2UoJyR0cmFuc2xhdGVMb2NhbFN0b3JhZ2UnKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUNvb2tpZVN0b3JhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYCR0cmFuc2xhdGVDb29raWVTdG9yYWdlYCBzZXJ2aWNlIGFzIHN0b3JhZ2UgbGF5ZXIuXG4gICAqL1xuICB0aGlzLnVzZUNvb2tpZVN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlU3RvcmFnZSgnJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2UnKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVN0b3JhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgY3VzdG9tIHNlcnZpY2UgYXMgc3RvcmFnZSBsYXllci5cbiAgICovXG4gIHRoaXMudXNlU3RvcmFnZSA9IGZ1bmN0aW9uIChzdG9yYWdlRmFjdG9yeSkge1xuICAgICRzdG9yYWdlRmFjdG9yeSA9IHN0b3JhZ2VGYWN0b3J5O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjc3RvcmFnZVByZWZpeFxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgcHJlZml4IGZvciBzdG9yYWdlIGtleS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeCBTdG9yYWdlIGtleSBwcmVmaXhcbiAgICovXG4gIHRoaXMuc3RvcmFnZVByZWZpeCA9IGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICBpZiAoIXByZWZpeCkge1xuICAgICAgcmV0dXJuIHByZWZpeDtcbiAgICB9XG4gICAgJHN0b3JhZ2VQcmVmaXggPSBwcmVmaXg7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGJ1aWx0LWluIGxvZyBoYW5kbGVyIHdoZW4gdHJ5aW5nIHRvIHRyYW5zbGF0ZVxuICAgKiBhIHRyYW5zbGF0aW9uIElkIHdoaWNoIGRvZXNuJ3QgZXhpc3QuXG4gICAqXG4gICAqIFRoaXMgaXMgYWN0dWFsbHkgYSBzaG9ydGN1dCBtZXRob2QgZm9yIGB1c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyKClgLlxuICAgKlxuICAgKi9cbiAgdGhpcy51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIoJyR0cmFuc2xhdGVNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRXhwZWN0cyBhIGZhY3RvcnkgbmFtZSB3aGljaCBsYXRlciBnZXRzIGluc3RhbnRpYXRlZCB3aXRoIGAkaW5qZWN0b3JgLlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZCB0byB0ZWxsIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBhIGN1c3RvbVxuICAgKiBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyLiBKdXN0IGJ1aWxkIGEgZmFjdG9yeSB3aGljaCByZXR1cm5zIGEgZnVuY3Rpb25cbiAgICogYW5kIGV4cGVjdHMgYSB0cmFuc2xhdGlvbiBpZCBhcyBhcmd1bWVudC5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogPHByZT5cbiAgICogIGFwcC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuICAgKiAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlcignY3VzdG9tSGFuZGxlcicpO1xuICAgKiAgfSk7XG4gICAqXG4gICAqICBhcHAuZmFjdG9yeSgnY3VzdG9tSGFuZGxlcicsIGZ1bmN0aW9uIChkZXAxLCBkZXAyKSB7XG4gICAqICAgIHJldHVybiBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgKiAgICAgIC8vIHNvbWV0aGluZyB3aXRoIHRyYW5zbGF0aW9uSWQgYW5kIGRlcDEgYW5kIGRlcDJcbiAgICogICAgfTtcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY3RvcnkgRmFjdG9yeSBuYW1lXG4gICAqL1xuICB0aGlzLnVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIgPSBmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VQb3N0Q29tcGlsaW5nXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSWYgcG9zdCBjb21waWxpbmcgaXMgZW5hYmxlZCwgYWxsIHRyYW5zbGF0ZWQgdmFsdWVzIHdpbGwgYmUgcHJvY2Vzc2VkXG4gICAqIGFnYWluIHdpdGggQW5ndWxhckpTJyAkY29tcGlsZS5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogPHByZT5cbiAgICogIGFwcC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuICAgKiAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlUG9zdENvbXBpbGluZyh0cnVlKTtcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY3RvcnkgRmFjdG9yeSBuYW1lXG4gICAqL1xuICB0aGlzLnVzZVBvc3RDb21waWxpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAkcG9zdENvbXBpbGluZ0VuYWJsZWQgPSAhKCF2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNmb3JjZUFzeW5jUmVsb2FkXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSWYgZm9yY2UgYXN5bmMgcmVsb2FkIGlzIGVuYWJsZWQsIGFzeW5jIGxvYWRlciB3aWxsIGFsd2F5cyBiZSBjYWxsZWRcbiAgICogZXZlbiBpZiAkdHJhbnNsYXRpb25UYWJsZSBhbHJlYWR5IGNvbnRhaW5zIHRoZSBsYW5ndWFnZSBrZXksIGFkZGluZ1xuICAgKiBwb3NzaWJsZSBuZXcgZW50cmllcyB0byB0aGUgJHRyYW5zbGF0aW9uVGFibGUuXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqIDxwcmU+XG4gICAqICBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcbiAgICogICAgJHRyYW5zbGF0ZVByb3ZpZGVyLmZvcmNlQXN5bmNSZWxvYWQodHJ1ZSk7XG4gICAqICB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSB2YWxpZCB2YWx1ZXMgYXJlIHRydWUgb3IgZmFsc2VcbiAgICovXG4gIHRoaXMuZm9yY2VBc3luY1JlbG9hZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICRmb3JjZUFzeW5jUmVsb2FkRW5hYmxlZCA9ICEoIXZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VuaWZvcm1MYW5ndWFnZVRhZ1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHdoaWNoIGxhbmd1YWdlIHRhZyBzaG91bGQgYmUgdXNlZCBhcyBhIHJlc3VsdCB3aGVuIGRldGVybWluaW5nXG4gICAqIHRoZSBjdXJyZW50IGJyb3dzZXIgbGFuZ3VhZ2UuXG4gICAqXG4gICAqIFRoaXMgc2V0dGluZyBtdXN0IGJlIHNldCBiZWZvcmUgaW52b2tpbmcge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI21ldGhvZHNfZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UgZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UoKX0uXG4gICAqXG4gICAqIDxwcmU+XG4gICAqICR0cmFuc2xhdGVQcm92aWRlclxuICAgKiAgIC51bmlmb3JtTGFuZ3VhZ2VUYWcoJ2JjcDQ3JylcbiAgICogICAuZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UoKVxuICAgKiA8L3ByZT5cbiAgICpcbiAgICogVGhlIHJlc29sdmVyIGN1cnJlbnRseSBzdXBwb3J0czpcbiAgICogKiBkZWZhdWx0XG4gICAqICAgICAodHJhZGl0aW9uYWxseTogaHlwaGVucyB3aWxsIGJlIGNvbnZlcnRlZCBpbnRvIHVuZGVyc2NvcmVzLCBpLmUuIGVuLVVTID0+IGVuX1VTKVxuICAgKiAgICAgZW4tVVMgPT4gZW5fVVNcbiAgICogICAgIGVuX1VTID0+IGVuX1VTXG4gICAqICAgICBlbi11cyA9PiBlbl91c1xuICAgKiAqIGphdmFcbiAgICogICAgIGxpa2UgZGVmYXVsdCwgYnV0IHRoZSBzZWNvbmQgcGFydCB3aWxsIGJlIGFsd2F5cyBpbiB1cHBlcmNhc2VcbiAgICogICAgIGVuLVVTID0+IGVuX1VTXG4gICAqICAgICBlbl9VUyA9PiBlbl9VU1xuICAgKiAgICAgZW4tdXMgPT4gZW5fVVNcbiAgICogKiBCQ1AgNDcgKFJGQyA0NjQ2ICYgNDY0NylcbiAgICogICAgIEVOID0+IGVuXG4gICAqICAgICBlbi1VUyA9PiBlbi1VU1xuICAgKiAgICAgZW5fVVMgPT4gZW4tVVNcbiAgICogICAgIGVuLXVzID0+IGVuLVVTXG4gICAqICAgICBzci1sYXRuID0+IHNyLUxhdG5cbiAgICogICAgIHNyLWxhdG4tcnMgPT4gc3ItTGF0bi1SU1xuICAgKlxuICAgKiBTZWUgYWxzbzpcbiAgICogKiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lFVEZfbGFuZ3VhZ2VfdGFnXG4gICAqICogaHR0cDovL3d3dy53My5vcmcvSW50ZXJuYXRpb25hbC9jb3JlL2xhbmd0YWdzL1xuICAgKiAqIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2JjcDQ3XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnMgKG9yIHN0YW5kYXJkKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5zdGFuZGFyZCAtIHZhbGlkIHZhbHVlcyBhcmUgJ2RlZmF1bHQnLCAnYmNwNDcnLCAnamF2YSdcbiAgICovXG4gIHRoaXMudW5pZm9ybUxhbmd1YWdlVGFnID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblxuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZyhvcHRpb25zKSkge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgc3RhbmRhcmQgOiBvcHRpb25zXG4gICAgICB9O1xuICAgIH1cblxuICAgIHVuaWZvcm1MYW5ndWFnZVRhZ1Jlc29sdmVyID0gb3B0aW9ucy5zdGFuZGFyZDtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB0cnkgdG8gZGV0ZXJtaW5lIG9uIGl0cyBvd24gd2hpY2ggbGFuZ3VhZ2Uga2V5XG4gICAqIHRvIHNldCBhcyBwcmVmZXJyZWQgbGFuZ3VhZ2UuIFdoZW4gYGZuYCBpcyBnaXZlbiwgYW5ndWxhci10cmFuc2xhdGUgdXNlcyBpdFxuICAgKiB0byBkZXRlcm1pbmUgYSBsYW5ndWFnZSBrZXksIG90aGVyd2lzZSBpdCB1c2VzIHRoZSBidWlsdC1pbiBgZ2V0TG9jYWxlKClgXG4gICAqIG1ldGhvZC5cbiAgICpcbiAgICogVGhlIGBnZXRMb2NhbGUoKWAgcmV0dXJucyBhIGxhbmd1YWdlIGtleSBpbiB0aGUgZm9ybWF0IGBbbGFuZ11fW2NvdW50cnldYCBvclxuICAgKiBgW2xhbmddYCBkZXBlbmRpbmcgb24gd2hhdCB0aGUgYnJvd3NlciBwcm92aWRlcy5cbiAgICpcbiAgICogVXNlIHRoaXMgbWV0aG9kIGF0IHlvdXIgb3duIHJpc2ssIHNpbmNlIG5vdCBhbGwgYnJvd3NlcnMgcmV0dXJuIGEgdmFsaWRcbiAgICogbG9jYWxlIChzZWUge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI21ldGhvZHNfdW5pZm9ybUxhbmd1YWdlVGFnIHVuaWZvcm1MYW5ndWFnZVRhZygpfSkuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBmbiBGdW5jdGlvbiB0byBkZXRlcm1pbmUgYSBicm93c2VyJ3MgbG9jYWxlXG4gICAqL1xuICB0aGlzLmRldGVybWluZVByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24gKGZuKSB7XG5cbiAgICB2YXIgbG9jYWxlID0gKGZuICYmIGFuZ3VsYXIuaXNGdW5jdGlvbihmbikpID8gZm4oKSA6IGdldExvY2FsZSgpO1xuXG4gICAgaWYgKCEkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzLmxlbmd0aCkge1xuICAgICAgJHByZWZlcnJlZExhbmd1YWdlID0gbG9jYWxlO1xuICAgIH0gZWxzZSB7XG4gICAgICAkcHJlZmVycmVkTGFuZ3VhZ2UgPSBuZWdvdGlhdGVMb2NhbGUobG9jYWxlKSB8fCBsb2NhbGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNyZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5c1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVycyBhIHNldCBvZiBsYW5ndWFnZSBrZXlzIHRoZSBhcHAgd2lsbCB3b3JrIHdpdGguIFVzZSB0aGlzIG1ldGhvZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoXG4gICAqIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSBkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZX0uXG4gICAqIFdoZW4gYXZhaWxhYmxlIGxhbmd1YWdlcyBrZXlzIGFyZSByZWdpc3RlcmVkLCBhbmd1bGFyLXRyYW5zbGF0ZVxuICAgKiB0cmllcyB0byBmaW5kIHRoZSBiZXN0IGZpdHRpbmcgbGFuZ3VhZ2Uga2V5IGRlcGVuZGluZyBvbiB0aGUgYnJvd3NlcnMgbG9jYWxlLFxuICAgKiBjb25zaWRlcmluZyB5b3VyIGxhbmd1YWdlIGtleSBjb252ZW50aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gbGFuZ3VhZ2VLZXlzIEFycmF5IG9mIGxhbmd1YWdlIGtleXMgdGhlIHlvdXIgYXBwIHdpbGwgdXNlXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gYWxpYXNlcyBBbGlhcyBtYXAuXG4gICAqL1xuICB0aGlzLnJlZ2lzdGVyQXZhaWxhYmxlTGFuZ3VhZ2VLZXlzID0gZnVuY3Rpb24gKGxhbmd1YWdlS2V5cywgYWxpYXNlcykge1xuICAgIGlmIChsYW5ndWFnZUtleXMpIHtcbiAgICAgICRhdmFpbGFibGVMYW5ndWFnZUtleXMgPSBsYW5ndWFnZUtleXM7XG4gICAgICBpZiAoYWxpYXNlcykge1xuICAgICAgICAkbGFuZ3VhZ2VLZXlBbGlhc2VzID0gYWxpYXNlcztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gJGF2YWlsYWJsZUxhbmd1YWdlS2V5cztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUxvYWRlckNhY2hlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXJzIGEgY2FjaGUgZm9yIGludGVybmFsICRodHRwIGJhc2VkIGxvYWRlcnMuXG4gICAqIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGlvbkNhY2hlICR0cmFuc2xhdGlvbkNhY2hlfS5cbiAgICogV2hlbiBmYWxzZSB0aGUgY2FjaGUgd2lsbCBiZSBkaXNhYmxlZCAoZGVmYXVsdCkuIFdoZW4gdHJ1ZSBvciB1bmRlZmluZWRcbiAgICogdGhlIGNhY2hlIHdpbGwgYmUgYSBkZWZhdWx0IChzZWUgJGNhY2hlRmFjdG9yeSkuIFdoZW4gYW4gb2JqZWN0IGl0IHdpbGxcbiAgICogYmUgdHJlYXQgYXMgYSBjYWNoZSBvYmplY3QgaXRzZWxmOiB0aGUgdXNhZ2UgaXMgJGh0dHAoe2NhY2hlOiBjYWNoZX0pXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjYWNoZSBib29sZWFuLCBzdHJpbmcgb3IgY2FjaGUtb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZUxvYWRlckNhY2hlID0gZnVuY3Rpb24gKGNhY2hlKSB7XG4gICAgaWYgKGNhY2hlID09PSBmYWxzZSkge1xuICAgICAgLy8gZGlzYWJsZSBjYWNoZVxuICAgICAgbG9hZGVyQ2FjaGUgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChjYWNoZSA9PT0gdHJ1ZSkge1xuICAgICAgLy8gZW5hYmxlIGNhY2hlIHVzaW5nIEFKUyBkZWZhdWx0c1xuICAgICAgbG9hZGVyQ2FjaGUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mKGNhY2hlKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVuYWJsZSBjYWNoZSB1c2luZyBkZWZhdWx0XG4gICAgICBsb2FkZXJDYWNoZSA9ICckdHJhbnNsYXRpb25DYWNoZSc7XG4gICAgfSBlbHNlIGlmIChjYWNoZSkge1xuICAgICAgLy8gZW5hYmxlIGNhY2hlIHVzaW5nIGdpdmVuIG9uZSAoc2VlICRjYWNoZUZhY3RvcnkpXG4gICAgICBsb2FkZXJDYWNoZSA9IGNhY2hlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2RpcmVjdGl2ZVByaW9yaXR5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgZGVmYXVsdCBwcmlvcml0eSBvZiB0aGUgdHJhbnNsYXRlIGRpcmVjdGl2ZS4gVGhlIHN0YW5kYXJkIHZhbHVlIGlzIGAwYC5cbiAgICogQ2FsbGluZyB0aGlzIGZ1bmN0aW9uIHdpdGhvdXQgYW4gYXJndW1lbnQgd2lsbCByZXR1cm4gdGhlIGN1cnJlbnQgdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwcmlvcml0eSBmb3IgdGhlIHRyYW5zbGF0ZS1kaXJlY3RpdmVcbiAgICovXG4gIHRoaXMuZGlyZWN0aXZlUHJpb3JpdHkgPSBmdW5jdGlvbiAocHJpb3JpdHkpIHtcbiAgICBpZiAocHJpb3JpdHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gZ2V0dGVyXG4gICAgICByZXR1cm4gZGlyZWN0aXZlUHJpb3JpdHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNldHRlciB3aXRoIGNoYWluaW5nXG4gICAgICBkaXJlY3RpdmVQcmlvcml0eSA9IHByaW9yaXR5O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjc3RhdGVmdWxGaWx0ZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTaW5jZSBBbmd1bGFySlMgMS4zLCBmaWx0ZXJzIHdoaWNoIGFyZSBub3Qgc3RhdGVsZXNzIChkZXBlbmRpbmcgYXQgdGhlIHNjb3BlKVxuICAgKiBoYXZlIHRvIGV4cGxpY2l0IGRlZmluZSB0aGlzIGJlaGF2aW9yLlxuICAgKiBTZXRzIHdoZXRoZXIgdGhlIHRyYW5zbGF0ZSBmaWx0ZXIgc2hvdWxkIGJlIHN0YXRlZnVsIG9yIHN0YXRlbGVzcy4gVGhlIHN0YW5kYXJkIHZhbHVlIGlzIGB0cnVlYFxuICAgKiBtZWFuaW5nIGJlaW5nIHN0YXRlZnVsLlxuICAgKiBDYWxsaW5nIHRoaXMgZnVuY3Rpb24gd2l0aG91dCBhbiBhcmd1bWVudCB3aWxsIHJldHVybiB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBzdGF0ZSAtIGRlZmluZXMgdGhlIHN0YXRlIG9mIHRoZSBmaWx0ZXJcbiAgICovXG4gIHRoaXMuc3RhdGVmdWxGaWx0ZXIgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gZ2V0dGVyXG4gICAgICByZXR1cm4gc3RhdGVmdWxGaWx0ZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHNldHRlciB3aXRoIGNoYWluaW5nXG4gICAgICBzdGF0ZWZ1bEZpbHRlciA9IHN0YXRlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjcG9zdFByb2Nlc3NcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGUgcG9zdCBwcm9jZXNzb3Igd2lsbCBiZSBpbnRlcmNlcHQgcmlnaHQgYWZ0ZXIgdGhlIHRyYW5zbGF0aW9uIHJlc3VsdC4gSXQgY2FuIG1vZGlmeSB0aGUgcmVzdWx0LlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZm4gRnVuY3Rpb24gb3Igc2VydmljZSBuYW1lIChzdHJpbmcpIHRvIGJlIGNhbGxlZCBhZnRlciB0aGUgdHJhbnNsYXRpb24gdmFsdWUgaGFzIGJlZW4gc2V0IC8gcmVzb2x2ZWQuIFRoZSBmdW5jdGlvbiBpdHNlbGYgd2lsbCBlbnJpY2ggZXZlcnkgdmFsdWUgYmVpbmcgcHJvY2Vzc2VkIGFuZCB0aGVuIGNvbnRpbnVlIHRoZSBub3JtYWwgcmVzb2x2ZXIgcHJvY2Vzc1xuICAgKi9cbiAgdGhpcy5wb3N0UHJvY2VzcyA9IGZ1bmN0aW9uIChmbikge1xuICAgIGlmIChmbikge1xuICAgICAgcG9zdFByb2Nlc3NGbiA9IGZuO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb3N0UHJvY2Vzc0ZuID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2tlZXBDb250ZW50XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSWYga2VlcENvbnRlbnQgaXMgc2V0IHRvIHRydWUgdGhhbiB0cmFuc2xhdGUgZGlyZWN0aXZlIHdpbGwgYWx3YXlzIHVzZSBpbm5lckhUTUxcbiAgICogYXMgYSBkZWZhdWx0IHRyYW5zbGF0aW9uXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqIDxwcmU+XG4gICAqICBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcbiAgICogICAgJHRyYW5zbGF0ZVByb3ZpZGVyLmtlZXBDb250ZW50KHRydWUpO1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gdmFsaWQgdmFsdWVzIGFyZSB0cnVlIG9yIGZhbHNlXG4gICAqL1xuICB0aGlzLmtlZXBDb250ZW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgJGtlZXBDb250ZW50ID0gISghdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2Mgb2JqZWN0XG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgKiBAcmVxdWlyZXMgJGludGVycG9sYXRlXG4gICAqIEByZXF1aXJlcyAkbG9nXG4gICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gICAqIEByZXF1aXJlcyAkcVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlIGAkdHJhbnNsYXRlYCBzZXJ2aWNlIGlzIHRoZSBhY3R1YWwgY29yZSBvZiBhbmd1bGFyLXRyYW5zbGF0ZS4gSXQgZXhwZWN0cyBhIHRyYW5zbGF0aW9uIGlkXG4gICAqIGFuZCBvcHRpb25hbCBpbnRlcnBvbGF0ZSBwYXJhbWV0ZXJzIHRvIHRyYW5zbGF0ZSBjb250ZW50cy5cbiAgICpcbiAgICogPHByZT5cbiAgICogICR0cmFuc2xhdGUoJ0hFQURMSU5FX1RFWFQnKS50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgKiAgICAkc2NvcGUudHJhbnNsYXRlZFRleHQgPSB0cmFuc2xhdGlvbjtcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IHRyYW5zbGF0aW9uSWQgQSB0b2tlbiB3aGljaCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gaWRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBjYW4gYmUgb3B0aW9uYWxseSBhbiBhcnJheSBvZiB0cmFuc2xhdGlvbiBpZHMgd2hpY2hcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyB0aGF0IHRoZSBmdW5jdGlvbiByZXR1cm5zIGFuIG9iamVjdCB3aGVyZSBlYWNoIGtleVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyB0aGUgdHJhbnNsYXRpb24gaWQgYW5kIHRoZSB2YWx1ZSB0aGUgdHJhbnNsYXRpb24uXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gW2ludGVycG9sYXRlUGFyYW1zPXt9XSBBbiBvYmplY3QgaGFzaCBmb3IgZHluYW1pYyB2YWx1ZXNcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBbaW50ZXJwb2xhdGlvbklkPXVuZGVmaW5lZF0gVGhlIGlkIG9mIHRoZSBpbnRlcnBvbGF0aW9uIHRvIHVzZSAodXNlIGRlZmF1bHQgdW5sZXNzIHNldCB2aWEgdXNlSW50ZXJwb2xhdGlvbigpKVxuICAgKiBAcGFyYW0ge3N0cmluZz19IFtkZWZhdWx0VHJhbnNsYXRpb25UZXh0PXVuZGVmaW5lZF0gdGhlIG9wdGlvbmFsIGRlZmF1bHQgdHJhbnNsYXRpb24gdGV4dCB0aGF0IGlzIHdyaXR0ZW4gYXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXMgZGVmYXVsdCB0ZXh0IGluIGNhc2UgaXQgaXMgbm90IGZvdW5kIGluIGFueSBjb25maWd1cmVkIGxhbmd1YWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gW2ZvcmNlTGFuZ3VhZ2U9ZmFsc2VdIEEgbGFuZ3VhZ2UgdG8gYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IGxhbmd1YWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gW3Nhbml0aXplU3RyYXRlZ3k9dW5kZWZpbmVkXSBmb3JjZSBzYW5pdGl6ZSBzdHJhdGVneSBmb3IgdGhpcyBjYWxsIGluc3RlYWQgb2YgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgb25lICh1c2UgZGVmYXVsdCB1bmxlc3Mgc2V0KVxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBwcm9taXNlXG4gICAqL1xuICB0aGlzLiRnZXQgPSBbJyRsb2cnLCAnJGluamVjdG9yJywgJyRyb290U2NvcGUnLCAnJHEnLCBmdW5jdGlvbiAoJGxvZywgJGluamVjdG9yLCAkcm9vdFNjb3BlLCAkcSkge1xuXG4gICAgdmFyIFN0b3JhZ2UsXG4gICAgICBkZWZhdWx0SW50ZXJwb2xhdG9yID0gJGluamVjdG9yLmdldCgkaW50ZXJwb2xhdGlvbkZhY3RvcnkgfHwgJyR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbicpLFxuICAgICAgcGVuZGluZ0xvYWRlciA9IGZhbHNlLFxuICAgICAgaW50ZXJwb2xhdG9ySGFzaE1hcCA9IHt9LFxuICAgICAgbGFuZ1Byb21pc2VzID0ge30sXG4gICAgICBmYWxsYmFja0luZGV4LFxuICAgICAgc3RhcnRGYWxsYmFja0l0ZXJhdGlvbjtcblxuICAgIHZhciAkdHJhbnNsYXRlID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIGZvcmNlTGFuZ3VhZ2UsIHNhbml0aXplU3RyYXRlZ3kpIHtcbiAgICAgIGlmICghJHVzZXMgJiYgJHByZWZlcnJlZExhbmd1YWdlKSB7XG4gICAgICAgICR1c2VzID0gJHByZWZlcnJlZExhbmd1YWdlO1xuICAgICAgfVxuICAgICAgdmFyIHVzZXMgPSAoZm9yY2VMYW5ndWFnZSAmJiBmb3JjZUxhbmd1YWdlICE9PSAkdXNlcykgPyAvLyB3ZSBkb24ndCB3YW50IHRvIHJlLW5lZ290aWF0ZSAkdXNlc1xuICAgICAgICAobmVnb3RpYXRlTG9jYWxlKGZvcmNlTGFuZ3VhZ2UpIHx8IGZvcmNlTGFuZ3VhZ2UpIDogJHVzZXM7XG5cbiAgICAgIC8vIENoZWNrIGZvcmNlTGFuZ3VhZ2UgaXMgcHJlc2VudFxuICAgICAgaWYgKGZvcmNlTGFuZ3VhZ2UpIHtcbiAgICAgICAgbG9hZFRyYW5zbGF0aW9uc0lmTWlzc2luZyhmb3JjZUxhbmd1YWdlKTtcbiAgICAgIH1cblxuICAgICAgLy8gRHVjayBkZXRlY3Rpb246IElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhbiBhcnJheSwgYSBidW5jaCBvZiB0cmFuc2xhdGlvbnMgd2FzIHJlcXVlc3RlZC5cbiAgICAgIC8vIFRoZSByZXN1bHQgaXMgYW4gb2JqZWN0LlxuICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheSh0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAvLyBJbnNwaXJlZCBieSBRLmFsbFNldHRsZWQgYnkgS3JpcyBLb3dhbFxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3EvYmxvYi9iMGZhNzI5ODA3MTdkYzIwMmZmYzNjYmYwM2I5MzZlMTBlYmJiOWQ3L3EuanMjTDE1NTMtMTU2M1xuICAgICAgICAvLyBUaGlzIHRyYW5zZm9ybXMgYWxsIHByb21pc2VzIHJlZ2FyZGxlc3MgcmVzb2x2ZWQgb3IgcmVqZWN0ZWRcbiAgICAgICAgdmFyIHRyYW5zbGF0ZUFsbCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkcykge1xuICAgICAgICAgIHZhciByZXN1bHRzID0ge307IC8vIHN0b3JpbmcgdGhlIGFjdHVhbCByZXN1bHRzXG4gICAgICAgICAgdmFyIHByb21pc2VzID0gW107IC8vIHByb21pc2VzIHRvIHdhaXQgZm9yXG4gICAgICAgICAgLy8gV3JhcHMgdGhlIHByb21pc2UgYSkgYmVpbmcgYWx3YXlzIHJlc29sdmVkIGFuZCBiKSBzdG9yaW5nIHRoZSBsaW5rIGlkLT52YWx1ZVxuICAgICAgICAgIHZhciB0cmFuc2xhdGUgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciByZWdhcmRsZXNzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHNbdHJhbnNsYXRpb25JZF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShbdHJhbnNsYXRpb25JZCwgdmFsdWVdKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjYXJlIHdoZXRoZXIgdGhlIHByb21pc2Ugd2FzIHJlc29sdmVkIG9yIHJlamVjdGVkOyBqdXN0IHN0b3JlIHRoZSB2YWx1ZXNcbiAgICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCwgZm9yY2VMYW5ndWFnZSwgc2FuaXRpemVTdHJhdGVneSkudGhlbihyZWdhcmRsZXNzLCByZWdhcmRsZXNzKTtcbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGMgPSB0cmFuc2xhdGlvbklkcy5sZW5ndGg7IGkgPCBjOyBpKyspIHtcbiAgICAgICAgICAgIHByb21pc2VzLnB1c2godHJhbnNsYXRlKHRyYW5zbGF0aW9uSWRzW2ldKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdhaXQgZm9yIGFsbCAoaW5jbHVkaW5nIHN0b3JpbmcgdG8gcmVzdWx0cylcbiAgICAgICAgICByZXR1cm4gJHEuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHJldHVybiB0aGUgcmVzdWx0c1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGVBbGwodHJhbnNsYXRpb25JZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIC8vIHRyaW0gb2ZmIGFueSB3aGl0ZXNwYWNlXG4gICAgICBpZiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICB0cmFuc2xhdGlvbklkID0gdHJpbS5hcHBseSh0cmFuc2xhdGlvbklkKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb21pc2VUb1dhaXRGb3IgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IGxhbmdQcm9taXNlc1t1c2VzXSB8fCBsYW5nUHJvbWlzZXNbJHByZWZlcnJlZExhbmd1YWdlXTtcblxuICAgICAgICBmYWxsYmFja0luZGV4ID0gMDtcblxuICAgICAgICBpZiAoJHN0b3JhZ2VGYWN0b3J5ICYmICFwcm9taXNlKSB7XG4gICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGVyZSdzIG5vIHBlbmRpbmcgcHJvbWlzZSBmb3IgJHByZWZlcnJlZExhbmd1YWdlIG9yXG4gICAgICAgICAgLy8gJHVzZXMuIE1heWJlIHRoZXJlJ3Mgb25lIHBlbmRpbmcgZm9yIGEgbGFuZ3VhZ2UgdGhhdCBjb21lcyBmcm9tXG4gICAgICAgICAgLy8gc3RvcmFnZS5cbiAgICAgICAgICB2YXIgbGFuZ0tleSA9IFN0b3JhZ2UuZ2V0KCRzdG9yYWdlS2V5KTtcbiAgICAgICAgICBwcm9taXNlID0gbGFuZ1Byb21pc2VzW2xhbmdLZXldO1xuXG4gICAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgbGFuZ0tleSk7XG4gICAgICAgICAgICAvLyBtYXliZSB0aGUgbGFuZ3VhZ2UgZnJvbSBzdG9yYWdlIGlzIGFsc28gZGVmaW5lZCBhcyBmYWxsYmFjayBsYW5ndWFnZVxuICAgICAgICAgICAgLy8gd2UgaW5jcmVhc2UgdGhlIGZhbGxiYWNrIGxhbmd1YWdlIGluZGV4IHRvIG5vdCBzZWFyY2ggaW4gdGhhdCBsYW5ndWFnZVxuICAgICAgICAgICAgLy8gYXMgZmFsbGJhY2ssIHNpbmNlIGl0J3MgcHJvYmFibHkgdGhlIGZpcnN0IHVzZWQgbGFuZ3VhZ2VcbiAgICAgICAgICAgIC8vIGluIHRoYXQgY2FzZSB0aGUgaW5kZXggc3RhcnRzIGFmdGVyIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICBmYWxsYmFja0luZGV4ID0gKGluZGV4ID09PSAwKSA/IDEgOiAwO1xuXG4gICAgICAgICAgICAvLyBidXQgd2UgY2FuIG1ha2Ugc3VyZSB0byBBTFdBWVMgZmFsbGJhY2sgdG8gcHJlZmVycmVkIGxhbmd1YWdlIGF0IGxlYXN0XG4gICAgICAgICAgICBpZiAoaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgJHByZWZlcnJlZExhbmd1YWdlKSA8IDApIHtcbiAgICAgICAgICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UucHVzaCgkcHJlZmVycmVkTGFuZ3VhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH0oKSk7XG5cbiAgICAgIGlmICghcHJvbWlzZVRvV2FpdEZvcikge1xuICAgICAgICAvLyBubyBwcm9taXNlIHRvIHdhaXQgZm9yPyBva2F5LiBUaGVuIHRoZXJlJ3Mgbm8gbG9hZGVyIHJlZ2lzdGVyZWRcbiAgICAgICAgLy8gbm9yIGlzIGEgb25lIHBlbmRpbmcgZm9yIGxhbmd1YWdlIHRoYXQgY29tZXMgZnJvbSBzdG9yYWdlLlxuICAgICAgICAvLyBXZSBjYW4ganVzdCB0cmFuc2xhdGUuXG4gICAgICAgIGRldGVybWluZVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIHVzZXMsIHNhbml0aXplU3RyYXRlZ3kpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBwcm9taXNlUmVzb2x2ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gJHVzZXMgbWF5IGhhdmUgY2hhbmdlZCB3aGlsZSB3YWl0aW5nXG4gICAgICAgICAgaWYgKCFmb3JjZUxhbmd1YWdlKSB7XG4gICAgICAgICAgICB1c2VzID0gJHVzZXM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRldGVybWluZVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIHVzZXMsIHNhbml0aXplU3RyYXRlZ3kpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcHJvbWlzZVJlc29sdmVkLmRpc3BsYXlOYW1lID0gJ3Byb21pc2VSZXNvbHZlZCc7XG5cbiAgICAgICAgcHJvbWlzZVRvV2FpdEZvclsnZmluYWxseSddKHByb21pc2VSZXNvbHZlZClbJ2NhdGNoJ10oYW5ndWxhci5ub29wKTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBlcnJvcnMgaGVyZSwgYWxyZWFkeSBoYW5kbGVkXG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgYXBwbHlOb3RGb3VuZEluZGljYXRvcnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQXBwbGllcyBub3QgZm91bnQgaW5kaWNhdG9ycyB0byBnaXZlbiB0cmFuc2xhdGlvbiBpZCwgaWYgbmVlZGVkLlxuICAgICAqIFRoaXMgZnVuY3Rpb24gZ2V0cyBvbmx5IGV4ZWN1dGVkLCBpZiBhIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3QsXG4gICAgICogd2hpY2ggaXMgd2h5IGEgdHJhbnNsYXRpb24gaWQgaXMgZXhwZWN0ZWQgYXMgYXJndW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHJhbnNsYXRpb25JZCBUcmFuc2xhdGlvbiBpZC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBTYW1lIGFzIGdpdmVuIHRyYW5zbGF0aW9uIGlkIGJ1dCBhcHBsaWVkIHdpdGggbm90IGZvdW5kXG4gICAgICogaW5kaWNhdG9ycy5cbiAgICAgKi9cbiAgICB2YXIgYXBwbHlOb3RGb3VuZEluZGljYXRvcnMgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgLy8gYXBwbHlpbmcgbm90Rm91bmRJbmRpY2F0b3JzXG4gICAgICBpZiAoJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCkge1xuICAgICAgICB0cmFuc2xhdGlvbklkID0gWyRub3RGb3VuZEluZGljYXRvckxlZnQsIHRyYW5zbGF0aW9uSWRdLmpvaW4oJyAnKTtcbiAgICAgIH1cbiAgICAgIGlmICgkbm90Rm91bmRJbmRpY2F0b3JSaWdodCkge1xuICAgICAgICB0cmFuc2xhdGlvbklkID0gW3RyYW5zbGF0aW9uSWQsICRub3RGb3VuZEluZGljYXRvclJpZ2h0XS5qb2luKCcgJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgdXNlTGFuZ3VhZ2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogTWFrZXMgYWN0dWFsIHVzZSBvZiBhIGxhbmd1YWdlIGJ5IHNldHRpbmcgYSBnaXZlbiBsYW5ndWFnZSBrZXkgYXMgdXNlZFxuICAgICAqIGxhbmd1YWdlIGFuZCBpbmZvcm1zIHJlZ2lzdGVyZWQgaW50ZXJwb2xhdG9ycyB0byBhbHNvIHVzZSB0aGUgZ2l2ZW5cbiAgICAgKiBrZXkgYXMgbG9jYWxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBMb2NhbGUga2V5LlxuICAgICAqL1xuICAgIHZhciB1c2VMYW5ndWFnZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICR1c2VzID0ga2V5O1xuXG4gICAgICAvLyBtYWtlIHN1cmUgdG8gc3RvcmUgbmV3IGxhbmd1YWdlIGtleSBiZWZvcmUgdHJpZ2dlcmluZyBzdWNjZXNzIGV2ZW50XG4gICAgICBpZiAoJHN0b3JhZ2VGYWN0b3J5KSB7XG4gICAgICAgIFN0b3JhZ2UucHV0KCR0cmFuc2xhdGUuc3RvcmFnZUtleSgpLCAkdXNlcyk7XG4gICAgICB9XG5cbiAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VTdWNjZXNzJywge2xhbmd1YWdlIDoga2V5fSk7XG5cbiAgICAgIC8vIGluZm9ybSBkZWZhdWx0IGludGVycG9sYXRvclxuICAgICAgZGVmYXVsdEludGVycG9sYXRvci5zZXRMb2NhbGUoJHVzZXMpO1xuXG4gICAgICB2YXIgZWFjaEludGVycG9sYXRvciA9IGZ1bmN0aW9uIChpbnRlcnBvbGF0b3IsIGlkKSB7XG4gICAgICAgIGludGVycG9sYXRvckhhc2hNYXBbaWRdLnNldExvY2FsZSgkdXNlcyk7XG4gICAgICB9O1xuICAgICAgZWFjaEludGVycG9sYXRvci5kaXNwbGF5TmFtZSA9ICdlYWNoSW50ZXJwb2xhdG9yTG9jYWxlU2V0dGVyJztcblxuICAgICAgLy8gaW5mb3JtIGFsbCBvdGhlcnMgdG9vIVxuICAgICAgYW5ndWxhci5mb3JFYWNoKGludGVycG9sYXRvckhhc2hNYXAsIGVhY2hJbnRlcnBvbGF0b3IpO1xuICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIHtsYW5ndWFnZSA6IGtleX0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBsb2FkQXN5bmNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogS2lja3Mgb2ZmIHJlZ2lzdGVyZWQgYXN5bmMgbG9hZGVyIHVzaW5nIGAkaW5qZWN0b3JgIGFuZCBhcHBsaWVzIGV4aXN0aW5nXG4gICAgICogbG9hZGVyIG9wdGlvbnMuIFdoZW4gcmVzb2x2ZWQsIGl0IHVwZGF0ZXMgdHJhbnNsYXRpb24gdGFibGVzIGFjY29yZGluZ2x5XG4gICAgICogb3IgcmVqZWN0cyB3aXRoIGdpdmVuIGxhbmd1YWdlIGtleS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTGFuZ3VhZ2Uga2V5LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZS5cbiAgICAgKi9cbiAgICB2YXIgbG9hZEFzeW5jID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgdGhyb3cgJ05vIGxhbmd1YWdlIGtleSBzcGVjaWZpZWQgZm9yIGxvYWRpbmcuJztcbiAgICAgIH1cblxuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdTdGFydCcsIHtsYW5ndWFnZSA6IGtleX0pO1xuICAgICAgcGVuZGluZ0xvYWRlciA9IHRydWU7XG5cbiAgICAgIHZhciBjYWNoZSA9IGxvYWRlckNhY2hlO1xuICAgICAgaWYgKHR5cGVvZihjYWNoZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIGdldHRpbmcgb24tZGVtYW5kIGluc3RhbmNlIG9mIGxvYWRlclxuICAgICAgICBjYWNoZSA9ICRpbmplY3Rvci5nZXQoY2FjaGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgbG9hZGVyT3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCAkbG9hZGVyT3B0aW9ucywge1xuICAgICAgICBrZXkgOiBrZXksXG4gICAgICAgICRodHRwIDogYW5ndWxhci5leHRlbmQoe30sIHtcbiAgICAgICAgICBjYWNoZSA6IGNhY2hlXG4gICAgICAgIH0sICRsb2FkZXJPcHRpb25zLiRodHRwKVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBvbkxvYWRlclN1Y2Nlc3MgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgdHJhbnNsYXRpb25UYWJsZSA9IHt9O1xuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ1N1Y2Nlc3MnLCB7bGFuZ3VhZ2UgOiBrZXl9KTtcblxuICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEsIGZ1bmN0aW9uICh0YWJsZSkge1xuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQodHJhbnNsYXRpb25UYWJsZSwgZmxhdE9iamVjdCh0YWJsZSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHRyYW5zbGF0aW9uVGFibGUsIGZsYXRPYmplY3QoZGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIHBlbmRpbmdMb2FkZXIgPSBmYWxzZTtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XG4gICAgICAgICAga2V5IDoga2V5LFxuICAgICAgICAgIHRhYmxlIDogdHJhbnNsYXRpb25UYWJsZVxuICAgICAgICB9KTtcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdFbmQnLCB7bGFuZ3VhZ2UgOiBrZXl9KTtcbiAgICAgIH07XG4gICAgICBvbkxvYWRlclN1Y2Nlc3MuZGlzcGxheU5hbWUgPSAnb25Mb2FkZXJTdWNjZXNzJztcblxuICAgICAgdmFyIG9uTG9hZGVyRXJyb3IgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nRXJyb3InLCB7bGFuZ3VhZ2UgOiBrZXl9KTtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGtleSk7XG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nRW5kJywge2xhbmd1YWdlIDoga2V5fSk7XG4gICAgICB9O1xuICAgICAgb25Mb2FkZXJFcnJvci5kaXNwbGF5TmFtZSA9ICdvbkxvYWRlckVycm9yJztcblxuICAgICAgJGluamVjdG9yLmdldCgkbG9hZGVyRmFjdG9yeSkobG9hZGVyT3B0aW9ucylcbiAgICAgICAgLnRoZW4ob25Mb2FkZXJTdWNjZXNzLCBvbkxvYWRlckVycm9yKTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIGlmICgkc3RvcmFnZUZhY3RvcnkpIHtcbiAgICAgIFN0b3JhZ2UgPSAkaW5qZWN0b3IuZ2V0KCRzdG9yYWdlRmFjdG9yeSk7XG5cbiAgICAgIGlmICghU3RvcmFnZS5nZXQgfHwgIVN0b3JhZ2UucHV0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCB1c2Ugc3RvcmFnZSBcXCcnICsgJHN0b3JhZ2VGYWN0b3J5ICsgJ1xcJywgbWlzc2luZyBnZXQoKSBvciBwdXQoKSBtZXRob2QhJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaWYgd2UgaGF2ZSBhZGRpdGlvbmFsIGludGVycG9sYXRpb25zIHRoYXQgd2VyZSBhZGRlZCB2aWFcbiAgICAvLyAkdHJhbnNsYXRlUHJvdmlkZXIuYWRkSW50ZXJwb2xhdGlvbigpLCB3ZSBoYXZlIHRvIG1hcCdlbVxuICAgIGlmICgkaW50ZXJwb2xhdG9yRmFjdG9yaWVzLmxlbmd0aCkge1xuICAgICAgdmFyIGVhY2hJbnRlcnBvbGF0aW9uRmFjdG9yeSA9IGZ1bmN0aW9uIChpbnRlcnBvbGF0b3JGYWN0b3J5KSB7XG4gICAgICAgIHZhciBpbnRlcnBvbGF0b3IgPSAkaW5qZWN0b3IuZ2V0KGludGVycG9sYXRvckZhY3RvcnkpO1xuICAgICAgICAvLyBzZXR0aW5nIGluaXRpYWwgbG9jYWxlIGZvciBlYWNoIGludGVycG9sYXRpb24gc2VydmljZVxuICAgICAgICBpbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCRwcmVmZXJyZWRMYW5ndWFnZSB8fCAkdXNlcyk7XG4gICAgICAgIC8vIG1ha2UnZW0gcmVjb2duaXphYmxlIHRocm91Z2ggaWRcbiAgICAgICAgaW50ZXJwb2xhdG9ySGFzaE1hcFtpbnRlcnBvbGF0b3IuZ2V0SW50ZXJwb2xhdGlvbklkZW50aWZpZXIoKV0gPSBpbnRlcnBvbGF0b3I7XG4gICAgICB9O1xuICAgICAgZWFjaEludGVycG9sYXRpb25GYWN0b3J5LmRpc3BsYXlOYW1lID0gJ2ludGVycG9sYXRpb25GYWN0b3J5QWRkZXInO1xuXG4gICAgICBhbmd1bGFyLmZvckVhY2goJGludGVycG9sYXRvckZhY3RvcmllcywgZWFjaEludGVycG9sYXRpb25GYWN0b3J5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBnZXRUcmFuc2xhdGlvblRhYmxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zbGF0aW9uIHRhYmxlXG4gICAgICogb3IgaXMgcmVqZWN0ZWQgaWYgYW4gZXJyb3Igb2NjdXJyZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGFuZ0tleVxuICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9XG4gICAgICovXG4gICAgdmFyIGdldFRyYW5zbGF0aW9uVGFibGUgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJHRyYW5zbGF0aW9uVGFibGUsIGxhbmdLZXkpKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0pO1xuICAgICAgfSBlbHNlIGlmIChsYW5nUHJvbWlzZXNbbGFuZ0tleV0pIHtcbiAgICAgICAgdmFyIG9uUmVzb2x2ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgdHJhbnNsYXRpb25zKGRhdGEua2V5LCBkYXRhLnRhYmxlKTtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEudGFibGUpO1xuICAgICAgICB9O1xuICAgICAgICBvblJlc29sdmUuZGlzcGxheU5hbWUgPSAndHJhbnNsYXRpb25UYWJsZVJlc29sdmVyJztcbiAgICAgICAgbGFuZ1Byb21pc2VzW2xhbmdLZXldLnRoZW4ob25SZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB0byB0aGUgdHJhbnNsYXRpb25cbiAgICAgKiBvciBiZSByZWplY3RlZCBpZiBubyB0cmFuc2xhdGlvbiB3YXMgZm91bmQgZm9yIHRoZSBsYW5ndWFnZS5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGN1cnJlbnRseSBvbmx5IHVzZWQgZm9yIGZhbGxiYWNrIGxhbmd1YWdlIHRyYW5zbGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxhbmdLZXkgVGhlIGxhbmd1YWdlIHRvIHRyYW5zbGF0ZSB0by5cbiAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgKiBAcGFyYW0gc2FuaXRpemVTdHJhdGVneVxuICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9XG4gICAgICovXG4gICAgdmFyIGdldEZhbGxiYWNrVHJhbnNsYXRpb24gPSBmdW5jdGlvbiAobGFuZ0tleSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgc2FuaXRpemVTdHJhdGVneSkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgdmFyIG9uUmVzb2x2ZSA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvblRhYmxlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodHJhbnNsYXRpb25UYWJsZSwgdHJhbnNsYXRpb25JZCkgJiYgdHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbklkXSAhPT0gbnVsbCkge1xuICAgICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUobGFuZ0tleSk7XG4gICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gdHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbklkXTtcbiAgICAgICAgICBpZiAodHJhbnNsYXRpb24uc3Vic3RyKDAsIDIpID09PSAnQDonKSB7XG4gICAgICAgICAgICBnZXRGYWxsYmFja1RyYW5zbGF0aW9uKGxhbmdLZXksIHRyYW5zbGF0aW9uLnN1YnN0cigyKSwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgc2FuaXRpemVTdHJhdGVneSlcbiAgICAgICAgICAgICAgLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGludGVycG9sYXRlZFZhbHVlID0gSW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uVGFibGVbdHJhbnNsYXRpb25JZF0sIGludGVycG9sYXRlUGFyYW1zLCAnc2VydmljZScsIHNhbml0aXplU3RyYXRlZ3ksIHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICAgICAgaW50ZXJwb2xhdGVkVmFsdWUgPSBhcHBseVBvc3RQcm9jZXNzaW5nKHRyYW5zbGF0aW9uSWQsIHRyYW5zbGF0aW9uVGFibGVbdHJhbnNsYXRpb25JZF0sIGludGVycG9sYXRlZFZhbHVlLCBpbnRlcnBvbGF0ZVBhcmFtcywgbGFuZ0tleSk7XG5cbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoaW50ZXJwb2xhdGVkVmFsdWUpO1xuXG4gICAgICAgICAgfVxuICAgICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUoJHVzZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgb25SZXNvbHZlLmRpc3BsYXlOYW1lID0gJ2ZhbGxiYWNrVHJhbnNsYXRpb25SZXNvbHZlcic7XG5cbiAgICAgIGdldFRyYW5zbGF0aW9uVGFibGUobGFuZ0tleSkudGhlbihvblJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudFxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIGEgdHJhbnNsYXRpb25cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGN1cnJlbnRseSBvbmx5IHVzZWQgZm9yIGZhbGxiYWNrIGxhbmd1YWdlIHRyYW5zbGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxhbmdLZXkgVGhlIGxhbmd1YWdlIHRvIHRyYW5zbGF0ZSB0by5cbiAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgKiBAcGFyYW0gc2FuaXRpemVTdHJhdGVneSBzYW5pdGl6ZSBzdHJhdGVneSBvdmVycmlkZVxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICB2YXIgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQgPSBmdW5jdGlvbiAobGFuZ0tleSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgc2FuaXRpemVTdHJhdGVneSkge1xuICAgICAgdmFyIHJlc3VsdCwgdHJhbnNsYXRpb25UYWJsZSA9ICR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldO1xuXG4gICAgICBpZiAodHJhbnNsYXRpb25UYWJsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodHJhbnNsYXRpb25UYWJsZSwgdHJhbnNsYXRpb25JZCkgJiYgdHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbklkXSAhPT0gbnVsbCkge1xuICAgICAgICBJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKGxhbmdLZXkpO1xuICAgICAgICByZXN1bHQgPSBJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb25UYWJsZVt0cmFuc2xhdGlvbklkXSwgaW50ZXJwb2xhdGVQYXJhbXMsICdmaWx0ZXInLCBzYW5pdGl6ZVN0cmF0ZWd5LCB0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgcmVzdWx0ID0gYXBwbHlQb3N0UHJvY2Vzc2luZyh0cmFuc2xhdGlvbklkLCB0cmFuc2xhdGlvblRhYmxlW3RyYW5zbGF0aW9uSWRdLCByZXN1bHQsIGludGVycG9sYXRlUGFyYW1zLCBsYW5nS2V5LCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgVHJ1c3RlZFZhbHVlSG9sZGVyVHlwZVxuICAgICAgICBpZiAoIWFuZ3VsYXIuaXNTdHJpbmcocmVzdWx0KSAmJiBhbmd1bGFyLmlzRnVuY3Rpb24ocmVzdWx0LiQkdW53cmFwVHJ1c3RlZFZhbHVlKSkge1xuICAgICAgICAgIHZhciByZXN1bHQyID0gcmVzdWx0LiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7XG4gICAgICAgICAgaWYgKHJlc3VsdDIuc3Vic3RyKDAsIDIpID09PSAnQDonKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQobGFuZ0tleSwgcmVzdWx0Mi5zdWJzdHIoMiksIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuc3Vic3RyKDAsIDIpID09PSAnQDonKSB7XG4gICAgICAgICAgcmV0dXJuIGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50KGxhbmdLZXksIHJlc3VsdC5zdWJzdHIoMiksIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICB9XG4gICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUoJHVzZXMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIEBuYW1lIHRyYW5zbGF0ZUJ5SGFuZGxlclxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBUcmFuc2xhdGUgYnkgbWlzc2luZyB0cmFuc2xhdGlvbiBoYW5kbGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFRyYW5zbGF0aW9uVGV4dFxuICAgICAqIEBwYXJhbSBzYW5pdGl6ZVN0cmF0ZWd5IHNhbml0aXplIHN0cmF0ZWd5IG92ZXJyaWRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0cmFuc2xhdGlvbiBjcmVhdGVkIGJ5ICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyIG9yIHRyYW5zbGF0aW9uSWQgaXMgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIgaXNcbiAgICAgKiBhYnNlbnRcbiAgICAgKi9cbiAgICB2YXIgdHJhbnNsYXRlQnlIYW5kbGVyID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCBzYW5pdGl6ZVN0cmF0ZWd5KSB7XG4gICAgICAvLyBJZiB3ZSBoYXZlIGEgaGFuZGxlciBmYWN0b3J5IC0gd2UgbWlnaHQgYWxzbyBjYWxsIGl0IGhlcmUgdG8gZGV0ZXJtaW5lIGlmIGl0IHByb3ZpZGVzXG4gICAgICAvLyBhIGRlZmF1bHQgdGV4dCBmb3IgYSB0cmFuc2xhdGlvbmlkIHRoYXQgY2FuJ3QgYmUgZm91bmQgYW55d2hlcmUgaW4gb3VyIHRhYmxlc1xuICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSkge1xuICAgICAgICByZXR1cm4gJGluamVjdG9yLmdldCgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkpKHRyYW5zbGF0aW9uSWQsICR1c2VzLCBpbnRlcnBvbGF0ZVBhcmFtcywgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCwgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogUmVjdXJzaXZlIGhlbHBlciBmdW5jdGlvbiBmb3IgZmFsbGJhY2tUcmFuc2xhdGlvbiB0aGF0IHdpbGwgc2VxdWVudGlhbGx5IGxvb2tcbiAgICAgKiBmb3IgYSB0cmFuc2xhdGlvbiBpbiB0aGUgZmFsbGJhY2tMYW5ndWFnZXMgc3RhcnRpbmcgd2l0aCBmYWxsYmFja0xhbmd1YWdlSW5kZXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmFsbGJhY2tMYW5ndWFnZUluZGV4XG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICogQHBhcmFtIGRlZmF1bHRUcmFuc2xhdGlvblRleHRcbiAgICAgKiBAcGFyYW0gc2FuaXRpemVTdHJhdGVneVxuICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9IFByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgdG8gdGhlIHRyYW5zbGF0aW9uLlxuICAgICAqL1xuICAgIHZhciByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZSA9IGZ1bmN0aW9uIChmYWxsYmFja0xhbmd1YWdlSW5kZXgsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIHNhbml0aXplU3RyYXRlZ3kpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIGlmIChmYWxsYmFja0xhbmd1YWdlSW5kZXggPCAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGxhbmdLZXkgPSAkZmFsbGJhY2tMYW5ndWFnZVtmYWxsYmFja0xhbmd1YWdlSW5kZXhdO1xuICAgICAgICBnZXRGYWxsYmFja1RyYW5zbGF0aW9uKGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIHNhbml0aXplU3RyYXRlZ3kpLnRoZW4oXG4gICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBMb29rIGluIHRoZSBuZXh0IGZhbGxiYWNrIGxhbmd1YWdlIGZvciBhIHRyYW5zbGF0aW9uLlxuICAgICAgICAgICAgLy8gSXQgZGVsYXlzIHRoZSByZXNvbHZpbmcgYnkgcGFzc2luZyBhbm90aGVyIHByb21pc2UgdG8gcmVzb2x2ZS5cbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZShmYWxsYmFja0xhbmd1YWdlSW5kZXggKyAxLCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCBzYW5pdGl6ZVN0cmF0ZWd5KS50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm8gdHJhbnNsYXRpb24gZm91bmQgaW4gYW55IGZhbGxiYWNrIGxhbmd1YWdlXG4gICAgICAgIC8vIGlmIGEgZGVmYXVsdCB0cmFuc2xhdGlvbiB0ZXh0IGlzIHNldCBpbiB0aGUgZGlyZWN0aXZlLCB0aGVuIHJldHVybiB0aGlzIGFzIGEgcmVzdWx0XG4gICAgICAgIGlmIChkZWZhdWx0VHJhbnNsYXRpb25UZXh0KSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkZWZhdWx0VHJhbnNsYXRpb25UZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uID0gdHJhbnNsYXRlQnlIYW5kbGVyKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0KTtcblxuICAgICAgICAgIC8vIGlmIG5vIGRlZmF1bHQgdHJhbnNsYXRpb24gaXMgc2V0IGFuZCBhbiBlcnJvciBoYW5kbGVyIGlzIGRlZmluZWQsIHNlbmQgaXQgdG8gdGhlIGhhbmRsZXJcbiAgICAgICAgICAvLyBhbmQgdGhlbiByZXR1cm4gdGhlIHJlc3VsdCBpZiBpdCBpc24ndCB1bmRlZmluZWRcbiAgICAgICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbikge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoYXBwbHlOb3RGb3VuZEluZGljYXRvcnModHJhbnNsYXRpb25JZCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlSW5zdGFudFxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBSZWN1cnNpdmUgaGVscGVyIGZ1bmN0aW9uIGZvciBmYWxsYmFja1RyYW5zbGF0aW9uIHRoYXQgd2lsbCBzZXF1ZW50aWFsbHkgbG9va1xuICAgICAqIGZvciBhIHRyYW5zbGF0aW9uIGluIHRoZSBmYWxsYmFja0xhbmd1YWdlcyBzdGFydGluZyB3aXRoIGZhbGxiYWNrTGFuZ3VhZ2VJbmRleC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmYWxsYmFja0xhbmd1YWdlSW5kZXhcbiAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgKiBAcGFyYW0gc2FuaXRpemVTdHJhdGVneVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRyYW5zbGF0aW9uXG4gICAgICovXG4gICAgdmFyIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlSW5zdGFudCA9IGZ1bmN0aW9uIChmYWxsYmFja0xhbmd1YWdlSW5kZXgsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIHNhbml0aXplU3RyYXRlZ3kpIHtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIGlmIChmYWxsYmFja0xhbmd1YWdlSW5kZXggPCAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGxhbmdLZXkgPSAkZmFsbGJhY2tMYW5ndWFnZVtmYWxsYmFja0xhbmd1YWdlSW5kZXhdO1xuICAgICAgICByZXN1bHQgPSBnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudChsYW5nS2V5LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yLCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgaWYgKCFyZXN1bHQgJiYgcmVzdWx0ICE9PSAnJykge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlSW5zdGFudChmYWxsYmFja0xhbmd1YWdlSW5kZXggKyAxLCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB3aXRoIHRoZSB1c2FnZSBvZiB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICogQHBhcmFtIGRlZmF1bHRUcmFuc2xhdGlvblRleHRcbiAgICAgKiBAcGFyYW0gc2FuaXRpemVTdHJhdGVneVxuICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9IFByb21pc2UsIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zbGF0aW9uLlxuICAgICAqL1xuICAgIHZhciBmYWxsYmFja1RyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIHNhbml0aXplU3RyYXRlZ3kpIHtcbiAgICAgIC8vIFN0YXJ0IHdpdGggdGhlIGZhbGxiYWNrTGFuZ3VhZ2Ugd2l0aCBpbmRleCAwXG4gICAgICByZXR1cm4gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UoKHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gPiAwID8gc3RhcnRGYWxsYmFja0l0ZXJhdGlvbiA6IGZhbGxiYWNrSW5kZXgpLCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB3aXRoIHRoZSB1c2FnZSBvZiB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICogQHBhcmFtIHNhbml0aXplU3RyYXRlZ3lcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB0cmFuc2xhdGlvblxuICAgICAqL1xuICAgIHZhciBmYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yLCBzYW5pdGl6ZVN0cmF0ZWd5KSB7XG4gICAgICAvLyBTdGFydCB3aXRoIHRoZSBmYWxsYmFja0xhbmd1YWdlIHdpdGggaW5kZXggMFxuICAgICAgcmV0dXJuIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlSW5zdGFudCgoc3RhcnRGYWxsYmFja0l0ZXJhdGlvbiA+IDAgPyBzdGFydEZhbGxiYWNrSXRlcmF0aW9uIDogZmFsbGJhY2tJbmRleCksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgIH07XG5cbiAgICB2YXIgZGV0ZXJtaW5lVHJhbnNsYXRpb24gPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCwgdXNlcywgc2FuaXRpemVTdHJhdGVneSkge1xuXG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICB2YXIgdGFibGUgPSB1c2VzID8gJHRyYW5zbGF0aW9uVGFibGVbdXNlc10gOiAkdHJhbnNsYXRpb25UYWJsZSxcbiAgICAgICAgSW50ZXJwb2xhdG9yID0gKGludGVycG9sYXRpb25JZCkgPyBpbnRlcnBvbGF0b3JIYXNoTWFwW2ludGVycG9sYXRpb25JZF0gOiBkZWZhdWx0SW50ZXJwb2xhdG9yO1xuXG4gICAgICAvLyBpZiB0aGUgdHJhbnNsYXRpb24gaWQgZXhpc3RzLCB3ZSBjYW4ganVzdCBpbnRlcnBvbGF0ZSBpdFxuICAgICAgaWYgKHRhYmxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YWJsZSwgdHJhbnNsYXRpb25JZCkgJiYgdGFibGVbdHJhbnNsYXRpb25JZF0gIT09IG51bGwpIHtcbiAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gdGFibGVbdHJhbnNsYXRpb25JZF07XG5cbiAgICAgICAgLy8gSWYgdXNpbmcgbGluaywgcmVydW4gJHRyYW5zbGF0ZSB3aXRoIGxpbmtlZCB0cmFuc2xhdGlvbklkIGFuZCByZXR1cm4gaXRcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uLnN1YnN0cigwLCAyKSA9PT0gJ0A6Jykge1xuXG4gICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbi5zdWJzdHIoMiksIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIHVzZXMsIHNhbml0aXplU3RyYXRlZ3kpXG4gICAgICAgICAgICAudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vXG4gICAgICAgICAgdmFyIHJlc29sdmVkVHJhbnNsYXRpb24gPSBJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb24sIGludGVycG9sYXRlUGFyYW1zLCAnc2VydmljZScsIHNhbml0aXplU3RyYXRlZ3ksIHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICAgIHJlc29sdmVkVHJhbnNsYXRpb24gPSBhcHBseVBvc3RQcm9jZXNzaW5nKHRyYW5zbGF0aW9uSWQsIHRyYW5zbGF0aW9uLCByZXNvbHZlZFRyYW5zbGF0aW9uLCBpbnRlcnBvbGF0ZVBhcmFtcywgdXNlcyk7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXNvbHZlZFRyYW5zbGF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbjtcbiAgICAgICAgLy8gZm9yIGxvZ2dpbmcgcHVycG9zZXMgb25seSAoYXMgaW4gJHRyYW5zbGF0ZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2cpLCB2YWx1ZSBpcyBub3QgcmV0dXJuZWQgdG8gcHJvbWlzZVxuICAgICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyKSB7XG4gICAgICAgICAgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uID0gdHJhbnNsYXRlQnlIYW5kbGVyKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpbmNlIHdlIGNvdWxkbid0IHRyYW5zbGF0ZSB0aGUgaW5pdGFsIHJlcXVlc3RlZCB0cmFuc2xhdGlvbiBpZCxcbiAgICAgICAgLy8gd2UgdHJ5IGl0IG5vdyB3aXRoIG9uZSBvciBtb3JlIGZhbGxiYWNrIGxhbmd1YWdlcywgaWYgZmFsbGJhY2sgbGFuZ3VhZ2UocykgaXNcbiAgICAgICAgLy8gY29uZmlndXJlZC5cbiAgICAgICAgaWYgKHVzZXMgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgZmFsbGJhY2tUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yLCBkZWZhdWx0VHJhbnNsYXRpb25UZXh0LCBzYW5pdGl6ZVN0cmF0ZWd5KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJhbnNsYXRpb24pO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKF90cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyhfdHJhbnNsYXRpb25JZCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyICYmIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbikge1xuICAgICAgICAgIC8vIGxvb2tzIGxpa2UgdGhlIHJlcXVlc3RlZCB0cmFuc2xhdGlvbiBpZCBkb2Vzbid0IGV4aXN0cy5cbiAgICAgICAgICAvLyBOb3csIGlmIHRoZXJlIGlzIGEgcmVnaXN0ZXJlZCBoYW5kbGVyIGZvciBtaXNzaW5nIHRyYW5zbGF0aW9ucyBhbmQgbm9cbiAgICAgICAgICAvLyBhc3luY0xvYWRlciBpcyBwZW5kaW5nLCB3ZSBleGVjdXRlIHRoZSBoYW5kbGVyXG4gICAgICAgICAgaWYgKGRlZmF1bHRUcmFuc2xhdGlvblRleHQpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUobWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGRlZmF1bHRUcmFuc2xhdGlvblRleHQpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyh0cmFuc2xhdGlvbklkKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgdmFyIGRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkLCB1c2VzLCBzYW5pdGl6ZVN0cmF0ZWd5KSB7XG5cbiAgICAgIHZhciByZXN1bHQsIHRhYmxlID0gdXNlcyA/ICR0cmFuc2xhdGlvblRhYmxlW3VzZXNdIDogJHRyYW5zbGF0aW9uVGFibGUsXG4gICAgICAgIEludGVycG9sYXRvciA9IGRlZmF1bHRJbnRlcnBvbGF0b3I7XG5cbiAgICAgIC8vIGlmIHRoZSBpbnRlcnBvbGF0aW9uIGlkIGV4aXN0cyB1c2UgY3VzdG9tIGludGVycG9sYXRvclxuICAgICAgaWYgKGludGVycG9sYXRvckhhc2hNYXAgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGludGVycG9sYXRvckhhc2hNYXAsIGludGVycG9sYXRpb25JZCkpIHtcbiAgICAgICAgSW50ZXJwb2xhdG9yID0gaW50ZXJwb2xhdG9ySGFzaE1hcFtpbnRlcnBvbGF0aW9uSWRdO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiB0aGUgdHJhbnNsYXRpb24gaWQgZXhpc3RzLCB3ZSBjYW4ganVzdCBpbnRlcnBvbGF0ZSBpdFxuICAgICAgaWYgKHRhYmxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YWJsZSwgdHJhbnNsYXRpb25JZCkgJiYgdGFibGVbdHJhbnNsYXRpb25JZF0gIT09IG51bGwpIHtcbiAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gdGFibGVbdHJhbnNsYXRpb25JZF07XG5cbiAgICAgICAgLy8gSWYgdXNpbmcgbGluaywgcmVydW4gJHRyYW5zbGF0ZSB3aXRoIGxpbmtlZCB0cmFuc2xhdGlvbklkIGFuZCByZXR1cm4gaXRcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uLnN1YnN0cigwLCAyKSA9PT0gJ0A6Jykge1xuICAgICAgICAgIHJlc3VsdCA9IGRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCh0cmFuc2xhdGlvbi5zdWJzdHIoMiksIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIHVzZXMsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvbiwgaW50ZXJwb2xhdGVQYXJhbXMsICdmaWx0ZXInLCBzYW5pdGl6ZVN0cmF0ZWd5LCB0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgICByZXN1bHQgPSBhcHBseVBvc3RQcm9jZXNzaW5nKHRyYW5zbGF0aW9uSWQsIHRyYW5zbGF0aW9uLCByZXN1bHQsIGludGVycG9sYXRlUGFyYW1zLCB1c2VzLCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbjtcbiAgICAgICAgLy8gZm9yIGxvZ2dpbmcgcHVycG9zZXMgb25seSAoYXMgaW4gJHRyYW5zbGF0ZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2cpLCB2YWx1ZSBpcyBub3QgcmV0dXJuZWQgdG8gcHJvbWlzZVxuICAgICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyKSB7XG4gICAgICAgICAgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uID0gdHJhbnNsYXRlQnlIYW5kbGVyKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpbmNlIHdlIGNvdWxkbid0IHRyYW5zbGF0ZSB0aGUgaW5pdGFsIHJlcXVlc3RlZCB0cmFuc2xhdGlvbiBpZCxcbiAgICAgICAgLy8gd2UgdHJ5IGl0IG5vdyB3aXRoIG9uZSBvciBtb3JlIGZhbGxiYWNrIGxhbmd1YWdlcywgaWYgZmFsbGJhY2sgbGFuZ3VhZ2UocykgaXNcbiAgICAgICAgLy8gY29uZmlndXJlZC5cbiAgICAgICAgaWYgKHVzZXMgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgZmFsbGJhY2tJbmRleCA9IDA7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvciwgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICAgIH0gZWxzZSBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyICYmIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbikge1xuICAgICAgICAgIC8vIGxvb2tzIGxpa2UgdGhlIHJlcXVlc3RlZCB0cmFuc2xhdGlvbiBpZCBkb2Vzbid0IGV4aXN0cy5cbiAgICAgICAgICAvLyBOb3csIGlmIHRoZXJlIGlzIGEgcmVnaXN0ZXJlZCBoYW5kbGVyIGZvciBtaXNzaW5nIHRyYW5zbGF0aW9ucyBhbmQgbm9cbiAgICAgICAgICAvLyBhc3luY0xvYWRlciBpcyBwZW5kaW5nLCB3ZSBleGVjdXRlIHRoZSBoYW5kbGVyXG4gICAgICAgICAgcmVzdWx0ID0gbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIHZhciBjbGVhck5leHRMYW5nQW5kUHJvbWlzZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmICgkbmV4dExhbmcgPT09IGtleSkge1xuICAgICAgICAkbmV4dExhbmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBsYW5nUHJvbWlzZXNba2V5XSA9IHVuZGVmaW5lZDtcbiAgICB9O1xuXG4gICAgdmFyIGFwcGx5UG9zdFByb2Nlc3NpbmcgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgdHJhbnNsYXRpb24sIHJlc29sdmVkVHJhbnNsYXRpb24sIGludGVycG9sYXRlUGFyYW1zLCB1c2VzLCBzYW5pdGl6ZVN0cmF0ZWd5KSB7XG4gICAgICB2YXIgZm4gPSBwb3N0UHJvY2Vzc0ZuO1xuXG4gICAgICBpZiAoZm4pIHtcblxuICAgICAgICBpZiAodHlwZW9mKGZuKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAvLyBnZXR0aW5nIG9uLWRlbWFuZCBpbnN0YW5jZVxuICAgICAgICAgIGZuID0gJGluamVjdG9yLmdldChmbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgcmV0dXJuIGZuKHRyYW5zbGF0aW9uSWQsIHRyYW5zbGF0aW9uLCByZXNvbHZlZFRyYW5zbGF0aW9uLCBpbnRlcnBvbGF0ZVBhcmFtcywgdXNlcywgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc29sdmVkVHJhbnNsYXRpb247XG4gICAgfTtcblxuICAgIHZhciBsb2FkVHJhbnNsYXRpb25zSWZNaXNzaW5nID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKCEkdHJhbnNsYXRpb25UYWJsZVtrZXldICYmICRsb2FkZXJGYWN0b3J5ICYmICFsYW5nUHJvbWlzZXNba2V5XSkge1xuICAgICAgICBsYW5nUHJvbWlzZXNba2V5XSA9IGxvYWRBc3luYyhrZXkpLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgdHJhbnNsYXRpb25zKHRyYW5zbGF0aW9uLmtleSwgdHJhbnNsYXRpb24udGFibGUpO1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbjtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNwcmVmZXJyZWRMYW5ndWFnZVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdGhlIGxhbmd1YWdlIGtleSBmb3IgdGhlIHByZWZlcnJlZCBsYW5ndWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IGxhbmd1YWdlIFN0cmluZyBvciBBcnJheSB0byBiZSB1c2VkIGFzIHByZWZlcnJlZExhbmd1YWdlIChjaGFuZ2luZyBhdCBydW50aW1lKVxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBwcmVmZXJyZWQgbGFuZ3VhZ2Uga2V5XG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICBpZiAobGFuZ0tleSkge1xuICAgICAgICBzZXR1cFByZWZlcnJlZExhbmd1YWdlKGxhbmdLZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuICRwcmVmZXJyZWRMYW5ndWFnZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2Nsb2FrQ2xhc3NOYW1lXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0aGUgY29uZmlndXJlZCBjbGFzcyBuYW1lIGZvciBgdHJhbnNsYXRlLWNsb2FrYCBkaXJlY3RpdmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGNsb2FrQ2xhc3NOYW1lXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkY2xvYWtDbGFzc05hbWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNuZXN0ZWRPYmplY3REZWxpbWV0ZXJcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBjb25maWd1cmVkIGRlbGltaXRlciBmb3IgbmVzdGVkIG5hbWVzcGFjZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IG5lc3RlZE9iamVjdERlbGltZXRlclxuICAgICAqL1xuICAgICR0cmFuc2xhdGUubmVzdGVkT2JqZWN0RGVsaW1ldGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRuZXN0ZWRPYmplY3REZWxpbWV0ZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNmYWxsYmFja0xhbmd1YWdlXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0aGUgbGFuZ3VhZ2Uga2V5IGZvciB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2VzIG9yIHNldHMgYSBuZXcgZmFsbGJhY2sgc3RhY2suXG4gICAgICogSXQgaXMgcmVjb21tZW5kZWQgdG8gY2FsbCB0aGlzIGJlZm9yZSB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjcHJlZmVycmVkTGFuZ3VhZ2UgcHJlZmVycmVkTGFuZ3VhZ2UoKX0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGxhbmdLZXkgbGFuZ3VhZ2UgU3RyaW5nIG9yIEFycmF5IG9mIGZhbGxiYWNrIGxhbmd1YWdlcyB0byBiZSB1c2VkICh0byBjaGFuZ2Ugc3RhY2sgYXQgcnVudGltZSlcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3x8YXJyYXl9IGZhbGxiYWNrIGxhbmd1YWdlIGtleVxuICAgICAqL1xuICAgICR0cmFuc2xhdGUuZmFsbGJhY2tMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICBpZiAobGFuZ0tleSAhPT0gdW5kZWZpbmVkICYmIGxhbmdLZXkgIT09IG51bGwpIHtcbiAgICAgICAgZmFsbGJhY2tTdGFjayhsYW5nS2V5KTtcblxuICAgICAgICAvLyBhcyB3ZSBtaWdodCBoYXZlIGFuIGFzeW5jIGxvYWRlciBpbml0aWF0ZWQgYW5kIGEgbmV3IHRyYW5zbGF0aW9uIGxhbmd1YWdlIG1pZ2h0IGhhdmUgYmVlbiBkZWZpbmVkXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gYWRkIHRoZSBwcm9taXNlIHRvIHRoZSBzdGFjayBhbHNvLiBTbyAtIGl0ZXJhdGUuXG4gICAgICAgIGlmICgkbG9hZGVyRmFjdG9yeSkge1xuICAgICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICBpZiAoIWxhbmdQcm9taXNlc1skZmFsbGJhY2tMYW5ndWFnZVtpXV0pIHtcbiAgICAgICAgICAgICAgICBsYW5nUHJvbWlzZXNbJGZhbGxiYWNrTGFuZ3VhZ2VbaV1dID0gbG9hZEFzeW5jKCRmYWxsYmFja0xhbmd1YWdlW2ldKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAkdHJhbnNsYXRlLnVzZSgkdHJhbnNsYXRlLnVzZSgpKTtcbiAgICAgIH1cbiAgICAgIGlmICgkZmFsbGJhY2tXYXNTdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlO1xuICAgICAgfVxuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSN1c2VGYWxsYmFja0xhbmd1YWdlXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2V0cyB0aGUgZmlyc3Qga2V5IG9mIHRoZSBmYWxsYmFjayBsYW5ndWFnZSBzdGFjayB0byBiZSB1c2VkIGZvciB0cmFuc2xhdGlvbi5cbiAgICAgKiBUaGVyZWZvcmUgYWxsIGxhbmd1YWdlcyBpbiB0aGUgZmFsbGJhY2sgYXJyYXkgQkVGT1JFIHRoaXMga2V5IHdpbGwgYmUgc2tpcHBlZCFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbGFuZ0tleSBDb250YWlucyB0aGUgbGFuZ0tleSB0aGUgaXRlcmF0aW9uIHNoYWxsIHN0YXJ0IHdpdGguIFNldCB0byBmYWxzZSBpZiB5b3Ugd2FudCB0b1xuICAgICAqIGdldCBiYWNrIHRvIHRoZSB3aG9sZSBzdGFja1xuICAgICAqL1xuICAgICR0cmFuc2xhdGUudXNlRmFsbGJhY2tMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICBpZiAobGFuZ0tleSAhPT0gdW5kZWZpbmVkICYmIGxhbmdLZXkgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKCFsYW5nS2V5KSB7XG4gICAgICAgICAgc3RhcnRGYWxsYmFja0l0ZXJhdGlvbiA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGxhbmdLZXlQb3NpdGlvbiA9IGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsIGxhbmdLZXkpO1xuICAgICAgICAgIGlmIChsYW5nS2V5UG9zaXRpb24gPiAtMSkge1xuICAgICAgICAgICAgc3RhcnRGYWxsYmFja0l0ZXJhdGlvbiA9IGxhbmdLZXlQb3NpdGlvbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNwcm9wb3NlZExhbmd1YWdlXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0aGUgbGFuZ3VhZ2Uga2V5IG9mIGxhbmd1YWdlIHRoYXQgaXMgY3VycmVudGx5IGxvYWRlZCBhc3luY2hyb25vdXNseS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gbGFuZ3VhZ2Uga2V5XG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5wcm9wb3NlZExhbmd1YWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRuZXh0TGFuZztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3N0b3JhZ2VcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHJlZ2lzdGVyZWQgc3RvcmFnZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gU3RvcmFnZVxuICAgICAqL1xuICAgICR0cmFuc2xhdGUuc3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBTdG9yYWdlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjbmVnb3RpYXRlTG9jYWxlXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhIGxhbmd1YWdlIGtleSBiYXNlZCBvbiBhdmFpbGFibGUgbGFuZ3VhZ2VzIGFuZCBsYW5ndWFnZSBhbGlhc2VzLiBJZiBhXG4gICAgICogbGFuZ3VhZ2Uga2V5IGNhbm5vdCBiZSByZXNvbHZlZCwgcmV0dXJucyB1bmRlZmluZWQuXG4gICAgICpcbiAgICAgKiBJZiBubyBvciBhIGZhbHN5IGtleSBpcyBnaXZlbiwgcmV0dXJucyB1bmRlZmluZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gTGFuZ3VhZ2Uga2V5XG4gICAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH0gTGFuZ3VhZ2Uga2V5IG9yIHVuZGVmaW5lZCBpZiBubyBsYW5ndWFnZSBrZXkgaXMgZm91bmQuXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5uZWdvdGlhdGVMb2NhbGUgPSBuZWdvdGlhdGVMb2NhbGU7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjdXNlXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgd2hpY2ggbGFuZ3VhZ2UgdG8gdXNlIGJ5IGdpdmVuIGxhbmd1YWdlIGtleS4gVGhpcyBtZXRob2QgaXNcbiAgICAgKiB1c2VkIHRvIGNoYW5nZSBsYW5ndWFnZSBhdCBydW50aW1lLiBJdCBhbHNvIHRha2VzIGNhcmUgb2Ygc3RvcmluZyB0aGUgbGFuZ3VhZ2VcbiAgICAgKiBrZXkgaW4gYSBjb25maWd1cmVkIHN0b3JlIHRvIGxldCB5b3VyIGFwcCByZW1lbWJlciB0aGUgY2hvb3NlZCBsYW5ndWFnZS5cbiAgICAgKlxuICAgICAqIFdoZW4gdHJ5aW5nIHRvICd1c2UnIGEgbGFuZ3VhZ2Ugd2hpY2ggaXNuJ3QgYXZhaWxhYmxlIGl0IHRyaWVzIHRvIGxvYWQgaXRcbiAgICAgKiBhc3luY2hyb25vdXNseSB3aXRoIHJlZ2lzdGVyZWQgbG9hZGVycy5cbiAgICAgKlxuICAgICAqIFJldHVybnMgcHJvbWlzZSBvYmplY3Qgd2l0aCBsb2FkZWQgbGFuZ3VhZ2UgZmlsZSBkYXRhIG9yIHN0cmluZyBvZiB0aGUgY3VycmVudGx5IHVzZWQgbGFuZ3VhZ2UuXG4gICAgICpcbiAgICAgKiBJZiBubyBvciBhIGZhbHN5IGtleSBpcyBnaXZlbiBpdCByZXR1cm5zIHRoZSBjdXJyZW50bHkgdXNlZCBsYW5ndWFnZSBrZXkuXG4gICAgICogVGhlIHJldHVybmVkIHN0cmluZyB3aWxsIGJlIGBgYHVuZGVmaW5lZGBgYCBpZiBzZXR0aW5nIHVwICR0cmFuc2xhdGUgaGFzbid0IGZpbmlzaGVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogJHRyYW5zbGF0ZS51c2UoXCJlbl9VU1wiKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICogICAkc2NvcGUudGV4dCA9ICR0cmFuc2xhdGUoXCJIRUxMT1wiKTtcbiAgICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBrZXkgTGFuZ3VhZ2Uga2V5XG4gICAgICogQHJldHVybiB7b2JqZWN0fHN0cmluZ30gUHJvbWlzZSB3aXRoIGxvYWRlZCBsYW5ndWFnZSBkYXRhIG9yIHRoZSBsYW5ndWFnZSBrZXkgaWYgYSBmYWxzeSBwYXJhbSB3YXMgZ2l2ZW4uXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS51c2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoIWtleSkge1xuICAgICAgICByZXR1cm4gJHVzZXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICBkZWZlcnJlZC5wcm9taXNlLnRoZW4obnVsbCwgYW5ndWxhci5ub29wKTsgLy8gQUpTIFwiUG9zc2libHkgdW5oYW5kbGVkIHJlamVjdGlvblwiXG5cbiAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VTdGFydCcsIHtsYW5ndWFnZSA6IGtleX0pO1xuXG4gICAgICAvLyBUcnkgdG8gZ2V0IHRoZSBhbGlhc2VkIGxhbmd1YWdlIGtleVxuICAgICAgdmFyIGFsaWFzZWRLZXkgPSBuZWdvdGlhdGVMb2NhbGUoa2V5KTtcbiAgICAgIC8vIEVuc3VyZSBvbmx5IHJlZ2lzdGVyZWQgbGFuZ3VhZ2Uga2V5cyB3aWxsIGJlIGxvYWRlZFxuICAgICAgaWYgKCRhdmFpbGFibGVMYW5ndWFnZUtleXMubGVuZ3RoID4gMCAmJiAhYWxpYXNlZEtleSkge1xuICAgICAgICByZXR1cm4gJHEucmVqZWN0KGtleSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbGlhc2VkS2V5KSB7XG4gICAgICAgIGtleSA9IGFsaWFzZWRLZXk7XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHRoZXJlIGlzbid0IGEgdHJhbnNsYXRpb24gdGFibGUgZm9yIHRoZSBsYW5ndWFnZSB3ZSd2ZSByZXF1ZXN0ZWQsXG4gICAgICAvLyB3ZSBsb2FkIGl0IGFzeW5jaHJvbm91c2x5XG4gICAgICAkbmV4dExhbmcgPSBrZXk7XG4gICAgICBpZiAoKCRmb3JjZUFzeW5jUmVsb2FkRW5hYmxlZCB8fCAhJHRyYW5zbGF0aW9uVGFibGVba2V5XSkgJiYgJGxvYWRlckZhY3RvcnkgJiYgIWxhbmdQcm9taXNlc1trZXldKSB7XG4gICAgICAgIGxhbmdQcm9taXNlc1trZXldID0gbG9hZEFzeW5jKGtleSkudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbnModHJhbnNsYXRpb24ua2V5LCB0cmFuc2xhdGlvbi50YWJsZSk7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cmFuc2xhdGlvbi5rZXkpO1xuICAgICAgICAgIGlmICgkbmV4dExhbmcgPT09IGtleSkge1xuICAgICAgICAgICAgdXNlTGFuZ3VhZ2UodHJhbnNsYXRpb24ua2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgICAgICB9LCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVycm9yJywge2xhbmd1YWdlIDoga2V5fSk7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGtleSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIHtsYW5ndWFnZSA6IGtleX0pO1xuICAgICAgICAgIHJldHVybiAkcS5yZWplY3Qoa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxhbmdQcm9taXNlc1trZXldWydmaW5hbGx5J10oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNsZWFyTmV4dExhbmdBbmRQcm9taXNlKGtleSk7XG4gICAgICAgIH0pWydjYXRjaCddKGFuZ3VsYXIubm9vcCk7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgZXJyb3JzIChjbGVhcmluZylcbiAgICAgIH0gZWxzZSBpZiAobGFuZ1Byb21pc2VzW2tleV0pIHtcbiAgICAgICAgLy8gd2UgYXJlIGFscmVhZHkgbG9hZGluZyB0aGlzIGFzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIHJlc29sdmUgb3VyIG5ldyBkZWZlcnJlZCB3aGVuIHRoZSBvbGQgbGFuZ1Byb21pc2UgaXMgcmVzb2x2ZWRcbiAgICAgICAgbGFuZ1Byb21pc2VzW2tleV0udGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICBpZiAoJG5leHRMYW5nID09PSB0cmFuc2xhdGlvbi5rZXkpIHtcbiAgICAgICAgICAgIHVzZUxhbmd1YWdlKHRyYW5zbGF0aW9uLmtleSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJhbnNsYXRpb24ua2V5KTtcbiAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb247XG4gICAgICAgIH0sIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAvLyBmaW5kIGZpcnN0IGF2YWlsYWJsZSBmYWxsYmFjayBsYW5ndWFnZSBpZiB0aGF0IHJlcXVlc3QgaGFzIGZhaWxlZFxuICAgICAgICAgIGlmICghJHVzZXMgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoID4gMCAmJiAkZmFsbGJhY2tMYW5ndWFnZVswXSAhPT0ga2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gJHRyYW5zbGF0ZS51c2UoJGZhbGxiYWNrTGFuZ3VhZ2VbMF0pLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnJlamVjdChrZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGtleSk7XG4gICAgICAgIHVzZUxhbmd1YWdlKGtleSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjcmVzb2x2ZUNsaWVudExvY2FsZVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRoaXMgcmV0dXJucyB0aGUgY3VycmVudCBicm93c2VyL2NsaWVudCdzIGxhbmd1YWdlIGtleS4gVGhlIHJlc3VsdCBpcyBwcm9jZXNzZWQgd2l0aCB0aGUgY29uZmlndXJlZCB1bmlmb3JtIHRhZyByZXNvbHZlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBjdXJyZW50IGNsaWVudC9icm93c2VyIGxhbmd1YWdlIGtleVxuICAgICAqL1xuICAgICR0cmFuc2xhdGUucmVzb2x2ZUNsaWVudExvY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBnZXRMb2NhbGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3N0b3JhZ2VLZXlcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBrZXkgZm9yIHRoZSBzdG9yYWdlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBzdG9yYWdlIGtleVxuICAgICAqL1xuICAgICR0cmFuc2xhdGUuc3RvcmFnZUtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzdG9yYWdlS2V5KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNpc1Bvc3RDb21waWxpbmdFbmFibGVkXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHBvc3QgY29tcGlsaW5nIGlzIGVuYWJsZWQgb3Igbm90XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sfSBzdG9yYWdlIGtleVxuICAgICAqL1xuICAgICR0cmFuc2xhdGUuaXNQb3N0Q29tcGlsaW5nRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkcG9zdENvbXBpbGluZ0VuYWJsZWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNpc0ZvcmNlQXN5bmNSZWxvYWRFbmFibGVkXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB3aGV0aGVyIGZvcmNlIGFzeW5jIHJlbG9hZCBpcyBlbmFibGVkIG9yIG5vdFxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gZm9yY2VBc3luY1JlbG9hZCB2YWx1ZVxuICAgICAqL1xuICAgICR0cmFuc2xhdGUuaXNGb3JjZUFzeW5jUmVsb2FkRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkZm9yY2VBc3luY1JlbG9hZEVuYWJsZWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNpc0tlZXBDb250ZW50XG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB3aGV0aGVyIGtlZXBDb250ZW50IG9yIG5vdFxuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0ga2VlcENvbnRlbnQgdmFsdWVcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLmlzS2VlcENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJGtlZXBDb250ZW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjcmVmcmVzaFxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJlZnJlc2hlcyBhIHRyYW5zbGF0aW9uIHRhYmxlIHBvaW50ZWQgYnkgdGhlIGdpdmVuIGxhbmdLZXkuIElmIGxhbmdLZXkgaXMgbm90IHNwZWNpZmllZCxcbiAgICAgKiB0aGUgbW9kdWxlIHdpbGwgZHJvcCBhbGwgZXhpc3RlbnQgdHJhbnNsYXRpb24gdGFibGVzIGFuZCBsb2FkIG5ldyB2ZXJzaW9uIG9mIHRob3NlIHdoaWNoXG4gICAgICogYXJlIGN1cnJlbnRseSBpbiB1c2UuXG4gICAgICpcbiAgICAgKiBSZWZyZXNoIG1lYW5zIHRoYXQgdGhlIG1vZHVsZSB3aWxsIGRyb3AgdGFyZ2V0IHRyYW5zbGF0aW9uIHRhYmxlIGFuZCB0cnkgdG8gbG9hZCBpdCBhZ2Fpbi5cbiAgICAgKlxuICAgICAqIEluIGNhc2UgdGhlcmUgYXJlIG5vIGxvYWRlcnMgcmVnaXN0ZXJlZCB0aGUgcmVmcmVzaCgpIG1ldGhvZCB3aWxsIHRocm93IGFuIEVycm9yLlxuICAgICAqXG4gICAgICogSWYgdGhlIG1vZHVsZSBpcyBhYmxlIHRvIHJlZnJlc2ggdHJhbnNsYXRpb24gdGFibGVzIHJlZnJlc2goKSBtZXRob2Qgd2lsbCBicm9hZGNhc3RcbiAgICAgKiAkdHJhbnNsYXRlUmVmcmVzaFN0YXJ0IGFuZCAkdHJhbnNsYXRlUmVmcmVzaEVuZCBldmVudHMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHRoaXMgd2lsbCBkcm9wIGFsbCBjdXJyZW50bHkgZXhpc3RlbnQgdHJhbnNsYXRpb24gdGFibGVzIGFuZCByZWxvYWQgdGhvc2Ugd2hpY2ggYXJlXG4gICAgICogLy8gY3VycmVudGx5IGluIHVzZVxuICAgICAqICR0cmFuc2xhdGUucmVmcmVzaCgpO1xuICAgICAqIC8vIHRoaXMgd2lsbCByZWZyZXNoIGEgdHJhbnNsYXRpb24gdGFibGUgZm9yIHRoZSBlbl9VUyBsYW5ndWFnZVxuICAgICAqICR0cmFuc2xhdGUucmVmcmVzaCgnZW5fVVMnKTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5IG9mIHRoZSB0YWJsZSwgd2hpY2ggaGFzIHRvIGJlIHJlZnJlc2hlZFxuICAgICAqXG4gICAgICogQHJldHVybiB7cHJvbWlzZX0gUHJvbWlzZSwgd2hpY2ggd2lsbCBiZSByZXNvbHZlZCBpbiBjYXNlIGEgdHJhbnNsYXRpb24gdGFibGVzIHJlZnJlc2hpbmdcbiAgICAgKiBwcm9jZXNzIGlzIGZpbmlzaGVkIHN1Y2Nlc3NmdWxseSwgYW5kIHJlamVjdCBpZiBub3QuXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5yZWZyZXNoID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgIGlmICghJGxvYWRlckZhY3RvcnkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZG5cXCd0IHJlZnJlc2ggdHJhbnNsYXRpb24gdGFibGUsIG5vIGxvYWRlciByZWdpc3RlcmVkIScpO1xuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlUmVmcmVzaFN0YXJ0Jywge2xhbmd1YWdlIDogbGFuZ0tleX0pO1xuXG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpLCB1cGRhdGVkTGFuZ3VhZ2VzID0ge307XG5cbiAgICAgIC8vcHJpdmF0ZSBoZWxwZXJcbiAgICAgIGZ1bmN0aW9uIGxvYWROZXdEYXRhKGxhbmd1YWdlS2V5KSB7XG4gICAgICAgIHZhciBwcm9taXNlID0gbG9hZEFzeW5jKGxhbmd1YWdlS2V5KTtcbiAgICAgICAgLy91cGRhdGUgdGhlIGxvYWQgcHJvbWlzZSBjYWNoZSBmb3IgdGhpcyBsYW5ndWFnZVxuICAgICAgICBsYW5nUHJvbWlzZXNbbGFuZ3VhZ2VLZXldID0gcHJvbWlzZTtcbiAgICAgICAgLy9yZWdpc3RlciBhIGRhdGEgaGFuZGxlciBmb3IgdGhlIHByb21pc2VcbiAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAvL2NsZWFyIHRoZSBjYWNoZSBmb3IgdGhpcyBsYW5ndWFnZVxuICAgICAgICAgICAgJHRyYW5zbGF0aW9uVGFibGVbbGFuZ3VhZ2VLZXldID0ge307XG4gICAgICAgICAgICAvL2FkZCB0aGUgbmV3IGRhdGEgZm9yIHRoaXMgbGFuZ3VhZ2VcbiAgICAgICAgICAgIHRyYW5zbGF0aW9ucyhsYW5ndWFnZUtleSwgZGF0YS50YWJsZSk7XG4gICAgICAgICAgICAvL3RyYWNrIHRoYXQgd2UgdXBkYXRlZCB0aGlzIGxhbmd1YWdlXG4gICAgICAgICAgICB1cGRhdGVkTGFuZ3VhZ2VzW2xhbmd1YWdlS2V5XSA9IHRydWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAvL2hhbmRsZSByZWplY3Rpb24gdG8gYXBwZWFzZSB0aGUgJHEgdmFsaWRhdGlvblxuICAgICAgICAgIGFuZ3VsYXIubm9vcCk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfVxuXG4gICAgICAvL3NldCB1cCBwb3N0LXByb2Nlc3NpbmdcbiAgICAgIGRlZmVycmVkLnByb21pc2UudGhlbihcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZvciAodmFyIGtleSBpbiAkdHJhbnNsYXRpb25UYWJsZSkge1xuICAgICAgICAgICAgaWYgKCR0cmFuc2xhdGlvblRhYmxlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgLy9kZWxldGUgY2FjaGUgZW50cmllcyB0aGF0IHdlcmUgbm90IHVwZGF0ZWRcbiAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIHVwZGF0ZWRMYW5ndWFnZXMpKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlICR0cmFuc2xhdGlvblRhYmxlW2tleV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCR1c2VzKSB7XG4gICAgICAgICAgICB1c2VMYW5ndWFnZSgkdXNlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvL2hhbmRsZSByZWplY3Rpb24gdG8gYXBwZWFzZSB0aGUgJHEgdmFsaWRhdGlvblxuICAgICAgICBhbmd1bGFyLm5vb3BcbiAgICAgIClbJ2ZpbmFsbHknXShcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVSZWZyZXNoRW5kJywge2xhbmd1YWdlIDogbGFuZ0tleX0pO1xuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICBpZiAoIWxhbmdLZXkpIHtcbiAgICAgICAgLy8gaWYgdGhlcmUncyBubyBsYW5ndWFnZSBrZXkgc3BlY2lmaWVkIHdlIHJlZnJlc2ggQUxMIFRIRSBUSElOR1MhXG4gICAgICAgIHZhciBsYW5ndWFnZXNUb1JlbG9hZCA9ICRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLnNsaWNlKCkgfHwgW107XG4gICAgICAgIGlmICgkdXNlcyAmJiBsYW5ndWFnZXNUb1JlbG9hZC5pbmRleE9mKCR1c2VzKSA9PT0gLTEpIHtcbiAgICAgICAgICBsYW5ndWFnZXNUb1JlbG9hZC5wdXNoKCR1c2VzKTtcbiAgICAgICAgfVxuICAgICAgICAkcS5hbGwobGFuZ3VhZ2VzVG9SZWxvYWQubWFwKGxvYWROZXdEYXRhKSkudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuXG4gICAgICB9IGVsc2UgaWYgKCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldKSB7XG4gICAgICAgIC8vanVzdCByZWZyZXNoIHRoZSBzcGVjaWZpZWQgbGFuZ3VhZ2UgY2FjaGVcbiAgICAgICAgbG9hZE5ld0RhdGEobGFuZ0tleSkudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNpbnN0YW50XG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhIHRyYW5zbGF0aW9uIGluc3RhbnRseSBmcm9tIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBsb2FkZWQgdHJhbnNsYXRpb24uIEFsbCBydWxlc1xuICAgICAqIHJlZ2FyZGluZyB0aGUgY3VycmVudCBsYW5ndWFnZSwgdGhlIHByZWZlcnJlZCBsYW5ndWFnZSBvZiBldmVuIGZhbGxiYWNrIGxhbmd1YWdlcyB3aWxsIGJlXG4gICAgICogdXNlZCBleGNlcHQgYW55IHByb21pc2UgaGFuZGxpbmcuIElmIGEgbGFuZ3VhZ2Ugd2FzIG5vdCBmb3VuZCwgYW4gYXN5bmNocm9ub3VzIGxvYWRpbmdcbiAgICAgKiB3aWxsIGJlIGludm9rZWQgaW4gdGhlIGJhY2tncm91bmQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xhcnJheX0gdHJhbnNsYXRpb25JZCBBIHRva2VuIHdoaWNoIHJlcHJlc2VudHMgYSB0cmFuc2xhdGlvbiBpZFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgY2FuIGJlIG9wdGlvbmFsbHkgYW4gYXJyYXkgb2YgdHJhbnNsYXRpb24gaWRzIHdoaWNoXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyB0aGF0IHRoZSBmdW5jdGlvbidzIHByb21pc2UgcmV0dXJucyBhbiBvYmplY3Qgd2hlcmVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoIGtleSBpcyB0aGUgdHJhbnNsYXRpb24gaWQgYW5kIHRoZSB2YWx1ZSB0aGUgdHJhbnNsYXRpb24uXG4gICAgICogQHBhcmFtIHtvYmplY3Q9fSBbaW50ZXJwb2xhdGVQYXJhbXM9e31dIFBhcmFtc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gW2ludGVycG9sYXRpb25JZD11bmRlZmluZWRdIFRoZSBpZCBvZiB0aGUgaW50ZXJwb2xhdGlvbiB0byB1c2UgKHVzZSBkZWZhdWx0IHVubGVzcyBzZXQgdmlhIHVzZUludGVycG9sYXRpb24oKSlcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IFtmb3JjZUxhbmd1YWdlPWZhbHNlXSBBIGxhbmd1YWdlIHRvIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBsYW5ndWFnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gW3Nhbml0aXplU3RyYXRlZ3k9dW5kZWZpbmVkXSBmb3JjZSBzYW5pdGl6ZSBzdHJhdGVneSBmb3IgdGhpcyBjYWxsIGluc3RlYWQgb2YgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgb25lICh1c2UgZGVmYXVsdCB1bmxlc3Mgc2V0KVxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfG9iamVjdH0gdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLmluc3RhbnQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCwgZm9yY2VMYW5ndWFnZSwgc2FuaXRpemVTdHJhdGVneSkge1xuXG4gICAgICAvLyB3ZSBkb24ndCB3YW50IHRvIHJlLW5lZ290aWF0ZSAkdXNlc1xuICAgICAgdmFyIHVzZXMgPSAoZm9yY2VMYW5ndWFnZSAmJiBmb3JjZUxhbmd1YWdlICE9PSAkdXNlcykgPyAvLyB3ZSBkb24ndCB3YW50IHRvIHJlLW5lZ290aWF0ZSAkdXNlc1xuICAgICAgICAobmVnb3RpYXRlTG9jYWxlKGZvcmNlTGFuZ3VhZ2UpIHx8IGZvcmNlTGFuZ3VhZ2UpIDogJHVzZXM7XG5cbiAgICAgIC8vIERldGVjdCB1bmRlZmluZWQgYW5kIG51bGwgdmFsdWVzIHRvIHNob3J0ZW4gdGhlIGV4ZWN1dGlvbiBhbmQgcHJldmVudCBleGNlcHRpb25zXG4gICAgICBpZiAodHJhbnNsYXRpb25JZCA9PT0gbnVsbCB8fCBhbmd1bGFyLmlzVW5kZWZpbmVkKHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBmb3JjZUxhbmd1YWdlIGlzIHByZXNlbnRcbiAgICAgIGlmIChmb3JjZUxhbmd1YWdlKSB7XG4gICAgICAgIGxvYWRUcmFuc2xhdGlvbnNJZk1pc3NpbmcoZm9yY2VMYW5ndWFnZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIER1Y2sgZGV0ZWN0aW9uOiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYW4gYXJyYXksIGEgYnVuY2ggb2YgdHJhbnNsYXRpb25zIHdhcyByZXF1ZXN0ZWQuXG4gICAgICAvLyBUaGUgcmVzdWx0IGlzIGFuIG9iamVjdC5cbiAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkodHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGMgPSB0cmFuc2xhdGlvbklkLmxlbmd0aDsgaSA8IGM7IGkrKykge1xuICAgICAgICAgIHJlc3VsdHNbdHJhbnNsYXRpb25JZFtpXV0gPSAkdHJhbnNsYXRlLmluc3RhbnQodHJhbnNsYXRpb25JZFtpXSwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCwgZm9yY2VMYW5ndWFnZSwgc2FuaXRpemVTdHJhdGVneSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICB9XG5cbiAgICAgIC8vIFdlIGRpc2NhcmRlZCB1bmFjY2VwdGFibGUgdmFsdWVzLiBTbyB3ZSBqdXN0IG5lZWQgdG8gdmVyaWZ5IGlmIHRyYW5zbGF0aW9uSWQgaXMgZW1wdHkgU3RyaW5nXG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyh0cmFuc2xhdGlvbklkKSAmJiB0cmFuc2xhdGlvbklkLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIHRyaW0gb2ZmIGFueSB3aGl0ZXNwYWNlXG4gICAgICBpZiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICB0cmFuc2xhdGlvbklkID0gdHJpbS5hcHBseSh0cmFuc2xhdGlvbklkKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlc3VsdCwgcG9zc2libGVMYW5nS2V5cyA9IFtdO1xuICAgICAgaWYgKCRwcmVmZXJyZWRMYW5ndWFnZSkge1xuICAgICAgICBwb3NzaWJsZUxhbmdLZXlzLnB1c2goJHByZWZlcnJlZExhbmd1YWdlKTtcbiAgICAgIH1cbiAgICAgIGlmICh1c2VzKSB7XG4gICAgICAgIHBvc3NpYmxlTGFuZ0tleXMucHVzaCh1c2VzKTtcbiAgICAgIH1cbiAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgcG9zc2libGVMYW5nS2V5cyA9IHBvc3NpYmxlTGFuZ0tleXMuY29uY2F0KCRmYWxsYmFja0xhbmd1YWdlKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGogPSAwLCBkID0gcG9zc2libGVMYW5nS2V5cy5sZW5ndGg7IGogPCBkOyBqKyspIHtcbiAgICAgICAgdmFyIHBvc3NpYmxlTGFuZ0tleSA9IHBvc3NpYmxlTGFuZ0tleXNbal07XG4gICAgICAgIGlmICgkdHJhbnNsYXRpb25UYWJsZVtwb3NzaWJsZUxhbmdLZXldKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiAkdHJhbnNsYXRpb25UYWJsZVtwb3NzaWJsZUxhbmdLZXldW3RyYW5zbGF0aW9uSWRdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmVzdWx0ID0gZGV0ZXJtaW5lVHJhbnNsYXRpb25JbnN0YW50KHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQsIHVzZXMsIHNhbml0aXplU3RyYXRlZ3kpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXJlc3VsdCAmJiByZXN1bHQgIT09ICcnKSB7XG4gICAgICAgIGlmICgkbm90Rm91bmRJbmRpY2F0b3JMZWZ0IHx8ICRub3RGb3VuZEluZGljYXRvclJpZ2h0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gYXBwbHlOb3RGb3VuZEluZGljYXRvcnModHJhbnNsYXRpb25JZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUmV0dXJuIHRyYW5zbGF0aW9uIG9mIGRlZmF1bHQgaW50ZXJwb2xhdG9yIGlmIG5vdCBmb3VuZCBhbnl0aGluZy5cbiAgICAgICAgICByZXN1bHQgPSBkZWZhdWx0SW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCAnZmlsdGVyJywgc2FuaXRpemVTdHJhdGVneSk7XG5cbiAgICAgICAgICAvLyBsb29rcyBsaWtlIHRoZSByZXF1ZXN0ZWQgdHJhbnNsYXRpb24gaWQgZG9lc24ndCBleGlzdHMuXG4gICAgICAgICAgLy8gTm93LCBpZiB0aGVyZSBpcyBhIHJlZ2lzdGVyZWQgaGFuZGxlciBmb3IgbWlzc2luZyB0cmFuc2xhdGlvbnMgYW5kIG5vXG4gICAgICAgICAgLy8gYXN5bmNMb2FkZXIgaXMgcGVuZGluZywgd2UgZXhlY3V0ZSB0aGUgaGFuZGxlclxuICAgICAgICAgIHZhciBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb247XG4gICAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlcikge1xuICAgICAgICAgICAgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uID0gdHJhbnNsYXRlQnlIYW5kbGVyKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBzYW5pdGl6ZVN0cmF0ZWd5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyICYmIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbikge1xuICAgICAgICAgICAgcmVzdWx0ID0gbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjdmVyc2lvbkluZm9cbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZlcnNpb24gaW5mb3JtYXRpb24gZm9yIHRoZSBhbmd1bGFyLXRyYW5zbGF0ZSBsaWJyYXJ5XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGFuZ3VsYXItdHJhbnNsYXRlIHZlcnNpb25cbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLnZlcnNpb25JbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHZlcnNpb247XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNsb2FkZXJDYWNoZVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdGhlIGRlZmluZWQgbG9hZGVyQ2FjaGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufHN0cmluZ3xvYmplY3R9IGN1cnJlbnQgdmFsdWUgb2YgbG9hZGVyQ2FjaGVcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLmxvYWRlckNhY2hlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGxvYWRlckNhY2hlO1xuICAgIH07XG5cbiAgICAvLyBpbnRlcm5hbCBwdXJwb3NlIG9ubHlcbiAgICAkdHJhbnNsYXRlLmRpcmVjdGl2ZVByaW9yaXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGRpcmVjdGl2ZVByaW9yaXR5O1xuICAgIH07XG5cbiAgICAvLyBpbnRlcm5hbCBwdXJwb3NlIG9ubHlcbiAgICAkdHJhbnNsYXRlLnN0YXRlZnVsRmlsdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHN0YXRlZnVsRmlsdGVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjaXNSZWFkeVxuICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgc2VydmljZSBpcyBcInJlYWR5XCIgdG8gdHJhbnNsYXRlIChpLmUuIGxvYWRpbmcgMXN0IGxhbmd1YWdlKS5cbiAgICAgKlxuICAgICAqIFNlZSBhbHNvIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjbWV0aG9kc19vblJlYWR5IG9uUmVhZHkoKX0uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBjdXJyZW50IHZhbHVlIG9mIHJlYWR5XG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5pc1JlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRpc1JlYWR5O1xuICAgIH07XG5cbiAgICB2YXIgJG9uUmVhZHlEZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgJG9uUmVhZHlEZWZlcnJlZC5wcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgJGlzUmVhZHkgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI29uUmVhZHlcbiAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDYWxscyB0aGUgZnVuY3Rpb24gcHJvdmlkZWQgb3IgcmVzb2x2ZWQgdGhlIHJldHVybmVkIHByb21pc2UgYWZ0ZXIgdGhlIHNlcnZpY2UgaXMgXCJyZWFkeVwiIHRvIHRyYW5zbGF0ZSAoaS5lLiBsb2FkaW5nIDFzdCBsYW5ndWFnZSkuXG4gICAgICpcbiAgICAgKiBTZWUgYWxzbyB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI21ldGhvZHNfaXNSZWFkeSBpc1JlYWR5KCl9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbj19IGZuIEZ1bmN0aW9uIHRvIGludm9rZSB3aGVuIHNlcnZpY2UgaXMgcmVhZHlcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFByb21pc2UgcmVzb2x2ZWQgd2hlbiBzZXJ2aWNlIGlzIHJlYWR5XG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5vblJlYWR5ID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihmbikpIHtcbiAgICAgICAgZGVmZXJyZWQucHJvbWlzZS50aGVuKGZuKTtcbiAgICAgIH1cbiAgICAgIGlmICgkaXNSZWFkeSkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkb25SZWFkeURlZmVycmVkLnByb21pc2UudGhlbihkZWZlcnJlZC5yZXNvbHZlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjZ2V0QXZhaWxhYmxlTGFuZ3VhZ2VLZXlzXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhpcyBmdW5jdGlvbiBzaW1wbHkgcmV0dXJucyB0aGUgcmVnaXN0ZXJlZCBsYW5ndWFnZSBrZXlzIGJlaW5nIGRlZmluZWQgYmVmb3JlIGluIHRoZSBjb25maWcgcGhhc2VcbiAgICAgKiBXaXRoIHRoaXMsIGFuIGFwcGxpY2F0aW9uIGNhbiB1c2UgdGhlIGFycmF5IHRvIHByb3ZpZGUgYSBsYW5ndWFnZSBzZWxlY3Rpb24gZHJvcGRvd24gb3Igc2ltaWxhclxuICAgICAqIHdpdGhvdXQgYW55IGFkZGl0aW9uYWwgZWZmb3J0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSByZXR1cm5zIHRoZSBsaXN0IG9mIHBvc3NpYmx5IHJlZ2lzdGVyZWQgbGFuZ3VhZ2Uga2V5cyBhbmQgbWFwcGluZyBvciBudWxsIGlmIG5vdCBkZWZpbmVkXG4gICAgICovXG4gICAgJHRyYW5zbGF0ZS5nZXRBdmFpbGFibGVMYW5ndWFnZUtleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoJGF2YWlsYWJsZUxhbmd1YWdlS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiAkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNnZXRUcmFuc2xhdGlvblRhYmxlXG4gICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0cmFuc2xhdGlvbiB0YWJsZSBieSB0aGUgZ2l2ZW4gbGFuZ3VhZ2Uga2V5LlxuICAgICAqXG4gICAgICogVW5sZXNzIGEgbGFuZ3VhZ2UgaXMgcHJvdmlkZWQgaXQgcmV0dXJucyBhIHRyYW5zbGF0aW9uIHRhYmxlIG9mIHRoZSBjdXJyZW50IG9uZS5cbiAgICAgKiBOb3RlOiBJZiB0cmFuc2xhdGlvbiBkaWN0aW9uYXJ5IGlzIGN1cnJlbnRseSBkb3dubG9hZGluZyBvciBpbiBwcm9ncmVzc1xuICAgICAqIGl0IHdpbGwgcmV0dXJuIG51bGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBBIHRva2VuIHdoaWNoIHJlcHJlc2VudHMgYSB0cmFuc2xhdGlvbiBpZFxuICAgICAqXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBhIGNvcHkgb2YgYW5ndWxhci10cmFuc2xhdGUgJHRyYW5zbGF0aW9uVGFibGVcbiAgICAgKi9cbiAgICAkdHJhbnNsYXRlLmdldFRyYW5zbGF0aW9uVGFibGUgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgbGFuZ0tleSA9IGxhbmdLZXkgfHwgJHRyYW5zbGF0ZS51c2UoKTtcbiAgICAgIGlmIChsYW5nS2V5ICYmICR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldKSB7XG4gICAgICAgIHJldHVybiBhbmd1bGFyLmNvcHkoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIC8vIFdoZW5ldmVyICR0cmFuc2xhdGVSZWFkeSBpcyBiZWluZyBmaXJlZCwgdGhpcyB3aWxsIGVuc3VyZSB0aGUgc3RhdGUgb2YgJGlzUmVhZHlcbiAgICB2YXIgZ2xvYmFsT25SZWFkeUxpc3RlbmVyID0gJHJvb3RTY29wZS4kb24oJyR0cmFuc2xhdGVSZWFkeScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICRvblJlYWR5RGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgZ2xvYmFsT25SZWFkeUxpc3RlbmVyKCk7IC8vIG9uZSB0aW1lIG9ubHlcbiAgICAgIGdsb2JhbE9uUmVhZHlMaXN0ZW5lciA9IG51bGw7XG4gICAgfSk7XG4gICAgdmFyIGdsb2JhbE9uQ2hhbmdlTGlzdGVuZXIgPSAkcm9vdFNjb3BlLiRvbignJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICRvblJlYWR5RGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgZ2xvYmFsT25DaGFuZ2VMaXN0ZW5lcigpOyAvLyBvbmUgdGltZSBvbmx5XG4gICAgICBnbG9iYWxPbkNoYW5nZUxpc3RlbmVyID0gbnVsbDtcbiAgICB9KTtcblxuICAgIGlmICgkbG9hZGVyRmFjdG9yeSkge1xuXG4gICAgICAvLyBJZiBhdCBsZWFzdCBvbmUgYXN5bmMgbG9hZGVyIGlzIGRlZmluZWQgYW5kIHRoZXJlIGFyZSBub1xuICAgICAgLy8gKGRlZmF1bHQpIHRyYW5zbGF0aW9ucyBhdmFpbGFibGUgd2Ugc2hvdWxkIHRyeSB0byBsb2FkIHRoZW0uXG4gICAgICBpZiAoYW5ndWxhci5lcXVhbHMoJHRyYW5zbGF0aW9uVGFibGUsIHt9KSkge1xuICAgICAgICBpZiAoJHRyYW5zbGF0ZS51c2UoKSkge1xuICAgICAgICAgICR0cmFuc2xhdGUudXNlKCR0cmFuc2xhdGUudXNlKCkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFsc28sIGlmIHRoZXJlIGFyZSBhbnkgZmFsbGJhY2sgbGFuZ3VhZ2UgcmVnaXN0ZXJlZCwgd2Ugc3RhcnRcbiAgICAgIC8vIGxvYWRpbmcgdGhlbSBhc3luY2hyb25vdXNseSBhcyBzb29uIGFzIHdlIGNhbi5cbiAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHByb2Nlc3NBc3luY1Jlc3VsdCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgIHRyYW5zbGF0aW9ucyh0cmFuc2xhdGlvbi5rZXksIHRyYW5zbGF0aW9uLnRhYmxlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlRW5kJywge2xhbmd1YWdlIDogdHJhbnNsYXRpb24ua2V5fSk7XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICB2YXIgZmFsbGJhY2tMYW5ndWFnZUlkID0gJGZhbGxiYWNrTGFuZ3VhZ2VbaV07XG4gICAgICAgICAgaWYgKCRmb3JjZUFzeW5jUmVsb2FkRW5hYmxlZCB8fCAhJHRyYW5zbGF0aW9uVGFibGVbZmFsbGJhY2tMYW5ndWFnZUlkXSkge1xuICAgICAgICAgICAgbGFuZ1Byb21pc2VzW2ZhbGxiYWNrTGFuZ3VhZ2VJZF0gPSBsb2FkQXN5bmMoZmFsbGJhY2tMYW5ndWFnZUlkKS50aGVuKHByb2Nlc3NBc3luY1Jlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVSZWFkeScsIHtsYW5ndWFnZSA6ICR0cmFuc2xhdGUudXNlKCl9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gJHRyYW5zbGF0ZTtcbiAgfV07XG59XG5cbiR0cmFuc2xhdGUuZGlzcGxheU5hbWUgPSAnZGlzcGxheU5hbWUnO1xuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gKiBAcmVxdWlyZXMgJGludGVycG9sYXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2VzIGFuZ3VsYXIncyBgJGludGVycG9sYXRlYCBzZXJ2aWNlcyB0byBpbnRlcnBvbGF0ZSBzdHJpbmdzIGFnYWluc3Qgc29tZSB2YWx1ZXMuXG4gKlxuICogQmUgYXdhcmUgdG8gY29uZmlndXJlIGEgcHJvcGVyIHNhbml0aXphdGlvbiBzdHJhdGVneS5cbiAqXG4gKiBTZWUgYWxzbzpcbiAqICoge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVNhbml0aXphdGlvbn1cbiAqXG4gKiBAcmV0dXJuIHtvYmplY3R9ICR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbiBJbnRlcnBvbGF0b3Igc2VydmljZVxuICovXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpLmZhY3RvcnkoJyR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbicsICR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbik7XG5cbmZ1bmN0aW9uICR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbiAoJGludGVycG9sYXRlLCAkdHJhbnNsYXRlU2FuaXRpemF0aW9uKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yID0ge30sXG4gICAgICAkbG9jYWxlLFxuICAgICAgJGlkZW50aWZpZXIgPSAnZGVmYXVsdCc7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbiNzZXRMb2NhbGVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIGN1cnJlbnQgbG9jYWxlICh0aGlzIGlzIGN1cnJlbnRseSBub3QgdXNlIGluIHRoaXMgaW50ZXJwb2xhdGlvbikuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhbGUgTGFuZ3VhZ2Uga2V5IG9yIGxvY2FsZS5cbiAgICovXG4gICR0cmFuc2xhdGVJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZSkge1xuICAgICRsb2NhbGUgPSBsb2NhbGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbiNnZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHVybnMgYW4gaWRlbnRpZmllciBmb3IgdGhpcyBpbnRlcnBvbGF0aW9uIHNlcnZpY2UuXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9ICRpZGVudGlmaWVyXG4gICAqL1xuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLmdldEludGVycG9sYXRpb25JZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAkaWRlbnRpZmllcjtcbiAgfTtcblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgd2lsbCBiZSByZW1vdmVkIGluIDMuMFxuICAgKiBAc2VlIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVTYW5pdGl6YXRpb259XG4gICAqL1xuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICR0cmFuc2xhdGVTYW5pdGl6YXRpb24udXNlU3RyYXRlZ3kodmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24jaW50ZXJwb2xhdGVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJbnRlcnBvbGF0ZXMgZ2l2ZW4gdmFsdWUgYWdhaW5zIGdpdmVuIGludGVycG9sYXRlIHBhcmFtcyB1c2luZyBhbmd1bGFyc1xuICAgKiBgJGludGVycG9sYXRlYCBzZXJ2aWNlLlxuICAgKlxuICAgKiBTaW5jZSBBbmd1bGFySlMgMS41LCBgdmFsdWVgIG11c3Qgbm90IGJlIGEgc3RyaW5nIGJ1dCBjYW4gYmUgYW55dGhpbmcgaW5wdXQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSB0cmFuc2xhdGlvblxuICAgKiBAcGFyYW0ge29iamVjdH0gW2ludGVycG9sYXRpb25QYXJhbXM9e31dIGludGVycG9sYXRpb24gcGFyYW1zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbY29udGV4dD11bmRlZmluZWRdIGN1cnJlbnQgY29udGV4dCAoZmlsdGVyLCBkaXJlY3RpdmUsIHNlcnZpY2UpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc2FuaXRpemVTdHJhdGVneT11bmRlZmluZWRdIHNhbml0aXplIHN0cmF0ZWd5ICh1c2UgZGVmYXVsdCB1bmxlc3Mgc2V0KVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHJhbnNsYXRpb25JZCBjdXJyZW50IHRyYW5zbGF0aW9uSWRcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gaW50ZXJwb2xhdGVkIHN0cmluZ1xuICAgKi9cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgaW50ZXJwb2xhdGlvblBhcmFtcywgY29udGV4dCwgc2FuaXRpemVTdHJhdGVneSwgdHJhbnNsYXRpb25JZCkgeyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbiAgICBpbnRlcnBvbGF0aW9uUGFyYW1zID0gaW50ZXJwb2xhdGlvblBhcmFtcyB8fCB7fTtcbiAgICBpbnRlcnBvbGF0aW9uUGFyYW1zID0gJHRyYW5zbGF0ZVNhbml0aXphdGlvbi5zYW5pdGl6ZShpbnRlcnBvbGF0aW9uUGFyYW1zLCAncGFyYW1zJywgc2FuaXRpemVTdHJhdGVneSwgY29udGV4dCk7XG5cbiAgICB2YXIgaW50ZXJwb2xhdGVkVGV4dDtcbiAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgIC8vIG51bWJlcnMgYXJlIHNhZmVcbiAgICAgIGludGVycG9sYXRlZFRleHQgPSAnJyArIHZhbHVlO1xuICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgIC8vIHN0cmluZ3MgbXVzdCBiZSBpbnRlcnBvbGF0ZWQgKHRoYXQncyB0aGUgam9iIGhlcmUpXG4gICAgICBpbnRlcnBvbGF0ZWRUZXh0ID0gJGludGVycG9sYXRlKHZhbHVlKShpbnRlcnBvbGF0aW9uUGFyYW1zKTtcbiAgICAgIGludGVycG9sYXRlZFRleHQgPSAkdHJhbnNsYXRlU2FuaXRpemF0aW9uLnNhbml0aXplKGludGVycG9sYXRlZFRleHQsICd0ZXh0Jywgc2FuaXRpemVTdHJhdGVneSwgY29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG5laXRoZXIgYSBudW1iZXIgb3IgYSBzdHJpbmcsIGNhbnQgaW50ZXJwb2xhdGUgPT4gZW1wdHkgc3RyaW5nXG4gICAgICBpbnRlcnBvbGF0ZWRUZXh0ID0gJyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGludGVycG9sYXRlZFRleHQ7XG4gIH07XG5cbiAgcmV0dXJuICR0cmFuc2xhdGVJbnRlcnBvbGF0b3I7XG59XG5cbiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbi5kaXNwbGF5TmFtZSA9ICckdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24nO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpLmNvbnN0YW50KCckU1RPUkFHRV9LRVknLCAnTkdfVFJBTlNMQVRFX0xBTkdfS0VZJyk7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS5kaXJlY3RpdmU6dHJhbnNsYXRlXG4gKiBAcmVxdWlyZXMgJGludGVycG9sYXRlLFxuICogQHJlcXVpcmVzICRjb21waWxlLFxuICogQHJlcXVpcmVzICRwYXJzZSxcbiAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gKiBAcmVzdHJpY3QgQUVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRyYW5zbGF0ZXMgZ2l2ZW4gdHJhbnNsYXRpb24gaWQgZWl0aGVyIHRocm91Z2ggYXR0cmlidXRlIG9yIERPTSBjb250ZW50LlxuICogSW50ZXJuYWxseSBpdCB1c2VzICR0cmFuc2xhdGUgc2VydmljZSB0byB0cmFuc2xhdGUgdGhlIHRyYW5zbGF0aW9uIGlkLiBJdCBwb3NzaWJsZSB0b1xuICogcGFzcyBhbiBvcHRpb25hbCBgdHJhbnNsYXRlLXZhbHVlc2Agb2JqZWN0IGxpdGVyYWwgYXMgc3RyaW5nIGludG8gdHJhbnNsYXRpb24gaWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUgVHJhbnNsYXRpb24gaWQgd2hpY2ggY291bGQgYmUgZWl0aGVyIHN0cmluZyBvciBpbnRlcnBvbGF0ZWQgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtdmFsdWVzIFZhbHVlcyB0byBwYXNzIGludG8gdHJhbnNsYXRpb24gaWQuIENhbiBiZSBwYXNzZWQgYXMgb2JqZWN0IGxpdGVyYWwgc3RyaW5nIG9yIGludGVycG9sYXRlZCBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS1hdHRyLUFUVFIgdHJhbnNsYXRlIFRyYW5zbGF0aW9uIGlkIGFuZCBwdXQgaXQgaW50byBBVFRSIGF0dHJpYnV0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLWRlZmF1bHQgd2lsbCBiZSB1c2VkIHVubGVzcyB0cmFuc2xhdGlvbiB3YXMgc3VjY2Vzc2Z1bFxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtc2FuaXRpemUtc3RyYXRlZ3kgZGVmaW5lcyBsb2NhbGx5IHNhbml0aXplIHN0cmF0ZWd5XG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB0cmFuc2xhdGUtY29tcGlsZSAoZGVmYXVsdCB0cnVlIGlmIHByZXNlbnQpIGRlZmluZXMgbG9jYWxseSBhY3RpdmF0aW9uIG9mIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNtZXRob2RzX3VzZVBvc3RDb21waWxpbmd9XG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB0cmFuc2xhdGUta2VlcC1jb250ZW50IChkZWZhdWx0IHRydWUgaWYgcHJlc2VudCkgZGVmaW5lcyB0aGF0IGluIGNhc2UgYSBLRVkgY291bGQgbm90IGJlIHRyYW5zbGF0ZWQsIHRoYXQgdGhlIGV4aXN0aW5nIGNvbnRlbnQgaXMgbGVmdCBpbiB0aGUgaW5uZXJIVE1MfVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ1ZpZXdcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiVHJhbnNsYXRlQ3RybFwiPlxuXG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiVFJBTlNMQVRJT05fSURcIj48L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU+VFJBTlNMQVRJT05fSUQ8L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGUgdHJhbnNsYXRlLWF0dHItdGl0bGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT1cInt7dHJhbnNsYXRpb25JZH19XCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPnt7dHJhbnNsYXRpb25JZH19PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiV0lUSF9WQUxVRVNcIiB0cmFuc2xhdGUtdmFsdWVzPVwie3ZhbHVlOiA1fVwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtdmFsdWVzPVwie3ZhbHVlOiA1fVwiPldJVEhfVkFMVUVTPC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwiV0lUSF9WQUxVRVNcIiB0cmFuc2xhdGUtdmFsdWVzPVwie3t2YWx1ZXN9fVwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtdmFsdWVzPVwie3t2YWx1ZXN9fVwiPldJVEhfVkFMVUVTPC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlIHRyYW5zbGF0ZS1hdHRyLXRpdGxlPVwiV0lUSF9WQUxVRVNcIiB0cmFuc2xhdGUtdmFsdWVzPVwie3t2YWx1ZXN9fVwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT1cIldJVEhfQ0FNRUxfQ0FTRV9LRVlcIiB0cmFuc2xhdGUtdmFsdWUtY2FtZWwtY2FzZS1rZXk9XCJIaVwiPjwvcHJlPlxuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycsIFsncGFzY2FscHJlY2h0LnRyYW5zbGF0ZSddKVxuXG4gICAgICAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcblxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbicse1xuICAgICAgICAgICdUUkFOU0xBVElPTl9JRCc6ICdIZWxsbyB0aGVyZSEnLFxuICAgICAgICAgICdXSVRIX1ZBTFVFUyc6ICdUaGUgZm9sbG93aW5nIHZhbHVlIGlzIGR5bmFtaWM6IHt7dmFsdWV9fScsXG4gICAgICAgICAgJ1dJVEhfQ0FNRUxfQ0FTRV9LRVknOiAnVGhlIGludGVycG9sYXRpb24ga2V5IGlzIGNhbWVsIGNhc2VkOiB7e2NhbWVsQ2FzZUtleX19J1xuICAgICAgICB9KS5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcblxuICAgICAgfSk7XG5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1ZpZXcnKS5jb250cm9sbGVyKCdUcmFuc2xhdGVDdHJsJywgZnVuY3Rpb24gKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUudHJhbnNsYXRpb25JZCA9ICdUUkFOU0xBVElPTl9JRCc7XG5cbiAgICAgICAgJHNjb3BlLnZhbHVlcyA9IHtcbiAgICAgICAgICB2YWx1ZTogNzhcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NlbmFyaW8uanNcIj5cbiAgICAgIGl0KCdzaG91bGQgdHJhbnNsYXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpbmplY3QoZnVuY3Rpb24gKCRyb290U2NvcGUsICRjb21waWxlKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS50cmFuc2xhdGlvbklkID0gJ1RSQU5TTEFUSU9OX0lEJztcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPVwiVFJBTlNMQVRJT05fSURcIj48L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPVwie3t0cmFuc2xhdGlvbklkfX1cIj48L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPlRSQU5TTEFUSU9OX0lEPC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnSGVsbG8gdGhlcmUhJyk7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZT57e3RyYW5zbGF0aW9uSWR9fTwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC50ZXh0KCkpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGUgdHJhbnNsYXRlLWF0dHItdGl0bGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC5hdHRyKCd0aXRsZScpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPVwiV0lUSF9DQU1FTF9DQVNFX0tFWVwiIHRyYW5zbGF0ZS12YWx1ZS1jYW1lbC1jYXNlLWtleT1cIkhlbGxvXCI+PC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnVGhlIGludGVycG9sYXRpb24ga2V5IGlzIGNhbWVsIGNhc2VkOiBIZWxsbycpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndHJhbnNsYXRlJywgdHJhbnNsYXRlRGlyZWN0aXZlKTtcbmZ1bmN0aW9uIHRyYW5zbGF0ZURpcmVjdGl2ZSgkdHJhbnNsYXRlLCAkaW50ZXJwb2xhdGUsICRjb21waWxlLCAkcGFyc2UsICRyb290U2NvcGUpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIEBuYW1lIHRyaW1cbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIHRyaW0gcG9seWZpbGxcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHN0cmluZyBzdHJpcHBlZCBvZiB3aGl0ZXNwYWNlIGZyb20gYm90aCBlbmRzXG4gICAqL1xuICB2YXIgdHJpbSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCkucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmFtZSBsb3dlcmNhc2VcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHVybiB0aGUgbG93ZXJjYXNlIHN0cmluZyBvbmx5IGlmIHRoZSB0eXBlIGlzIHN0cmluZ1xuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgc3RyaW5nIGFsbCBpbiBsb3dlcmNhc2VcbiAgICovXG4gIHZhciBsb3dlcmNhc2UgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGFuZ3VsYXIuaXNTdHJpbmcoc3RyaW5nKSA/IHN0cmluZy50b0xvd2VyQ2FzZSgpIDogc3RyaW5nO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBRScsXG4gICAgc2NvcGU6IHRydWUsXG4gICAgcHJpb3JpdHk6ICR0cmFuc2xhdGUuZGlyZWN0aXZlUHJpb3JpdHkoKSxcbiAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW1lbnQsIHRBdHRyKSB7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZXNFeGlzdCA9ICh0QXR0ci50cmFuc2xhdGVWYWx1ZXMpID9cbiAgICAgICAgdEF0dHIudHJhbnNsYXRlVmFsdWVzIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgdHJhbnNsYXRlSW50ZXJwb2xhdGlvbiA9ICh0QXR0ci50cmFuc2xhdGVJbnRlcnBvbGF0aW9uKSA/XG4gICAgICAgIHRBdHRyLnRyYW5zbGF0ZUludGVycG9sYXRpb24gOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVTYW5pdGl6ZVN0cmF0ZWd5RXhpc3QgPSAodEF0dHIudHJhbnNsYXRlU2FuaXRpemVTdHJhdGVneSkgP1xuICAgICAgICB0QXR0ci50cmFuc2xhdGVTYW5pdGl6ZVN0cmF0ZWd5IDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgdHJhbnNsYXRlVmFsdWVFeGlzdCA9IHRFbGVtZW50WzBdLm91dGVySFRNTC5tYXRjaCgvdHJhbnNsYXRlLXZhbHVlLSsvaSk7XG5cbiAgICAgIHZhciBpbnRlcnBvbGF0ZVJlZ0V4cCA9ICdeKC4qKSgnICsgJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCkgKyAnLionICsgJGludGVycG9sYXRlLmVuZFN5bWJvbCgpICsgJykoLiopJyxcbiAgICAgICAgICB3YXRjaGVyUmVnRXhwID0gJ14oLiopJyArICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpICsgJyguKiknICsgJGludGVycG9sYXRlLmVuZFN5bWJvbCgpICsgJyguKiknO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBpRWxlbWVudCwgaUF0dHIpIHtcblxuICAgICAgICBzY29wZS5pbnRlcnBvbGF0ZVBhcmFtcyA9IHt9O1xuICAgICAgICBzY29wZS5wcmVUZXh0ID0gJyc7XG4gICAgICAgIHNjb3BlLnBvc3RUZXh0ID0gJyc7XG4gICAgICAgIHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZSA9IGdldFRyYW5zbGF0ZU5hbWVzcGFjZShzY29wZSk7XG4gICAgICAgIHZhciB0cmFuc2xhdGlvbklkcyA9IHt9O1xuXG4gICAgICAgIHZhciBpbml0SW50ZXJwb2xhdGlvblBhcmFtcyA9IGZ1bmN0aW9uIChpbnRlcnBvbGF0ZVBhcmFtcywgaUF0dHIsIHRBdHRyKSB7XG4gICAgICAgICAgLy8gaW5pdGlhbCBzZXR1cFxuICAgICAgICAgIGlmIChpQXR0ci50cmFuc2xhdGVWYWx1ZXMpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKGludGVycG9sYXRlUGFyYW1zLCAkcGFyc2UoaUF0dHIudHJhbnNsYXRlVmFsdWVzKShzY29wZS4kcGFyZW50KSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGluaXRpYWxseSBmZXRjaCBhbGwgYXR0cmlidXRlcyBpZiBleGlzdGluZyBhbmQgZmlsbCB0aGUgcGFyYW1zXG4gICAgICAgICAgaWYgKHRyYW5zbGF0ZVZhbHVlRXhpc3QpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGF0dHIgaW4gdEF0dHIpIHtcbiAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpQXR0ciwgYXR0cikgJiYgYXR0ci5zdWJzdHIoMCwgMTQpID09PSAndHJhbnNsYXRlVmFsdWUnICYmIGF0dHIgIT09ICd0cmFuc2xhdGVWYWx1ZXMnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBsb3dlcmNhc2UoYXR0ci5zdWJzdHIoMTQsIDEpKSArIGF0dHIuc3Vic3RyKDE1KTtcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZVBhcmFtc1thdHRyaWJ1dGVOYW1lXSA9IHRBdHRyW2F0dHJdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEVuc3VyZXMgYW55IGNoYW5nZSBvZiB0aGUgYXR0cmlidXRlIFwidHJhbnNsYXRlXCIgY29udGFpbmluZyB0aGUgaWQgd2lsbFxuICAgICAgICAvLyBiZSByZS1zdG9yZWQgdG8gdGhlIHNjb3BlJ3MgXCJ0cmFuc2xhdGlvbklkXCIuXG4gICAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgaGFzIG5vIGNvbnRlbnQsIHRoZSBlbGVtZW50J3MgdGV4dCB2YWx1ZSAod2hpdGUgc3BhY2VzIHRyaW1tZWQgb2ZmKSB3aWxsIGJlIHVzZWQuXG4gICAgICAgIHZhciBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcblxuICAgICAgICAgIC8vIFJlbW92ZSBhbnkgb2xkIHdhdGNoZXJcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKG9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24uX3Vud2F0Y2hPbGQpKSB7XG4gICAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uLl91bndhdGNoT2xkKCk7XG4gICAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uLl91bndhdGNoT2xkID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhbmd1bGFyLmVxdWFscyh0cmFuc2xhdGlvbklkICwgJycpIHx8ICFhbmd1bGFyLmlzRGVmaW5lZCh0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgICAgdmFyIGlFbGVtZW50VGV4dCA9IHRyaW0uYXBwbHkoaUVsZW1lbnQudGV4dCgpKTtcblxuICAgICAgICAgICAgLy8gUmVzb2x2ZSB0cmFuc2xhdGlvbiBpZCBieSBpbm5lciBodG1sIGlmIHJlcXVpcmVkXG4gICAgICAgICAgICB2YXIgaW50ZXJwb2xhdGVNYXRjaGVzID0gaUVsZW1lbnRUZXh0Lm1hdGNoKGludGVycG9sYXRlUmVnRXhwKTtcbiAgICAgICAgICAgIC8vIEludGVycG9sYXRlIHRyYW5zbGF0aW9uIGlkIGlmIHJlcXVpcmVkXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KGludGVycG9sYXRlTWF0Y2hlcykpIHtcbiAgICAgICAgICAgICAgc2NvcGUucHJlVGV4dCA9IGludGVycG9sYXRlTWF0Y2hlc1sxXTtcbiAgICAgICAgICAgICAgc2NvcGUucG9zdFRleHQgPSBpbnRlcnBvbGF0ZU1hdGNoZXNbM107XG4gICAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzLnRyYW5zbGF0ZSA9ICRpbnRlcnBvbGF0ZShpbnRlcnBvbGF0ZU1hdGNoZXNbMl0pKHNjb3BlLiRwYXJlbnQpO1xuICAgICAgICAgICAgICB2YXIgd2F0Y2hlck1hdGNoZXMgPSBpRWxlbWVudFRleHQubWF0Y2god2F0Y2hlclJlZ0V4cCk7XG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkod2F0Y2hlck1hdGNoZXMpICYmIHdhdGNoZXJNYXRjaGVzWzJdICYmIHdhdGNoZXJNYXRjaGVzWzJdLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24uX3Vud2F0Y2hPbGQgPSBzY29wZS4kd2F0Y2god2F0Y2hlck1hdGNoZXNbMl0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gZG8gbm90IGFzc2lnbmUgdGhlIHRyYW5zbGF0aW9uIGlkIGlmIGl0IGlzIGVtcHR5LlxuICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSAhaUVsZW1lbnRUZXh0ID8gdW5kZWZpbmVkIDogaUVsZW1lbnRUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgb2JzZXJ2ZUF0dHJpYnV0ZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0ZUF0dHIpIHtcbiAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZSh0cmFuc2xhdGVBdHRyLCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25JZHNbdHJhbnNsYXRlQXR0cl0gPSB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gaW5pdGlhbCBzZXR1cCB3aXRoIHZhbHVlc1xuICAgICAgICBpbml0SW50ZXJwb2xhdGlvblBhcmFtcyhzY29wZS5pbnRlcnBvbGF0ZVBhcmFtcywgaUF0dHIsIHRBdHRyKTtcblxuICAgICAgICB2YXIgZmlyc3RBdHRyaWJ1dGVDaGFuZ2VkRXZlbnQgPSB0cnVlO1xuICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlJywgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHRyYW5zbGF0aW9uSWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyBjYXNlIG9mIGVsZW1lbnQgXCI8dHJhbnNsYXRlPnh5ejwvdHJhbnNsYXRlPlwiXG4gICAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uKCcnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY2FzZSBvZiByZWd1bGFyIGF0dHJpYnV0ZVxuICAgICAgICAgICAgaWYgKHRyYW5zbGF0aW9uSWQgIT09ICcnIHx8ICFmaXJzdEF0dHJpYnV0ZUNoYW5nZWRFdmVudCkge1xuICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZmlyc3RBdHRyaWJ1dGVDaGFuZ2VkRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgdHJhbnNsYXRlQXR0ciBpbiBpQXR0cikge1xuICAgICAgICAgIGlmIChpQXR0ci5oYXNPd25Qcm9wZXJ0eSh0cmFuc2xhdGVBdHRyKSAmJiB0cmFuc2xhdGVBdHRyLnN1YnN0cigwLCAxMykgPT09ICd0cmFuc2xhdGVBdHRyJyAmJiB0cmFuc2xhdGVBdHRyLmxlbmd0aCA+IDEzKSB7XG4gICAgICAgICAgICBvYnNlcnZlQXR0cmlidXRlVHJhbnNsYXRpb24odHJhbnNsYXRlQXR0cik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZURlZmF1bHQnLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBzY29wZS5kZWZhdWx0VGV4dCA9IHZhbHVlO1xuICAgICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodHJhbnNsYXRlU2FuaXRpemVTdHJhdGVneUV4aXN0KSB7XG4gICAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZVNhbml0aXplU3RyYXRlZ3knLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHNjb3BlLnNhbml0aXplU3RyYXRlZ3kgPSAkcGFyc2UodmFsdWUpKHNjb3BlLiRwYXJlbnQpO1xuICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnNsYXRlVmFsdWVzRXhpc3QpIHtcbiAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlVmFsdWVzJywgZnVuY3Rpb24gKGludGVycG9sYXRlUGFyYW1zKSB7XG4gICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGVQYXJhbXMpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJHBhcmVudC4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNjb3BlLmludGVycG9sYXRlUGFyYW1zLCAkcGFyc2UoaW50ZXJwb2xhdGVQYXJhbXMpKHNjb3BlLiRwYXJlbnQpKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnNsYXRlVmFsdWVFeGlzdCkge1xuICAgICAgICAgIHZhciBvYnNlcnZlVmFsdWVBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoYXR0ck5hbWUpIHtcbiAgICAgICAgICAgIGlBdHRyLiRvYnNlcnZlKGF0dHJOYW1lLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBsb3dlcmNhc2UoYXR0ck5hbWUuc3Vic3RyKDE0LCAxKSkgKyBhdHRyTmFtZS5zdWJzdHIoMTUpO1xuICAgICAgICAgICAgICBzY29wZS5pbnRlcnBvbGF0ZVBhcmFtc1thdHRyaWJ1dGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBmb3IgKHZhciBhdHRyIGluIGlBdHRyKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGlBdHRyLCBhdHRyKSAmJiBhdHRyLnN1YnN0cigwLCAxNCkgPT09ICd0cmFuc2xhdGVWYWx1ZScgJiYgYXR0ciAhPT0gJ3RyYW5zbGF0ZVZhbHVlcycpIHtcbiAgICAgICAgICAgICAgb2JzZXJ2ZVZhbHVlQXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1hc3RlciB1cGRhdGUgZnVuY3Rpb25cbiAgICAgICAgdmFyIHVwZGF0ZVRyYW5zbGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdHJhbnNsYXRpb25JZHMpIHtcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGlvbklkcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHRyYW5zbGF0aW9uSWRzW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbihrZXksIHRyYW5zbGF0aW9uSWRzW2tleV0sIHNjb3BlLCBzY29wZS5pbnRlcnBvbGF0ZVBhcmFtcywgc2NvcGUuZGVmYXVsdFRleHQsIHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFB1dCB0cmFuc2xhdGlvbiBwcm9jZXNzaW5nIGZ1bmN0aW9uIG91dHNpZGUgbG9vcFxuICAgICAgICB2YXIgdXBkYXRlVHJhbnNsYXRpb24gPSBmdW5jdGlvbih0cmFuc2xhdGVBdHRyLCB0cmFuc2xhdGlvbklkLCBzY29wZSwgaW50ZXJwb2xhdGVQYXJhbXMsIGRlZmF1bHRUcmFuc2xhdGlvblRleHQsIHRyYW5zbGF0ZU5hbWVzcGFjZSkge1xuICAgICAgICAgIGlmICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICAvLyBpZiB0cmFuc2xhdGlvbiBpZCBzdGFydHMgd2l0aCAnLicgYW5kIHRyYW5zbGF0ZU5hbWVzcGFjZSBnaXZlbiwgcHJlcGVuZCBuYW1lc3BhY2VcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGVOYW1lc3BhY2UgJiYgdHJhbnNsYXRpb25JZC5jaGFyQXQoMCkgPT09ICcuJykge1xuICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkID0gdHJhbnNsYXRlTmFtZXNwYWNlICsgdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgdHJhbnNsYXRlSW50ZXJwb2xhdGlvbiwgZGVmYXVsdFRyYW5zbGF0aW9uVGV4dCwgc2NvcGUudHJhbnNsYXRlTGFuZ3VhZ2UsIHNjb3BlLnNhbml0aXplU3RyYXRlZ3kpXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgICAgIGFwcGx5VHJhbnNsYXRpb24odHJhbnNsYXRpb24sIHNjb3BlLCB0cnVlLCB0cmFuc2xhdGVBdHRyKTtcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIHNjb3BlLCBmYWxzZSwgdHJhbnNsYXRlQXR0cik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBhcyBhbiBlbXB0eSBzdHJpbmcgY2Fubm90IGJlIHRyYW5zbGF0ZWQsIHdlIGNhbiBzb2x2ZSB0aGlzIHVzaW5nIHN1Y2Nlc3NmdWw9ZmFsc2VcbiAgICAgICAgICAgIGFwcGx5VHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCwgc2NvcGUsIGZhbHNlLCB0cmFuc2xhdGVBdHRyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGFwcGx5VHJhbnNsYXRpb24gPSBmdW5jdGlvbiAodmFsdWUsIHNjb3BlLCBzdWNjZXNzZnVsLCB0cmFuc2xhdGVBdHRyKSB7XG4gICAgICAgICAgaWYgKCFzdWNjZXNzZnVsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNjb3BlLmRlZmF1bHRUZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHNjb3BlLmRlZmF1bHRUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHJhbnNsYXRlQXR0ciA9PT0gJ3RyYW5zbGF0ZScpIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQgdHJhbnNsYXRlIGludG8gaW5uZXJIVE1MXG4gICAgICAgICAgICBpZiAoc3VjY2Vzc2Z1bCB8fCAoIXN1Y2Nlc3NmdWwgJiYgISR0cmFuc2xhdGUuaXNLZWVwQ29udGVudCgpICYmIHR5cGVvZiBpQXR0ci50cmFuc2xhdGVLZWVwQ29udGVudCA9PT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICAgICAgICAgIGlFbGVtZW50LmVtcHR5KCkuYXBwZW5kKHNjb3BlLnByZVRleHQgKyB2YWx1ZSArIHNjb3BlLnBvc3RUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBnbG9iYWxseUVuYWJsZWQgPSAkdHJhbnNsYXRlLmlzUG9zdENvbXBpbGluZ0VuYWJsZWQoKTtcbiAgICAgICAgICAgIHZhciBsb2NhbGx5RGVmaW5lZCA9IHR5cGVvZiB0QXR0ci50cmFuc2xhdGVDb21waWxlICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgICAgIHZhciBsb2NhbGx5RW5hYmxlZCA9IGxvY2FsbHlEZWZpbmVkICYmIHRBdHRyLnRyYW5zbGF0ZUNvbXBpbGUgIT09ICdmYWxzZSc7XG4gICAgICAgICAgICBpZiAoKGdsb2JhbGx5RW5hYmxlZCAmJiAhbG9jYWxseURlZmluZWQpIHx8IGxvY2FsbHlFbmFibGVkKSB7XG4gICAgICAgICAgICAgICRjb21waWxlKGlFbGVtZW50LmNvbnRlbnRzKCkpKHNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdHJhbnNsYXRlIGF0dHJpYnV0ZVxuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBpQXR0ci4kYXR0clt0cmFuc2xhdGVBdHRyXTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lLnN1YnN0cigwLCA1KSA9PT0gJ2RhdGEtJykge1xuICAgICAgICAgICAgICAvLyBlbnN1cmUgaHRtbDUgZGF0YSBwcmVmaXggaXMgc3RyaXBwZWRcbiAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWUuc3Vic3RyKDUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWUuc3Vic3RyKDE1KTtcbiAgICAgICAgICAgIGlFbGVtZW50LmF0dHIoYXR0cmlidXRlTmFtZSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodHJhbnNsYXRlVmFsdWVzRXhpc3QgfHwgdHJhbnNsYXRlVmFsdWVFeGlzdCB8fCBpQXR0ci50cmFuc2xhdGVEZWZhdWx0KSB7XG4gICAgICAgICAgc2NvcGUuJHdhdGNoKCdpbnRlcnBvbGF0ZVBhcmFtcycsIHVwZGF0ZVRyYW5zbGF0aW9ucywgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXBsYWNlZCB3YXRjaGVyIG9uIHRyYW5zbGF0ZUxhbmd1YWdlIHdpdGggZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgc2NvcGUuJG9uKCd0cmFuc2xhdGVMYW5ndWFnZUNoYW5nZWQnLCB1cGRhdGVUcmFuc2xhdGlvbnMpO1xuXG4gICAgICAgIC8vIEVuc3VyZXMgdGhlIHRleHQgd2lsbCBiZSByZWZyZXNoZWQgYWZ0ZXIgdGhlIGN1cnJlbnQgbGFuZ3VhZ2Ugd2FzIGNoYW5nZWRcbiAgICAgICAgLy8gdy8gJHRyYW5zbGF0ZS51c2UoLi4uKVxuICAgICAgICB2YXIgdW5iaW5kID0gJHJvb3RTY29wZS4kb24oJyR0cmFuc2xhdGVDaGFuZ2VTdWNjZXNzJywgdXBkYXRlVHJhbnNsYXRpb25zKTtcblxuICAgICAgICAvLyBlbnN1cmUgdHJhbnNsYXRpb24gd2lsbCBiZSBsb29rZWQgdXAgYXQgbGVhc3Qgb25lXG4gICAgICAgIGlmIChpRWxlbWVudC50ZXh0KCkubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKGlBdHRyLnRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbihpQXR0ci50cmFuc2xhdGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uKCcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaUF0dHIudHJhbnNsYXRlKSB7XG4gICAgICAgICAgLy8gZW5zdXJlIGF0dHJpYnV0ZSB3aWxsIGJlIG5vdCBza2lwcGVkXG4gICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbihpQXR0ci50cmFuc2xhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgdW5iaW5kKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHNjb3BlJ3MgbmFtZXNwYWNlLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBzY29wZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgaWYgKHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZSkge1xuICAgIHJldHVybiBzY29wZS50cmFuc2xhdGVOYW1lc3BhY2U7XG4gIH1cbiAgaWYgKHNjb3BlLiRwYXJlbnQpIHtcbiAgICByZXR1cm4gZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlLiRwYXJlbnQpO1xuICB9XG59XG5cbnRyYW5zbGF0ZURpcmVjdGl2ZS5kaXNwbGF5TmFtZSA9ICd0cmFuc2xhdGVEaXJlY3RpdmUnO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuZGlyZWN0aXZlOnRyYW5zbGF0ZS1hdHRyXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVHJhbnNsYXRlcyBhdHRyaWJ1dGVzIGxpa2UgdHJhbnNsYXRlLWF0dHItQVRUUiwgYnV0IHdpdGggYW4gb2JqZWN0IGxpa2UgbmctY2xhc3MuXG4gKiBJbnRlcm5hbGx5IGl0IHVzZXMgYHRyYW5zbGF0ZWAgc2VydmljZSB0byB0cmFuc2xhdGUgdHJhbnNsYXRpb24gaWQuIEl0IHBvc3NpYmxlIHRvXG4gKiBwYXNzIGFuIG9wdGlvbmFsIGB0cmFuc2xhdGUtdmFsdWVzYCBvYmplY3QgbGl0ZXJhbCBhcyBzdHJpbmcgaW50byB0cmFuc2xhdGlvbiBpZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS1hdHRyIE9iamVjdCBsaXRlcmFsIG1hcHBpbmcgYXR0cmlidXRlcyB0byB0cmFuc2xhdGlvbiBpZHMuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS12YWx1ZXMgVmFsdWVzIHRvIHBhc3MgaW50byB0aGUgdHJhbnNsYXRpb24gaWRzLiBDYW4gYmUgcGFzc2VkIGFzIG9iamVjdCBsaXRlcmFsIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLXNhbml0aXplLXN0cmF0ZWd5IGRlZmluZXMgbG9jYWxseSBzYW5pdGl6ZSBzdHJhdGVneVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ1ZpZXdcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiVHJhbnNsYXRlQ3RybFwiPlxuXG4gICAgICAgIDxpbnB1dCB0cmFuc2xhdGUtYXR0cj1cInsgcGxhY2Vob2xkZXI6IHRyYW5zbGF0aW9uSWQsIHRpdGxlOiAnV0lUSF9WQUxVRVMnIH1cIiB0cmFuc2xhdGUtdmFsdWVzPVwie3ZhbHVlOiA1fVwiIC8+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJyx7XG4gICAgICAgICAgJ1RSQU5TTEFUSU9OX0lEJzogJ0hlbGxvIHRoZXJlIScsXG4gICAgICAgICAgJ1dJVEhfVkFMVUVTJzogJ1RoZSBmb2xsb3dpbmcgdmFsdWUgaXMgZHluYW1pYzoge3t2YWx1ZX19JyxcbiAgICAgICAgfSkucHJlZmVycmVkTGFuZ3VhZ2UoJ2VuJyk7XG5cbiAgICAgIH0pO1xuXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JykuY29udHJvbGxlcignVHJhbnNsYXRlQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLnRyYW5zbGF0aW9uSWQgPSAnVFJBTlNMQVRJT05fSUQnO1xuXG4gICAgICAgICRzY29wZS52YWx1ZXMgPSB7XG4gICAgICAgICAgdmFsdWU6IDc4XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjZW5hcmlvLmpzXCI+XG4gICAgICBpdCgnc2hvdWxkIHRyYW5zbGF0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5qZWN0KGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkY29tcGlsZSkge1xuICAgICAgICAgICRyb290U2NvcGUudHJhbnNsYXRpb25JZCA9ICdUUkFOU0xBVElPTl9JRCc7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxpbnB1dCB0cmFuc2xhdGUtYXR0cj1cInsgcGxhY2Vob2xkZXI6IHRyYW5zbGF0aW9uSWQsIHRpdGxlOiAnV0lUSF9WQUxVRVMnIH1cIiB0cmFuc2xhdGUtdmFsdWVzPVwieyB2YWx1ZTogNSB9XCIgLz4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC5hdHRyKCdwbGFjZWhvbGRlcikpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LmF0dHIoJ3RpdGxlKSkudG9CZSgnVGhlIGZvbGxvd2luZyB2YWx1ZSBpcyBkeW5hbWljOiA1Jyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG4uZGlyZWN0aXZlKCd0cmFuc2xhdGVBdHRyJywgdHJhbnNsYXRlQXR0ckRpcmVjdGl2ZSk7XG5mdW5jdGlvbiB0cmFuc2xhdGVBdHRyRGlyZWN0aXZlKCR0cmFuc2xhdGUsICRyb290U2NvcGUpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHByaW9yaXR5OiAkdHJhbnNsYXRlLmRpcmVjdGl2ZVByaW9yaXR5KCksXG4gICAgbGluazogZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVBdHRyLFxuICAgICAgICAgIHRyYW5zbGF0ZVZhbHVlcyxcbiAgICAgICAgICB0cmFuc2xhdGVTYW5pdGl6ZVN0cmF0ZWd5LFxuICAgICAgICAgIHByZXZpb3VzQXR0cmlidXRlcyA9IHt9O1xuXG4gICAgICAvLyBNYWluIHVwZGF0ZSB0cmFuc2xhdGlvbnMgZnVuY3Rpb25cbiAgICAgIHZhciB1cGRhdGVUcmFuc2xhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0cmFuc2xhdGVBdHRyLCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgYXR0cmlidXRlTmFtZSkge1xuICAgICAgICAgIGlmICghdHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmV2aW91c0F0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPSB0cnVlO1xuXG4gICAgICAgICAgLy8gaWYgdHJhbnNsYXRpb24gaWQgc3RhcnRzIHdpdGggJy4nIGFuZCB0cmFuc2xhdGVOYW1lc3BhY2UgZ2l2ZW4sIHByZXBlbmQgbmFtZXNwYWNlXG4gICAgICAgICAgaWYgKHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZSAmJiB0cmFuc2xhdGlvbklkLmNoYXJBdCgwKSA9PT0gJy4nKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbklkID0gc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlICsgdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkLCB0cmFuc2xhdGVWYWx1ZXMsIGF0dHIudHJhbnNsYXRlSW50ZXJwb2xhdGlvbiwgdW5kZWZpbmVkLCBzY29wZS50cmFuc2xhdGVMYW5ndWFnZSwgdHJhbnNsYXRlU2FuaXRpemVTdHJhdGVneSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgICBlbGVtZW50LmF0dHIoYXR0cmlidXRlTmFtZSwgdHJhbnNsYXRpb24pO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKGF0dHJpYnV0ZU5hbWUsIHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJlbW92aW5nIHVudXNlZCBhdHRyaWJ1dGVzIHRoYXQgd2VyZSBwcmV2aW91c2x5IHVzZWRcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHByZXZpb3VzQXR0cmlidXRlcywgZnVuY3Rpb24gKGZsYWcsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgICBpZiAoIXRyYW5zbGF0ZUF0dHJbYXR0cmlidXRlTmFtZV0pIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cihhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgIGRlbGV0ZSBwcmV2aW91c0F0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIC8vIFdhdGNoIGZvciBhdHRyaWJ1dGUgY2hhbmdlc1xuICAgICAgd2F0Y2hBdHRyaWJ1dGUoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBhdHRyLnRyYW5zbGF0ZUF0dHIsXG4gICAgICAgIGZ1bmN0aW9uIChuZXdWYWx1ZSkgeyB0cmFuc2xhdGVBdHRyID0gbmV3VmFsdWU7IH0sXG4gICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9uc1xuICAgICAgKTtcbiAgICAgIC8vIFdhdGNoIGZvciB2YWx1ZSBjaGFuZ2VzXG4gICAgICB3YXRjaEF0dHJpYnV0ZShcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGF0dHIudHJhbnNsYXRlVmFsdWVzLFxuICAgICAgICBmdW5jdGlvbiAobmV3VmFsdWUpIHsgdHJhbnNsYXRlVmFsdWVzID0gbmV3VmFsdWU7IH0sXG4gICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9uc1xuICAgICAgKTtcbiAgICAgIC8vIFdhdGNoIGZvciBzYW5pdGl6ZSBzdHJhdGVneSBjaGFuZ2VzXG4gICAgICB3YXRjaEF0dHJpYnV0ZShcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGF0dHIudHJhbnNsYXRlU2FuaXRpemVTdHJhdGVneSxcbiAgICAgICAgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7IHRyYW5zbGF0ZVNhbml0aXplU3RyYXRlZ3kgPSBuZXdWYWx1ZTsgfSxcbiAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zXG4gICAgICApO1xuXG4gICAgICBpZiAoYXR0ci50cmFuc2xhdGVWYWx1ZXMpIHtcbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHIudHJhbnNsYXRlVmFsdWVzLCB1cGRhdGVUcmFuc2xhdGlvbnMsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXBsYWNlZCB3YXRjaGVyIG9uIHRyYW5zbGF0ZUxhbmd1YWdlIHdpdGggZXZlbnQgbGlzdGVuZXJcbiAgICAgIHNjb3BlLiRvbigndHJhbnNsYXRlTGFuZ3VhZ2VDaGFuZ2VkJywgdXBkYXRlVHJhbnNsYXRpb25zKTtcblxuICAgICAgLy8gRW5zdXJlcyB0aGUgdGV4dCB3aWxsIGJlIHJlZnJlc2hlZCBhZnRlciB0aGUgY3VycmVudCBsYW5ndWFnZSB3YXMgY2hhbmdlZFxuICAgICAgLy8gdy8gJHRyYW5zbGF0ZS51c2UoLi4uKVxuICAgICAgdmFyIHVuYmluZCA9ICRyb290U2NvcGUuJG9uKCckdHJhbnNsYXRlQ2hhbmdlU3VjY2VzcycsIHVwZGF0ZVRyYW5zbGF0aW9ucyk7XG5cbiAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIHVuYmluZCk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiB3YXRjaEF0dHJpYnV0ZShzY29wZSwgYXR0cmlidXRlLCB2YWx1ZUNhbGxiYWNrLCBjaGFuZ2VDYWxsYmFjaykge1xuICAndXNlIHN0cmljdCc7XG4gIGlmICghYXR0cmlidXRlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChhdHRyaWJ1dGUuc3Vic3RyKDAsIDIpID09PSAnOjonKSB7XG4gICAgYXR0cmlidXRlID0gYXR0cmlidXRlLnN1YnN0cigyKTtcbiAgfSBlbHNlIHtcbiAgICBzY29wZS4kd2F0Y2goYXR0cmlidXRlLCBmdW5jdGlvbihuZXdWYWx1ZSkge1xuICAgICAgdmFsdWVDYWxsYmFjayhuZXdWYWx1ZSk7XG4gICAgICBjaGFuZ2VDYWxsYmFjaygpO1xuICAgIH0sIHRydWUpO1xuICB9XG4gIHZhbHVlQ2FsbGJhY2soc2NvcGUuJGV2YWwoYXR0cmlidXRlKSk7XG59XG5cbnRyYW5zbGF0ZUF0dHJEaXJlY3RpdmUuZGlzcGxheU5hbWUgPSAndHJhbnNsYXRlQXR0ckRpcmVjdGl2ZSc7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS5kaXJlY3RpdmU6dHJhbnNsYXRlQ2xvYWtcbiAqIEByZXF1aXJlcyAkdHJhbnNsYXRlXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqICRkZXNjcmlwdGlvblxuICogQWRkcyBhIGB0cmFuc2xhdGUtY2xvYWtgIGNsYXNzIG5hbWUgdG8gdGhlIGdpdmVuIGVsZW1lbnQgd2hlcmUgdGhpcyBkaXJlY3RpdmVcbiAqIGlzIGFwcGxpZWQgaW5pdGlhbGx5IGFuZCByZW1vdmVzIGl0LCBvbmNlIGEgbG9hZGVyIGhhcyBmaW5pc2hlZCBsb2FkaW5nLlxuICpcbiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSB1c2VkIHRvIHByZXZlbnQgaW5pdGlhbCBmbGlja2VyaW5nIHdoZW4gbG9hZGluZyB0cmFuc2xhdGlvblxuICogZGF0YSBhc3luY2hyb25vdXNseS5cbiAqXG4gKiBUaGUgY2xhc3MgbmFtZSBpcyBkZWZpbmVkIGluXG4gKiB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjY2xvYWtDbGFzc05hbWUgJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSgpfS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS1jbG9hayBJZiBhIHRyYW5zbGF0aW9uSWQgaXMgcHJvdmlkZWQsIGl0IHdpbGwgYmUgdXNlZCBmb3Igc2hvd2luZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgaGlkaW5nIHRoZSBjbG9hay4gQmFzaWNhbGx5IGl0IHJlbGllcyBvbiB0aGUgdHJhbnNsYXRpb25cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUuXG4gKi9cbi5kaXJlY3RpdmUoJ3RyYW5zbGF0ZUNsb2FrJywgdHJhbnNsYXRlQ2xvYWtEaXJlY3RpdmUpO1xuXG5mdW5jdGlvbiB0cmFuc2xhdGVDbG9ha0RpcmVjdGl2ZSgkdHJhbnNsYXRlLCAkcm9vdFNjb3BlKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHJldHVybiB7XG4gICAgY29tcGlsZSA6IGZ1bmN0aW9uICh0RWxlbWVudCkge1xuICAgICAgdmFyIGFwcGx5Q2xvYWsgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSgpKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlQ2xvYWsgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJHRyYW5zbGF0ZS5jbG9ha0NsYXNzTmFtZSgpKTtcbiAgICAgICAgfTtcbiAgICAgIGFwcGx5Q2xvYWsodEVsZW1lbnQpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBpRWxlbWVudCwgaUF0dHIpIHtcbiAgICAgICAgLy9DcmVhdGUgYm91bmQgZnVuY3Rpb25zIHRoYXQgaW5jb3Jwb3JhdGUgdGhlIGFjdGl2ZSBET00gZWxlbWVudC5cbiAgICAgICAgdmFyIGlSZW1vdmVDbG9hayA9IHJlbW92ZUNsb2FrLmJpbmQodGhpcywgaUVsZW1lbnQpLCBpQXBwbHlDbG9hayA9IGFwcGx5Q2xvYWsuYmluZCh0aGlzLCBpRWxlbWVudCk7XG4gICAgICAgIGlmIChpQXR0ci50cmFuc2xhdGVDbG9hayAmJiBpQXR0ci50cmFuc2xhdGVDbG9hay5sZW5ndGgpIHtcbiAgICAgICAgICAvLyBSZWdpc3RlciBhIHdhdGNoZXIgZm9yIHRoZSBkZWZpbmVkIHRyYW5zbGF0aW9uIGFsbG93aW5nIGEgZmluZSB0dW5lZCBjbG9ha1xuICAgICAgICAgIGlBdHRyLiRvYnNlcnZlKCd0cmFuc2xhdGVDbG9haycsIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uSWQpLnRoZW4oaVJlbW92ZUNsb2FrLCBpQXBwbHlDbG9hayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kb24oJyR0cmFuc2xhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHRyYW5zbGF0ZShpQXR0ci50cmFuc2xhdGVDbG9haykudGhlbihpUmVtb3ZlQ2xvYWssIGlBcHBseUNsb2FrKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkdHJhbnNsYXRlLm9uUmVhZHkoaVJlbW92ZUNsb2FrKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5cbnRyYW5zbGF0ZUNsb2FrRGlyZWN0aXZlLmRpc3BsYXlOYW1lID0gJ3RyYW5zbGF0ZUNsb2FrRGlyZWN0aXZlJztcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmRpcmVjdGl2ZTp0cmFuc2xhdGVOYW1lc3BhY2VcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUcmFuc2xhdGVzIGdpdmVuIHRyYW5zbGF0aW9uIGlkIGVpdGhlciB0aHJvdWdoIGF0dHJpYnV0ZSBvciBET00gY29udGVudC5cbiAqIEludGVybmFsbHkgaXQgdXNlcyBgdHJhbnNsYXRlYCBmaWx0ZXIgdG8gdHJhbnNsYXRlIHRyYW5zbGF0aW9uIGlkLiBJdCBpcyBwb3NzaWJsZSB0b1xuICogcGFzcyBhbiBvcHRpb25hbCBgdHJhbnNsYXRlLXZhbHVlc2Agb2JqZWN0IGxpdGVyYWwgYXMgc3RyaW5nIGludG8gdHJhbnNsYXRpb24gaWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUgbmFtZXNwYWNlIG5hbWUgd2hpY2ggY291bGQgYmUgZWl0aGVyIHN0cmluZyBvciBpbnRlcnBvbGF0ZWQgc3RyaW5nLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ1ZpZXdcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiB0cmFuc2xhdGUtbmFtZXNwYWNlPVwiQ09OVEVOVFwiPlxuXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDEgdHJhbnNsYXRlPi5IRUFERVJTLlRJVExFPC9oMT5cbiAgICAgICAgICAgIDxoMSB0cmFuc2xhdGU+LkhFQURFUlMuV0VMQ09NRTwvaDE+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgdHJhbnNsYXRlLW5hbWVzcGFjZT1cIi5IRUFERVJTXCI+XG4gICAgICAgICAgICA8aDEgdHJhbnNsYXRlPi5USVRMRTwvaDE+XG4gICAgICAgICAgICA8aDEgdHJhbnNsYXRlPi5XRUxDT01FPC9oMT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJyx7XG4gICAgICAgICAgJ1RSQU5TTEFUSU9OX0lEJzogJ0hlbGxvIHRoZXJlIScsXG4gICAgICAgICAgJ0NPTlRFTlQnOiB7XG4gICAgICAgICAgICAnSEVBREVSUyc6IHtcbiAgICAgICAgICAgICAgICBUSVRMRTogJ1RpdGxlJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgJ0NPTlRFTlQuSEVBREVSUy5XRUxDT01FJzogJ1dlbGNvbWUnXG4gICAgICAgIH0pLnByZWZlcnJlZExhbmd1YWdlKCdlbicpO1xuXG4gICAgICB9KTtcblxuICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndHJhbnNsYXRlTmFtZXNwYWNlJywgdHJhbnNsYXRlTmFtZXNwYWNlRGlyZWN0aXZlKTtcblxuZnVuY3Rpb24gdHJhbnNsYXRlTmFtZXNwYWNlRGlyZWN0aXZlKCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgc2NvcGU6IHRydWUsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJlOiBmdW5jdGlvbiAoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHtcbiAgICAgICAgICBzY29wZS50cmFuc2xhdGVOYW1lc3BhY2UgPSBfZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlKTtcblxuICAgICAgICAgIGlmIChzY29wZS50cmFuc2xhdGVOYW1lc3BhY2UgJiYgaUF0dHJzLnRyYW5zbGF0ZU5hbWVzcGFjZS5jaGFyQXQoMCkgPT09ICcuJykge1xuICAgICAgICAgICAgc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlICs9IGlBdHRycy50cmFuc2xhdGVOYW1lc3BhY2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZSA9IGlBdHRycy50cmFuc2xhdGVOYW1lc3BhY2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY29wZSdzIG5hbWVzcGFjZS5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gc2NvcGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIF9nZXRUcmFuc2xhdGVOYW1lc3BhY2Uoc2NvcGUpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBpZiAoc2NvcGUudHJhbnNsYXRlTmFtZXNwYWNlKSB7XG4gICAgcmV0dXJuIHNjb3BlLnRyYW5zbGF0ZU5hbWVzcGFjZTtcbiAgfVxuICBpZiAoc2NvcGUuJHBhcmVudCkge1xuICAgIHJldHVybiBfZ2V0VHJhbnNsYXRlTmFtZXNwYWNlKHNjb3BlLiRwYXJlbnQpO1xuICB9XG59XG5cbnRyYW5zbGF0ZU5hbWVzcGFjZURpcmVjdGl2ZS5kaXNwbGF5TmFtZSA9ICd0cmFuc2xhdGVOYW1lc3BhY2VEaXJlY3RpdmUnO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuZGlyZWN0aXZlOnRyYW5zbGF0ZUxhbmd1YWdlXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRm9yY2VzIHRoZSBsYW5ndWFnZSB0byB0aGUgZGlyZWN0aXZlcyBpbiB0aGUgdW5kZXJseWluZyBzY29wZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZSBsYW5ndWFnZSB0aGF0IHdpbGwgYmUgbmVnb3RpYXRlZC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibmdWaWV3XCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXY+XG5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxoMSB0cmFuc2xhdGU+SEVMTE88L2gxPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IHRyYW5zbGF0ZS1sYW5ndWFnZT1cImRlXCI+XG4gICAgICAgICAgICA8aDEgdHJhbnNsYXRlPkhFTExPPC9oMT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlclxuICAgICAgICAgIC50cmFuc2xhdGlvbnMoJ2VuJyx7XG4gICAgICAgICAgICAnSEVMTE8nOiAnSGVsbG8gd29ybGQhJ1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRyYW5zbGF0aW9ucygnZGUnLHtcbiAgICAgICAgICAgICdIRUxMTyc6ICdIYWxsbyBXZWx0ISdcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcblxuICAgICAgfSk7XG5cbiAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RyYW5zbGF0ZUxhbmd1YWdlJywgdHJhbnNsYXRlTGFuZ3VhZ2VEaXJlY3RpdmUpO1xuXG5mdW5jdGlvbiB0cmFuc2xhdGVMYW5ndWFnZURpcmVjdGl2ZSgpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB0cnVlLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHtcblxuICAgICAgICBpQXR0cnMuJG9ic2VydmUoJ3RyYW5zbGF0ZUxhbmd1YWdlJywgZnVuY3Rpb24gKG5ld1RyYW5zbGF0ZUxhbmd1YWdlKSB7XG4gICAgICAgICAgc2NvcGUudHJhbnNsYXRlTGFuZ3VhZ2UgPSBuZXdUcmFuc2xhdGVMYW5ndWFnZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKCd0cmFuc2xhdGVMYW5ndWFnZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgndHJhbnNsYXRlTGFuZ3VhZ2VDaGFuZ2VkJyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5cbnRyYW5zbGF0ZUxhbmd1YWdlRGlyZWN0aXZlLmRpc3BsYXlOYW1lID0gJ3RyYW5zbGF0ZUxhbmd1YWdlRGlyZWN0aXZlJztcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmZpbHRlcjp0cmFuc2xhdGVcbiAqIEByZXF1aXJlcyAkcGFyc2VcbiAqIEByZXF1aXJlcyBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAqIEBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlcyBgJHRyYW5zbGF0ZWAgc2VydmljZSB0byB0cmFuc2xhdGUgY29udGVudHMuIEFjY2VwdHMgaW50ZXJwb2xhdGUgcGFyYW1ldGVyc1xuICogdG8gcGFzcyBkeW5hbWl6ZWQgdmFsdWVzIHRob3VnaCB0cmFuc2xhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdHJhbnNsYXRpb25JZCBBIHRyYW5zbGF0aW9uIGlkIHRvIGJlIHRyYW5zbGF0ZWQuXG4gKiBAcGFyYW0geyo9fSBpbnRlcnBvbGF0ZVBhcmFtcyBPcHRpb25hbCBvYmplY3QgbGl0ZXJhbCAoYXMgaGFzaCBvciBzdHJpbmcpIHRvIHBhc3MgdmFsdWVzIGludG8gdHJhbnNsYXRpb24uXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVHJhbnNsYXRlZCB0ZXh0LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ1ZpZXdcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiVHJhbnNsYXRlQ3RybFwiPlxuXG4gICAgICAgIDxwcmU+e3sgJ1RSQU5TTEFUSU9OX0lEJyB8IHRyYW5zbGF0ZSB9fTwvcHJlPlxuICAgICAgICA8cHJlPnt7IHRyYW5zbGF0aW9uSWQgfCB0cmFuc2xhdGUgfX08L3ByZT5cbiAgICAgICAgPHByZT57eyAnV0lUSF9WQUxVRVMnIHwgdHJhbnNsYXRlOid7dmFsdWU6IDV9JyB9fTwvcHJlPlxuICAgICAgICA8cHJlPnt7ICdXSVRIX1ZBTFVFUycgfCB0cmFuc2xhdGU6dmFsdWVzIH19PC9wcmU+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJywge1xuICAgICAgICAgICdUUkFOU0xBVElPTl9JRCc6ICdIZWxsbyB0aGVyZSEnLFxuICAgICAgICAgICdXSVRIX1ZBTFVFUyc6ICdUaGUgZm9sbG93aW5nIHZhbHVlIGlzIGR5bmFtaWM6IHt7dmFsdWV9fSdcbiAgICAgICAgfSk7XG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcblxuICAgICAgfSk7XG5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1ZpZXcnKS5jb250cm9sbGVyKCdUcmFuc2xhdGVDdHJsJywgZnVuY3Rpb24gKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUudHJhbnNsYXRpb25JZCA9ICdUUkFOU0xBVElPTl9JRCc7XG5cbiAgICAgICAgJHNjb3BlLnZhbHVlcyA9IHtcbiAgICAgICAgICB2YWx1ZTogNzhcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuLmZpbHRlcigndHJhbnNsYXRlJywgdHJhbnNsYXRlRmlsdGVyRmFjdG9yeSk7XG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZUZpbHRlckZhY3RvcnkoJHBhcnNlLCAkdHJhbnNsYXRlKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciB0cmFuc2xhdGVGaWx0ZXIgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb24sIGZvcmNlTGFuZ3VhZ2UpIHtcbiAgICBpZiAoIWFuZ3VsYXIuaXNPYmplY3QoaW50ZXJwb2xhdGVQYXJhbXMpKSB7XG4gICAgICB2YXIgY3R4ID0gdGhpcyB8fCB7XG4gICAgICAgICdfX1NDT1BFX0lTX05PVF9BVkFJTEFCTEUnOiAnTW9yZSBpbmZvIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvY29tbWl0Lzg4NjNiOWQwNGM3MjJiMjc4ZmE5M2M1ZDY2YWQxZTU3OGFkNmViMWYnXG4gICAgICAgIH07XG4gICAgICBpbnRlcnBvbGF0ZVBhcmFtcyA9ICRwYXJzZShpbnRlcnBvbGF0ZVBhcmFtcykoY3R4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gJHRyYW5zbGF0ZS5pbnN0YW50KHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uLCBmb3JjZUxhbmd1YWdlKTtcbiAgfTtcblxuICBpZiAoJHRyYW5zbGF0ZS5zdGF0ZWZ1bEZpbHRlcigpKSB7XG4gICAgdHJhbnNsYXRlRmlsdGVyLiRzdGF0ZWZ1bCA9IHRydWU7XG4gIH1cblxuICByZXR1cm4gdHJhbnNsYXRlRmlsdGVyO1xufVxuXG50cmFuc2xhdGVGaWx0ZXJGYWN0b3J5LmRpc3BsYXlOYW1lID0gJ3RyYW5zbGF0ZUZpbHRlckZhY3RvcnknO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRpb25DYWNoZVxuICogQHJlcXVpcmVzICRjYWNoZUZhY3RvcnlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBmaXJzdCB0aW1lIGEgdHJhbnNsYXRpb24gdGFibGUgaXMgdXNlZCwgaXQgaXMgbG9hZGVkIGluIHRoZSB0cmFuc2xhdGlvbiBjYWNoZSBmb3IgcXVpY2sgcmV0cmlldmFsLiBZb3VcbiAqIGNhbiBsb2FkIHRyYW5zbGF0aW9uIHRhYmxlcyBkaXJlY3RseSBpbnRvIHRoZSBjYWNoZSBieSBjb25zdW1pbmcgdGhlXG4gKiBgJHRyYW5zbGF0aW9uQ2FjaGVgIHNlcnZpY2UgZGlyZWN0bHkuXG4gKlxuICogQHJldHVybiB7b2JqZWN0fSAkY2FjaGVGYWN0b3J5IG9iamVjdC5cbiAqL1xuICAuZmFjdG9yeSgnJHRyYW5zbGF0aW9uQ2FjaGUnLCAkdHJhbnNsYXRpb25DYWNoZSk7XG5cbmZ1bmN0aW9uICR0cmFuc2xhdGlvbkNhY2hlKCRjYWNoZUZhY3RvcnkpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgcmV0dXJuICRjYWNoZUZhY3RvcnkoJ3RyYW5zbGF0aW9ucycpO1xufVxuXG4kdHJhbnNsYXRpb25DYWNoZS5kaXNwbGF5TmFtZSA9ICckdHJhbnNsYXRpb25DYWNoZSc7XG5yZXR1cm4gJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnO1xuXG59KSk7XG5cbn0se31dLDg2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuICogQGxpY2Vuc2UgQW5ndWxhckpTIHYxLjcuN1xuICogKGMpIDIwMTAtMjAxOCBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcbiAqIExpY2Vuc2U6IE1JVFxuICovXG4oZnVuY3Rpb24od2luZG93KSB7J3VzZSBzdHJpY3QnO1xuXG4vKiBleHBvcnRlZFxuICBtaW5FcnJDb25maWcsXG4gIGVycm9ySGFuZGxpbmdDb25maWcsXG4gIGlzVmFsaWRPYmplY3RNYXhEZXB0aFxuKi9cblxudmFyIG1pbkVyckNvbmZpZyA9IHtcbiAgb2JqZWN0TWF4RGVwdGg6IDUsXG4gIHVybEVycm9yUGFyYW1zRW5hYmxlZDogdHJ1ZVxufTtcblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuZXJyb3JIYW5kbGluZ0NvbmZpZ1xuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbmZpZ3VyZSBzZXZlcmFsIGFzcGVjdHMgb2YgZXJyb3IgaGFuZGxpbmcgaW4gQW5ndWxhckpTIGlmIHVzZWQgYXMgYSBzZXR0ZXIgb3IgcmV0dXJuIHRoZVxuICogY3VycmVudCBjb25maWd1cmF0aW9uIGlmIHVzZWQgYXMgYSBnZXR0ZXIuIFRoZSBmb2xsb3dpbmcgb3B0aW9ucyBhcmUgc3VwcG9ydGVkOlxuICpcbiAqIC0gKipvYmplY3RNYXhEZXB0aCoqOiBUaGUgbWF4aW11bSBkZXB0aCB0byB3aGljaCBvYmplY3RzIGFyZSB0cmF2ZXJzZWQgd2hlbiBzdHJpbmdpZmllZCBmb3IgZXJyb3IgbWVzc2FnZXMuXG4gKlxuICogT21pdHRlZCBvciB1bmRlZmluZWQgb3B0aW9ucyB3aWxsIGxlYXZlIHRoZSBjb3JyZXNwb25kaW5nIGNvbmZpZ3VyYXRpb24gdmFsdWVzIHVuY2hhbmdlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyAtIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdC4gTWF5IG9ubHkgY29udGFpbiB0aGUgb3B0aW9ucyB0aGF0IG5lZWQgdG8gYmVcbiAqICAgICB1cGRhdGVkLiBTdXBwb3J0ZWQga2V5czpcbiAqXG4gKiAqIGBvYmplY3RNYXhEZXB0aGAgICoqe051bWJlcn0qKiAtIFRoZSBtYXggZGVwdGggZm9yIHN0cmluZ2lmeWluZyBvYmplY3RzLiBTZXR0aW5nIHRvIGFcbiAqICAgbm9uLXBvc2l0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCByZW1vdmVzIHRoZSBtYXggZGVwdGggbGltaXQuXG4gKiAgIERlZmF1bHQ6IDVcbiAqXG4gKiAqIGB1cmxFcnJvclBhcmFtc0VuYWJsZWRgICAqKntCb29sZWFufSoqIC0gU3BlY2lmaWVzIHdldGhlciB0aGUgZ2VuZXJhdGVkIGVycm9yIHVybCB3aWxsXG4gKiAgIGNvbnRhaW4gdGhlIHBhcmFtZXRlcnMgb2YgdGhlIHRocm93biBlcnJvci4gRGlzYWJsaW5nIHRoZSBwYXJhbWV0ZXJzIGNhbiBiZSB1c2VmdWwgaWYgdGhlXG4gKiAgIGdlbmVyYXRlZCBlcnJvciB1cmwgaXMgdmVyeSBsb25nLlxuICpcbiAqICAgRGVmYXVsdDogdHJ1ZS4gV2hlbiB1c2VkIHdpdGhvdXQgYXJndW1lbnQsIGl0IHJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGVycm9ySGFuZGxpbmdDb25maWcoY29uZmlnKSB7XG4gIGlmIChpc09iamVjdChjb25maWcpKSB7XG4gICAgaWYgKGlzRGVmaW5lZChjb25maWcub2JqZWN0TWF4RGVwdGgpKSB7XG4gICAgICBtaW5FcnJDb25maWcub2JqZWN0TWF4RGVwdGggPSBpc1ZhbGlkT2JqZWN0TWF4RGVwdGgoY29uZmlnLm9iamVjdE1heERlcHRoKSA/IGNvbmZpZy5vYmplY3RNYXhEZXB0aCA6IE5hTjtcbiAgICB9XG4gICAgaWYgKGlzRGVmaW5lZChjb25maWcudXJsRXJyb3JQYXJhbXNFbmFibGVkKSAmJiBpc0Jvb2xlYW4oY29uZmlnLnVybEVycm9yUGFyYW1zRW5hYmxlZCkpIHtcbiAgICAgIG1pbkVyckNvbmZpZy51cmxFcnJvclBhcmFtc0VuYWJsZWQgPSBjb25maWcudXJsRXJyb3JQYXJhbXNFbmFibGVkO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbWluRXJyQ29uZmlnO1xuICB9XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBtYXhEZXB0aFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWYWxpZE9iamVjdE1heERlcHRoKG1heERlcHRoKSB7XG4gIHJldHVybiBpc051bWJlcihtYXhEZXB0aCkgJiYgbWF4RGVwdGggPiAwO1xufVxuXG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhpcyBvYmplY3QgcHJvdmlkZXMgYSB1dGlsaXR5IGZvciBwcm9kdWNpbmcgcmljaCBFcnJvciBtZXNzYWdlcyB3aXRoaW5cbiAqIEFuZ3VsYXJKUy4gSXQgY2FuIGJlIGNhbGxlZCBhcyBmb2xsb3dzOlxuICpcbiAqIHZhciBleGFtcGxlTWluRXJyID0gbWluRXJyKCdleGFtcGxlJyk7XG4gKiB0aHJvdyBleGFtcGxlTWluRXJyKCdvbmUnLCAnVGhpcyB7MH0gaXMgezF9JywgZm9vLCBiYXIpO1xuICpcbiAqIFRoZSBhYm92ZSBjcmVhdGVzIGFuIGluc3RhbmNlIG9mIG1pbkVyciBpbiB0aGUgZXhhbXBsZSBuYW1lc3BhY2UuIFRoZVxuICogcmVzdWx0aW5nIGVycm9yIHdpbGwgaGF2ZSBhIG5hbWVzcGFjZWQgZXJyb3IgY29kZSBvZiBleGFtcGxlLm9uZS4gIFRoZVxuICogcmVzdWx0aW5nIGVycm9yIHdpbGwgcmVwbGFjZSB7MH0gd2l0aCB0aGUgdmFsdWUgb2YgZm9vLCBhbmQgezF9IHdpdGggdGhlXG4gKiB2YWx1ZSBvZiBiYXIuIFRoZSBvYmplY3QgaXMgbm90IHJlc3RyaWN0ZWQgaW4gdGhlIG51bWJlciBvZiBhcmd1bWVudHMgaXQgY2FuXG4gKiB0YWtlLlxuICpcbiAqIElmIGZld2VyIGFyZ3VtZW50cyBhcmUgc3BlY2lmaWVkIHRoYW4gbmVjZXNzYXJ5IGZvciBpbnRlcnBvbGF0aW9uLCB0aGUgZXh0cmFcbiAqIGludGVycG9sYXRpb24gbWFya2VycyB3aWxsIGJlIHByZXNlcnZlZCBpbiB0aGUgZmluYWwgc3RyaW5nLlxuICpcbiAqIFNpbmNlIGRhdGEgd2lsbCBiZSBwYXJzZWQgc3RhdGljYWxseSBkdXJpbmcgYSBidWlsZCBzdGVwLCBzb21lIHJlc3RyaWN0aW9uc1xuICogYXJlIGFwcGxpZWQgd2l0aCByZXNwZWN0IHRvIGhvdyBtaW5FcnIgaW5zdGFuY2VzIGFyZSBjcmVhdGVkIGFuZCBjYWxsZWQuXG4gKiBJbnN0YW5jZXMgc2hvdWxkIGhhdmUgbmFtZXMgb2YgdGhlIGZvcm0gbmFtZXNwYWNlTWluRXJyIGZvciBhIG1pbkVyciBjcmVhdGVkXG4gKiB1c2luZyBtaW5FcnIoJ25hbWVzcGFjZScpIC4gRXJyb3IgY29kZXMsIG5hbWVzcGFjZXMgYW5kIHRlbXBsYXRlIHN0cmluZ3NcbiAqIHNob3VsZCBhbGwgYmUgc3RhdGljIHN0cmluZ3MsIG5vdCB2YXJpYWJsZXMgb3IgZ2VuZXJhbCBleHByZXNzaW9ucy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlIFRoZSBuYW1lc3BhY2UgdG8gdXNlIGZvciB0aGUgbmV3IG1pbkVyciBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IEVycm9yQ29uc3RydWN0b3IgQ3VzdG9tIGVycm9yIGNvbnN0cnVjdG9yIHRvIGJlIGluc3RhbnRpYXRlZCB3aGVuIHJldHVybmluZ1xuICogICBlcnJvciBmcm9tIHJldHVybmVkIGZ1bmN0aW9uLCBmb3IgY2FzZXMgd2hlbiBhIHBhcnRpY3VsYXIgdHlwZSBvZiBlcnJvciBpcyB1c2VmdWwuXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29kZTpzdHJpbmcsIHRlbXBsYXRlOnN0cmluZywgLi4udGVtcGxhdGVBcmdzKTogRXJyb3J9IG1pbkVyciBpbnN0YW5jZVxuICovXG5cbmZ1bmN0aW9uIG1pbkVycihtb2R1bGUsIEVycm9yQ29uc3RydWN0b3IpIHtcbiAgRXJyb3JDb25zdHJ1Y3RvciA9IEVycm9yQ29uc3RydWN0b3IgfHwgRXJyb3I7XG5cbiAgdmFyIHVybCA9ICdodHRwczovL2Vycm9ycy5hbmd1bGFyanMub3JnLzEuNy43Lyc7XG4gIHZhciByZWdleCA9IHVybC5yZXBsYWNlKCcuJywgJ1xcXFwuJykgKyAnW1xcXFxzXFxcXFNdKic7XG4gIHZhciBlcnJSZWdFeHAgPSBuZXcgUmVnRXhwKHJlZ2V4LCAnZycpO1xuXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29kZSA9IGFyZ3VtZW50c1swXSxcbiAgICAgIHRlbXBsYXRlID0gYXJndW1lbnRzWzFdLFxuICAgICAgbWVzc2FnZSA9ICdbJyArIChtb2R1bGUgPyBtb2R1bGUgKyAnOicgOiAnJykgKyBjb2RlICsgJ10gJyxcbiAgICAgIHRlbXBsYXRlQXJncyA9IHNsaWNlQXJncyhhcmd1bWVudHMsIDIpLm1hcChmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRvRGVidWdTdHJpbmcoYXJnLCBtaW5FcnJDb25maWcub2JqZWN0TWF4RGVwdGgpO1xuICAgICAgfSksXG4gICAgICBwYXJhbVByZWZpeCwgaTtcblxuICAgIC8vIEEgbWluRXJyIG1lc3NhZ2UgaGFzIHR3byBwYXJ0czogdGhlIG1lc3NhZ2UgaXRzZWxmIGFuZCB0aGUgdXJsIHRoYXQgY29udGFpbnMgdGhlXG4gICAgLy8gZW5jb2RlZCBtZXNzYWdlLlxuICAgIC8vIFRoZSBtZXNzYWdlJ3MgcGFyYW1ldGVycyBjYW4gY29udGFpbiBvdGhlciBlcnJvciBtZXNzYWdlcyB3aGljaCBhbHNvIGluY2x1ZGUgZXJyb3IgdXJscy5cbiAgICAvLyBUbyBwcmV2ZW50IHRoZSBtZXNzYWdlcyBmcm9tIGdldHRpbmcgdG9vIGxvbmcsIHdlIHN0cmlwIHRoZSBlcnJvciB1cmxzIGZyb20gdGhlIHBhcmFtZXRlcnMuXG5cbiAgICBtZXNzYWdlICs9IHRlbXBsYXRlLnJlcGxhY2UoL1xce1xcZCtcXH0vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHZhciBpbmRleCA9ICttYXRjaC5zbGljZSgxLCAtMSk7XG5cbiAgICAgIGlmIChpbmRleCA8IHRlbXBsYXRlQXJncy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlQXJnc1tpbmRleF0ucmVwbGFjZShlcnJSZWdFeHAsICcnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuXG4gICAgbWVzc2FnZSArPSAnXFxuJyArIHVybCArIChtb2R1bGUgPyBtb2R1bGUgKyAnLycgOiAnJykgKyBjb2RlO1xuXG4gICAgaWYgKG1pbkVyckNvbmZpZy51cmxFcnJvclBhcmFtc0VuYWJsZWQpIHtcbiAgICAgIGZvciAoaSA9IDAsIHBhcmFtUHJlZml4ID0gJz8nOyBpIDwgdGVtcGxhdGVBcmdzLmxlbmd0aDsgaSsrLCBwYXJhbVByZWZpeCA9ICcmJykge1xuICAgICAgICBtZXNzYWdlICs9IHBhcmFtUHJlZml4ICsgJ3AnICsgaSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh0ZW1wbGF0ZUFyZ3NbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgRXJyb3JDb25zdHJ1Y3RvcihtZXNzYWdlKTtcbiAgfTtcbn1cblxuLyogV2UgbmVlZCB0byB0ZWxsIEVTTGludCB3aGF0IHZhcmlhYmxlcyBhcmUgYmVpbmcgZXhwb3J0ZWQgKi9cbi8qIGV4cG9ydGVkXG4gIGFuZ3VsYXIsXG4gIG1zaWUsXG4gIGpxTGl0ZSxcbiAgalF1ZXJ5LFxuICBzbGljZSxcbiAgc3BsaWNlLFxuICBwdXNoLFxuICB0b1N0cmluZyxcbiAgbWluRXJyQ29uZmlnLFxuICBlcnJvckhhbmRsaW5nQ29uZmlnLFxuICBpc1ZhbGlkT2JqZWN0TWF4RGVwdGgsXG4gIG5nTWluRXJyLFxuICBhbmd1bGFyTW9kdWxlLFxuICB1aWQsXG4gIFJFR0VYX1NUUklOR19SRUdFWFAsXG4gIFZBTElESVRZX1NUQVRFX1BST1BFUlRZLFxuXG4gIGxvd2VyY2FzZSxcbiAgdXBwZXJjYXNlLFxuICBub2RlTmFtZV8sXG4gIGlzQXJyYXlMaWtlLFxuICBmb3JFYWNoLFxuICBmb3JFYWNoU29ydGVkLFxuICByZXZlcnNlUGFyYW1zLFxuICBuZXh0VWlkLFxuICBzZXRIYXNoS2V5LFxuICBleHRlbmQsXG4gIHRvSW50LFxuICBpbmhlcml0LFxuICBtZXJnZSxcbiAgbm9vcCxcbiAgaWRlbnRpdHksXG4gIHZhbHVlRm4sXG4gIGlzVW5kZWZpbmVkLFxuICBpc0RlZmluZWQsXG4gIGlzT2JqZWN0LFxuICBpc0JsYW5rT2JqZWN0LFxuICBpc1N0cmluZyxcbiAgaXNOdW1iZXIsXG4gIGlzTnVtYmVyTmFOLFxuICBpc0RhdGUsXG4gIGlzRXJyb3IsXG4gIGlzQXJyYXksXG4gIGlzRnVuY3Rpb24sXG4gIGlzUmVnRXhwLFxuICBpc1dpbmRvdyxcbiAgaXNTY29wZSxcbiAgaXNGaWxlLFxuICBpc0Zvcm1EYXRhLFxuICBpc0Jsb2IsXG4gIGlzQm9vbGVhbixcbiAgaXNQcm9taXNlTGlrZSxcbiAgdHJpbSxcbiAgZXNjYXBlRm9yUmVnZXhwLFxuICBpc0VsZW1lbnQsXG4gIG1ha2VNYXAsXG4gIGluY2x1ZGVzLFxuICBhcnJheVJlbW92ZSxcbiAgY29weSxcbiAgc2ltcGxlQ29tcGFyZSxcbiAgZXF1YWxzLFxuICBjc3AsXG4gIGpxLFxuICBjb25jYXQsXG4gIHNsaWNlQXJncyxcbiAgYmluZCxcbiAgdG9Kc29uUmVwbGFjZXIsXG4gIHRvSnNvbixcbiAgZnJvbUpzb24sXG4gIGNvbnZlcnRUaW1lem9uZVRvTG9jYWwsXG4gIHRpbWV6b25lVG9PZmZzZXQsXG4gIGFkZERhdGVNaW51dGVzLFxuICBzdGFydGluZ1RhZyxcbiAgdHJ5RGVjb2RlVVJJQ29tcG9uZW50LFxuICBwYXJzZUtleVZhbHVlLFxuICB0b0tleVZhbHVlLFxuICBlbmNvZGVVcmlTZWdtZW50LFxuICBlbmNvZGVVcmlRdWVyeSxcbiAgYW5ndWxhckluaXQsXG4gIGJvb3RzdHJhcCxcbiAgZ2V0VGVzdGFiaWxpdHksXG4gIHNuYWtlX2Nhc2UsXG4gIGJpbmRKUXVlcnksXG4gIGFzc2VydEFyZyxcbiAgYXNzZXJ0QXJnRm4sXG4gIGFzc2VydE5vdEhhc093blByb3BlcnR5LFxuICBnZXR0ZXIsXG4gIGdldEJsb2NrTm9kZXMsXG4gIGhhc093blByb3BlcnR5LFxuICBjcmVhdGVNYXAsXG4gIHN0cmluZ2lmeSxcblxuICBOT0RFX1RZUEVfRUxFTUVOVCxcbiAgTk9ERV9UWVBFX0FUVFJJQlVURSxcbiAgTk9ERV9UWVBFX1RFWFQsXG4gIE5PREVfVFlQRV9DT01NRU5ULFxuICBOT0RFX1RZUEVfRE9DVU1FTlQsXG4gIE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVFxuKi9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbmdcbiAqIEBtb2R1bGUgbmdcbiAqIEBpbnN0YWxsYXRpb25cbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSBuZyBtb2R1bGUgaXMgbG9hZGVkIGJ5IGRlZmF1bHQgd2hlbiBhbiBBbmd1bGFySlMgYXBwbGljYXRpb24gaXMgc3RhcnRlZC4gVGhlIG1vZHVsZSBpdHNlbGZcbiAqIGNvbnRhaW5zIHRoZSBlc3NlbnRpYWwgY29tcG9uZW50cyBmb3IgYW4gQW5ndWxhckpTIGFwcGxpY2F0aW9uIHRvIGZ1bmN0aW9uLiBUaGUgdGFibGUgYmVsb3dcbiAqIGxpc3RzIGEgaGlnaCBsZXZlbCBicmVha2Rvd24gb2YgZWFjaCBvZiB0aGUgc2VydmljZXMvZmFjdG9yaWVzLCBmaWx0ZXJzLCBkaXJlY3RpdmVzIGFuZCB0ZXN0aW5nXG4gKiBjb21wb25lbnRzIGF2YWlsYWJsZSB3aXRoaW4gdGhpcyBjb3JlIG1vZHVsZS5cbiAqXG4gKi9cblxudmFyIFJFR0VYX1NUUklOR19SRUdFWFAgPSAvXlxcLyguKylcXC8oW2Etel0qKSQvO1xuXG4vLyBUaGUgbmFtZSBvZiBhIGZvcm0gY29udHJvbCdzIFZhbGlkaXR5U3RhdGUgcHJvcGVydHkuXG4vLyBUaGlzIGlzIHVzZWQgc28gdGhhdCBpdCdzIHBvc3NpYmxlIGZvciBpbnRlcm5hbCB0ZXN0cyB0byBjcmVhdGUgbW9jayBWYWxpZGl0eVN0YXRlcy5cbnZhciBWQUxJRElUWV9TVEFURV9QUk9QRVJUWSA9ICd2YWxpZGl0eSc7XG5cblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvbiBDb252ZXJ0cyB0aGUgc3BlY2lmaWVkIHN0cmluZyB0byBsb3dlcmNhc2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFN0cmluZyB0byBiZSBjb252ZXJ0ZWQgdG8gbG93ZXJjYXNlLlxuICogQHJldHVybnMge3N0cmluZ30gTG93ZXJjYXNlZCBzdHJpbmcuXG4gKi9cbnZhciBsb3dlcmNhc2UgPSBmdW5jdGlvbihzdHJpbmcpIHtyZXR1cm4gaXNTdHJpbmcoc3RyaW5nKSA/IHN0cmluZy50b0xvd2VyQ2FzZSgpIDogc3RyaW5nO307XG5cbi8qKlxuICogQHByaXZhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb24gQ29udmVydHMgdGhlIHNwZWNpZmllZCBzdHJpbmcgdG8gdXBwZXJjYXNlLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTdHJpbmcgdG8gYmUgY29udmVydGVkIHRvIHVwcGVyY2FzZS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFVwcGVyY2FzZWQgc3RyaW5nLlxuICovXG52YXIgdXBwZXJjYXNlID0gZnVuY3Rpb24oc3RyaW5nKSB7cmV0dXJuIGlzU3RyaW5nKHN0cmluZykgPyBzdHJpbmcudG9VcHBlckNhc2UoKSA6IHN0cmluZzt9O1xuXG5cbnZhclxuICAgIG1zaWUsICAgICAgICAgICAgIC8vIGhvbGRzIG1ham9yIHZlcnNpb24gbnVtYmVyIGZvciBJRSwgb3IgTmFOIGlmIFVBIGlzIG5vdCBJRS5cbiAgICBqcUxpdGUsICAgICAgICAgICAvLyBkZWxheSBiaW5kaW5nIHNpbmNlIGpRdWVyeSBjb3VsZCBiZSBsb2FkZWQgYWZ0ZXIgdXMuXG4gICAgalF1ZXJ5LCAgICAgICAgICAgLy8gZGVsYXkgYmluZGluZ1xuICAgIHNsaWNlICAgICAgICAgICAgID0gW10uc2xpY2UsXG4gICAgc3BsaWNlICAgICAgICAgICAgPSBbXS5zcGxpY2UsXG4gICAgcHVzaCAgICAgICAgICAgICAgPSBbXS5wdXNoLFxuICAgIHRvU3RyaW5nICAgICAgICAgID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcbiAgICBnZXRQcm90b3R5cGVPZiAgICA9IE9iamVjdC5nZXRQcm90b3R5cGVPZixcbiAgICBuZ01pbkVyciAgICAgICAgICA9IG1pbkVycignbmcnKSxcblxuICAgIC8qKiBAbmFtZSBhbmd1bGFyICovXG4gICAgYW5ndWxhciAgICAgICAgICAgPSB3aW5kb3cuYW5ndWxhciB8fCAod2luZG93LmFuZ3VsYXIgPSB7fSksXG4gICAgYW5ndWxhck1vZHVsZSxcbiAgICB1aWQgICAgICAgICAgICAgICA9IDA7XG5cbi8vIFN1cHBvcnQ6IElFIDktMTEgb25seVxuLyoqXG4gKiBkb2N1bWVudE1vZGUgaXMgYW4gSUUtb25seSBwcm9wZXJ0eVxuICogaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2NjMTk2OTg4KHY9dnMuODUpLmFzcHhcbiAqL1xubXNpZSA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudE1vZGU7XG5cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBvYmpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBgb2JqYCBpcyBhbiBhcnJheSBvciBhcnJheS1saWtlIG9iamVjdCAoTm9kZUxpc3QsIEFyZ3VtZW50cyxcbiAqICAgICAgICAgICAgICAgICAgIFN0cmluZyAuLi4pXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKG9iaikge1xuXG4gIC8vIGBudWxsYCwgYHVuZGVmaW5lZGAgYW5kIGB3aW5kb3dgIGFyZSBub3QgYXJyYXktbGlrZVxuICBpZiAob2JqID09IG51bGwgfHwgaXNXaW5kb3cob2JqKSkgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIGFycmF5cywgc3RyaW5ncyBhbmQgalF1ZXJ5L2pxTGl0ZSBvYmplY3RzIGFyZSBhcnJheSBsaWtlXG4gIC8vICoganFMaXRlIGlzIGVpdGhlciB0aGUgalF1ZXJ5IG9yIGpxTGl0ZSBjb25zdHJ1Y3RvciBmdW5jdGlvblxuICAvLyAqIHdlIGhhdmUgdG8gY2hlY2sgdGhlIGV4aXN0ZW5jZSBvZiBqcUxpdGUgZmlyc3QgYXMgdGhpcyBtZXRob2QgaXMgY2FsbGVkXG4gIC8vICAgdmlhIHRoZSBmb3JFYWNoIG1ldGhvZCB3aGVuIGNvbnN0cnVjdGluZyB0aGUganFMaXRlIG9iamVjdCBpbiB0aGUgZmlyc3QgcGxhY2VcbiAgaWYgKGlzQXJyYXkob2JqKSB8fCBpc1N0cmluZyhvYmopIHx8IChqcUxpdGUgJiYgb2JqIGluc3RhbmNlb2YganFMaXRlKSkgcmV0dXJuIHRydWU7XG5cbiAgLy8gU3VwcG9ydDogaU9TIDguMiAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXG4gIC8vIFwibGVuZ3RoXCIgaW4gb2JqIHVzZWQgdG8gcHJldmVudCBKSVQgZXJyb3IgKGdoLTExNTA4KVxuICB2YXIgbGVuZ3RoID0gJ2xlbmd0aCcgaW4gT2JqZWN0KG9iaikgJiYgb2JqLmxlbmd0aDtcblxuICAvLyBOb2RlTGlzdCBvYmplY3RzICh3aXRoIGBpdGVtYCBtZXRob2QpIGFuZFxuICAvLyBvdGhlciBvYmplY3RzIHdpdGggc3VpdGFibGUgbGVuZ3RoIGNoYXJhY3RlcmlzdGljcyBhcmUgYXJyYXktbGlrZVxuICByZXR1cm4gaXNOdW1iZXIobGVuZ3RoKSAmJiAobGVuZ3RoID49IDAgJiYgKGxlbmd0aCAtIDEpIGluIG9iaiB8fCB0eXBlb2Ygb2JqLml0ZW0gPT09ICdmdW5jdGlvbicpO1xuXG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmZvckVhY2hcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBJbnZva2VzIHRoZSBgaXRlcmF0b3JgIGZ1bmN0aW9uIG9uY2UgZm9yIGVhY2ggaXRlbSBpbiBgb2JqYCBjb2xsZWN0aW9uLCB3aGljaCBjYW4gYmUgZWl0aGVyIGFuXG4gKiBvYmplY3Qgb3IgYW4gYXJyYXkuIFRoZSBgaXRlcmF0b3JgIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCBgaXRlcmF0b3IodmFsdWUsIGtleSwgb2JqKWAsIHdoZXJlIGB2YWx1ZWBcbiAqIGlzIHRoZSB2YWx1ZSBvZiBhbiBvYmplY3QgcHJvcGVydHkgb3IgYW4gYXJyYXkgZWxlbWVudCwgYGtleWAgaXMgdGhlIG9iamVjdCBwcm9wZXJ0eSBrZXkgb3JcbiAqIGFycmF5IGVsZW1lbnQgaW5kZXggYW5kIG9iaiBpcyB0aGUgYG9iamAgaXRzZWxmLiBTcGVjaWZ5aW5nIGEgYGNvbnRleHRgIGZvciB0aGUgZnVuY3Rpb24gaXMgb3B0aW9uYWwuXG4gKlxuICogSXQgaXMgd29ydGggbm90aW5nIHRoYXQgYC5mb3JFYWNoYCBkb2VzIG5vdCBpdGVyYXRlIG92ZXIgaW5oZXJpdGVkIHByb3BlcnRpZXMgYmVjYXVzZSBpdCBmaWx0ZXJzXG4gKiB1c2luZyB0aGUgYGhhc093blByb3BlcnR5YCBtZXRob2QuXG4gKlxuICogVW5saWtlIEVTMjYyJ3NcbiAqIFtBcnJheS5wcm90b3R5cGUuZm9yRWFjaF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzUuMS8jc2VjLTE1LjQuNC4xOCksXG4gKiBwcm92aWRpbmcgJ3VuZGVmaW5lZCcgb3IgJ251bGwnIHZhbHVlcyBmb3IgYG9iamAgd2lsbCBub3QgdGhyb3cgYSBUeXBlRXJyb3IsIGJ1dCByYXRoZXIganVzdFxuICogcmV0dXJuIHRoZSB2YWx1ZSBwcm92aWRlZC5cbiAqXG4gICBgYGBqc1xuICAgICB2YXIgdmFsdWVzID0ge25hbWU6ICdtaXNrbycsIGdlbmRlcjogJ21hbGUnfTtcbiAgICAgdmFyIGxvZyA9IFtdO1xuICAgICBhbmd1bGFyLmZvckVhY2godmFsdWVzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgdGhpcy5wdXNoKGtleSArICc6ICcgKyB2YWx1ZSk7XG4gICAgIH0sIGxvZyk7XG4gICAgIGV4cGVjdChsb2cpLnRvRXF1YWwoWyduYW1lOiBtaXNrbycsICdnZW5kZXI6IG1hbGUnXSk7XG4gICBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRvciBJdGVyYXRvciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gY29udGV4dCBPYmplY3QgdG8gYmVjb21lIGNvbnRleHQgKGB0aGlzYCkgZm9yIHRoZSBpdGVyYXRvciBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHtPYmplY3R8QXJyYXl9IFJlZmVyZW5jZSB0byBgb2JqYC5cbiAqL1xuXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgdmFyIGtleSwgbGVuZ3RoO1xuICBpZiAob2JqKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24ob2JqKSkge1xuICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChrZXkgIT09ICdwcm90b3R5cGUnICYmIGtleSAhPT0gJ2xlbmd0aCcgJiYga2V5ICE9PSAnbmFtZScgJiYgb2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqKSB8fCBpc0FycmF5TGlrZShvYmopKSB7XG4gICAgICB2YXIgaXNQcmltaXRpdmUgPSB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JztcbiAgICAgIGZvciAoa2V5ID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsga2V5IDwgbGVuZ3RoOyBrZXkrKykge1xuICAgICAgICBpZiAoaXNQcmltaXRpdmUgfHwga2V5IGluIG9iaikge1xuICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob2JqLmZvckVhY2ggJiYgb2JqLmZvckVhY2ggIT09IGZvckVhY2gpIHtcbiAgICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQsIG9iaik7XG4gICAgfSBlbHNlIGlmIChpc0JsYW5rT2JqZWN0KG9iaikpIHtcbiAgICAgIC8vIGNyZWF0ZU1hcCgpIGZhc3QgcGF0aCAtLS0gU2FmZSB0byBhdm9pZCBoYXNPd25Qcm9wZXJ0eSBjaGVjayBiZWNhdXNlIHByb3RvdHlwZSBjaGFpbiBpcyBlbXB0eVxuICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmouaGFzT3duUHJvcGVydHkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIFNsb3cgcGF0aCBmb3Igb2JqZWN0cyBpbmhlcml0aW5nIE9iamVjdC5wcm90b3R5cGUsIGhhc093blByb3BlcnR5IGNoZWNrIG5lZWRlZFxuICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTbG93IHBhdGggZm9yIG9iamVjdHMgd2hpY2ggZG8gbm90IGhhdmUgYSBtZXRob2QgYGhhc093blByb3BlcnR5YFxuICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBmb3JFYWNoU29ydGVkKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopLnNvcnQoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5c1tpXV0sIGtleXNbaV0pO1xuICB9XG4gIHJldHVybiBrZXlzO1xufVxuXG5cbi8qKlxuICogd2hlbiB1c2luZyBmb3JFYWNoIHRoZSBwYXJhbXMgYXJlIHZhbHVlLCBrZXksIGJ1dCBpdCBpcyBvZnRlbiB1c2VmdWwgdG8gaGF2ZSBrZXksIHZhbHVlLlxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcsICopfSBpdGVyYXRvckZuXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oKiwgc3RyaW5nKX1cbiAqL1xuZnVuY3Rpb24gcmV2ZXJzZVBhcmFtcyhpdGVyYXRvckZuKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSwga2V5KSB7aXRlcmF0b3JGbihrZXksIHZhbHVlKTt9O1xufVxuXG4vKipcbiAqIEEgY29uc2lzdGVudCB3YXkgb2YgY3JlYXRpbmcgdW5pcXVlIElEcyBpbiBhbmd1bGFyLlxuICpcbiAqIFVzaW5nIHNpbXBsZSBudW1iZXJzIGFsbG93cyB1cyB0byBnZW5lcmF0ZSAyOC42IG1pbGxpb24gdW5pcXVlIGlkcyBwZXIgc2Vjb25kIGZvciAxMCB5ZWFycyBiZWZvcmVcbiAqIHdlIGhpdCBudW1iZXIgcHJlY2lzaW9uIGlzc3VlcyBpbiBKYXZhU2NyaXB0LlxuICpcbiAqIE1hdGgucG93KDIsNTMpIC8gNjAgLyA2MCAvIDI0IC8gMzY1IC8gMTAgPSAyOC42TVxuICpcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGFuIHVuaXF1ZSBhbHBoYS1udW1lcmljIHN0cmluZ1xuICovXG5mdW5jdGlvbiBuZXh0VWlkKCkge1xuICByZXR1cm4gKyt1aWQ7XG59XG5cblxuLyoqXG4gKiBTZXQgb3IgY2xlYXIgdGhlIGhhc2hrZXkgZm9yIGFuIG9iamVjdC5cbiAqIEBwYXJhbSBvYmogb2JqZWN0XG4gKiBAcGFyYW0gaCB0aGUgaGFzaGtleSAoIXRydXRoeSB0byBkZWxldGUgdGhlIGhhc2hrZXkpXG4gKi9cbmZ1bmN0aW9uIHNldEhhc2hLZXkob2JqLCBoKSB7XG4gIGlmIChoKSB7XG4gICAgb2JqLiQkaGFzaEtleSA9IGg7XG4gIH0gZWxzZSB7XG4gICAgZGVsZXRlIG9iai4kJGhhc2hLZXk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBiYXNlRXh0ZW5kKGRzdCwgb2JqcywgZGVlcCkge1xuICB2YXIgaCA9IGRzdC4kJGhhc2hLZXk7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gb2Jqcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIG9iaiA9IG9ianNbaV07XG4gICAgaWYgKCFpc09iamVjdChvYmopICYmICFpc0Z1bmN0aW9uKG9iaikpIGNvbnRpbnVlO1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBqID0gMCwgamogPSBrZXlzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2pdO1xuICAgICAgdmFyIHNyYyA9IG9ialtrZXldO1xuXG4gICAgICBpZiAoZGVlcCAmJiBpc09iamVjdChzcmMpKSB7XG4gICAgICAgIGlmIChpc0RhdGUoc3JjKSkge1xuICAgICAgICAgIGRzdFtrZXldID0gbmV3IERhdGUoc3JjLnZhbHVlT2YoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNSZWdFeHAoc3JjKSkge1xuICAgICAgICAgIGRzdFtrZXldID0gbmV3IFJlZ0V4cChzcmMpO1xuICAgICAgICB9IGVsc2UgaWYgKHNyYy5ub2RlTmFtZSkge1xuICAgICAgICAgIGRzdFtrZXldID0gc3JjLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0VsZW1lbnQoc3JjKSkge1xuICAgICAgICAgIGRzdFtrZXldID0gc3JjLmNsb25lKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFpc09iamVjdChkc3Rba2V5XSkpIGRzdFtrZXldID0gaXNBcnJheShzcmMpID8gW10gOiB7fTtcbiAgICAgICAgICBiYXNlRXh0ZW5kKGRzdFtrZXldLCBbc3JjXSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRzdFtrZXldID0gc3JjO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldEhhc2hLZXkoZHN0LCBoKTtcbiAgcmV0dXJuIGRzdDtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuZXh0ZW5kXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRXh0ZW5kcyB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGBkc3RgIGJ5IGNvcHlpbmcgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBmcm9tIHRoZSBgc3JjYCBvYmplY3QocylcbiAqIHRvIGBkc3RgLiBZb3UgY2FuIHNwZWNpZnkgbXVsdGlwbGUgYHNyY2Agb2JqZWN0cy4gSWYgeW91IHdhbnQgdG8gcHJlc2VydmUgb3JpZ2luYWwgb2JqZWN0cywgeW91IGNhbiBkbyBzb1xuICogYnkgcGFzc2luZyBhbiBlbXB0eSBvYmplY3QgYXMgdGhlIHRhcmdldDogYHZhciBvYmplY3QgPSBhbmd1bGFyLmV4dGVuZCh7fSwgb2JqZWN0MSwgb2JqZWN0MilgLlxuICpcbiAqICoqTm90ZToqKiBLZWVwIGluIG1pbmQgdGhhdCBgYW5ndWxhci5leHRlbmRgIGRvZXMgbm90IHN1cHBvcnQgcmVjdXJzaXZlIG1lcmdlIChkZWVwIGNvcHkpLiBVc2VcbiAqIHtAbGluayBhbmd1bGFyLm1lcmdlfSBmb3IgdGhpcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZHN0IERlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzcmMgU291cmNlIG9iamVjdChzKS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlZmVyZW5jZSB0byBgZHN0YC5cbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKGRzdCkge1xuICByZXR1cm4gYmFzZUV4dGVuZChkc3QsIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgZmFsc2UpO1xufVxuXG5cbi8qKlxuKiBAbmdkb2MgZnVuY3Rpb25cbiogQG5hbWUgYW5ndWxhci5tZXJnZVxuKiBAbW9kdWxlIG5nXG4qIEBraW5kIGZ1bmN0aW9uXG4qXG4qIEBkZXNjcmlwdGlvblxuKiBEZWVwbHkgZXh0ZW5kcyB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGBkc3RgIGJ5IGNvcHlpbmcgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBmcm9tIHRoZSBgc3JjYCBvYmplY3QocylcbiogdG8gYGRzdGAuIFlvdSBjYW4gc3BlY2lmeSBtdWx0aXBsZSBgc3JjYCBvYmplY3RzLiBJZiB5b3Ugd2FudCB0byBwcmVzZXJ2ZSBvcmlnaW5hbCBvYmplY3RzLCB5b3UgY2FuIGRvIHNvXG4qIGJ5IHBhc3NpbmcgYW4gZW1wdHkgb2JqZWN0IGFzIHRoZSB0YXJnZXQ6IGB2YXIgb2JqZWN0ID0gYW5ndWxhci5tZXJnZSh7fSwgb2JqZWN0MSwgb2JqZWN0MilgLlxuKlxuKiBVbmxpa2Uge0BsaW5rIGFuZ3VsYXIuZXh0ZW5kIGV4dGVuZCgpfSwgYG1lcmdlKClgIHJlY3Vyc2l2ZWx5IGRlc2NlbmRzIGludG8gb2JqZWN0IHByb3BlcnRpZXMgb2Ygc291cmNlXG4qIG9iamVjdHMsIHBlcmZvcm1pbmcgYSBkZWVwIGNvcHkuXG4qXG4qIEBkZXByZWNhdGVkXG4qIHNpbmNlVmVyc2lvbj1cIjEuNi41XCJcbiogVGhpcyBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLCBidXQgd2lsbCBub3QgYmUgcmVtb3ZlZCBpbiB0aGUgMS54IGxpZmVjeWNsZS5cbiogVGhlcmUgYXJlIGVkZ2UgY2FzZXMgKHNlZSB7QGxpbmsgYW5ndWxhci5tZXJnZSNrbm93bi1pc3N1ZXMga25vd24gaXNzdWVzfSkgdGhhdCBhcmUgbm90XG4qIHN1cHBvcnRlZCBieSB0aGlzIGZ1bmN0aW9uLiBXZSBzdWdnZXN0IHVzaW5nIGFub3RoZXIsIHNpbWlsYXIgbGlicmFyeSBmb3IgYWxsLXB1cnBvc2UgbWVyZ2luZyxcbiogc3VjaCBhcyBbbG9kYXNoJ3MgbWVyZ2UoKV0oaHR0cHM6Ly9sb2Rhc2guY29tL2RvY3MvNC4xNy40I21lcmdlKS5cbipcbiogQGtub3duSXNzdWVcbiogVGhpcyBpcyBhIGxpc3Qgb2YgKGtub3duKSBvYmplY3QgdHlwZXMgdGhhdCBhcmUgbm90IGhhbmRsZWQgY29ycmVjdGx5IGJ5IHRoaXMgZnVuY3Rpb246XG4qIC0gW2BCbG9iYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0Jsb2IpXG4qIC0gW2BNZWRpYVN0cmVhbWBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9NZWRpYVN0cmVhbSlcbiogLSBbYENhbnZhc0dyYWRpZW50YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0NhbnZhc0dyYWRpZW50KVxuKiAtIEFuZ3VsYXJKUyB7QGxpbmsgJHJvb3RTY29wZS5TY29wZSBzY29wZXN9O1xuKlxuKiBgYW5ndWxhci5tZXJnZWAgYWxzbyBkb2VzIG5vdCBzdXBwb3J0IG1lcmdpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyIHJlZmVyZW5jZXMuXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBkc3QgRGVzdGluYXRpb24gb2JqZWN0LlxuKiBAcGFyYW0gey4uLk9iamVjdH0gc3JjIFNvdXJjZSBvYmplY3QocykuXG4qIEByZXR1cm5zIHtPYmplY3R9IFJlZmVyZW5jZSB0byBgZHN0YC5cbiovXG5mdW5jdGlvbiBtZXJnZShkc3QpIHtcbiAgcmV0dXJuIGJhc2VFeHRlbmQoZHN0LCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSksIHRydWUpO1xufVxuXG5cblxuZnVuY3Rpb24gdG9JbnQoc3RyKSB7XG4gIHJldHVybiBwYXJzZUludChzdHIsIDEwKTtcbn1cblxudmFyIGlzTnVtYmVyTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIGlzTnVtYmVyTmFOKG51bSkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gIHJldHVybiBudW0gIT09IG51bTtcbn07XG5cblxuZnVuY3Rpb24gaW5oZXJpdChwYXJlbnQsIGV4dHJhKSB7XG4gIHJldHVybiBleHRlbmQoT2JqZWN0LmNyZWF0ZShwYXJlbnQpLCBleHRyYSk7XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLm5vb3BcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgbm8gb3BlcmF0aW9ucy4gVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZnVsIHdoZW4gd3JpdGluZyBjb2RlIGluIHRoZVxuICogZnVuY3Rpb25hbCBzdHlsZS5cbiAgIGBgYGpzXG4gICAgIGZ1bmN0aW9uIGZvbyhjYWxsYmFjaykge1xuICAgICAgIHZhciByZXN1bHQgPSBjYWxjdWxhdGVSZXN1bHQoKTtcbiAgICAgICAoY2FsbGJhY2sgfHwgYW5ndWxhci5ub29wKShyZXN1bHQpO1xuICAgICB9XG4gICBgYGBcbiAqL1xuZnVuY3Rpb24gbm9vcCgpIHt9XG5ub29wLiRpbmplY3QgPSBbXTtcblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pZGVudGl0eVxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGl0cyBmaXJzdCBhcmd1bWVudC4gVGhpcyBmdW5jdGlvbiBpcyB1c2VmdWwgd2hlbiB3cml0aW5nIGNvZGUgaW4gdGhlXG4gKiBmdW5jdGlvbmFsIHN0eWxlLlxuICpcbiAgIGBgYGpzXG4gICBmdW5jdGlvbiB0cmFuc2Zvcm1lcih0cmFuc2Zvcm1hdGlvbkZuLCB2YWx1ZSkge1xuICAgICByZXR1cm4gKHRyYW5zZm9ybWF0aW9uRm4gfHwgYW5ndWxhci5pZGVudGl0eSkodmFsdWUpO1xuICAgfTtcblxuICAgLy8gRS5nLlxuICAgZnVuY3Rpb24gZ2V0UmVzdWx0KGZuLCBpbnB1dCkge1xuICAgICByZXR1cm4gKGZuIHx8IGFuZ3VsYXIuaWRlbnRpdHkpKGlucHV0KTtcbiAgIH07XG5cbiAgIGdldFJlc3VsdChmdW5jdGlvbihuKSB7IHJldHVybiBuICogMjsgfSwgMjEpOyAgIC8vIHJldHVybnMgNDJcbiAgIGdldFJlc3VsdChudWxsLCAyMSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgMjFcbiAgIGdldFJlc3VsdCh1bmRlZmluZWQsIDIxKTsgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgMjFcbiAgIGBgYFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgdG8gYmUgcmV0dXJuZWQuXG4gKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHBhc3NlZCBpbi5cbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkoJCkge3JldHVybiAkO31cbmlkZW50aXR5LiRpbmplY3QgPSBbXTtcblxuXG5mdW5jdGlvbiB2YWx1ZUZuKHZhbHVlKSB7cmV0dXJuIGZ1bmN0aW9uIHZhbHVlUmVmKCkge3JldHVybiB2YWx1ZTt9O31cblxuZnVuY3Rpb24gaGFzQ3VzdG9tVG9TdHJpbmcob2JqKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKG9iai50b1N0cmluZykgJiYgb2JqLnRvU3RyaW5nICE9PSB0b1N0cmluZztcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc1VuZGVmaW5lZFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgdW5kZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyB1bmRlZmluZWQuXG4gKi9cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCc7fVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzRGVmaW5lZFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgZGVmaW5lZC5cbiAqL1xuZnVuY3Rpb24gaXNEZWZpbmVkKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCc7fVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzT2JqZWN0XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhbiBgT2JqZWN0YC4gVW5saWtlIGB0eXBlb2ZgIGluIEphdmFTY3JpcHQsIGBudWxsYHMgYXJlIG5vdFxuICogY29uc2lkZXJlZCB0byBiZSBvYmplY3RzLiBOb3RlIHRoYXQgSmF2YVNjcmlwdCBhcnJheXMgYXJlIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGFuIGBPYmplY3RgIGJ1dCBub3QgYG51bGxgLlxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAvLyBodHRwOi8vanNwZXJmLmNvbS9pc29iamVjdDRcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCc7XG59XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhIG51bGwgcHJvdG90eXBlXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhbiBgT2JqZWN0YCB3aXRoIGEgbnVsbCBwcm90b3R5cGVcbiAqL1xuZnVuY3Rpb24gaXNCbGFua09iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiAhZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzU3RyaW5nXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIGBTdHJpbmdgLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBTdHJpbmdgLlxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge3JldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO31cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc051bWJlclxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYSBgTnVtYmVyYC5cbiAqXG4gKiBUaGlzIGluY2x1ZGVzIHRoZSBcInNwZWNpYWxcIiBudW1iZXJzIGBOYU5gLCBgK0luZmluaXR5YCBhbmQgYC1JbmZpbml0eWAuXG4gKlxuICogSWYgeW91IHdpc2ggdG8gZXhjbHVkZSB0aGVzZSB0aGVuIHlvdSBjYW4gdXNlIHRoZSBuYXRpdmVcbiAqIFtgaXNGaW5pdGUnXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9pc0Zpbml0ZSlcbiAqIG1ldGhvZC5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgTnVtYmVyYC5cbiAqL1xuZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJzt9XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNEYXRlXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHZhbHVlIGlzIGEgZGF0ZS5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgRGF0ZWAuXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWx1ZSkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc0FycmF5XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhbiBgQXJyYXlgLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhbiBgQXJyYXlgLlxuICovXG5mdW5jdGlvbiBpc0FycmF5KGFycikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcnIpIHx8IGFyciBpbnN0YW5jZW9mIEFycmF5O1xufVxuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhbiBgRXJyb3JgLlxuICogTG9vc2VseSBiYXNlZCBvbiBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9pc2Vycm9yXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGFuIGBFcnJvcmAuXG4gKi9cbmZ1bmN0aW9uIGlzRXJyb3IodmFsdWUpIHtcbiAgdmFyIHRhZyA9IHRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBzd2l0Y2ggKHRhZykge1xuICAgIGNhc2UgJ1tvYmplY3QgRXJyb3JdJzogcmV0dXJuIHRydWU7XG4gICAgY2FzZSAnW29iamVjdCBFeGNlcHRpb25dJzogcmV0dXJuIHRydWU7XG4gICAgY2FzZSAnW29iamVjdCBET01FeGNlcHRpb25dJzogcmV0dXJuIHRydWU7XG4gICAgZGVmYXVsdDogcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRXJyb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNGdW5jdGlvblxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYSBgRnVuY3Rpb25gLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBGdW5jdGlvbmAuXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO31cblxuXG4vKipcbiAqIERldGVybWluZXMgaWYgYSB2YWx1ZSBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBSZWdFeHBgLlxuICovXG5mdW5jdGlvbiBpc1JlZ0V4cCh2YWx1ZSkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuXG5cbi8qKlxuICogQ2hlY2tzIGlmIGBvYmpgIGlzIGEgd2luZG93IG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBvYmogT2JqZWN0IHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqYCBpcyBhIHdpbmRvdyBvYmouXG4gKi9cbmZ1bmN0aW9uIGlzV2luZG93KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai53aW5kb3cgPT09IG9iajtcbn1cblxuXG5mdW5jdGlvbiBpc1Njb3BlKG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai4kZXZhbEFzeW5jICYmIG9iai4kd2F0Y2g7XG59XG5cblxuZnVuY3Rpb24gaXNGaWxlKG9iaikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cblxuZnVuY3Rpb24gaXNGb3JtRGF0YShvYmopIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgRm9ybURhdGFdJztcbn1cblxuXG5mdW5jdGlvbiBpc0Jsb2Iob2JqKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEJsb2JdJztcbn1cblxuXG5mdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nO1xufVxuXG5cbmZ1bmN0aW9uIGlzUHJvbWlzZUxpa2Uob2JqKSB7XG4gIHJldHVybiBvYmogJiYgaXNGdW5jdGlvbihvYmoudGhlbik7XG59XG5cblxudmFyIFRZUEVEX0FSUkFZX1JFR0VYUCA9IC9eXFxbb2JqZWN0ICg/OlVpbnQ4fFVpbnQ4Q2xhbXBlZHxVaW50MTZ8VWludDMyfEludDh8SW50MTZ8SW50MzJ8RmxvYXQzMnxGbG9hdDY0KUFycmF5XSQvO1xuZnVuY3Rpb24gaXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAmJiBpc051bWJlcih2YWx1ZS5sZW5ndGgpICYmIFRZUEVEX0FSUkFZX1JFR0VYUC50ZXN0KHRvU3RyaW5nLmNhbGwodmFsdWUpKTtcbn1cblxuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcihvYmopIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJztcbn1cblxuXG52YXIgdHJpbSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc1N0cmluZyh2YWx1ZSkgPyB2YWx1ZS50cmltKCkgOiB2YWx1ZTtcbn07XG5cbi8vIENvcGllZCBmcm9tOlxuLy8gaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9sb2NhbF9jbG9zdXJlX2dvb2dfc3RyaW5nX3N0cmluZy5qcy5zb3VyY2UuaHRtbCNsaW5lMTAyMVxuLy8gUHJlcmVxOiBzIGlzIGEgc3RyaW5nLlxudmFyIGVzY2FwZUZvclJlZ2V4cCA9IGZ1bmN0aW9uKHMpIHtcbiAgcmV0dXJuIHNcbiAgICAucmVwbGFjZSgvKFstKClbXFxde30rPyouJF58LDojPCFcXFxcXSkvZywgJ1xcXFwkMScpXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbiAgICAucmVwbGFjZSgvXFx4MDgvZywgJ1xcXFx4MDgnKTtcbn07XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNFbGVtZW50XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIERPTSBlbGVtZW50IChvciB3cmFwcGVkIGpRdWVyeSBlbGVtZW50KS5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCAob3Igd3JhcHBlZCBqUXVlcnkgZWxlbWVudCkuXG4gKi9cbmZ1bmN0aW9uIGlzRWxlbWVudChub2RlKSB7XG4gIHJldHVybiAhIShub2RlICYmXG4gICAgKG5vZGUubm9kZU5hbWUgIC8vIFdlIGFyZSBhIGRpcmVjdCBlbGVtZW50LlxuICAgIHx8IChub2RlLnByb3AgJiYgbm9kZS5hdHRyICYmIG5vZGUuZmluZCkpKTsgIC8vIFdlIGhhdmUgYW4gb24gYW5kIGZpbmQgbWV0aG9kIHBhcnQgb2YgalF1ZXJ5IEFQSS5cbn1cblxuLyoqXG4gKiBAcGFyYW0gc3RyICdrZXkxLGtleTIsLi4uJ1xuICogQHJldHVybnMge29iamVjdH0gaW4gdGhlIGZvcm0gb2Yge2tleTE6dHJ1ZSwga2V5Mjp0cnVlLCAuLi59XG4gKi9cbmZ1bmN0aW9uIG1ha2VNYXAoc3RyKSB7XG4gIHZhciBvYmogPSB7fSwgaXRlbXMgPSBzdHIuc3BsaXQoJywnKSwgaTtcbiAgZm9yIChpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgb2JqW2l0ZW1zW2ldXSA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuXG5mdW5jdGlvbiBub2RlTmFtZV8oZWxlbWVudCkge1xuICByZXR1cm4gbG93ZXJjYXNlKGVsZW1lbnQubm9kZU5hbWUgfHwgKGVsZW1lbnRbMF0gJiYgZWxlbWVudFswXS5ub2RlTmFtZSkpO1xufVxuXG5mdW5jdGlvbiBpbmNsdWRlcyhhcnJheSwgb2JqKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGFycmF5LCBvYmopICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyYXksIHZhbHVlKSB7XG4gIHZhciBpbmRleCA9IGFycmF5LmluZGV4T2YodmFsdWUpO1xuICBpZiAoaW5kZXggPj0gMCkge1xuICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XG4gIH1cbiAgcmV0dXJuIGluZGV4O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5jb3B5XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhIGRlZXAgY29weSBvZiBgc291cmNlYCwgd2hpY2ggc2hvdWxkIGJlIGFuIG9iamVjdCBvciBhbiBhcnJheS4gVGhpcyBmdW5jdGlvbnMgaXMgdXNlZFxuICogaW50ZXJuYWxseSwgbW9zdGx5IGluIHRoZSBjaGFuZ2UtZGV0ZWN0aW9uIGNvZGUuIEl0IGlzIG5vdCBpbnRlbmRlZCBhcyBhbiBhbGwtcHVycG9zZSBjb3B5XG4gKiBmdW5jdGlvbiwgYW5kIGhhcyBzZXZlcmFsIGxpbWl0YXRpb25zIChzZWUgYmVsb3cpLlxuICpcbiAqICogSWYgbm8gZGVzdGluYXRpb24gaXMgc3VwcGxpZWQsIGEgY29weSBvZiB0aGUgb2JqZWN0IG9yIGFycmF5IGlzIGNyZWF0ZWQuXG4gKiAqIElmIGEgZGVzdGluYXRpb24gaXMgcHJvdmlkZWQsIGFsbCBvZiBpdHMgZWxlbWVudHMgKGZvciBhcnJheXMpIG9yIHByb3BlcnRpZXMgKGZvciBvYmplY3RzKVxuICogICBhcmUgZGVsZXRlZCBhbmQgdGhlbiBhbGwgZWxlbWVudHMvcHJvcGVydGllcyBmcm9tIHRoZSBzb3VyY2UgYXJlIGNvcGllZCB0byBpdC5cbiAqICogSWYgYHNvdXJjZWAgaXMgbm90IGFuIG9iamVjdCBvciBhcnJheSAoaW5jLiBgbnVsbGAgYW5kIGB1bmRlZmluZWRgKSwgYHNvdXJjZWAgaXMgcmV0dXJuZWQuXG4gKiAqIElmIGBzb3VyY2VgIGlzIGlkZW50aWNhbCB0byBgZGVzdGluYXRpb25gIGFuIGV4Y2VwdGlvbiB3aWxsIGJlIHRocm93bi5cbiAqXG4gKiA8YnIgLz5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogICBPbmx5IGVudW1lcmFibGUgcHJvcGVydGllcyBhcmUgdGFrZW4gaW50byBhY2NvdW50LiBOb24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzIChib3RoIG9uIGBzb3VyY2VgXG4gKiAgIGFuZCBvbiBgZGVzdGluYXRpb25gKSB3aWxsIGJlIGlnbm9yZWQuXG4gKiA8L2Rpdj5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogICBgYW5ndWxhci5jb3B5YCBkb2VzIG5vdCBjaGVjayBpZiBkZXN0aW5hdGlvbiBhbmQgc291cmNlIGFyZSBvZiB0aGUgc2FtZSB0eXBlLiBJdCdzIHRoZVxuICogICBkZXZlbG9wZXIncyByZXNwb25zaWJpbGl0eSB0byBtYWtlIHN1cmUgdGhleSBhcmUgY29tcGF0aWJsZS5cbiAqIDwvZGl2PlxuICpcbiAqIEBrbm93bklzc3VlXG4gKiBUaGlzIGlzIGEgbm9uLWV4aGF1c3RpdmUgbGlzdCBvZiBvYmplY3QgdHlwZXMgLyBmZWF0dXJlcyB0aGF0IGFyZSBub3QgaGFuZGxlZCBjb3JyZWN0bHkgYnlcbiAqIGBhbmd1bGFyLmNvcHlgLiBOb3RlIHRoYXQgc2luY2UgdGhpcyBmdW5jdGlvbnMgaXMgdXNlZCBieSB0aGUgY2hhbmdlIGRldGVjdGlvbiBjb2RlLCB0aGlzXG4gKiBtZWFucyBiaW5kaW5nIG9yIHdhdGNoaW5nIG9iamVjdHMgb2YgdGhlc2UgdHlwZXMgKG9yIHRoYXQgaW5jbHVkZSB0aGVzZSB0eXBlcykgbWlnaHQgbm90IHdvcmtcbiAqIGNvcnJlY3RseS5cbiAqIC0gW2BGaWxlYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0ZpbGUpXG4gKiAtIFtgTWFwYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWFwKVxuICogLSBbYEltYWdlRGF0YWBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9JbWFnZURhdGEpXG4gKiAtIFtgTWVkaWFTdHJlYW1gXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvTWVkaWFTdHJlYW0pXG4gKiAtIFtgU2V0YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU2V0KVxuICogLSBbYFdlYWtNYXBgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9XZWFrTWFwKVxuICogLSBbJ2dldHRlciddKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0Z1bmN0aW9ucy9nZXQpL1xuICogICBbYHNldHRlcmBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0Z1bmN0aW9ucy9zZXQpYFxuICpcbiAqIEBwYXJhbSB7Kn0gc291cmNlIFRoZSBzb3VyY2UgdGhhdCB3aWxsIGJlIHVzZWQgdG8gbWFrZSBhIGNvcHkuIENhbiBiZSBhbnkgdHlwZSwgaW5jbHVkaW5nXG4gKiAgICAgcHJpbWl0aXZlcywgYG51bGxgLCBhbmQgYHVuZGVmaW5lZGAuXG4gKiBAcGFyYW0geyhPYmplY3R8QXJyYXkpPX0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gaW50byB3aGljaCB0aGUgc291cmNlIGlzIGNvcGllZC4gSWYgcHJvdmlkZWQsXG4gKiAgICAgbXVzdCBiZSBvZiB0aGUgc2FtZSB0eXBlIGFzIGBzb3VyY2VgLlxuICogQHJldHVybnMgeyp9IFRoZSBjb3B5IG9yIHVwZGF0ZWQgYGRlc3RpbmF0aW9uYCwgaWYgYGRlc3RpbmF0aW9uYCB3YXMgc3BlY2lmaWVkLlxuICpcbiAqIEBleGFtcGxlXG4gIDxleGFtcGxlIG1vZHVsZT1cImNvcHlFeGFtcGxlXCIgbmFtZT1cImFuZ3VsYXItY29weVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8Zm9ybSBub3ZhbGlkYXRlIGNsYXNzPVwic2ltcGxlLWZvcm1cIj5cbiAgICAgICAgICA8bGFiZWw+TmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIiAvPjwvbGFiZWw+PGJyIC8+XG4gICAgICAgICAgPGxhYmVsPkFnZTogIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJ1c2VyLmFnZVwiIC8+PC9sYWJlbD48YnIgLz5cbiAgICAgICAgICBHZW5kZXI6IDxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJ1c2VyLmdlbmRlclwiIHZhbHVlPVwibWFsZVwiIC8+bWFsZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwidXNlci5nZW5kZXJcIiB2YWx1ZT1cImZlbWFsZVwiIC8+ZmVtYWxlPC9sYWJlbD48YnIgLz5cbiAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicmVzZXQoKVwiPlJFU0VUPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInVwZGF0ZSh1c2VyKVwiPlNBVkU8L2J1dHRvbj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgICA8cHJlPmZvcm0gPSB7e3VzZXIgfCBqc29ufX08L3ByZT5cbiAgICAgICAgPHByZT5sZWFkZXIgPSB7e2xlYWRlciB8IGpzb259fTwvcHJlPlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIC8vIE1vZHVsZTogY29weUV4YW1wbGVcbiAgICAgIGFuZ3VsYXIuXG4gICAgICAgIG1vZHVsZSgnY29weUV4YW1wbGUnLCBbXSkuXG4gICAgICAgIGNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUubGVhZGVyID0ge307XG5cbiAgICAgICAgICAkc2NvcGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIEV4YW1wbGUgd2l0aCAxIGFyZ3VtZW50XG4gICAgICAgICAgICAkc2NvcGUudXNlciA9IGFuZ3VsYXIuY29weSgkc2NvcGUubGVhZGVyKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgICAgIC8vIEV4YW1wbGUgd2l0aCAyIGFyZ3VtZW50c1xuICAgICAgICAgICAgYW5ndWxhci5jb3B5KHVzZXIsICRzY29wZS5sZWFkZXIpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUucmVzZXQoKTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiBjb3B5KHNvdXJjZSwgZGVzdGluYXRpb24sIG1heERlcHRoKSB7XG4gIHZhciBzdGFja1NvdXJjZSA9IFtdO1xuICB2YXIgc3RhY2tEZXN0ID0gW107XG4gIG1heERlcHRoID0gaXNWYWxpZE9iamVjdE1heERlcHRoKG1heERlcHRoKSA/IG1heERlcHRoIDogTmFOO1xuXG4gIGlmIChkZXN0aW5hdGlvbikge1xuICAgIGlmIChpc1R5cGVkQXJyYXkoZGVzdGluYXRpb24pIHx8IGlzQXJyYXlCdWZmZXIoZGVzdGluYXRpb24pKSB7XG4gICAgICB0aHJvdyBuZ01pbkVycignY3B0YScsICdDYW5cXCd0IGNvcHkhIFR5cGVkQXJyYXkgZGVzdGluYXRpb24gY2Fubm90IGJlIG11dGF0ZWQuJyk7XG4gICAgfVxuICAgIGlmIChzb3VyY2UgPT09IGRlc3RpbmF0aW9uKSB7XG4gICAgICB0aHJvdyBuZ01pbkVycignY3BpJywgJ0NhblxcJ3QgY29weSEgU291cmNlIGFuZCBkZXN0aW5hdGlvbiBhcmUgaWRlbnRpY2FsLicpO1xuICAgIH1cblxuICAgIC8vIEVtcHR5IHRoZSBkZXN0aW5hdGlvbiBvYmplY3RcbiAgICBpZiAoaXNBcnJheShkZXN0aW5hdGlvbikpIHtcbiAgICAgIGRlc3RpbmF0aW9uLmxlbmd0aCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvckVhY2goZGVzdGluYXRpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKGtleSAhPT0gJyQkaGFzaEtleScpIHtcbiAgICAgICAgICBkZWxldGUgZGVzdGluYXRpb25ba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhY2tTb3VyY2UucHVzaChzb3VyY2UpO1xuICAgIHN0YWNrRGVzdC5wdXNoKGRlc3RpbmF0aW9uKTtcbiAgICByZXR1cm4gY29weVJlY3Vyc2Uoc291cmNlLCBkZXN0aW5hdGlvbiwgbWF4RGVwdGgpO1xuICB9XG5cbiAgcmV0dXJuIGNvcHlFbGVtZW50KHNvdXJjZSwgbWF4RGVwdGgpO1xuXG4gIGZ1bmN0aW9uIGNvcHlSZWN1cnNlKHNvdXJjZSwgZGVzdGluYXRpb24sIG1heERlcHRoKSB7XG4gICAgbWF4RGVwdGgtLTtcbiAgICBpZiAobWF4RGVwdGggPCAwKSB7XG4gICAgICByZXR1cm4gJy4uLic7XG4gICAgfVxuICAgIHZhciBoID0gZGVzdGluYXRpb24uJCRoYXNoS2V5O1xuICAgIHZhciBrZXk7XG4gICAgaWYgKGlzQXJyYXkoc291cmNlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gc291cmNlLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgZGVzdGluYXRpb24ucHVzaChjb3B5RWxlbWVudChzb3VyY2VbaV0sIG1heERlcHRoKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0JsYW5rT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIC8vIGNyZWF0ZU1hcCgpIGZhc3QgcGF0aCAtLS0gU2FmZSB0byBhdm9pZCBoYXNPd25Qcm9wZXJ0eSBjaGVjayBiZWNhdXNlIHByb3RvdHlwZSBjaGFpbiBpcyBlbXB0eVxuICAgICAgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBjb3B5RWxlbWVudChzb3VyY2Vba2V5XSwgbWF4RGVwdGgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc291cmNlICYmIHR5cGVvZiBzb3VyY2UuaGFzT3duUHJvcGVydHkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIFNsb3cgcGF0aCwgd2hpY2ggbXVzdCByZWx5IG9uIGhhc093blByb3BlcnR5XG4gICAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgZGVzdGluYXRpb25ba2V5XSA9IGNvcHlFbGVtZW50KHNvdXJjZVtrZXldLCBtYXhEZXB0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2xvd2VzdCBwYXRoIC0tLSBoYXNPd25Qcm9wZXJ0eSBjYW4ndCBiZSBjYWxsZWQgYXMgYSBtZXRob2RcbiAgICAgIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBkZXN0aW5hdGlvbltrZXldID0gY29weUVsZW1lbnQoc291cmNlW2tleV0sIG1heERlcHRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBzZXRIYXNoS2V5KGRlc3RpbmF0aW9uLCBoKTtcbiAgICByZXR1cm4gZGVzdGluYXRpb247XG4gIH1cblxuICBmdW5jdGlvbiBjb3B5RWxlbWVudChzb3VyY2UsIG1heERlcHRoKSB7XG4gICAgLy8gU2ltcGxlIHZhbHVlc1xuICAgIGlmICghaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9XG5cbiAgICAvLyBBbHJlYWR5IGNvcGllZCB2YWx1ZXNcbiAgICB2YXIgaW5kZXggPSBzdGFja1NvdXJjZS5pbmRleE9mKHNvdXJjZSk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgcmV0dXJuIHN0YWNrRGVzdFtpbmRleF07XG4gICAgfVxuXG4gICAgaWYgKGlzV2luZG93KHNvdXJjZSkgfHwgaXNTY29wZShzb3VyY2UpKSB7XG4gICAgICB0aHJvdyBuZ01pbkVycignY3B3cycsXG4gICAgICAgICdDYW5cXCd0IGNvcHkhIE1ha2luZyBjb3BpZXMgb2YgV2luZG93IG9yIFNjb3BlIGluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgIH1cblxuICAgIHZhciBuZWVkc1JlY3Vyc2UgPSBmYWxzZTtcbiAgICB2YXIgZGVzdGluYXRpb24gPSBjb3B5VHlwZShzb3VyY2UpO1xuXG4gICAgaWYgKGRlc3RpbmF0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRlc3RpbmF0aW9uID0gaXNBcnJheShzb3VyY2UpID8gW10gOiBPYmplY3QuY3JlYXRlKGdldFByb3RvdHlwZU9mKHNvdXJjZSkpO1xuICAgICAgbmVlZHNSZWN1cnNlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBzdGFja1NvdXJjZS5wdXNoKHNvdXJjZSk7XG4gICAgc3RhY2tEZXN0LnB1c2goZGVzdGluYXRpb24pO1xuXG4gICAgcmV0dXJuIG5lZWRzUmVjdXJzZVxuICAgICAgPyBjb3B5UmVjdXJzZShzb3VyY2UsIGRlc3RpbmF0aW9uLCBtYXhEZXB0aClcbiAgICAgIDogZGVzdGluYXRpb247XG4gIH1cblxuICBmdW5jdGlvbiBjb3B5VHlwZShzb3VyY2UpIHtcbiAgICBzd2l0Y2ggKHRvU3RyaW5nLmNhbGwoc291cmNlKSkge1xuICAgICAgY2FzZSAnW29iamVjdCBJbnQ4QXJyYXldJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgSW50MTZBcnJheV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBJbnQzMkFycmF5XSc6XG4gICAgICBjYXNlICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBGbG9hdDY0QXJyYXldJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgVWludDhBcnJheV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBVaW50MTZBcnJheV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBVaW50MzJBcnJheV0nOlxuICAgICAgICByZXR1cm4gbmV3IHNvdXJjZS5jb25zdHJ1Y3Rvcihjb3B5RWxlbWVudChzb3VyY2UuYnVmZmVyKSwgc291cmNlLmJ5dGVPZmZzZXQsIHNvdXJjZS5sZW5ndGgpO1xuXG4gICAgICBjYXNlICdbb2JqZWN0IEFycmF5QnVmZmVyXSc6XG4gICAgICAgIC8vIFN1cHBvcnQ6IElFMTBcbiAgICAgICAgaWYgKCFzb3VyY2Uuc2xpY2UpIHtcbiAgICAgICAgICAvLyBJZiB3ZSdyZSBpbiB0aGlzIGNhc2Ugd2Uga25vdyB0aGUgZW52aXJvbm1lbnQgc3VwcG9ydHMgQXJyYXlCdWZmZXJcbiAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuICAgICAgICAgIHZhciBjb3BpZWQgPSBuZXcgQXJyYXlCdWZmZXIoc291cmNlLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgIG5ldyBVaW50OEFycmF5KGNvcGllZCkuc2V0KG5ldyBVaW50OEFycmF5KHNvdXJjZSkpO1xuICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAgICAgICByZXR1cm4gY29waWVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc2xpY2UoMCk7XG5cbiAgICAgIGNhc2UgJ1tvYmplY3QgQm9vbGVhbl0nOlxuICAgICAgY2FzZSAnW29iamVjdCBOdW1iZXJdJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgU3RyaW5nXSc6XG4gICAgICBjYXNlICdbb2JqZWN0IERhdGVdJzpcbiAgICAgICAgcmV0dXJuIG5ldyBzb3VyY2UuY29uc3RydWN0b3Ioc291cmNlLnZhbHVlT2YoKSk7XG5cbiAgICAgIGNhc2UgJ1tvYmplY3QgUmVnRXhwXSc6XG4gICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAoc291cmNlLnNvdXJjZSwgc291cmNlLnRvU3RyaW5nKCkubWF0Y2goL1teL10qJC8pWzBdKTtcbiAgICAgICAgcmUubGFzdEluZGV4ID0gc291cmNlLmxhc3RJbmRleDtcbiAgICAgICAgcmV0dXJuIHJlO1xuXG4gICAgICBjYXNlICdbb2JqZWN0IEJsb2JdJzpcbiAgICAgICAgcmV0dXJuIG5ldyBzb3VyY2UuY29uc3RydWN0b3IoW3NvdXJjZV0sIHt0eXBlOiBzb3VyY2UudHlwZX0pO1xuICAgIH1cblxuICAgIGlmIChpc0Z1bmN0aW9uKHNvdXJjZS5jbG9uZU5vZGUpKSB7XG4gICAgICByZXR1cm4gc291cmNlLmNsb25lTm9kZSh0cnVlKTtcbiAgICB9XG4gIH1cbn1cblxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG5mdW5jdGlvbiBzaW1wbGVDb21wYXJlKGEsIGIpIHsgcmV0dXJuIGEgPT09IGIgfHwgKGEgIT09IGEgJiYgYiAhPT0gYik7IH1cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5lcXVhbHNcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIHR3byBvYmplY3RzIG9yIHR3byB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQuIFN1cHBvcnRzIHZhbHVlIHR5cGVzLCByZWd1bGFyXG4gKiBleHByZXNzaW9ucywgYXJyYXlzIGFuZCBvYmplY3RzLlxuICpcbiAqIFR3byBvYmplY3RzIG9yIHZhbHVlcyBhcmUgY29uc2lkZXJlZCBlcXVpdmFsZW50IGlmIGF0IGxlYXN0IG9uZSBvZiB0aGUgZm9sbG93aW5nIGlzIHRydWU6XG4gKlxuICogKiBCb3RoIG9iamVjdHMgb3IgdmFsdWVzIHBhc3MgYD09PWAgY29tcGFyaXNvbi5cbiAqICogQm90aCBvYmplY3RzIG9yIHZhbHVlcyBhcmUgb2YgdGhlIHNhbWUgdHlwZSBhbmQgYWxsIG9mIHRoZWlyIHByb3BlcnRpZXMgYXJlIGVxdWFsIGJ5XG4gKiAgIGNvbXBhcmluZyB0aGVtIHdpdGggYGFuZ3VsYXIuZXF1YWxzYC5cbiAqICogQm90aCB2YWx1ZXMgYXJlIE5hTi4gKEluIEphdmFTY3JpcHQsIE5hTiA9PSBOYU4gPT4gZmFsc2UuIEJ1dCB3ZSBjb25zaWRlciB0d28gTmFOIGFzIGVxdWFsKVxuICogKiBCb3RoIHZhbHVlcyByZXByZXNlbnQgdGhlIHNhbWUgcmVndWxhciBleHByZXNzaW9uIChJbiBKYXZhU2NyaXB0LFxuICogICAvYWJjLyA9PSAvYWJjLyA9PiBmYWxzZS4gQnV0IHdlIGNvbnNpZGVyIHR3byByZWd1bGFyIGV4cHJlc3Npb25zIGFzIGVxdWFsIHdoZW4gdGhlaXIgdGV4dHVhbFxuICogICByZXByZXNlbnRhdGlvbiBtYXRjaGVzKS5cbiAqXG4gKiBEdXJpbmcgYSBwcm9wZXJ0eSBjb21wYXJpc29uLCBwcm9wZXJ0aWVzIG9mIGBmdW5jdGlvbmAgdHlwZSBhbmQgcHJvcGVydGllcyB3aXRoIG5hbWVzXG4gKiB0aGF0IGJlZ2luIHdpdGggYCRgIGFyZSBpZ25vcmVkLlxuICpcbiAqIFNjb3BlIGFuZCBET01XaW5kb3cgb2JqZWN0cyBhcmUgYmVpbmcgY29tcGFyZWQgb25seSBieSBpZGVudGlmeSAoYD09PWApLlxuICpcbiAqIEBwYXJhbSB7Kn0gbzEgT2JqZWN0IG9yIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG8yIE9iamVjdCBvciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYXJndW1lbnRzIGFyZSBlcXVhbC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwiZXF1YWxzRXhhbXBsZVwiIG5hbWU9XCJlcXVhbHNFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8Zm9ybSBub3ZhbGlkYXRlPlxuICAgICAgICAgIDxoMz5Vc2VyIDE8L2gzPlxuICAgICAgICAgIE5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXNlcjEubmFtZVwiPlxuICAgICAgICAgIEFnZTogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cInVzZXIxLmFnZVwiPlxuXG4gICAgICAgICAgPGgzPlVzZXIgMjwvaDM+XG4gICAgICAgICAgTmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1c2VyMi5uYW1lXCI+XG4gICAgICAgICAgQWdlOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwidXNlcjIuYWdlXCI+XG5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGJyLz5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJDb21wYXJlXCIgbmctY2xpY2s9XCJjb21wYXJlKClcIj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBVc2VyIDE6IDxwcmU+e3t1c2VyMSB8IGpzb259fTwvcHJlPlxuICAgICAgICAgIFVzZXIgMjogPHByZT57e3VzZXIyIHwganNvbn19PC9wcmU+XG4gICAgICAgICAgRXF1YWw6IDxwcmU+e3tyZXN1bHR9fTwvcHJlPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZXF1YWxzRXhhbXBsZScsIFtdKS5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLnVzZXIxID0ge307XG4gICAgICAgICAgJHNjb3BlLnVzZXIyID0ge307XG4gICAgICAgICAgJHNjb3BlLmNvbXBhcmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5yZXN1bHQgPSBhbmd1bGFyLmVxdWFscygkc2NvcGUudXNlcjEsICRzY29wZS51c2VyMik7XG4gICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiBlcXVhbHMobzEsIG8yKSB7XG4gIGlmIChvMSA9PT0gbzIpIHJldHVybiB0cnVlO1xuICBpZiAobzEgPT09IG51bGwgfHwgbzIgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICBpZiAobzEgIT09IG8xICYmIG8yICE9PSBvMikgcmV0dXJuIHRydWU7IC8vIE5hTiA9PT0gTmFOXG4gIHZhciB0MSA9IHR5cGVvZiBvMSwgdDIgPSB0eXBlb2YgbzIsIGxlbmd0aCwga2V5LCBrZXlTZXQ7XG4gIGlmICh0MSA9PT0gdDIgJiYgdDEgPT09ICdvYmplY3QnKSB7XG4gICAgaWYgKGlzQXJyYXkobzEpKSB7XG4gICAgICBpZiAoIWlzQXJyYXkobzIpKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAoKGxlbmd0aCA9IG8xLmxlbmd0aCkgPT09IG8yLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGtleSA9IDA7IGtleSA8IGxlbmd0aDsga2V5KyspIHtcbiAgICAgICAgICBpZiAoIWVxdWFscyhvMVtrZXldLCBvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNEYXRlKG8xKSkge1xuICAgICAgaWYgKCFpc0RhdGUobzIpKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gc2ltcGxlQ29tcGFyZShvMS5nZXRUaW1lKCksIG8yLmdldFRpbWUoKSk7XG4gICAgfSBlbHNlIGlmIChpc1JlZ0V4cChvMSkpIHtcbiAgICAgIGlmICghaXNSZWdFeHAobzIpKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gbzEudG9TdHJpbmcoKSA9PT0gbzIudG9TdHJpbmcoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzU2NvcGUobzEpIHx8IGlzU2NvcGUobzIpIHx8IGlzV2luZG93KG8xKSB8fCBpc1dpbmRvdyhvMikgfHxcbiAgICAgICAgaXNBcnJheShvMikgfHwgaXNEYXRlKG8yKSB8fCBpc1JlZ0V4cChvMikpIHJldHVybiBmYWxzZTtcbiAgICAgIGtleVNldCA9IGNyZWF0ZU1hcCgpO1xuICAgICAgZm9yIChrZXkgaW4gbzEpIHtcbiAgICAgICAgaWYgKGtleS5jaGFyQXQoMCkgPT09ICckJyB8fCBpc0Z1bmN0aW9uKG8xW2tleV0pKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFlcXVhbHMobzFba2V5XSwgbzJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAga2V5U2V0W2tleV0gPSB0cnVlO1xuICAgICAgfVxuICAgICAgZm9yIChrZXkgaW4gbzIpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIGtleVNldCkgJiZcbiAgICAgICAgICAgIGtleS5jaGFyQXQoMCkgIT09ICckJyAmJlxuICAgICAgICAgICAgaXNEZWZpbmVkKG8yW2tleV0pICYmXG4gICAgICAgICAgICAhaXNGdW5jdGlvbihvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxudmFyIGNzcCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIWlzRGVmaW5lZChjc3AucnVsZXMpKSB7XG5cblxuICAgIHZhciBuZ0NzcEVsZW1lbnQgPSAod2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuZy1jc3BdJykgfHxcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW5nLWNzcF0nKSk7XG5cbiAgICBpZiAobmdDc3BFbGVtZW50KSB7XG4gICAgICB2YXIgbmdDc3BBdHRyaWJ1dGUgPSBuZ0NzcEVsZW1lbnQuZ2V0QXR0cmlidXRlKCduZy1jc3AnKSB8fFxuICAgICAgICAgICAgICAgICAgICBuZ0NzcEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLW5nLWNzcCcpO1xuICAgICAgY3NwLnJ1bGVzID0ge1xuICAgICAgICBub1Vuc2FmZUV2YWw6ICFuZ0NzcEF0dHJpYnV0ZSB8fCAobmdDc3BBdHRyaWJ1dGUuaW5kZXhPZignbm8tdW5zYWZlLWV2YWwnKSAhPT0gLTEpLFxuICAgICAgICBub0lubGluZVN0eWxlOiAhbmdDc3BBdHRyaWJ1dGUgfHwgKG5nQ3NwQXR0cmlidXRlLmluZGV4T2YoJ25vLWlubGluZS1zdHlsZScpICE9PSAtMSlcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNzcC5ydWxlcyA9IHtcbiAgICAgICAgbm9VbnNhZmVFdmFsOiBub1Vuc2FmZUV2YWwoKSxcbiAgICAgICAgbm9JbmxpbmVTdHlsZTogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNzcC5ydWxlcztcblxuICBmdW5jdGlvbiBub1Vuc2FmZUV2YWwoKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXcsIG5vLW5ldy1mdW5jXG4gICAgICBuZXcgRnVuY3Rpb24oJycpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbW9kdWxlIG5nXG4gKiBAbmFtZSBuZ0pxXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nSnEgdGhlIG5hbWUgb2YgdGhlIGxpYnJhcnkgYXZhaWxhYmxlIHVuZGVyIGB3aW5kb3dgXG4gKiB0byBiZSB1c2VkIGZvciBhbmd1bGFyLmVsZW1lbnRcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoaXMgZGlyZWN0aXZlIHRvIGZvcmNlIHRoZSBhbmd1bGFyLmVsZW1lbnQgbGlicmFyeS4gIFRoaXMgc2hvdWxkIGJlXG4gKiB1c2VkIHRvIGZvcmNlIGVpdGhlciBqcUxpdGUgYnkgbGVhdmluZyBuZy1qcSBibGFuayBvciBzZXR0aW5nIHRoZSBuYW1lIG9mXG4gKiB0aGUganF1ZXJ5IHZhcmlhYmxlIHVuZGVyIHdpbmRvdyAoZWcuIGpRdWVyeSkuXG4gKlxuICogU2luY2UgQW5ndWxhckpTIGxvb2tzIGZvciB0aGlzIGRpcmVjdGl2ZSB3aGVuIGl0IGlzIGxvYWRlZCAoZG9lc24ndCB3YWl0IGZvciB0aGVcbiAqIERPTUNvbnRlbnRMb2FkZWQgZXZlbnQpLCBpdCBtdXN0IGJlIHBsYWNlZCBvbiBhbiBlbGVtZW50IHRoYXQgY29tZXMgYmVmb3JlIHRoZSBzY3JpcHRcbiAqIHdoaWNoIGxvYWRzIGFuZ3VsYXIuIEFsc28sIG9ubHkgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGBuZy1qcWAgd2lsbCBiZSB1c2VkIGFuZCBhbGxcbiAqIG90aGVycyBpZ25vcmVkLlxuICpcbiAqIEBleGFtcGxlXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IHRvIGZvcmNlIGpxTGl0ZSB1c2luZyB0aGUgYG5nSnFgIGRpcmVjdGl2ZSB0byB0aGUgYGh0bWxgIHRhZy5cbiBgYGBodG1sXG4gPCFkb2N0eXBlIGh0bWw+XG4gPGh0bWwgbmctYXBwIG5nLWpxPlxuIC4uLlxuIC4uLlxuIDwvaHRtbD5cbiBgYGBcbiAqIEBleGFtcGxlXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IHRvIHVzZSBhIGpRdWVyeSBiYXNlZCBsaWJyYXJ5IG9mIGEgZGlmZmVyZW50IG5hbWUuXG4gKiBUaGUgbGlicmFyeSBuYW1lIG11c3QgYmUgYXZhaWxhYmxlIGF0IHRoZSB0b3AgbW9zdCAnd2luZG93Jy5cbiBgYGBodG1sXG4gPCFkb2N0eXBlIGh0bWw+XG4gPGh0bWwgbmctYXBwIG5nLWpxPVwialF1ZXJ5TGliXCI+XG4gLi4uXG4gLi4uXG4gPC9odG1sPlxuIGBgYFxuICovXG52YXIganEgPSBmdW5jdGlvbigpIHtcbiAgaWYgKGlzRGVmaW5lZChqcS5uYW1lXykpIHJldHVybiBqcS5uYW1lXztcbiAgdmFyIGVsO1xuICB2YXIgaSwgaWkgPSBuZ0F0dHJQcmVmaXhlcy5sZW5ndGgsIHByZWZpeCwgbmFtZTtcbiAgZm9yIChpID0gMDsgaSA8IGlpOyArK2kpIHtcbiAgICBwcmVmaXggPSBuZ0F0dHJQcmVmaXhlc1tpXTtcbiAgICBlbCA9IHdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbJyArIHByZWZpeC5yZXBsYWNlKCc6JywgJ1xcXFw6JykgKyAnanFdJyk7XG4gICAgaWYgKGVsKSB7XG4gICAgICBuYW1lID0gZWwuZ2V0QXR0cmlidXRlKHByZWZpeCArICdqcScpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChqcS5uYW1lXyA9IG5hbWUpO1xufTtcblxuZnVuY3Rpb24gY29uY2F0KGFycmF5MSwgYXJyYXkyLCBpbmRleCkge1xuICByZXR1cm4gYXJyYXkxLmNvbmNhdChzbGljZS5jYWxsKGFycmF5MiwgaW5kZXgpKTtcbn1cblxuZnVuY3Rpb24gc2xpY2VBcmdzKGFyZ3MsIHN0YXJ0SW5kZXgpIHtcbiAgcmV0dXJuIHNsaWNlLmNhbGwoYXJncywgc3RhcnRJbmRleCB8fCAwKTtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5iaW5kXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbGxzIGZ1bmN0aW9uIGBmbmAgYm91bmQgdG8gYHNlbGZgIChgc2VsZmAgYmVjb21lcyB0aGUgYHRoaXNgIGZvclxuICogYGZuYCkuIFlvdSBjYW4gc3VwcGx5IG9wdGlvbmFsIGBhcmdzYCB0aGF0IGFyZSBwcmVib3VuZCB0byB0aGUgZnVuY3Rpb24uIFRoaXMgZmVhdHVyZSBpcyBhbHNvXG4gKiBrbm93biBhcyBbcGFydGlhbCBhcHBsaWNhdGlvbl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QYXJ0aWFsX2FwcGxpY2F0aW9uKSwgYXNcbiAqIGRpc3Rpbmd1aXNoZWQgZnJvbSBbZnVuY3Rpb24gY3VycnlpbmddKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ3VycnlpbmcjQ29udHJhc3Rfd2l0aF9wYXJ0aWFsX2Z1bmN0aW9uX2FwcGxpY2F0aW9uKS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc2VsZiBDb250ZXh0IHdoaWNoIGBmbmAgc2hvdWxkIGJlIGV2YWx1YXRlZCBpbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZm4gRnVuY3Rpb24gdG8gYmUgYm91bmQuXG4gKiBAcGFyYW0gey4uLip9IGFyZ3MgT3B0aW9uYWwgYXJndW1lbnRzIHRvIGJlIHByZWJvdW5kIHRvIHRoZSBgZm5gIGZ1bmN0aW9uIGNhbGwuXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gRnVuY3Rpb24gdGhhdCB3cmFwcyB0aGUgYGZuYCB3aXRoIGFsbCB0aGUgc3BlY2lmaWVkIGJpbmRpbmdzLlxuICovXG5mdW5jdGlvbiBiaW5kKHNlbGYsIGZuKSB7XG4gIHZhciBjdXJyeUFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IHNsaWNlQXJncyhhcmd1bWVudHMsIDIpIDogW107XG4gIGlmIChpc0Z1bmN0aW9uKGZuKSAmJiAhKGZuIGluc3RhbmNlb2YgUmVnRXhwKSkge1xuICAgIHJldHVybiBjdXJyeUFyZ3MubGVuZ3RoXG4gICAgICA/IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAgICAgICA/IGZuLmFwcGx5KHNlbGYsIGNvbmNhdChjdXJyeUFyZ3MsIGFyZ3VtZW50cywgMCkpXG4gICAgICAgICAgICA6IGZuLmFwcGx5KHNlbGYsIGN1cnJ5QXJncyk7XG4gICAgICAgIH1cbiAgICAgIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgICAgICAgID8gZm4uYXBwbHkoc2VsZiwgYXJndW1lbnRzKVxuICAgICAgICAgICAgOiBmbi5jYWxsKHNlbGYpO1xuICAgICAgICB9O1xuICB9IGVsc2Uge1xuICAgIC8vIEluIElFLCBuYXRpdmUgbWV0aG9kcyBhcmUgbm90IGZ1bmN0aW9ucyBzbyB0aGV5IGNhbm5vdCBiZSBib3VuZCAobm90ZTogdGhleSBkb24ndCBuZWVkIHRvIGJlKS5cbiAgICByZXR1cm4gZm47XG4gIH1cbn1cblxuXG5mdW5jdGlvbiB0b0pzb25SZXBsYWNlcihrZXksIHZhbHVlKSB7XG4gIHZhciB2YWwgPSB2YWx1ZTtcblxuICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYga2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykge1xuICAgIHZhbCA9IHVuZGVmaW5lZDtcbiAgfSBlbHNlIGlmIChpc1dpbmRvdyh2YWx1ZSkpIHtcbiAgICB2YWwgPSAnJFdJTkRPVyc7XG4gIH0gZWxzZSBpZiAodmFsdWUgJiYgIHdpbmRvdy5kb2N1bWVudCA9PT0gdmFsdWUpIHtcbiAgICB2YWwgPSAnJERPQ1VNRU5UJztcbiAgfSBlbHNlIGlmIChpc1Njb3BlKHZhbHVlKSkge1xuICAgIHZhbCA9ICckU0NPUEUnO1xuICB9XG5cbiAgcmV0dXJuIHZhbDtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci50b0pzb25cbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTZXJpYWxpemVzIGlucHV0IGludG8gYSBKU09OLWZvcm1hdHRlZCBzdHJpbmcuIFByb3BlcnRpZXMgd2l0aCBsZWFkaW5nICQkIGNoYXJhY3RlcnMgd2lsbCBiZVxuICogc3RyaXBwZWQgc2luY2UgQW5ndWxhckpTIHVzZXMgdGhpcyBub3RhdGlvbiBpbnRlcm5hbGx5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fERhdGV8c3RyaW5nfG51bWJlcnxib29sZWFufSBvYmogSW5wdXQgdG8gYmUgc2VyaWFsaXplZCBpbnRvIEpTT04uXG4gKiBAcGFyYW0ge2Jvb2xlYW58bnVtYmVyfSBbcHJldHR5PTJdIElmIHNldCB0byB0cnVlLCB0aGUgSlNPTiBvdXRwdXQgd2lsbCBjb250YWluIG5ld2xpbmVzIGFuZCB3aGl0ZXNwYWNlLlxuICogICAgSWYgc2V0IHRvIGFuIGludGVnZXIsIHRoZSBKU09OIG91dHB1dCB3aWxsIGNvbnRhaW4gdGhhdCBtYW55IHNwYWNlcyBwZXIgaW5kZW50YXRpb24uXG4gKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gSlNPTi1pZmllZCBzdHJpbmcgcmVwcmVzZW50aW5nIGBvYmpgLlxuICogQGtub3duSXNzdWVcbiAqXG4gKiBUaGUgU2FmYXJpIGJyb3dzZXIgdGhyb3dzIGEgYFJhbmdlRXJyb3JgIGluc3RlYWQgb2YgcmV0dXJuaW5nIGBudWxsYCB3aGVuIGl0IHRyaWVzIHRvIHN0cmluZ2lmeSBhIGBEYXRlYFxuICogb2JqZWN0IHdpdGggYW4gaW52YWxpZCBkYXRlIHZhbHVlLiBUaGUgb25seSByZWxpYWJsZSB3YXkgdG8gcHJldmVudCB0aGlzIGlzIHRvIG1vbmtleXBhdGNoIHRoZVxuICogYERhdGUucHJvdG90eXBlLnRvSlNPTmAgbWV0aG9kIGFzIGZvbGxvd3M6XG4gKlxuICogYGBgXG4gKiB2YXIgX0RhdGV0b0pTT04gPSBEYXRlLnByb3RvdHlwZS50b0pTT047XG4gKiBEYXRlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbigpIHtcbiAqICAgdHJ5IHtcbiAqICAgICByZXR1cm4gX0RhdGV0b0pTT04uY2FsbCh0aGlzKTtcbiAqICAgfSBjYXRjaChlKSB7XG4gKiAgICAgaWYgKGUgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSB7XG4gKiAgICAgICByZXR1cm4gbnVsbDtcbiAqICAgICB9XG4gKiAgICAgdGhyb3cgZTtcbiAqICAgfVxuICogfTtcbiAqIGBgYFxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3B1bGwvMTQyMjEgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cbmZ1bmN0aW9uIHRvSnNvbihvYmosIHByZXR0eSkge1xuICBpZiAoaXNVbmRlZmluZWQob2JqKSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgaWYgKCFpc051bWJlcihwcmV0dHkpKSB7XG4gICAgcHJldHR5ID0gcHJldHR5ID8gMiA6IG51bGw7XG4gIH1cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgdG9Kc29uUmVwbGFjZXIsIHByZXR0eSk7XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuZnJvbUpzb25cbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXNlcmlhbGl6ZXMgYSBKU09OIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ganNvbiBKU09OIHN0cmluZyB0byBkZXNlcmlhbGl6ZS5cbiAqIEByZXR1cm5zIHtPYmplY3R8QXJyYXl8c3RyaW5nfG51bWJlcn0gRGVzZXJpYWxpemVkIEpTT04gc3RyaW5nLlxuICovXG5mdW5jdGlvbiBmcm9tSnNvbihqc29uKSB7XG4gIHJldHVybiBpc1N0cmluZyhqc29uKVxuICAgICAgPyBKU09OLnBhcnNlKGpzb24pXG4gICAgICA6IGpzb247XG59XG5cblxudmFyIEFMTF9DT0xPTlMgPSAvOi9nO1xuZnVuY3Rpb24gdGltZXpvbmVUb09mZnNldCh0aW1lem9uZSwgZmFsbGJhY2spIHtcbiAgLy8gU3VwcG9ydDogSUUgOS0xMSBvbmx5LCBFZGdlIDEzLTE1K1xuICAvLyBJRS9FZGdlIGRvIG5vdCBcInVuZGVyc3RhbmRcIiBjb2xvbiAoYDpgKSBpbiB0aW1lem9uZVxuICB0aW1lem9uZSA9IHRpbWV6b25lLnJlcGxhY2UoQUxMX0NPTE9OUywgJycpO1xuICB2YXIgcmVxdWVzdGVkVGltZXpvbmVPZmZzZXQgPSBEYXRlLnBhcnNlKCdKYW4gMDEsIDE5NzAgMDA6MDA6MDAgJyArIHRpbWV6b25lKSAvIDYwMDAwO1xuICByZXR1cm4gaXNOdW1iZXJOYU4ocmVxdWVzdGVkVGltZXpvbmVPZmZzZXQpID8gZmFsbGJhY2sgOiByZXF1ZXN0ZWRUaW1lem9uZU9mZnNldDtcbn1cblxuXG5mdW5jdGlvbiBhZGREYXRlTWludXRlcyhkYXRlLCBtaW51dGVzKSB7XG4gIGRhdGUgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XG4gIGRhdGUuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSArIG1pbnV0ZXMpO1xuICByZXR1cm4gZGF0ZTtcbn1cblxuXG5mdW5jdGlvbiBjb252ZXJ0VGltZXpvbmVUb0xvY2FsKGRhdGUsIHRpbWV6b25lLCByZXZlcnNlKSB7XG4gIHJldmVyc2UgPSByZXZlcnNlID8gLTEgOiAxO1xuICB2YXIgZGF0ZVRpbWV6b25lT2Zmc2V0ID0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICB2YXIgdGltZXpvbmVPZmZzZXQgPSB0aW1lem9uZVRvT2Zmc2V0KHRpbWV6b25lLCBkYXRlVGltZXpvbmVPZmZzZXQpO1xuICByZXR1cm4gYWRkRGF0ZU1pbnV0ZXMoZGF0ZSwgcmV2ZXJzZSAqICh0aW1lem9uZU9mZnNldCAtIGRhdGVUaW1lem9uZU9mZnNldCkpO1xufVxuXG5cbi8qKlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBzdGFydGluZ1RhZyhlbGVtZW50KSB7XG4gIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCkuY2xvbmUoKS5lbXB0eSgpO1xuICB2YXIgZWxlbUh0bWwgPSBqcUxpdGUoJzxkaXY+PC9kaXY+JykuYXBwZW5kKGVsZW1lbnQpLmh0bWwoKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZWxlbWVudFswXS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX1RFWFQgPyBsb3dlcmNhc2UoZWxlbUh0bWwpIDpcbiAgICAgICAgZWxlbUh0bWwuXG4gICAgICAgICAgbWF0Y2goL14oPFtePl0rPikvKVsxXS5cbiAgICAgICAgICByZXBsYWNlKC9ePChbXFx3LV0rKS8sIGZ1bmN0aW9uKG1hdGNoLCBub2RlTmFtZSkge3JldHVybiAnPCcgKyBsb3dlcmNhc2Uobm9kZU5hbWUpO30pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGxvd2VyY2FzZShlbGVtSHRtbCk7XG4gIH1cblxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBUcmllcyB0byBkZWNvZGUgdGhlIFVSSSBjb21wb25lbnQgd2l0aG91dCB0aHJvd2luZyBhbiBleGNlcHRpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBzdHIgdmFsdWUgcG90ZW50aWFsIFVSSSBjb21wb25lbnQgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGNhbiBiZSBkZWNvZGVkXG4gKiB3aXRoIHRoZSBkZWNvZGVVUklDb21wb25lbnQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHRyeURlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkge1xuICB0cnkge1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSWdub3JlIGFueSBpbnZhbGlkIHVyaSBjb21wb25lbnQuXG4gIH1cbn1cblxuXG4vKipcbiAqIFBhcnNlcyBhbiBlc2NhcGVkIHVybCBxdWVyeSBzdHJpbmcgaW50byBrZXktdmFsdWUgcGFpcnMuXG4gKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsYm9vbGVhbnxBcnJheT59XG4gKi9cbmZ1bmN0aW9uIHBhcnNlS2V5VmFsdWUoLyoqc3RyaW5nKi9rZXlWYWx1ZSkge1xuICB2YXIgb2JqID0ge307XG4gIGZvckVhY2goKGtleVZhbHVlIHx8ICcnKS5zcGxpdCgnJicpLCBmdW5jdGlvbihrZXlWYWx1ZSkge1xuICAgIHZhciBzcGxpdFBvaW50LCBrZXksIHZhbDtcbiAgICBpZiAoa2V5VmFsdWUpIHtcbiAgICAgIGtleSA9IGtleVZhbHVlID0ga2V5VmFsdWUucmVwbGFjZSgvXFwrL2csJyUyMCcpO1xuICAgICAgc3BsaXRQb2ludCA9IGtleVZhbHVlLmluZGV4T2YoJz0nKTtcbiAgICAgIGlmIChzcGxpdFBvaW50ICE9PSAtMSkge1xuICAgICAgICBrZXkgPSBrZXlWYWx1ZS5zdWJzdHJpbmcoMCwgc3BsaXRQb2ludCk7XG4gICAgICAgIHZhbCA9IGtleVZhbHVlLnN1YnN0cmluZyhzcGxpdFBvaW50ICsgMSk7XG4gICAgICB9XG4gICAgICBrZXkgPSB0cnlEZWNvZGVVUklDb21wb25lbnQoa2V5KTtcbiAgICAgIGlmIChpc0RlZmluZWQoa2V5KSkge1xuICAgICAgICB2YWwgPSBpc0RlZmluZWQodmFsKSA/IHRyeURlY29kZVVSSUNvbXBvbmVudCh2YWwpIDogdHJ1ZTtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgIG9ialtrZXldID0gdmFsO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tleV0pKSB7XG4gICAgICAgICAgb2JqW2tleV0ucHVzaCh2YWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9ialtrZXldID0gW29ialtrZXldLHZhbF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiB0b0tleVZhbHVlKG9iaikge1xuICB2YXIgcGFydHMgPSBbXTtcbiAgZm9yRWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKGFycmF5VmFsdWUpIHtcbiAgICAgICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXksIHRydWUpICtcbiAgICAgICAgICAgICAgICAgICAoYXJyYXlWYWx1ZSA9PT0gdHJ1ZSA/ICcnIDogJz0nICsgZW5jb2RlVXJpUXVlcnkoYXJyYXlWYWx1ZSwgdHJ1ZSkpKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXksIHRydWUpICtcbiAgICAgICAgICAgICAgICh2YWx1ZSA9PT0gdHJ1ZSA/ICcnIDogJz0nICsgZW5jb2RlVXJpUXVlcnkodmFsdWUsIHRydWUpKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHBhcnRzLmxlbmd0aCA/IHBhcnRzLmpvaW4oJyYnKSA6ICcnO1xufVxuXG5cbi8qKlxuICogV2UgbmVlZCBvdXIgY3VzdG9tIG1ldGhvZCBiZWNhdXNlIGVuY29kZVVSSUNvbXBvbmVudCBpcyB0b28gYWdncmVzc2l2ZSBhbmQgZG9lc24ndCBmb2xsb3dcbiAqIGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzM5ODYudHh0IHdpdGggcmVnYXJkcyB0byB0aGUgY2hhcmFjdGVyIHNldCAocGNoYXIpIGFsbG93ZWQgaW4gcGF0aFxuICogc2VnbWVudHM6XG4gKiAgICBzZWdtZW50ICAgICAgID0gKnBjaGFyXG4gKiAgICBwY2hhciAgICAgICAgID0gdW5yZXNlcnZlZCAvIHBjdC1lbmNvZGVkIC8gc3ViLWRlbGltcyAvIFwiOlwiIC8gXCJAXCJcbiAqICAgIHBjdC1lbmNvZGVkICAgPSBcIiVcIiBIRVhESUcgSEVYRElHXG4gKiAgICB1bnJlc2VydmVkICAgID0gQUxQSEEgLyBESUdJVCAvIFwiLVwiIC8gXCIuXCIgLyBcIl9cIiAvIFwiflwiXG4gKiAgICBzdWItZGVsaW1zICAgID0gXCIhXCIgLyBcIiRcIiAvIFwiJlwiIC8gXCInXCIgLyBcIihcIiAvIFwiKVwiXG4gKiAgICAgICAgICAgICAgICAgICAgIC8gXCIqXCIgLyBcIitcIiAvIFwiLFwiIC8gXCI7XCIgLyBcIj1cIlxuICovXG5mdW5jdGlvbiBlbmNvZGVVcmlTZWdtZW50KHZhbCkge1xuICByZXR1cm4gZW5jb2RlVXJpUXVlcnkodmFsLCB0cnVlKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lMjYvZ2ksICcmJykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTNEL2dpLCAnPScpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyQi9naSwgJysnKTtcbn1cblxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGludGVuZGVkIGZvciBlbmNvZGluZyAqa2V5KiBvciAqdmFsdWUqIHBhcnRzIG9mIHF1ZXJ5IGNvbXBvbmVudC4gV2UgbmVlZCBhIGN1c3RvbVxuICogbWV0aG9kIGJlY2F1c2UgZW5jb2RlVVJJQ29tcG9uZW50IGlzIHRvbyBhZ2dyZXNzaXZlIGFuZCBlbmNvZGVzIHN0dWZmIHRoYXQgZG9lc24ndCBoYXZlIHRvIGJlXG4gKiBlbmNvZGVkIHBlciBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2OlxuICogICAgcXVlcnkgICAgICAgICA9ICooIHBjaGFyIC8gXCIvXCIgLyBcIj9cIiApXG4gKiAgICBwY2hhciAgICAgICAgID0gdW5yZXNlcnZlZCAvIHBjdC1lbmNvZGVkIC8gc3ViLWRlbGltcyAvIFwiOlwiIC8gXCJAXCJcbiAqICAgIHVucmVzZXJ2ZWQgICAgPSBBTFBIQSAvIERJR0lUIC8gXCItXCIgLyBcIi5cIiAvIFwiX1wiIC8gXCJ+XCJcbiAqICAgIHBjdC1lbmNvZGVkICAgPSBcIiVcIiBIRVhESUcgSEVYRElHXG4gKiAgICBzdWItZGVsaW1zICAgID0gXCIhXCIgLyBcIiRcIiAvIFwiJlwiIC8gXCInXCIgLyBcIihcIiAvIFwiKVwiXG4gKiAgICAgICAgICAgICAgICAgICAgIC8gXCIqXCIgLyBcIitcIiAvIFwiLFwiIC8gXCI7XCIgLyBcIj1cIlxuICovXG5mdW5jdGlvbiBlbmNvZGVVcmlRdWVyeSh2YWwsIHBjdEVuY29kZVNwYWNlcykge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTNCL2dpLCAnOycpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyMC9nLCAocGN0RW5jb2RlU3BhY2VzID8gJyUyMCcgOiAnKycpKTtcbn1cblxudmFyIG5nQXR0clByZWZpeGVzID0gWyduZy0nLCAnZGF0YS1uZy0nLCAnbmc6JywgJ3gtbmctJ107XG5cbmZ1bmN0aW9uIGdldE5nQXR0cmlidXRlKGVsZW1lbnQsIG5nQXR0cikge1xuICB2YXIgYXR0ciwgaSwgaWkgPSBuZ0F0dHJQcmVmaXhlcy5sZW5ndGg7XG4gIGZvciAoaSA9IDA7IGkgPCBpaTsgKytpKSB7XG4gICAgYXR0ciA9IG5nQXR0clByZWZpeGVzW2ldICsgbmdBdHRyO1xuICAgIGlmIChpc1N0cmluZyhhdHRyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cikpKSB7XG4gICAgICByZXR1cm4gYXR0cjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGFsbG93QXV0b0Jvb3RzdHJhcChkb2N1bWVudCkge1xuICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdDtcblxuICBpZiAoIXNjcmlwdCkge1xuICAgIC8vIFN1cHBvcnQ6IElFIDktMTEgb25seVxuICAgIC8vIElFIGRvZXMgbm90IGhhdmUgYGRvY3VtZW50LmN1cnJlbnRTY3JpcHRgXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBJZiB0aGUgYGN1cnJlbnRTY3JpcHRgIHByb3BlcnR5IGhhcyBiZWVuIGNsb2JiZXJlZCBqdXN0IHJldHVybiBmYWxzZSwgc2luY2UgdGhpcyBpbmRpY2F0ZXMgYSBwcm9iYWJsZSBhdHRhY2tcbiAgaWYgKCEoc2NyaXB0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxTY3JpcHRFbGVtZW50IHx8IHNjcmlwdCBpbnN0YW5jZW9mIHdpbmRvdy5TVkdTY3JpcHRFbGVtZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBhdHRyaWJ1dGVzID0gc2NyaXB0LmF0dHJpYnV0ZXM7XG4gIHZhciBzcmNzID0gW2F0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKCdzcmMnKSwgYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oJ2hyZWYnKSwgYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oJ3hsaW5rOmhyZWYnKV07XG5cbiAgcmV0dXJuIHNyY3MuZXZlcnkoZnVuY3Rpb24oc3JjKSB7XG4gICAgaWYgKCFzcmMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXNyYy52YWx1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxpbmsuaHJlZiA9IHNyYy52YWx1ZTtcblxuICAgIGlmIChkb2N1bWVudC5sb2NhdGlvbi5vcmlnaW4gPT09IGxpbmsub3JpZ2luKSB7XG4gICAgICAvLyBTYW1lLW9yaWdpbiByZXNvdXJjZXMgYXJlIGFsd2F5cyBhbGxvd2VkLCBldmVuIGZvciBub24td2hpdGVsaXN0ZWQgc2NoZW1lcy5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBEaXNhYmxlZCBib290c3RyYXBwaW5nIHVubGVzcyBhbmd1bGFyLmpzIHdhcyBsb2FkZWQgZnJvbSBhIGtub3duIHNjaGVtZSB1c2VkIG9uIHRoZSB3ZWIuXG4gICAgLy8gVGhpcyBpcyB0byBwcmV2ZW50IGFuZ3VsYXIuanMgYnVuZGxlZCB3aXRoIGJyb3dzZXIgZXh0ZW5zaW9ucyBmcm9tIGJlaW5nIHVzZWQgdG8gYnlwYXNzIHRoZVxuICAgIC8vIGNvbnRlbnQgc2VjdXJpdHkgcG9saWN5IGluIHdlYiBwYWdlcyBhbmQgb3RoZXIgYnJvd3NlciBleHRlbnNpb25zLlxuICAgIHN3aXRjaCAobGluay5wcm90b2NvbCkge1xuICAgICAgY2FzZSAnaHR0cDonOlxuICAgICAgY2FzZSAnaHR0cHM6JzpcbiAgICAgIGNhc2UgJ2Z0cDonOlxuICAgICAgY2FzZSAnYmxvYjonOlxuICAgICAgY2FzZSAnZmlsZTonOlxuICAgICAgY2FzZSAnZGF0YTonOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBDYWNoZWQgYXMgaXQgaGFzIHRvIHJ1biBkdXJpbmcgbG9hZGluZyBzbyB0aGF0IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQgaXMgYXZhaWxhYmxlLlxudmFyIGlzQXV0b0Jvb3RzdHJhcEFsbG93ZWQgPSBhbGxvd0F1dG9Cb290c3RyYXAod2luZG93LmRvY3VtZW50KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0FwcFxuICogQG1vZHVsZSBuZ1xuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHthbmd1bGFyLk1vZHVsZX0gbmdBcHAgYW4gb3B0aW9uYWwgYXBwbGljYXRpb25cbiAqICAge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZX0gbmFtZSB0byBsb2FkLlxuICogQHBhcmFtIHtib29sZWFuPX0gbmdTdHJpY3REaSBpZiB0aGlzIGF0dHJpYnV0ZSBpcyBwcmVzZW50IG9uIHRoZSBhcHAgZWxlbWVudCwgdGhlIGluamVjdG9yIHdpbGwgYmVcbiAqICAgY3JlYXRlZCBpbiBcInN0cmljdC1kaVwiIG1vZGUuIFRoaXMgbWVhbnMgdGhhdCB0aGUgYXBwbGljYXRpb24gd2lsbCBmYWlsIHRvIGludm9rZSBmdW5jdGlvbnMgd2hpY2hcbiAqICAgZG8gbm90IHVzZSBleHBsaWNpdCBmdW5jdGlvbiBhbm5vdGF0aW9uIChhbmQgYXJlIHRodXMgdW5zdWl0YWJsZSBmb3IgbWluaWZpY2F0aW9uKSwgYXMgZGVzY3JpYmVkXG4gKiAgIGluIHtAbGluayBndWlkZS9kaSB0aGUgRGVwZW5kZW5jeSBJbmplY3Rpb24gZ3VpZGV9LCBhbmQgdXNlZnVsIGRlYnVnZ2luZyBpbmZvIHdpbGwgYXNzaXN0IGluXG4gKiAgIHRyYWNraW5nIGRvd24gdGhlIHJvb3Qgb2YgdGhlc2UgYnVncy5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBVc2UgdGhpcyBkaXJlY3RpdmUgdG8gKiphdXRvLWJvb3RzdHJhcCoqIGFuIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbi4gVGhlIGBuZ0FwcGAgZGlyZWN0aXZlXG4gKiBkZXNpZ25hdGVzIHRoZSAqKnJvb3QgZWxlbWVudCoqIG9mIHRoZSBhcHBsaWNhdGlvbiBhbmQgaXMgdHlwaWNhbGx5IHBsYWNlZCBuZWFyIHRoZSByb290IGVsZW1lbnRcbiAqIG9mIHRoZSBwYWdlIC0gZS5nLiBvbiB0aGUgYDxib2R5PmAgb3IgYDxodG1sPmAgdGFncy5cbiAqXG4gKiBUaGVyZSBhcmUgYSBmZXcgdGhpbmdzIHRvIGtlZXAgaW4gbWluZCB3aGVuIHVzaW5nIGBuZ0FwcGA6XG4gKiAtIG9ubHkgb25lIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbiBjYW4gYmUgYXV0by1ib290c3RyYXBwZWQgcGVyIEhUTUwgZG9jdW1lbnQuIFRoZSBmaXJzdCBgbmdBcHBgXG4gKiAgIGZvdW5kIGluIHRoZSBkb2N1bWVudCB3aWxsIGJlIHVzZWQgdG8gZGVmaW5lIHRoZSByb290IGVsZW1lbnQgdG8gYXV0by1ib290c3RyYXAgYXMgYW5cbiAqICAgYXBwbGljYXRpb24uIFRvIHJ1biBtdWx0aXBsZSBhcHBsaWNhdGlvbnMgaW4gYW4gSFRNTCBkb2N1bWVudCB5b3UgbXVzdCBtYW51YWxseSBib290c3RyYXAgdGhlbSB1c2luZ1xuICogICB7QGxpbmsgYW5ndWxhci5ib290c3RyYXB9IGluc3RlYWQuXG4gKiAtIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbnMgY2Fubm90IGJlIG5lc3RlZCB3aXRoaW4gZWFjaCBvdGhlci5cbiAqIC0gRG8gbm90IHVzZSBhIGRpcmVjdGl2ZSB0aGF0IHVzZXMge0BsaW5rIG5nLiRjb21waWxlI3RyYW5zY2x1c2lvbiB0cmFuc2NsdXNpb259IG9uIHRoZSBzYW1lIGVsZW1lbnQgYXMgYG5nQXBwYC5cbiAqICAgVGhpcyBpbmNsdWRlcyBkaXJlY3RpdmVzIHN1Y2ggYXMge0BsaW5rIG5nLm5nSWYgYG5nSWZgfSwge0BsaW5rIG5nLm5nSW5jbHVkZSBgbmdJbmNsdWRlYH0gYW5kXG4gKiAgIHtAbGluayBuZ1JvdXRlLm5nVmlldyBgbmdWaWV3YH0uXG4gKiAgIERvaW5nIHRoaXMgbWlzcGxhY2VzIHRoZSBhcHAge0BsaW5rIG5nLiRyb290RWxlbWVudCBgJHJvb3RFbGVtZW50YH0gYW5kIHRoZSBhcHAncyB7QGxpbmsgYXV0by4kaW5qZWN0b3IgaW5qZWN0b3J9LFxuICogICBjYXVzaW5nIGFuaW1hdGlvbnMgdG8gc3RvcCB3b3JraW5nIGFuZCBtYWtpbmcgdGhlIGluamVjdG9yIGluYWNjZXNzaWJsZSBmcm9tIG91dHNpZGUgdGhlIGFwcC5cbiAqXG4gKiBZb3UgY2FuIHNwZWNpZnkgYW4gKipBbmd1bGFySlMgbW9kdWxlKiogdG8gYmUgdXNlZCBhcyB0aGUgcm9vdCBtb2R1bGUgZm9yIHRoZSBhcHBsaWNhdGlvbi4gIFRoaXNcbiAqIG1vZHVsZSB3aWxsIGJlIGxvYWRlZCBpbnRvIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3J9IHdoZW4gdGhlIGFwcGxpY2F0aW9uIGlzIGJvb3RzdHJhcHBlZC4gSXRcbiAqIHNob3VsZCBjb250YWluIHRoZSBhcHBsaWNhdGlvbiBjb2RlIG5lZWRlZCBvciBoYXZlIGRlcGVuZGVuY2llcyBvbiBvdGhlciBtb2R1bGVzIHRoYXQgd2lsbFxuICogY29udGFpbiB0aGUgY29kZS4gU2VlIHtAbGluayBhbmd1bGFyLm1vZHVsZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogSW4gdGhlIGV4YW1wbGUgYmVsb3cgaWYgdGhlIGBuZ0FwcGAgZGlyZWN0aXZlIHdlcmUgbm90IHBsYWNlZCBvbiB0aGUgYGh0bWxgIGVsZW1lbnQgdGhlbiB0aGVcbiAqIGRvY3VtZW50IHdvdWxkIG5vdCBiZSBjb21waWxlZCwgdGhlIGBBcHBDb250cm9sbGVyYCB3b3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGFuZCB0aGUgYHt7IGErYiB9fWBcbiAqIHdvdWxkIG5vdCBiZSByZXNvbHZlZCB0byBgM2AuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiAjIyMgU2ltcGxlIFVzYWdlXG4gKlxuICogYG5nQXBwYCBpcyB0aGUgZWFzaWVzdCwgYW5kIG1vc3QgY29tbW9uIHdheSB0byBib290c3RyYXAgYW4gYXBwbGljYXRpb24uXG4gKlxuIDxleGFtcGxlIG1vZHVsZT1cIm5nQXBwRGVtb1wiIG5hbWU9XCJuZy1hcHBcIj5cbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJuZ0FwcERlbW9Db250cm9sbGVyXCI+XG4gICAgIEkgY2FuIGFkZDoge3thfX0gKyB7e2J9fSA9ICB7eyBhK2IgfX1cbiAgIDwvZGl2PlxuICAgPC9maWxlPlxuICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgYW5ndWxhci5tb2R1bGUoJ25nQXBwRGVtbycsIFtdKS5jb250cm9sbGVyKCduZ0FwcERlbW9Db250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICRzY29wZS5hID0gMTtcbiAgICAgJHNjb3BlLmIgPSAyO1xuICAgfSk7XG4gICA8L2ZpbGU+XG4gPC9leGFtcGxlPlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogIyMjIFdpdGggYG5nU3RyaWN0RGlgXG4gKlxuICogVXNpbmcgYG5nU3RyaWN0RGlgLCB5b3Ugd291bGQgc2VlIHNvbWV0aGluZyBsaWtlIHRoaXM6XG4gKlxuIDxleGFtcGxlIG5nLWFwcC1pbmNsdWRlZD1cInRydWVcIiBuYW1lPVwic3RyaWN0LWRpXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgPGRpdiBuZy1hcHA9XCJuZ0FwcFN0cmljdERlbW9cIiBuZy1zdHJpY3QtZGk+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiR29vZENvbnRyb2xsZXIxXCI+XG4gICAgICAgICAgIEkgY2FuIGFkZDoge3thfX0gKyB7e2J9fSA9ICB7eyBhK2IgfX1cblxuICAgICAgICAgICA8cD5UaGlzIHJlbmRlcnMgYmVjYXVzZSB0aGUgY29udHJvbGxlciBkb2VzIG5vdCBmYWlsIHRvXG4gICAgICAgICAgICAgIGluc3RhbnRpYXRlLCBieSB1c2luZyBleHBsaWNpdCBhbm5vdGF0aW9uIHN0eWxlIChzZWVcbiAgICAgICAgICAgICAgc2NyaXB0LmpzIGZvciBkZXRhaWxzKVxuICAgICAgICAgICA8L3A+XG4gICAgICAgPC9kaXY+XG5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJHb29kQ29udHJvbGxlcjJcIj5cbiAgICAgICAgICAgTmFtZTogPGlucHV0IG5nLW1vZGVsPVwibmFtZVwiPjxiciAvPlxuICAgICAgICAgICBIZWxsbywge3tuYW1lfX0hXG5cbiAgICAgICAgICAgPHA+VGhpcyByZW5kZXJzIGJlY2F1c2UgdGhlIGNvbnRyb2xsZXIgZG9lcyBub3QgZmFpbCB0b1xuICAgICAgICAgICAgICBpbnN0YW50aWF0ZSwgYnkgdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbiBzdHlsZVxuICAgICAgICAgICAgICAoc2VlIHNjcmlwdC5qcyBmb3IgZGV0YWlscylcbiAgICAgICAgICAgPC9wPlxuICAgICAgIDwvZGl2PlxuXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiQmFkQ29udHJvbGxlclwiPlxuICAgICAgICAgICBJIGNhbiBhZGQ6IHt7YX19ICsge3tifX0gPSAge3sgYStiIH19XG5cbiAgICAgICAgICAgPHA+VGhlIGNvbnRyb2xsZXIgY291bGQgbm90IGJlIGluc3RhbnRpYXRlZCwgZHVlIHRvIHJlbHlpbmdcbiAgICAgICAgICAgICAgb24gYXV0b21hdGljIGZ1bmN0aW9uIGFubm90YXRpb25zICh3aGljaCBhcmUgZGlzYWJsZWQgaW5cbiAgICAgICAgICAgICAgc3RyaWN0IG1vZGUpLiBBcyBzdWNoLCB0aGUgY29udGVudCBvZiB0aGlzIHNlY3Rpb24gaXMgbm90XG4gICAgICAgICAgICAgIGludGVycG9sYXRlZCwgYW5kIHRoZXJlIHNob3VsZCBiZSBhbiBlcnJvciBpbiB5b3VyIHdlYiBjb25zb2xlLlxuICAgICAgICAgICA8L3A+XG4gICAgICAgPC9kaXY+XG4gICA8L2Rpdj5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgIGFuZ3VsYXIubW9kdWxlKCduZ0FwcFN0cmljdERlbW8nLCBbXSlcbiAgICAgLy8gQmFkQ29udHJvbGxlciB3aWxsIGZhaWwgdG8gaW5zdGFudGlhdGUsIGR1ZSB0byByZWx5aW5nIG9uIGF1dG9tYXRpYyBmdW5jdGlvbiBhbm5vdGF0aW9uLFxuICAgICAvLyByYXRoZXIgdGhhbiBhbiBleHBsaWNpdCBhbm5vdGF0aW9uXG4gICAgIC5jb250cm9sbGVyKCdCYWRDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgJHNjb3BlLmEgPSAxO1xuICAgICAgICRzY29wZS5iID0gMjtcbiAgICAgfSlcbiAgICAgLy8gVW5saWtlIEJhZENvbnRyb2xsZXIsIEdvb2RDb250cm9sbGVyMSBhbmQgR29vZENvbnRyb2xsZXIyIHdpbGwgbm90IGZhaWwgdG8gYmUgaW5zdGFudGlhdGVkLFxuICAgICAvLyBkdWUgdG8gdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbnMgdXNpbmcgdGhlIGFycmF5IHN0eWxlIGFuZCAkaW5qZWN0IHByb3BlcnR5LCByZXNwZWN0aXZlbHkuXG4gICAgIC5jb250cm9sbGVyKCdHb29kQ29udHJvbGxlcjEnLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICRzY29wZS5hID0gMTtcbiAgICAgICAkc2NvcGUuYiA9IDI7XG4gICAgIH1dKVxuICAgICAuY29udHJvbGxlcignR29vZENvbnRyb2xsZXIyJywgR29vZENvbnRyb2xsZXIyKTtcbiAgICAgZnVuY3Rpb24gR29vZENvbnRyb2xsZXIyKCRzY29wZSkge1xuICAgICAgICRzY29wZS5uYW1lID0gJ1dvcmxkJztcbiAgICAgfVxuICAgICBHb29kQ29udHJvbGxlcjIuJGluamVjdCA9IFsnJHNjb3BlJ107XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICBkaXZbbmctY29udHJvbGxlcl0ge1xuICAgICAgIG1hcmdpbi1ib3R0b206IDFlbTtcbiAgICAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgYm9yZGVyOiAxcHggc29saWQ7XG4gICAgICAgcGFkZGluZzogLjVlbTtcbiAgIH1cbiAgIGRpdltuZy1jb250cm9sbGVyXj1Hb29kXSB7XG4gICAgICAgYm9yZGVyLWNvbG9yOiAjZDZlOWM2O1xuICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNkZmYwZDg7XG4gICAgICAgY29sb3I6ICMzYzc2M2Q7XG4gICB9XG4gICBkaXZbbmctY29udHJvbGxlcl49QmFkXSB7XG4gICAgICAgYm9yZGVyLWNvbG9yOiAjZWJjY2QxO1xuICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMmRlZGU7XG4gICAgICAgY29sb3I6ICNhOTQ0NDI7XG4gICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgIH1cbiAgIDwvZmlsZT5cbiA8L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uIGFuZ3VsYXJJbml0KGVsZW1lbnQsIGJvb3RzdHJhcCkge1xuICB2YXIgYXBwRWxlbWVudCxcbiAgICAgIG1vZHVsZSxcbiAgICAgIGNvbmZpZyA9IHt9O1xuXG4gIC8vIFRoZSBlbGVtZW50IGBlbGVtZW50YCBoYXMgcHJpb3JpdHkgb3ZlciBhbnkgb3RoZXIgZWxlbWVudC5cbiAgZm9yRWFjaChuZ0F0dHJQcmVmaXhlcywgZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgdmFyIG5hbWUgPSBwcmVmaXggKyAnYXBwJztcblxuICAgIGlmICghYXBwRWxlbWVudCAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgYXBwRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICBtb2R1bGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG4gIH0pO1xuICBmb3JFYWNoKG5nQXR0clByZWZpeGVzLCBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICB2YXIgbmFtZSA9IHByZWZpeCArICdhcHAnO1xuICAgIHZhciBjYW5kaWRhdGU7XG5cbiAgICBpZiAoIWFwcEVsZW1lbnQgJiYgKGNhbmRpZGF0ZSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignWycgKyBuYW1lLnJlcGxhY2UoJzonLCAnXFxcXDonKSArICddJykpKSB7XG4gICAgICBhcHBFbGVtZW50ID0gY2FuZGlkYXRlO1xuICAgICAgbW9kdWxlID0gY2FuZGlkYXRlLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG4gIH0pO1xuICBpZiAoYXBwRWxlbWVudCkge1xuICAgIGlmICghaXNBdXRvQm9vdHN0cmFwQWxsb3dlZCkge1xuICAgICAgd2luZG93LmNvbnNvbGUuZXJyb3IoJ0FuZ3VsYXJKUzogZGlzYWJsaW5nIGF1dG9tYXRpYyBib290c3RyYXAuIDxzY3JpcHQ+IHByb3RvY29sIGluZGljYXRlcyAnICtcbiAgICAgICAgICAnYW4gZXh0ZW5zaW9uLCBkb2N1bWVudC5sb2NhdGlvbi5ocmVmIGRvZXMgbm90IG1hdGNoLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25maWcuc3RyaWN0RGkgPSBnZXROZ0F0dHJpYnV0ZShhcHBFbGVtZW50LCAnc3RyaWN0LWRpJykgIT09IG51bGw7XG4gICAgYm9vdHN0cmFwKGFwcEVsZW1lbnQsIG1vZHVsZSA/IFttb2R1bGVdIDogW10sIGNvbmZpZyk7XG4gIH1cbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuYm9vdHN0cmFwXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIG1hbnVhbGx5IHN0YXJ0IHVwIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbi5cbiAqXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIHRoZSB7QGxpbmsgZ3VpZGUvYm9vdHN0cmFwIEJvb3RzdHJhcCBndWlkZX0uXG4gKlxuICogQW5ndWxhckpTIHdpbGwgZGV0ZWN0IGlmIGl0IGhhcyBiZWVuIGxvYWRlZCBpbnRvIHRoZSBicm93c2VyIG1vcmUgdGhhbiBvbmNlIGFuZCBvbmx5IGFsbG93IHRoZVxuICogZmlyc3QgbG9hZGVkIHNjcmlwdCB0byBiZSBib290c3RyYXBwZWQgYW5kIHdpbGwgcmVwb3J0IGEgd2FybmluZyB0byB0aGUgYnJvd3NlciBjb25zb2xlIGZvclxuICogZWFjaCBvZiB0aGUgc3Vic2VxdWVudCBzY3JpcHRzLiBUaGlzIHByZXZlbnRzIHN0cmFuZ2UgcmVzdWx0cyBpbiBhcHBsaWNhdGlvbnMsIHdoZXJlIG90aGVyd2lzZVxuICogbXVsdGlwbGUgaW5zdGFuY2VzIG9mIEFuZ3VsYXJKUyB0cnkgdG8gd29yayBvbiB0aGUgRE9NLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogUHJvdHJhY3RvciBiYXNlZCBlbmQtdG8tZW5kIHRlc3RzIGNhbm5vdCB1c2UgdGhpcyBmdW5jdGlvbiB0byBib290c3RyYXAgbWFudWFsbHkuXG4gKiBUaGV5IG11c3QgdXNlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdBcHAgbmdBcHB9LlxuICogPC9kaXY+XG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBEbyBub3QgYm9vdHN0cmFwIHRoZSBhcHAgb24gYW4gZWxlbWVudCB3aXRoIGEgZGlyZWN0aXZlIHRoYXQgdXNlcyB7QGxpbmsgbmcuJGNvbXBpbGUjdHJhbnNjbHVzaW9uIHRyYW5zY2x1c2lvbn0sXG4gKiBzdWNoIGFzIHtAbGluayBuZy5uZ0lmIGBuZ0lmYH0sIHtAbGluayBuZy5uZ0luY2x1ZGUgYG5nSW5jbHVkZWB9IGFuZCB7QGxpbmsgbmdSb3V0ZS5uZ1ZpZXcgYG5nVmlld2B9LlxuICogRG9pbmcgdGhpcyBtaXNwbGFjZXMgdGhlIGFwcCB7QGxpbmsgbmcuJHJvb3RFbGVtZW50IGAkcm9vdEVsZW1lbnRgfSBhbmQgdGhlIGFwcCdzIHtAbGluayBhdXRvLiRpbmplY3RvciBpbmplY3Rvcn0sXG4gKiBjYXVzaW5nIGFuaW1hdGlvbnMgdG8gc3RvcCB3b3JraW5nIGFuZCBtYWtpbmcgdGhlIGluamVjdG9yIGluYWNjZXNzaWJsZSBmcm9tIG91dHNpZGUgdGhlIGFwcC5cbiAqIDwvZGl2PlxuICpcbiAqIGBgYGh0bWxcbiAqIDwhZG9jdHlwZSBodG1sPlxuICogPGh0bWw+XG4gKiA8Ym9keT5cbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIldlbGNvbWVDb250cm9sbGVyXCI+XG4gKiAgIHt7Z3JlZXRpbmd9fVxuICogPC9kaXY+XG4gKlxuICogPHNjcmlwdCBzcmM9XCJhbmd1bGFyLmpzXCI+PC9zY3JpcHQ+XG4gKiA8c2NyaXB0PlxuICogICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2RlbW8nLCBbXSlcbiAqICAgLmNvbnRyb2xsZXIoJ1dlbGNvbWVDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gKiAgICAgICAkc2NvcGUuZ3JlZXRpbmcgPSAnV2VsY29tZSEnO1xuICogICB9KTtcbiAqICAgYW5ndWxhci5ib290c3RyYXAoZG9jdW1lbnQsIFsnZGVtbyddKTtcbiAqIDwvc2NyaXB0PlxuICogPC9ib2R5PlxuICogPC9odG1sPlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IERPTSBlbGVtZW50IHdoaWNoIGlzIHRoZSByb290IG9mIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbi5cbiAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nfEZ1bmN0aW9ufEFycmF5Pj19IG1vZHVsZXMgYW4gYXJyYXkgb2YgbW9kdWxlcyB0byBsb2FkIGludG8gdGhlIGFwcGxpY2F0aW9uLlxuICogICAgIEVhY2ggaXRlbSBpbiB0aGUgYXJyYXkgc2hvdWxkIGJlIHRoZSBuYW1lIG9mIGEgcHJlZGVmaW5lZCBtb2R1bGUgb3IgYSAoREkgYW5ub3RhdGVkKVxuICogICAgIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnZva2VkIGJ5IHRoZSBpbmplY3RvciBhcyBhIGBjb25maWdgIGJsb2NrLlxuICogICAgIFNlZToge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZXN9XG4gKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBhbiBvYmplY3QgZm9yIGRlZmluaW5nIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGFwcGxpY2F0aW9uLiBUaGVcbiAqICAgICBmb2xsb3dpbmcga2V5cyBhcmUgc3VwcG9ydGVkOlxuICpcbiAqICogYHN0cmljdERpYCAtIGRpc2FibGUgYXV0b21hdGljIGZ1bmN0aW9uIGFubm90YXRpb24gZm9yIHRoZSBhcHBsaWNhdGlvbi4gVGhpcyBpcyBtZWFudCB0b1xuICogICBhc3Npc3QgaW4gZmluZGluZyBidWdzIHdoaWNoIGJyZWFrIG1pbmlmaWVkIGNvZGUuIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKlxuICogQHJldHVybnMge2F1dG8uJGluamVjdG9yfSBSZXR1cm5zIHRoZSBuZXdseSBjcmVhdGVkIGluamVjdG9yIGZvciB0aGlzIGFwcC5cbiAqL1xuZnVuY3Rpb24gYm9vdHN0cmFwKGVsZW1lbnQsIG1vZHVsZXMsIGNvbmZpZykge1xuICBpZiAoIWlzT2JqZWN0KGNvbmZpZykpIGNvbmZpZyA9IHt9O1xuICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcbiAgICBzdHJpY3REaTogZmFsc2VcbiAgfTtcbiAgY29uZmlnID0gZXh0ZW5kKGRlZmF1bHRDb25maWcsIGNvbmZpZyk7XG4gIHZhciBkb0Jvb3RzdHJhcCA9IGZ1bmN0aW9uKCkge1xuICAgIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCk7XG5cbiAgICBpZiAoZWxlbWVudC5pbmplY3RvcigpKSB7XG4gICAgICB2YXIgdGFnID0gKGVsZW1lbnRbMF0gPT09IHdpbmRvdy5kb2N1bWVudCkgPyAnZG9jdW1lbnQnIDogc3RhcnRpbmdUYWcoZWxlbWVudCk7XG4gICAgICAvLyBFbmNvZGUgYW5nbGUgYnJhY2tldHMgdG8gcHJldmVudCBpbnB1dCBmcm9tIGJlaW5nIHNhbml0aXplZCB0byBlbXB0eSBzdHJpbmcgIzg2ODMuXG4gICAgICB0aHJvdyBuZ01pbkVycihcbiAgICAgICAgICAnYnRzdHJwZCcsXG4gICAgICAgICAgJ0FwcCBhbHJlYWR5IGJvb3RzdHJhcHBlZCB3aXRoIHRoaXMgZWxlbWVudCBcXCd7MH1cXCcnLFxuICAgICAgICAgIHRhZy5yZXBsYWNlKC88LywnJmx0OycpLnJlcGxhY2UoLz4vLCcmZ3Q7JykpO1xuICAgIH1cblxuICAgIG1vZHVsZXMgPSBtb2R1bGVzIHx8IFtdO1xuICAgIG1vZHVsZXMudW5zaGlmdChbJyRwcm92aWRlJywgZnVuY3Rpb24oJHByb3ZpZGUpIHtcbiAgICAgICRwcm92aWRlLnZhbHVlKCckcm9vdEVsZW1lbnQnLCBlbGVtZW50KTtcbiAgICB9XSk7XG5cbiAgICBpZiAoY29uZmlnLmRlYnVnSW5mb0VuYWJsZWQpIHtcbiAgICAgIC8vIFB1c2hpbmcgc28gdGhhdCB0aGlzIG92ZXJyaWRlcyBgZGVidWdJbmZvRW5hYmxlZGAgc2V0dGluZyBkZWZpbmVkIGluIHVzZXIncyBgbW9kdWxlc2AuXG4gICAgICBtb2R1bGVzLnB1c2goWyckY29tcGlsZVByb3ZpZGVyJywgZnVuY3Rpb24oJGNvbXBpbGVQcm92aWRlcikge1xuICAgICAgICAkY29tcGlsZVByb3ZpZGVyLmRlYnVnSW5mb0VuYWJsZWQodHJ1ZSk7XG4gICAgICB9XSk7XG4gICAgfVxuXG4gICAgbW9kdWxlcy51bnNoaWZ0KCduZycpO1xuICAgIHZhciBpbmplY3RvciA9IGNyZWF0ZUluamVjdG9yKG1vZHVsZXMsIGNvbmZpZy5zdHJpY3REaSk7XG4gICAgaW5qZWN0b3IuaW52b2tlKFsnJHJvb3RTY29wZScsICckcm9vdEVsZW1lbnQnLCAnJGNvbXBpbGUnLCAnJGluamVjdG9yJyxcbiAgICAgICBmdW5jdGlvbiBib290c3RyYXBBcHBseShzY29wZSwgZWxlbWVudCwgY29tcGlsZSwgaW5qZWN0b3IpIHtcbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQuZGF0YSgnJGluamVjdG9yJywgaW5qZWN0b3IpO1xuICAgICAgICAgIGNvbXBpbGUoZWxlbWVudCkoc2NvcGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1dXG4gICAgKTtcbiAgICByZXR1cm4gaW5qZWN0b3I7XG4gIH07XG5cbiAgdmFyIE5HX0VOQUJMRV9ERUJVR19JTkZPID0gL15OR19FTkFCTEVfREVCVUdfSU5GTyEvO1xuICB2YXIgTkdfREVGRVJfQk9PVFNUUkFQID0gL15OR19ERUZFUl9CT09UU1RSQVAhLztcblxuICBpZiAod2luZG93ICYmIE5HX0VOQUJMRV9ERUJVR19JTkZPLnRlc3Qod2luZG93Lm5hbWUpKSB7XG4gICAgY29uZmlnLmRlYnVnSW5mb0VuYWJsZWQgPSB0cnVlO1xuICAgIHdpbmRvdy5uYW1lID0gd2luZG93Lm5hbWUucmVwbGFjZShOR19FTkFCTEVfREVCVUdfSU5GTywgJycpO1xuICB9XG5cbiAgaWYgKHdpbmRvdyAmJiAhTkdfREVGRVJfQk9PVFNUUkFQLnRlc3Qod2luZG93Lm5hbWUpKSB7XG4gICAgcmV0dXJuIGRvQm9vdHN0cmFwKCk7XG4gIH1cblxuICB3aW5kb3cubmFtZSA9IHdpbmRvdy5uYW1lLnJlcGxhY2UoTkdfREVGRVJfQk9PVFNUUkFQLCAnJyk7XG4gIGFuZ3VsYXIucmVzdW1lQm9vdHN0cmFwID0gZnVuY3Rpb24oZXh0cmFNb2R1bGVzKSB7XG4gICAgZm9yRWFjaChleHRyYU1vZHVsZXMsIGZ1bmN0aW9uKG1vZHVsZSkge1xuICAgICAgbW9kdWxlcy5wdXNoKG1vZHVsZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRvQm9vdHN0cmFwKCk7XG4gIH07XG5cbiAgaWYgKGlzRnVuY3Rpb24oYW5ndWxhci5yZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCkpIHtcbiAgICBhbmd1bGFyLnJlc3VtZURlZmVycmVkQm9vdHN0cmFwKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIucmVsb2FkV2l0aERlYnVnSW5mb1xuICogQG1vZHVsZSBuZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgdGhpcyBmdW5jdGlvbiB0byByZWxvYWQgdGhlIGN1cnJlbnQgYXBwbGljYXRpb24gd2l0aCBkZWJ1ZyBpbmZvcm1hdGlvbiB0dXJuZWQgb24uXG4gKiBUaGlzIHRha2VzIHByZWNlZGVuY2Ugb3ZlciBhIGNhbGwgdG8gYCRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZChmYWxzZSlgLlxuICpcbiAqIFNlZSB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkZWJ1Z0luZm9FbmFibGVkfSBmb3IgbW9yZS5cbiAqL1xuZnVuY3Rpb24gcmVsb2FkV2l0aERlYnVnSW5mbygpIHtcbiAgd2luZG93Lm5hbWUgPSAnTkdfRU5BQkxFX0RFQlVHX0lORk8hJyArIHdpbmRvdy5uYW1lO1xuICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG59XG5cbi8qKlxuICogQG5hbWUgYW5ndWxhci5nZXRUZXN0YWJpbGl0eVxuICogQG1vZHVsZSBuZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBHZXQgdGhlIHRlc3RhYmlsaXR5IHNlcnZpY2UgZm9yIHRoZSBpbnN0YW5jZSBvZiBBbmd1bGFySlMgb24gdGhlIGdpdmVuXG4gKiBlbGVtZW50LlxuICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IERPTSBlbGVtZW50IHdoaWNoIGlzIHRoZSByb290IG9mIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0VGVzdGFiaWxpdHkocm9vdEVsZW1lbnQpIHtcbiAgdmFyIGluamVjdG9yID0gYW5ndWxhci5lbGVtZW50KHJvb3RFbGVtZW50KS5pbmplY3RvcigpO1xuICBpZiAoIWluamVjdG9yKSB7XG4gICAgdGhyb3cgbmdNaW5FcnIoJ3Rlc3QnLFxuICAgICAgJ25vIGluamVjdG9yIGZvdW5kIGZvciBlbGVtZW50IGFyZ3VtZW50IHRvIGdldFRlc3RhYmlsaXR5Jyk7XG4gIH1cbiAgcmV0dXJuIGluamVjdG9yLmdldCgnJCR0ZXN0YWJpbGl0eScpO1xufVxuXG52YXIgU05BS0VfQ0FTRV9SRUdFWFAgPSAvW0EtWl0vZztcbmZ1bmN0aW9uIHNuYWtlX2Nhc2UobmFtZSwgc2VwYXJhdG9yKSB7XG4gIHNlcGFyYXRvciA9IHNlcGFyYXRvciB8fCAnXyc7XG4gIHJldHVybiBuYW1lLnJlcGxhY2UoU05BS0VfQ0FTRV9SRUdFWFAsIGZ1bmN0aW9uKGxldHRlciwgcG9zKSB7XG4gICAgcmV0dXJuIChwb3MgPyBzZXBhcmF0b3IgOiAnJykgKyBsZXR0ZXIudG9Mb3dlckNhc2UoKTtcbiAgfSk7XG59XG5cbnZhciBiaW5kSlF1ZXJ5RmlyZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGJpbmRKUXVlcnkoKSB7XG4gIHZhciBvcmlnaW5hbENsZWFuRGF0YTtcblxuICBpZiAoYmluZEpRdWVyeUZpcmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gYmluZCB0byBqUXVlcnkgaWYgcHJlc2VudDtcbiAgdmFyIGpxTmFtZSA9IGpxKCk7XG4gIGpRdWVyeSA9IGlzVW5kZWZpbmVkKGpxTmFtZSkgPyB3aW5kb3cualF1ZXJ5IDogICAvLyB1c2UgalF1ZXJ5IChpZiBwcmVzZW50KVxuICAgICAgICAgICAhanFOYW1lICAgICAgICAgICAgID8gdW5kZWZpbmVkICAgICA6ICAgLy8gdXNlIGpxTGl0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93W2pxTmFtZV07ICAgLy8gdXNlIGpRdWVyeSBzcGVjaWZpZWQgYnkgYG5nSnFgXG5cbiAgLy8gVXNlIGpRdWVyeSBpZiBpdCBleGlzdHMgd2l0aCBwcm9wZXIgZnVuY3Rpb25hbGl0eSwgb3RoZXJ3aXNlIGRlZmF1bHQgdG8gdXMuXG4gIC8vIEFuZ3VsYXJKUyAxLjIrIHJlcXVpcmVzIGpRdWVyeSAxLjcrIGZvciBvbigpL29mZigpIHN1cHBvcnQuXG4gIC8vIEFuZ3VsYXJKUyAxLjMrIHRlY2huaWNhbGx5IHJlcXVpcmVzIGF0IGxlYXN0IGpRdWVyeSAyLjErIGJ1dCBpdCBtYXkgd29yayB3aXRoIG9sZGVyXG4gIC8vIHZlcnNpb25zLiBJdCB3aWxsIG5vdCB3b3JrIGZvciBzdXJlIHdpdGggalF1ZXJ5IDwxLjcsIHRob3VnaC5cbiAgaWYgKGpRdWVyeSAmJiBqUXVlcnkuZm4ub24pIHtcbiAgICBqcUxpdGUgPSBqUXVlcnk7XG4gICAgZXh0ZW5kKGpRdWVyeS5mbiwge1xuICAgICAgc2NvcGU6IEpRTGl0ZVByb3RvdHlwZS5zY29wZSxcbiAgICAgIGlzb2xhdGVTY29wZTogSlFMaXRlUHJvdG90eXBlLmlzb2xhdGVTY29wZSxcbiAgICAgIGNvbnRyb2xsZXI6IC8qKiBAdHlwZSB7P30gKi8gKEpRTGl0ZVByb3RvdHlwZSkuY29udHJvbGxlcixcbiAgICAgIGluamVjdG9yOiBKUUxpdGVQcm90b3R5cGUuaW5qZWN0b3IsXG4gICAgICBpbmhlcml0ZWREYXRhOiBKUUxpdGVQcm90b3R5cGUuaW5oZXJpdGVkRGF0YVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGpxTGl0ZSA9IEpRTGl0ZTtcbiAgfVxuXG4gIC8vIEFsbCBub2RlcyByZW1vdmVkIGZyb20gdGhlIERPTSB2aWEgdmFyaW91cyBqcUxpdGUvalF1ZXJ5IEFQSXMgbGlrZSAucmVtb3ZlKClcbiAgLy8gYXJlIHBhc3NlZCB0aHJvdWdoIGpxTGl0ZS9qUXVlcnkuY2xlYW5EYXRhLiBNb25rZXktcGF0Y2ggdGhpcyBtZXRob2QgdG8gZmlyZVxuICAvLyB0aGUgJGRlc3Ryb3kgZXZlbnQgb24gYWxsIHJlbW92ZWQgbm9kZXMuXG4gIG9yaWdpbmFsQ2xlYW5EYXRhID0ganFMaXRlLmNsZWFuRGF0YTtcbiAganFMaXRlLmNsZWFuRGF0YSA9IGZ1bmN0aW9uKGVsZW1zKSB7XG4gICAgdmFyIGV2ZW50cztcbiAgICBmb3IgKHZhciBpID0gMCwgZWxlbTsgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrKSB7XG4gICAgICBldmVudHMgPSAoanFMaXRlLl9kYXRhKGVsZW0pIHx8IHt9KS5ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzICYmIGV2ZW50cy4kZGVzdHJveSkge1xuICAgICAgICBqcUxpdGUoZWxlbSkudHJpZ2dlckhhbmRsZXIoJyRkZXN0cm95Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIG9yaWdpbmFsQ2xlYW5EYXRhKGVsZW1zKTtcbiAgfTtcblxuICBhbmd1bGFyLmVsZW1lbnQgPSBqcUxpdGU7XG5cbiAgLy8gUHJldmVudCBkb3VibGUtcHJveHlpbmcuXG4gIGJpbmRKUXVlcnlGaXJlZCA9IHRydWU7XG59XG5cbi8qKlxuICogdGhyb3cgZXJyb3IgaWYgdGhlIGFyZ3VtZW50IGlzIGZhbHN5LlxuICovXG5mdW5jdGlvbiBhc3NlcnRBcmcoYXJnLCBuYW1lLCByZWFzb24pIHtcbiAgaWYgKCFhcmcpIHtcbiAgICB0aHJvdyBuZ01pbkVycignYXJlcScsICdBcmd1bWVudCBcXCd7MH1cXCcgaXMgezF9JywgKG5hbWUgfHwgJz8nKSwgKHJlYXNvbiB8fCAncmVxdWlyZWQnKSk7XG4gIH1cbiAgcmV0dXJuIGFyZztcbn1cblxuZnVuY3Rpb24gYXNzZXJ0QXJnRm4oYXJnLCBuYW1lLCBhY2NlcHRBcnJheUFubm90YXRpb24pIHtcbiAgaWYgKGFjY2VwdEFycmF5QW5ub3RhdGlvbiAmJiBpc0FycmF5KGFyZykpIHtcbiAgICAgIGFyZyA9IGFyZ1thcmcubGVuZ3RoIC0gMV07XG4gIH1cblxuICBhc3NlcnRBcmcoaXNGdW5jdGlvbihhcmcpLCBuYW1lLCAnbm90IGEgZnVuY3Rpb24sIGdvdCAnICtcbiAgICAgIChhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgPyBhcmcuY29uc3RydWN0b3IubmFtZSB8fCAnT2JqZWN0JyA6IHR5cGVvZiBhcmcpKTtcbiAgcmV0dXJuIGFyZztcbn1cblxuLyoqXG4gKiB0aHJvdyBlcnJvciBpZiB0aGUgbmFtZSBnaXZlbiBpcyBoYXNPd25Qcm9wZXJ0eVxuICogQHBhcmFtICB7U3RyaW5nfSBuYW1lICAgIHRoZSBuYW1lIHRvIHRlc3RcbiAqIEBwYXJhbSAge1N0cmluZ30gY29udGV4dCB0aGUgY29udGV4dCBpbiB3aGljaCB0aGUgbmFtZSBpcyB1c2VkLCBzdWNoIGFzIG1vZHVsZSBvciBkaXJlY3RpdmVcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgY29udGV4dCkge1xuICBpZiAobmFtZSA9PT0gJ2hhc093blByb3BlcnR5Jykge1xuICAgIHRocm93IG5nTWluRXJyKCdiYWRuYW1lJywgJ2hhc093blByb3BlcnR5IGlzIG5vdCBhIHZhbGlkIHswfSBuYW1lJywgY29udGV4dCk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHZhbHVlIGFjY2Vzc2libGUgZnJvbSB0aGUgb2JqZWN0IGJ5IHBhdGguIEFueSB1bmRlZmluZWQgdHJhdmVyc2FscyBhcmUgaWdub3JlZFxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBzdGFydGluZyBvYmplY3RcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIHBhdGggdG8gdHJhdmVyc2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2JpbmRGblRvU2NvcGU9dHJ1ZV1cbiAqIEByZXR1cm5zIHtPYmplY3R9IHZhbHVlIGFzIGFjY2Vzc2libGUgYnkgcGF0aFxuICovXG4vL1RPRE8obWlza28pOiB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJlbW92ZWRcbmZ1bmN0aW9uIGdldHRlcihvYmosIHBhdGgsIGJpbmRGblRvU2NvcGUpIHtcbiAgaWYgKCFwYXRoKSByZXR1cm4gb2JqO1xuICB2YXIga2V5cyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgdmFyIGtleTtcbiAgdmFyIGxhc3RJbnN0YW5jZSA9IG9iajtcbiAgdmFyIGxlbiA9IGtleXMubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBrZXkgPSBrZXlzW2ldO1xuICAgIGlmIChvYmopIHtcbiAgICAgIG9iaiA9IChsYXN0SW5zdGFuY2UgPSBvYmopW2tleV07XG4gICAgfVxuICB9XG4gIGlmICghYmluZEZuVG9TY29wZSAmJiBpc0Z1bmN0aW9uKG9iaikpIHtcbiAgICByZXR1cm4gYmluZChsYXN0SW5zdGFuY2UsIG9iaik7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIERPTSBzaWJsaW5ncyBiZXR3ZWVuIHRoZSBmaXJzdCBhbmQgbGFzdCBub2RlIGluIHRoZSBnaXZlbiBhcnJheS5cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IGxpa2Ugb2JqZWN0XG4gKiBAcmV0dXJucyB7QXJyYXl9IHRoZSBpbnB1dHRlZCBvYmplY3Qgb3IgYSBqcUxpdGUgY29sbGVjdGlvbiBjb250YWluaW5nIHRoZSBub2Rlc1xuICovXG5mdW5jdGlvbiBnZXRCbG9ja05vZGVzKG5vZGVzKSB7XG4gIC8vIFRPRE8ocGVyZik6IHVwZGF0ZSBgbm9kZXNgIGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgb2JqZWN0P1xuICB2YXIgbm9kZSA9IG5vZGVzWzBdO1xuICB2YXIgZW5kTm9kZSA9IG5vZGVzW25vZGVzLmxlbmd0aCAtIDFdO1xuICB2YXIgYmxvY2tOb2RlcztcblxuICBmb3IgKHZhciBpID0gMTsgbm9kZSAhPT0gZW5kTm9kZSAmJiAobm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpOyBpKyspIHtcbiAgICBpZiAoYmxvY2tOb2RlcyB8fCBub2Rlc1tpXSAhPT0gbm9kZSkge1xuICAgICAgaWYgKCFibG9ja05vZGVzKSB7XG4gICAgICAgIGJsb2NrTm9kZXMgPSBqcUxpdGUoc2xpY2UuY2FsbChub2RlcywgMCwgaSkpO1xuICAgICAgfVxuICAgICAgYmxvY2tOb2Rlcy5wdXNoKG5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBibG9ja05vZGVzIHx8IG5vZGVzO1xufVxuXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBvYmplY3Qgd2l0aG91dCBhIHByb3RvdHlwZS4gVGhpcyBvYmplY3QgaXMgdXNlZnVsIGZvciBsb29rdXAgd2l0aG91dCBoYXZpbmcgdG9cbiAqIGd1YXJkIGFnYWluc3QgcHJvdG90eXBpY2FsbHkgaW5oZXJpdGVkIHByb3BlcnRpZXMgdmlhIGhhc093blByb3BlcnR5LlxuICpcbiAqIFJlbGF0ZWQgbWljcm8tYmVuY2htYXJrczpcbiAqIC0gaHR0cDovL2pzcGVyZi5jb20vb2JqZWN0LWNyZWF0ZTJcbiAqIC0gaHR0cDovL2pzcGVyZi5jb20vcHJvdG8tbWFwLWxvb2t1cC8yXG4gKiAtIGh0dHA6Ly9qc3BlcmYuY29tL2Zvci1pbi12cy1vYmplY3Qta2V5czJcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBjcmVhdGVNYXAoKSB7XG4gIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHsgLy8gbnVsbCB8fCB1bmRlZmluZWRcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHZhbHVlID0gJycgKyB2YWx1ZTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAoaGFzQ3VzdG9tVG9TdHJpbmcodmFsdWUpICYmICFpc0FycmF5KHZhbHVlKSAmJiAhaXNEYXRlKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IHRvSnNvbih2YWx1ZSk7XG4gICAgICB9XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG5cbnZhciBOT0RFX1RZUEVfRUxFTUVOVCA9IDE7XG52YXIgTk9ERV9UWVBFX0FUVFJJQlVURSA9IDI7XG52YXIgTk9ERV9UWVBFX1RFWFQgPSAzO1xudmFyIE5PREVfVFlQRV9DT01NRU5UID0gODtcbnZhciBOT0RFX1RZUEVfRE9DVU1FTlQgPSA5O1xudmFyIE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCA9IDExO1xuXG4vKipcbiAqIEBuZ2RvYyB0eXBlXG4gKiBAbmFtZSBhbmd1bGFyLk1vZHVsZVxuICogQG1vZHVsZSBuZ1xuICogQGRlc2NyaXB0aW9uXG4gKlxuICogSW50ZXJmYWNlIGZvciBjb25maWd1cmluZyBBbmd1bGFySlMge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZXN9LlxuICovXG5cbmZ1bmN0aW9uIHNldHVwTW9kdWxlTG9hZGVyKHdpbmRvdykge1xuXG4gIHZhciAkaW5qZWN0b3JNaW5FcnIgPSBtaW5FcnIoJyRpbmplY3RvcicpO1xuICB2YXIgbmdNaW5FcnIgPSBtaW5FcnIoJ25nJyk7XG5cbiAgZnVuY3Rpb24gZW5zdXJlKG9iaiwgbmFtZSwgZmFjdG9yeSkge1xuICAgIHJldHVybiBvYmpbbmFtZV0gfHwgKG9ialtuYW1lXSA9IGZhY3RvcnkoKSk7XG4gIH1cblxuICB2YXIgYW5ndWxhciA9IGVuc3VyZSh3aW5kb3csICdhbmd1bGFyJywgT2JqZWN0KTtcblxuICAvLyBXZSBuZWVkIHRvIGV4cG9zZSBgYW5ndWxhci4kJG1pbkVycmAgdG8gbW9kdWxlcyBzdWNoIGFzIGBuZ1Jlc291cmNlYCB0aGF0IHJlZmVyZW5jZSBpdCBkdXJpbmcgYm9vdHN0cmFwXG4gIGFuZ3VsYXIuJCRtaW5FcnIgPSBhbmd1bGFyLiQkbWluRXJyIHx8IG1pbkVycjtcblxuICByZXR1cm4gZW5zdXJlKGFuZ3VsYXIsICdtb2R1bGUnLCBmdW5jdGlvbigpIHtcbiAgICAvKiogQHR5cGUge09iamVjdC48c3RyaW5nLCBhbmd1bGFyLk1vZHVsZT59ICovXG4gICAgdmFyIG1vZHVsZXMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXIubW9kdWxlXG4gICAgICogQG1vZHVsZSBuZ1xuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqXG4gICAgICogVGhlIGBhbmd1bGFyLm1vZHVsZWAgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFySlNcbiAgICAgKiBtb2R1bGVzLlxuICAgICAqIEFsbCBtb2R1bGVzIChBbmd1bGFySlMgY29yZSBvciAzcmQgcGFydHkpIHRoYXQgc2hvdWxkIGJlIGF2YWlsYWJsZSB0byBhbiBhcHBsaWNhdGlvbiBtdXN0IGJlXG4gICAgICogcmVnaXN0ZXJlZCB1c2luZyB0aGlzIG1lY2hhbmlzbS5cbiAgICAgKlxuICAgICAqIFBhc3Npbmcgb25lIGFyZ3VtZW50IHJldHJpZXZlcyBhbiBleGlzdGluZyB7QGxpbmsgYW5ndWxhci5Nb2R1bGV9LFxuICAgICAqIHdoZXJlYXMgcGFzc2luZyBtb3JlIHRoYW4gb25lIGFyZ3VtZW50IGNyZWF0ZXMgYSBuZXcge0BsaW5rIGFuZ3VsYXIuTW9kdWxlfVxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIE1vZHVsZVxuICAgICAqXG4gICAgICogQSBtb2R1bGUgaXMgYSBjb2xsZWN0aW9uIG9mIHNlcnZpY2VzLCBkaXJlY3RpdmVzLCBjb250cm9sbGVycywgZmlsdGVycywgYW5kIGNvbmZpZ3VyYXRpb24gaW5mb3JtYXRpb24uXG4gICAgICogYGFuZ3VsYXIubW9kdWxlYCBpcyB1c2VkIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBtb2R1bGVcbiAgICAgKiB2YXIgbXlNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnbXlNb2R1bGUnLCBbXSk7XG4gICAgICpcbiAgICAgKiAvLyByZWdpc3RlciBhIG5ldyBzZXJ2aWNlXG4gICAgICogbXlNb2R1bGUudmFsdWUoJ2FwcE5hbWUnLCAnTXlDb29sQXBwJyk7XG4gICAgICpcbiAgICAgKiAvLyBjb25maWd1cmUgZXhpc3Rpbmcgc2VydmljZXMgaW5zaWRlIGluaXRpYWxpemF0aW9uIGJsb2Nrcy5cbiAgICAgKiBteU1vZHVsZS5jb25maWcoWyckbG9jYXRpb25Qcm92aWRlcicsIGZ1bmN0aW9uKCRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgICogICAvLyBDb25maWd1cmUgZXhpc3RpbmcgcHJvdmlkZXJzXG4gICAgICogICAkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCchJyk7XG4gICAgICogfV0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVGhlbiB5b3UgY2FuIGNyZWF0ZSBhbiBpbmplY3RvciBhbmQgbG9hZCB5b3VyIG1vZHVsZXMgbGlrZSB0aGlzOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiB2YXIgaW5qZWN0b3IgPSBhbmd1bGFyLmluamVjdG9yKFsnbmcnLCAnbXlNb2R1bGUnXSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEhvd2V2ZXIgaXQncyBtb3JlIGxpa2VseSB0aGF0IHlvdSdsbCBqdXN0IHVzZVxuICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdBcHAgbmdBcHB9IG9yXG4gICAgICoge0BsaW5rIGFuZ3VsYXIuYm9vdHN0cmFwfSB0byBzaW1wbGlmeSB0aGlzIHByb2Nlc3MgZm9yIHlvdS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IXN0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbW9kdWxlIHRvIGNyZWF0ZSBvciByZXRyaWV2ZS5cbiAgICAgKiBAcGFyYW0geyFBcnJheS48c3RyaW5nPj19IHJlcXVpcmVzIElmIHNwZWNpZmllZCB0aGVuIG5ldyBtb2R1bGUgaXMgYmVpbmcgY3JlYXRlZC4gSWZcbiAgICAgKiAgICAgICAgdW5zcGVjaWZpZWQgdGhlbiB0aGUgbW9kdWxlIGlzIGJlaW5nIHJldHJpZXZlZCBmb3IgZnVydGhlciBjb25maWd1cmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBjb25maWdGbiBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGUgbW9kdWxlLiBTYW1lIGFzXG4gICAgICogICAgICAgIHtAbGluayBhbmd1bGFyLk1vZHVsZSNjb25maWcgTW9kdWxlI2NvbmZpZygpfS5cbiAgICAgKiBAcmV0dXJucyB7YW5ndWxhci5Nb2R1bGV9IG5ldyBtb2R1bGUgd2l0aCB0aGUge0BsaW5rIGFuZ3VsYXIuTW9kdWxlfSBhcGkuXG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1vZHVsZShuYW1lLCByZXF1aXJlcywgY29uZmlnRm4pIHtcblxuICAgICAgdmFyIGluZm8gPSB7fTtcblxuICAgICAgdmFyIGFzc2VydE5vdEhhc093blByb3BlcnR5ID0gZnVuY3Rpb24obmFtZSwgY29udGV4dCkge1xuICAgICAgICBpZiAobmFtZSA9PT0gJ2hhc093blByb3BlcnR5Jykge1xuICAgICAgICAgIHRocm93IG5nTWluRXJyKCdiYWRuYW1lJywgJ2hhc093blByb3BlcnR5IGlzIG5vdCBhIHZhbGlkIHswfSBuYW1lJywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdtb2R1bGUnKTtcbiAgICAgIGlmIChyZXF1aXJlcyAmJiBtb2R1bGVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIG1vZHVsZXNbbmFtZV0gPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVuc3VyZShtb2R1bGVzLCBuYW1lLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFyZXF1aXJlcykge1xuICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignbm9tb2QnLCAnTW9kdWxlIFxcJ3swfVxcJyBpcyBub3QgYXZhaWxhYmxlISBZb3UgZWl0aGVyIG1pc3NwZWxsZWQgJyArXG4gICAgICAgICAgICAgJ3RoZSBtb2R1bGUgbmFtZSBvciBmb3Jnb3QgdG8gbG9hZCBpdC4gSWYgcmVnaXN0ZXJpbmcgYSBtb2R1bGUgZW5zdXJlIHRoYXQgeW91ICcgK1xuICAgICAgICAgICAgICdzcGVjaWZ5IHRoZSBkZXBlbmRlbmNpZXMgYXMgdGhlIHNlY29uZCBhcmd1bWVudC4nLCBuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAdHlwZSB7IUFycmF5LjxBcnJheS48Kj4+fSAqL1xuICAgICAgICB2YXIgaW52b2tlUXVldWUgPSBbXTtcblxuICAgICAgICAvKiogQHR5cGUgeyFBcnJheS48RnVuY3Rpb24+fSAqL1xuICAgICAgICB2YXIgY29uZmlnQmxvY2tzID0gW107XG5cbiAgICAgICAgLyoqIEB0eXBlIHshQXJyYXkuPEZ1bmN0aW9uPn0gKi9cbiAgICAgICAgdmFyIHJ1bkJsb2NrcyA9IFtdO1xuXG4gICAgICAgIHZhciBjb25maWcgPSBpbnZva2VMYXRlcignJGluamVjdG9yJywgJ2ludm9rZScsICdwdXNoJywgY29uZmlnQmxvY2tzKTtcblxuICAgICAgICAvKiogQHR5cGUge2FuZ3VsYXIuTW9kdWxlfSAqL1xuICAgICAgICB2YXIgbW9kdWxlSW5zdGFuY2UgPSB7XG4gICAgICAgICAgLy8gUHJpdmF0ZSBzdGF0ZVxuICAgICAgICAgIF9pbnZva2VRdWV1ZTogaW52b2tlUXVldWUsXG4gICAgICAgICAgX2NvbmZpZ0Jsb2NrczogY29uZmlnQmxvY2tzLFxuICAgICAgICAgIF9ydW5CbG9ja3M6IHJ1bkJsb2NrcyxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNpbmZvXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3Q9fSBpbmZvIEluZm9ybWF0aW9uIGFib3V0IHRoZSBtb2R1bGVcbiAgICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fE1vZHVsZX0gVGhlIGN1cnJlbnQgaW5mbyBvYmplY3QgZm9yIHRoaXMgbW9kdWxlIGlmIGNhbGxlZCBhcyBhIGdldHRlcixcbiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgYHRoaXNgIGlmIGNhbGxlZCBhcyBhIHNldHRlci5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFJlYWQgYW5kIHdyaXRlIGN1c3RvbSBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIG1vZHVsZS5cbiAgICAgICAgICAgKiBGb3IgZXhhbXBsZSB5b3UgY291bGQgcHV0IHRoZSB2ZXJzaW9uIG9mIHRoZSBtb2R1bGUgaW4gaGVyZS5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIGBgYGpzXG4gICAgICAgICAgICogYW5ndWxhci5tb2R1bGUoJ215TW9kdWxlJywgW10pLmluZm8oeyB2ZXJzaW9uOiAnMS4wLjAnIH0pO1xuICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAqXG4gICAgICAgICAgICogVGhlIHZlcnNpb24gY291bGQgdGhlbiBiZSByZWFkIGJhY2sgb3V0IGJ5IGFjY2Vzc2luZyB0aGUgbW9kdWxlIGVsc2V3aGVyZTpcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAqIHZhciB2ZXJzaW9uID0gYW5ndWxhci5tb2R1bGUoJ215TW9kdWxlJykuaW5mbygpLnZlcnNpb247XG4gICAgICAgICAgICogYGBgXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBZb3UgY2FuIGFsc28gcmV0cmlldmUgdGhpcyBpbmZvcm1hdGlvbiBkdXJpbmcgcnVudGltZSB2aWEgdGhlXG4gICAgICAgICAgICoge0BsaW5rICRpbmplY3RvciNtb2R1bGVzIGAkaW5qZWN0b3IubW9kdWxlc2B9IHByb3BlcnR5OlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogYGBganNcbiAgICAgICAgICAgKiB2YXIgdmVyc2lvbiA9ICRpbmplY3Rvci5tb2R1bGVzWydteU1vZHVsZSddLmluZm8oKS52ZXJzaW9uO1xuICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAqL1xuICAgICAgICAgIGluZm86IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkgdGhyb3cgbmdNaW5FcnIoJ2FvYmonLCAnQXJndW1lbnQgXFwnezB9XFwnIG11c3QgYmUgYW4gb2JqZWN0JywgJ3ZhbHVlJyk7XG4gICAgICAgICAgICAgIGluZm8gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjcmVxdWlyZXNcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBIb2xkcyB0aGUgbGlzdCBvZiBtb2R1bGVzIHdoaWNoIHRoZSBpbmplY3RvciB3aWxsIGxvYWQgYmVmb3JlIHRoZSBjdXJyZW50IG1vZHVsZSBpc1xuICAgICAgICAgICAqIGxvYWRlZC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICByZXF1aXJlczogcmVxdWlyZXMsXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNuYW1lXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogTmFtZSBvZiB0aGUgbW9kdWxlLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG5cblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNwcm92aWRlclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm92aWRlclR5cGUgQ29uc3RydWN0aW9uIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgdGhlXG4gICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2UuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyICRwcm92aWRlLnByb3ZpZGVyKCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHByb3ZpZGVyOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ3Byb3ZpZGVyJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjZmFjdG9yeVxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm92aWRlckZ1bmN0aW9uIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgdGhlIHNlcnZpY2UuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI2ZhY3RvcnkgJHByb3ZpZGUuZmFjdG9yeSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmYWN0b3J5OiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ2ZhY3RvcnknKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNzZXJ2aWNlXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnN0cnVjdG9yIEEgY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGluc3RhbnRpYXRlZC5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHNlcnZpY2U6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJHByb3ZpZGUnLCAnc2VydmljZScpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3ZhbHVlXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFNlcnZpY2UgaW5zdGFuY2Ugb2JqZWN0LlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSN2YWx1ZSAkcHJvdmlkZS52YWx1ZSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICB2YWx1ZTogaW52b2tlTGF0ZXIoJyRwcm92aWRlJywgJ3ZhbHVlJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29uc3RhbnRcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgY29uc3RhbnQgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IENvbnN0YW50IHZhbHVlLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIEJlY2F1c2UgdGhlIGNvbnN0YW50cyBhcmUgZml4ZWQsIHRoZXkgZ2V0IGFwcGxpZWQgYmVmb3JlIG90aGVyIHByb3ZpZGUgbWV0aG9kcy5cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjY29uc3RhbnQgJHByb3ZpZGUuY29uc3RhbnQoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29uc3RhbnQ6IGludm9rZUxhdGVyKCckcHJvdmlkZScsICdjb25zdGFudCcsICd1bnNoaWZ0JyksXG5cbiAgICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2RlY29yYXRvclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc2VydmljZSB0byBkZWNvcmF0ZS5cbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkZWNvckZuIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIHNlcnZpY2UgbmVlZHMgdG8gYmVcbiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbnRpYXRlZCBhbmQgc2hvdWxkIHJldHVybiB0aGUgZGVjb3JhdGVkIHNlcnZpY2UgaW5zdGFuY2UuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI2RlY29yYXRvciAkcHJvdmlkZS5kZWNvcmF0b3IoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgZGVjb3JhdG9yOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ2RlY29yYXRvcicsIGNvbmZpZ0Jsb2NrcyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjYW5pbWF0aW9uXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIGFuaW1hdGlvbiBuYW1lXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYW5pbWF0aW9uRmFjdG9yeSBGYWN0b3J5IGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgYW5cbiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqICoqTk9URSoqOiBhbmltYXRpb25zIHRha2UgZWZmZWN0IG9ubHkgaWYgdGhlICoqbmdBbmltYXRlKiogbW9kdWxlIGlzIGxvYWRlZC5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogRGVmaW5lcyBhbiBhbmltYXRpb24gaG9vayB0aGF0IGNhbiBiZSBsYXRlciB1c2VkIHdpdGhcbiAgICAgICAgICAgKiB7QGxpbmsgJGFuaW1hdGUgJGFuaW1hdGV9IHNlcnZpY2UgYW5kIGRpcmVjdGl2ZXMgdGhhdCB1c2UgdGhpcyBzZXJ2aWNlLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogYGBganNcbiAgICAgICAgICAgKiBtb2R1bGUuYW5pbWF0aW9uKCcuYW5pbWF0aW9uLW5hbWUnLCBmdW5jdGlvbigkaW5qZWN0MSwgJGluamVjdDIpIHtcbiAgICAgICAgICAgKiAgIHJldHVybiB7XG4gICAgICAgICAgICogICAgIGV2ZW50TmFtZSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmUpIHtcbiAgICAgICAgICAgKiAgICAgICAvL2NvZGUgdG8gcnVuIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAgKiAgICAgICAvL29uY2UgY29tcGxldGUsIHRoZW4gcnVuIGRvbmUoKVxuICAgICAgICAgICAqICAgICAgIHJldHVybiBmdW5jdGlvbiBjYW5jZWxsYXRpb25GdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICogICAgICAgICAvL2NvZGUgdG8gY2FuY2VsIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAgKiAgICAgICB9XG4gICAgICAgICAgICogICAgIH1cbiAgICAgICAgICAgKiAgIH1cbiAgICAgICAgICAgKiB9KVxuICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAqXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kYW5pbWF0ZVByb3ZpZGVyI3JlZ2lzdGVyICRhbmltYXRlUHJvdmlkZXIucmVnaXN0ZXIoKX0gYW5kXG4gICAgICAgICAgICoge0BsaW5rIG5nQW5pbWF0ZSBuZ0FuaW1hdGUgbW9kdWxlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBhbmltYXRpb246IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJGFuaW1hdGVQcm92aWRlcicsICdyZWdpc3RlcicpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2ZpbHRlclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBGaWx0ZXIgbmFtZSAtIHRoaXMgbXVzdCBiZSBhIHZhbGlkIEFuZ3VsYXJKUyBleHByZXNzaW9uIGlkZW50aWZpZXJcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaWx0ZXJGYWN0b3J5IEZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZiBmaWx0ZXIuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kZmlsdGVyUHJvdmlkZXIjcmVnaXN0ZXIgJGZpbHRlclByb3ZpZGVyLnJlZ2lzdGVyKCl9LlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICAgICAgICAgKiAqKk5vdGU6KiogRmlsdGVyIG5hbWVzIG11c3QgYmUgdmFsaWQgQW5ndWxhckpTIHtAbGluayBleHByZXNzaW9ufSBpZGVudGlmaWVycywgc3VjaCBhcyBgdXBwZXJjYXNlYCBvciBgb3JkZXJCeWAuXG4gICAgICAgICAgICogTmFtZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMsIHN1Y2ggYXMgaHlwaGVucyBhbmQgZG90cywgYXJlIG5vdCBhbGxvd2VkLiBJZiB5b3Ugd2lzaCB0byBuYW1lc3BhY2VcbiAgICAgICAgICAgKiB5b3VyIGZpbHRlcnMsIHRoZW4geW91IGNhbiB1c2UgY2FwaXRhbGl6YXRpb24gKGBteWFwcFN1YnNlY3Rpb25GaWx0ZXJ4YCkgb3IgdW5kZXJzY29yZXNcbiAgICAgICAgICAgKiAoYG15YXBwX3N1YnNlY3Rpb25fZmlsdGVyeGApLlxuICAgICAgICAgICAqIDwvZGl2PlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGZpbHRlcjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckZmlsdGVyUHJvdmlkZXInLCAncmVnaXN0ZXInKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNjb250cm9sbGVyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBDb250cm9sbGVyIG5hbWUsIG9yIGFuIG9iamVjdCBtYXAgb2YgY29udHJvbGxlcnMgd2hlcmUgdGhlXG4gICAgICAgICAgICogICAga2V5cyBhcmUgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgY29uc3RydWN0b3JzLlxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnN0cnVjdG9yIENvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyI3JlZ2lzdGVyICRjb250cm9sbGVyUHJvdmlkZXIucmVnaXN0ZXIoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29udHJvbGxlcjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckY29udHJvbGxlclByb3ZpZGVyJywgJ3JlZ2lzdGVyJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjZGlyZWN0aXZlXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBEaXJlY3RpdmUgbmFtZSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBkaXJlY3RpdmVzIHdoZXJlIHRoZVxuICAgICAgICAgICAqICAgIGtleXMgYXJlIHRoZSBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGZhY3Rvcmllcy5cbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXJlY3RpdmVGYWN0b3J5IEZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZlxuICAgICAgICAgICAqIGRpcmVjdGl2ZXMuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSAkY29tcGlsZVByb3ZpZGVyLmRpcmVjdGl2ZSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBkaXJlY3RpdmU6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJGNvbXBpbGVQcm92aWRlcicsICdkaXJlY3RpdmUnKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNjb21wb25lbnRcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIE5hbWUgb2YgdGhlIGNvbXBvbmVudCBpbiBjYW1lbENhc2UgKGkuZS4gYG15Q29tcGAgd2hpY2ggd2lsbCBtYXRjaCBgPG15LWNvbXA+YCksXG4gICAgICAgICAgICogICAgb3IgYW4gb2JqZWN0IG1hcCBvZiBjb21wb25lbnRzIHdoZXJlIHRoZSBrZXlzIGFyZSB0aGUgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvbiBvYmplY3RzLlxuICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIENvbXBvbmVudCBkZWZpbml0aW9uIG9iamVjdCAoYSBzaW1wbGlmaWVkXG4gICAgICAgICAgICogICAge0BsaW5rIG5nLiRjb21waWxlI2RpcmVjdGl2ZS1kZWZpbml0aW9uLW9iamVjdCBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3R9KVxuICAgICAgICAgICAqXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2NvbXBvbmVudCAkY29tcGlsZVByb3ZpZGVyLmNvbXBvbmVudCgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjb21wb25lbnQ6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJGNvbXBpbGVQcm92aWRlcicsICdjb21wb25lbnQnKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNjb25maWdcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29uZmlnRm4gRXhlY3V0ZSB0aGlzIGZ1bmN0aW9uIG9uIG1vZHVsZSBsb2FkLiBVc2VmdWwgZm9yIHNlcnZpY2VcbiAgICAgICAgICAgKiAgICBjb25maWd1cmF0aW9uLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFVzZSB0aGlzIG1ldGhvZCB0byBjb25maWd1cmUgc2VydmljZXMgYnkgaW5qZWN0aW5nIHRoZWlyXG4gICAgICAgICAgICoge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI3Byb3ZpZGVyIGBwcm92aWRlcnNgfSwgZS5nLiBmb3IgYWRkaW5nIHJvdXRlcyB0byB0aGVcbiAgICAgICAgICAgKiB7QGxpbmsgbmdSb3V0ZS4kcm91dGVQcm92aWRlciAkcm91dGVQcm92aWRlcn0uXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBOb3RlIHRoYXQgeW91IGNhbiBvbmx5IGluamVjdCB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjcHJvdmlkZXIgYHByb3ZpZGVyc2B9IGFuZFxuICAgICAgICAgICAqIHtAbGluayBhbmd1bGFyLk1vZHVsZSNjb25zdGFudCBgY29uc3RhbnRzYH0gaW50byB0aGlzIGZ1bmN0aW9uLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogRm9yIG1vcmUgYWJvdXQgaG93IHRvIGNvbmZpZ3VyZSBzZXJ2aWNlcywgc2VlXG4gICAgICAgICAgICoge0BsaW5rIHByb3ZpZGVycyNwcm92aWRlci1yZWNpcGUgUHJvdmlkZXIgUmVjaXBlfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjb25maWc6IGNvbmZpZyxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNydW5cbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW5pdGlhbGl6YXRpb25GbiBFeGVjdXRlIHRoaXMgZnVuY3Rpb24gYWZ0ZXIgaW5qZWN0b3IgY3JlYXRpb24uXG4gICAgICAgICAgICogICAgVXNlZnVsIGZvciBhcHBsaWNhdGlvbiBpbml0aWFsaXphdGlvbi5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gcmVnaXN0ZXIgd29yayB3aGljaCBzaG91bGQgYmUgcGVyZm9ybWVkIHdoZW4gdGhlIGluamVjdG9yIGlzIGRvbmVcbiAgICAgICAgICAgKiBsb2FkaW5nIGFsbCBtb2R1bGVzLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHJ1bjogZnVuY3Rpb24oYmxvY2spIHtcbiAgICAgICAgICAgIHJ1bkJsb2Nrcy5wdXNoKGJsb2NrKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoY29uZmlnRm4pIHtcbiAgICAgICAgICBjb25maWcoY29uZmlnRm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1vZHVsZUluc3RhbmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvdmlkZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZz19IGluc2VydE1ldGhvZFxuICAgICAgICAgKiBAcmV0dXJucyB7YW5ndWxhci5Nb2R1bGV9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBpbnZva2VMYXRlcihwcm92aWRlciwgbWV0aG9kLCBpbnNlcnRNZXRob2QsIHF1ZXVlKSB7XG4gICAgICAgICAgaWYgKCFxdWV1ZSkgcXVldWUgPSBpbnZva2VRdWV1ZTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBxdWV1ZVtpbnNlcnRNZXRob2QgfHwgJ3B1c2gnXShbcHJvdmlkZXIsIG1ldGhvZCwgYXJndW1lbnRzXSk7XG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlSW5zdGFuY2U7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvdmlkZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuICAgICAgICAgKiBAcmV0dXJucyB7YW5ndWxhci5Nb2R1bGV9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUocHJvdmlkZXIsIG1ldGhvZCwgcXVldWUpIHtcbiAgICAgICAgICBpZiAoIXF1ZXVlKSBxdWV1ZSA9IGludm9rZVF1ZXVlO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihyZWNpcGVOYW1lLCBmYWN0b3J5RnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChmYWN0b3J5RnVuY3Rpb24gJiYgaXNGdW5jdGlvbihmYWN0b3J5RnVuY3Rpb24pKSBmYWN0b3J5RnVuY3Rpb24uJCRtb2R1bGVOYW1lID0gbmFtZTtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goW3Byb3ZpZGVyLCBtZXRob2QsIGFyZ3VtZW50c10pO1xuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZUluc3RhbmNlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuXG59XG5cbi8qIGdsb2JhbCBzaGFsbG93Q29weTogdHJ1ZSAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzaGFsbG93IGNvcHkgb2YgYW4gb2JqZWN0LCBhbiBhcnJheSBvciBhIHByaW1pdGl2ZS5cbiAqXG4gKiBBc3N1bWVzIHRoYXQgdGhlcmUgYXJlIG5vIHByb3RvIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dDb3B5KHNyYywgZHN0KSB7XG4gIGlmIChpc0FycmF5KHNyYykpIHtcbiAgICBkc3QgPSBkc3QgfHwgW107XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBzcmMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgZHN0W2ldID0gc3JjW2ldO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChzcmMpKSB7XG4gICAgZHN0ID0gZHN0IHx8IHt9O1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgICAgaWYgKCEoa2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykpIHtcbiAgICAgICAgZHN0W2tleV0gPSBzcmNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZHN0IHx8IHNyYztcbn1cblxuLyogZXhwb3J0ZWQgdG9EZWJ1Z1N0cmluZyAqL1xuXG5mdW5jdGlvbiBzZXJpYWxpemVPYmplY3Qob2JqLCBtYXhEZXB0aCkge1xuICB2YXIgc2VlbiA9IFtdO1xuXG4gIC8vIFRoZXJlIGlzIG5vIGRpcmVjdCB3YXkgdG8gc3RyaW5naWZ5IG9iamVjdCB1bnRpbCByZWFjaGluZyBhIHNwZWNpZmljIGRlcHRoXG4gIC8vIGFuZCBhIHZlcnkgZGVlcCBvYmplY3QgY2FuIGNhdXNlIGEgcGVyZm9ybWFuY2UgaXNzdWUsIHNvIHdlIGNvcHkgdGhlIG9iamVjdFxuICAvLyBiYXNlZCBvbiB0aGlzIHNwZWNpZmljIGRlcHRoIGFuZCB0aGVuIHN0cmluZ2lmeSBpdC5cbiAgaWYgKGlzVmFsaWRPYmplY3RNYXhEZXB0aChtYXhEZXB0aCkpIHtcbiAgICAvLyBUaGlzIGZpbGUgaXMgYWxzbyBpbmNsdWRlZCBpbiBgYW5ndWxhci1sb2FkZXJgLCBzbyBgY29weSgpYCBtaWdodCBub3QgYWx3YXlzIGJlIGF2YWlsYWJsZSBpblxuICAgIC8vIHRoZSBjbG9zdXJlLiBUaGVyZWZvcmUsIGl0IGlzIGxhemlseSByZXRyaWV2ZWQgYXMgYGFuZ3VsYXIuY29weSgpYCB3aGVuIG5lZWRlZC5cbiAgICBvYmogPSBhbmd1bGFyLmNvcHkob2JqLCBudWxsLCBtYXhEZXB0aCk7XG4gIH1cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgZnVuY3Rpb24oa2V5LCB2YWwpIHtcbiAgICB2YWwgPSB0b0pzb25SZXBsYWNlcihrZXksIHZhbCk7XG4gICAgaWYgKGlzT2JqZWN0KHZhbCkpIHtcblxuICAgICAgaWYgKHNlZW4uaW5kZXhPZih2YWwpID49IDApIHJldHVybiAnLi4uJztcblxuICAgICAgc2Vlbi5wdXNoKHZhbCk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0b0RlYnVnU3RyaW5nKG9iaiwgbWF4RGVwdGgpIHtcbiAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gb2JqLnRvU3RyaW5nKCkucmVwbGFjZSgvIFxce1tcXHNcXFNdKiQvLCAnJyk7XG4gIH0gZWxzZSBpZiAoaXNVbmRlZmluZWQob2JqKSkge1xuICAgIHJldHVybiAndW5kZWZpbmVkJztcbiAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzZXJpYWxpemVPYmplY3Qob2JqLCBtYXhEZXB0aCk7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyogZ2xvYmFsIGFuZ3VsYXJNb2R1bGU6IHRydWUsXG4gIHZlcnNpb246IHRydWUsXG5cbiAgJENvbXBpbGVQcm92aWRlcixcblxuICBodG1sQW5jaG9yRGlyZWN0aXZlLFxuICBpbnB1dERpcmVjdGl2ZSxcbiAgaGlkZGVuSW5wdXRCcm93c2VyQ2FjaGVEaXJlY3RpdmUsXG4gIGZvcm1EaXJlY3RpdmUsXG4gIHNjcmlwdERpcmVjdGl2ZSxcbiAgc2VsZWN0RGlyZWN0aXZlLFxuICBvcHRpb25EaXJlY3RpdmUsXG4gIG5nQmluZERpcmVjdGl2ZSxcbiAgbmdCaW5kSHRtbERpcmVjdGl2ZSxcbiAgbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUsXG4gIG5nQ2xhc3NEaXJlY3RpdmUsXG4gIG5nQ2xhc3NFdmVuRGlyZWN0aXZlLFxuICBuZ0NsYXNzT2RkRGlyZWN0aXZlLFxuICBuZ0Nsb2FrRGlyZWN0aXZlLFxuICBuZ0NvbnRyb2xsZXJEaXJlY3RpdmUsXG4gIG5nRm9ybURpcmVjdGl2ZSxcbiAgbmdIaWRlRGlyZWN0aXZlLFxuICBuZ0lmRGlyZWN0aXZlLFxuICBuZ0luY2x1ZGVEaXJlY3RpdmUsXG4gIG5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlLFxuICBuZ0luaXREaXJlY3RpdmUsXG4gIG5nTm9uQmluZGFibGVEaXJlY3RpdmUsXG4gIG5nUGx1cmFsaXplRGlyZWN0aXZlLFxuICBuZ1JlZkRpcmVjdGl2ZSxcbiAgbmdSZXBlYXREaXJlY3RpdmUsXG4gIG5nU2hvd0RpcmVjdGl2ZSxcbiAgbmdTdHlsZURpcmVjdGl2ZSxcbiAgbmdTd2l0Y2hEaXJlY3RpdmUsXG4gIG5nU3dpdGNoV2hlbkRpcmVjdGl2ZSxcbiAgbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlLFxuICBuZ09wdGlvbnNEaXJlY3RpdmUsXG4gIG5nVHJhbnNjbHVkZURpcmVjdGl2ZSxcbiAgbmdNb2RlbERpcmVjdGl2ZSxcbiAgbmdMaXN0RGlyZWN0aXZlLFxuICBuZ0NoYW5nZURpcmVjdGl2ZSxcbiAgcGF0dGVybkRpcmVjdGl2ZSxcbiAgcGF0dGVybkRpcmVjdGl2ZSxcbiAgcmVxdWlyZWREaXJlY3RpdmUsXG4gIHJlcXVpcmVkRGlyZWN0aXZlLFxuICBtaW5sZW5ndGhEaXJlY3RpdmUsXG4gIG1pbmxlbmd0aERpcmVjdGl2ZSxcbiAgbWF4bGVuZ3RoRGlyZWN0aXZlLFxuICBtYXhsZW5ndGhEaXJlY3RpdmUsXG4gIG5nVmFsdWVEaXJlY3RpdmUsXG4gIG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlLFxuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyxcbiAgbmdFdmVudERpcmVjdGl2ZXMsXG5cbiAgJEFuY2hvclNjcm9sbFByb3ZpZGVyLFxuICAkQW5pbWF0ZVByb3ZpZGVyLFxuICAkQ29yZUFuaW1hdGVDc3NQcm92aWRlcixcbiAgJCRDb3JlQW5pbWF0ZUpzUHJvdmlkZXIsXG4gICQkQ29yZUFuaW1hdGVRdWV1ZVByb3ZpZGVyLFxuICAkJEFuaW1hdGVSdW5uZXJGYWN0b3J5UHJvdmlkZXIsXG4gICQkQW5pbWF0ZUFzeW5jUnVuRmFjdG9yeVByb3ZpZGVyLFxuICAkQnJvd3NlclByb3ZpZGVyLFxuICAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIsXG4gICRDb250cm9sbGVyUHJvdmlkZXIsXG4gICREYXRlUHJvdmlkZXIsXG4gICREb2N1bWVudFByb3ZpZGVyLFxuICAkJElzRG9jdW1lbnRIaWRkZW5Qcm92aWRlcixcbiAgJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcixcbiAgJEZpbHRlclByb3ZpZGVyLFxuICAkJEZvcmNlUmVmbG93UHJvdmlkZXIsXG4gICRJbnRlcnBvbGF0ZVByb3ZpZGVyLFxuICAkJEludGVydmFsRmFjdG9yeVByb3ZpZGVyLFxuICAkSW50ZXJ2YWxQcm92aWRlcixcbiAgJEh0dHBQcm92aWRlcixcbiAgJEh0dHBQYXJhbVNlcmlhbGl6ZXJQcm92aWRlcixcbiAgJEh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VQcm92aWRlcixcbiAgJEh0dHBCYWNrZW5kUHJvdmlkZXIsXG4gICR4aHJGYWN0b3J5UHJvdmlkZXIsXG4gICRqc29ucENhbGxiYWNrc1Byb3ZpZGVyLFxuICAkTG9jYXRpb25Qcm92aWRlcixcbiAgJExvZ1Byb3ZpZGVyLFxuICAkJE1hcFByb3ZpZGVyLFxuICAkUGFyc2VQcm92aWRlcixcbiAgJFJvb3RTY29wZVByb3ZpZGVyLFxuICAkUVByb3ZpZGVyLFxuICAkJFFQcm92aWRlcixcbiAgJCRTYW5pdGl6ZVVyaVByb3ZpZGVyLFxuICAkU2NlUHJvdmlkZXIsXG4gICRTY2VEZWxlZ2F0ZVByb3ZpZGVyLFxuICAkU25pZmZlclByb3ZpZGVyLFxuICAkJFRhc2tUcmFja2VyRmFjdG9yeVByb3ZpZGVyLFxuICAkVGVtcGxhdGVDYWNoZVByb3ZpZGVyLFxuICAkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIsXG4gICQkVGVzdGFiaWxpdHlQcm92aWRlcixcbiAgJFRpbWVvdXRQcm92aWRlcixcbiAgJCRSQUZQcm92aWRlcixcbiAgJFdpbmRvd1Byb3ZpZGVyLFxuICAkJGpxTGl0ZVByb3ZpZGVyLFxuICAkJENvb2tpZVJlYWRlclByb3ZpZGVyXG4qL1xuXG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgYW5ndWxhci52ZXJzaW9uXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IEFuZ3VsYXJKUyB2ZXJzaW9uLlxuICpcbiAqIFRoaXMgb2JqZWN0IGhhcyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogLSBgZnVsbGAg4oCTIGB7c3RyaW5nfWAg4oCTIEZ1bGwgdmVyc2lvbiBzdHJpbmcsIHN1Y2ggYXMgXCIwLjkuMThcIi5cbiAqIC0gYG1ham9yYCDigJMgYHtudW1iZXJ9YCDigJMgTWFqb3IgdmVyc2lvbiBudW1iZXIsIHN1Y2ggYXMgXCIwXCIuXG4gKiAtIGBtaW5vcmAg4oCTIGB7bnVtYmVyfWAg4oCTIE1pbm9yIHZlcnNpb24gbnVtYmVyLCBzdWNoIGFzIFwiOVwiLlxuICogLSBgZG90YCDigJMgYHtudW1iZXJ9YCDigJMgRG90IHZlcnNpb24gbnVtYmVyLCBzdWNoIGFzIFwiMThcIi5cbiAqIC0gYGNvZGVOYW1lYCDigJMgYHtzdHJpbmd9YCDigJMgQ29kZSBuYW1lIG9mIHRoZSByZWxlYXNlLCBzdWNoIGFzIFwiamlnZ2xpbmctYXJtZmF0XCIuXG4gKi9cbnZhciB2ZXJzaW9uID0ge1xuICAvLyBUaGVzZSBwbGFjZWhvbGRlciBzdHJpbmdzIHdpbGwgYmUgcmVwbGFjZWQgYnkgZ3J1bnQncyBgYnVpbGRgIHRhc2suXG4gIC8vIFRoZXkgbmVlZCB0byBiZSBkb3VibGUtIG9yIHNpbmdsZS1xdW90ZWQuXG4gIGZ1bGw6ICcxLjcuNycsXG4gIG1ham9yOiAxLFxuICBtaW5vcjogNyxcbiAgZG90OiA3LFxuICBjb2RlTmFtZTogJ2tpbmdseS1leGl0aW5nJ1xufTtcblxuXG5mdW5jdGlvbiBwdWJsaXNoRXh0ZXJuYWxBUEkoYW5ndWxhcikge1xuICBleHRlbmQoYW5ndWxhciwge1xuICAgICdlcnJvckhhbmRsaW5nQ29uZmlnJzogZXJyb3JIYW5kbGluZ0NvbmZpZyxcbiAgICAnYm9vdHN0cmFwJzogYm9vdHN0cmFwLFxuICAgICdjb3B5JzogY29weSxcbiAgICAnZXh0ZW5kJzogZXh0ZW5kLFxuICAgICdtZXJnZSc6IG1lcmdlLFxuICAgICdlcXVhbHMnOiBlcXVhbHMsXG4gICAgJ2VsZW1lbnQnOiBqcUxpdGUsXG4gICAgJ2ZvckVhY2gnOiBmb3JFYWNoLFxuICAgICdpbmplY3Rvcic6IGNyZWF0ZUluamVjdG9yLFxuICAgICdub29wJzogbm9vcCxcbiAgICAnYmluZCc6IGJpbmQsXG4gICAgJ3RvSnNvbic6IHRvSnNvbixcbiAgICAnZnJvbUpzb24nOiBmcm9tSnNvbixcbiAgICAnaWRlbnRpdHknOiBpZGVudGl0eSxcbiAgICAnaXNVbmRlZmluZWQnOiBpc1VuZGVmaW5lZCxcbiAgICAnaXNEZWZpbmVkJzogaXNEZWZpbmVkLFxuICAgICdpc1N0cmluZyc6IGlzU3RyaW5nLFxuICAgICdpc0Z1bmN0aW9uJzogaXNGdW5jdGlvbixcbiAgICAnaXNPYmplY3QnOiBpc09iamVjdCxcbiAgICAnaXNOdW1iZXInOiBpc051bWJlcixcbiAgICAnaXNFbGVtZW50JzogaXNFbGVtZW50LFxuICAgICdpc0FycmF5JzogaXNBcnJheSxcbiAgICAndmVyc2lvbic6IHZlcnNpb24sXG4gICAgJ2lzRGF0ZSc6IGlzRGF0ZSxcbiAgICAnY2FsbGJhY2tzJzogeyQkY291bnRlcjogMH0sXG4gICAgJ2dldFRlc3RhYmlsaXR5JzogZ2V0VGVzdGFiaWxpdHksXG4gICAgJ3JlbG9hZFdpdGhEZWJ1Z0luZm8nOiByZWxvYWRXaXRoRGVidWdJbmZvLFxuICAgICckJG1pbkVycic6IG1pbkVycixcbiAgICAnJCRjc3AnOiBjc3AsXG4gICAgJyQkZW5jb2RlVXJpU2VnbWVudCc6IGVuY29kZVVyaVNlZ21lbnQsXG4gICAgJyQkZW5jb2RlVXJpUXVlcnknOiBlbmNvZGVVcmlRdWVyeSxcbiAgICAnJCRsb3dlcmNhc2UnOiBsb3dlcmNhc2UsXG4gICAgJyQkc3RyaW5naWZ5Jzogc3RyaW5naWZ5LFxuICAgICckJHVwcGVyY2FzZSc6IHVwcGVyY2FzZVxuICB9KTtcblxuICBhbmd1bGFyTW9kdWxlID0gc2V0dXBNb2R1bGVMb2FkZXIod2luZG93KTtcblxuICBhbmd1bGFyTW9kdWxlKCduZycsIFsnbmdMb2NhbGUnXSwgWyckcHJvdmlkZScsXG4gICAgZnVuY3Rpb24gbmdNb2R1bGUoJHByb3ZpZGUpIHtcbiAgICAgIC8vICQkc2FuaXRpemVVcmlQcm92aWRlciBuZWVkcyB0byBiZSBiZWZvcmUgJGNvbXBpbGVQcm92aWRlciBhcyBpdCBpcyB1c2VkIGJ5IGl0LlxuICAgICAgJHByb3ZpZGUucHJvdmlkZXIoe1xuICAgICAgICAkJHNhbml0aXplVXJpOiAkJFNhbml0aXplVXJpUHJvdmlkZXJcbiAgICAgIH0pO1xuICAgICAgJHByb3ZpZGUucHJvdmlkZXIoJyRjb21waWxlJywgJENvbXBpbGVQcm92aWRlcikuXG4gICAgICAgIGRpcmVjdGl2ZSh7XG4gICAgICAgICAgICBhOiBodG1sQW5jaG9yRGlyZWN0aXZlLFxuICAgICAgICAgICAgaW5wdXQ6IGlucHV0RGlyZWN0aXZlLFxuICAgICAgICAgICAgdGV4dGFyZWE6IGlucHV0RGlyZWN0aXZlLFxuICAgICAgICAgICAgZm9ybTogZm9ybURpcmVjdGl2ZSxcbiAgICAgICAgICAgIHNjcmlwdDogc2NyaXB0RGlyZWN0aXZlLFxuICAgICAgICAgICAgc2VsZWN0OiBzZWxlY3REaXJlY3RpdmUsXG4gICAgICAgICAgICBvcHRpb246IG9wdGlvbkRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQmluZDogbmdCaW5kRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdCaW5kSHRtbDogbmdCaW5kSHRtbERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQmluZFRlbXBsYXRlOiBuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQ2xhc3M6IG5nQ2xhc3NEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0NsYXNzRXZlbjogbmdDbGFzc0V2ZW5EaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0NsYXNzT2RkOiBuZ0NsYXNzT2RkRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdDbG9hazogbmdDbG9ha0RpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQ29udHJvbGxlcjogbmdDb250cm9sbGVyRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdGb3JtOiBuZ0Zvcm1EaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0hpZGU6IG5nSGlkZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nSWY6IG5nSWZEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0luY2x1ZGU6IG5nSW5jbHVkZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nSW5pdDogbmdJbml0RGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdOb25CaW5kYWJsZTogbmdOb25CaW5kYWJsZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nUGx1cmFsaXplOiBuZ1BsdXJhbGl6ZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nUmVmOiBuZ1JlZkRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nUmVwZWF0OiBuZ1JlcGVhdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nU2hvdzogbmdTaG93RGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdTdHlsZTogbmdTdHlsZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nU3dpdGNoOiBuZ1N3aXRjaERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nU3dpdGNoV2hlbjogbmdTd2l0Y2hXaGVuRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdTd2l0Y2hEZWZhdWx0OiBuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ09wdGlvbnM6IG5nT3B0aW9uc0RpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nVHJhbnNjbHVkZTogbmdUcmFuc2NsdWRlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdNb2RlbDogbmdNb2RlbERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nTGlzdDogbmdMaXN0RGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdDaGFuZ2U6IG5nQ2hhbmdlRGlyZWN0aXZlLFxuICAgICAgICAgICAgcGF0dGVybjogcGF0dGVybkRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nUGF0dGVybjogcGF0dGVybkRpcmVjdGl2ZSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nUmVxdWlyZWQ6IHJlcXVpcmVkRGlyZWN0aXZlLFxuICAgICAgICAgICAgbWlubGVuZ3RoOiBtaW5sZW5ndGhEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ01pbmxlbmd0aDogbWlubGVuZ3RoRGlyZWN0aXZlLFxuICAgICAgICAgICAgbWF4bGVuZ3RoOiBtYXhsZW5ndGhEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ01heGxlbmd0aDogbWF4bGVuZ3RoRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdWYWx1ZTogbmdWYWx1ZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nTW9kZWxPcHRpb25zOiBuZ01vZGVsT3B0aW9uc0RpcmVjdGl2ZVxuICAgICAgICB9KS5cbiAgICAgICAgZGlyZWN0aXZlKHtcbiAgICAgICAgICBuZ0luY2x1ZGU6IG5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlLFxuICAgICAgICAgIGlucHV0OiBoaWRkZW5JbnB1dEJyb3dzZXJDYWNoZURpcmVjdGl2ZVxuICAgICAgICB9KS5cbiAgICAgICAgZGlyZWN0aXZlKG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzKS5cbiAgICAgICAgZGlyZWN0aXZlKG5nRXZlbnREaXJlY3RpdmVzKTtcbiAgICAgICRwcm92aWRlLnByb3ZpZGVyKHtcbiAgICAgICAgJGFuY2hvclNjcm9sbDogJEFuY2hvclNjcm9sbFByb3ZpZGVyLFxuICAgICAgICAkYW5pbWF0ZTogJEFuaW1hdGVQcm92aWRlcixcbiAgICAgICAgJGFuaW1hdGVDc3M6ICRDb3JlQW5pbWF0ZUNzc1Byb3ZpZGVyLFxuICAgICAgICAkJGFuaW1hdGVKczogJCRDb3JlQW5pbWF0ZUpzUHJvdmlkZXIsXG4gICAgICAgICQkYW5pbWF0ZVF1ZXVlOiAkJENvcmVBbmltYXRlUXVldWVQcm92aWRlcixcbiAgICAgICAgJCRBbmltYXRlUnVubmVyOiAkJEFuaW1hdGVSdW5uZXJGYWN0b3J5UHJvdmlkZXIsXG4gICAgICAgICQkYW5pbWF0ZUFzeW5jUnVuOiAkJEFuaW1hdGVBc3luY1J1bkZhY3RvcnlQcm92aWRlcixcbiAgICAgICAgJGJyb3dzZXI6ICRCcm93c2VyUHJvdmlkZXIsXG4gICAgICAgICRjYWNoZUZhY3Rvcnk6ICRDYWNoZUZhY3RvcnlQcm92aWRlcixcbiAgICAgICAgJGNvbnRyb2xsZXI6ICRDb250cm9sbGVyUHJvdmlkZXIsXG4gICAgICAgICRkb2N1bWVudDogJERvY3VtZW50UHJvdmlkZXIsXG4gICAgICAgICQkaXNEb2N1bWVudEhpZGRlbjogJCRJc0RvY3VtZW50SGlkZGVuUHJvdmlkZXIsXG4gICAgICAgICRleGNlcHRpb25IYW5kbGVyOiAkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyLFxuICAgICAgICAkZmlsdGVyOiAkRmlsdGVyUHJvdmlkZXIsXG4gICAgICAgICQkZm9yY2VSZWZsb3c6ICQkRm9yY2VSZWZsb3dQcm92aWRlcixcbiAgICAgICAgJGludGVycG9sYXRlOiAkSW50ZXJwb2xhdGVQcm92aWRlcixcbiAgICAgICAgJGludGVydmFsOiAkSW50ZXJ2YWxQcm92aWRlcixcbiAgICAgICAgJCRpbnRlcnZhbEZhY3Rvcnk6ICQkSW50ZXJ2YWxGYWN0b3J5UHJvdmlkZXIsXG4gICAgICAgICRodHRwOiAkSHR0cFByb3ZpZGVyLFxuICAgICAgICAkaHR0cFBhcmFtU2VyaWFsaXplcjogJEh0dHBQYXJhbVNlcmlhbGl6ZXJQcm92aWRlcixcbiAgICAgICAgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2U6ICRIdHRwUGFyYW1TZXJpYWxpemVySlFMaWtlUHJvdmlkZXIsXG4gICAgICAgICRodHRwQmFja2VuZDogJEh0dHBCYWNrZW5kUHJvdmlkZXIsXG4gICAgICAgICR4aHJGYWN0b3J5OiAkeGhyRmFjdG9yeVByb3ZpZGVyLFxuICAgICAgICAkanNvbnBDYWxsYmFja3M6ICRqc29ucENhbGxiYWNrc1Byb3ZpZGVyLFxuICAgICAgICAkbG9jYXRpb246ICRMb2NhdGlvblByb3ZpZGVyLFxuICAgICAgICAkbG9nOiAkTG9nUHJvdmlkZXIsXG4gICAgICAgICRwYXJzZTogJFBhcnNlUHJvdmlkZXIsXG4gICAgICAgICRyb290U2NvcGU6ICRSb290U2NvcGVQcm92aWRlcixcbiAgICAgICAgJHE6ICRRUHJvdmlkZXIsXG4gICAgICAgICQkcTogJCRRUHJvdmlkZXIsXG4gICAgICAgICRzY2U6ICRTY2VQcm92aWRlcixcbiAgICAgICAgJHNjZURlbGVnYXRlOiAkU2NlRGVsZWdhdGVQcm92aWRlcixcbiAgICAgICAgJHNuaWZmZXI6ICRTbmlmZmVyUHJvdmlkZXIsXG4gICAgICAgICQkdGFza1RyYWNrZXJGYWN0b3J5OiAkJFRhc2tUcmFja2VyRmFjdG9yeVByb3ZpZGVyLFxuICAgICAgICAkdGVtcGxhdGVDYWNoZTogJFRlbXBsYXRlQ2FjaGVQcm92aWRlcixcbiAgICAgICAgJHRlbXBsYXRlUmVxdWVzdDogJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyLFxuICAgICAgICAkJHRlc3RhYmlsaXR5OiAkJFRlc3RhYmlsaXR5UHJvdmlkZXIsXG4gICAgICAgICR0aW1lb3V0OiAkVGltZW91dFByb3ZpZGVyLFxuICAgICAgICAkd2luZG93OiAkV2luZG93UHJvdmlkZXIsXG4gICAgICAgICQkckFGOiAkJFJBRlByb3ZpZGVyLFxuICAgICAgICAkJGpxTGl0ZTogJCRqcUxpdGVQcm92aWRlcixcbiAgICAgICAgJCRNYXA6ICQkTWFwUHJvdmlkZXIsXG4gICAgICAgICQkY29va2llUmVhZGVyOiAkJENvb2tpZVJlYWRlclByb3ZpZGVyXG4gICAgICB9KTtcbiAgICB9XG4gIF0pXG4gIC5pbmZvKHsgYW5ndWxhclZlcnNpb246ICcxLjcuNycgfSk7XG59XG5cbi8qICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICpcbiAqICAgICBBbnkgY29tbWl0cyB0byB0aGlzIGZpbGUgc2hvdWxkIGJlIHJldmlld2VkIHdpdGggc2VjdXJpdHkgaW4gbWluZC4gICpcbiAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcbiAqICAgICAgICAgIEFuIGFwcHJvdmFsIGZyb20gMiBDb3JlIG1lbWJlcnMgd2l0aCBoaXN0b3J5IG9mIG1vZGlmeWluZyAgICAgICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgZmlsZSBpcyByZXF1aXJlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqICBEb2VzIHRoZSBjaGFuZ2Ugc29tZWhvdyBhbGxvdyBmb3IgYXJiaXRyYXJ5IGphdmFzY3JpcHQgdG8gYmUgZXhlY3V0ZWQ/ICpcbiAqICAgIE9yIGFsbG93cyBmb3Igc29tZW9uZSB0byBjaGFuZ2UgdGhlIHByb3RvdHlwZSBvZiBidWlsdC1pbiBvYmplY3RzPyAgICpcbiAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlcyBkb2N1bWVudCBvciB3aW5kb3c/ICAgICpcbiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICovXG5cbi8qIGdsb2JhbFxuICBKUUxpdGVQcm90b3R5cGU6IHRydWUsXG4gIEJPT0xFQU5fQVRUUjogdHJ1ZSxcbiAgQUxJQVNFRF9BVFRSOiB0cnVlXG4qL1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vL0pRTGl0ZVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5lbGVtZW50XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogV3JhcHMgYSByYXcgRE9NIGVsZW1lbnQgb3IgSFRNTCBzdHJpbmcgYXMgYSBbalF1ZXJ5XShodHRwOi8vanF1ZXJ5LmNvbSkgZWxlbWVudC5cbiAqXG4gKiBJZiBqUXVlcnkgaXMgYXZhaWxhYmxlLCBgYW5ndWxhci5lbGVtZW50YCBpcyBhbiBhbGlhcyBmb3IgdGhlXG4gKiBbalF1ZXJ5XShodHRwOi8vYXBpLmpxdWVyeS5jb20valF1ZXJ5LykgZnVuY3Rpb24uIElmIGpRdWVyeSBpcyBub3QgYXZhaWxhYmxlLCBgYW5ndWxhci5lbGVtZW50YFxuICogZGVsZWdhdGVzIHRvIEFuZ3VsYXJKUydzIGJ1aWx0LWluIHN1YnNldCBvZiBqUXVlcnksIGNhbGxlZCBcImpRdWVyeSBsaXRlXCIgb3IgKipqcUxpdGUqKi5cbiAqXG4gKiBqcUxpdGUgaXMgYSB0aW55LCBBUEktY29tcGF0aWJsZSBzdWJzZXQgb2YgalF1ZXJ5IHRoYXQgYWxsb3dzXG4gKiBBbmd1bGFySlMgdG8gbWFuaXB1bGF0ZSB0aGUgRE9NIGluIGEgY3Jvc3MtYnJvd3NlciBjb21wYXRpYmxlIHdheS4ganFMaXRlIGltcGxlbWVudHMgb25seSB0aGUgbW9zdFxuICogY29tbW9ubHkgbmVlZGVkIGZ1bmN0aW9uYWxpdHkgd2l0aCB0aGUgZ29hbCBvZiBoYXZpbmcgYSB2ZXJ5IHNtYWxsIGZvb3RwcmludC5cbiAqXG4gKiBUbyB1c2UgYGpRdWVyeWAsIHNpbXBseSBlbnN1cmUgaXQgaXMgbG9hZGVkIGJlZm9yZSB0aGUgYGFuZ3VsYXIuanNgIGZpbGUuIFlvdSBjYW4gYWxzbyB1c2UgdGhlXG4gKiB7QGxpbmsgbmdKcSBgbmdKcWB9IGRpcmVjdGl2ZSB0byBzcGVjaWZ5IHRoYXQganFsaXRlIHNob3VsZCBiZSB1c2VkIG92ZXIgalF1ZXJ5LCBvciB0byB1c2UgYVxuICogc3BlY2lmaWMgdmVyc2lvbiBvZiBqUXVlcnkgaWYgbXVsdGlwbGUgdmVyc2lvbnMgZXhpc3Qgb24gdGhlIHBhZ2UuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj4qKk5vdGU6KiogQWxsIGVsZW1lbnQgcmVmZXJlbmNlcyBpbiBBbmd1bGFySlMgYXJlIGFsd2F5cyB3cmFwcGVkIHdpdGggalF1ZXJ5IG9yXG4gKiBqcUxpdGUgKHN1Y2ggYXMgdGhlIGVsZW1lbnQgYXJndW1lbnQgaW4gYSBkaXJlY3RpdmUncyBjb21waWxlIC8gbGluayBmdW5jdGlvbikuIFRoZXkgYXJlIG5ldmVyIHJhdyBET00gcmVmZXJlbmNlcy48L2Rpdj5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPioqTm90ZToqKiBLZWVwIGluIG1pbmQgdGhhdCB0aGlzIGZ1bmN0aW9uIHdpbGwgbm90IGZpbmQgZWxlbWVudHNcbiAqIGJ5IHRhZyBuYW1lIC8gQ1NTIHNlbGVjdG9yLiBGb3IgbG9va3VwcyBieSB0YWcgbmFtZSwgdHJ5IGluc3RlYWQgYGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkuZmluZCguLi4pYFxuICogb3IgYCRkb2N1bWVudC5maW5kKClgLCBvciB1c2UgdGhlIHN0YW5kYXJkIERPTSBBUElzLCBlLmcuIGBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKClgLjwvZGl2PlxuICpcbiAqICMjIEFuZ3VsYXJKUydzIGpxTGl0ZVxuICoganFMaXRlIHByb3ZpZGVzIG9ubHkgdGhlIGZvbGxvd2luZyBqUXVlcnkgbWV0aG9kczpcbiAqXG4gKiAtIFtgYWRkQ2xhc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hZGRDbGFzcy8pIC0gRG9lcyBub3Qgc3VwcG9ydCBhIGZ1bmN0aW9uIGFzIGZpcnN0IGFyZ3VtZW50XG4gKiAtIFtgYWZ0ZXIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hZnRlci8pXG4gKiAtIFtgYXBwZW5kKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vYXBwZW5kLykgLSBDb250cmFyeSB0byBqUXVlcnksIHRoaXMgZG9lc24ndCBjbG9uZSBlbGVtZW50c1xuICogICBzbyB3aWxsIG5vdCB3b3JrIGNvcnJlY3RseSB3aGVuIGludm9rZWQgb24gYSBqcUxpdGUgb2JqZWN0IGNvbnRhaW5pbmcgbW9yZSB0aGFuIG9uZSBET00gbm9kZVxuICogLSBbYGF0dHIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hdHRyLykgLSBEb2VzIG5vdCBzdXBwb3J0IGZ1bmN0aW9ucyBhcyBwYXJhbWV0ZXJzXG4gKiAtIFtgYmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2JpbmQvKSAoX2RlcHJlY2F0ZWRfLCB1c2UgW2BvbigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL29uLykpIC0gRG9lcyBub3Qgc3VwcG9ydCBuYW1lc3BhY2VzLCBzZWxlY3RvcnMgb3IgZXZlbnREYXRhXG4gKiAtIFtgY2hpbGRyZW4oKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jaGlsZHJlbi8pIC0gRG9lcyBub3Qgc3VwcG9ydCBzZWxlY3RvcnNcbiAqIC0gW2BjbG9uZSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2Nsb25lLylcbiAqIC0gW2Bjb250ZW50cygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2NvbnRlbnRzLylcbiAqIC0gW2Bjc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jc3MvKSAtIE9ubHkgcmV0cmlldmVzIGlubGluZS1zdHlsZXMsIGRvZXMgbm90IGNhbGwgYGdldENvbXB1dGVkU3R5bGUoKWAuXG4gKiAgIEFzIGEgc2V0dGVyLCBkb2VzIG5vdCBjb252ZXJ0IG51bWJlcnMgdG8gc3RyaW5ncyBvciBhcHBlbmQgJ3B4JywgYW5kIGFsc28gZG9lcyBub3QgaGF2ZSBhdXRvbWF0aWMgcHJvcGVydHkgcHJlZml4aW5nLlxuICogLSBbYGRhdGEoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9kYXRhLylcbiAqIC0gW2BkZXRhY2goKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9kZXRhY2gvKVxuICogLSBbYGVtcHR5KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vZW1wdHkvKVxuICogLSBbYGVxKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vZXEvKVxuICogLSBbYGZpbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9maW5kLykgLSBMaW1pdGVkIHRvIGxvb2t1cHMgYnkgdGFnIG5hbWVcbiAqIC0gW2BoYXNDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2hhc0NsYXNzLylcbiAqIC0gW2BodG1sKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vaHRtbC8pXG4gKiAtIFtgbmV4dCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL25leHQvKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzXG4gKiAtIFtgb24oKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vbi8pIC0gRG9lcyBub3Qgc3VwcG9ydCBuYW1lc3BhY2VzLCBzZWxlY3RvcnMgb3IgZXZlbnREYXRhXG4gKiAtIFtgb2ZmKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb2ZmLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMsIHNlbGVjdG9ycyBvciBldmVudCBvYmplY3QgYXMgcGFyYW1ldGVyXG4gKiAtIFtgb25lKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb25lLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMgb3Igc2VsZWN0b3JzXG4gKiAtIFtgcGFyZW50KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcGFyZW50LykgLSBEb2VzIG5vdCBzdXBwb3J0IHNlbGVjdG9yc1xuICogLSBbYHByZXBlbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wcmVwZW5kLylcbiAqIC0gW2Bwcm9wKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcHJvcC8pXG4gKiAtIFtgcmVhZHkoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZWFkeS8pIChfZGVwcmVjYXRlZF8sIHVzZSBgYW5ndWxhci5lbGVtZW50KGNhbGxiYWNrKWAgaW5zdGVhZCBvZiBgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5yZWFkeShjYWxsYmFjaylgKVxuICogLSBbYHJlbW92ZSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZS8pXG4gKiAtIFtgcmVtb3ZlQXR0cigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZUF0dHIvKSAtIERvZXMgbm90IHN1cHBvcnQgbXVsdGlwbGUgYXR0cmlidXRlc1xuICogLSBbYHJlbW92ZUNsYXNzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVtb3ZlQ2xhc3MvKSAtIERvZXMgbm90IHN1cHBvcnQgYSBmdW5jdGlvbiBhcyBmaXJzdCBhcmd1bWVudFxuICogLSBbYHJlbW92ZURhdGEoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZW1vdmVEYXRhLylcbiAqIC0gW2ByZXBsYWNlV2l0aCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlcGxhY2VXaXRoLylcbiAqIC0gW2B0ZXh0KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdGV4dC8pXG4gKiAtIFtgdG9nZ2xlQ2xhc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS90b2dnbGVDbGFzcy8pIC0gRG9lcyBub3Qgc3VwcG9ydCBhIGZ1bmN0aW9uIGFzIGZpcnN0IGFyZ3VtZW50XG4gKiAtIFtgdHJpZ2dlckhhbmRsZXIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS90cmlnZ2VySGFuZGxlci8pIC0gUGFzc2VzIGEgZHVtbXkgZXZlbnQgb2JqZWN0IHRvIGhhbmRsZXJzXG4gKiAtIFtgdW5iaW5kKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdW5iaW5kLykgKF9kZXByZWNhdGVkXywgdXNlIFtgb2ZmKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb2ZmLykpIC0gRG9lcyBub3Qgc3VwcG9ydCBuYW1lc3BhY2VzIG9yIGV2ZW50IG9iamVjdCBhcyBwYXJhbWV0ZXJcbiAqIC0gW2B2YWwoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS92YWwvKVxuICogLSBbYHdyYXAoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS93cmFwLylcbiAqXG4gKiAjIyBqUXVlcnkvanFMaXRlIEV4dHJhc1xuICogQW5ndWxhckpTIGFsc28gcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBhZGRpdGlvbmFsIG1ldGhvZHMgYW5kIGV2ZW50cyB0byBib3RoIGpRdWVyeSBhbmQganFMaXRlOlxuICpcbiAqICMjIyBFdmVudHNcbiAqIC0gYCRkZXN0cm95YCAtIEFuZ3VsYXJKUyBpbnRlcmNlcHRzIGFsbCBqcUxpdGUvalF1ZXJ5J3MgRE9NIGRlc3RydWN0aW9uIGFwaXMgYW5kIGZpcmVzIHRoaXMgZXZlbnRcbiAqICAgIG9uIGFsbCBET00gbm9kZXMgYmVpbmcgcmVtb3ZlZC4gIFRoaXMgY2FuIGJlIHVzZWQgdG8gY2xlYW4gdXAgYW55IDNyZCBwYXJ0eSBiaW5kaW5ncyB0byB0aGUgRE9NXG4gKiAgICBlbGVtZW50IGJlZm9yZSBpdCBpcyByZW1vdmVkLlxuICpcbiAqICMjIyBNZXRob2RzXG4gKiAtIGBjb250cm9sbGVyKG5hbWUpYCAtIHJldHJpZXZlcyB0aGUgY29udHJvbGxlciBvZiB0aGUgY3VycmVudCBlbGVtZW50IG9yIGl0cyBwYXJlbnQuIEJ5IGRlZmF1bHRcbiAqICAgcmV0cmlldmVzIGNvbnRyb2xsZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUuIElmIGBuYW1lYCBpcyBwcm92aWRlZCBhc1xuICogICBjYW1lbENhc2UgZGlyZWN0aXZlIG5hbWUsIHRoZW4gdGhlIGNvbnRyb2xsZXIgZm9yIHRoaXMgZGlyZWN0aXZlIHdpbGwgYmUgcmV0cmlldmVkIChlLmcuXG4gKiAgIGAnbmdNb2RlbCdgKS5cbiAqIC0gYGluamVjdG9yKClgIC0gcmV0cmlldmVzIHRoZSBpbmplY3RvciBvZiB0aGUgY3VycmVudCBlbGVtZW50IG9yIGl0cyBwYXJlbnQuXG4gKiAtIGBzY29wZSgpYCAtIHJldHJpZXZlcyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9IG9mIHRoZSBjdXJyZW50XG4gKiAgIGVsZW1lbnQgb3IgaXRzIHBhcmVudC4gUmVxdWlyZXMge0BsaW5rIGd1aWRlL3Byb2R1Y3Rpb24jZGlzYWJsaW5nLWRlYnVnLWRhdGEgRGVidWcgRGF0YX0gdG9cbiAqICAgYmUgZW5hYmxlZC5cbiAqIC0gYGlzb2xhdGVTY29wZSgpYCAtIHJldHJpZXZlcyBhbiBpc29sYXRlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIHNjb3BlfSBpZiBvbmUgaXMgYXR0YWNoZWQgZGlyZWN0bHkgdG8gdGhlXG4gKiAgIGN1cnJlbnQgZWxlbWVudC4gVGhpcyBnZXR0ZXIgc2hvdWxkIGJlIHVzZWQgb25seSBvbiBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYSBkaXJlY3RpdmUgd2hpY2ggc3RhcnRzIGEgbmV3IGlzb2xhdGVcbiAqICAgc2NvcGUuIENhbGxpbmcgYHNjb3BlKClgIG9uIHRoaXMgZWxlbWVudCBhbHdheXMgcmV0dXJucyB0aGUgb3JpZ2luYWwgbm9uLWlzb2xhdGUgc2NvcGUuXG4gKiAgIFJlcXVpcmVzIHtAbGluayBndWlkZS9wcm9kdWN0aW9uI2Rpc2FibGluZy1kZWJ1Zy1kYXRhIERlYnVnIERhdGF9IHRvIGJlIGVuYWJsZWQuXG4gKiAtIGBpbmhlcml0ZWREYXRhKClgIC0gc2FtZSBhcyBgZGF0YSgpYCwgYnV0IHdhbGtzIHVwIHRoZSBET00gdW50aWwgYSB2YWx1ZSBpcyBmb3VuZCBvciB0aGUgdG9wXG4gKiAgIHBhcmVudCBlbGVtZW50IGlzIHJlYWNoZWQuXG4gKlxuICogQGtub3duSXNzdWUgWW91IGNhbm5vdCBzcHkgb24gYGFuZ3VsYXIuZWxlbWVudGAgaWYgeW91IGFyZSB1c2luZyBKYXNtaW5lIHZlcnNpb24gMS54LiBTZWVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzE0MjUxIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfERPTUVsZW1lbnR9IGVsZW1lbnQgSFRNTCBzdHJpbmcgb3IgRE9NRWxlbWVudCB0byBiZSB3cmFwcGVkIGludG8galF1ZXJ5LlxuICogQHJldHVybnMge09iamVjdH0galF1ZXJ5IG9iamVjdC5cbiAqL1xuXG5KUUxpdGUuZXhwYW5kbyA9ICduZzMzOSc7XG5cbnZhciBqcUNhY2hlID0gSlFMaXRlLmNhY2hlID0ge30sXG4gICAganFJZCA9IDE7XG5cbi8qXG4gKiAhISEgVGhpcyBpcyBhbiB1bmRvY3VtZW50ZWQgXCJwcml2YXRlXCIgZnVuY3Rpb24gISEhXG4gKi9cbkpRTGl0ZS5fZGF0YSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgLy9qUXVlcnkgYWx3YXlzIHJldHVybnMgYW4gb2JqZWN0IG9uIGNhY2hlIG1pc3NcbiAgcmV0dXJuIHRoaXMuY2FjaGVbbm9kZVt0aGlzLmV4cGFuZG9dXSB8fCB7fTtcbn07XG5cbmZ1bmN0aW9uIGpxTmV4dElkKCkgeyByZXR1cm4gKytqcUlkOyB9XG5cblxudmFyIERBU0hfTE9XRVJDQVNFX1JFR0VYUCA9IC8tKFthLXpdKS9nO1xudmFyIE1TX0hBQ0tfUkVHRVhQID0gL14tbXMtLztcbnZhciBNT1VTRV9FVkVOVF9NQVAgPSB7IG1vdXNlbGVhdmU6ICdtb3VzZW91dCcsIG1vdXNlZW50ZXI6ICdtb3VzZW92ZXInIH07XG52YXIganFMaXRlTWluRXJyID0gbWluRXJyKCdqcUxpdGUnKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBrZWJhYi1jYXNlIHRvIGNhbWVsQ2FzZS5cbiAqIFRoZXJlIGlzIGFsc28gYSBzcGVjaWFsIGNhc2UgZm9yIHRoZSBtcyBwcmVmaXggc3RhcnRpbmcgd2l0aCBhIGxvd2VyY2FzZSBsZXR0ZXIuXG4gKiBAcGFyYW0gbmFtZSBOYW1lIHRvIG5vcm1hbGl6ZVxuICovXG5mdW5jdGlvbiBjc3NLZWJhYlRvQ2FtZWwobmFtZSkge1xuICAgIHJldHVybiBrZWJhYlRvQ2FtZWwobmFtZS5yZXBsYWNlKE1TX0hBQ0tfUkVHRVhQLCAnbXMtJykpO1xufVxuXG5mdW5jdGlvbiBmbkNhbWVsQ2FzZVJlcGxhY2UoYWxsLCBsZXR0ZXIpIHtcbiAgcmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGtlYmFiLWNhc2UgdG8gY2FtZWxDYXNlLlxuICogQHBhcmFtIG5hbWUgTmFtZSB0byBub3JtYWxpemVcbiAqL1xuZnVuY3Rpb24ga2ViYWJUb0NhbWVsKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWVcbiAgICAucmVwbGFjZShEQVNIX0xPV0VSQ0FTRV9SRUdFWFAsIGZuQ2FtZWxDYXNlUmVwbGFjZSk7XG59XG5cbnZhciBTSU5HTEVfVEFHX1JFR0VYUCA9IC9ePChbXFx3LV0rKVxccypcXC8/Pig/OjxcXC9cXDE+fCkkLztcbnZhciBIVE1MX1JFR0VYUCA9IC88fCYjP1xcdys7LztcbnZhciBUQUdfTkFNRV9SRUdFWFAgPSAvPChbXFx3Oi1dKykvO1xudmFyIFhIVE1MX1RBR19SRUdFWFAgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Oi1dKylbXj5dKilcXC8+L2dpO1xuXG52YXIgd3JhcE1hcCA9IHtcbiAgJ29wdGlvbic6IFsxLCAnPHNlbGVjdCBtdWx0aXBsZT1cIm11bHRpcGxlXCI+JywgJzwvc2VsZWN0PiddLFxuXG4gICd0aGVhZCc6IFsxLCAnPHRhYmxlPicsICc8L3RhYmxlPiddLFxuICAnY29sJzogWzIsICc8dGFibGU+PGNvbGdyb3VwPicsICc8L2NvbGdyb3VwPjwvdGFibGU+J10sXG4gICd0cic6IFsyLCAnPHRhYmxlPjx0Ym9keT4nLCAnPC90Ym9keT48L3RhYmxlPiddLFxuICAndGQnOiBbMywgJzx0YWJsZT48dGJvZHk+PHRyPicsICc8L3RyPjwvdGJvZHk+PC90YWJsZT4nXSxcbiAgJ19kZWZhdWx0JzogWzAsICcnLCAnJ11cbn07XG5cbndyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbjtcbndyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7XG53cmFwTWFwLnRoID0gd3JhcE1hcC50ZDtcblxuXG5mdW5jdGlvbiBqcUxpdGVJc1RleHROb2RlKGh0bWwpIHtcbiAgcmV0dXJuICFIVE1MX1JFR0VYUC50ZXN0KGh0bWwpO1xufVxuXG5mdW5jdGlvbiBqcUxpdGVBY2NlcHRzRGF0YShub2RlKSB7XG4gIC8vIFRoZSB3aW5kb3cgb2JqZWN0IGNhbiBhY2NlcHQgZGF0YSBidXQgaGFzIG5vIG5vZGVUeXBlXG4gIC8vIE90aGVyd2lzZSB3ZSBhcmUgb25seSBpbnRlcmVzdGVkIGluIGVsZW1lbnRzICgxKSBhbmQgZG9jdW1lbnRzICg5KVxuICB2YXIgbm9kZVR5cGUgPSBub2RlLm5vZGVUeXBlO1xuICByZXR1cm4gbm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UIHx8ICFub2RlVHlwZSB8fCBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0RPQ1VNRU5UO1xufVxuXG5mdW5jdGlvbiBqcUxpdGVIYXNEYXRhKG5vZGUpIHtcbiAgZm9yICh2YXIga2V5IGluIGpxQ2FjaGVbbm9kZS5uZzMzOV0pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUJ1aWxkRnJhZ21lbnQoaHRtbCwgY29udGV4dCkge1xuICB2YXIgdG1wLCB0YWcsIHdyYXAsXG4gICAgICBmcmFnbWVudCA9IGNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgbm9kZXMgPSBbXSwgaTtcblxuICBpZiAoanFMaXRlSXNUZXh0Tm9kZShodG1sKSkge1xuICAgIC8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZVxuICAgIG5vZGVzLnB1c2goY29udGV4dC5jcmVhdGVUZXh0Tm9kZShodG1sKSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzXG4gICAgdG1wID0gZnJhZ21lbnQuYXBwZW5kQ2hpbGQoY29udGV4dC5jcmVhdGVFbGVtZW50KCdkaXYnKSk7XG4gICAgdGFnID0gKFRBR19OQU1FX1JFR0VYUC5leGVjKGh0bWwpIHx8IFsnJywgJyddKVsxXS50b0xvd2VyQ2FzZSgpO1xuICAgIHdyYXAgPSB3cmFwTWFwW3RhZ10gfHwgd3JhcE1hcC5fZGVmYXVsdDtcbiAgICB0bXAuaW5uZXJIVE1MID0gd3JhcFsxXSArIGh0bWwucmVwbGFjZShYSFRNTF9UQUdfUkVHRVhQLCAnPCQxPjwvJDI+JykgKyB3cmFwWzJdO1xuXG4gICAgLy8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50XG4gICAgaSA9IHdyYXBbMF07XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgdG1wID0gdG1wLmxhc3RDaGlsZDtcbiAgICB9XG5cbiAgICBub2RlcyA9IGNvbmNhdChub2RlcywgdG1wLmNoaWxkTm9kZXMpO1xuXG4gICAgdG1wID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcbiAgICB0bXAudGV4dENvbnRlbnQgPSAnJztcbiAgfVxuXG4gIC8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnRcbiAgZnJhZ21lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgZnJhZ21lbnQuaW5uZXJIVE1MID0gJyc7IC8vIENsZWFyIGlubmVyIEhUTUxcbiAgZm9yRWFjaChub2RlcywgZnVuY3Rpb24obm9kZSkge1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKG5vZGUpO1xuICB9KTtcblxuICByZXR1cm4gZnJhZ21lbnQ7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZVBhcnNlSFRNTChodG1sLCBjb250ZXh0KSB7XG4gIGNvbnRleHQgPSBjb250ZXh0IHx8IHdpbmRvdy5kb2N1bWVudDtcbiAgdmFyIHBhcnNlZDtcblxuICBpZiAoKHBhcnNlZCA9IFNJTkdMRV9UQUdfUkVHRVhQLmV4ZWMoaHRtbCkpKSB7XG4gICAgcmV0dXJuIFtjb250ZXh0LmNyZWF0ZUVsZW1lbnQocGFyc2VkWzFdKV07XG4gIH1cblxuICBpZiAoKHBhcnNlZCA9IGpxTGl0ZUJ1aWxkRnJhZ21lbnQoaHRtbCwgY29udGV4dCkpKSB7XG4gICAgcmV0dXJuIHBhcnNlZC5jaGlsZE5vZGVzO1xuICB9XG5cbiAgcmV0dXJuIFtdO1xufVxuXG5mdW5jdGlvbiBqcUxpdGVXcmFwTm9kZShub2RlLCB3cmFwcGVyKSB7XG4gIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG5cbiAgaWYgKHBhcmVudCkge1xuICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQod3JhcHBlciwgbm9kZSk7XG4gIH1cblxuICB3cmFwcGVyLmFwcGVuZENoaWxkKG5vZGUpO1xufVxuXG5cbi8vIElFOS0xMSBoYXMgbm8gbWV0aG9kIFwiY29udGFpbnNcIiBpbiBTVkcgZWxlbWVudCBhbmQgaW4gTm9kZS5wcm90b3R5cGUuIEJ1ZyAjMTAyNTkuXG52YXIganFMaXRlQ29udGFpbnMgPSB3aW5kb3cuTm9kZS5wcm90b3R5cGUuY29udGFpbnMgfHwgLyoqIEB0aGlzICovIGZ1bmN0aW9uKGFyZykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICByZXR1cm4gISEodGhpcy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhcmcpICYgMTYpO1xufTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mdW5jdGlvbiBKUUxpdGUoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEpRTGl0ZSkge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgdmFyIGFyZ0lzU3RyaW5nO1xuXG4gIGlmIChpc1N0cmluZyhlbGVtZW50KSkge1xuICAgIGVsZW1lbnQgPSB0cmltKGVsZW1lbnQpO1xuICAgIGFyZ0lzU3RyaW5nID0gdHJ1ZTtcbiAgfVxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgSlFMaXRlKSkge1xuICAgIGlmIChhcmdJc1N0cmluZyAmJiBlbGVtZW50LmNoYXJBdCgwKSAhPT0gJzwnKSB7XG4gICAgICB0aHJvdyBqcUxpdGVNaW5FcnIoJ25vc2VsJywgJ0xvb2tpbmcgdXAgZWxlbWVudHMgdmlhIHNlbGVjdG9ycyBpcyBub3Qgc3VwcG9ydGVkIGJ5IGpxTGl0ZSEgU2VlOiBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9hbmd1bGFyLmVsZW1lbnQnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBKUUxpdGUoZWxlbWVudCk7XG4gIH1cblxuICBpZiAoYXJnSXNTdHJpbmcpIHtcbiAgICBqcUxpdGVBZGROb2Rlcyh0aGlzLCBqcUxpdGVQYXJzZUhUTUwoZWxlbWVudCkpO1xuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oZWxlbWVudCkpIHtcbiAgICBqcUxpdGVSZWFkeShlbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBqcUxpdGVBZGROb2Rlcyh0aGlzLCBlbGVtZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBqcUxpdGVDbG9uZShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcbn1cblxuZnVuY3Rpb24ganFMaXRlRGVhbG9jKGVsZW1lbnQsIG9ubHlEZXNjZW5kYW50cykge1xuICBpZiAoIW9ubHlEZXNjZW5kYW50cyAmJiBqcUxpdGVBY2NlcHRzRGF0YShlbGVtZW50KSkganFMaXRlLmNsZWFuRGF0YShbZWxlbWVudF0pO1xuXG4gIGlmIChlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwpIHtcbiAgICBqcUxpdGUuY2xlYW5EYXRhKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnKicpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0VtcHR5T2JqZWN0KG9iaikge1xuICB2YXIgbmFtZTtcblxuICBmb3IgKG5hbWUgaW4gb2JqKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVJZkVtcHR5RGF0YShlbGVtZW50KSB7XG4gIHZhciBleHBhbmRvSWQgPSBlbGVtZW50Lm5nMzM5O1xuICB2YXIgZXhwYW5kb1N0b3JlID0gZXhwYW5kb0lkICYmIGpxQ2FjaGVbZXhwYW5kb0lkXTtcblxuICB2YXIgZXZlbnRzID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5ldmVudHM7XG4gIHZhciBkYXRhID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5kYXRhO1xuXG4gIGlmICgoIWRhdGEgfHwgaXNFbXB0eU9iamVjdChkYXRhKSkgJiYgKCFldmVudHMgfHwgaXNFbXB0eU9iamVjdChldmVudHMpKSkge1xuICAgIGRlbGV0ZSBqcUNhY2hlW2V4cGFuZG9JZF07XG4gICAgZWxlbWVudC5uZzMzOSA9IHVuZGVmaW5lZDsgLy8gZG9uJ3QgZGVsZXRlIERPTSBleHBhbmRvcy4gSUUgYW5kIENocm9tZSBkb24ndCBsaWtlIGl0XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlT2ZmKGVsZW1lbnQsIHR5cGUsIGZuLCB1bnN1cHBvcnRlZCkge1xuICBpZiAoaXNEZWZpbmVkKHVuc3VwcG9ydGVkKSkgdGhyb3cganFMaXRlTWluRXJyKCdvZmZhcmdzJywgJ2pxTGl0ZSNvZmYoKSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBgc2VsZWN0b3JgIGFyZ3VtZW50Jyk7XG5cbiAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50KTtcbiAgdmFyIGV2ZW50cyA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuZXZlbnRzO1xuICB2YXIgaGFuZGxlID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5oYW5kbGU7XG5cbiAgaWYgKCFoYW5kbGUpIHJldHVybjsgLy9ubyBsaXN0ZW5lcnMgcmVnaXN0ZXJlZFxuXG4gIGlmICghdHlwZSkge1xuICAgIGZvciAodHlwZSBpbiBldmVudHMpIHtcbiAgICAgIGlmICh0eXBlICE9PSAnJGRlc3Ryb3knKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGUpO1xuICAgICAgfVxuICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICB9XG4gIH0gZWxzZSB7XG5cbiAgICB2YXIgcmVtb3ZlSGFuZGxlciA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIHZhciBsaXN0ZW5lckZucyA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChpc0RlZmluZWQoZm4pKSB7XG4gICAgICAgIGFycmF5UmVtb3ZlKGxpc3RlbmVyRm5zIHx8IFtdLCBmbik7XG4gICAgICB9XG4gICAgICBpZiAoIShpc0RlZmluZWQoZm4pICYmIGxpc3RlbmVyRm5zICYmIGxpc3RlbmVyRm5zLmxlbmd0aCA+IDApKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGUpO1xuICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmb3JFYWNoKHR5cGUuc3BsaXQoJyAnKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgcmVtb3ZlSGFuZGxlcih0eXBlKTtcbiAgICAgIGlmIChNT1VTRV9FVkVOVF9NQVBbdHlwZV0pIHtcbiAgICAgICAgcmVtb3ZlSGFuZGxlcihNT1VTRV9FVkVOVF9NQVBbdHlwZV0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlSWZFbXB0eURhdGEoZWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZURhdGEoZWxlbWVudCwgbmFtZSkge1xuICB2YXIgZXhwYW5kb0lkID0gZWxlbWVudC5uZzMzOTtcbiAgdmFyIGV4cGFuZG9TdG9yZSA9IGV4cGFuZG9JZCAmJiBqcUNhY2hlW2V4cGFuZG9JZF07XG5cbiAgaWYgKGV4cGFuZG9TdG9yZSkge1xuICAgIGlmIChuYW1lKSB7XG4gICAgICBkZWxldGUgZXhwYW5kb1N0b3JlLmRhdGFbbmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cGFuZG9TdG9yZS5kYXRhID0ge307XG4gICAgfVxuXG4gICAgcmVtb3ZlSWZFbXB0eURhdGEoZWxlbWVudCk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwgY3JlYXRlSWZOZWNlc3NhcnkpIHtcbiAgdmFyIGV4cGFuZG9JZCA9IGVsZW1lbnQubmczMzksXG4gICAgICBleHBhbmRvU3RvcmUgPSBleHBhbmRvSWQgJiYganFDYWNoZVtleHBhbmRvSWRdO1xuXG4gIGlmIChjcmVhdGVJZk5lY2Vzc2FyeSAmJiAhZXhwYW5kb1N0b3JlKSB7XG4gICAgZWxlbWVudC5uZzMzOSA9IGV4cGFuZG9JZCA9IGpxTmV4dElkKCk7XG4gICAgZXhwYW5kb1N0b3JlID0ganFDYWNoZVtleHBhbmRvSWRdID0ge2V2ZW50czoge30sIGRhdGE6IHt9LCBoYW5kbGU6IHVuZGVmaW5lZH07XG4gIH1cblxuICByZXR1cm4gZXhwYW5kb1N0b3JlO1xufVxuXG5cbmZ1bmN0aW9uIGpxTGl0ZURhdGEoZWxlbWVudCwga2V5LCB2YWx1ZSkge1xuICBpZiAoanFMaXRlQWNjZXB0c0RhdGEoZWxlbWVudCkpIHtcbiAgICB2YXIgcHJvcDtcblxuICAgIHZhciBpc1NpbXBsZVNldHRlciA9IGlzRGVmaW5lZCh2YWx1ZSk7XG4gICAgdmFyIGlzU2ltcGxlR2V0dGVyID0gIWlzU2ltcGxlU2V0dGVyICYmIGtleSAmJiAhaXNPYmplY3Qoa2V5KTtcbiAgICB2YXIgbWFzc0dldHRlciA9ICFrZXk7XG4gICAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50LCAhaXNTaW1wbGVHZXR0ZXIpO1xuICAgIHZhciBkYXRhID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5kYXRhO1xuXG4gICAgaWYgKGlzU2ltcGxlU2V0dGVyKSB7IC8vIGRhdGEoJ2tleScsIHZhbHVlKVxuICAgICAgZGF0YVtrZWJhYlRvQ2FtZWwoa2V5KV0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1hc3NHZXR0ZXIpIHsgIC8vIGRhdGEoKVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc1NpbXBsZUdldHRlcikgeyAvLyBkYXRhKCdrZXknKVxuICAgICAgICAgIC8vIGRvbid0IGZvcmNlIGNyZWF0aW9uIG9mIGV4cGFuZG9TdG9yZSBpZiBpdCBkb2Vzbid0IGV4aXN0IHlldFxuICAgICAgICAgIHJldHVybiBkYXRhICYmIGRhdGFba2ViYWJUb0NhbWVsKGtleSldO1xuICAgICAgICB9IGVsc2UgeyAvLyBtYXNzLXNldHRlcjogZGF0YSh7a2V5MTogdmFsMSwga2V5MjogdmFsMn0pXG4gICAgICAgICAgZm9yIChwcm9wIGluIGtleSkge1xuICAgICAgICAgICAgZGF0YVtrZWJhYlRvQ2FtZWwocHJvcCldID0ga2V5W3Byb3BdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBqcUxpdGVIYXNDbGFzcyhlbGVtZW50LCBzZWxlY3Rvcikge1xuICBpZiAoIWVsZW1lbnQuZ2V0QXR0cmlidXRlKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAoKCcgJyArIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyAnICcpLnJlcGxhY2UoL1tcXG5cXHRdL2csICcgJykuXG4gICAgICBpbmRleE9mKCcgJyArIHNlbGVjdG9yICsgJyAnKSA+IC0xKTtcbn1cblxuZnVuY3Rpb24ganFMaXRlUmVtb3ZlQ2xhc3MoZWxlbWVudCwgY3NzQ2xhc3Nlcykge1xuICBpZiAoY3NzQ2xhc3NlcyAmJiBlbGVtZW50LnNldEF0dHJpYnV0ZSkge1xuICAgIHZhciBleGlzdGluZ0NsYXNzZXMgPSAoJyAnICsgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnKSArICcgJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xcblxcdF0vZywgJyAnKTtcbiAgICB2YXIgbmV3Q2xhc3NlcyA9IGV4aXN0aW5nQ2xhc3NlcztcblxuICAgIGZvckVhY2goY3NzQ2xhc3Nlcy5zcGxpdCgnICcpLCBmdW5jdGlvbihjc3NDbGFzcykge1xuICAgICAgY3NzQ2xhc3MgPSB0cmltKGNzc0NsYXNzKTtcbiAgICAgIG5ld0NsYXNzZXMgPSBuZXdDbGFzc2VzLnJlcGxhY2UoJyAnICsgY3NzQ2xhc3MgKyAnICcsICcgJyk7XG4gICAgfSk7XG5cbiAgICBpZiAobmV3Q2xhc3NlcyAhPT0gZXhpc3RpbmdDbGFzc2VzKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB0cmltKG5ld0NsYXNzZXMpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlQWRkQ2xhc3MoZWxlbWVudCwgY3NzQ2xhc3Nlcykge1xuICBpZiAoY3NzQ2xhc3NlcyAmJiBlbGVtZW50LnNldEF0dHJpYnV0ZSkge1xuICAgIHZhciBleGlzdGluZ0NsYXNzZXMgPSAoJyAnICsgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnKSArICcgJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xcblxcdF0vZywgJyAnKTtcbiAgICB2YXIgbmV3Q2xhc3NlcyA9IGV4aXN0aW5nQ2xhc3NlcztcblxuICAgIGZvckVhY2goY3NzQ2xhc3Nlcy5zcGxpdCgnICcpLCBmdW5jdGlvbihjc3NDbGFzcykge1xuICAgICAgY3NzQ2xhc3MgPSB0cmltKGNzc0NsYXNzKTtcbiAgICAgIGlmIChuZXdDbGFzc2VzLmluZGV4T2YoJyAnICsgY3NzQ2xhc3MgKyAnICcpID09PSAtMSkge1xuICAgICAgICBuZXdDbGFzc2VzICs9IGNzc0NsYXNzICsgJyAnO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKG5ld0NsYXNzZXMgIT09IGV4aXN0aW5nQ2xhc3Nlcykge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdHJpbShuZXdDbGFzc2VzKSk7XG4gICAgfVxuICB9XG59XG5cblxuZnVuY3Rpb24ganFMaXRlQWRkTm9kZXMocm9vdCwgZWxlbWVudHMpIHtcbiAgLy8gVEhJUyBDT0RFIElTIFZFUlkgSE9ULiBEb24ndCBtYWtlIGNoYW5nZXMgd2l0aG91dCBiZW5jaG1hcmtpbmcuXG5cbiAgaWYgKGVsZW1lbnRzKSB7XG5cbiAgICAvLyBpZiBhIE5vZGUgKHRoZSBtb3N0IGNvbW1vbiBjYXNlKVxuICAgIGlmIChlbGVtZW50cy5ub2RlVHlwZSkge1xuICAgICAgcm9vdFtyb290Lmxlbmd0aCsrXSA9IGVsZW1lbnRzO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuXG4gICAgICAvLyBpZiBhbiBBcnJheSBvciBOb2RlTGlzdCBhbmQgbm90IGEgV2luZG93XG4gICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PT0gJ251bWJlcicgJiYgZWxlbWVudHMud2luZG93ICE9PSBlbGVtZW50cykge1xuICAgICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcm9vdFtyb290Lmxlbmd0aCsrXSA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdFtyb290Lmxlbmd0aCsrXSA9IGVsZW1lbnRzO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGpxTGl0ZUNvbnRyb2xsZXIoZWxlbWVudCwgbmFtZSkge1xuICByZXR1cm4ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LCAnJCcgKyAobmFtZSB8fCAnbmdDb250cm9sbGVyJykgKyAnQ29udHJvbGxlcicpO1xufVxuXG5mdW5jdGlvbiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG4gIC8vIGlmIGVsZW1lbnQgaXMgdGhlIGRvY3VtZW50IG9iamVjdCB3b3JrIHdpdGggdGhlIGh0bWwgZWxlbWVudCBpbnN0ZWFkXG4gIC8vIHRoaXMgbWFrZXMgJChkb2N1bWVudCkuc2NvcGUoKSBwb3NzaWJsZVxuICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0RPQ1VNRU5UKSB7XG4gICAgZWxlbWVudCA9IGVsZW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG4gIHZhciBuYW1lcyA9IGlzQXJyYXkobmFtZSkgPyBuYW1lIDogW25hbWVdO1xuXG4gIHdoaWxlIChlbGVtZW50KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSA9IGpxTGl0ZS5kYXRhKGVsZW1lbnQsIG5hbWVzW2ldKSkpIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBJZiBkZWFsaW5nIHdpdGggYSBkb2N1bWVudCBmcmFnbWVudCBub2RlIHdpdGggYSBob3N0IGVsZW1lbnQsIGFuZCBubyBwYXJlbnQsIHVzZSB0aGUgaG9zdFxuICAgIC8vIGVsZW1lbnQgYXMgdGhlIHBhcmVudC4gVGhpcyBlbmFibGVzIGRpcmVjdGl2ZXMgd2l0aGluIGEgU2hhZG93IERPTSBvciBwb2x5ZmlsbGVkIFNoYWRvdyBET01cbiAgICAvLyB0byBsb29rdXAgcGFyZW50IGNvbnRyb2xsZXJzLlxuICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUgfHwgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCAmJiBlbGVtZW50Lmhvc3QpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUVtcHR5KGVsZW1lbnQpIHtcbiAganFMaXRlRGVhbG9jKGVsZW1lbnQsIHRydWUpO1xuICB3aGlsZSAoZWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZShlbGVtZW50LCBrZWVwRGF0YSkge1xuICBpZiAoIWtlZXBEYXRhKSBqcUxpdGVEZWFsb2MoZWxlbWVudCk7XG4gIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gIGlmIChwYXJlbnQpIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50KTtcbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVEb2N1bWVudExvYWRlZChhY3Rpb24sIHdpbikge1xuICB3aW4gPSB3aW4gfHwgd2luZG93O1xuICBpZiAod2luLmRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAvLyBGb3JjZSB0aGUgYWN0aW9uIHRvIGJlIHJ1biBhc3luYyBmb3IgY29uc2lzdGVudCBiZWhhdmlvclxuICAgIC8vIGZyb20gdGhlIGFjdGlvbidzIHBvaW50IG9mIHZpZXdcbiAgICAvLyBpLmUuIGl0IHdpbGwgZGVmaW5pdGVseSBub3QgYmUgaW4gYSAkYXBwbHlcbiAgICB3aW4uc2V0VGltZW91dChhY3Rpb24pO1xuICB9IGVsc2Uge1xuICAgIC8vIE5vIG5lZWQgdG8gdW5iaW5kIHRoaXMgaGFuZGxlciBhcyBsb2FkIGlzIG9ubHkgZXZlciBjYWxsZWQgb25jZVxuICAgIGpxTGl0ZSh3aW4pLm9uKCdsb2FkJywgYWN0aW9uKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBqcUxpdGVSZWFkeShmbikge1xuICBmdW5jdGlvbiB0cmlnZ2VyKCkge1xuICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgdHJpZ2dlcik7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0cmlnZ2VyKTtcbiAgICBmbigpO1xuICB9XG5cbiAgLy8gY2hlY2sgaWYgZG9jdW1lbnQgaXMgYWxyZWFkeSBsb2FkZWRcbiAgaWYgKHdpbmRvdy5kb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgd2luZG93LnNldFRpbWVvdXQoZm4pO1xuICB9IGVsc2Uge1xuICAgIC8vIFdlIGNhbiBub3QgdXNlIGpxTGl0ZSBzaW5jZSB3ZSBhcmUgbm90IGRvbmUgbG9hZGluZyBhbmQgalF1ZXJ5IGNvdWxkIGJlIGxvYWRlZCBsYXRlci5cblxuICAgIC8vIFdvcmtzIGZvciBtb2Rlcm4gYnJvd3NlcnMgYW5kIElFOVxuICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgdHJpZ2dlcik7XG5cbiAgICAvLyBGYWxsYmFjayB0byB3aW5kb3cub25sb2FkIGZvciBvdGhlcnNcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRyaWdnZXIpO1xuICB9XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRnVuY3Rpb25zIHdoaWNoIGFyZSBkZWNsYXJlZCBkaXJlY3RseS5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xudmFyIEpRTGl0ZVByb3RvdHlwZSA9IEpRTGl0ZS5wcm90b3R5cGUgPSB7XG4gIHJlYWR5OiBqcUxpdGVSZWFkeSxcbiAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2YWx1ZSA9IFtdO1xuICAgIGZvckVhY2godGhpcywgZnVuY3Rpb24oZSkgeyB2YWx1ZS5wdXNoKCcnICsgZSk7fSk7XG4gICAgcmV0dXJuICdbJyArIHZhbHVlLmpvaW4oJywgJykgKyAnXSc7XG4gIH0sXG5cbiAgZXE6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICByZXR1cm4gKGluZGV4ID49IDApID8ganFMaXRlKHRoaXNbaW5kZXhdKSA6IGpxTGl0ZSh0aGlzW3RoaXMubGVuZ3RoICsgaW5kZXhdKTtcbiAgfSxcblxuICBsZW5ndGg6IDAsXG4gIHB1c2g6IHB1c2gsXG4gIHNvcnQ6IFtdLnNvcnQsXG4gIHNwbGljZTogW10uc3BsaWNlXG59O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEZ1bmN0aW9ucyBpdGVyYXRpbmcgZ2V0dGVyL3NldHRlcnMuXG4vLyB0aGVzZSBmdW5jdGlvbnMgcmV0dXJuIHNlbGYgb24gc2V0dGVyIGFuZFxuLy8gdmFsdWUgb24gZ2V0LlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG52YXIgQk9PTEVBTl9BVFRSID0ge307XG5mb3JFYWNoKCdtdWx0aXBsZSxzZWxlY3RlZCxjaGVja2VkLGRpc2FibGVkLHJlYWRPbmx5LHJlcXVpcmVkLG9wZW4nLnNwbGl0KCcsJyksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gIEJPT0xFQU5fQVRUUltsb3dlcmNhc2UodmFsdWUpXSA9IHZhbHVlO1xufSk7XG52YXIgQk9PTEVBTl9FTEVNRU5UUyA9IHt9O1xuZm9yRWFjaCgnaW5wdXQsc2VsZWN0LG9wdGlvbix0ZXh0YXJlYSxidXR0b24sZm9ybSxkZXRhaWxzJy5zcGxpdCgnLCcpLCBmdW5jdGlvbih2YWx1ZSkge1xuICBCT09MRUFOX0VMRU1FTlRTW3ZhbHVlXSA9IHRydWU7XG59KTtcbnZhciBBTElBU0VEX0FUVFIgPSB7XG4gICduZ01pbmxlbmd0aCc6ICdtaW5sZW5ndGgnLFxuICAnbmdNYXhsZW5ndGgnOiAnbWF4bGVuZ3RoJyxcbiAgJ25nTWluJzogJ21pbicsXG4gICduZ01heCc6ICdtYXgnLFxuICAnbmdQYXR0ZXJuJzogJ3BhdHRlcm4nLFxuICAnbmdTdGVwJzogJ3N0ZXAnXG59O1xuXG5mdW5jdGlvbiBnZXRCb29sZWFuQXR0ck5hbWUoZWxlbWVudCwgbmFtZSkge1xuICAvLyBjaGVjayBkb20gbGFzdCBzaW5jZSB3ZSB3aWxsIG1vc3QgbGlrZWx5IGZhaWwgb24gbmFtZVxuICB2YXIgYm9vbGVhbkF0dHIgPSBCT09MRUFOX0FUVFJbbmFtZS50b0xvd2VyQ2FzZSgpXTtcblxuICAvLyBib29sZWFuQXR0ciBpcyBoZXJlIHR3aWNlIHRvIG1pbmltaXplIERPTSBhY2Nlc3NcbiAgcmV0dXJuIGJvb2xlYW5BdHRyICYmIEJPT0xFQU5fRUxFTUVOVFNbbm9kZU5hbWVfKGVsZW1lbnQpXSAmJiBib29sZWFuQXR0cjtcbn1cblxuZnVuY3Rpb24gZ2V0QWxpYXNlZEF0dHJOYW1lKG5hbWUpIHtcbiAgcmV0dXJuIEFMSUFTRURfQVRUUltuYW1lXTtcbn1cblxuZm9yRWFjaCh7XG4gIGRhdGE6IGpxTGl0ZURhdGEsXG4gIHJlbW92ZURhdGE6IGpxTGl0ZVJlbW92ZURhdGEsXG4gIGhhc0RhdGE6IGpxTGl0ZUhhc0RhdGEsXG4gIGNsZWFuRGF0YTogZnVuY3Rpb24ganFMaXRlQ2xlYW5EYXRhKG5vZGVzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbm9kZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAganFMaXRlUmVtb3ZlRGF0YShub2Rlc1tpXSk7XG4gICAgICBqcUxpdGVPZmYobm9kZXNbaV0pO1xuICAgIH1cbiAgfVxufSwgZnVuY3Rpb24oZm4sIG5hbWUpIHtcbiAgSlFMaXRlW25hbWVdID0gZm47XG59KTtcblxuZm9yRWFjaCh7XG4gIGRhdGE6IGpxTGl0ZURhdGEsXG4gIGluaGVyaXRlZERhdGE6IGpxTGl0ZUluaGVyaXRlZERhdGEsXG5cbiAgc2NvcGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAvLyBDYW4ndCB1c2UganFMaXRlRGF0YSBoZXJlIGRpcmVjdGx5IHNvIHdlIHN0YXkgY29tcGF0aWJsZSB3aXRoIGpRdWVyeSFcbiAgICByZXR1cm4ganFMaXRlLmRhdGEoZWxlbWVudCwgJyRzY29wZScpIHx8IGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudC5wYXJlbnROb2RlIHx8IGVsZW1lbnQsIFsnJGlzb2xhdGVTY29wZScsICckc2NvcGUnXSk7XG4gIH0sXG5cbiAgaXNvbGF0ZVNjb3BlOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgLy8gQ2FuJ3QgdXNlIGpxTGl0ZURhdGEgaGVyZSBkaXJlY3RseSBzbyB3ZSBzdGF5IGNvbXBhdGlibGUgd2l0aCBqUXVlcnkhXG4gICAgcmV0dXJuIGpxTGl0ZS5kYXRhKGVsZW1lbnQsICckaXNvbGF0ZVNjb3BlJykgfHwganFMaXRlLmRhdGEoZWxlbWVudCwgJyRpc29sYXRlU2NvcGVOb1RlbXBsYXRlJyk7XG4gIH0sXG5cbiAgY29udHJvbGxlcjoganFMaXRlQ29udHJvbGxlcixcblxuICBpbmplY3RvcjogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsICckaW5qZWN0b3InKTtcbiAgfSxcblxuICByZW1vdmVBdHRyOiBmdW5jdGlvbihlbGVtZW50LCBuYW1lKSB7XG4gICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gIH0sXG5cbiAgaGFzQ2xhc3M6IGpxTGl0ZUhhc0NsYXNzLFxuXG4gIGNzczogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgICBuYW1lID0gY3NzS2ViYWJUb0NhbWVsKG5hbWUpO1xuXG4gICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGVbbmFtZV0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuc3R5bGVbbmFtZV07XG4gICAgfVxuICB9LFxuXG4gIGF0dHI6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIHJldDtcbiAgICB2YXIgbm9kZVR5cGUgPSBlbGVtZW50Lm5vZGVUeXBlO1xuICAgIGlmIChub2RlVHlwZSA9PT0gTk9ERV9UWVBFX1RFWFQgfHwgbm9kZVR5cGUgPT09IE5PREVfVFlQRV9BVFRSSUJVVEUgfHwgbm9kZVR5cGUgPT09IE5PREVfVFlQRV9DT01NRU5UIHx8XG4gICAgICAhZWxlbWVudC5nZXRBdHRyaWJ1dGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbG93ZXJjYXNlZE5hbWUgPSBsb3dlcmNhc2UobmFtZSk7XG4gICAgdmFyIGlzQm9vbGVhbkF0dHIgPSBCT09MRUFOX0FUVFJbbG93ZXJjYXNlZE5hbWVdO1xuXG4gICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIC8vIHNldHRlclxuXG4gICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgKHZhbHVlID09PSBmYWxzZSAmJiBpc0Jvb2xlYW5BdHRyKSkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIGlzQm9vbGVhbkF0dHIgPyBsb3dlcmNhc2VkTmFtZSA6IHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZ2V0dGVyXG5cbiAgICAgIHJldCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpO1xuXG4gICAgICBpZiAoaXNCb29sZWFuQXR0ciAmJiByZXQgIT09IG51bGwpIHtcbiAgICAgICAgcmV0ID0gbG93ZXJjYXNlZE5hbWU7XG4gICAgICB9XG4gICAgICAvLyBOb3JtYWxpemUgbm9uLWV4aXN0aW5nIGF0dHJpYnV0ZXMgdG8gdW5kZWZpbmVkIChhcyBqUXVlcnkpLlxuICAgICAgcmV0dXJuIHJldCA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcbiAgICB9XG4gIH0sXG5cbiAgcHJvcDogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgZWxlbWVudFtuYW1lXSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZWxlbWVudFtuYW1lXTtcbiAgICB9XG4gIH0sXG5cbiAgdGV4dDogKGZ1bmN0aW9uKCkge1xuICAgIGdldFRleHQuJGR2ID0gJyc7XG4gICAgcmV0dXJuIGdldFRleHQ7XG5cbiAgICBmdW5jdGlvbiBnZXRUZXh0KGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgIHZhciBub2RlVHlwZSA9IGVsZW1lbnQubm9kZVR5cGU7XG4gICAgICAgIHJldHVybiAobm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UIHx8IG5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCkgPyBlbGVtZW50LnRleHRDb250ZW50IDogJyc7XG4gICAgICB9XG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdmFsdWU7XG4gICAgfVxuICB9KSgpLFxuXG4gIHZhbDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICBpZiAoZWxlbWVudC5tdWx0aXBsZSAmJiBub2RlTmFtZV8oZWxlbWVudCkgPT09ICdzZWxlY3QnKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yRWFjaChlbGVtZW50Lm9wdGlvbnMsIGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9wdGlvbi52YWx1ZSB8fCBvcHRpb24udGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBlbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gIH0sXG5cbiAgaHRtbDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5pbm5lckhUTUw7XG4gICAgfVxuICAgIGpxTGl0ZURlYWxvYyhlbGVtZW50LCB0cnVlKTtcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IHZhbHVlO1xuICB9LFxuXG4gIGVtcHR5OiBqcUxpdGVFbXB0eVxufSwgZnVuY3Rpb24oZm4sIG5hbWUpIHtcbiAgLyoqXG4gICAqIFByb3BlcnRpZXM6IHdyaXRlcyByZXR1cm4gc2VsZWN0aW9uLCByZWFkcyByZXR1cm4gZmlyc3QgdmFsdWVcbiAgICovXG4gIEpRTGl0ZS5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbihhcmcxLCBhcmcyKSB7XG4gICAgdmFyIGksIGtleTtcbiAgICB2YXIgbm9kZUNvdW50ID0gdGhpcy5sZW5ndGg7XG5cbiAgICAvLyBqcUxpdGVIYXNDbGFzcyBoYXMgb25seSB0d28gYXJndW1lbnRzLCBidXQgaXMgYSBnZXR0ZXItb25seSBmbiwgc28gd2UgbmVlZCB0byBzcGVjaWFsLWNhc2UgaXRcbiAgICAvLyBpbiBhIHdheSB0aGF0IHN1cnZpdmVzIG1pbmlmaWNhdGlvbi5cbiAgICAvLyBqcUxpdGVFbXB0eSB0YWtlcyBubyBhcmd1bWVudHMgYnV0IGlzIGEgc2V0dGVyLlxuICAgIGlmIChmbiAhPT0ganFMaXRlRW1wdHkgJiZcbiAgICAgICAgKGlzVW5kZWZpbmVkKChmbi5sZW5ndGggPT09IDIgJiYgKGZuICE9PSBqcUxpdGVIYXNDbGFzcyAmJiBmbiAhPT0ganFMaXRlQ29udHJvbGxlcikpID8gYXJnMSA6IGFyZzIpKSkge1xuICAgICAgaWYgKGlzT2JqZWN0KGFyZzEpKSB7XG5cbiAgICAgICAgLy8gd2UgYXJlIGEgd3JpdGUsIGJ1dCB0aGUgb2JqZWN0IHByb3BlcnRpZXMgYXJlIHRoZSBrZXkvdmFsdWVzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBub2RlQ291bnQ7IGkrKykge1xuICAgICAgICAgIGlmIChmbiA9PT0ganFMaXRlRGF0YSkge1xuICAgICAgICAgICAgLy8gZGF0YSgpIHRha2VzIHRoZSB3aG9sZSBvYmplY3QgaW4galF1ZXJ5XG4gICAgICAgICAgICBmbih0aGlzW2ldLCBhcmcxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChrZXkgaW4gYXJnMSkge1xuICAgICAgICAgICAgICBmbih0aGlzW2ldLCBrZXksIGFyZzFba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHJldHVybiBzZWxmIGZvciBjaGFpbmluZ1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHdlIGFyZSBhIHJlYWQsIHNvIHJlYWQgdGhlIGZpcnN0IGNoaWxkLlxuICAgICAgICAvLyBUT0RPOiBkbyB3ZSBzdGlsbCBuZWVkIHRoaXM/XG4gICAgICAgIHZhciB2YWx1ZSA9IGZuLiRkdjtcbiAgICAgICAgLy8gT25seSBpZiB3ZSBoYXZlICRkdiBkbyB3ZSBpdGVyYXRlIG92ZXIgYWxsLCBvdGhlcndpc2UgaXQgaXMganVzdCB0aGUgZmlyc3QgZWxlbWVudC5cbiAgICAgICAgdmFyIGpqID0gKGlzVW5kZWZpbmVkKHZhbHVlKSkgPyBNYXRoLm1pbihub2RlQ291bnQsIDEpIDogbm9kZUNvdW50O1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICB2YXIgbm9kZVZhbHVlID0gZm4odGhpc1tqXSwgYXJnMSwgYXJnMik7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IHZhbHVlICsgbm9kZVZhbHVlIDogbm9kZVZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gd2UgYXJlIGEgd3JpdGUsIHNvIGFwcGx5IHRvIGFsbCBjaGlsZHJlblxuICAgICAgZm9yIChpID0gMDsgaSA8IG5vZGVDb3VudDsgaSsrKSB7XG4gICAgICAgIGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIpO1xuICAgICAgfVxuICAgICAgLy8gcmV0dXJuIHNlbGYgZm9yIGNoYWluaW5nXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG59KTtcblxuZnVuY3Rpb24gY3JlYXRlRXZlbnRIYW5kbGVyKGVsZW1lbnQsIGV2ZW50cykge1xuICB2YXIgZXZlbnRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQsIHR5cGUpIHtcbiAgICAvLyBqUXVlcnkgc3BlY2lmaWMgYXBpXG4gICAgZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcbiAgICB9O1xuXG4gICAgdmFyIGV2ZW50Rm5zID0gZXZlbnRzW3R5cGUgfHwgZXZlbnQudHlwZV07XG4gICAgdmFyIGV2ZW50Rm5zTGVuZ3RoID0gZXZlbnRGbnMgPyBldmVudEZucy5sZW5ndGggOiAwO1xuXG4gICAgaWYgKCFldmVudEZuc0xlbmd0aCkgcmV0dXJuO1xuXG4gICAgaWYgKGlzVW5kZWZpbmVkKGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCkpIHtcbiAgICAgIHZhciBvcmlnaW5hbFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjtcbiAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBldmVudC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcmlnaW5hbFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbikge1xuICAgICAgICAgIG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uLmNhbGwoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID09PSB0cnVlO1xuICAgIH07XG5cbiAgICAvLyBTb21lIGV2ZW50cyBoYXZlIHNwZWNpYWwgaGFuZGxlcnMgdGhhdCB3cmFwIHRoZSByZWFsIGhhbmRsZXJcbiAgICB2YXIgaGFuZGxlcldyYXBwZXIgPSBldmVudEZucy5zcGVjaWFsSGFuZGxlcldyYXBwZXIgfHwgZGVmYXVsdEhhbmRsZXJXcmFwcGVyO1xuXG4gICAgLy8gQ29weSBldmVudCBoYW5kbGVycyBpbiBjYXNlIGV2ZW50IGhhbmRsZXJzIGFycmF5IGlzIG1vZGlmaWVkIGR1cmluZyBleGVjdXRpb24uXG4gICAgaWYgKChldmVudEZuc0xlbmd0aCA+IDEpKSB7XG4gICAgICBldmVudEZucyA9IHNoYWxsb3dDb3B5KGV2ZW50Rm5zKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50Rm5zTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICBoYW5kbGVyV3JhcHBlcihlbGVtZW50LCBldmVudCwgZXZlbnRGbnNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjayBmb3IgYW5ndWxhck1vY2tzL2NsZWFyRGF0YUNhY2hlIHRoYXQgbWFrZXMgaXQgcG9zc2libGUgdG8gZGVyZWdpc3RlciBhbGxcbiAgLy8gICAgICAgZXZlbnRzIG9uIGBlbGVtZW50YFxuICBldmVudEhhbmRsZXIuZWxlbSA9IGVsZW1lbnQ7XG4gIHJldHVybiBldmVudEhhbmRsZXI7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRIYW5kbGVyV3JhcHBlcihlbGVtZW50LCBldmVudCwgaGFuZGxlcikge1xuICBoYW5kbGVyLmNhbGwoZWxlbWVudCwgZXZlbnQpO1xufVxuXG5mdW5jdGlvbiBzcGVjaWFsTW91c2VIYW5kbGVyV3JhcHBlcih0YXJnZXQsIGV2ZW50LCBoYW5kbGVyKSB7XG4gIC8vIFJlZmVyIHRvIGpRdWVyeSdzIGltcGxlbWVudGF0aW9uIG9mIG1vdXNlZW50ZXIgJiBtb3VzZWxlYXZlXG4gIC8vIFJlYWQgYWJvdXQgbW91c2VlbnRlciBhbmQgbW91c2VsZWF2ZTpcbiAgLy8gaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9qcy9ldmVudHNfbW91c2UuaHRtbCNsaW5rOFxuICB2YXIgcmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7XG4gIC8vIEZvciBtb3VzZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC5cbiAgLy8gTkI6IE5vIHJlbGF0ZWRUYXJnZXQgaWYgdGhlIG1vdXNlIGxlZnQvZW50ZXJlZCB0aGUgYnJvd3NlciB3aW5kb3dcbiAgaWYgKCFyZWxhdGVkIHx8IChyZWxhdGVkICE9PSB0YXJnZXQgJiYgIWpxTGl0ZUNvbnRhaW5zLmNhbGwodGFyZ2V0LCByZWxhdGVkKSkpIHtcbiAgICBoYW5kbGVyLmNhbGwodGFyZ2V0LCBldmVudCk7XG4gIH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBGdW5jdGlvbnMgaXRlcmF0aW5nIHRyYXZlcnNhbC5cbi8vIFRoZXNlIGZ1bmN0aW9ucyBjaGFpbiByZXN1bHRzIGludG8gYSBzaW5nbGVcbi8vIHNlbGVjdG9yLlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mb3JFYWNoKHtcbiAgcmVtb3ZlRGF0YToganFMaXRlUmVtb3ZlRGF0YSxcblxuICBvbjogZnVuY3Rpb24ganFMaXRlT24oZWxlbWVudCwgdHlwZSwgZm4sIHVuc3VwcG9ydGVkKSB7XG4gICAgaWYgKGlzRGVmaW5lZCh1bnN1cHBvcnRlZCkpIHRocm93IGpxTGl0ZU1pbkVycignb25hcmdzJywgJ2pxTGl0ZSNvbigpIGRvZXMgbm90IHN1cHBvcnQgdGhlIGBzZWxlY3RvcmAgb3IgYGV2ZW50RGF0YWAgcGFyYW1ldGVycycpO1xuXG4gICAgLy8gRG8gbm90IGFkZCBldmVudCBoYW5kbGVycyB0byBub24tZWxlbWVudHMgYmVjYXVzZSB0aGV5IHdpbGwgbm90IGJlIGNsZWFuZWQgdXAuXG4gICAgaWYgKCFqcUxpdGVBY2NlcHRzRGF0YShlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBleHBhbmRvU3RvcmUgPSBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwgdHJ1ZSk7XG4gICAgdmFyIGV2ZW50cyA9IGV4cGFuZG9TdG9yZS5ldmVudHM7XG4gICAgdmFyIGhhbmRsZSA9IGV4cGFuZG9TdG9yZS5oYW5kbGU7XG5cbiAgICBpZiAoIWhhbmRsZSkge1xuICAgICAgaGFuZGxlID0gZXhwYW5kb1N0b3JlLmhhbmRsZSA9IGNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LCBldmVudHMpO1xuICAgIH1cblxuICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL3N0cmluZy1pbmRleG9mLXZzLXNwbGl0XG4gICAgdmFyIHR5cGVzID0gdHlwZS5pbmRleE9mKCcgJykgPj0gMCA/IHR5cGUuc3BsaXQoJyAnKSA6IFt0eXBlXTtcbiAgICB2YXIgaSA9IHR5cGVzLmxlbmd0aDtcblxuICAgIHZhciBhZGRIYW5kbGVyID0gZnVuY3Rpb24odHlwZSwgc3BlY2lhbEhhbmRsZXJXcmFwcGVyLCBub0V2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHZhciBldmVudEZucyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKCFldmVudEZucykge1xuICAgICAgICBldmVudEZucyA9IGV2ZW50c1t0eXBlXSA9IFtdO1xuICAgICAgICBldmVudEZucy5zcGVjaWFsSGFuZGxlcldyYXBwZXIgPSBzcGVjaWFsSGFuZGxlcldyYXBwZXI7XG4gICAgICAgIGlmICh0eXBlICE9PSAnJGRlc3Ryb3knICYmICFub0V2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBldmVudEZucy5wdXNoKGZuKTtcbiAgICB9O1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgdHlwZSA9IHR5cGVzW2ldO1xuICAgICAgaWYgKE1PVVNFX0VWRU5UX01BUFt0eXBlXSkge1xuICAgICAgICBhZGRIYW5kbGVyKE1PVVNFX0VWRU5UX01BUFt0eXBlXSwgc3BlY2lhbE1vdXNlSGFuZGxlcldyYXBwZXIpO1xuICAgICAgICBhZGRIYW5kbGVyKHR5cGUsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGRIYW5kbGVyKHR5cGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBvZmY6IGpxTGl0ZU9mZixcblxuICBvbmU6IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUsIGZuKSB7XG4gICAgZWxlbWVudCA9IGpxTGl0ZShlbGVtZW50KTtcblxuICAgIC8vYWRkIHRoZSBsaXN0ZW5lciB0d2ljZSBzbyB0aGF0IHdoZW4gaXQgaXMgY2FsbGVkXG4gICAgLy95b3UgY2FuIHJlbW92ZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gYW5kIHN0aWxsIGJlXG4gICAgLy9hYmxlIHRvIGNhbGwgZWxlbWVudC5vZmYoZXYsIGZuKSBub3JtYWxseVxuICAgIGVsZW1lbnQub24odHlwZSwgZnVuY3Rpb24gb25GbigpIHtcbiAgICAgIGVsZW1lbnQub2ZmKHR5cGUsIGZuKTtcbiAgICAgIGVsZW1lbnQub2ZmKHR5cGUsIG9uRm4pO1xuICAgIH0pO1xuICAgIGVsZW1lbnQub24odHlwZSwgZm4pO1xuICB9LFxuXG4gIHJlcGxhY2VXaXRoOiBmdW5jdGlvbihlbGVtZW50LCByZXBsYWNlTm9kZSkge1xuICAgIHZhciBpbmRleCwgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIGpxTGl0ZURlYWxvYyhlbGVtZW50KTtcbiAgICBmb3JFYWNoKG5ldyBKUUxpdGUocmVwbGFjZU5vZGUpLCBmdW5jdGlvbihub2RlKSB7XG4gICAgICBpZiAoaW5kZXgpIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCBpbmRleC5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKG5vZGUsIGVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgaW5kZXggPSBub2RlO1xuICAgIH0pO1xuICB9LFxuXG4gIGNoaWxkcmVuOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIGNoaWxkcmVuID0gW107XG4gICAgZm9yRWFjaChlbGVtZW50LmNoaWxkTm9kZXMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfSxcblxuICBjb250ZW50czogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50LmNvbnRlbnREb2N1bWVudCB8fCBlbGVtZW50LmNoaWxkTm9kZXMgfHwgW107XG4gIH0sXG5cbiAgYXBwZW5kOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7XG4gICAgdmFyIG5vZGVUeXBlID0gZWxlbWVudC5ub2RlVHlwZTtcbiAgICBpZiAobm9kZVR5cGUgIT09IE5PREVfVFlQRV9FTEVNRU5UICYmIG5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQpIHJldHVybjtcblxuICAgIG5vZGUgPSBuZXcgSlFMaXRlKG5vZGUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbm9kZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgfVxuICB9LFxuXG4gIHByZXBlbmQ6IGZ1bmN0aW9uKGVsZW1lbnQsIG5vZGUpIHtcbiAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcbiAgICAgIHZhciBpbmRleCA9IGVsZW1lbnQuZmlyc3RDaGlsZDtcbiAgICAgIGZvckVhY2gobmV3IEpRTGl0ZShub2RlKSwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgZWxlbWVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGluZGV4KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICB3cmFwOiBmdW5jdGlvbihlbGVtZW50LCB3cmFwTm9kZSkge1xuICAgIGpxTGl0ZVdyYXBOb2RlKGVsZW1lbnQsIGpxTGl0ZSh3cmFwTm9kZSkuZXEoMCkuY2xvbmUoKVswXSk7XG4gIH0sXG5cbiAgcmVtb3ZlOiBqcUxpdGVSZW1vdmUsXG5cbiAgZGV0YWNoOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAganFMaXRlUmVtb3ZlKGVsZW1lbnQsIHRydWUpO1xuICB9LFxuXG4gIGFmdGVyOiBmdW5jdGlvbihlbGVtZW50LCBuZXdFbGVtZW50KSB7XG4gICAgdmFyIGluZGV4ID0gZWxlbWVudCwgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgbmV3RWxlbWVudCA9IG5ldyBKUUxpdGUobmV3RWxlbWVudCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5ld0VsZW1lbnQubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICB2YXIgbm9kZSA9IG5ld0VsZW1lbnRbaV07XG4gICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgaW5kZXgubmV4dFNpYmxpbmcpO1xuICAgICAgICBpbmRleCA9IG5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGFkZENsYXNzOiBqcUxpdGVBZGRDbGFzcyxcbiAgcmVtb3ZlQ2xhc3M6IGpxTGl0ZVJlbW92ZUNsYXNzLFxuXG4gIHRvZ2dsZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBzZWxlY3RvciwgY29uZGl0aW9uKSB7XG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBmb3JFYWNoKHNlbGVjdG9yLnNwbGl0KCcgJyksIGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICB2YXIgY2xhc3NDb25kaXRpb24gPSBjb25kaXRpb247XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChjbGFzc0NvbmRpdGlvbikpIHtcbiAgICAgICAgICBjbGFzc0NvbmRpdGlvbiA9ICFqcUxpdGVIYXNDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIChjbGFzc0NvbmRpdGlvbiA/IGpxTGl0ZUFkZENsYXNzIDoganFMaXRlUmVtb3ZlQ2xhc3MpKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgcGFyZW50OiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICByZXR1cm4gcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UID8gcGFyZW50IDogbnVsbDtcbiAgfSxcblxuICBuZXh0OiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuICB9LFxuXG4gIGZpbmQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgaWYgKGVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHNlbGVjdG9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfSxcblxuICBjbG9uZToganFMaXRlQ2xvbmUsXG5cbiAgdHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50LCBleHRyYVBhcmFtZXRlcnMpIHtcblxuICAgIHZhciBkdW1teUV2ZW50LCBldmVudEZuc0NvcHksIGhhbmRsZXJBcmdzO1xuICAgIHZhciBldmVudE5hbWUgPSBldmVudC50eXBlIHx8IGV2ZW50O1xuICAgIHZhciBleHBhbmRvU3RvcmUgPSBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCk7XG4gICAgdmFyIGV2ZW50cyA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuZXZlbnRzO1xuICAgIHZhciBldmVudEZucyA9IGV2ZW50cyAmJiBldmVudHNbZXZlbnROYW1lXTtcblxuICAgIGlmIChldmVudEZucykge1xuICAgICAgLy8gQ3JlYXRlIGEgZHVtbXkgZXZlbnQgdG8gcGFzcyB0byB0aGUgaGFuZGxlcnNcbiAgICAgIGR1bW15RXZlbnQgPSB7XG4gICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHsgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTsgfSxcbiAgICAgICAgaXNEZWZhdWx0UHJldmVudGVkOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9PT0gdHJ1ZTsgfSxcbiAgICAgICAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHsgdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlOyB9LFxuICAgICAgICBpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9PT0gdHJ1ZTsgfSxcbiAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBub29wLFxuICAgICAgICB0eXBlOiBldmVudE5hbWUsXG4gICAgICAgIHRhcmdldDogZWxlbWVudFxuICAgICAgfTtcblxuICAgICAgLy8gSWYgYSBjdXN0b20gZXZlbnQgd2FzIHByb3ZpZGVkIHRoZW4gZXh0ZW5kIG91ciBkdW1teSBldmVudCB3aXRoIGl0XG4gICAgICBpZiAoZXZlbnQudHlwZSkge1xuICAgICAgICBkdW1teUV2ZW50ID0gZXh0ZW5kKGR1bW15RXZlbnQsIGV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29weSBldmVudCBoYW5kbGVycyBpbiBjYXNlIGV2ZW50IGhhbmRsZXJzIGFycmF5IGlzIG1vZGlmaWVkIGR1cmluZyBleGVjdXRpb24uXG4gICAgICBldmVudEZuc0NvcHkgPSBzaGFsbG93Q29weShldmVudEZucyk7XG4gICAgICBoYW5kbGVyQXJncyA9IGV4dHJhUGFyYW1ldGVycyA/IFtkdW1teUV2ZW50XS5jb25jYXQoZXh0cmFQYXJhbWV0ZXJzKSA6IFtkdW1teUV2ZW50XTtcblxuICAgICAgZm9yRWFjaChldmVudEZuc0NvcHksIGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIGlmICghZHVtbXlFdmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgICAgZm4uYXBwbHkoZWxlbWVudCwgaGFuZGxlckFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0sIGZ1bmN0aW9uKGZuLCBuYW1lKSB7XG4gIC8qKlxuICAgKiBjaGFpbmluZyBmdW5jdGlvbnNcbiAgICovXG4gIEpRTGl0ZS5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbihhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgdmFyIHZhbHVlO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gZm4odGhpc1tpXSwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgLy8gYW55IGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYSB2YWx1ZSBuZWVkcyB0byBiZSB3cmFwcGVkXG4gICAgICAgICAgdmFsdWUgPSBqcUxpdGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBqcUxpdGVBZGROb2Rlcyh2YWx1ZSwgZm4odGhpc1tpXSwgYXJnMSwgYXJnMiwgYXJnMykpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXNEZWZpbmVkKHZhbHVlKSA/IHZhbHVlIDogdGhpcztcbiAgfTtcbn0pO1xuXG4vLyBiaW5kIGxlZ2FjeSBiaW5kL3VuYmluZCB0byBvbi9vZmZcbkpRTGl0ZS5wcm90b3R5cGUuYmluZCA9IEpRTGl0ZS5wcm90b3R5cGUub247XG5KUUxpdGUucHJvdG90eXBlLnVuYmluZCA9IEpRTGl0ZS5wcm90b3R5cGUub2ZmO1xuXG5cbi8vIFByb3ZpZGVyIGZvciBwcml2YXRlICQkanFMaXRlIHNlcnZpY2Vcbi8qKiBAdGhpcyAqL1xuZnVuY3Rpb24gJCRqcUxpdGVQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24gJCRqcUxpdGUoKSB7XG4gICAgcmV0dXJuIGV4dGVuZChKUUxpdGUsIHtcbiAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbihub2RlLCBjbGFzc2VzKSB7XG4gICAgICAgIGlmIChub2RlLmF0dHIpIG5vZGUgPSBub2RlWzBdO1xuICAgICAgICByZXR1cm4ganFMaXRlSGFzQ2xhc3Mobm9kZSwgY2xhc3Nlcyk7XG4gICAgICB9LFxuICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uKG5vZGUsIGNsYXNzZXMpIHtcbiAgICAgICAgaWYgKG5vZGUuYXR0cikgbm9kZSA9IG5vZGVbMF07XG4gICAgICAgIHJldHVybiBqcUxpdGVBZGRDbGFzcyhub2RlLCBjbGFzc2VzKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24obm9kZSwgY2xhc3Nlcykge1xuICAgICAgICBpZiAobm9kZS5hdHRyKSBub2RlID0gbm9kZVswXTtcbiAgICAgICAgcmV0dXJuIGpxTGl0ZVJlbW92ZUNsYXNzKG5vZGUsIGNsYXNzZXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuXG4vKipcbiAqIENvbXB1dGVzIGEgaGFzaCBvZiBhbiAnb2JqJy5cbiAqIEhhc2ggb2YgYTpcbiAqICBzdHJpbmcgaXMgc3RyaW5nXG4gKiAgbnVtYmVyIGlzIG51bWJlciBhcyBzdHJpbmdcbiAqICBvYmplY3QgaXMgZWl0aGVyIHJlc3VsdCBvZiBjYWxsaW5nICQkaGFzaEtleSBmdW5jdGlvbiBvbiB0aGUgb2JqZWN0IG9yIHVuaXF1ZWx5IGdlbmVyYXRlZCBpZCxcbiAqICAgICAgICAgdGhhdCBpcyBhbHNvIGFzc2lnbmVkIHRvIHRoZSAkJGhhc2hLZXkgcHJvcGVydHkgb2YgdGhlIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0gb2JqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBoYXNoIHN0cmluZyBzdWNoIHRoYXQgdGhlIHNhbWUgaW5wdXQgd2lsbCBoYXZlIHRoZSBzYW1lIGhhc2ggc3RyaW5nLlxuICogICAgICAgICBUaGUgcmVzdWx0aW5nIHN0cmluZyBrZXkgaXMgaW4gJ3R5cGU6aGFzaEtleScgZm9ybWF0LlxuICovXG5mdW5jdGlvbiBoYXNoS2V5KG9iaiwgbmV4dFVpZEZuKSB7XG4gIHZhciBrZXkgPSBvYmogJiYgb2JqLiQkaGFzaEtleTtcblxuICBpZiAoa2V5KSB7XG4gICAgaWYgKHR5cGVvZiBrZXkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGtleSA9IG9iai4kJGhhc2hLZXkoKTtcbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbiAgfVxuXG4gIHZhciBvYmpUeXBlID0gdHlwZW9mIG9iajtcbiAgaWYgKG9ialR5cGUgPT09ICdmdW5jdGlvbicgfHwgKG9ialR5cGUgPT09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCkpIHtcbiAgICBrZXkgPSBvYmouJCRoYXNoS2V5ID0gb2JqVHlwZSArICc6JyArIChuZXh0VWlkRm4gfHwgbmV4dFVpZCkoKTtcbiAgfSBlbHNlIHtcbiAgICBrZXkgPSBvYmpUeXBlICsgJzonICsgb2JqO1xuICB9XG5cbiAgcmV0dXJuIGtleTtcbn1cblxuLy8gQSBtaW5pbWFsIEVTMjAxNSBNYXAgaW1wbGVtZW50YXRpb24uXG4vLyBTaG91bGQgYmUgYnVnL2ZlYXR1cmUgZXF1aXZhbGVudCB0byB0aGUgbmF0aXZlIGltcGxlbWVudGF0aW9ucyBvZiBzdXBwb3J0ZWQgYnJvd3NlcnNcbi8vIChmb3IgdGhlIGZlYXR1cmVzIHJlcXVpcmVkIGluIEFuZ3VsYXIpLlxuLy8gU2VlIGh0dHBzOi8va2FuZ2F4LmdpdGh1Yi5pby9jb21wYXQtdGFibGUvZXM2LyN0ZXN0LU1hcFxudmFyIG5hbktleSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5mdW5jdGlvbiBOZ01hcFNoaW0oKSB7XG4gIHRoaXMuX2tleXMgPSBbXTtcbiAgdGhpcy5fdmFsdWVzID0gW107XG4gIHRoaXMuX2xhc3RLZXkgPSBOYU47XG4gIHRoaXMuX2xhc3RJbmRleCA9IC0xO1xufVxuTmdNYXBTaGltLnByb3RvdHlwZSA9IHtcbiAgX2lkeDogZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKGtleSAhPT0gdGhpcy5fbGFzdEtleSkge1xuICAgICAgdGhpcy5fbGFzdEtleSA9IGtleTtcbiAgICAgIHRoaXMuX2xhc3RJbmRleCA9IHRoaXMuX2tleXMuaW5kZXhPZihrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fbGFzdEluZGV4O1xuICB9LFxuICBfdHJhbnNmb3JtS2V5OiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gaXNOdW1iZXJOYU4oa2V5KSA/IG5hbktleSA6IGtleTtcbiAgfSxcbiAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICBrZXkgPSB0aGlzLl90cmFuc2Zvcm1LZXkoa2V5KTtcbiAgICB2YXIgaWR4ID0gdGhpcy5faWR4KGtleSk7XG4gICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgIHJldHVybiB0aGlzLl92YWx1ZXNbaWR4XTtcbiAgICB9XG4gIH0sXG4gIGhhczogZnVuY3Rpb24oa2V5KSB7XG4gICAga2V5ID0gdGhpcy5fdHJhbnNmb3JtS2V5KGtleSk7XG4gICAgdmFyIGlkeCA9IHRoaXMuX2lkeChrZXkpO1xuICAgIHJldHVybiBpZHggIT09IC0xO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICBrZXkgPSB0aGlzLl90cmFuc2Zvcm1LZXkoa2V5KTtcbiAgICB2YXIgaWR4ID0gdGhpcy5faWR4KGtleSk7XG4gICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgIGlkeCA9IHRoaXMuX2xhc3RJbmRleCA9IHRoaXMuX2tleXMubGVuZ3RoO1xuICAgIH1cbiAgICB0aGlzLl9rZXlzW2lkeF0gPSBrZXk7XG4gICAgdGhpcy5fdmFsdWVzW2lkeF0gPSB2YWx1ZTtcblxuICAgIC8vIFN1cHBvcnQ6IElFMTFcbiAgICAvLyBEbyBub3QgYHJldHVybiB0aGlzYCB0byBzaW11bGF0ZSB0aGUgcGFydGlhbCBJRTExIGltcGxlbWVudGF0aW9uXG4gIH0sXG4gIGRlbGV0ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAga2V5ID0gdGhpcy5fdHJhbnNmb3JtS2V5KGtleSk7XG4gICAgdmFyIGlkeCA9IHRoaXMuX2lkeChrZXkpO1xuICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuX2tleXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgdGhpcy5fdmFsdWVzLnNwbGljZShpZHgsIDEpO1xuICAgIHRoaXMuX2xhc3RLZXkgPSBOYU47XG4gICAgdGhpcy5fbGFzdEluZGV4ID0gLTE7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cbi8vIEZvciBub3csIGFsd2F5cyB1c2UgYE5nTWFwU2hpbWAsIGV2ZW4gaWYgYHdpbmRvdy5NYXBgIGlzIGF2YWlsYWJsZS4gU29tZSBuYXRpdmUgaW1wbGVtZW50YXRpb25zXG4vLyBhcmUgc3RpbGwgYnVnZ3kgKG9mdGVuIGluIHN1YnRsZSB3YXlzKSBhbmQgY2FuIGNhdXNlIGhhcmQtdG8tZGVidWcgZmFpbHVyZXMuIFdoZW4gbmF0aXZlIGBNYXBgXG4vLyBpbXBsZW1lbnRhdGlvbnMgZ2V0IG1vcmUgc3RhYmxlLCB3ZSBjYW4gcmVjb25zaWRlciBzd2l0Y2hpbmcgdG8gYHdpbmRvdy5NYXBgICh3aGVuIGF2YWlsYWJsZSkuXG52YXIgTmdNYXAgPSBOZ01hcFNoaW07XG5cbnZhciAkJE1hcFByb3ZpZGVyID0gWy8qKiBAdGhpcyAqL2Z1bmN0aW9uKCkge1xuICB0aGlzLiRnZXQgPSBbZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIE5nTWFwO1xuICB9XTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG1vZHVsZSBuZ1xuICogQG5hbWUgYW5ndWxhci5pbmplY3RvclxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYW4gaW5qZWN0b3Igb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgZm9yIHJldHJpZXZpbmcgc2VydmljZXMgYXMgd2VsbCBhcyBmb3JcbiAqIGRlcGVuZGVuY3kgaW5qZWN0aW9uIChzZWUge0BsaW5rIGd1aWRlL2RpIGRlcGVuZGVuY3kgaW5qZWN0aW9ufSkuXG4gKlxuICogQHBhcmFtIHtBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gbW9kdWxlcyBBIGxpc3Qgb2YgbW9kdWxlIGZ1bmN0aW9ucyBvciB0aGVpciBhbGlhc2VzLiBTZWVcbiAqICAgICB7QGxpbmsgYW5ndWxhci5tb2R1bGV9LiBUaGUgYG5nYCBtb2R1bGUgbXVzdCBiZSBleHBsaWNpdGx5IGFkZGVkLlxuICogQHBhcmFtIHtib29sZWFuPX0gW3N0cmljdERpPWZhbHNlXSBXaGV0aGVyIHRoZSBpbmplY3RvciBzaG91bGQgYmUgaW4gc3RyaWN0IG1vZGUsIHdoaWNoXG4gKiAgICAgZGlzYWxsb3dzIGFyZ3VtZW50IG5hbWUgYW5ub3RhdGlvbiBpbmZlcmVuY2UuXG4gKiBAcmV0dXJucyB7aW5qZWN0b3J9IEluamVjdG9yIG9iamVjdC4gU2VlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBUeXBpY2FsIHVzYWdlXG4gKiBgYGBqc1xuICogICAvLyBjcmVhdGUgYW4gaW5qZWN0b3JcbiAqICAgdmFyICRpbmplY3RvciA9IGFuZ3VsYXIuaW5qZWN0b3IoWyduZyddKTtcbiAqXG4gKiAgIC8vIHVzZSB0aGUgaW5qZWN0b3IgdG8ga2ljayBvZmYgeW91ciBhcHBsaWNhdGlvblxuICogICAvLyB1c2UgdGhlIHR5cGUgaW5mZXJlbmNlIHRvIGF1dG8gaW5qZWN0IGFyZ3VtZW50cywgb3IgdXNlIGltcGxpY2l0IGluamVjdGlvblxuICogICAkaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKCRyb290U2NvcGUsICRjb21waWxlLCAkZG9jdW1lbnQpIHtcbiAqICAgICAkY29tcGlsZSgkZG9jdW1lbnQpKCRyb290U2NvcGUpO1xuICogICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIFNvbWV0aW1lcyB5b3Ugd2FudCB0byBnZXQgYWNjZXNzIHRvIHRoZSBpbmplY3RvciBvZiBhIGN1cnJlbnRseSBydW5uaW5nIEFuZ3VsYXJKUyBhcHBcbiAqIGZyb20gb3V0c2lkZSBBbmd1bGFySlMuIFBlcmhhcHMsIHlvdSB3YW50IHRvIGluamVjdCBhbmQgY29tcGlsZSBzb21lIG1hcmt1cCBhZnRlciB0aGVcbiAqIGFwcGxpY2F0aW9uIGhhcyBiZWVuIGJvb3RzdHJhcHBlZC4gWW91IGNhbiBkbyB0aGlzIHVzaW5nIHRoZSBleHRyYSBgaW5qZWN0b3IoKWAgYWRkZWRcbiAqIHRvIEpRdWVyeS9qcUxpdGUgZWxlbWVudHMuIFNlZSB7QGxpbmsgYW5ndWxhci5lbGVtZW50fS5cbiAqXG4gKiAqVGhpcyBpcyBmYWlybHkgcmFyZSBidXQgY291bGQgYmUgdGhlIGNhc2UgaWYgYSB0aGlyZCBwYXJ0eSBsaWJyYXJ5IGlzIGluamVjdGluZyB0aGVcbiAqIG1hcmt1cC4qXG4gKlxuICogSW4gdGhlIGZvbGxvd2luZyBleGFtcGxlIGEgbmV3IGJsb2NrIG9mIEhUTUwgY29udGFpbmluZyBhIGBuZy1jb250cm9sbGVyYFxuICogZGlyZWN0aXZlIGlzIGFkZGVkIHRvIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50IGJvZHkgYnkgSlF1ZXJ5LiBXZSB0aGVuIGNvbXBpbGUgYW5kIGxpbmtcbiAqIGl0IGludG8gdGhlIGN1cnJlbnQgQW5ndWxhckpTIHNjb3BlLlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgJGRpdiA9ICQoJzxkaXYgbmctY29udHJvbGxlcj1cIk15Q3RybFwiPnt7Y29udGVudC5sYWJlbH19PC9kaXY+Jyk7XG4gKiAkKGRvY3VtZW50LmJvZHkpLmFwcGVuZCgkZGl2KTtcbiAqXG4gKiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLmluamVjdG9yKCkuaW52b2tlKGZ1bmN0aW9uKCRjb21waWxlKSB7XG4gKiAgIHZhciBzY29wZSA9IGFuZ3VsYXIuZWxlbWVudCgkZGl2KS5zY29wZSgpO1xuICogICAkY29tcGlsZSgkZGl2KShzY29wZSk7XG4gKiB9KTtcbiAqIGBgYFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBhdXRvXG4gKiBAaW5zdGFsbGF0aW9uXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBJbXBsaWNpdCBtb2R1bGUgd2hpY2ggZ2V0cyBhdXRvbWF0aWNhbGx5IGFkZGVkIHRvIGVhY2gge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uXG4gKi9cblxudmFyIEFSUk9XX0FSRyA9IC9eKFteKF0rPyk9Pi87XG52YXIgRk5fQVJHUyA9IC9eW14oXSpcXChcXHMqKFteKV0qKVxcKS9tO1xudmFyIEZOX0FSR19TUExJVCA9IC8sLztcbnZhciBGTl9BUkcgPSAvXlxccyooXz8pKFxcUys/KVxcMVxccyokLztcbnZhciBTVFJJUF9DT01NRU5UUyA9IC8oKFxcL1xcLy4qJCl8KFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pKS9tZztcbnZhciAkaW5qZWN0b3JNaW5FcnIgPSBtaW5FcnIoJyRpbmplY3RvcicpO1xuXG5mdW5jdGlvbiBzdHJpbmdpZnlGbihmbikge1xuICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZm4pO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0QXJncyhmbikge1xuICB2YXIgZm5UZXh0ID0gc3RyaW5naWZ5Rm4oZm4pLnJlcGxhY2UoU1RSSVBfQ09NTUVOVFMsICcnKSxcbiAgICAgIGFyZ3MgPSBmblRleHQubWF0Y2goQVJST1dfQVJHKSB8fCBmblRleHQubWF0Y2goRk5fQVJHUyk7XG4gIHJldHVybiBhcmdzO1xufVxuXG5mdW5jdGlvbiBhbm9uRm4oZm4pIHtcbiAgLy8gRm9yIGFub255bW91cyBmdW5jdGlvbnMsIHNob3dpbmcgYXQgdGhlIHZlcnkgbGVhc3QgdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZSBjYW4gaGVscCBpblxuICAvLyBkZWJ1Z2dpbmcuXG4gIHZhciBhcmdzID0gZXh0cmFjdEFyZ3MoZm4pO1xuICBpZiAoYXJncykge1xuICAgIHJldHVybiAnZnVuY3Rpb24oJyArIChhcmdzWzFdIHx8ICcnKS5yZXBsYWNlKC9bXFxzXFxyXFxuXSsvLCAnICcpICsgJyknO1xuICB9XG4gIHJldHVybiAnZm4nO1xufVxuXG5mdW5jdGlvbiBhbm5vdGF0ZShmbiwgc3RyaWN0RGksIG5hbWUpIHtcbiAgdmFyICRpbmplY3QsXG4gICAgICBhcmdEZWNsLFxuICAgICAgbGFzdDtcblxuICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKCEoJGluamVjdCA9IGZuLiRpbmplY3QpKSB7XG4gICAgICAkaW5qZWN0ID0gW107XG4gICAgICBpZiAoZm4ubGVuZ3RoKSB7XG4gICAgICAgIGlmIChzdHJpY3REaSkge1xuICAgICAgICAgIGlmICghaXNTdHJpbmcobmFtZSkgfHwgIW5hbWUpIHtcbiAgICAgICAgICAgIG5hbWUgPSBmbi5uYW1lIHx8IGFub25Gbihmbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignc3RyaWN0ZGknLFxuICAgICAgICAgICAgJ3swfSBpcyBub3QgdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbiBhbmQgY2Fubm90IGJlIGludm9rZWQgaW4gc3RyaWN0IG1vZGUnLCBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBhcmdEZWNsID0gZXh0cmFjdEFyZ3MoZm4pO1xuICAgICAgICBmb3JFYWNoKGFyZ0RlY2xbMV0uc3BsaXQoRk5fQVJHX1NQTElUKSwgZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgICAgYXJnLnJlcGxhY2UoRk5fQVJHLCBmdW5jdGlvbihhbGwsIHVuZGVyc2NvcmUsIG5hbWUpIHtcbiAgICAgICAgICAgICRpbmplY3QucHVzaChuYW1lKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBmbi4kaW5qZWN0ID0gJGluamVjdDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNBcnJheShmbikpIHtcbiAgICBsYXN0ID0gZm4ubGVuZ3RoIC0gMTtcbiAgICBhc3NlcnRBcmdGbihmbltsYXN0XSwgJ2ZuJyk7XG4gICAgJGluamVjdCA9IGZuLnNsaWNlKDAsIGxhc3QpO1xuICB9IGVsc2Uge1xuICAgIGFzc2VydEFyZ0ZuKGZuLCAnZm4nLCB0cnVlKTtcbiAgfVxuICByZXR1cm4gJGluamVjdDtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRpbmplY3RvclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIGAkaW5qZWN0b3JgIGlzIHVzZWQgdG8gcmV0cmlldmUgb2JqZWN0IGluc3RhbmNlcyBhcyBkZWZpbmVkIGJ5XG4gKiB7QGxpbmsgYXV0by4kcHJvdmlkZSBwcm92aWRlcn0sIGluc3RhbnRpYXRlIHR5cGVzLCBpbnZva2UgbWV0aG9kcyxcbiAqIGFuZCBsb2FkIG1vZHVsZXMuXG4gKlxuICogVGhlIGZvbGxvd2luZyBhbHdheXMgaG9sZHMgdHJ1ZTpcbiAqXG4gKiBgYGBqc1xuICogICB2YXIgJGluamVjdG9yID0gYW5ndWxhci5pbmplY3RvcigpO1xuICogICBleHBlY3QoJGluamVjdG9yLmdldCgnJGluamVjdG9yJykpLnRvQmUoJGluamVjdG9yKTtcbiAqICAgZXhwZWN0KCRpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oJGluamVjdG9yKSB7XG4gKiAgICAgcmV0dXJuICRpbmplY3RvcjtcbiAqICAgfSkpLnRvQmUoJGluamVjdG9yKTtcbiAqIGBgYFxuICpcbiAqICMjIEluamVjdGlvbiBGdW5jdGlvbiBBbm5vdGF0aW9uXG4gKlxuICogSmF2YVNjcmlwdCBkb2VzIG5vdCBoYXZlIGFubm90YXRpb25zLCBhbmQgYW5ub3RhdGlvbnMgYXJlIG5lZWRlZCBmb3IgZGVwZW5kZW5jeSBpbmplY3Rpb24uIFRoZVxuICogZm9sbG93aW5nIGFyZSBhbGwgdmFsaWQgd2F5cyBvZiBhbm5vdGF0aW5nIGZ1bmN0aW9uIHdpdGggaW5qZWN0aW9uIGFyZ3VtZW50cyBhbmQgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogYGBganNcbiAqICAgLy8gaW5mZXJyZWQgKG9ubHkgd29ya3MgaWYgY29kZSBub3QgbWluaWZpZWQvb2JmdXNjYXRlZClcbiAqICAgJGluamVjdG9yLmludm9rZShmdW5jdGlvbihzZXJ2aWNlQSl7fSk7XG4gKlxuICogICAvLyBhbm5vdGF0ZWRcbiAqICAgZnVuY3Rpb24gZXhwbGljaXQoc2VydmljZUEpIHt9O1xuICogICBleHBsaWNpdC4kaW5qZWN0ID0gWydzZXJ2aWNlQSddO1xuICogICAkaW5qZWN0b3IuaW52b2tlKGV4cGxpY2l0KTtcbiAqXG4gKiAgIC8vIGlubGluZVxuICogICAkaW5qZWN0b3IuaW52b2tlKFsnc2VydmljZUEnLCBmdW5jdGlvbihzZXJ2aWNlQSl7fV0pO1xuICogYGBgXG4gKlxuICogIyMjIEluZmVyZW5jZVxuICpcbiAqIEluIEphdmFTY3JpcHQgY2FsbGluZyBgdG9TdHJpbmcoKWAgb24gYSBmdW5jdGlvbiByZXR1cm5zIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uLiBUaGUgZGVmaW5pdGlvblxuICogY2FuIHRoZW4gYmUgcGFyc2VkIGFuZCB0aGUgZnVuY3Rpb24gYXJndW1lbnRzIGNhbiBiZSBleHRyYWN0ZWQuIFRoaXMgbWV0aG9kIG9mIGRpc2NvdmVyaW5nXG4gKiBhbm5vdGF0aW9ucyBpcyBkaXNhbGxvd2VkIHdoZW4gdGhlIGluamVjdG9yIGlzIGluIHN0cmljdCBtb2RlLlxuICogKk5PVEU6KiBUaGlzIGRvZXMgbm90IHdvcmsgd2l0aCBtaW5pZmljYXRpb24sIGFuZCBvYmZ1c2NhdGlvbiB0b29scyBzaW5jZSB0aGVzZSB0b29scyBjaGFuZ2UgdGhlXG4gKiBhcmd1bWVudCBuYW1lcy5cbiAqXG4gKiAjIyMgYCRpbmplY3RgIEFubm90YXRpb25cbiAqIEJ5IGFkZGluZyBhbiBgJGluamVjdGAgcHJvcGVydHkgb250byBhIGZ1bmN0aW9uIHRoZSBpbmplY3Rpb24gcGFyYW1ldGVycyBjYW4gYmUgc3BlY2lmaWVkLlxuICpcbiAqICMjIyBJbmxpbmVcbiAqIEFzIGFuIGFycmF5IG9mIGluamVjdGlvbiBuYW1lcywgd2hlcmUgdGhlIGxhc3QgaXRlbSBpbiB0aGUgYXJyYXkgaXMgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvcGVydHlcbiAqIEBuYW1lICRpbmplY3RvciNtb2R1bGVzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQGRlc2NyaXB0aW9uXG4gKiBBIGhhc2ggY29udGFpbmluZyBhbGwgdGhlIG1vZHVsZXMgdGhhdCBoYXZlIGJlZW4gbG9hZGVkIGludG8gdGhlXG4gKiAkaW5qZWN0b3IuXG4gKlxuICogWW91IGNhbiB1c2UgdGhpcyBwcm9wZXJ0eSB0byBmaW5kIG91dCBpbmZvcm1hdGlvbiBhYm91dCBhIG1vZHVsZSB2aWEgdGhlXG4gKiB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjaW5mbyBgbXlNb2R1bGUuaW5mbyguLi4pYH0gbWV0aG9kLlxuICpcbiAqIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYFxuICogdmFyIGluZm8gPSAkaW5qZWN0b3IubW9kdWxlc1snbmdBbmltYXRlJ10uaW5mbygpO1xuICogYGBgXG4gKlxuICogKipEbyBub3QgdXNlIHRoaXMgcHJvcGVydHkgdG8gYXR0ZW1wdCB0byBtb2RpZnkgdGhlIG1vZHVsZXMgYWZ0ZXIgdGhlIGFwcGxpY2F0aW9uXG4gKiBoYXMgYmVlbiBib290c3RyYXBwZWQuKipcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGluamVjdG9yI2dldFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIGFuIGluc3RhbmNlIG9mIHRoZSBzZXJ2aWNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZSB0byByZXRyaWV2ZS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gY2FsbGVyIEFuIG9wdGlvbmFsIHN0cmluZyB0byBwcm92aWRlIHRoZSBvcmlnaW4gb2YgdGhlIGZ1bmN0aW9uIGNhbGwgZm9yIGVycm9yIG1lc3NhZ2VzLlxuICogQHJldHVybiB7Kn0gVGhlIGluc3RhbmNlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGluamVjdG9yI2ludm9rZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSW52b2tlIHRoZSBtZXRob2QgYW5kIHN1cHBseSB0aGUgbWV0aG9kIGFyZ3VtZW50cyBmcm9tIHRoZSBgJGluamVjdG9yYC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSBmbiBUaGUgaW5qZWN0YWJsZSBmdW5jdGlvbiB0byBpbnZva2UuIEZ1bmN0aW9uIHBhcmFtZXRlcnMgYXJlXG4gKiAgIGluamVjdGVkIGFjY29yZGluZyB0byB0aGUge0BsaW5rIGd1aWRlL2RpICRpbmplY3QgQW5ub3RhdGlvbn0gcnVsZXMuXG4gKiBAcGFyYW0ge09iamVjdD19IHNlbGYgVGhlIGB0aGlzYCBmb3IgdGhlIGludm9rZWQgbWV0aG9kLlxuICogQHBhcmFtIHtPYmplY3Q9fSBsb2NhbHMgT3B0aW9uYWwgb2JqZWN0LiBJZiBwcmVzZXQgdGhlbiBhbnkgYXJndW1lbnQgbmFtZXMgYXJlIHJlYWQgZnJvbSB0aGlzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QgZmlyc3QsIGJlZm9yZSB0aGUgYCRpbmplY3RvcmAgaXMgY29uc3VsdGVkLlxuICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSByZXR1cm5lZCBieSB0aGUgaW52b2tlZCBgZm5gIGZ1bmN0aW9uLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGluamVjdG9yI2hhc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQWxsb3dzIHRoZSB1c2VyIHRvIHF1ZXJ5IGlmIHRoZSBwYXJ0aWN1bGFyIHNlcnZpY2UgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIHNlcnZpY2UgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGluamVjdG9yIGhhcyBnaXZlbiBzZXJ2aWNlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGluamVjdG9yI2luc3RhbnRpYXRlXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBKUyB0eXBlLiBUaGUgbWV0aG9kIHRha2VzIGEgY29uc3RydWN0b3IgZnVuY3Rpb24sIGludm9rZXMgdGhlIG5ld1xuICogb3BlcmF0b3IsIGFuZCBzdXBwbGllcyBhbGwgb2YgdGhlIGFyZ3VtZW50cyB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24gYXMgc3BlY2lmaWVkIGJ5IHRoZVxuICogY29uc3RydWN0b3IgYW5ub3RhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBUeXBlIEFubm90YXRlZCBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gbG9jYWxzIE9wdGlvbmFsIG9iamVjdC4gSWYgcHJlc2V0IHRoZW4gYW55IGFyZ3VtZW50IG5hbWVzIGFyZSByZWFkIGZyb20gdGhpc1xuICogb2JqZWN0IGZpcnN0LCBiZWZvcmUgdGhlIGAkaW5qZWN0b3JgIGlzIGNvbnN1bHRlZC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IG5ldyBpbnN0YW5jZSBvZiBgVHlwZWAuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaW5qZWN0b3IjYW5ub3RhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybnMgYW4gYXJyYXkgb2Ygc2VydmljZSBuYW1lcyB3aGljaCB0aGUgZnVuY3Rpb24gaXMgcmVxdWVzdGluZyBmb3IgaW5qZWN0aW9uLiBUaGlzIEFQSSBpc1xuICogdXNlZCBieSB0aGUgaW5qZWN0b3IgdG8gZGV0ZXJtaW5lIHdoaWNoIHNlcnZpY2VzIG5lZWQgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgZnVuY3Rpb24gd2hlbiB0aGVcbiAqIGZ1bmN0aW9uIGlzIGludm9rZWQuIFRoZXJlIGFyZSB0aHJlZSB3YXlzIGluIHdoaWNoIHRoZSBmdW5jdGlvbiBjYW4gYmUgYW5ub3RhdGVkIHdpdGggdGhlIG5lZWRlZFxuICogZGVwZW5kZW5jaWVzLlxuICpcbiAqICMjIyMgQXJndW1lbnQgbmFtZXNcbiAqXG4gKiBUaGUgc2ltcGxlc3QgZm9ybSBpcyB0byBleHRyYWN0IHRoZSBkZXBlbmRlbmNpZXMgZnJvbSB0aGUgYXJndW1lbnRzIG9mIHRoZSBmdW5jdGlvbi4gVGhpcyBpcyBkb25lXG4gKiBieSBjb252ZXJ0aW5nIHRoZSBmdW5jdGlvbiBpbnRvIGEgc3RyaW5nIHVzaW5nIGB0b1N0cmluZygpYCBtZXRob2QgYW5kIGV4dHJhY3RpbmcgdGhlIGFyZ3VtZW50XG4gKiBuYW1lcy5cbiAqIGBgYGpzXG4gKiAgIC8vIEdpdmVuXG4gKiAgIGZ1bmN0aW9uIE15Q29udHJvbGxlcigkc2NvcGUsICRyb3V0ZSkge1xuICogICAgIC8vIC4uLlxuICogICB9XG4gKlxuICogICAvLyBUaGVuXG4gKiAgIGV4cGVjdChpbmplY3Rvci5hbm5vdGF0ZShNeUNvbnRyb2xsZXIpKS50b0VxdWFsKFsnJHNjb3BlJywgJyRyb3V0ZSddKTtcbiAqIGBgYFxuICpcbiAqIFlvdSBjYW4gZGlzYWxsb3cgdGhpcyBtZXRob2QgYnkgdXNpbmcgc3RyaWN0IGluamVjdGlvbiBtb2RlLlxuICpcbiAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHdvcmsgd2l0aCBjb2RlIG1pbmlmaWNhdGlvbiAvIG9iZnVzY2F0aW9uLiBGb3IgdGhpcyByZWFzb24gdGhlIGZvbGxvd2luZ1xuICogYW5ub3RhdGlvbiBzdHJhdGVnaWVzIGFyZSBzdXBwb3J0ZWQuXG4gKlxuICogIyMjIyBUaGUgYCRpbmplY3RgIHByb3BlcnR5XG4gKlxuICogSWYgYSBmdW5jdGlvbiBoYXMgYW4gYCRpbmplY3RgIHByb3BlcnR5IGFuZCBpdHMgdmFsdWUgaXMgYW4gYXJyYXkgb2Ygc3RyaW5ncywgdGhlbiB0aGUgc3RyaW5nc1xuICogcmVwcmVzZW50IG5hbWVzIG9mIHNlcnZpY2VzIHRvIGJlIGluamVjdGVkIGludG8gdGhlIGZ1bmN0aW9uLlxuICogYGBganNcbiAqICAgLy8gR2l2ZW5cbiAqICAgdmFyIE15Q29udHJvbGxlciA9IGZ1bmN0aW9uKG9iZnVzY2F0ZWRTY29wZSwgb2JmdXNjYXRlZFJvdXRlKSB7XG4gKiAgICAgLy8gLi4uXG4gKiAgIH1cbiAqICAgLy8gRGVmaW5lIGZ1bmN0aW9uIGRlcGVuZGVuY2llc1xuICogICBNeUNvbnRyb2xsZXJbJyRpbmplY3QnXSA9IFsnJHNjb3BlJywgJyRyb3V0ZSddO1xuICpcbiAqICAgLy8gVGhlblxuICogICBleHBlY3QoaW5qZWN0b3IuYW5ub3RhdGUoTXlDb250cm9sbGVyKSkudG9FcXVhbChbJyRzY29wZScsICckcm91dGUnXSk7XG4gKiBgYGBcbiAqXG4gKiAjIyMjIFRoZSBhcnJheSBub3RhdGlvblxuICpcbiAqIEl0IGlzIG9mdGVuIGRlc2lyYWJsZSB0byBpbmxpbmUgSW5qZWN0ZWQgZnVuY3Rpb25zIGFuZCB0aGF0J3Mgd2hlbiBzZXR0aW5nIHRoZSBgJGluamVjdGAgcHJvcGVydHlcbiAqIGlzIHZlcnkgaW5jb252ZW5pZW50LiBJbiB0aGVzZSBzaXR1YXRpb25zIHVzaW5nIHRoZSBhcnJheSBub3RhdGlvbiB0byBzcGVjaWZ5IHRoZSBkZXBlbmRlbmNpZXMgaW5cbiAqIGEgd2F5IHRoYXQgc3Vydml2ZXMgbWluaWZpY2F0aW9uIGlzIGEgYmV0dGVyIGNob2ljZTpcbiAqXG4gKiBgYGBqc1xuICogICAvLyBXZSB3aXNoIHRvIHdyaXRlIHRoaXMgKG5vdCBtaW5pZmljYXRpb24gLyBvYmZ1c2NhdGlvbiBzYWZlKVxuICogICBpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oJGNvbXBpbGUsICRyb290U2NvcGUpIHtcbiAqICAgICAvLyAuLi5cbiAqICAgfSk7XG4gKlxuICogICAvLyBXZSBhcmUgZm9yY2VkIHRvIHdyaXRlIGJyZWFrIGlubGluaW5nXG4gKiAgIHZhciB0bXBGbiA9IGZ1bmN0aW9uKG9iZnVzY2F0ZWRDb21waWxlLCBvYmZ1c2NhdGVkUm9vdFNjb3BlKSB7XG4gKiAgICAgLy8gLi4uXG4gKiAgIH07XG4gKiAgIHRtcEZuLiRpbmplY3QgPSBbJyRjb21waWxlJywgJyRyb290U2NvcGUnXTtcbiAqICAgaW5qZWN0b3IuaW52b2tlKHRtcEZuKTtcbiAqXG4gKiAgIC8vIFRvIGJldHRlciBzdXBwb3J0IGlubGluZSBmdW5jdGlvbiB0aGUgaW5saW5lIGFubm90YXRpb24gaXMgc3VwcG9ydGVkXG4gKiAgIGluamVjdG9yLmludm9rZShbJyRjb21waWxlJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbihvYmZDb21waWxlLCBvYmZSb290U2NvcGUpIHtcbiAqICAgICAvLyAuLi5cbiAqICAgfV0pO1xuICpcbiAqICAgLy8gVGhlcmVmb3JlXG4gKiAgIGV4cGVjdChpbmplY3Rvci5hbm5vdGF0ZShcbiAqICAgICAgWyckY29tcGlsZScsICckcm9vdFNjb3BlJywgZnVuY3Rpb24ob2JmdXNfJGNvbXBpbGUsIG9iZnVzXyRyb290U2NvcGUpIHt9XSlcbiAqICAgICkudG9FcXVhbChbJyRjb21waWxlJywgJyRyb290U2NvcGUnXSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSBmbiBGdW5jdGlvbiBmb3Igd2hpY2ggZGVwZW5kZW50IHNlcnZpY2UgbmFtZXMgbmVlZCB0b1xuICogYmUgcmV0cmlldmVkIGFzIGRlc2NyaWJlZCBhYm92ZS5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBbc3RyaWN0RGk9ZmFsc2VdIERpc2FsbG93IGFyZ3VtZW50IG5hbWUgYW5ub3RhdGlvbiBpbmZlcmVuY2UuXG4gKlxuICogQHJldHVybnMge0FycmF5LjxzdHJpbmc+fSBUaGUgbmFtZXMgb2YgdGhlIHNlcnZpY2VzIHdoaWNoIHRoZSBmdW5jdGlvbiByZXF1aXJlcy5cbiAqL1xuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaW5qZWN0b3IjbG9hZE5ld01vZHVsZXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiAqKlRoaXMgaXMgYSBkYW5nZXJvdXMgQVBJLCB3aGljaCB5b3UgdXNlIGF0IHlvdXIgb3duIHJpc2shKipcbiAqXG4gKiBBZGQgdGhlIHNwZWNpZmllZCBtb2R1bGVzIHRvIHRoZSBjdXJyZW50IGluamVjdG9yLlxuICpcbiAqIFRoaXMgbWV0aG9kIHdpbGwgYWRkIGVhY2ggb2YgdGhlIGluamVjdGFibGVzIHRvIHRoZSBpbmplY3RvciBhbmQgZXhlY3V0ZSBhbGwgb2YgdGhlIGNvbmZpZyBhbmQgcnVuXG4gKiBibG9ja3MgZm9yIGVhY2ggbW9kdWxlIHBhc3NlZCB0byB0aGUgbWV0aG9kLlxuICpcbiAqIElmIGEgbW9kdWxlIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkIGludG8gdGhlIGluamVjdG9yIHRoZW4gaXQgd2lsbCBub3QgYmUgbG9hZGVkIGFnYWluLlxuICpcbiAqICogVGhlIGFwcGxpY2F0aW9uIGRldmVsb3BlciBpcyByZXNwb25zaWJsZSBmb3IgbG9hZGluZyB0aGUgY29kZSBjb250YWluaW5nIHRoZSBtb2R1bGVzOyBhbmQgZm9yXG4gKiBlbnN1cmluZyB0aGF0IGxhenkgc2NyaXB0cyBhcmUgbm90IGRvd25sb2FkZWQgYW5kIGV4ZWN1dGVkIG1vcmUgb2Z0ZW4gdGhhdCBkZXNpcmVkLlxuICogKiBQcmV2aW91c2x5IGNvbXBpbGVkIEhUTUwgd2lsbCBub3QgYmUgYWZmZWN0ZWQgYnkgbmV3bHkgbG9hZGVkIGRpcmVjdGl2ZXMsIGZpbHRlcnMgYW5kIGNvbXBvbmVudHMuXG4gKiAqIE1vZHVsZXMgY2Fubm90IGJlIHVubG9hZGVkLlxuICpcbiAqIFlvdSBjYW4gdXNlIHtAbGluayAkaW5qZWN0b3IjbW9kdWxlcyBgJGluamVjdG9yLm1vZHVsZXNgfSB0byBjaGVjayB3aGV0aGVyIGEgbW9kdWxlIGhhcyBiZWVuIGxvYWRlZFxuICogaW50byB0aGUgaW5qZWN0b3IsIHdoaWNoIG1heSBpbmRpY2F0ZSB3aGV0aGVyIHRoZSBzY3JpcHQgaGFzIGJlZW4gZXhlY3V0ZWQgYWxyZWFkeS5cbiAqXG4gKiBAZXhhbXBsZVxuICogSGVyZSBpcyBhbiBleGFtcGxlIG9mIGxvYWRpbmcgYSBidW5kbGUgb2YgbW9kdWxlcywgd2l0aCBhIHV0aWxpdHkgbWV0aG9kIGNhbGxlZCBgZ2V0U2NyaXB0YDpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBhcHAuZmFjdG9yeSgnbG9hZE1vZHVsZScsIGZ1bmN0aW9uKCRpbmplY3Rvcikge1xuICogICByZXR1cm4gZnVuY3Rpb24gbG9hZE1vZHVsZShtb2R1bGVOYW1lLCBidW5kbGVVcmwpIHtcbiAqICAgICByZXR1cm4gZ2V0U2NyaXB0KGJ1bmRsZVVybCkudGhlbihmdW5jdGlvbigpIHsgJGluamVjdG9yLmxvYWROZXdNb2R1bGVzKFttb2R1bGVOYW1lXSk7IH0pO1xuICogICB9O1xuICogfSlcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nfEZ1bmN0aW9ufEFycmF5Pj19IG1vZHMgYW4gYXJyYXkgb2YgbW9kdWxlcyB0byBsb2FkIGludG8gdGhlIGFwcGxpY2F0aW9uLlxuICogICAgIEVhY2ggaXRlbSBpbiB0aGUgYXJyYXkgc2hvdWxkIGJlIHRoZSBuYW1lIG9mIGEgcHJlZGVmaW5lZCBtb2R1bGUgb3IgYSAoREkgYW5ub3RhdGVkKVxuICogICAgIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnZva2VkIGJ5IHRoZSBpbmplY3RvciBhcyBhIGBjb25maWdgIGJsb2NrLlxuICogICAgIFNlZToge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZXN9XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkcHJvdmlkZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSB7QGxpbmsgYXV0by4kcHJvdmlkZSAkcHJvdmlkZX0gc2VydmljZSBoYXMgYSBudW1iZXIgb2YgbWV0aG9kcyBmb3IgcmVnaXN0ZXJpbmcgY29tcG9uZW50c1xuICogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIE1hbnkgb2YgdGhlc2UgZnVuY3Rpb25zIGFyZSBhbHNvIGV4cG9zZWQgb25cbiAqIHtAbGluayBhbmd1bGFyLk1vZHVsZX0uXG4gKlxuICogQW4gQW5ndWxhckpTICoqc2VydmljZSoqIGlzIGEgc2luZ2xldG9uIG9iamVjdCBjcmVhdGVkIGJ5IGEgKipzZXJ2aWNlIGZhY3RvcnkqKi4gIFRoZXNlICoqc2VydmljZVxuICogZmFjdG9yaWVzKiogYXJlIGZ1bmN0aW9ucyB3aGljaCwgaW4gdHVybiwgYXJlIGNyZWF0ZWQgYnkgYSAqKnNlcnZpY2UgcHJvdmlkZXIqKi5cbiAqIFRoZSAqKnNlcnZpY2UgcHJvdmlkZXJzKiogYXJlIGNvbnN0cnVjdG9yIGZ1bmN0aW9ucy4gV2hlbiBpbnN0YW50aWF0ZWQgdGhleSBtdXN0IGNvbnRhaW4gYVxuICogcHJvcGVydHkgY2FsbGVkIGAkZ2V0YCwgd2hpY2ggaG9sZHMgdGhlICoqc2VydmljZSBmYWN0b3J5KiogZnVuY3Rpb24uXG4gKlxuICogV2hlbiB5b3UgcmVxdWVzdCBhIHNlcnZpY2UsIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfSBpcyByZXNwb25zaWJsZSBmb3IgZmluZGluZyB0aGVcbiAqIGNvcnJlY3QgKipzZXJ2aWNlIHByb3ZpZGVyKiosIGluc3RhbnRpYXRpbmcgaXQgYW5kIHRoZW4gY2FsbGluZyBpdHMgYCRnZXRgICoqc2VydmljZSBmYWN0b3J5KipcbiAqIGZ1bmN0aW9uIHRvIGdldCB0aGUgaW5zdGFuY2Ugb2YgdGhlICoqc2VydmljZSoqLlxuICpcbiAqIE9mdGVuIHNlcnZpY2VzIGhhdmUgbm8gY29uZmlndXJhdGlvbiBvcHRpb25zIGFuZCB0aGVyZSBpcyBubyBuZWVkIHRvIGFkZCBtZXRob2RzIHRvIHRoZSBzZXJ2aWNlXG4gKiBwcm92aWRlci4gIFRoZSBwcm92aWRlciB3aWxsIGJlIG5vIG1vcmUgdGhhbiBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHdpdGggYSBgJGdldGAgcHJvcGVydHkuIEZvclxuICogdGhlc2UgY2FzZXMgdGhlIHtAbGluayBhdXRvLiRwcm92aWRlICRwcm92aWRlfSBzZXJ2aWNlIGhhcyBhZGRpdGlvbmFsIGhlbHBlciBtZXRob2RzIHRvIHJlZ2lzdGVyXG4gKiBzZXJ2aWNlcyB3aXRob3V0IHNwZWNpZnlpbmcgYSBwcm92aWRlci5cbiAqXG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyIHByb3ZpZGVyKG5hbWUsIHByb3ZpZGVyKX0gLSByZWdpc3RlcnMgYSAqKnNlcnZpY2UgcHJvdmlkZXIqKiB3aXRoIHRoZVxuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9XG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI2NvbnN0YW50IGNvbnN0YW50KG5hbWUsIG9iail9IC0gcmVnaXN0ZXJzIGEgdmFsdWUvb2JqZWN0IHRoYXQgY2FuIGJlIGFjY2Vzc2VkIGJ5XG4gKiAgICAgcHJvdmlkZXJzIGFuZCBzZXJ2aWNlcy5cbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWUobmFtZSwgb2JqKX0gLSByZWdpc3RlcnMgYSB2YWx1ZS9vYmplY3QgdGhhdCBjYW4gb25seSBiZSBhY2Nlc3NlZCBieVxuICogICAgIHNlcnZpY2VzLCBub3QgcHJvdmlkZXJzLlxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNmYWN0b3J5IGZhY3RvcnkobmFtZSwgZm4pfSAtIHJlZ2lzdGVycyBhIHNlcnZpY2UgKipmYWN0b3J5IGZ1bmN0aW9uKipcbiAqICAgICB0aGF0IHdpbGwgYmUgd3JhcHBlZCBpbiBhICoqc2VydmljZSBwcm92aWRlcioqIG9iamVjdCwgd2hvc2UgYCRnZXRgIHByb3BlcnR5IHdpbGwgY29udGFpbiB0aGVcbiAqICAgICBnaXZlbiBmYWN0b3J5IGZ1bmN0aW9uLlxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNzZXJ2aWNlIHNlcnZpY2UobmFtZSwgRm4pfSAtIHJlZ2lzdGVycyBhICoqY29uc3RydWN0b3IgZnVuY3Rpb24qKlxuICogICAgIHRoYXQgd2lsbCBiZSB3cmFwcGVkIGluIGEgKipzZXJ2aWNlIHByb3ZpZGVyKiogb2JqZWN0LCB3aG9zZSBgJGdldGAgcHJvcGVydHkgd2lsbCBpbnN0YW50aWF0ZVxuICogICAgICBhIG5ldyBvYmplY3QgdXNpbmcgdGhlIGdpdmVuIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNkZWNvcmF0b3IgZGVjb3JhdG9yKG5hbWUsIGRlY29yRm4pfSAtIHJlZ2lzdGVycyBhICoqZGVjb3JhdG9yIGZ1bmN0aW9uKiogdGhhdFxuICogICAgICB3aWxsIGJlIGFibGUgdG8gbW9kaWZ5IG9yIHJlcGxhY2UgdGhlIGltcGxlbWVudGF0aW9uIG9mIGFub3RoZXIgc2VydmljZS5cbiAqXG4gKiBTZWUgdGhlIGluZGl2aWR1YWwgbWV0aG9kcyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgZXhhbXBsZXMuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSNwcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnByb3ZpZGVyIGZ1bmN0aW9uKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIFByb3ZpZGVyIGZ1bmN0aW9uc1xuICogYXJlIGNvbnN0cnVjdG9yIGZ1bmN0aW9ucywgd2hvc2UgaW5zdGFuY2VzIGFyZSByZXNwb25zaWJsZSBmb3IgXCJwcm92aWRpbmdcIiBhIGZhY3RvcnkgZm9yIGFcbiAqIHNlcnZpY2UuXG4gKlxuICogU2VydmljZSBwcm92aWRlciBuYW1lcyBzdGFydCB3aXRoIHRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRoZXkgcHJvdmlkZSBmb2xsb3dlZCBieSBgUHJvdmlkZXJgLlxuICogRm9yIGV4YW1wbGUsIHRoZSB7QGxpbmsgbmcuJGxvZyAkbG9nfSBzZXJ2aWNlIGhhcyBhIHByb3ZpZGVyIGNhbGxlZFxuICoge0BsaW5rIG5nLiRsb2dQcm92aWRlciAkbG9nUHJvdmlkZXJ9LlxuICpcbiAqIFNlcnZpY2UgcHJvdmlkZXIgb2JqZWN0cyBjYW4gaGF2ZSBhZGRpdGlvbmFsIG1ldGhvZHMgd2hpY2ggYWxsb3cgY29uZmlndXJhdGlvbiBvZiB0aGUgcHJvdmlkZXJcbiAqIGFuZCBpdHMgc2VydmljZS4gSW1wb3J0YW50bHksIHlvdSBjYW4gY29uZmlndXJlIHdoYXQga2luZCBvZiBzZXJ2aWNlIGlzIGNyZWF0ZWQgYnkgdGhlIGAkZ2V0YFxuICogbWV0aG9kLCBvciBob3cgdGhhdCBzZXJ2aWNlIHdpbGwgYWN0LiBGb3IgZXhhbXBsZSwgdGhlIHtAbGluayBuZy4kbG9nUHJvdmlkZXIgJGxvZ1Byb3ZpZGVyfSBoYXMgYVxuICogbWV0aG9kIHtAbGluayBuZy4kbG9nUHJvdmlkZXIjZGVidWdFbmFibGVkIGRlYnVnRW5hYmxlZH1cbiAqIHdoaWNoIGxldHMgeW91IHNwZWNpZnkgd2hldGhlciB0aGUge0BsaW5rIG5nLiRsb2cgJGxvZ30gc2VydmljZSB3aWxsIGxvZyBkZWJ1ZyBtZXNzYWdlcyB0byB0aGVcbiAqIGNvbnNvbGUgb3Igbm90LlxuICpcbiAqIEl0IGlzIHBvc3NpYmxlIHRvIGluamVjdCBvdGhlciBwcm92aWRlcnMgaW50byB0aGUgcHJvdmlkZXIgZnVuY3Rpb24sXG4gKiBidXQgdGhlIGluamVjdGVkIHByb3ZpZGVyIG11c3QgaGF2ZSBiZWVuIGRlZmluZWQgYmVmb3JlIHRoZSBvbmUgdGhhdCByZXF1aXJlcyBpdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UuIE5PVEU6IHRoZSBwcm92aWRlciB3aWxsIGJlIGF2YWlsYWJsZSB1bmRlciBgbmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAnUHJvdmlkZXInYCBrZXkuXG4gKiBAcGFyYW0geyhPYmplY3R8ZnVuY3Rpb24oKSl9IHByb3ZpZGVyIElmIHRoZSBwcm92aWRlciBpczpcbiAqXG4gKiAgIC0gYE9iamVjdGA6IHRoZW4gaXQgc2hvdWxkIGhhdmUgYSBgJGdldGAgbWV0aG9kLiBUaGUgYCRnZXRgIG1ldGhvZCB3aWxsIGJlIGludm9rZWQgdXNpbmdcbiAqICAgICB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW52b2tlICRpbmplY3Rvci5pbnZva2UoKX0gd2hlbiBhbiBpbnN0YW5jZSBuZWVkcyB0byBiZSBjcmVhdGVkLlxuICogICAtIGBDb25zdHJ1Y3RvcmA6IGEgbmV3IGluc3RhbmNlIG9mIHRoZSBwcm92aWRlciB3aWxsIGJlIGNyZWF0ZWQgdXNpbmdcbiAqICAgICB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW5zdGFudGlhdGUgJGluamVjdG9yLmluc3RhbnRpYXRlKCl9LCB0aGVuIHRyZWF0ZWQgYXMgYG9iamVjdGAuXG4gKlxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxuXG4gKiBAZXhhbXBsZVxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gY3JlYXRlIGEgc2ltcGxlIGV2ZW50IHRyYWNraW5nIHNlcnZpY2UgYW5kIHJlZ2lzdGVyIGl0IHVzaW5nXG4gKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNwcm92aWRlciAkcHJvdmlkZS5wcm92aWRlcigpfS5cbiAqXG4gKiBgYGBqc1xuICogIC8vIERlZmluZSB0aGUgZXZlbnRUcmFja2VyIHByb3ZpZGVyXG4gKiAgZnVuY3Rpb24gRXZlbnRUcmFja2VyUHJvdmlkZXIoKSB7XG4gKiAgICB2YXIgdHJhY2tpbmdVcmwgPSAnL3RyYWNrJztcbiAqXG4gKiAgICAvLyBBIHByb3ZpZGVyIG1ldGhvZCBmb3IgY29uZmlndXJpbmcgd2hlcmUgdGhlIHRyYWNrZWQgZXZlbnRzIHNob3VsZCBiZWVuIHNhdmVkXG4gKiAgICB0aGlzLnNldFRyYWNraW5nVXJsID0gZnVuY3Rpb24odXJsKSB7XG4gKiAgICAgIHRyYWNraW5nVXJsID0gdXJsO1xuICogICAgfTtcbiAqXG4gKiAgICAvLyBUaGUgc2VydmljZSBmYWN0b3J5IGZ1bmN0aW9uXG4gKiAgICB0aGlzLiRnZXQgPSBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcbiAqICAgICAgdmFyIHRyYWNrZWRFdmVudHMgPSB7fTtcbiAqICAgICAgcmV0dXJuIHtcbiAqICAgICAgICAvLyBDYWxsIHRoaXMgdG8gdHJhY2sgYW4gZXZlbnRcbiAqICAgICAgICBldmVudDogZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgICAgICAgIHZhciBjb3VudCA9IHRyYWNrZWRFdmVudHNbZXZlbnRdIHx8IDA7XG4gKiAgICAgICAgICBjb3VudCArPSAxO1xuICogICAgICAgICAgdHJhY2tlZEV2ZW50c1tldmVudF0gPSBjb3VudDtcbiAqICAgICAgICAgIHJldHVybiBjb3VudDtcbiAqICAgICAgICB9LFxuICogICAgICAgIC8vIENhbGwgdGhpcyB0byBzYXZlIHRoZSB0cmFja2VkIGV2ZW50cyB0byB0aGUgdHJhY2tpbmdVcmxcbiAqICAgICAgICBzYXZlOiBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICRodHRwLnBvc3QodHJhY2tpbmdVcmwsIHRyYWNrZWRFdmVudHMpO1xuICogICAgICAgIH1cbiAqICAgICAgfTtcbiAqICAgIH1dO1xuICogIH1cbiAqXG4gKiAgZGVzY3JpYmUoJ2V2ZW50VHJhY2tlcicsIGZ1bmN0aW9uKCkge1xuICogICAgdmFyIHBvc3RTcHk7XG4gKlxuICogICAgYmVmb3JlRWFjaChtb2R1bGUoZnVuY3Rpb24oJHByb3ZpZGUpIHtcbiAqICAgICAgLy8gUmVnaXN0ZXIgdGhlIGV2ZW50VHJhY2tlciBwcm92aWRlclxuICogICAgICAkcHJvdmlkZS5wcm92aWRlcignZXZlbnRUcmFja2VyJywgRXZlbnRUcmFja2VyUHJvdmlkZXIpO1xuICogICAgfSkpO1xuICpcbiAqICAgIGJlZm9yZUVhY2gobW9kdWxlKGZ1bmN0aW9uKGV2ZW50VHJhY2tlclByb3ZpZGVyKSB7XG4gKiAgICAgIC8vIENvbmZpZ3VyZSBldmVudFRyYWNrZXIgcHJvdmlkZXJcbiAqICAgICAgZXZlbnRUcmFja2VyUHJvdmlkZXIuc2V0VHJhY2tpbmdVcmwoJy9jdXN0b20tdHJhY2snKTtcbiAqICAgIH0pKTtcbiAqXG4gKiAgICBpdCgndHJhY2tzIGV2ZW50cycsIGluamVjdChmdW5jdGlvbihldmVudFRyYWNrZXIpIHtcbiAqICAgICAgZXhwZWN0KGV2ZW50VHJhY2tlci5ldmVudCgnbG9naW4nKSkudG9FcXVhbCgxKTtcbiAqICAgICAgZXhwZWN0KGV2ZW50VHJhY2tlci5ldmVudCgnbG9naW4nKSkudG9FcXVhbCgyKTtcbiAqICAgIH0pKTtcbiAqXG4gKiAgICBpdCgnc2F2ZXMgdG8gdGhlIHRyYWNraW5nIHVybCcsIGluamVjdChmdW5jdGlvbihldmVudFRyYWNrZXIsICRodHRwKSB7XG4gKiAgICAgIHBvc3RTcHkgPSBzcHlPbigkaHR0cCwgJ3Bvc3QnKTtcbiAqICAgICAgZXZlbnRUcmFja2VyLmV2ZW50KCdsb2dpbicpO1xuICogICAgICBldmVudFRyYWNrZXIuc2F2ZSgpO1xuICogICAgICBleHBlY3QocG9zdFNweSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICogICAgICBleHBlY3QocG9zdFNweS5tb3N0UmVjZW50Q2FsbC5hcmdzWzBdKS5ub3QudG9FcXVhbCgnL3RyYWNrJyk7XG4gKiAgICAgIGV4cGVjdChwb3N0U3B5Lm1vc3RSZWNlbnRDYWxsLmFyZ3NbMF0pLnRvRXF1YWwoJy9jdXN0b20tdHJhY2snKTtcbiAqICAgICAgZXhwZWN0KHBvc3RTcHkubW9zdFJlY2VudENhbGwuYXJnc1sxXSkudG9FcXVhbCh7ICdsb2dpbic6IDEgfSk7XG4gKiAgICB9KSk7XG4gKiAgfSk7XG4gKiBgYGBcbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRwcm92aWRlI2ZhY3RvcnlcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlZ2lzdGVyIGEgKipzZXJ2aWNlIGZhY3RvcnkqKiwgd2hpY2ggd2lsbCBiZSBjYWxsZWQgdG8gcmV0dXJuIHRoZSBzZXJ2aWNlIGluc3RhbmNlLlxuICogVGhpcyBpcyBzaG9ydCBmb3IgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHdoZXJlIGl0cyBwcm92aWRlciBjb25zaXN0cyBvZiBvbmx5IGEgYCRnZXRgIHByb3BlcnR5LFxuICogd2hpY2ggaXMgdGhlIGdpdmVuIHNlcnZpY2UgZmFjdG9yeSBmdW5jdGlvbi5cbiAqIFlvdSBzaG91bGQgdXNlIHtAbGluayBhdXRvLiRwcm92aWRlI2ZhY3RvcnkgJHByb3ZpZGUuZmFjdG9yeShnZXRGbil9IGlmIHlvdSBkbyBub3QgbmVlZCB0b1xuICogY29uZmlndXJlIHlvdXIgc2VydmljZSBpbiBhIHByb3ZpZGVyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59ICRnZXRGbiBUaGUgaW5qZWN0YWJsZSAkZ2V0Rm4gZm9yIHRoZSBpbnN0YW5jZSBjcmVhdGlvbi5cbiAqICAgICAgICAgICAgICAgICAgICAgIEludGVybmFsbHkgdGhpcyBpcyBhIHNob3J0IGhhbmQgZm9yIGAkcHJvdmlkZS5wcm92aWRlcihuYW1lLCB7JGdldDogJGdldEZufSlgLlxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxuICpcbiAqIEBleGFtcGxlXG4gKiBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlXG4gKiBgYGBqc1xuICogICAkcHJvdmlkZS5mYWN0b3J5KCdwaW5nJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG4gKiAgICAgcmV0dXJuIGZ1bmN0aW9uIHBpbmcoKSB7XG4gKiAgICAgICByZXR1cm4gJGh0dHAuc2VuZCgnL3BpbmcnKTtcbiAqICAgICB9O1xuICogICB9XSk7XG4gKiBgYGBcbiAqIFlvdSB3b3VsZCB0aGVuIGluamVjdCBhbmQgdXNlIHRoaXMgc2VydmljZSBsaWtlIHRoaXM6XG4gKiBgYGBqc1xuICogICBzb21lTW9kdWxlLmNvbnRyb2xsZXIoJ0N0cmwnLCBbJ3BpbmcnLCBmdW5jdGlvbihwaW5nKSB7XG4gKiAgICAgcGluZygpO1xuICogICB9XSk7XG4gKiBgYGBcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjc2VydmljZVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnNlcnZpY2UgY29uc3RydWN0b3IqKiwgd2hpY2ggd2lsbCBiZSBpbnZva2VkIHdpdGggYG5ld2AgdG8gY3JlYXRlIHRoZSBzZXJ2aWNlXG4gKiBpbnN0YW5jZS5cbiAqIFRoaXMgaXMgc2hvcnQgZm9yIHJlZ2lzdGVyaW5nIGEgc2VydmljZSB3aGVyZSBpdHMgcHJvdmlkZXIncyBgJGdldGAgcHJvcGVydHkgaXMgYSBmYWN0b3J5XG4gKiBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gaW5zdGFuY2UgaW5zdGFudGlhdGVkIGJ5IHRoZSBpbmplY3RvciBmcm9tIHRoZSBzZXJ2aWNlIGNvbnN0cnVjdG9yXG4gKiBmdW5jdGlvbi5cbiAqXG4gKiBJbnRlcm5hbGx5IGl0IGxvb2tzIGEgYml0IGxpa2UgdGhpczpcbiAqXG4gKiBgYGBcbiAqIHtcbiAqICAgJGdldDogZnVuY3Rpb24oKSB7XG4gKiAgICAgcmV0dXJuICRpbmplY3Rvci5pbnN0YW50aWF0ZShjb25zdHJ1Y3Rvcik7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqXG4gKiBZb3Ugc2hvdWxkIHVzZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNzZXJ2aWNlICRwcm92aWRlLnNlcnZpY2UoY2xhc3MpfSBpZiB5b3UgZGVmaW5lIHlvdXIgc2VydmljZVxuICogYXMgYSB0eXBlL2NsYXNzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59IGNvbnN0cnVjdG9yIEFuIGluamVjdGFibGUgY2xhc3MgKGNvbnN0cnVjdG9yIGZ1bmN0aW9uKVxuICogICAgIHRoYXQgd2lsbCBiZSBpbnN0YW50aWF0ZWQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiByZWdpc3RlcmluZyBhIHNlcnZpY2UgdXNpbmdcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2UgJHByb3ZpZGUuc2VydmljZShjbGFzcyl9LlxuICogYGBganNcbiAqICAgdmFyIFBpbmcgPSBmdW5jdGlvbigkaHR0cCkge1xuICogICAgIHRoaXMuJGh0dHAgPSAkaHR0cDtcbiAqICAgfTtcbiAqXG4gKiAgIFBpbmcuJGluamVjdCA9IFsnJGh0dHAnXTtcbiAqXG4gKiAgIFBpbmcucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbigpIHtcbiAqICAgICByZXR1cm4gdGhpcy4kaHR0cC5nZXQoJy9waW5nJyk7XG4gKiAgIH07XG4gKiAgICRwcm92aWRlLnNlcnZpY2UoJ3BpbmcnLCBQaW5nKTtcbiAqIGBgYFxuICogWW91IHdvdWxkIHRoZW4gaW5qZWN0IGFuZCB1c2UgdGhpcyBzZXJ2aWNlIGxpa2UgdGhpczpcbiAqIGBgYGpzXG4gKiAgIHNvbWVNb2R1bGUuY29udHJvbGxlcignQ3RybCcsIFsncGluZycsIGZ1bmN0aW9uKHBpbmcpIHtcbiAqICAgICBwaW5nLnNlbmQoKTtcbiAqICAgfV0pO1xuICogYGBgXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRwcm92aWRlI3ZhbHVlXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBSZWdpc3RlciBhICoqdmFsdWUgc2VydmljZSoqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LCBzdWNoIGFzIGEgc3RyaW5nLCBhXG4gKiBudW1iZXIsIGFuIGFycmF5LCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbi4gVGhpcyBpcyBzaG9ydCBmb3IgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHdoZXJlIGl0c1xuICogcHJvdmlkZXIncyBgJGdldGAgcHJvcGVydHkgaXMgYSBmYWN0b3J5IGZ1bmN0aW9uIHRoYXQgdGFrZXMgbm8gYXJndW1lbnRzIGFuZCByZXR1cm5zIHRoZSAqKnZhbHVlXG4gKiBzZXJ2aWNlKiouIFRoYXQgYWxzbyBtZWFucyBpdCBpcyBub3QgcG9zc2libGUgdG8gaW5qZWN0IG90aGVyIHNlcnZpY2VzIGludG8gYSB2YWx1ZSBzZXJ2aWNlLlxuICpcbiAqIFZhbHVlIHNlcnZpY2VzIGFyZSBzaW1pbGFyIHRvIGNvbnN0YW50IHNlcnZpY2VzLCBleGNlcHQgdGhhdCB0aGV5IGNhbm5vdCBiZSBpbmplY3RlZCBpbnRvIGFcbiAqIG1vZHVsZSBjb25maWd1cmF0aW9uIGZ1bmN0aW9uIChzZWUge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZ30pIGJ1dCB0aGV5IGNhbiBiZSBvdmVycmlkZGVuIGJ5XG4gKiBhbiBBbmd1bGFySlMge0BsaW5rIGF1dG8uJHByb3ZpZGUjZGVjb3JhdG9yIGRlY29yYXRvcn0uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgYXJlIHNvbWUgZXhhbXBsZXMgb2YgY3JlYXRpbmcgdmFsdWUgc2VydmljZXMuXG4gKiBgYGBqc1xuICogICAkcHJvdmlkZS52YWx1ZSgnQURNSU5fVVNFUicsICdhZG1pbicpO1xuICpcbiAqICAgJHByb3ZpZGUudmFsdWUoJ1JvbGVMb29rdXAnLCB7IGFkbWluOiAwLCB3cml0ZXI6IDEsIHJlYWRlcjogMiB9KTtcbiAqXG4gKiAgICRwcm92aWRlLnZhbHVlKCdoYWxmT2YnLCBmdW5jdGlvbih2YWx1ZSkge1xuICogICAgIHJldHVybiB2YWx1ZSAvIDI7XG4gKiAgIH0pO1xuICogYGBgXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRwcm92aWRlI2NvbnN0YW50XG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBSZWdpc3RlciBhICoqY29uc3RhbnQgc2VydmljZSoqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LCBzdWNoIGFzIGEgc3RyaW5nLFxuICogYSBudW1iZXIsIGFuIGFycmF5LCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbi4gTGlrZSB0aGUge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWV9LCBpdCBpcyBub3RcbiAqIHBvc3NpYmxlIHRvIGluamVjdCBvdGhlciBzZXJ2aWNlcyBpbnRvIGEgY29uc3RhbnQuXG4gKlxuICogQnV0IHVubGlrZSB7QGxpbmsgYXV0by4kcHJvdmlkZSN2YWx1ZSB2YWx1ZX0sIGEgY29uc3RhbnQgY2FuIGJlXG4gKiBpbmplY3RlZCBpbnRvIGEgbW9kdWxlIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gKHNlZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnfSkgYW5kIGl0IGNhbm5vdFxuICogYmUgb3ZlcnJpZGRlbiBieSBhbiBBbmd1bGFySlMge0BsaW5rIGF1dG8uJHByb3ZpZGUjZGVjb3JhdG9yIGRlY29yYXRvcn0uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGNvbnN0YW50LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgY29uc3RhbnQgdmFsdWUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIGluc3RhbmNlXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgYSBzb21lIGV4YW1wbGVzIG9mIGNyZWF0aW5nIGNvbnN0YW50czpcbiAqIGBgYGpzXG4gKiAgICRwcm92aWRlLmNvbnN0YW50KCdTSEFSRF9IRUlHSFQnLCAzMDYpO1xuICpcbiAqICAgJHByb3ZpZGUuY29uc3RhbnQoJ01ZX0NPTE9VUlMnLCBbJ3JlZCcsICdibHVlJywgJ2dyZXknXSk7XG4gKlxuICogICAkcHJvdmlkZS5jb25zdGFudCgnZG91YmxlJywgZnVuY3Rpb24odmFsdWUpIHtcbiAqICAgICByZXR1cm4gdmFsdWUgKiAyO1xuICogICB9KTtcbiAqIGBgYFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSNkZWNvcmF0b3JcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlZ2lzdGVyIGEgKipkZWNvcmF0b3IgZnVuY3Rpb24qKiB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4gQSBkZWNvcmF0b3IgZnVuY3Rpb25cbiAqIGludGVyY2VwdHMgdGhlIGNyZWF0aW9uIG9mIGEgc2VydmljZSwgYWxsb3dpbmcgaXQgdG8gb3ZlcnJpZGUgb3IgbW9kaWZ5IHRoZSBiZWhhdmlvciBvZiB0aGVcbiAqIHNlcnZpY2UuIFRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGRlY29yYXRvciBmdW5jdGlvbiBtYXkgYmUgdGhlIG9yaWdpbmFsIHNlcnZpY2UsIG9yIGEgbmV3IHNlcnZpY2VcbiAqIHRoYXQgcmVwbGFjZXMgKG9yIHdyYXBzIGFuZCBkZWxlZ2F0ZXMgdG8pIHRoZSBvcmlnaW5hbCBzZXJ2aWNlLlxuICpcbiAqIFlvdSBjYW4gZmluZCBvdXQgbW9yZSBhYm91dCB1c2luZyBkZWNvcmF0b3JzIGluIHRoZSB7QGxpbmsgZ3VpZGUvZGVjb3JhdG9yc30gZ3VpZGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHNlcnZpY2UgdG8gZGVjb3JhdGUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSBkZWNvcmF0b3IgVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgc2VydmljZSBuZWVkcyB0byBiZVxuICogICAgcHJvdmlkZWQgYW5kIHNob3VsZCByZXR1cm4gdGhlIGRlY29yYXRlZCBzZXJ2aWNlIGluc3RhbmNlLiBUaGUgZnVuY3Rpb24gaXMgY2FsbGVkIHVzaW5nXG4gKiAgICB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yI2ludm9rZSBpbmplY3Rvci5pbnZva2V9IG1ldGhvZCBhbmQgaXMgdGhlcmVmb3JlIGZ1bGx5IGluamVjdGFibGUuXG4gKiAgICBMb2NhbCBpbmplY3Rpb24gYXJndW1lbnRzOlxuICpcbiAqICAgICogYCRkZWxlZ2F0ZWAgLSBUaGUgb3JpZ2luYWwgc2VydmljZSBpbnN0YW5jZSwgd2hpY2ggY2FuIGJlIHJlcGxhY2VkLCBtb25rZXkgcGF0Y2hlZCwgY29uZmlndXJlZCxcbiAqICAgICAgZGVjb3JhdGVkIG9yIGRlbGVnYXRlZCB0by5cbiAqXG4gKiBAZXhhbXBsZVxuICogSGVyZSB3ZSBkZWNvcmF0ZSB0aGUge0BsaW5rIG5nLiRsb2cgJGxvZ30gc2VydmljZSB0byBjb252ZXJ0IHdhcm5pbmdzIHRvIGVycm9ycyBieSBpbnRlcmNlcHRpbmdcbiAqIGNhbGxzIHRvIHtAbGluayBuZy4kbG9nI2Vycm9yICRsb2cud2FybigpfS5cbiAqIGBgYGpzXG4gKiAgICRwcm92aWRlLmRlY29yYXRvcignJGxvZycsIFsnJGRlbGVnYXRlJywgZnVuY3Rpb24oJGRlbGVnYXRlKSB7XG4gKiAgICAgJGRlbGVnYXRlLndhcm4gPSAkZGVsZWdhdGUuZXJyb3I7XG4gKiAgICAgcmV0dXJuICRkZWxlZ2F0ZTtcbiAqICAgfV0pO1xuICogYGBgXG4gKi9cblxuXG5mdW5jdGlvbiBjcmVhdGVJbmplY3Rvcihtb2R1bGVzVG9Mb2FkLCBzdHJpY3REaSkge1xuICBzdHJpY3REaSA9IChzdHJpY3REaSA9PT0gdHJ1ZSk7XG4gIHZhciBJTlNUQU5USUFUSU5HID0ge30sXG4gICAgICBwcm92aWRlclN1ZmZpeCA9ICdQcm92aWRlcicsXG4gICAgICBwYXRoID0gW10sXG4gICAgICBsb2FkZWRNb2R1bGVzID0gbmV3IE5nTWFwKCksXG4gICAgICBwcm92aWRlckNhY2hlID0ge1xuICAgICAgICAkcHJvdmlkZToge1xuICAgICAgICAgICAgcHJvdmlkZXI6IHN1cHBvcnRPYmplY3QocHJvdmlkZXIpLFxuICAgICAgICAgICAgZmFjdG9yeTogc3VwcG9ydE9iamVjdChmYWN0b3J5KSxcbiAgICAgICAgICAgIHNlcnZpY2U6IHN1cHBvcnRPYmplY3Qoc2VydmljZSksXG4gICAgICAgICAgICB2YWx1ZTogc3VwcG9ydE9iamVjdCh2YWx1ZSksXG4gICAgICAgICAgICBjb25zdGFudDogc3VwcG9ydE9iamVjdChjb25zdGFudCksXG4gICAgICAgICAgICBkZWNvcmF0b3I6IGRlY29yYXRvclxuICAgICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwcm92aWRlckluamVjdG9yID0gKHByb3ZpZGVyQ2FjaGUuJGluamVjdG9yID1cbiAgICAgICAgICBjcmVhdGVJbnRlcm5hbEluamVjdG9yKHByb3ZpZGVyQ2FjaGUsIGZ1bmN0aW9uKHNlcnZpY2VOYW1lLCBjYWxsZXIpIHtcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGNhbGxlcikpIHtcbiAgICAgICAgICAgICAgcGF0aC5wdXNoKGNhbGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ3VucHInLCAnVW5rbm93biBwcm92aWRlcjogezB9JywgcGF0aC5qb2luKCcgPC0gJykpO1xuICAgICAgICAgIH0pKSxcbiAgICAgIGluc3RhbmNlQ2FjaGUgPSB7fSxcbiAgICAgIHByb3RvSW5zdGFuY2VJbmplY3RvciA9XG4gICAgICAgICAgY3JlYXRlSW50ZXJuYWxJbmplY3RvcihpbnN0YW5jZUNhY2hlLCBmdW5jdGlvbihzZXJ2aWNlTmFtZSwgY2FsbGVyKSB7XG4gICAgICAgICAgICB2YXIgcHJvdmlkZXIgPSBwcm92aWRlckluamVjdG9yLmdldChzZXJ2aWNlTmFtZSArIHByb3ZpZGVyU3VmZml4LCBjYWxsZXIpO1xuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyLiRnZXQsIHByb3ZpZGVyLCB1bmRlZmluZWQsIHNlcnZpY2VOYW1lKTtcbiAgICAgICAgICB9KSxcbiAgICAgIGluc3RhbmNlSW5qZWN0b3IgPSBwcm90b0luc3RhbmNlSW5qZWN0b3I7XG5cbiAgcHJvdmlkZXJDYWNoZVsnJGluamVjdG9yJyArIHByb3ZpZGVyU3VmZml4XSA9IHsgJGdldDogdmFsdWVGbihwcm90b0luc3RhbmNlSW5qZWN0b3IpIH07XG4gIGluc3RhbmNlSW5qZWN0b3IubW9kdWxlcyA9IHByb3ZpZGVySW5qZWN0b3IubW9kdWxlcyA9IGNyZWF0ZU1hcCgpO1xuICB2YXIgcnVuQmxvY2tzID0gbG9hZE1vZHVsZXMobW9kdWxlc1RvTG9hZCk7XG4gIGluc3RhbmNlSW5qZWN0b3IgPSBwcm90b0luc3RhbmNlSW5qZWN0b3IuZ2V0KCckaW5qZWN0b3InKTtcbiAgaW5zdGFuY2VJbmplY3Rvci5zdHJpY3REaSA9IHN0cmljdERpO1xuICBmb3JFYWNoKHJ1bkJsb2NrcywgZnVuY3Rpb24oZm4pIHsgaWYgKGZuKSBpbnN0YW5jZUluamVjdG9yLmludm9rZShmbik7IH0pO1xuXG4gIGluc3RhbmNlSW5qZWN0b3IubG9hZE5ld01vZHVsZXMgPSBmdW5jdGlvbihtb2RzKSB7XG4gICAgZm9yRWFjaChsb2FkTW9kdWxlcyhtb2RzKSwgZnVuY3Rpb24oZm4pIHsgaWYgKGZuKSBpbnN0YW5jZUluamVjdG9yLmludm9rZShmbik7IH0pO1xuICB9O1xuXG5cbiAgcmV0dXJuIGluc3RhbmNlSW5qZWN0b3I7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vICRwcm92aWRlclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBmdW5jdGlvbiBzdXBwb3J0T2JqZWN0KGRlbGVnYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChpc09iamVjdChrZXkpKSB7XG4gICAgICAgIGZvckVhY2goa2V5LCByZXZlcnNlUGFyYW1zKGRlbGVnYXRlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGVsZWdhdGUoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb3ZpZGVyKG5hbWUsIHByb3ZpZGVyXykge1xuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdzZXJ2aWNlJyk7XG4gICAgaWYgKGlzRnVuY3Rpb24ocHJvdmlkZXJfKSB8fCBpc0FycmF5KHByb3ZpZGVyXykpIHtcbiAgICAgIHByb3ZpZGVyXyA9IHByb3ZpZGVySW5qZWN0b3IuaW5zdGFudGlhdGUocHJvdmlkZXJfKTtcbiAgICB9XG4gICAgaWYgKCFwcm92aWRlcl8uJGdldCkge1xuICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdwZ2V0JywgJ1Byb3ZpZGVyIFxcJ3swfVxcJyBtdXN0IGRlZmluZSAkZ2V0IGZhY3RvcnkgbWV0aG9kLicsIG5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gKHByb3ZpZGVyQ2FjaGVbbmFtZSArIHByb3ZpZGVyU3VmZml4XSA9IHByb3ZpZGVyXyk7XG4gIH1cblxuICBmdW5jdGlvbiBlbmZvcmNlUmV0dXJuVmFsdWUobmFtZSwgZmFjdG9yeSkge1xuICAgIHJldHVybiAvKiogQHRoaXMgKi8gZnVuY3Rpb24gZW5mb3JjZWRSZXR1cm5WYWx1ZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBpbnN0YW5jZUluamVjdG9yLmludm9rZShmYWN0b3J5LCB0aGlzKTtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChyZXN1bHQpKSB7XG4gICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigndW5kZWYnLCAnUHJvdmlkZXIgXFwnezB9XFwnIG11c3QgcmV0dXJuIGEgdmFsdWUgZnJvbSAkZ2V0IGZhY3RvcnkgbWV0aG9kLicsIG5hbWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZmFjdG9yeShuYW1lLCBmYWN0b3J5Rm4sIGVuZm9yY2UpIHtcbiAgICByZXR1cm4gcHJvdmlkZXIobmFtZSwge1xuICAgICAgJGdldDogZW5mb3JjZSAhPT0gZmFsc2UgPyBlbmZvcmNlUmV0dXJuVmFsdWUobmFtZSwgZmFjdG9yeUZuKSA6IGZhY3RvcnlGblxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VydmljZShuYW1lLCBjb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBmYWN0b3J5KG5hbWUsIFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKSB7XG4gICAgICByZXR1cm4gJGluamVjdG9yLmluc3RhbnRpYXRlKGNvbnN0cnVjdG9yKTtcbiAgICB9XSk7XG4gIH1cblxuICBmdW5jdGlvbiB2YWx1ZShuYW1lLCB2YWwpIHsgcmV0dXJuIGZhY3RvcnkobmFtZSwgdmFsdWVGbih2YWwpLCBmYWxzZSk7IH1cblxuICBmdW5jdGlvbiBjb25zdGFudChuYW1lLCB2YWx1ZSkge1xuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdjb25zdGFudCcpO1xuICAgIHByb3ZpZGVyQ2FjaGVbbmFtZV0gPSB2YWx1ZTtcbiAgICBpbnN0YW5jZUNhY2hlW25hbWVdID0gdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBkZWNvcmF0b3Ioc2VydmljZU5hbWUsIGRlY29yRm4pIHtcbiAgICB2YXIgb3JpZ1Byb3ZpZGVyID0gcHJvdmlkZXJJbmplY3Rvci5nZXQoc2VydmljZU5hbWUgKyBwcm92aWRlclN1ZmZpeCksXG4gICAgICAgIG9yaWckZ2V0ID0gb3JpZ1Byb3ZpZGVyLiRnZXQ7XG5cbiAgICBvcmlnUHJvdmlkZXIuJGdldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9yaWdJbnN0YW5jZSA9IGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKG9yaWckZ2V0LCBvcmlnUHJvdmlkZXIpO1xuICAgICAgcmV0dXJuIGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKGRlY29yRm4sIG51bGwsIHskZGVsZWdhdGU6IG9yaWdJbnN0YW5jZX0pO1xuICAgIH07XG4gIH1cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gTW9kdWxlIExvYWRpbmdcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIGZ1bmN0aW9uIGxvYWRNb2R1bGVzKG1vZHVsZXNUb0xvYWQpIHtcbiAgICBhc3NlcnRBcmcoaXNVbmRlZmluZWQobW9kdWxlc1RvTG9hZCkgfHwgaXNBcnJheShtb2R1bGVzVG9Mb2FkKSwgJ21vZHVsZXNUb0xvYWQnLCAnbm90IGFuIGFycmF5Jyk7XG4gICAgdmFyIHJ1bkJsb2NrcyA9IFtdLCBtb2R1bGVGbjtcbiAgICBmb3JFYWNoKG1vZHVsZXNUb0xvYWQsIGZ1bmN0aW9uKG1vZHVsZSkge1xuICAgICAgaWYgKGxvYWRlZE1vZHVsZXMuZ2V0KG1vZHVsZSkpIHJldHVybjtcbiAgICAgIGxvYWRlZE1vZHVsZXMuc2V0KG1vZHVsZSwgdHJ1ZSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJ1bkludm9rZVF1ZXVlKHF1ZXVlKSB7XG4gICAgICAgIHZhciBpLCBpaTtcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBxdWV1ZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdmFyIGludm9rZUFyZ3MgPSBxdWV1ZVtpXSxcbiAgICAgICAgICAgICAgcHJvdmlkZXIgPSBwcm92aWRlckluamVjdG9yLmdldChpbnZva2VBcmdzWzBdKTtcblxuICAgICAgICAgIHByb3ZpZGVyW2ludm9rZUFyZ3NbMV1dLmFwcGx5KHByb3ZpZGVyLCBpbnZva2VBcmdzWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBpZiAoaXNTdHJpbmcobW9kdWxlKSkge1xuICAgICAgICAgIG1vZHVsZUZuID0gYW5ndWxhck1vZHVsZShtb2R1bGUpO1xuICAgICAgICAgIGluc3RhbmNlSW5qZWN0b3IubW9kdWxlc1ttb2R1bGVdID0gbW9kdWxlRm47XG4gICAgICAgICAgcnVuQmxvY2tzID0gcnVuQmxvY2tzLmNvbmNhdChsb2FkTW9kdWxlcyhtb2R1bGVGbi5yZXF1aXJlcykpLmNvbmNhdChtb2R1bGVGbi5fcnVuQmxvY2tzKTtcbiAgICAgICAgICBydW5JbnZva2VRdWV1ZShtb2R1bGVGbi5faW52b2tlUXVldWUpO1xuICAgICAgICAgIHJ1bkludm9rZVF1ZXVlKG1vZHVsZUZuLl9jb25maWdCbG9ja3MpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24obW9kdWxlKSkge1xuICAgICAgICAgICAgcnVuQmxvY2tzLnB1c2gocHJvdmlkZXJJbmplY3Rvci5pbnZva2UobW9kdWxlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShtb2R1bGUpKSB7XG4gICAgICAgICAgICBydW5CbG9ja3MucHVzaChwcm92aWRlckluamVjdG9yLmludm9rZShtb2R1bGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NlcnRBcmdGbihtb2R1bGUsICdtb2R1bGUnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoaXNBcnJheShtb2R1bGUpKSB7XG4gICAgICAgICAgbW9kdWxlID0gbW9kdWxlW21vZHVsZS5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS5tZXNzYWdlICYmIGUuc3RhY2sgJiYgZS5zdGFjay5pbmRleE9mKGUubWVzc2FnZSkgPT09IC0xKSB7XG4gICAgICAgICAgLy8gU2FmYXJpICYgRkYncyBzdGFjayB0cmFjZXMgZG9uJ3QgY29udGFpbiBlcnJvci5tZXNzYWdlIGNvbnRlbnRcbiAgICAgICAgICAvLyB1bmxpa2UgdGhvc2Ugb2YgQ2hyb21lIGFuZCBJRVxuICAgICAgICAgIC8vIFNvIGlmIHN0YWNrIGRvZXNuJ3QgY29udGFpbiBtZXNzYWdlLCB3ZSBjcmVhdGUgYSBuZXcgc3RyaW5nIHRoYXQgY29udGFpbnMgYm90aC5cbiAgICAgICAgICAvLyBTaW5jZSBlcnJvci5zdGFjayBpcyByZWFkLW9ubHkgaW4gU2FmYXJpLCBJJ20gb3ZlcnJpZGluZyBlIGFuZCBub3QgZS5zdGFjayBoZXJlLlxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leC1hc3NpZ25cbiAgICAgICAgICBlID0gZS5tZXNzYWdlICsgJ1xcbicgKyBlLnN0YWNrO1xuICAgICAgICB9XG4gICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignbW9kdWxlcnInLCAnRmFpbGVkIHRvIGluc3RhbnRpYXRlIG1vZHVsZSB7MH0gZHVlIHRvOlxcbnsxfScsXG4gICAgICAgICAgICAgICAgICBtb2R1bGUsIGUuc3RhY2sgfHwgZS5tZXNzYWdlIHx8IGUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBydW5CbG9ja3M7XG4gIH1cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gaW50ZXJuYWwgSW5qZWN0b3JcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgZnVuY3Rpb24gY3JlYXRlSW50ZXJuYWxJbmplY3RvcihjYWNoZSwgZmFjdG9yeSkge1xuXG4gICAgZnVuY3Rpb24gZ2V0U2VydmljZShzZXJ2aWNlTmFtZSwgY2FsbGVyKSB7XG4gICAgICBpZiAoY2FjaGUuaGFzT3duUHJvcGVydHkoc2VydmljZU5hbWUpKSB7XG4gICAgICAgIGlmIChjYWNoZVtzZXJ2aWNlTmFtZV0gPT09IElOU1RBTlRJQVRJTkcpIHtcbiAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ2NkZXAnLCAnQ2lyY3VsYXIgZGVwZW5kZW5jeSBmb3VuZDogezB9JyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWUgKyAnIDwtICcgKyBwYXRoLmpvaW4oJyA8LSAnKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhY2hlW3NlcnZpY2VOYW1lXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcGF0aC51bnNoaWZ0KHNlcnZpY2VOYW1lKTtcbiAgICAgICAgICBjYWNoZVtzZXJ2aWNlTmFtZV0gPSBJTlNUQU5USUFUSU5HO1xuICAgICAgICAgIGNhY2hlW3NlcnZpY2VOYW1lXSA9IGZhY3Rvcnkoc2VydmljZU5hbWUsIGNhbGxlcik7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlW3NlcnZpY2VOYW1lXTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaWYgKGNhY2hlW3NlcnZpY2VOYW1lXSA9PT0gSU5TVEFOVElBVElORykge1xuICAgICAgICAgICAgZGVsZXRlIGNhY2hlW3NlcnZpY2VOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gaW5qZWN0aW9uQXJncyhmbiwgbG9jYWxzLCBzZXJ2aWNlTmFtZSkge1xuICAgICAgdmFyIGFyZ3MgPSBbXSxcbiAgICAgICAgICAkaW5qZWN0ID0gY3JlYXRlSW5qZWN0b3IuJCRhbm5vdGF0ZShmbiwgc3RyaWN0RGksIHNlcnZpY2VOYW1lKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9ICRpbmplY3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9ICRpbmplY3RbaV07XG4gICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignaXRrbicsXG4gICAgICAgICAgICAgICAgICAnSW5jb3JyZWN0IGluamVjdGlvbiB0b2tlbiEgRXhwZWN0ZWQgc2VydmljZSBuYW1lIGFzIHN0cmluZywgZ290IHswfScsIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgYXJncy5wdXNoKGxvY2FscyAmJiBsb2NhbHMuaGFzT3duUHJvcGVydHkoa2V5KSA/IGxvY2Fsc1trZXldIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFNlcnZpY2Uoa2V5LCBzZXJ2aWNlTmFtZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNDbGFzcyhmdW5jKSB7XG4gICAgICAvLyBTdXBwb3J0OiBJRSA5LTExIG9ubHlcbiAgICAgIC8vIElFIDktMTEgZG8gbm90IHN1cHBvcnQgY2xhc3NlcyBhbmQgSUU5IGxlYWtzIHdpdGggdGhlIGNvZGUgYmVsb3cuXG4gICAgICBpZiAobXNpZSB8fCB0eXBlb2YgZnVuYyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gZnVuYy4kJG5nSXNDbGFzcztcbiAgICAgIGlmICghaXNCb29sZWFuKHJlc3VsdCkpIHtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy4kJG5nSXNDbGFzcyA9IC9eY2xhc3NcXGIvLnRlc3Qoc3RyaW5naWZ5Rm4oZnVuYykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZva2UoZm4sIHNlbGYsIGxvY2Fscywgc2VydmljZU5hbWUpIHtcbiAgICAgIGlmICh0eXBlb2YgbG9jYWxzID09PSAnc3RyaW5nJykge1xuICAgICAgICBzZXJ2aWNlTmFtZSA9IGxvY2FscztcbiAgICAgICAgbG9jYWxzID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGFyZ3MgPSBpbmplY3Rpb25BcmdzKGZuLCBsb2NhbHMsIHNlcnZpY2VOYW1lKTtcbiAgICAgIGlmIChpc0FycmF5KGZuKSkge1xuICAgICAgICBmbiA9IGZuW2ZuLmxlbmd0aCAtIDFdO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzQ2xhc3MoZm4pKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2FuZ3VsYXJqcy1pbnZva2UtYXBwbHktdnMtc3dpdGNoXG4gICAgICAgIC8vICM1Mzg4XG4gICAgICAgIHJldHVybiBmbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFyZ3MudW5zaGlmdChudWxsKTtcbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoZm4sIGFyZ3MpKSgpO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gaW5zdGFudGlhdGUoVHlwZSwgbG9jYWxzLCBzZXJ2aWNlTmFtZSkge1xuICAgICAgLy8gQ2hlY2sgaWYgVHlwZSBpcyBhbm5vdGF0ZWQgYW5kIHVzZSBqdXN0IHRoZSBnaXZlbiBmdW5jdGlvbiBhdCBuLTEgYXMgcGFyYW1ldGVyXG4gICAgICAvLyBlLmcuIHNvbWVNb2R1bGUuZmFjdG9yeSgnZ3JlZXRlcicsIFsnJHdpbmRvdycsIGZ1bmN0aW9uKHJlbmFtZWQkd2luZG93KSB7fV0pO1xuICAgICAgdmFyIGN0b3IgPSAoaXNBcnJheShUeXBlKSA/IFR5cGVbVHlwZS5sZW5ndGggLSAxXSA6IFR5cGUpO1xuICAgICAgdmFyIGFyZ3MgPSBpbmplY3Rpb25BcmdzKFR5cGUsIGxvY2Fscywgc2VydmljZU5hbWUpO1xuICAgICAgLy8gRW1wdHkgb2JqZWN0IGF0IHBvc2l0aW9uIDAgaXMgaWdub3JlZCBmb3IgaW52b2NhdGlvbiB3aXRoIGBuZXdgLCBidXQgcmVxdWlyZWQuXG4gICAgICBhcmdzLnVuc2hpZnQobnVsbCk7XG4gICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShjdG9yLCBhcmdzKSkoKTtcbiAgICB9XG5cblxuICAgIHJldHVybiB7XG4gICAgICBpbnZva2U6IGludm9rZSxcbiAgICAgIGluc3RhbnRpYXRlOiBpbnN0YW50aWF0ZSxcbiAgICAgIGdldDogZ2V0U2VydmljZSxcbiAgICAgIGFubm90YXRlOiBjcmVhdGVJbmplY3Rvci4kJGFubm90YXRlLFxuICAgICAgaGFzOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHJldHVybiBwcm92aWRlckNhY2hlLmhhc093blByb3BlcnR5KG5hbWUgKyBwcm92aWRlclN1ZmZpeCkgfHwgY2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuXG5jcmVhdGVJbmplY3Rvci4kJGFubm90YXRlID0gYW5ub3RhdGU7XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkYW5jaG9yU2Nyb2xsUHJvdmlkZXJcbiAqIEB0aGlzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgYCRhbmNob3JTY3JvbGxQcm92aWRlcmAgdG8gZGlzYWJsZSBhdXRvbWF0aWMgc2Nyb2xsaW5nIHdoZW5ldmVyXG4gKiB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0gY2hhbmdlcy5cbiAqL1xuZnVuY3Rpb24gJEFuY2hvclNjcm9sbFByb3ZpZGVyKCkge1xuXG4gIHZhciBhdXRvU2Nyb2xsaW5nRW5hYmxlZCA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGFuY2hvclNjcm9sbFByb3ZpZGVyI2Rpc2FibGVBdXRvU2Nyb2xsaW5nXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBCeSBkZWZhdWx0LCB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCAkYW5jaG9yU2Nyb2xsKCl9IHdpbGwgYXV0b21hdGljYWxseSBkZXRlY3QgY2hhbmdlcyB0b1xuICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0gYW5kIHNjcm9sbCB0byB0aGUgZWxlbWVudCBtYXRjaGluZyB0aGUgbmV3IGhhc2guPGJyIC8+XG4gICAqIFVzZSB0aGlzIG1ldGhvZCB0byBkaXNhYmxlIGF1dG9tYXRpYyBzY3JvbGxpbmcuXG4gICAqXG4gICAqIElmIGF1dG9tYXRpYyBzY3JvbGxpbmcgaXMgZGlzYWJsZWQsIG9uZSBtdXN0IGV4cGxpY2l0bHkgY2FsbFxuICAgKiB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCAkYW5jaG9yU2Nyb2xsKCl9IGluIG9yZGVyIHRvIHNjcm9sbCB0byB0aGUgZWxlbWVudCByZWxhdGVkIHRvIHRoZVxuICAgKiBjdXJyZW50IGhhc2guXG4gICAqL1xuICB0aGlzLmRpc2FibGVBdXRvU2Nyb2xsaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgYXV0b1Njcm9sbGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJGFuY2hvclNjcm9sbFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKiBAcmVxdWlyZXMgJHdpbmRvd1xuICAgKiBAcmVxdWlyZXMgJGxvY2F0aW9uXG4gICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBXaGVuIGNhbGxlZCwgaXQgc2Nyb2xscyB0byB0aGUgZWxlbWVudCByZWxhdGVkIHRvIHRoZSBzcGVjaWZpZWQgYGhhc2hgIG9yIChpZiBvbWl0dGVkKSB0byB0aGVcbiAgICogY3VycmVudCB2YWx1ZSBvZiB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0sIGFjY29yZGluZyB0byB0aGUgcnVsZXMgc3BlY2lmaWVkXG4gICAqIGluIHRoZVxuICAgKiBbSFRNTDUgc3BlY10oaHR0cDovL3d3dy53My5vcmcvaHRtbC93Zy9kcmFmdHMvaHRtbC9tYXN0ZXIvYnJvd3NlcnMuaHRtbCNhbi1pbmRpY2F0ZWQtcGFydC1vZi10aGUtZG9jdW1lbnQpLlxuICAgKlxuICAgKiBJdCBhbHNvIHdhdGNoZXMgdGhlIHtAbGluayBuZy4kbG9jYXRpb24jaGFzaCAkbG9jYXRpb24uaGFzaCgpfSBhbmQgYXV0b21hdGljYWxseSBzY3JvbGxzIHRvXG4gICAqIG1hdGNoIGFueSBhbmNob3Igd2hlbmV2ZXIgaXQgY2hhbmdlcy4gVGhpcyBjYW4gYmUgZGlzYWJsZWQgYnkgY2FsbGluZ1xuICAgKiB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbFByb3ZpZGVyI2Rpc2FibGVBdXRvU2Nyb2xsaW5nICRhbmNob3JTY3JvbGxQcm92aWRlci5kaXNhYmxlQXV0b1Njcm9sbGluZygpfS5cbiAgICpcbiAgICogQWRkaXRpb25hbGx5LCB5b3UgY2FuIHVzZSBpdHMge0BsaW5rIG5nLiRhbmNob3JTY3JvbGwjeU9mZnNldCB5T2Zmc2V0fSBwcm9wZXJ0eSB0byBzcGVjaWZ5IGFcbiAgICogdmVydGljYWwgc2Nyb2xsLW9mZnNldCAoZWl0aGVyIGZpeGVkIG9yIGR5bmFtaWMpLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZz19IGhhc2ggVGhlIGhhc2ggc3BlY2lmeWluZyB0aGUgZWxlbWVudCB0byBzY3JvbGwgdG8uIElmIG9taXR0ZWQsIHRoZSB2YWx1ZSBvZlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IHdpbGwgYmUgdXNlZC5cbiAgICpcbiAgICogQHByb3BlcnR5IHsobnVtYmVyfGZ1bmN0aW9ufGpxTGl0ZSl9IHlPZmZzZXRcbiAgICogSWYgc2V0LCBzcGVjaWZpZXMgYSB2ZXJ0aWNhbCBzY3JvbGwtb2Zmc2V0LiBUaGlzIGlzIG9mdGVuIHVzZWZ1bCB3aGVuIHRoZXJlIGFyZSBmaXhlZFxuICAgKiBwb3NpdGlvbmVkIGVsZW1lbnRzIGF0IHRoZSB0b3Agb2YgdGhlIHBhZ2UsIHN1Y2ggYXMgbmF2YmFycywgaGVhZGVycyBldGMuXG4gICAqXG4gICAqIGB5T2Zmc2V0YCBjYW4gYmUgc3BlY2lmaWVkIGluIHZhcmlvdXMgd2F5czpcbiAgICogLSAqKm51bWJlcioqOiBBIGZpeGVkIG51bWJlciBvZiBwaXhlbHMgdG8gYmUgdXNlZCBhcyBvZmZzZXQuPGJyIC8+PGJyIC8+XG4gICAqIC0gKipmdW5jdGlvbioqOiBBIGdldHRlciBmdW5jdGlvbiBjYWxsZWQgZXZlcnl0aW1lIGAkYW5jaG9yU2Nyb2xsKClgIGlzIGV4ZWN1dGVkLiBNdXN0IHJldHVyblxuICAgKiAgIGEgbnVtYmVyIHJlcHJlc2VudGluZyB0aGUgb2Zmc2V0IChpbiBwaXhlbHMpLjxiciAvPjxiciAvPlxuICAgKiAtICoqanFMaXRlKio6IEEganFMaXRlL2pRdWVyeSBlbGVtZW50IHRvIGJlIHVzZWQgZm9yIHNwZWNpZnlpbmcgdGhlIG9mZnNldC4gVGhlIGRpc3RhbmNlIGZyb21cbiAgICogICB0aGUgdG9wIG9mIHRoZSBwYWdlIHRvIHRoZSBlbGVtZW50J3MgYm90dG9tIHdpbGwgYmUgdXNlZCBhcyBvZmZzZXQuPGJyIC8+XG4gICAqICAgKipOb3RlKio6IFRoZSBlbGVtZW50IHdpbGwgYmUgdGFrZW4gaW50byBhY2NvdW50IG9ubHkgYXMgbG9uZyBhcyBpdHMgYHBvc2l0aW9uYCBpcyBzZXQgdG9cbiAgICogICBgZml4ZWRgLiBUaGlzIG9wdGlvbiBpcyB1c2VmdWwsIHdoZW4gZGVhbGluZyB3aXRoIHJlc3BvbnNpdmUgbmF2YmFycy9oZWFkZXJzIHRoYXQgYWRqdXN0XG4gICAqICAgdGhlaXIgaGVpZ2h0IGFuZC9vciBwb3NpdGlvbmluZyBhY2NvcmRpbmcgdG8gdGhlIHZpZXdwb3J0J3Mgc2l6ZS5cbiAgICpcbiAgICogPGJyIC8+XG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAqIEluIG9yZGVyIGZvciBgeU9mZnNldGAgdG8gd29yayBwcm9wZXJseSwgc2Nyb2xsaW5nIHNob3VsZCB0YWtlIHBsYWNlIG9uIHRoZSBkb2N1bWVudCdzIHJvb3QgYW5kXG4gICAqIG5vdCBzb21lIGNoaWxkIGVsZW1lbnQuXG4gICAqIDwvZGl2PlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICA8ZXhhbXBsZSBtb2R1bGU9XCJhbmNob3JTY3JvbGxFeGFtcGxlXCIgbmFtZT1cImFuY2hvci1zY3JvbGxcIj5cbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPGRpdiBpZD1cInNjcm9sbEFyZWFcIiBuZy1jb250cm9sbGVyPVwiU2Nyb2xsQ29udHJvbGxlclwiPlxuICAgICAgICAgICA8YSBuZy1jbGljaz1cImdvdG9Cb3R0b20oKVwiPkdvIHRvIGJvdHRvbTwvYT5cbiAgICAgICAgICAgPGEgaWQ9XCJib3R0b21cIj48L2E+IFlvdSdyZSBhdCB0aGUgYm90dG9tIVxuICAgICAgICAgPC9kaXY+XG4gICAgICAgPC9maWxlPlxuICAgICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdhbmNob3JTY3JvbGxFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdTY3JvbGxDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGxvY2F0aW9uJywgJyRhbmNob3JTY3JvbGwnLFxuICAgICAgICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgJGxvY2F0aW9uLCAkYW5jaG9yU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZ290b0JvdHRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGxvY2F0aW9uLmhhc2ggdG8gdGhlIGlkIG9mXG4gICAgICAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHlvdSB3aXNoIHRvIHNjcm9sbCB0by5cbiAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2JvdHRvbScpO1xuXG4gICAgICAgICAgICAgICAgIC8vIGNhbGwgJGFuY2hvclNjcm9sbCgpXG4gICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgICAjc2Nyb2xsQXJlYSB7XG4gICAgICAgICAgIGhlaWdodDogMjgwcHg7XG4gICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgICAgfVxuXG4gICAgICAgICAjYm90dG9tIHtcbiAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgIG1hcmdpbi10b3A6IDIwMDBweDtcbiAgICAgICAgIH1cbiAgICAgICA8L2ZpbGU+XG4gICAgIDwvZXhhbXBsZT5cbiAgICpcbiAgICogPGhyIC8+XG4gICAqIFRoZSBleGFtcGxlIGJlbG93IGlsbHVzdHJhdGVzIHRoZSB1c2Ugb2YgYSB2ZXJ0aWNhbCBzY3JvbGwtb2Zmc2V0IChzcGVjaWZpZWQgYXMgYSBmaXhlZCB2YWx1ZSkuXG4gICAqIFNlZSB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCN5T2Zmc2V0ICRhbmNob3JTY3JvbGwueU9mZnNldH0gZm9yIG1vcmUgZGV0YWlscy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZVwiIG5hbWU9XCJhbmNob3Itc2Nyb2xsLW9mZnNldFwiPlxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiZml4ZWQtaGVhZGVyXCIgbmctY29udHJvbGxlcj1cImhlYWRlckN0cmxcIj5cbiAgICAgICAgICAgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwiZ290b0FuY2hvcih4KVwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cbiAgICAgICAgICAgICBHbyB0byBhbmNob3Ige3t4fX1cbiAgICAgICAgICAgPC9hPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8ZGl2IGlkPVwiYW5jaG9ye3t4fX1cIiBjbGFzcz1cImFuY2hvclwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cbiAgICAgICAgICAgQW5jaG9yIHt7eH19IG9mIDVcbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAucnVuKFsnJGFuY2hvclNjcm9sbCcsIGZ1bmN0aW9uKCRhbmNob3JTY3JvbGwpIHtcbiAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsLnlPZmZzZXQgPSA1MDsgICAvLyBhbHdheXMgc2Nyb2xsIGJ5IDUwIGV4dHJhIHBpeGVsc1xuICAgICAgICAgICB9XSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ2hlYWRlckN0cmwnLCBbJyRhbmNob3JTY3JvbGwnLCAnJGxvY2F0aW9uJywgJyRzY29wZScsXG4gICAgICAgICAgICAgZnVuY3Rpb24oJGFuY2hvclNjcm9sbCwgJGxvY2F0aW9uLCAkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS5nb3RvQW5jaG9yID0gZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgICAgICB2YXIgbmV3SGFzaCA9ICdhbmNob3InICsgeDtcbiAgICAgICAgICAgICAgICAgaWYgKCRsb2NhdGlvbi5oYXNoKCkgIT09IG5ld0hhc2gpIHtcbiAgICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlICRsb2NhdGlvbi5oYXNoIHRvIGBuZXdIYXNoYCBhbmRcbiAgICAgICAgICAgICAgICAgICAvLyAkYW5jaG9yU2Nyb2xsIHdpbGwgYXV0b21hdGljYWxseSBzY3JvbGwgdG8gaXRcbiAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24uaGFzaCgnYW5jaG9yJyArIHgpO1xuICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgIC8vIGNhbGwgJGFuY2hvclNjcm9sbCgpIGV4cGxpY2l0bHksXG4gICAgICAgICAgICAgICAgICAgLy8gc2luY2UgJGxvY2F0aW9uLmhhc2ggaGFzbid0IGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICBdKTtcbiAgICAgICA8L2ZpbGU+XG4gICAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgICAgYm9keSB7XG4gICAgICAgICAgIHBhZGRpbmctdG9wOiA1MHB4O1xuICAgICAgICAgfVxuXG4gICAgICAgICAuYW5jaG9yIHtcbiAgICAgICAgICAgYm9yZGVyOiAycHggZGFzaGVkIERhcmtPcmNoaWQ7XG4gICAgICAgICAgIHBhZGRpbmc6IDEwcHggMTBweCAyMDBweCAxMHB4O1xuICAgICAgICAgfVxuXG4gICAgICAgICAuZml4ZWQtaGVhZGVyIHtcbiAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjIpO1xuICAgICAgICAgICBoZWlnaHQ6IDUwcHg7XG4gICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICAgdG9wOiAwOyBsZWZ0OiAwOyByaWdodDogMDtcbiAgICAgICAgIH1cblxuICAgICAgICAgLmZpeGVkLWhlYWRlciA+IGEge1xuICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgIG1hcmdpbjogNXB4IDE1cHg7XG4gICAgICAgICB9XG4gICAgICAgPC9maWxlPlxuICAgICA8L2V4YW1wbGU+XG4gICAqL1xuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJGxvY2F0aW9uJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbigkd2luZG93LCAkbG9jYXRpb24sICRyb290U2NvcGUpIHtcbiAgICB2YXIgZG9jdW1lbnQgPSAkd2luZG93LmRvY3VtZW50O1xuXG4gICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBmaXJzdCBhbmNob3IgZnJvbSBhIE5vZGVMaXN0XG4gICAgLy8gKHVzaW5nIGBBcnJheSNzb21lKClgIGluc3RlYWQgb2YgYGFuZ3VsYXIjZm9yRWFjaCgpYCBzaW5jZSBpdCdzIG1vcmUgcGVyZm9ybWFudFxuICAgIC8vICBhbmQgd29ya2luZyBpbiBhbGwgc3VwcG9ydGVkIGJyb3dzZXJzLilcbiAgICBmdW5jdGlvbiBnZXRGaXJzdEFuY2hvcihsaXN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwobGlzdCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICBpZiAobm9kZU5hbWVfKGVsZW1lbnQpID09PSAnYScpIHtcbiAgICAgICAgICByZXN1bHQgPSBlbGVtZW50O1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0WU9mZnNldCgpIHtcblxuICAgICAgdmFyIG9mZnNldCA9IHNjcm9sbC55T2Zmc2V0O1xuXG4gICAgICBpZiAoaXNGdW5jdGlvbihvZmZzZXQpKSB7XG4gICAgICAgIG9mZnNldCA9IG9mZnNldCgpO1xuICAgICAgfSBlbHNlIGlmIChpc0VsZW1lbnQob2Zmc2V0KSkge1xuICAgICAgICB2YXIgZWxlbSA9IG9mZnNldFswXTtcbiAgICAgICAgdmFyIHN0eWxlID0gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW0pO1xuICAgICAgICBpZiAoc3R5bGUucG9zaXRpb24gIT09ICdmaXhlZCcpIHtcbiAgICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9mZnNldCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFpc051bWJlcihvZmZzZXQpKSB7XG4gICAgICAgIG9mZnNldCA9IDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsVG8oZWxlbSkge1xuICAgICAgaWYgKGVsZW0pIHtcbiAgICAgICAgZWxlbS5zY3JvbGxJbnRvVmlldygpO1xuXG4gICAgICAgIHZhciBvZmZzZXQgPSBnZXRZT2Zmc2V0KCk7XG5cbiAgICAgICAgaWYgKG9mZnNldCkge1xuICAgICAgICAgIC8vIGBvZmZzZXRgIGlzIHRoZSBudW1iZXIgb2YgcGl4ZWxzIHdlIHNob3VsZCBzY3JvbGwgVVAgaW4gb3JkZXIgdG8gYWxpZ24gYGVsZW1gIHByb3Blcmx5LlxuICAgICAgICAgIC8vIFRoaXMgaXMgdHJ1ZSBPTkxZIGlmIHRoZSBjYWxsIHRvIGBlbGVtLnNjcm9sbEludG9WaWV3KClgIGluaXRpYWxseSBhbGlnbnMgYGVsZW1gIGF0IHRoZVxuICAgICAgICAgIC8vIHRvcCBvZiB0aGUgdmlld3BvcnQuXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBJRiB0aGUgbnVtYmVyIG9mIHBpeGVscyBmcm9tIHRoZSB0b3Agb2YgYGVsZW1gIHRvIHRoZSBlbmQgb2YgdGhlIHBhZ2UncyBjb250ZW50IGlzIGxlc3NcbiAgICAgICAgICAvLyB0aGFuIHRoZSBoZWlnaHQgb2YgdGhlIHZpZXdwb3J0LCB0aGVuIGBlbGVtLnNjcm9sbEludG9WaWV3KClgIHdpbGwgYWxpZ24gdGhlIGBlbGVtYCBzb21lXG4gICAgICAgICAgLy8gd2F5IGRvd24gdGhlIHBhZ2UuXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBUaGlzIGlzIG9mdGVuIHRoZSBjYXNlIGZvciBlbGVtZW50cyBuZWFyIHRoZSBib3R0b20gb2YgdGhlIHBhZ2UuXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBJbiBzdWNoIGNhc2VzIHdlIGRvIG5vdCBuZWVkIHRvIHNjcm9sbCB0aGUgd2hvbGUgYG9mZnNldGAgdXAsIGp1c3QgdGhlIGRpZmZlcmVuY2UgYmV0d2VlblxuICAgICAgICAgIC8vIHRoZSB0b3Agb2YgdGhlIGVsZW1lbnQgYW5kIHRoZSBvZmZzZXQsIHdoaWNoIGlzIGVub3VnaCB0byBhbGlnbiB0aGUgdG9wIG9mIGBlbGVtYCBhdCB0aGVcbiAgICAgICAgICAvLyBkZXNpcmVkIHBvc2l0aW9uLlxuICAgICAgICAgIHZhciBlbGVtVG9wID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICAgICAgJHdpbmRvdy5zY3JvbGxCeSgwLCBlbGVtVG9wIC0gb2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY3JvbGwoaGFzaCkge1xuICAgICAgLy8gQWxsb3cgbnVtZXJpYyBoYXNoZXNcbiAgICAgIGhhc2ggPSBpc1N0cmluZyhoYXNoKSA/IGhhc2ggOiBpc051bWJlcihoYXNoKSA/IGhhc2gudG9TdHJpbmcoKSA6ICRsb2NhdGlvbi5oYXNoKCk7XG4gICAgICB2YXIgZWxtO1xuXG4gICAgICAvLyBlbXB0eSBoYXNoLCBzY3JvbGwgdG8gdGhlIHRvcCBvZiB0aGUgcGFnZVxuICAgICAgaWYgKCFoYXNoKSBzY3JvbGxUbyhudWxsKTtcblxuICAgICAgLy8gZWxlbWVudCB3aXRoIGdpdmVuIGlkXG4gICAgICBlbHNlIGlmICgoZWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaGFzaCkpKSBzY3JvbGxUbyhlbG0pO1xuXG4gICAgICAvLyBmaXJzdCBhbmNob3Igd2l0aCBnaXZlbiBuYW1lIDotRFxuICAgICAgZWxzZSBpZiAoKGVsbSA9IGdldEZpcnN0QW5jaG9yKGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGhhc2gpKSkpIHNjcm9sbFRvKGVsbSk7XG5cbiAgICAgIC8vIG5vIGVsZW1lbnQgYW5kIGhhc2ggPT09ICd0b3AnLCBzY3JvbGwgdG8gdGhlIHRvcCBvZiB0aGUgcGFnZVxuICAgICAgZWxzZSBpZiAoaGFzaCA9PT0gJ3RvcCcpIHNjcm9sbFRvKG51bGwpO1xuICAgIH1cblxuICAgIC8vIGRvZXMgbm90IHNjcm9sbCB3aGVuIHVzZXIgY2xpY2tzIG9uIGFuY2hvciBsaW5rIHRoYXQgaXMgY3VycmVudGx5IG9uXG4gICAgLy8gKG5vIHVybCBjaGFuZ2UsIG5vICRsb2NhdGlvbi5oYXNoKCkgY2hhbmdlKSwgYnJvd3NlciBuYXRpdmUgZG9lcyBzY3JvbGxcbiAgICBpZiAoYXV0b1Njcm9sbGluZ0VuYWJsZWQpIHtcbiAgICAgICRyb290U2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGF1dG9TY3JvbGxXYXRjaCgpIHtyZXR1cm4gJGxvY2F0aW9uLmhhc2goKTt9LFxuICAgICAgICBmdW5jdGlvbiBhdXRvU2Nyb2xsV2F0Y2hBY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcbiAgICAgICAgICAvLyBza2lwIHRoZSBpbml0aWFsIHNjcm9sbCBpZiAkbG9jYXRpb24uaGFzaCBpcyBlbXB0eVxuICAgICAgICAgIGlmIChuZXdWYWwgPT09IG9sZFZhbCAmJiBuZXdWYWwgPT09ICcnKSByZXR1cm47XG5cbiAgICAgICAgICBqcUxpdGVEb2N1bWVudExvYWRlZChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhzY3JvbGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2Nyb2xsO1xuICB9XTtcbn1cblxudmFyICRhbmltYXRlTWluRXJyID0gbWluRXJyKCckYW5pbWF0ZScpO1xudmFyIEVMRU1FTlRfTk9ERSA9IDE7XG52YXIgTkdfQU5JTUFURV9DTEFTU05BTUUgPSAnbmctYW5pbWF0ZSc7XG5cbmZ1bmN0aW9uIG1lcmdlQ2xhc3NlcyhhLGIpIHtcbiAgaWYgKCFhICYmICFiKSByZXR1cm4gJyc7XG4gIGlmICghYSkgcmV0dXJuIGI7XG4gIGlmICghYikgcmV0dXJuIGE7XG4gIGlmIChpc0FycmF5KGEpKSBhID0gYS5qb2luKCcgJyk7XG4gIGlmIChpc0FycmF5KGIpKSBiID0gYi5qb2luKCcgJyk7XG4gIHJldHVybiBhICsgJyAnICsgYjtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdEVsZW1lbnROb2RlKGVsZW1lbnQpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVsbSA9IGVsZW1lbnRbaV07XG4gICAgaWYgKGVsbS5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICByZXR1cm4gZWxtO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzcGxpdENsYXNzZXMoY2xhc3Nlcykge1xuICBpZiAoaXNTdHJpbmcoY2xhc3NlcykpIHtcbiAgICBjbGFzc2VzID0gY2xhc3Nlcy5zcGxpdCgnICcpO1xuICB9XG5cbiAgLy8gVXNlIGNyZWF0ZU1hcCgpIHRvIHByZXZlbnQgY2xhc3MgYXNzdW1wdGlvbnMgaW52b2x2aW5nIHByb3BlcnR5IG5hbWVzIGluXG4gIC8vIE9iamVjdC5wcm90b3R5cGVcbiAgdmFyIG9iaiA9IGNyZWF0ZU1hcCgpO1xuICBmb3JFYWNoKGNsYXNzZXMsIGZ1bmN0aW9uKGtsYXNzKSB7XG4gICAgLy8gc29tZXRpbWVzIHRoZSBzcGxpdCBsZWF2ZXMgZW1wdHkgc3RyaW5nIHZhbHVlc1xuICAgIC8vIGluY2FzZSBleHRyYSBzcGFjZXMgd2VyZSBhcHBsaWVkIHRvIHRoZSBvcHRpb25zXG4gICAgaWYgKGtsYXNzLmxlbmd0aCkge1xuICAgICAgb2JqW2tsYXNzXSA9IHRydWU7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG9iajtcbn1cblxuLy8gaWYgYW55IG90aGVyIHR5cGUgb2Ygb3B0aW9ucyB2YWx1ZSBiZXNpZGVzIGFuIE9iamVjdCB2YWx1ZSBpc1xuLy8gcGFzc2VkIGludG8gdGhlICRhbmltYXRlLm1ldGhvZCgpIGFuaW1hdGlvbiB0aGVuIHRoaXMgaGVscGVyIGNvZGVcbi8vIHdpbGwgYmUgcnVuIHdoaWNoIHdpbGwgaWdub3JlIGl0LiBXaGlsZSB0aGlzIHBhdGNoIGlzIG5vdCB0aGVcbi8vIGdyZWF0ZXN0IHNvbHV0aW9uIHRvIHRoaXMsIGEgbG90IG9mIGV4aXN0aW5nIHBsdWdpbnMgZGVwZW5kIG9uXG4vLyAkYW5pbWF0ZSB0byBlaXRoZXIgY2FsbCB0aGUgY2FsbGJhY2sgKDwgMS4yKSBvciByZXR1cm4gYSBwcm9taXNlXG4vLyB0aGF0IGNhbiBiZSBjaGFuZ2VkLiBUaGlzIGhlbHBlciBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgdGhlIG9wdGlvbnNcbi8vIGFyZSB3aXBlZCBjbGVhbiBpbmNhc2UgYSBjYWxsYmFjayBmdW5jdGlvbiBpcyBwcm92aWRlZC5cbmZ1bmN0aW9uIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSB7XG4gIHJldHVybiBpc09iamVjdChvcHRpb25zKVxuICAgICAgPyBvcHRpb25zXG4gICAgICA6IHt9O1xufVxuXG52YXIgJCRDb3JlQW5pbWF0ZUpzUHJvdmlkZXIgPSAvKiogQHRoaXMgKi8gZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IG5vb3A7XG59O1xuXG4vLyB0aGlzIGlzIHByZWZpeGVkIHdpdGggQ29yZSBzaW5jZSBpdCBjb25mbGljdHMgd2l0aFxuLy8gdGhlIGFuaW1hdGVRdWV1ZVByb3ZpZGVyIGRlZmluZWQgaW4gbmdBbmltYXRlL2FuaW1hdGVRdWV1ZS5qc1xudmFyICQkQ29yZUFuaW1hdGVRdWV1ZVByb3ZpZGVyID0gLyoqIEB0aGlzICovIGZ1bmN0aW9uKCkge1xuICB2YXIgcG9zdERpZ2VzdFF1ZXVlID0gbmV3IE5nTWFwKCk7XG4gIHZhciBwb3N0RGlnZXN0RWxlbWVudHMgPSBbXTtcblxuICB0aGlzLiRnZXQgPSBbJyQkQW5pbWF0ZVJ1bm5lcicsICckcm9vdFNjb3BlJyxcbiAgICAgICBmdW5jdGlvbigkJEFuaW1hdGVSdW5uZXIsICAgJHJvb3RTY29wZSkge1xuICAgIHJldHVybiB7XG4gICAgICBlbmFibGVkOiBub29wLFxuICAgICAgb246IG5vb3AsXG4gICAgICBvZmY6IG5vb3AsXG4gICAgICBwaW46IG5vb3AsXG5cbiAgICAgIHB1c2g6IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50LCBvcHRpb25zLCBkb21PcGVyYXRpb24pIHtcbiAgICAgICAgaWYgKGRvbU9wZXJhdGlvbikge1xuICAgICAgICAgIGRvbU9wZXJhdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIGlmIChvcHRpb25zLmZyb20pIHtcbiAgICAgICAgICBlbGVtZW50LmNzcyhvcHRpb25zLmZyb20pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnRvKSB7XG4gICAgICAgICAgZWxlbWVudC5jc3Mob3B0aW9ucy50byk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5hZGRDbGFzcyB8fCBvcHRpb25zLnJlbW92ZUNsYXNzKSB7XG4gICAgICAgICAgYWRkUmVtb3ZlQ2xhc3Nlc1Bvc3REaWdlc3QoZWxlbWVudCwgb3B0aW9ucy5hZGRDbGFzcywgb3B0aW9ucy5yZW1vdmVDbGFzcyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcnVubmVyID0gbmV3ICQkQW5pbWF0ZVJ1bm5lcigpO1xuXG4gICAgICAgIC8vIHNpbmNlIHRoZXJlIGFyZSBubyBhbmltYXRpb25zIHRvIHJ1biB0aGUgcnVubmVyIG5lZWRzIHRvIGJlXG4gICAgICAgIC8vIG5vdGlmaWVkIHRoYXQgdGhlIGFuaW1hdGlvbiBjYWxsIGlzIGNvbXBsZXRlLlxuICAgICAgICBydW5uZXIuY29tcGxldGUoKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICAgIH1cbiAgICB9O1xuXG5cbiAgICBmdW5jdGlvbiB1cGRhdGVEYXRhKGRhdGEsIGNsYXNzZXMsIHZhbHVlKSB7XG4gICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgaWYgKGNsYXNzZXMpIHtcbiAgICAgICAgY2xhc3NlcyA9IGlzU3RyaW5nKGNsYXNzZXMpID8gY2xhc3Nlcy5zcGxpdCgnICcpIDpcbiAgICAgICAgICAgICAgICAgIGlzQXJyYXkoY2xhc3NlcykgPyBjbGFzc2VzIDogW107XG4gICAgICAgIGZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICAgICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICBkYXRhW2NsYXNzTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ1NTQ2xhc3NDaGFuZ2VzKCkge1xuICAgICAgZm9yRWFjaChwb3N0RGlnZXN0RWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBwb3N0RGlnZXN0UXVldWUuZ2V0KGVsZW1lbnQpO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgIHZhciBleGlzdGluZyA9IHNwbGl0Q2xhc3NlcyhlbGVtZW50LmF0dHIoJ2NsYXNzJykpO1xuICAgICAgICAgIHZhciB0b0FkZCA9ICcnO1xuICAgICAgICAgIHZhciB0b1JlbW92ZSA9ICcnO1xuICAgICAgICAgIGZvckVhY2goZGF0YSwgZnVuY3Rpb24oc3RhdHVzLCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHZhciBoYXNDbGFzcyA9ICEhZXhpc3RpbmdbY2xhc3NOYW1lXTtcbiAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IGhhc0NsYXNzKSB7XG4gICAgICAgICAgICAgIGlmIChzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB0b0FkZCArPSAodG9BZGQubGVuZ3RoID8gJyAnIDogJycpICsgY2xhc3NOYW1lO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvUmVtb3ZlICs9ICh0b1JlbW92ZS5sZW5ndGggPyAnICcgOiAnJykgKyBjbGFzc05hbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24oZWxtKSB7XG4gICAgICAgICAgICBpZiAodG9BZGQpIHtcbiAgICAgICAgICAgICAganFMaXRlQWRkQ2xhc3MoZWxtLCB0b0FkZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9SZW1vdmUpIHtcbiAgICAgICAgICAgICAganFMaXRlUmVtb3ZlQ2xhc3MoZWxtLCB0b1JlbW92ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLmRlbGV0ZShlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBwb3N0RGlnZXN0RWxlbWVudHMubGVuZ3RoID0gMDtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGFkZFJlbW92ZUNsYXNzZXNQb3N0RGlnZXN0KGVsZW1lbnQsIGFkZCwgcmVtb3ZlKSB7XG4gICAgICB2YXIgZGF0YSA9IHBvc3REaWdlc3RRdWV1ZS5nZXQoZWxlbWVudCkgfHwge307XG5cbiAgICAgIHZhciBjbGFzc2VzQWRkZWQgPSB1cGRhdGVEYXRhKGRhdGEsIGFkZCwgdHJ1ZSk7XG4gICAgICB2YXIgY2xhc3Nlc1JlbW92ZWQgPSB1cGRhdGVEYXRhKGRhdGEsIHJlbW92ZSwgZmFsc2UpO1xuXG4gICAgICBpZiAoY2xhc3Nlc0FkZGVkIHx8IGNsYXNzZXNSZW1vdmVkKSB7XG5cbiAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLnNldChlbGVtZW50LCBkYXRhKTtcbiAgICAgICAgcG9zdERpZ2VzdEVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG5cbiAgICAgICAgaWYgKHBvc3REaWdlc3RFbGVtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLiQkcG9zdERpZ2VzdChoYW5kbGVDU1NDbGFzc0NoYW5nZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XTtcbn07XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkYW5pbWF0ZVByb3ZpZGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mICRhbmltYXRlIHRoYXQgZG9lc24ndCBwZXJmb3JtIGFueSBhbmltYXRpb25zLCBpbnN0ZWFkIGp1c3RcbiAqIHN5bmNocm9ub3VzbHkgcGVyZm9ybXMgRE9NIHVwZGF0ZXMgYW5kIHJlc29sdmVzIHRoZSByZXR1cm5lZCBydW5uZXIgcHJvbWlzZS5cbiAqXG4gKiBJbiBvcmRlciB0byBlbmFibGUgYW5pbWF0aW9ucyB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIGhhcyB0byBiZSBsb2FkZWQuXG4gKlxuICogVG8gc2VlIHRoZSBmdW5jdGlvbmFsIGltcGxlbWVudGF0aW9uIGNoZWNrIG91dCBgc3JjL25nQW5pbWF0ZS9hbmltYXRlLmpzYC5cbiAqL1xudmFyICRBbmltYXRlUHJvdmlkZXIgPSBbJyRwcm92aWRlJywgLyoqIEB0aGlzICovIGZ1bmN0aW9uKCRwcm92aWRlKSB7XG4gIHZhciBwcm92aWRlciA9IHRoaXM7XG4gIHZhciBjbGFzc05hbWVGaWx0ZXIgPSBudWxsO1xuICB2YXIgY3VzdG9tRmlsdGVyID0gbnVsbDtcblxuICB0aGlzLiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkYW5pbWF0ZVByb3ZpZGVyI3JlZ2lzdGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlcnMgYSBuZXcgaW5qZWN0YWJsZSBhbmltYXRpb24gZmFjdG9yeSBmdW5jdGlvbi4gVGhlIGZhY3RvcnkgZnVuY3Rpb24gcHJvZHVjZXMgdGhlXG4gICAqIGFuaW1hdGlvbiBvYmplY3Qgd2hpY2ggY29udGFpbnMgY2FsbGJhY2sgZnVuY3Rpb25zIGZvciBlYWNoIGV2ZW50IHRoYXQgaXMgZXhwZWN0ZWQgdG8gYmVcbiAgICogYW5pbWF0ZWQuXG4gICAqXG4gICAqICAgKiBgZXZlbnRGbmA6IGBmdW5jdGlvbihlbGVtZW50LCAuLi4gLCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpYFxuICAgKiAgIFRoZSBlbGVtZW50IHRvIGFuaW1hdGUsIHRoZSBgZG9uZUZ1bmN0aW9uYCBhbmQgdGhlIG9wdGlvbnMgZmVkIGludG8gdGhlIGFuaW1hdGlvbi4gRGVwZW5kaW5nXG4gICAqICAgb24gdGhlIHR5cGUgb2YgYW5pbWF0aW9uIGFkZGl0aW9uYWwgYXJndW1lbnRzIHdpbGwgYmUgaW5qZWN0ZWQgaW50byB0aGUgYW5pbWF0aW9uIGZ1bmN0aW9uLiBUaGVcbiAgICogICBsaXN0IGJlbG93IGV4cGxhaW5zIHRoZSBmdW5jdGlvbiBzaWduYXR1cmVzIGZvciB0aGUgZGlmZmVyZW50IGFuaW1hdGlvbiBtZXRob2RzOlxuICAgKlxuICAgKiAgIC0gc2V0Q2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGFkZGVkQ2xhc3NlcywgcmVtb3ZlZENsYXNzZXMsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylcbiAgICogICAtIGFkZENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGRlZENsYXNzZXMsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylcbiAgICogICAtIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCByZW1vdmVkQ2xhc3NlcywgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKVxuICAgKiAgIC0gZW50ZXIsIGxlYXZlLCBtb3ZlOiBmdW5jdGlvbihlbGVtZW50LCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpXG4gICAqICAgLSBhbmltYXRlOiBmdW5jdGlvbihlbGVtZW50LCBmcm9tU3R5bGVzLCB0b1N0eWxlcywgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKVxuICAgKlxuICAgKiAgIE1ha2Ugc3VyZSB0byB0cmlnZ2VyIHRoZSBgZG9uZUZ1bmN0aW9uYCBvbmNlIHRoZSBhbmltYXRpb24gaXMgZnVsbHkgY29tcGxldGUuXG4gICAqXG4gICAqIGBgYGpzXG4gICAqICAgcmV0dXJuIHtcbiAgICogICAgIC8vZW50ZXIsIGxlYXZlLCBtb3ZlIHNpZ25hdHVyZVxuICAgKiAgICAgZXZlbnRGbiA6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmUsIG9wdGlvbnMpIHtcbiAgICogICAgICAgLy9jb2RlIHRvIHJ1biB0aGUgYW5pbWF0aW9uXG4gICAqICAgICAgIC8vb25jZSBjb21wbGV0ZSwgdGhlbiBydW4gZG9uZSgpXG4gICAqICAgICAgIHJldHVybiBmdW5jdGlvbiBlbmRGdW5jdGlvbih3YXNDYW5jZWxsZWQpIHtcbiAgICogICAgICAgICAvL2NvZGUgdG8gY2FuY2VsIHRoZSBhbmltYXRpb25cbiAgICogICAgICAgfVxuICAgKiAgICAgfVxuICAgKiAgIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBhbmltYXRpb24gKHRoaXMgaXMgd2hhdCB0aGUgY2xhc3MtYmFzZWQgQ1NTIHZhbHVlIHdpbGwgYmUgY29tcGFyZWQgdG8pLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmYWN0b3J5IFRoZSBmYWN0b3J5IGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCB0byByZXR1cm4gdGhlIGFuaW1hdGlvblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5cbiAgICovXG4gIHRoaXMucmVnaXN0ZXIgPSBmdW5jdGlvbihuYW1lLCBmYWN0b3J5KSB7XG4gICAgaWYgKG5hbWUgJiYgbmFtZS5jaGFyQXQoMCkgIT09ICcuJykge1xuICAgICAgdGhyb3cgJGFuaW1hdGVNaW5FcnIoJ25vdGNzZWwnLCAnRXhwZWN0aW5nIGNsYXNzIHNlbGVjdG9yIHN0YXJ0aW5nIHdpdGggXFwnLlxcJyBnb3QgXFwnezB9XFwnLicsIG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBrZXkgPSBuYW1lICsgJy1hbmltYXRpb24nO1xuICAgIHByb3ZpZGVyLiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnNbbmFtZS5zdWJzdHIoMSldID0ga2V5O1xuICAgICRwcm92aWRlLmZhY3Rvcnkoa2V5LCBmYWN0b3J5KTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkYW5pbWF0ZVByb3ZpZGVyI2N1c3RvbUZpbHRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBhbmQvb3IgcmV0dXJucyB0aGUgY3VzdG9tIGZpbHRlciBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gXCJmaWx0ZXJcIiBhbmltYXRpb25zLCBpLmUuXG4gICAqIGRldGVybWluZSBpZiBhbiBhbmltYXRpb24gaXMgYWxsb3dlZCBvciBub3QuIFdoZW4gbm8gZmlsdGVyIGlzIHNwZWNpZmllZCAodGhlIGRlZmF1bHQpLCBub1xuICAgKiBhbmltYXRpb24gd2lsbCBiZSBibG9ja2VkLiBTZXR0aW5nIHRoZSBgY3VzdG9tRmlsdGVyYCB2YWx1ZSB3aWxsIG9ubHkgYWxsb3cgYW5pbWF0aW9ucyBmb3JcbiAgICogd2hpY2ggdGhlIGZpbHRlciBmdW5jdGlvbidzIHJldHVybiB2YWx1ZSBpcyB0cnV0aHkuXG4gICAqXG4gICAqIFRoaXMgYWxsb3dzIHRvIGVhc2lseSBjcmVhdGUgYXJiaXRyYXJpbHkgY29tcGxleCBydWxlcyBmb3IgZmlsdGVyaW5nIGFuaW1hdGlvbnMsIHN1Y2ggYXNcbiAgICogYWxsb3dpbmcgc3BlY2lmaWMgZXZlbnRzIG9ubHksIG9yIGVuYWJsaW5nIGFuaW1hdGlvbnMgb24gc3BlY2lmaWMgc3VidHJlZXMgb2YgdGhlIERPTSwgZXRjLlxuICAgKiBGaWx0ZXJpbmcgYW5pbWF0aW9ucyBjYW4gYWxzbyBib29zdCBwZXJmb3JtYW5jZSBmb3IgbG93LXBvd2VyZWQgZGV2aWNlcywgYXMgd2VsbCBhc1xuICAgKiBhcHBsaWNhdGlvbnMgY29udGFpbmluZyBhIGxvdCBvZiBzdHJ1Y3R1cmFsIG9wZXJhdGlvbnMuXG4gICAqXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1zdWNjZXNzXCI+XG4gICAqICAgKipCZXN0IFByYWN0aWNlOioqXG4gICAqICAgS2VlcCB0aGUgZmlsdGVyaW5nIGZ1bmN0aW9uIGFzIGxlYW4gYXMgcG9zc2libGUsIGJlY2F1c2UgaXQgd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggRE9NXG4gICAqICAgYWN0aW9uIChlLmcuIGluc2VydGlvbiwgcmVtb3ZhbCwgY2xhc3MgY2hhbmdlKSBwZXJmb3JtZWQgYnkgXCJhbmltYXRpb24tYXdhcmVcIiBkaXJlY3RpdmVzLlxuICAgKiAgIFNlZSB7QGxpbmsgZ3VpZGUvYW5pbWF0aW9ucyN3aGljaC1kaXJlY3RpdmVzLXN1cHBvcnQtYW5pbWF0aW9ucy0gaGVyZX0gZm9yIGEgbGlzdCBvZiBidWlsdC1pblxuICAgKiAgIGRpcmVjdGl2ZXMgdGhhdCBzdXBwb3J0IGFuaW1hdGlvbnMuXG4gICAqICAgUGVyZm9ybWluZyBjb21wdXRhdGlvbmFsbHkgZXhwZW5zaXZlIG9yIHRpbWUtY29uc3VtaW5nIG9wZXJhdGlvbnMgb24gZWFjaCBjYWxsIG9mIHRoZVxuICAgKiAgIGZpbHRlcmluZyBmdW5jdGlvbiBjYW4gbWFrZSB5b3VyIGFuaW1hdGlvbnMgc2x1Z2dpc2guXG4gICAqIDwvZGl2PlxuICAgKlxuICAgKiAqKk5vdGU6KiogSWYgcHJlc2VudCwgYGN1c3RvbUZpbHRlcmAgd2lsbCBiZSBjaGVja2VkIGJlZm9yZVxuICAgKiB7QGxpbmsgJGFuaW1hdGVQcm92aWRlciNjbGFzc05hbWVGaWx0ZXIgY2xhc3NOYW1lRmlsdGVyfS5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IGZpbHRlckZuIC0gVGhlIGZpbHRlciBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIHVzZWQgdG8gZmlsdGVyIGFsbCBhbmltYXRpb25zLlxuICAgKiAgIElmIGEgZmFsc3kgdmFsdWUgaXMgcmV0dXJuZWQsIG5vIGFuaW1hdGlvbiB3aWxsIGJlIHBlcmZvcm1lZC4gVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkXG4gICAqICAgd2l0aCB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czpcbiAgICogICAtICoqbm9kZSoqIGB7RE9NRWxlbWVudH1gIC0gVGhlIERPTSBlbGVtZW50IHRvIGJlIGFuaW1hdGVkLlxuICAgKiAgIC0gKipldmVudCoqIGB7U3RyaW5nfWAgLSBUaGUgbmFtZSBvZiB0aGUgYW5pbWF0aW9uIGV2ZW50IChlLmcuIGBlbnRlcmAsIGBsZWF2ZWAsIGBhZGRDbGFzc2BcbiAgICogICAgIGV0YykuXG4gICAqICAgLSAqKm9wdGlvbnMqKiBge09iamVjdH1gIC0gQSBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHVzZWQgZm9yIHRoZSBhbmltYXRpb24uXG4gICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgY3VycmVudCBmaWx0ZXIgZnVuY3Rpb24gb3IgYG51bGxgIGlmIHRoZXJlIGlzIG5vbmUgc2V0LlxuICAgKi9cbiAgdGhpcy5jdXN0b21GaWx0ZXIgPSBmdW5jdGlvbihmaWx0ZXJGbikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICBjdXN0b21GaWx0ZXIgPSBpc0Z1bmN0aW9uKGZpbHRlckZuKSA/IGZpbHRlckZuIDogbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VzdG9tRmlsdGVyO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRhbmltYXRlUHJvdmlkZXIjY2xhc3NOYW1lRmlsdGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIGFuZC9vciByZXR1cm5zIHRoZSBDU1MgY2xhc3MgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgY2hlY2tlZCB3aGVuIHBlcmZvcm1pbmdcbiAgICogYW4gYW5pbWF0aW9uLiBVcG9uIGJvb3RzdHJhcCB0aGUgY2xhc3NOYW1lRmlsdGVyIHZhbHVlIGlzIG5vdCBzZXQgYXQgYWxsIGFuZCB3aWxsXG4gICAqIHRoZXJlZm9yZSBlbmFibGUgJGFuaW1hdGUgdG8gYXR0ZW1wdCB0byBwZXJmb3JtIGFuIGFuaW1hdGlvbiBvbiBhbnkgZWxlbWVudCB0aGF0IGlzIHRyaWdnZXJlZC5cbiAgICogV2hlbiBzZXR0aW5nIHRoZSBgY2xhc3NOYW1lRmlsdGVyYCB2YWx1ZSwgYW5pbWF0aW9ucyB3aWxsIG9ubHkgYmUgcGVyZm9ybWVkIG9uIGVsZW1lbnRzXG4gICAqIHRoYXQgc3VjY2Vzc2Z1bGx5IG1hdGNoIHRoZSBmaWx0ZXIgZXhwcmVzc2lvbi4gVGhpcyBpbiB0dXJuIGNhbiBib29zdCBwZXJmb3JtYW5jZVxuICAgKiBmb3IgbG93LXBvd2VyZWQgZGV2aWNlcyBhcyB3ZWxsIGFzIGFwcGxpY2F0aW9ucyBjb250YWluaW5nIGEgbG90IG9mIHN0cnVjdHVyYWwgb3BlcmF0aW9ucy5cbiAgICpcbiAgICogKipOb3RlOioqIElmIHByZXNlbnQsIGBjbGFzc05hbWVGaWx0ZXJgIHdpbGwgYmUgY2hlY2tlZCBhZnRlclxuICAgKiB7QGxpbmsgJGFuaW1hdGVQcm92aWRlciNjdXN0b21GaWx0ZXIgY3VzdG9tRmlsdGVyfS4gSWYgYGN1c3RvbUZpbHRlcmAgaXMgcHJlc2VudCBhbmQgcmV0dXJuc1xuICAgKiBmYWxzZSwgYGNsYXNzTmFtZUZpbHRlcmAgd2lsbCBub3QgYmUgY2hlY2tlZC5cbiAgICpcbiAgICogQHBhcmFtIHtSZWdFeHA9fSBleHByZXNzaW9uIFRoZSBjbGFzc05hbWUgZXhwcmVzc2lvbiB3aGljaCB3aWxsIGJlIGNoZWNrZWQgYWdhaW5zdCBhbGwgYW5pbWF0aW9uc1xuICAgKiBAcmV0dXJuIHtSZWdFeHB9IFRoZSBjdXJyZW50IENTUyBjbGFzc05hbWUgZXhwcmVzc2lvbiB2YWx1ZS4gSWYgbnVsbCB0aGVuIHRoZXJlIGlzIG5vIGV4cHJlc3Npb24gdmFsdWVcbiAgICovXG4gIHRoaXMuY2xhc3NOYW1lRmlsdGVyID0gZnVuY3Rpb24oZXhwcmVzc2lvbikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICBjbGFzc05hbWVGaWx0ZXIgPSAoZXhwcmVzc2lvbiBpbnN0YW5jZW9mIFJlZ0V4cCkgPyBleHByZXNzaW9uIDogbnVsbDtcbiAgICAgIGlmIChjbGFzc05hbWVGaWx0ZXIpIHtcbiAgICAgICAgdmFyIHJlc2VydmVkUmVnZXggPSBuZXcgUmVnRXhwKCdbKFxcXFxzfFxcXFwvKV0nICsgTkdfQU5JTUFURV9DTEFTU05BTUUgKyAnWyhcXFxcc3xcXFxcLyldJyk7XG4gICAgICAgIGlmIChyZXNlcnZlZFJlZ2V4LnRlc3QoY2xhc3NOYW1lRmlsdGVyLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgY2xhc3NOYW1lRmlsdGVyID0gbnVsbDtcbiAgICAgICAgICB0aHJvdyAkYW5pbWF0ZU1pbkVycignbm9uZ2NscycsICckYW5pbWF0ZVByb3ZpZGVyLmNsYXNzTmFtZUZpbHRlcihyZWdleCkgcHJvaGliaXRzIGFjY2VwdGluZyBhIHJlZ2V4IHZhbHVlIHdoaWNoIG1hdGNoZXMvY29udGFpbnMgdGhlIFwiezB9XCIgQ1NTIGNsYXNzLicsIE5HX0FOSU1BVEVfQ0xBU1NOQU1FKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2xhc3NOYW1lRmlsdGVyO1xuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJCRhbmltYXRlUXVldWUnLCBmdW5jdGlvbigkJGFuaW1hdGVRdWV1ZSkge1xuICAgIGZ1bmN0aW9uIGRvbUluc2VydChlbGVtZW50LCBwYXJlbnRFbGVtZW50LCBhZnRlckVsZW1lbnQpIHtcbiAgICAgIC8vIGlmIGZvciBzb21lIHJlYXNvbiB0aGUgcHJldmlvdXMgZWxlbWVudCB3YXMgcmVtb3ZlZFxuICAgICAgLy8gZnJvbSB0aGUgZG9tIHNvbWV0aW1lIGJlZm9yZSB0aGlzIGNvZGUgcnVucyB0aGVuIGxldCdzXG4gICAgICAvLyBqdXN0IHN0aWNrIHRvIHVzaW5nIHRoZSBwYXJlbnQgZWxlbWVudCBhcyB0aGUgYW5jaG9yXG4gICAgICBpZiAoYWZ0ZXJFbGVtZW50KSB7XG4gICAgICAgIHZhciBhZnRlck5vZGUgPSBleHRyYWN0RWxlbWVudE5vZGUoYWZ0ZXJFbGVtZW50KTtcbiAgICAgICAgaWYgKGFmdGVyTm9kZSAmJiAhYWZ0ZXJOb2RlLnBhcmVudE5vZGUgJiYgIWFmdGVyTm9kZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgICAgICAgYWZ0ZXJFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGFmdGVyRWxlbWVudCkge1xuICAgICAgICBhZnRlckVsZW1lbnQuYWZ0ZXIoZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnRFbGVtZW50LnByZXBlbmQoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSAkYW5pbWF0ZVxuICAgICAqIEBkZXNjcmlwdGlvbiBUaGUgJGFuaW1hdGUgc2VydmljZSBleHBvc2VzIGEgc2VyaWVzIG9mIERPTSB1dGlsaXR5IG1ldGhvZHMgdGhhdCBwcm92aWRlIHN1cHBvcnRcbiAgICAgKiBmb3IgYW5pbWF0aW9uIGhvb2tzLiBUaGUgZGVmYXVsdCBiZWhhdmlvciBpcyB0aGUgYXBwbGljYXRpb24gb2YgRE9NIG9wZXJhdGlvbnMsIGhvd2V2ZXIsXG4gICAgICogd2hlbiBhbiBhbmltYXRpb24gaXMgZGV0ZWN0ZWQgKGFuZCBhbmltYXRpb25zIGFyZSBlbmFibGVkKSwgJGFuaW1hdGUgd2lsbCBkbyB0aGUgaGVhdnkgbGlmdGluZ1xuICAgICAqIHRvIGVuc3VyZSB0aGF0IGFuaW1hdGlvbiBydW5zIHdpdGggdGhlIHRyaWdnZXJlZCBET00gb3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCAkYW5pbWF0ZSBkb2Vzbid0IHRyaWdnZXIgYW55IGFuaW1hdGlvbnMuIFRoaXMgaXMgYmVjYXVzZSB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIGlzbid0XG4gICAgICogaW5jbHVkZWQgYW5kIG9ubHkgd2hlbiBpdCBpcyBhY3RpdmUgdGhlbiB0aGUgYW5pbWF0aW9uIGhvb2tzIHRoYXQgYCRhbmltYXRlYCB0cmlnZ2VycyB3aWxsIGJlXG4gICAgICogZnVuY3Rpb25hbC4gT25jZSBhY3RpdmUgdGhlbiBhbGwgc3RydWN0dXJhbCBgbmctYCBkaXJlY3RpdmVzIHdpbGwgdHJpZ2dlciBhbmltYXRpb25zIGFzIHRoZXkgcGVyZm9ybVxuICAgICAqIHRoZWlyIERPTS1yZWxhdGVkIG9wZXJhdGlvbnMgKGVudGVyLCBsZWF2ZSBhbmQgbW92ZSkuIE90aGVyIGRpcmVjdGl2ZXMgc3VjaCBhcyBgbmdDbGFzc2AsXG4gICAgICogYG5nU2hvd2AsIGBuZ0hpZGVgIGFuZCBgbmdNZXNzYWdlc2AgYWxzbyBwcm92aWRlIHN1cHBvcnQgZm9yIGFuaW1hdGlvbnMuXG4gICAgICpcbiAgICAgKiBJdCBpcyByZWNvbW1lbmRlZCB0aGF0IHRoZWAkYW5pbWF0ZWAgc2VydmljZSBpcyBhbHdheXMgdXNlZCB3aGVuIGV4ZWN1dGluZyBET00tcmVsYXRlZCBwcm9jZWR1cmVzIHdpdGhpbiBkaXJlY3RpdmVzLlxuICAgICAqXG4gICAgICogVG8gbGVhcm4gbW9yZSBhYm91dCBlbmFibGluZyBhbmltYXRpb24gc3VwcG9ydCwgY2xpY2sgaGVyZSB0byB2aXNpdCB0aGVcbiAgICAgKiB7QGxpbmsgbmdBbmltYXRlIG5nQW5pbWF0ZSBtb2R1bGUgcGFnZX0uXG4gICAgICovXG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIHdlIGRvbid0IGNhbGwgaXQgZGlyZWN0bHkgc2luY2Ugbm9uLWV4aXN0YW50IGFyZ3VtZW50cyBtYXlcbiAgICAgIC8vIGJlIGludGVycHJldGVkIGFzIG51bGwgd2l0aGluIHRoZSBzdWIgZW5hYmxlZCBmdW5jdGlvblxuXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNvblxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIHVwIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGZpcmUgd2hlbmV2ZXIgdGhlIGFuaW1hdGlvbiBldmVudCAoZW50ZXIsIGxlYXZlLCBtb3ZlLCBldGMuLi4pXG4gICAgICAgKiAgICBoYXMgZmlyZWQgb24gdGhlIGdpdmVuIGVsZW1lbnQgb3IgYW1vbmcgYW55IG9mIGl0cyBjaGlsZHJlbi4gT25jZSB0aGUgbGlzdGVuZXIgaXMgZmlyZWQsIHRoZSBwcm92aWRlZCBjYWxsYmFja1xuICAgICAgICogICAgaXMgZmlyZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtczpcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogJGFuaW1hdGUub24oJ2VudGVyJywgY29udGFpbmVyLFxuICAgICAgICogICAgZnVuY3Rpb24gY2FsbGJhY2soZWxlbWVudCwgcGhhc2UpIHtcbiAgICAgICAqICAgICAgLy8gY29vbCB3ZSBkZXRlY3RlZCBhbiBlbnRlciBhbmltYXRpb24gd2l0aGluIHRoZSBjb250YWluZXJcbiAgICAgICAqICAgIH1cbiAgICAgICAqICk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgICAgICogKipOb3RlKio6IEdlbmVyYWxseSwgdGhlIGV2ZW50cyB0aGF0IGFyZSBmaXJlZCBjb3JyZXNwb25kIDE6MSB0byBgJGFuaW1hdGVgIG1ldGhvZCBuYW1lcyxcbiAgICAgICAqIGUuZy4ge0BsaW5rIG5nLiRhbmltYXRlI2FkZENsYXNzIGFkZENsYXNzKCl9IHdpbGwgZmlyZSBgYWRkQ2xhc3NgLCBhbmQge0BsaW5rIG5nLm5nQ2xhc3N9XG4gICAgICAgKiB3aWxsIGZpcmUgYGFkZENsYXNzYCBpZiBjbGFzc2VzIGFyZSBhZGRlZCwgYW5kIGByZW1vdmVDbGFzc2AgaWYgY2xhc3NlcyBhcmUgcmVtb3ZlZC5cbiAgICAgICAqIEhvd2V2ZXIsIHRoZXJlIGFyZSB0d28gZXhjZXB0aW9uczpcbiAgICAgICAqXG4gICAgICAgKiA8dWw+XG4gICAgICAgKiAgIDxsaT5pZiBib3RoIGFuIHtAbGluayBuZy4kYW5pbWF0ZSNhZGRDbGFzcyBhZGRDbGFzcygpfSBhbmQgYVxuICAgICAgICogICB7QGxpbmsgbmcuJGFuaW1hdGUjcmVtb3ZlQ2xhc3MgcmVtb3ZlQ2xhc3MoKX0gYWN0aW9uIGFyZSBwZXJmb3JtZWQgZHVyaW5nIHRoZSBzYW1lXG4gICAgICAgKiAgIGFuaW1hdGlvbiwgdGhlIGV2ZW50IGZpcmVkIHdpbGwgYmUgYHNldENsYXNzYC4gVGhpcyBpcyB0cnVlIGV2ZW4gZm9yIGBuZ0NsYXNzYC48L2xpPlxuICAgICAgICogICA8bGk+YW4ge0BsaW5rIG5nLiRhbmltYXRlI2FuaW1hdGUgYW5pbWF0ZSgpfSBjYWxsIHRoYXQgYWRkcyBhbmQgcmVtb3ZlcyBjbGFzc2VzIHdpbGwgZmlyZVxuICAgICAgICogICB0aGUgYHNldENsYXNzYCBldmVudCwgYnV0IGlmIGl0IGVpdGhlciByZW1vdmVzIG9yIGFkZHMgY2xhc3NlcyxcbiAgICAgICAqICAgaXQgd2lsbCBmaXJlIGBhbmltYXRlYCBpbnN0ZWFkLjwvbGk+XG4gICAgICAgKiA8L3VsPlxuICAgICAgICpcbiAgICAgICAqIDwvZGl2PlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCB0aGUgYW5pbWF0aW9uIGV2ZW50IHRoYXQgd2lsbCBiZSBjYXB0dXJlZCAoZS5nLiBlbnRlciwgbGVhdmUsIG1vdmUsIGFkZENsYXNzLCByZW1vdmVDbGFzcywgZXRjLi4uKVxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBjb250YWluZXIgdGhlIGNvbnRhaW5lciBlbGVtZW50IHRoYXQgd2lsbCBjYXB0dXJlIGVhY2ggb2YgdGhlIGFuaW1hdGlvbiBldmVudHMgdGhhdCBhcmUgZmlyZWQgb24gaXRzZWxmXG4gICAgICAgKiAgICAgYXMgd2VsbCBhcyBhbW9uZyBpdHMgY2hpbGRyZW5cbiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiB0aGUgbGlzdGVuZXIgaXMgdHJpZ2dlcmVkLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBhcmd1bWVudHMgcHJlc2VudCBpbiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gYXJlOlxuICAgICAgICogKiBgZWxlbWVudGAgLSBUaGUgY2FwdHVyZWQgRE9NIGVsZW1lbnQgdGhhdCB0aGUgYW5pbWF0aW9uIHdhcyBmaXJlZCBvbi5cbiAgICAgICAqICogYHBoYXNlYCAtIFRoZSBwaGFzZSBvZiB0aGUgYW5pbWF0aW9uLiBUaGUgdHdvIHBvc3NpYmxlIHBoYXNlcyBhcmUgKipzdGFydCoqICh3aGVuIHRoZSBhbmltYXRpb24gc3RhcnRzKSBhbmQgKipjbG9zZSoqICh3aGVuIGl0IGVuZHMpLlxuICAgICAgICogKiBgZGF0YWAgLSBhbiBvYmplY3Qgd2l0aCB0aGVzZSBwcm9wZXJ0aWVzOlxuICAgICAgICogICAgICogYWRkQ2xhc3MgLSBge3N0cmluZ3xudWxsfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gYWRkIHRvIHRoZSBlbGVtZW50XG4gICAgICAgKiAgICAgKiByZW1vdmVDbGFzcyAtIGB7c3RyaW5nfG51bGx9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byByZW1vdmUgZnJvbSB0aGUgZWxlbWVudFxuICAgICAgICogICAgICogZnJvbSAtIGB7T2JqZWN0fG51bGx9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFuaW1hdGlvblxuICAgICAgICogICAgICogdG8gLSBge09iamVjdHxudWxsfWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgZW5kIG9mIHRoZSBhbmltYXRpb25cbiAgICAgICAqXG4gICAgICAgKiBOb3RlIHRoYXQgdGhlIGNhbGxiYWNrIGRvZXMgbm90IHRyaWdnZXIgYSBzY29wZSBkaWdlc3QuIFdyYXAgeW91ciBjYWxsIGludG8gYVxuICAgICAgICoge0BsaW5rICRyb290U2NvcGUuU2NvcGUjJGFwcGx5IHNjb3BlLiRhcHBseX0gdG8gcHJvcGFnYXRlIGNoYW5nZXMgdG8gdGhlIHNjb3BlLlxuICAgICAgICovXG4gICAgICBvbjogJCRhbmltYXRlUXVldWUub24sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI29mZlxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqIEBkZXNjcmlwdGlvbiBEZXJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lciBiYXNlZCBvbiB0aGUgZXZlbnQgd2hpY2ggaGFzIGJlZW4gYXNzb2NpYXRlZCB3aXRoIHRoZSBwcm92aWRlZCBlbGVtZW50LiBUaGlzIG1ldGhvZFxuICAgICAgICogY2FuIGJlIHVzZWQgaW4gdGhyZWUgZGlmZmVyZW50IHdheXMgZGVwZW5kaW5nIG9uIHRoZSBhcmd1bWVudHM6XG4gICAgICAgKlxuICAgICAgICogYGBganNcbiAgICAgICAqIC8vIHJlbW92ZSBhbGwgdGhlIGFuaW1hdGlvbiBldmVudCBsaXN0ZW5lcnMgbGlzdGVuaW5nIGZvciBgZW50ZXJgXG4gICAgICAgKiAkYW5pbWF0ZS5vZmYoJ2VudGVyJyk7XG4gICAgICAgKlxuICAgICAgICogLy8gcmVtb3ZlIGxpc3RlbmVycyBmb3IgYWxsIGFuaW1hdGlvbiBldmVudHMgZnJvbSB0aGUgY29udGFpbmVyIGVsZW1lbnRcbiAgICAgICAqICRhbmltYXRlLm9mZihjb250YWluZXIpO1xuICAgICAgICpcbiAgICAgICAqIC8vIHJlbW92ZSBhbGwgdGhlIGFuaW1hdGlvbiBldmVudCBsaXN0ZW5lcnMgbGlzdGVuaW5nIGZvciBgZW50ZXJgIG9uIHRoZSBnaXZlbiBlbGVtZW50IGFuZCBpdHMgY2hpbGRyZW5cbiAgICAgICAqICRhbmltYXRlLm9mZignZW50ZXInLCBjb250YWluZXIpO1xuICAgICAgICpcbiAgICAgICAqIC8vIHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24gcHJvdmlkZWQgYnkgYGNhbGxiYWNrYCB0aGF0IGlzIHNldFxuICAgICAgICogLy8gdG8gbGlzdGVuIGZvciBgZW50ZXJgIG9uIHRoZSBnaXZlbiBgY29udGFpbmVyYCBhcyB3ZWxsIGFzIGl0cyBjaGlsZHJlblxuICAgICAgICogJGFuaW1hdGUub2ZmKCdlbnRlcicsIGNvbnRhaW5lciwgY2FsbGJhY2spO1xuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8RE9NRWxlbWVudH0gZXZlbnR8Y29udGFpbmVyIHRoZSBhbmltYXRpb24gZXZlbnQgKGUuZy4gZW50ZXIsIGxlYXZlLCBtb3ZlLFxuICAgICAgICogYWRkQ2xhc3MsIHJlbW92ZUNsYXNzLCBldGMuLi4pLCBvciB0aGUgY29udGFpbmVyIGVsZW1lbnQuIElmIGl0IGlzIHRoZSBlbGVtZW50LCBhbGwgb3RoZXJcbiAgICAgICAqIGFyZ3VtZW50cyBhcmUgaWdub3JlZC5cbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudD19IGNvbnRhaW5lciB0aGUgY29udGFpbmVyIGVsZW1lbnQgdGhlIGV2ZW50IGxpc3RlbmVyIHdhcyBwbGFjZWQgb25cbiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBjYWxsYmFjayB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCB3YXMgcmVnaXN0ZXJlZCBhcyB0aGUgbGlzdGVuZXJcbiAgICAgICAqL1xuICAgICAgb2ZmOiAkJGFuaW1hdGVRdWV1ZS5vZmYsXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjcGluXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEFzc29jaWF0ZXMgdGhlIHByb3ZpZGVkIGVsZW1lbnQgd2l0aCBhIGhvc3QgcGFyZW50IGVsZW1lbnQgdG8gYWxsb3cgdGhlIGVsZW1lbnQgdG8gYmUgYW5pbWF0ZWQgZXZlbiBpZiBpdCBleGlzdHNcbiAgICAgICAqICAgIG91dHNpZGUgb2YgdGhlIERPTSBzdHJ1Y3R1cmUgb2YgdGhlIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbi4gQnkgZG9pbmcgc28sIGFueSBhbmltYXRpb24gdHJpZ2dlcmVkIHZpYSBgJGFuaW1hdGVgIGNhbiBiZSBpc3N1ZWQgb24gdGhlXG4gICAgICAgKiAgICBlbGVtZW50IGRlc3BpdGUgYmVpbmcgb3V0c2lkZSB0aGUgcmVhbG0gb2YgdGhlIGFwcGxpY2F0aW9uIG9yIHdpdGhpbiBhbm90aGVyIGFwcGxpY2F0aW9uLiBTYXkgZm9yIGV4YW1wbGUgaWYgdGhlIGFwcGxpY2F0aW9uXG4gICAgICAgKiAgICB3YXMgYm9vdHN0cmFwcGVkIG9uIGFuIGVsZW1lbnQgdGhhdCBpcyBzb21ld2hlcmUgaW5zaWRlIG9mIHRoZSBgPGJvZHk+YCB0YWcsIGJ1dCB3ZSB3YW50ZWQgdG8gYWxsb3cgZm9yIGFuIGVsZW1lbnQgdG8gYmUgc2l0dWF0ZWRcbiAgICAgICAqICAgIGFzIGEgZGlyZWN0IGNoaWxkIG9mIGBkb2N1bWVudC5ib2R5YCwgdGhlbiB0aGlzIGNhbiBiZSBhY2hpZXZlZCBieSBwaW5uaW5nIHRoZSBlbGVtZW50IHZpYSBgJGFuaW1hdGUucGluKGVsZW1lbnQpYC4gS2VlcCBpbiBtaW5kXG4gICAgICAgKiAgICB0aGF0IGNhbGxpbmcgYCRhbmltYXRlLnBpbihlbGVtZW50LCBwYXJlbnRFbGVtZW50KWAgd2lsbCBub3QgYWN0dWFsbHkgaW5zZXJ0IGludG8gdGhlIERPTSBhbnl3aGVyZTsgaXQgd2lsbCBqdXN0IGNyZWF0ZSB0aGUgYXNzb2NpYXRpb24uXG4gICAgICAgKlxuICAgICAgICogICAgTm90ZSB0aGF0IHRoaXMgZmVhdHVyZSBpcyBvbmx5IGFjdGl2ZSB3aGVuIHRoZSBgbmdBbmltYXRlYCBtb2R1bGUgaXMgdXNlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGV4dGVybmFsIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHBpbm5lZFxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnRFbGVtZW50IHRoZSBob3N0IHBhcmVudCBlbGVtZW50IHRoYXQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIGV4dGVybmFsIGVsZW1lbnRcbiAgICAgICAqL1xuICAgICAgcGluOiAkJGFuaW1hdGVRdWV1ZS5waW4sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2VuYWJsZWRcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gVXNlZCB0byBnZXQgYW5kIHNldCB3aGV0aGVyIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQgb3Igbm90IG9uIHRoZSBlbnRpcmUgYXBwbGljYXRpb24gb3Igb24gYW4gZWxlbWVudCBhbmQgaXRzIGNoaWxkcmVuLiBUaGlzXG4gICAgICAgKiBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIGluIGZvdXIgd2F5czpcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogLy8gcmV0dXJucyB0cnVlIG9yIGZhbHNlXG4gICAgICAgKiAkYW5pbWF0ZS5lbmFibGVkKCk7XG4gICAgICAgKlxuICAgICAgICogLy8gY2hhbmdlcyB0aGUgZW5hYmxlZCBzdGF0ZSBmb3IgYWxsIGFuaW1hdGlvbnNcbiAgICAgICAqICRhbmltYXRlLmVuYWJsZWQoZmFsc2UpO1xuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZCh0cnVlKTtcbiAgICAgICAqXG4gICAgICAgKiAvLyByZXR1cm5zIHRydWUgb3IgZmFsc2UgaWYgYW5pbWF0aW9ucyBhcmUgZW5hYmxlZCBmb3IgYW4gZWxlbWVudFxuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZChlbGVtZW50KTtcbiAgICAgICAqXG4gICAgICAgKiAvLyBjaGFuZ2VzIHRoZSBlbmFibGVkIHN0YXRlIGZvciBhbiBlbGVtZW50IGFuZCBpdHMgY2hpbGRyZW5cbiAgICAgICAqICRhbmltYXRlLmVuYWJsZWQoZWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgKiAkYW5pbWF0ZS5lbmFibGVkKGVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudD19IGVsZW1lbnQgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlIGNvbnNpZGVyZWQgZm9yIGNoZWNraW5nL3NldHRpbmcgdGhlIGVuYWJsZWQgc3RhdGVcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGVuYWJsZWQgd2hldGhlciBvciBub3QgdGhlIGFuaW1hdGlvbnMgd2lsbCBiZSBlbmFibGVkIGZvciB0aGUgZWxlbWVudFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IGFuaW1hdGlvbnMgYXJlIGVuYWJsZWRcbiAgICAgICAqL1xuICAgICAgZW5hYmxlZDogJCRhbmltYXRlUXVldWUuZW5hYmxlZCxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNjYW5jZWxcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gQ2FuY2VscyB0aGUgcHJvdmlkZWQgYW5pbWF0aW9uIGFuZCBhcHBsaWVzIHRoZSBlbmQgc3RhdGUgb2YgdGhlIGFuaW1hdGlvbi5cbiAgICAgICAqIE5vdGUgdGhhdCB0aGlzIGRvZXMgbm90IGNhbmNlbCB0aGUgdW5kZXJseWluZyBvcGVyYXRpb24sIGUuZy4gdGhlIHNldHRpbmcgb2YgY2xhc3NlcyBvclxuICAgICAgICogYWRkaW5nIHRoZSBlbGVtZW50IHRvIHRoZSBET00uXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHthbmltYXRpb25SdW5uZXJ9IGFuaW1hdGlvblJ1bm5lciBBbiBhbmltYXRpb24gcnVubmVyIHJldHVybmVkIGJ5IGFuICRhbmltYXRlIGZ1bmN0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEBleGFtcGxlXG4gICAgICAgIDxleGFtcGxlIG1vZHVsZT1cImFuaW1hdGlvbkV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIiBuYW1lPVwiYW5pbWF0ZS1jYW5jZWxcIj5cbiAgICAgICAgICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYW5pbWF0aW9uRXhhbXBsZScsIFsnbmdBbmltYXRlJ10pLmNvbXBvbmVudCgnY2FuY2VsRXhhbXBsZScsIHtcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS5odG1sJyxcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oJGVsZW1lbnQsICRhbmltYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ydW5uZXIgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDbGFzcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5ydW5uZXIgPSAkYW5pbWF0ZS5hZGRDbGFzcygkZWxlbWVudC5maW5kKCdkaXYnKSwgJ3JlZCcpO1xuICAgICAgICAgICAgICAgICAgdmFyIGN0cmwgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgdGhpcy5ydW5uZXIuZmluYWxseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgY3RybC5ydW5uZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMucnVubmVyID0gJGFuaW1hdGUucmVtb3ZlQ2xhc3MoJGVsZW1lbnQuZmluZCgnZGl2JyksICdyZWQnKTtcbiAgICAgICAgICAgICAgICAgIHZhciBjdHJsID0gdGhpcztcbiAgICAgICAgICAgICAgICAgIHRoaXMucnVubmVyLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0cmwucnVubmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgJGFuaW1hdGUuY2FuY2VsKHRoaXMucnVubmVyKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICA8L2ZpbGU+XG4gICAgICAgICAgPGZpbGUgbmFtZT1cInRlbXBsYXRlLmh0bWxcIj5cbiAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiYWRkXCIgbmctY2xpY2s9XCIkY3RybC5hZGRDbGFzcygpXCI+QWRkPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkY3RybC5yZW1vdmVDbGFzcygpXCI+UmVtb3ZlPC9idXR0b24+XG4gICAgICAgICAgICAgIDxicj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImNhbmNlbFwiIG5nLWNsaWNrPVwiJGN0cmwuY2FuY2VsKClcIiBuZy1kaXNhYmxlZD1cIiEkY3RybC5ydW5uZXJcIj5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJyPlxuICAgICAgICAgICAgICA8ZGl2IGlkPVwidGFyZ2V0XCI+Q1NTLUFuaW1hdGVkIFRleHQ8L2Rpdj5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2ZpbGU+XG4gICAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgICAgIDxjYW5jZWwtZXhhbXBsZT48L2NhbmNlbC1leGFtcGxlPlxuICAgICAgICAgIDwvZmlsZT5cbiAgICAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgICAgICAucmVkLWFkZCwgLnJlZC1yZW1vdmUge1xuICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgNHMgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLnJlZCxcbiAgICAgICAgICAgIC5yZWQtYWRkLnJlZC1hZGQtYWN0aXZlIHtcbiAgICAgICAgICAgICAgY29sb3I6ICNGRjAwMDA7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogNDBweDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLnJlZC1yZW1vdmUucmVkLXJlbW92ZS1hY3RpdmUge1xuICAgICAgICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgICAgICAgIGNvbG9yOiBibGFjaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIDwvZmlsZT5cbiAgICAgICAgPC9leGFtcGxlPlxuICAgICAgICovXG4gICAgICBjYW5jZWw6IGZ1bmN0aW9uKHJ1bm5lcikge1xuICAgICAgICBpZiAocnVubmVyLmNhbmNlbCkge1xuICAgICAgICAgIHJ1bm5lci5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjZW50ZXJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gSW5zZXJ0cyB0aGUgZWxlbWVudCBpbnRvIHRoZSBET00gZWl0aGVyIGFmdGVyIHRoZSBgYWZ0ZXJgIGVsZW1lbnQgKGlmIHByb3ZpZGVkKSBvclxuICAgICAgICogICBhcyB0aGUgZmlyc3QgY2hpbGQgd2l0aGluIHRoZSBgcGFyZW50YCBlbGVtZW50IGFuZCB0aGVuIHRyaWdnZXJzIGFuIGFuaW1hdGlvbi5cbiAgICAgICAqICAgQSBwcm9taXNlIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBkdXJpbmcgdGhlIG5leHQgZGlnZXN0IG9uY2UgdGhlIGFuaW1hdGlvblxuICAgICAgICogICBoYXMgY29tcGxldGVkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB3aWxsIGJlIGluc2VydGVkIGludG8gdGhlIERPTVxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnQgdGhlIHBhcmVudCBlbGVtZW50IHdoaWNoIHdpbGwgYXBwZW5kIHRoZSBlbGVtZW50IGFzXG4gICAgICAgKiAgIGEgY2hpbGQgKHNvIGxvbmcgYXMgdGhlIGFmdGVyIGVsZW1lbnQgaXMgbm90IHByZXNlbnQpXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnQ9fSBhZnRlciB0aGUgc2libGluZyBlbGVtZW50IGFmdGVyIHdoaWNoIHRoZSBlbGVtZW50IHdpbGwgYmUgYXBwZW5kZWRcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogICBUaGUgb2JqZWN0IGNhbiBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgICAqXG4gICAgICAgKiAgIC0gKiphZGRDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byBhZGQgdG8gZWxlbWVudFxuICAgICAgICogICAtICoqZnJvbSoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYHRvYFxuICAgICAgICogICAtICoqcmVtb3ZlQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gcmVtb3ZlIGZyb20gZWxlbWVudFxuICAgICAgICogICAtICoqdG8qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCBlbmQgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYGZyb21gXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7UnVubmVyfSB0aGUgYW5pbWF0aW9uIHJ1bm5lclxuICAgICAgICovXG4gICAgICBlbnRlcjogZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50LCBhZnRlciwgb3B0aW9ucykge1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQgJiYganFMaXRlKHBhcmVudCk7XG4gICAgICAgIGFmdGVyID0gYWZ0ZXIgJiYganFMaXRlKGFmdGVyKTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IGFmdGVyLnBhcmVudCgpO1xuICAgICAgICBkb21JbnNlcnQoZWxlbWVudCwgcGFyZW50LCBhZnRlcik7XG4gICAgICAgIHJldHVybiAkJGFuaW1hdGVRdWV1ZS5wdXNoKGVsZW1lbnQsICdlbnRlcicsIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNtb3ZlXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEluc2VydHMgKG1vdmVzKSB0aGUgZWxlbWVudCBpbnRvIGl0cyBuZXcgcG9zaXRpb24gaW4gdGhlIERPTSBlaXRoZXIgYWZ0ZXJcbiAgICAgICAqICAgdGhlIGBhZnRlcmAgZWxlbWVudCAoaWYgcHJvdmlkZWQpIG9yIGFzIHRoZSBmaXJzdCBjaGlsZCB3aXRoaW4gdGhlIGBwYXJlbnRgIGVsZW1lbnRcbiAgICAgICAqICAgYW5kIHRoZW4gdHJpZ2dlcnMgYW4gYW5pbWF0aW9uLiBBIHByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCB3aWxsIGJlIHJlc29sdmVkXG4gICAgICAgKiAgIGR1cmluZyB0aGUgbmV4dCBkaWdlc3Qgb25jZSB0aGUgYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHdpbGwgYmUgbW92ZWQgaW50byB0aGUgbmV3IERPTSBwb3NpdGlvblxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnQgdGhlIHBhcmVudCBlbGVtZW50IHdoaWNoIHdpbGwgYXBwZW5kIHRoZSBlbGVtZW50IGFzXG4gICAgICAgKiAgIGEgY2hpbGQgKHNvIGxvbmcgYXMgdGhlIGFmdGVyIGVsZW1lbnQgaXMgbm90IHByZXNlbnQpXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnQ9fSBhZnRlciB0aGUgc2libGluZyBlbGVtZW50IGFmdGVyIHdoaWNoIHRoZSBlbGVtZW50IHdpbGwgYmUgYXBwZW5kZWRcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogICBUaGUgb2JqZWN0IGNhbiBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgICAqXG4gICAgICAgKiAgIC0gKiphZGRDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byBhZGQgdG8gZWxlbWVudFxuICAgICAgICogICAtICoqZnJvbSoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYHRvYFxuICAgICAgICogICAtICoqcmVtb3ZlQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gcmVtb3ZlIGZyb20gZWxlbWVudFxuICAgICAgICogICAtICoqdG8qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCBlbmQgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYGZyb21gXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7UnVubmVyfSB0aGUgYW5pbWF0aW9uIHJ1bm5lclxuICAgICAgICovXG4gICAgICBtb3ZlOiBmdW5jdGlvbihlbGVtZW50LCBwYXJlbnQsIGFmdGVyLCBvcHRpb25zKSB7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudCAmJiBqcUxpdGUocGFyZW50KTtcbiAgICAgICAgYWZ0ZXIgPSBhZnRlciAmJiBqcUxpdGUoYWZ0ZXIpO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQgfHwgYWZ0ZXIucGFyZW50KCk7XG4gICAgICAgIGRvbUluc2VydChlbGVtZW50LCBwYXJlbnQsIGFmdGVyKTtcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ21vdmUnLCBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucykpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNsZWF2ZVxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqIEBkZXNjcmlwdGlvbiBUcmlnZ2VycyBhbiBhbmltYXRpb24gYW5kIHRoZW4gcmVtb3ZlcyB0aGUgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICAgKiBXaGVuIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgYSBwcm9taXNlIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBkdXJpbmcgdGhlIG5leHRcbiAgICAgICAqIGRpZ2VzdCBvbmNlIHRoZSBhbmltYXRpb24gaGFzIGNvbXBsZXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIERPTVxuICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygb3B0aW9ucy9zdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuXG4gICAgICAgKiAgIFRoZSBvYmplY3QgY2FuIGhhdmUgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAgICpcbiAgICAgICAqICAgLSAqKmFkZENsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIGFkZCB0byBlbGVtZW50XG4gICAgICAgKiAgIC0gKipmcm9tKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgdGhlIGJlZ2lubmluZyBvZiBhbmltYXRpb24uIE11c3QgaGF2ZSBtYXRjaGluZyBgdG9gXG4gICAgICAgKiAgIC0gKipyZW1vdmVDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byByZW1vdmUgZnJvbSBlbGVtZW50XG4gICAgICAgKiAgIC0gKip0byoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IGVuZCBvZiBhbmltYXRpb24uIE11c3QgaGF2ZSBtYXRjaGluZyBgZnJvbWBcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtSdW5uZXJ9IHRoZSBhbmltYXRpb24gcnVubmVyXG4gICAgICAgKi9cbiAgICAgIGxlYXZlOiBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAkJGFuaW1hdGVRdWV1ZS5wdXNoKGVsZW1lbnQsICdsZWF2ZScsIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2FkZENsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBUcmlnZ2VycyBhbiBhZGRDbGFzcyBhbmltYXRpb24gc3Vycm91bmRpbmcgdGhlIGFkZGl0aW9uIG9mIHRoZSBwcm92aWRlZCBDU1MgY2xhc3MoZXMpLiBVcG9uXG4gICAgICAgKiAgIGV4ZWN1dGlvbiwgdGhlIGFkZENsYXNzIG9wZXJhdGlvbiB3aWxsIG9ubHkgYmUgaGFuZGxlZCBhZnRlciB0aGUgbmV4dCBkaWdlc3QgYW5kIGl0IHdpbGwgbm90IHRyaWdnZXIgYW5cbiAgICAgICAqICAgYW5pbWF0aW9uIGlmIGVsZW1lbnQgYWxyZWFkeSBjb250YWlucyB0aGUgQ1NTIGNsYXNzIG9yIGlmIHRoZSBjbGFzcyBpcyByZW1vdmVkIGF0IGEgbGF0ZXIgc3RlcC5cbiAgICAgICAqICAgTm90ZSB0aGF0IGNsYXNzLWJhc2VkIGFuaW1hdGlvbnMgYXJlIHRyZWF0ZWQgZGlmZmVyZW50bHkgY29tcGFyZWQgdG8gc3RydWN0dXJhbCBhbmltYXRpb25zXG4gICAgICAgKiAgIChsaWtlIGVudGVyLCBtb3ZlIGFuZCBsZWF2ZSkgc2luY2UgdGhlIENTUyBjbGFzc2VzIG1heSBiZSBhZGRlZC9yZW1vdmVkIGF0IGRpZmZlcmVudCBwb2ludHNcbiAgICAgICAqICAgZGVwZW5kaW5nIGlmIENTUyBvciBKYXZhU2NyaXB0IGFuaW1hdGlvbnMgYXJlIHVzZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHRoZSBDU1MgY2xhc3NlcyB3aWxsIGJlIGFwcGxpZWQgdG9cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgdGhlIENTUyBjbGFzcyhlcykgdGhhdCB3aWxsIGJlIGFkZGVkIChtdWx0aXBsZSBjbGFzc2VzIGFyZSBzZXBhcmF0ZWQgdmlhIHNwYWNlcylcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogICBUaGUgb2JqZWN0IGNhbiBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgICAqXG4gICAgICAgKiAgIC0gKipyZW1vdmVDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byByZW1vdmUgZnJvbSBlbGVtZW50XG4gICAgICAgKiAgIC0gKipmcm9tKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgdGhlIGJlZ2lubmluZyBvZiBhbmltYXRpb24uIE11c3QgaGF2ZSBtYXRjaGluZyBgdG9gXG4gICAgICAgKiAgIC0gKip0byoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IGVuZCBvZiBhbmltYXRpb24uIE11c3QgaGF2ZSBtYXRjaGluZyBgZnJvbWBcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtSdW5uZXJ9IGFuaW1hdGlvblJ1bm5lciB0aGUgYW5pbWF0aW9uIHJ1bm5lclxuICAgICAgICovXG4gICAgICBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5hZGRjbGFzcywgY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ2FkZENsYXNzJywgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI3JlbW92ZUNsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBUcmlnZ2VycyBhIHJlbW92ZUNsYXNzIGFuaW1hdGlvbiBzdXJyb3VuZGluZyB0aGUgcmVtb3ZhbCBvZiB0aGUgcHJvdmlkZWQgQ1NTIGNsYXNzKGVzKS4gVXBvblxuICAgICAgICogICBleGVjdXRpb24sIHRoZSByZW1vdmVDbGFzcyBvcGVyYXRpb24gd2lsbCBvbmx5IGJlIGhhbmRsZWQgYWZ0ZXIgdGhlIG5leHQgZGlnZXN0IGFuZCBpdCB3aWxsIG5vdCB0cmlnZ2VyIGFuXG4gICAgICAgKiAgIGFuaW1hdGlvbiBpZiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gdGhlIENTUyBjbGFzcyBvciBpZiB0aGUgY2xhc3MgaXMgYWRkZWQgYXQgYSBsYXRlciBzdGVwLlxuICAgICAgICogICBOb3RlIHRoYXQgY2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhcmUgdHJlYXRlZCBkaWZmZXJlbnRseSBjb21wYXJlZCB0byBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnNcbiAgICAgICAqICAgKGxpa2UgZW50ZXIsIG1vdmUgYW5kIGxlYXZlKSBzaW5jZSB0aGUgQ1NTIGNsYXNzZXMgbWF5IGJlIGFkZGVkL3JlbW92ZWQgYXQgZGlmZmVyZW50IHBvaW50c1xuICAgICAgICogICBkZXBlbmRpbmcgaWYgQ1NTIG9yIEphdmFTY3JpcHQgYW5pbWF0aW9ucyBhcmUgdXNlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggdGhlIENTUyBjbGFzc2VzIHdpbGwgYmUgYXBwbGllZCB0b1xuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSB0aGUgQ1NTIGNsYXNzKGVzKSB0aGF0IHdpbGwgYmUgcmVtb3ZlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICAgKlxuICAgICAgICogICAtICoqYWRkQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gYWRkIHRvIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcbiAgICAgICAqICAgLSAqKnRvKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgZW5kIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGBmcm9tYFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1J1bm5lcn0gdGhlIGFuaW1hdGlvbiBydW5uZXJcbiAgICAgICAqL1xuICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBvcHRpb25zLnJlbW92ZUNsYXNzID0gbWVyZ2VDbGFzc2VzKG9wdGlvbnMucmVtb3ZlQ2xhc3MsIGNsYXNzTmFtZSk7XG4gICAgICAgIHJldHVybiAkJGFuaW1hdGVRdWV1ZS5wdXNoKGVsZW1lbnQsICdyZW1vdmVDbGFzcycsIG9wdGlvbnMpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNzZXRDbGFzc1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb24gUGVyZm9ybXMgYm90aCB0aGUgYWRkaXRpb24gYW5kIHJlbW92YWwgb2YgYSBDU1MgY2xhc3NlcyBvbiBhbiBlbGVtZW50IGFuZCAoZHVyaW5nIHRoZSBwcm9jZXNzKVxuICAgICAgICogICAgdHJpZ2dlcnMgYW4gYW5pbWF0aW9uIHN1cnJvdW5kaW5nIHRoZSBjbGFzcyBhZGRpdGlvbi9yZW1vdmFsLiBNdWNoIGxpa2UgYCRhbmltYXRlLmFkZENsYXNzYCBhbmRcbiAgICAgICAqICAgIGAkYW5pbWF0ZS5yZW1vdmVDbGFzc2AsIGBzZXRDbGFzc2Agd2lsbCBvbmx5IGV2YWx1YXRlIHRoZSBjbGFzc2VzIGJlaW5nIGFkZGVkL3JlbW92ZWQgb25jZSBhIGRpZ2VzdCBoYXNcbiAgICAgICAqICAgIHBhc3NlZC4gTm90ZSB0aGF0IGNsYXNzLWJhc2VkIGFuaW1hdGlvbnMgYXJlIHRyZWF0ZWQgZGlmZmVyZW50bHkgY29tcGFyZWQgdG8gc3RydWN0dXJhbCBhbmltYXRpb25zXG4gICAgICAgKiAgICAobGlrZSBlbnRlciwgbW92ZSBhbmQgbGVhdmUpIHNpbmNlIHRoZSBDU1MgY2xhc3NlcyBtYXkgYmUgYWRkZWQvcmVtb3ZlZCBhdCBkaWZmZXJlbnQgcG9pbnRzXG4gICAgICAgKiAgICBkZXBlbmRpbmcgaWYgQ1NTIG9yIEphdmFTY3JpcHQgYW5pbWF0aW9ucyBhcmUgdXNlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggdGhlIENTUyBjbGFzc2VzIHdpbGwgYmUgYXBwbGllZCB0b1xuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGFkZCB0aGUgQ1NTIGNsYXNzKGVzKSB0aGF0IHdpbGwgYmUgYWRkZWQgKG11bHRpcGxlIGNsYXNzZXMgYXJlIHNlcGFyYXRlZCB2aWEgc3BhY2VzKVxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHJlbW92ZSB0aGUgQ1NTIGNsYXNzKGVzKSB0aGF0IHdpbGwgYmUgcmVtb3ZlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICAgKlxuICAgICAgICogICAtICoqYWRkQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gYWRkIHRvIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKnJlbW92ZUNsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIHJlbW92ZSBmcm9tIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcbiAgICAgICAqICAgLSAqKnRvKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgZW5kIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGBmcm9tYFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1J1bm5lcn0gdGhlIGFuaW1hdGlvbiBydW5uZXJcbiAgICAgICAqL1xuICAgICAgc2V0Q2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGFkZCwgcmVtb3ZlLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5hZGRDbGFzcywgYWRkKTtcbiAgICAgICAgb3B0aW9ucy5yZW1vdmVDbGFzcyA9IG1lcmdlQ2xhc3NlcyhvcHRpb25zLnJlbW92ZUNsYXNzLCByZW1vdmUpO1xuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnc2V0Q2xhc3MnLCBvcHRpb25zKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjYW5pbWF0ZVxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb24gUGVyZm9ybXMgYW4gaW5saW5lIGFuaW1hdGlvbiBvbiB0aGUgZWxlbWVudCB3aGljaCBhcHBsaWVzIHRoZSBwcm92aWRlZCB0byBhbmQgZnJvbSBDU1Mgc3R5bGVzIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogSWYgYW55IGRldGVjdGVkIENTUyB0cmFuc2l0aW9uLCBrZXlmcmFtZSBvciBKYXZhU2NyaXB0IG1hdGNoZXMgdGhlIHByb3ZpZGVkIGNsYXNzTmFtZSB2YWx1ZSwgdGhlbiB0aGUgYW5pbWF0aW9uIHdpbGwgdGFrZVxuICAgICAgICogb24gdGhlIHByb3ZpZGVkIHN0eWxlcy4gRm9yIGV4YW1wbGUsIGlmIGEgdHJhbnNpdGlvbiBhbmltYXRpb24gaXMgc2V0IGZvciB0aGUgZ2l2ZW4gY2xhc3NOYW1lLCB0aGVuIHRoZSBwcm92aWRlZCBgZnJvbWAgYW5kXG4gICAgICAgKiBgdG9gIHN0eWxlcyB3aWxsIGJlIGFwcGxpZWQgYWxvbmdzaWRlIHRoZSBnaXZlbiB0cmFuc2l0aW9uLiBJZiB0aGUgQ1NTIHN0eWxlIHByb3ZpZGVkIGluIGBmcm9tYCBkb2VzIG5vdCBoYXZlIGEgY29ycmVzcG9uZGluZ1xuICAgICAgICogc3R5bGUgaW4gYHRvYCwgdGhlIHN0eWxlIGluIGBmcm9tYCBpcyBhcHBsaWVkIGltbWVkaWF0ZWx5LCBhbmQgbm8gYW5pbWF0aW9uIGlzIHJ1bi5cbiAgICAgICAqIElmIGEgSmF2YVNjcmlwdCBhbmltYXRpb24gaXMgZGV0ZWN0ZWQgdGhlbiB0aGUgcHJvdmlkZWQgc3R5bGVzIHdpbGwgYmUgZ2l2ZW4gaW4gYXMgZnVuY3Rpb24gcGFyYW1ldGVycyBpbnRvIHRoZSBgYW5pbWF0ZWBcbiAgICAgICAqIG1ldGhvZCAob3IgYXMgcGFydCBvZiB0aGUgYG9wdGlvbnNgIHBhcmFtZXRlcik6XG4gICAgICAgKlxuICAgICAgICogYGBganNcbiAgICAgICAqIG5nTW9kdWxlLmFuaW1hdGlvbignLm15LWlubGluZS1hbmltYXRpb24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAqICAgcmV0dXJuIHtcbiAgICAgICAqICAgICBhbmltYXRlIDogZnVuY3Rpb24oZWxlbWVudCwgZnJvbSwgdG8sIGRvbmUsIG9wdGlvbnMpIHtcbiAgICAgICAqICAgICAgIC8vYW5pbWF0aW9uXG4gICAgICAgKiAgICAgICBkb25lKCk7XG4gICAgICAgKiAgICAgfVxuICAgICAgICogICB9XG4gICAgICAgKiB9KTtcbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB0aGUgQ1NTIHN0eWxlcyB3aWxsIGJlIGFwcGxpZWQgdG9cbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBmcm9tIHRoZSBmcm9tIChzdGFydGluZykgQ1NTIHN0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudCBhbmQgYWNyb3NzIHRoZSBhbmltYXRpb24uXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gdG8gdGhlIHRvIChkZXN0aW5hdGlvbikgQ1NTIHN0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudCBhbmQgYWNyb3NzIHRoZSBhbmltYXRpb24uXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZz19IGNsYXNzTmFtZSBhbiBvcHRpb25hbCBDU1MgY2xhc3MgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uLiBJZlxuICAgICAgICogICAgdGhpcyB2YWx1ZSBpcyBsZWZ0IGFzIGVtcHR5IHRoZW4gYSBDU1MgY2xhc3Mgb2YgYG5nLWlubGluZS1hbmltYXRlYCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuXG4gICAgICAgKiAgICAoTm90ZSB0aGF0IGlmIG5vIGFuaW1hdGlvbiBpcyBkZXRlY3RlZCB0aGVuIHRoaXMgdmFsdWUgd2lsbCBub3QgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC4pXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICAgKlxuICAgICAgICogICAtICoqYWRkQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gYWRkIHRvIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcbiAgICAgICAqICAgLSAqKnJlbW92ZUNsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIHJlbW92ZSBmcm9tIGVsZW1lbnRcbiAgICAgICAqICAgLSAqKnRvKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgZW5kIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGBmcm9tYFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1J1bm5lcn0gdGhlIGFuaW1hdGlvbiBydW5uZXJcbiAgICAgICAqL1xuICAgICAgYW5pbWF0ZTogZnVuY3Rpb24oZWxlbWVudCwgZnJvbSwgdG8sIGNsYXNzTmFtZSwgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBvcHRpb25zLmZyb20gPSBvcHRpb25zLmZyb20gPyBleHRlbmQob3B0aW9ucy5mcm9tLCBmcm9tKSA6IGZyb207XG4gICAgICAgIG9wdGlvbnMudG8gICA9IG9wdGlvbnMudG8gICA/IGV4dGVuZChvcHRpb25zLnRvLCB0bykgICAgIDogdG87XG5cbiAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lIHx8ICduZy1pbmxpbmUtYW5pbWF0ZSc7XG4gICAgICAgIG9wdGlvbnMudGVtcENsYXNzZXMgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy50ZW1wQ2xhc3NlcywgY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ2FuaW1hdGUnLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XTtcbn1dO1xuXG52YXIgJCRBbmltYXRlQXN5bmNSdW5GYWN0b3J5UHJvdmlkZXIgPSAvKiogQHRoaXMgKi8gZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IFsnJCRyQUYnLCBmdW5jdGlvbigkJHJBRikge1xuICAgIHZhciB3YWl0UXVldWUgPSBbXTtcblxuICAgIGZ1bmN0aW9uIHdhaXRGb3JUaWNrKGZuKSB7XG4gICAgICB3YWl0UXVldWUucHVzaChmbik7XG4gICAgICBpZiAod2FpdFF1ZXVlLmxlbmd0aCA+IDEpIHJldHVybjtcbiAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdhaXRRdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHdhaXRRdWV1ZVtpXSgpO1xuICAgICAgICB9XG4gICAgICAgIHdhaXRRdWV1ZSA9IFtdO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhc3NlZCA9IGZhbHNlO1xuICAgICAgd2FpdEZvclRpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIHBhc3NlZCA9IHRydWU7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICBpZiAocGFzc2VkKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3YWl0Rm9yVGljayhjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgfV07XG59O1xuXG52YXIgJCRBbmltYXRlUnVubmVyRmFjdG9yeVByb3ZpZGVyID0gLyoqIEB0aGlzICovIGZ1bmN0aW9uKCkge1xuICB0aGlzLiRnZXQgPSBbJyRxJywgJyRzbmlmZmVyJywgJyQkYW5pbWF0ZUFzeW5jUnVuJywgJyQkaXNEb2N1bWVudEhpZGRlbicsICckdGltZW91dCcsXG4gICAgICAgZnVuY3Rpb24oJHEsICAgJHNuaWZmZXIsICAgJCRhbmltYXRlQXN5bmNSdW4sICAgJCRpc0RvY3VtZW50SGlkZGVuLCAgICR0aW1lb3V0KSB7XG5cbiAgICB2YXIgSU5JVElBTF9TVEFURSA9IDA7XG4gICAgdmFyIERPTkVfUEVORElOR19TVEFURSA9IDE7XG4gICAgdmFyIERPTkVfQ09NUExFVEVfU1RBVEUgPSAyO1xuXG4gICAgQW5pbWF0ZVJ1bm5lci5jaGFpbiA9IGZ1bmN0aW9uKGNoYWluLCBjYWxsYmFjaykge1xuICAgICAgdmFyIGluZGV4ID0gMDtcblxuICAgICAgbmV4dCgpO1xuICAgICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSBjaGFpbi5sZW5ndGgpIHtcbiAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjaGFpbltpbmRleF0oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2UgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQW5pbWF0ZVJ1bm5lci5hbGwgPSBmdW5jdGlvbihydW5uZXJzLCBjYWxsYmFjaykge1xuICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgIHZhciBzdGF0dXMgPSB0cnVlO1xuICAgICAgZm9yRWFjaChydW5uZXJzLCBmdW5jdGlvbihydW5uZXIpIHtcbiAgICAgICAgcnVubmVyLmRvbmUob25Qcm9ncmVzcyk7XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gb25Qcm9ncmVzcyhyZXNwb25zZSkge1xuICAgICAgICBzdGF0dXMgPSBzdGF0dXMgJiYgcmVzcG9uc2U7XG4gICAgICAgIGlmICgrK2NvdW50ID09PSBydW5uZXJzLmxlbmd0aCkge1xuICAgICAgICAgIGNhbGxiYWNrKHN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gQW5pbWF0ZVJ1bm5lcihob3N0KSB7XG4gICAgICB0aGlzLnNldEhvc3QoaG9zdCk7XG5cbiAgICAgIHZhciByYWZUaWNrID0gJCRhbmltYXRlQXN5bmNSdW4oKTtcbiAgICAgIHZhciB0aW1lb3V0VGljayA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICR0aW1lb3V0KGZuLCAwLCBmYWxzZSk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLl9kb25lQ2FsbGJhY2tzID0gW107XG4gICAgICB0aGlzLl90aWNrID0gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgaWYgKCQkaXNEb2N1bWVudEhpZGRlbigpKSB7XG4gICAgICAgICAgdGltZW91dFRpY2soZm4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJhZlRpY2soZm4pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGhpcy5fc3RhdGUgPSAwO1xuICAgIH1cblxuICAgIEFuaW1hdGVSdW5uZXIucHJvdG90eXBlID0ge1xuICAgICAgc2V0SG9zdDogZnVuY3Rpb24oaG9zdCkge1xuICAgICAgICB0aGlzLmhvc3QgPSBob3N0IHx8IHt9O1xuICAgICAgfSxcblxuICAgICAgZG9uZTogZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSBET05FX0NPTVBMRVRFX1NUQVRFKSB7XG4gICAgICAgICAgZm4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9kb25lQ2FsbGJhY2tzLnB1c2goZm4pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBwcm9ncmVzczogbm9vcCxcblxuICAgICAgZ2V0UHJvbWlzZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9taXNlKSB7XG4gICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgIHRoaXMucHJvbWlzZSA9ICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgc2VsZi5kb25lKGZ1bmN0aW9uKHN0YXR1cykge1xuICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZTtcbiAgICAgIH0sXG5cbiAgICAgIHRoZW46IGZ1bmN0aW9uKHJlc29sdmVIYW5kbGVyLCByZWplY3RIYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb21pc2UoKS50aGVuKHJlc29sdmVIYW5kbGVyLCByZWplY3RIYW5kbGVyKTtcbiAgICAgIH0sXG5cbiAgICAgICdjYXRjaCc6IGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpWydjYXRjaCddKGhhbmRsZXIpO1xuICAgICAgfSxcblxuICAgICAgJ2ZpbmFsbHknOiBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFByb21pc2UoKVsnZmluYWxseSddKGhhbmRsZXIpO1xuICAgICAgfSxcblxuICAgICAgcGF1c2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5ob3N0LnBhdXNlKSB7XG4gICAgICAgICAgdGhpcy5ob3N0LnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIHJlc3VtZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmhvc3QucmVzdW1lKSB7XG4gICAgICAgICAgdGhpcy5ob3N0LnJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBlbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5ob3N0LmVuZCkge1xuICAgICAgICAgIHRoaXMuaG9zdC5lbmQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZXNvbHZlKHRydWUpO1xuICAgICAgfSxcblxuICAgICAgY2FuY2VsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaG9zdC5jYW5jZWwpIHtcbiAgICAgICAgICB0aGlzLmhvc3QuY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVzb2x2ZShmYWxzZSk7XG4gICAgICB9LFxuXG4gICAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgPT09IElOSVRJQUxfU1RBVEUpIHtcbiAgICAgICAgICBzZWxmLl9zdGF0ZSA9IERPTkVfUEVORElOR19TVEFURTtcbiAgICAgICAgICBzZWxmLl90aWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5fcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIF9yZXNvbHZlOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUgIT09IERPTkVfQ09NUExFVEVfU1RBVEUpIHtcbiAgICAgICAgICBmb3JFYWNoKHRoaXMuX2RvbmVDYWxsYmFja3MsIGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgICBmbihyZXNwb25zZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5fZG9uZUNhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgICAgICAgIHRoaXMuX3N0YXRlID0gRE9ORV9DT01QTEVURV9TVEFURTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gQW5pbWF0ZVJ1bm5lcjtcbiAgfV07XG59O1xuXG4vKiBleHBvcnRlZCAkQ29yZUFuaW1hdGVDc3NQcm92aWRlciAqL1xuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkYW5pbWF0ZUNzc1xuICogQGtpbmQgb2JqZWN0XG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBpcyB0aGUgY29yZSB2ZXJzaW9uIG9mIGAkYW5pbWF0ZUNzc2AuIEJ5IGRlZmF1bHQsIG9ubHkgd2hlbiB0aGUgYG5nQW5pbWF0ZWAgaXMgaW5jbHVkZWQsXG4gKiB0aGVuIHRoZSBgJGFuaW1hdGVDc3NgIHNlcnZpY2Ugd2lsbCBhY3R1YWxseSBwZXJmb3JtIGFuaW1hdGlvbnMuXG4gKlxuICogQ2xpY2sgaGVyZSB7QGxpbmsgbmdBbmltYXRlLiRhbmltYXRlQ3NzIHRvIHJlYWQgdGhlIGRvY3VtZW50YXRpb24gZm9yICRhbmltYXRlQ3NzfS5cbiAqL1xudmFyICRDb3JlQW5pbWF0ZUNzc1Byb3ZpZGVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IFsnJCRyQUYnLCAnJHEnLCAnJCRBbmltYXRlUnVubmVyJywgZnVuY3Rpb24oJCRyQUYsICRxLCAkJEFuaW1hdGVSdW5uZXIpIHtcblxuICAgIHJldHVybiBmdW5jdGlvbihlbGVtZW50LCBpbml0aWFsT3B0aW9ucykge1xuICAgICAgLy8gYWxsIG9mIHRoZSBhbmltYXRpb24gZnVuY3Rpb25zIHNob3VsZCBjcmVhdGVcbiAgICAgIC8vIGEgY29weSBvZiB0aGUgb3B0aW9ucyBkYXRhLCBob3dldmVyLCBpZiBhXG4gICAgICAvLyBwYXJlbnQgc2VydmljZSBoYXMgYWxyZWFkeSBjcmVhdGVkIGEgY29weSB0aGVuXG4gICAgICAvLyB3ZSBzaG91bGQgc3RpY2sgdG8gdXNpbmcgdGhhdFxuICAgICAgdmFyIG9wdGlvbnMgPSBpbml0aWFsT3B0aW9ucyB8fCB7fTtcbiAgICAgIGlmICghb3B0aW9ucy4kJHByZXBhcmVkKSB7XG4gICAgICAgIG9wdGlvbnMgPSBjb3B5KG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvLyB0aGVyZSBpcyBubyBwb2ludCBpbiBhcHBseWluZyB0aGUgc3R5bGVzIHNpbmNlXG4gICAgICAvLyB0aGVyZSBpcyBubyBhbmltYXRpb24gdGhhdCBnb2VzIG9uIGF0IGFsbCBpblxuICAgICAgLy8gdGhpcyB2ZXJzaW9uIG9mICRhbmltYXRlQ3NzLlxuICAgICAgaWYgKG9wdGlvbnMuY2xlYW51cFN0eWxlcykge1xuICAgICAgICBvcHRpb25zLmZyb20gPSBvcHRpb25zLnRvID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuZnJvbSkge1xuICAgICAgICBlbGVtZW50LmNzcyhvcHRpb25zLmZyb20pO1xuICAgICAgICBvcHRpb25zLmZyb20gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2xvc2VkLCBydW5uZXIgPSBuZXcgJCRBbmltYXRlUnVubmVyKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGFydDogcnVuLFxuICAgICAgICBlbmQ6IHJ1blxuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gcnVuKCkge1xuICAgICAgICAkJHJBRihmdW5jdGlvbigpIHtcbiAgICAgICAgICBhcHBseUFuaW1hdGlvbkNvbnRlbnRzKCk7XG4gICAgICAgICAgaWYgKCFjbG9zZWQpIHtcbiAgICAgICAgICAgIHJ1bm5lci5jb21wbGV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjbG9zZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYXBwbHlBbmltYXRpb25Db250ZW50cygpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuYWRkQ2xhc3MpIHtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKG9wdGlvbnMuYWRkQ2xhc3MpO1xuICAgICAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnJlbW92ZUNsYXNzKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhvcHRpb25zLnJlbW92ZUNsYXNzKTtcbiAgICAgICAgICBvcHRpb25zLnJlbW92ZUNsYXNzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy50bykge1xuICAgICAgICAgIGVsZW1lbnQuY3NzKG9wdGlvbnMudG8pO1xuICAgICAgICAgIG9wdGlvbnMudG8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfV07XG59O1xuXG4vKiBnbG9iYWwgZ2V0SGFzaDogdHJ1ZSwgc3RyaXBIYXNoOiBmYWxzZSAqL1xuXG5mdW5jdGlvbiBnZXRIYXNoKHVybCkge1xuICB2YXIgaW5kZXggPSB1cmwuaW5kZXhPZignIycpO1xuICByZXR1cm4gaW5kZXggPT09IC0xID8gJycgOiB1cmwuc3Vic3RyKGluZGV4KTtcbn1cblxuZnVuY3Rpb24gdHJpbUVtcHR5SGFzaCh1cmwpIHtcbiAgcmV0dXJuIHVybC5yZXBsYWNlKC8jJC8sICcnKTtcbn1cblxuLyoqXG4gKiAhIFRoaXMgaXMgYSBwcml2YXRlIHVuZG9jdW1lbnRlZCBzZXJ2aWNlICFcbiAqXG4gKiBAbmFtZSAkYnJvd3NlclxuICogQHJlcXVpcmVzICRsb2dcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBvYmplY3QgaGFzIHR3byBnb2FsczpcbiAqXG4gKiAtIGhpZGUgYWxsIHRoZSBnbG9iYWwgc3RhdGUgaW4gdGhlIGJyb3dzZXIgY2F1c2VkIGJ5IHRoZSB3aW5kb3cgb2JqZWN0XG4gKiAtIGFic3RyYWN0IGF3YXkgYWxsIHRoZSBicm93c2VyIHNwZWNpZmljIGZlYXR1cmVzIGFuZCBpbmNvbnNpc3RlbmNpZXNcbiAqXG4gKiBGb3IgdGVzdHMgd2UgcHJvdmlkZSB7QGxpbmsgbmdNb2NrLiRicm93c2VyIG1vY2sgaW1wbGVtZW50YXRpb259IG9mIHRoZSBgJGJyb3dzZXJgXG4gKiBzZXJ2aWNlLCB3aGljaCBjYW4gYmUgdXNlZCBmb3IgY29udmVuaWVudCB0ZXN0aW5nIG9mIHRoZSBhcHBsaWNhdGlvbiB3aXRob3V0IHRoZSBpbnRlcmFjdGlvbiB3aXRoXG4gKiB0aGUgcmVhbCBicm93c2VyIGFwaXMuXG4gKi9cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IHdpbmRvdyBUaGUgZ2xvYmFsIHdpbmRvdyBvYmplY3QuXG4gKiBAcGFyYW0ge29iamVjdH0gZG9jdW1lbnQgalF1ZXJ5IHdyYXBwZWQgZG9jdW1lbnQuXG4gKiBAcGFyYW0ge29iamVjdH0gJGxvZyB3aW5kb3cuY29uc29sZSBvciBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBpbnRlcmZhY2UuXG4gKiBAcGFyYW0ge29iamVjdH0gJHNuaWZmZXIgJHNuaWZmZXIgc2VydmljZVxuICovXG5mdW5jdGlvbiBCcm93c2VyKHdpbmRvdywgZG9jdW1lbnQsICRsb2csICRzbmlmZmVyLCAkJHRhc2tUcmFja2VyRmFjdG9yeSkge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbixcbiAgICAgIGhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeSxcbiAgICAgIHNldFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCxcbiAgICAgIGNsZWFyVGltZW91dCA9IHdpbmRvdy5jbGVhclRpbWVvdXQsXG4gICAgICBwZW5kaW5nRGVmZXJJZHMgPSB7fSxcbiAgICAgIHRhc2tUcmFja2VyID0gJCR0YXNrVHJhY2tlckZhY3RvcnkoJGxvZyk7XG5cbiAgc2VsZi5pc01vY2sgPSBmYWxzZTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBUYXNrLXRyYWNraW5nIEFQSVxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8vIFRPRE8odm9qdGEpOiByZW1vdmUgdGhpcyB0ZW1wb3JhcnkgYXBpXG4gIHNlbGYuJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCA9IHRhc2tUcmFja2VyLmNvbXBsZXRlVGFzaztcbiAgc2VsZi4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50ID0gdGFza1RyYWNrZXIuaW5jVGFza0NvdW50O1xuXG4gIC8vIFRPRE8odm9qdGEpOiBwcmVmaXggdGhpcyBtZXRob2Qgd2l0aCAkJCA/XG4gIHNlbGYubm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cyA9IHRhc2tUcmFja2VyLm5vdGlmeVdoZW5Ob1BlbmRpbmdUYXNrcztcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBVUkwgQVBJXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgdmFyIGNhY2hlZFN0YXRlLCBsYXN0SGlzdG9yeVN0YXRlLFxuICAgICAgbGFzdEJyb3dzZXJVcmwgPSBsb2NhdGlvbi5ocmVmLFxuICAgICAgYmFzZUVsZW1lbnQgPSBkb2N1bWVudC5maW5kKCdiYXNlJyksXG4gICAgICBwZW5kaW5nTG9jYXRpb24gPSBudWxsLFxuICAgICAgZ2V0Q3VycmVudFN0YXRlID0gISRzbmlmZmVyLmhpc3RvcnkgPyBub29wIDogZnVuY3Rpb24gZ2V0Q3VycmVudFN0YXRlKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBoaXN0b3J5LnN0YXRlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gTVNJRSBjYW4gcmVwb3J0ZWRseSB0aHJvdyB3aGVuIHRoZXJlIGlzIG5vIHN0YXRlIChVTkNPTkZJUk1FRCkuXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgY2FjaGVTdGF0ZSgpO1xuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciN1cmxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEdFVFRFUjpcbiAgICogV2l0aG91dCBhbnkgYXJndW1lbnQsIHRoaXMgbWV0aG9kIGp1c3QgcmV0dXJucyBjdXJyZW50IHZhbHVlIG9mIGBsb2NhdGlvbi5ocmVmYCAod2l0aCBhXG4gICAqIHRyYWlsaW5nIGAjYCBzdHJpcHBlZCBvZiBpZiB0aGUgaGFzaCBpcyBlbXB0eSkuXG4gICAqXG4gICAqIFNFVFRFUjpcbiAgICogV2l0aCBhdCBsZWFzdCBvbmUgYXJndW1lbnQsIHRoaXMgbWV0aG9kIHNldHMgdXJsIHRvIG5ldyB2YWx1ZS5cbiAgICogSWYgaHRtbDUgaGlzdG9yeSBhcGkgc3VwcG9ydGVkLCBgcHVzaFN0YXRlYC9gcmVwbGFjZVN0YXRlYCBpcyB1c2VkLCBvdGhlcndpc2VcbiAgICogYGxvY2F0aW9uLmhyZWZgL2Bsb2NhdGlvbi5yZXBsYWNlYCBpcyB1c2VkLlxuICAgKiBSZXR1cm5zIGl0cyBvd24gaW5zdGFuY2UgdG8gYWxsb3cgY2hhaW5pbmcuXG4gICAqXG4gICAqIE5PVEU6IHRoaXMgYXBpIGlzIGludGVuZGVkIGZvciB1c2Ugb25seSBieSB0aGUgYCRsb2NhdGlvbmAgc2VydmljZS4gUGxlYXNlIHVzZSB0aGVcbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiAkbG9jYXRpb24gc2VydmljZX0gdG8gY2hhbmdlIHVybC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBOZXcgdXJsICh3aGVuIHVzZWQgYXMgc2V0dGVyKVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSByZXBsYWNlIFNob3VsZCBuZXcgdXJsIHJlcGxhY2UgY3VycmVudCBoaXN0b3J5IHJlY29yZD9cbiAgICogQHBhcmFtIHtvYmplY3Q9fSBzdGF0ZSBTdGF0ZSBvYmplY3QgdG8gdXNlIHdpdGggYHB1c2hTdGF0ZWAvYHJlcGxhY2VTdGF0ZWBcbiAgICovXG4gIHNlbGYudXJsID0gZnVuY3Rpb24odXJsLCByZXBsYWNlLCBzdGF0ZSkge1xuICAgIC8vIEluIG1vZGVybiBicm93c2VycyBgaGlzdG9yeS5zdGF0ZWAgaXMgYG51bGxgIGJ5IGRlZmF1bHQ7IHRyZWF0aW5nIGl0IHNlcGFyYXRlbHlcbiAgICAvLyBmcm9tIGB1bmRlZmluZWRgIHdvdWxkIGNhdXNlIGAkYnJvd3Nlci51cmwoJy9mb28nKWAgdG8gY2hhbmdlIGBoaXN0b3J5LnN0YXRlYFxuICAgIC8vIHRvIHVuZGVmaW5lZCB2aWEgYHB1c2hTdGF0ZWAuIEluc3RlYWQsIGxldCdzIGNoYW5nZSBgdW5kZWZpbmVkYCB0byBgbnVsbGAgaGVyZS5cbiAgICBpZiAoaXNVbmRlZmluZWQoc3RhdGUpKSB7XG4gICAgICBzdGF0ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gQW5kcm9pZCBCcm93c2VyIEJGQ2FjaGUgY2F1c2VzIGxvY2F0aW9uLCBoaXN0b3J5IHJlZmVyZW5jZSB0byBiZWNvbWUgc3RhbGUuXG4gICAgaWYgKGxvY2F0aW9uICE9PSB3aW5kb3cubG9jYXRpb24pIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuICAgIGlmIChoaXN0b3J5ICE9PSB3aW5kb3cuaGlzdG9yeSkgaGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuXG4gICAgLy8gc2V0dGVyXG4gICAgaWYgKHVybCkge1xuICAgICAgdmFyIHNhbWVTdGF0ZSA9IGxhc3RIaXN0b3J5U3RhdGUgPT09IHN0YXRlO1xuXG4gICAgICAvLyBOb3JtYWxpemUgdGhlIGlucHV0dGVkIFVSTFxuICAgICAgdXJsID0gdXJsUmVzb2x2ZSh1cmwpLmhyZWY7XG5cbiAgICAgIC8vIERvbid0IGNoYW5nZSBhbnl0aGluZyBpZiBwcmV2aW91cyBhbmQgY3VycmVudCBVUkxzIGFuZCBzdGF0ZXMgbWF0Y2guIFRoaXMgYWxzbyBwcmV2ZW50c1xuICAgICAgLy8gSUU8MTAgZnJvbSBnZXR0aW5nIGludG8gcmVkaXJlY3QgbG9vcCB3aGVuIGluIExvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsIG1vZGUuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9jb21taXQvZmZiMjcwMVxuICAgICAgaWYgKGxhc3RCcm93c2VyVXJsID09PSB1cmwgJiYgKCEkc25pZmZlci5oaXN0b3J5IHx8IHNhbWVTdGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICB9XG4gICAgICB2YXIgc2FtZUJhc2UgPSBsYXN0QnJvd3NlclVybCAmJiBzdHJpcEhhc2gobGFzdEJyb3dzZXJVcmwpID09PSBzdHJpcEhhc2godXJsKTtcbiAgICAgIGxhc3RCcm93c2VyVXJsID0gdXJsO1xuICAgICAgbGFzdEhpc3RvcnlTdGF0ZSA9IHN0YXRlO1xuICAgICAgLy8gRG9uJ3QgdXNlIGhpc3RvcnkgQVBJIGlmIG9ubHkgdGhlIGhhc2ggY2hhbmdlZFxuICAgICAgLy8gZHVlIHRvIGEgYnVnIGluIElFMTAvSUUxMSB3aGljaCBsZWFkc1xuICAgICAgLy8gdG8gbm90IGZpcmluZyBhIGBoYXNoY2hhbmdlYCBub3IgYHBvcHN0YXRlYCBldmVudFxuICAgICAgLy8gaW4gc29tZSBjYXNlcyAoc2VlICM5MTQzKS5cbiAgICAgIGlmICgkc25pZmZlci5oaXN0b3J5ICYmICghc2FtZUJhc2UgfHwgIXNhbWVTdGF0ZSkpIHtcbiAgICAgICAgaGlzdG9yeVtyZXBsYWNlID8gJ3JlcGxhY2VTdGF0ZScgOiAncHVzaFN0YXRlJ10oc3RhdGUsICcnLCB1cmwpO1xuICAgICAgICBjYWNoZVN0YXRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXNhbWVCYXNlKSB7XG4gICAgICAgICAgcGVuZGluZ0xvY2F0aW9uID0gdXJsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXBsYWNlKSB7XG4gICAgICAgICAgbG9jYXRpb24ucmVwbGFjZSh1cmwpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzYW1lQmFzZSkge1xuICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9jYXRpb24uaGFzaCA9IGdldEhhc2godXJsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9jYXRpb24uaHJlZiAhPT0gdXJsKSB7XG4gICAgICAgICAgcGVuZGluZ0xvY2F0aW9uID0gdXJsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocGVuZGluZ0xvY2F0aW9uKSB7XG4gICAgICAgIHBlbmRpbmdMb2NhdGlvbiA9IHVybDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIC8vIGdldHRlclxuICAgIH0gZWxzZSB7XG4gICAgICAvLyAtIHBlbmRpbmdMb2NhdGlvbiBpcyBuZWVkZWQgYXMgYnJvd3NlcnMgZG9uJ3QgYWxsb3cgdG8gcmVhZCBvdXRcbiAgICAgIC8vICAgdGhlIG5ldyBsb2NhdGlvbi5ocmVmIGlmIGEgcmVsb2FkIGhhcHBlbmVkIG9yIGlmIHRoZXJlIGlzIGEgYnVnIGxpa2UgaW4gaU9TIDkgKHNlZVxuICAgICAgLy8gICBodHRwczovL29wZW5yYWRhci5hcHBzcG90LmNvbS8yMjE4NjEwOSkuXG4gICAgICByZXR1cm4gdHJpbUVtcHR5SGFzaChwZW5kaW5nTG9jYXRpb24gfHwgbG9jYXRpb24uaHJlZik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNzdGF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgYSBnZXR0ZXIuXG4gICAqXG4gICAqIFJldHVybiBoaXN0b3J5LnN0YXRlIG9yIG51bGwgaWYgaGlzdG9yeS5zdGF0ZSBpcyB1bmRlZmluZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHN0YXRlXG4gICAqL1xuICBzZWxmLnN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGNhY2hlZFN0YXRlO1xuICB9O1xuXG4gIHZhciB1cmxDaGFuZ2VMaXN0ZW5lcnMgPSBbXSxcbiAgICAgIHVybENoYW5nZUluaXQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBjYWNoZVN0YXRlQW5kRmlyZVVybENoYW5nZSgpIHtcbiAgICBwZW5kaW5nTG9jYXRpb24gPSBudWxsO1xuICAgIGZpcmVTdGF0ZU9yVXJsQ2hhbmdlKCk7XG4gIH1cblxuICAvLyBUaGlzIHZhcmlhYmxlIHNob3VsZCBiZSB1c2VkICpvbmx5KiBpbnNpZGUgdGhlIGNhY2hlU3RhdGUgZnVuY3Rpb24uXG4gIHZhciBsYXN0Q2FjaGVkU3RhdGUgPSBudWxsO1xuICBmdW5jdGlvbiBjYWNoZVN0YXRlKCkge1xuICAgIC8vIFRoaXMgc2hvdWxkIGJlIHRoZSBvbmx5IHBsYWNlIGluICRicm93c2VyIHdoZXJlIGBoaXN0b3J5LnN0YXRlYCBpcyByZWFkLlxuICAgIGNhY2hlZFN0YXRlID0gZ2V0Q3VycmVudFN0YXRlKCk7XG4gICAgY2FjaGVkU3RhdGUgPSBpc1VuZGVmaW5lZChjYWNoZWRTdGF0ZSkgPyBudWxsIDogY2FjaGVkU3RhdGU7XG5cbiAgICAvLyBQcmV2ZW50IGNhbGxiYWNrcyBmbyBmaXJlIHR3aWNlIGlmIGJvdGggaGFzaGNoYW5nZSAmIHBvcHN0YXRlIHdlcmUgZmlyZWQuXG4gICAgaWYgKGVxdWFscyhjYWNoZWRTdGF0ZSwgbGFzdENhY2hlZFN0YXRlKSkge1xuICAgICAgY2FjaGVkU3RhdGUgPSBsYXN0Q2FjaGVkU3RhdGU7XG4gICAgfVxuXG4gICAgbGFzdENhY2hlZFN0YXRlID0gY2FjaGVkU3RhdGU7XG4gICAgbGFzdEhpc3RvcnlTdGF0ZSA9IGNhY2hlZFN0YXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gZmlyZVN0YXRlT3JVcmxDaGFuZ2UoKSB7XG4gICAgdmFyIHByZXZMYXN0SGlzdG9yeVN0YXRlID0gbGFzdEhpc3RvcnlTdGF0ZTtcbiAgICBjYWNoZVN0YXRlKCk7XG5cbiAgICBpZiAobGFzdEJyb3dzZXJVcmwgPT09IHNlbGYudXJsKCkgJiYgcHJldkxhc3RIaXN0b3J5U3RhdGUgPT09IGNhY2hlZFN0YXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGFzdEJyb3dzZXJVcmwgPSBzZWxmLnVybCgpO1xuICAgIGxhc3RIaXN0b3J5U3RhdGUgPSBjYWNoZWRTdGF0ZTtcbiAgICBmb3JFYWNoKHVybENoYW5nZUxpc3RlbmVycywgZnVuY3Rpb24obGlzdGVuZXIpIHtcbiAgICAgIGxpc3RlbmVyKHNlbGYudXJsKCksIGNhY2hlZFN0YXRlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNvblVybENoYW5nZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXIgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCwgd2hlbiB1cmwgY2hhbmdlcy5cbiAgICpcbiAgICogSXQncyBvbmx5IGNhbGxlZCB3aGVuIHRoZSB1cmwgaXMgY2hhbmdlZCBmcm9tIG91dHNpZGUgb2YgQW5ndWxhckpTOlxuICAgKiAtIHVzZXIgdHlwZXMgZGlmZmVyZW50IHVybCBpbnRvIGFkZHJlc3MgYmFyXG4gICAqIC0gdXNlciBjbGlja3Mgb24gaGlzdG9yeSAoZm9yd2FyZC9iYWNrKSBidXR0b25cbiAgICogLSB1c2VyIGNsaWNrcyBvbiBhIGxpbmtcbiAgICpcbiAgICogSXQncyBub3QgY2FsbGVkIHdoZW4gdXJsIGlzIGNoYW5nZWQgYnkgJGJyb3dzZXIudXJsKCkgbWV0aG9kXG4gICAqXG4gICAqIFRoZSBsaXN0ZW5lciBnZXRzIGNhbGxlZCB3aXRoIG5ldyB1cmwgYXMgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBOT1RFOiB0aGlzIGFwaSBpcyBpbnRlbmRlZCBmb3IgdXNlIG9ubHkgYnkgdGhlICRsb2NhdGlvbiBzZXJ2aWNlLiBQbGVhc2UgdXNlIHRoZVxuICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uICRsb2NhdGlvbiBzZXJ2aWNlfSB0byBtb25pdG9yIHVybCBjaGFuZ2VzIGluIEFuZ3VsYXJKUyBhcHBzLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZyl9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHVybCBjaGFuZ2VzLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbihzdHJpbmcpfSBSZXR1cm5zIHRoZSByZWdpc3RlcmVkIGxpc3RlbmVyIGZuIC0gaGFuZHkgaWYgdGhlIGZuIGlzIGFub255bW91cy5cbiAgICovXG4gIHNlbGYub25VcmxDaGFuZ2UgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIC8vIFRPRE8odm9qdGEpOiByZWZhY3RvciB0byB1c2Ugbm9kZSdzIHN5bnRheCBmb3IgZXZlbnRzXG4gICAgaWYgKCF1cmxDaGFuZ2VJbml0KSB7XG4gICAgICAvLyBXZSBsaXN0ZW4gb24gYm90aCAoaGFzaGNoYW5nZS9wb3BzdGF0ZSkgd2hlbiBhdmFpbGFibGUsIGFzIHNvbWUgYnJvd3NlcnMgZG9uJ3RcbiAgICAgIC8vIGZpcmUgcG9wc3RhdGUgd2hlbiB1c2VyIGNoYW5nZXMgdGhlIGFkZHJlc3MgYmFyIGFuZCBkb24ndCBmaXJlIGhhc2hjaGFuZ2Ugd2hlbiB1cmxcbiAgICAgIC8vIGNoYW5nZWQgYnkgcHVzaC9yZXBsYWNlU3RhdGVcblxuICAgICAgLy8gaHRtbDUgaGlzdG9yeSBhcGkgLSBwb3BzdGF0ZSBldmVudFxuICAgICAgaWYgKCRzbmlmZmVyLmhpc3RvcnkpIGpxTGl0ZSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKTtcbiAgICAgIC8vIGhhc2hjaGFuZ2UgZXZlbnRcbiAgICAgIGpxTGl0ZSh3aW5kb3cpLm9uKCdoYXNoY2hhbmdlJywgY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UpO1xuXG4gICAgICB1cmxDaGFuZ2VJbml0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB1cmxDaGFuZ2VMaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gICAgcmV0dXJuIGNhbGxiYWNrO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBSZW1vdmUgcG9wc3RhdGUgYW5kIGhhc2hjaGFuZ2UgaGFuZGxlciBmcm9tIHdpbmRvdy5cbiAgICpcbiAgICogTk9URTogdGhpcyBhcGkgaXMgaW50ZW5kZWQgZm9yIHVzZSBvbmx5IGJ5ICRyb290U2NvcGUuXG4gICAqL1xuICBzZWxmLiQkYXBwbGljYXRpb25EZXN0cm95ZWQgPSBmdW5jdGlvbigpIHtcbiAgICBqcUxpdGUod2luZG93KS5vZmYoJ2hhc2hjaGFuZ2UgcG9wc3RhdGUnLCBjYWNoZVN0YXRlQW5kRmlyZVVybENoYW5nZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSB1cmwgaGFzIGNoYW5nZWQgb3V0c2lkZSBvZiBBbmd1bGFySlMuXG4gICAqIE5lZWRzIHRvIGJlIGV4cG9ydGVkIHRvIGJlIGFibGUgdG8gY2hlY2sgZm9yIGNoYW5nZXMgdGhhdCBoYXZlIGJlZW4gZG9uZSBpbiBzeW5jLFxuICAgKiBhcyBoYXNoY2hhbmdlL3BvcHN0YXRlIGV2ZW50cyBmaXJlIGluIGFzeW5jLlxuICAgKi9cbiAgc2VsZi4kJGNoZWNrVXJsQ2hhbmdlID0gZmlyZVN0YXRlT3JVcmxDaGFuZ2U7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gTWlzYyBBUElcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvKipcbiAgICogQG5hbWUgJGJyb3dzZXIjYmFzZUhyZWZcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHVybnMgY3VycmVudCA8YmFzZSBocmVmPlxuICAgKiAoYWx3YXlzIHJlbGF0aXZlIC0gd2l0aG91dCBkb21haW4pXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjdXJyZW50IGJhc2UgaHJlZlxuICAgKi9cbiAgc2VsZi5iYXNlSHJlZiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBocmVmID0gYmFzZUVsZW1lbnQuYXR0cignaHJlZicpO1xuICAgIHJldHVybiBocmVmID8gaHJlZi5yZXBsYWNlKC9eKGh0dHBzPzopP1xcL1xcL1teL10qLywgJycpIDogJyc7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI2RlZmVyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZm4gQSBmdW5jdGlvbiwgd2hvJ3MgZXhlY3V0aW9uIHNob3VsZCBiZSBkZWZlcnJlZC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBbZGVsYXk9MF0gTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWZlciB0aGUgZnVuY3Rpb24gZXhlY3V0aW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IFt0YXNrVHlwZT1ERUZBVUxUX1RBU0tfVFlQRV0gVGhlIHR5cGUgb2YgdGFzayB0aGF0IGlzIGRlZmVycmVkLlxuICAgKiBAcmV0dXJucyB7Kn0gRGVmZXJJZCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgdGFzayB2aWEgYCRicm93c2VyLmRlZmVyLmNhbmNlbCgpYC5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEV4ZWN1dGVzIGEgZm4gYXN5bmNocm9ub3VzbHkgdmlhIGBzZXRUaW1lb3V0KGZuLCBkZWxheSlgLlxuICAgKlxuICAgKiBVbmxpa2Ugd2hlbiBjYWxsaW5nIGBzZXRUaW1lb3V0YCBkaXJlY3RseSwgaW4gdGVzdCB0aGlzIGZ1bmN0aW9uIGlzIG1vY2tlZCBhbmQgaW5zdGVhZCBvZiB1c2luZ1xuICAgKiBgc2V0VGltZW91dGAgaW4gdGVzdHMsIHRoZSBmbnMgYXJlIHF1ZXVlZCBpbiBhbiBhcnJheSwgd2hpY2ggY2FuIGJlIHByb2dyYW1tYXRpY2FsbHkgZmx1c2hlZFxuICAgKiB2aWEgYCRicm93c2VyLmRlZmVyLmZsdXNoKClgLlxuICAgKlxuICAgKi9cbiAgc2VsZi5kZWZlciA9IGZ1bmN0aW9uKGZuLCBkZWxheSwgdGFza1R5cGUpIHtcbiAgICB2YXIgdGltZW91dElkO1xuXG4gICAgZGVsYXkgPSBkZWxheSB8fCAwO1xuICAgIHRhc2tUeXBlID0gdGFza1R5cGUgfHwgdGFza1RyYWNrZXIuREVGQVVMVF9UQVNLX1RZUEU7XG5cbiAgICB0YXNrVHJhY2tlci5pbmNUYXNrQ291bnQodGFza1R5cGUpO1xuICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBkZWxldGUgcGVuZGluZ0RlZmVySWRzW3RpbWVvdXRJZF07XG4gICAgICB0YXNrVHJhY2tlci5jb21wbGV0ZVRhc2soZm4sIHRhc2tUeXBlKTtcbiAgICB9LCBkZWxheSk7XG4gICAgcGVuZGluZ0RlZmVySWRzW3RpbWVvdXRJZF0gPSB0YXNrVHlwZTtcblxuICAgIHJldHVybiB0aW1lb3V0SWQ7XG4gIH07XG5cblxuICAvKipcbiAgICogQG5hbWUgJGJyb3dzZXIjZGVmZXIuY2FuY2VsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDYW5jZWxzIGEgZGVmZXJyZWQgdGFzayBpZGVudGlmaWVkIHdpdGggYGRlZmVySWRgLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGRlZmVySWQgVG9rZW4gcmV0dXJuZWQgYnkgdGhlIGAkYnJvd3Nlci5kZWZlcmAgZnVuY3Rpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdGFzayBoYXNuJ3QgZXhlY3V0ZWQgeWV0IGFuZCB3YXMgc3VjY2Vzc2Z1bGx5XG4gICAqICAgICAgICAgICAgICAgICAgICBjYW5jZWxlZC5cbiAgICovXG4gIHNlbGYuZGVmZXIuY2FuY2VsID0gZnVuY3Rpb24oZGVmZXJJZCkge1xuICAgIGlmIChwZW5kaW5nRGVmZXJJZHMuaGFzT3duUHJvcGVydHkoZGVmZXJJZCkpIHtcbiAgICAgIHZhciB0YXNrVHlwZSA9IHBlbmRpbmdEZWZlcklkc1tkZWZlcklkXTtcbiAgICAgIGRlbGV0ZSBwZW5kaW5nRGVmZXJJZHNbZGVmZXJJZF07XG4gICAgICBjbGVhclRpbWVvdXQoZGVmZXJJZCk7XG4gICAgICB0YXNrVHJhY2tlci5jb21wbGV0ZVRhc2sobm9vcCwgdGFza1R5cGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxufVxuXG4vKiogQHRoaXMgKi9cbmZ1bmN0aW9uICRCcm93c2VyUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckbG9nJywgJyRzbmlmZmVyJywgJyRkb2N1bWVudCcsICckJHRhc2tUcmFja2VyRmFjdG9yeScsXG4gICAgICAgZnVuY3Rpb24oJHdpbmRvdywgICAkbG9nLCAgICRzbmlmZmVyLCAgICRkb2N1bWVudCwgICAkJHRhc2tUcmFja2VyRmFjdG9yeSkge1xuICAgIHJldHVybiBuZXcgQnJvd3Nlcigkd2luZG93LCAkZG9jdW1lbnQsICRsb2csICRzbmlmZmVyLCAkJHRhc2tUcmFja2VyRmFjdG9yeSk7XG4gIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkY2FjaGVGYWN0b3J5XG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRmFjdG9yeSB0aGF0IGNvbnN0cnVjdHMge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdHMgYW5kIGdpdmVzIGFjY2VzcyB0b1xuICogdGhlbS5cbiAqXG4gKiBgYGBqc1xuICpcbiAqICB2YXIgY2FjaGUgPSAkY2FjaGVGYWN0b3J5KCdjYWNoZUlkJyk7XG4gKiAgZXhwZWN0KCRjYWNoZUZhY3RvcnkuZ2V0KCdjYWNoZUlkJykpLnRvQmUoY2FjaGUpO1xuICogIGV4cGVjdCgkY2FjaGVGYWN0b3J5LmdldCgnbm9TdWNoQ2FjaGVJZCcpKS5ub3QudG9CZURlZmluZWQoKTtcbiAqXG4gKiAgY2FjaGUucHV0KFwia2V5XCIsIFwidmFsdWVcIik7XG4gKiAgY2FjaGUucHV0KFwiYW5vdGhlciBrZXlcIiwgXCJhbm90aGVyIHZhbHVlXCIpO1xuICpcbiAqICAvLyBXZSd2ZSBzcGVjaWZpZWQgbm8gb3B0aW9ucyBvbiBjcmVhdGlvblxuICogIGV4cGVjdChjYWNoZS5pbmZvKCkpLnRvRXF1YWwoe2lkOiAnY2FjaGVJZCcsIHNpemU6IDJ9KTtcbiAqXG4gKiBgYGBcbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlSWQgTmFtZSBvciBpZCBvZiB0aGUgbmV3bHkgY3JlYXRlZCBjYWNoZS5cbiAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBPcHRpb25zIG9iamVjdCB0aGF0IHNwZWNpZmllcyB0aGUgY2FjaGUgYmVoYXZpb3IuIFByb3BlcnRpZXM6XG4gKlxuICogICAtIGB7bnVtYmVyPX1gIGBjYXBhY2l0eWAg4oCUIHR1cm5zIHRoZSBjYWNoZSBpbnRvIExSVSBjYWNoZS5cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBOZXdseSBjcmVhdGVkIGNhY2hlIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgc2V0IG9mIG1ldGhvZHM6XG4gKlxuICogLSBge29iamVjdH1gIGBpbmZvKClgIOKAlCBSZXR1cm5zIGlkLCBzaXplLCBhbmQgb3B0aW9ucyBvZiBjYWNoZS5cbiAqIC0gYHt7Kn19YCBgcHV0KHtzdHJpbmd9IGtleSwgeyp9IHZhbHVlKWAg4oCUIFB1dHMgYSBuZXcga2V5LXZhbHVlIHBhaXIgaW50byB0aGUgY2FjaGUgYW5kIHJldHVybnNcbiAqICAgaXQuXG4gKiAtIGB7eyp9fWAgYGdldCh7c3RyaW5nfSBrZXkpYCDigJQgUmV0dXJucyBjYWNoZWQgdmFsdWUgZm9yIGBrZXlgIG9yIHVuZGVmaW5lZCBmb3IgY2FjaGUgbWlzcy5cbiAqIC0gYHt2b2lkfWAgYHJlbW92ZSh7c3RyaW5nfSBrZXkpYCDigJQgUmVtb3ZlcyBhIGtleS12YWx1ZSBwYWlyIGZyb20gdGhlIGNhY2hlLlxuICogLSBge3ZvaWR9YCBgcmVtb3ZlQWxsKClgIOKAlCBSZW1vdmVzIGFsbCBjYWNoZWQgdmFsdWVzLlxuICogLSBge3ZvaWR9YCBgZGVzdHJveSgpYCDigJQgUmVtb3ZlcyByZWZlcmVuY2VzIHRvIHRoaXMgY2FjaGUgZnJvbSAkY2FjaGVGYWN0b3J5LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJjYWNoZUV4YW1wbGVBcHBcIiBuYW1lPVwiY2FjaGUtZmFjdG9yeVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkNhY2hlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwibmV3Q2FjaGVLZXlcIiBwbGFjZWhvbGRlcj1cIktleVwiPlxuICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwibmV3Q2FjaGVWYWx1ZVwiIHBsYWNlaG9sZGVyPVwiVmFsdWVcIj5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJwdXQobmV3Q2FjaGVLZXksIG5ld0NhY2hlVmFsdWUpXCI+Q2FjaGU8L2J1dHRvbj5cblxuICAgICAgICAgPHAgbmctaWY9XCJrZXlzLmxlbmd0aFwiPkNhY2hlZCBWYWx1ZXM8L3A+XG4gICAgICAgICA8ZGl2IG5nLXJlcGVhdD1cImtleSBpbiBrZXlzXCI+XG4gICAgICAgICAgIDxzcGFuIG5nLWJpbmQ9XCJrZXlcIj48L3NwYW4+XG4gICAgICAgICAgIDxzcGFuPjogPC9zcGFuPlxuICAgICAgICAgICA8YiBuZy1iaW5kPVwiY2FjaGUuZ2V0KGtleSlcIj48L2I+XG4gICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgPHA+Q2FjaGUgSW5mbzwvcD5cbiAgICAgICAgIDxkaXYgbmctcmVwZWF0PVwiKGtleSwgdmFsdWUpIGluIGNhY2hlLmluZm8oKVwiPlxuICAgICAgICAgICA8c3BhbiBuZy1iaW5kPVwia2V5XCI+PC9zcGFuPlxuICAgICAgICAgICA8c3Bhbj46IDwvc3Bhbj5cbiAgICAgICAgICAgPGIgbmctYmluZD1cInZhbHVlXCI+PC9iPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjYWNoZUV4YW1wbGVBcHAnLCBbXSkuXG4gICAgICAgICBjb250cm9sbGVyKCdDYWNoZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckY2FjaGVGYWN0b3J5JywgZnVuY3Rpb24oJHNjb3BlLCAkY2FjaGVGYWN0b3J5KSB7XG4gICAgICAgICAgICRzY29wZS5rZXlzID0gW107XG4gICAgICAgICAgICRzY29wZS5jYWNoZSA9ICRjYWNoZUZhY3RvcnkoJ2NhY2hlSWQnKTtcbiAgICAgICAgICAgJHNjb3BlLnB1dCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCgkc2NvcGUuY2FjaGUuZ2V0KGtleSkpKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUua2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgICRzY29wZS5jYWNoZS5wdXQoa2V5LCBhbmd1bGFyLmlzVW5kZWZpbmVkKHZhbHVlKSA/IG51bGwgOiB2YWx1ZSk7XG4gICAgICAgICAgIH07XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIHAge1xuICAgICAgICAgbWFyZ2luOiAxMHB4IDAgM3B4O1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIoKSB7XG5cbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNhY2hlcyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gY2FjaGVGYWN0b3J5KGNhY2hlSWQsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChjYWNoZUlkIGluIGNhY2hlcykge1xuICAgICAgICB0aHJvdyBtaW5FcnIoJyRjYWNoZUZhY3RvcnknKSgnaWlkJywgJ0NhY2hlSWQgXFwnezB9XFwnIGlzIGFscmVhZHkgdGFrZW4hJywgY2FjaGVJZCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzaXplID0gMCxcbiAgICAgICAgICBzdGF0cyA9IGV4dGVuZCh7fSwgb3B0aW9ucywge2lkOiBjYWNoZUlkfSksXG4gICAgICAgICAgZGF0YSA9IGNyZWF0ZU1hcCgpLFxuICAgICAgICAgIGNhcGFjaXR5ID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5jYXBhY2l0eSkgfHwgTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgICBscnVIYXNoID0gY3JlYXRlTWFwKCksXG4gICAgICAgICAgZnJlc2hFbmQgPSBudWxsLFxuICAgICAgICAgIHN0YWxlRW5kID0gbnVsbDtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgdHlwZVxuICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQSBjYWNoZSBvYmplY3QgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgZGF0YSwgcHJpbWFyaWx5IHVzZWQgYnlcbiAgICAgICAqIHtAbGluayAkdGVtcGxhdGVSZXF1ZXN0ICR0ZW1wbGF0ZVJlcXVlc3R9IGFuZCB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpzY3JpcHQgc2NyaXB0fVxuICAgICAgICogZGlyZWN0aXZlIHRvIGNhY2hlIHRlbXBsYXRlcyBhbmQgb3RoZXIgZGF0YS5cbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogIGFuZ3VsYXIubW9kdWxlKCdzdXBlckNhY2hlJylcbiAgICAgICAqICAgIC5mYWN0b3J5KCdzdXBlckNhY2hlJywgWyckY2FjaGVGYWN0b3J5JywgZnVuY3Rpb24oJGNhY2hlRmFjdG9yeSkge1xuICAgICAgICogICAgICByZXR1cm4gJGNhY2hlRmFjdG9yeSgnc3VwZXItY2FjaGUnKTtcbiAgICAgICAqICAgIH1dKTtcbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqIEV4YW1wbGUgdGVzdDpcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogIGl0KCdzaG91bGQgYmVoYXZlIGxpa2UgYSBjYWNoZScsIGluamVjdChmdW5jdGlvbihzdXBlckNhY2hlKSB7XG4gICAgICAgKiAgICBzdXBlckNhY2hlLnB1dCgna2V5JywgJ3ZhbHVlJyk7XG4gICAgICAgKiAgICBzdXBlckNhY2hlLnB1dCgnYW5vdGhlciBrZXknLCAnYW5vdGhlciB2YWx1ZScpO1xuICAgICAgICpcbiAgICAgICAqICAgIGV4cGVjdChzdXBlckNhY2hlLmluZm8oKSkudG9FcXVhbCh7XG4gICAgICAgKiAgICAgIGlkOiAnc3VwZXItY2FjaGUnLFxuICAgICAgICogICAgICBzaXplOiAyXG4gICAgICAgKiAgICB9KTtcbiAgICAgICAqXG4gICAgICAgKiAgICBzdXBlckNhY2hlLnJlbW92ZSgnYW5vdGhlciBrZXknKTtcbiAgICAgICAqICAgIGV4cGVjdChzdXBlckNhY2hlLmdldCgnYW5vdGhlciBrZXknKSkudG9CZVVuZGVmaW5lZCgpO1xuICAgICAgICpcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucmVtb3ZlQWxsKCk7XG4gICAgICAgKiAgICBleHBlY3Qoc3VwZXJDYWNoZS5pbmZvKCkpLnRvRXF1YWwoe1xuICAgICAgICogICAgICBpZDogJ3N1cGVyLWNhY2hlJyxcbiAgICAgICAqICAgICAgc2l6ZTogMFxuICAgICAgICogICAgfSk7XG4gICAgICAgKiAgfSkpO1xuICAgICAgICogYGBgXG4gICAgICAgKi9cbiAgICAgIHJldHVybiAoY2FjaGVzW2NhY2hlSWRdID0ge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjcHV0XG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBJbnNlcnRzIGEgbmFtZWQgZW50cnkgaW50byB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdCB0byBiZVxuICAgICAgICAgKiByZXRyaWV2ZWQgbGF0ZXIsIGFuZCBpbmNyZW1lbnRpbmcgdGhlIHNpemUgb2YgdGhlIGNhY2hlIGlmIHRoZSBrZXkgd2FzIG5vdCBhbHJlYWR5XG4gICAgICAgICAqIHByZXNlbnQgaW4gdGhlIGNhY2hlLiBJZiBiZWhhdmluZyBsaWtlIGFuIExSVSBjYWNoZSwgaXQgd2lsbCBhbHNvIHJlbW92ZSBzdGFsZVxuICAgICAgICAgKiBlbnRyaWVzIGZyb20gdGhlIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogSXQgd2lsbCBub3QgaW5zZXJ0IHVuZGVmaW5lZCB2YWx1ZXMgaW50byB0aGUgY2FjaGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSB1bmRlciB3aGljaCB0aGUgY2FjaGVkIGRhdGEgaXMgc3RvcmVkLlxuICAgICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIHRoZSB2YWx1ZSB0byBzdG9yZSBhbG9uZ3NpZGUgdGhlIGtleS4gSWYgaXQgaXMgdW5kZWZpbmVkLCB0aGUga2V5XG4gICAgICAgICAqICAgIHdpbGwgbm90IGJlIHN0b3JlZC5cbiAgICAgICAgICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSBzdG9yZWQuXG4gICAgICAgICAqL1xuICAgICAgICBwdXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG4gICAgICAgICAgaWYgKGNhcGFjaXR5IDwgTnVtYmVyLk1BWF9WQUxVRSkge1xuICAgICAgICAgICAgdmFyIGxydUVudHJ5ID0gbHJ1SGFzaFtrZXldIHx8IChscnVIYXNoW2tleV0gPSB7a2V5OiBrZXl9KTtcblxuICAgICAgICAgICAgcmVmcmVzaChscnVFbnRyeSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCEoa2V5IGluIGRhdGEpKSBzaXplKys7XG4gICAgICAgICAgZGF0YVtrZXldID0gdmFsdWU7XG5cbiAgICAgICAgICBpZiAoc2l6ZSA+IGNhcGFjaXR5KSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShzdGFsZUVuZC5rZXkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI2dldFxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0cmlldmVzIG5hbWVkIGRhdGEgc3RvcmVkIGluIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgb2YgdGhlIGRhdGEgdG8gYmUgcmV0cmlldmVkXG4gICAgICAgICAqIEByZXR1cm5zIHsqfSB0aGUgdmFsdWUgc3RvcmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICBpZiAoY2FwYWNpdHkgPCBOdW1iZXIuTUFYX1ZBTFVFKSB7XG4gICAgICAgICAgICB2YXIgbHJ1RW50cnkgPSBscnVIYXNoW2tleV07XG5cbiAgICAgICAgICAgIGlmICghbHJ1RW50cnkpIHJldHVybjtcblxuICAgICAgICAgICAgcmVmcmVzaChscnVFbnRyeSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjcmVtb3ZlXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZW1vdmVzIGFuIGVudHJ5IGZyb20gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSBvZiB0aGUgZW50cnkgdG8gYmUgcmVtb3ZlZFxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICBpZiAoY2FwYWNpdHkgPCBOdW1iZXIuTUFYX1ZBTFVFKSB7XG4gICAgICAgICAgICB2YXIgbHJ1RW50cnkgPSBscnVIYXNoW2tleV07XG5cbiAgICAgICAgICAgIGlmICghbHJ1RW50cnkpIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKGxydUVudHJ5ID09PSBmcmVzaEVuZCkgZnJlc2hFbmQgPSBscnVFbnRyeS5wO1xuICAgICAgICAgICAgaWYgKGxydUVudHJ5ID09PSBzdGFsZUVuZCkgc3RhbGVFbmQgPSBscnVFbnRyeS5uO1xuICAgICAgICAgICAgbGluayhscnVFbnRyeS5uLGxydUVudHJ5LnApO1xuXG4gICAgICAgICAgICBkZWxldGUgbHJ1SGFzaFtrZXldO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghKGtleSBpbiBkYXRhKSkgcmV0dXJuO1xuXG4gICAgICAgICAgZGVsZXRlIGRhdGFba2V5XTtcbiAgICAgICAgICBzaXplLS07XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI3JlbW92ZUFsbFxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQ2xlYXJzIHRoZSBjYWNoZSBvYmplY3Qgb2YgYW55IGVudHJpZXMuXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVBbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRhdGEgPSBjcmVhdGVNYXAoKTtcbiAgICAgICAgICBzaXplID0gMDtcbiAgICAgICAgICBscnVIYXNoID0gY3JlYXRlTWFwKCk7XG4gICAgICAgICAgZnJlc2hFbmQgPSBzdGFsZUVuZCA9IG51bGw7XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI2Rlc3Ryb3lcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIERlc3Ryb3lzIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0IGVudGlyZWx5LFxuICAgICAgICAgKiByZW1vdmluZyBpdCBmcm9tIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeSAkY2FjaGVGYWN0b3J5fSBzZXQuXG4gICAgICAgICAqL1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkYXRhID0gbnVsbDtcbiAgICAgICAgICBzdGF0cyA9IG51bGw7XG4gICAgICAgICAgbHJ1SGFzaCA9IG51bGw7XG4gICAgICAgICAgZGVsZXRlIGNhY2hlc1tjYWNoZUlkXTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjaW5mb1xuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0cmlldmUgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGEgcGFydGljdWxhciB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgICAgICogICA8dWw+XG4gICAgICAgICAqICAgICA8bGk+KippZCoqOiB0aGUgaWQgb2YgdGhlIGNhY2hlIGluc3RhbmNlPC9saT5cbiAgICAgICAgICogICAgIDxsaT4qKnNpemUqKjogdGhlIG51bWJlciBvZiBlbnRyaWVzIGtlcHQgaW4gdGhlIGNhY2hlIGluc3RhbmNlPC9saT5cbiAgICAgICAgICogICAgIDxsaT4qKi4uLioqOiBhbnkgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIGZyb20gdGhlIG9wdGlvbnMgb2JqZWN0IHdoZW4gY3JlYXRpbmcgdGhlXG4gICAgICAgICAqICAgICAgIGNhY2hlLjwvbGk+XG4gICAgICAgICAqICAgPC91bD5cbiAgICAgICAgICovXG4gICAgICAgIGluZm86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBleHRlbmQoe30sIHN0YXRzLCB7c2l6ZTogc2l6ZX0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuXG4gICAgICAvKipcbiAgICAgICAqIG1ha2VzIHRoZSBgZW50cnlgIHRoZSBmcmVzaEVuZCBvZiB0aGUgTFJVIGxpbmtlZCBsaXN0XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHJlZnJlc2goZW50cnkpIHtcbiAgICAgICAgaWYgKGVudHJ5ICE9PSBmcmVzaEVuZCkge1xuICAgICAgICAgIGlmICghc3RhbGVFbmQpIHtcbiAgICAgICAgICAgIHN0YWxlRW5kID0gZW50cnk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGFsZUVuZCA9PT0gZW50cnkpIHtcbiAgICAgICAgICAgIHN0YWxlRW5kID0gZW50cnkubjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaW5rKGVudHJ5Lm4sIGVudHJ5LnApO1xuICAgICAgICAgIGxpbmsoZW50cnksIGZyZXNoRW5kKTtcbiAgICAgICAgICBmcmVzaEVuZCA9IGVudHJ5O1xuICAgICAgICAgIGZyZXNoRW5kLm4gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cblxuICAgICAgLyoqXG4gICAgICAgKiBiaWRpcmVjdGlvbmFsbHkgbGlua3MgdHdvIGVudHJpZXMgb2YgdGhlIExSVSBsaW5rZWQgbGlzdFxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBsaW5rKG5leHRFbnRyeSwgcHJldkVudHJ5KSB7XG4gICAgICAgIGlmIChuZXh0RW50cnkgIT09IHByZXZFbnRyeSkge1xuICAgICAgICAgIGlmIChuZXh0RW50cnkpIG5leHRFbnRyeS5wID0gcHJldkVudHJ5OyAvL3Agc3RhbmRzIGZvciBwcmV2aW91cywgJ3ByZXYnIGRpZG4ndCBtaW5pZnlcbiAgICAgICAgICBpZiAocHJldkVudHJ5KSBwcmV2RW50cnkubiA9IG5leHRFbnRyeTsgLy9uIHN0YW5kcyBmb3IgbmV4dCwgJ25leHQnIGRpZG4ndCBtaW5pZnlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjYWNoZUZhY3RvcnkjaW5mb1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogR2V0IGluZm9ybWF0aW9uIGFib3V0IGFsbCB0aGUgY2FjaGVzIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWRcbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gLSBrZXktdmFsdWUgbWFwIG9mIGBjYWNoZUlkYCB0byB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgYGNhY2hlI2luZm9gXG4gICAqL1xuICAgIGNhY2hlRmFjdG9yeS5pbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaW5mbyA9IHt9O1xuICAgICAgZm9yRWFjaChjYWNoZXMsIGZ1bmN0aW9uKGNhY2hlLCBjYWNoZUlkKSB7XG4gICAgICAgIGluZm9bY2FjaGVJZF0gPSBjYWNoZS5pbmZvKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5I2dldFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogR2V0IGFjY2VzcyB0byBhIGNhY2hlIG9iamVjdCBieSB0aGUgYGNhY2hlSWRgIHVzZWQgd2hlbiBpdCB3YXMgY3JlYXRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlSWQgTmFtZSBvciBpZCBvZiBhIGNhY2hlIHRvIGFjY2Vzcy5cbiAgICogQHJldHVybnMge29iamVjdH0gQ2FjaGUgb2JqZWN0IGlkZW50aWZpZWQgYnkgdGhlIGNhY2hlSWQgb3IgdW5kZWZpbmVkIGlmIG5vIHN1Y2ggY2FjaGUuXG4gICAqL1xuICAgIGNhY2hlRmFjdG9yeS5nZXQgPSBmdW5jdGlvbihjYWNoZUlkKSB7XG4gICAgICByZXR1cm4gY2FjaGVzW2NhY2hlSWRdO1xuICAgIH07XG5cblxuICAgIHJldHVybiBjYWNoZUZhY3Rvcnk7XG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICR0ZW1wbGF0ZUNhY2hlXG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYCR0ZW1wbGF0ZUNhY2hlYCBpcyBhIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlIG9iamVjdH0gY3JlYXRlZCBieSB0aGVcbiAqIHtAbGluayBuZy4kY2FjaGVGYWN0b3J5ICRjYWNoZUZhY3Rvcnl9LlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIGEgdGVtcGxhdGUgaXMgdXNlZCwgaXQgaXMgbG9hZGVkIGluIHRoZSB0ZW1wbGF0ZSBjYWNoZSBmb3IgcXVpY2sgcmV0cmlldmFsLiBZb3VcbiAqIGNhbiBsb2FkIHRlbXBsYXRlcyBkaXJlY3RseSBpbnRvIHRoZSBjYWNoZSBpbiBhIGBzY3JpcHRgIHRhZywgYnkgdXNpbmcge0BsaW5rICR0ZW1wbGF0ZVJlcXVlc3R9LFxuICogb3IgYnkgY29uc3VtaW5nIHRoZSBgJHRlbXBsYXRlQ2FjaGVgIHNlcnZpY2UgZGlyZWN0bHkuXG4gKlxuICogQWRkaW5nIHZpYSB0aGUgYHNjcmlwdGAgdGFnOlxuICpcbiAqIGBgYGh0bWxcbiAqICAgPHNjcmlwdCB0eXBlPVwidGV4dC9uZy10ZW1wbGF0ZVwiIGlkPVwidGVtcGxhdGVJZC5odG1sXCI+XG4gKiAgICAgPHA+VGhpcyBpcyB0aGUgY29udGVudCBvZiB0aGUgdGVtcGxhdGU8L3A+XG4gKiAgIDwvc2NyaXB0PlxuICogYGBgXG4gKlxuICogKipOb3RlOioqIHRoZSBgc2NyaXB0YCB0YWcgY29udGFpbmluZyB0aGUgdGVtcGxhdGUgZG9lcyBub3QgbmVlZCB0byBiZSBpbmNsdWRlZCBpbiB0aGUgYGhlYWRgIG9mXG4gKiB0aGUgZG9jdW1lbnQsIGJ1dCBpdCBtdXN0IGJlIGEgZGVzY2VuZGVudCBvZiB0aGUge0BsaW5rIG5nLiRyb290RWxlbWVudCAkcm9vdEVsZW1lbnR9IChlLmcuXG4gKiBlbGVtZW50IHdpdGgge0BsaW5rIG5nQXBwfSBhdHRyaWJ1dGUpLCBvdGhlcndpc2UgdGhlIHRlbXBsYXRlIHdpbGwgYmUgaWdub3JlZC5cbiAqXG4gKiBBZGRpbmcgdmlhIHRoZSBgJHRlbXBsYXRlQ2FjaGVgIHNlcnZpY2U6XG4gKlxuICogYGBganNcbiAqIHZhciBteUFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKTtcbiAqIG15QXBwLnJ1bihmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICogICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3RlbXBsYXRlSWQuaHRtbCcsICdUaGlzIGlzIHRoZSBjb250ZW50IG9mIHRoZSB0ZW1wbGF0ZScpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBUbyByZXRyaWV2ZSB0aGUgdGVtcGxhdGUgbGF0ZXIsIHNpbXBseSB1c2UgaXQgaW4geW91ciBjb21wb25lbnQ6XG4gKiBgYGBqc1xuICogbXlBcHAuY29tcG9uZW50KCdteUNvbXBvbmVudCcsIHtcbiAqICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVJZC5odG1sJ1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBvciBnZXQgaXQgdmlhIHRoZSBgJHRlbXBsYXRlQ2FjaGVgIHNlcnZpY2U6XG4gKiBgYGBqc1xuICogJHRlbXBsYXRlQ2FjaGUuZ2V0KCd0ZW1wbGF0ZUlkLmh0bWwnKVxuICogYGBgXG4gKlxuICovXG5mdW5jdGlvbiAkVGVtcGxhdGVDYWNoZVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbigkY2FjaGVGYWN0b3J5KSB7XG4gICAgcmV0dXJuICRjYWNoZUZhY3RvcnkoJ3RlbXBsYXRlcycpO1xuICB9XTtcbn1cblxuLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxuICogICAgIEFueSBjb21taXRzIHRvIHRoaXMgZmlsZSBzaG91bGQgYmUgcmV2aWV3ZWQgd2l0aCBzZWN1cml0eSBpbiBtaW5kLiAgKlxuICogICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBjYW4gcG90ZW50aWFsbHkgY3JlYXRlIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcy4gKlxuICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIGlzIHJlcXVpcmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxuICogICAgT3IgYWxsb3dzIGZvciBzb21lb25lIHRvIGNoYW5nZSB0aGUgcHJvdG90eXBlIG9mIGJ1aWx0LWluIG9iamVjdHM/ICAgKlxuICogICAgIE9yIGdpdmVzIHVuZGVzaXJlZCBhY2Nlc3MgdG8gdmFyaWFibGVzIGxpa2UgZG9jdW1lbnQgb3Igd2luZG93PyAgICAqXG4gKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xuXG4vKiAhIFZBUklBQkxFL0ZVTkNUSU9OIE5BTUlORyBDT05WRU5USU9OUyBUSEFUIEFQUExZIFRPIFRISVMgRklMRSFcbiAqXG4gKiBET00tcmVsYXRlZCB2YXJpYWJsZXM6XG4gKlxuICogLSBcIm5vZGVcIiAtIERPTSBOb2RlXG4gKiAtIFwiZWxlbWVudFwiIC0gRE9NIEVsZW1lbnQgb3IgTm9kZVxuICogLSBcIiRub2RlXCIgb3IgXCIkZWxlbWVudFwiIC0ganFMaXRlLXdyYXBwZWQgbm9kZSBvciBlbGVtZW50XG4gKlxuICpcbiAqIENvbXBpbGVyIHJlbGF0ZWQgc3R1ZmY6XG4gKlxuICogLSBcImxpbmtGblwiIC0gbGlua2luZyBmbiBvZiBhIHNpbmdsZSBkaXJlY3RpdmVcbiAqIC0gXCJub2RlTGlua0ZuXCIgLSBmdW5jdGlvbiB0aGF0IGFnZ3JlZ2F0ZXMgYWxsIGxpbmtpbmcgZm5zIGZvciBhIHBhcnRpY3VsYXIgbm9kZVxuICogLSBcImNoaWxkTGlua0ZuXCIgLSAgZnVuY3Rpb24gdGhhdCBhZ2dyZWdhdGVzIGFsbCBsaW5raW5nIGZucyBmb3IgY2hpbGQgbm9kZXMgb2YgYSBwYXJ0aWN1bGFyIG5vZGVcbiAqIC0gXCJjb21wb3NpdGVMaW5rRm5cIiAtIGZ1bmN0aW9uIHRoYXQgYWdncmVnYXRlcyBhbGwgbGlua2luZyBmbnMgZm9yIGEgY29tcGlsYXRpb24gcm9vdCAobm9kZUxpc3QpXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkY29tcGlsZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbXBpbGVzIGFuIEhUTUwgc3RyaW5nIG9yIERPTSBpbnRvIGEgdGVtcGxhdGUgYW5kIHByb2R1Y2VzIGEgdGVtcGxhdGUgZnVuY3Rpb24sIHdoaWNoXG4gKiBjYW4gdGhlbiBiZSB1c2VkIHRvIGxpbmsge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgYHNjb3BlYH0gYW5kIHRoZSB0ZW1wbGF0ZSB0b2dldGhlci5cbiAqXG4gKiBUaGUgY29tcGlsYXRpb24gaXMgYSBwcm9jZXNzIG9mIHdhbGtpbmcgdGhlIERPTSB0cmVlIGFuZCBtYXRjaGluZyBET00gZWxlbWVudHMgdG9cbiAqIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSBkaXJlY3RpdmVzfS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIFRoaXMgZG9jdW1lbnQgaXMgYW4gaW4tZGVwdGggcmVmZXJlbmNlIG9mIGFsbCBkaXJlY3RpdmUgb3B0aW9ucy5cbiAqIEZvciBhIGdlbnRsZSBpbnRyb2R1Y3Rpb24gdG8gZGlyZWN0aXZlcyB3aXRoIGV4YW1wbGVzIG9mIGNvbW1vbiB1c2UgY2FzZXMsXG4gKiBzZWUgdGhlIHtAbGluayBndWlkZS9kaXJlY3RpdmUgZGlyZWN0aXZlIGd1aWRlfS5cbiAqIDwvZGl2PlxuICpcbiAqICMjIENvbXByZWhlbnNpdmUgRGlyZWN0aXZlIEFQSVxuICpcbiAqIFRoZXJlIGFyZSBtYW55IGRpZmZlcmVudCBvcHRpb25zIGZvciBhIGRpcmVjdGl2ZS5cbiAqXG4gKiBUaGUgZGlmZmVyZW5jZSByZXNpZGVzIGluIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZhY3RvcnkgZnVuY3Rpb24uXG4gKiBZb3UgY2FuIGVpdGhlciByZXR1cm4gYSB7QGxpbmsgJGNvbXBpbGUjZGlyZWN0aXZlLWRlZmluaXRpb24tb2JqZWN0IERpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdCAoc2VlIGJlbG93KX1cbiAqIHRoYXQgZGVmaW5lcyB0aGUgZGlyZWN0aXZlIHByb3BlcnRpZXMsIG9yIGp1c3QgdGhlIGBwb3N0TGlua2AgZnVuY3Rpb24gKGFsbCBvdGhlciBwcm9wZXJ0aWVzIHdpbGwgaGF2ZVxuICogdGhlIGRlZmF1bHQgdmFsdWVzKS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPlxuICogKipCZXN0IFByYWN0aWNlOioqIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBcImRpcmVjdGl2ZSBkZWZpbml0aW9uIG9iamVjdFwiIGZvcm0uXG4gKiA8L2Rpdj5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBkaXJlY3RpdmUgZGVjbGFyZWQgd2l0aCBhIERpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdDpcbiAqXG4gKiBgYGBqc1xuICogICB2YXIgbXlNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSguLi4pO1xuICpcbiAqICAgbXlNb2R1bGUuZGlyZWN0aXZlKCdkaXJlY3RpdmVOYW1lJywgZnVuY3Rpb24gZmFjdG9yeShpbmplY3RhYmxlcykge1xuICogICAgIHZhciBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0ID0ge1xuICogICAgICAge0BsaW5rICRjb21waWxlIy1wcmlvcml0eS0gcHJpb3JpdHl9OiAwLFxuICogICAgICAge0BsaW5rICRjb21waWxlIy10ZW1wbGF0ZS0gdGVtcGxhdGV9OiAnPGRpdj48L2Rpdj4nLCAvLyBvciAvLyBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7IC4uLiB9LFxuICogICAgICAgLy8gb3JcbiAqICAgICAgIC8vIHtAbGluayAkY29tcGlsZSMtdGVtcGxhdGV1cmwtIHRlbXBsYXRlVXJsfTogJ2RpcmVjdGl2ZS5odG1sJywgLy8gb3IgLy8gZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykgeyAuLi4gfSxcbiAqICAgICAgIHtAbGluayAkY29tcGlsZSMtdHJhbnNjbHVkZS0gdHJhbnNjbHVkZX06IGZhbHNlLFxuICogICAgICAge0BsaW5rICRjb21waWxlIy1yZXN0cmljdC0gcmVzdHJpY3R9OiAnQScsXG4gKiAgICAgICB7QGxpbmsgJGNvbXBpbGUjLXRlbXBsYXRlbmFtZXNwYWNlLSB0ZW1wbGF0ZU5hbWVzcGFjZX06ICdodG1sJyxcbiAqICAgICAgIHtAbGluayAkY29tcGlsZSMtc2NvcGUtIHNjb3BlfTogZmFsc2UsXG4gKiAgICAgICB7QGxpbmsgJGNvbXBpbGUjLWNvbnRyb2xsZXItIGNvbnRyb2xsZXJ9OiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0cmFuc2NsdWRlLCBvdGhlckluamVjdGFibGVzKSB7IC4uLiB9LFxuICogICAgICAge0BsaW5rICRjb21waWxlIy1jb250cm9sbGVyYXMtIGNvbnRyb2xsZXJBc306ICdzdHJpbmdJZGVudGlmaWVyJyxcbiAqICAgICAgIHtAbGluayAkY29tcGlsZSMtYmluZHRvY29udHJvbGxlci0gYmluZFRvQ29udHJvbGxlcn06IGZhbHNlLFxuICogICAgICAge0BsaW5rICRjb21waWxlIy1yZXF1aXJlLSByZXF1aXJlfTogJ3NpYmxpbmdEaXJlY3RpdmVOYW1lJywgLy8gb3IgLy8gWydecGFyZW50RGlyZWN0aXZlTmFtZScsICc/b3B0aW9uYWxEaXJlY3RpdmVOYW1lJywgJz9eb3B0aW9uYWxQYXJlbnQnXSxcbiAqICAgICAgIHtAbGluayAkY29tcGlsZSMtbXVsdGllbGVtZW50LSBtdWx0aUVsZW1lbnR9OiBmYWxzZSxcbiAqICAgICAgIHtAbGluayAkY29tcGlsZSMtY29tcGlsZS0gY29tcGlsZX06IGZ1bmN0aW9uIGNvbXBpbGUodEVsZW1lbnQsIHRBdHRycywgdHJhbnNjbHVkZSkge1xuICogICAgICAgICByZXR1cm4ge1xuICogICAgICAgICAgICB7QGxpbmsgJGNvbXBpbGUjcHJlLWxpbmtpbmctZnVuY3Rpb24gcHJlfTogZnVuY3Rpb24gcHJlTGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfSxcbiAqICAgICAgICAgICAge0BsaW5rICRjb21waWxlI3Bvc3QtbGlua2luZy1mdW5jdGlvbiBwb3N0fTogZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH1cbiAqICAgICAgICAgfVxuICogICAgICAgICAvLyBvclxuICogICAgICAgICAvLyByZXR1cm4gZnVuY3Rpb24gcG9zdExpbmsoIC4uLiApIHsgLi4uIH1cbiAqICAgICAgIH0sXG4gKiAgICAgICAvLyBvclxuICogICAgICAgLy8ge0BsaW5rICRjb21waWxlIy1saW5rLSBsaW5rfToge1xuICogICAgICAgLy8gIHtAbGluayAkY29tcGlsZSNwcmUtbGlua2luZy1mdW5jdGlvbiBwcmV9OiBmdW5jdGlvbiBwcmVMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9LFxuICogICAgICAgLy8gIHtAbGluayAkY29tcGlsZSNwb3N0LWxpbmtpbmctZnVuY3Rpb24gcG9zdH06IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9XG4gKiAgICAgICAvLyB9XG4gKiAgICAgICAvLyBvclxuICogICAgICAgLy8ge0BsaW5rICRjb21waWxlIy1saW5rLSBsaW5rfTogZnVuY3Rpb24gcG9zdExpbmsoIC4uLiApIHsgLi4uIH1cbiAqICAgICB9O1xuICogICAgIHJldHVybiBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0O1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogQW55IHVuc3BlY2lmaWVkIG9wdGlvbnMgd2lsbCB1c2UgdGhlIGRlZmF1bHQgdmFsdWUuIFlvdSBjYW4gc2VlIHRoZSBkZWZhdWx0IHZhbHVlcyBiZWxvdy5cbiAqIDwvZGl2PlxuICpcbiAqIFRoZXJlZm9yZSB0aGUgYWJvdmUgY2FuIGJlIHNpbXBsaWZpZWQgYXM6XG4gKlxuICogYGBganNcbiAqICAgdmFyIG15TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoLi4uKTtcbiAqXG4gKiAgIG15TW9kdWxlLmRpcmVjdGl2ZSgnZGlyZWN0aXZlTmFtZScsIGZ1bmN0aW9uIGZhY3RvcnkoaW5qZWN0YWJsZXMpIHtcbiAqICAgICB2YXIgZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdCA9IHtcbiAqICAgICAgIGxpbms6IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7IC4uLiB9XG4gKiAgICAgfTtcbiAqICAgICByZXR1cm4gZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdDtcbiAqICAgICAvLyBvclxuICogICAgIC8vIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycykgeyAuLi4gfVxuICogICB9KTtcbiAqIGBgYFxuICpcbiAqICMjIyBMaWZlLWN5Y2xlIGhvb2tzXG4gKiBEaXJlY3RpdmUgY29udHJvbGxlcnMgY2FuIHByb3ZpZGUgdGhlIGZvbGxvd2luZyBtZXRob2RzIHRoYXQgYXJlIGNhbGxlZCBieSBBbmd1bGFySlMgYXQgcG9pbnRzIGluIHRoZSBsaWZlLWN5Y2xlIG9mIHRoZVxuICogZGlyZWN0aXZlOlxuICogKiBgJG9uSW5pdCgpYCAtIENhbGxlZCBvbiBlYWNoIGNvbnRyb2xsZXIgYWZ0ZXIgYWxsIHRoZSBjb250cm9sbGVycyBvbiBhbiBlbGVtZW50IGhhdmUgYmVlbiBjb25zdHJ1Y3RlZCBhbmRcbiAqICAgaGFkIHRoZWlyIGJpbmRpbmdzIGluaXRpYWxpemVkIChhbmQgYmVmb3JlIHRoZSBwcmUgJmFtcDsgcG9zdCBsaW5raW5nIGZ1bmN0aW9ucyBmb3IgdGhlIGRpcmVjdGl2ZXMgb25cbiAqICAgdGhpcyBlbGVtZW50KS4gVGhpcyBpcyBhIGdvb2QgcGxhY2UgdG8gcHV0IGluaXRpYWxpemF0aW9uIGNvZGUgZm9yIHlvdXIgY29udHJvbGxlci5cbiAqICogYCRvbkNoYW5nZXMoY2hhbmdlc09iailgIC0gQ2FsbGVkIHdoZW5ldmVyIG9uZS13YXkgKGA8YCkgb3IgaW50ZXJwb2xhdGlvbiAoYEBgKSBiaW5kaW5ncyBhcmUgdXBkYXRlZC4gVGhlXG4gKiAgIGBjaGFuZ2VzT2JqYCBpcyBhIGhhc2ggd2hvc2Uga2V5cyBhcmUgdGhlIG5hbWVzIG9mIHRoZSBib3VuZCBwcm9wZXJ0aWVzIHRoYXQgaGF2ZSBjaGFuZ2VkLCBhbmQgdGhlIHZhbHVlcyBhcmUgYW5cbiAqICAgb2JqZWN0IG9mIHRoZSBmb3JtIGB7IGN1cnJlbnRWYWx1ZSwgcHJldmlvdXNWYWx1ZSwgaXNGaXJzdENoYW5nZSgpIH1gLiBVc2UgdGhpcyBob29rIHRvIHRyaWdnZXIgdXBkYXRlcyB3aXRoaW4gYVxuICogICBjb21wb25lbnQgc3VjaCBhcyBjbG9uaW5nIHRoZSBib3VuZCB2YWx1ZSB0byBwcmV2ZW50IGFjY2lkZW50YWwgbXV0YXRpb24gb2YgdGhlIG91dGVyIHZhbHVlLiBOb3RlIHRoYXQgdGhpcyB3aWxsXG4gKiAgIGFsc28gYmUgY2FsbGVkIHdoZW4geW91ciBiaW5kaW5ncyBhcmUgaW5pdGlhbGl6ZWQuXG4gKiAqIGAkZG9DaGVjaygpYCAtIENhbGxlZCBvbiBlYWNoIHR1cm4gb2YgdGhlIGRpZ2VzdCBjeWNsZS4gUHJvdmlkZXMgYW4gb3Bwb3J0dW5pdHkgdG8gZGV0ZWN0IGFuZCBhY3Qgb25cbiAqICAgY2hhbmdlcy4gQW55IGFjdGlvbnMgdGhhdCB5b3Ugd2lzaCB0byB0YWtlIGluIHJlc3BvbnNlIHRvIHRoZSBjaGFuZ2VzIHRoYXQgeW91IGRldGVjdCBtdXN0IGJlXG4gKiAgIGludm9rZWQgZnJvbSB0aGlzIGhvb2s7IGltcGxlbWVudGluZyB0aGlzIGhhcyBubyBlZmZlY3Qgb24gd2hlbiBgJG9uQ2hhbmdlc2AgaXMgY2FsbGVkLiBGb3IgZXhhbXBsZSwgdGhpcyBob29rXG4gKiAgIGNvdWxkIGJlIHVzZWZ1bCBpZiB5b3Ugd2lzaCB0byBwZXJmb3JtIGEgZGVlcCBlcXVhbGl0eSBjaGVjaywgb3IgdG8gY2hlY2sgYSBEYXRlIG9iamVjdCwgY2hhbmdlcyB0byB3aGljaCB3b3VsZCBub3RcbiAqICAgYmUgZGV0ZWN0ZWQgYnkgQW5ndWxhckpTJ3MgY2hhbmdlIGRldGVjdG9yIGFuZCB0aHVzIG5vdCB0cmlnZ2VyIGAkb25DaGFuZ2VzYC4gVGhpcyBob29rIGlzIGludm9rZWQgd2l0aCBubyBhcmd1bWVudHM7XG4gKiAgIGlmIGRldGVjdGluZyBjaGFuZ2VzLCB5b3UgbXVzdCBzdG9yZSB0aGUgcHJldmlvdXMgdmFsdWUocykgZm9yIGNvbXBhcmlzb24gdG8gdGhlIGN1cnJlbnQgdmFsdWVzLlxuICogKiBgJG9uRGVzdHJveSgpYCAtIENhbGxlZCBvbiBhIGNvbnRyb2xsZXIgd2hlbiBpdHMgY29udGFpbmluZyBzY29wZSBpcyBkZXN0cm95ZWQuIFVzZSB0aGlzIGhvb2sgZm9yIHJlbGVhc2luZ1xuICogICBleHRlcm5hbCByZXNvdXJjZXMsIHdhdGNoZXMgYW5kIGV2ZW50IGhhbmRsZXJzLiBOb3RlIHRoYXQgY29tcG9uZW50cyBoYXZlIHRoZWlyIGAkb25EZXN0cm95KClgIGhvb2tzIGNhbGxlZCBpblxuICogICB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYCRzY29wZS4kYnJvYWRjYXN0YCBldmVudHMgYXJlIHRyaWdnZXJlZCwgd2hpY2ggaXMgdG9wIGRvd24uIFRoaXMgbWVhbnMgdGhhdCBwYXJlbnRcbiAqICAgY29tcG9uZW50cyB3aWxsIGhhdmUgdGhlaXIgYCRvbkRlc3Ryb3koKWAgaG9vayBjYWxsZWQgYmVmb3JlIGNoaWxkIGNvbXBvbmVudHMuXG4gKiAqIGAkcG9zdExpbmsoKWAgLSBDYWxsZWQgYWZ0ZXIgdGhpcyBjb250cm9sbGVyJ3MgZWxlbWVudCBhbmQgaXRzIGNoaWxkcmVuIGhhdmUgYmVlbiBsaW5rZWQuIFNpbWlsYXIgdG8gdGhlIHBvc3QtbGlua1xuICogICBmdW5jdGlvbiB0aGlzIGhvb2sgY2FuIGJlIHVzZWQgdG8gc2V0IHVwIERPTSBldmVudCBoYW5kbGVycyBhbmQgZG8gZGlyZWN0IERPTSBtYW5pcHVsYXRpb24uXG4gKiAgIE5vdGUgdGhhdCBjaGlsZCBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYHRlbXBsYXRlVXJsYCBkaXJlY3RpdmVzIHdpbGwgbm90IGhhdmUgYmVlbiBjb21waWxlZCBhbmQgbGlua2VkIHNpbmNlXG4gKiAgIHRoZXkgYXJlIHdhaXRpbmcgZm9yIHRoZWlyIHRlbXBsYXRlIHRvIGxvYWQgYXN5bmNocm9ub3VzbHkgYW5kIHRoZWlyIG93biBjb21waWxhdGlvbiBhbmQgbGlua2luZyBoYXMgYmVlblxuICogICBzdXNwZW5kZWQgdW50aWwgdGhhdCBvY2N1cnMuXG4gKlxuICogIyMjIyBDb21wYXJpc29uIHdpdGggbGlmZS1jeWNsZSBob29rcyBpbiB0aGUgbmV3IEFuZ3VsYXJcbiAqIFRoZSBuZXcgQW5ndWxhciBhbHNvIHVzZXMgbGlmZS1jeWNsZSBob29rcyBmb3IgaXRzIGNvbXBvbmVudHMuIFdoaWxlIHRoZSBBbmd1bGFySlMgbGlmZS1jeWNsZSBob29rcyBhcmUgc2ltaWxhciB0aGVyZSBhcmVcbiAqIHNvbWUgZGlmZmVyZW5jZXMgdGhhdCB5b3Ugc2hvdWxkIGJlIGF3YXJlIG9mLCBlc3BlY2lhbGx5IHdoZW4gaXQgY29tZXMgdG8gbW92aW5nIHlvdXIgY29kZSBmcm9tIEFuZ3VsYXJKUyB0byBBbmd1bGFyOlxuICpcbiAqICogQW5ndWxhckpTIGhvb2tzIGFyZSBwcmVmaXhlZCB3aXRoIGAkYCwgc3VjaCBhcyBgJG9uSW5pdGAuIEFuZ3VsYXIgaG9va3MgYXJlIHByZWZpeGVkIHdpdGggYG5nYCwgc3VjaCBhcyBgbmdPbkluaXRgLlxuICogKiBBbmd1bGFySlMgaG9va3MgY2FuIGJlIGRlZmluZWQgb24gdGhlIGNvbnRyb2xsZXIgcHJvdG90eXBlIG9yIGFkZGVkIHRvIHRoZSBjb250cm9sbGVyIGluc2lkZSBpdHMgY29uc3RydWN0b3IuXG4gKiAgIEluIEFuZ3VsYXIgeW91IGNhbiBvbmx5IGRlZmluZSBob29rcyBvbiB0aGUgcHJvdG90eXBlIG9mIHRoZSBDb21wb25lbnQgY2xhc3MuXG4gKiAqIER1ZSB0byB0aGUgZGlmZmVyZW5jZXMgaW4gY2hhbmdlLWRldGVjdGlvbiwgeW91IG1heSBnZXQgbWFueSBtb3JlIGNhbGxzIHRvIGAkZG9DaGVja2AgaW4gQW5ndWxhckpTIHRoYW4geW91IHdvdWxkIHRvXG4gKiAgIGBuZ0RvQ2hlY2tgIGluIEFuZ3VsYXIuXG4gKiAqIENoYW5nZXMgdG8gdGhlIG1vZGVsIGluc2lkZSBgJGRvQ2hlY2tgIHdpbGwgdHJpZ2dlciBuZXcgdHVybnMgb2YgdGhlIGRpZ2VzdCBsb29wLCB3aGljaCB3aWxsIGNhdXNlIHRoZSBjaGFuZ2VzIHRvIGJlXG4gKiAgIHByb3BhZ2F0ZWQgdGhyb3VnaG91dCB0aGUgYXBwbGljYXRpb24uXG4gKiAgIEFuZ3VsYXIgZG9lcyBub3QgYWxsb3cgdGhlIGBuZ0RvQ2hlY2tgIGhvb2sgdG8gdHJpZ2dlciBhIGNoYW5nZSBvdXRzaWRlIG9mIHRoZSBjb21wb25lbnQuIEl0IHdpbGwgZWl0aGVyIHRocm93IGFuXG4gKiAgIGVycm9yIG9yIGRvIG5vdGhpbmcgZGVwZW5kaW5nIHVwb24gdGhlIHN0YXRlIG9mIGBlbmFibGVQcm9kTW9kZSgpYC5cbiAqXG4gKiAjIyMjIExpZmUtY3ljbGUgaG9vayBleGFtcGxlc1xuICpcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgeW91IGNhbiBjaGVjayBmb3IgbXV0YXRpb25zIHRvIGEgRGF0ZSBvYmplY3QgZXZlbiB0aG91Z2ggdGhlIGlkZW50aXR5IG9mIHRoZSBvYmplY3RcbiAqIGhhcyBub3QgY2hhbmdlZC5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwiZG9DaGVja0RhdGVFeGFtcGxlXCIgbW9kdWxlPVwiZG8tY2hlY2stbW9kdWxlXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICAgICBhbmd1bGFyLm1vZHVsZSgnZG8tY2hlY2stbW9kdWxlJywgW10pXG4gKiAgICAgICAuY29tcG9uZW50KCdhcHAnLCB7XG4gKiAgICAgICAgIHRlbXBsYXRlOlxuICogICAgICAgICAgICdNb250aDogPGlucHV0IG5nLW1vZGVsPVwiJGN0cmwubW9udGhcIiBuZy1jaGFuZ2U9XCIkY3RybC51cGRhdGVEYXRlKClcIj4nICtcbiAqICAgICAgICAgICAnRGF0ZToge3sgJGN0cmwuZGF0ZSB9fScgK1xuICogICAgICAgICAgICc8dGVzdCBkYXRlPVwiJGN0cmwuZGF0ZVwiPjwvdGVzdD4nLFxuICogICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZSgpO1xuICogICAgICAgICAgIHRoaXMubW9udGggPSB0aGlzLmRhdGUuZ2V0TW9udGgoKTtcbiAqICAgICAgICAgICB0aGlzLnVwZGF0ZURhdGUgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgIHRoaXMuZGF0ZS5zZXRNb250aCh0aGlzLm1vbnRoKTtcbiAqICAgICAgICAgICB9O1xuICogICAgICAgICB9XG4gKiAgICAgICB9KVxuICogICAgICAgLmNvbXBvbmVudCgndGVzdCcsIHtcbiAqICAgICAgICAgYmluZGluZ3M6IHsgZGF0ZTogJzwnIH0sXG4gKiAgICAgICAgIHRlbXBsYXRlOlxuICogICAgICAgICAgICc8cHJlPnt7ICRjdHJsLmxvZyB8IGpzb24gfX08L3ByZT4nLFxuICogICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICB2YXIgcHJldmlvdXNWYWx1ZTtcbiAqICAgICAgICAgICB0aGlzLmxvZyA9IFtdO1xuICogICAgICAgICAgIHRoaXMuJGRvQ2hlY2sgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSB0aGlzLmRhdGUgJiYgdGhpcy5kYXRlLnZhbHVlT2YoKTtcbiAqICAgICAgICAgICAgIGlmIChwcmV2aW91c1ZhbHVlICE9PSBjdXJyZW50VmFsdWUpIHtcbiAqICAgICAgICAgICAgICAgdGhpcy5sb2cucHVzaCgnZG9DaGVjazogZGF0ZSBtdXRhdGVkOiAnICsgdGhpcy5kYXRlKTtcbiAqICAgICAgICAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRWYWx1ZTtcbiAqICAgICAgICAgICAgIH1cbiAqICAgICAgICAgICB9O1xuICogICAgICAgICB9XG4gKiAgICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxhcHA+PC9hcHA+XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiBUaGlzIGV4YW1wbGUgc2hvdyBob3cgeW91IG1pZ2h0IHVzZSBgJGRvQ2hlY2tgIHRvIHRyaWdnZXIgY2hhbmdlcyBpbiB5b3VyIGNvbXBvbmVudCdzIGlucHV0cyBldmVuIGlmIHRoZVxuICogYWN0dWFsIGlkZW50aXR5IG9mIHRoZSBjb21wb25lbnQgZG9lc24ndCBjaGFuZ2UuIChCZSBhd2FyZSB0aGF0IGNsb25pbmcgYW5kIGRlZXAgZXF1YWxpdHkgY2hlY2tzIG9uIGxhcmdlXG4gKiBhcnJheXMgb3Igb2JqZWN0cyBjYW4gaGF2ZSBhIG5lZ2F0aXZlIGltcGFjdCBvbiB5b3VyIGFwcGxpY2F0aW9uIHBlcmZvcm1hbmNlKVxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJkb0NoZWNrQXJyYXlFeGFtcGxlXCIgbW9kdWxlPVwiZG8tY2hlY2stbW9kdWxlXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICAgPGRpdiBuZy1pbml0PVwiaXRlbXMgPSBbXVwiPlxuICogICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIml0ZW1zLnB1c2goaXRlbXMubGVuZ3RoKVwiPkFkZCBJdGVtPC9idXR0b24+XG4gKiAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiaXRlbXMgPSBbXVwiPlJlc2V0IEl0ZW1zPC9idXR0b24+XG4gKiAgICAgICA8cHJlPnt7IGl0ZW1zIH19PC9wcmU+XG4gKiAgICAgICA8dGVzdCBpdGVtcz1cIml0ZW1zXCI+PC90ZXN0PlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICAgICAgYW5ndWxhci5tb2R1bGUoJ2RvLWNoZWNrLW1vZHVsZScsIFtdKVxuICogICAgICAgIC5jb21wb25lbnQoJ3Rlc3QnLCB7XG4gKiAgICAgICAgICBiaW5kaW5nczogeyBpdGVtczogJzwnIH0sXG4gKiAgICAgICAgICB0ZW1wbGF0ZTpcbiAqICAgICAgICAgICAgJzxwcmU+e3sgJGN0cmwubG9nIHwganNvbiB9fTwvcHJlPicsXG4gKiAgICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgdGhpcy5sb2cgPSBbXTtcbiAqXG4gKiAgICAgICAgICAgIHRoaXMuJGRvQ2hlY2sgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAgICBpZiAodGhpcy5pdGVtc19yZWYgIT09IHRoaXMuaXRlbXMpIHtcbiAqICAgICAgICAgICAgICAgIHRoaXMubG9nLnB1c2goJ2RvQ2hlY2s6IGl0ZW1zIGNoYW5nZWQnKTtcbiAqICAgICAgICAgICAgICAgIHRoaXMuaXRlbXNfcmVmID0gdGhpcy5pdGVtcztcbiAqICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmVxdWFscyh0aGlzLml0ZW1zX2Nsb25lLCB0aGlzLml0ZW1zKSkge1xuICogICAgICAgICAgICAgICAgdGhpcy5sb2cucHVzaCgnZG9DaGVjazogaXRlbXMgbXV0YXRlZCcpO1xuICogICAgICAgICAgICAgICAgdGhpcy5pdGVtc19jbG9uZSA9IGFuZ3VsYXIuY29weSh0aGlzLml0ZW1zKTtcbiAqICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgIH07XG4gKiAgICAgICAgICB9XG4gKiAgICAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKlxuICogIyMjIERpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdFxuICpcbiAqIFRoZSBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3QgcHJvdmlkZXMgaW5zdHJ1Y3Rpb25zIHRvIHRoZSB7QGxpbmsgbmcuJGNvbXBpbGVcbiAqIGNvbXBpbGVyfS4gVGhlIGF0dHJpYnV0ZXMgYXJlOlxuICpcbiAqICMjIyMgYG11bHRpRWxlbWVudGBcbiAqIFdoZW4gdGhpcyBwcm9wZXJ0eSBpcyBzZXQgdG8gdHJ1ZSAoZGVmYXVsdCBpcyBgZmFsc2VgKSwgdGhlIEhUTUwgY29tcGlsZXIgd2lsbCBjb2xsZWN0IERPTSBub2RlcyBiZXR3ZWVuXG4gKiBub2RlcyB3aXRoIHRoZSBhdHRyaWJ1dGVzIGBkaXJlY3RpdmUtbmFtZS1zdGFydGAgYW5kIGBkaXJlY3RpdmUtbmFtZS1lbmRgLCBhbmQgZ3JvdXAgdGhlbVxuICogdG9nZXRoZXIgYXMgdGhlIGRpcmVjdGl2ZSBlbGVtZW50cy4gSXQgaXMgcmVjb21tZW5kZWQgdGhhdCB0aGlzIGZlYXR1cmUgYmUgdXNlZCBvbiBkaXJlY3RpdmVzXG4gKiB3aGljaCBhcmUgbm90IHN0cmljdGx5IGJlaGF2aW9yYWwgKHN1Y2ggYXMge0BsaW5rIG5nQ2xpY2t9KSwgYW5kIHdoaWNoXG4gKiBkbyBub3QgbWFuaXB1bGF0ZSBvciByZXBsYWNlIGNoaWxkIG5vZGVzIChzdWNoIGFzIHtAbGluayBuZ0luY2x1ZGV9KS5cbiAqXG4gKiAjIyMjIGBwcmlvcml0eWBcbiAqIFdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGRpcmVjdGl2ZXMgZGVmaW5lZCBvbiBhIHNpbmdsZSBET00gZWxlbWVudCwgc29tZXRpbWVzIGl0XG4gKiBpcyBuZWNlc3NhcnkgdG8gc3BlY2lmeSB0aGUgb3JkZXIgaW4gd2hpY2ggdGhlIGRpcmVjdGl2ZXMgYXJlIGFwcGxpZWQuIFRoZSBgcHJpb3JpdHlgIGlzIHVzZWRcbiAqIHRvIHNvcnQgdGhlIGRpcmVjdGl2ZXMgYmVmb3JlIHRoZWlyIGBjb21waWxlYCBmdW5jdGlvbnMgZ2V0IGNhbGxlZC4gUHJpb3JpdHkgaXMgZGVmaW5lZCBhcyBhXG4gKiBudW1iZXIuIERpcmVjdGl2ZXMgd2l0aCBncmVhdGVyIG51bWVyaWNhbCBgcHJpb3JpdHlgIGFyZSBjb21waWxlZCBmaXJzdC4gUHJlLWxpbmsgZnVuY3Rpb25zXG4gKiBhcmUgYWxzbyBydW4gaW4gcHJpb3JpdHkgb3JkZXIsIGJ1dCBwb3N0LWxpbmsgZnVuY3Rpb25zIGFyZSBydW4gaW4gcmV2ZXJzZSBvcmRlci4gVGhlIG9yZGVyXG4gKiBvZiBkaXJlY3RpdmVzIHdpdGggdGhlIHNhbWUgcHJpb3JpdHkgaXMgdW5kZWZpbmVkLiBUaGUgZGVmYXVsdCBwcmlvcml0eSBpcyBgMGAuXG4gKlxuICogIyMjIyBgdGVybWluYWxgXG4gKiBJZiBzZXQgdG8gdHJ1ZSB0aGVuIHRoZSBjdXJyZW50IGBwcmlvcml0eWAgd2lsbCBiZSB0aGUgbGFzdCBzZXQgb2YgZGlyZWN0aXZlc1xuICogd2hpY2ggd2lsbCBleGVjdXRlIChhbnkgZGlyZWN0aXZlcyBhdCB0aGUgY3VycmVudCBwcmlvcml0eSB3aWxsIHN0aWxsIGV4ZWN1dGVcbiAqIGFzIHRoZSBvcmRlciBvZiBleGVjdXRpb24gb24gc2FtZSBgcHJpb3JpdHlgIGlzIHVuZGVmaW5lZCkuIE5vdGUgdGhhdCBleHByZXNzaW9uc1xuICogYW5kIG90aGVyIGRpcmVjdGl2ZXMgdXNlZCBpbiB0aGUgZGlyZWN0aXZlJ3MgdGVtcGxhdGUgd2lsbCBhbHNvIGJlIGV4Y2x1ZGVkIGZyb20gZXhlY3V0aW9uLlxuICpcbiAqICMjIyMgYHNjb3BlYFxuICogVGhlIHNjb3BlIHByb3BlcnR5IGNhbiBiZSBgZmFsc2VgLCBgdHJ1ZWAsIG9yIGFuIG9iamVjdDpcbiAqXG4gKiAqICoqYGZhbHNlYCAoZGVmYXVsdCk6KiogTm8gc2NvcGUgd2lsbCBiZSBjcmVhdGVkIGZvciB0aGUgZGlyZWN0aXZlLiBUaGUgZGlyZWN0aXZlIHdpbGwgdXNlIGl0c1xuICogcGFyZW50J3Mgc2NvcGUuXG4gKlxuICogKiAqKmB0cnVlYDoqKiBBIG5ldyBjaGlsZCBzY29wZSB0aGF0IHByb3RvdHlwaWNhbGx5IGluaGVyaXRzIGZyb20gaXRzIHBhcmVudCB3aWxsIGJlIGNyZWF0ZWQgZm9yXG4gKiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudC4gSWYgbXVsdGlwbGUgZGlyZWN0aXZlcyBvbiB0aGUgc2FtZSBlbGVtZW50IHJlcXVlc3QgYSBuZXcgc2NvcGUsXG4gKiBvbmx5IG9uZSBuZXcgc2NvcGUgaXMgY3JlYXRlZC5cbiAqXG4gKiAqICoqYHsuLi59YCAoYW4gb2JqZWN0IGhhc2gpOioqIEEgbmV3IFwiaXNvbGF0ZVwiIHNjb3BlIGlzIGNyZWF0ZWQgZm9yIHRoZSBkaXJlY3RpdmUncyB0ZW1wbGF0ZS5cbiAqIFRoZSAnaXNvbGF0ZScgc2NvcGUgZGlmZmVycyBmcm9tIG5vcm1hbCBzY29wZSBpbiB0aGF0IGl0IGRvZXMgbm90IHByb3RvdHlwaWNhbGx5XG4gKiBpbmhlcml0IGZyb20gaXRzIHBhcmVudCBzY29wZS4gVGhpcyBpcyB1c2VmdWwgd2hlbiBjcmVhdGluZyByZXVzYWJsZSBjb21wb25lbnRzLCB3aGljaCBzaG91bGQgbm90XG4gKiBhY2NpZGVudGFsbHkgcmVhZCBvciBtb2RpZnkgZGF0YSBpbiB0aGUgcGFyZW50IHNjb3BlLiBOb3RlIHRoYXQgYW4gaXNvbGF0ZSBzY29wZVxuICogZGlyZWN0aXZlIHdpdGhvdXQgYSBgdGVtcGxhdGVgIG9yIGB0ZW1wbGF0ZVVybGAgd2lsbCBub3QgYXBwbHkgdGhlIGlzb2xhdGUgc2NvcGVcbiAqIHRvIGl0cyBjaGlsZHJlbiBlbGVtZW50cy5cbiAqXG4gKiBUaGUgJ2lzb2xhdGUnIHNjb3BlIG9iamVjdCBoYXNoIGRlZmluZXMgYSBzZXQgb2YgbG9jYWwgc2NvcGUgcHJvcGVydGllcyBkZXJpdmVkIGZyb20gYXR0cmlidXRlcyBvbiB0aGVcbiAqIGRpcmVjdGl2ZSdzIGVsZW1lbnQuIFRoZXNlIGxvY2FsIHByb3BlcnRpZXMgYXJlIHVzZWZ1bCBmb3IgYWxpYXNpbmcgdmFsdWVzIGZvciB0ZW1wbGF0ZXMuIFRoZSBrZXlzIGluXG4gKiB0aGUgb2JqZWN0IGhhc2ggbWFwIHRvIHRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSBvbiB0aGUgaXNvbGF0ZSBzY29wZTsgdGhlIHZhbHVlcyBkZWZpbmUgaG93IHRoZSBwcm9wZXJ0eVxuICogaXMgYm91bmQgdG8gdGhlIHBhcmVudCBzY29wZSwgdmlhIG1hdGNoaW5nIGF0dHJpYnV0ZXMgb24gdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQ6XG4gKlxuICogKiBgQGAgb3IgYEBhdHRyYCAtIGJpbmQgYSBsb2NhbCBzY29wZSBwcm9wZXJ0eSB0byB0aGUgdmFsdWUgb2YgRE9NIGF0dHJpYnV0ZS4gVGhlIHJlc3VsdCBpc1xuICogICBhbHdheXMgYSBzdHJpbmcgc2luY2UgRE9NIGF0dHJpYnV0ZXMgYXJlIHN0cmluZ3MuIElmIG5vIGBhdHRyYCBuYW1lIGlzIHNwZWNpZmllZCB0aGVuIHRoZVxuICogICBhdHRyaWJ1dGUgbmFtZSBpcyBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBsb2NhbCBuYW1lLiBHaXZlbiBgPG15LWNvbXBvbmVudFxuICogICBteS1hdHRyPVwiaGVsbG8ge3tuYW1lfX1cIj5gIGFuZCB0aGUgaXNvbGF0ZSBzY29wZSBkZWZpbml0aW9uIGBzY29wZTogeyBsb2NhbE5hbWU6J0BteUF0dHInIH1gLFxuICogICB0aGUgZGlyZWN0aXZlJ3Mgc2NvcGUgcHJvcGVydHkgYGxvY2FsTmFtZWAgd2lsbCByZWZsZWN0IHRoZSBpbnRlcnBvbGF0ZWQgdmFsdWUgb2YgYGhlbGxvXG4gKiAgIHt7bmFtZX19YC4gQXMgdGhlIGBuYW1lYCBhdHRyaWJ1dGUgY2hhbmdlcyBzbyB3aWxsIHRoZSBgbG9jYWxOYW1lYCBwcm9wZXJ0eSBvbiB0aGUgZGlyZWN0aXZlJ3NcbiAqICAgc2NvcGUuIFRoZSBgbmFtZWAgaXMgcmVhZCBmcm9tIHRoZSBwYXJlbnQgc2NvcGUgKG5vdCB0aGUgZGlyZWN0aXZlJ3Mgc2NvcGUpLlxuICpcbiAqICogYD1gIG9yIGA9YXR0cmAgLSBzZXQgdXAgYSBiaWRpcmVjdGlvbmFsIGJpbmRpbmcgYmV0d2VlbiBhIGxvY2FsIHNjb3BlIHByb3BlcnR5IGFuZCBhbiBleHByZXNzaW9uXG4gKiAgIHBhc3NlZCB2aWEgdGhlIGF0dHJpYnV0ZSBgYXR0cmAuIFRoZSBleHByZXNzaW9uIGlzIGV2YWx1YXRlZCBpbiB0aGUgY29udGV4dCBvZiB0aGUgcGFyZW50IHNjb3BlLlxuICogICBJZiBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgYXR0cmlidXRlIG5hbWUgaXMgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgbG9jYWxcbiAqICAgbmFtZS4gR2l2ZW4gYDxteS1jb21wb25lbnQgbXktYXR0cj1cInBhcmVudE1vZGVsXCI+YCBhbmQgdGhlIGlzb2xhdGUgc2NvcGUgZGVmaW5pdGlvbiBgc2NvcGU6IHtcbiAqICAgbG9jYWxNb2RlbDogJz1teUF0dHInIH1gLCB0aGUgcHJvcGVydHkgYGxvY2FsTW9kZWxgIG9uIHRoZSBkaXJlY3RpdmUncyBzY29wZSB3aWxsIHJlZmxlY3QgdGhlXG4gKiAgIHZhbHVlIG9mIGBwYXJlbnRNb2RlbGAgb24gdGhlIHBhcmVudCBzY29wZS4gQ2hhbmdlcyB0byBgcGFyZW50TW9kZWxgIHdpbGwgYmUgcmVmbGVjdGVkIGluXG4gKiAgIGBsb2NhbE1vZGVsYCBhbmQgdmljZSB2ZXJzYS4gSWYgdGhlIGJpbmRpbmcgZXhwcmVzc2lvbiBpcyBub24tYXNzaWduYWJsZSwgb3IgaWYgdGhlIGF0dHJpYnV0ZVxuICogICBpc24ndCAgb3B0aW9uYWwgYW5kIGRvZXNuJ3QgZXhpc3QsIGFuIGV4Y2VwdGlvblxuICogICAoe0BsaW5rIGVycm9yLyRjb21waWxlL25vbmFzc2lnbiBgJGNvbXBpbGU6bm9uYXNzaWduYH0pIHdpbGwgYmUgdGhyb3duIHVwb24gZGlzY292ZXJpbmcgY2hhbmdlc1xuICogICB0byB0aGUgbG9jYWwgdmFsdWUsIHNpbmNlIGl0IHdpbGwgYmUgaW1wb3NzaWJsZSB0byBzeW5jIHRoZW0gYmFjayB0byB0aGUgcGFyZW50IHNjb3BlLlxuICpcbiAqICAgQnkgZGVmYXVsdCwgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCBgJHdhdGNoYH1cbiAqICAgbWV0aG9kIGlzIHVzZWQgZm9yIHRyYWNraW5nIGNoYW5nZXMsIGFuZCB0aGUgZXF1YWxpdHkgY2hlY2sgaXMgYmFzZWQgb24gb2JqZWN0IGlkZW50aXR5LlxuICogICBIb3dldmVyLCBpZiBhbiBvYmplY3QgbGl0ZXJhbCBvciBhbiBhcnJheSBsaXRlcmFsIGlzIHBhc3NlZCBhcyB0aGUgYmluZGluZyBleHByZXNzaW9uLCB0aGVcbiAqICAgZXF1YWxpdHkgY2hlY2sgaXMgZG9uZSBieSB2YWx1ZSAodXNpbmcgdGhlIHtAbGluayBhbmd1bGFyLmVxdWFsc30gZnVuY3Rpb24pLiBJdCdzIGFsc28gcG9zc2libGVcbiAqICAgdG8gd2F0Y2ggdGhlIGV2YWx1YXRlZCB2YWx1ZSBzaGFsbG93bHkgd2l0aCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2hDb2xsZWN0aW9uXG4gKiAgIGAkd2F0Y2hDb2xsZWN0aW9uYH06IHVzZSBgPSpgIG9yIGA9KmF0dHJgXG4gKlxuICAqICogYDxgIG9yIGA8YXR0cmAgLSBzZXQgdXAgYSBvbmUtd2F5IChvbmUtZGlyZWN0aW9uYWwpIGJpbmRpbmcgYmV0d2VlbiBhIGxvY2FsIHNjb3BlIHByb3BlcnR5IGFuZCBhblxuICogICBleHByZXNzaW9uIHBhc3NlZCB2aWEgdGhlIGF0dHJpYnV0ZSBgYXR0cmAuIFRoZSBleHByZXNzaW9uIGlzIGV2YWx1YXRlZCBpbiB0aGUgY29udGV4dCBvZiB0aGVcbiAqICAgcGFyZW50IHNjb3BlLiBJZiBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgYXR0cmlidXRlIG5hbWUgaXMgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyB0aGVcbiAqICAgbG9jYWwgbmFtZS5cbiAqXG4gKiAgIEZvciBleGFtcGxlLCBnaXZlbiBgPG15LWNvbXBvbmVudCBteS1hdHRyPVwicGFyZW50TW9kZWxcIj5gIGFuZCBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvZlxuICogICBgc2NvcGU6IHsgbG9jYWxNb2RlbDonPG15QXR0cicgfWAsIHRoZW4gdGhlIGlzb2xhdGVkIHNjb3BlIHByb3BlcnR5IGBsb2NhbE1vZGVsYCB3aWxsIHJlZmxlY3QgdGhlXG4gKiAgIHZhbHVlIG9mIGBwYXJlbnRNb2RlbGAgb24gdGhlIHBhcmVudCBzY29wZS4gQW55IGNoYW5nZXMgdG8gYHBhcmVudE1vZGVsYCB3aWxsIGJlIHJlZmxlY3RlZFxuICogICBpbiBgbG9jYWxNb2RlbGAsIGJ1dCBjaGFuZ2VzIGluIGBsb2NhbE1vZGVsYCB3aWxsIG5vdCByZWZsZWN0IGluIGBwYXJlbnRNb2RlbGAuIFRoZXJlIGFyZSBob3dldmVyXG4gKiAgIHR3byBjYXZlYXRzOlxuICogICAgIDEuIG9uZS13YXkgYmluZGluZyBkb2VzIG5vdCBjb3B5IHRoZSB2YWx1ZSBmcm9tIHRoZSBwYXJlbnQgdG8gdGhlIGlzb2xhdGUgc2NvcGUsIGl0IHNpbXBseVxuICogICAgIHNldHMgdGhlIHNhbWUgdmFsdWUuIFRoYXQgbWVhbnMgaWYgeW91ciBib3VuZCB2YWx1ZSBpcyBhbiBvYmplY3QsIGNoYW5nZXMgdG8gaXRzIHByb3BlcnRpZXNcbiAqICAgICBpbiB0aGUgaXNvbGF0ZWQgc2NvcGUgd2lsbCBiZSByZWZsZWN0ZWQgaW4gdGhlIHBhcmVudCBzY29wZSAoYmVjYXVzZSBib3RoIHJlZmVyZW5jZSB0aGUgc2FtZSBvYmplY3QpLlxuICogICAgIDIuIG9uZS13YXkgYmluZGluZyB3YXRjaGVzIGNoYW5nZXMgdG8gdGhlICoqaWRlbnRpdHkqKiBvZiB0aGUgcGFyZW50IHZhbHVlLiBUaGF0IG1lYW5zIHRoZVxuICogICAgIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCBgJHdhdGNoYH0gb24gdGhlIHBhcmVudCB2YWx1ZSBvbmx5IGZpcmVzIGlmIHRoZSByZWZlcmVuY2VcbiAqICAgICB0byB0aGUgdmFsdWUgaGFzIGNoYW5nZWQuIEluIG1vc3QgY2FzZXMsIHRoaXMgc2hvdWxkIG5vdCBiZSBvZiBjb25jZXJuLCBidXQgY2FuIGJlIGltcG9ydGFudFxuICogICAgIHRvIGtub3cgaWYgeW91IG9uZS13YXkgYmluZCB0byBhbiBvYmplY3QsIGFuZCB0aGVuIHJlcGxhY2UgdGhhdCBvYmplY3QgaW4gdGhlIGlzb2xhdGVkIHNjb3BlLlxuICogICAgIElmIHlvdSBub3cgY2hhbmdlIGEgcHJvcGVydHkgb2YgdGhlIG9iamVjdCBpbiB5b3VyIHBhcmVudCBzY29wZSwgdGhlIGNoYW5nZSB3aWxsIG5vdCBiZVxuICogICAgIHByb3BhZ2F0ZWQgdG8gdGhlIGlzb2xhdGVkIHNjb3BlLCBiZWNhdXNlIHRoZSBpZGVudGl0eSBvZiB0aGUgb2JqZWN0IG9uIHRoZSBwYXJlbnQgc2NvcGVcbiAqICAgICBoYXMgbm90IGNoYW5nZWQuIEluc3RlYWQgeW91IG11c3QgYXNzaWduIGEgbmV3IG9iamVjdC5cbiAqXG4gKiAgIE9uZS13YXkgYmluZGluZyBpcyB1c2VmdWwgaWYgeW91IGRvIG5vdCBwbGFuIHRvIHByb3BhZ2F0ZSBjaGFuZ2VzIHRvIHlvdXIgaXNvbGF0ZWQgc2NvcGUgYmluZGluZ3NcbiAqICAgYmFjayB0byB0aGUgcGFyZW50LiBIb3dldmVyLCBpdCBkb2VzIG5vdCBtYWtlIHRoaXMgY29tcGxldGVseSBpbXBvc3NpYmxlLlxuICpcbiAqICAgQnkgZGVmYXVsdCwgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCBgJHdhdGNoYH1cbiAqICAgbWV0aG9kIGlzIHVzZWQgZm9yIHRyYWNraW5nIGNoYW5nZXMsIGFuZCB0aGUgZXF1YWxpdHkgY2hlY2sgaXMgYmFzZWQgb24gb2JqZWN0IGlkZW50aXR5LlxuICogICBJdCdzIGFsc28gcG9zc2libGUgdG8gd2F0Y2ggdGhlIGV2YWx1YXRlZCB2YWx1ZSBzaGFsbG93bHkgd2l0aFxuICogICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2hDb2xsZWN0aW9uIGAkd2F0Y2hDb2xsZWN0aW9uYH06IHVzZSBgPCpgIG9yIGA8KmF0dHJgXG4gKlxuICogKiBgJmAgb3IgYCZhdHRyYCAtIHByb3ZpZGVzIGEgd2F5IHRvIGV4ZWN1dGUgYW4gZXhwcmVzc2lvbiBpbiB0aGUgY29udGV4dCBvZiB0aGUgcGFyZW50IHNjb3BlLiBJZlxuICogICBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgYXR0cmlidXRlIG5hbWUgaXMgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgbG9jYWwgbmFtZS5cbiAqICAgR2l2ZW4gYDxteS1jb21wb25lbnQgbXktYXR0cj1cImNvdW50ID0gY291bnQgKyB2YWx1ZVwiPmAgYW5kIHRoZSBpc29sYXRlIHNjb3BlIGRlZmluaXRpb24gYHNjb3BlOiB7XG4gKiAgIGxvY2FsRm46JyZteUF0dHInIH1gLCB0aGUgaXNvbGF0ZSBzY29wZSBwcm9wZXJ0eSBgbG9jYWxGbmAgd2lsbCBwb2ludCB0byBhIGZ1bmN0aW9uIHdyYXBwZXIgZm9yXG4gKiAgIHRoZSBgY291bnQgPSBjb3VudCArIHZhbHVlYCBleHByZXNzaW9uLiBPZnRlbiBpdCdzIGRlc2lyYWJsZSB0byBwYXNzIGRhdGEgZnJvbSB0aGUgaXNvbGF0ZWQgc2NvcGVcbiAqICAgdmlhIGFuIGV4cHJlc3Npb24gdG8gdGhlIHBhcmVudCBzY29wZS4gVGhpcyBjYW4gYmUgZG9uZSBieSBwYXNzaW5nIGEgbWFwIG9mIGxvY2FsIHZhcmlhYmxlIG5hbWVzXG4gKiAgIGFuZCB2YWx1ZXMgaW50byB0aGUgZXhwcmVzc2lvbiB3cmFwcGVyIGZuLiBGb3IgZXhhbXBsZSwgaWYgdGhlIGV4cHJlc3Npb24gaXMgYGluY3JlbWVudChhbW91bnQpYFxuICogICB0aGVuIHdlIGNhbiBzcGVjaWZ5IHRoZSBhbW91bnQgdmFsdWUgYnkgY2FsbGluZyB0aGUgYGxvY2FsRm5gIGFzIGBsb2NhbEZuKHthbW91bnQ6IDIyfSlgLlxuICpcbiAqIEFsbCA0IGtpbmRzIG9mIGJpbmRpbmdzIChgQGAsIGA9YCwgYDxgLCBhbmQgYCZgKSBjYW4gYmUgbWFkZSBvcHRpb25hbCBieSBhZGRpbmcgYD9gIHRvIHRoZSBleHByZXNzaW9uLlxuICogVGhlIG1hcmtlciBtdXN0IGNvbWUgYWZ0ZXIgdGhlIG1vZGUgYW5kIGJlZm9yZSB0aGUgYXR0cmlidXRlIG5hbWUuXG4gKiBTZWUgdGhlIHtAbGluayBlcnJvci8kY29tcGlsZS9pc2NwIEludmFsaWQgSXNvbGF0ZSBTY29wZSBEZWZpbml0aW9uIGVycm9yfSBmb3IgZGVmaW5pdGlvbiBleGFtcGxlcy5cbiAqIFRoaXMgaXMgdXNlZnVsIHRvIHJlZmluZSB0aGUgaW50ZXJmYWNlIGRpcmVjdGl2ZXMgcHJvdmlkZS5cbiAqIE9uZSBzdWJ0bGUgZGlmZmVyZW5jZSBiZXR3ZWVuIG9wdGlvbmFsIGFuZCBub24tb3B0aW9uYWwgaGFwcGVucyAqKndoZW4gdGhlIGJpbmRpbmcgYXR0cmlidXRlIGlzIG5vdFxuICogc2V0Kio6XG4gKiAtIHRoZSBiaW5kaW5nIGlzIG9wdGlvbmFsOiB0aGUgcHJvcGVydHkgd2lsbCBub3QgYmUgZGVmaW5lZFxuICogLSB0aGUgYmluZGluZyBpcyBub3Qgb3B0aW9uYWw6IHRoZSBwcm9wZXJ0eSBpcyBkZWZpbmVkXG4gKlxuICogYGBganNcbiAqYXBwLmRpcmVjdGl2ZSgndGVzdERpcicsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzY29wZToge1xuICAgICAgICBub3RvcHRpb25hbDogJz0nLFxuICAgICAgICBvcHRpb25hbDogJz0/JyxcbiAgICAgIH0sXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxuICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaGFzT3duUHJvcGVydHkoJ25vdG9wdGlvbmFsJykpIC8vIHRydWVcbiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmhhc093blByb3BlcnR5KCdvcHRpb25hbCcpKSAvLyBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KVxuICpgYGBcbiAqXG4gKlxuICogIyMjIyMgQ29tYmluaW5nIGRpcmVjdGl2ZXMgd2l0aCBkaWZmZXJlbnQgc2NvcGUgZGVmaW50aW9uc1xuICpcbiAqIEluIGdlbmVyYWwgaXQncyBwb3NzaWJsZSB0byBhcHBseSBtb3JlIHRoYW4gb25lIGRpcmVjdGl2ZSB0byBvbmUgZWxlbWVudCwgYnV0IHRoZXJlIG1pZ2h0IGJlIGxpbWl0YXRpb25zXG4gKiBkZXBlbmRpbmcgb24gdGhlIHR5cGUgb2Ygc2NvcGUgcmVxdWlyZWQgYnkgdGhlIGRpcmVjdGl2ZXMuIFRoZSBmb2xsb3dpbmcgcG9pbnRzIHdpbGwgaGVscCBleHBsYWluIHRoZXNlIGxpbWl0YXRpb25zLlxuICogRm9yIHNpbXBsaWNpdHkgb25seSB0d28gZGlyZWN0aXZlcyBhcmUgdGFrZW4gaW50byBhY2NvdW50LCBidXQgaXQgaXMgYWxzbyBhcHBsaWNhYmxlIGZvciBzZXZlcmFsIGRpcmVjdGl2ZXM6XG4gKlxuICogKiAqKm5vIHNjb3BlKiogKyAqKm5vIHNjb3BlKiogPT4gVHdvIGRpcmVjdGl2ZXMgd2hpY2ggZG9uJ3QgcmVxdWlyZSB0aGVpciBvd24gc2NvcGUgd2lsbCB1c2UgdGhlaXIgcGFyZW50J3Mgc2NvcGVcbiAqICogKipjaGlsZCBzY29wZSoqICsgKipubyBzY29wZSoqID0+ICBCb3RoIGRpcmVjdGl2ZXMgd2lsbCBzaGFyZSBvbmUgc2luZ2xlIGNoaWxkIHNjb3BlXG4gKiAqICoqY2hpbGQgc2NvcGUqKiArICoqY2hpbGQgc2NvcGUqKiA9PiAgQm90aCBkaXJlY3RpdmVzIHdpbGwgc2hhcmUgb25lIHNpbmdsZSBjaGlsZCBzY29wZVxuICogKiAqKmlzb2xhdGVkIHNjb3BlKiogKyAqKm5vIHNjb3BlKiogPT4gIFRoZSBpc29sYXRlZCBkaXJlY3RpdmUgd2lsbCB1c2UgaXQncyBvd24gY3JlYXRlZCBpc29sYXRlZCBzY29wZS4gVGhlIG90aGVyIGRpcmVjdGl2ZSB3aWxsIHVzZVxuICogaXRzIHBhcmVudCdzIHNjb3BlXG4gKiAqICoqaXNvbGF0ZWQgc2NvcGUqKiArICoqY2hpbGQgc2NvcGUqKiA9PiAgKipXb24ndCB3b3JrISoqIE9ubHkgb25lIHNjb3BlIGNhbiBiZSByZWxhdGVkIHRvIG9uZSBlbGVtZW50LiBUaGVyZWZvcmUgdGhlc2UgZGlyZWN0aXZlcyBjYW5ub3RcbiAqIGJlIGFwcGxpZWQgdG8gdGhlIHNhbWUgZWxlbWVudC5cbiAqICogKippc29sYXRlZCBzY29wZSoqICsgKippc29sYXRlZCBzY29wZSoqICA9PiAgKipXb24ndCB3b3JrISoqIE9ubHkgb25lIHNjb3BlIGNhbiBiZSByZWxhdGVkIHRvIG9uZSBlbGVtZW50LiBUaGVyZWZvcmUgdGhlc2UgZGlyZWN0aXZlc1xuICogY2Fubm90IGJlIGFwcGxpZWQgdG8gdGhlIHNhbWUgZWxlbWVudC5cbiAqXG4gKlxuICogIyMjIyBgYmluZFRvQ29udHJvbGxlcmBcbiAqIFRoaXMgcHJvcGVydHkgaXMgdXNlZCB0byBiaW5kIHNjb3BlIHByb3BlcnRpZXMgZGlyZWN0bHkgdG8gdGhlIGNvbnRyb2xsZXIuIEl0IGNhbiBiZSBlaXRoZXJcbiAqIGB0cnVlYCBvciBhbiBvYmplY3QgaGFzaCB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyB0aGUgYHNjb3BlYCBwcm9wZXJ0eS5cbiAqXG4gKiBXaGVuIGFuIGlzb2xhdGUgc2NvcGUgaXMgdXNlZCBmb3IgYSBkaXJlY3RpdmUgKHNlZSBhYm92ZSksIGBiaW5kVG9Db250cm9sbGVyOiB0cnVlYCB3aWxsXG4gKiBhbGxvdyBhIGNvbXBvbmVudCB0byBoYXZlIGl0cyBwcm9wZXJ0aWVzIGJvdW5kIHRvIHRoZSBjb250cm9sbGVyLCByYXRoZXIgdGhhbiB0byBzY29wZS5cbiAqXG4gKiBBZnRlciB0aGUgY29udHJvbGxlciBpcyBpbnN0YW50aWF0ZWQsIHRoZSBpbml0aWFsIHZhbHVlcyBvZiB0aGUgaXNvbGF0ZSBzY29wZSBiaW5kaW5ncyB3aWxsIGJlIGJvdW5kIHRvIHRoZSBjb250cm9sbGVyXG4gKiBwcm9wZXJ0aWVzLiBZb3UgY2FuIGFjY2VzcyB0aGVzZSBiaW5kaW5ncyBvbmNlIHRoZXkgaGF2ZSBiZWVuIGluaXRpYWxpemVkIGJ5IHByb3ZpZGluZyBhIGNvbnRyb2xsZXIgbWV0aG9kIGNhbGxlZFxuICogYCRvbkluaXRgLCB3aGljaCBpcyBjYWxsZWQgYWZ0ZXIgYWxsIHRoZSBjb250cm9sbGVycyBvbiBhbiBlbGVtZW50IGhhdmUgYmVlbiBjb25zdHJ1Y3RlZCBhbmQgaGFkIHRoZWlyIGJpbmRpbmdzXG4gKiBpbml0aWFsaXplZC5cbiAqXG4gKiBJdCBpcyBhbHNvIHBvc3NpYmxlIHRvIHNldCBgYmluZFRvQ29udHJvbGxlcmAgdG8gYW4gb2JqZWN0IGhhc2ggd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgdGhlIGBzY29wZWAgcHJvcGVydHkuXG4gKiBUaGlzIHdpbGwgc2V0IHVwIHRoZSBzY29wZSBiaW5kaW5ncyB0byB0aGUgY29udHJvbGxlciBkaXJlY3RseS4gTm90ZSB0aGF0IGBzY29wZWAgY2FuIHN0aWxsIGJlIHVzZWRcbiAqIHRvIGRlZmluZSB3aGljaCBraW5kIG9mIHNjb3BlIGlzIGNyZWF0ZWQuIEJ5IGRlZmF1bHQsIG5vIHNjb3BlIGlzIGNyZWF0ZWQuIFVzZSBgc2NvcGU6IHt9YCB0byBjcmVhdGUgYW4gaXNvbGF0ZVxuICogc2NvcGUgKHVzZWZ1bCBmb3IgY29tcG9uZW50IGRpcmVjdGl2ZXMpLlxuICpcbiAqIElmIGJvdGggYGJpbmRUb0NvbnRyb2xsZXJgIGFuZCBgc2NvcGVgIGFyZSBkZWZpbmVkIGFuZCBoYXZlIG9iamVjdCBoYXNoZXMsIGBiaW5kVG9Db250cm9sbGVyYCBvdmVycmlkZXMgYHNjb3BlYC5cbiAqXG4gKlxuICogIyMjIyBgY29udHJvbGxlcmBcbiAqIENvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uIFRoZSBjb250cm9sbGVyIGlzIGluc3RhbnRpYXRlZCBiZWZvcmUgdGhlXG4gKiBwcmUtbGlua2luZyBwaGFzZSBhbmQgY2FuIGJlIGFjY2Vzc2VkIGJ5IG90aGVyIGRpcmVjdGl2ZXMgKHNlZVxuICogYHJlcXVpcmVgIGF0dHJpYnV0ZSkuIFRoaXMgYWxsb3dzIHRoZSBkaXJlY3RpdmVzIHRvIGNvbW11bmljYXRlIHdpdGggZWFjaCBvdGhlciBhbmQgYXVnbWVudFxuICogZWFjaCBvdGhlcidzIGJlaGF2aW9yLiBUaGUgY29udHJvbGxlciBpcyBpbmplY3RhYmxlIChhbmQgc3VwcG9ydHMgYnJhY2tldCBub3RhdGlvbikgd2l0aCB0aGUgZm9sbG93aW5nIGxvY2FsczpcbiAqXG4gKiAqIGAkc2NvcGVgIC0gQ3VycmVudCBzY29wZSBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnRcbiAqICogYCRlbGVtZW50YCAtIEN1cnJlbnQgZWxlbWVudFxuICogKiBgJGF0dHJzYCAtIEN1cnJlbnQgYXR0cmlidXRlcyBvYmplY3QgZm9yIHRoZSBlbGVtZW50XG4gKiAqIGAkdHJhbnNjbHVkZWAgLSBBIHRyYW5zY2x1ZGUgbGlua2luZyBmdW5jdGlvbiBwcmUtYm91bmQgdG8gdGhlIGNvcnJlY3QgdHJhbnNjbHVzaW9uIHNjb3BlOlxuICogICBgZnVuY3Rpb24oW3Njb3BlXSwgY2xvbmVMaW5raW5nRm4sIGZ1dHVyZVBhcmVudEVsZW1lbnQsIHNsb3ROYW1lKWA6XG4gKiAgICAqIGBzY29wZWA6IChvcHRpb25hbCkgb3ZlcnJpZGUgdGhlIHNjb3BlLlxuICogICAgKiBgY2xvbmVMaW5raW5nRm5gOiAob3B0aW9uYWwpIGFyZ3VtZW50IHRvIGNyZWF0ZSBjbG9uZXMgb2YgdGhlIG9yaWdpbmFsIHRyYW5zY2x1ZGVkIGNvbnRlbnQuXG4gKiAgICAqIGBmdXR1cmVQYXJlbnRFbGVtZW50YCAob3B0aW9uYWwpOlxuICogICAgICAgICogZGVmaW5lcyB0aGUgcGFyZW50IHRvIHdoaWNoIHRoZSBgY2xvbmVMaW5raW5nRm5gIHdpbGwgYWRkIHRoZSBjbG9uZWQgZWxlbWVudHMuXG4gKiAgICAgICAgKiBkZWZhdWx0OiBgJGVsZW1lbnQucGFyZW50KClgIHJlc3AuIGAkZWxlbWVudGAgZm9yIGB0cmFuc2NsdWRlOidlbGVtZW50J2AgcmVzcC4gYHRyYW5zY2x1ZGU6dHJ1ZWAuXG4gKiAgICAgICAgKiBvbmx5IG5lZWRlZCBmb3IgdHJhbnNjbHVkZXMgdGhhdCBhcmUgYWxsb3dlZCB0byBjb250YWluIG5vbiBodG1sIGVsZW1lbnRzIChlLmcuIFNWRyBlbGVtZW50cylcbiAqICAgICAgICAgIGFuZCB3aGVuIHRoZSBgY2xvbmVMaW5raW5nRm5gIGlzIHBhc3NlZCxcbiAqICAgICAgICAgIGFzIHRob3NlIGVsZW1lbnRzIG5lZWQgdG8gY3JlYXRlZCBhbmQgY2xvbmVkIGluIGEgc3BlY2lhbCB3YXkgd2hlbiB0aGV5IGFyZSBkZWZpbmVkIG91dHNpZGUgdGhlaXJcbiAqICAgICAgICAgIHVzdWFsIGNvbnRhaW5lcnMgKGUuZy4gbGlrZSBgPHN2Zz5gKS5cbiAqICAgICAgICAqIFNlZSBhbHNvIHRoZSBgZGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlYCBwcm9wZXJ0eS5cbiAqICAgICogYHNsb3ROYW1lYDogKG9wdGlvbmFsKSB0aGUgbmFtZSBvZiB0aGUgc2xvdCB0byB0cmFuc2NsdWRlLiBJZiBmYWxzeSAoZS5nLiBgbnVsbGAsIGB1bmRlZmluZWRgIG9yIGAnJ2ApXG4gKiAgICAgIHRoZW4gdGhlIGRlZmF1bHQgdHJhbnNjbHVzaW9uIGlzIHByb3ZpZGVkLlxuICogICAgVGhlIGAkdHJhbnNjbHVkZWAgZnVuY3Rpb24gYWxzbyBoYXMgYSBtZXRob2Qgb24gaXQsIGAkdHJhbnNjbHVkZS5pc1Nsb3RGaWxsZWQoc2xvdE5hbWUpYCwgd2hpY2ggcmV0dXJuc1xuICogICAgYHRydWVgIGlmIHRoZSBzcGVjaWZpZWQgc2xvdCBjb250YWlucyBjb250ZW50IChpLmUuIG9uZSBvciBtb3JlIERPTSBub2RlcykuXG4gKlxuICogIyMjIyBgcmVxdWlyZWBcbiAqIFJlcXVpcmUgYW5vdGhlciBkaXJlY3RpdmUgYW5kIGluamVjdCBpdHMgY29udHJvbGxlciBhcyB0aGUgZm91cnRoIGFyZ3VtZW50IHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uLiBUaGVcbiAqIGByZXF1aXJlYCBwcm9wZXJ0eSBjYW4gYmUgYSBzdHJpbmcsIGFuIGFycmF5IG9yIGFuIG9iamVjdDpcbiAqICogYSAqKnN0cmluZyoqIGNvbnRhaW5pbmcgdGhlIG5hbWUgb2YgdGhlIGRpcmVjdGl2ZSB0byBwYXNzIHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uXG4gKiAqIGFuICoqYXJyYXkqKiBjb250YWluaW5nIHRoZSBuYW1lcyBvZiBkaXJlY3RpdmVzIHRvIHBhc3MgdG8gdGhlIGxpbmtpbmcgZnVuY3Rpb24uIFRoZSBhcmd1bWVudCBwYXNzZWQgdG8gdGhlXG4gKiBsaW5raW5nIGZ1bmN0aW9uIHdpbGwgYmUgYW4gYXJyYXkgb2YgY29udHJvbGxlcnMgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIG5hbWVzIGluIHRoZSBgcmVxdWlyZWAgcHJvcGVydHlcbiAqICogYW4gKipvYmplY3QqKiB3aG9zZSBwcm9wZXJ0eSB2YWx1ZXMgYXJlIHRoZSBuYW1lcyBvZiB0aGUgZGlyZWN0aXZlcyB0byBwYXNzIHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uLiBUaGUgYXJndW1lbnRcbiAqIHBhc3NlZCB0byB0aGUgbGlua2luZyBmdW5jdGlvbiB3aWxsIGFsc28gYmUgYW4gb2JqZWN0IHdpdGggbWF0Y2hpbmcga2V5cywgd2hvc2UgdmFsdWVzIHdpbGwgaG9sZCB0aGUgY29ycmVzcG9uZGluZ1xuICogY29udHJvbGxlcnMuXG4gKlxuICogSWYgdGhlIGByZXF1aXJlYCBwcm9wZXJ0eSBpcyBhbiBvYmplY3QgYW5kIGBiaW5kVG9Db250cm9sbGVyYCBpcyB0cnV0aHksIHRoZW4gdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXJzIGFyZVxuICogYm91bmQgdG8gdGhlIGNvbnRyb2xsZXIgdXNpbmcgdGhlIGtleXMgb2YgdGhlIGByZXF1aXJlYCBwcm9wZXJ0eS4gVGhpcyBiaW5kaW5nIG9jY3VycyBhZnRlciBhbGwgdGhlIGNvbnRyb2xsZXJzXG4gKiBoYXZlIGJlZW4gY29uc3RydWN0ZWQgYnV0IGJlZm9yZSBgJG9uSW5pdGAgaXMgY2FsbGVkLlxuICogSWYgdGhlIG5hbWUgb2YgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgaXMgdGhlIHNhbWUgYXMgdGhlIGxvY2FsIG5hbWUgKHRoZSBrZXkpLCB0aGUgbmFtZSBjYW4gYmVcbiAqIG9taXR0ZWQuIEZvciBleGFtcGxlLCBge3BhcmVudERpcjogJ15eJ31gIGlzIGVxdWl2YWxlbnQgdG8gYHtwYXJlbnREaXI6ICdeXnBhcmVudERpcid9YC5cbiAqIFNlZSB0aGUge0BsaW5rICRjb21waWxlUHJvdmlkZXIjY29tcG9uZW50fSBoZWxwZXIgZm9yIGFuIGV4YW1wbGUgb2YgaG93IHRoaXMgY2FuIGJlIHVzZWQuXG4gKiBJZiBubyBzdWNoIHJlcXVpcmVkIGRpcmVjdGl2ZShzKSBjYW4gYmUgZm91bmQsIG9yIGlmIHRoZSBkaXJlY3RpdmUgZG9lcyBub3QgaGF2ZSBhIGNvbnRyb2xsZXIsIHRoZW4gYW4gZXJyb3IgaXNcbiAqIHJhaXNlZCAodW5sZXNzIG5vIGxpbmsgZnVuY3Rpb24gaXMgc3BlY2lmaWVkIGFuZCB0aGUgcmVxdWlyZWQgY29udHJvbGxlcnMgYXJlIG5vdCBiZWluZyBib3VuZCB0byB0aGUgZGlyZWN0aXZlXG4gKiBjb250cm9sbGVyLCBpbiB3aGljaCBjYXNlIGVycm9yIGNoZWNraW5nIGlzIHNraXBwZWQpLiBUaGUgbmFtZSBjYW4gYmUgcHJlZml4ZWQgd2l0aDpcbiAqXG4gKiAqIChubyBwcmVmaXgpIC0gTG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIG9uIHRoZSBjdXJyZW50IGVsZW1lbnQuIFRocm93IGFuIGVycm9yIGlmIG5vdCBmb3VuZC5cbiAqICogYD9gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgb3IgcGFzcyBgbnVsbGAgdG8gdGhlIGBsaW5rYCBmbiBpZiBub3QgZm91bmQuXG4gKiAqIGBeYCAtIExvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBieSBzZWFyY2hpbmcgdGhlIGVsZW1lbnQgYW5kIGl0cyBwYXJlbnRzLiBUaHJvdyBhbiBlcnJvciBpZiBub3QgZm91bmQuXG4gKiAqIGBeXmAgLSBMb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50J3MgcGFyZW50cy4gVGhyb3cgYW4gZXJyb3IgaWYgbm90IGZvdW5kLlxuICogKiBgP15gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50IGFuZCBpdHMgcGFyZW50cyBvciBwYXNzXG4gKiAgIGBudWxsYCB0byB0aGUgYGxpbmtgIGZuIGlmIG5vdCBmb3VuZC5cbiAqICogYD9eXmAgLSBBdHRlbXB0IHRvIGxvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBieSBzZWFyY2hpbmcgdGhlIGVsZW1lbnQncyBwYXJlbnRzLCBvciBwYXNzXG4gKiAgIGBudWxsYCB0byB0aGUgYGxpbmtgIGZuIGlmIG5vdCBmb3VuZC5cbiAqXG4gKlxuICogIyMjIyBgY29udHJvbGxlckFzYFxuICogSWRlbnRpZmllciBuYW1lIGZvciBhIHJlZmVyZW5jZSB0byB0aGUgY29udHJvbGxlciBpbiB0aGUgZGlyZWN0aXZlJ3Mgc2NvcGUuXG4gKiBUaGlzIGFsbG93cyB0aGUgY29udHJvbGxlciB0byBiZSByZWZlcmVuY2VkIGZyb20gdGhlIGRpcmVjdGl2ZSB0ZW1wbGF0ZS4gVGhpcyBpcyBlc3BlY2lhbGx5XG4gKiB1c2VmdWwgd2hlbiBhIGRpcmVjdGl2ZSBpcyB1c2VkIGFzIGNvbXBvbmVudCwgaS5lLiB3aXRoIGFuIGBpc29sYXRlYCBzY29wZS4gSXQncyBhbHNvIHBvc3NpYmxlXG4gKiB0byB1c2UgaXQgaW4gYSBkaXJlY3RpdmUgd2l0aG91dCBhbiBgaXNvbGF0ZWAgLyBgbmV3YCBzY29wZSwgYnV0IHlvdSBuZWVkIHRvIGJlIGF3YXJlIHRoYXQgdGhlXG4gKiBgY29udHJvbGxlckFzYCByZWZlcmVuY2UgbWlnaHQgb3ZlcndyaXRlIGEgcHJvcGVydHkgdGhhdCBhbHJlYWR5IGV4aXN0cyBvbiB0aGUgcGFyZW50IHNjb3BlLlxuICpcbiAqXG4gKiAjIyMjIGByZXN0cmljdGBcbiAqIFN0cmluZyBvZiBzdWJzZXQgb2YgYEVBQ01gIHdoaWNoIHJlc3RyaWN0cyB0aGUgZGlyZWN0aXZlIHRvIGEgc3BlY2lmaWMgZGlyZWN0aXZlXG4gKiBkZWNsYXJhdGlvbiBzdHlsZS4gSWYgb21pdHRlZCwgdGhlIGRlZmF1bHRzIChlbGVtZW50cyBhbmQgYXR0cmlidXRlcykgYXJlIHVzZWQuXG4gKlxuICogKiBgRWAgLSBFbGVtZW50IG5hbWUgKGRlZmF1bHQpOiBgPG15LWRpcmVjdGl2ZT48L215LWRpcmVjdGl2ZT5gXG4gKiAqIGBBYCAtIEF0dHJpYnV0ZSAoZGVmYXVsdCk6IGA8ZGl2IG15LWRpcmVjdGl2ZT1cImV4cFwiPjwvZGl2PmBcbiAqICogYENgIC0gQ2xhc3M6IGA8ZGl2IGNsYXNzPVwibXktZGlyZWN0aXZlOiBleHA7XCI+PC9kaXY+YFxuICogKiBgTWAgLSBDb21tZW50OiBgPCEtLSBkaXJlY3RpdmU6IG15LWRpcmVjdGl2ZSBleHAgLS0+YFxuICpcbiAqXG4gKiAjIyMjIGB0ZW1wbGF0ZU5hbWVzcGFjZWBcbiAqIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIGRvY3VtZW50IHR5cGUgdXNlZCBieSB0aGUgbWFya3VwIGluIHRoZSB0ZW1wbGF0ZS5cbiAqIEFuZ3VsYXJKUyBuZWVkcyB0aGlzIGluZm9ybWF0aW9uIGFzIHRob3NlIGVsZW1lbnRzIG5lZWQgdG8gYmUgY3JlYXRlZCBhbmQgY2xvbmVkXG4gKiBpbiBhIHNwZWNpYWwgd2F5IHdoZW4gdGhleSBhcmUgZGVmaW5lZCBvdXRzaWRlIHRoZWlyIHVzdWFsIGNvbnRhaW5lcnMgbGlrZSBgPHN2Zz5gIGFuZCBgPG1hdGg+YC5cbiAqXG4gKiAqIGBodG1sYCAtIEFsbCByb290IG5vZGVzIGluIHRoZSB0ZW1wbGF0ZSBhcmUgSFRNTC4gUm9vdCBub2RlcyBtYXkgYWxzbyBiZVxuICogICB0b3AtbGV2ZWwgZWxlbWVudHMgc3VjaCBhcyBgPHN2Zz5gIG9yIGA8bWF0aD5gLlxuICogKiBgc3ZnYCAtIFRoZSByb290IG5vZGVzIGluIHRoZSB0ZW1wbGF0ZSBhcmUgU1ZHIGVsZW1lbnRzIChleGNsdWRpbmcgYDxtYXRoPmApLlxuICogKiBgbWF0aGAgLSBUaGUgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIE1hdGhNTCBlbGVtZW50cyAoZXhjbHVkaW5nIGA8c3ZnPmApLlxuICpcbiAqIElmIG5vIGB0ZW1wbGF0ZU5hbWVzcGFjZWAgaXMgc3BlY2lmaWVkLCB0aGVuIHRoZSBuYW1lc3BhY2UgaXMgY29uc2lkZXJlZCB0byBiZSBgaHRtbGAuXG4gKlxuICogIyMjIyBgdGVtcGxhdGVgXG4gKiBIVE1MIG1hcmt1cCB0aGF0IG1heTpcbiAqICogUmVwbGFjZSB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQgKGRlZmF1bHQpLlxuICogKiBSZXBsYWNlIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IGl0c2VsZiAoaWYgYHJlcGxhY2VgIGlzIHRydWUgLSBERVBSRUNBVEVEKS5cbiAqICogV3JhcCB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQgKGlmIGB0cmFuc2NsdWRlYCBpcyB0cnVlKS5cbiAqXG4gKiBWYWx1ZSBtYXkgYmU6XG4gKlxuICogKiBBIHN0cmluZy4gRm9yIGV4YW1wbGUgYDxkaXYgcmVkLW9uLWhvdmVyPnt7ZGVsZXRlX3N0cn19PC9kaXY+YC5cbiAqICogQSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0d28gYXJndW1lbnRzIGB0RWxlbWVudGAgYW5kIGB0QXR0cnNgIChkZXNjcmliZWQgaW4gdGhlIGBjb21waWxlYFxuICogICBmdW5jdGlvbiBhcGkgYmVsb3cpIGFuZCByZXR1cm5zIGEgc3RyaW5nIHZhbHVlLlxuICpcbiAqXG4gKiAjIyMjIGB0ZW1wbGF0ZVVybGBcbiAqIFRoaXMgaXMgc2ltaWxhciB0byBgdGVtcGxhdGVgIGJ1dCB0aGUgdGVtcGxhdGUgaXMgbG9hZGVkIGZyb20gdGhlIHNwZWNpZmllZCBVUkwsIGFzeW5jaHJvbm91c2x5LlxuICpcbiAqIEJlY2F1c2UgdGVtcGxhdGUgbG9hZGluZyBpcyBhc3luY2hyb25vdXMgdGhlIGNvbXBpbGVyIHdpbGwgc3VzcGVuZCBjb21waWxhdGlvbiBvZiBkaXJlY3RpdmVzIG9uIHRoYXQgZWxlbWVudFxuICogZm9yIGxhdGVyIHdoZW4gdGhlIHRlbXBsYXRlIGhhcyBiZWVuIHJlc29sdmVkLiAgSW4gdGhlIG1lYW50aW1lIGl0IHdpbGwgY29udGludWUgdG8gY29tcGlsZSBhbmQgbGlua1xuICogc2libGluZyBhbmQgcGFyZW50IGVsZW1lbnRzIGFzIHRob3VnaCB0aGlzIGVsZW1lbnQgaGFkIG5vdCBjb250YWluZWQgYW55IGRpcmVjdGl2ZXMuXG4gKlxuICogVGhlIGNvbXBpbGVyIGRvZXMgbm90IHN1c3BlbmQgdGhlIGVudGlyZSBjb21waWxhdGlvbiB0byB3YWl0IGZvciB0ZW1wbGF0ZXMgdG8gYmUgbG9hZGVkIGJlY2F1c2UgdGhpc1xuICogd291bGQgcmVzdWx0IGluIHRoZSB3aG9sZSBhcHAgXCJzdGFsbGluZ1wiIHVudGlsIGFsbCB0ZW1wbGF0ZXMgYXJlIGxvYWRlZCBhc3luY2hyb25vdXNseSAtIGV2ZW4gaW4gdGhlXG4gKiBjYXNlIHdoZW4gb25seSBvbmUgZGVlcGx5IG5lc3RlZCBkaXJlY3RpdmUgaGFzIGB0ZW1wbGF0ZVVybGAuXG4gKlxuICogVGVtcGxhdGUgbG9hZGluZyBpcyBhc3luY2hyb25vdXMgZXZlbiBpZiB0aGUgdGVtcGxhdGUgaGFzIGJlZW4gcHJlbG9hZGVkIGludG8gdGhlIHtAbGluayAkdGVtcGxhdGVDYWNoZX1cbiAqXG4gKiBZb3UgY2FuIHNwZWNpZnkgYHRlbXBsYXRlVXJsYCBhcyBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIFVSTCBvciBhcyBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIHR3b1xuICogYXJndW1lbnRzIGB0RWxlbWVudGAgYW5kIGB0QXR0cnNgIChkZXNjcmliZWQgaW4gdGhlIGBjb21waWxlYCBmdW5jdGlvbiBhcGkgYmVsb3cpIGFuZCByZXR1cm5zXG4gKiBhIHN0cmluZyB2YWx1ZSByZXByZXNlbnRpbmcgdGhlIHVybC4gIEluIGVpdGhlciBjYXNlLCB0aGUgdGVtcGxhdGUgVVJMIGlzIHBhc3NlZCB0aHJvdWdoIHtAbGlua1xuICogJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmwgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmx9LlxuICpcbiAqXG4gKiAjIyMjIGByZXBsYWNlYFxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxuICogKipOb3RlOioqIGByZXBsYWNlYCBpcyBkZXByZWNhdGVkIGluIEFuZ3VsYXJKUyBhbmQgaGFzIGJlZW4gcmVtb3ZlZCBpbiB0aGUgbmV3IEFuZ3VsYXIgKHYyKykuXG4gKiA8L2Rpdj5cbiAqXG4gKiBTcGVjaWZpZXMgd2hhdCB0aGUgdGVtcGxhdGUgc2hvdWxkIHJlcGxhY2UuIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKlxuICogKiBgdHJ1ZWAgLSB0aGUgdGVtcGxhdGUgd2lsbCByZXBsYWNlIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50LlxuICogKiBgZmFsc2VgIC0gdGhlIHRlbXBsYXRlIHdpbGwgcmVwbGFjZSB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXG4gKlxuICogVGhlIHJlcGxhY2VtZW50IHByb2Nlc3MgbWlncmF0ZXMgYWxsIG9mIHRoZSBhdHRyaWJ1dGVzIC8gY2xhc3NlcyBmcm9tIHRoZSBvbGQgZWxlbWVudCB0byB0aGUgbmV3XG4gKiBvbmUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSN0ZW1wbGF0ZS1leHBhbmRpbmctZGlyZWN0aXZlXG4gKiBEaXJlY3RpdmVzIEd1aWRlfSBmb3IgYW4gZXhhbXBsZS5cbiAqXG4gKiBUaGVyZSBhcmUgdmVyeSBmZXcgc2NlbmFyaW9zIHdoZXJlIGVsZW1lbnQgcmVwbGFjZW1lbnQgaXMgcmVxdWlyZWQgZm9yIHRoZSBhcHBsaWNhdGlvbiBmdW5jdGlvbixcbiAqIHRoZSBtYWluIG9uZSBiZWluZyByZXVzYWJsZSBjdXN0b20gY29tcG9uZW50cyB0aGF0IGFyZSB1c2VkIHdpdGhpbiBTVkcgY29udGV4dHNcbiAqIChiZWNhdXNlIFNWRyBkb2Vzbid0IHdvcmsgd2l0aCBjdXN0b20gZWxlbWVudHMgaW4gdGhlIERPTSB0cmVlKS5cbiAqXG4gKiAjIyMjIGB0cmFuc2NsdWRlYFxuICogRXh0cmFjdCB0aGUgY29udGVudHMgb2YgdGhlIGVsZW1lbnQgd2hlcmUgdGhlIGRpcmVjdGl2ZSBhcHBlYXJzIGFuZCBtYWtlIGl0IGF2YWlsYWJsZSB0byB0aGUgZGlyZWN0aXZlLlxuICogVGhlIGNvbnRlbnRzIGFyZSBjb21waWxlZCBhbmQgcHJvdmlkZWQgdG8gdGhlIGRpcmVjdGl2ZSBhcyBhICoqdHJhbnNjbHVzaW9uIGZ1bmN0aW9uKiouIFNlZSB0aGVcbiAqIHtAbGluayAkY29tcGlsZSN0cmFuc2NsdXNpb24gVHJhbnNjbHVzaW9ufSBzZWN0aW9uIGJlbG93LlxuICpcbiAqXG4gKiAjIyMjIGBjb21waWxlYFxuICpcbiAqIGBgYGpzXG4gKiAgIGZ1bmN0aW9uIGNvbXBpbGUodEVsZW1lbnQsIHRBdHRycywgdHJhbnNjbHVkZSkgeyAuLi4gfVxuICogYGBgXG4gKlxuICogVGhlIGNvbXBpbGUgZnVuY3Rpb24gZGVhbHMgd2l0aCB0cmFuc2Zvcm1pbmcgdGhlIHRlbXBsYXRlIERPTS4gU2luY2UgbW9zdCBkaXJlY3RpdmVzIGRvIG5vdCBkb1xuICogdGVtcGxhdGUgdHJhbnNmb3JtYXRpb24sIGl0IGlzIG5vdCB1c2VkIG9mdGVuLiBUaGUgY29tcGlsZSBmdW5jdGlvbiB0YWtlcyB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czpcbiAqXG4gKiAgICogYHRFbGVtZW50YCAtIHRlbXBsYXRlIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB3aGVyZSB0aGUgZGlyZWN0aXZlIGhhcyBiZWVuIGRlY2xhcmVkLiBJdCBpc1xuICogICAgIHNhZmUgdG8gZG8gdGVtcGxhdGUgdHJhbnNmb3JtYXRpb24gb24gdGhlIGVsZW1lbnQgYW5kIGNoaWxkIGVsZW1lbnRzIG9ubHkuXG4gKlxuICogICAqIGB0QXR0cnNgIC0gdGVtcGxhdGUgYXR0cmlidXRlcyAtIE5vcm1hbGl6ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzIGRlY2xhcmVkIG9uIHRoaXMgZWxlbWVudCBzaGFyZWRcbiAqICAgICBiZXR3ZWVuIGFsbCBkaXJlY3RpdmUgY29tcGlsZSBmdW5jdGlvbnMuXG4gKlxuICogICAqIGB0cmFuc2NsdWRlYCAtICBbKkRFUFJFQ0FURUQqIV0gQSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb246IGBmdW5jdGlvbihzY29wZSwgY2xvbmVMaW5raW5nRm4pYFxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogVGhlIHRlbXBsYXRlIGluc3RhbmNlIGFuZCB0aGUgbGluayBpbnN0YW5jZSBtYXkgYmUgZGlmZmVyZW50IG9iamVjdHMgaWYgdGhlIHRlbXBsYXRlIGhhc1xuICogYmVlbiBjbG9uZWQuIEZvciB0aGlzIHJlYXNvbiBpdCBpcyAqKm5vdCoqIHNhZmUgdG8gZG8gYW55dGhpbmcgb3RoZXIgdGhhbiBET00gdHJhbnNmb3JtYXRpb25zIHRoYXRcbiAqIGFwcGx5IHRvIGFsbCBjbG9uZWQgRE9NIG5vZGVzIHdpdGhpbiB0aGUgY29tcGlsZSBmdW5jdGlvbi4gU3BlY2lmaWNhbGx5LCBET00gbGlzdGVuZXIgcmVnaXN0cmF0aW9uXG4gKiBzaG91bGQgYmUgZG9uZSBpbiBhIGxpbmtpbmcgZnVuY3Rpb24gcmF0aGVyIHRoYW4gaW4gYSBjb21waWxlIGZ1bmN0aW9uLlxuICogPC9kaXY+XG5cbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogVGhlIGNvbXBpbGUgZnVuY3Rpb24gY2Fubm90IGhhbmRsZSBkaXJlY3RpdmVzIHRoYXQgcmVjdXJzaXZlbHkgdXNlIHRoZW1zZWx2ZXMgaW4gdGhlaXJcbiAqIG93biB0ZW1wbGF0ZXMgb3IgY29tcGlsZSBmdW5jdGlvbnMuIENvbXBpbGluZyB0aGVzZSBkaXJlY3RpdmVzIHJlc3VsdHMgaW4gYW4gaW5maW5pdGUgbG9vcCBhbmRcbiAqIHN0YWNrIG92ZXJmbG93IGVycm9ycy5cbiAqXG4gKiBUaGlzIGNhbiBiZSBhdm9pZGVkIGJ5IG1hbnVhbGx5IHVzaW5nICRjb21waWxlIGluIHRoZSBwb3N0TGluayBmdW5jdGlvbiB0byBpbXBlcmF0aXZlbHkgY29tcGlsZVxuICogYSBkaXJlY3RpdmUncyB0ZW1wbGF0ZSBpbnN0ZWFkIG9mIHJlbHlpbmcgb24gYXV0b21hdGljIHRlbXBsYXRlIGNvbXBpbGF0aW9uIHZpYSBgdGVtcGxhdGVgIG9yXG4gKiBgdGVtcGxhdGVVcmxgIGRlY2xhcmF0aW9uIG9yIG1hbnVhbCBjb21waWxhdGlvbiBpbnNpZGUgdGhlIGNvbXBpbGUgZnVuY3Rpb24uXG4gKiA8L2Rpdj5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XG4gKiAqKk5vdGU6KiogVGhlIGB0cmFuc2NsdWRlYCBmdW5jdGlvbiB0aGF0IGlzIHBhc3NlZCB0byB0aGUgY29tcGlsZSBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLCBhcyBpdFxuICogICBlLmcuIGRvZXMgbm90IGtub3cgYWJvdXQgdGhlIHJpZ2h0IG91dGVyIHNjb3BlLiBQbGVhc2UgdXNlIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIHRoYXQgaXMgcGFzc2VkXG4gKiAgIHRvIHRoZSBsaW5rIGZ1bmN0aW9uIGluc3RlYWQuXG4gKiA8L2Rpdj5cblxuICogQSBjb21waWxlIGZ1bmN0aW9uIGNhbiBoYXZlIGEgcmV0dXJuIHZhbHVlIHdoaWNoIGNhbiBiZSBlaXRoZXIgYSBmdW5jdGlvbiBvciBhbiBvYmplY3QuXG4gKlxuICogKiByZXR1cm5pbmcgYSAocG9zdC1saW5rKSBmdW5jdGlvbiAtIGlzIGVxdWl2YWxlbnQgdG8gcmVnaXN0ZXJpbmcgdGhlIGxpbmtpbmcgZnVuY3Rpb24gdmlhIHRoZVxuICogICBgbGlua2AgcHJvcGVydHkgb2YgdGhlIGNvbmZpZyBvYmplY3Qgd2hlbiB0aGUgY29tcGlsZSBmdW5jdGlvbiBpcyBlbXB0eS5cbiAqXG4gKiAqIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBmdW5jdGlvbihzKSByZWdpc3RlcmVkIHZpYSBgcHJlYCBhbmQgYHBvc3RgIHByb3BlcnRpZXMgLSBhbGxvd3MgeW91IHRvXG4gKiAgIGNvbnRyb2wgd2hlbiBhIGxpbmtpbmcgZnVuY3Rpb24gc2hvdWxkIGJlIGNhbGxlZCBkdXJpbmcgdGhlIGxpbmtpbmcgcGhhc2UuIFNlZSBpbmZvIGFib3V0XG4gKiAgIHByZS1saW5raW5nIGFuZCBwb3N0LWxpbmtpbmcgZnVuY3Rpb25zIGJlbG93LlxuICpcbiAqXG4gKiAjIyMjIGBsaW5rYFxuICogVGhpcyBwcm9wZXJ0eSBpcyB1c2VkIG9ubHkgaWYgdGhlIGBjb21waWxlYCBwcm9wZXJ0eSBpcyBub3QgZGVmaW5lZC5cbiAqXG4gKiBgYGBqc1xuICogICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyLCB0cmFuc2NsdWRlRm4pIHsgLi4uIH1cbiAqIGBgYFxuICpcbiAqIFRoZSBsaW5rIGZ1bmN0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciByZWdpc3RlcmluZyBET00gbGlzdGVuZXJzIGFzIHdlbGwgYXMgdXBkYXRpbmcgdGhlIERPTS4gSXQgaXNcbiAqIGV4ZWN1dGVkIGFmdGVyIHRoZSB0ZW1wbGF0ZSBoYXMgYmVlbiBjbG9uZWQuIFRoaXMgaXMgd2hlcmUgbW9zdCBvZiB0aGUgZGlyZWN0aXZlIGxvZ2ljIHdpbGwgYmVcbiAqIHB1dC5cbiAqXG4gKiAgICogYHNjb3BlYCAtIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIFNjb3BlfSAtIFRoZSBzY29wZSB0byBiZSB1c2VkIGJ5IHRoZVxuICogICAgIGRpcmVjdGl2ZSBmb3IgcmVnaXN0ZXJpbmcge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXN9LlxuICpcbiAqICAgKiBgaUVsZW1lbnRgIC0gaW5zdGFuY2UgZWxlbWVudCAtIFRoZSBlbGVtZW50IHdoZXJlIHRoZSBkaXJlY3RpdmUgaXMgdG8gYmUgdXNlZC4gSXQgaXMgc2FmZSB0b1xuICogICAgIG1hbmlwdWxhdGUgdGhlIGNoaWxkcmVuIG9mIHRoZSBlbGVtZW50IG9ubHkgaW4gYHBvc3RMaW5rYCBmdW5jdGlvbiBzaW5jZSB0aGUgY2hpbGRyZW4gaGF2ZVxuICogICAgIGFscmVhZHkgYmVlbiBsaW5rZWQuXG4gKlxuICogICAqIGBpQXR0cnNgIC0gaW5zdGFuY2UgYXR0cmlidXRlcyAtIE5vcm1hbGl6ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzIGRlY2xhcmVkIG9uIHRoaXMgZWxlbWVudCBzaGFyZWRcbiAqICAgICBiZXR3ZWVuIGFsbCBkaXJlY3RpdmUgbGlua2luZyBmdW5jdGlvbnMuXG4gKlxuICogICAqIGBjb250cm9sbGVyYCAtIHRoZSBkaXJlY3RpdmUncyByZXF1aXJlZCBjb250cm9sbGVyIGluc3RhbmNlKHMpIC0gSW5zdGFuY2VzIGFyZSBzaGFyZWRcbiAqICAgICBhbW9uZyBhbGwgZGlyZWN0aXZlcywgd2hpY2ggYWxsb3dzIHRoZSBkaXJlY3RpdmVzIHRvIHVzZSB0aGUgY29udHJvbGxlcnMgYXMgYSBjb21tdW5pY2F0aW9uXG4gKiAgICAgY2hhbm5lbC4gVGhlIGV4YWN0IHZhbHVlIGRlcGVuZHMgb24gdGhlIGRpcmVjdGl2ZSdzIGByZXF1aXJlYCBwcm9wZXJ0eTpcbiAqICAgICAgICogbm8gY29udHJvbGxlcihzKSByZXF1aXJlZDogdGhlIGRpcmVjdGl2ZSdzIG93biBjb250cm9sbGVyLCBvciBgdW5kZWZpbmVkYCBpZiBpdCBkb2Vzbid0IGhhdmUgb25lXG4gKiAgICAgICAqIGBzdHJpbmdgOiB0aGUgY29udHJvbGxlciBpbnN0YW5jZVxuICogICAgICAgKiBgYXJyYXlgOiBhcnJheSBvZiBjb250cm9sbGVyIGluc3RhbmNlc1xuICpcbiAqICAgICBJZiBhIHJlcXVpcmVkIGNvbnRyb2xsZXIgY2Fubm90IGJlIGZvdW5kLCBhbmQgaXQgaXMgb3B0aW9uYWwsIHRoZSBpbnN0YW5jZSBpcyBgbnVsbGAsXG4gKiAgICAgb3RoZXJ3aXNlIHRoZSB7QGxpbmsgZXJyb3I6JGNvbXBpbGU6Y3RyZXEgTWlzc2luZyBSZXF1aXJlZCBDb250cm9sbGVyfSBlcnJvciBpcyB0aHJvd24uXG4gKlxuICogICAgIE5vdGUgdGhhdCB5b3UgY2FuIGFsc28gcmVxdWlyZSB0aGUgZGlyZWN0aXZlJ3Mgb3duIGNvbnRyb2xsZXIgLSBpdCB3aWxsIGJlIG1hZGUgYXZhaWxhYmxlIGxpa2VcbiAqICAgICBhbnkgb3RoZXIgY29udHJvbGxlci5cbiAqXG4gKiAgICogYHRyYW5zY2x1ZGVGbmAgLSBBIHRyYW5zY2x1ZGUgbGlua2luZyBmdW5jdGlvbiBwcmUtYm91bmQgdG8gdGhlIGNvcnJlY3QgdHJhbnNjbHVzaW9uIHNjb3BlLlxuICogICAgIFRoaXMgaXMgdGhlIHNhbWUgYXMgdGhlIGAkdHJhbnNjbHVkZWAgcGFyYW1ldGVyIG9mIGRpcmVjdGl2ZSBjb250cm9sbGVycyxcbiAqICAgICBzZWUge0BsaW5rIG5nLiRjb21waWxlIy1jb250cm9sbGVyLSB0aGUgY29udHJvbGxlciBzZWN0aW9uIGZvciBkZXRhaWxzfS5cbiAqICAgICBgZnVuY3Rpb24oW3Njb3BlXSwgY2xvbmVMaW5raW5nRm4sIGZ1dHVyZVBhcmVudEVsZW1lbnQpYC5cbiAqXG4gKiAjIyMjIFByZS1saW5raW5nIGZ1bmN0aW9uXG4gKlxuICogRXhlY3V0ZWQgYmVmb3JlIHRoZSBjaGlsZCBlbGVtZW50cyBhcmUgbGlua2VkLiBOb3Qgc2FmZSB0byBkbyBET00gdHJhbnNmb3JtYXRpb24gc2luY2UgdGhlXG4gKiBjb21waWxlciBsaW5raW5nIGZ1bmN0aW9uIHdpbGwgZmFpbCB0byBsb2NhdGUgdGhlIGNvcnJlY3QgZWxlbWVudHMgZm9yIGxpbmtpbmcuXG4gKlxuICogIyMjIyBQb3N0LWxpbmtpbmcgZnVuY3Rpb25cbiAqXG4gKiBFeGVjdXRlZCBhZnRlciB0aGUgY2hpbGQgZWxlbWVudHMgYXJlIGxpbmtlZC5cbiAqXG4gKiBOb3RlIHRoYXQgY2hpbGQgZWxlbWVudHMgdGhhdCBjb250YWluIGB0ZW1wbGF0ZVVybGAgZGlyZWN0aXZlcyB3aWxsIG5vdCBoYXZlIGJlZW4gY29tcGlsZWRcbiAqIGFuZCBsaW5rZWQgc2luY2UgdGhleSBhcmUgd2FpdGluZyBmb3IgdGhlaXIgdGVtcGxhdGUgdG8gbG9hZCBhc3luY2hyb25vdXNseSBhbmQgdGhlaXIgb3duXG4gKiBjb21waWxhdGlvbiBhbmQgbGlua2luZyBoYXMgYmVlbiBzdXNwZW5kZWQgdW50aWwgdGhhdCBvY2N1cnMuXG4gKlxuICogSXQgaXMgc2FmZSB0byBkbyBET00gdHJhbnNmb3JtYXRpb24gaW4gdGhlIHBvc3QtbGlua2luZyBmdW5jdGlvbiBvbiBlbGVtZW50cyB0aGF0IGFyZSBub3Qgd2FpdGluZ1xuICogZm9yIHRoZWlyIGFzeW5jIHRlbXBsYXRlcyB0byBiZSByZXNvbHZlZC5cbiAqXG4gKlxuICogIyMjIFRyYW5zY2x1c2lvblxuICpcbiAqIFRyYW5zY2x1c2lvbiBpcyB0aGUgcHJvY2VzcyBvZiBleHRyYWN0aW5nIGEgY29sbGVjdGlvbiBvZiBET00gZWxlbWVudHMgZnJvbSBvbmUgcGFydCBvZiB0aGUgRE9NIGFuZFxuICogY29weWluZyB0aGVtIHRvIGFub3RoZXIgcGFydCBvZiB0aGUgRE9NLCB3aGlsZSBtYWludGFpbmluZyB0aGVpciBjb25uZWN0aW9uIHRvIHRoZSBvcmlnaW5hbCBBbmd1bGFySlNcbiAqIHNjb3BlIGZyb20gd2hlcmUgdGhleSB3ZXJlIHRha2VuLlxuICpcbiAqIFRyYW5zY2x1c2lvbiBpcyB1c2VkIChvZnRlbiB3aXRoIHtAbGluayBuZ1RyYW5zY2x1ZGV9KSB0byBpbnNlcnQgdGhlXG4gKiBvcmlnaW5hbCBjb250ZW50cyBvZiBhIGRpcmVjdGl2ZSdzIGVsZW1lbnQgaW50byBhIHNwZWNpZmllZCBwbGFjZSBpbiB0aGUgdGVtcGxhdGUgb2YgdGhlIGRpcmVjdGl2ZS5cbiAqIFRoZSBiZW5lZml0IG9mIHRyYW5zY2x1c2lvbiwgb3ZlciBzaW1wbHkgbW92aW5nIHRoZSBET00gZWxlbWVudHMgbWFudWFsbHksIGlzIHRoYXQgdGhlIHRyYW5zY2x1ZGVkXG4gKiBjb250ZW50IGhhcyBhY2Nlc3MgdG8gdGhlIHByb3BlcnRpZXMgb24gdGhlIHNjb3BlIGZyb20gd2hpY2ggaXQgd2FzIHRha2VuLCBldmVuIGlmIHRoZSBkaXJlY3RpdmVcbiAqIGhhcyBpc29sYXRlZCBzY29wZS5cbiAqIFNlZSB0aGUge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSNjcmVhdGluZy1hLWRpcmVjdGl2ZS10aGF0LXdyYXBzLW90aGVyLWVsZW1lbnRzIERpcmVjdGl2ZXMgR3VpZGV9LlxuICpcbiAqIFRoaXMgbWFrZXMgaXQgcG9zc2libGUgZm9yIHRoZSB3aWRnZXQgdG8gaGF2ZSBwcml2YXRlIHN0YXRlIGZvciBpdHMgdGVtcGxhdGUsIHdoaWxlIHRoZSB0cmFuc2NsdWRlZFxuICogY29udGVudCBoYXMgYWNjZXNzIHRvIGl0cyBvcmlnaW5hdGluZyBzY29wZS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIFdoZW4gdGVzdGluZyBhbiBlbGVtZW50IHRyYW5zY2x1ZGUgZGlyZWN0aXZlIHlvdSBtdXN0IG5vdCBwbGFjZSB0aGUgZGlyZWN0aXZlIGF0IHRoZSByb290IG9mIHRoZVxuICogRE9NIGZyYWdtZW50IHRoYXQgaXMgYmVpbmcgY29tcGlsZWQuIFNlZSB7QGxpbmsgZ3VpZGUvdW5pdC10ZXN0aW5nI3Rlc3RpbmctdHJhbnNjbHVzaW9uLWRpcmVjdGl2ZXNcbiAqIFRlc3RpbmcgVHJhbnNjbHVzaW9uIERpcmVjdGl2ZXN9LlxuICogPC9kaXY+XG4gKlxuICogVGhlcmUgYXJlIHRocmVlIGtpbmRzIG9mIHRyYW5zY2x1c2lvbiBkZXBlbmRpbmcgdXBvbiB3aGV0aGVyIHlvdSB3YW50IHRvIHRyYW5zY2x1ZGUganVzdCB0aGUgY29udGVudHMgb2YgdGhlXG4gKiBkaXJlY3RpdmUncyBlbGVtZW50LCB0aGUgZW50aXJlIGVsZW1lbnQgb3IgbXVsdGlwbGUgcGFydHMgb2YgdGhlIGVsZW1lbnQgY29udGVudHM6XG4gKlxuICogKiBgdHJ1ZWAgLSB0cmFuc2NsdWRlIHRoZSBjb250ZW50IChpLmUuIHRoZSBjaGlsZCBub2Rlcykgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXG4gKiAqIGAnZWxlbWVudCdgIC0gdHJhbnNjbHVkZSB0aGUgd2hvbGUgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQgaW5jbHVkaW5nIGFueSBkaXJlY3RpdmVzIG9uIHRoaXNcbiAqICAgZWxlbWVudCB0aGF0IGRlZmluZWQgYXQgYSBsb3dlciBwcmlvcml0eSB0aGFuIHRoaXMgZGlyZWN0aXZlLiBXaGVuIHVzZWQsIHRoZSBgdGVtcGxhdGVgXG4gKiAgIHByb3BlcnR5IGlzIGlnbm9yZWQuXG4gKiAqICoqYHsuLi59YCAoYW4gb2JqZWN0IGhhc2gpOioqIC0gbWFwIGVsZW1lbnRzIG9mIHRoZSBjb250ZW50IG9udG8gdHJhbnNjbHVzaW9uIFwic2xvdHNcIiBpbiB0aGUgdGVtcGxhdGUuXG4gKlxuICogKipNdWx0LXNsb3QgdHJhbnNjbHVzaW9uKiogaXMgZGVjbGFyZWQgYnkgcHJvdmlkaW5nIGFuIG9iamVjdCBmb3IgdGhlIGB0cmFuc2NsdWRlYCBwcm9wZXJ0eS5cbiAqXG4gKiBUaGlzIG9iamVjdCBpcyBhIG1hcCB3aGVyZSB0aGUga2V5cyBhcmUgdGhlIG5hbWUgb2YgdGhlIHNsb3QgdG8gZmlsbCBhbmQgdGhlIHZhbHVlIGlzIGFuIGVsZW1lbnQgc2VsZWN0b3JcbiAqIHVzZWQgdG8gbWF0Y2ggdGhlIEhUTUwgdG8gdGhlIHNsb3QuIFRoZSBlbGVtZW50IHNlbGVjdG9yIHNob3VsZCBiZSBpbiBub3JtYWxpemVkIGZvcm0gKGUuZy4gYG15RWxlbWVudGApXG4gKiBhbmQgd2lsbCBtYXRjaCB0aGUgc3RhbmRhcmQgZWxlbWVudCB2YXJpYW50cyAoZS5nLiBgbXktZWxlbWVudGAsIGBteTplbGVtZW50YCwgYGRhdGEtbXktZWxlbWVudGAsIGV0YykuXG4gKlxuICogRm9yIGZ1cnRoZXIgaW5mb3JtYXRpb24gY2hlY2sgb3V0IHRoZSBndWlkZSBvbiB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI21hdGNoaW5nLWRpcmVjdGl2ZXMgTWF0Y2hpbmcgRGlyZWN0aXZlc31cbiAqXG4gKiBJZiB0aGUgZWxlbWVudCBzZWxlY3RvciBpcyBwcmVmaXhlZCB3aXRoIGEgYD9gIHRoZW4gdGhhdCBzbG90IGlzIG9wdGlvbmFsLlxuICpcbiAqIEZvciBleGFtcGxlLCB0aGUgdHJhbnNjbHVkZSBvYmplY3QgYHsgc2xvdEE6ICc/bXlDdXN0b21FbGVtZW50JyB9YCBtYXBzIGA8bXktY3VzdG9tLWVsZW1lbnQ+YCBlbGVtZW50cyB0b1xuICogdGhlIGBzbG90QWAgc2xvdCwgd2hpY2ggY2FuIGJlIGFjY2Vzc2VkIHZpYSB0aGUgYCR0cmFuc2NsdWRlYCBmdW5jdGlvbiBvciB2aWEgdGhlIHtAbGluayBuZ1RyYW5zY2x1ZGV9IGRpcmVjdGl2ZS5cbiAqXG4gKiBTbG90cyB0aGF0IGFyZSBub3QgbWFya2VkIGFzIG9wdGlvbmFsIChgP2ApIHdpbGwgdHJpZ2dlciBhIGNvbXBpbGUgdGltZSBlcnJvciBpZiB0aGVyZSBhcmUgbm8gbWF0Y2hpbmcgZWxlbWVudHNcbiAqIGluIHRoZSB0cmFuc2NsdWRlIGNvbnRlbnQuIElmIHlvdSB3aXNoIHRvIGtub3cgaWYgYW4gb3B0aW9uYWwgc2xvdCB3YXMgZmlsbGVkIHdpdGggY29udGVudCwgdGhlbiB5b3UgY2FuIGNhbGxcbiAqIGAkdHJhbnNjbHVkZS5pc1Nsb3RGaWxsZWQoc2xvdE5hbWUpYCBvbiB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiBwYXNzZWQgdG8gdGhlIGRpcmVjdGl2ZSdzIGxpbmsgZnVuY3Rpb24gYW5kXG4gKiBpbmplY3RhYmxlIGludG8gdGhlIGRpcmVjdGl2ZSdzIGNvbnRyb2xsZXIuXG4gKlxuICpcbiAqICMjIyMgVHJhbnNjbHVzaW9uIEZ1bmN0aW9uc1xuICpcbiAqIFdoZW4gYSBkaXJlY3RpdmUgcmVxdWVzdHMgdHJhbnNjbHVzaW9uLCB0aGUgY29tcGlsZXIgZXh0cmFjdHMgaXRzIGNvbnRlbnRzIGFuZCBwcm92aWRlcyBhICoqdHJhbnNjbHVzaW9uXG4gKiBmdW5jdGlvbioqIHRvIHRoZSBkaXJlY3RpdmUncyBgbGlua2AgZnVuY3Rpb24gYW5kIGBjb250cm9sbGVyYC4gVGhpcyB0cmFuc2NsdXNpb24gZnVuY3Rpb24gaXMgYSBzcGVjaWFsXG4gKiAqKmxpbmtpbmcgZnVuY3Rpb24qKiB0aGF0IHdpbGwgcmV0dXJuIHRoZSBjb21waWxlZCBjb250ZW50cyBsaW5rZWQgdG8gYSBuZXcgdHJhbnNjbHVzaW9uIHNjb3BlLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiBJZiB5b3UgYXJlIGp1c3QgdXNpbmcge0BsaW5rIG5nVHJhbnNjbHVkZX0gdGhlbiB5b3UgZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCB0aGlzIGZ1bmN0aW9uLCBzaW5jZVxuICogbmdUcmFuc2NsdWRlIHdpbGwgZGVhbCB3aXRoIGl0IGZvciB1cy5cbiAqIDwvZGl2PlxuICpcbiAqIElmIHlvdSB3YW50IHRvIG1hbnVhbGx5IGNvbnRyb2wgdGhlIGluc2VydGlvbiBhbmQgcmVtb3ZhbCBvZiB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBpbiB5b3VyIGRpcmVjdGl2ZVxuICogdGhlbiB5b3UgbXVzdCB1c2UgdGhpcyB0cmFuc2NsdWRlIGZ1bmN0aW9uLiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVkZSBmdW5jdGlvbiBpdCByZXR1cm5zIGEgYSBqcUxpdGUvSlF1ZXJ5XG4gKiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgY29tcGlsZWQgRE9NLCB3aGljaCBpcyBsaW5rZWQgdG8gdGhlIGNvcnJlY3QgdHJhbnNjbHVzaW9uIHNjb3BlLlxuICpcbiAqIFdoZW4geW91IGNhbGwgYSB0cmFuc2NsdXNpb24gZnVuY3Rpb24geW91IGNhbiBwYXNzIGluIGEgKipjbG9uZSBhdHRhY2ggZnVuY3Rpb24qKi4gVGhpcyBmdW5jdGlvbiBhY2NlcHRzXG4gKiB0d28gcGFyYW1ldGVycywgYGZ1bmN0aW9uKGNsb25lLCBzY29wZSkgeyAuLi4gfWAsIHdoZXJlIHRoZSBgY2xvbmVgIGlzIGEgZnJlc2ggY29tcGlsZWQgY29weSBvZiB5b3VyIHRyYW5zY2x1ZGVkXG4gKiBjb250ZW50IGFuZCB0aGUgYHNjb3BlYCBpcyB0aGUgbmV3bHkgY3JlYXRlZCB0cmFuc2NsdXNpb24gc2NvcGUsIHdoaWNoIHRoZSBjbG9uZSB3aWxsIGJlIGxpbmtlZCB0by5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICogKipCZXN0IFByYWN0aWNlKio6IEFsd2F5cyBwcm92aWRlIGEgYGNsb25lRm5gIChjbG9uZSBhdHRhY2ggZnVuY3Rpb24pIHdoZW4geW91IGNhbGwgYSB0cmFuc2NsdWRlIGZ1bmN0aW9uXG4gKiBzaW5jZSB5b3UgdGhlbiBnZXQgYSBmcmVzaCBjbG9uZSBvZiB0aGUgb3JpZ2luYWwgRE9NIGFuZCBhbHNvIGhhdmUgYWNjZXNzIHRvIHRoZSBuZXcgdHJhbnNjbHVzaW9uIHNjb3BlLlxuICogPC9kaXY+XG4gKlxuICogSXQgaXMgbm9ybWFsIHByYWN0aWNlIHRvIGF0dGFjaCB5b3VyIHRyYW5zY2x1ZGVkIGNvbnRlbnQgKGBjbG9uZWApIHRvIHRoZSBET00gaW5zaWRlIHlvdXIgKipjbG9uZVxuICogYXR0YWNoIGZ1bmN0aW9uKio6XG4gKlxuICogYGBganNcbiAqIHZhciB0cmFuc2NsdWRlZENvbnRlbnQsIHRyYW5zY2x1c2lvblNjb3BlO1xuICpcbiAqICR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lLCBzY29wZSkge1xuICogICBlbGVtZW50LmFwcGVuZChjbG9uZSk7XG4gKiAgIHRyYW5zY2x1ZGVkQ29udGVudCA9IGNsb25lO1xuICogICB0cmFuc2NsdXNpb25TY29wZSA9IHNjb3BlO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBMYXRlciwgaWYgeW91IHdhbnQgdG8gcmVtb3ZlIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGZyb20geW91ciBET00gdGhlbiB5b3Ugc2hvdWxkIGFsc28gZGVzdHJveSB0aGVcbiAqIGFzc29jaWF0ZWQgdHJhbnNjbHVzaW9uIHNjb3BlOlxuICpcbiAqIGBgYGpzXG4gKiB0cmFuc2NsdWRlZENvbnRlbnQucmVtb3ZlKCk7XG4gKiB0cmFuc2NsdXNpb25TY29wZS4kZGVzdHJveSgpO1xuICogYGBgXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqICoqQmVzdCBQcmFjdGljZSoqOiBpZiB5b3UgaW50ZW5kIHRvIGFkZCBhbmQgcmVtb3ZlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgbWFudWFsbHkgaW4geW91ciBkaXJlY3RpdmVcbiAqIChieSBjYWxsaW5nIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIHRvIGdldCB0aGUgRE9NIGFuZCBjYWxsaW5nIGBlbGVtZW50LnJlbW92ZSgpYCB0byByZW1vdmUgaXQpLFxuICogdGhlbiB5b3UgYXJlIGFsc28gcmVzcG9uc2libGUgZm9yIGNhbGxpbmcgYCRkZXN0cm95YCBvbiB0aGUgdHJhbnNjbHVzaW9uIHNjb3BlLlxuICogPC9kaXY+XG4gKlxuICogVGhlIGJ1aWx0LWluIERPTSBtYW5pcHVsYXRpb24gZGlyZWN0aXZlcywgc3VjaCBhcyB7QGxpbmsgbmdJZn0sIHtAbGluayBuZ1N3aXRjaH0gYW5kIHtAbGluayBuZ1JlcGVhdH1cbiAqIGF1dG9tYXRpY2FsbHkgZGVzdHJveSB0aGVpciB0cmFuc2NsdWRlZCBjbG9uZXMgYXMgbmVjZXNzYXJ5IHNvIHlvdSBkbyBub3QgbmVlZCB0byB3b3JyeSBhYm91dCB0aGlzIGlmXG4gKiB5b3UgYXJlIHNpbXBseSB1c2luZyB7QGxpbmsgbmdUcmFuc2NsdWRlfSB0byBpbmplY3QgdGhlIHRyYW5zY2x1c2lvbiBpbnRvIHlvdXIgZGlyZWN0aXZlLlxuICpcbiAqXG4gKiAjIyMjIFRyYW5zY2x1c2lvbiBTY29wZXNcbiAqXG4gKiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVkZSBmdW5jdGlvbiBpdCByZXR1cm5zIGEgRE9NIGZyYWdtZW50IHRoYXQgaXMgcHJlLWJvdW5kIHRvIGEgKip0cmFuc2NsdXNpb25cbiAqIHNjb3BlKiouIFRoaXMgc2NvcGUgaXMgc3BlY2lhbCwgaW4gdGhhdCBpdCBpcyBhIGNoaWxkIG9mIHRoZSBkaXJlY3RpdmUncyBzY29wZSAoYW5kIHNvIGdldHMgZGVzdHJveWVkXG4gKiB3aGVuIHRoZSBkaXJlY3RpdmUncyBzY29wZSBnZXRzIGRlc3Ryb3llZCkgYnV0IGl0IGluaGVyaXRzIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBzY29wZSBmcm9tIHdoaWNoIGl0XG4gKiB3YXMgdGFrZW4uXG4gKlxuICogRm9yIGV4YW1wbGUgY29uc2lkZXIgYSBkaXJlY3RpdmUgdGhhdCB1c2VzIHRyYW5zY2x1c2lvbiBhbmQgaXNvbGF0ZWQgc2NvcGUuIFRoZSBET00gaGllcmFyY2h5IG1pZ2h0IGxvb2tcbiAqIGxpa2UgdGhpczpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IG5nLWFwcD5cbiAqICAgPGRpdiBpc29sYXRlPlxuICogICAgIDxkaXYgdHJhbnNjbHVzaW9uPlxuICogICAgIDwvZGl2PlxuICogICA8L2Rpdj5cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogVGhlIGAkcGFyZW50YCBzY29wZSBoaWVyYXJjaHkgd2lsbCBsb29rIGxpa2UgdGhpczpcbiAqXG4gICBgYGBcbiAgIC0gJHJvb3RTY29wZVxuICAgICAtIGlzb2xhdGVcbiAgICAgICAtIHRyYW5zY2x1c2lvblxuICAgYGBgXG4gKlxuICogYnV0IHRoZSBzY29wZXMgd2lsbCBpbmhlcml0IHByb3RvdHlwaWNhbGx5IGZyb20gZGlmZmVyZW50IHNjb3BlcyB0byB0aGVpciBgJHBhcmVudGAuXG4gKlxuICAgYGBgXG4gICAtICRyb290U2NvcGVcbiAgICAgLSB0cmFuc2NsdXNpb25cbiAgIC0gaXNvbGF0ZVxuICAgYGBgXG4gKlxuICpcbiAqICMjIyBBdHRyaWJ1dGVzXG4gKlxuICogVGhlIHtAbGluayBuZy4kY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyBBdHRyaWJ1dGVzfSBvYmplY3QgLSBwYXNzZWQgYXMgYSBwYXJhbWV0ZXIgaW4gdGhlXG4gKiBgbGluaygpYCBvciBgY29tcGlsZSgpYCBmdW5jdGlvbnMuIEl0IGhhcyBhIHZhcmlldHkgb2YgdXNlcy5cbiAqXG4gKiAqICpBY2Nlc3Npbmcgbm9ybWFsaXplZCBhdHRyaWJ1dGUgbmFtZXM6KiBEaXJlY3RpdmVzIGxpa2UgJ25nQmluZCcgY2FuIGJlIGV4cHJlc3NlZCBpbiBtYW55IHdheXM6XG4gKiAgICduZzpiaW5kJywgYGRhdGEtbmctYmluZGAsIG9yICd4LW5nLWJpbmQnLiBUaGUgYXR0cmlidXRlcyBvYmplY3QgYWxsb3dzIGZvciBub3JtYWxpemVkIGFjY2Vzc1xuICogICB0byB0aGUgYXR0cmlidXRlcy5cbiAqXG4gKiAqICpEaXJlY3RpdmUgaW50ZXItY29tbXVuaWNhdGlvbjoqIEFsbCBkaXJlY3RpdmVzIHNoYXJlIHRoZSBzYW1lIGluc3RhbmNlIG9mIHRoZSBhdHRyaWJ1dGVzXG4gKiAgIG9iamVjdCB3aGljaCBhbGxvd3MgdGhlIGRpcmVjdGl2ZXMgdG8gdXNlIHRoZSBhdHRyaWJ1dGVzIG9iamVjdCBhcyBpbnRlciBkaXJlY3RpdmVcbiAqICAgY29tbXVuaWNhdGlvbi5cbiAqXG4gKiAqICpTdXBwb3J0cyBpbnRlcnBvbGF0aW9uOiogSW50ZXJwb2xhdGlvbiBhdHRyaWJ1dGVzIGFyZSBhc3NpZ25lZCB0byB0aGUgYXR0cmlidXRlIG9iamVjdFxuICogICBhbGxvd2luZyBvdGhlciBkaXJlY3RpdmVzIHRvIHJlYWQgdGhlIGludGVycG9sYXRlZCB2YWx1ZS5cbiAqXG4gKiAqICpPYnNlcnZpbmcgaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZXM6KiBVc2UgYCRvYnNlcnZlYCB0byBvYnNlcnZlIHRoZSB2YWx1ZSBjaGFuZ2VzIG9mIGF0dHJpYnV0ZXNcbiAqICAgdGhhdCBjb250YWluIGludGVycG9sYXRpb24gKGUuZy4gYHNyYz1cInt7YmFyfX1cImApLiBOb3Qgb25seSBpcyB0aGlzIHZlcnkgZWZmaWNpZW50IGJ1dCBpdCdzIGFsc29cbiAqICAgdGhlIG9ubHkgd2F5IHRvIGVhc2lseSBnZXQgdGhlIGFjdHVhbCB2YWx1ZSBiZWNhdXNlIGR1cmluZyB0aGUgbGlua2luZyBwaGFzZSB0aGUgaW50ZXJwb2xhdGlvblxuICogICBoYXNuJ3QgYmVlbiBldmFsdWF0ZWQgeWV0IGFuZCBzbyB0aGUgdmFsdWUgaXMgYXQgdGhpcyB0aW1lIHNldCB0byBgdW5kZWZpbmVkYC5cbiAqXG4gKiBgYGBqc1xuICogZnVuY3Rpb24gbGlua2luZ0ZuKHNjb3BlLCBlbG0sIGF0dHJzLCBjdHJsKSB7XG4gKiAgIC8vIGdldCB0aGUgYXR0cmlidXRlIHZhbHVlXG4gKiAgIGNvbnNvbGUubG9nKGF0dHJzLm5nTW9kZWwpO1xuICpcbiAqICAgLy8gY2hhbmdlIHRoZSBhdHRyaWJ1dGVcbiAqICAgYXR0cnMuJHNldCgnbmdNb2RlbCcsICduZXcgdmFsdWUnKTtcbiAqXG4gKiAgIC8vIG9ic2VydmUgY2hhbmdlcyB0byBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlXG4gKiAgIGF0dHJzLiRvYnNlcnZlKCduZ01vZGVsJywgZnVuY3Rpb24odmFsdWUpIHtcbiAqICAgICBjb25zb2xlLmxvZygnbmdNb2RlbCBoYXMgY2hhbmdlZCB2YWx1ZSB0byAnICsgdmFsdWUpO1xuICogICB9KTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlKio6IFR5cGljYWxseSBkaXJlY3RpdmVzIGFyZSByZWdpc3RlcmVkIHdpdGggYG1vZHVsZS5kaXJlY3RpdmVgLiBUaGUgZXhhbXBsZSBiZWxvdyBpc1xuICogdG8gaWxsdXN0cmF0ZSBob3cgYCRjb21waWxlYCB3b3Jrcy5cbiAqIDwvZGl2PlxuICpcbiA8ZXhhbXBsZSBtb2R1bGU9XCJjb21waWxlRXhhbXBsZVwiIG5hbWU9XCJjb21waWxlXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDxzY3JpcHQ+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnY29tcGlsZUV4YW1wbGUnLCBbXSwgZnVuY3Rpb24oJGNvbXBpbGVQcm92aWRlcikge1xuICAgICAgICAvLyBjb25maWd1cmUgbmV3ICdjb21waWxlJyBkaXJlY3RpdmUgYnkgcGFzc2luZyBhIGRpcmVjdGl2ZVxuICAgICAgICAvLyBmYWN0b3J5IGZ1bmN0aW9uLiBUaGUgZmFjdG9yeSBmdW5jdGlvbiBpbmplY3RzIHRoZSAnJGNvbXBpbGUnXG4gICAgICAgICRjb21waWxlUHJvdmlkZXIuZGlyZWN0aXZlKCdjb21waWxlJywgZnVuY3Rpb24oJGNvbXBpbGUpIHtcbiAgICAgICAgICAvLyBkaXJlY3RpdmUgZmFjdG9yeSBjcmVhdGVzIGEgbGluayBmdW5jdGlvblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaChcbiAgICAgICAgICAgICAgZnVuY3Rpb24oc2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgLy8gd2F0Y2ggdGhlICdjb21waWxlJyBleHByZXNzaW9uIGZvciBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiRldmFsKGF0dHJzLmNvbXBpbGUpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlICdjb21waWxlJyBleHByZXNzaW9uIGNoYW5nZXNcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ24gaXQgaW50byB0aGUgY3VycmVudCBET01cbiAgICAgICAgICAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZSB0aGUgbmV3IERPTSBhbmQgbGluayBpdCB0byB0aGUgY3VycmVudFxuICAgICAgICAgICAgICAgIC8vIHNjb3BlLlxuICAgICAgICAgICAgICAgIC8vIE5PVEU6IHdlIG9ubHkgY29tcGlsZSAuY2hpbGROb2RlcyBzbyB0aGF0XG4gICAgICAgICAgICAgICAgLy8gd2UgZG9uJ3QgZ2V0IGludG8gaW5maW5pdGUgbG9vcCBjb21waWxpbmcgb3Vyc2VsdmVzXG4gICAgICAgICAgICAgICAgJGNvbXBpbGUoZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLmNvbnRyb2xsZXIoJ0dyZWV0ZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLm5hbWUgPSAnQW5ndWxhckpTJztcbiAgICAgICAgJHNjb3BlLmh0bWwgPSAnSGVsbG8ge3tuYW1lfX0nO1xuICAgICAgfV0pO1xuICAgIDwvc2NyaXB0PlxuICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkdyZWV0ZXJDb250cm9sbGVyXCI+XG4gICAgICA8aW5wdXQgbmctbW9kZWw9XCJuYW1lXCI+IDxici8+XG4gICAgICA8dGV4dGFyZWEgbmctbW9kZWw9XCJodG1sXCI+PC90ZXh0YXJlYT4gPGJyLz5cbiAgICAgIDxkaXYgY29tcGlsZT1cImh0bWxcIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgaXQoJ3Nob3VsZCBhdXRvIGNvbXBpbGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICB2YXIgdGV4dGFyZWEgPSAkKCd0ZXh0YXJlYScpO1xuICAgICAgIHZhciBvdXRwdXQgPSAkKCdkaXZbY29tcGlsZV0nKTtcbiAgICAgICAvLyBUaGUgaW5pdGlhbCBzdGF0ZSByZWFkcyAnSGVsbG8gQW5ndWxhckpTJy5cbiAgICAgICBleHBlY3Qob3V0cHV0LmdldFRleHQoKSkudG9CZSgnSGVsbG8gQW5ndWxhckpTJyk7XG4gICAgICAgdGV4dGFyZWEuY2xlYXIoKTtcbiAgICAgICB0ZXh0YXJlYS5zZW5kS2V5cygne3tuYW1lfX0hJyk7XG4gICAgICAgZXhwZWN0KG91dHB1dC5nZXRUZXh0KCkpLnRvQmUoJ0FuZ3VsYXJKUyEnKTtcbiAgICAgfSk7XG4gICA8L2ZpbGU+XG4gPC9leGFtcGxlPlxuXG4gKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfERPTUVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCBvciBIVE1MIHN0cmluZyB0byBjb21waWxlIGludG8gYSB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oYW5ndWxhci5TY29wZSwgY2xvbmVBdHRhY2hGbj0pfSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGF2YWlsYWJsZSB0byBkaXJlY3RpdmVzIC0gREVQUkVDQVRFRC5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XG4gKiAqKk5vdGU6KiogUGFzc2luZyBhIGB0cmFuc2NsdWRlYCBmdW5jdGlvbiB0byB0aGUgJGNvbXBpbGUgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCwgYXMgaXRcbiAqICAgZS5nLiB3aWxsIG5vdCB1c2UgdGhlIHJpZ2h0IG91dGVyIHNjb3BlLiBQbGVhc2UgcGFzcyB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiBhcyBhXG4gKiAgIGBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbmAgdG8gdGhlIGxpbmsgZnVuY3Rpb24gaW5zdGVhZC5cbiAqIDwvZGl2PlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhQcmlvcml0eSBvbmx5IGFwcGx5IGRpcmVjdGl2ZXMgbG93ZXIgdGhhbiBnaXZlbiBwcmlvcml0eSAoT25seSBlZmZlY3RzIHRoZVxuICogICAgICAgICAgICAgICAgIHJvb3QgZWxlbWVudChzKSwgbm90IHRoZWlyIGNoaWxkcmVuKVxuICogQHJldHVybnMge2Z1bmN0aW9uKHNjb3BlLCBjbG9uZUF0dGFjaEZuPSwgb3B0aW9ucz0pfSBhIGxpbmsgZnVuY3Rpb24gd2hpY2ggaXMgdXNlZCB0byBiaW5kIHRlbXBsYXRlXG4gKiAoYSBET00gZWxlbWVudC90cmVlKSB0byBhIHNjb3BlLiBXaGVyZTpcbiAqXG4gKiAgKiBgc2NvcGVgIC0gQSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBTY29wZX0gdG8gYmluZCB0by5cbiAqICAqIGBjbG9uZUF0dGFjaEZuYCAtIElmIGBjbG9uZUF0dGFjaEZuYCBpcyBwcm92aWRlZCwgdGhlbiB0aGUgbGluayBmdW5jdGlvbiB3aWxsIGNsb25lIHRoZVxuICogIGB0ZW1wbGF0ZWAgYW5kIGNhbGwgdGhlIGBjbG9uZUF0dGFjaEZuYCBmdW5jdGlvbiBhbGxvd2luZyB0aGUgY2FsbGVyIHRvIGF0dGFjaCB0aGVcbiAqICBjbG9uZWQgZWxlbWVudHMgdG8gdGhlIERPTSBkb2N1bWVudCBhdCB0aGUgYXBwcm9wcmlhdGUgcGxhY2UuIFRoZSBgY2xvbmVBdHRhY2hGbmAgaXNcbiAqICBjYWxsZWQgYXM6IDxici8+IGBjbG9uZUF0dGFjaEZuKGNsb25lZEVsZW1lbnQsIHNjb3BlKWAgd2hlcmU6XG4gKlxuICogICAgICAqIGBjbG9uZWRFbGVtZW50YCAtIGlzIGEgY2xvbmUgb2YgdGhlIG9yaWdpbmFsIGBlbGVtZW50YCBwYXNzZWQgaW50byB0aGUgY29tcGlsZXIuXG4gKiAgICAgICogYHNjb3BlYCAtIGlzIHRoZSBjdXJyZW50IHNjb3BlIHdpdGggd2hpY2ggdGhlIGxpbmtpbmcgZnVuY3Rpb24gaXMgd29ya2luZyB3aXRoLlxuICpcbiAqICAqIGBvcHRpb25zYCAtIEFuIG9wdGlvbmFsIG9iamVjdCBoYXNoIHdpdGggbGlua2luZyBvcHRpb25zLiBJZiBgb3B0aW9uc2AgaXMgcHJvdmlkZWQsIHRoZW4gdGhlIGZvbGxvd2luZ1xuICogIGtleXMgbWF5IGJlIHVzZWQgdG8gY29udHJvbCBsaW5raW5nIGJlaGF2aW9yOlxuICpcbiAqICAgICAgKiBgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm5gIC0gdGhlIHRyYW5zY2x1ZGUgZnVuY3Rpb24gbWFkZSBhdmFpbGFibGUgdG9cbiAqICAgICAgICBkaXJlY3RpdmVzOyBpZiBnaXZlbiwgaXQgd2lsbCBiZSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgbGluayBmdW5jdGlvbnMgb2ZcbiAqICAgICAgICBkaXJlY3RpdmVzIGZvdW5kIGluIGBlbGVtZW50YCBkdXJpbmcgY29tcGlsYXRpb24uXG4gKiAgICAgICogYHRyYW5zY2x1ZGVDb250cm9sbGVyc2AgLSBhbiBvYmplY3QgaGFzaCB3aXRoIGtleXMgdGhhdCBtYXAgY29udHJvbGxlciBuYW1lc1xuICogICAgICAgIHRvIGEgaGFzaCB3aXRoIHRoZSBrZXkgYGluc3RhbmNlYCwgd2hpY2ggbWFwcyB0byB0aGUgY29udHJvbGxlciBpbnN0YW5jZTtcbiAqICAgICAgICBpZiBnaXZlbiwgaXQgd2lsbCBtYWtlIHRoZSBjb250cm9sbGVycyBhdmFpbGFibGUgdG8gZGlyZWN0aXZlcyBvbiB0aGUgY29tcGlsZU5vZGU6XG4gKiAgICAgICAgYGBgXG4gKiAgICAgICAge1xuICogICAgICAgICAgcGFyZW50OiB7XG4gKiAgICAgICAgICAgIGluc3RhbmNlOiBwYXJlbnRDb250cm9sbGVySW5zdGFuY2VcbiAqICAgICAgICAgIH1cbiAqICAgICAgICB9XG4gKiAgICAgICAgYGBgXG4gKiAgICAgICogYGZ1dHVyZVBhcmVudEVsZW1lbnRgIC0gZGVmaW5lcyB0aGUgcGFyZW50IHRvIHdoaWNoIHRoZSBgY2xvbmVBdHRhY2hGbmAgd2lsbCBhZGRcbiAqICAgICAgICB0aGUgY2xvbmVkIGVsZW1lbnRzOyBvbmx5IG5lZWRlZCBmb3IgdHJhbnNjbHVkZXMgdGhhdCBhcmUgYWxsb3dlZCB0byBjb250YWluIG5vbiBodG1sXG4gKiAgICAgICAgZWxlbWVudHMgKGUuZy4gU1ZHIGVsZW1lbnRzKS4gU2VlIGFsc28gdGhlIGRpcmVjdGl2ZS5jb250cm9sbGVyIHByb3BlcnR5LlxuICpcbiAqIENhbGxpbmcgdGhlIGxpbmtpbmcgZnVuY3Rpb24gcmV0dXJucyB0aGUgZWxlbWVudCBvZiB0aGUgdGVtcGxhdGUuIEl0IGlzIGVpdGhlciB0aGUgb3JpZ2luYWxcbiAqIGVsZW1lbnQgcGFzc2VkIGluLCBvciB0aGUgY2xvbmUgb2YgdGhlIGVsZW1lbnQgaWYgdGhlIGBjbG9uZUF0dGFjaEZuYCBpcyBwcm92aWRlZC5cbiAqXG4gKiBBZnRlciBsaW5raW5nIHRoZSB2aWV3IGlzIG5vdCB1cGRhdGVkIHVudGlsIGFmdGVyIGEgY2FsbCB0byAkZGlnZXN0IHdoaWNoIHR5cGljYWxseSBpcyBkb25lIGJ5XG4gKiBBbmd1bGFySlMgYXV0b21hdGljYWxseS5cbiAqXG4gKiBJZiB5b3UgbmVlZCBhY2Nlc3MgdG8gdGhlIGJvdW5kIHZpZXcsIHRoZXJlIGFyZSB0d28gd2F5cyB0byBkbyBpdDpcbiAqXG4gKiAtIElmIHlvdSBhcmUgbm90IGFza2luZyB0aGUgbGlua2luZyBmdW5jdGlvbiB0byBjbG9uZSB0aGUgdGVtcGxhdGUsIGNyZWF0ZSB0aGUgRE9NIGVsZW1lbnQocylcbiAqICAgYmVmb3JlIHlvdSBzZW5kIHRoZW0gdG8gdGhlIGNvbXBpbGVyIGFuZCBrZWVwIHRoaXMgcmVmZXJlbmNlIGFyb3VuZC5cbiAqICAgYGBganNcbiAqICAgICB2YXIgZWxlbWVudCA9ICRjb21waWxlKCc8cD57e3RvdGFsfX08L3A+Jykoc2NvcGUpO1xuICogICBgYGBcbiAqXG4gKiAtIGlmIG9uIHRoZSBvdGhlciBoYW5kLCB5b3UgbmVlZCB0aGUgZWxlbWVudCB0byBiZSBjbG9uZWQsIHRoZSB2aWV3IHJlZmVyZW5jZSBmcm9tIHRoZSBvcmlnaW5hbFxuICogICBleGFtcGxlIHdvdWxkIG5vdCBwb2ludCB0byB0aGUgY2xvbmUsIGJ1dCByYXRoZXIgdG8gdGhlIG9yaWdpbmFsIHRlbXBsYXRlIHRoYXQgd2FzIGNsb25lZC4gSW5cbiAqICAgdGhpcyBjYXNlLCB5b3UgY2FuIGFjY2VzcyB0aGUgY2xvbmUgdmlhIHRoZSBjbG9uZUF0dGFjaEZuOlxuICogICBgYGBqc1xuICogICAgIHZhciB0ZW1wbGF0ZUVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJzxwPnt7dG90YWx9fTwvcD4nKSxcbiAqICAgICAgICAgc2NvcGUgPSAuLi4uO1xuICpcbiAqICAgICB2YXIgY2xvbmVkRWxlbWVudCA9ICRjb21waWxlKHRlbXBsYXRlRWxlbWVudCkoc2NvcGUsIGZ1bmN0aW9uKGNsb25lZEVsZW1lbnQsIHNjb3BlKSB7XG4gKiAgICAgICAvL2F0dGFjaCB0aGUgY2xvbmUgdG8gRE9NIGRvY3VtZW50IGF0IHRoZSByaWdodCBwbGFjZVxuICogICAgIH0pO1xuICpcbiAqICAgICAvL25vdyB3ZSBoYXZlIHJlZmVyZW5jZSB0byB0aGUgY2xvbmVkIERPTSB2aWEgYGNsb25lZEVsZW1lbnRgXG4gKiAgIGBgYFxuICpcbiAqXG4gKiBGb3IgaW5mb3JtYXRpb24gb24gaG93IHRoZSBjb21waWxlciB3b3Jrcywgc2VlIHRoZVxuICoge0BsaW5rIGd1aWRlL2NvbXBpbGVyIEFuZ3VsYXJKUyBIVE1MIENvbXBpbGVyfSBzZWN0aW9uIG9mIHRoZSBEZXZlbG9wZXIgR3VpZGUuXG4gKlxuICogQGtub3duSXNzdWVcbiAqXG4gKiAjIyMgRG91YmxlIENvbXBpbGF0aW9uXG4gKlxuICAgRG91YmxlIGNvbXBpbGF0aW9uIG9jY3VycyB3aGVuIGFuIGFscmVhZHkgY29tcGlsZWQgcGFydCBvZiB0aGUgRE9NIGdldHNcbiAgIGNvbXBpbGVkIGFnYWluLiBUaGlzIGlzIGFuIHVuZGVzaXJlZCBlZmZlY3QgYW5kIGNhbiBsZWFkIHRvIG1pc2JlaGF2aW5nIGRpcmVjdGl2ZXMsIHBlcmZvcm1hbmNlIGlzc3VlcyxcbiAgIGFuZCBtZW1vcnkgbGVha3MuIFJlZmVyIHRvIHRoZSBDb21waWxlciBHdWlkZSB7QGxpbmsgZ3VpZGUvY29tcGlsZXIjZG91YmxlLWNvbXBpbGF0aW9uLWFuZC1ob3ctdG8tYXZvaWQtaXRcbiAgIHNlY3Rpb24gb24gZG91YmxlIGNvbXBpbGF0aW9ufSBmb3IgYW4gaW4tZGVwdGggZXhwbGFuYXRpb24gYW5kIHdheXMgdG8gYXZvaWQgaXQuXG5cbiAqIEBrbm93bklzc3VlXG5cbiAgICMjIyBJc3N1ZXMgd2l0aCBgcmVwbGFjZTogdHJ1ZWBcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XG4gKiAgICoqTm90ZSoqOiB7QGxpbmsgJGNvbXBpbGUjLXJlcGxhY2UtIGByZXBsYWNlOiB0cnVlYH0gaXMgZGVwcmVjYXRlZCBhbmQgbm90IHJlY29tbWVuZGVkIHRvIHVzZSxcbiAqICAgbWFpbmx5IGR1ZSB0byB0aGUgaXNzdWVzIGxpc3RlZCBoZXJlLiBJdCBoYXMgYmVlbiBjb21wbGV0ZWx5IHJlbW92ZWQgaW4gdGhlIG5ldyBBbmd1bGFyLlxuICogPC9kaXY+XG4gKlxuICogIyMjIyBBdHRyaWJ1dGUgdmFsdWVzIGFyZSBub3QgbWVyZ2VkXG4gKlxuICogV2hlbiBhIGByZXBsYWNlYCBkaXJlY3RpdmUgZW5jb3VudGVycyB0aGUgc2FtZSBhdHRyaWJ1dGUgb24gdGhlIG9yaWdpbmFsIGFuZCB0aGUgcmVwbGFjZSBub2RlLFxuICogaXQgd2lsbCBzaW1wbHkgZGVkdXBsaWNhdGUgdGhlIGF0dHJpYnV0ZSBhbmQgam9pbiB0aGUgdmFsdWVzIHdpdGggYSBzcGFjZSBvciB3aXRoIGEgYDtgIGluIGNhc2Ugb2ZcbiAqIHRoZSBgc3R5bGVgIGF0dHJpYnV0ZS5cbiAqIGBgYGh0bWxcbiAqIE9yaWdpbmFsIE5vZGU6IDxzcGFuIGNsYXNzPVwib3JpZ2luYWxcIiBzdHlsZT1cImNvbG9yOiByZWQ7XCI+PC9zcGFuPlxuICogUmVwbGFjZSBUZW1wbGF0ZTogPHNwYW4gY2xhc3M9XCJyZXBsYWNlZFwiIHN0eWxlPVwiYmFja2dyb3VuZDogYmx1ZTtcIj48L3NwYW4+XG4gKiBSZXN1bHQ6IDxzcGFuIGNsYXNzPVwib3JpZ2luYWwgcmVwbGFjZWRcIiBzdHlsZT1cImNvbG9yOiByZWQ7IGJhY2tncm91bmQ6IGJsdWU7XCI+PC9zcGFuPlxuICogYGBgXG4gKlxuICogVGhhdCBtZWFucyBhdHRyaWJ1dGVzIHRoYXQgY29udGFpbiBBbmd1bGFySlMgZXhwcmVzc2lvbnMgd2lsbCBub3QgYmUgbWVyZ2VkIGNvcnJlY3RseSwgZS5nLlxuICoge0BsaW5rIG5nU2hvd30gb3Ige0BsaW5rIG5nQ2xhc3N9IHdpbGwgY2F1c2UgYSB7QGxpbmsgJHBhcnNlfSBlcnJvcjpcbiAqXG4gKiBgYGBodG1sXG4gKiBPcmlnaW5hbCBOb2RlOiA8c3BhbiBuZy1jbGFzcz1cInsnc29tZXRoaW5nJzogc29tZXRoaW5nfVwiIG5nLXNob3c9XCIhY29uZGl0aW9uXCI+PC9zcGFuPlxuICogUmVwbGFjZSBUZW1wbGF0ZTogPHNwYW4gbmctY2xhc3M9XCJ7J2Vsc2UnOiBlbHNlfVwiIG5nLXNob3c9XCJvdGhlckNvbmRpdGlvblwiPjwvc3Bhbj5cbiAqIFJlc3VsdDogPHNwYW4gbmctY2xhc3M9XCJ7J3NvbWV0aGluZyc6IHNvbWV0aGluZ30geydlbHNlJzogZWxzZX1cIiBuZy1zaG93PVwiIWNvbmRpdGlvbiBvdGhlckNvbmRpdGlvblwiPjwvc3Bhbj5cbiAqIGBgYFxuICpcbiAqIFNlZSBpc3N1ZSBbIzU2OTVdKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzU2OTUpLlxuICpcbiAqICMjIyMgRGlyZWN0aXZlcyBhcmUgbm90IGRlZHVwbGljYXRlZCBiZWZvcmUgY29tcGlsYXRpb25cbiAqXG4gKiBXaGVuIHRoZSBvcmlnaW5hbCBub2RlIGFuZCB0aGUgcmVwbGFjZSB0ZW1wbGF0ZSBkZWNsYXJlIHRoZSBzYW1lIGRpcmVjdGl2ZShzKSwgdGhleSB3aWxsIGJlXG4gKiB7QGxpbmsgZ3VpZGUvY29tcGlsZXIjZG91YmxlLWNvbXBpbGF0aW9uLWFuZC1ob3ctdG8tYXZvaWQtaXQgY29tcGlsZWQgdHdpY2V9IGJlY2F1c2UgdGhlIGNvbXBpbGVyXG4gKiBkb2VzIG5vdCBkZWR1cGxpY2F0ZSB0aGVtLiBJbiBtYW55IGNhc2VzLCB0aGlzIGlzIG5vdCBub3RpY2FibGUsIGJ1dCBlLmcuIHtAbGluayBuZ01vZGVsfSB3aWxsXG4gKiBhdHRhY2ggYCRmb3JtYXR0ZXJzYCBhbmQgYCRwYXJzZXJzYCB0d2ljZS5cbiAqXG4gKiBTZWUgaXNzdWUgWyMyNTczXShodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8yNTczKS5cbiAqXG4gKiAjIyMjIGB0cmFuc2NsdWRlOiBlbGVtZW50YCBpbiB0aGUgcmVwbGFjZSB0ZW1wbGF0ZSByb290IGNhbiBoYXZlIHVuZXhwZWN0ZWQgZWZmZWN0c1xuICpcbiAqIFdoZW4gdGhlIHJlcGxhY2UgdGVtcGxhdGUgaGFzIGEgZGlyZWN0aXZlIGF0IHRoZSByb290IG5vZGUgdGhhdCB1c2VzXG4gKiB7QGxpbmsgJGNvbXBpbGUjLXRyYW5zY2x1ZGUtIGB0cmFuc2NsdWRlOiBlbGVtZW50YH0sIGUuZy5cbiAqIHtAbGluayBuZ0lmfSBvciB7QGxpbmsgbmdSZXBlYXR9LCB0aGUgRE9NIHN0cnVjdHVyZSBvciBzY29wZSBpbmhlcml0YW5jZSBjYW4gYmUgaW5jb3JyZWN0LlxuICogU2VlIHRoZSBmb2xsb3dpbmcgaXNzdWVzOlxuICpcbiAqIC0gSW5jb3JyZWN0IHNjb3BlIG9uIHJlcGxhY2VkIGVsZW1lbnQ6XG4gKiBbIzk4MzddKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzk4MzcpXG4gKiAtIERpZmZlcmVudCBET00gYmV0d2VlbiBgdGVtcGxhdGVgIGFuZCBgdGVtcGxhdGVVcmxgOlxuICogWyMxMDYxMl0oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTQzMjYpXG4gKlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdQcm9wXG4gKiBAcmVzdHJpY3QgQVxuICogQGVsZW1lbnQgQU5ZXG4gKlxuICogQHVzYWdlXG4gKlxuICogYGBgaHRtbFxuICogPEFOWSBuZy1wcm9wLXByb3BuYW1lPVwiZXhwcmVzc2lvblwiPlxuICogPC9BTlk+XG4gKiBgYGBcbiAqXG4gKiBvciB3aXRoIHVwcGVyY2FzZSBsZXR0ZXJzIGluIHByb3BlcnR5IChlLmcuIFwicHJvcE5hbWVcIik6XG4gKlxuICpcbiAqIGBgYGh0bWxcbiAqIDxBTlkgbmctcHJvcC1wcm9wX25hbWU9XCJleHByZXNzaW9uXCI+XG4gKiA8L0FOWT5cbiAqIGBgYFxuICpcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdQcm9wYCBkaXJlY3RpdmUgYmluZHMgYW4gZXhwcmVzc2lvbiB0byBhIERPTSBlbGVtZW50IHByb3BlcnR5LlxuICogYG5nUHJvcGAgYWxsb3dzIHdyaXRpbmcgdG8gYXJiaXRyYXJ5IHByb3BlcnRpZXMgYnkgaW5jbHVkaW5nXG4gKiB0aGUgcHJvcGVydHkgbmFtZSBpbiB0aGUgYXR0cmlidXRlLCBlLmcuIGBuZy1wcm9wLXZhbHVlPVwiJ215IHZhbHVlJ1wiYCBiaW5kcyAnbXkgdmFsdWUnIHRvXG4gKiB0aGUgYHZhbHVlYCBwcm9wZXJ0eS5cbiAqXG4gKiBVc3VhbGx5LCBpdCdzIG5vdCBuZWNlc3NhcnkgdG8gd3JpdGUgdG8gcHJvcGVydGllcyBpbiBBbmd1bGFySlMsIGFzIHRoZSBidWlsdC1pbiBkaXJlY3RpdmVzXG4gKiBoYW5kbGUgdGhlIG1vc3QgY29tbW9uIHVzZSBjYXNlcyAoaW5zdGVhZCBvZiB0aGUgYWJvdmUgZXhhbXBsZSwgeW91IHdvdWxkIHVzZSB7QGxpbmsgbmdWYWx1ZX0pLlxuICpcbiAqIEhvd2V2ZXIsIFtjdXN0b20gZWxlbWVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL1dlYl9Db21wb25lbnRzL1VzaW5nX2N1c3RvbV9lbGVtZW50cylcbiAqIG9mdGVuIHVzZSBjdXN0b20gcHJvcGVydGllcyB0byBob2xkIGRhdGEsIGFuZCBgbmdQcm9wYCBjYW4gYmUgdXNlZCB0byBwcm92aWRlIGlucHV0IHRvIHRoZXNlXG4gKiBjdXN0b20gZWxlbWVudHMuXG4gKlxuICogIyMgQmluZGluZyB0byBjYW1lbENhc2UgcHJvcGVydGllc1xuICpcbiAqIFNpbmNlIEhUTUwgYXR0cmlidXRlcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSwgY2FtZWxDYXNlIHByb3BlcnRpZXMgbGlrZSBgaW5uZXJIVE1MYCBtdXN0IGJlIGVzY2FwZWQuXG4gKiBBbmd1bGFySlMgdXNlcyB0aGUgdW5kZXJzY29yZSAoXykgaW4gZnJvbnQgb2YgYSBjaGFyYWN0ZXIgdG8gaW5kaWNhdGUgdGhhdCBpdCBpcyB1cHBlcmNhc2UsIHNvXG4gKiBgaW5uZXJIVE1MYCAgbXVzdCBiZSB3cml0dGVuIGFzIGBuZy1wcm9wLWlubmVyX2hfdF9tX2w9XCJleHByZXNzaW9uXCJgIChOb3RlIHRoYXQgdGhpcyBpcyBqdXN0IGFuXG4gKiBleGFtcGxlLCBhbmQgZm9yIGJpbmRpbmcgSFRNTCB7QGxpbmsgbmdCaW5kSHRtbH0gc2hvdWxkIGJlIHVzZWQuXG4gKlxuICogIyMgU2VjdXJpdHlcbiAqXG4gKiBCaW5kaW5nIGV4cHJlc3Npb25zIHRvIGFyYml0cmFyeSBwcm9wZXJ0aWVzIHBvc2VzIGEgc2VjdXJpdHkgcmlzaywgYXMgIHByb3BlcnRpZXMgbGlrZSBgaW5uZXJIVE1MYFxuICogY2FuIGluc2VydCBwb3RlbnRpYWxseSBkYW5nZXJvdXMgSFRNTCBpbnRvIHRoZSBhcHBsaWNhdGlvbiwgZS5nLiBzY3JpcHQgdGFncyB0aGF0IGV4ZWN1dGVcbiAqIG1hbGljaW91cyBjb2RlLlxuICogRm9yIHRoaXMgcmVhc29uLCBgbmdQcm9wYCBhcHBsaWVzIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIHdpdGggdGhlIHtAbGluayBuZy4kc2NlICRzY2Ugc2VydmljZX0uXG4gKiBUaGlzIG1lYW5zIHZ1bG5lcmFibGUgcHJvcGVydGllcyByZXF1aXJlIHRoZWlyIGNvbnRlbnQgdG8gYmUgXCJ0cnVzdGVkXCIsIGJhc2VkIG9uIHRoZVxuICogY29udGV4dCBvZiB0aGUgcHJvcGVydHkuIEZvciBleGFtcGxlLCB0aGUgYGlubmVySFRNTGAgaXMgaW4gdGhlIGBIVE1MYCBjb250ZXh0LCBhbmQgdGhlXG4gKiBgaWZyYW1lLnNyY2AgcHJvcGVydHkgaXMgaW4gdGhlIGBSRVNPVVJDRV9VUkxgIGNvbnRleHQsIHdoaWNoIHJlcXVpcmVzIHRoYXQgdmFsdWVzIHdyaXR0ZW4gdG9cbiAqIHRoaXMgcHJvcGVydHkgYXJlIHRydXN0ZWQgYXMgYSBgUkVTT1VSQ0VfVVJMYC5cbiAqXG4gKiBUaGlzIGNhbiBiZSBzZXQgZXhwbGljaXRseSBieSBjYWxsaW5nICRzY2UudHJ1c3RBcyh0eXBlLCB2YWx1ZSkgb24gdGhlIHZhbHVlIHRoYXQgaXNcbiAqIHRydXN0ZWQgYmVmb3JlIHBhc3NpbmcgaXQgdG8gdGhlIGBuZy1wcm9wLSpgIGRpcmVjdGl2ZS4gVGhlcmUgYXJlIGV4aXN0IHNob3J0aGFuZCBtZXRob2RzIGZvclxuICogZWFjaCBjb250ZXh0IHR5cGUgaW4gdGhlIGZvcm0gb2Yge0BsaW5rIG5nLiRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsICRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKCl9IGV0IGFsLlxuICpcbiAqIEluIHNvbWUgY2FzZXMgeW91IGNhbiBhbHNvIHJlbHkgdXBvbiBhdXRvbWF0aWMgc2FuaXRpemF0aW9uIG9mIHVudHJ1c3RlZCB2YWx1ZXMgLSBzZWUgYmVsb3cuXG4gKlxuICogQmFzZWQgb24gdGhlIGNvbnRleHQsIG90aGVyIG9wdGlvbnMgbWF5IGV4aXN0IHRvIG1hcmsgYSB2YWx1ZSBhcyB0cnVzdGVkIC8gY29uZmlndXJlIHRoZSBiZWhhdmlvclxuICogb2Yge0BsaW5rIG5nLiRzY2V9LiBGb3IgZXhhbXBsZSwgdG8gcmVzdHJpY3QgdGhlIGBSRVNPVVJDRV9VUkxgIGNvbnRleHQgdG8gc3BlY2lmaWMgb3JpZ2lucywgdXNlXG4gKiB0aGUge0BsaW5rICRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0IHJlc291cmNlVXJsV2hpdGVsaXN0KCl9XG4gKiBhbmQge0BsaW5rICRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0IHJlc291cmNlVXJsQmxhY2tsaXN0KCl9LlxuICpcbiAqIHtAbGluayBuZy4kc2NlI3doYXQtdHJ1c3RlZC1jb250ZXh0LXR5cGVzLWFyZS1zdXBwb3J0ZWQtIEZpbmQgb3V0IG1vcmUgYWJvdXQgdGhlIGRpZmZlcmVudCBjb250ZXh0IHR5cGVzfS5cbiAqXG4gKiAjIyMgSFRNTCBTYW5pdGl6YXRpb25cbiAqXG4gKiBCeSBkZWZhdWx0LCBgJHNjZWAgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiBpdCBkZXRlY3RzIHVudHJ1c3RlZCBIVE1MIGNvbnRlbnQsIGFuZCB3aWxsIG5vdCBiaW5kIHRoZVxuICogY29udGVudC5cbiAqIEhvd2V2ZXIsIGlmIHlvdSBpbmNsdWRlIHRoZSB7QGxpbmsgbmdTYW5pdGl6ZSBuZ1Nhbml0aXplIG1vZHVsZX0sIGl0IHdpbGwgdHJ5IHRvIHNhbml0aXplIHRoZVxuICogcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIEhUTUwsIGUuZy4gc3RyaXAgbm9uLXdoaXRlbGlzdGVkIHRhZ3MgYW5kIGF0dHJpYnV0ZXMgd2hlbiBiaW5kaW5nIHRvXG4gKiBgaW5uZXJIVE1MYC5cbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIEJpbmRpbmcgdG8gZGlmZmVyZW50IGNvbnRleHRzXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cIm5nUHJvcFwiIG1vZHVsZT1cImV4YW1wbGVOZ1Byb3BcIj5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgIGFuZ3VsYXIubW9kdWxlKCdleGFtcGxlTmdQcm9wJywgW10pXG4gKiAgICAgICAuY29tcG9uZW50KCdtYWluJywge1xuICogICAgICAgICB0ZW1wbGF0ZVVybDogJ21haW4uaHRtbCcsXG4gKiAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzY2UpIHtcbiAqICAgICAgICAgICB0aGlzLnNhZmVDb250ZW50ID0gJzxzdHJvbmc+U2FmZSBjb250ZW50PC9zdHJvbmc+JztcbiAqICAgICAgICAgICB0aGlzLnVuc2FmZUNvbnRlbnQgPSAnPGJ1dHRvbiBvbmNsaWNrPVwiYWxlcnQoXFwnSGVsbG8gWFNTIVxcJylcIj5DbGljayBmb3IgWFNTPC9idXR0b24+JztcbiAqICAgICAgICAgICB0aGlzLnRydXN0ZWRVbnNhZmVDb250ZW50ID0gJHNjZS50cnVzdEFzSHRtbCh0aGlzLnVuc2FmZUNvbnRlbnQpO1xuICogICAgICAgICB9XG4gKiAgICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwibWFpbi5odG1sXCI+XG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxkaXYgY2xhc3M9XCJwcm9wLXVuaXRcIj5cbiAqICAgICAgICAgQmluZGluZyB0byBhIHByb3BlcnR5IHdpdGhvdXQgc2VjdXJpdHkgY29udGV4dDpcbiAqICAgICAgICAgPGRpdiBjbGFzcz1cInByb3AtYmluZGluZ1wiIG5nLXByb3AtaW5uZXJfdGV4dD1cIiRjdHJsLnNhZmVDb250ZW50XCI+PC9kaXY+XG4gKiAgICAgICAgIDxzcGFuIGNsYXNzPVwicHJvcC1ub3RlXCI+aW5uZXJUZXh0PC9zcGFuPiAoc2FmZUNvbnRlbnQpXG4gKiAgICAgICA8L2Rpdj5cbiAqXG4gKiAgICAgICA8ZGl2IGNsYXNzPVwicHJvcC11bml0XCI+XG4gKiAgICAgICAgIFwiU2FmZVwiIGNvbnRlbnQgdGhhdCByZXF1aXJlcyBhIHNlY3VyaXR5IGNvbnRleHQgd2lsbCB0aHJvdyBiZWNhdXNlIHRoZSBjb250ZW50cyBjb3VsZCBwb3RlbnRpYWxseSBiZSBkYW5nZXJvdXMgLi4uXG4gKiAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9wLWJpbmRpbmdcIiBuZy1wcm9wLWlubmVyX2hfdF9tX2w9XCIkY3RybC5zYWZlQ29udGVudFwiPjwvZGl2PlxuICogICAgICAgICA8c3BhbiBjbGFzcz1cInByb3Atbm90ZVwiPmlubmVySFRNTDwvc3Bhbj4gKHNhZmVDb250ZW50KVxuICogICAgICAgPC9kaXY+XG4gKlxuICogICAgICAgPGRpdiBjbGFzcz1cInByb3AtdW5pdFwiPlxuICogICAgICAgICAuLi4gc28gdGhhdCBhY3R1YWxseSBkYW5nZXJvdXMgY29udGVudCBjYW5ub3QgYmUgZXhlY3V0ZWQ6XG4gKiAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9wLWJpbmRpbmdcIiBuZy1wcm9wLWlubmVyX2hfdF9tX2w9XCIkY3RybC51bnNhZmVDb250ZW50XCI+PC9kaXY+XG4gKiAgICAgICAgIDxzcGFuIGNsYXNzPVwicHJvcC1ub3RlXCI+aW5uZXJIVE1MPC9zcGFuPiAodW5zYWZlQ29udGVudClcbiAqICAgICAgIDwvZGl2PlxuICpcbiAqICAgICAgIDxkaXYgY2xhc3M9XCJwcm9wLXVuaXRcIj5cbiAqICAgICAgICAgLi4uIGJ1dCB1bnNhZmUgQ29udGVudCB0aGF0IGhhcyBiZWVuIHRydXN0ZWQgZXhwbGljaXRseSB3b3JrcyAtIG9ubHkgZG8gdGhpcyBpZiB5b3UgYXJlIDEwMCUgc3VyZSFcbiAqICAgICAgICAgPGRpdiBjbGFzcz1cInByb3AtYmluZGluZ1wiIG5nLXByb3AtaW5uZXJfaF90X21fbD1cIiRjdHJsLnRydXN0ZWRVbnNhZmVDb250ZW50XCI+PC9kaXY+XG4gKiAgICAgICAgIDxzcGFuIGNsYXNzPVwicHJvcC1ub3RlXCI+aW5uZXJIVE1MPC9zcGFuPiAodHJ1c3RlZFVuc2FmZUNvbnRlbnQpXG4gKiAgICAgICA8L2Rpdj5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxtYWluPjwvbWFpbj5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwic3R5bGVzLmNzc1wiPlxuICogICAgIC5wcm9wLXVuaXQge1xuICogICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAqICAgICB9XG4gKlxuICogICAgIC5wcm9wLWJpbmRpbmcge1xuICogICAgICAgbWluLWhlaWdodDogMzBweDtcbiAqICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsdWU7XG4gKiAgICAgfVxuICpcbiAqICAgICAucHJvcC1ub3RlIHtcbiAqICAgICAgIGZvbnQtZmFtaWx5OiBNb25vc3BhY2U7XG4gKiAgICAgfVxuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgQmluZGluZyB0byBpbm5lckhUTUwgd2l0aCBuZ1Nhbml0aXplXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cIm5nUHJvcFwiIG1vZHVsZT1cImV4YW1wbGVOZ1Byb3BcIiBkZXBzPVwiYW5ndWxhci1zYW5pdGl6ZS5qc1wiPlxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgICAgYW5ndWxhci5tb2R1bGUoJ2V4YW1wbGVOZ1Byb3AnLCBbJ25nU2FuaXRpemUnXSlcbiAqICAgICAgIC5jb21wb25lbnQoJ21haW4nLCB7XG4gKiAgICAgICAgIHRlbXBsYXRlVXJsOiAnbWFpbi5odG1sJyxcbiAqICAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oJHNjZSkge1xuICogICAgICAgICAgIHRoaXMuc2FmZUNvbnRlbnQgPSAnPHN0cm9uZz5TYWZlIGNvbnRlbnQ8L3N0cm9uZz4nO1xuICogICAgICAgICAgIHRoaXMudW5zYWZlQ29udGVudCA9ICc8YnV0dG9uIG9uY2xpY2s9XCJhbGVydChcXCdIZWxsbyBYU1MhXFwnKVwiPkNsaWNrIGZvciBYU1M8L2J1dHRvbj4nO1xuICogICAgICAgICAgIHRoaXMudHJ1c3RlZFVuc2FmZUNvbnRlbnQgPSAkc2NlLnRydXN0QXNIdG1sKHRoaXMudW5zYWZlQ29udGVudCk7XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJtYWluLmh0bWxcIj5cbiAqICAgICA8ZGl2PlxuICogICAgICAgPGRpdiBjbGFzcz1cInByb3AtdW5pdFwiPlxuICogICAgICAgICBcIlNhZmVcIiBjb250ZW50IHdpbGwgYmUgc2FuaXRpemVkIC4uLlxuICogICAgICAgICA8ZGl2IGNsYXNzPVwicHJvcC1iaW5kaW5nXCIgbmctcHJvcC1pbm5lcl9oX3RfbV9sPVwiJGN0cmwuc2FmZUNvbnRlbnRcIj48L2Rpdj5cbiAqICAgICAgICAgPHNwYW4gY2xhc3M9XCJwcm9wLW5vdGVcIj5pbm5lckhUTUw8L3NwYW4+IChzYWZlQ29udGVudClcbiAqICAgICAgIDwvZGl2PlxuICpcbiAqICAgICAgIDxkaXYgY2xhc3M9XCJwcm9wLXVuaXRcIj5cbiAqICAgICAgICAgLi4uIGFzIHdpbGwgZGFuZ2Vyb3VzIGNvbnRlbnQ6XG4gKiAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9wLWJpbmRpbmdcIiBuZy1wcm9wLWlubmVyX2hfdF9tX2w9XCIkY3RybC51bnNhZmVDb250ZW50XCI+PC9kaXY+XG4gKiAgICAgICAgIDxzcGFuIGNsYXNzPVwicHJvcC1ub3RlXCI+aW5uZXJIVE1MPC9zcGFuPiAodW5zYWZlQ29udGVudClcbiAqICAgICAgIDwvZGl2PlxuICpcbiAqICAgICAgIDxkaXYgY2xhc3M9XCJwcm9wLXVuaXRcIj5cbiAqICAgICAgICAgLi4uIGFuZCBjb250ZW50IHRoYXQgaGFzIGJlZW4gdHJ1c3RlZCBleHBsaWNpdGx5IHdvcmtzIHRoZSBzYW1lIGFzIHdpdGhvdXQgbmdTYW5pdGl6ZTpcbiAqICAgICAgICAgPGRpdiBjbGFzcz1cInByb3AtYmluZGluZ1wiIG5nLXByb3AtaW5uZXJfaF90X21fbD1cIiRjdHJsLnRydXN0ZWRVbnNhZmVDb250ZW50XCI+PC9kaXY+XG4gKiAgICAgICAgIDxzcGFuIGNsYXNzPVwicHJvcC1ub3RlXCI+aW5uZXJIVE1MPC9zcGFuPiAodHJ1c3RlZFVuc2FmZUNvbnRlbnQpXG4gKiAgICAgICA8L2Rpdj5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxtYWluPjwvbWFpbj5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwic3R5bGVzLmNzc1wiPlxuICogICAgIC5wcm9wLXVuaXQge1xuICogICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAqICAgICB9XG4gKlxuICogICAgIC5wcm9wLWJpbmRpbmcge1xuICogICAgICAgbWluLWhlaWdodDogMzBweDtcbiAqICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsdWU7XG4gKiAgICAgfVxuICpcbiAqICAgICAucHJvcC1ub3RlIHtcbiAqICAgICAgIGZvbnQtZmFtaWx5OiBNb25vc3BhY2U7XG4gKiAgICAgfVxuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICovXG5cbi8qKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ09uXG4gKiBAcmVzdHJpY3QgQVxuICogQGVsZW1lbnQgQU5ZXG4gKlxuICogQHVzYWdlXG4gKlxuICogYGBgaHRtbFxuICogPEFOWSBuZy1vbi1ldmVudG5hbWU9XCJleHByZXNzaW9uXCI+XG4gKiA8L0FOWT5cbiAqIGBgYFxuICpcbiAqIG9yIHdpdGggdXBwZXJjYXNlIGxldHRlcnMgaW4gcHJvcGVydHkgKGUuZy4gXCJldmVudE5hbWVcIik6XG4gKlxuICpcbiAqIGBgYGh0bWxcbiAqIDxBTlkgbmctb24tZXZlbnRfbmFtZT1cImV4cHJlc3Npb25cIj5cbiAqIDwvQU5ZPlxuICogYGBgXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nT25gIGRpcmVjdGl2ZSBhZGRzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGEgRE9NIGVsZW1lbnQgdmlhXG4gKiB7QGxpbmsgYW5ndWxhci5lbGVtZW50IGFuZ3VsYXIuZWxlbWVudCgpLm9uKCl9LCBhbmQgZXZhbHVhdGVzIGFuIGV4cHJlc3Npb24gd2hlbiB0aGUgZXZlbnQgaXNcbiAqIGZpcmVkLlxuICogYG5nT25gIGFsbG93cyBhZGRpbmcgbGlzdGVuZXJzIGZvciBhcmJpdHJhcnkgZXZlbnRzIGJ5IGluY2x1ZGluZ1xuICogdGhlIGV2ZW50IG5hbWUgaW4gdGhlIGF0dHJpYnV0ZSwgZS5nLiBgbmctb24tZHJvcD1cIm9uRHJvcCgpXCJgIGV4ZWN1dGVzIHRoZSAnb25Ecm9wKCknIGV4cHJlc3Npb25cbiAqIHdoZW4gdGhlIGBkcm9wYCBldmVudCBpcyBmaXJlZC5cbiAqXG4gKiBBbmd1bGFySlMgcHJvdmlkZXMgc3BlY2lmaWMgZGlyZWN0aXZlcyBmb3IgbWFueSBldmVudHMsIHN1Y2ggYXMge0BsaW5rIG5nQ2xpY2t9LCBzbyBpbiBtb3N0XG4gKiBjYXNlcyBpdCBpcyBub3QgbmVjZXNzYXJ5IHRvIHVzZSBgbmdPbmAuIEhvd2V2ZXIsIEFuZ3VsYXJKUyBkb2VzIG5vdCBzdXBwb3J0IGFsbCBldmVudHNcbiAqIChlLmcuIHRoZSBgZHJvcGAgZXZlbnQgaW4gdGhlIGV4YW1wbGUgYWJvdmUpLCBhbmQgbmV3IGV2ZW50cyBtaWdodCBiZSBpbnRyb2R1Y2VkIGluIGxhdGVyIERPTVxuICogc3RhbmRhcmRzLlxuICpcbiAqIEFub3RoZXIgdXNlLWNhc2UgZm9yIGBuZ09uYCBpcyBsaXN0ZW5pbmcgdG9cbiAqIFtjdXN0b20gZXZlbnRzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9HdWlkZS9FdmVudHMvQ3JlYXRpbmdfYW5kX3RyaWdnZXJpbmdfZXZlbnRzKVxuICogZmlyZWQgYnlcbiAqIFtjdXN0b20gZWxlbWVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL1dlYl9Db21wb25lbnRzL1VzaW5nX2N1c3RvbV9lbGVtZW50cykuXG4gKlxuICogIyMgQmluZGluZyB0byBjYW1lbENhc2UgcHJvcGVydGllc1xuICpcbiAqIFNpbmNlIEhUTUwgYXR0cmlidXRlcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSwgY2FtZWxDYXNlIHByb3BlcnRpZXMgbGlrZSBgbXlFdmVudGAgbXVzdCBiZSBlc2NhcGVkLlxuICogQW5ndWxhckpTIHVzZXMgdGhlIHVuZGVyc2NvcmUgKF8pIGluIGZyb250IG9mIGEgY2hhcmFjdGVyIHRvIGluZGljYXRlIHRoYXQgaXQgaXMgdXBwZXJjYXNlLCBzb1xuICogYG15RXZlbnRgIG11c3QgYmUgd3JpdHRlbiBhcyBgbmctb24tbXlfZXZlbnQ9XCJleHByZXNzaW9uXCJgLlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgQmluZCB0byBidWlsdC1pbiBET00gZXZlbnRzXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cIm5nT25cIiBtb2R1bGU9XCJleGFtcGxlTmdPblwiPlxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgICAgYW5ndWxhci5tb2R1bGUoJ2V4YW1wbGVOZ09uJywgW10pXG4gKiAgICAgICAuY29tcG9uZW50KCdtYWluJywge1xuICogICAgICAgICB0ZW1wbGF0ZVVybDogJ21haW4uaHRtbCcsXG4gKiAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgIHRoaXMuY2xpY2tDb3VudCA9IDA7XG4gKiAgICAgICAgICAgdGhpcy5tb3VzZW92ZXJDb3VudCA9IDA7XG4gKlxuICogICAgICAgICAgIHRoaXMubG9hZGluZ1N0YXRlID0gMDtcbiAqICAgICAgICAgfVxuICogICAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cIm1haW4uaHRtbFwiPlxuICogICAgIDxkaXY+XG4gKiAgICAgICBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gYG5nQ2xpY2tgIGFuZCBgbmdNb3VzZW92ZXJgOjxicj5cbiAqICAgICAgIDxidXR0b25cbiAqICAgICAgICAgbmctb24tY2xpY2s9XCIkY3RybC5jbGlja0NvdW50ID0gJGN0cmwuY2xpY2tDb3VudCArIDFcIlxuICogICAgICAgICBuZy1vbi1tb3VzZW92ZXI9XCIkY3RybC5tb3VzZW92ZXJDb3VudCA9ICRjdHJsLm1vdXNlb3ZlckNvdW50ICsgMVwiPkNsaWNrIG9yIG1vdXNlb3ZlcjwvYnV0dG9uPjxicj5cbiAqICAgICAgIGNsaWNrQ291bnQ6IHt7JGN0cmwuY2xpY2tDb3VudH19PGJyPlxuICogICAgICAgbW91c2VvdmVyOiB7eyRjdHJsLm1vdXNlb3ZlckNvdW50fX1cbiAqXG4gKiAgICAgICA8aHI+XG4gKlxuICogICAgICAgRm9yIHRoZSBgZXJyb3JgIGFuZCBgbG9hZGAgZXZlbnQgb24gaW1hZ2VzIG5vIGJ1aWx0LWluIEFuZ3VsYXJKUyBkaXJlY3RpdmVzIGV4aXN0Ojxicj5cbiAqICAgICAgIDxpbWcgc3JjPVwidGhpc2ltYWdlZG9lc25vdGV4aXN0LnBuZ1wiIG5nLW9uLWVycm9yPVwiJGN0cmwubG9hZGluZ1N0YXRlID0gLTFcIiBuZy1vbi1sb2FkPVwiJGN0cmwubG9hZGluZ1N0YXRlID0gMVwiPjxicj5cbiAqICAgICAgIDxkaXYgbmctc3dpdGNoPVwiJGN0cmwubG9hZGluZ1N0YXRlXCI+XG4gKiAgICAgICAgIDxzcGFuIG5nLXN3aXRjaC13aGVuPVwiMFwiPkltYWdlIGlzIGxvYWRpbmc8L3NwYW4+XG4gKiAgICAgICAgIDxzcGFuIG5nLXN3aXRjaC13aGVuPVwiLTFcIj5JbWFnZSBsb2FkIGVycm9yPC9zcGFuPlxuICogICAgICAgICA8c3BhbiBuZy1zd2l0Y2gtd2hlbj1cIjFcIj5JbWFnZSBsb2FkZWQgc3VjY2Vzc2Z1bGx5PC9zcGFuPlxuICogICAgICAgPC9kaXY+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgICA8bWFpbj48L21haW4+XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBCaW5kIHRvIGN1c3RvbSBET00gZXZlbnRzXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cIm5nT25DdXN0b21cIiBtb2R1bGU9XCJleGFtcGxlTmdPblwiPlxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgICAgYW5ndWxhci5tb2R1bGUoJ2V4YW1wbGVOZ09uJywgW10pXG4gKiAgICAgICAuY29tcG9uZW50KCdtYWluJywge1xuICogICAgICAgICB0ZW1wbGF0ZVVybDogJ21haW4uaHRtbCcsXG4gKiAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgIHRoaXMuZXZlbnRMb2cgPSAnJztcbiAqXG4gKiAgICAgICAgICAgdGhpcy5saXN0ZW5lciA9IGZ1bmN0aW9uKCRldmVudCkge1xuICogICAgICAgICAgICAgdGhpcy5ldmVudExvZyA9ICdFdmVudCB3aXRoIHR5cGUgXCInICsgJGV2ZW50LnR5cGUgKyAnXCIgZmlyZWQgYXQgJyArICRldmVudC5kZXRhaWw7XG4gKiAgICAgICAgICAgfTtcbiAqICAgICAgICAgfVxuICogICAgICAgfSlcbiAqICAgICAgIC5jb21wb25lbnQoJ2NoaWxkQ29tcG9uZW50Jywge1xuICogICAgICAgICB0ZW1wbGF0ZVVybDogJ2NoaWxkLmh0bWwnLFxuICogICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkZWxlbWVudCkge1xuICogICAgICAgICAgIHRoaXMuZmlyZUV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2N1c3RvbXR5cGUnLCB7IGRldGFpbDogbmV3IERhdGUoKX0pO1xuICpcbiAqICAgICAgICAgICAgICRlbGVtZW50WzBdLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICogICAgICAgICAgIH07XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJtYWluLmh0bWxcIj5cbiAqICAgICA8Y2hpbGQtY29tcG9uZW50IG5nLW9uLWN1c3RvbXR5cGU9XCIkY3RybC5saXN0ZW5lcigkZXZlbnQpXCI+PC9jaGlsZC1jb21wb25lbnQ+PGJyPlxuICogICAgIDxzcGFuPkV2ZW50IGxvZzoge3skY3RybC5ldmVudExvZ319PC9zcGFuPlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJjaGlsZC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGN0cmwuZmlyZUV2ZW50KClcIj5GaXJlIGN1c3RvbSBldmVudDwvYnV0dG9uPlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICAgPG1haW4+PC9tYWluPlxuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cblxudmFyICRjb21waWxlTWluRXJyID0gbWluRXJyKCckY29tcGlsZScpO1xuXG5mdW5jdGlvbiBVTklOSVRJQUxJWkVEX1ZBTFVFKCkge31cbnZhciBfVU5JTklUSUFMSVpFRF9WQUxVRSA9IG5ldyBVTklOSVRJQUxJWkVEX1ZBTFVFKCk7XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKi9cbiRDb21waWxlUHJvdmlkZXIuJGluamVjdCA9IFsnJHByb3ZpZGUnLCAnJCRzYW5pdGl6ZVVyaVByb3ZpZGVyJ107XG4vKiogQHRoaXMgKi9cbmZ1bmN0aW9uICRDb21waWxlUHJvdmlkZXIoJHByb3ZpZGUsICQkc2FuaXRpemVVcmlQcm92aWRlcikge1xuICB2YXIgaGFzRGlyZWN0aXZlcyA9IHt9LFxuICAgICAgU3VmZml4ID0gJ0RpcmVjdGl2ZScsXG4gICAgICBDT01NRU5UX0RJUkVDVElWRV9SRUdFWFAgPSAvXlxccypkaXJlY3RpdmU6XFxzKihbXFx3LV0rKVxccysoLiopJC8sXG4gICAgICBDTEFTU19ESVJFQ1RJVkVfUkVHRVhQID0gLygoW1xcdy1dKykoPzo6KFteO10rKSk/Oz8pLyxcbiAgICAgIEFMTF9PUl9OT1RISU5HX0FUVFJTID0gbWFrZU1hcCgnbmdTcmMsbmdTcmNzZXQsc3JjLHNyY3NldCcpLFxuICAgICAgUkVRVUlSRV9QUkVGSVhfUkVHRVhQID0gL14oPzooXFxeXFxePyk/KFxcPyk/KFxcXlxcXj8pPyk/LztcblxuICAvLyBSZWY6IGh0dHA6Ly9kZXZlbG9wZXJzLndoYXR3Zy5vcmcvd2ViYXBwYXBpcy5odG1sI2V2ZW50LWhhbmRsZXItaWRsLWF0dHJpYnV0ZXNcbiAgLy8gVGhlIGFzc3VtcHRpb24gaXMgdGhhdCBmdXR1cmUgRE9NIGV2ZW50IGF0dHJpYnV0ZSBuYW1lcyB3aWxsIGJlZ2luIHdpdGhcbiAgLy8gJ29uJyBhbmQgYmUgY29tcG9zZWQgb2Ygb25seSBFbmdsaXNoIGxldHRlcnMuXG4gIHZhciBFVkVOVF9IQU5ETEVSX0FUVFJfUkVHRVhQID0gL14ob25bYS16XSt8Zm9ybWFjdGlvbikkLztcbiAgdmFyIGJpbmRpbmdDYWNoZSA9IGNyZWF0ZU1hcCgpO1xuXG4gIGZ1bmN0aW9uIHBhcnNlSXNvbGF0ZUJpbmRpbmdzKHNjb3BlLCBkaXJlY3RpdmVOYW1lLCBpc0NvbnRyb2xsZXIpIHtcbiAgICB2YXIgTE9DQUxfUkVHRVhQID0gL14oW0AmXXxbPTxdKFxcKj8pKShcXD8/KVxccyooW1xcdyRdKikkLztcblxuICAgIHZhciBiaW5kaW5ncyA9IGNyZWF0ZU1hcCgpO1xuXG4gICAgZm9yRWFjaChzY29wZSwgZnVuY3Rpb24oZGVmaW5pdGlvbiwgc2NvcGVOYW1lKSB7XG4gICAgICBkZWZpbml0aW9uID0gZGVmaW5pdGlvbi50cmltKCk7XG5cbiAgICAgIGlmIChkZWZpbml0aW9uIGluIGJpbmRpbmdDYWNoZSkge1xuICAgICAgICBiaW5kaW5nc1tzY29wZU5hbWVdID0gYmluZGluZ0NhY2hlW2RlZmluaXRpb25dO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbWF0Y2ggPSBkZWZpbml0aW9uLm1hdGNoKExPQ0FMX1JFR0VYUCk7XG5cbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ2lzY3AnLFxuICAgICAgICAgICAgJ0ludmFsaWQgezN9IGZvciBkaXJlY3RpdmUgXFwnezB9XFwnLicgK1xuICAgICAgICAgICAgJyBEZWZpbml0aW9uOiB7Li4uIHsxfTogXFwnezJ9XFwnIC4uLn0nLFxuICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSwgc2NvcGVOYW1lLCBkZWZpbml0aW9uLFxuICAgICAgICAgICAgKGlzQ29udHJvbGxlciA/ICdjb250cm9sbGVyIGJpbmRpbmdzIGRlZmluaXRpb24nIDpcbiAgICAgICAgICAgICdpc29sYXRlIHNjb3BlIGRlZmluaXRpb24nKSk7XG4gICAgICB9XG5cbiAgICAgIGJpbmRpbmdzW3Njb3BlTmFtZV0gPSB7XG4gICAgICAgIG1vZGU6IG1hdGNoWzFdWzBdLFxuICAgICAgICBjb2xsZWN0aW9uOiBtYXRjaFsyXSA9PT0gJyonLFxuICAgICAgICBvcHRpb25hbDogbWF0Y2hbM10gPT09ICc/JyxcbiAgICAgICAgYXR0ck5hbWU6IG1hdGNoWzRdIHx8IHNjb3BlTmFtZVxuICAgICAgfTtcbiAgICAgIGlmIChtYXRjaFs0XSkge1xuICAgICAgICBiaW5kaW5nQ2FjaGVbZGVmaW5pdGlvbl0gPSBiaW5kaW5nc1tzY29wZU5hbWVdO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGJpbmRpbmdzO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VEaXJlY3RpdmVCaW5kaW5ncyhkaXJlY3RpdmUsIGRpcmVjdGl2ZU5hbWUpIHtcbiAgICB2YXIgYmluZGluZ3MgPSB7XG4gICAgICBpc29sYXRlU2NvcGU6IG51bGwsXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiBudWxsXG4gICAgfTtcbiAgICBpZiAoaXNPYmplY3QoZGlyZWN0aXZlLnNjb3BlKSkge1xuICAgICAgaWYgKGRpcmVjdGl2ZS5iaW5kVG9Db250cm9sbGVyID09PSB0cnVlKSB7XG4gICAgICAgIGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXIgPSBwYXJzZUlzb2xhdGVCaW5kaW5ncyhkaXJlY3RpdmUuc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCB0cnVlKTtcbiAgICAgICAgYmluZGluZ3MuaXNvbGF0ZVNjb3BlID0ge307XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiaW5kaW5ncy5pc29sYXRlU2NvcGUgPSBwYXJzZUlzb2xhdGVCaW5kaW5ncyhkaXJlY3RpdmUuc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZU5hbWUsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZS5iaW5kVG9Db250cm9sbGVyKSkge1xuICAgICAgYmluZGluZ3MuYmluZFRvQ29udHJvbGxlciA9XG4gICAgICAgICAgcGFyc2VJc29sYXRlQmluZGluZ3MoZGlyZWN0aXZlLmJpbmRUb0NvbnRyb2xsZXIsIGRpcmVjdGl2ZU5hbWUsIHRydWUpO1xuICAgIH1cbiAgICBpZiAoYmluZGluZ3MuYmluZFRvQ29udHJvbGxlciAmJiAhZGlyZWN0aXZlLmNvbnRyb2xsZXIpIHtcbiAgICAgIC8vIFRoZXJlIGlzIG5vIGNvbnRyb2xsZXJcbiAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdub2N0cmwnLFxuICAgICAgICAgICAgJ0Nhbm5vdCBiaW5kIHRvIGNvbnRyb2xsZXIgd2l0aG91dCBkaXJlY3RpdmUgXFwnezB9XFwncyBjb250cm9sbGVyLicsXG4gICAgICAgICAgICBkaXJlY3RpdmVOYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIGJpbmRpbmdzO1xuICB9XG5cbiAgZnVuY3Rpb24gYXNzZXJ0VmFsaWREaXJlY3RpdmVOYW1lKG5hbWUpIHtcbiAgICB2YXIgbGV0dGVyID0gbmFtZS5jaGFyQXQoMCk7XG4gICAgaWYgKCFsZXR0ZXIgfHwgbGV0dGVyICE9PSBsb3dlcmNhc2UobGV0dGVyKSkge1xuICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ2JhZGRpcicsICdEaXJlY3RpdmUvQ29tcG9uZW50IG5hbWUgXFwnezB9XFwnIGlzIGludmFsaWQuIFRoZSBmaXJzdCBjaGFyYWN0ZXIgbXVzdCBiZSBhIGxvd2VyY2FzZSBsZXR0ZXInLCBuYW1lKTtcbiAgICB9XG4gICAgaWYgKG5hbWUgIT09IG5hbWUudHJpbSgpKSB7XG4gICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignYmFkZGlyJyxcbiAgICAgICAgICAgICdEaXJlY3RpdmUvQ29tcG9uZW50IG5hbWUgXFwnezB9XFwnIGlzIGludmFsaWQuIFRoZSBuYW1lIHNob3VsZCBub3QgY29udGFpbiBsZWFkaW5nIG9yIHRyYWlsaW5nIHdoaXRlc3BhY2VzJyxcbiAgICAgICAgICAgIG5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERpcmVjdGl2ZVJlcXVpcmUoZGlyZWN0aXZlKSB7XG4gICAgdmFyIHJlcXVpcmUgPSBkaXJlY3RpdmUucmVxdWlyZSB8fCAoZGlyZWN0aXZlLmNvbnRyb2xsZXIgJiYgZGlyZWN0aXZlLm5hbWUpO1xuXG4gICAgaWYgKCFpc0FycmF5KHJlcXVpcmUpICYmIGlzT2JqZWN0KHJlcXVpcmUpKSB7XG4gICAgICBmb3JFYWNoKHJlcXVpcmUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgdmFyIG1hdGNoID0gdmFsdWUubWF0Y2goUkVRVUlSRV9QUkVGSVhfUkVHRVhQKTtcbiAgICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgaWYgKCFuYW1lKSByZXF1aXJlW2tleV0gPSBtYXRjaFswXSArIGtleTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXF1aXJlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RGlyZWN0aXZlUmVzdHJpY3QocmVzdHJpY3QsIG5hbWUpIHtcbiAgICBpZiAocmVzdHJpY3QgJiYgIShpc1N0cmluZyhyZXN0cmljdCkgJiYgL1tFQUNNXS8udGVzdChyZXN0cmljdCkpKSB7XG4gICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignYmFkcmVzdHJpY3QnLFxuICAgICAgICAgICdSZXN0cmljdCBwcm9wZXJ0eSBcXCd7MH1cXCcgb2YgZGlyZWN0aXZlIFxcJ3sxfVxcJyBpcyBpbnZhbGlkJyxcbiAgICAgICAgICByZXN0cmljdCxcbiAgICAgICAgICBuYW1lKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdHJpY3QgfHwgJ0VBJztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlciBhIG5ldyBkaXJlY3RpdmUgd2l0aCB0aGUgY29tcGlsZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBOYW1lIG9mIHRoZSBkaXJlY3RpdmUgaW4gY2FtZWwtY2FzZSAoaS5lLiA8Y29kZT5uZ0JpbmQ8L2NvZGU+IHdoaWNoXG4gICAqICAgIHdpbGwgbWF0Y2ggYXMgPGNvZGU+bmctYmluZDwvY29kZT4pLCBvciBhbiBvYmplY3QgbWFwIG9mIGRpcmVjdGl2ZXMgd2hlcmUgdGhlIGtleXMgYXJlIHRoZVxuICAgKiAgICBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGZhY3Rvcmllcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheX0gZGlyZWN0aXZlRmFjdG9yeSBBbiBpbmplY3RhYmxlIGRpcmVjdGl2ZSBmYWN0b3J5IGZ1bmN0aW9uLiBTZWUgdGhlXG4gICAqICAgIHtAbGluayBndWlkZS9kaXJlY3RpdmUgZGlyZWN0aXZlIGd1aWRlfSBhbmQgdGhlIHtAbGluayAkY29tcGlsZSBjb21waWxlIEFQSX0gZm9yIG1vcmUgaW5mby5cbiAgICogQHJldHVybnMge25nLiRjb21waWxlUHJvdmlkZXJ9IFNlbGYgZm9yIGNoYWluaW5nLlxuICAgKi9cbiAgdGhpcy5kaXJlY3RpdmUgPSBmdW5jdGlvbiByZWdpc3RlckRpcmVjdGl2ZShuYW1lLCBkaXJlY3RpdmVGYWN0b3J5KSB7XG4gICAgYXNzZXJ0QXJnKG5hbWUsICduYW1lJyk7XG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ2RpcmVjdGl2ZScpO1xuICAgIGlmIChpc1N0cmluZyhuYW1lKSkge1xuICAgICAgYXNzZXJ0VmFsaWREaXJlY3RpdmVOYW1lKG5hbWUpO1xuICAgICAgYXNzZXJ0QXJnKGRpcmVjdGl2ZUZhY3RvcnksICdkaXJlY3RpdmVGYWN0b3J5Jyk7XG4gICAgICBpZiAoIWhhc0RpcmVjdGl2ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgaGFzRGlyZWN0aXZlc1tuYW1lXSA9IFtdO1xuICAgICAgICAkcHJvdmlkZS5mYWN0b3J5KG5hbWUgKyBTdWZmaXgsIFsnJGluamVjdG9yJywgJyRleGNlcHRpb25IYW5kbGVyJyxcbiAgICAgICAgICBmdW5jdGlvbigkaW5qZWN0b3IsICRleGNlcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlcyA9IFtdO1xuICAgICAgICAgICAgZm9yRWFjaChoYXNEaXJlY3RpdmVzW25hbWVdLCBmdW5jdGlvbihkaXJlY3RpdmVGYWN0b3J5LCBpbmRleCkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBkaXJlY3RpdmUgPSAkaW5qZWN0b3IuaW52b2tlKGRpcmVjdGl2ZUZhY3RvcnkpO1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGRpcmVjdGl2ZSkpIHtcbiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZSA9IHsgY29tcGlsZTogdmFsdWVGbihkaXJlY3RpdmUpIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghZGlyZWN0aXZlLmNvbXBpbGUgJiYgZGlyZWN0aXZlLmxpbmspIHtcbiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5jb21waWxlID0gdmFsdWVGbihkaXJlY3RpdmUubGluayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5wcmlvcml0eSA9IGRpcmVjdGl2ZS5wcmlvcml0eSB8fCAwO1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5pbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5uYW1lID0gZGlyZWN0aXZlLm5hbWUgfHwgbmFtZTtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUucmVxdWlyZSA9IGdldERpcmVjdGl2ZVJlcXVpcmUoZGlyZWN0aXZlKTtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUucmVzdHJpY3QgPSBnZXREaXJlY3RpdmVSZXN0cmljdChkaXJlY3RpdmUucmVzdHJpY3QsIG5hbWUpO1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS4kJG1vZHVsZU5hbWUgPSBkaXJlY3RpdmVGYWN0b3J5LiQkbW9kdWxlTmFtZTtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmVzLnB1c2goZGlyZWN0aXZlKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmVzO1xuICAgICAgICAgIH1dKTtcbiAgICAgIH1cbiAgICAgIGhhc0RpcmVjdGl2ZXNbbmFtZV0ucHVzaChkaXJlY3RpdmVGYWN0b3J5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yRWFjaChuYW1lLCByZXZlcnNlUGFyYW1zKHJlZ2lzdGVyRGlyZWN0aXZlKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjY29tcG9uZW50XG4gICAqIEBtb2R1bGUgbmdcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIE5hbWUgb2YgdGhlIGNvbXBvbmVudCBpbiBjYW1lbENhc2UgKGkuZS4gYG15Q29tcGAgd2hpY2ggd2lsbCBtYXRjaCBgPG15LWNvbXA+YCksXG4gICAqICAgIG9yIGFuIG9iamVjdCBtYXAgb2YgY29tcG9uZW50cyB3aGVyZSB0aGUga2V5cyBhcmUgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgY29tcG9uZW50IGRlZmluaXRpb24gb2JqZWN0cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQ29tcG9uZW50IGRlZmluaXRpb24gb2JqZWN0IChhIHNpbXBsaWZpZWRcbiAgICogICAge0BsaW5rIG5nLiRjb21waWxlI2RpcmVjdGl2ZS1kZWZpbml0aW9uLW9iamVjdCBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3R9KSxcbiAgICogICAgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgKGFsbCBvcHRpb25hbCk6XG4gICAqXG4gICAqICAgIC0gYGNvbnRyb2xsZXJgIOKAkyBgeyhzdHJpbmd8ZnVuY3Rpb24oKT19YCDigJMgY29udHJvbGxlciBjb25zdHJ1Y3RvciBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZVxuICAgKiAgICAgIGFzc29jaWF0ZWQgd2l0aCBuZXdseSBjcmVhdGVkIHNjb3BlIG9yIHRoZSBuYW1lIG9mIGEge0BsaW5rIG5nLiRjb21waWxlIy1jb250cm9sbGVyLVxuICAgKiAgICAgIHJlZ2lzdGVyZWQgY29udHJvbGxlcn0gaWYgcGFzc2VkIGFzIGEgc3RyaW5nLiBBbiBlbXB0eSBgbm9vcGAgZnVuY3Rpb24gYnkgZGVmYXVsdC5cbiAgICogICAgLSBgY29udHJvbGxlckFzYCDigJMgYHtzdHJpbmc9fWAg4oCTIGlkZW50aWZpZXIgbmFtZSBmb3IgdG8gcmVmZXJlbmNlIHRoZSBjb250cm9sbGVyIGluIHRoZSBjb21wb25lbnQncyBzY29wZS5cbiAgICogICAgICBJZiBwcmVzZW50LCB0aGUgY29udHJvbGxlciB3aWxsIGJlIHB1Ymxpc2hlZCB0byBzY29wZSB1bmRlciB0aGUgYGNvbnRyb2xsZXJBc2AgbmFtZS5cbiAgICogICAgICBJZiBub3QgcHJlc2VudCwgdGhpcyB3aWxsIGRlZmF1bHQgdG8gYmUgYCRjdHJsYC5cbiAgICogICAgLSBgdGVtcGxhdGVgIOKAkyBge3N0cmluZz18ZnVuY3Rpb24oKT19YCDigJMgaHRtbCB0ZW1wbGF0ZSBhcyBhIHN0cmluZyBvciBhIGZ1bmN0aW9uIHRoYXRcbiAgICogICAgICByZXR1cm5zIGFuIGh0bWwgdGVtcGxhdGUgYXMgYSBzdHJpbmcgd2hpY2ggc2hvdWxkIGJlIHVzZWQgYXMgdGhlIGNvbnRlbnRzIG9mIHRoaXMgY29tcG9uZW50LlxuICAgKiAgICAgIEVtcHR5IHN0cmluZyBieSBkZWZhdWx0LlxuICAgKlxuICAgKiAgICAgIElmIGB0ZW1wbGF0ZWAgaXMgYSBmdW5jdGlvbiwgdGhlbiBpdCBpcyB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW52b2tlIGluamVjdGVkfSB3aXRoXG4gICAqICAgICAgdGhlIGZvbGxvd2luZyBsb2NhbHM6XG4gICAqXG4gICAqICAgICAgLSBgJGVsZW1lbnRgIC0gQ3VycmVudCBlbGVtZW50XG4gICAqICAgICAgLSBgJGF0dHJzYCAtIEN1cnJlbnQgYXR0cmlidXRlcyBvYmplY3QgZm9yIHRoZSBlbGVtZW50XG4gICAqXG4gICAqICAgIC0gYHRlbXBsYXRlVXJsYCDigJMgYHtzdHJpbmc9fGZ1bmN0aW9uKCk9fWAg4oCTIHBhdGggb3IgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcGF0aCB0byBhbiBodG1sXG4gICAqICAgICAgdGVtcGxhdGUgdGhhdCBzaG91bGQgYmUgdXNlZCAgYXMgdGhlIGNvbnRlbnRzIG9mIHRoaXMgY29tcG9uZW50LlxuICAgKlxuICAgKiAgICAgIElmIGB0ZW1wbGF0ZVVybGAgaXMgYSBmdW5jdGlvbiwgdGhlbiBpdCBpcyB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW52b2tlIGluamVjdGVkfSB3aXRoXG4gICAqICAgICAgdGhlIGZvbGxvd2luZyBsb2NhbHM6XG4gICAqXG4gICAqICAgICAgLSBgJGVsZW1lbnRgIC0gQ3VycmVudCBlbGVtZW50XG4gICAqICAgICAgLSBgJGF0dHJzYCAtIEN1cnJlbnQgYXR0cmlidXRlcyBvYmplY3QgZm9yIHRoZSBlbGVtZW50XG4gICAqXG4gICAqICAgIC0gYGJpbmRpbmdzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGRlZmluZXMgYmluZGluZ3MgYmV0d2VlbiBET00gYXR0cmlidXRlcyBhbmQgY29tcG9uZW50IHByb3BlcnRpZXMuXG4gICAqICAgICAgQ29tcG9uZW50IHByb3BlcnRpZXMgYXJlIGFsd2F5cyBib3VuZCB0byB0aGUgY29tcG9uZW50IGNvbnRyb2xsZXIgYW5kIG5vdCB0byB0aGUgc2NvcGUuXG4gICAqICAgICAgU2VlIHtAbGluayBuZy4kY29tcGlsZSMtYmluZHRvY29udHJvbGxlci0gYGJpbmRUb0NvbnRyb2xsZXJgfS5cbiAgICogICAgLSBgdHJhbnNjbHVkZWAg4oCTIGB7Ym9vbGVhbj19YCDigJMgd2hldGhlciB7QGxpbmsgJGNvbXBpbGUjdHJhbnNjbHVzaW9uIGNvbnRlbnQgdHJhbnNjbHVzaW9ufSBpcyBlbmFibGVkLlxuICAgKiAgICAgIERpc2FibGVkIGJ5IGRlZmF1bHQuXG4gICAqICAgIC0gYHJlcXVpcmVgIC0gYHtPYmplY3Q8c3RyaW5nLCBzdHJpbmc+PX1gIC0gcmVxdWlyZXMgdGhlIGNvbnRyb2xsZXJzIG9mIG90aGVyIGRpcmVjdGl2ZXMgYW5kIGJpbmRzIHRoZW0gdG9cbiAgICogICAgICB0aGlzIGNvbXBvbmVudCdzIGNvbnRyb2xsZXIuIFRoZSBvYmplY3Qga2V5cyBzcGVjaWZ5IHRoZSBwcm9wZXJ0eSBuYW1lcyB1bmRlciB3aGljaCB0aGUgcmVxdWlyZWRcbiAgICogICAgICBjb250cm9sbGVycyAob2JqZWN0IHZhbHVlcykgd2lsbCBiZSBib3VuZC4gU2VlIHtAbGluayBuZy4kY29tcGlsZSMtcmVxdWlyZS0gYHJlcXVpcmVgfS5cbiAgICogICAgLSBgJC4uLmAg4oCTIGFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBhdHRhY2ggdG8gdGhlIGRpcmVjdGl2ZSBmYWN0b3J5IGZ1bmN0aW9uIGFuZCB0aGUgY29udHJvbGxlclxuICAgKiAgICAgIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLiAoVGhpcyBpcyB1c2VkIGJ5IHRoZSBjb21wb25lbnQgcm91dGVyIHRvIGFubm90YXRlKVxuICAgKlxuICAgKiBAcmV0dXJucyB7bmcuJGNvbXBpbGVQcm92aWRlcn0gdGhlIGNvbXBpbGUgcHJvdmlkZXIgaXRzZWxmLCBmb3IgY2hhaW5pbmcgb2YgZnVuY3Rpb24gY2FsbHMuXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlciBhICoqY29tcG9uZW50IGRlZmluaXRpb24qKiB3aXRoIHRoZSBjb21waWxlci4gVGhpcyBpcyBhIHNob3J0aGFuZCBmb3IgcmVnaXN0ZXJpbmcgYSBzcGVjaWFsXG4gICAqIHR5cGUgb2YgZGlyZWN0aXZlLCB3aGljaCByZXByZXNlbnRzIGEgc2VsZi1jb250YWluZWQgVUkgY29tcG9uZW50IGluIHlvdXIgYXBwbGljYXRpb24uIFN1Y2ggY29tcG9uZW50c1xuICAgKiBhcmUgYWx3YXlzIGlzb2xhdGVkIChpLmUuIGBzY29wZToge31gKSBhbmQgYXJlIGFsd2F5cyByZXN0cmljdGVkIHRvIGVsZW1lbnRzIChpLmUuIGByZXN0cmljdDogJ0UnYCkuXG4gICAqXG4gICAqIENvbXBvbmVudCBkZWZpbml0aW9ucyBhcmUgdmVyeSBzaW1wbGUgYW5kIGRvIG5vdCByZXF1aXJlIGFzIG11Y2ggY29uZmlndXJhdGlvbiBhcyBkZWZpbmluZyBnZW5lcmFsXG4gICAqIGRpcmVjdGl2ZXMuIENvbXBvbmVudCBkZWZpbml0aW9ucyB1c3VhbGx5IGNvbnNpc3Qgb25seSBvZiBhIHRlbXBsYXRlIGFuZCBhIGNvbnRyb2xsZXIgYmFja2luZyBpdC5cbiAgICpcbiAgICogSW4gb3JkZXIgdG8gbWFrZSB0aGUgZGVmaW5pdGlvbiBlYXNpZXIsIGNvbXBvbmVudHMgZW5mb3JjZSBiZXN0IHByYWN0aWNlcyBsaWtlIHVzZSBvZiBgY29udHJvbGxlckFzYCxcbiAgICogYGJpbmRUb0NvbnRyb2xsZXJgLiBUaGV5IGFsd2F5cyBoYXZlICoqaXNvbGF0ZSBzY29wZSoqIGFuZCBhcmUgcmVzdHJpY3RlZCB0byBlbGVtZW50cy5cbiAgICpcbiAgICogSGVyZSBhcmUgYSBmZXcgZXhhbXBsZXMgb2YgaG93IHlvdSB3b3VsZCB1c3VhbGx5IGRlZmluZSBjb21wb25lbnRzOlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAgIHZhciBteU1vZCA9IGFuZ3VsYXIubW9kdWxlKC4uLik7XG4gICAqICAgbXlNb2QuY29tcG9uZW50KCdteUNvbXAnLCB7XG4gICAqICAgICB0ZW1wbGF0ZTogJzxkaXY+TXkgbmFtZSBpcyB7eyRjdHJsLm5hbWV9fTwvZGl2PicsXG4gICAqICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcbiAgICogICAgICAgdGhpcy5uYW1lID0gJ3NoYWhhcic7XG4gICAqICAgICB9XG4gICAqICAgfSk7XG4gICAqXG4gICAqICAgbXlNb2QuY29tcG9uZW50KCdteUNvbXAnLCB7XG4gICAqICAgICB0ZW1wbGF0ZTogJzxkaXY+TXkgbmFtZSBpcyB7eyRjdHJsLm5hbWV9fTwvZGl2PicsXG4gICAqICAgICBiaW5kaW5nczoge25hbWU6ICdAJ31cbiAgICogICB9KTtcbiAgICpcbiAgICogICBteU1vZC5jb21wb25lbnQoJ215Q29tcCcsIHtcbiAgICogICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbXktY29tcC5odG1sJyxcbiAgICogICAgIGNvbnRyb2xsZXI6ICdNeUN0cmwnLFxuICAgKiAgICAgY29udHJvbGxlckFzOiAnY3RybCcsXG4gICAqICAgICBiaW5kaW5nczoge25hbWU6ICdAJ31cbiAgICogICB9KTtcbiAgICpcbiAgICogYGBgXG4gICAqIEZvciBtb3JlIGV4YW1wbGVzLCBhbmQgYW4gaW4tZGVwdGggZ3VpZGUsIHNlZSB0aGUge0BsaW5rIGd1aWRlL2NvbXBvbmVudCBjb21wb25lbnQgZ3VpZGV9LlxuICAgKlxuICAgKiA8YnIgLz5cbiAgICogU2VlIGFsc28ge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlICRjb21waWxlUHJvdmlkZXIuZGlyZWN0aXZlKCl9LlxuICAgKi9cbiAgdGhpcy5jb21wb25lbnQgPSBmdW5jdGlvbiByZWdpc3RlckNvbXBvbmVudChuYW1lLCBvcHRpb25zKSB7XG4gICAgaWYgKCFpc1N0cmluZyhuYW1lKSkge1xuICAgICAgZm9yRWFjaChuYW1lLCByZXZlcnNlUGFyYW1zKGJpbmQodGhpcywgcmVnaXN0ZXJDb21wb25lbnQpKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB2YXIgY29udHJvbGxlciA9IG9wdGlvbnMuY29udHJvbGxlciB8fCBmdW5jdGlvbigpIHt9O1xuXG4gICAgZnVuY3Rpb24gZmFjdG9yeSgkaW5qZWN0b3IpIHtcbiAgICAgIGZ1bmN0aW9uIG1ha2VJbmplY3RhYmxlKGZuKSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGZuKSB8fCBpc0FycmF5KGZuKSkge1xuICAgICAgICAgIHJldHVybiAvKiogQHRoaXMgKi8gZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgICAgICAgcmV0dXJuICRpbmplY3Rvci5pbnZva2UoZm4sIHRoaXMsIHskZWxlbWVudDogdEVsZW1lbnQsICRhdHRyczogdEF0dHJzfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHRlbXBsYXRlID0gKCFvcHRpb25zLnRlbXBsYXRlICYmICFvcHRpb25zLnRlbXBsYXRlVXJsID8gJycgOiBvcHRpb25zLnRlbXBsYXRlKTtcbiAgICAgIHZhciBkZG8gPSB7XG4gICAgICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXIsXG4gICAgICAgIGNvbnRyb2xsZXJBczogaWRlbnRpZmllckZvckNvbnRyb2xsZXIob3B0aW9ucy5jb250cm9sbGVyKSB8fCBvcHRpb25zLmNvbnRyb2xsZXJBcyB8fCAnJGN0cmwnLFxuICAgICAgICB0ZW1wbGF0ZTogbWFrZUluamVjdGFibGUodGVtcGxhdGUpLFxuICAgICAgICB0ZW1wbGF0ZVVybDogbWFrZUluamVjdGFibGUob3B0aW9ucy50ZW1wbGF0ZVVybCksXG4gICAgICAgIHRyYW5zY2x1ZGU6IG9wdGlvbnMudHJhbnNjbHVkZSxcbiAgICAgICAgc2NvcGU6IHt9LFxuICAgICAgICBiaW5kVG9Db250cm9sbGVyOiBvcHRpb25zLmJpbmRpbmdzIHx8IHt9LFxuICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICByZXF1aXJlOiBvcHRpb25zLnJlcXVpcmVcbiAgICAgIH07XG5cbiAgICAgIC8vIENvcHkgYW5ub3RhdGlvbnMgKHN0YXJ0aW5nIHdpdGggJCkgb3ZlciB0byB0aGUgRERPXG4gICAgICBmb3JFYWNoKG9wdGlvbnMsIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG4gICAgICAgIGlmIChrZXkuY2hhckF0KDApID09PSAnJCcpIGRkb1trZXldID0gdmFsO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZG87XG4gICAgfVxuXG4gICAgLy8gVE9ETyhwZXRlKSByZW1vdmUgdGhlIGZvbGxvd2luZyBgZm9yRWFjaGAgYmVmb3JlIHdlIHJlbGVhc2UgMS42LjBcbiAgICAvLyBUaGUgY29tcG9uZW50LXJvdXRlckAwLjIuMCBsb29rcyBmb3IgdGhlIGFubm90YXRpb25zIG9uIHRoZSBjb250cm9sbGVyIGNvbnN0cnVjdG9yXG4gICAgLy8gTm90aGluZyBpbiBBbmd1bGFySlMgbG9va3MgZm9yIGFubm90YXRpb25zIG9uIHRoZSBmYWN0b3J5IGZ1bmN0aW9uIGJ1dCB3ZSBjYW4ndCByZW1vdmVcbiAgICAvLyBpdCBmcm9tIDEuNS54IHlldC5cblxuICAgIC8vIENvcHkgYW55IGFubm90YXRpb24gcHJvcGVydGllcyAoc3RhcnRpbmcgd2l0aCAkKSBvdmVyIHRvIHRoZSBmYWN0b3J5IGFuZCBjb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uc1xuICAgIC8vIFRoZXNlIGNvdWxkIGJlIHVzZWQgYnkgbGlicmFyaWVzIHN1Y2ggYXMgdGhlIG5ldyBjb21wb25lbnQgcm91dGVyXG4gICAgZm9yRWFjaChvcHRpb25zLCBmdW5jdGlvbih2YWwsIGtleSkge1xuICAgICAgaWYgKGtleS5jaGFyQXQoMCkgPT09ICckJykge1xuICAgICAgICBmYWN0b3J5W2tleV0gPSB2YWw7XG4gICAgICAgIC8vIERvbid0IHRyeSB0byBjb3B5IG92ZXIgYW5ub3RhdGlvbnMgdG8gbmFtZWQgY29udHJvbGxlclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250cm9sbGVyKSkgY29udHJvbGxlcltrZXldID0gdmFsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZmFjdG9yeS4kaW5qZWN0ID0gWyckaW5qZWN0b3InXTtcblxuICAgIHJldHVybiB0aGlzLmRpcmVjdGl2ZShuYW1lLCBmYWN0b3J5KTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3RcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmVcbiAgICogdXJscyBkdXJpbmcgYVtocmVmXSBzYW5pdGl6YXRpb24uXG4gICAqXG4gICAqIFRoZSBzYW5pdGl6YXRpb24gaXMgYSBzZWN1cml0eSBtZWFzdXJlIGFpbWVkIGF0IHByZXZlbnRpbmcgWFNTIGF0dGFja3MgdmlhIGh0bWwgbGlua3MuXG4gICAqXG4gICAqIEFueSB1cmwgYWJvdXQgdG8gYmUgYXNzaWduZWQgdG8gYVtocmVmXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXG4gICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdGBcbiAgICogcmVndWxhciBleHByZXNzaW9uLiBJZiBhIG1hdGNoIGlzIGZvdW5kLCB0aGUgb3JpZ2luYWwgdXJsIGlzIHdyaXR0ZW4gaW50byB0aGUgZG9tLiBPdGhlcndpc2UsXG4gICAqIHRoZSBhYnNvbHV0ZSB1cmwgaXMgcHJlZml4ZWQgd2l0aCBgJ3Vuc2FmZTonYCBzdHJpbmcgYW5kIG9ubHkgdGhlbiBpcyBpdCB3cml0dGVuIGludG8gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWdFeHA9fSByZWdleHAgTmV3IHJlZ2V4cCB0byB3aGl0ZWxpc3QgdXJscyB3aXRoLlxuICAgKiBAcmV0dXJucyB7UmVnRXhwfG5nLiRjb21waWxlUHJvdmlkZXJ9IEN1cnJlbnQgUmVnRXhwIGlmIGNhbGxlZCB3aXRob3V0IHZhbHVlIG9yIHNlbGYgZm9yXG4gICAqICAgIGNoYWluaW5nIG90aGVyd2lzZS5cbiAgICovXG4gIHRoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSBmdW5jdGlvbihyZWdleHApIHtcbiAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHtcbiAgICAgICQkc2FuaXRpemVVcmlQcm92aWRlci5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdChyZWdleHApO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAkJHNhbml0aXplVXJpUHJvdmlkZXIuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKTtcbiAgICB9XG4gIH07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2ltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxuICAgKiB1cmxzIGR1cmluZyBpbWdbc3JjXSBzYW5pdGl6YXRpb24uXG4gICAqXG4gICAqIFRoZSBzYW5pdGl6YXRpb24gaXMgYSBzZWN1cml0eSBtZWFzdXJlIGFpbWVkIGF0IHByZXZlbnQgWFNTIGF0dGFja3MgdmlhIGh0bWwgbGlua3MuXG4gICAqXG4gICAqIEFueSB1cmwgYWJvdXQgdG8gYmUgYXNzaWduZWQgdG8gaW1nW3NyY10gdmlhIGRhdGEtYmluZGluZyBpcyBmaXJzdCBub3JtYWxpemVkIGFuZCB0dXJuZWQgaW50b1xuICAgKiBhbiBhYnNvbHV0ZSB1cmwuIEFmdGVyd2FyZHMsIHRoZSB1cmwgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcbiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXG4gICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcbiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgdGhpcy5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSBmdW5jdGlvbihyZWdleHApIHtcbiAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHtcbiAgICAgICQkc2FuaXRpemVVcmlQcm92aWRlci5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QocmVnZXhwKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAgJGNvbXBpbGVQcm92aWRlciNkZWJ1Z0luZm9FbmFibGVkXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGVuYWJsZWQgdXBkYXRlIHRoZSBkZWJ1Z0luZm9FbmFibGVkIHN0YXRlIGlmIHByb3ZpZGVkLCBvdGhlcndpc2UganVzdCByZXR1cm4gdGhlXG4gICAqIGN1cnJlbnQgZGVidWdJbmZvRW5hYmxlZCBzdGF0ZVxuICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxuICAgKlxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ2FsbCB0aGlzIG1ldGhvZCB0byBlbmFibGUvZGlzYWJsZSB2YXJpb3VzIGRlYnVnIHJ1bnRpbWUgaW5mb3JtYXRpb24gaW4gdGhlIGNvbXBpbGVyIHN1Y2ggYXMgYWRkaW5nXG4gICAqIGJpbmRpbmcgaW5mb3JtYXRpb24gYW5kIGEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHNjb3BlIG9uIHRvIERPTSBlbGVtZW50cy5cbiAgICogSWYgZW5hYmxlZCwgdGhlIGNvbXBpbGVyIHdpbGwgYWRkIHRoZSBmb2xsb3dpbmcgdG8gRE9NIGVsZW1lbnRzIHRoYXQgaGF2ZSBiZWVuIGJvdW5kIHRvIHRoZSBzY29wZVxuICAgKiAqIGBuZy1iaW5kaW5nYCBDU1MgY2xhc3NcbiAgICogKiBgbmctc2NvcGVgIGFuZCBgbmctaXNvbGF0ZWQtc2NvcGVgIENTUyBjbGFzc2VzXG4gICAqICogYCRiaW5kaW5nYCBkYXRhIHByb3BlcnR5IGNvbnRhaW5pbmcgYW4gYXJyYXkgb2YgdGhlIGJpbmRpbmcgZXhwcmVzc2lvbnNcbiAgICogKiBEYXRhIHByb3BlcnRpZXMgdXNlZCBieSB0aGUge0BsaW5rIGFuZ3VsYXIuZWxlbWVudCNtZXRob2RzIGBzY29wZSgpYC9gaXNvbGF0ZVNjb3BlKClgIG1ldGhvZHN9IHRvIHJldHVyblxuICAgKiAgIHRoZSBlbGVtZW50J3Mgc2NvcGUuXG4gICAqICogUGxhY2Vob2xkZXIgY29tbWVudHMgd2lsbCBjb250YWluIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgZGlyZWN0aXZlIGFuZCBiaW5kaW5nIGNhdXNlZCB0aGUgcGxhY2Vob2xkZXIuXG4gICAqICAgRS5nLiBgPCEtLSBuZ0lmOiBzaG91bGRTaG93KCkgLS0+YC5cbiAgICpcbiAgICogWW91IG1heSB3YW50IHRvIGRpc2FibGUgdGhpcyBpbiBwcm9kdWN0aW9uIGZvciBhIHNpZ25pZmljYW50IHBlcmZvcm1hbmNlIGJvb3N0LiBTZWVcbiAgICoge0BsaW5rIGd1aWRlL3Byb2R1Y3Rpb24jZGlzYWJsaW5nLWRlYnVnLWRhdGEgRGlzYWJsaW5nIERlYnVnIERhdGF9IGZvciBtb3JlLlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgdmFyIGRlYnVnSW5mb0VuYWJsZWQgPSB0cnVlO1xuICB0aGlzLmRlYnVnSW5mb0VuYWJsZWQgPSBmdW5jdGlvbihlbmFibGVkKSB7XG4gICAgaWYgKGlzRGVmaW5lZChlbmFibGVkKSkge1xuICAgICAgZGVidWdJbmZvRW5hYmxlZCA9IGVuYWJsZWQ7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGRlYnVnSW5mb0VuYWJsZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgICRjb21waWxlUHJvdmlkZXIjc3RyaWN0Q29tcG9uZW50QmluZGluZ3NFbmFibGVkXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGVuYWJsZWQgdXBkYXRlIHRoZSBzdHJpY3RDb21wb25lbnRCaW5kaW5nc0VuYWJsZWQgc3RhdGUgaWYgcHJvdmlkZWQsXG4gICAqIG90aGVyd2lzZSByZXR1cm4gdGhlIGN1cnJlbnQgc3RyaWN0Q29tcG9uZW50QmluZGluZ3NFbmFibGVkIHN0YXRlLlxuICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxuICAgKlxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ2FsbCB0aGlzIG1ldGhvZCB0byBlbmFibGUgLyBkaXNhYmxlIHRoZSBzdHJpY3QgY29tcG9uZW50IGJpbmRpbmdzIGNoZWNrLiBJZiBlbmFibGVkLCB0aGVcbiAgICogY29tcGlsZXIgd2lsbCBlbmZvcmNlIHRoYXQgYWxsIHNjb3BlIC8gY29udHJvbGxlciBiaW5kaW5ncyBvZiBhXG4gICAqIHtAbGluayAkY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSBkaXJlY3RpdmV9IC8ge0BsaW5rICRjb21waWxlUHJvdmlkZXIjY29tcG9uZW50IGNvbXBvbmVudH1cbiAgICogdGhhdCBhcmUgbm90IHNldCBhcyBvcHRpb25hbCB3aXRoIGA/YCwgbXVzdCBiZSBwcm92aWRlZCB3aGVuIHRoZSBkaXJlY3RpdmUgaXMgaW5zdGFudGlhdGVkLlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIHRoZSBjb21waWxlciB3aWxsIHRocm93IHRoZVxuICAgKiB7QGxpbmsgZXJyb3IvJGNvbXBpbGUvbWlzc2luZ2F0dHIgJGNvbXBpbGU6bWlzc2luZ2F0dHIgZXJyb3J9LlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIHZhciBzdHJpY3RDb21wb25lbnRCaW5kaW5nc0VuYWJsZWQgPSBmYWxzZTtcbiAgdGhpcy5zdHJpY3RDb21wb25lbnRCaW5kaW5nc0VuYWJsZWQgPSBmdW5jdGlvbihlbmFibGVkKSB7XG4gICAgaWYgKGlzRGVmaW5lZChlbmFibGVkKSkge1xuICAgICAgc3RyaWN0Q29tcG9uZW50QmluZGluZ3NFbmFibGVkID0gZW5hYmxlZDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gc3RyaWN0Q29tcG9uZW50QmluZGluZ3NFbmFibGVkO1xuICB9O1xuXG4gIHZhciBUVEwgPSAxMDtcbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNvbkNoYW5nZXNUdGxcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIFNldHMgdGhlIG51bWJlciBvZiB0aW1lcyBgJG9uQ2hhbmdlc2AgaG9va3MgY2FuIHRyaWdnZXIgbmV3IGNoYW5nZXMgYmVmb3JlIGdpdmluZyB1cCBhbmRcbiAgICogYXNzdW1pbmcgdGhhdCB0aGUgbW9kZWwgaXMgdW5zdGFibGUuXG4gICAqXG4gICAqIFRoZSBjdXJyZW50IGRlZmF1bHQgaXMgMTAgaXRlcmF0aW9ucy5cbiAgICpcbiAgICogSW4gY29tcGxleCBhcHBsaWNhdGlvbnMgaXQncyBwb3NzaWJsZSB0aGF0IGRlcGVuZGVuY2llcyBiZXR3ZWVuIGAkb25DaGFuZ2VzYCBob29rcyBhbmQgYmluZGluZ3Mgd2lsbCByZXN1bHRcbiAgICogaW4gc2V2ZXJhbCBpdGVyYXRpb25zIG9mIGNhbGxzIHRvIHRoZXNlIGhvb2tzLiBIb3dldmVyIGlmIGFuIGFwcGxpY2F0aW9uIG5lZWRzIG1vcmUgdGhhbiB0aGUgZGVmYXVsdCAxMFxuICAgKiBpdGVyYXRpb25zIHRvIHN0YWJpbGl6ZSB0aGVuIHlvdSBzaG91bGQgaW52ZXN0aWdhdGUgd2hhdCBpcyBjYXVzaW5nIHRoZSBtb2RlbCB0byBjb250aW51b3VzbHkgY2hhbmdlIGR1cmluZ1xuICAgKiB0aGUgYCRvbkNoYW5nZXNgIGhvb2sgZXhlY3V0aW9uLlxuICAgKlxuICAgKiBJbmNyZWFzaW5nIHRoZSBUVEwgY291bGQgaGF2ZSBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMsIHNvIHlvdSBzaG91bGQgbm90IGNoYW5nZSBpdCB3aXRob3V0IHByb3BlciBqdXN0aWZpY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbGltaXQgVGhlIG51bWJlciBvZiBgJG9uQ2hhbmdlc2AgaG9vayBpdGVyYXRpb25zLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfG9iamVjdH0gdGhlIGN1cnJlbnQgbGltaXQgKG9yIGB0aGlzYCBpZiBjYWxsZWQgYXMgYSBzZXR0ZXIgZm9yIGNoYWluaW5nKVxuICAgKi9cbiAgdGhpcy5vbkNoYW5nZXNUdGwgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBUVEwgPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gVFRMO1xuICB9O1xuXG4gIHZhciBjb21tZW50RGlyZWN0aXZlc0VuYWJsZWRDb25maWcgPSB0cnVlO1xuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2NvbW1lbnREaXJlY3RpdmVzRW5hYmxlZFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogSXQgaW5kaWNhdGVzIHRvIHRoZSBjb21waWxlclxuICAgKiB3aGV0aGVyIG9yIG5vdCBkaXJlY3RpdmVzIG9uIGNvbW1lbnRzIHNob3VsZCBiZSBjb21waWxlZC5cbiAgICogRGVmYXVsdHMgdG8gYHRydWVgLlxuICAgKlxuICAgKiBDYWxsaW5nIHRoaXMgZnVuY3Rpb24gd2l0aCBmYWxzZSBkaXNhYmxlcyB0aGUgY29tcGlsYXRpb24gb2YgZGlyZWN0aXZlc1xuICAgKiBvbiBjb21tZW50cyBmb3IgdGhlIHdob2xlIGFwcGxpY2F0aW9uLlxuICAgKiBUaGlzIHJlc3VsdHMgaW4gYSBjb21waWxhdGlvbiBwZXJmb3JtYW5jZSBnYWluLFxuICAgKiBhcyB0aGUgY29tcGlsZXIgZG9lc24ndCBoYXZlIHRvIGNoZWNrIGNvbW1lbnRzIHdoZW4gbG9va2luZyBmb3IgZGlyZWN0aXZlcy5cbiAgICogVGhpcyBzaG91bGQgaG93ZXZlciBvbmx5IGJlIHVzZWQgaWYgeW91IGFyZSBzdXJlIHRoYXQgbm8gY29tbWVudCBkaXJlY3RpdmVzIGFyZSB1c2VkIGluXG4gICAqIHRoZSBhcHBsaWNhdGlvbiAoaW5jbHVkaW5nIGFueSAzcmQgcGFydHkgZGlyZWN0aXZlcykuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCBgZmFsc2VgIGlmIHRoZSBjb21waWxlciBtYXkgaWdub3JlIGRpcmVjdGl2ZXMgb24gY29tbWVudHNcbiAgICogQHJldHVybnMge2Jvb2xlYW58b2JqZWN0fSB0aGUgY3VycmVudCB2YWx1ZSAob3IgYHRoaXNgIGlmIGNhbGxlZCBhcyBhIHNldHRlciBmb3IgY2hhaW5pbmcpXG4gICAqL1xuICB0aGlzLmNvbW1lbnREaXJlY3RpdmVzRW5hYmxlZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNvbW1lbnREaXJlY3RpdmVzRW5hYmxlZENvbmZpZyA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBjb21tZW50RGlyZWN0aXZlc0VuYWJsZWRDb25maWc7XG4gIH07XG5cblxuICB2YXIgY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZENvbmZpZyA9IHRydWU7XG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogSXQgaW5kaWNhdGVzIHRvIHRoZSBjb21waWxlclxuICAgKiB3aGV0aGVyIG9yIG5vdCBkaXJlY3RpdmVzIG9uIGVsZW1lbnQgY2xhc3NlcyBzaG91bGQgYmUgY29tcGlsZWQuXG4gICAqIERlZmF1bHRzIHRvIGB0cnVlYC5cbiAgICpcbiAgICogQ2FsbGluZyB0aGlzIGZ1bmN0aW9uIHdpdGggZmFsc2UgZGlzYWJsZXMgdGhlIGNvbXBpbGF0aW9uIG9mIGRpcmVjdGl2ZXNcbiAgICogb24gZWxlbWVudCBjbGFzc2VzIGZvciB0aGUgd2hvbGUgYXBwbGljYXRpb24uXG4gICAqIFRoaXMgcmVzdWx0cyBpbiBhIGNvbXBpbGF0aW9uIHBlcmZvcm1hbmNlIGdhaW4sXG4gICAqIGFzIHRoZSBjb21waWxlciBkb2Vzbid0IGhhdmUgdG8gY2hlY2sgZWxlbWVudCBjbGFzc2VzIHdoZW4gbG9va2luZyBmb3IgZGlyZWN0aXZlcy5cbiAgICogVGhpcyBzaG91bGQgaG93ZXZlciBvbmx5IGJlIHVzZWQgaWYgeW91IGFyZSBzdXJlIHRoYXQgbm8gY2xhc3MgZGlyZWN0aXZlcyBhcmUgdXNlZCBpblxuICAgKiB0aGUgYXBwbGljYXRpb24gKGluY2x1ZGluZyBhbnkgM3JkIHBhcnR5IGRpcmVjdGl2ZXMpLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgYGZhbHNlYCBpZiB0aGUgY29tcGlsZXIgbWF5IGlnbm9yZSBkaXJlY3RpdmVzIG9uIGVsZW1lbnQgY2xhc3Nlc1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbnxvYmplY3R9IHRoZSBjdXJyZW50IHZhbHVlIChvciBgdGhpc2AgaWYgY2FsbGVkIGFzIGEgc2V0dGVyIGZvciBjaGFpbmluZylcbiAgICovXG4gIHRoaXMuY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWRDb25maWcgPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZENvbmZpZztcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBUaGUgc2VjdXJpdHkgY29udGV4dCBvZiBET00gUHJvcGVydGllcy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHZhciBQUk9QX0NPTlRFWFRTID0gY3JlYXRlTWFwKCk7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNhZGRQcm9wZXJ0eVNlY3VyaXR5Q29udGV4dFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRGVmaW5lcyB0aGUgc2VjdXJpdHkgY29udGV4dCBmb3IgRE9NIHByb3BlcnRpZXMgYm91bmQgYnkgbmctcHJvcC0qLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWUgVGhlIGVsZW1lbnQgbmFtZSBvciAnKicgdG8gbWF0Y2ggYW55IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU5hbWUgVGhlIERPTSBwcm9wZXJ0eSBuYW1lLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY3R4IFRoZSB7QGxpbmsgJHNjZX0gc2VjdXJpdHkgY29udGV4dCBpbiB3aGljaCB0aGlzIHZhbHVlIGlzIHNhZmUgZm9yIHVzZSwgZS5nLiBgJHNjZS5VUkxgXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IGB0aGlzYCBmb3IgY2hhaW5pbmdcbiAgICovXG4gIHRoaXMuYWRkUHJvcGVydHlTZWN1cml0eUNvbnRleHQgPSBmdW5jdGlvbihlbGVtZW50TmFtZSwgcHJvcGVydHlOYW1lLCBjdHgpIHtcbiAgICB2YXIga2V5ID0gKGVsZW1lbnROYW1lLnRvTG93ZXJDYXNlKCkgKyAnfCcgKyBwcm9wZXJ0eU5hbWUudG9Mb3dlckNhc2UoKSk7XG5cbiAgICBpZiAoa2V5IGluIFBST1BfQ09OVEVYVFMgJiYgUFJPUF9DT05URVhUU1trZXldICE9PSBjdHgpIHtcbiAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdjdHhvdmVycmlkZScsICdQcm9wZXJ0eSBjb250ZXh0IFxcJ3swfS57MX1cXCcgYWxyZWFkeSBzZXQgdG8gXFwnezJ9XFwnLCBjYW5ub3Qgb3ZlcnJpZGUgdG8gXFwnezN9XFwnLicsIGVsZW1lbnROYW1lLCBwcm9wZXJ0eU5hbWUsIFBST1BfQ09OVEVYVFNba2V5XSwgY3R4KTtcbiAgICB9XG5cbiAgICBQUk9QX0NPTlRFWFRTW2tleV0gPSBjdHg7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyogRGVmYXVsdCBwcm9wZXJ0eSBjb250ZXh0cy5cbiAgICpcbiAgICogQ29weSBvZiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2Jsb2IvNi4wLjYvcGFja2FnZXMvY29tcGlsZXIvc3JjL3NjaGVtYS9kb21fc2VjdXJpdHlfc2NoZW1hLnRzI0wzMS1MNThcbiAgICogQ2hhbmdpbmc6XG4gICAqIC0gU2VjdXJpdHlDb250ZXh0LiogPT4gU0NFX0NPTlRFWFRTLyRzY2UuKlxuICAgKiAtIFNUWUxFID0+IENTU1xuICAgKiAtIHZhcmlvdXMgVVJMID0+IE1FRElBX1VSTFxuICAgKiAtICp8Zm9ybUFjdGlvbiwgZm9ybXxhY3Rpb24gVVJMID0+IFJFU09VUkNFX1VSTCAobGlrZSB0aGUgYXR0cmlidXRlKVxuICAgKi9cbiAgKGZ1bmN0aW9uIHJlZ2lzdGVyTmF0aXZlUHJvcGVydHlDb250ZXh0cygpIHtcbiAgICBmdW5jdGlvbiByZWdpc3RlckNvbnRleHQoY3R4LCB2YWx1ZXMpIHtcbiAgICAgIGZvckVhY2godmFsdWVzLCBmdW5jdGlvbih2KSB7IFBST1BfQ09OVEVYVFNbdi50b0xvd2VyQ2FzZSgpXSA9IGN0eDsgfSk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJDb250ZXh0KFNDRV9DT05URVhUUy5IVE1MLCBbXG4gICAgICAnaWZyYW1lfHNyY2RvYycsXG4gICAgICAnKnxpbm5lckhUTUwnLFxuICAgICAgJyp8b3V0ZXJIVE1MJ1xuICAgIF0pO1xuICAgIHJlZ2lzdGVyQ29udGV4dChTQ0VfQ09OVEVYVFMuQ1NTLCBbJyp8c3R5bGUnXSk7XG4gICAgcmVnaXN0ZXJDb250ZXh0KFNDRV9DT05URVhUUy5VUkwsIFtcbiAgICAgICdhcmVhfGhyZWYnLCAgICAgICAnYXJlYXxwaW5nJyxcbiAgICAgICdhfGhyZWYnLCAgICAgICAgICAnYXxwaW5nJyxcbiAgICAgICdibG9ja3F1b3RlfGNpdGUnLFxuICAgICAgJ2JvZHl8YmFja2dyb3VuZCcsXG4gICAgICAnZGVsfGNpdGUnLFxuICAgICAgJ2lucHV0fHNyYycsXG4gICAgICAnaW5zfGNpdGUnLFxuICAgICAgJ3F8Y2l0ZSdcbiAgICBdKTtcbiAgICByZWdpc3RlckNvbnRleHQoU0NFX0NPTlRFWFRTLk1FRElBX1VSTCwgW1xuICAgICAgJ2F1ZGlvfHNyYycsXG4gICAgICAnaW1nfHNyYycsICAgICdpbWd8c3Jjc2V0JyxcbiAgICAgICdzb3VyY2V8c3JjJywgJ3NvdXJjZXxzcmNzZXQnLFxuICAgICAgJ3RyYWNrfHNyYycsXG4gICAgICAndmlkZW98c3JjJywgICd2aWRlb3xwb3N0ZXInXG4gICAgXSk7XG4gICAgcmVnaXN0ZXJDb250ZXh0KFNDRV9DT05URVhUUy5SRVNPVVJDRV9VUkwsIFtcbiAgICAgICcqfGZvcm1BY3Rpb24nLFxuICAgICAgJ2FwcGxldHxjb2RlJywgICAgICAnYXBwbGV0fGNvZGViYXNlJyxcbiAgICAgICdiYXNlfGhyZWYnLFxuICAgICAgJ2VtYmVkfHNyYycsXG4gICAgICAnZnJhbWV8c3JjJyxcbiAgICAgICdmb3JtfGFjdGlvbicsXG4gICAgICAnaGVhZHxwcm9maWxlJyxcbiAgICAgICdodG1sfG1hbmlmZXN0JyxcbiAgICAgICdpZnJhbWV8c3JjJyxcbiAgICAgICdsaW5rfGhyZWYnLFxuICAgICAgJ21lZGlhfHNyYycsXG4gICAgICAnb2JqZWN0fGNvZGViYXNlJywgICdvYmplY3R8ZGF0YScsXG4gICAgICAnc2NyaXB0fHNyYydcbiAgICBdKTtcbiAgfSkoKTtcblxuXG4gIHRoaXMuJGdldCA9IFtcbiAgICAgICAgICAgICckaW5qZWN0b3InLCAnJGludGVycG9sYXRlJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJHBhcnNlJyxcbiAgICAgICAgICAgICckY29udHJvbGxlcicsICckcm9vdFNjb3BlJywgJyRzY2UnLCAnJGFuaW1hdGUnLFxuICAgIGZ1bmN0aW9uKCRpbmplY3RvciwgICAkaW50ZXJwb2xhdGUsICAgJGV4Y2VwdGlvbkhhbmRsZXIsICAgJHRlbXBsYXRlUmVxdWVzdCwgICAkcGFyc2UsXG4gICAgICAgICAgICAgJGNvbnRyb2xsZXIsICAgJHJvb3RTY29wZSwgICAkc2NlLCAgICRhbmltYXRlKSB7XG5cbiAgICB2YXIgU0lNUExFX0FUVFJfTkFNRSA9IC9eXFx3LztcbiAgICB2YXIgc3BlY2lhbEF0dHJIb2xkZXIgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cblxuICAgIHZhciBjb21tZW50RGlyZWN0aXZlc0VuYWJsZWQgPSBjb21tZW50RGlyZWN0aXZlc0VuYWJsZWRDb25maWc7XG4gICAgdmFyIGNzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWQgPSBjc3NDbGFzc0RpcmVjdGl2ZXNFbmFibGVkQ29uZmlnO1xuXG5cbiAgICB2YXIgb25DaGFuZ2VzVHRsID0gVFRMO1xuICAgIC8vIFRoZSBvbkNoYW5nZXMgaG9va3Mgc2hvdWxkIGFsbCBiZSBydW4gdG9nZXRoZXIgaW4gYSBzaW5nbGUgZGlnZXN0XG4gICAgLy8gV2hlbiBjaGFuZ2VzIG9jY3VyLCB0aGUgY2FsbCB0byB0cmlnZ2VyIHRoZWlyIGhvb2tzIHdpbGwgYmUgYWRkZWQgdG8gdGhpcyBxdWV1ZVxuICAgIHZhciBvbkNoYW5nZXNRdWV1ZTtcblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGluIGEgJCRwb3N0RGlnZXN0IHRvIHRyaWdnZXIgYWxsIHRoZSBvbkNoYW5nZXMgaG9va3MgaW4gYSBzaW5nbGUgZGlnZXN0XG4gICAgZnVuY3Rpb24gZmx1c2hPbkNoYW5nZXNRdWV1ZSgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghKC0tb25DaGFuZ2VzVHRsKSkge1xuICAgICAgICAgIC8vIFdlIGhhdmUgaGl0IHRoZSBUVEwgbGltaXQgc28gcmVzZXQgZXZlcnl0aGluZ1xuICAgICAgICAgIG9uQ2hhbmdlc1F1ZXVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdpbmZjaG5nJywgJ3swfSAkb25DaGFuZ2VzKCkgaXRlcmF0aW9ucyByZWFjaGVkLiBBYm9ydGluZyFcXG4nLCBUVEwpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIG11c3QgcnVuIHRoaXMgaG9vayBpbiBhbiBhcHBseSBzaW5jZSB0aGUgJCRwb3N0RGlnZXN0IHJ1bnMgb3V0c2lkZSBhcHBseVxuICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBvbkNoYW5nZXNRdWV1ZS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBvbkNoYW5nZXNRdWV1ZVtpXSgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHF1ZXVlIHRvIHRyaWdnZXIgYSBuZXcgc2NoZWR1bGUgbmV4dCB0aW1lIHRoZXJlIGlzIGEgY2hhbmdlXG4gICAgICAgICAgb25DaGFuZ2VzUXVldWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgb25DaGFuZ2VzVHRsKys7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBzYW5pdGl6ZVNyY3NldCh2YWx1ZSwgaW52b2tlVHlwZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoIWlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignc3Jjc2V0JywgJ0NhblxcJ3QgcGFzcyB0cnVzdGVkIHZhbHVlcyB0byBgezB9YDogXCJ7MX1cIicsIGludm9rZVR5cGUsIHZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuXG4gICAgICAvLyBTdWNoIHZhbHVlcyBhcmUgYSBiaXQgdG9vIGNvbXBsZXggdG8gaGFuZGxlIGF1dG9tYXRpY2FsbHkgaW5zaWRlICRzY2UuXG4gICAgICAvLyBJbnN0ZWFkLCB3ZSBzYW5pdGl6ZSBlYWNoIG9mIHRoZSBVUklzIGluZGl2aWR1YWxseSwgd2hpY2ggd29ya3MsIGV2ZW4gZHluYW1pY2FsbHkuXG5cbiAgICAgIC8vIEl0J3Mgbm90IHBvc3NpYmxlIHRvIHdvcmsgYXJvdW5kIHRoaXMgdXNpbmcgYCRzY2UudHJ1c3RBc01lZGlhVXJsYC5cbiAgICAgIC8vIElmIHlvdSB3YW50IHRvIHByb2dyYW1tYXRpY2FsbHkgc2V0IGV4cGxpY2l0bHkgdHJ1c3RlZCB1bnNhZmUgVVJMcywgeW91IHNob3VsZCB1c2VcbiAgICAgIC8vIGAkc2NlLnRydXN0QXNIdG1sYCBvbiB0aGUgd2hvbGUgYGltZ2AgdGFnIGFuZCBpbmplY3QgaXQgaW50byB0aGUgRE9NIHVzaW5nIHRoZVxuICAgICAgLy8gYG5nLWJpbmQtaHRtbGAgZGlyZWN0aXZlLlxuXG4gICAgICB2YXIgcmVzdWx0ID0gJyc7XG5cbiAgICAgIC8vIGZpcnN0IGNoZWNrIGlmIHRoZXJlIGFyZSBzcGFjZXMgYmVjYXVzZSBpdCdzIG5vdCB0aGUgc2FtZSBwYXR0ZXJuXG4gICAgICB2YXIgdHJpbW1lZFNyY3NldCA9IHRyaW0odmFsdWUpO1xuICAgICAgLy8gICAgICAgICAgICAgICAgKCAgIDk5OXggICAsfCAgIDk5OXcgICAsfCAgICx8LCAgIClcbiAgICAgIHZhciBzcmNQYXR0ZXJuID0gLyhcXHMrXFxkK3hcXHMqLHxcXHMrXFxkK3dcXHMqLHxcXHMrLHwsXFxzKykvO1xuICAgICAgdmFyIHBhdHRlcm4gPSAvXFxzLy50ZXN0KHRyaW1tZWRTcmNzZXQpID8gc3JjUGF0dGVybiA6IC8oLCkvO1xuXG4gICAgICAvLyBzcGxpdCBzcmNzZXQgaW50byB0dXBsZSBvZiB1cmkgYW5kIGRlc2NyaXB0b3IgZXhjZXB0IGZvciB0aGUgbGFzdCBpdGVtXG4gICAgICB2YXIgcmF3VXJpcyA9IHRyaW1tZWRTcmNzZXQuc3BsaXQocGF0dGVybik7XG5cbiAgICAgIC8vIGZvciBlYWNoIHR1cGxlc1xuICAgICAgdmFyIG5iclVyaXNXaXRoMnBhcnRzID0gTWF0aC5mbG9vcihyYXdVcmlzLmxlbmd0aCAvIDIpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYnJVcmlzV2l0aDJwYXJ0czsgaSsrKSB7XG4gICAgICAgIHZhciBpbm5lcklkeCA9IGkgKiAyO1xuICAgICAgICAvLyBzYW5pdGl6ZSB0aGUgdXJpXG4gICAgICAgIHJlc3VsdCArPSAkc2NlLmdldFRydXN0ZWRNZWRpYVVybCh0cmltKHJhd1VyaXNbaW5uZXJJZHhdKSk7XG4gICAgICAgIC8vIGFkZCB0aGUgZGVzY3JpcHRvclxuICAgICAgICByZXN1bHQgKz0gJyAnICsgdHJpbShyYXdVcmlzW2lubmVySWR4ICsgMV0pO1xuICAgICAgfVxuXG4gICAgICAvLyBzcGxpdCB0aGUgbGFzdCBpdGVtIGludG8gdXJpIGFuZCBkZXNjcmlwdG9yXG4gICAgICB2YXIgbGFzdFR1cGxlID0gdHJpbShyYXdVcmlzW2kgKiAyXSkuc3BsaXQoL1xccy8pO1xuXG4gICAgICAvLyBzYW5pdGl6ZSB0aGUgbGFzdCB1cmlcbiAgICAgIHJlc3VsdCArPSAkc2NlLmdldFRydXN0ZWRNZWRpYVVybCh0cmltKGxhc3RUdXBsZVswXSkpO1xuXG4gICAgICAvLyBhbmQgYWRkIHRoZSBsYXN0IGRlc2NyaXB0b3IgaWYgYW55XG4gICAgICBpZiAobGFzdFR1cGxlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICByZXN1bHQgKz0gKCcgJyArIHRyaW0obGFzdFR1cGxlWzFdKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gQXR0cmlidXRlcyhlbGVtZW50LCBhdHRyaWJ1dGVzVG9Db3B5KSB7XG4gICAgICBpZiAoYXR0cmlidXRlc1RvQ29weSkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGF0dHJpYnV0ZXNUb0NvcHkpO1xuICAgICAgICB2YXIgaSwgbCwga2V5O1xuXG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgdGhpc1trZXldID0gYXR0cmlidXRlc1RvQ29weVtrZXldO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiRhdHRyID0ge307XG4gICAgICB9XG5cbiAgICAgIHRoaXMuJCRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB9XG5cbiAgICBBdHRyaWJ1dGVzLnByb3RvdHlwZSA9IHtcbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJG5vcm1hbGl6ZVxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIENvbnZlcnRzIGFuIGF0dHJpYnV0ZSBuYW1lIChlLmcuIGRhc2gvY29sb24vdW5kZXJzY29yZS1kZWxpbWl0ZWQgc3RyaW5nLCBvcHRpb25hbGx5IHByZWZpeGVkIHdpdGggYHgtYCBvclxuICAgICAgICogYGRhdGEtYCkgdG8gaXRzIG5vcm1hbGl6ZWQsIGNhbWVsQ2FzZSBmb3JtLlxuICAgICAgICpcbiAgICAgICAqIEFsc28gdGhlcmUgaXMgc3BlY2lhbCBjYXNlIGZvciBNb3ogcHJlZml4IHN0YXJ0aW5nIHdpdGggdXBwZXIgY2FzZSBsZXR0ZXIuXG4gICAgICAgKlxuICAgICAgICogRm9yIGZ1cnRoZXIgaW5mb3JtYXRpb24gY2hlY2sgb3V0IHRoZSBndWlkZSBvbiB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI21hdGNoaW5nLWRpcmVjdGl2ZXMgTWF0Y2hpbmcgRGlyZWN0aXZlc31cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIHRvIG5vcm1hbGl6ZVxuICAgICAgICovXG4gICAgICAkbm9ybWFsaXplOiBkaXJlY3RpdmVOb3JtYWxpemUsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkYWRkQ2xhc3NcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBBZGRzIHRoZSBDU1MgY2xhc3MgdmFsdWUgc3BlY2lmaWVkIGJ5IHRoZSBjbGFzc1ZhbCBwYXJhbWV0ZXIgdG8gdGhlIGVsZW1lbnQuIElmIGFuaW1hdGlvbnNcbiAgICAgICAqIGFyZSBlbmFibGVkIHRoZW4gYW4gYW5pbWF0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkIGZvciB0aGUgY2xhc3MgYWRkaXRpb24uXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzVmFsIFRoZSBjbGFzc05hbWUgdmFsdWUgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50XG4gICAgICAgKi9cbiAgICAgICRhZGRDbGFzczogZnVuY3Rpb24oY2xhc3NWYWwpIHtcbiAgICAgICAgaWYgKGNsYXNzVmFsICYmIGNsYXNzVmFsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgY2xhc3NWYWwpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRyZW1vdmVDbGFzc1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJlbW92ZXMgdGhlIENTUyBjbGFzcyB2YWx1ZSBzcGVjaWZpZWQgYnkgdGhlIGNsYXNzVmFsIHBhcmFtZXRlciBmcm9tIHRoZSBlbGVtZW50LiBJZlxuICAgICAgICogYW5pbWF0aW9ucyBhcmUgZW5hYmxlZCB0aGVuIGFuIGFuaW1hdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBmb3IgdGhlIGNsYXNzIHJlbW92YWwuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzVmFsIFRoZSBjbGFzc05hbWUgdmFsdWUgdGhhdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudFxuICAgICAgICovXG4gICAgICAkcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGNsYXNzVmFsKSB7XG4gICAgICAgIGlmIChjbGFzc1ZhbCAmJiBjbGFzc1ZhbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIGNsYXNzVmFsKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkdXBkYXRlQ2xhc3NcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBBZGRzIGFuZCByZW1vdmVzIHRoZSBhcHByb3ByaWF0ZSBDU1MgY2xhc3MgdmFsdWVzIHRvIHRoZSBlbGVtZW50IGJhc2VkIG9uIHRoZSBkaWZmZXJlbmNlXG4gICAgICAgKiBiZXR3ZWVuIHRoZSBuZXcgYW5kIG9sZCBDU1MgY2xhc3MgdmFsdWVzIChzcGVjaWZpZWQgYXMgbmV3Q2xhc3NlcyBhbmQgb2xkQ2xhc3NlcykuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5ld0NsYXNzZXMgVGhlIGN1cnJlbnQgQ1NTIGNsYXNzTmFtZSB2YWx1ZVxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG9sZENsYXNzZXMgVGhlIGZvcm1lciBDU1MgY2xhc3NOYW1lIHZhbHVlXG4gICAgICAgKi9cbiAgICAgICR1cGRhdGVDbGFzczogZnVuY3Rpb24obmV3Q2xhc3Nlcywgb2xkQ2xhc3Nlcykge1xuICAgICAgICB2YXIgdG9BZGQgPSB0b2tlbkRpZmZlcmVuY2UobmV3Q2xhc3Nlcywgb2xkQ2xhc3Nlcyk7XG4gICAgICAgIGlmICh0b0FkZCAmJiB0b0FkZC5sZW5ndGgpIHtcbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgdG9BZGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvUmVtb3ZlID0gdG9rZW5EaWZmZXJlbmNlKG9sZENsYXNzZXMsIG5ld0NsYXNzZXMpO1xuICAgICAgICBpZiAodG9SZW1vdmUgJiYgdG9SZW1vdmUubGVuZ3RoKSB7XG4gICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIHRvUmVtb3ZlKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBTZXQgYSBub3JtYWxpemVkIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBpbiBhIHdheSBzdWNoIHRoYXQgYWxsIGRpcmVjdGl2ZXNcbiAgICAgICAqIGNhbiBzaGFyZSB0aGUgYXR0cmlidXRlLiBUaGlzIGZ1bmN0aW9uIHByb3Blcmx5IGhhbmRsZXMgYm9vbGVhbiBhdHRyaWJ1dGVzLlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBOb3JtYWxpemVkIGtleS4gKGllIG5nQXR0cmlidXRlKVxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC4gSWYgYG51bGxgIGF0dHJpYnV0ZSB3aWxsIGJlIGRlbGV0ZWQuXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSB3cml0ZUF0dHIgSWYgZmFsc2UsIGRvZXMgbm90IHdyaXRlIHRoZSB2YWx1ZSB0byBET00gZWxlbWVudCBhdHRyaWJ1dGUuXG4gICAgICAgKiAgICAgRGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gYXR0ck5hbWUgT3B0aW9uYWwgbm9uZSBub3JtYWxpemVkIG5hbWUuIERlZmF1bHRzIHRvIGtleS5cbiAgICAgICAqL1xuICAgICAgJHNldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSwgd3JpdGVBdHRyLCBhdHRyTmFtZSkge1xuICAgICAgICAvLyBUT0RPOiBkZWNpZGUgd2hldGhlciBvciBub3QgdG8gdGhyb3cgYW4gZXJyb3IgaWYgXCJjbGFzc1wiXG4gICAgICAgIC8vIGlzIHNldCB0aHJvdWdoIHRoaXMgZnVuY3Rpb24gc2luY2UgaXQgbWF5IGNhdXNlICR1cGRhdGVDbGFzcyB0b1xuICAgICAgICAvLyBiZWNvbWUgdW5zdGFibGUuXG5cbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLiQkZWxlbWVudFswXSxcbiAgICAgICAgICAgIGJvb2xlYW5LZXkgPSBnZXRCb29sZWFuQXR0ck5hbWUobm9kZSwga2V5KSxcbiAgICAgICAgICAgIGFsaWFzZWRLZXkgPSBnZXRBbGlhc2VkQXR0ck5hbWUoa2V5KSxcbiAgICAgICAgICAgIG9ic2VydmVyID0ga2V5LFxuICAgICAgICAgICAgbm9kZU5hbWU7XG5cbiAgICAgICAgaWYgKGJvb2xlYW5LZXkpIHtcbiAgICAgICAgICB0aGlzLiQkZWxlbWVudC5wcm9wKGtleSwgdmFsdWUpO1xuICAgICAgICAgIGF0dHJOYW1lID0gYm9vbGVhbktleTtcbiAgICAgICAgfSBlbHNlIGlmIChhbGlhc2VkS2V5KSB7XG4gICAgICAgICAgdGhpc1thbGlhc2VkS2V5XSA9IHZhbHVlO1xuICAgICAgICAgIG9ic2VydmVyID0gYWxpYXNlZEtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuXG4gICAgICAgIC8vIHRyYW5zbGF0ZSBub3JtYWxpemVkIGtleSB0byBhY3R1YWwga2V5XG4gICAgICAgIGlmIChhdHRyTmFtZSkge1xuICAgICAgICAgIHRoaXMuJGF0dHJba2V5XSA9IGF0dHJOYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF0dHJOYW1lID0gdGhpcy4kYXR0cltrZXldO1xuICAgICAgICAgIGlmICghYXR0ck5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMuJGF0dHJba2V5XSA9IGF0dHJOYW1lID0gc25ha2VfY2FzZShrZXksICctJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbm9kZU5hbWUgPSBub2RlTmFtZV8odGhpcy4kJGVsZW1lbnQpO1xuXG4gICAgICAgIC8vIFNhbml0aXplIGltZ1tzcmNzZXRdIHZhbHVlcy5cbiAgICAgICAgaWYgKG5vZGVOYW1lID09PSAnaW1nJyAmJiBrZXkgPT09ICdzcmNzZXQnKSB7XG4gICAgICAgICAgdGhpc1trZXldID0gdmFsdWUgPSBzYW5pdGl6ZVNyY3NldCh2YWx1ZSwgJyRzZXQoXFwnc3Jjc2V0XFwnLCB2YWx1ZSknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3cml0ZUF0dHIgIT09IGZhbHNlKSB7XG4gICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy4kJGVsZW1lbnQucmVtb3ZlQXR0cihhdHRyTmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChTSU1QTEVfQVRUUl9OQU1FLnRlc3QoYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgIC8vIGpRdWVyeSBza2lwcyBzcGVjaWFsIGJvb2xlYW4gYXR0cnMgdHJlYXRtZW50IGluIFhNTCBub2RlcyBmb3JcbiAgICAgICAgICAgICAgLy8gaGlzdG9yaWNhbCByZWFzb25zIGFuZCBoZW5jZSBBbmd1bGFySlMgY2Fubm90IGZyZWVseSBjYWxsXG4gICAgICAgICAgICAgIC8vIGAuYXR0cihhdHRyTmFtZSwgZmFsc2UpIHdpdGggc3VjaCBhdHRyaWJ1dGVzLiBUbyBhdm9pZCBpc3N1ZXNcbiAgICAgICAgICAgICAgLy8gaW4gWEhUTUwsIGNhbGwgYHJlbW92ZUF0dHJgIGluIHN1Y2ggY2FzZXMgaW5zdGVhZC5cbiAgICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L2lzc3Vlcy80MjQ5XG4gICAgICAgICAgICAgIGlmIChib29sZWFuS2V5ICYmIHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJCRlbGVtZW50LnJlbW92ZUF0dHIoYXR0ck5hbWUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuJCRlbGVtZW50LmF0dHIoYXR0ck5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2V0U3BlY2lhbEF0dHIodGhpcy4kJGVsZW1lbnRbMF0sIGF0dHJOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlyZSBvYnNlcnZlcnNcbiAgICAgICAgdmFyICQkb2JzZXJ2ZXJzID0gdGhpcy4kJG9ic2VydmVycztcbiAgICAgICAgaWYgKCQkb2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgZm9yRWFjaCgkJG9ic2VydmVyc1tvYnNlcnZlcl0sIGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmbih2YWx1ZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJG9ic2VydmVcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBPYnNlcnZlcyBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBvYnNlcnZlciBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgb25jZSBkdXJpbmcgdGhlIG5leHQgYCRkaWdlc3RgIGZvbGxvd2luZ1xuICAgICAgICogY29tcGlsYXRpb24uIFRoZSBvYnNlcnZlciBpcyB0aGVuIGludm9rZWQgd2hlbmV2ZXIgdGhlIGludGVycG9sYXRlZCB2YWx1ZVxuICAgICAgICogY2hhbmdlcy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IE5vcm1hbGl6ZWQga2V5LiAoaWUgbmdBdHRyaWJ1dGUpIC5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oaW50ZXJwb2xhdGVkVmFsdWUpfSBmbiBGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyXG4gICAgICAgICAgICAgICAgdGhlIGludGVycG9sYXRlZCB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIGNoYW5nZXMuXG4gICAgICAgKiAgICAgICAgU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiNob3ctdGV4dC1hbmQtYXR0cmlidXRlLWJpbmRpbmdzLXdvcmsgSW50ZXJwb2xhdGlvblxuICAgICAgICogICAgICAgIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBvYnNlcnZlci5cbiAgICAgICAqL1xuICAgICAgJG9ic2VydmU6IGZ1bmN0aW9uKGtleSwgZm4pIHtcbiAgICAgICAgdmFyIGF0dHJzID0gdGhpcyxcbiAgICAgICAgICAgICQkb2JzZXJ2ZXJzID0gKGF0dHJzLiQkb2JzZXJ2ZXJzIHx8IChhdHRycy4kJG9ic2VydmVycyA9IGNyZWF0ZU1hcCgpKSksXG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSAoJCRvYnNlcnZlcnNba2V5XSB8fCAoJCRvYnNlcnZlcnNba2V5XSA9IFtdKSk7XG5cbiAgICAgICAgbGlzdGVuZXJzLnB1c2goZm4pO1xuICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFsaXN0ZW5lcnMuJCRpbnRlciAmJiBhdHRycy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFpc1VuZGVmaW5lZChhdHRyc1trZXldKSkge1xuICAgICAgICAgICAgLy8gbm8gb25lIHJlZ2lzdGVyZWQgYXR0cmlidXRlIGludGVycG9sYXRpb24gZnVuY3Rpb24sIHNvIGxldHMgY2FsbCBpdCBtYW51YWxseVxuICAgICAgICAgICAgZm4oYXR0cnNba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgYXJyYXlSZW1vdmUobGlzdGVuZXJzLCBmbik7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNldFNwZWNpYWxBdHRyKGVsZW1lbnQsIGF0dHJOYW1lLCB2YWx1ZSkge1xuICAgICAgLy8gQXR0cmlidXRlcyBuYW1lcyB0aGF0IGRvIG5vdCBzdGFydCB3aXRoIGxldHRlcnMgKHN1Y2ggYXMgYChjbGljaylgKSBjYW5ub3QgYmUgc2V0IHVzaW5nIGBzZXRBdHRyaWJ1dGVgXG4gICAgICAvLyBzbyB3ZSBoYXZlIHRvIGp1bXAgdGhyb3VnaCBzb21lIGhvb3BzIHRvIGdldCBzdWNoIGFuIGF0dHJpYnV0ZVxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9wdWxsLzEzMzE4XG4gICAgICBzcGVjaWFsQXR0ckhvbGRlci5pbm5lckhUTUwgPSAnPHNwYW4gJyArIGF0dHJOYW1lICsgJz4nO1xuICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBzcGVjaWFsQXR0ckhvbGRlci5maXJzdENoaWxkLmF0dHJpYnV0ZXM7XG4gICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1swXTtcbiAgICAgIC8vIFdlIGhhdmUgdG8gcmVtb3ZlIHRoZSBhdHRyaWJ1dGUgZnJvbSBpdHMgY29udGFpbmVyIGVsZW1lbnQgYmVmb3JlIHdlIGNhbiBhZGQgaXQgdG8gdGhlIGRlc3RpbmF0aW9uIGVsZW1lbnRcbiAgICAgIGF0dHJpYnV0ZXMucmVtb3ZlTmFtZWRJdGVtKGF0dHJpYnV0ZS5uYW1lKTtcbiAgICAgIGF0dHJpYnV0ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLnNldE5hbWVkSXRlbShhdHRyaWJ1dGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNhZmVBZGRDbGFzcygkZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgICB0cnkge1xuICAgICAgICAkZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpZ25vcmUsIHNpbmNlIGl0IG1lYW5zIHRoYXQgd2UgYXJlIHRyeWluZyB0byBzZXQgY2xhc3Mgb25cbiAgICAgICAgLy8gU1ZHIGVsZW1lbnQsIHdoZXJlIGNsYXNzIG5hbWUgaXMgcmVhZC1vbmx5LlxuICAgICAgfVxuICAgIH1cblxuXG4gICAgdmFyIHN0YXJ0U3ltYm9sID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCksXG4gICAgICAgIGVuZFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSxcbiAgICAgICAgZGVub3JtYWxpemVUZW1wbGF0ZSA9IChzdGFydFN5bWJvbCA9PT0gJ3t7JyAmJiBlbmRTeW1ib2wgID09PSAnfX0nKVxuICAgICAgICAgICAgPyBpZGVudGl0eVxuICAgICAgICAgICAgOiBmdW5jdGlvbiBkZW5vcm1hbGl6ZVRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC9cXHtcXHsvZywgc3RhcnRTeW1ib2wpLnJlcGxhY2UoL319L2csIGVuZFN5bWJvbCk7XG4gICAgICAgIH0sXG4gICAgICAgIE5HX1BSRUZJWF9CSU5ESU5HID0gL15uZyhBdHRyfFByb3B8T24pKFtBLVpdLiopJC87XG4gICAgdmFyIE1VTFRJX0VMRU1FTlRfRElSX1JFID0gL14oLispU3RhcnQkLztcblxuICAgIGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZEJpbmRpbmdJbmZvKCRlbGVtZW50LCBiaW5kaW5nKSB7XG4gICAgICB2YXIgYmluZGluZ3MgPSAkZWxlbWVudC5kYXRhKCckYmluZGluZycpIHx8IFtdO1xuXG4gICAgICBpZiAoaXNBcnJheShiaW5kaW5nKSkge1xuICAgICAgICBiaW5kaW5ncyA9IGJpbmRpbmdzLmNvbmNhdChiaW5kaW5nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJpbmRpbmdzLnB1c2goYmluZGluZyk7XG4gICAgICB9XG5cbiAgICAgICRlbGVtZW50LmRhdGEoJyRiaW5kaW5nJywgYmluZGluZ3MpO1xuICAgIH0gOiBub29wO1xuXG4gICAgY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZEJpbmRpbmdDbGFzcygkZWxlbWVudCkge1xuICAgICAgc2FmZUFkZENsYXNzKCRlbGVtZW50LCAnbmctYmluZGluZycpO1xuICAgIH0gOiBub29wO1xuXG4gICAgY29tcGlsZS4kJGFkZFNjb3BlSW5mbyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZFNjb3BlSW5mbygkZWxlbWVudCwgc2NvcGUsIGlzb2xhdGVkLCBub1RlbXBsYXRlKSB7XG4gICAgICB2YXIgZGF0YU5hbWUgPSBpc29sYXRlZCA/IChub1RlbXBsYXRlID8gJyRpc29sYXRlU2NvcGVOb1RlbXBsYXRlJyA6ICckaXNvbGF0ZVNjb3BlJykgOiAnJHNjb3BlJztcbiAgICAgICRlbGVtZW50LmRhdGEoZGF0YU5hbWUsIHNjb3BlKTtcbiAgICB9IDogbm9vcDtcblxuICAgIGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzID0gZGVidWdJbmZvRW5hYmxlZCA/IGZ1bmN0aW9uICQkYWRkU2NvcGVDbGFzcygkZWxlbWVudCwgaXNvbGF0ZWQpIHtcbiAgICAgIHNhZmVBZGRDbGFzcygkZWxlbWVudCwgaXNvbGF0ZWQgPyAnbmctaXNvbGF0ZS1zY29wZScgOiAnbmctc2NvcGUnKTtcbiAgICB9IDogbm9vcDtcblxuICAgIGNvbXBpbGUuJCRjcmVhdGVDb21tZW50ID0gZnVuY3Rpb24oZGlyZWN0aXZlTmFtZSwgY29tbWVudCkge1xuICAgICAgdmFyIGNvbnRlbnQgPSAnJztcbiAgICAgIGlmIChkZWJ1Z0luZm9FbmFibGVkKSB7XG4gICAgICAgIGNvbnRlbnQgPSAnICcgKyAoZGlyZWN0aXZlTmFtZSB8fCAnJykgKyAnOiAnO1xuICAgICAgICBpZiAoY29tbWVudCkgY29udGVudCArPSBjb21tZW50ICsgJyAnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVDb21tZW50KGNvbnRlbnQpO1xuICAgIH07XG5cbiAgICByZXR1cm4gY29tcGlsZTtcblxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGZ1bmN0aW9uIGNvbXBpbGUoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCkge1xuICAgICAgaWYgKCEoJGNvbXBpbGVOb2RlcyBpbnN0YW5jZW9mIGpxTGl0ZSkpIHtcbiAgICAgICAgLy8ganF1ZXJ5IGFsd2F5cyByZXdyYXBzLCB3aGVyZWFzIHdlIG5lZWQgdG8gcHJlc2VydmUgdGhlIG9yaWdpbmFsIHNlbGVjdG9yIHNvIHRoYXQgd2UgY2FuXG4gICAgICAgIC8vIG1vZGlmeSBpdC5cbiAgICAgICAgJGNvbXBpbGVOb2RlcyA9IGpxTGl0ZSgkY29tcGlsZU5vZGVzKTtcbiAgICAgIH1cbiAgICAgIHZhciBjb21wb3NpdGVMaW5rRm4gPVxuICAgICAgICAgICAgICBjb21waWxlTm9kZXMoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCAkY29tcGlsZU5vZGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgcHJldmlvdXNDb21waWxlQ29udGV4dCk7XG4gICAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcygkY29tcGlsZU5vZGVzKTtcbiAgICAgIHZhciBuYW1lc3BhY2UgPSBudWxsO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHB1YmxpY0xpbmtGbihzY29wZSwgY2xvbmVDb25uZWN0Rm4sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCEkY29tcGlsZU5vZGVzKSB7XG4gICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ211bHRpbGluaycsICdUaGlzIGVsZW1lbnQgaGFzIGFscmVhZHkgYmVlbiBsaW5rZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0QXJnKHNjb3BlLCAnc2NvcGUnKTtcblxuICAgICAgICBpZiAocHJldmlvdXNDb21waWxlQ29udGV4dCAmJiBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5lZWRzTmV3U2NvcGUpIHtcbiAgICAgICAgICAvLyBBIHBhcmVudCBkaXJlY3RpdmUgZGlkIGEgcmVwbGFjZSBhbmQgYSBkaXJlY3RpdmUgb24gdGhpcyBlbGVtZW50IGFza2VkXG4gICAgICAgICAgLy8gZm9yIHRyYW5zY2x1c2lvbiwgd2hpY2ggY2F1c2VkIHVzIHRvIGxvc2UgYSBsYXllciBvZiBlbGVtZW50IG9uIHdoaWNoXG4gICAgICAgICAgLy8gd2UgY291bGQgaG9sZCB0aGUgbmV3IHRyYW5zY2x1c2lvbiBzY29wZSwgc28gd2Ugd2lsbCBjcmVhdGUgaXQgbWFudWFsbHlcbiAgICAgICAgICAvLyBoZXJlLlxuICAgICAgICAgIHNjb3BlID0gc2NvcGUuJHBhcmVudC4kbmV3KCk7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuID0gb3B0aW9ucy5wYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbixcbiAgICAgICAgICB0cmFuc2NsdWRlQ29udHJvbGxlcnMgPSBvcHRpb25zLnRyYW5zY2x1ZGVDb250cm9sbGVycyxcbiAgICAgICAgICBmdXR1cmVQYXJlbnRFbGVtZW50ID0gb3B0aW9ucy5mdXR1cmVQYXJlbnRFbGVtZW50O1xuXG4gICAgICAgIC8vIFdoZW4gYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCBpcyBwYXNzZWQsIGl0IGlzIGFcbiAgICAgICAgLy8gYGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlYCBmdW5jdGlvbiAoaXQgd2FzIHByZXZpb3VzbHkgcGFzc2VkXG4gICAgICAgIC8vIGFzIGB0cmFuc2NsdWRlYCB0byBkaXJlY3RpdmUubGluaykgc28gd2UgbXVzdCB1bndyYXAgaXQgdG8gZ2V0XG4gICAgICAgIC8vIGl0cyBgYm91bmRUcmFuc2NsdWRlRm5gXG4gICAgICAgIGlmIChwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiAmJiBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbi4kJGJvdW5kVHJhbnNjbHVkZSkge1xuICAgICAgICAgIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuID0gcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4uJCRib3VuZFRyYW5zY2x1ZGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICAgIG5hbWVzcGFjZSA9IGRldGVjdE5hbWVzcGFjZUZvckNoaWxkRWxlbWVudHMoZnV0dXJlUGFyZW50RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyICRsaW5rTm9kZTtcbiAgICAgICAgaWYgKG5hbWVzcGFjZSAhPT0gJ2h0bWwnKSB7XG4gICAgICAgICAgLy8gV2hlbiB1c2luZyBhIGRpcmVjdGl2ZSB3aXRoIHJlcGxhY2U6dHJ1ZSBhbmQgdGVtcGxhdGVVcmwgdGhlICRjb21waWxlTm9kZXNcbiAgICAgICAgICAvLyAob3IgYSBjaGlsZCBlbGVtZW50IGluc2lkZSBvZiB0aGVtKVxuICAgICAgICAgIC8vIG1pZ2h0IGNoYW5nZSwgc28gd2UgbmVlZCB0byByZWNyZWF0ZSB0aGUgbmFtZXNwYWNlIGFkYXB0ZWQgY29tcGlsZU5vZGVzXG4gICAgICAgICAgLy8gZm9yIGNhbGwgdG8gdGhlIGxpbmsgZnVuY3Rpb24uXG4gICAgICAgICAgLy8gTm90ZTogVGhpcyB3aWxsIGFscmVhZHkgY2xvbmUgdGhlIG5vZGVzLi4uXG4gICAgICAgICAgJGxpbmtOb2RlID0ganFMaXRlKFxuICAgICAgICAgICAgd3JhcFRlbXBsYXRlKG5hbWVzcGFjZSwganFMaXRlKCc8ZGl2PjwvZGl2PicpLmFwcGVuZCgkY29tcGlsZU5vZGVzKS5odG1sKCkpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChjbG9uZUNvbm5lY3RGbikge1xuICAgICAgICAgIC8vIGltcG9ydGFudCEhOiB3ZSBtdXN0IGNhbGwgb3VyIGpxTGl0ZS5jbG9uZSgpIHNpbmNlIHRoZSBqUXVlcnkgb25lIGlzIHRyeWluZyB0byBiZSBzbWFydFxuICAgICAgICAgIC8vIGFuZCBzb21ldGltZXMgY2hhbmdlcyB0aGUgc3RydWN0dXJlIG9mIHRoZSBET00uXG4gICAgICAgICAgJGxpbmtOb2RlID0gSlFMaXRlUHJvdG90eXBlLmNsb25lLmNhbGwoJGNvbXBpbGVOb2Rlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGxpbmtOb2RlID0gJGNvbXBpbGVOb2RlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFuc2NsdWRlQ29udHJvbGxlcnMpIHtcbiAgICAgICAgICBmb3IgKHZhciBjb250cm9sbGVyTmFtZSBpbiB0cmFuc2NsdWRlQ29udHJvbGxlcnMpIHtcbiAgICAgICAgICAgICRsaW5rTm9kZS5kYXRhKCckJyArIGNvbnRyb2xsZXJOYW1lICsgJ0NvbnRyb2xsZXInLCB0cmFuc2NsdWRlQ29udHJvbGxlcnNbY29udHJvbGxlck5hbWVdLmluc3RhbmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVJbmZvKCRsaW5rTm9kZSwgc2NvcGUpO1xuXG4gICAgICAgIGlmIChjbG9uZUNvbm5lY3RGbikgY2xvbmVDb25uZWN0Rm4oJGxpbmtOb2RlLCBzY29wZSk7XG4gICAgICAgIGlmIChjb21wb3NpdGVMaW5rRm4pIGNvbXBvc2l0ZUxpbmtGbihzY29wZSwgJGxpbmtOb2RlLCAkbGlua05vZGUsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKTtcblxuICAgICAgICBpZiAoIWNsb25lQ29ubmVjdEZuKSB7XG4gICAgICAgICAgJGNvbXBpbGVOb2RlcyA9IGNvbXBvc2l0ZUxpbmtGbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRsaW5rTm9kZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGV0ZWN0TmFtZXNwYWNlRm9yQ2hpbGRFbGVtZW50cyhwYXJlbnRFbGVtZW50KSB7XG4gICAgICAvLyBUT0RPOiBNYWtlIHRoaXMgZGV0ZWN0IE1hdGhNTCBhcyB3ZWxsLi4uXG4gICAgICB2YXIgbm9kZSA9IHBhcmVudEVsZW1lbnQgJiYgcGFyZW50RWxlbWVudFswXTtcbiAgICAgIGlmICghbm9kZSkge1xuICAgICAgICByZXR1cm4gJ2h0bWwnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5vZGVOYW1lXyhub2RlKSAhPT0gJ2ZvcmVpZ25vYmplY3QnICYmIHRvU3RyaW5nLmNhbGwobm9kZSkubWF0Y2goL1NWRy8pID8gJ3N2ZycgOiAnaHRtbCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGlsZSBmdW5jdGlvbiBtYXRjaGVzIGVhY2ggbm9kZSBpbiBub2RlTGlzdCBhZ2FpbnN0IHRoZSBkaXJlY3RpdmVzLiBPbmNlIGFsbCBkaXJlY3RpdmVzXG4gICAgICogZm9yIGEgcGFydGljdWxhciBub2RlIGFyZSBjb2xsZWN0ZWQgdGhlaXIgY29tcGlsZSBmdW5jdGlvbnMgYXJlIGV4ZWN1dGVkLiBUaGUgY29tcGlsZVxuICAgICAqIGZ1bmN0aW9ucyByZXR1cm4gdmFsdWVzIC0gdGhlIGxpbmtpbmcgZnVuY3Rpb25zIC0gYXJlIGNvbWJpbmVkIGludG8gYSBjb21wb3NpdGUgbGlua2luZ1xuICAgICAqIGZ1bmN0aW9uLCB3aGljaCBpcyB0aGUgYSBsaW5raW5nIGZ1bmN0aW9uIGZvciB0aGUgbm9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Tm9kZUxpc3R9IG5vZGVMaXN0IGFuIGFycmF5IG9mIG5vZGVzIG9yIE5vZGVMaXN0IHRvIGNvbXBpbGVcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGFuZ3VsYXIuU2NvcGUsIGNsb25lQXR0YWNoRm49KX0gdHJhbnNjbHVkZUZuIEEgbGlua2luZyBmdW5jdGlvbiwgd2hlcmUgdGhlXG4gICAgICogICAgICAgIHNjb3BlIGFyZ3VtZW50IGlzIGF1dG8tZ2VuZXJhdGVkIHRvIHRoZSBuZXcgY2hpbGQgb2YgdGhlIHRyYW5zY2x1ZGVkIHBhcmVudCBzY29wZS5cbiAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnQ9fSAkcm9vdEVsZW1lbnQgSWYgdGhlIG5vZGVMaXN0IGlzIHRoZSByb290IG9mIHRoZSBjb21waWxhdGlvbiB0cmVlIHRoZW5cbiAgICAgKiAgICAgICAgdGhlIHJvb3RFbGVtZW50IG11c3QgYmUgc2V0IHRoZSBqcUxpdGUgY29sbGVjdGlvbiBvZiB0aGUgY29tcGlsZSByb290LiBUaGlzIGlzXG4gICAgICogICAgICAgIG5lZWRlZCBzbyB0aGF0IHRoZSBqcUxpdGUgY29sbGVjdGlvbiBpdGVtcyBjYW4gYmUgcmVwbGFjZWQgd2l0aCB3aWRnZXRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gbWF4UHJpb3JpdHkgTWF4IGRpcmVjdGl2ZSBwcmlvcml0eS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgY29tcG9zaXRlIGxpbmtpbmcgZnVuY3Rpb24gb2YgYWxsIG9mIHRoZSBtYXRjaGVkIGRpcmVjdGl2ZXMgb3IgbnVsbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21waWxlTm9kZXMobm9kZUxpc3QsIHRyYW5zY2x1ZGVGbiwgJHJvb3RFbGVtZW50LCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcbiAgICAgIHZhciBsaW5rRm5zID0gW10sXG4gICAgICAgICAgLy8gYG5vZGVMaXN0YCBjYW4gYmUgZWl0aGVyIGFuIGVsZW1lbnQncyBgLmNoaWxkTm9kZXNgIChsaXZlIE5vZGVMaXN0KVxuICAgICAgICAgIC8vIG9yIGEganFMaXRlL2pRdWVyeSBjb2xsZWN0aW9uIG9yIGFuIGFycmF5XG4gICAgICAgICAgbm90TGl2ZUxpc3QgPSBpc0FycmF5KG5vZGVMaXN0KSB8fCAobm9kZUxpc3QgaW5zdGFuY2VvZiBqcUxpdGUpLFxuICAgICAgICAgIGF0dHJzLCBkaXJlY3RpdmVzLCBub2RlTGlua0ZuLCBjaGlsZE5vZGVzLCBjaGlsZExpbmtGbiwgbGlua0ZuRm91bmQsIG5vZGVMaW5rRm5Gb3VuZDtcblxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGF0dHJzID0gbmV3IEF0dHJpYnV0ZXMoKTtcblxuICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XG4gICAgICAgIC8vIFdvcmthcm91bmQgZm9yICMxMTc4MSBhbmQgIzE0OTI0XG4gICAgICAgIGlmIChtc2llID09PSAxMSkge1xuICAgICAgICAgIG1lcmdlQ29uc2VjdXRpdmVUZXh0Tm9kZXMobm9kZUxpc3QsIGksIG5vdExpdmVMaXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlIG11c3QgYWx3YXlzIHJlZmVyIHRvIGBub2RlTGlzdFtpXWAgaGVyZWFmdGVyLFxuICAgICAgICAvLyBzaW5jZSB0aGUgbm9kZXMgY2FuIGJlIHJlcGxhY2VkIHVuZGVybmVhdGggdXMuXG4gICAgICAgIGRpcmVjdGl2ZXMgPSBjb2xsZWN0RGlyZWN0aXZlcyhub2RlTGlzdFtpXSwgW10sIGF0dHJzLCBpID09PSAwID8gbWF4UHJpb3JpdHkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlRGlyZWN0aXZlKTtcblxuICAgICAgICBub2RlTGlua0ZuID0gKGRpcmVjdGl2ZXMubGVuZ3RoKVxuICAgICAgICAgICAgPyBhcHBseURpcmVjdGl2ZXNUb05vZGUoZGlyZWN0aXZlcywgbm9kZUxpc3RbaV0sIGF0dHJzLCB0cmFuc2NsdWRlRm4sICRyb290RWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgW10sIFtdLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KVxuICAgICAgICAgICAgOiBudWxsO1xuXG4gICAgICAgIGlmIChub2RlTGlua0ZuICYmIG5vZGVMaW5rRm4uc2NvcGUpIHtcbiAgICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcyhhdHRycy4kJGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGRMaW5rRm4gPSAobm9kZUxpbmtGbiAmJiBub2RlTGlua0ZuLnRlcm1pbmFsIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIShjaGlsZE5vZGVzID0gbm9kZUxpc3RbaV0uY2hpbGROb2RlcykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAhY2hpbGROb2Rlcy5sZW5ndGgpXG4gICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgIDogY29tcGlsZU5vZGVzKGNoaWxkTm9kZXMsXG4gICAgICAgICAgICAgICAgIG5vZGVMaW5rRm4gPyAoXG4gICAgICAgICAgICAgICAgICAobm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCB8fCAhbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgICAmJiBub2RlTGlua0ZuLnRyYW5zY2x1ZGUpIDogdHJhbnNjbHVkZUZuKTtcblxuICAgICAgICBpZiAobm9kZUxpbmtGbiB8fCBjaGlsZExpbmtGbikge1xuICAgICAgICAgIGxpbmtGbnMucHVzaChpLCBub2RlTGlua0ZuLCBjaGlsZExpbmtGbik7XG4gICAgICAgICAgbGlua0ZuRm91bmQgPSB0cnVlO1xuICAgICAgICAgIG5vZGVMaW5rRm5Gb3VuZCA9IG5vZGVMaW5rRm5Gb3VuZCB8fCBub2RlTGlua0ZuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy91c2UgdGhlIHByZXZpb3VzIGNvbnRleHQgb25seSBmb3IgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHZpcnR1YWwgZ3JvdXBcbiAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIHJldHVybiBhIGxpbmtpbmcgZnVuY3Rpb24gaWYgd2UgaGF2ZSBmb3VuZCBhbnl0aGluZywgbnVsbCBvdGhlcndpc2VcbiAgICAgIHJldHVybiBsaW5rRm5Gb3VuZCA/IGNvbXBvc2l0ZUxpbmtGbiA6IG51bGw7XG5cbiAgICAgIGZ1bmN0aW9uIGNvbXBvc2l0ZUxpbmtGbihzY29wZSwgbm9kZUxpc3QsICRyb290RWxlbWVudCwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pIHtcbiAgICAgICAgdmFyIG5vZGVMaW5rRm4sIGNoaWxkTGlua0ZuLCBub2RlLCBjaGlsZFNjb3BlLCBpLCBpaSwgaWR4LCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuO1xuICAgICAgICB2YXIgc3RhYmxlTm9kZUxpc3Q7XG5cblxuICAgICAgICBpZiAobm9kZUxpbmtGbkZvdW5kKSB7XG4gICAgICAgICAgLy8gY29weSBub2RlTGlzdCBzbyB0aGF0IGlmIGEgbm9kZUxpbmtGbiByZW1vdmVzIG9yIGFkZHMgYW4gZWxlbWVudCBhdCB0aGlzIERPTSBsZXZlbCBvdXJcbiAgICAgICAgICAvLyBvZmZzZXRzIGRvbid0IGdldCBzY3Jld2VkIHVwXG4gICAgICAgICAgdmFyIG5vZGVMaXN0TGVuZ3RoID0gbm9kZUxpc3QubGVuZ3RoO1xuICAgICAgICAgIHN0YWJsZU5vZGVMaXN0ID0gbmV3IEFycmF5KG5vZGVMaXN0TGVuZ3RoKTtcblxuICAgICAgICAgIC8vIGNyZWF0ZSBhIHNwYXJzZSBhcnJheSBieSBvbmx5IGNvcHlpbmcgdGhlIGVsZW1lbnRzIHdoaWNoIGhhdmUgYSBsaW5rRm5cbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGlua0Zucy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgaWR4ID0gbGlua0Zuc1tpXTtcbiAgICAgICAgICAgIHN0YWJsZU5vZGVMaXN0W2lkeF0gPSBub2RlTGlzdFtpZHhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGFibGVOb2RlTGlzdCA9IG5vZGVMaXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBsaW5rRm5zLmxlbmd0aDsgaSA8IGlpOykge1xuICAgICAgICAgIG5vZGUgPSBzdGFibGVOb2RlTGlzdFtsaW5rRm5zW2krK11dO1xuICAgICAgICAgIG5vZGVMaW5rRm4gPSBsaW5rRm5zW2krK107XG4gICAgICAgICAgY2hpbGRMaW5rRm4gPSBsaW5rRm5zW2krK107XG5cbiAgICAgICAgICBpZiAobm9kZUxpbmtGbikge1xuICAgICAgICAgICAgaWYgKG5vZGVMaW5rRm4uc2NvcGUpIHtcbiAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IHNjb3BlLiRuZXcoKTtcbiAgICAgICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlSW5mbyhqcUxpdGUobm9kZSksIGNoaWxkU2NvcGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IHNjb3BlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCkge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oXG4gICAgICAgICAgICAgICAgICBzY29wZSwgbm9kZUxpbmtGbi50cmFuc2NsdWRlLCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbik7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIW5vZGVMaW5rRm4udGVtcGxhdGVPblRoaXNFbGVtZW50ICYmIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKSB7XG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbjtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICghcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4gJiYgdHJhbnNjbHVkZUZuKSB7XG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBjcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihzY29wZSwgdHJhbnNjbHVkZUZuKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5vZGVMaW5rRm4oY2hpbGRMaW5rRm4sIGNoaWxkU2NvcGUsIG5vZGUsICRyb290RWxlbWVudCwgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkTGlua0ZuKSB7XG4gICAgICAgICAgICBjaGlsZExpbmtGbihzY29wZSwgbm9kZS5jaGlsZE5vZGVzLCB1bmRlZmluZWQsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZXJnZUNvbnNlY3V0aXZlVGV4dE5vZGVzKG5vZGVMaXN0LCBpZHgsIG5vdExpdmVMaXN0KSB7XG4gICAgICB2YXIgbm9kZSA9IG5vZGVMaXN0W2lkeF07XG4gICAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgdmFyIHNpYmxpbmc7XG5cbiAgICAgIGlmIChub2RlLm5vZGVUeXBlICE9PSBOT0RFX1RZUEVfVEVYVCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHNpYmxpbmcgPSBwYXJlbnQgPyBub2RlLm5leHRTaWJsaW5nIDogbm9kZUxpc3RbaWR4ICsgMV07XG4gICAgICAgIGlmICghc2libGluZyB8fCBzaWJsaW5nLm5vZGVUeXBlICE9PSBOT0RFX1RZUEVfVEVYVCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZS5ub2RlVmFsdWUgPSBub2RlLm5vZGVWYWx1ZSArIHNpYmxpbmcubm9kZVZhbHVlO1xuXG4gICAgICAgIGlmIChzaWJsaW5nLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBzaWJsaW5nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2libGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vdExpdmVMaXN0ICYmIHNpYmxpbmcgPT09IG5vZGVMaXN0W2lkeCArIDFdKSB7XG4gICAgICAgICAgbm9kZUxpc3Quc3BsaWNlKGlkeCArIDEsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbiwgcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbikge1xuICAgICAgZnVuY3Rpb24gYm91bmRUcmFuc2NsdWRlRm4odHJhbnNjbHVkZWRTY29wZSwgY2xvbmVGbiwgY29udHJvbGxlcnMsIGZ1dHVyZVBhcmVudEVsZW1lbnQsIGNvbnRhaW5pbmdTY29wZSkge1xuXG4gICAgICAgIGlmICghdHJhbnNjbHVkZWRTY29wZSkge1xuICAgICAgICAgIHRyYW5zY2x1ZGVkU2NvcGUgPSBzY29wZS4kbmV3KGZhbHNlLCBjb250YWluaW5nU2NvcGUpO1xuICAgICAgICAgIHRyYW5zY2x1ZGVkU2NvcGUuJCR0cmFuc2NsdWRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJhbnNjbHVkZUZuKHRyYW5zY2x1ZGVkU2NvcGUsIGNsb25lRm4sIHtcbiAgICAgICAgICBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbjogcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbixcbiAgICAgICAgICB0cmFuc2NsdWRlQ29udHJvbGxlcnM6IGNvbnRyb2xsZXJzLFxuICAgICAgICAgIGZ1dHVyZVBhcmVudEVsZW1lbnQ6IGZ1dHVyZVBhcmVudEVsZW1lbnRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdlIG5lZWQgIHRvIGF0dGFjaCB0aGUgdHJhbnNjbHVzaW9uIHNsb3RzIG9udG8gdGhlIGBib3VuZFRyYW5zY2x1ZGVGbmBcbiAgICAgIC8vIHNvIHRoYXQgdGhleSBhcmUgYXZhaWxhYmxlIGluc2lkZSB0aGUgYGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlYCBmdW5jdGlvblxuICAgICAgdmFyIGJvdW5kU2xvdHMgPSBib3VuZFRyYW5zY2x1ZGVGbi4kJHNsb3RzID0gY3JlYXRlTWFwKCk7XG4gICAgICBmb3IgKHZhciBzbG90TmFtZSBpbiB0cmFuc2NsdWRlRm4uJCRzbG90cykge1xuICAgICAgICBpZiAodHJhbnNjbHVkZUZuLiQkc2xvdHNbc2xvdE5hbWVdKSB7XG4gICAgICAgICAgYm91bmRTbG90c1tzbG90TmFtZV0gPSBjcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihzY29wZSwgdHJhbnNjbHVkZUZuLiQkc2xvdHNbc2xvdE5hbWVdLCBwcmV2aW91c0JvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBib3VuZFNsb3RzW3Nsb3ROYW1lXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJvdW5kVHJhbnNjbHVkZUZuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvb2tzIGZvciBkaXJlY3RpdmVzIG9uIHRoZSBnaXZlbiBub2RlIGFuZCBhZGRzIHRoZW0gdG8gdGhlIGRpcmVjdGl2ZSBjb2xsZWN0aW9uIHdoaWNoIGlzXG4gICAgICogc29ydGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5vZGUgTm9kZSB0byBzZWFyY2guXG4gICAgICogQHBhcmFtIGRpcmVjdGl2ZXMgQW4gYXJyYXkgdG8gd2hpY2ggdGhlIGRpcmVjdGl2ZXMgYXJlIGFkZGVkIHRvLiBUaGlzIGFycmF5IGlzIHNvcnRlZCBiZWZvcmVcbiAgICAgKiAgICAgICAgdGhlIGZ1bmN0aW9uIHJldHVybnMuXG4gICAgICogQHBhcmFtIGF0dHJzIFRoZSBzaGFyZWQgYXR0cnMgb2JqZWN0IHdoaWNoIGlzIHVzZWQgdG8gcG9wdWxhdGUgdGhlIG5vcm1hbGl6ZWQgYXR0cmlidXRlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG1heFByaW9yaXR5IE1heCBkaXJlY3RpdmUgcHJpb3JpdHkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29sbGVjdERpcmVjdGl2ZXMobm9kZSwgZGlyZWN0aXZlcywgYXR0cnMsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpIHtcbiAgICAgIHZhciBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGUsXG4gICAgICAgICAgYXR0cnNNYXAgPSBhdHRycy4kYXR0cixcbiAgICAgICAgICBtYXRjaCxcbiAgICAgICAgICBub2RlTmFtZSxcbiAgICAgICAgICBjbGFzc05hbWU7XG5cbiAgICAgIHN3aXRjaCAobm9kZVR5cGUpIHtcbiAgICAgICAgY2FzZSBOT0RFX1RZUEVfRUxFTUVOVDogLyogRWxlbWVudCAqL1xuXG4gICAgICAgICAgbm9kZU5hbWUgPSBub2RlTmFtZV8obm9kZSk7XG5cbiAgICAgICAgICAvLyB1c2UgdGhlIG5vZGUgbmFtZTogPGRpcmVjdGl2ZT5cbiAgICAgICAgICBhZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxcbiAgICAgICAgICAgICAgZGlyZWN0aXZlTm9ybWFsaXplKG5vZGVOYW1lKSwgJ0UnLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKTtcblxuICAgICAgICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGUgYXR0cmlidXRlc1xuICAgICAgICAgIGZvciAodmFyIGF0dHIsIG5hbWUsIG5OYW1lLCB2YWx1ZSwgbmdQcmVmaXhNYXRjaCwgbkF0dHJzID0gbm9kZS5hdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgIGogPSAwLCBqaiA9IG5BdHRycyAmJiBuQXR0cnMubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgdmFyIGF0dHJTdGFydE5hbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBhdHRyRW5kTmFtZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICB2YXIgaXNOZ0F0dHIgPSBmYWxzZSwgaXNOZ1Byb3AgPSBmYWxzZSwgaXNOZ0V2ZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgbXVsdGlFbGVtZW50TWF0Y2g7XG5cbiAgICAgICAgICAgIGF0dHIgPSBuQXR0cnNbal07XG4gICAgICAgICAgICBuYW1lID0gYXR0ci5uYW1lO1xuICAgICAgICAgICAgdmFsdWUgPSBhdHRyLnZhbHVlO1xuXG4gICAgICAgICAgICBuTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lLnRvTG93ZXJDYXNlKCkpO1xuXG4gICAgICAgICAgICAvLyBTdXBwb3J0IG5nLWF0dHItKiwgbmctcHJvcC0qIGFuZCBuZy1vbi0qXG4gICAgICAgICAgICBpZiAoKG5nUHJlZml4TWF0Y2ggPSBuTmFtZS5tYXRjaChOR19QUkVGSVhfQklORElORykpKSB7XG4gICAgICAgICAgICAgIGlzTmdBdHRyID0gbmdQcmVmaXhNYXRjaFsxXSA9PT0gJ0F0dHInO1xuICAgICAgICAgICAgICBpc05nUHJvcCA9IG5nUHJlZml4TWF0Y2hbMV0gPT09ICdQcm9wJztcbiAgICAgICAgICAgICAgaXNOZ0V2ZW50ID0gbmdQcmVmaXhNYXRjaFsxXSA9PT0gJ09uJztcblxuICAgICAgICAgICAgICAvLyBOb3JtYWxpemUgdGhlIG5vbi1wcmVmaXhlZCBuYW1lXG4gICAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoUFJFRklYX1JFR0VYUCwgJycpXG4gICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAuc3Vic3RyKDQgKyBuZ1ByZWZpeE1hdGNoWzFdLmxlbmd0aCkucmVwbGFjZSgvXyguKS9nLCBmdW5jdGlvbihtYXRjaCwgbGV0dGVyKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFN1cHBvcnQgKi1zdGFydCAvICotZW5kIG11bHRpIGVsZW1lbnQgZGlyZWN0aXZlc1xuICAgICAgICAgICAgfSBlbHNlIGlmICgobXVsdGlFbGVtZW50TWF0Y2ggPSBuTmFtZS5tYXRjaChNVUxUSV9FTEVNRU5UX0RJUl9SRSkpICYmIGRpcmVjdGl2ZUlzTXVsdGlFbGVtZW50KG11bHRpRWxlbWVudE1hdGNoWzFdKSkge1xuICAgICAgICAgICAgICBhdHRyU3RhcnROYW1lID0gbmFtZTtcbiAgICAgICAgICAgICAgYXR0ckVuZE5hbWUgPSBuYW1lLnN1YnN0cigwLCBuYW1lLmxlbmd0aCAtIDUpICsgJ2VuZCc7XG4gICAgICAgICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigwLCBuYW1lLmxlbmd0aCAtIDYpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNOZ1Byb3AgfHwgaXNOZ0V2ZW50KSB7XG4gICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICBhdHRyc01hcFtuTmFtZV0gPSBhdHRyLm5hbWU7XG5cbiAgICAgICAgICAgICAgaWYgKGlzTmdQcm9wKSB7XG4gICAgICAgICAgICAgICAgYWRkUHJvcGVydHlEaXJlY3RpdmUobm9kZSwgZGlyZWN0aXZlcywgbk5hbWUsIG5hbWUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZEV2ZW50RGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5OYW1lLCBuYW1lKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gVXBkYXRlIG5OYW1lIGZvciBjYXNlcyB3aGVyZSBhIHByZWZpeCB3YXMgcmVtb3ZlZFxuICAgICAgICAgICAgICAvLyBOT1RFOiB0aGUgLnRvTG93ZXJDYXNlKCkgaXMgdW5uZWNlc3NhcnkgYW5kIGNhdXNlcyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xNjYyNCBmb3IgbmctYXR0ci0qXG4gICAgICAgICAgICAgIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgIGF0dHJzTWFwW25OYW1lXSA9IG5hbWU7XG5cbiAgICAgICAgICAgICAgaWYgKGlzTmdBdHRyIHx8ICFhdHRycy5oYXNPd25Qcm9wZXJ0eShuTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBhdHRyc1tuTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoZ2V0Qm9vbGVhbkF0dHJOYW1lKG5vZGUsIG5OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgYXR0cnNbbk5hbWVdID0gdHJ1ZTsgLy8gcHJlc2VuY2UgbWVhbnMgdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGFkZEF0dHJJbnRlcnBvbGF0ZURpcmVjdGl2ZShub2RlLCBkaXJlY3RpdmVzLCB2YWx1ZSwgbk5hbWUsIGlzTmdBdHRyKTtcbiAgICAgICAgICAgICAgYWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5OYW1lLCAnQScsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIGF0dHJTdGFydE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0ckVuZE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChub2RlTmFtZSA9PT0gJ2lucHV0JyAmJiBub2RlLmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAnaGlkZGVuJykge1xuICAgICAgICAgICAgLy8gSGlkZGVuIGlucHV0IGVsZW1lbnRzIGNhbiBoYXZlIHN0cmFuZ2UgYmVoYXZpb3VyIHdoZW4gbmF2aWdhdGluZyBiYWNrIHRvIHRoZSBwYWdlXG4gICAgICAgICAgICAvLyBUaGlzIHRlbGxzIHRoZSBicm93c2VyIG5vdCB0byB0cnkgdG8gY2FjaGUgYW5kIHJlaW5zdGF0ZSBwcmV2aW91cyB2YWx1ZXNcbiAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCdhdXRvY29tcGxldGUnLCAnb2ZmJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gdXNlIGNsYXNzIGFzIGRpcmVjdGl2ZVxuICAgICAgICAgIGlmICghY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZCkgYnJlYWs7XG4gICAgICAgICAgY2xhc3NOYW1lID0gbm9kZS5jbGFzc05hbWU7XG4gICAgICAgICAgaWYgKGlzT2JqZWN0KGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgLy8gTWF5YmUgU1ZHQW5pbWF0ZWRTdHJpbmdcbiAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLmFuaW1WYWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc1N0cmluZyhjbGFzc05hbWUpICYmIGNsYXNzTmFtZSAhPT0gJycpIHtcbiAgICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSBDTEFTU19ESVJFQ1RJVkVfUkVHRVhQLmV4ZWMoY2xhc3NOYW1lKSkpIHtcbiAgICAgICAgICAgICAgbk5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUobWF0Y2hbMl0pO1xuICAgICAgICAgICAgICBpZiAoYWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5OYW1lLCAnQycsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpKSB7XG4gICAgICAgICAgICAgICAgYXR0cnNbbk5hbWVdID0gdHJpbShtYXRjaFszXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnN1YnN0cihtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE5PREVfVFlQRV9URVhUOiAvKiBUZXh0IE5vZGUgKi9cbiAgICAgICAgICBhZGRUZXh0SW50ZXJwb2xhdGVEaXJlY3RpdmUoZGlyZWN0aXZlcywgbm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE5PREVfVFlQRV9DT01NRU5UOiAvKiBDb21tZW50ICovXG4gICAgICAgICAgaWYgKCFjb21tZW50RGlyZWN0aXZlc0VuYWJsZWQpIGJyZWFrO1xuICAgICAgICAgIGNvbGxlY3RDb21tZW50RGlyZWN0aXZlcyhub2RlLCBkaXJlY3RpdmVzLCBhdHRycywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGRpcmVjdGl2ZXMuc29ydChieVByaW9yaXR5KTtcbiAgICAgIHJldHVybiBkaXJlY3RpdmVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbGxlY3RDb21tZW50RGlyZWN0aXZlcyhub2RlLCBkaXJlY3RpdmVzLCBhdHRycywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSkge1xuICAgICAgLy8gZnVuY3Rpb24gY3JlYXRlZCBiZWNhdXNlIG9mIHBlcmZvcm1hbmNlLCB0cnkvY2F0Y2ggZGlzYWJsZXNcbiAgICAgIC8vIHRoZSBvcHRpbWl6YXRpb24gb2YgdGhlIHdob2xlIGZ1bmN0aW9uICMxNDg0OFxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG1hdGNoID0gQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQLmV4ZWMobm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICB2YXIgbk5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUobWF0Y2hbMV0pO1xuICAgICAgICAgIGlmIChhZGREaXJlY3RpdmUoZGlyZWN0aXZlcywgbk5hbWUsICdNJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSkpIHtcbiAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRyaW0obWF0Y2hbMl0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyB0dXJucyBvdXQgdGhhdCB1bmRlciBzb21lIGNpcmN1bXN0YW5jZXMgSUU5IHRocm93cyBlcnJvcnMgd2hlbiBvbmUgYXR0ZW1wdHMgdG8gcmVhZFxuICAgICAgICAvLyBjb21tZW50J3Mgbm9kZSB2YWx1ZS5cbiAgICAgICAgLy8gSnVzdCBpZ25vcmUgaXQgYW5kIGNvbnRpbnVlLiAoQ2FuJ3Qgc2VlbSB0byByZXByb2R1Y2UgaW4gdGVzdCBjYXNlLilcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIG5vZGUgd2l0aCBhIGRpcmVjdGl2ZS1zdGFydCBpdCBjb2xsZWN0cyBhbGwgb2YgdGhlIHNpYmxpbmdzIHVudGlsIGl0IGZpbmRzXG4gICAgICogZGlyZWN0aXZlLWVuZC5cbiAgICAgKiBAcGFyYW0gbm9kZVxuICAgICAqIEBwYXJhbSBhdHRyU3RhcnRcbiAgICAgKiBAcGFyYW0gYXR0ckVuZFxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdyb3VwU2Nhbihub2RlLCBhdHRyU3RhcnQsIGF0dHJFbmQpIHtcbiAgICAgIHZhciBub2RlcyA9IFtdO1xuICAgICAgdmFyIGRlcHRoID0gMDtcbiAgICAgIGlmIChhdHRyU3RhcnQgJiYgbm9kZS5oYXNBdHRyaWJ1dGUgJiYgbm9kZS5oYXNBdHRyaWJ1dGUoYXR0clN0YXJ0KSkge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndXRlcmRpcicsXG4gICAgICAgICAgICAgICAgICAgICAgJ1VudGVybWluYXRlZCBhdHRyaWJ1dGUsIGZvdW5kIFxcJ3swfVxcJyBidXQgbm8gbWF0Y2hpbmcgXFwnezF9XFwnIGZvdW5kLicsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0clN0YXJ0LCBhdHRyRW5kKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGUoYXR0clN0YXJ0KSkgZGVwdGgrKztcbiAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZShhdHRyRW5kKSkgZGVwdGgtLTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgfSB3aGlsZSAoZGVwdGggPiAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBqcUxpdGUobm9kZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyYXBwZXIgZm9yIGxpbmtpbmcgZnVuY3Rpb24gd2hpY2ggY29udmVydHMgbm9ybWFsIGxpbmtpbmcgZnVuY3Rpb24gaW50byBhIGdyb3VwZWRcbiAgICAgKiBsaW5raW5nIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSBsaW5rRm5cbiAgICAgKiBAcGFyYW0gYXR0clN0YXJ0XG4gICAgICogQHBhcmFtIGF0dHJFbmRcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ3JvdXBFbGVtZW50c0xpbmtGbldyYXBwZXIobGlua0ZuLCBhdHRyU3RhcnQsIGF0dHJFbmQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBncm91cGVkRWxlbWVudHNMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbikge1xuICAgICAgICBlbGVtZW50ID0gZ3JvdXBTY2FuKGVsZW1lbnRbMF0sIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgIHJldHVybiBsaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiBnZW5lcmF0b3IgdGhhdCBpcyB1c2VkIHRvIHN1cHBvcnQgYm90aCBlYWdlciBhbmQgbGF6eSBjb21waWxhdGlvblxuICAgICAqIGxpbmtpbmcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIGVhZ2VyXG4gICAgICogQHBhcmFtICRjb21waWxlTm9kZXNcbiAgICAgKiBAcGFyYW0gdHJhbnNjbHVkZUZuXG4gICAgICogQHBhcmFtIG1heFByaW9yaXR5XG4gICAgICogQHBhcmFtIGlnbm9yZURpcmVjdGl2ZVxuICAgICAqIEBwYXJhbSBwcmV2aW91c0NvbXBpbGVDb250ZXh0XG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBpbGF0aW9uR2VuZXJhdG9yKGVhZ2VyLCAkY29tcGlsZU5vZGVzLCB0cmFuc2NsdWRlRm4sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcbiAgICAgIHZhciBjb21waWxlZDtcblxuICAgICAgaWYgKGVhZ2VyKSB7XG4gICAgICAgIHJldHVybiBjb21waWxlKCRjb21waWxlTm9kZXMsIHRyYW5zY2x1ZGVGbiwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgcHJldmlvdXNDb21waWxlQ29udGV4dCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gLyoqIEB0aGlzICovIGZ1bmN0aW9uIGxhenlDb21waWxhdGlvbigpIHtcbiAgICAgICAgaWYgKCFjb21waWxlZCkge1xuICAgICAgICAgIGNvbXBpbGVkID0gY29tcGlsZSgkY29tcGlsZU5vZGVzLCB0cmFuc2NsdWRlRm4sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpO1xuXG4gICAgICAgICAgLy8gTnVsbCBvdXQgYWxsIG9mIHRoZXNlIHJlZmVyZW5jZXMgaW4gb3JkZXIgdG8gbWFrZSB0aGVtIGVsaWdpYmxlIGZvciBnYXJiYWdlIGNvbGxlY3Rpb25cbiAgICAgICAgICAvLyBzaW5jZSB0aGlzIGlzIGEgcG90ZW50aWFsbHkgbG9uZyBsaXZlZCBjbG9zdXJlXG4gICAgICAgICAgJGNvbXBpbGVOb2RlcyA9IHRyYW5zY2x1ZGVGbiA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21waWxlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPbmNlIHRoZSBkaXJlY3RpdmVzIGhhdmUgYmVlbiBjb2xsZWN0ZWQsIHRoZWlyIGNvbXBpbGUgZnVuY3Rpb25zIGFyZSBleGVjdXRlZC4gVGhpcyBtZXRob2RcbiAgICAgKiBpcyByZXNwb25zaWJsZSBmb3IgaW5saW5pbmcgZGlyZWN0aXZlIHRlbXBsYXRlcyBhcyB3ZWxsIGFzIHRlcm1pbmF0aW5nIHRoZSBhcHBsaWNhdGlvblxuICAgICAqIG9mIHRoZSBkaXJlY3RpdmVzIGlmIHRoZSB0ZXJtaW5hbCBkaXJlY3RpdmUgaGFzIGJlZW4gcmVhY2hlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRpcmVjdGl2ZXMgQXJyYXkgb2YgY29sbGVjdGVkIGRpcmVjdGl2ZXMgdG8gZXhlY3V0ZSB0aGVpciBjb21waWxlIGZ1bmN0aW9uLlxuICAgICAqICAgICAgICB0aGlzIG5lZWRzIHRvIGJlIHByZS1zb3J0ZWQgYnkgcHJpb3JpdHkgb3JkZXIuXG4gICAgICogQHBhcmFtIHtOb2RlfSBjb21waWxlTm9kZSBUaGUgcmF3IERPTSBub2RlIHRvIGFwcGx5IHRoZSBjb21waWxlIGZ1bmN0aW9ucyB0b1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0ZW1wbGF0ZUF0dHJzIFRoZSBzaGFyZWQgYXR0cmlidXRlIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihhbmd1bGFyLlNjb3BlLCBjbG9uZUF0dGFjaEZuPSl9IHRyYW5zY2x1ZGVGbiBBIGxpbmtpbmcgZnVuY3Rpb24sIHdoZXJlIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZSBhcmd1bWVudCBpcyBhdXRvLWdlbmVyYXRlZCB0byB0aGUgbmV3XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkIG9mIHRoZSB0cmFuc2NsdWRlZCBwYXJlbnQgc2NvcGUuXG4gICAgICogQHBhcmFtIHtKUUxpdGV9IGpxQ29sbGVjdGlvbiBJZiB3ZSBhcmUgd29ya2luZyBvbiB0aGUgcm9vdCBvZiB0aGUgY29tcGlsZSB0cmVlIHRoZW4gdGhpc1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnQgaGFzIHRoZSByb290IGpxTGl0ZSBhcnJheSBzbyB0aGF0IHdlIGNhbiByZXBsYWNlIG5vZGVzXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbiBpdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSBBbiBvcHRpb25hbCBkaXJlY3RpdmUgdGhhdCB3aWxsIGJlIGlnbm9yZWQgd2hlblxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBpbGluZyB0aGUgdHJhbnNjbHVzaW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXkuPEZ1bmN0aW9uPn0gcHJlTGlua0Zuc1xuICAgICAqIEBwYXJhbSB7QXJyYXkuPEZ1bmN0aW9uPn0gcG9zdExpbmtGbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJldmlvdXNDb21waWxlQ29udGV4dCBDb250ZXh0IHVzZWQgZm9yIHByZXZpb3VzIGNvbXBpbGF0aW9uIG9mIHRoZSBjdXJyZW50XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gbGlua0ZuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXBwbHlEaXJlY3RpdmVzVG9Ob2RlKGRpcmVjdGl2ZXMsIGNvbXBpbGVOb2RlLCB0ZW1wbGF0ZUF0dHJzLCB0cmFuc2NsdWRlRm4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpxQ29sbGVjdGlvbiwgb3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlLCBwcmVMaW5rRm5zLCBwb3N0TGlua0ZucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCkge1xuICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQgfHwge307XG5cbiAgICAgIHZhciB0ZXJtaW5hbFByaW9yaXR5ID0gLU51bWJlci5NQVhfVkFMVUUsXG4gICAgICAgICAgbmV3U2NvcGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5ld1Njb3BlRGlyZWN0aXZlLFxuICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5jb250cm9sbGVyRGlyZWN0aXZlcyxcbiAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQudGVtcGxhdGVEaXJlY3RpdmUsXG4gICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQubm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSxcbiAgICAgICAgICBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlID0gZmFsc2UsXG4gICAgICAgICAgaGFzVGVtcGxhdGUgPSBmYWxzZSxcbiAgICAgICAgICBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUsXG4gICAgICAgICAgJGNvbXBpbGVOb2RlID0gdGVtcGxhdGVBdHRycy4kJGVsZW1lbnQgPSBqcUxpdGUoY29tcGlsZU5vZGUpLFxuICAgICAgICAgIGRpcmVjdGl2ZSxcbiAgICAgICAgICBkaXJlY3RpdmVOYW1lLFxuICAgICAgICAgICR0ZW1wbGF0ZSxcbiAgICAgICAgICByZXBsYWNlRGlyZWN0aXZlID0gb3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlLFxuICAgICAgICAgIGNoaWxkVHJhbnNjbHVkZUZuID0gdHJhbnNjbHVkZUZuLFxuICAgICAgICAgIGxpbmtGbixcbiAgICAgICAgICBkaWRTY2FuRm9yTXVsdGlwbGVUcmFuc2NsdXNpb24gPSBmYWxzZSxcbiAgICAgICAgICBtaWdodEhhdmVNdWx0aXBsZVRyYW5zY2x1c2lvbkVycm9yID0gZmFsc2UsXG4gICAgICAgICAgZGlyZWN0aXZlVmFsdWU7XG5cbiAgICAgIC8vIGV4ZWN1dGVzIGFsbCBkaXJlY3RpdmVzIG9uIHRoZSBjdXJyZW50IGVsZW1lbnRcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICBkaXJlY3RpdmUgPSBkaXJlY3RpdmVzW2ldO1xuICAgICAgICB2YXIgYXR0clN0YXJ0ID0gZGlyZWN0aXZlLiQkc3RhcnQ7XG4gICAgICAgIHZhciBhdHRyRW5kID0gZGlyZWN0aXZlLiQkZW5kO1xuXG4gICAgICAgIC8vIGNvbGxlY3QgbXVsdGlibG9jayBzZWN0aW9uc1xuICAgICAgICBpZiAoYXR0clN0YXJ0KSB7XG4gICAgICAgICAgJGNvbXBpbGVOb2RlID0gZ3JvdXBTY2FuKGNvbXBpbGVOb2RlLCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xuICAgICAgICB9XG4gICAgICAgICR0ZW1wbGF0ZSA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAodGVybWluYWxQcmlvcml0eSA+IGRpcmVjdGl2ZS5wcmlvcml0eSkge1xuICAgICAgICAgIGJyZWFrOyAvLyBwcmV2ZW50IGZ1cnRoZXIgcHJvY2Vzc2luZyBvZiBkaXJlY3RpdmVzXG4gICAgICAgIH1cblxuICAgICAgICBkaXJlY3RpdmVWYWx1ZSA9IGRpcmVjdGl2ZS5zY29wZTtcblxuICAgICAgICBpZiAoZGlyZWN0aXZlVmFsdWUpIHtcblxuICAgICAgICAgIC8vIHNraXAgdGhlIGNoZWNrIGZvciBkaXJlY3RpdmVzIHdpdGggYXN5bmMgdGVtcGxhdGVzLCB3ZSdsbCBjaGVjayB0aGUgZGVyaXZlZCBzeW5jXG4gICAgICAgICAgLy8gZGlyZWN0aXZlIHdoZW4gdGhlIHRlbXBsYXRlIGFycml2ZXNcbiAgICAgICAgICBpZiAoIWRpcmVjdGl2ZS50ZW1wbGF0ZVVybCkge1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZVZhbHVlKSkge1xuICAgICAgICAgICAgICAvLyBUaGlzIGRpcmVjdGl2ZSBpcyB0cnlpbmcgdG8gYWRkIGFuIGlzb2xhdGVkIHNjb3BlLlxuICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRoZXJlIGlzIG5vIHNjb3BlIG9mIGFueSBraW5kIGFscmVhZHlcbiAgICAgICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ25ldy9pc29sYXRlZCBzY29wZScsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBuZXdTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xuICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBUaGlzIGRpcmVjdGl2ZSBpcyB0cnlpbmcgdG8gYWRkIGEgY2hpbGQgc2NvcGUuXG4gICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGhlcmUgaXMgbm8gaXNvbGF0ZWQgc2NvcGUgYWxyZWFkeVxuICAgICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgnbmV3L2lzb2xhdGVkIHNjb3BlJywgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLCBkaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV3U2NvcGVEaXJlY3RpdmUgPSBuZXdTY29wZURpcmVjdGl2ZSB8fCBkaXJlY3RpdmU7XG4gICAgICAgIH1cblxuICAgICAgICBkaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlLm5hbWU7XG5cbiAgICAgICAgLy8gSWYgd2UgZW5jb3VudGVyIGEgY29uZGl0aW9uIHRoYXQgY2FuIHJlc3VsdCBpbiB0cmFuc2NsdXNpb24gb24gdGhlIGRpcmVjdGl2ZSxcbiAgICAgICAgLy8gdGhlbiBzY2FuIGFoZWFkIGluIHRoZSByZW1haW5pbmcgZGlyZWN0aXZlcyBmb3Igb3RoZXJzIHRoYXQgbWF5IGNhdXNlIGEgbXVsdGlwbGVcbiAgICAgICAgLy8gdHJhbnNjbHVzaW9uIGVycm9yIHRvIGJlIHRocm93biBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uIHByb2Nlc3MuICBJZiBhIG1hdGNoaW5nIGRpcmVjdGl2ZVxuICAgICAgICAvLyBpcyBmb3VuZCwgdGhlbiB3ZSBrbm93IHRoYXQgd2hlbiB3ZSBlbmNvdW50ZXIgYSB0cmFuc2NsdWRlZCBkaXJlY3RpdmUsIHdlIG5lZWQgdG8gZWFnZXJseVxuICAgICAgICAvLyBjb21waWxlIHRoZSBgdHJhbnNjbHVkZWAgZnVuY3Rpb24gcmF0aGVyIHRoYW4gZG9pbmcgaXQgbGF6aWx5IGluIG9yZGVyIHRvIHRocm93XG4gICAgICAgIC8vIGV4Y2VwdGlvbnMgYXQgdGhlIGNvcnJlY3QgdGltZVxuICAgICAgICBpZiAoIWRpZFNjYW5Gb3JNdWx0aXBsZVRyYW5zY2x1c2lvbiAmJiAoKGRpcmVjdGl2ZS5yZXBsYWNlICYmIChkaXJlY3RpdmUudGVtcGxhdGVVcmwgfHwgZGlyZWN0aXZlLnRlbXBsYXRlKSlcbiAgICAgICAgICAgIHx8IChkaXJlY3RpdmUudHJhbnNjbHVkZSAmJiAhZGlyZWN0aXZlLiQkdGxiKSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2FuZGlkYXRlRGlyZWN0aXZlO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgc2Nhbm5pbmdJbmRleCA9IGkgKyAxOyAoY2FuZGlkYXRlRGlyZWN0aXZlID0gZGlyZWN0aXZlc1tzY2FubmluZ0luZGV4KytdKTspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChjYW5kaWRhdGVEaXJlY3RpdmUudHJhbnNjbHVkZSAmJiAhY2FuZGlkYXRlRGlyZWN0aXZlLiQkdGxiKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGNhbmRpZGF0ZURpcmVjdGl2ZS5yZXBsYWNlICYmIChjYW5kaWRhdGVEaXJlY3RpdmUudGVtcGxhdGVVcmwgfHwgY2FuZGlkYXRlRGlyZWN0aXZlLnRlbXBsYXRlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkaWRTY2FuRm9yTXVsdGlwbGVUcmFuc2NsdXNpb24gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkaXJlY3RpdmUudGVtcGxhdGVVcmwgJiYgZGlyZWN0aXZlLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlcyA9IGNvbnRyb2xsZXJEaXJlY3RpdmVzIHx8IGNyZWF0ZU1hcCgpO1xuICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCdcXCcnICsgZGlyZWN0aXZlTmFtZSArICdcXCcgY29udHJvbGxlcicsXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgY29udHJvbGxlckRpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV0gPSBkaXJlY3RpdmU7XG4gICAgICAgIH1cblxuICAgICAgICBkaXJlY3RpdmVWYWx1ZSA9IGRpcmVjdGl2ZS50cmFuc2NsdWRlO1xuXG4gICAgICAgIGlmIChkaXJlY3RpdmVWYWx1ZSkge1xuICAgICAgICAgIGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmUgPSB0cnVlO1xuXG4gICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIG5nSWYgYW5kIG5nUmVwZWF0IHNvIHRoYXQgd2UgZG9uJ3QgY29tcGxhaW4gYWJvdXQgZHVwbGljYXRlIHRyYW5zY2x1c2lvbi5cbiAgICAgICAgICAvLyBUaGlzIG9wdGlvbiBzaG91bGQgb25seSBiZSB1c2VkIGJ5IGRpcmVjdGl2ZXMgdGhhdCBrbm93IGhvdyB0byBzYWZlbHkgaGFuZGxlIGVsZW1lbnQgdHJhbnNjbHVzaW9uLFxuICAgICAgICAgIC8vIHdoZXJlIHRoZSB0cmFuc2NsdWRlZCBub2RlcyBhcmUgYWRkZWQgb3IgcmVwbGFjZWQgYWZ0ZXIgbGlua2luZy5cbiAgICAgICAgICBpZiAoIWRpcmVjdGl2ZS4kJHRsYikge1xuICAgICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ3RyYW5zY2x1c2lvbicsIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGRpcmVjdGl2ZVZhbHVlID09PSAnZWxlbWVudCcpIHtcbiAgICAgICAgICAgIGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRlcm1pbmFsUHJpb3JpdHkgPSBkaXJlY3RpdmUucHJpb3JpdHk7XG4gICAgICAgICAgICAkdGVtcGxhdGUgPSAkY29tcGlsZU5vZGU7XG4gICAgICAgICAgICAkY29tcGlsZU5vZGUgPSB0ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudCA9XG4gICAgICAgICAgICAgICAganFMaXRlKGNvbXBpbGUuJCRjcmVhdGVDb21tZW50KGRpcmVjdGl2ZU5hbWUsIHRlbXBsYXRlQXR0cnNbZGlyZWN0aXZlTmFtZV0pKTtcbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJGNvbXBpbGVOb2RlWzBdO1xuICAgICAgICAgICAgcmVwbGFjZVdpdGgoanFDb2xsZWN0aW9uLCBzbGljZUFyZ3MoJHRlbXBsYXRlKSwgY29tcGlsZU5vZGUpO1xuXG4gICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IGNvbXBpbGF0aW9uR2VuZXJhdG9yKG1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IsICR0ZW1wbGF0ZSwgdHJhbnNjbHVkZUZuLCB0ZXJtaW5hbFByaW9yaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgJiYgcmVwbGFjZURpcmVjdGl2ZS5uYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBwYXNzIGluOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBjb250cm9sbGVyRGlyZWN0aXZlcyAtIG90aGVyd2lzZSB3ZSdsbCBjcmVhdGUgZHVwbGljYXRlcyBjb250cm9sbGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgb3IgdGVtcGxhdGVEaXJlY3RpdmUgLSBjb21iaW5pbmcgdGVtcGxhdGVzIHdpdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgZWxlbWVudCB0cmFuc2NsdXNpb24gZG9lc24ndCBtYWtlIHNlbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgb25seSBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlIHNvIHRoYXQgd2UgcHJldmVudCBwdXR0aW5nIHRyYW5zY2x1c2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gdGhlIHNhbWUgZWxlbWVudCBtb3JlIHRoYW4gb25jZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6IG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICB2YXIgc2xvdHMgPSBjcmVhdGVNYXAoKTtcblxuICAgICAgICAgICAgaWYgKCFpc09iamVjdChkaXJlY3RpdmVWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0ganFMaXRlKGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKSkuY29udGVudHMoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgLy8gV2UgaGF2ZSB0cmFuc2NsdXNpb24gc2xvdHMsXG4gICAgICAgICAgICAgIC8vIGNvbGxlY3QgdGhlbSB1cCwgY29tcGlsZSB0aGVtIGFuZCBzdG9yZSB0aGVpciB0cmFuc2NsdXNpb24gZnVuY3Rpb25zXG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICAgICAgICAgICAgdmFyIHNsb3RNYXAgPSBjcmVhdGVNYXAoKTtcbiAgICAgICAgICAgICAgdmFyIGZpbGxlZFNsb3RzID0gY3JlYXRlTWFwKCk7XG5cbiAgICAgICAgICAgICAgLy8gUGFyc2UgdGhlIGVsZW1lbnQgc2VsZWN0b3JzXG4gICAgICAgICAgICAgIGZvckVhY2goZGlyZWN0aXZlVmFsdWUsIGZ1bmN0aW9uKGVsZW1lbnRTZWxlY3Rvciwgc2xvdE5hbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBhbiBlbGVtZW50IHNlbGVjdG9yIHN0YXJ0cyB3aXRoIGEgPyB0aGVuIGl0IGlzIG9wdGlvbmFsXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbmFsID0gKGVsZW1lbnRTZWxlY3Rvci5jaGFyQXQoMCkgPT09ICc/Jyk7XG4gICAgICAgICAgICAgICAgZWxlbWVudFNlbGVjdG9yID0gb3B0aW9uYWwgPyBlbGVtZW50U2VsZWN0b3Iuc3Vic3RyaW5nKDEpIDogZWxlbWVudFNlbGVjdG9yO1xuXG4gICAgICAgICAgICAgICAgc2xvdE1hcFtlbGVtZW50U2VsZWN0b3JdID0gc2xvdE5hbWU7XG5cbiAgICAgICAgICAgICAgICAvLyBXZSBleHBsaWNpdGx5IGFzc2lnbiBgbnVsbGAgc2luY2UgdGhpcyBpbXBsaWVzIHRoYXQgYSBzbG90IHdhcyBkZWZpbmVkIGJ1dCBub3QgZmlsbGVkLlxuICAgICAgICAgICAgICAgIC8vIExhdGVyIHdoZW4gY2FsbGluZyBib3VuZFRyYW5zY2x1c2lvbiBmdW5jdGlvbnMgd2l0aCBhIHNsb3QgbmFtZSB3ZSBvbmx5IGVycm9yIGlmIHRoZVxuICAgICAgICAgICAgICAgIC8vIHNsb3QgaXMgYHVuZGVmaW5lZGBcbiAgICAgICAgICAgICAgICBzbG90c1tzbG90TmFtZV0gPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLy8gZmlsbGVkU2xvdHMgY29udGFpbnMgYHRydWVgIGZvciBhbGwgc2xvdHMgdGhhdCBhcmUgZWl0aGVyIG9wdGlvbmFsIG9yIGhhdmUgYmVlblxuICAgICAgICAgICAgICAgIC8vIGZpbGxlZC4gVGhpcyBpcyB1c2VkIHRvIGNoZWNrIHRoYXQgd2UgaGF2ZSBub3QgbWlzc2VkIGFueSByZXF1aXJlZCBzbG90c1xuICAgICAgICAgICAgICAgIGZpbGxlZFNsb3RzW3Nsb3ROYW1lXSA9IG9wdGlvbmFsO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAvLyBBZGQgdGhlIG1hdGNoaW5nIGVsZW1lbnRzIGludG8gdGhlaXIgc2xvdFxuICAgICAgICAgICAgICBmb3JFYWNoKCRjb21waWxlTm9kZS5jb250ZW50cygpLCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNsb3ROYW1lID0gc2xvdE1hcFtkaXJlY3RpdmVOb3JtYWxpemUobm9kZU5hbWVfKG5vZGUpKV07XG4gICAgICAgICAgICAgICAgaWYgKHNsb3ROYW1lKSB7XG4gICAgICAgICAgICAgICAgICBmaWxsZWRTbG90c1tzbG90TmFtZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgc2xvdHNbc2xvdE5hbWVdID0gc2xvdHNbc2xvdE5hbWVdIHx8IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICAgICAgICBzbG90c1tzbG90TmFtZV0uYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICR0ZW1wbGF0ZS5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIC8vIENoZWNrIGZvciByZXF1aXJlZCBzbG90cyB0aGF0IHdlcmUgbm90IGZpbGxlZFxuICAgICAgICAgICAgICBmb3JFYWNoKGZpbGxlZFNsb3RzLCBmdW5jdGlvbihmaWxsZWQsIHNsb3ROYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdyZXFzbG90JywgJ1JlcXVpcmVkIHRyYW5zY2x1c2lvbiBzbG90IGB7MH1gIHdhcyBub3QgZmlsbGVkLicsIHNsb3ROYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIHNsb3ROYW1lIGluIHNsb3RzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNsb3RzW3Nsb3ROYW1lXSkge1xuICAgICAgICAgICAgICAgICAgLy8gT25seSBkZWZpbmUgYSB0cmFuc2NsdXNpb24gZnVuY3Rpb24gaWYgdGhlIHNsb3Qgd2FzIGZpbGxlZFxuICAgICAgICAgICAgICAgICAgdmFyIHNsb3RDb21waWxlTm9kZXMgPSBqcUxpdGUoc2xvdHNbc2xvdE5hbWVdLmNoaWxkTm9kZXMpO1xuICAgICAgICAgICAgICAgICAgc2xvdHNbc2xvdE5hbWVdID0gY29tcGlsYXRpb25HZW5lcmF0b3IobWlnaHRIYXZlTXVsdGlwbGVUcmFuc2NsdXNpb25FcnJvciwgc2xvdENvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSBqcUxpdGUoJHRlbXBsYXRlLmNoaWxkTm9kZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkY29tcGlsZU5vZGUuZW1wdHkoKTsgLy8gY2xlYXIgY29udGVudHNcbiAgICAgICAgICAgIGNoaWxkVHJhbnNjbHVkZUZuID0gY29tcGlsYXRpb25HZW5lcmF0b3IobWlnaHRIYXZlTXVsdGlwbGVUcmFuc2NsdXNpb25FcnJvciwgJHRlbXBsYXRlLCB0cmFuc2NsdWRlRm4sIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsIHsgbmVlZHNOZXdTY29wZTogZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlIHx8IGRpcmVjdGl2ZS4kJG5ld1Njb3BlfSk7XG4gICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbi4kJHNsb3RzID0gc2xvdHM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpcmVjdGl2ZS50ZW1wbGF0ZSkge1xuICAgICAgICAgIGhhc1RlbXBsYXRlID0gdHJ1ZTtcbiAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgndGVtcGxhdGUnLCB0ZW1wbGF0ZURpcmVjdGl2ZSwgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xuICAgICAgICAgIHRlbXBsYXRlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xuXG4gICAgICAgICAgZGlyZWN0aXZlVmFsdWUgPSAoaXNGdW5jdGlvbihkaXJlY3RpdmUudGVtcGxhdGUpKVxuICAgICAgICAgICAgICA/IGRpcmVjdGl2ZS50ZW1wbGF0ZSgkY29tcGlsZU5vZGUsIHRlbXBsYXRlQXR0cnMpXG4gICAgICAgICAgICAgIDogZGlyZWN0aXZlLnRlbXBsYXRlO1xuXG4gICAgICAgICAgZGlyZWN0aXZlVmFsdWUgPSBkZW5vcm1hbGl6ZVRlbXBsYXRlKGRpcmVjdGl2ZVZhbHVlKTtcblxuICAgICAgICAgIGlmIChkaXJlY3RpdmUucmVwbGFjZSkge1xuICAgICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgICAgIGlmIChqcUxpdGVJc1RleHROb2RlKGRpcmVjdGl2ZVZhbHVlKSkge1xuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSBbXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IHJlbW92ZUNvbW1lbnRzKHdyYXBUZW1wbGF0ZShkaXJlY3RpdmUudGVtcGxhdGVOYW1lc3BhY2UsIHRyaW0oZGlyZWN0aXZlVmFsdWUpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21waWxlTm9kZSA9ICR0ZW1wbGF0ZVswXTtcblxuICAgICAgICAgICAgaWYgKCR0ZW1wbGF0ZS5sZW5ndGggIT09IDEgfHwgY29tcGlsZU5vZGUubm9kZVR5cGUgIT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCd0cGxydCcsXG4gICAgICAgICAgICAgICAgICAnVGVtcGxhdGUgZm9yIGRpcmVjdGl2ZSBcXCd7MH1cXCcgbXVzdCBoYXZlIGV4YWN0bHkgb25lIHJvb3QgZWxlbWVudC4gezF9JyxcbiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZU5hbWUsICcnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVwbGFjZVdpdGgoanFDb2xsZWN0aW9uLCAkY29tcGlsZU5vZGUsIGNvbXBpbGVOb2RlKTtcblxuICAgICAgICAgICAgdmFyIG5ld1RlbXBsYXRlQXR0cnMgPSB7JGF0dHI6IHt9fTtcblxuICAgICAgICAgICAgLy8gY29tYmluZSBkaXJlY3RpdmVzIGZyb20gdGhlIG9yaWdpbmFsIG5vZGUgYW5kIGZyb20gdGhlIHRlbXBsYXRlOlxuICAgICAgICAgICAgLy8gLSB0YWtlIHRoZSBhcnJheSBvZiBkaXJlY3RpdmVzIGZvciB0aGlzIGVsZW1lbnRcbiAgICAgICAgICAgIC8vIC0gc3BsaXQgaXQgaW50byB0d28gcGFydHMsIHRob3NlIHRoYXQgYWxyZWFkeSBhcHBsaWVkIChwcm9jZXNzZWQpIGFuZCB0aG9zZSB0aGF0IHdlcmVuJ3QgKHVucHJvY2Vzc2VkKVxuICAgICAgICAgICAgLy8gLSBjb2xsZWN0IGRpcmVjdGl2ZXMgZnJvbSB0aGUgdGVtcGxhdGUgYW5kIHNvcnQgdGhlbSBieSBwcmlvcml0eVxuICAgICAgICAgICAgLy8gLSBjb21iaW5lIGRpcmVjdGl2ZXMgYXM6IHByb2Nlc3NlZCArIHRlbXBsYXRlICsgdW5wcm9jZXNzZWRcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZURpcmVjdGl2ZXMgPSBjb2xsZWN0RGlyZWN0aXZlcyhjb21waWxlTm9kZSwgW10sIG5ld1RlbXBsYXRlQXR0cnMpO1xuICAgICAgICAgICAgdmFyIHVucHJvY2Vzc2VkRGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXMuc3BsaWNlKGkgKyAxLCBkaXJlY3RpdmVzLmxlbmd0aCAtIChpICsgMSkpO1xuXG4gICAgICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIHx8IG5ld1Njb3BlRGlyZWN0aXZlKSB7XG4gICAgICAgICAgICAgIC8vIFRoZSBvcmlnaW5hbCBkaXJlY3RpdmUgY2F1c2VkIHRoZSBjdXJyZW50IGVsZW1lbnQgdG8gYmUgcmVwbGFjZWQgYnV0IHRoaXMgZWxlbWVudFxuICAgICAgICAgICAgICAvLyBhbHNvIG5lZWRzIHRvIGhhdmUgYSBuZXcgc2NvcGUsIHNvIHdlIG5lZWQgdG8gdGVsbCB0aGUgdGVtcGxhdGUgZGlyZWN0aXZlc1xuICAgICAgICAgICAgICAvLyB0aGF0IHRoZXkgd291bGQgbmVlZCB0byBnZXQgdGhlaXIgc2NvcGUgZnJvbSBmdXJ0aGVyIHVwLCBpZiB0aGV5IHJlcXVpcmUgdHJhbnNjbHVzaW9uXG4gICAgICAgICAgICAgIG1hcmtEaXJlY3RpdmVTY29wZSh0ZW1wbGF0ZURpcmVjdGl2ZXMsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSwgbmV3U2NvcGVEaXJlY3RpdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXMuY29uY2F0KHRlbXBsYXRlRGlyZWN0aXZlcykuY29uY2F0KHVucHJvY2Vzc2VkRGlyZWN0aXZlcyk7XG4gICAgICAgICAgICBtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyh0ZW1wbGF0ZUF0dHJzLCBuZXdUZW1wbGF0ZUF0dHJzKTtcblxuICAgICAgICAgICAgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJGNvbXBpbGVOb2RlLmh0bWwoZGlyZWN0aXZlVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmUudGVtcGxhdGVVcmwpIHtcbiAgICAgICAgICBoYXNUZW1wbGF0ZSA9IHRydWU7XG4gICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ3RlbXBsYXRlJywgdGVtcGxhdGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcblxuICAgICAgICAgIGlmIChkaXJlY3RpdmUucmVwbGFjZSkge1xuICAgICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZnVuYy1hc3NpZ25cbiAgICAgICAgICBub2RlTGlua0ZuID0gY29tcGlsZVRlbXBsYXRlVXJsKGRpcmVjdGl2ZXMuc3BsaWNlKGksIGRpcmVjdGl2ZXMubGVuZ3RoIC0gaSksICRjb21waWxlTm9kZSxcbiAgICAgICAgICAgICAgdGVtcGxhdGVBdHRycywganFDb2xsZWN0aW9uLCBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlICYmIGNoaWxkVHJhbnNjbHVkZUZuLCBwcmVMaW5rRm5zLCBwb3N0TGlua0Zucywge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzOiBjb250cm9sbGVyRGlyZWN0aXZlcyxcbiAgICAgICAgICAgICAgICBuZXdTY29wZURpcmVjdGl2ZTogKG5ld1Njb3BlRGlyZWN0aXZlICE9PSBkaXJlY3RpdmUpICYmIG5ld1Njb3BlRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZTogbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlRGlyZWN0aXZlOiB0ZW1wbGF0ZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlOiBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aXZlLmNvbXBpbGUpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGlua0ZuID0gZGlyZWN0aXZlLmNvbXBpbGUoJGNvbXBpbGVOb2RlLCB0ZW1wbGF0ZUF0dHJzLCBjaGlsZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IGRpcmVjdGl2ZS4kJG9yaWdpbmFsRGlyZWN0aXZlIHx8IGRpcmVjdGl2ZTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGxpbmtGbikpIHtcbiAgICAgICAgICAgICAgYWRkTGlua0ZucyhudWxsLCBiaW5kKGNvbnRleHQsIGxpbmtGbiksIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmtGbikge1xuICAgICAgICAgICAgICBhZGRMaW5rRm5zKGJpbmQoY29udGV4dCwgbGlua0ZuLnByZSksIGJpbmQoY29udGV4dCwgbGlua0ZuLnBvc3QpLCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUsIHN0YXJ0aW5nVGFnKCRjb21waWxlTm9kZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmUudGVybWluYWwpIHtcbiAgICAgICAgICBub2RlTGlua0ZuLnRlcm1pbmFsID0gdHJ1ZTtcbiAgICAgICAgICB0ZXJtaW5hbFByaW9yaXR5ID0gTWF0aC5tYXgodGVybWluYWxQcmlvcml0eSwgZGlyZWN0aXZlLnByaW9yaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICAgIG5vZGVMaW5rRm4uc2NvcGUgPSBuZXdTY29wZURpcmVjdGl2ZSAmJiBuZXdTY29wZURpcmVjdGl2ZS5zY29wZSA9PT0gdHJ1ZTtcbiAgICAgIG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQgPSBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlO1xuICAgICAgbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQgPSBoYXNUZW1wbGF0ZTtcbiAgICAgIG5vZGVMaW5rRm4udHJhbnNjbHVkZSA9IGNoaWxkVHJhbnNjbHVkZUZuO1xuXG4gICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID0gaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU7XG5cbiAgICAgIC8vIG1pZ2h0IGJlIG5vcm1hbCBvciBkZWxheWVkIG5vZGVMaW5rRm4gZGVwZW5kaW5nIG9uIGlmIHRlbXBsYXRlVXJsIGlzIHByZXNlbnRcbiAgICAgIHJldHVybiBub2RlTGlua0ZuO1xuXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICBmdW5jdGlvbiBhZGRMaW5rRm5zKHByZSwgcG9zdCwgYXR0clN0YXJ0LCBhdHRyRW5kKSB7XG4gICAgICAgIGlmIChwcmUpIHtcbiAgICAgICAgICBpZiAoYXR0clN0YXJ0KSBwcmUgPSBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihwcmUsIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgICAgcHJlLnJlcXVpcmUgPSBkaXJlY3RpdmUucmVxdWlyZTtcbiAgICAgICAgICBwcmUuZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5hbWU7XG4gICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9PT0gZGlyZWN0aXZlIHx8IGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSkge1xuICAgICAgICAgICAgcHJlID0gY2xvbmVBbmRBbm5vdGF0ZUZuKHByZSwge2lzb2xhdGVTY29wZTogdHJ1ZX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmVMaW5rRm5zLnB1c2gocHJlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zdCkge1xuICAgICAgICAgIGlmIChhdHRyU3RhcnQpIHBvc3QgPSBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihwb3N0LCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xuICAgICAgICAgIHBvc3QucmVxdWlyZSA9IGRpcmVjdGl2ZS5yZXF1aXJlO1xuICAgICAgICAgIHBvc3QuZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5hbWU7XG4gICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9PT0gZGlyZWN0aXZlIHx8IGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSkge1xuICAgICAgICAgICAgcG9zdCA9IGNsb25lQW5kQW5ub3RhdGVGbihwb3N0LCB7aXNvbGF0ZVNjb3BlOiB0cnVlfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBvc3RMaW5rRm5zLnB1c2gocG9zdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbm9kZUxpbmtGbihjaGlsZExpbmtGbiwgc2NvcGUsIGxpbmtOb2RlLCAkcm9vdEVsZW1lbnQsIGJvdW5kVHJhbnNjbHVkZUZuKSB7XG4gICAgICAgIHZhciBpLCBpaSwgbGlua0ZuLCBpc29sYXRlU2NvcGUsIGNvbnRyb2xsZXJTY29wZSwgZWxlbWVudENvbnRyb2xsZXJzLCB0cmFuc2NsdWRlRm4sICRlbGVtZW50LFxuICAgICAgICAgICAgYXR0cnMsIHNjb3BlQmluZGluZ0luZm87XG5cbiAgICAgICAgaWYgKGNvbXBpbGVOb2RlID09PSBsaW5rTm9kZSkge1xuICAgICAgICAgIGF0dHJzID0gdGVtcGxhdGVBdHRycztcbiAgICAgICAgICAkZWxlbWVudCA9IHRlbXBsYXRlQXR0cnMuJCRlbGVtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRlbGVtZW50ID0ganFMaXRlKGxpbmtOb2RlKTtcbiAgICAgICAgICBhdHRycyA9IG5ldyBBdHRyaWJ1dGVzKCRlbGVtZW50LCB0ZW1wbGF0ZUF0dHJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRyb2xsZXJTY29wZSA9IHNjb3BlO1xuICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKSB7XG4gICAgICAgICAgaXNvbGF0ZVNjb3BlID0gc2NvcGUuJG5ldyh0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChuZXdTY29wZURpcmVjdGl2ZSkge1xuICAgICAgICAgIGNvbnRyb2xsZXJTY29wZSA9IHNjb3BlLiRwYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYm91bmRUcmFuc2NsdWRlRm4pIHtcbiAgICAgICAgICAvLyB0cmFjayBgYm91bmRUcmFuc2NsdWRlRm5gIHNvIGl0IGNhbiBiZSB1bndyYXBwZWQgaWYgYHRyYW5zY2x1ZGVGbmBcbiAgICAgICAgICAvLyBpcyBsYXRlciBwYXNzZWQgYXMgYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCB0byBgcHVibGljTGlua0ZuYFxuICAgICAgICAgIHRyYW5zY2x1ZGVGbiA9IGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlO1xuICAgICAgICAgIHRyYW5zY2x1ZGVGbi4kJGJvdW5kVHJhbnNjbHVkZSA9IGJvdW5kVHJhbnNjbHVkZUZuO1xuICAgICAgICAgIC8vIGV4cG9zZSB0aGUgc2xvdHMgb24gdGhlIGAkdHJhbnNjbHVkZWAgZnVuY3Rpb25cbiAgICAgICAgICB0cmFuc2NsdWRlRm4uaXNTbG90RmlsbGVkID0gZnVuY3Rpb24oc2xvdE5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiAhIWJvdW5kVHJhbnNjbHVkZUZuLiQkc2xvdHNbc2xvdE5hbWVdO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udHJvbGxlckRpcmVjdGl2ZXMpIHtcbiAgICAgICAgICBlbGVtZW50Q29udHJvbGxlcnMgPSBzZXR1cENvbnRyb2xsZXJzKCRlbGVtZW50LCBhdHRycywgdHJhbnNjbHVkZUZuLCBjb250cm9sbGVyRGlyZWN0aXZlcywgaXNvbGF0ZVNjb3BlLCBzY29wZSwgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUpIHtcbiAgICAgICAgICAvLyBJbml0aWFsaXplIGlzb2xhdGUgc2NvcGUgYmluZGluZ3MgZm9yIG5ldyBpc29sYXRlIHNjb3BlIGRpcmVjdGl2ZS5cbiAgICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVJbmZvKCRlbGVtZW50LCBpc29sYXRlU2NvcGUsIHRydWUsICEodGVtcGxhdGVEaXJlY3RpdmUgJiYgKHRlbXBsYXRlRGlyZWN0aXZlID09PSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgfHxcbiAgICAgICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS4kJG9yaWdpbmFsRGlyZWN0aXZlKSkpO1xuICAgICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzKCRlbGVtZW50LCB0cnVlKTtcbiAgICAgICAgICBpc29sYXRlU2NvcGUuJCRpc29sYXRlQmluZGluZ3MgPVxuICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUuJCRpc29sYXRlQmluZGluZ3M7XG4gICAgICAgICAgc2NvcGVCaW5kaW5nSW5mbyA9IGluaXRpYWxpemVEaXJlY3RpdmVCaW5kaW5ncyhzY29wZSwgYXR0cnMsIGlzb2xhdGVTY29wZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc29sYXRlU2NvcGUuJCRpc29sYXRlQmluZGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKTtcbiAgICAgICAgICBpZiAoc2NvcGVCaW5kaW5nSW5mby5yZW1vdmVXYXRjaGVzKSB7XG4gICAgICAgICAgICBpc29sYXRlU2NvcGUuJG9uKCckZGVzdHJveScsIHNjb3BlQmluZGluZ0luZm8ucmVtb3ZlV2F0Y2hlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBiaW5kVG9Db250cm9sbGVyIGJpbmRpbmdzXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gZWxlbWVudENvbnRyb2xsZXJzKSB7XG4gICAgICAgICAgdmFyIGNvbnRyb2xsZXJEaXJlY3RpdmUgPSBjb250cm9sbGVyRGlyZWN0aXZlc1tuYW1lXTtcbiAgICAgICAgICB2YXIgY29udHJvbGxlciA9IGVsZW1lbnRDb250cm9sbGVyc1tuYW1lXTtcbiAgICAgICAgICB2YXIgYmluZGluZ3MgPSBjb250cm9sbGVyRGlyZWN0aXZlLiQkYmluZGluZ3MuYmluZFRvQ29udHJvbGxlcjtcblxuICAgICAgICAgIGNvbnRyb2xsZXIuaW5zdGFuY2UgPSBjb250cm9sbGVyKCk7XG4gICAgICAgICAgJGVsZW1lbnQuZGF0YSgnJCcgKyBjb250cm9sbGVyRGlyZWN0aXZlLm5hbWUgKyAnQ29udHJvbGxlcicsIGNvbnRyb2xsZXIuaW5zdGFuY2UpO1xuICAgICAgICAgIGNvbnRyb2xsZXIuYmluZGluZ0luZm8gPVxuICAgICAgICAgICAgaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzKGNvbnRyb2xsZXJTY29wZSwgYXR0cnMsIGNvbnRyb2xsZXIuaW5zdGFuY2UsIGJpbmRpbmdzLCBjb250cm9sbGVyRGlyZWN0aXZlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgLy8gQmluZCB0aGUgcmVxdWlyZWQgY29udHJvbGxlcnMgdG8gdGhlIGNvbnRyb2xsZXIsIGlmIGByZXF1aXJlYCBpcyBhbiBvYmplY3QgYW5kIGBiaW5kVG9Db250cm9sbGVyYCBpcyB0cnV0aHlcbiAgICAgICAgZm9yRWFjaChjb250cm9sbGVyRGlyZWN0aXZlcywgZnVuY3Rpb24oY29udHJvbGxlckRpcmVjdGl2ZSwgbmFtZSkge1xuICAgICAgICAgIHZhciByZXF1aXJlID0gY29udHJvbGxlckRpcmVjdGl2ZS5yZXF1aXJlO1xuICAgICAgICAgIGlmIChjb250cm9sbGVyRGlyZWN0aXZlLmJpbmRUb0NvbnRyb2xsZXIgJiYgIWlzQXJyYXkocmVxdWlyZSkgJiYgaXNPYmplY3QocmVxdWlyZSkpIHtcbiAgICAgICAgICAgIGV4dGVuZChlbGVtZW50Q29udHJvbGxlcnNbbmFtZV0uaW5zdGFuY2UsIGdldENvbnRyb2xsZXJzKG5hbWUsIHJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEhhbmRsZSB0aGUgaW5pdCBhbmQgZGVzdHJveSBsaWZlY3ljbGUgaG9va3Mgb24gYWxsIGNvbnRyb2xsZXJzIHRoYXQgaGF2ZSB0aGVtXG4gICAgICAgIGZvckVhY2goZWxlbWVudENvbnRyb2xsZXJzLCBmdW5jdGlvbihjb250cm9sbGVyKSB7XG4gICAgICAgICAgdmFyIGNvbnRyb2xsZXJJbnN0YW5jZSA9IGNvbnRyb2xsZXIuaW5zdGFuY2U7XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udHJvbGxlckluc3RhbmNlLiRvbkNoYW5nZXMpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb250cm9sbGVySW5zdGFuY2UuJG9uQ2hhbmdlcyhjb250cm9sbGVyLmJpbmRpbmdJbmZvLmluaXRpYWxDaGFuZ2VzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS4kb25Jbml0KSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlckluc3RhbmNlLiRvbkluaXQoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS4kZG9DaGVjaykpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXJTY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7IGNvbnRyb2xsZXJJbnN0YW5jZS4kZG9DaGVjaygpOyB9KTtcbiAgICAgICAgICAgIGNvbnRyb2xsZXJJbnN0YW5jZS4kZG9DaGVjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250cm9sbGVySW5zdGFuY2UuJG9uRGVzdHJveSkpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXJTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gY2FsbE9uRGVzdHJveUhvb2soKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJJbnN0YW5jZS4kb25EZXN0cm95KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFBSRUxJTktJTkdcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBwcmVMaW5rRm5zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICBsaW5rRm4gPSBwcmVMaW5rRm5zW2ldO1xuICAgICAgICAgIGludm9rZUxpbmtGbihsaW5rRm4sXG4gICAgICAgICAgICAgIGxpbmtGbi5pc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcbiAgICAgICAgICAgICAgJGVsZW1lbnQsXG4gICAgICAgICAgICAgIGF0dHJzLFxuICAgICAgICAgICAgICBsaW5rRm4ucmVxdWlyZSAmJiBnZXRDb250cm9sbGVycyhsaW5rRm4uZGlyZWN0aXZlTmFtZSwgbGlua0ZuLnJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpLFxuICAgICAgICAgICAgICB0cmFuc2NsdWRlRm5cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUkVDVVJTSU9OXG4gICAgICAgIC8vIFdlIG9ubHkgcGFzcyB0aGUgaXNvbGF0ZSBzY29wZSwgaWYgdGhlIGlzb2xhdGUgZGlyZWN0aXZlIGhhcyBhIHRlbXBsYXRlLFxuICAgICAgICAvLyBvdGhlcndpc2UgdGhlIGNoaWxkIGVsZW1lbnRzIGRvIG5vdCBiZWxvbmcgdG8gdGhlIGlzb2xhdGUgZGlyZWN0aXZlLlxuICAgICAgICB2YXIgc2NvcGVUb0NoaWxkID0gc2NvcGU7XG4gICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgJiYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS50ZW1wbGF0ZSB8fCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUudGVtcGxhdGVVcmwgPT09IG51bGwpKSB7XG4gICAgICAgICAgc2NvcGVUb0NoaWxkID0gaXNvbGF0ZVNjb3BlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZExpbmtGbikge1xuICAgICAgICAgIGNoaWxkTGlua0ZuKHNjb3BlVG9DaGlsZCwgbGlua05vZGUuY2hpbGROb2RlcywgdW5kZWZpbmVkLCBib3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQT1NUTElOS0lOR1xuICAgICAgICBmb3IgKGkgPSBwb3N0TGlua0Zucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGxpbmtGbiA9IHBvc3RMaW5rRm5zW2ldO1xuICAgICAgICAgIGludm9rZUxpbmtGbihsaW5rRm4sXG4gICAgICAgICAgICAgIGxpbmtGbi5pc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcbiAgICAgICAgICAgICAgJGVsZW1lbnQsXG4gICAgICAgICAgICAgIGF0dHJzLFxuICAgICAgICAgICAgICBsaW5rRm4ucmVxdWlyZSAmJiBnZXRDb250cm9sbGVycyhsaW5rRm4uZGlyZWN0aXZlTmFtZSwgbGlua0ZuLnJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpLFxuICAgICAgICAgICAgICB0cmFuc2NsdWRlRm5cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVHJpZ2dlciAkcG9zdExpbmsgbGlmZWN5Y2xlIGhvb2tzXG4gICAgICAgIGZvckVhY2goZWxlbWVudENvbnRyb2xsZXJzLCBmdW5jdGlvbihjb250cm9sbGVyKSB7XG4gICAgICAgICAgdmFyIGNvbnRyb2xsZXJJbnN0YW5jZSA9IGNvbnRyb2xsZXIuaW5zdGFuY2U7XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udHJvbGxlckluc3RhbmNlLiRwb3N0TGluaykpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXJJbnN0YW5jZS4kcG9zdExpbmsoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIGZ1bmN0aW9uIHRoYXQgaXMgaW5qZWN0ZWQgYXMgYCR0cmFuc2NsdWRlYC5cbiAgICAgICAgLy8gTm90ZTogYWxsIGFyZ3VtZW50cyBhcmUgb3B0aW9uYWwhXG4gICAgICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlKHNjb3BlLCBjbG9uZUF0dGFjaEZuLCBmdXR1cmVQYXJlbnRFbGVtZW50LCBzbG90TmFtZSkge1xuICAgICAgICAgIHZhciB0cmFuc2NsdWRlQ29udHJvbGxlcnM7XG4gICAgICAgICAgLy8gTm8gc2NvcGUgcGFzc2VkIGluOlxuICAgICAgICAgIGlmICghaXNTY29wZShzY29wZSkpIHtcbiAgICAgICAgICAgIHNsb3ROYW1lID0gZnV0dXJlUGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGZ1dHVyZVBhcmVudEVsZW1lbnQgPSBjbG9uZUF0dGFjaEZuO1xuICAgICAgICAgICAgY2xvbmVBdHRhY2hGbiA9IHNjb3BlO1xuICAgICAgICAgICAgc2NvcGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlKSB7XG4gICAgICAgICAgICB0cmFuc2NsdWRlQ29udHJvbGxlcnMgPSBlbGVtZW50Q29udHJvbGxlcnM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZnV0dXJlUGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudCA9IGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID8gJGVsZW1lbnQucGFyZW50KCkgOiAkZWxlbWVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNsb3ROYW1lKSB7XG4gICAgICAgICAgICAvLyBzbG90VHJhbnNjbHVkZUZuIGNhbiBiZSBvbmUgb2YgdGhyZWUgdGhpbmdzOlxuICAgICAgICAgICAgLy8gICogYSB0cmFuc2NsdWRlIGZ1bmN0aW9uIC0gYSBmaWxsZWQgc2xvdFxuICAgICAgICAgICAgLy8gICogYG51bGxgIC0gYW4gb3B0aW9uYWwgc2xvdCB0aGF0IHdhcyBub3QgZmlsbGVkXG4gICAgICAgICAgICAvLyAgKiBgdW5kZWZpbmVkYCAtIGEgc2xvdCB0aGF0IHdhcyBub3QgZGVjbGFyZWQgKGkuZS4gaW52YWxpZClcbiAgICAgICAgICAgIHZhciBzbG90VHJhbnNjbHVkZUZuID0gYm91bmRUcmFuc2NsdWRlRm4uJCRzbG90c1tzbG90TmFtZV07XG4gICAgICAgICAgICBpZiAoc2xvdFRyYW5zY2x1ZGVGbikge1xuICAgICAgICAgICAgICByZXR1cm4gc2xvdFRyYW5zY2x1ZGVGbihzY29wZSwgY2xvbmVBdHRhY2hGbiwgdHJhbnNjbHVkZUNvbnRyb2xsZXJzLCBmdXR1cmVQYXJlbnRFbGVtZW50LCBzY29wZVRvQ2hpbGQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1VuZGVmaW5lZChzbG90VHJhbnNjbHVkZUZuKSkge1xuICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9zbG90JyxcbiAgICAgICAgICAgICAgICdObyBwYXJlbnQgZGlyZWN0aXZlIHRoYXQgcmVxdWlyZXMgYSB0cmFuc2NsdXNpb24gd2l0aCBzbG90IG5hbWUgXCJ7MH1cIi4gJyArXG4gICAgICAgICAgICAgICAnRWxlbWVudDogezF9JyxcbiAgICAgICAgICAgICAgIHNsb3ROYW1lLCBzdGFydGluZ1RhZygkZWxlbWVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGNsb25lQXR0YWNoRm4sIHRyYW5zY2x1ZGVDb250cm9sbGVycywgZnV0dXJlUGFyZW50RWxlbWVudCwgc2NvcGVUb0NoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRDb250cm9sbGVycyhkaXJlY3RpdmVOYW1lLCByZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSB7XG4gICAgICB2YXIgdmFsdWU7XG5cbiAgICAgIGlmIChpc1N0cmluZyhyZXF1aXJlKSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSByZXF1aXJlLm1hdGNoKFJFUVVJUkVfUFJFRklYX1JFR0VYUCk7XG4gICAgICAgIHZhciBuYW1lID0gcmVxdWlyZS5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgdmFyIGluaGVyaXRUeXBlID0gbWF0Y2hbMV0gfHwgbWF0Y2hbM107XG4gICAgICAgIHZhciBvcHRpb25hbCA9IG1hdGNoWzJdID09PSAnPyc7XG5cbiAgICAgICAgLy9JZiBvbmx5IHBhcmVudHMgdGhlbiBzdGFydCBhdCB0aGUgcGFyZW50IGVsZW1lbnRcbiAgICAgICAgaWYgKGluaGVyaXRUeXBlID09PSAnXl4nKSB7XG4gICAgICAgICAgJGVsZW1lbnQgPSAkZWxlbWVudC5wYXJlbnQoKTtcbiAgICAgICAgLy9PdGhlcndpc2UgYXR0ZW1wdCBnZXR0aW5nIHRoZSBjb250cm9sbGVyIGZyb20gZWxlbWVudENvbnRyb2xsZXJzIGluIGNhc2VcbiAgICAgICAgLy90aGUgZWxlbWVudCBpcyB0cmFuc2NsdWRlZCAoYW5kIGhhcyBubyBkYXRhKSBhbmQgdG8gYXZvaWQgLmRhdGEgaWYgcG9zc2libGVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IGVsZW1lbnRDb250cm9sbGVycyAmJiBlbGVtZW50Q29udHJvbGxlcnNbbmFtZV07XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZSAmJiB2YWx1ZS5pbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICB2YXIgZGF0YU5hbWUgPSAnJCcgKyBuYW1lICsgJ0NvbnRyb2xsZXInO1xuXG4gICAgICAgICAgaWYgKGluaGVyaXRUeXBlID09PSAnXl4nICYmICRlbGVtZW50WzBdICYmICRlbGVtZW50WzBdLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRE9DVU1FTlQpIHtcbiAgICAgICAgICAgIC8vIGluaGVyaXRlZERhdGEoKSB1c2VzIHRoZSBkb2N1bWVudEVsZW1lbnQgd2hlbiBpdCBmaW5kcyB0aGUgZG9jdW1lbnQsIHNvIHdlIHdvdWxkXG4gICAgICAgICAgICAvLyByZXF1aXJlIGZyb20gdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGluaGVyaXRUeXBlID8gJGVsZW1lbnQuaW5oZXJpdGVkRGF0YShkYXRhTmFtZSkgOiAkZWxlbWVudC5kYXRhKGRhdGFOYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXZhbHVlICYmICFvcHRpb25hbCkge1xuICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdjdHJlcScsXG4gICAgICAgICAgICAgICdDb250cm9sbGVyIFxcJ3swfVxcJywgcmVxdWlyZWQgYnkgZGlyZWN0aXZlIFxcJ3sxfVxcJywgY2FuXFwndCBiZSBmb3VuZCEnLFxuICAgICAgICAgICAgICBuYW1lLCBkaXJlY3RpdmVOYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHJlcXVpcmUpKSB7XG4gICAgICAgIHZhbHVlID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHJlcXVpcmUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgIHZhbHVlW2ldID0gZ2V0Q29udHJvbGxlcnMoZGlyZWN0aXZlTmFtZSwgcmVxdWlyZVtpXSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QocmVxdWlyZSkpIHtcbiAgICAgICAgdmFsdWUgPSB7fTtcbiAgICAgICAgZm9yRWFjaChyZXF1aXJlLCBmdW5jdGlvbihjb250cm9sbGVyLCBwcm9wZXJ0eSkge1xuICAgICAgICAgIHZhbHVlW3Byb3BlcnR5XSA9IGdldENvbnRyb2xsZXJzKGRpcmVjdGl2ZU5hbWUsIGNvbnRyb2xsZXIsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlIHx8IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0dXBDb250cm9sbGVycygkZWxlbWVudCwgYXR0cnMsIHRyYW5zY2x1ZGVGbiwgY29udHJvbGxlckRpcmVjdGl2ZXMsIGlzb2xhdGVTY29wZSwgc2NvcGUsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSkge1xuICAgICAgdmFyIGVsZW1lbnRDb250cm9sbGVycyA9IGNyZWF0ZU1hcCgpO1xuICAgICAgZm9yICh2YXIgY29udHJvbGxlcktleSBpbiBjb250cm9sbGVyRGlyZWN0aXZlcykge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0gY29udHJvbGxlckRpcmVjdGl2ZXNbY29udHJvbGxlcktleV07XG4gICAgICAgIHZhciBsb2NhbHMgPSB7XG4gICAgICAgICAgJHNjb3BlOiBkaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcbiAgICAgICAgICAkZWxlbWVudDogJGVsZW1lbnQsXG4gICAgICAgICAgJGF0dHJzOiBhdHRycyxcbiAgICAgICAgICAkdHJhbnNjbHVkZTogdHJhbnNjbHVkZUZuXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBkaXJlY3RpdmUuY29udHJvbGxlcjtcbiAgICAgICAgaWYgKGNvbnRyb2xsZXIgPT09ICdAJykge1xuICAgICAgICAgIGNvbnRyb2xsZXIgPSBhdHRyc1tkaXJlY3RpdmUubmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29udHJvbGxlckluc3RhbmNlID0gJGNvbnRyb2xsZXIoY29udHJvbGxlciwgbG9jYWxzLCB0cnVlLCBkaXJlY3RpdmUuY29udHJvbGxlckFzKTtcblxuICAgICAgICAvLyBGb3IgZGlyZWN0aXZlcyB3aXRoIGVsZW1lbnQgdHJhbnNjbHVzaW9uIHRoZSBlbGVtZW50IGlzIGEgY29tbWVudC5cbiAgICAgICAgLy8gSW4gdGhpcyBjYXNlIC5kYXRhIHdpbGwgbm90IGF0dGFjaCBhbnkgZGF0YS5cbiAgICAgICAgLy8gSW5zdGVhZCwgd2Ugc2F2ZSB0aGUgY29udHJvbGxlcnMgZm9yIHRoZSBlbGVtZW50IGluIGEgbG9jYWwgaGFzaCBhbmQgYXR0YWNoIHRvIC5kYXRhXG4gICAgICAgIC8vIGxhdGVyLCBvbmNlIHdlIGhhdmUgdGhlIGFjdHVhbCBlbGVtZW50LlxuICAgICAgICBlbGVtZW50Q29udHJvbGxlcnNbZGlyZWN0aXZlLm5hbWVdID0gY29udHJvbGxlckluc3RhbmNlO1xuICAgICAgICAkZWxlbWVudC5kYXRhKCckJyArIGRpcmVjdGl2ZS5uYW1lICsgJ0NvbnRyb2xsZXInLCBjb250cm9sbGVySW5zdGFuY2UuaW5zdGFuY2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnRDb250cm9sbGVycztcbiAgICB9XG5cbiAgICAvLyBEZXBlbmRpbmcgdXBvbiB0aGUgY29udGV4dCBpbiB3aGljaCBhIGRpcmVjdGl2ZSBmaW5kcyBpdHNlbGYgaXQgbWlnaHQgbmVlZCB0byBoYXZlIGEgbmV3IGlzb2xhdGVkXG4gICAgLy8gb3IgY2hpbGQgc2NvcGUgY3JlYXRlZC4gRm9yIGluc3RhbmNlOlxuICAgIC8vICogaWYgdGhlIGRpcmVjdGl2ZSBoYXMgYmVlbiBwdWxsZWQgaW50byBhIHRlbXBsYXRlIGJlY2F1c2UgYW5vdGhlciBkaXJlY3RpdmUgd2l0aCBhIGhpZ2hlciBwcmlvcml0eVxuICAgIC8vIGFza2VkIGZvciBlbGVtZW50IHRyYW5zY2x1c2lvblxuICAgIC8vICogaWYgdGhlIGRpcmVjdGl2ZSBpdHNlbGYgYXNrcyBmb3IgdHJhbnNjbHVzaW9uIGJ1dCBpdCBpcyBhdCB0aGUgcm9vdCBvZiBhIHRlbXBsYXRlIGFuZCB0aGUgb3JpZ2luYWxcbiAgICAvLyBlbGVtZW50IHdhcyByZXBsYWNlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzEyOTM2XG4gICAgZnVuY3Rpb24gbWFya0RpcmVjdGl2ZVNjb3BlKGRpcmVjdGl2ZXMsIGlzb2xhdGVTY29wZSwgbmV3U2NvcGUpIHtcbiAgICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICBkaXJlY3RpdmVzW2pdID0gaW5oZXJpdChkaXJlY3RpdmVzW2pdLCB7JCRpc29sYXRlU2NvcGU6IGlzb2xhdGVTY29wZSwgJCRuZXdTY29wZTogbmV3U2NvcGV9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBsb29rcyB1cCB0aGUgZGlyZWN0aXZlIGFuZCBkZWNvcmF0ZXMgaXQgd2l0aCBleGNlcHRpb24gaGFuZGxpbmcgYW5kIHByb3BlciBwYXJhbWV0ZXJzLiBXZVxuICAgICAqIGNhbGwgdGhpcyB0aGUgYm91bmREaXJlY3RpdmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBkaXJlY3RpdmUgdG8gbG9vayB1cC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb24gVGhlIGRpcmVjdGl2ZSBtdXN0IGJlIGZvdW5kIGluIHNwZWNpZmljIGZvcm1hdC5cbiAgICAgKiAgIFN0cmluZyBjb250YWluaW5nIGFueSBvZiB0aGVzZXMgY2hhcmFjdGVyczpcbiAgICAgKlxuICAgICAqICAgKiBgRWA6IGVsZW1lbnQgbmFtZVxuICAgICAqICAgKiBgQSc6IGF0dHJpYnV0ZVxuICAgICAqICAgKiBgQ2A6IGNsYXNzXG4gICAgICogICAqIGBNYDogY29tbWVudFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGRpcmVjdGl2ZSB3YXMgYWRkZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkRGlyZWN0aXZlKHREaXJlY3RpdmVzLCBuYW1lLCBsb2NhdGlvbiwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgc3RhcnRBdHRyTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kQXR0ck5hbWUpIHtcbiAgICAgIGlmIChuYW1lID09PSBpZ25vcmVEaXJlY3RpdmUpIHJldHVybiBudWxsO1xuICAgICAgdmFyIG1hdGNoID0gbnVsbDtcbiAgICAgIGlmIChoYXNEaXJlY3RpdmVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGZvciAodmFyIGRpcmVjdGl2ZSwgZGlyZWN0aXZlcyA9ICRpbmplY3Rvci5nZXQobmFtZSArIFN1ZmZpeCksXG4gICAgICAgICAgICBpID0gMCwgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICBkaXJlY3RpdmUgPSBkaXJlY3RpdmVzW2ldO1xuICAgICAgICAgIGlmICgoaXNVbmRlZmluZWQobWF4UHJpb3JpdHkpIHx8IG1heFByaW9yaXR5ID4gZGlyZWN0aXZlLnByaW9yaXR5KSAmJlxuICAgICAgICAgICAgICAgZGlyZWN0aXZlLnJlc3RyaWN0LmluZGV4T2YobG9jYXRpb24pICE9PSAtMSkge1xuICAgICAgICAgICAgaWYgKHN0YXJ0QXR0ck5hbWUpIHtcbiAgICAgICAgICAgICAgZGlyZWN0aXZlID0gaW5oZXJpdChkaXJlY3RpdmUsIHskJHN0YXJ0OiBzdGFydEF0dHJOYW1lLCAkJGVuZDogZW5kQXR0ck5hbWV9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGlyZWN0aXZlLiQkYmluZGluZ3MpIHtcbiAgICAgICAgICAgICAgdmFyIGJpbmRpbmdzID0gZGlyZWN0aXZlLiQkYmluZGluZ3MgPVxuICAgICAgICAgICAgICAgICAgcGFyc2VEaXJlY3RpdmVCaW5kaW5ncyhkaXJlY3RpdmUsIGRpcmVjdGl2ZS5uYW1lKTtcbiAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGJpbmRpbmdzLmlzb2xhdGVTY29wZSkpIHtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUuJCRpc29sYXRlQmluZGluZ3MgPSBiaW5kaW5ncy5pc29sYXRlU2NvcGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHREaXJlY3RpdmVzLnB1c2goZGlyZWN0aXZlKTtcbiAgICAgICAgICAgIG1hdGNoID0gZGlyZWN0aXZlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogbG9va3MgdXAgdGhlIGRpcmVjdGl2ZSBhbmQgcmV0dXJucyB0cnVlIGlmIGl0IGlzIGEgbXVsdGktZWxlbWVudCBkaXJlY3RpdmUsXG4gICAgICogYW5kIHRoZXJlZm9yZSByZXF1aXJlcyBET00gbm9kZXMgYmV0d2VlbiAtc3RhcnQgYW5kIC1lbmQgbWFya2VycyB0byBiZSBncm91cGVkXG4gICAgICogdG9nZXRoZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBkaXJlY3RpdmUgdG8gbG9vayB1cC5cbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIGRpcmVjdGl2ZSB3YXMgcmVnaXN0ZXJlZCBhcyBtdWx0aS1lbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpcmVjdGl2ZUlzTXVsdGlFbGVtZW50KG5hbWUpIHtcbiAgICAgIGlmIChoYXNEaXJlY3RpdmVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGZvciAodmFyIGRpcmVjdGl2ZSwgZGlyZWN0aXZlcyA9ICRpbmplY3Rvci5nZXQobmFtZSArIFN1ZmZpeCksXG4gICAgICAgICAgICBpID0gMCwgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICBkaXJlY3RpdmUgPSBkaXJlY3RpdmVzW2ldO1xuICAgICAgICAgIGlmIChkaXJlY3RpdmUubXVsdGlFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBlbGVtZW50IGlzIHJlcGxhY2VkIHdpdGggSFRNTCB0ZW1wbGF0ZSB0aGVuIHRoZSBuZXcgYXR0cmlidXRlc1xuICAgICAqIG9uIHRoZSB0ZW1wbGF0ZSBuZWVkIHRvIGJlIG1lcmdlZCB3aXRoIHRoZSBleGlzdGluZyBhdHRyaWJ1dGVzIGluIHRoZSBET00uXG4gICAgICogVGhlIGRlc2lyZWQgZWZmZWN0IGlzIHRvIGhhdmUgYm90aCBvZiB0aGUgYXR0cmlidXRlcyBwcmVzZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGRzdCBkZXN0aW5hdGlvbiBhdHRyaWJ1dGVzIChvcmlnaW5hbCBET00pXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNyYyBzb3VyY2UgYXR0cmlidXRlcyAoZnJvbSB0aGUgZGlyZWN0aXZlIHRlbXBsYXRlKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKGRzdCwgc3JjKSB7XG4gICAgICB2YXIgc3JjQXR0ciA9IHNyYy4kYXR0cixcbiAgICAgICAgICBkc3RBdHRyID0gZHN0LiRhdHRyO1xuXG4gICAgICAvLyByZWFwcGx5IHRoZSBvbGQgYXR0cmlidXRlcyB0byB0aGUgbmV3IGVsZW1lbnRcbiAgICAgIGZvckVhY2goZHN0LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChrZXkuY2hhckF0KDApICE9PSAnJCcpIHtcbiAgICAgICAgICBpZiAoc3JjW2tleV0gJiYgc3JjW2tleV0gIT09IHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHZhbHVlICs9IChrZXkgPT09ICdzdHlsZScgPyAnOycgOiAnICcpICsgc3JjW2tleV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHNyY1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBkc3QuJHNldChrZXksIHZhbHVlLCB0cnVlLCBzcmNBdHRyW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gY29weSB0aGUgbmV3IGF0dHJpYnV0ZXMgb24gdGhlIG9sZCBhdHRycyBvYmplY3RcbiAgICAgIGZvckVhY2goc3JjLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgc2V0IHRoaXMgYXR0cmlidXRlIGluIHRoZSBsb29wIGFib3ZlLlxuICAgICAgICAvLyBgZHN0YCB3aWxsIG5ldmVyIGNvbnRhaW4gaGFzT3duUHJvcGVydHkgYXMgRE9NIHBhcnNlciB3b24ndCBsZXQgaXQuXG4gICAgICAgIC8vIFlvdSB3aWxsIGdldCBhbiBcIkludmFsaWRDaGFyYWN0ZXJFcnJvcjogRE9NIEV4Y2VwdGlvbiA1XCIgZXJyb3IgaWYgeW91XG4gICAgICAgIC8vIGhhdmUgYW4gYXR0cmlidXRlIGxpa2UgXCJoYXMtb3duLXByb3BlcnR5XCIgb3IgXCJkYXRhLWhhcy1vd24tcHJvcGVydHlcIiwgZXRjLlxuICAgICAgICBpZiAoIWRzdC5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGtleS5jaGFyQXQoMCkgIT09ICckJykge1xuICAgICAgICAgIGRzdFtrZXldID0gdmFsdWU7XG5cbiAgICAgICAgICBpZiAoa2V5ICE9PSAnY2xhc3MnICYmIGtleSAhPT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgZHN0QXR0cltrZXldID0gc3JjQXR0cltrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjb21waWxlVGVtcGxhdGVVcmwoZGlyZWN0aXZlcywgJGNvbXBpbGVOb2RlLCB0QXR0cnMsXG4gICAgICAgICRyb290RWxlbWVudCwgY2hpbGRUcmFuc2NsdWRlRm4sIHByZUxpbmtGbnMsIHBvc3RMaW5rRm5zLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSB7XG4gICAgICB2YXIgbGlua1F1ZXVlID0gW10sXG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4sXG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuLFxuICAgICAgICAgIGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUgPSAkY29tcGlsZU5vZGVbMF0sXG4gICAgICAgICAgb3JpZ0FzeW5jRGlyZWN0aXZlID0gZGlyZWN0aXZlcy5zaGlmdCgpLFxuICAgICAgICAgIGRlcml2ZWRTeW5jRGlyZWN0aXZlID0gaW5oZXJpdChvcmlnQXN5bmNEaXJlY3RpdmUsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBudWxsLCB0cmFuc2NsdWRlOiBudWxsLCByZXBsYWNlOiBudWxsLCAkJG9yaWdpbmFsRGlyZWN0aXZlOiBvcmlnQXN5bmNEaXJlY3RpdmVcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB0ZW1wbGF0ZVVybCA9IChpc0Z1bmN0aW9uKG9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZVVybCkpXG4gICAgICAgICAgICAgID8gb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsKCRjb21waWxlTm9kZSwgdEF0dHJzKVxuICAgICAgICAgICAgICA6IG9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZVVybCxcbiAgICAgICAgICB0ZW1wbGF0ZU5hbWVzcGFjZSA9IG9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZU5hbWVzcGFjZTtcblxuICAgICAgJGNvbXBpbGVOb2RlLmVtcHR5KCk7XG5cbiAgICAgICR0ZW1wbGF0ZVJlcXVlc3QodGVtcGxhdGVVcmwpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICAgICAgICB2YXIgY29tcGlsZU5vZGUsIHRlbXBUZW1wbGF0ZUF0dHJzLCAkdGVtcGxhdGUsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm47XG5cbiAgICAgICAgICBjb250ZW50ID0gZGVub3JtYWxpemVUZW1wbGF0ZShjb250ZW50KTtcblxuICAgICAgICAgIGlmIChvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkge1xuICAgICAgICAgICAgaWYgKGpxTGl0ZUlzVGV4dE5vZGUoY29udGVudCkpIHtcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSByZW1vdmVDb21tZW50cyh3cmFwVGVtcGxhdGUodGVtcGxhdGVOYW1lc3BhY2UsIHRyaW0oY29udGVudCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJHRlbXBsYXRlWzBdO1xuXG4gICAgICAgICAgICBpZiAoJHRlbXBsYXRlLmxlbmd0aCAhPT0gMSB8fCBjb21waWxlTm9kZS5ub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcbiAgICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3RwbHJ0JyxcbiAgICAgICAgICAgICAgICAgICdUZW1wbGF0ZSBmb3IgZGlyZWN0aXZlIFxcJ3swfVxcJyBtdXN0IGhhdmUgZXhhY3RseSBvbmUgcm9vdCBlbGVtZW50LiB7MX0nLFxuICAgICAgICAgICAgICAgICAgb3JpZ0FzeW5jRGlyZWN0aXZlLm5hbWUsIHRlbXBsYXRlVXJsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGVtcFRlbXBsYXRlQXR0cnMgPSB7JGF0dHI6IHt9fTtcbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKCRyb290RWxlbWVudCwgJGNvbXBpbGVOb2RlLCBjb21waWxlTm9kZSk7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVEaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsIFtdLCB0ZW1wVGVtcGxhdGVBdHRycyk7XG5cbiAgICAgICAgICAgIGlmIChpc09iamVjdChvcmlnQXN5bmNEaXJlY3RpdmUuc2NvcGUpKSB7XG4gICAgICAgICAgICAgIC8vIHRoZSBvcmlnaW5hbCBkaXJlY3RpdmUgdGhhdCBjYXVzZWQgdGhlIHRlbXBsYXRlIHRvIGJlIGxvYWRlZCBhc3luYyByZXF1aXJlZFxuICAgICAgICAgICAgICAvLyBhbiBpc29sYXRlIHNjb3BlXG4gICAgICAgICAgICAgIG1hcmtEaXJlY3RpdmVTY29wZSh0ZW1wbGF0ZURpcmVjdGl2ZXMsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlyZWN0aXZlcyA9IHRlbXBsYXRlRGlyZWN0aXZlcy5jb25jYXQoZGlyZWN0aXZlcyk7XG4gICAgICAgICAgICBtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyh0QXR0cnMsIHRlbXBUZW1wbGF0ZUF0dHJzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcGlsZU5vZGUgPSBiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlO1xuICAgICAgICAgICAgJGNvbXBpbGVOb2RlLmh0bWwoY29udGVudCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGlyZWN0aXZlcy51bnNoaWZ0KGRlcml2ZWRTeW5jRGlyZWN0aXZlKTtcblxuICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuID0gYXBwbHlEaXJlY3RpdmVzVG9Ob2RlKGRpcmVjdGl2ZXMsIGNvbXBpbGVOb2RlLCB0QXR0cnMsXG4gICAgICAgICAgICAgIGNoaWxkVHJhbnNjbHVkZUZuLCAkY29tcGlsZU5vZGUsIG9yaWdBc3luY0RpcmVjdGl2ZSwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsXG4gICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpO1xuICAgICAgICAgIGZvckVhY2goJHJvb3RFbGVtZW50LCBmdW5jdGlvbihub2RlLCBpKSB7XG4gICAgICAgICAgICBpZiAobm9kZSA9PT0gY29tcGlsZU5vZGUpIHtcbiAgICAgICAgICAgICAgJHJvb3RFbGVtZW50W2ldID0gJGNvbXBpbGVOb2RlWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiA9IGNvbXBpbGVOb2RlcygkY29tcGlsZU5vZGVbMF0uY2hpbGROb2RlcywgY2hpbGRUcmFuc2NsdWRlRm4pO1xuXG4gICAgICAgICAgd2hpbGUgKGxpbmtRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBzY29wZSA9IGxpbmtRdWV1ZS5zaGlmdCgpLFxuICAgICAgICAgICAgICAgIGJlZm9yZVRlbXBsYXRlTGlua05vZGUgPSBsaW5rUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICBsaW5rUm9vdEVsZW1lbnQgPSBsaW5rUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICBib3VuZFRyYW5zY2x1ZGVGbiA9IGxpbmtRdWV1ZS5zaGlmdCgpLFxuICAgICAgICAgICAgICAgIGxpbmtOb2RlID0gJGNvbXBpbGVOb2RlWzBdO1xuXG4gICAgICAgICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBpZiAoYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSAhPT0gYmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZSkge1xuICAgICAgICAgICAgICB2YXIgb2xkQ2xhc3NlcyA9IGJlZm9yZVRlbXBsYXRlTGlua05vZGUuY2xhc3NOYW1lO1xuXG4gICAgICAgICAgICAgIGlmICghKHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgJiZcbiAgICAgICAgICAgICAgICAgIG9yaWdBc3luY0RpcmVjdGl2ZS5yZXBsYWNlKSkge1xuICAgICAgICAgICAgICAgIC8vIGl0IHdhcyBjbG9uZWQgdGhlcmVmb3JlIHdlIGhhdmUgdG8gY2xvbmUgYXMgd2VsbC5cbiAgICAgICAgICAgICAgICBsaW5rTm9kZSA9IGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXBsYWNlV2l0aChsaW5rUm9vdEVsZW1lbnQsIGpxTGl0ZShiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlKSwgbGlua05vZGUpO1xuXG4gICAgICAgICAgICAgIC8vIENvcHkgaW4gQ1NTIGNsYXNzZXMgZnJvbSBvcmlnaW5hbCBub2RlXG4gICAgICAgICAgICAgIHNhZmVBZGRDbGFzcyhqcUxpdGUobGlua05vZGUpLCBvbGRDbGFzc2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCkge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGUsIGJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBib3VuZFRyYW5zY2x1ZGVGbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuKGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiwgc2NvcGUsIGxpbmtOb2RlLCAkcm9vdEVsZW1lbnQsXG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsaW5rUXVldWUgPSBudWxsO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIGlmIChpc0Vycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBkZWxheWVkTm9kZUxpbmtGbihpZ25vcmVDaGlsZExpbmtGbiwgc2NvcGUsIG5vZGUsIHJvb3RFbGVtZW50LCBib3VuZFRyYW5zY2x1ZGVGbikge1xuICAgICAgICB2YXIgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGJvdW5kVHJhbnNjbHVkZUZuO1xuICAgICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKGxpbmtRdWV1ZSkge1xuICAgICAgICAgIGxpbmtRdWV1ZS5wdXNoKHNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgcm9vdEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50KSB7XG4gICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGUsIGJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4oYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuLCBzY29wZSwgbm9kZSwgcm9vdEVsZW1lbnQsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU29ydGluZyBmdW5jdGlvbiBmb3IgYm91bmQgZGlyZWN0aXZlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBieVByaW9yaXR5KGEsIGIpIHtcbiAgICAgIHZhciBkaWZmID0gYi5wcmlvcml0eSAtIGEucHJpb3JpdHk7XG4gICAgICBpZiAoZGlmZiAhPT0gMCkgcmV0dXJuIGRpZmY7XG4gICAgICBpZiAoYS5uYW1lICE9PSBiLm5hbWUpIHJldHVybiAoYS5uYW1lIDwgYi5uYW1lKSA/IC0xIDogMTtcbiAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhc3NlcnROb0R1cGxpY2F0ZSh3aGF0LCBwcmV2aW91c0RpcmVjdGl2ZSwgZGlyZWN0aXZlLCBlbGVtZW50KSB7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBNb2R1bGVOYW1lSWZEZWZpbmVkKG1vZHVsZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG1vZHVsZU5hbWUgP1xuICAgICAgICAgICgnIChtb2R1bGU6ICcgKyBtb2R1bGVOYW1lICsgJyknKSA6XG4gICAgICAgICAgJyc7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcmV2aW91c0RpcmVjdGl2ZSkge1xuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbXVsdGlkaXInLCAnTXVsdGlwbGUgZGlyZWN0aXZlcyBbezB9ezF9LCB7Mn17M31dIGFza2luZyBmb3IgezR9IG9uOiB7NX0nLFxuICAgICAgICAgICAgcHJldmlvdXNEaXJlY3RpdmUubmFtZSwgd3JhcE1vZHVsZU5hbWVJZkRlZmluZWQocHJldmlvdXNEaXJlY3RpdmUuJCRtb2R1bGVOYW1lKSxcbiAgICAgICAgICAgIGRpcmVjdGl2ZS5uYW1lLCB3cmFwTW9kdWxlTmFtZUlmRGVmaW5lZChkaXJlY3RpdmUuJCRtb2R1bGVOYW1lKSwgd2hhdCwgc3RhcnRpbmdUYWcoZWxlbWVudCkpO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gYWRkVGV4dEludGVycG9sYXRlRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIHRleHQpIHtcbiAgICAgIHZhciBpbnRlcnBvbGF0ZUZuID0gJGludGVycG9sYXRlKHRleHQsIHRydWUpO1xuICAgICAgaWYgKGludGVycG9sYXRlRm4pIHtcbiAgICAgICAgZGlyZWN0aXZlcy5wdXNoKHtcbiAgICAgICAgICBwcmlvcml0eTogMCxcbiAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGVDb21waWxlRm4odGVtcGxhdGVOb2RlKSB7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVOb2RlUGFyZW50ID0gdGVtcGxhdGVOb2RlLnBhcmVudCgpLFxuICAgICAgICAgICAgICAgIGhhc0NvbXBpbGVQYXJlbnQgPSAhIXRlbXBsYXRlTm9kZVBhcmVudC5sZW5ndGg7XG5cbiAgICAgICAgICAgIC8vIFdoZW4gdHJhbnNjbHVkaW5nIGEgdGVtcGxhdGUgdGhhdCBoYXMgYmluZGluZ3MgaW4gdGhlIHJvb3RcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IGhhdmUgYSBwYXJlbnQgYW5kIHRodXMgbmVlZCB0byBhZGQgdGhlIGNsYXNzIGR1cmluZyBsaW5raW5nIGZuLlxuICAgICAgICAgICAgaWYgKGhhc0NvbXBpbGVQYXJlbnQpIGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModGVtcGxhdGVOb2RlUGFyZW50KTtcblxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHRleHRJbnRlcnBvbGF0ZUxpbmtGbihzY29wZSwgbm9kZSkge1xuICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnQoKTtcbiAgICAgICAgICAgICAgaWYgKCFoYXNDb21waWxlUGFyZW50KSBjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHBhcmVudCk7XG4gICAgICAgICAgICAgIGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyhwYXJlbnQsIGludGVycG9sYXRlRm4uZXhwcmVzc2lvbnMpO1xuICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goaW50ZXJwb2xhdGVGbiwgZnVuY3Rpb24gaW50ZXJwb2xhdGVGbldhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbm9kZVswXS5ub2RlVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiB3cmFwVGVtcGxhdGUodHlwZSwgdGVtcGxhdGUpIHtcbiAgICAgIHR5cGUgPSBsb3dlcmNhc2UodHlwZSB8fCAnaHRtbCcpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdzdmcnOlxuICAgICAgY2FzZSAnbWF0aCc6XG4gICAgICAgIHZhciB3cmFwcGVyID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICc8JyArIHR5cGUgKyAnPicgKyB0ZW1wbGF0ZSArICc8LycgKyB0eXBlICsgJz4nO1xuICAgICAgICByZXR1cm4gd3JhcHBlci5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXM7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBnZXRUcnVzdGVkQXR0ckNvbnRleHQobm9kZU5hbWUsIGF0dHJOb3JtYWxpemVkTmFtZSkge1xuICAgICAgaWYgKGF0dHJOb3JtYWxpemVkTmFtZSA9PT0gJ3NyY2RvYycpIHtcbiAgICAgICAgcmV0dXJuICRzY2UuSFRNTDtcbiAgICAgIH1cbiAgICAgIC8vIEFsbCBub2RlcyB3aXRoIHNyYyBhdHRyaWJ1dGVzIHJlcXVpcmUgYSBSRVNPVVJDRV9VUkwgdmFsdWUsIGV4Y2VwdCBmb3JcbiAgICAgIC8vIGltZyBhbmQgdmFyaW91cyBodG1sNSBtZWRpYSBub2Rlcywgd2hpY2ggcmVxdWlyZSB0aGUgTUVESUFfVVJMIGNvbnRleHQuXG4gICAgICBpZiAoYXR0ck5vcm1hbGl6ZWROYW1lID09PSAnc3JjJyB8fCBhdHRyTm9ybWFsaXplZE5hbWUgPT09ICduZ1NyYycpIHtcbiAgICAgICAgaWYgKFsnaW1nJywgJ3ZpZGVvJywgJ2F1ZGlvJywgJ3NvdXJjZScsICd0cmFjayddLmluZGV4T2Yobm9kZU5hbWUpID09PSAtMSkge1xuICAgICAgICAgIHJldHVybiAkc2NlLlJFU09VUkNFX1VSTDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJHNjZS5NRURJQV9VUkw7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJOb3JtYWxpemVkTmFtZSA9PT0gJ3hsaW5rSHJlZicpIHtcbiAgICAgICAgLy8gU29tZSB4bGluazpocmVmIGFyZSBva2F5LCBtb3N0IGFyZW4ndFxuICAgICAgICBpZiAobm9kZU5hbWUgPT09ICdpbWFnZScpIHJldHVybiAkc2NlLk1FRElBX1VSTDtcbiAgICAgICAgaWYgKG5vZGVOYW1lID09PSAnYScpIHJldHVybiAkc2NlLlVSTDtcbiAgICAgICAgcmV0dXJuICRzY2UuUkVTT1VSQ0VfVVJMO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAvLyBGb3JtYWN0aW9uXG4gICAgICAgICAgKG5vZGVOYW1lID09PSAnZm9ybScgJiYgYXR0ck5vcm1hbGl6ZWROYW1lID09PSAnYWN0aW9uJykgfHxcbiAgICAgICAgICAvLyBJZiByZWxhdGl2ZSBVUkxzIGNhbiBnbyB3aGVyZSB0aGV5IGFyZSBub3QgZXhwZWN0ZWQgdG8sIHRoZW5cbiAgICAgICAgICAvLyBhbGwgc29ydHMgb2YgdHJ1c3QgaXNzdWVzIGNhbiBhcmlzZS5cbiAgICAgICAgICAobm9kZU5hbWUgPT09ICdiYXNlJyAmJiBhdHRyTm9ybWFsaXplZE5hbWUgPT09ICdocmVmJykgfHxcbiAgICAgICAgICAvLyBsaW5rcyBjYW4gYmUgc3R5bGVzaGVldHMgb3IgaW1wb3J0cywgd2hpY2ggY2FuIHJ1biBzY3JpcHQgaW4gdGhlIGN1cnJlbnQgb3JpZ2luXG4gICAgICAgICAgKG5vZGVOYW1lID09PSAnbGluaycgJiYgYXR0ck5vcm1hbGl6ZWROYW1lID09PSAnaHJlZicpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuICRzY2UuUkVTT1VSQ0VfVVJMO1xuICAgICAgfSBlbHNlIGlmIChub2RlTmFtZSA9PT0gJ2EnICYmIChhdHRyTm9ybWFsaXplZE5hbWUgPT09ICdocmVmJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0ck5vcm1hbGl6ZWROYW1lID09PSAnbmdIcmVmJykpIHtcbiAgICAgICAgcmV0dXJuICRzY2UuVVJMO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRydXN0ZWRQcm9wQ29udGV4dChub2RlTmFtZSwgcHJvcE5vcm1hbGl6ZWROYW1lKSB7XG4gICAgICB2YXIgcHJvcCA9IHByb3BOb3JtYWxpemVkTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIFBST1BfQ09OVEVYVFNbbm9kZU5hbWUgKyAnfCcgKyBwcm9wXSB8fCBQUk9QX0NPTlRFWFRTWycqfCcgKyBwcm9wXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzYW5pdGl6ZVNyY3NldFByb3BlcnR5VmFsdWUodmFsdWUpIHtcbiAgICAgIHJldHVybiBzYW5pdGl6ZVNyY3NldCgkc2NlLnZhbHVlT2YodmFsdWUpLCAnbmctcHJvcC1zcmNzZXQnKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkUHJvcGVydHlEaXJlY3RpdmUobm9kZSwgZGlyZWN0aXZlcywgYXR0ck5hbWUsIHByb3BOYW1lKSB7XG4gICAgICBpZiAoRVZFTlRfSEFORExFUl9BVFRSX1JFR0VYUC50ZXN0KHByb3BOYW1lKSkge1xuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9kb21ldmVudHMnLCAnUHJvcGVydHkgYmluZGluZ3MgZm9yIEhUTUwgRE9NIGV2ZW50IHByb3BlcnRpZXMgYXJlIGRpc2FsbG93ZWQnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG5vZGVOYW1lID0gbm9kZU5hbWVfKG5vZGUpO1xuICAgICAgdmFyIHRydXN0ZWRDb250ZXh0ID0gZ2V0VHJ1c3RlZFByb3BDb250ZXh0KG5vZGVOYW1lLCBwcm9wTmFtZSk7XG5cbiAgICAgIHZhciBzYW5pdGl6ZXIgPSBpZGVudGl0eTtcbiAgICAgIC8vIFNhbml0aXplIGltZ1tzcmNzZXRdICsgc291cmNlW3NyY3NldF0gdmFsdWVzLlxuICAgICAgaWYgKHByb3BOYW1lID09PSAnc3Jjc2V0JyAmJiAobm9kZU5hbWUgPT09ICdpbWcnIHx8IG5vZGVOYW1lID09PSAnc291cmNlJykpIHtcbiAgICAgICAgc2FuaXRpemVyID0gc2FuaXRpemVTcmNzZXRQcm9wZXJ0eVZhbHVlO1xuICAgICAgfSBlbHNlIGlmICh0cnVzdGVkQ29udGV4dCkge1xuICAgICAgICBzYW5pdGl6ZXIgPSAkc2NlLmdldFRydXN0ZWQuYmluZCgkc2NlLCB0cnVzdGVkQ29udGV4dCk7XG4gICAgICB9XG5cbiAgICAgIGRpcmVjdGl2ZXMucHVzaCh7XG4gICAgICAgIHByaW9yaXR5OiAxMDAsXG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nUHJvcENvbXBpbGVGbihfLCBhdHRyKSB7XG4gICAgICAgICAgdmFyIG5nUHJvcEdldHRlciA9ICRwYXJzZShhdHRyW2F0dHJOYW1lXSk7XG4gICAgICAgICAgdmFyIG5nUHJvcFdhdGNoID0gJHBhcnNlKGF0dHJbYXR0ck5hbWVdLCBmdW5jdGlvbiBzY2VWYWx1ZU9mKHZhbCkge1xuICAgICAgICAgICAgLy8gVW53cmFwIHRoZSB2YWx1ZSB0byBjb21wYXJlIHRoZSBhY3R1YWwgaW5uZXIgc2FmZSB2YWx1ZSwgbm90IHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgICAgICAgIHJldHVybiAkc2NlLnZhbHVlT2YodmFsKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcmU6IGZ1bmN0aW9uIG5nUHJvcFByZUxpbmtGbihzY29wZSwgJGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgZnVuY3Rpb24gYXBwbHlQcm9wVmFsdWUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3BWYWx1ZSA9IG5nUHJvcEdldHRlcihzY29wZSk7XG4gICAgICAgICAgICAgICAgJGVsZW1lbnRbMF1bcHJvcE5hbWVdID0gc2FuaXRpemVyKHByb3BWYWx1ZSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBhcHBseVByb3BWYWx1ZSgpO1xuICAgICAgICAgICAgICBzY29wZS4kd2F0Y2gobmdQcm9wV2F0Y2gsIGFwcGx5UHJvcFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRFdmVudERpcmVjdGl2ZShkaXJlY3RpdmVzLCBhdHRyTmFtZSwgZXZlbnROYW1lKSB7XG4gICAgICBkaXJlY3RpdmVzLnB1c2goXG4gICAgICAgIGNyZWF0ZUV2ZW50RGlyZWN0aXZlKCRwYXJzZSwgJHJvb3RTY29wZSwgJGV4Y2VwdGlvbkhhbmRsZXIsIGF0dHJOYW1lLCBldmVudE5hbWUsIC8qZm9yY2VBc3luYz0qL2ZhbHNlKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUobm9kZSwgZGlyZWN0aXZlcywgdmFsdWUsIG5hbWUsIGlzTmdBdHRyKSB7XG4gICAgICB2YXIgbm9kZU5hbWUgPSBub2RlTmFtZV8obm9kZSk7XG4gICAgICB2YXIgdHJ1c3RlZENvbnRleHQgPSBnZXRUcnVzdGVkQXR0ckNvbnRleHQobm9kZU5hbWUsIG5hbWUpO1xuICAgICAgdmFyIG11c3RIYXZlRXhwcmVzc2lvbiA9ICFpc05nQXR0cjtcbiAgICAgIHZhciBhbGxPck5vdGhpbmcgPSBBTExfT1JfTk9USElOR19BVFRSU1tuYW1lXSB8fCBpc05nQXR0cjtcblxuICAgICAgdmFyIGludGVycG9sYXRlRm4gPSAkaW50ZXJwb2xhdGUodmFsdWUsIG11c3RIYXZlRXhwcmVzc2lvbiwgdHJ1c3RlZENvbnRleHQsIGFsbE9yTm90aGluZyk7XG5cbiAgICAgIC8vIG5vIGludGVycG9sYXRpb24gZm91bmQgLT4gaWdub3JlXG4gICAgICBpZiAoIWludGVycG9sYXRlRm4pIHJldHVybjtcblxuICAgICAgaWYgKG5hbWUgPT09ICdtdWx0aXBsZScgJiYgbm9kZU5hbWUgPT09ICdzZWxlY3QnKSB7XG4gICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdzZWxtdWx0aScsXG4gICAgICAgICAgICAnQmluZGluZyB0byB0aGUgXFwnbXVsdGlwbGVcXCcgYXR0cmlidXRlIGlzIG5vdCBzdXBwb3J0ZWQuIEVsZW1lbnQ6IHswfScsXG4gICAgICAgICAgICBzdGFydGluZ1RhZyhub2RlKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChFVkVOVF9IQU5ETEVSX0FUVFJfUkVHRVhQLnRlc3QobmFtZSkpIHtcbiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ25vZG9tZXZlbnRzJywgJ0ludGVycG9sYXRpb25zIGZvciBIVE1MIERPTSBldmVudCBhdHRyaWJ1dGVzIGFyZSBkaXNhbGxvd2VkJyk7XG4gICAgICB9XG5cbiAgICAgIGRpcmVjdGl2ZXMucHVzaCh7XG4gICAgICAgIHByaW9yaXR5OiAxMDAsXG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgcHJlOiBmdW5jdGlvbiBhdHRySW50ZXJwb2xhdGVQcmVMaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgICAgICAgICB2YXIgJCRvYnNlcnZlcnMgPSAoYXR0ci4kJG9ic2VydmVycyB8fCAoYXR0ci4kJG9ic2VydmVycyA9IGNyZWF0ZU1hcCgpKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlIGhhcyBjaGFuZ2VkIHNpbmNlIGxhc3QgJGludGVycG9sYXRlKCllZFxuICAgICAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IGF0dHJbbmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBpbnRlcnBvbGF0ZSBhZ2FpbiBzaW5jZSB0aGUgYXR0cmlidXRlIHZhbHVlIGhhcyBiZWVuIHVwZGF0ZWRcbiAgICAgICAgICAgICAgICAgIC8vIChlLmcuIGJ5IGFub3RoZXIgZGlyZWN0aXZlJ3MgY29tcGlsZSBmdW5jdGlvbilcbiAgICAgICAgICAgICAgICAgIC8vIGVuc3VyZSB1bnNldC9lbXB0eSB2YWx1ZXMgbWFrZSBpbnRlcnBvbGF0ZUZuIGZhbHN5XG4gICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZUZuID0gbmV3VmFsdWUgJiYgJGludGVycG9sYXRlKG5ld1ZhbHVlLCB0cnVlLCB0cnVzdGVkQ29udGV4dCwgYWxsT3JOb3RoaW5nKTtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgYXR0cmlidXRlIHdhcyB1cGRhdGVkIHNvIHRoYXQgdGhlcmUgaXMgbm8gaW50ZXJwb2xhdGlvbiBnb2luZyBvbiB3ZSBkb24ndCB3YW50IHRvXG4gICAgICAgICAgICAgICAgLy8gcmVnaXN0ZXIgYW55IG9ic2VydmVyc1xuICAgICAgICAgICAgICAgIGlmICghaW50ZXJwb2xhdGVGbikgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZSBhdHRyIG9iamVjdCBzbyB0aGF0IGl0J3MgcmVhZHkgaW4gY2FzZSB3ZSBuZWVkIHRoZSB2YWx1ZSBmb3IgaXNvbGF0ZVxuICAgICAgICAgICAgICAgIC8vIHNjb3BlIGluaXRpYWxpemF0aW9uLCBvdGhlcndpc2UgdGhlIHZhbHVlIHdvdWxkIG5vdCBiZSBhdmFpbGFibGUgZnJvbSBpc29sYXRlXG4gICAgICAgICAgICAgICAgLy8gZGlyZWN0aXZlJ3MgbGlua2luZyBmbiBkdXJpbmcgbGlua2luZyBwaGFzZVxuICAgICAgICAgICAgICAgIGF0dHJbbmFtZV0gPSBpbnRlcnBvbGF0ZUZuKHNjb3BlKTtcblxuICAgICAgICAgICAgICAgICgkJG9ic2VydmVyc1tuYW1lXSB8fCAoJCRvYnNlcnZlcnNbbmFtZV0gPSBbXSkpLiQkaW50ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIChhdHRyLiQkb2JzZXJ2ZXJzICYmIGF0dHIuJCRvYnNlcnZlcnNbbmFtZV0uJCRzY29wZSB8fCBzY29wZSkuXG4gICAgICAgICAgICAgICAgICAkd2F0Y2goaW50ZXJwb2xhdGVGbiwgZnVuY3Rpb24gaW50ZXJwb2xhdGVGbldhdGNoQWN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAvL3NwZWNpYWwgY2FzZSBmb3IgY2xhc3MgYXR0cmlidXRlIGFkZGl0aW9uICsgcmVtb3ZhbFxuICAgICAgICAgICAgICAgICAgICAvL3NvIHRoYXQgY2xhc3MgY2hhbmdlcyBjYW4gdGFwIGludG8gdGhlIGFuaW1hdGlvblxuICAgICAgICAgICAgICAgICAgICAvL2hvb2tzIHByb3ZpZGVkIGJ5IHRoZSAkYW5pbWF0ZSBzZXJ2aWNlLiBCZSBzdXJlIHRvXG4gICAgICAgICAgICAgICAgICAgIC8vc2tpcCBhbmltYXRpb25zIHdoZW4gdGhlIGZpcnN0IGRpZ2VzdCBvY2N1cnMgKHdoZW5cbiAgICAgICAgICAgICAgICAgICAgLy9ib3RoIHRoZSBuZXcgYW5kIHRoZSBvbGQgdmFsdWVzIGFyZSB0aGUgc2FtZSkgc2luY2VcbiAgICAgICAgICAgICAgICAgICAgLy90aGUgQ1NTIGNsYXNzZXMgYXJlIHRoZSBub24taW50ZXJwb2xhdGVkIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ2NsYXNzJyAmJiBuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyLiR1cGRhdGVDbGFzcyhuZXdWYWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHIuJHNldChuYW1lLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhIHNwZWNpYWwganFMaXRlLnJlcGxhY2VXaXRoLCB3aGljaCBjYW4gcmVwbGFjZSBpdGVtcyB3aGljaFxuICAgICAqIGhhdmUgbm8gcGFyZW50cywgcHJvdmlkZWQgdGhhdCB0aGUgY29udGFpbmluZyBqcUxpdGUgY29sbGVjdGlvbiBpcyBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SnFMaXRlPX0gJHJvb3RFbGVtZW50IFRoZSByb290IG9mIHRoZSBjb21waWxlIHRyZWUuIFVzZWQgc28gdGhhdCB3ZSBjYW4gcmVwbGFjZSBub2Rlc1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHRoZSByb290IG9mIHRoZSB0cmVlLlxuICAgICAqIEBwYXJhbSB7SnFMaXRlfSBlbGVtZW50c1RvUmVtb3ZlIFRoZSBqcUxpdGUgZWxlbWVudCB3aGljaCB3ZSBhcmUgZ29pbmcgdG8gcmVwbGFjZS4gV2Uga2VlcFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBzaGVsbCwgYnV0IHJlcGxhY2UgaXRzIERPTSBub2RlIHJlZmVyZW5jZS5cbiAgICAgKiBAcGFyYW0ge05vZGV9IG5ld05vZGUgVGhlIG5ldyBET00gbm9kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBsYWNlV2l0aCgkcm9vdEVsZW1lbnQsIGVsZW1lbnRzVG9SZW1vdmUsIG5ld05vZGUpIHtcbiAgICAgIHZhciBmaXJzdEVsZW1lbnRUb1JlbW92ZSA9IGVsZW1lbnRzVG9SZW1vdmVbMF0sXG4gICAgICAgICAgcmVtb3ZlQ291bnQgPSBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCxcbiAgICAgICAgICBwYXJlbnQgPSBmaXJzdEVsZW1lbnRUb1JlbW92ZS5wYXJlbnROb2RlLFxuICAgICAgICAgIGksIGlpO1xuXG4gICAgICBpZiAoJHJvb3RFbGVtZW50KSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gJHJvb3RFbGVtZW50Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICBpZiAoJHJvb3RFbGVtZW50W2ldID09PSBmaXJzdEVsZW1lbnRUb1JlbW92ZSkge1xuICAgICAgICAgICAgJHJvb3RFbGVtZW50W2krK10gPSBuZXdOb2RlO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IGksIGoyID0gaiArIHJlbW92ZUNvdW50IC0gMSxcbiAgICAgICAgICAgICAgICAgICAgIGpqID0gJHJvb3RFbGVtZW50Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgaiA8IGpqOyBqKyssIGoyKyspIHtcbiAgICAgICAgICAgICAgaWYgKGoyIDwgamopIHtcbiAgICAgICAgICAgICAgICAkcm9vdEVsZW1lbnRbal0gPSAkcm9vdEVsZW1lbnRbajJdO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSAkcm9vdEVsZW1lbnRbal07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRyb290RWxlbWVudC5sZW5ndGggLT0gcmVtb3ZlQ291bnQgLSAxO1xuXG4gICAgICAgICAgICAvLyBJZiB0aGUgcmVwbGFjZWQgZWxlbWVudCBpcyBhbHNvIHRoZSBqUXVlcnkgLmNvbnRleHQgdGhlbiByZXBsYWNlIGl0XG4gICAgICAgICAgICAvLyAuY29udGV4dCBpcyBhIGRlcHJlY2F0ZWQgalF1ZXJ5IGFwaSwgc28gd2Ugc2hvdWxkIHNldCBpdCBvbmx5IHdoZW4galF1ZXJ5IHNldCBpdFxuICAgICAgICAgICAgLy8gaHR0cDovL2FwaS5qcXVlcnkuY29tL2NvbnRleHQvXG4gICAgICAgICAgICBpZiAoJHJvb3RFbGVtZW50LmNvbnRleHQgPT09IGZpcnN0RWxlbWVudFRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICRyb290RWxlbWVudC5jb250ZXh0ID0gbmV3Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgZmlyc3RFbGVtZW50VG9SZW1vdmUpO1xuICAgICAgfVxuXG4gICAgICAvLyBBcHBlbmQgYWxsIHRoZSBgZWxlbWVudHNUb1JlbW92ZWAgdG8gYSBmcmFnbWVudC4gVGhpcyB3aWxsLi4uXG4gICAgICAvLyAtIHJlbW92ZSB0aGVtIGZyb20gdGhlIERPTVxuICAgICAgLy8gLSBhbGxvdyB0aGVtIHRvIHN0aWxsIGJlIHRyYXZlcnNlZCB3aXRoIC5uZXh0U2libGluZ1xuICAgICAgLy8gLSBhbGxvdyBhIHNpbmdsZSBmcmFnbWVudC5xU0EgdG8gZmV0Y2ggYWxsIGVsZW1lbnRzIGJlaW5nIHJlbW92ZWRcbiAgICAgIHZhciBmcmFnbWVudCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcmVtb3ZlQ291bnQ7IGkrKykge1xuICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbGVtZW50c1RvUmVtb3ZlW2ldKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGpxTGl0ZS5oYXNEYXRhKGZpcnN0RWxlbWVudFRvUmVtb3ZlKSkge1xuICAgICAgICAvLyBDb3B5IG92ZXIgdXNlciBkYXRhICh0aGF0IGluY2x1ZGVzIEFuZ3VsYXJKUydzICRzY29wZSBldGMuKS4gRG9uJ3QgY29weSBwcml2YXRlXG4gICAgICAgIC8vIGRhdGEgaGVyZSBiZWNhdXNlIHRoZXJlJ3Mgbm8gcHVibGljIGludGVyZmFjZSBpbiBqUXVlcnkgdG8gZG8gdGhhdCBhbmQgY29weWluZyBvdmVyXG4gICAgICAgIC8vIGV2ZW50IGxpc3RlbmVycyAod2hpY2ggaXMgdGhlIG1haW4gdXNlIG9mIHByaXZhdGUgZGF0YSkgd291bGRuJ3Qgd29yayBhbnl3YXkuXG4gICAgICAgIGpxTGl0ZS5kYXRhKG5ld05vZGUsIGpxTGl0ZS5kYXRhKGZpcnN0RWxlbWVudFRvUmVtb3ZlKSk7XG5cbiAgICAgICAgLy8gUmVtb3ZlICRkZXN0cm95IGV2ZW50IGxpc3RlbmVycyBmcm9tIGBmaXJzdEVsZW1lbnRUb1JlbW92ZWBcbiAgICAgICAganFMaXRlKGZpcnN0RWxlbWVudFRvUmVtb3ZlKS5vZmYoJyRkZXN0cm95Jyk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFudXAgYW55IGRhdGEvbGlzdGVuZXJzIG9uIHRoZSBlbGVtZW50cyBhbmQgY2hpbGRyZW4uXG4gICAgICAvLyBUaGlzIGluY2x1ZGVzIGludm9raW5nIHRoZSAkZGVzdHJveSBldmVudCBvbiBhbnkgZWxlbWVudHMgd2l0aCBsaXN0ZW5lcnMuXG4gICAgICBqcUxpdGUuY2xlYW5EYXRhKGZyYWdtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKSk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUganFMaXRlIGNvbGxlY3Rpb24gdG8gb25seSBjb250YWluIHRoZSBgbmV3Tm9kZWBcbiAgICAgIGZvciAoaSA9IDE7IGkgPCByZW1vdmVDb3VudDsgaSsrKSB7XG4gICAgICAgIGRlbGV0ZSBlbGVtZW50c1RvUmVtb3ZlW2ldO1xuICAgICAgfVxuICAgICAgZWxlbWVudHNUb1JlbW92ZVswXSA9IG5ld05vZGU7XG4gICAgICBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCA9IDE7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjbG9uZUFuZEFubm90YXRlRm4oZm4sIGFubm90YXRpb24pIHtcbiAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24oKSB7IHJldHVybiBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9LCBmbiwgYW5ub3RhdGlvbik7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBpbnZva2VMaW5rRm4obGlua0ZuLCBzY29wZSwgJGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsaW5rRm4oc2NvcGUsICRlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUsIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RyaWN0QmluZGluZ3NDaGVjayhhdHRyTmFtZSwgZGlyZWN0aXZlTmFtZSkge1xuICAgICAgaWYgKHN0cmljdENvbXBvbmVudEJpbmRpbmdzRW5hYmxlZCkge1xuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbWlzc2luZ2F0dHInLFxuICAgICAgICAgICdBdHRyaWJ1dGUgXFwnezB9XFwnIG9mIFxcJ3sxfVxcJyBpcyBub24tb3B0aW9uYWwgYW5kIG11c3QgYmUgc2V0IScsXG4gICAgICAgICAgYXR0ck5hbWUsIGRpcmVjdGl2ZU5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNldCB1cCAkd2F0Y2hlcyBmb3IgaXNvbGF0ZSBzY29wZSBhbmQgY29udHJvbGxlciBiaW5kaW5ncy5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXplRGlyZWN0aXZlQmluZGluZ3Moc2NvcGUsIGF0dHJzLCBkZXN0aW5hdGlvbiwgYmluZGluZ3MsIGRpcmVjdGl2ZSkge1xuICAgICAgdmFyIHJlbW92ZVdhdGNoQ29sbGVjdGlvbiA9IFtdO1xuICAgICAgdmFyIGluaXRpYWxDaGFuZ2VzID0ge307XG4gICAgICB2YXIgY2hhbmdlcztcblxuICAgICAgZm9yRWFjaChiaW5kaW5ncywgZnVuY3Rpb24gaW5pdGlhbGl6ZUJpbmRpbmcoZGVmaW5pdGlvbiwgc2NvcGVOYW1lKSB7XG4gICAgICAgIHZhciBhdHRyTmFtZSA9IGRlZmluaXRpb24uYXR0ck5hbWUsXG4gICAgICAgIG9wdGlvbmFsID0gZGVmaW5pdGlvbi5vcHRpb25hbCxcbiAgICAgICAgbW9kZSA9IGRlZmluaXRpb24ubW9kZSwgLy8gQCwgPSwgPCwgb3IgJlxuICAgICAgICBsYXN0VmFsdWUsXG4gICAgICAgIHBhcmVudEdldCwgcGFyZW50U2V0LCBjb21wYXJlLCByZW1vdmVXYXRjaDtcblxuICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcblxuICAgICAgICAgIGNhc2UgJ0AnOlxuICAgICAgICAgICAgaWYgKCFvcHRpb25hbCAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChhdHRycywgYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgIHN0cmljdEJpbmRpbmdzQ2hlY2soYXR0ck5hbWUsIGRpcmVjdGl2ZS5uYW1lKTtcbiAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IGF0dHJzW2F0dHJOYW1lXSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVtb3ZlV2F0Y2ggPSBhdHRycy4kb2JzZXJ2ZShhdHRyTmFtZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSB8fCBpc0Jvb2xlYW4odmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9sZFZhbHVlID0gZGVzdGluYXRpb25bc2NvcGVOYW1lXTtcbiAgICAgICAgICAgICAgICByZWNvcmRDaGFuZ2VzKHNjb3BlTmFtZSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXR0cnMuJCRvYnNlcnZlcnNbYXR0ck5hbWVdLiQkc2NvcGUgPSBzY29wZTtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGF0dHJzW2F0dHJOYW1lXTtcbiAgICAgICAgICAgIGlmIChpc1N0cmluZyhsYXN0VmFsdWUpKSB7XG4gICAgICAgICAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgaGFzIGJlZW4gcHJvdmlkZWQgdGhlbiB3ZSB0cmlnZ2VyIGFuIGludGVycG9sYXRpb24gdG8gZW5zdXJlXG4gICAgICAgICAgICAgIC8vIHRoZSB2YWx1ZSBpcyB0aGVyZSBmb3IgdXNlIGluIHRoZSBsaW5rIGZuXG4gICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSAkaW50ZXJwb2xhdGUobGFzdFZhbHVlKShzY29wZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQm9vbGVhbihsYXN0VmFsdWUpKSB7XG4gICAgICAgICAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGVzIGlzIG9uZSBvZiB0aGUgQk9PTEVBTl9BVFRSIHRoZW4gQW5ndWxhckpTIHdpbGwgaGF2ZSBjb252ZXJ0ZWRcbiAgICAgICAgICAgICAgLy8gdGhlIHZhbHVlIHRvIGJvb2xlYW4gcmF0aGVyIHRoYW4gYSBzdHJpbmcsIHNvIHdlIHNwZWNpYWwgY2FzZSB0aGlzIHNpdHVhdGlvblxuICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gbGFzdFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5pdGlhbENoYW5nZXNbc2NvcGVOYW1lXSA9IG5ldyBTaW1wbGVDaGFuZ2UoX1VOSU5JVElBTElaRURfVkFMVUUsIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0pO1xuICAgICAgICAgICAgcmVtb3ZlV2F0Y2hDb2xsZWN0aW9uLnB1c2gocmVtb3ZlV2F0Y2gpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICc9JzpcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChhdHRycywgYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgIGlmIChvcHRpb25hbCkgYnJlYWs7XG4gICAgICAgICAgICAgIHN0cmljdEJpbmRpbmdzQ2hlY2soYXR0ck5hbWUsIGRpcmVjdGl2ZS5uYW1lKTtcbiAgICAgICAgICAgICAgYXR0cnNbYXR0ck5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbmFsICYmICFhdHRyc1thdHRyTmFtZV0pIGJyZWFrO1xuXG4gICAgICAgICAgICBwYXJlbnRHZXQgPSAkcGFyc2UoYXR0cnNbYXR0ck5hbWVdKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRHZXQubGl0ZXJhbCkge1xuICAgICAgICAgICAgICBjb21wYXJlID0gZXF1YWxzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29tcGFyZSA9IHNpbXBsZUNvbXBhcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnRTZXQgPSBwYXJlbnRHZXQuYXNzaWduIHx8IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAvLyByZXNldCB0aGUgY2hhbmdlLCBvciB3ZSB3aWxsIHRocm93IHRoaXMgZXhjZXB0aW9uIG9uIGV2ZXJ5ICRkaWdlc3RcbiAgICAgICAgICAgICAgbGFzdFZhbHVlID0gZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IHBhcmVudEdldChzY29wZSk7XG4gICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdub25hc3NpZ24nLFxuICAgICAgICAgICAgICAgICAgJ0V4cHJlc3Npb24gXFwnezB9XFwnIGluIGF0dHJpYnV0ZSBcXCd7MX1cXCcgdXNlZCB3aXRoIGRpcmVjdGl2ZSBcXCd7Mn1cXCcgaXMgbm9uLWFzc2lnbmFibGUhJyxcbiAgICAgICAgICAgICAgICAgIGF0dHJzW2F0dHJOYW1lXSwgYXR0ck5hbWUsIGRpcmVjdGl2ZS5uYW1lKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsYXN0VmFsdWUgPSBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gcGFyZW50R2V0KHNjb3BlKTtcbiAgICAgICAgICAgIHZhciBwYXJlbnRWYWx1ZVdhdGNoID0gZnVuY3Rpb24gcGFyZW50VmFsdWVXYXRjaChwYXJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoIWNvbXBhcmUocGFyZW50VmFsdWUsIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0pKSB7XG4gICAgICAgICAgICAgICAgLy8gd2UgYXJlIG91dCBvZiBzeW5jIGFuZCBuZWVkIHRvIGNvcHlcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBhcmUocGFyZW50VmFsdWUsIGxhc3RWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHBhcmVudCBjaGFuZ2VkIGFuZCBpdCBoYXMgcHJlY2VkZW5jZVxuICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IHBhcmVudFZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcGFyZW50IGNhbiBiZSBhc3NpZ25lZCB0aGVuIGRvIHNvXG4gICAgICAgICAgICAgICAgICBwYXJlbnRTZXQoc2NvcGUsIHBhcmVudFZhbHVlID0gZGVzdGluYXRpb25bc2NvcGVOYW1lXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHBhcmVudFZhbHVlO1xuICAgICAgICAgICAgICByZXR1cm4gbGFzdFZhbHVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBhcmVudFZhbHVlV2F0Y2guJHN0YXRlZnVsID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChkZWZpbml0aW9uLmNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgcmVtb3ZlV2F0Y2ggPSBzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKGF0dHJzW2F0dHJOYW1lXSwgcGFyZW50VmFsdWVXYXRjaCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZW1vdmVXYXRjaCA9IHNjb3BlLiR3YXRjaCgkcGFyc2UoYXR0cnNbYXR0ck5hbWVdLCBwYXJlbnRWYWx1ZVdhdGNoKSwgbnVsbCwgcGFyZW50R2V0LmxpdGVyYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVtb3ZlV2F0Y2hDb2xsZWN0aW9uLnB1c2gocmVtb3ZlV2F0Y2gpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICc8JzpcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChhdHRycywgYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgIGlmIChvcHRpb25hbCkgYnJlYWs7XG4gICAgICAgICAgICAgIHN0cmljdEJpbmRpbmdzQ2hlY2soYXR0ck5hbWUsIGRpcmVjdGl2ZS5uYW1lKTtcbiAgICAgICAgICAgICAgYXR0cnNbYXR0ck5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbmFsICYmICFhdHRyc1thdHRyTmFtZV0pIGJyZWFrO1xuXG4gICAgICAgICAgICBwYXJlbnRHZXQgPSAkcGFyc2UoYXR0cnNbYXR0ck5hbWVdKTtcbiAgICAgICAgICAgIHZhciBpc0xpdGVyYWwgPSBwYXJlbnRHZXQubGl0ZXJhbDtcblxuICAgICAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBwYXJlbnRHZXQoc2NvcGUpO1xuICAgICAgICAgICAgaW5pdGlhbENoYW5nZXNbc2NvcGVOYW1lXSA9IG5ldyBTaW1wbGVDaGFuZ2UoX1VOSU5JVElBTElaRURfVkFMVUUsIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0pO1xuXG4gICAgICAgICAgICByZW1vdmVXYXRjaCA9IHNjb3BlW2RlZmluaXRpb24uY29sbGVjdGlvbiA/ICckd2F0Y2hDb2xsZWN0aW9uJyA6ICckd2F0Y2gnXShwYXJlbnRHZXQsIGZ1bmN0aW9uIHBhcmVudFZhbHVlV2F0Y2hBY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChvbGRWYWx1ZSA9PT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAob2xkVmFsdWUgPT09IGluaXRpYWxWYWx1ZSB8fCAoaXNMaXRlcmFsICYmIGVxdWFscyhvbGRWYWx1ZSwgaW5pdGlhbFZhbHVlKSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2xkVmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVjb3JkQ2hhbmdlcyhzY29wZU5hbWUsIG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZW1vdmVXYXRjaENvbGxlY3Rpb24ucHVzaChyZW1vdmVXYXRjaCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJyYnOlxuICAgICAgICAgICAgaWYgKCFvcHRpb25hbCAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChhdHRycywgYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgIHN0cmljdEJpbmRpbmdzQ2hlY2soYXR0ck5hbWUsIGRpcmVjdGl2ZS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERvbid0IGFzc2lnbiBPYmplY3QucHJvdG90eXBlIG1ldGhvZCB0byBzY29wZVxuICAgICAgICAgICAgcGFyZW50R2V0ID0gYXR0cnMuaGFzT3duUHJvcGVydHkoYXR0ck5hbWUpID8gJHBhcnNlKGF0dHJzW2F0dHJOYW1lXSkgOiBub29wO1xuXG4gICAgICAgICAgICAvLyBEb24ndCBhc3NpZ24gbm9vcCB0byBkZXN0aW5hdGlvbiBpZiBleHByZXNzaW9uIGlzIG5vdCB2YWxpZFxuICAgICAgICAgICAgaWYgKHBhcmVudEdldCA9PT0gbm9vcCAmJiBvcHRpb25hbCkgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBmdW5jdGlvbihsb2NhbHMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudEdldChzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlY29yZENoYW5nZXMoa2V5LCBjdXJyZW50VmFsdWUsIHByZXZpb3VzVmFsdWUpIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZGVzdGluYXRpb24uJG9uQ2hhbmdlcykgJiYgIXNpbXBsZUNvbXBhcmUoY3VycmVudFZhbHVlLCBwcmV2aW91c1ZhbHVlKSkge1xuICAgICAgICAgIC8vIElmIHdlIGhhdmUgbm90IGFscmVhZHkgc2NoZWR1bGVkIHRoZSB0b3AgbGV2ZWwgb25DaGFuZ2VzUXVldWUgaGFuZGxlciB0aGVuIGRvIHNvIG5vd1xuICAgICAgICAgIGlmICghb25DaGFuZ2VzUXVldWUpIHtcbiAgICAgICAgICAgIHNjb3BlLiQkcG9zdERpZ2VzdChmbHVzaE9uQ2hhbmdlc1F1ZXVlKTtcbiAgICAgICAgICAgIG9uQ2hhbmdlc1F1ZXVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIHdlIGhhdmUgbm90IGFscmVhZHkgcXVldWVkIGEgdHJpZ2dlciBvZiBvbkNoYW5nZXMgZm9yIHRoaXMgY29udHJvbGxlciB0aGVuIGRvIHNvIG5vd1xuICAgICAgICAgIGlmICghY2hhbmdlcykge1xuICAgICAgICAgICAgY2hhbmdlcyA9IHt9O1xuICAgICAgICAgICAgb25DaGFuZ2VzUXVldWUucHVzaCh0cmlnZ2VyT25DaGFuZ2VzSG9vayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIHRoZSBoYXMgYmVlbiBhIGNoYW5nZSBvbiB0aGlzIHByb3BlcnR5IGFscmVhZHkgdGhlbiB3ZSBuZWVkIHRvIHJldXNlIHRoZSBwcmV2aW91cyB2YWx1ZVxuICAgICAgICAgIGlmIChjaGFuZ2VzW2tleV0pIHtcbiAgICAgICAgICAgIHByZXZpb3VzVmFsdWUgPSBjaGFuZ2VzW2tleV0ucHJldmlvdXNWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gU3RvcmUgdGhpcyBjaGFuZ2VcbiAgICAgICAgICBjaGFuZ2VzW2tleV0gPSBuZXcgU2ltcGxlQ2hhbmdlKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdHJpZ2dlck9uQ2hhbmdlc0hvb2soKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uLiRvbkNoYW5nZXMoY2hhbmdlcyk7XG4gICAgICAgIC8vIE5vdyBjbGVhciB0aGUgY2hhbmdlcyBzbyB0aGF0IHdlIHNjaGVkdWxlIG9uQ2hhbmdlcyB3aGVuIG1vcmUgY2hhbmdlcyBhcnJpdmVcbiAgICAgICAgY2hhbmdlcyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW5pdGlhbENoYW5nZXM6IGluaXRpYWxDaGFuZ2VzLFxuICAgICAgICByZW1vdmVXYXRjaGVzOiByZW1vdmVXYXRjaENvbGxlY3Rpb24ubGVuZ3RoICYmIGZ1bmN0aW9uIHJlbW92ZVdhdGNoZXMoKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcmVtb3ZlV2F0Y2hDb2xsZWN0aW9uLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAgIHJlbW92ZVdhdGNoQ29sbGVjdGlvbltpXSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1dO1xufVxuXG5mdW5jdGlvbiBTaW1wbGVDaGFuZ2UocHJldmlvdXMsIGN1cnJlbnQpIHtcbiAgdGhpcy5wcmV2aW91c1ZhbHVlID0gcHJldmlvdXM7XG4gIHRoaXMuY3VycmVudFZhbHVlID0gY3VycmVudDtcbn1cblNpbXBsZUNoYW5nZS5wcm90b3R5cGUuaXNGaXJzdENoYW5nZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5wcmV2aW91c1ZhbHVlID09PSBfVU5JTklUSUFMSVpFRF9WQUxVRTsgfTtcblxuXG52YXIgUFJFRklYX1JFR0VYUCA9IC9eKCg/Onh8ZGF0YSlbOlxcLV9dKS9pO1xudmFyIFNQRUNJQUxfQ0hBUlNfUkVHRVhQID0gL1s6XFwtX10rKC4pL2c7XG5cbi8qKlxuICogQ29udmVydHMgYWxsIGFjY2VwdGVkIGRpcmVjdGl2ZXMgZm9ybWF0IGludG8gcHJvcGVyIGRpcmVjdGl2ZSBuYW1lLlxuICogQHBhcmFtIG5hbWUgTmFtZSB0byBub3JtYWxpemVcbiAqL1xuZnVuY3Rpb24gZGlyZWN0aXZlTm9ybWFsaXplKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWVcbiAgICAucmVwbGFjZShQUkVGSVhfUkVHRVhQLCAnJylcbiAgICAucmVwbGFjZShTUEVDSUFMX0NIQVJTX1JFR0VYUCwgZnVuY3Rpb24oXywgbGV0dGVyLCBvZmZzZXQpIHtcbiAgICAgIHJldHVybiBvZmZzZXQgPyBsZXR0ZXIudG9VcHBlckNhc2UoKSA6IGxldHRlcjtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgdHlwZVxuICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgc2hhcmVkIG9iamVjdCBiZXR3ZWVuIGRpcmVjdGl2ZSBjb21waWxlIC8gbGlua2luZyBmdW5jdGlvbnMgd2hpY2ggY29udGFpbnMgbm9ybWFsaXplZCBET01cbiAqIGVsZW1lbnQgYXR0cmlidXRlcy4gVGhlIHZhbHVlcyByZWZsZWN0IGN1cnJlbnQgYmluZGluZyBzdGF0ZSBge3sgfX1gLiBUaGUgbm9ybWFsaXphdGlvbiBpc1xuICogbmVlZGVkIHNpbmNlIGFsbCBvZiB0aGVzZSBhcmUgdHJlYXRlZCBhcyBlcXVpdmFsZW50IGluIEFuZ3VsYXJKUzpcbiAqXG4gKiBgYGBcbiAqICAgIDxzcGFuIG5nOmJpbmQ9XCJhXCIgbmctYmluZD1cImFcIiBkYXRhLW5nLWJpbmQ9XCJhXCIgeC1uZy1iaW5kPVwiYVwiPlxuICogYGBgXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvcGVydHlcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhdHRyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIG1hcCBvZiBET00gZWxlbWVudCBhdHRyaWJ1dGUgbmFtZXMgdG8gdGhlIG5vcm1hbGl6ZWQgbmFtZS4gVGhpcyBpc1xuICogbmVlZGVkIHRvIGRvIHJldmVyc2UgbG9va3VwIGZyb20gbm9ybWFsaXplZCBuYW1lIGJhY2sgdG8gYWN0dWFsIG5hbWUuXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRzZXRcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTZXQgRE9NIGVsZW1lbnQgYXR0cmlidXRlIHZhbHVlLlxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOb3JtYWxpemVkIGVsZW1lbnQgYXR0cmlidXRlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIG1vZGlmeS4gVGhlIG5hbWUgaXNcbiAqICAgICAgICAgIHJldmVyc2UtdHJhbnNsYXRlZCB1c2luZyB0aGUge0BsaW5rIG5nLiRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhdHRyICRhdHRyfVxuICogICAgICAgICAgcHJvcGVydHkgdG8gdGhlIG9yaWdpbmFsIG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVmFsdWUgdG8gc2V0IHRoZSBhdHRyaWJ1dGUgdG8uIFRoZSB2YWx1ZSBjYW4gYmUgYW4gaW50ZXJwb2xhdGVkIHN0cmluZy5cbiAqL1xuXG5cblxuLyoqXG4gKiBDbG9zdXJlIGNvbXBpbGVyIHR5cGUgaW5mb3JtYXRpb25cbiAqL1xuXG5mdW5jdGlvbiBub2Rlc2V0TGlua2luZ0ZuKFxuICAvKiBhbmd1bGFyLlNjb3BlICovIHNjb3BlLFxuICAvKiBOb2RlTGlzdCAqLyBub2RlTGlzdCxcbiAgLyogRWxlbWVudCAqLyByb290RWxlbWVudCxcbiAgLyogZnVuY3Rpb24oRnVuY3Rpb24pICovIGJvdW5kVHJhbnNjbHVkZUZuXG4pIHt9XG5cbmZ1bmN0aW9uIGRpcmVjdGl2ZUxpbmtpbmdGbihcbiAgLyogbm9kZXNldExpbmtpbmdGbiAqLyBub2Rlc2V0TGlua2luZ0ZuLFxuICAvKiBhbmd1bGFyLlNjb3BlICovIHNjb3BlLFxuICAvKiBOb2RlICovIG5vZGUsXG4gIC8qIEVsZW1lbnQgKi8gcm9vdEVsZW1lbnQsXG4gIC8qIGZ1bmN0aW9uKEZ1bmN0aW9uKSAqLyBib3VuZFRyYW5zY2x1ZGVGblxuKSB7fVxuXG5mdW5jdGlvbiB0b2tlbkRpZmZlcmVuY2Uoc3RyMSwgc3RyMikge1xuICB2YXIgdmFsdWVzID0gJycsXG4gICAgICB0b2tlbnMxID0gc3RyMS5zcGxpdCgvXFxzKy8pLFxuICAgICAgdG9rZW5zMiA9IHN0cjIuc3BsaXQoL1xccysvKTtcblxuICBvdXRlcjpcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMxLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zMVtpXTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRva2VuczIubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmICh0b2tlbiA9PT0gdG9rZW5zMltqXSkgY29udGludWUgb3V0ZXI7XG4gICAgfVxuICAgIHZhbHVlcyArPSAodmFsdWVzLmxlbmd0aCA+IDAgPyAnICcgOiAnJykgKyB0b2tlbjtcbiAgfVxuICByZXR1cm4gdmFsdWVzO1xufVxuXG5mdW5jdGlvbiByZW1vdmVDb21tZW50cyhqcU5vZGVzKSB7XG4gIGpxTm9kZXMgPSBqcUxpdGUoanFOb2Rlcyk7XG4gIHZhciBpID0ganFOb2Rlcy5sZW5ndGg7XG5cbiAgaWYgKGkgPD0gMSkge1xuICAgIHJldHVybiBqcU5vZGVzO1xuICB9XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHZhciBub2RlID0ganFOb2Rlc1tpXTtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0NPTU1FTlQgfHxcbiAgICAgICAobm9kZS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX1RFWFQgJiYgbm9kZS5ub2RlVmFsdWUudHJpbSgpID09PSAnJykpIHtcbiAgICAgICAgIHNwbGljZS5jYWxsKGpxTm9kZXMsIGksIDEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ganFOb2Rlcztcbn1cblxudmFyICRjb250cm9sbGVyTWluRXJyID0gbWluRXJyKCckY29udHJvbGxlcicpO1xuXG5cbnZhciBDTlRSTF9SRUcgPSAvXihcXFMrKShcXHMrYXNcXHMrKFtcXHckXSspKT8kLztcbmZ1bmN0aW9uIGlkZW50aWZpZXJGb3JDb250cm9sbGVyKGNvbnRyb2xsZXIsIGlkZW50KSB7XG4gIGlmIChpZGVudCAmJiBpc1N0cmluZyhpZGVudCkpIHJldHVybiBpZGVudDtcbiAgaWYgKGlzU3RyaW5nKGNvbnRyb2xsZXIpKSB7XG4gICAgdmFyIG1hdGNoID0gQ05UUkxfUkVHLmV4ZWMoY29udHJvbGxlcik7XG4gICAgaWYgKG1hdGNoKSByZXR1cm4gbWF0Y2hbM107XG4gIH1cbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGNvbnRyb2xsZXJQcm92aWRlclxuICogQHRoaXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSB7QGxpbmsgbmcuJGNvbnRyb2xsZXIgJGNvbnRyb2xsZXIgc2VydmljZX0gaXMgdXNlZCBieSBBbmd1bGFySlMgdG8gY3JlYXRlIG5ld1xuICogY29udHJvbGxlcnMuXG4gKlxuICogVGhpcyBwcm92aWRlciBhbGxvd3MgY29udHJvbGxlciByZWdpc3RyYXRpb24gdmlhIHRoZVxuICoge0BsaW5rIG5nLiRjb250cm9sbGVyUHJvdmlkZXIjcmVnaXN0ZXIgcmVnaXN0ZXJ9IG1ldGhvZC5cbiAqL1xuZnVuY3Rpb24gJENvbnRyb2xsZXJQcm92aWRlcigpIHtcbiAgdmFyIGNvbnRyb2xsZXJzID0ge307XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbnRyb2xsZXJQcm92aWRlciNoYXNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQ29udHJvbGxlciBuYW1lIHRvIGNoZWNrLlxuICAgKi9cbiAgdGhpcy5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIGNvbnRyb2xsZXJzLmhhc093blByb3BlcnR5KG5hbWUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb250cm9sbGVyUHJvdmlkZXIjcmVnaXN0ZXJcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIENvbnRyb2xsZXIgbmFtZSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBjb250cm9sbGVycyB3aGVyZSB0aGUga2V5cyBhcmVcbiAgICogICAgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgY29uc3RydWN0b3JzLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5fSBjb25zdHJ1Y3RvciBDb250cm9sbGVyIGNvbnN0cnVjdG9yIGZuIChvcHRpb25hbGx5IGRlY29yYXRlZCB3aXRoIERJXG4gICAqICAgIGFubm90YXRpb25zIGluIHRoZSBhcnJheSBub3RhdGlvbikuXG4gICAqL1xuICB0aGlzLnJlZ2lzdGVyID0gZnVuY3Rpb24obmFtZSwgY29uc3RydWN0b3IpIHtcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnY29udHJvbGxlcicpO1xuICAgIGlmIChpc09iamVjdChuYW1lKSkge1xuICAgICAgZXh0ZW5kKGNvbnRyb2xsZXJzLCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udHJvbGxlcnNbbmFtZV0gPSBjb25zdHJ1Y3RvcjtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gWyckaW5qZWN0b3InLCBmdW5jdGlvbigkaW5qZWN0b3IpIHtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQG5hbWUgJGNvbnRyb2xsZXJcbiAgICAgKiBAcmVxdWlyZXMgJGluamVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gY29uc3RydWN0b3IgSWYgY2FsbGVkIHdpdGggYSBmdW5jdGlvbiB0aGVuIGl0J3MgY29uc2lkZXJlZCB0byBiZSB0aGVcbiAgICAgKiAgICBjb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLiBPdGhlcndpc2UgaXQncyBjb25zaWRlcmVkIHRvIGJlIGEgc3RyaW5nIHdoaWNoIGlzIHVzZWRcbiAgICAgKiAgICB0byByZXRyaWV2ZSB0aGUgY29udHJvbGxlciBjb25zdHJ1Y3RvciB1c2luZyB0aGUgZm9sbG93aW5nIHN0ZXBzOlxuICAgICAqXG4gICAgICogICAgKiBjaGVjayBpZiBhIGNvbnRyb2xsZXIgd2l0aCBnaXZlbiBuYW1lIGlzIHJlZ2lzdGVyZWQgdmlhIGAkY29udHJvbGxlclByb3ZpZGVyYFxuICAgICAqICAgICogY2hlY2sgaWYgZXZhbHVhdGluZyB0aGUgc3RyaW5nIG9uIHRoZSBjdXJyZW50IHNjb3BlIHJldHVybnMgYSBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogICAgVGhlIHN0cmluZyBjYW4gdXNlIHRoZSBgY29udHJvbGxlciBhcyBwcm9wZXJ0eWAgc3ludGF4LCB3aGVyZSB0aGUgY29udHJvbGxlciBpbnN0YW5jZSBpcyBwdWJsaXNoZWRcbiAgICAgKiAgICBhcyB0aGUgc3BlY2lmaWVkIHByb3BlcnR5IG9uIHRoZSBgc2NvcGVgOyB0aGUgYHNjb3BlYCBtdXN0IGJlIGluamVjdGVkIGludG8gYGxvY2Fsc2AgcGFyYW0gZm9yIHRoaXNcbiAgICAgKiAgICB0byB3b3JrIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBsb2NhbHMgSW5qZWN0aW9uIGxvY2FscyBmb3IgQ29udHJvbGxlci5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEluc3RhbmNlIG9mIGdpdmVuIGNvbnRyb2xsZXIuXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBgJGNvbnRyb2xsZXJgIHNlcnZpY2UgaXMgcmVzcG9uc2libGUgZm9yIGluc3RhbnRpYXRpbmcgY29udHJvbGxlcnMuXG4gICAgICpcbiAgICAgKiBJdCdzIGp1c3QgYSBzaW1wbGUgY2FsbCB0byB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfSwgYnV0IGV4dHJhY3RlZCBpbnRvXG4gICAgICogYSBzZXJ2aWNlLCBzbyB0aGF0IG9uZSBjYW4gb3ZlcnJpZGUgdGhpcyBzZXJ2aWNlIHdpdGggW0JDIHZlcnNpb25dKGh0dHBzOi8vZ2lzdC5naXRodWIuY29tLzE2NDk3ODgpLlxuICAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiAkY29udHJvbGxlcihleHByZXNzaW9uLCBsb2NhbHMsIGxhdGVyLCBpZGVudCkge1xuICAgICAgLy8gUFJJVkFURSBBUEk6XG4gICAgICAvLyAgIHBhcmFtIGBsYXRlcmAgLS0tIGluZGljYXRlcyB0aGF0IHRoZSBjb250cm9sbGVyJ3MgY29uc3RydWN0b3IgaXMgaW52b2tlZCBhdCBhIGxhdGVyIHRpbWUuXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgIElmIHRydWUsICRjb250cm9sbGVyIHdpbGwgYWxsb2NhdGUgdGhlIG9iamVjdCB3aXRoIHRoZSBjb3JyZWN0XG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHByb3RvdHlwZSBjaGFpbiwgYnV0IHdpbGwgbm90IGludm9rZSB0aGUgY29udHJvbGxlciB1bnRpbCBhIHJldHVybmVkXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrIGlzIGludm9rZWQuXG4gICAgICAvLyAgIHBhcmFtIGBpZGVudGAgLS0tIEFuIG9wdGlvbmFsIGxhYmVsIHdoaWNoIG92ZXJyaWRlcyB0aGUgbGFiZWwgcGFyc2VkIGZyb20gdGhlIGNvbnRyb2xsZXJcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiwgaWYgYW55LlxuICAgICAgdmFyIGluc3RhbmNlLCBtYXRjaCwgY29uc3RydWN0b3IsIGlkZW50aWZpZXI7XG4gICAgICBsYXRlciA9IGxhdGVyID09PSB0cnVlO1xuICAgICAgaWYgKGlkZW50ICYmIGlzU3RyaW5nKGlkZW50KSkge1xuICAgICAgICBpZGVudGlmaWVyID0gaWRlbnQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1N0cmluZyhleHByZXNzaW9uKSkge1xuICAgICAgICBtYXRjaCA9IGV4cHJlc3Npb24ubWF0Y2goQ05UUkxfUkVHKTtcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgIHRocm93ICRjb250cm9sbGVyTWluRXJyKCdjdHJsZm10JyxcbiAgICAgICAgICAgICdCYWRseSBmb3JtZWQgY29udHJvbGxlciBzdHJpbmcgXFwnezB9XFwnLiAnICtcbiAgICAgICAgICAgICdNdXN0IG1hdGNoIGBfX25hbWVfXyBhcyBfX2lkX19gIG9yIGBfX25hbWVfX2AuJywgZXhwcmVzc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3RydWN0b3IgPSBtYXRjaFsxXTtcbiAgICAgICAgaWRlbnRpZmllciA9IGlkZW50aWZpZXIgfHwgbWF0Y2hbM107XG4gICAgICAgIGV4cHJlc3Npb24gPSBjb250cm9sbGVycy5oYXNPd25Qcm9wZXJ0eShjb25zdHJ1Y3RvcilcbiAgICAgICAgICAgID8gY29udHJvbGxlcnNbY29uc3RydWN0b3JdXG4gICAgICAgICAgICA6IGdldHRlcihsb2NhbHMuJHNjb3BlLCBjb25zdHJ1Y3RvciwgdHJ1ZSk7XG5cbiAgICAgICAgaWYgKCFleHByZXNzaW9uKSB7XG4gICAgICAgICAgdGhyb3cgJGNvbnRyb2xsZXJNaW5FcnIoJ2N0cmxyZWcnLFxuICAgICAgICAgICAgJ1RoZSBjb250cm9sbGVyIHdpdGggdGhlIG5hbWUgXFwnezB9XFwnIGlzIG5vdCByZWdpc3RlcmVkLicsIGNvbnN0cnVjdG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFzc2VydEFyZ0ZuKGV4cHJlc3Npb24sIGNvbnN0cnVjdG9yLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxhdGVyKSB7XG4gICAgICAgIC8vIEluc3RhbnRpYXRlIGNvbnRyb2xsZXIgbGF0ZXI6XG4gICAgICAgIC8vIFRoaXMgbWFjaGluZXJ5IGlzIHVzZWQgdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoZSBvYmplY3QgYmVmb3JlIGNhbGxpbmcgdGhlXG4gICAgICAgIC8vIGNvbnRyb2xsZXIncyBjb25zdHJ1Y3RvciBpdHNlbGYuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gdGhlIGNvbnRyb2xsZXIgYmVmb3JlIHRoZSBjb25zdHJ1Y3RvciBpc1xuICAgICAgICAvLyBpbnZva2VkLiBQcmltYXJpbHksIHRoaXMgaXMgdXNlZCBmb3IgaXNvbGF0ZSBzY29wZSBiaW5kaW5ncyBpbiAkY29tcGlsZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBmZWF0dXJlIGlzIG5vdCBpbnRlbmRlZCBmb3IgdXNlIGJ5IGFwcGxpY2F0aW9ucywgYW5kIGlzIHRodXMgbm90IGRvY3VtZW50ZWRcbiAgICAgICAgLy8gcHVibGljbHkuXG4gICAgICAgIC8vIE9iamVjdCBjcmVhdGlvbjogaHR0cDovL2pzcGVyZi5jb20vY3JlYXRlLWNvbnN0cnVjdG9yLzJcbiAgICAgICAgdmFyIGNvbnRyb2xsZXJQcm90b3R5cGUgPSAoaXNBcnJheShleHByZXNzaW9uKSA/XG4gICAgICAgICAgZXhwcmVzc2lvbltleHByZXNzaW9uLmxlbmd0aCAtIDFdIDogZXhwcmVzc2lvbikucHJvdG90eXBlO1xuICAgICAgICBpbnN0YW5jZSA9IE9iamVjdC5jcmVhdGUoY29udHJvbGxlclByb3RvdHlwZSB8fCBudWxsKTtcblxuICAgICAgICBpZiAoaWRlbnRpZmllcikge1xuICAgICAgICAgIGFkZElkZW50aWZpZXIobG9jYWxzLCBpZGVudGlmaWVyLCBpbnN0YW5jZSwgY29uc3RydWN0b3IgfHwgZXhwcmVzc2lvbi5uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gJGNvbnRyb2xsZXJJbml0KCkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSAkaW5qZWN0b3IuaW52b2tlKGV4cHJlc3Npb24sIGluc3RhbmNlLCBsb2NhbHMsIGNvbnN0cnVjdG9yKTtcbiAgICAgICAgICBpZiAocmVzdWx0ICE9PSBpbnN0YW5jZSAmJiAoaXNPYmplY3QocmVzdWx0KSB8fCBpc0Z1bmN0aW9uKHJlc3VsdCkpKSB7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IHJlc3VsdDtcbiAgICAgICAgICAgIGlmIChpZGVudGlmaWVyKSB7XG4gICAgICAgICAgICAgIC8vIElmIHJlc3VsdCBjaGFuZ2VkLCByZS1hc3NpZ24gY29udHJvbGxlckFzIHZhbHVlIHRvIHNjb3BlLlxuICAgICAgICAgICAgICBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIGNvbnN0cnVjdG9yIHx8IGV4cHJlc3Npb24ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgfSwge1xuICAgICAgICAgIGluc3RhbmNlOiBpbnN0YW5jZSxcbiAgICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpbnN0YW5jZSA9ICRpbmplY3Rvci5pbnN0YW50aWF0ZShleHByZXNzaW9uLCBsb2NhbHMsIGNvbnN0cnVjdG9yKTtcblxuICAgICAgaWYgKGlkZW50aWZpZXIpIHtcbiAgICAgICAgYWRkSWRlbnRpZmllcihsb2NhbHMsIGlkZW50aWZpZXIsIGluc3RhbmNlLCBjb25zdHJ1Y3RvciB8fCBleHByZXNzaW9uLm5hbWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGFkZElkZW50aWZpZXIobG9jYWxzLCBpZGVudGlmaWVyLCBpbnN0YW5jZSwgbmFtZSkge1xuICAgICAgaWYgKCEobG9jYWxzICYmIGlzT2JqZWN0KGxvY2Fscy4kc2NvcGUpKSkge1xuICAgICAgICB0aHJvdyBtaW5FcnIoJyRjb250cm9sbGVyJykoJ25vc2NwJyxcbiAgICAgICAgICAnQ2Fubm90IGV4cG9ydCBjb250cm9sbGVyIFxcJ3swfVxcJyBhcyBcXCd7MX1cXCchIE5vICRzY29wZSBvYmplY3QgcHJvdmlkZWQgdmlhIGBsb2NhbHNgLicsXG4gICAgICAgICAgbmFtZSwgaWRlbnRpZmllcik7XG4gICAgICB9XG5cbiAgICAgIGxvY2Fscy4kc2NvcGVbaWRlbnRpZmllcl0gPSBpbnN0YW5jZTtcbiAgICB9XG4gIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkZG9jdW1lbnRcbiAqIEByZXF1aXJlcyAkd2luZG93XG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSB7QGxpbmsgYW5ndWxhci5lbGVtZW50IGpRdWVyeSBvciBqcUxpdGV9IHdyYXBwZXIgZm9yIHRoZSBicm93c2VyJ3MgYHdpbmRvdy5kb2N1bWVudGAgb2JqZWN0LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJkb2N1bWVudEV4YW1wbGVcIiBuYW1lPVwiZG9jdW1lbnRcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPHA+JGRvY3VtZW50IHRpdGxlOiA8YiBuZy1iaW5kPVwidGl0bGVcIj48L2I+PC9wPlxuICAgICAgICAgPHA+d2luZG93LmRvY3VtZW50IHRpdGxlOiA8YiBuZy1iaW5kPVwid2luZG93VGl0bGVcIj48L2I+PC9wPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnZG9jdW1lbnRFeGFtcGxlJywgW10pXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckZG9jdW1lbnQnLCBmdW5jdGlvbigkc2NvcGUsICRkb2N1bWVudCkge1xuICAgICAgICAgICAkc2NvcGUudGl0bGUgPSAkZG9jdW1lbnRbMF0udGl0bGU7XG4gICAgICAgICAgICRzY29wZS53aW5kb3dUaXRsZSA9IGFuZ3VsYXIuZWxlbWVudCh3aW5kb3cuZG9jdW1lbnQpWzBdLnRpdGxlO1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uICREb2N1bWVudFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICByZXR1cm4ganFMaXRlKHdpbmRvdy5kb2N1bWVudCk7XG4gIH1dO1xufVxuXG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEB0aGlzXG4gKiBMaXN0ZW5zIGZvciBkb2N1bWVudCB2aXNpYmlsaXR5IGNoYW5nZSBhbmQgbWFrZXMgdGhlIGN1cnJlbnQgc3RhdHVzIGFjY2Vzc2libGUuXG4gKi9cbmZ1bmN0aW9uICQkSXNEb2N1bWVudEhpZGRlblByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRkb2N1bWVudCcsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJGRvY3VtZW50LCAkcm9vdFNjb3BlKSB7XG4gICAgdmFyIGRvYyA9ICRkb2N1bWVudFswXTtcbiAgICB2YXIgaGlkZGVuID0gZG9jICYmIGRvYy5oaWRkZW47XG5cbiAgICAkZG9jdW1lbnQub24oJ3Zpc2liaWxpdHljaGFuZ2UnLCBjaGFuZ2VMaXN0ZW5lcik7XG5cbiAgICAkcm9vdFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICRkb2N1bWVudC5vZmYoJ3Zpc2liaWxpdHljaGFuZ2UnLCBjaGFuZ2VMaXN0ZW5lcik7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBjaGFuZ2VMaXN0ZW5lcigpIHtcbiAgICAgIGhpZGRlbiA9IGRvYy5oaWRkZW47XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGhpZGRlbjtcbiAgICB9O1xuICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGV4Y2VwdGlvbkhhbmRsZXJcbiAqIEByZXF1aXJlcyBuZy4kbG9nXG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQW55IHVuY2F1Z2h0IGV4Y2VwdGlvbiBpbiBBbmd1bGFySlMgZXhwcmVzc2lvbnMgaXMgZGVsZWdhdGVkIHRvIHRoaXMgc2VydmljZS5cbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHNpbXBseSBkZWxlZ2F0ZXMgdG8gYCRsb2cuZXJyb3JgIHdoaWNoIGxvZ3MgaXQgaW50b1xuICogdGhlIGJyb3dzZXIgY29uc29sZS5cbiAqXG4gKiBJbiB1bml0IHRlc3RzLCBpZiBgYW5ndWxhci1tb2Nrcy5qc2AgaXMgbG9hZGVkLCB0aGlzIHNlcnZpY2UgaXMgb3ZlcnJpZGRlbiBieVxuICoge0BsaW5rIG5nTW9jay4kZXhjZXB0aW9uSGFuZGxlciBtb2NrICRleGNlcHRpb25IYW5kbGVyfSB3aGljaCBhaWRzIGluIHRlc3RpbmcuXG4gKlxuICogIyMgRXhhbXBsZTpcbiAqXG4gKiBUaGUgZXhhbXBsZSBiZWxvdyB3aWxsIG92ZXJ3cml0ZSB0aGUgZGVmYXVsdCBgJGV4Y2VwdGlvbkhhbmRsZXJgIGluIG9yZGVyIHRvIChhKSBsb2cgdW5jYXVnaHRcbiAqIGVycm9ycyB0byB0aGUgYmFja2VuZCBmb3IgbGF0ZXIgaW5zcGVjdGlvbiBieSB0aGUgZGV2ZWxvcGVycyBhbmQgKGIpIHRvIHVzZSBgJGxvZy53YXJuKClgIGluc3RlYWRcbiAqIG9mIGAkbG9nLmVycm9yKClgLlxuICpcbiAqIGBgYGpzXG4gKiAgIGFuZ3VsYXIuXG4gKiAgICAgbW9kdWxlKCdleGNlcHRpb25PdmVyd3JpdGUnLCBbXSkuXG4gKiAgICAgZmFjdG9yeSgnJGV4Y2VwdGlvbkhhbmRsZXInLCBbJyRsb2cnLCAnbG9nRXJyb3JzVG9CYWNrZW5kJywgZnVuY3Rpb24oJGxvZywgbG9nRXJyb3JzVG9CYWNrZW5kKSB7XG4gKiAgICAgICByZXR1cm4gZnVuY3Rpb24gbXlFeGNlcHRpb25IYW5kbGVyKGV4Y2VwdGlvbiwgY2F1c2UpIHtcbiAqICAgICAgICAgbG9nRXJyb3JzVG9CYWNrZW5kKGV4Y2VwdGlvbiwgY2F1c2UpO1xuICogICAgICAgICAkbG9nLndhcm4oZXhjZXB0aW9uLCBjYXVzZSk7XG4gKiAgICAgICB9O1xuICogICAgIH1dKTtcbiAqIGBgYFxuICpcbiAqIDxociAvPlxuICogTm90ZSwgdGhhdCBjb2RlIGV4ZWN1dGVkIGluIGV2ZW50LWxpc3RlbmVycyAoZXZlbiB0aG9zZSByZWdpc3RlcmVkIHVzaW5nIGpxTGl0ZSdzIGBvbmAvYGJpbmRgXG4gKiBtZXRob2RzKSBkb2VzIG5vdCBkZWxlZ2F0ZSBleGNlcHRpb25zIHRvIHRoZSB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9XG4gKiAodW5sZXNzIGV4ZWN1dGVkIGR1cmluZyBhIGRpZ2VzdCkuXG4gKlxuICogSWYgeW91IHdpc2gsIHlvdSBjYW4gbWFudWFsbHkgZGVsZWdhdGUgZXhjZXB0aW9ucywgZS5nLlxuICogYHRyeSB7IC4uLiB9IGNhdGNoKGUpIHsgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7IH1gXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXhjZXB0aW9uIEV4Y2VwdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhlIGVycm9yLlxuICogQHBhcmFtIHtzdHJpbmc9fSBjYXVzZSBPcHRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY29udGV4dCBpbiB3aGljaFxuICogICAgICAgdGhlIGVycm9yIHdhcyB0aHJvd24uXG4gKlxuICovXG5mdW5jdGlvbiAkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRsb2cnLCBmdW5jdGlvbigkbG9nKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGV4Y2VwdGlvbiwgY2F1c2UpIHtcbiAgICAgICRsb2cuZXJyb3IuYXBwbHkoJGxvZywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XTtcbn1cblxudmFyICQkRm9yY2VSZWZsb3dQcm92aWRlciA9IC8qKiBAdGhpcyAqLyBmdW5jdGlvbigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckZG9jdW1lbnQnLCBmdW5jdGlvbigkZG9jdW1lbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZG9tTm9kZSkge1xuICAgICAgLy90aGUgbGluZSBiZWxvdyB3aWxsIGZvcmNlIHRoZSBicm93c2VyIHRvIHBlcmZvcm0gYSByZXBhaW50IHNvXG4gICAgICAvL3RoYXQgYWxsIHRoZSBhbmltYXRlZCBlbGVtZW50cyB3aXRoaW4gdGhlIGFuaW1hdGlvbiBmcmFtZSB3aWxsXG4gICAgICAvL2JlIHByb3Blcmx5IHVwZGF0ZWQgYW5kIGRyYXduIG9uIHNjcmVlbi4gVGhpcyBpcyByZXF1aXJlZCB0b1xuICAgICAgLy9lbnN1cmUgdGhhdCB0aGUgcHJlcGFyYXRpb24gYW5pbWF0aW9uIGlzIHByb3Blcmx5IGZsdXNoZWQgc28gdGhhdFxuICAgICAgLy90aGUgYWN0aXZlIHN0YXRlIHBpY2tzIHVwIGZyb20gdGhlcmUuIERPIE5PVCBSRU1PVkUgVEhJUyBMSU5FLlxuICAgICAgLy9ETyBOT1QgT1BUSU1JWkUgVEhJUyBMSU5FLiBUSEUgTUlOSUZJRVIgV0lMTCBSRU1PVkUgSVQgT1RIRVJXSVNFIFdISUNIXG4gICAgICAvL1dJTEwgUkVTVUxUIElOIEFOIFVOUFJFRElDVEFCTEUgQlVHIFRIQVQgSVMgVkVSWSBIQVJEIFRPIFRSQUNLIERPV04gQU5EXG4gICAgICAvL1dJTEwgVEFLRSBZRUFSUyBBV0FZIEZST00gWU9VUiBMSUZFLlxuICAgICAgaWYgKGRvbU5vZGUpIHtcbiAgICAgICAgaWYgKCFkb21Ob2RlLm5vZGVUeXBlICYmIGRvbU5vZGUgaW5zdGFuY2VvZiBqcUxpdGUpIHtcbiAgICAgICAgICBkb21Ob2RlID0gZG9tTm9kZVswXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9tTm9kZSA9ICRkb2N1bWVudFswXS5ib2R5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRvbU5vZGUub2Zmc2V0V2lkdGggKyAxO1xuICAgIH07XG4gIH1dO1xufTtcblxudmFyIEFQUExJQ0FUSU9OX0pTT04gPSAnYXBwbGljYXRpb24vanNvbic7XG52YXIgQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04gPSB7J0NvbnRlbnQtVHlwZSc6IEFQUExJQ0FUSU9OX0pTT04gKyAnO2NoYXJzZXQ9dXRmLTgnfTtcbnZhciBKU09OX1NUQVJUID0gL15cXFt8Xlxceyg/IVxceykvO1xudmFyIEpTT05fRU5EUyA9IHtcbiAgJ1snOiAvXSQvLFxuICAneyc6IC99JC9cbn07XG52YXIgSlNPTl9QUk9URUNUSU9OX1BSRUZJWCA9IC9eXFwpXVxcfScsP1xcbi87XG52YXIgJGh0dHBNaW5FcnIgPSBtaW5FcnIoJyRodHRwJyk7XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVZhbHVlKHYpIHtcbiAgaWYgKGlzT2JqZWN0KHYpKSB7XG4gICAgcmV0dXJuIGlzRGF0ZSh2KSA/IHYudG9JU09TdHJpbmcoKSA6IHRvSnNvbih2KTtcbiAgfVxuICByZXR1cm4gdjtcbn1cblxuXG4vKiogQHRoaXMgKi9cbmZ1bmN0aW9uICRIdHRwUGFyYW1TZXJpYWxpemVyUHJvdmlkZXIoKSB7XG4gIC8qKlxuICAgKiBAbmdkb2Mgc2VydmljZVxuICAgKiBAbmFtZSAkaHR0cFBhcmFtU2VyaWFsaXplclxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogRGVmYXVsdCB7QGxpbmsgJGh0dHAgYCRodHRwYH0gcGFyYW1zIHNlcmlhbGl6ZXIgdGhhdCBjb252ZXJ0cyBvYmplY3RzIHRvIHN0cmluZ3NcbiAgICogYWNjb3JkaW5nIHRvIHRoZSBmb2xsb3dpbmcgcnVsZXM6XG4gICAqXG4gICAqICogYHsnZm9vJzogJ2Jhcid9YCByZXN1bHRzIGluIGBmb289YmFyYFxuICAgKiAqIGB7J2Zvbyc6IERhdGUubm93KCl9YCByZXN1bHRzIGluIGBmb289MjAxNS0wNC0wMVQwOSUzQTUwJTNBNDkuMjYyWmAgKGB0b0lTT1N0cmluZygpYCBhbmQgZW5jb2RlZCByZXByZXNlbnRhdGlvbiBvZiBhIERhdGUgb2JqZWN0KVxuICAgKiAqIGB7J2Zvbyc6IFsnYmFyJywgJ2JheiddfWAgcmVzdWx0cyBpbiBgZm9vPWJhciZmb289YmF6YCAocmVwZWF0ZWQga2V5IGZvciBlYWNoIGFycmF5IGVsZW1lbnQpXG4gICAqICogYHsnZm9vJzogeydiYXInOidiYXonfX1gIHJlc3VsdHMgaW4gYGZvbz0lN0IlMjJiYXIlMjIlM0ElMjJiYXolMjIlN0RgIChzdHJpbmdpZmllZCBhbmQgZW5jb2RlZCByZXByZXNlbnRhdGlvbiBvZiBhbiBvYmplY3QpXG4gICAqXG4gICAqIE5vdGUgdGhhdCBzZXJpYWxpemVyIHdpbGwgc29ydCB0aGUgcmVxdWVzdCBwYXJhbWV0ZXJzIGFscGhhYmV0aWNhbGx5LlxuICAgKi9cblxuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbmdQYXJhbVNlcmlhbGl6ZXIocGFyYW1zKSB7XG4gICAgICBpZiAoIXBhcmFtcykgcmV0dXJuICcnO1xuICAgICAgdmFyIHBhcnRzID0gW107XG4gICAgICBmb3JFYWNoU29ydGVkKHBhcmFtcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodmFsdWUpIHx8IGlzRnVuY3Rpb24odmFsdWUpKSByZXR1cm47XG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5KSAgKyAnPScgKyBlbmNvZGVVcmlRdWVyeShzZXJpYWxpemVWYWx1ZSh2KSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5KSArICc9JyArIGVuY29kZVVyaVF1ZXJ5KHNlcmlhbGl6ZVZhbHVlKHZhbHVlKSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oJyYnKTtcbiAgICB9O1xuICB9O1xufVxuXG4vKiogQHRoaXMgKi9cbmZ1bmN0aW9uICRIdHRwUGFyYW1TZXJpYWxpemVySlFMaWtlUHJvdmlkZXIoKSB7XG4gIC8qKlxuICAgKiBAbmdkb2Mgc2VydmljZVxuICAgKiBAbmFtZSAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogQWx0ZXJuYXRpdmUge0BsaW5rICRodHRwIGAkaHR0cGB9IHBhcmFtcyBzZXJpYWxpemVyIHRoYXQgZm9sbG93c1xuICAgKiBqUXVlcnkncyBbYHBhcmFtKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vanF1ZXJ5LnBhcmFtLykgbWV0aG9kIGxvZ2ljLlxuICAgKiBUaGUgc2VyaWFsaXplciB3aWxsIGFsc28gc29ydCB0aGUgcGFyYW1zIGFscGhhYmV0aWNhbGx5LlxuICAgKlxuICAgKiBUbyB1c2UgaXQgZm9yIHNlcmlhbGl6aW5nIGAkaHR0cGAgcmVxdWVzdCBwYXJhbWV0ZXJzLCBzZXQgaXQgYXMgdGhlIGBwYXJhbVNlcmlhbGl6ZXJgIHByb3BlcnR5OlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAkaHR0cCh7XG4gICAqICAgdXJsOiBteVVybCxcbiAgICogICBtZXRob2Q6ICdHRVQnLFxuICAgKiAgIHBhcmFtczogbXlQYXJhbXMsXG4gICAqICAgcGFyYW1TZXJpYWxpemVyOiAnJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2UnXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0byBzZXQgaXQgYXMgdGhlIGRlZmF1bHQgYHBhcmFtU2VyaWFsaXplcmAgaW4gdGhlXG4gICAqIHtAbGluayAkaHR0cFByb3ZpZGVyI2RlZmF1bHRzIGAkaHR0cFByb3ZpZGVyYH0uXG4gICAqXG4gICAqIEFkZGl0aW9uYWxseSwgeW91IGNhbiBpbmplY3QgdGhlIHNlcmlhbGl6ZXIgYW5kIHVzZSBpdCBleHBsaWNpdGx5LCBmb3IgZXhhbXBsZSB0byBzZXJpYWxpemVcbiAgICogZm9ybSBkYXRhIGZvciBzdWJtaXNzaW9uOlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAuY29udHJvbGxlcihmdW5jdGlvbigkaHR0cCwgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2UpIHtcbiAgICogICAvLy4uLlxuICAgKlxuICAgKiAgICRodHRwKHtcbiAgICogICAgIHVybDogbXlVcmwsXG4gICAqICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICogICAgIGRhdGE6ICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlKG15RGF0YSksXG4gICAqICAgICBoZWFkZXJzOiB7XG4gICAqICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ1xuICAgKiAgICAgfVxuICAgKiAgIH0pO1xuICAgKlxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqL1xuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24galF1ZXJ5TGlrZVBhcmFtU2VyaWFsaXplcihwYXJhbXMpIHtcbiAgICAgIGlmICghcGFyYW1zKSByZXR1cm4gJyc7XG4gICAgICB2YXIgcGFydHMgPSBbXTtcbiAgICAgIHNlcmlhbGl6ZShwYXJhbXMsICcnLCB0cnVlKTtcbiAgICAgIHJldHVybiBwYXJ0cy5qb2luKCcmJyk7XG5cbiAgICAgIGZ1bmN0aW9uIHNlcmlhbGl6ZSh0b1NlcmlhbGl6ZSwgcHJlZml4LCB0b3BMZXZlbCkge1xuICAgICAgICBpZiAoaXNBcnJheSh0b1NlcmlhbGl6ZSkpIHtcbiAgICAgICAgICBmb3JFYWNoKHRvU2VyaWFsaXplLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHNlcmlhbGl6ZSh2YWx1ZSwgcHJlZml4ICsgJ1snICsgKGlzT2JqZWN0KHZhbHVlKSA/IGluZGV4IDogJycpICsgJ10nKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdCh0b1NlcmlhbGl6ZSkgJiYgIWlzRGF0ZSh0b1NlcmlhbGl6ZSkpIHtcbiAgICAgICAgICBmb3JFYWNoU29ydGVkKHRvU2VyaWFsaXplLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICBzZXJpYWxpemUodmFsdWUsIHByZWZpeCArXG4gICAgICAgICAgICAgICAgKHRvcExldmVsID8gJycgOiAnWycpICtcbiAgICAgICAgICAgICAgICBrZXkgK1xuICAgICAgICAgICAgICAgICh0b3BMZXZlbCA/ICcnIDogJ10nKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24odG9TZXJpYWxpemUpKSB7XG4gICAgICAgICAgICB0b1NlcmlhbGl6ZSA9IHRvU2VyaWFsaXplKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkocHJlZml4KSArICc9JyArXG4gICAgICAgICAgICAgICh0b1NlcmlhbGl6ZSA9PSBudWxsID8gJycgOiBlbmNvZGVVcmlRdWVyeShzZXJpYWxpemVWYWx1ZSh0b1NlcmlhbGl6ZSkpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtKGRhdGEsIGhlYWRlcnMpIHtcbiAgaWYgKGlzU3RyaW5nKGRhdGEpKSB7XG4gICAgLy8gU3RyaXAganNvbiB2dWxuZXJhYmlsaXR5IHByb3RlY3Rpb24gcHJlZml4IGFuZCB0cmltIHdoaXRlc3BhY2VcbiAgICB2YXIgdGVtcERhdGEgPSBkYXRhLnJlcGxhY2UoSlNPTl9QUk9URUNUSU9OX1BSRUZJWCwgJycpLnRyaW0oKTtcblxuICAgIGlmICh0ZW1wRGF0YSkge1xuICAgICAgdmFyIGNvbnRlbnRUeXBlID0gaGVhZGVycygnQ29udGVudC1UeXBlJyk7XG4gICAgICB2YXIgaGFzSnNvbkNvbnRlbnRUeXBlID0gY29udGVudFR5cGUgJiYgKGNvbnRlbnRUeXBlLmluZGV4T2YoQVBQTElDQVRJT05fSlNPTikgPT09IDApO1xuXG4gICAgICBpZiAoaGFzSnNvbkNvbnRlbnRUeXBlIHx8IGlzSnNvbkxpa2UodGVtcERhdGEpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZGF0YSA9IGZyb21Kc29uKHRlbXBEYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGlmICghaGFzSnNvbkNvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgJGh0dHBNaW5FcnIoJ2JhZGRhdGEnLCAnRGF0YSBtdXN0IGJlIGEgdmFsaWQgSlNPTiBvYmplY3QuIFJlY2VpdmVkOiBcInswfVwiLiAnICtcbiAgICAgICAgICAnUGFyc2UgZXJyb3I6IFwiezF9XCInLCBkYXRhLCBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBpc0pzb25MaWtlKHN0cikge1xuICAgIHZhciBqc29uU3RhcnQgPSBzdHIubWF0Y2goSlNPTl9TVEFSVCk7XG4gICAgcmV0dXJuIGpzb25TdGFydCAmJiBKU09OX0VORFNbanNvblN0YXJ0WzBdXS50ZXN0KHN0cik7XG59XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGtleSB2YWx1ZSBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaGVhZGVycyBSYXcgaGVhZGVycyBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge09iamVjdH0gUGFyc2VkIGhlYWRlcnMgYXMga2V5IHZhbHVlIG9iamVjdFxuICovXG5mdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0gY3JlYXRlTWFwKCksIGk7XG5cbiAgZnVuY3Rpb24gZmlsbEluUGFyc2VkKGtleSwgdmFsKSB7XG4gICAgaWYgKGtleSkge1xuICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICB9XG4gIH1cblxuICBpZiAoaXNTdHJpbmcoaGVhZGVycykpIHtcbiAgICBmb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAgICBmaWxsSW5QYXJzZWQobG93ZXJjYXNlKHRyaW0obGluZS5zdWJzdHIoMCwgaSkpKSwgdHJpbShsaW5lLnN1YnN0cihpICsgMSkpKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChpc09iamVjdChoZWFkZXJzKSkge1xuICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24oaGVhZGVyVmFsLCBoZWFkZXJLZXkpIHtcbiAgICAgIGZpbGxJblBhcnNlZChsb3dlcmNhc2UoaGVhZGVyS2V5KSwgdHJpbShoZWFkZXJWYWwpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZWQ7XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBwcm92aWRlcyBhY2Nlc3MgdG8gcGFyc2VkIGhlYWRlcnMuXG4gKlxuICogSGVhZGVycyBhcmUgbGF6eSBwYXJzZWQgd2hlbiBmaXJzdCByZXF1ZXN0ZWQuXG4gKiBAc2VlIHBhcnNlSGVhZGVyc1xuICpcbiAqIEBwYXJhbSB7KHN0cmluZ3xPYmplY3QpfSBoZWFkZXJzIEhlYWRlcnMgdG8gcHJvdmlkZSBhY2Nlc3MgdG8uXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oc3RyaW5nPSl9IFJldHVybnMgYSBnZXR0ZXIgZnVuY3Rpb24gd2hpY2ggaWYgY2FsbGVkIHdpdGg6XG4gKlxuICogICAtIGlmIGNhbGxlZCB3aXRoIGFuIGFyZ3VtZW50IHJldHVybnMgYSBzaW5nbGUgaGVhZGVyIHZhbHVlIG9yIG51bGxcbiAqICAgLSBpZiBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHMgcmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgaGVhZGVycy5cbiAqL1xuZnVuY3Rpb24gaGVhZGVyc0dldHRlcihoZWFkZXJzKSB7XG4gIHZhciBoZWFkZXJzT2JqO1xuXG4gIHJldHVybiBmdW5jdGlvbihuYW1lKSB7XG4gICAgaWYgKCFoZWFkZXJzT2JqKSBoZWFkZXJzT2JqID0gIHBhcnNlSGVhZGVycyhoZWFkZXJzKTtcblxuICAgIGlmIChuYW1lKSB7XG4gICAgICB2YXIgdmFsdWUgPSBoZWFkZXJzT2JqW2xvd2VyY2FzZShuYW1lKV07XG4gICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhlYWRlcnNPYmo7XG4gIH07XG59XG5cblxuLyoqXG4gKiBDaGFpbiBhbGwgZ2l2ZW4gZnVuY3Rpb25zXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGZvciBib3RoIHJlcXVlc3QgYW5kIHJlc3BvbnNlIHRyYW5zZm9ybWluZ1xuICpcbiAqIEBwYXJhbSB7Kn0gZGF0YSBEYXRhIHRvIHRyYW5zZm9ybS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nPSl9IGhlYWRlcnMgSFRUUCBoZWFkZXJzIGdldHRlciBmbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGF0dXMgSFRUUCBzdGF0dXMgY29kZSBvZiB0aGUgcmVzcG9uc2UuXG4gKiBAcGFyYW0geyhGdW5jdGlvbnxBcnJheS48RnVuY3Rpb24+KX0gZm5zIEZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIGZ1bmN0aW9ucy5cbiAqIEByZXR1cm5zIHsqfSBUcmFuc2Zvcm1lZCBkYXRhLlxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIHN0YXR1cywgZm5zKSB7XG4gIGlmIChpc0Z1bmN0aW9uKGZucykpIHtcbiAgICByZXR1cm4gZm5zKGRhdGEsIGhlYWRlcnMsIHN0YXR1cyk7XG4gIH1cblxuICBmb3JFYWNoKGZucywgZnVuY3Rpb24oZm4pIHtcbiAgICBkYXRhID0gZm4oZGF0YSwgaGVhZGVycywgc3RhdHVzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cblxuZnVuY3Rpb24gaXNTdWNjZXNzKHN0YXR1cykge1xuICByZXR1cm4gMjAwIDw9IHN0YXR1cyAmJiBzdGF0dXMgPCAzMDA7XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRodHRwUHJvdmlkZXJcbiAqIEB0aGlzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgYCRodHRwUHJvdmlkZXJgIHRvIGNoYW5nZSB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUge0BsaW5rIG5nLiRodHRwICRodHRwfSBzZXJ2aWNlLlxuICovXG5mdW5jdGlvbiAkSHR0cFByb3ZpZGVyKCkge1xuICAvKipcbiAgICogQG5nZG9jIHByb3BlcnR5XG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjZGVmYXVsdHNcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIE9iamVjdCBjb250YWluaW5nIGRlZmF1bHQgdmFsdWVzIGZvciBhbGwge0BsaW5rIG5nLiRodHRwICRodHRwfSByZXF1ZXN0cy5cbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy5jYWNoZWAqKiAtIHtib29sZWFufE9iamVjdH0gLSBBIGJvb2xlYW4gdmFsdWUgb3Igb2JqZWN0IGNyZWF0ZWQgd2l0aFxuICAgKiB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSBgJGNhY2hlRmFjdG9yeWB9IHRvIGVuYWJsZSBvciBkaXNhYmxlIGNhY2hpbmcgb2YgSFRUUCByZXNwb25zZXNcbiAgICogYnkgZGVmYXVsdC4gU2VlIHtAbGluayAkaHR0cCNjYWNoaW5nICRodHRwIENhY2hpbmd9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiAtICoqYGRlZmF1bHRzLmhlYWRlcnNgKiogLSB7T2JqZWN0fSAtIERlZmF1bHQgaGVhZGVycyBmb3IgYWxsICRodHRwIHJlcXVlc3RzLlxuICAgKiBSZWZlciB0byB7QGxpbmsgbmcuJGh0dHAjc2V0dGluZy1odHRwLWhlYWRlcnMgJGh0dHB9IGZvciBkb2N1bWVudGF0aW9uIG9uXG4gICAqIHNldHRpbmcgZGVmYXVsdCBoZWFkZXJzLlxuICAgKiAgICAgLSAqKmBkZWZhdWx0cy5oZWFkZXJzLmNvbW1vbmAqKlxuICAgKiAgICAgLSAqKmBkZWZhdWx0cy5oZWFkZXJzLnBvc3RgKipcbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5wdXRgKipcbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5wYXRjaGAqKlxuICAgKlxuICAgKiAtICoqYGRlZmF1bHRzLmpzb25wQ2FsbGJhY2tQYXJhbWAqKiAtIGB7c3RyaW5nfWAgLSB0aGUgbmFtZSBvZiB0aGUgcXVlcnkgcGFyYW1ldGVyIHRoYXQgcGFzc2VzIHRoZSBuYW1lIG9mIHRoZVxuICAgKiBjYWxsYmFjayBpbiBhIEpTT05QIHJlcXVlc3QuIFRoZSB2YWx1ZSBvZiB0aGlzIHBhcmFtZXRlciB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIGV4cHJlc3Npb24gZ2VuZXJhdGVkIGJ5IHRoZVxuICAgKiB7QGxpbmsgJGpzb25wQ2FsbGJhY2tzfSBzZXJ2aWNlLiBEZWZhdWx0cyB0byBgJ2NhbGxiYWNrJ2AuXG4gICAqXG4gICAqIC0gKipgZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyYCoqIC0gYHtzdHJpbmd8ZnVuY3Rpb24oT2JqZWN0PHN0cmluZyxzdHJpbmc+KTpzdHJpbmd9YCAtIEEgZnVuY3Rpb25cbiAgICogIHVzZWQgdG8gdGhlIHByZXBhcmUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHJlcXVlc3QgcGFyYW1ldGVycyAoc3BlY2lmaWVkIGFzIGFuIG9iamVjdCkuXG4gICAqICBJZiBzcGVjaWZpZWQgYXMgc3RyaW5nLCBpdCBpcyBpbnRlcnByZXRlZCBhcyBhIGZ1bmN0aW9uIHJlZ2lzdGVyZWQgd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uXG4gICAqICBEZWZhdWx0cyB0byB7QGxpbmsgbmcuJGh0dHBQYXJhbVNlcmlhbGl6ZXIgJGh0dHBQYXJhbVNlcmlhbGl6ZXJ9LlxuICAgKlxuICAgKiAtICoqYGRlZmF1bHRzLnRyYW5zZm9ybVJlcXVlc3RgKiogLVxuICAgKiBge0FycmF5PGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpPnxmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKX1gIC1cbiAgICogQW4gYXJyYXkgb2YgZnVuY3Rpb25zIChvciBhIHNpbmdsZSBmdW5jdGlvbikgd2hpY2ggYXJlIGFwcGxpZWQgdG8gdGhlIHJlcXVlc3QgZGF0YS5cbiAgICogQnkgZGVmYXVsdCwgdGhpcyBpcyBhbiBhcnJheSB3aXRoIG9uZSByZXF1ZXN0IHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9uOlxuICAgKlxuICAgKiAgIC0gSWYgdGhlIGBkYXRhYCBwcm9wZXJ0eSBvZiB0aGUgcmVxdWVzdCBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWlucyBhbiBvYmplY3QsIHNlcmlhbGl6ZSBpdFxuICAgKiAgICAgaW50byBKU09OIGZvcm1hdC5cbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWAqKiAtXG4gICAqIGB7QXJyYXk8ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKT58ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKX1gIC1cbiAgICogQW4gYXJyYXkgb2YgZnVuY3Rpb25zIChvciBhIHNpbmdsZSBmdW5jdGlvbikgd2hpY2ggYXJlIGFwcGxpZWQgdG8gdGhlIHJlc3BvbnNlIGRhdGEuIEJ5IGRlZmF1bHQsXG4gICAqIHRoaXMgaXMgYW4gYXJyYXkgd2hpY2ggYXBwbGllcyBvbmUgcmVzcG9uc2UgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb24gdGhhdCBkb2VzIHR3byB0aGluZ3M6XG4gICAqXG4gICAqICAtIElmIFhTUkYgcHJlZml4IGlzIGRldGVjdGVkLCBzdHJpcCBpdFxuICAgKiAgICAoc2VlIHtAbGluayBuZy4kaHR0cCNzZWN1cml0eS1jb25zaWRlcmF0aW9ucyBTZWN1cml0eSBDb25zaWRlcmF0aW9ucyBpbiB0aGUgJGh0dHAgZG9jc30pLlxuICAgKiAgLSBJZiB0aGUgYENvbnRlbnQtVHlwZWAgaXMgYGFwcGxpY2F0aW9uL2pzb25gIG9yIHRoZSByZXNwb25zZSBsb29rcyBsaWtlIEpTT04sXG4gICAqICAgIGRlc2VyaWFsaXplIGl0IHVzaW5nIGEgSlNPTiBwYXJzZXIuXG4gICAqXG4gICAqIC0gKipgZGVmYXVsdHMueHNyZkNvb2tpZU5hbWVgKiogLSB7c3RyaW5nfSAtIE5hbWUgb2YgY29va2llIGNvbnRhaW5pbmcgdGhlIFhTUkYgdG9rZW4uXG4gICAqIERlZmF1bHRzIHZhbHVlIGlzIGAnWFNSRi1UT0tFTidgLlxuICAgKlxuICAgKiAtICoqYGRlZmF1bHRzLnhzcmZIZWFkZXJOYW1lYCoqIC0ge3N0cmluZ30gLSBOYW1lIG9mIEhUVFAgaGVhZGVyIHRvIHBvcHVsYXRlIHdpdGggdGhlXG4gICAqIFhTUkYgdG9rZW4uIERlZmF1bHRzIHZhbHVlIGlzIGAnWC1YU1JGLVRPS0VOJ2AuXG4gICAqXG4gICAqL1xuICB2YXIgZGVmYXVsdHMgPSB0aGlzLmRlZmF1bHRzID0ge1xuICAgIC8vIHRyYW5zZm9ybSBpbmNvbWluZyByZXNwb25zZSBkYXRhXG4gICAgdHJhbnNmb3JtUmVzcG9uc2U6IFtkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtXSxcblxuICAgIC8vIHRyYW5zZm9ybSBvdXRnb2luZyByZXF1ZXN0IGRhdGFcbiAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24oZCkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0KGQpICYmICFpc0ZpbGUoZCkgJiYgIWlzQmxvYihkKSAmJiAhaXNGb3JtRGF0YShkKSA/IHRvSnNvbihkKSA6IGQ7XG4gICAgfV0sXG5cbiAgICAvLyBkZWZhdWx0IGhlYWRlcnNcbiAgICBoZWFkZXJzOiB7XG4gICAgICBjb21tb246IHtcbiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gICAgICB9LFxuICAgICAgcG9zdDogICBzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiksXG4gICAgICBwdXQ6ICAgIHNoYWxsb3dDb3B5KENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OKSxcbiAgICAgIHBhdGNoOiAgc2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pXG4gICAgfSxcblxuICAgIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gICAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gICAgcGFyYW1TZXJpYWxpemVyOiAnJGh0dHBQYXJhbVNlcmlhbGl6ZXInLFxuXG4gICAganNvbnBDYWxsYmFja1BhcmFtOiAnY2FsbGJhY2snXG4gIH07XG5cbiAgdmFyIHVzZUFwcGx5QXN5bmMgPSBmYWxzZTtcbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGh0dHBQcm92aWRlciN1c2VBcHBseUFzeW5jXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBDb25maWd1cmUgJGh0dHAgc2VydmljZSB0byBjb21iaW5lIHByb2Nlc3Npbmcgb2YgbXVsdGlwbGUgaHR0cCByZXNwb25zZXMgcmVjZWl2ZWQgYXQgYXJvdW5kXG4gICAqIHRoZSBzYW1lIHRpbWUgdmlhIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseUFzeW5jICRyb290U2NvcGUuJGFwcGx5QXN5bmN9LiBUaGlzIGNhbiByZXN1bHQgaW5cbiAgICogc2lnbmlmaWNhbnQgcGVyZm9ybWFuY2UgaW1wcm92ZW1lbnQgZm9yIGJpZ2dlciBhcHBsaWNhdGlvbnMgdGhhdCBtYWtlIG1hbnkgSFRUUCByZXF1ZXN0c1xuICAgKiBjb25jdXJyZW50bHkgKGNvbW1vbiBkdXJpbmcgYXBwbGljYXRpb24gYm9vdHN0cmFwKS5cbiAgICpcbiAgICogRGVmYXVsdHMgdG8gZmFsc2UuIElmIG5vIHZhbHVlIGlzIHNwZWNpZmllZCwgcmV0dXJucyB0aGUgY3VycmVudCBjb25maWd1cmVkIHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSB2YWx1ZSBJZiB0cnVlLCB3aGVuIHJlcXVlc3RzIGFyZSBsb2FkZWQsIHRoZXkgd2lsbCBzY2hlZHVsZSBhIGRlZmVycmVkXG4gICAqICAgIFwiYXBwbHlcIiBvbiB0aGUgbmV4dCB0aWNrLCBnaXZpbmcgdGltZSBmb3Igc3Vic2VxdWVudCByZXF1ZXN0cyBpbiBhIHJvdWdobHkgfjEwbXMgd2luZG93XG4gICAqICAgIHRvIGxvYWQgYW5kIHNoYXJlIHRoZSBzYW1lIGRpZ2VzdCBjeWNsZS5cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW58T2JqZWN0fSBJZiBhIHZhbHVlIGlzIHNwZWNpZmllZCwgcmV0dXJucyB0aGUgJGh0dHBQcm92aWRlciBmb3IgY2hhaW5pbmcuXG4gICAqICAgIG90aGVyd2lzZSwgcmV0dXJucyB0aGUgY3VycmVudCBjb25maWd1cmVkIHZhbHVlLlxuICAgKi9cbiAgdGhpcy51c2VBcHBseUFzeW5jID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgdXNlQXBwbHlBc3luYyA9ICEhdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIHVzZUFwcGx5QXN5bmM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI2ludGVyY2VwdG9yc1xuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogQXJyYXkgY29udGFpbmluZyBzZXJ2aWNlIGZhY3RvcmllcyBmb3IgYWxsIHN5bmNocm9ub3VzIG9yIGFzeW5jaHJvbm91cyB7QGxpbmsgbmcuJGh0dHAgJGh0dHB9XG4gICAqIHByZS1wcm9jZXNzaW5nIG9mIHJlcXVlc3Qgb3IgcG9zdHByb2Nlc3Npbmcgb2YgcmVzcG9uc2VzLlxuICAgKlxuICAgKiBUaGVzZSBzZXJ2aWNlIGZhY3RvcmllcyBhcmUgb3JkZXJlZCBieSByZXF1ZXN0LCBpLmUuIHRoZXkgYXJlIGFwcGxpZWQgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXG4gICAqIGFycmF5LCBvbiByZXF1ZXN0LCBidXQgcmV2ZXJzZSBvcmRlciwgb24gcmVzcG9uc2UuXG4gICAqXG4gICAqIHtAbGluayBuZy4kaHR0cCNpbnRlcmNlcHRvcnMgSW50ZXJjZXB0b3JzIGRldGFpbGVkIGluZm99XG4gICAqL1xuICB2YXIgaW50ZXJjZXB0b3JGYWN0b3JpZXMgPSB0aGlzLmludGVyY2VwdG9ycyA9IFtdO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICogQG5hbWUgJGh0dHBQcm92aWRlciN4c3JmV2hpdGVsaXN0ZWRPcmlnaW5zXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBBcnJheSBjb250YWluaW5nIFVSTHMgd2hvc2Ugb3JpZ2lucyBhcmUgdHJ1c3RlZCB0byByZWNlaXZlIHRoZSBYU1JGIHRva2VuLiBTZWUgdGhlXG4gICAqIHtAbGluayBuZy4kaHR0cCNzZWN1cml0eS1jb25zaWRlcmF0aW9ucyBTZWN1cml0eSBDb25zaWRlcmF0aW9uc30gc2VjdGlvbnMgZm9yIG1vcmUgZGV0YWlscyBvblxuICAgKiBYU1JGLlxuICAgKlxuICAgKiAqKk5vdGU6KiogQW4gXCJvcmlnaW5cIiBjb25zaXN0cyBvZiB0aGUgW1VSSSBzY2hlbWVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1VSSV9zY2hlbWUpLFxuICAgKiB0aGUgW2hvc3RuYW1lXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Ib3N0bmFtZSkgYW5kIHRoZVxuICAgKiBbcG9ydCBudW1iZXJdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1BvcnRfKGNvbXB1dGVyX25ldHdvcmtpbmcpLiBGb3IgYGh0dHA6YCBhbmRcbiAgICogYGh0dHBzOmAsIHRoZSBwb3J0IG51bWJlciBjYW4gYmUgb21pdHRlZCBpZiB1c2luZyB0aCBkZWZhdWx0IHBvcnRzICg4MCBhbmQgNDQzIHJlc3BlY3RpdmVseSkuXG4gICAqIEV4YW1wbGVzOiBgaHR0cDovL2V4YW1wbGUuY29tYCwgYGh0dHBzOi8vYXBpLmV4YW1wbGUuY29tOjk4NzZgXG4gICAqXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAqICAgSXQgaXMgbm90IHBvc3NpYmxlIHRvIHdoaXRlbGlzdCBzcGVjaWZpYyBVUkxzL3BhdGhzLiBUaGUgYHBhdGhgLCBgcXVlcnlgIGFuZCBgZnJhZ21lbnRgIHBhcnRzXG4gICAqICAgb2YgYSBVUkwgd2lsbCBiZSBpZ25vcmVkLiBGb3IgZXhhbXBsZSwgYGh0dHBzOi8vZm9vLmNvbS9wYXRoL2Jhcj9xdWVyeT1iYXojZnJhZ21lbnRgIHdpbGwgYmVcbiAgICogICB0cmVhdGVkIGFzIGBodHRwczovL2Zvby5jb21gLCBtZWFuaW5nIHRoYXQgKiphbGwqKiByZXF1ZXN0cyB0byBVUkxzIHN0YXJ0aW5nIHdpdGhcbiAgICogICBgaHR0cHM6Ly9mb28uY29tL2Agd2lsbCBpbmNsdWRlIHRoZSBYU1JGIHRva2VuLlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gQXBwIHNlcnZlZCBmcm9tIGBodHRwczovL2V4YW1wbGUuY29tL2AuXG4gICAqIGFuZ3VsYXIuXG4gICAqICAgbW9kdWxlKCd4c3JmV2hpdGVsaXN0ZWRPcmlnaW5zRXhhbXBsZScsIFtdKS5cbiAgICogICBjb25maWcoWyckaHR0cFByb3ZpZGVyJywgZnVuY3Rpb24oJGh0dHBQcm92aWRlcikge1xuICAgKiAgICAgJGh0dHBQcm92aWRlci54c3JmV2hpdGVsaXN0ZWRPcmlnaW5zLnB1c2goJ2h0dHBzOi8vYXBpLmV4YW1wbGUuY29tJyk7XG4gICAqICAgfV0pLlxuICAgKiAgIHJ1bihbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcbiAgICogICAgIC8vIFRoZSBYU1JGIHRva2VuIHdpbGwgYmUgc2VudC5cbiAgICogICAgICRodHRwLmdldCgnaHR0cHM6Ly9hcGkuZXhhbXBsZS5jb20vcHJlZmVyZW5jZXMnKS50aGVuKC4uLik7XG4gICAqXG4gICAqICAgICAvLyBUaGUgWFNSRiB0b2tlbiB3aWxsIE5PVCBiZSBzZW50LlxuICAgKiAgICAgJGh0dHAuZ2V0KCdodHRwczovL3N0YXRzLmV4YW1wbGUuY29tL2FjdGl2aXR5JykudGhlbiguLi4pO1xuICAgKiAgIH1dKTtcbiAgICogYGBgXG4gICAqL1xuICB2YXIgeHNyZldoaXRlbGlzdGVkT3JpZ2lucyA9IHRoaXMueHNyZldoaXRlbGlzdGVkT3JpZ2lucyA9IFtdO1xuXG4gIHRoaXMuJGdldCA9IFsnJGJyb3dzZXInLCAnJGh0dHBCYWNrZW5kJywgJyQkY29va2llUmVhZGVyJywgJyRjYWNoZUZhY3RvcnknLCAnJHJvb3RTY29wZScsICckcScsICckaW5qZWN0b3InLCAnJHNjZScsXG4gICAgICBmdW5jdGlvbigkYnJvd3NlciwgJGh0dHBCYWNrZW5kLCAkJGNvb2tpZVJlYWRlciwgJGNhY2hlRmFjdG9yeSwgJHJvb3RTY29wZSwgJHEsICRpbmplY3RvciwgJHNjZSkge1xuXG4gICAgdmFyIGRlZmF1bHRDYWNoZSA9ICRjYWNoZUZhY3RvcnkoJyRodHRwJyk7XG5cbiAgICAvKipcbiAgICAgKiBNYWtlIHN1cmUgdGhhdCBkZWZhdWx0IHBhcmFtIHNlcmlhbGl6ZXIgaXMgZXhwb3NlZCBhcyBhIGZ1bmN0aW9uXG4gICAgICovXG4gICAgZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyID0gaXNTdHJpbmcoZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyKSA/XG4gICAgICAkaW5qZWN0b3IuZ2V0KGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplcikgOiBkZWZhdWx0cy5wYXJhbVNlcmlhbGl6ZXI7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmNlcHRvcnMgc3RvcmVkIGluIHJldmVyc2Ugb3JkZXIuIElubmVyIGludGVyY2VwdG9ycyBiZWZvcmUgb3V0ZXIgaW50ZXJjZXB0b3JzLlxuICAgICAqIFRoZSByZXZlcnNhbCBpcyBuZWVkZWQgc28gdGhhdCB3ZSBjYW4gYnVpbGQgdXAgdGhlIGludGVyY2VwdGlvbiBjaGFpbiBhcm91bmQgdGhlXG4gICAgICogc2VydmVyIHJlcXVlc3QuXG4gICAgICovXG4gICAgdmFyIHJldmVyc2VkSW50ZXJjZXB0b3JzID0gW107XG5cbiAgICBmb3JFYWNoKGludGVyY2VwdG9yRmFjdG9yaWVzLCBmdW5jdGlvbihpbnRlcmNlcHRvckZhY3RvcnkpIHtcbiAgICAgIHJldmVyc2VkSW50ZXJjZXB0b3JzLnVuc2hpZnQoaXNTdHJpbmcoaW50ZXJjZXB0b3JGYWN0b3J5KVxuICAgICAgICAgID8gJGluamVjdG9yLmdldChpbnRlcmNlcHRvckZhY3RvcnkpIDogJGluamVjdG9yLmludm9rZShpbnRlcmNlcHRvckZhY3RvcnkpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEEgZnVuY3Rpb24gdG8gY2hlY2sgcmVxdWVzdCBVUkxzIGFnYWluc3QgYSBsaXN0IG9mIGFsbG93ZWQgb3JpZ2lucy5cbiAgICAgKi9cbiAgICB2YXIgdXJsSXNBbGxvd2VkT3JpZ2luID0gdXJsSXNBbGxvd2VkT3JpZ2luRmFjdG9yeSh4c3JmV2hpdGVsaXN0ZWRPcmlnaW5zKTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSAkaHR0cFxuICAgICAqIEByZXF1aXJlcyBuZy4kaHR0cEJhY2tlbmRcbiAgICAgKiBAcmVxdWlyZXMgJGNhY2hlRmFjdG9yeVxuICAgICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gICAgICogQHJlcXVpcmVzICRxXG4gICAgICogQHJlcXVpcmVzICRpbmplY3RvclxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhlIGAkaHR0cGAgc2VydmljZSBpcyBhIGNvcmUgQW5ndWxhckpTIHNlcnZpY2UgdGhhdCBmYWNpbGl0YXRlcyBjb21tdW5pY2F0aW9uIHdpdGggdGhlIHJlbW90ZVxuICAgICAqIEhUVFAgc2VydmVycyB2aWEgdGhlIGJyb3dzZXIncyBbWE1MSHR0cFJlcXVlc3RdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL3htbGh0dHByZXF1ZXN0KVxuICAgICAqIG9iamVjdCBvciB2aWEgW0pTT05QXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QKS5cbiAgICAgKlxuICAgICAqIEZvciB1bml0IHRlc3RpbmcgYXBwbGljYXRpb25zIHRoYXQgdXNlIGAkaHR0cGAgc2VydmljZSwgc2VlXG4gICAgICoge0BsaW5rIG5nTW9jay4kaHR0cEJhY2tlbmQgJGh0dHBCYWNrZW5kIG1vY2t9LlxuICAgICAqXG4gICAgICogRm9yIGEgaGlnaGVyIGxldmVsIG9mIGFic3RyYWN0aW9uLCBwbGVhc2UgY2hlY2sgb3V0IHRoZSB7QGxpbmsgbmdSZXNvdXJjZS4kcmVzb3VyY2VcbiAgICAgKiAkcmVzb3VyY2V9IHNlcnZpY2UuXG4gICAgICpcbiAgICAgKiBUaGUgJGh0dHAgQVBJIGlzIGJhc2VkIG9uIHRoZSB7QGxpbmsgbmcuJHEgZGVmZXJyZWQvcHJvbWlzZSBBUElzfSBleHBvc2VkIGJ5XG4gICAgICogdGhlICRxIHNlcnZpY2UuIFdoaWxlIGZvciBzaW1wbGUgdXNhZ2UgcGF0dGVybnMgdGhpcyBkb2Vzbid0IG1hdHRlciBtdWNoLCBmb3IgYWR2YW5jZWQgdXNhZ2VcbiAgICAgKiBpdCBpcyBpbXBvcnRhbnQgdG8gZmFtaWxpYXJpemUgeW91cnNlbGYgd2l0aCB0aGVzZSBBUElzIGFuZCB0aGUgZ3VhcmFudGVlcyB0aGV5IHByb3ZpZGUuXG4gICAgICpcbiAgICAgKlxuICAgICAqICMjIEdlbmVyYWwgdXNhZ2VcbiAgICAgKiBUaGUgYCRodHRwYCBzZXJ2aWNlIGlzIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgYSBzaW5nbGUgYXJndW1lbnQg4oCUIGEge0BsaW5rICRodHRwI3VzYWdlIGNvbmZpZ3VyYXRpb24gb2JqZWN0fSDigJRcbiAgICAgKiB0aGF0IGlzIHVzZWQgdG8gZ2VuZXJhdGUgYW4gSFRUUCByZXF1ZXN0IGFuZCByZXR1cm5zICBhIHtAbGluayBuZy4kcSBwcm9taXNlfSB0aGF0IGlzXG4gICAgICogcmVzb2x2ZWQgKHJlcXVlc3Qgc3VjY2Vzcykgb3IgcmVqZWN0ZWQgKHJlcXVlc3QgZmFpbHVyZSkgd2l0aCBhXG4gICAgICoge0BsaW5rIG5nLiRodHRwIyRodHRwLXJldHVybnMgcmVzcG9uc2V9IG9iamVjdC5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICAvLyBTaW1wbGUgR0VUIHJlcXVlc3QgZXhhbXBsZTpcbiAgICAgKiAgICRodHRwKHtcbiAgICAgKiAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgKiAgICAgdXJsOiAnL3NvbWVVcmwnXG4gICAgICogICB9KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xuICAgICAqICAgICAgIC8vIHRoaXMgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHlcbiAgICAgKiAgICAgICAvLyB3aGVuIHRoZSByZXNwb25zZSBpcyBhdmFpbGFibGVcbiAgICAgKiAgICAgfSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhyZXNwb25zZSkge1xuICAgICAqICAgICAgIC8vIGNhbGxlZCBhc3luY2hyb25vdXNseSBpZiBhbiBlcnJvciBvY2N1cnNcbiAgICAgKiAgICAgICAvLyBvciBzZXJ2ZXIgcmV0dXJucyByZXNwb25zZSB3aXRoIGFuIGVycm9yIHN0YXR1cy5cbiAgICAgKiAgICAgfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKlxuICAgICAqICMjIFNob3J0Y3V0IG1ldGhvZHNcbiAgICAgKlxuICAgICAqIFNob3J0Y3V0IG1ldGhvZHMgYXJlIGFsc28gYXZhaWxhYmxlLiBBbGwgc2hvcnRjdXQgbWV0aG9kcyByZXF1aXJlIHBhc3NpbmcgaW4gdGhlIFVSTCwgYW5kXG4gICAgICogcmVxdWVzdCBkYXRhIG11c3QgYmUgcGFzc2VkIGluIGZvciBQT1NUL1BVVCByZXF1ZXN0cy4gQW4gb3B0aW9uYWwgY29uZmlnIGNhbiBiZSBwYXNzZWQgYXMgdGhlXG4gICAgICogbGFzdCBhcmd1bWVudC5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICAkaHR0cC5nZXQoJy9zb21lVXJsJywgY29uZmlnKS50aGVuKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG4gICAgICogICAkaHR0cC5wb3N0KCcvc29tZVVybCcsIGRhdGEsIGNvbmZpZykudGhlbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQ29tcGxldGUgbGlzdCBvZiBzaG9ydGN1dCBtZXRob2RzOlxuICAgICAqXG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjZ2V0ICRodHRwLmdldH1cbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNoZWFkICRodHRwLmhlYWR9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjcG9zdCAkaHR0cC5wb3N0fVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI3B1dCAkaHR0cC5wdXR9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjZGVsZXRlICRodHRwLmRlbGV0ZX1cbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNqc29ucCAkaHR0cC5qc29ucH1cbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNwYXRjaCAkaHR0cC5wYXRjaH1cbiAgICAgKlxuICAgICAqXG4gICAgICogIyMgV3JpdGluZyBVbml0IFRlc3RzIHRoYXQgdXNlICRodHRwXG4gICAgICogV2hlbiB1bml0IHRlc3RpbmcgKHVzaW5nIHtAbGluayBuZ01vY2sgbmdNb2NrfSksIGl0IGlzIG5lY2Vzc2FyeSB0byBjYWxsXG4gICAgICoge0BsaW5rIG5nTW9jay4kaHR0cEJhY2tlbmQjZmx1c2ggJGh0dHBCYWNrZW5kLmZsdXNoKCl9IHRvIGZsdXNoIGVhY2ggcGVuZGluZ1xuICAgICAqIHJlcXVlc3QgdXNpbmcgdHJhaW5lZCByZXNwb25zZXMuXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiAkaHR0cEJhY2tlbmQuZXhwZWN0R0VUKC4uLik7XG4gICAgICogJGh0dHAuZ2V0KC4uLik7XG4gICAgICogJGh0dHBCYWNrZW5kLmZsdXNoKCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyBTZXR0aW5nIEhUVFAgSGVhZGVyc1xuICAgICAqXG4gICAgICogVGhlICRodHRwIHNlcnZpY2Ugd2lsbCBhdXRvbWF0aWNhbGx5IGFkZCBjZXJ0YWluIEhUVFAgaGVhZGVycyB0byBhbGwgcmVxdWVzdHMuIFRoZXNlIGRlZmF1bHRzXG4gICAgICogY2FuIGJlIGZ1bGx5IGNvbmZpZ3VyZWQgYnkgYWNjZXNzaW5nIHRoZSBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzYCBjb25maWd1cmF0aW9uXG4gICAgICogb2JqZWN0LCB3aGljaCBjdXJyZW50bHkgY29udGFpbnMgdGhpcyBkZWZhdWx0IGNvbmZpZ3VyYXRpb246XG4gICAgICpcbiAgICAgKiAtIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uYCAoaGVhZGVycyB0aGF0IGFyZSBjb21tb24gZm9yIGFsbCByZXF1ZXN0cyk6XG4gICAgICogICAtIDxjb2RlPkFjY2VwdDogYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgXFwqJiM2NTI3OTsvJiM2NTI3OTtcXCo8L2NvZGU+XG4gICAgICogLSBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLnBvc3RgOiAoaGVhZGVyIGRlZmF1bHRzIGZvciBQT1NUIHJlcXVlc3RzKVxuICAgICAqICAgLSBgQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uYFxuICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5wdXRgIChoZWFkZXIgZGVmYXVsdHMgZm9yIFBVVCByZXF1ZXN0cylcbiAgICAgKiAgIC0gYENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbmBcbiAgICAgKlxuICAgICAqIFRvIGFkZCBvciBvdmVyd3JpdGUgdGhlc2UgZGVmYXVsdHMsIHNpbXBseSBhZGQgb3IgcmVtb3ZlIGEgcHJvcGVydHkgZnJvbSB0aGVzZSBjb25maWd1cmF0aW9uXG4gICAgICogb2JqZWN0cy4gVG8gYWRkIGhlYWRlcnMgZm9yIGFuIEhUVFAgbWV0aG9kIG90aGVyIHRoYW4gUE9TVCBvciBQVVQsIHNpbXBseSBhZGQgYSBuZXcgb2JqZWN0XG4gICAgICogd2l0aCB0aGUgbG93ZXJjYXNlZCBIVFRQIG1ldGhvZCBuYW1lIGFzIHRoZSBrZXksIGUuZy5cbiAgICAgKiBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmdldCA9IHsgJ015LUhlYWRlcicgOiAndmFsdWUnIH1gLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHRzIGNhbiBhbHNvIGJlIHNldCBhdCBydW50aW1lIHZpYSB0aGUgYCRodHRwLmRlZmF1bHRzYCBvYmplY3QgaW4gdGhlIHNhbWVcbiAgICAgKiBmYXNoaW9uLiBGb3IgZXhhbXBsZTpcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIG1vZHVsZS5ydW4oZnVuY3Rpb24oJGh0dHApIHtcbiAgICAgKiAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgWW1WbGNEcGliMjl3JztcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEluIGFkZGl0aW9uLCB5b3UgY2FuIHN1cHBseSBhIGBoZWFkZXJzYCBwcm9wZXJ0eSBpbiB0aGUgY29uZmlnIG9iamVjdCBwYXNzZWQgd2hlblxuICAgICAqIGNhbGxpbmcgYCRodHRwKGNvbmZpZylgLCB3aGljaCBvdmVycmlkZXMgdGhlIGRlZmF1bHRzIHdpdGhvdXQgY2hhbmdpbmcgdGhlbSBnbG9iYWxseS5cbiAgICAgKlxuICAgICAqIFRvIGV4cGxpY2l0bHkgcmVtb3ZlIGEgaGVhZGVyIGF1dG9tYXRpY2FsbHkgYWRkZWQgdmlhICRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycyBvbiBhIHBlciByZXF1ZXN0IGJhc2lzLFxuICAgICAqIFVzZSB0aGUgYGhlYWRlcnNgIHByb3BlcnR5LCBzZXR0aW5nIHRoZSBkZXNpcmVkIGhlYWRlciB0byBgdW5kZWZpbmVkYC4gRm9yIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIHZhciByZXEgPSB7XG4gICAgICogIG1ldGhvZDogJ1BPU1QnLFxuICAgICAqICB1cmw6ICdodHRwOi8vZXhhbXBsZS5jb20nLFxuICAgICAqICBoZWFkZXJzOiB7XG4gICAgICogICAgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZFxuICAgICAqICB9LFxuICAgICAqICBkYXRhOiB7IHRlc3Q6ICd0ZXN0JyB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogJGh0dHAocmVxKS50aGVuKGZ1bmN0aW9uKCl7Li4ufSwgZnVuY3Rpb24oKXsuLi59KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIFRyYW5zZm9ybWluZyBSZXF1ZXN0cyBhbmQgUmVzcG9uc2VzXG4gICAgICpcbiAgICAgKiBCb3RoIHJlcXVlc3RzIGFuZCByZXNwb25zZXMgY2FuIGJlIHRyYW5zZm9ybWVkIHVzaW5nIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9uczogYHRyYW5zZm9ybVJlcXVlc3RgXG4gICAgICogYW5kIGB0cmFuc2Zvcm1SZXNwb25zZWAuIFRoZXNlIHByb3BlcnRpZXMgY2FuIGJlIGEgc2luZ2xlIGZ1bmN0aW9uIHRoYXQgcmV0dXJuc1xuICAgICAqIHRoZSB0cmFuc2Zvcm1lZCB2YWx1ZSAoYGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIsIHN0YXR1cylgKSBvciBhbiBhcnJheSBvZiBzdWNoIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9ucyxcbiAgICAgKiB3aGljaCBhbGxvd3MgeW91IHRvIGBwdXNoYCBvciBgdW5zaGlmdGAgYSBuZXcgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb24gaW50byB0aGUgdHJhbnNmb3JtYXRpb24gY2hhaW4uXG4gICAgICpcbiAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgICAqICoqTm90ZToqKiBBbmd1bGFySlMgZG9lcyBub3QgbWFrZSBhIGNvcHkgb2YgdGhlIGBkYXRhYCBwYXJhbWV0ZXIgYmVmb3JlIGl0IGlzIHBhc3NlZCBpbnRvIHRoZSBgdHJhbnNmb3JtUmVxdWVzdGAgcGlwZWxpbmUuXG4gICAgICogVGhhdCBtZWFucyBjaGFuZ2VzIHRvIHRoZSBwcm9wZXJ0aWVzIG9mIGBkYXRhYCBhcmUgbm90IGxvY2FsIHRvIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gKHNpbmNlIEphdmFzY3JpcHQgcGFzc2VzIG9iamVjdHMgYnkgcmVmZXJlbmNlKS5cbiAgICAgKiBGb3IgZXhhbXBsZSwgd2hlbiBjYWxsaW5nIGAkaHR0cC5nZXQodXJsLCAkc2NvcGUubXlPYmplY3QpYCwgbW9kaWZpY2F0aW9ucyB0byB0aGUgb2JqZWN0J3MgcHJvcGVydGllcyBpbiBhIHRyYW5zZm9ybVJlcXVlc3RcbiAgICAgKiBmdW5jdGlvbiB3aWxsIGJlIHJlZmxlY3RlZCBvbiB0aGUgc2NvcGUgYW5kIGluIGFueSB0ZW1wbGF0ZXMgd2hlcmUgdGhlIG9iamVjdCBpcyBkYXRhLWJvdW5kLlxuICAgICAqIFRvIHByZXZlbnQgdGhpcywgdHJhbnNmb3JtIGZ1bmN0aW9ucyBzaG91bGQgaGF2ZSBubyBzaWRlLWVmZmVjdHMuXG4gICAgICogSWYgeW91IG5lZWQgdG8gbW9kaWZ5IHByb3BlcnRpZXMsIGl0IGlzIHJlY29tbWVuZGVkIHRvIG1ha2UgYSBjb3B5IG9mIHRoZSBkYXRhLCBvciBjcmVhdGUgbmV3IG9iamVjdCB0byByZXR1cm4uXG4gICAgICogPC9kaXY+XG4gICAgICpcbiAgICAgKiAjIyMgRGVmYXVsdCBUcmFuc2Zvcm1hdGlvbnNcbiAgICAgKlxuICAgICAqIFRoZSBgJGh0dHBQcm92aWRlcmAgcHJvdmlkZXIgYW5kIGAkaHR0cGAgc2VydmljZSBleHBvc2UgYGRlZmF1bHRzLnRyYW5zZm9ybVJlcXVlc3RgIGFuZFxuICAgICAqIGBkZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWAgcHJvcGVydGllcy4gSWYgYSByZXF1ZXN0IGRvZXMgbm90IHByb3ZpZGUgaXRzIG93biB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgKiB0aGVuIHRoZXNlIHdpbGwgYmUgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gYXVnbWVudCBvciByZXBsYWNlIHRoZSBkZWZhdWx0IHRyYW5zZm9ybWF0aW9ucyBieSBtb2RpZnlpbmcgdGhlc2UgcHJvcGVydGllcyBieSBhZGRpbmcgdG8gb3JcbiAgICAgKiByZXBsYWNpbmcgdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQW5ndWxhckpTIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnM6XG4gICAgICpcbiAgICAgKiBSZXF1ZXN0IHRyYW5zZm9ybWF0aW9ucyAoYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdGAgYW5kIGAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0YCkgaXNcbiAgICAgKiBhbiBhcnJheSB3aXRoIG9uZSBmdW5jdGlvbiB0aGF0IGRvZXMgdGhlIGZvbGxvd2luZzpcbiAgICAgKlxuICAgICAqIC0gSWYgdGhlIGBkYXRhYCBwcm9wZXJ0eSBvZiB0aGUgcmVxdWVzdCBjb25maWd1cmF0aW9uIG9iamVjdCBjb250YWlucyBhbiBvYmplY3QsIHNlcmlhbGl6ZSBpdFxuICAgICAqICAgaW50byBKU09OIGZvcm1hdC5cbiAgICAgKlxuICAgICAqIFJlc3BvbnNlIHRyYW5zZm9ybWF0aW9ucyAoYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2VgIGFuZCBgJGh0dHAuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2VgKSBpc1xuICAgICAqIGFuIGFycmF5IHdpdGggb25lIGZ1bmN0aW9uIHRoYXQgZG9lcyB0aGUgZm9sbG93aW5nOlxuICAgICAqXG4gICAgICogIC0gSWYgWFNSRiBwcmVmaXggaXMgZGV0ZWN0ZWQsIHN0cmlwIGl0IChzZWUgU2VjdXJpdHkgQ29uc2lkZXJhdGlvbnMgc2VjdGlvbiBiZWxvdykuXG4gICAgICogIC0gSWYgdGhlIGBDb250ZW50LVR5cGVgIGlzIGBhcHBsaWNhdGlvbi9qc29uYCBvciB0aGUgcmVzcG9uc2UgbG9va3MgbGlrZSBKU09OLFxuICAgKiAgICAgIGRlc2VyaWFsaXplIGl0IHVzaW5nIGEgSlNPTiBwYXJzZXIuXG4gICAgICpcbiAgICAgKlxuICAgICAqICMjIyBPdmVycmlkaW5nIHRoZSBEZWZhdWx0IFRyYW5zZm9ybWF0aW9ucyBQZXIgUmVxdWVzdFxuICAgICAqXG4gICAgICogSWYgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIHJlcXVlc3QvcmVzcG9uc2UgdHJhbnNmb3JtYXRpb25zIG9ubHkgZm9yIGEgc2luZ2xlIHJlcXVlc3QgdGhlbiBwcm92aWRlXG4gICAgICogYHRyYW5zZm9ybVJlcXVlc3RgIGFuZC9vciBgdHJhbnNmb3JtUmVzcG9uc2VgIHByb3BlcnRpZXMgb24gdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHBhc3NlZFxuICAgICAqIGludG8gYCRodHRwYC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBpZiB5b3UgcHJvdmlkZSB0aGVzZSBwcm9wZXJ0aWVzIG9uIHRoZSBjb25maWcgb2JqZWN0IHRoZSBkZWZhdWx0IHRyYW5zZm9ybWF0aW9ucyB3aWxsIGJlXG4gICAgICogb3ZlcndyaXR0ZW4uIElmIHlvdSB3aXNoIHRvIGF1Z21lbnQgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zIHRoZW4geW91IG11c3QgaW5jbHVkZSB0aGVtIGluIHlvdXJcbiAgICAgKiBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBhcnJheS5cbiAgICAgKlxuICAgICAqIFRoZSBmb2xsb3dpbmcgY29kZSBkZW1vbnN0cmF0ZXMgYWRkaW5nIGEgbmV3IHJlc3BvbnNlIHRyYW5zZm9ybWF0aW9uIHRvIGJlIHJ1biBhZnRlciB0aGUgZGVmYXVsdCByZXNwb25zZVxuICAgICAqIHRyYW5zZm9ybWF0aW9ucyBoYXZlIGJlZW4gcnVuLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBmdW5jdGlvbiBhcHBlbmRUcmFuc2Zvcm0oZGVmYXVsdHMsIHRyYW5zZm9ybSkge1xuICAgICAqXG4gICAgICogICAvLyBXZSBjYW4ndCBndWFyYW50ZWUgdGhhdCB0aGUgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbiBpcyBhbiBhcnJheVxuICAgICAqICAgZGVmYXVsdHMgPSBhbmd1bGFyLmlzQXJyYXkoZGVmYXVsdHMpID8gZGVmYXVsdHMgOiBbZGVmYXVsdHNdO1xuICAgICAqXG4gICAgICogICAvLyBBcHBlbmQgdGhlIG5ldyB0cmFuc2Zvcm1hdGlvbiB0byB0aGUgZGVmYXVsdHNcbiAgICAgKiAgIHJldHVybiBkZWZhdWx0cy5jb25jYXQodHJhbnNmb3JtKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiAkaHR0cCh7XG4gICAgICogICB1cmw6ICcuLi4nLFxuICAgICAqICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgKiAgIHRyYW5zZm9ybVJlc3BvbnNlOiBhcHBlbmRUcmFuc2Zvcm0oJGh0dHAuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2UsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICAgIHJldHVybiBkb1RyYW5zZm9ybSh2YWx1ZSk7XG4gICAgICogICB9KVxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyBDYWNoaW5nXG4gICAgICpcbiAgICAgKiB7QGxpbmsgbmcuJGh0dHAgYCRodHRwYH0gcmVzcG9uc2VzIGFyZSBub3QgY2FjaGVkIGJ5IGRlZmF1bHQuIFRvIGVuYWJsZSBjYWNoaW5nLCB5b3UgbXVzdFxuICAgICAqIHNldCB0aGUgY29uZmlnLmNhY2hlIHZhbHVlIG9yIHRoZSBkZWZhdWx0IGNhY2hlIHZhbHVlIHRvIFRSVUUgb3IgdG8gYSBjYWNoZSBvYmplY3QgKGNyZWF0ZWRcbiAgICAgKiB3aXRoIHtAbGluayBuZy4kY2FjaGVGYWN0b3J5IGAkY2FjaGVGYWN0b3J5YH0pLiBJZiBkZWZpbmVkLCB0aGUgdmFsdWUgb2YgY29uZmlnLmNhY2hlIHRha2VzXG4gICAgICogcHJlY2VkZW5jZSBvdmVyIHRoZSBkZWZhdWx0IGNhY2hlIHZhbHVlLlxuICAgICAqXG4gICAgICogSW4gb3JkZXIgdG86XG4gICAgICogICAqIGNhY2hlIGFsbCByZXNwb25zZXMgLSBzZXQgdGhlIGRlZmF1bHQgY2FjaGUgdmFsdWUgdG8gVFJVRSBvciB0byBhIGNhY2hlIG9iamVjdFxuICAgICAqICAgKiBjYWNoZSBhIHNwZWNpZmljIHJlc3BvbnNlIC0gc2V0IGNvbmZpZy5jYWNoZSB2YWx1ZSB0byBUUlVFIG9yIHRvIGEgY2FjaGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBJZiBjYWNoaW5nIGlzIGVuYWJsZWQsIGJ1dCBuZWl0aGVyIHRoZSBkZWZhdWx0IGNhY2hlIG5vciBjb25maWcuY2FjaGUgYXJlIHNldCB0byBhIGNhY2hlIG9iamVjdCxcbiAgICAgKiB0aGVuIHRoZSBkZWZhdWx0IGAkY2FjaGVGYWN0b3J5KFwiJGh0dHBcIilgIG9iamVjdCBpcyB1c2VkLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgY2FjaGUgdmFsdWUgY2FuIGJlIHNldCBieSB1cGRhdGluZyB0aGVcbiAgICAgKiB7QGxpbmsgbmcuJGh0dHAjZGVmYXVsdHMgYCRodHRwLmRlZmF1bHRzLmNhY2hlYH0gcHJvcGVydHkgb3IgdGhlXG4gICAgICoge0BsaW5rICRodHRwUHJvdmlkZXIjZGVmYXVsdHMgYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuY2FjaGVgfSBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIFdoZW4gY2FjaGluZyBpcyBlbmFibGVkLCB7QGxpbmsgbmcuJGh0dHAgYCRodHRwYH0gc3RvcmVzIHRoZSByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIgdXNpbmdcbiAgICAgKiB0aGUgcmVsZXZhbnQgY2FjaGUgb2JqZWN0LiBUaGUgbmV4dCB0aW1lIHRoZSBzYW1lIHJlcXVlc3QgaXMgbWFkZSwgdGhlIHJlc3BvbnNlIGlzIHJldHVybmVkXG4gICAgICogZnJvbSB0aGUgY2FjaGUgd2l0aG91dCBzZW5kaW5nIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyLlxuICAgICAqXG4gICAgICogVGFrZSBub3RlIHRoYXQ6XG4gICAgICpcbiAgICAgKiAgICogT25seSBHRVQgYW5kIEpTT05QIHJlcXVlc3RzIGFyZSBjYWNoZWQuXG4gICAgICogICAqIFRoZSBjYWNoZSBrZXkgaXMgdGhlIHJlcXVlc3QgVVJMIGluY2x1ZGluZyBzZWFyY2ggcGFyYW1ldGVyczsgaGVhZGVycyBhcmUgbm90IGNvbnNpZGVyZWQuXG4gICAgICogICAqIENhY2hlZCByZXNwb25zZXMgYXJlIHJldHVybmVkIGFzeW5jaHJvbm91c2x5LCBpbiB0aGUgc2FtZSB3YXkgYXMgcmVzcG9uc2VzIGZyb20gdGhlIHNlcnZlci5cbiAgICAgKiAgICogSWYgbXVsdGlwbGUgaWRlbnRpY2FsIHJlcXVlc3RzIGFyZSBtYWRlIHVzaW5nIHRoZSBzYW1lIGNhY2hlLCB3aGljaCBpcyBub3QgeWV0IHBvcHVsYXRlZCxcbiAgICAgKiAgICAgb25lIHJlcXVlc3Qgd2lsbCBiZSBtYWRlIHRvIHRoZSBzZXJ2ZXIgYW5kIHJlbWFpbmluZyByZXF1ZXN0cyB3aWxsIHJldHVybiB0aGUgc2FtZSByZXNwb25zZS5cbiAgICAgKiAgICogQSBjYWNoZS1jb250cm9sIGhlYWRlciBvbiB0aGUgcmVzcG9uc2UgZG9lcyBub3QgYWZmZWN0IGlmIG9yIGhvdyByZXNwb25zZXMgYXJlIGNhY2hlZC5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyMgSW50ZXJjZXB0b3JzXG4gICAgICpcbiAgICAgKiBCZWZvcmUgeW91IHN0YXJ0IGNyZWF0aW5nIGludGVyY2VwdG9ycywgYmUgc3VyZSB0byB1bmRlcnN0YW5kIHRoZVxuICAgICAqIHtAbGluayBuZy4kcSAkcSBhbmQgZGVmZXJyZWQvcHJvbWlzZSBBUElzfS5cbiAgICAgKlxuICAgICAqIEZvciBwdXJwb3NlcyBvZiBnbG9iYWwgZXJyb3IgaGFuZGxpbmcsIGF1dGhlbnRpY2F0aW9uLCBvciBhbnkga2luZCBvZiBzeW5jaHJvbm91cyBvclxuICAgICAqIGFzeW5jaHJvbm91cyBwcmUtcHJvY2Vzc2luZyBvZiByZXF1ZXN0IG9yIHBvc3Rwcm9jZXNzaW5nIG9mIHJlc3BvbnNlcywgaXQgaXMgZGVzaXJhYmxlIHRvIGJlXG4gICAgICogYWJsZSB0byBpbnRlcmNlcHQgcmVxdWVzdHMgYmVmb3JlIHRoZXkgYXJlIGhhbmRlZCB0byB0aGUgc2VydmVyIGFuZFxuICAgICAqIHJlc3BvbnNlcyBiZWZvcmUgdGhleSBhcmUgaGFuZGVkIG92ZXIgdG8gdGhlIGFwcGxpY2F0aW9uIGNvZGUgdGhhdFxuICAgICAqIGluaXRpYXRlZCB0aGVzZSByZXF1ZXN0cy4gVGhlIGludGVyY2VwdG9ycyBsZXZlcmFnZSB0aGUge0BsaW5rIG5nLiRxXG4gICAgICogcHJvbWlzZSBBUElzfSB0byBmdWxmaWxsIHRoaXMgbmVlZCBmb3IgYm90aCBzeW5jaHJvbm91cyBhbmQgYXN5bmNocm9ub3VzIHByZS1wcm9jZXNzaW5nLlxuICAgICAqXG4gICAgICogVGhlIGludGVyY2VwdG9ycyBhcmUgc2VydmljZSBmYWN0b3JpZXMgdGhhdCBhcmUgcmVnaXN0ZXJlZCB3aXRoIHRoZSBgJGh0dHBQcm92aWRlcmAgYnlcbiAgICAgKiBhZGRpbmcgdGhlbSB0byB0aGUgYCRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzYCBhcnJheS4gVGhlIGZhY3RvcnkgaXMgY2FsbGVkIGFuZFxuICAgICAqIGluamVjdGVkIHdpdGggZGVwZW5kZW5jaWVzIChpZiBzcGVjaWZpZWQpIGFuZCByZXR1cm5zIHRoZSBpbnRlcmNlcHRvci5cbiAgICAgKlxuICAgICAqIFRoZXJlIGFyZSB0d28ga2luZHMgb2YgaW50ZXJjZXB0b3JzIChhbmQgdHdvIGtpbmRzIG9mIHJlamVjdGlvbiBpbnRlcmNlcHRvcnMpOlxuICAgICAqXG4gICAgICogICAqIGByZXF1ZXN0YDogaW50ZXJjZXB0b3JzIGdldCBjYWxsZWQgd2l0aCBhIGh0dHAge0BsaW5rICRodHRwI3VzYWdlIGNvbmZpZ30gb2JqZWN0LiBUaGUgZnVuY3Rpb24gaXMgZnJlZSB0b1xuICAgICAqICAgICBtb2RpZnkgdGhlIGBjb25maWdgIG9iamVjdCBvciBjcmVhdGUgYSBuZXcgb25lLiBUaGUgZnVuY3Rpb24gbmVlZHMgdG8gcmV0dXJuIHRoZSBgY29uZmlnYFxuICAgICAqICAgICBvYmplY3QgZGlyZWN0bHksIG9yIGEgcHJvbWlzZSBjb250YWluaW5nIHRoZSBgY29uZmlnYCBvciBhIG5ldyBgY29uZmlnYCBvYmplY3QuXG4gICAgICogICAqIGByZXF1ZXN0RXJyb3JgOiBpbnRlcmNlcHRvciBnZXRzIGNhbGxlZCB3aGVuIGEgcHJldmlvdXMgaW50ZXJjZXB0b3IgdGhyZXcgYW4gZXJyb3Igb3JcbiAgICAgKiAgICAgcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbi5cbiAgICAgKiAgICogYHJlc3BvbnNlYDogaW50ZXJjZXB0b3JzIGdldCBjYWxsZWQgd2l0aCBodHRwIGByZXNwb25zZWAgb2JqZWN0LiBUaGUgZnVuY3Rpb24gaXMgZnJlZSB0b1xuICAgICAqICAgICBtb2RpZnkgdGhlIGByZXNwb25zZWAgb2JqZWN0IG9yIGNyZWF0ZSBhIG5ldyBvbmUuIFRoZSBmdW5jdGlvbiBuZWVkcyB0byByZXR1cm4gdGhlIGByZXNwb25zZWBcbiAgICAgKiAgICAgb2JqZWN0IGRpcmVjdGx5LCBvciBhcyBhIHByb21pc2UgY29udGFpbmluZyB0aGUgYHJlc3BvbnNlYCBvciBhIG5ldyBgcmVzcG9uc2VgIG9iamVjdC5cbiAgICAgKiAgICogYHJlc3BvbnNlRXJyb3JgOiBpbnRlcmNlcHRvciBnZXRzIGNhbGxlZCB3aGVuIGEgcHJldmlvdXMgaW50ZXJjZXB0b3IgdGhyZXcgYW4gZXJyb3Igb3JcbiAgICAgKiAgICAgcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbi5cbiAgICAgKlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIC8vIHJlZ2lzdGVyIHRoZSBpbnRlcmNlcHRvciBhcyBhIHNlcnZpY2VcbiAgICAgKiAgICRwcm92aWRlLmZhY3RvcnkoJ215SHR0cEludGVyY2VwdG9yJywgZnVuY3Rpb24oJHEsIGRlcGVuZGVuY3kxLCBkZXBlbmRlbmN5Mikge1xuICAgICAqICAgICByZXR1cm4ge1xuICAgICAqICAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZFxuICAgICAqICAgICAgICdyZXF1ZXN0JzogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gc3VjY2Vzc1xuICAgICAqICAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgKiAgICAgICB9LFxuICAgICAqXG4gICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXG4gICAgICogICAgICAncmVxdWVzdEVycm9yJzogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gZXJyb3JcbiAgICAgKiAgICAgICAgIGlmIChjYW5SZWNvdmVyKHJlamVjdGlvbikpIHtcbiAgICAgKiAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlT3JOZXdQcm9taXNlXG4gICAgICogICAgICAgICB9XG4gICAgICogICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XG4gICAgICogICAgICAgfSxcbiAgICAgKlxuICAgICAqXG4gICAgICpcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcbiAgICAgKiAgICAgICAncmVzcG9uc2UnOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAqICAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIHN1Y2Nlc3NcbiAgICAgKiAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgKiAgICAgICB9LFxuICAgICAqXG4gICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXG4gICAgICogICAgICAncmVzcG9uc2VFcnJvcic6IGZ1bmN0aW9uKHJlamVjdGlvbikge1xuICAgICAqICAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIGVycm9yXG4gICAgICogICAgICAgICBpZiAoY2FuUmVjb3ZlcihyZWplY3Rpb24pKSB7XG4gICAgICogICAgICAgICAgIHJldHVybiByZXNwb25zZU9yTmV3UHJvbWlzZVxuICAgICAqICAgICAgICAgfVxuICAgICAqICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xuICAgICAqICAgICAgIH1cbiAgICAgKiAgICAgfTtcbiAgICAgKiAgIH0pO1xuICAgICAqXG4gICAgICogICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdteUh0dHBJbnRlcmNlcHRvcicpO1xuICAgICAqXG4gICAgICpcbiAgICAgKiAgIC8vIGFsdGVybmF0aXZlbHksIHJlZ2lzdGVyIHRoZSBpbnRlcmNlcHRvciB2aWEgYW4gYW5vbnltb3VzIGZhY3RvcnlcbiAgICAgKiAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goZnVuY3Rpb24oJHEsIGRlcGVuZGVuY3kxLCBkZXBlbmRlbmN5Mikge1xuICAgICAqICAgICByZXR1cm4ge1xuICAgICAqICAgICAgJ3JlcXVlc3QnOiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgKiAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlXG4gICAgICogICAgICAgfSxcbiAgICAgKlxuICAgICAqICAgICAgICdyZXNwb25zZSc6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICogICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZVxuICAgICAqICAgICAgIH1cbiAgICAgKiAgICAgfTtcbiAgICAgKiAgIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgU2VjdXJpdHkgQ29uc2lkZXJhdGlvbnNcbiAgICAgKlxuICAgICAqIFdoZW4gZGVzaWduaW5nIHdlYiBhcHBsaWNhdGlvbnMsIGNvbnNpZGVyIHNlY3VyaXR5IHRocmVhdHMgZnJvbTpcbiAgICAgKlxuICAgICAqIC0gW0pTT04gdnVsbmVyYWJpbGl0eV0oaHR0cDovL2hhYWNrZWQuY29tL2FyY2hpdmUvMjAwOC8xMS8yMC9hbmF0b215LW9mLWEtc3VidGxlLWpzb24tdnVsbmVyYWJpbGl0eS5hc3B4KVxuICAgICAqIC0gW1hTUkZdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ3Jvc3Mtc2l0ZV9yZXF1ZXN0X2ZvcmdlcnkpXG4gICAgICpcbiAgICAgKiBCb3RoIHNlcnZlciBhbmQgdGhlIGNsaWVudCBtdXN0IGNvb3BlcmF0ZSBpbiBvcmRlciB0byBlbGltaW5hdGUgdGhlc2UgdGhyZWF0cy4gQW5ndWxhckpTIGNvbWVzXG4gICAgICogcHJlLWNvbmZpZ3VyZWQgd2l0aCBzdHJhdGVnaWVzIHRoYXQgYWRkcmVzcyB0aGVzZSBpc3N1ZXMsIGJ1dCBmb3IgdGhpcyB0byB3b3JrIGJhY2tlbmQgc2VydmVyXG4gICAgICogY29vcGVyYXRpb24gaXMgcmVxdWlyZWQuXG4gICAgICpcbiAgICAgKiAjIyMgSlNPTiBWdWxuZXJhYmlsaXR5IFByb3RlY3Rpb25cbiAgICAgKlxuICAgICAqIEEgW0pTT04gdnVsbmVyYWJpbGl0eV0oaHR0cDovL2hhYWNrZWQuY29tL2FyY2hpdmUvMjAwOC8xMS8yMC9hbmF0b215LW9mLWEtc3VidGxlLWpzb24tdnVsbmVyYWJpbGl0eS5hc3B4KVxuICAgICAqIGFsbG93cyB0aGlyZCBwYXJ0eSB3ZWJzaXRlIHRvIHR1cm4geW91ciBKU09OIHJlc291cmNlIFVSTCBpbnRvXG4gICAgICogW0pTT05QXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QKSByZXF1ZXN0IHVuZGVyIHNvbWUgY29uZGl0aW9ucy4gVG9cbiAgICAgKiBjb3VudGVyIHRoaXMgeW91ciBzZXJ2ZXIgY2FuIHByZWZpeCBhbGwgSlNPTiByZXF1ZXN0cyB3aXRoIGZvbGxvd2luZyBzdHJpbmcgYFwiKV19JyxcXG5cImAuXG4gICAgICogQW5ndWxhckpTIHdpbGwgYXV0b21hdGljYWxseSBzdHJpcCB0aGUgcHJlZml4IGJlZm9yZSBwcm9jZXNzaW5nIGl0IGFzIEpTT04uXG4gICAgICpcbiAgICAgKiBGb3IgZXhhbXBsZSBpZiB5b3VyIHNlcnZlciBuZWVkcyB0byByZXR1cm46XG4gICAgICogYGBganNcbiAgICAgKiBbJ29uZScsJ3R3byddXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiB3aGljaCBpcyB2dWxuZXJhYmxlIHRvIGF0dGFjaywgeW91ciBzZXJ2ZXIgY2FuIHJldHVybjpcbiAgICAgKiBgYGBqc1xuICAgICAqICldfScsXG4gICAgICogWydvbmUnLCd0d28nXVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQW5ndWxhckpTIHdpbGwgc3RyaXAgdGhlIHByZWZpeCwgYmVmb3JlIHByb2Nlc3NpbmcgdGhlIEpTT04uXG4gICAgICpcbiAgICAgKlxuICAgICAqICMjIyBDcm9zcyBTaXRlIFJlcXVlc3QgRm9yZ2VyeSAoWFNSRikgUHJvdGVjdGlvblxuICAgICAqXG4gICAgICogW1hTUkZdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ3Jvc3Mtc2l0ZV9yZXF1ZXN0X2ZvcmdlcnkpIGlzIGFuIGF0dGFjayB0ZWNobmlxdWUgYnlcbiAgICAgKiB3aGljaCB0aGUgYXR0YWNrZXIgY2FuIHRyaWNrIGFuIGF1dGhlbnRpY2F0ZWQgdXNlciBpbnRvIHVua25vd2luZ2x5IGV4ZWN1dGluZyBhY3Rpb25zIG9uIHlvdXJcbiAgICAgKiB3ZWJzaXRlLiBBbmd1bGFySlMgcHJvdmlkZXMgYSBtZWNoYW5pc20gdG8gY291bnRlciBYU1JGLiBXaGVuIHBlcmZvcm1pbmcgWEhSIHJlcXVlc3RzLCB0aGVcbiAgICAgKiAkaHR0cCBzZXJ2aWNlIHJlYWRzIGEgdG9rZW4gZnJvbSBhIGNvb2tpZSAoYnkgZGVmYXVsdCwgYFhTUkYtVE9LRU5gKSBhbmQgc2V0cyBpdCBhcyBhbiBIVFRQXG4gICAgICogaGVhZGVyIChieSBkZWZhdWx0IGBYLVhTUkYtVE9LRU5gKS4gU2luY2Ugb25seSBKYXZhU2NyaXB0IHRoYXQgcnVucyBvbiB5b3VyIGRvbWFpbiBjb3VsZCByZWFkXG4gICAgICogdGhlIGNvb2tpZSwgeW91ciBzZXJ2ZXIgY2FuIGJlIGFzc3VyZWQgdGhhdCB0aGUgWEhSIGNhbWUgZnJvbSBKYXZhU2NyaXB0IHJ1bm5pbmcgb24geW91clxuICAgICAqIGRvbWFpbi5cbiAgICAgKlxuICAgICAqIFRvIHRha2UgYWR2YW50YWdlIG9mIHRoaXMsIHlvdXIgc2VydmVyIG5lZWRzIHRvIHNldCBhIHRva2VuIGluIGEgSmF2YVNjcmlwdCByZWFkYWJsZSBzZXNzaW9uXG4gICAgICogY29va2llIGNhbGxlZCBgWFNSRi1UT0tFTmAgb24gdGhlIGZpcnN0IEhUVFAgR0VUIHJlcXVlc3QuIE9uIHN1YnNlcXVlbnQgWEhSIHJlcXVlc3RzIHRoZVxuICAgICAqIHNlcnZlciBjYW4gdmVyaWZ5IHRoYXQgdGhlIGNvb2tpZSBtYXRjaGVzIHRoZSBgWC1YU1JGLVRPS0VOYCBIVFRQIGhlYWRlciwgYW5kIHRoZXJlZm9yZSBiZVxuICAgICAqIHN1cmUgdGhhdCBvbmx5IEphdmFTY3JpcHQgcnVubmluZyBvbiB5b3VyIGRvbWFpbiBjb3VsZCBoYXZlIHNlbnQgdGhlIHJlcXVlc3QuIFRoZSB0b2tlbiBtdXN0XG4gICAgICogYmUgdW5pcXVlIGZvciBlYWNoIHVzZXIgYW5kIG11c3QgYmUgdmVyaWZpYWJsZSBieSB0aGUgc2VydmVyICh0byBwcmV2ZW50IHRoZSBKYXZhU2NyaXB0IGZyb21cbiAgICAgKiBtYWtpbmcgdXAgaXRzIG93biB0b2tlbnMpLiBXZSByZWNvbW1lbmQgdGhhdCB0aGUgdG9rZW4gaXMgYSBkaWdlc3Qgb2YgeW91ciBzaXRlJ3NcbiAgICAgKiBhdXRoZW50aWNhdGlvbiBjb29raWUgd2l0aCBhIFtzYWx0XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TYWx0XyhjcnlwdG9ncmFwaHkmIzQxOylcbiAgICAgKiBmb3IgYWRkZWQgc2VjdXJpdHkuXG4gICAgICpcbiAgICAgKiBUaGUgaGVhZGVyIHdpbGwgJm1kYXNoOyBieSBkZWZhdWx0ICZtZGFzaDsgKipub3QqKiBiZSBzZXQgZm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cy4gVGhpc1xuICAgICAqIHByZXZlbnRzIHVuYXV0aG9yaXplZCBzZXJ2ZXJzIChlLmcuIG1hbGljaW91cyBvciBjb21wcm9taXNlZCAzcmQtcGFydHkgQVBJcykgZnJvbSBnYWluaW5nXG4gICAgICogYWNjZXNzIHRvIHlvdXIgdXNlcnMnIFhTUkYgdG9rZW5zIGFuZCBleHBvc2luZyB0aGVtIHRvIENyb3NzIFNpdGUgUmVxdWVzdCBGb3JnZXJ5LiBJZiB5b3VcbiAgICAgKiB3YW50IHRvLCB5b3UgY2FuIHdoaXRlbGlzdCBhZGRpdGlvbmFsIG9yaWdpbnMgdG8gYWxzbyByZWNlaXZlIHRoZSBYU1JGIHRva2VuLCBieSBhZGRpbmcgdGhlbVxuICAgICAqIHRvIHtAbGluayBuZy4kaHR0cFByb3ZpZGVyI3hzcmZXaGl0ZWxpc3RlZE9yaWdpbnMgeHNyZldoaXRlbGlzdGVkT3JpZ2luc30uIFRoaXMgbWlnaHQgYmVcbiAgICAgKiB1c2VmdWwsIGZvciBleGFtcGxlLCBpZiB5b3VyIGFwcGxpY2F0aW9uLCBzZXJ2ZWQgZnJvbSBgZXhhbXBsZS5jb21gLCBuZWVkcyB0byBhY2Nlc3MgeW91ciBBUElcbiAgICAgKiBhdCBgYXBpLmV4YW1wbGUuY29tYC5cbiAgICAgKiBTZWUge0BsaW5rIG5nLiRodHRwUHJvdmlkZXIjeHNyZldoaXRlbGlzdGVkT3JpZ2lucyAkaHR0cFByb3ZpZGVyLnhzcmZXaGl0ZWxpc3RlZE9yaWdpbnN9IGZvclxuICAgICAqIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cbiAgICAgKiAgICoqV2FybmluZyoqPGJyIC8+XG4gICAgICogICBPbmx5IHdoaXRlbGlzdCBvcmlnaW5zIHRoYXQgeW91IGhhdmUgY29udHJvbCBvdmVyIGFuZCBtYWtlIHN1cmUgeW91IHVuZGVyc3RhbmQgdGhlXG4gICAgICogICBpbXBsaWNhdGlvbnMgb2YgZG9pbmcgc28uXG4gICAgICogPC9kaXY+XG4gICAgICpcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY29va2llIGFuZCB0aGUgaGVhZGVyIGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgdGhlIGB4c3JmQ29va2llTmFtZWAgYW5kXG4gICAgICogYHhzcmZIZWFkZXJOYW1lYCBwcm9wZXJ0aWVzIG9mIGVpdGhlciBgJGh0dHBQcm92aWRlci5kZWZhdWx0c2AgYXQgY29uZmlnLXRpbWUsXG4gICAgICogYCRodHRwLmRlZmF1bHRzYCBhdCBydW4tdGltZSwgb3IgdGhlIHBlci1yZXF1ZXN0IGNvbmZpZyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJbiBvcmRlciB0byBwcmV2ZW50IGNvbGxpc2lvbnMgaW4gZW52aXJvbm1lbnRzIHdoZXJlIG11bHRpcGxlIEFuZ3VsYXJKUyBhcHBzIHNoYXJlIHRoZVxuICAgICAqIHNhbWUgZG9tYWluIG9yIHN1YmRvbWFpbiwgd2UgcmVjb21tZW5kIHRoYXQgZWFjaCBhcHBsaWNhdGlvbiB1c2VzIGEgdW5pcXVlIGNvb2tpZSBuYW1lLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIE9iamVjdCBkZXNjcmliaW5nIHRoZSByZXF1ZXN0IHRvIGJlIG1hZGUgYW5kIGhvdyBpdCBzaG91bGQgYmVcbiAgICAgKiAgICBwcm9jZXNzZWQuIFRoZSBvYmplY3QgaGFzIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAqXG4gICAgICogICAgLSAqKm1ldGhvZCoqIOKAkyBge3N0cmluZ31gIOKAkyBIVFRQIG1ldGhvZCAoZS5nLiAnR0VUJywgJ1BPU1QnLCBldGMpXG4gICAgICogICAgLSAqKnVybCoqIOKAkyBge3N0cmluZ3xUcnVzdGVkT2JqZWN0fWAg4oCTIEFic29sdXRlIG9yIHJlbGF0aXZlIFVSTCBvZiB0aGUgcmVzb3VyY2UgdGhhdCBpcyBiZWluZyByZXF1ZXN0ZWQ7XG4gICAgICogICAgICBvciBhbiBvYmplY3QgY3JlYXRlZCBieSBhIGNhbGwgdG8gYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHVybClgLlxuICAgICAqICAgIC0gKipwYXJhbXMqKiDigJMgYHtPYmplY3QuPHN0cmluZ3xPYmplY3Q+fWAg4oCTIE1hcCBvZiBzdHJpbmdzIG9yIG9iamVjdHMgd2hpY2ggd2lsbCBiZSBzZXJpYWxpemVkXG4gICAgICogICAgICB3aXRoIHRoZSBgcGFyYW1TZXJpYWxpemVyYCBhbmQgYXBwZW5kZWQgYXMgR0VUIHBhcmFtZXRlcnMuXG4gICAgICogICAgLSAqKmRhdGEqKiDigJMgYHtzdHJpbmd8T2JqZWN0fWAg4oCTIERhdGEgdG8gYmUgc2VudCBhcyB0aGUgcmVxdWVzdCBtZXNzYWdlIGRhdGEuXG4gICAgICogICAgLSAqKmhlYWRlcnMqKiDigJMgYHtPYmplY3R9YCDigJMgTWFwIG9mIHN0cmluZ3Mgb3IgZnVuY3Rpb25zIHdoaWNoIHJldHVybiBzdHJpbmdzIHJlcHJlc2VudGluZ1xuICAgICAqICAgICAgSFRUUCBoZWFkZXJzIHRvIHNlbmQgdG8gdGhlIHNlcnZlci4gSWYgdGhlIHJldHVybiB2YWx1ZSBvZiBhIGZ1bmN0aW9uIGlzIG51bGwsIHRoZVxuICAgICAqICAgICAgaGVhZGVyIHdpbGwgbm90IGJlIHNlbnQuIEZ1bmN0aW9ucyBhY2NlcHQgYSBjb25maWcgb2JqZWN0IGFzIGFuIGFyZ3VtZW50LlxuICAgICAqICAgIC0gKipldmVudEhhbmRsZXJzKiogLSBge09iamVjdH1gIC0gRXZlbnQgbGlzdGVuZXJzIHRvIGJlIGJvdW5kIHRvIHRoZSBYTUxIdHRwUmVxdWVzdCBvYmplY3QuXG4gICAgICogICAgICBUbyBiaW5kIGV2ZW50cyB0byB0aGUgWE1MSHR0cFJlcXVlc3QgdXBsb2FkIG9iamVjdCwgdXNlIGB1cGxvYWRFdmVudEhhbmRsZXJzYC5cbiAgICAgKiAgICAgIFRoZSBoYW5kbGVyIHdpbGwgYmUgY2FsbGVkIGluIHRoZSBjb250ZXh0IG9mIGEgYCRhcHBseWAgYmxvY2suXG4gICAgICogICAgLSAqKnVwbG9hZEV2ZW50SGFuZGxlcnMqKiAtIGB7T2JqZWN0fWAgLSBFdmVudCBsaXN0ZW5lcnMgdG8gYmUgYm91bmQgdG8gdGhlIFhNTEh0dHBSZXF1ZXN0IHVwbG9hZFxuICAgICAqICAgICAgb2JqZWN0LiBUbyBiaW5kIGV2ZW50cyB0byB0aGUgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0LCB1c2UgYGV2ZW50SGFuZGxlcnNgLlxuICAgICAqICAgICAgVGhlIGhhbmRsZXIgd2lsbCBiZSBjYWxsZWQgaW4gdGhlIGNvbnRleHQgb2YgYSBgJGFwcGx5YCBibG9jay5cbiAgICAgKiAgICAtICoqeHNyZkhlYWRlck5hbWUqKiDigJMgYHtzdHJpbmd9YCDigJMgTmFtZSBvZiBIVFRQIGhlYWRlciB0byBwb3B1bGF0ZSB3aXRoIHRoZSBYU1JGIHRva2VuLlxuICAgICAqICAgIC0gKip4c3JmQ29va2llTmFtZSoqIOKAkyBge3N0cmluZ31gIOKAkyBOYW1lIG9mIGNvb2tpZSBjb250YWluaW5nIHRoZSBYU1JGIHRva2VuLlxuICAgICAqICAgIC0gKip0cmFuc2Zvcm1SZXF1ZXN0Kiog4oCTXG4gICAgICogICAgICBge2Z1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpfEFycmF5LjxmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKT59YCDigJNcbiAgICAgKiAgICAgIHRyYW5zZm9ybSBmdW5jdGlvbiBvciBhbiBhcnJheSBvZiBzdWNoIGZ1bmN0aW9ucy4gVGhlIHRyYW5zZm9ybSBmdW5jdGlvbiB0YWtlcyB0aGUgaHR0cFxuICAgICAqICAgICAgcmVxdWVzdCBib2R5IGFuZCBoZWFkZXJzIGFuZCByZXR1cm5zIGl0cyB0cmFuc2Zvcm1lZCAodHlwaWNhbGx5IHNlcmlhbGl6ZWQpIHZlcnNpb24uXG4gICAgICogICAgICBTZWUge0BsaW5rIG5nLiRodHRwI292ZXJyaWRpbmctdGhlLWRlZmF1bHQtdHJhbnNmb3JtYXRpb25zLXBlci1yZXF1ZXN0XG4gICAgICogICAgICBPdmVycmlkaW5nIHRoZSBEZWZhdWx0IFRyYW5zZm9ybWF0aW9uc31cbiAgICAgKiAgICAtICoqdHJhbnNmb3JtUmVzcG9uc2UqKiDigJNcbiAgICAgKiAgICAgIGB7ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKXxBcnJheS48ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKT59YCDigJNcbiAgICAgKiAgICAgIHRyYW5zZm9ybSBmdW5jdGlvbiBvciBhbiBhcnJheSBvZiBzdWNoIGZ1bmN0aW9ucy4gVGhlIHRyYW5zZm9ybSBmdW5jdGlvbiB0YWtlcyB0aGUgaHR0cFxuICAgICAqICAgICAgcmVzcG9uc2UgYm9keSwgaGVhZGVycyBhbmQgc3RhdHVzIGFuZCByZXR1cm5zIGl0cyB0cmFuc2Zvcm1lZCAodHlwaWNhbGx5IGRlc2VyaWFsaXplZCkgdmVyc2lvbi5cbiAgICAgKiAgICAgIFNlZSB7QGxpbmsgbmcuJGh0dHAjb3ZlcnJpZGluZy10aGUtZGVmYXVsdC10cmFuc2Zvcm1hdGlvbnMtcGVyLXJlcXVlc3RcbiAgICAgKiAgICAgIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zfVxuICAgICAqICAgIC0gKipwYXJhbVNlcmlhbGl6ZXIqKiAtIGB7c3RyaW5nfGZ1bmN0aW9uKE9iamVjdDxzdHJpbmcsc3RyaW5nPik6c3RyaW5nfWAgLSBBIGZ1bmN0aW9uIHVzZWQgdG9cbiAgICAgKiAgICAgIHByZXBhcmUgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiByZXF1ZXN0IHBhcmFtZXRlcnMgKHNwZWNpZmllZCBhcyBhbiBvYmplY3QpLlxuICAgICAqICAgICAgSWYgc3BlY2lmaWVkIGFzIHN0cmluZywgaXQgaXMgaW50ZXJwcmV0ZWQgYXMgZnVuY3Rpb24gcmVnaXN0ZXJlZCB3aXRoIHRoZVxuICAgICAqICAgICAge0BsaW5rICRpbmplY3RvciAkaW5qZWN0b3J9LCB3aGljaCBtZWFucyB5b3UgY2FuIGNyZWF0ZSB5b3VyIG93biBzZXJpYWxpemVyXG4gICAgICogICAgICBieSByZWdpc3RlcmluZyBpdCBhcyBhIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2Ugc2VydmljZX0uXG4gICAgICogICAgICBUaGUgZGVmYXVsdCBzZXJpYWxpemVyIGlzIHRoZSB7QGxpbmsgJGh0dHBQYXJhbVNlcmlhbGl6ZXIgJGh0dHBQYXJhbVNlcmlhbGl6ZXJ9O1xuICAgICAqICAgICAgYWx0ZXJuYXRpdmVseSwgeW91IGNhbiB1c2UgdGhlIHtAbGluayAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZSAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZX1cbiAgICAgKiAgICAtICoqY2FjaGUqKiDigJMgYHtib29sZWFufE9iamVjdH1gIOKAkyBBIGJvb2xlYW4gdmFsdWUgb3Igb2JqZWN0IGNyZWF0ZWQgd2l0aFxuICAgICAqICAgICAge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgYCRjYWNoZUZhY3RvcnlgfSB0byBlbmFibGUgb3IgZGlzYWJsZSBjYWNoaW5nIG9mIHRoZSBIVFRQIHJlc3BvbnNlLlxuICAgICAqICAgICAgU2VlIHtAbGluayAkaHR0cCNjYWNoaW5nICRodHRwIENhY2hpbmd9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqICAgIC0gKip0aW1lb3V0Kiog4oCTIGB7bnVtYmVyfFByb21pc2V9YCDigJMgdGltZW91dCBpbiBtaWxsaXNlY29uZHMsIG9yIHtAbGluayBuZy4kcSBwcm9taXNlfVxuICAgICAqICAgICAgdGhhdCBzaG91bGQgYWJvcnQgdGhlIHJlcXVlc3Qgd2hlbiByZXNvbHZlZC5cbiAgICAgKlxuICAgICAqICAgICAgQSBudW1lcmljYWwgdGltZW91dCBvciBhIHByb21pc2UgcmV0dXJuZWQgZnJvbSB7QGxpbmsgbmcuJHRpbWVvdXQgJHRpbWVvdXR9LCB3aWxsIHNldFxuICAgICAqICAgICAgdGhlIGB4aHJTdGF0dXNgIGluIHRoZSB7QGxpbmsgJGh0dHAjJGh0dHAtcmV0dXJucyByZXNwb25zZX0gdG8gXCJ0aW1lb3V0XCIsIGFuZCBhbnkgb3RoZXJcbiAgICAgKiAgICAgIHJlc29sdmVkIHByb21pc2Ugd2lsbCBzZXQgaXQgdG8gXCJhYm9ydFwiLCBmb2xsb3dpbmcgc3RhbmRhcmQgWE1MSHR0cFJlcXVlc3QgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiAgICAtICoqd2l0aENyZWRlbnRpYWxzKiogLSBge2Jvb2xlYW59YCAtIHdoZXRoZXIgdG8gc2V0IHRoZSBgd2l0aENyZWRlbnRpYWxzYCBmbGFnIG9uIHRoZVxuICAgICAqICAgICAgWEhSIG9iamVjdC4gU2VlIFtyZXF1ZXN0cyB3aXRoIGNyZWRlbnRpYWxzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9IVFRQL0FjY2Vzc19jb250cm9sX0NPUlMjUmVxdWVzdHNfd2l0aF9jcmVkZW50aWFscylcbiAgICAgKiAgICAgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqICAgIC0gKipyZXNwb25zZVR5cGUqKiAtIGB7c3RyaW5nfWAgLSBzZWVcbiAgICAgKiAgICAgIFtYTUxIdHRwUmVxdWVzdC5yZXNwb25zZVR5cGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9YTUxIdHRwUmVxdWVzdCN4bWxodHRwcmVxdWVzdC1yZXNwb25zZXR5cGUpLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBBIHtAbGluayBuZy4kcSBgUHJvbWlzZX1gIHRoYXQgd2lsbCBiZSByZXNvbHZlZCAocmVxdWVzdCBzdWNjZXNzKVxuICAgICAqICAgb3IgcmVqZWN0ZWQgKHJlcXVlc3QgZmFpbHVyZSkgd2l0aCBhIHJlc3BvbnNlIG9iamVjdC5cbiAgICAgKlxuICAgICAqICAgVGhlIHJlc3BvbnNlIG9iamVjdCBoYXMgdGhlc2UgcHJvcGVydGllczpcbiAgICAgKlxuICAgICAqICAgLSAqKmRhdGEqKiDigJMgYHtzdHJpbmd8T2JqZWN0fWAg4oCTIFRoZSByZXNwb25zZSBib2R5IHRyYW5zZm9ybWVkIHdpdGhcbiAgICAgKiAgICAgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbnMuXG4gICAgICogICAtICoqc3RhdHVzKiog4oCTIGB7bnVtYmVyfWAg4oCTIEhUVFAgc3RhdHVzIGNvZGUgb2YgdGhlIHJlc3BvbnNlLlxuICAgICAqICAgLSAqKmhlYWRlcnMqKiDigJMgYHtmdW5jdGlvbihbaGVhZGVyTmFtZV0pfWAg4oCTIEhlYWRlciBnZXR0ZXIgZnVuY3Rpb24uXG4gICAgICogICAtICoqY29uZmlnKiog4oCTIGB7T2JqZWN0fWAg4oCTIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdCB0aGF0IHdhcyB1c2VkXG4gICAgICogICAgIHRvIGdlbmVyYXRlIHRoZSByZXF1ZXN0LlxuICAgICAqICAgLSAqKnN0YXR1c1RleHQqKiDigJMgYHtzdHJpbmd9YCDigJMgSFRUUCBzdGF0dXMgdGV4dCBvZiB0aGUgcmVzcG9uc2UuXG4gICAgICogICAtICoqeGhyU3RhdHVzKiog4oCTIGB7c3RyaW5nfWAg4oCTIFN0YXR1cyBvZiB0aGUgWE1MSHR0cFJlcXVlc3RcbiAgICAgKiAgICAgKGBjb21wbGV0ZWAsIGBlcnJvcmAsIGB0aW1lb3V0YCBvciBgYWJvcnRgKS5cbiAgICAgKlxuICAgICAqXG4gICAgICogICBBIHJlc3BvbnNlIHN0YXR1cyBjb2RlIGJldHdlZW4gMjAwIGFuZCAyOTkgaXMgY29uc2lkZXJlZCBhIHN1Y2Nlc3Mgc3RhdHVzXG4gICAgICogICBhbmQgd2lsbCByZXN1bHQgaW4gdGhlIHN1Y2Nlc3MgY2FsbGJhY2sgYmVpbmcgY2FsbGVkLiBBbnkgcmVzcG9uc2Ugc3RhdHVzXG4gICAgICogICBjb2RlIG91dHNpZGUgb2YgdGhhdCByYW5nZSBpcyBjb25zaWRlcmVkIGFuIGVycm9yIHN0YXR1cyBhbmQgd2lsbCByZXN1bHRcbiAgICAgKiAgIGluIHRoZSBlcnJvciBjYWxsYmFjayBiZWluZyBjYWxsZWQuXG4gICAgICogICBBbHNvLCBzdGF0dXMgY29kZXMgbGVzcyB0aGFuIC0xIGFyZSBub3JtYWxpemVkIHRvIHplcm8uIC0xIHVzdWFsbHkgbWVhbnNcbiAgICAgKiAgIHRoZSByZXF1ZXN0IHdhcyBhYm9ydGVkLCBlLmcuIHVzaW5nIGEgYGNvbmZpZy50aW1lb3V0YC4gTW9yZSBpbmZvcm1hdGlvblxuICAgICAqICAgYWJvdXQgdGhlIHN0YXR1cyBtaWdodCBiZSBhdmFpbGFibGUgaW4gdGhlIGB4aHJTdGF0dXNgIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogICBOb3RlIHRoYXQgaWYgdGhlIHJlc3BvbnNlIGlzIGEgcmVkaXJlY3QsIFhNTEh0dHBSZXF1ZXN0IHdpbGwgdHJhbnNwYXJlbnRseVxuICAgICAqICAgZm9sbG93IGl0LCBtZWFuaW5nIHRoYXQgdGhlIG91dGNvbWUgKHN1Y2Nlc3Mgb3IgZXJyb3IpIHdpbGwgYmUgZGV0ZXJtaW5lZFxuICAgICAqICAgYnkgdGhlIGZpbmFsIHJlc3BvbnNlIHN0YXR1cyBjb2RlLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkge0FycmF5LjxPYmplY3Q+fSBwZW5kaW5nUmVxdWVzdHMgQXJyYXkgb2YgY29uZmlnIG9iamVjdHMgZm9yIGN1cnJlbnRseSBwZW5kaW5nXG4gICAgICogICByZXF1ZXN0cy4gVGhpcyBpcyBwcmltYXJpbHkgbWVhbnQgdG8gYmUgdXNlZCBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwiaHR0cEV4YW1wbGVcIiBuYW1lPVwiaHR0cC1zZXJ2aWNlXCI+XG48ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJGZXRjaENvbnRyb2xsZXJcIj5cbiAgICA8c2VsZWN0IG5nLW1vZGVsPVwibWV0aG9kXCIgYXJpYS1sYWJlbD1cIlJlcXVlc3QgbWV0aG9kXCI+XG4gICAgICA8b3B0aW9uPkdFVDwvb3B0aW9uPlxuICAgICAgPG9wdGlvbj5KU09OUDwvb3B0aW9uPlxuICAgIDwvc2VsZWN0PlxuICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXJsXCIgc2l6ZT1cIjgwXCIgYXJpYS1sYWJlbD1cIlVSTFwiIC8+XG4gICAgPGJ1dHRvbiBpZD1cImZldGNoYnRuXCIgbmctY2xpY2s9XCJmZXRjaCgpXCI+ZmV0Y2g8L2J1dHRvbj48YnI+XG4gICAgPGJ1dHRvbiBpZD1cInNhbXBsZWdldGJ0blwiIG5nLWNsaWNrPVwidXBkYXRlTW9kZWwoJ0dFVCcsICdodHRwLWhlbGxvLmh0bWwnKVwiPlNhbXBsZSBHRVQ8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGlkPVwic2FtcGxlanNvbnBidG5cIlxuICAgICAgbmctY2xpY2s9XCJ1cGRhdGVNb2RlbCgnSlNPTlAnLFxuICAgICAgICAgICAgICAgICAgICAnaHR0cHM6Ly9hbmd1bGFyanMub3JnL2dyZWV0LnBocD9uYW1lPVN1cGVyJTIwSGVybycpXCI+XG4gICAgICBTYW1wbGUgSlNPTlBcbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGlkPVwiaW52YWxpZGpzb25wYnRuXCJcbiAgICAgIG5nLWNsaWNrPVwidXBkYXRlTW9kZWwoJ0pTT05QJywgJ2h0dHBzOi8vYW5ndWxhcmpzLm9yZy9kb2VzbnRleGlzdCcpXCI+XG4gICAgICAgIEludmFsaWQgSlNPTlBcbiAgICAgIDwvYnV0dG9uPlxuICAgIDxwcmU+aHR0cCBzdGF0dXMgY29kZToge3tzdGF0dXN9fTwvcHJlPlxuICAgIDxwcmU+aHR0cCByZXNwb25zZSBkYXRhOiB7e2RhdGF9fTwvcHJlPlxuICA8L2Rpdj5cbjwvZmlsZT5cbjxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgYW5ndWxhci5tb2R1bGUoJ2h0dHBFeGFtcGxlJywgW10pXG4gICAgLmNvbmZpZyhbJyRzY2VEZWxlZ2F0ZVByb3ZpZGVyJywgZnVuY3Rpb24oJHNjZURlbGVnYXRlUHJvdmlkZXIpIHtcbiAgICAgIC8vIFdlIG11c3Qgd2hpdGVsaXN0IHRoZSBKU09OUCBlbmRwb2ludCB0aGF0IHdlIGFyZSB1c2luZyB0byBzaG93IHRoYXQgd2UgdHJ1c3QgaXRcbiAgICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0KFtcbiAgICAgICAgJ3NlbGYnLFxuICAgICAgICAnaHR0cHM6Ly9hbmd1bGFyanMub3JnLyoqJ1xuICAgICAgXSk7XG4gICAgfV0pXG4gICAgLmNvbnRyb2xsZXIoJ0ZldGNoQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRodHRwJywgJyR0ZW1wbGF0ZUNhY2hlJyxcbiAgICAgIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsICR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgICAgICRzY29wZS5tZXRob2QgPSAnR0VUJztcbiAgICAgICAgJHNjb3BlLnVybCA9ICdodHRwLWhlbGxvLmh0bWwnO1xuXG4gICAgICAgICRzY29wZS5mZXRjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRzY29wZS5jb2RlID0gbnVsbDtcbiAgICAgICAgICAkc2NvcGUucmVzcG9uc2UgPSBudWxsO1xuXG4gICAgICAgICAgJGh0dHAoe21ldGhvZDogJHNjb3BlLm1ldGhvZCwgdXJsOiAkc2NvcGUudXJsLCBjYWNoZTogJHRlbXBsYXRlQ2FjaGV9KS5cbiAgICAgICAgICAgIHRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgICAgICAgICAgJHNjb3BlLmRhdGEgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRhdGEgPSByZXNwb25zZS5kYXRhIHx8ICdSZXF1ZXN0IGZhaWxlZCc7XG4gICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnVwZGF0ZU1vZGVsID0gZnVuY3Rpb24obWV0aG9kLCB1cmwpIHtcbiAgICAgICAgICAkc2NvcGUubWV0aG9kID0gbWV0aG9kO1xuICAgICAgICAgICRzY29wZS51cmwgPSB1cmw7XG4gICAgICAgIH07XG4gICAgICB9XSk7XG48L2ZpbGU+XG48ZmlsZSBuYW1lPVwiaHR0cC1oZWxsby5odG1sXCI+XG4gIEhlbGxvLCAkaHR0cCFcbjwvZmlsZT5cbjxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgdmFyIHN0YXR1cyA9IGVsZW1lbnQoYnkuYmluZGluZygnc3RhdHVzJykpO1xuICB2YXIgZGF0YSA9IGVsZW1lbnQoYnkuYmluZGluZygnZGF0YScpKTtcbiAgdmFyIGZldGNoQnRuID0gZWxlbWVudChieS5pZCgnZmV0Y2hidG4nKSk7XG4gIHZhciBzYW1wbGVHZXRCdG4gPSBlbGVtZW50KGJ5LmlkKCdzYW1wbGVnZXRidG4nKSk7XG4gIHZhciBpbnZhbGlkSnNvbnBCdG4gPSBlbGVtZW50KGJ5LmlkKCdpbnZhbGlkanNvbnBidG4nKSk7XG5cbiAgaXQoJ3Nob3VsZCBtYWtlIGFuIHhociBHRVQgcmVxdWVzdCcsIGZ1bmN0aW9uKCkge1xuICAgIHNhbXBsZUdldEJ0bi5jbGljaygpO1xuICAgIGZldGNoQnRuLmNsaWNrKCk7XG4gICAgZXhwZWN0KHN0YXR1cy5nZXRUZXh0KCkpLnRvTWF0Y2goJzIwMCcpO1xuICAgIGV4cGVjdChkYXRhLmdldFRleHQoKSkudG9NYXRjaCgvSGVsbG8sIFxcJGh0dHAhLyk7XG4gIH0pO1xuXG4vLyBDb21tZW50ZWQgb3V0IGR1ZSB0byBmbGFrZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy85MTg1XG4vLyBpdCgnc2hvdWxkIG1ha2UgYSBKU09OUCByZXF1ZXN0IHRvIGFuZ3VsYXJqcy5vcmcnLCBmdW5jdGlvbigpIHtcbi8vICAgdmFyIHNhbXBsZUpzb25wQnRuID0gZWxlbWVudChieS5pZCgnc2FtcGxlanNvbnBidG4nKSk7XG4vLyAgIHNhbXBsZUpzb25wQnRuLmNsaWNrKCk7XG4vLyAgIGZldGNoQnRuLmNsaWNrKCk7XG4vLyAgIGV4cGVjdChzdGF0dXMuZ2V0VGV4dCgpKS50b01hdGNoKCcyMDAnKTtcbi8vICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKC9TdXBlciBIZXJvIS8pO1xuLy8gfSk7XG5cbiAgaXQoJ3Nob3VsZCBtYWtlIEpTT05QIHJlcXVlc3QgdG8gaW52YWxpZCBVUkwgYW5kIGludm9rZSB0aGUgZXJyb3IgaGFuZGxlcicsXG4gICAgICBmdW5jdGlvbigpIHtcbiAgICBpbnZhbGlkSnNvbnBCdG4uY2xpY2soKTtcbiAgICBmZXRjaEJ0bi5jbGljaygpO1xuICAgIGV4cGVjdChzdGF0dXMuZ2V0VGV4dCgpKS50b01hdGNoKCcwJyk7XG4gICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKCdSZXF1ZXN0IGZhaWxlZCcpO1xuICB9KTtcbjwvZmlsZT5cbjwvZXhhbXBsZT5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiAkaHR0cChyZXF1ZXN0Q29uZmlnKSB7XG5cbiAgICAgIGlmICghaXNPYmplY3QocmVxdWVzdENvbmZpZykpIHtcbiAgICAgICAgdGhyb3cgbWluRXJyKCckaHR0cCcpKCdiYWRyZXEnLCAnSHR0cCByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gbXVzdCBiZSBhbiBvYmplY3QuICBSZWNlaXZlZDogezB9JywgcmVxdWVzdENvbmZpZyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNTdHJpbmcoJHNjZS52YWx1ZU9mKHJlcXVlc3RDb25maWcudXJsKSkpIHtcbiAgICAgICAgdGhyb3cgbWluRXJyKCckaHR0cCcpKCdiYWRyZXEnLCAnSHR0cCByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gdXJsIG11c3QgYmUgYSBzdHJpbmcgb3IgYSAkc2NlIHRydXN0ZWQgb2JqZWN0LiAgUmVjZWl2ZWQ6IHswfScsIHJlcXVlc3RDb25maWcudXJsKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbmZpZyA9IGV4dGVuZCh7XG4gICAgICAgIG1ldGhvZDogJ2dldCcsXG4gICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGRlZmF1bHRzLnRyYW5zZm9ybVJlcXVlc3QsXG4gICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBkZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZSxcbiAgICAgICAgcGFyYW1TZXJpYWxpemVyOiBkZWZhdWx0cy5wYXJhbVNlcmlhbGl6ZXIsXG4gICAgICAgIGpzb25wQ2FsbGJhY2tQYXJhbTogZGVmYXVsdHMuanNvbnBDYWxsYmFja1BhcmFtXG4gICAgICB9LCByZXF1ZXN0Q29uZmlnKTtcblxuICAgICAgY29uZmlnLmhlYWRlcnMgPSBtZXJnZUhlYWRlcnMocmVxdWVzdENvbmZpZyk7XG4gICAgICBjb25maWcubWV0aG9kID0gdXBwZXJjYXNlKGNvbmZpZy5tZXRob2QpO1xuICAgICAgY29uZmlnLnBhcmFtU2VyaWFsaXplciA9IGlzU3RyaW5nKGNvbmZpZy5wYXJhbVNlcmlhbGl6ZXIpID9cbiAgICAgICAgICAkaW5qZWN0b3IuZ2V0KGNvbmZpZy5wYXJhbVNlcmlhbGl6ZXIpIDogY29uZmlnLnBhcmFtU2VyaWFsaXplcjtcblxuICAgICAgJGJyb3dzZXIuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCgnJGh0dHAnKTtcblxuICAgICAgdmFyIHJlcXVlc3RJbnRlcmNlcHRvcnMgPSBbXTtcbiAgICAgIHZhciByZXNwb25zZUludGVyY2VwdG9ycyA9IFtdO1xuICAgICAgdmFyIHByb21pc2UgPSAkcS5yZXNvbHZlKGNvbmZpZyk7XG5cbiAgICAgIC8vIGFwcGx5IGludGVyY2VwdG9yc1xuICAgICAgZm9yRWFjaChyZXZlcnNlZEludGVyY2VwdG9ycywgZnVuY3Rpb24oaW50ZXJjZXB0b3IpIHtcbiAgICAgICAgaWYgKGludGVyY2VwdG9yLnJlcXVlc3QgfHwgaW50ZXJjZXB0b3IucmVxdWVzdEVycm9yKSB7XG4gICAgICAgICAgcmVxdWVzdEludGVyY2VwdG9ycy51bnNoaWZ0KGludGVyY2VwdG9yLnJlcXVlc3QsIGludGVyY2VwdG9yLnJlcXVlc3RFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVyY2VwdG9yLnJlc3BvbnNlIHx8IGludGVyY2VwdG9yLnJlc3BvbnNlRXJyb3IpIHtcbiAgICAgICAgICByZXNwb25zZUludGVyY2VwdG9ycy5wdXNoKGludGVyY2VwdG9yLnJlc3BvbnNlLCBpbnRlcmNlcHRvci5yZXNwb25zZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHByb21pc2UgPSBjaGFpbkludGVyY2VwdG9ycyhwcm9taXNlLCByZXF1ZXN0SW50ZXJjZXB0b3JzKTtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oc2VydmVyUmVxdWVzdCk7XG4gICAgICBwcm9taXNlID0gY2hhaW5JbnRlcmNlcHRvcnMocHJvbWlzZSwgcmVzcG9uc2VJbnRlcmNlcHRvcnMpO1xuICAgICAgcHJvbWlzZSA9IHByb21pc2UuZmluYWxseShjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCk7XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuXG5cbiAgICAgIGZ1bmN0aW9uIGNoYWluSW50ZXJjZXB0b3JzKHByb21pc2UsIGludGVyY2VwdG9ycykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnRlcmNlcHRvcnMubGVuZ3RoOyBpIDwgaWk7KSB7XG4gICAgICAgICAgdmFyIHRoZW5GbiA9IGludGVyY2VwdG9yc1tpKytdO1xuICAgICAgICAgIHZhciByZWplY3RGbiA9IGludGVyY2VwdG9yc1tpKytdO1xuXG4gICAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbih0aGVuRm4sIHJlamVjdEZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGludGVyY2VwdG9ycy5sZW5ndGggPSAwO1xuXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCgpIHtcbiAgICAgICAgJGJyb3dzZXIuJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChub29wLCAnJGh0dHAnKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZXhlY3V0ZUhlYWRlckZucyhoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgdmFyIGhlYWRlckNvbnRlbnQsIHByb2Nlc3NlZEhlYWRlcnMgPSB7fTtcblxuICAgICAgICBmb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uKGhlYWRlckZuLCBoZWFkZXIpIHtcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihoZWFkZXJGbikpIHtcbiAgICAgICAgICAgIGhlYWRlckNvbnRlbnQgPSBoZWFkZXJGbihjb25maWcpO1xuICAgICAgICAgICAgaWYgKGhlYWRlckNvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBwcm9jZXNzZWRIZWFkZXJzW2hlYWRlcl0gPSBoZWFkZXJDb250ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9jZXNzZWRIZWFkZXJzW2hlYWRlcl0gPSBoZWFkZXJGbjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBwcm9jZXNzZWRIZWFkZXJzO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBtZXJnZUhlYWRlcnMoY29uZmlnKSB7XG4gICAgICAgIHZhciBkZWZIZWFkZXJzID0gZGVmYXVsdHMuaGVhZGVycyxcbiAgICAgICAgICAgIHJlcUhlYWRlcnMgPSBleHRlbmQoe30sIGNvbmZpZy5oZWFkZXJzKSxcbiAgICAgICAgICAgIGRlZkhlYWRlck5hbWUsIGxvd2VyY2FzZURlZkhlYWRlck5hbWUsIHJlcUhlYWRlck5hbWU7XG5cbiAgICAgICAgZGVmSGVhZGVycyA9IGV4dGVuZCh7fSwgZGVmSGVhZGVycy5jb21tb24sIGRlZkhlYWRlcnNbbG93ZXJjYXNlKGNvbmZpZy5tZXRob2QpXSk7XG5cbiAgICAgICAgLy8gdXNpbmcgZm9yLWluIGluc3RlYWQgb2YgZm9yRWFjaCB0byBhdm9pZCB1bm5lY2Vzc2FyeSBpdGVyYXRpb24gYWZ0ZXIgaGVhZGVyIGhhcyBiZWVuIGZvdW5kXG4gICAgICAgIGRlZmF1bHRIZWFkZXJzSXRlcmF0aW9uOlxuICAgICAgICBmb3IgKGRlZkhlYWRlck5hbWUgaW4gZGVmSGVhZGVycykge1xuICAgICAgICAgIGxvd2VyY2FzZURlZkhlYWRlck5hbWUgPSBsb3dlcmNhc2UoZGVmSGVhZGVyTmFtZSk7XG5cbiAgICAgICAgICBmb3IgKHJlcUhlYWRlck5hbWUgaW4gcmVxSGVhZGVycykge1xuICAgICAgICAgICAgaWYgKGxvd2VyY2FzZShyZXFIZWFkZXJOYW1lKSA9PT0gbG93ZXJjYXNlRGVmSGVhZGVyTmFtZSkge1xuICAgICAgICAgICAgICBjb250aW51ZSBkZWZhdWx0SGVhZGVyc0l0ZXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXFIZWFkZXJzW2RlZkhlYWRlck5hbWVdID0gZGVmSGVhZGVyc1tkZWZIZWFkZXJOYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGV4ZWN1dGUgaWYgaGVhZGVyIHZhbHVlIGlzIGEgZnVuY3Rpb24gZm9yIG1lcmdlZCBoZWFkZXJzXG4gICAgICAgIHJldHVybiBleGVjdXRlSGVhZGVyRm5zKHJlcUhlYWRlcnMsIHNoYWxsb3dDb3B5KGNvbmZpZykpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzZXJ2ZXJSZXF1ZXN0KGNvbmZpZykge1xuICAgICAgICB2YXIgaGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xuICAgICAgICB2YXIgcmVxRGF0YSA9IHRyYW5zZm9ybURhdGEoY29uZmlnLmRhdGEsIGhlYWRlcnNHZXR0ZXIoaGVhZGVycyksIHVuZGVmaW5lZCwgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3QpO1xuXG4gICAgICAgIC8vIHN0cmlwIGNvbnRlbnQtdHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuICAgICAgICBpZiAoaXNVbmRlZmluZWQocmVxRGF0YSkpIHtcbiAgICAgICAgICBmb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uKHZhbHVlLCBoZWFkZXIpIHtcbiAgICAgICAgICAgIGlmIChsb3dlcmNhc2UoaGVhZGVyKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAgICAgZGVsZXRlIGhlYWRlcnNbaGVhZGVyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChjb25maWcud2l0aENyZWRlbnRpYWxzKSAmJiAhaXNVbmRlZmluZWQoZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzKSkge1xuICAgICAgICAgIGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgPSBkZWZhdWx0cy53aXRoQ3JlZGVudGlhbHM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZW5kIHJlcXVlc3RcbiAgICAgICAgcmV0dXJuIHNlbmRSZXEoY29uZmlnLCByZXFEYXRhKS50aGVuKHRyYW5zZm9ybVJlc3BvbnNlLCB0cmFuc2Zvcm1SZXNwb25zZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRyYW5zZm9ybVJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgICAgIC8vIG1ha2UgYSBjb3B5IHNpbmNlIHRoZSByZXNwb25zZSBtdXN0IGJlIGNhY2hlYWJsZVxuICAgICAgICB2YXIgcmVzcCA9IGV4dGVuZCh7fSwgcmVzcG9uc2UpO1xuICAgICAgICByZXNwLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKHJlc3BvbnNlLmRhdGEsIHJlc3BvbnNlLmhlYWRlcnMsIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2UpO1xuICAgICAgICByZXR1cm4gKGlzU3VjY2VzcyhyZXNwb25zZS5zdGF0dXMpKVxuICAgICAgICAgID8gcmVzcFxuICAgICAgICAgIDogJHEucmVqZWN0KHJlc3ApO1xuICAgICAgfVxuICAgIH1cblxuICAgICRodHRwLnBlbmRpbmdSZXF1ZXN0cyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI2dldFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYEdFVGAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFRydXN0ZWRPYmplY3R9IHVybCBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgb2YgdGhlIHJlc291cmNlIHRoYXQgaXMgYmVpbmcgcmVxdWVzdGVkO1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBhbiBvYmplY3QgY3JlYXRlZCBieSBhIGNhbGwgdG8gYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHVybClgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0LiBTZWUge0BsaW5rIG5nLiRodHRwIyRodHRwLWFyZ3VtZW50cyBgJGh0dHAoKWAgYXJndW1lbnRzfS5cbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9ICBBIFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIG9yIHJlamVjdGVkIHdpdGggYSByZXNwb25zZSBvYmplY3QuXG4gICAgICogU2VlIHtAbGluayBuZy4kaHR0cCMkaHR0cC1yZXR1cm5zIGAkaHR0cCgpYCByZXR1cm4gdmFsdWV9LlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI2RlbGV0ZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYERFTEVURWAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFRydXN0ZWRPYmplY3R9IHVybCBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgb2YgdGhlIHJlc291cmNlIHRoYXQgaXMgYmVpbmcgcmVxdWVzdGVkO1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBhbiBvYmplY3QgY3JlYXRlZCBieSBhIGNhbGwgdG8gYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHVybClgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0LiBTZWUge0BsaW5rIG5nLiRodHRwIyRodHRwLWFyZ3VtZW50cyBgJGh0dHAoKWAgYXJndW1lbnRzfS5cbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9ICBBIFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIG9yIHJlamVjdGVkIHdpdGggYSByZXNwb25zZSBvYmplY3QuXG4gICAgICogU2VlIHtAbGluayBuZy4kaHR0cCMkaHR0cC1yZXR1cm5zIGAkaHR0cCgpYCByZXR1cm4gdmFsdWV9LlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI2hlYWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBIRUFEYCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8VHJ1c3RlZE9iamVjdH0gdXJsIEFic29sdXRlIG9yIHJlbGF0aXZlIFVSTCBvZiB0aGUgcmVzb3VyY2UgdGhhdCBpcyBiZWluZyByZXF1ZXN0ZWQ7XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIGFuIG9iamVjdCBjcmVhdGVkIGJ5IGEgY2FsbCB0byBgJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwodXJsKWAuXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3QuIFNlZSB7QGxpbmsgbmcuJGh0dHAjJGh0dHAtYXJndW1lbnRzIGAkaHR0cCgpYCBhcmd1bWVudHN9LlxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gIEEgUHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQgd2l0aCBhIHJlc3BvbnNlIG9iamVjdC5cbiAgICAgKiBTZWUge0BsaW5rIG5nLiRodHRwIyRodHRwLXJldHVybnMgYCRodHRwKClgIHJldHVybiB2YWx1ZX0uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjanNvbnBcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBKU09OUGAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCwgc2luY2UgSlNPTlAgcmVxdWVzdHMgYXJlIHNlbnNpdGl2ZSBiZWNhdXNlIHRoZSByZXNwb25zZSBpcyBnaXZlbiBmdWxsIGFjY2VzcyB0byB0aGUgYnJvd3NlcixcbiAgICAgKiB0aGUgdXJsIG11c3QgYmUgZGVjbGFyZWQsIHZpYSB7QGxpbmsgJHNjZX0gYXMgYSB0cnVzdGVkIHJlc291cmNlIFVSTC5cbiAgICAgKiBZb3UgY2FuIHRydXN0IGEgVVJMIGJ5IGFkZGluZyBpdCB0byB0aGUgd2hpdGVsaXN0IHZpYVxuICAgICAqIHtAbGluayAkc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCAgYCRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0YH0gb3JcbiAgICAgKiBieSBleHBsaWNpdGx5IHRydXN0aW5nIHRoZSBVUkwgdmlhIHtAbGluayAkc2NlI3RydXN0QXNSZXNvdXJjZVVybCBgJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwodXJsKWB9LlxuICAgICAqXG4gICAgICogWW91IHNob3VsZCBhdm9pZCBnZW5lcmF0aW5nIHRoZSBVUkwgZm9yIHRoZSBKU09OUCByZXF1ZXN0IGZyb20gdXNlciBwcm92aWRlZCBkYXRhLlxuICAgICAqIFByb3ZpZGUgYWRkaXRpb25hbCBxdWVyeSBwYXJhbWV0ZXJzIHZpYSBgcGFyYW1zYCBwcm9wZXJ0eSBvZiB0aGUgYGNvbmZpZ2AgcGFyYW1ldGVyLCByYXRoZXIgdGhhblxuICAgICAqIG1vZGlmeWluZyB0aGUgVVJMIGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEpTT05QIHJlcXVlc3RzIG11c3Qgc3BlY2lmeSBhIGNhbGxiYWNrIHRvIGJlIHVzZWQgaW4gdGhlIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlci4gVGhpcyBjYWxsYmFja1xuICAgICAqIGlzIHBhc3NlZCBhcyBhIHF1ZXJ5IHBhcmFtZXRlciBpbiB0aGUgcmVxdWVzdC4gWW91IG11c3Qgc3BlY2lmeSB0aGUgbmFtZSBvZiB0aGlzIHBhcmFtZXRlciBieVxuICAgICAqIHNldHRpbmcgdGhlIGBqc29ucENhbGxiYWNrUGFyYW1gIHByb3BlcnR5IG9uIHRoZSByZXF1ZXN0IGNvbmZpZyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiAkaHR0cC5qc29ucCgnc29tZS90cnVzdGVkL3VybCcsIHtqc29ucENhbGxiYWNrUGFyYW06ICdjYWxsYmFjayd9KVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogWW91IGNhbiBhbHNvIHNwZWNpZnkgYSBkZWZhdWx0IGNhbGxiYWNrIHBhcmFtZXRlciBuYW1lIGluIGAkaHR0cC5kZWZhdWx0cy5qc29ucENhbGxiYWNrUGFyYW1gLlxuICAgICAqIEluaXRpYWxseSB0aGlzIGlzIHNldCB0byBgJ2NhbGxiYWNrJ2AuXG4gICAgICpcbiAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XG4gICAgICogWW91IGNhbiBubyBsb25nZXIgdXNlIHRoZSBgSlNPTl9DQUxMQkFDS2Agc3RyaW5nIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHNwZWNpZnlpbmcgd2hlcmUgdGhlIGNhbGxiYWNrXG4gICAgICogcGFyYW1ldGVyIHZhbHVlIHNob3VsZCBnby5cbiAgICAgKiA8L2Rpdj5cbiAgICAgKlxuICAgICAqIElmIHlvdSB3b3VsZCBsaWtlIHRvIGN1c3RvbWlzZSB3aGVyZSBhbmQgaG93IHRoZSBjYWxsYmFja3MgYXJlIHN0b3JlZCB0aGVuIHRyeSBvdmVycmlkaW5nXG4gICAgICogb3IgZGVjb3JhdGluZyB0aGUge0BsaW5rICRqc29ucENhbGxiYWNrc30gc2VydmljZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFRydXN0ZWRPYmplY3R9IHVybCBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgb2YgdGhlIHJlc291cmNlIHRoYXQgaXMgYmVpbmcgcmVxdWVzdGVkO1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBhbiBvYmplY3QgY3JlYXRlZCBieSBhIGNhbGwgdG8gYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHVybClgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0LiBTZWUge0BsaW5rIG5nLiRodHRwIyRodHRwLWFyZ3VtZW50cyBgJGh0dHAoKWAgYXJndW1lbnRzfS5cbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9ICBBIFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIG9yIHJlamVjdGVkIHdpdGggYSByZXNwb25zZSBvYmplY3QuXG4gICAgICogU2VlIHtAbGluayBuZy4kaHR0cCMkaHR0cC1yZXR1cm5zIGAkaHR0cCgpYCByZXR1cm4gdmFsdWV9LlxuICAgICAqL1xuICAgIGNyZWF0ZVNob3J0TWV0aG9kcygnZ2V0JywgJ2RlbGV0ZScsICdoZWFkJywgJ2pzb25wJyk7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjcG9zdFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBPU1RgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBSZXF1ZXN0IGNvbnRlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdC4gU2VlIHtAbGluayBuZy4kaHR0cCMkaHR0cC1hcmd1bWVudHMgYCRodHRwKClgIGFyZ3VtZW50c30uXG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSAgQSBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBvciByZWplY3RlZCB3aXRoIGEgcmVzcG9uc2Ugb2JqZWN0LlxuICAgICAqIFNlZSB7QGxpbmsgbmcuJGh0dHAjJGh0dHAtcmV0dXJucyBgJGh0dHAoKWAgcmV0dXJuIHZhbHVlfS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaHR0cCNwdXRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBQVVRgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBSZXF1ZXN0IGNvbnRlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdC4gU2VlIHtAbGluayBuZy4kaHR0cCMkaHR0cC1hcmd1bWVudHMgYCRodHRwKClgIGFyZ3VtZW50c30uXG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSAgQSBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBvciByZWplY3RlZCB3aXRoIGEgcmVzcG9uc2Ugb2JqZWN0LlxuICAgICAqIFNlZSB7QGxpbmsgbmcuJGh0dHAjJGh0dHAtcmV0dXJucyBgJGh0dHAoKWAgcmV0dXJuIHZhbHVlfS5cbiAgICAgKi9cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgKiBAbmFtZSAkaHR0cCNwYXRjaFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBBVENIYCByZXF1ZXN0LlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAgKiBAcGFyYW0geyp9IGRhdGEgUmVxdWVzdCBjb250ZW50XG4gICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0LiBTZWUge0BsaW5rIG5nLiRodHRwIyRodHRwLWFyZ3VtZW50cyBgJGh0dHAoKWAgYXJndW1lbnRzfS5cbiAgICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSAgQSBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBvciByZWplY3RlZCB3aXRoIGEgcmVzcG9uc2Ugb2JqZWN0LlxuICAgICAgKiBTZWUge0BsaW5rIG5nLiRodHRwIyRodHRwLXJldHVybnMgYCRodHRwKClgIHJldHVybiB2YWx1ZX0uXG4gICAgICAqL1xuICAgIGNyZWF0ZVNob3J0TWV0aG9kc1dpdGhEYXRhKCdwb3N0JywgJ3B1dCcsICdwYXRjaCcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICAgICogQG5hbWUgJGh0dHAjZGVmYXVsdHNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJ1bnRpbWUgZXF1aXZhbGVudCBvZiB0aGUgYCRodHRwUHJvdmlkZXIuZGVmYXVsdHNgIHByb3BlcnR5LiBBbGxvd3MgY29uZmlndXJhdGlvbiBvZlxuICAgICAgICAgKiBkZWZhdWx0IGhlYWRlcnMsIHdpdGhDcmVkZW50aWFscyBhcyB3ZWxsIGFzIHJlcXVlc3QgYW5kIHJlc3BvbnNlIHRyYW5zZm9ybWF0aW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogU2VlIFwiU2V0dGluZyBIVFRQIEhlYWRlcnNcIiBhbmQgXCJUcmFuc2Zvcm1pbmcgUmVxdWVzdHMgYW5kIFJlc3BvbnNlc1wiIHNlY3Rpb25zIGFib3ZlLlxuICAgICAgICAgKi9cbiAgICAkaHR0cC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuXG5cbiAgICByZXR1cm4gJGh0dHA7XG5cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVNob3J0TWV0aG9kcyhuYW1lcykge1xuICAgICAgZm9yRWFjaChhcmd1bWVudHMsIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgJGh0dHBbbmFtZV0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xuICAgICAgICAgIHJldHVybiAkaHR0cChleHRlbmQoe30sIGNvbmZpZyB8fCB7fSwge1xuICAgICAgICAgICAgbWV0aG9kOiBuYW1lLFxuICAgICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVNob3J0TWV0aG9kc1dpdGhEYXRhKG5hbWUpIHtcbiAgICAgIGZvckVhY2goYXJndW1lbnRzLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICRodHRwW25hbWVdID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICAgICAgICByZXR1cm4gJGh0dHAoZXh0ZW5kKHt9LCBjb25maWcgfHwge30sIHtcbiAgICAgICAgICAgIG1ldGhvZDogbmFtZSxcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWFrZXMgdGhlIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiAhISEgQUNDRVNTRVMgQ0xPU1VSRSBWQVJTOlxuICAgICAqICRodHRwQmFja2VuZCwgZGVmYXVsdHMsICRsb2csICRyb290U2NvcGUsIGRlZmF1bHRDYWNoZSwgJGh0dHAucGVuZGluZ1JlcXVlc3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2VuZFJlcShjb25maWcsIHJlcURhdGEpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCksXG4gICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgY2FjaGUsXG4gICAgICAgICAgY2FjaGVkUmVzcCxcbiAgICAgICAgICByZXFIZWFkZXJzID0gY29uZmlnLmhlYWRlcnMsXG4gICAgICAgICAgaXNKc29ucCA9IGxvd2VyY2FzZShjb25maWcubWV0aG9kKSA9PT0gJ2pzb25wJyxcbiAgICAgICAgICB1cmwgPSBjb25maWcudXJsO1xuXG4gICAgICBpZiAoaXNKc29ucCkge1xuICAgICAgICAvLyBKU09OUCBpcyBhIHByZXR0eSBzZW5zaXRpdmUgb3BlcmF0aW9uIHdoZXJlIHdlJ3JlIGFsbG93aW5nIGEgc2NyaXB0IHRvIGhhdmUgZnVsbCBhY2Nlc3MgdG9cbiAgICAgICAgLy8gb3VyIERPTSBhbmQgSlMgc3BhY2UuICBTbyB3ZSByZXF1aXJlIHRoYXQgdGhlIFVSTCBzYXRpc2ZpZXMgU0NFLlJFU09VUkNFX1VSTC5cbiAgICAgICAgdXJsID0gJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodXJsKTtcbiAgICAgIH0gZWxzZSBpZiAoIWlzU3RyaW5nKHVybCkpIHtcbiAgICAgICAgLy8gSWYgaXQgaXMgbm90IGEgc3RyaW5nIHRoZW4gdGhlIFVSTCBtdXN0IGJlIGEgJHNjZSB0cnVzdGVkIG9iamVjdFxuICAgICAgICB1cmwgPSAkc2NlLnZhbHVlT2YodXJsKTtcbiAgICAgIH1cblxuICAgICAgdXJsID0gYnVpbGRVcmwodXJsLCBjb25maWcucGFyYW1TZXJpYWxpemVyKGNvbmZpZy5wYXJhbXMpKTtcblxuICAgICAgaWYgKGlzSnNvbnApIHtcbiAgICAgICAgLy8gQ2hlY2sgdGhlIHVybCBhbmQgYWRkIHRoZSBKU09OUCBjYWxsYmFjayBwbGFjZWhvbGRlclxuICAgICAgICB1cmwgPSBzYW5pdGl6ZUpzb25wQ2FsbGJhY2tQYXJhbSh1cmwsIGNvbmZpZy5qc29ucENhbGxiYWNrUGFyYW0pO1xuICAgICAgfVxuXG4gICAgICAkaHR0cC5wZW5kaW5nUmVxdWVzdHMucHVzaChjb25maWcpO1xuICAgICAgcHJvbWlzZS50aGVuKHJlbW92ZVBlbmRpbmdSZXEsIHJlbW92ZVBlbmRpbmdSZXEpO1xuXG4gICAgICBpZiAoKGNvbmZpZy5jYWNoZSB8fCBkZWZhdWx0cy5jYWNoZSkgJiYgY29uZmlnLmNhY2hlICE9PSBmYWxzZSAmJlxuICAgICAgICAgIChjb25maWcubWV0aG9kID09PSAnR0VUJyB8fCBjb25maWcubWV0aG9kID09PSAnSlNPTlAnKSkge1xuICAgICAgICBjYWNoZSA9IGlzT2JqZWN0KGNvbmZpZy5jYWNoZSkgPyBjb25maWcuY2FjaGVcbiAgICAgICAgICAgIDogaXNPYmplY3QoLyoqIEB0eXBlIHs/fSAqLyAoZGVmYXVsdHMpLmNhY2hlKVxuICAgICAgICAgICAgICA/IC8qKiBAdHlwZSB7P30gKi8gKGRlZmF1bHRzKS5jYWNoZVxuICAgICAgICAgICAgICA6IGRlZmF1bHRDYWNoZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgIGNhY2hlZFJlc3AgPSBjYWNoZS5nZXQodXJsKTtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChjYWNoZWRSZXNwKSkge1xuICAgICAgICAgIGlmIChpc1Byb21pc2VMaWtlKGNhY2hlZFJlc3ApKSB7XG4gICAgICAgICAgICAvLyBjYWNoZWQgcmVxdWVzdCBoYXMgYWxyZWFkeSBiZWVuIHNlbnQsIGJ1dCB0aGVyZSBpcyBubyByZXNwb25zZSB5ZXRcbiAgICAgICAgICAgIGNhY2hlZFJlc3AudGhlbihyZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQsIHJlc29sdmVQcm9taXNlV2l0aFJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNlcnZpbmcgZnJvbSBjYWNoZVxuICAgICAgICAgICAgaWYgKGlzQXJyYXkoY2FjaGVkUmVzcCkpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZVByb21pc2UoY2FjaGVkUmVzcFsxXSwgY2FjaGVkUmVzcFswXSwgc2hhbGxvd0NvcHkoY2FjaGVkUmVzcFsyXSksIGNhY2hlZFJlc3BbM10sIGNhY2hlZFJlc3BbNF0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZVByb21pc2UoY2FjaGVkUmVzcCwgMjAwLCB7fSwgJ09LJywgJ2NvbXBsZXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHB1dCB0aGUgcHJvbWlzZSBmb3IgdGhlIG5vbi10cmFuc2Zvcm1lZCByZXNwb25zZSBpbnRvIGNhY2hlIGFzIGEgcGxhY2Vob2xkZXJcbiAgICAgICAgICBjYWNoZS5wdXQodXJsLCBwcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG5cbiAgICAgIC8vIGlmIHdlIHdvbid0IGhhdmUgdGhlIHJlc3BvbnNlIGluIGNhY2hlLCBzZXQgdGhlIHhzcmYgaGVhZGVycyBhbmRcbiAgICAgIC8vIHNlbmQgdGhlIHJlcXVlc3QgdG8gdGhlIGJhY2tlbmRcbiAgICAgIGlmIChpc1VuZGVmaW5lZChjYWNoZWRSZXNwKSkge1xuICAgICAgICB2YXIgeHNyZlZhbHVlID0gdXJsSXNBbGxvd2VkT3JpZ2luKGNvbmZpZy51cmwpXG4gICAgICAgICAgICA/ICQkY29va2llUmVhZGVyKClbY29uZmlnLnhzcmZDb29raWVOYW1lIHx8IGRlZmF1bHRzLnhzcmZDb29raWVOYW1lXVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgICByZXFIZWFkZXJzWyhjb25maWcueHNyZkhlYWRlck5hbWUgfHwgZGVmYXVsdHMueHNyZkhlYWRlck5hbWUpXSA9IHhzcmZWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgICRodHRwQmFja2VuZChjb25maWcubWV0aG9kLCB1cmwsIHJlcURhdGEsIGRvbmUsIHJlcUhlYWRlcnMsIGNvbmZpZy50aW1lb3V0LFxuICAgICAgICAgICAgY29uZmlnLndpdGhDcmVkZW50aWFscywgY29uZmlnLnJlc3BvbnNlVHlwZSxcbiAgICAgICAgICAgIGNyZWF0ZUFwcGx5SGFuZGxlcnMoY29uZmlnLmV2ZW50SGFuZGxlcnMpLFxuICAgICAgICAgICAgY3JlYXRlQXBwbHlIYW5kbGVycyhjb25maWcudXBsb2FkRXZlbnRIYW5kbGVycykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcblxuICAgICAgZnVuY3Rpb24gY3JlYXRlQXBwbHlIYW5kbGVycyhldmVudEhhbmRsZXJzKSB7XG4gICAgICAgIGlmIChldmVudEhhbmRsZXJzKSB7XG4gICAgICAgICAgdmFyIGFwcGx5SGFuZGxlcnMgPSB7fTtcbiAgICAgICAgICBmb3JFYWNoKGV2ZW50SGFuZGxlcnMsIGZ1bmN0aW9uKGV2ZW50SGFuZGxlciwga2V5KSB7XG4gICAgICAgICAgICBhcHBseUhhbmRsZXJzW2tleV0gPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICBpZiAodXNlQXBwbHlBc3luYykge1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5QXN5bmMoY2FsbEV2ZW50SGFuZGxlcik7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgICAgY2FsbEV2ZW50SGFuZGxlcigpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGNhbGxFdmVudEhhbmRsZXIpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZnVuY3Rpb24gY2FsbEV2ZW50SGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICBldmVudEhhbmRsZXIoZXZlbnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBhcHBseUhhbmRsZXJzO1xuICAgICAgICB9XG4gICAgICB9XG5cblxuICAgICAgLyoqXG4gICAgICAgKiBDYWxsYmFjayByZWdpc3RlcmVkIHRvICRodHRwQmFja2VuZCgpOlxuICAgICAgICogIC0gY2FjaGVzIHRoZSByZXNwb25zZSBpZiBkZXNpcmVkXG4gICAgICAgKiAgLSByZXNvbHZlcyB0aGUgcmF3ICRodHRwIHByb21pc2VcbiAgICAgICAqICAtIGNhbGxzICRhcHBseVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBkb25lKHN0YXR1cywgcmVzcG9uc2UsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQsIHhoclN0YXR1cykge1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICBpZiAoaXNTdWNjZXNzKHN0YXR1cykpIHtcbiAgICAgICAgICAgIGNhY2hlLnB1dCh1cmwsIFtzdGF0dXMsIHJlc3BvbnNlLCBwYXJzZUhlYWRlcnMoaGVhZGVyc1N0cmluZyksIHN0YXR1c1RleHQsIHhoclN0YXR1c10pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgcHJvbWlzZSBmcm9tIHRoZSBjYWNoZVxuICAgICAgICAgICAgY2FjaGUucmVtb3ZlKHVybCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZUh0dHBQcm9taXNlKCkge1xuICAgICAgICAgIHJlc29sdmVQcm9taXNlKHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQsIHhoclN0YXR1cyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXNlQXBwbHlBc3luYykge1xuICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5QXN5bmMocmVzb2x2ZUh0dHBQcm9taXNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlSHR0cFByb21pc2UoKTtcbiAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkgJHJvb3RTY29wZS4kYXBwbHkoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG5cbiAgICAgIC8qKlxuICAgICAgICogUmVzb2x2ZXMgdGhlIHJhdyAkaHR0cCBwcm9taXNlLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZShyZXNwb25zZSwgc3RhdHVzLCBoZWFkZXJzLCBzdGF0dXNUZXh0LCB4aHJTdGF0dXMpIHtcbiAgICAgICAgLy9zdGF0dXM6IEhUVFAgcmVzcG9uc2Ugc3RhdHVzIGNvZGUsIDAsIC0xIChhYm9ydGVkIGJ5IHRpbWVvdXQgLyBwcm9taXNlKVxuICAgICAgICBzdGF0dXMgPSBzdGF0dXMgPj0gLTEgPyBzdGF0dXMgOiAwO1xuXG4gICAgICAgIChpc1N1Y2Nlc3Moc3RhdHVzKSA/IGRlZmVycmVkLnJlc29sdmUgOiBkZWZlcnJlZC5yZWplY3QpKHtcbiAgICAgICAgICBkYXRhOiByZXNwb25zZSxcbiAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzR2V0dGVyKGhlYWRlcnMpLFxuICAgICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHN0YXR1c1RleHQsXG4gICAgICAgICAgeGhyU3RhdHVzOiB4aHJTdGF0dXNcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlV2l0aFJlc3VsdChyZXN1bHQpIHtcbiAgICAgICAgcmVzb2x2ZVByb21pc2UocmVzdWx0LmRhdGEsIHJlc3VsdC5zdGF0dXMsIHNoYWxsb3dDb3B5KHJlc3VsdC5oZWFkZXJzKCkpLCByZXN1bHQuc3RhdHVzVGV4dCwgcmVzdWx0LnhoclN0YXR1cyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZVBlbmRpbmdSZXEoKSB7XG4gICAgICAgIHZhciBpZHggPSAkaHR0cC5wZW5kaW5nUmVxdWVzdHMuaW5kZXhPZihjb25maWcpO1xuICAgICAgICBpZiAoaWR4ICE9PSAtMSkgJGh0dHAucGVuZGluZ1JlcXVlc3RzLnNwbGljZShpZHgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gYnVpbGRVcmwodXJsLCBzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgICBpZiAoc2VyaWFsaXplZFBhcmFtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHVybCArPSAoKHVybC5pbmRleE9mKCc/JykgPT09IC0xKSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzYW5pdGl6ZUpzb25wQ2FsbGJhY2tQYXJhbSh1cmwsIGNiS2V5KSB7XG4gICAgICB2YXIgcGFydHMgPSB1cmwuc3BsaXQoJz8nKTtcbiAgICAgIGlmIChwYXJ0cy5sZW5ndGggPiAyKSB7XG4gICAgICAgIC8vIFRocm93IGlmIHRoZSB1cmwgY29udGFpbnMgbW9yZSB0aGFuIG9uZSBgP2AgcXVlcnkgaW5kaWNhdG9yXG4gICAgICAgIHRocm93ICRodHRwTWluRXJyKCdiYWRqc29ucCcsICdJbGxlZ2FsIHVzZSBtb3JlIHRoYW4gb25lIFwiP1wiLCBpbiB1cmwsIFwiezF9XCInLCB1cmwpO1xuICAgICAgfVxuICAgICAgdmFyIHBhcmFtcyA9IHBhcnNlS2V5VmFsdWUocGFydHNbMV0pO1xuICAgICAgZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSAnSlNPTl9DQUxMQkFDSycpIHtcbiAgICAgICAgICAvLyBUaHJvdyBpZiB0aGUgdXJsIGFscmVhZHkgY29udGFpbnMgYSByZWZlcmVuY2UgdG8gSlNPTl9DQUxMQkFDS1xuICAgICAgICAgIHRocm93ICRodHRwTWluRXJyKCdiYWRqc29ucCcsICdJbGxlZ2FsIHVzZSBvZiBKU09OX0NBTExCQUNLIGluIHVybCwgXCJ7MH1cIicsIHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleSA9PT0gY2JLZXkpIHtcbiAgICAgICAgICAvLyBUaHJvdyBpZiB0aGUgY2FsbGJhY2sgcGFyYW0gd2FzIGFscmVhZHkgcHJvdmlkZWRcbiAgICAgICAgICB0aHJvdyAkaHR0cE1pbkVycignYmFkanNvbnAnLCAnSWxsZWdhbCB1c2Ugb2YgY2FsbGJhY2sgcGFyYW0sIFwiezB9XCIsIGluIHVybCwgXCJ7MX1cIicsIGNiS2V5LCB1cmwpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gQWRkIGluIHRoZSBKU09OX0NBTExCQUNLIGNhbGxiYWNrIHBhcmFtIHZhbHVlXG4gICAgICB1cmwgKz0gKCh1cmwuaW5kZXhPZignPycpID09PSAtMSkgPyAnPycgOiAnJicpICsgY2JLZXkgKyAnPUpTT05fQ0FMTEJBQ0snO1xuXG4gICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICR4aHJGYWN0b3J5XG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRmFjdG9yeSBmdW5jdGlvbiB1c2VkIHRvIGNyZWF0ZSBYTUxIdHRwUmVxdWVzdCBvYmplY3RzLlxuICpcbiAqIFJlcGxhY2Ugb3IgZGVjb3JhdGUgdGhpcyBzZXJ2aWNlIHRvIGNyZWF0ZSB5b3VyIG93biBjdXN0b20gWE1MSHR0cFJlcXVlc3Qgb2JqZWN0cy5cbiAqXG4gKiBgYGBcbiAqIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKVxuICogLmZhY3RvcnkoJyR4aHJGYWN0b3J5JywgZnVuY3Rpb24oKSB7XG4gKiAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVYaHIobWV0aG9kLCB1cmwpIHtcbiAqICAgICByZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCh7bW96U3lzdGVtOiB0cnVlfSk7XG4gKiAgIH07XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgSFRUUCBtZXRob2Qgb2YgdGhlIHJlcXVlc3QgKEdFVCwgUE9TVCwgUFVULCAuLilcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMIG9mIHRoZSByZXF1ZXN0LlxuICovXG5mdW5jdGlvbiAkeGhyRmFjdG9yeVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlWGhyKCkge1xuICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB9O1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkaHR0cEJhY2tlbmRcbiAqIEByZXF1aXJlcyAkanNvbnBDYWxsYmFja3NcbiAqIEByZXF1aXJlcyAkZG9jdW1lbnRcbiAqIEByZXF1aXJlcyAkeGhyRmFjdG9yeVxuICogQHRoaXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEhUVFAgYmFja2VuZCB1c2VkIGJ5IHRoZSB7QGxpbmsgbmcuJGh0dHAgc2VydmljZX0gdGhhdCBkZWxlZ2F0ZXMgdG9cbiAqIFhNTEh0dHBSZXF1ZXN0IG9iamVjdCBvciBKU09OUCBhbmQgZGVhbHMgd2l0aCBicm93c2VyIGluY29tcGF0aWJpbGl0aWVzLlxuICpcbiAqIFlvdSBzaG91bGQgbmV2ZXIgbmVlZCB0byB1c2UgdGhpcyBzZXJ2aWNlIGRpcmVjdGx5LCBpbnN0ZWFkIHVzZSB0aGUgaGlnaGVyLWxldmVsIGFic3RyYWN0aW9uczpcbiAqIHtAbGluayBuZy4kaHR0cCAkaHR0cH0gb3Ige0BsaW5rIG5nUmVzb3VyY2UuJHJlc291cmNlICRyZXNvdXJjZX0uXG4gKlxuICogRHVyaW5nIHRlc3RpbmcgdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBzd2FwcGVkIHdpdGgge0BsaW5rIG5nTW9jay4kaHR0cEJhY2tlbmQgbW9ja1xuICogJGh0dHBCYWNrZW5kfSB3aGljaCBjYW4gYmUgdHJhaW5lZCB3aXRoIHJlc3BvbnNlcy5cbiAqL1xuZnVuY3Rpb24gJEh0dHBCYWNrZW5kUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJGJyb3dzZXInLCAnJGpzb25wQ2FsbGJhY2tzJywgJyRkb2N1bWVudCcsICckeGhyRmFjdG9yeScsIGZ1bmN0aW9uKCRicm93c2VyLCAkanNvbnBDYWxsYmFja3MsICRkb2N1bWVudCwgJHhockZhY3RvcnkpIHtcbiAgICByZXR1cm4gY3JlYXRlSHR0cEJhY2tlbmQoJGJyb3dzZXIsICR4aHJGYWN0b3J5LCAkYnJvd3Nlci5kZWZlciwgJGpzb25wQ2FsbGJhY2tzLCAkZG9jdW1lbnRbMF0pO1xuICB9XTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSHR0cEJhY2tlbmQoJGJyb3dzZXIsIGNyZWF0ZVhociwgJGJyb3dzZXJEZWZlciwgY2FsbGJhY2tzLCByYXdEb2N1bWVudCkge1xuICAvLyBUT0RPKHZvanRhKTogZml4IHRoZSBzaWduYXR1cmVcbiAgcmV0dXJuIGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCBwb3N0LCBjYWxsYmFjaywgaGVhZGVycywgdGltZW91dCwgd2l0aENyZWRlbnRpYWxzLCByZXNwb25zZVR5cGUsIGV2ZW50SGFuZGxlcnMsIHVwbG9hZEV2ZW50SGFuZGxlcnMpIHtcbiAgICB1cmwgPSB1cmwgfHwgJGJyb3dzZXIudXJsKCk7XG5cbiAgICBpZiAobG93ZXJjYXNlKG1ldGhvZCkgPT09ICdqc29ucCcpIHtcbiAgICAgIHZhciBjYWxsYmFja1BhdGggPSBjYWxsYmFja3MuY3JlYXRlQ2FsbGJhY2sodXJsKTtcbiAgICAgIHZhciBqc29ucERvbmUgPSBqc29ucFJlcSh1cmwsIGNhbGxiYWNrUGF0aCwgZnVuY3Rpb24oc3RhdHVzLCB0ZXh0KSB7XG4gICAgICAgIC8vIGpzb25wUmVxIG9ubHkgZXZlciBzZXRzIHN0YXR1cyB0byAyMDAgKE9LKSwgNDA0IChFUlJPUikgb3IgLTEgKFdBSVRJTkcpXG4gICAgICAgIHZhciByZXNwb25zZSA9IChzdGF0dXMgPT09IDIwMCkgJiYgY2FsbGJhY2tzLmdldFJlc3BvbnNlKGNhbGxiYWNrUGF0aCk7XG4gICAgICAgIGNvbXBsZXRlUmVxdWVzdChjYWxsYmFjaywgc3RhdHVzLCByZXNwb25zZSwgJycsIHRleHQsICdjb21wbGV0ZScpO1xuICAgICAgICBjYWxsYmFja3MucmVtb3ZlQ2FsbGJhY2soY2FsbGJhY2tQYXRoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIHZhciB4aHIgPSBjcmVhdGVYaHIobWV0aG9kLCB1cmwpO1xuICAgICAgdmFyIGFib3J0ZWRCeVRpbWVvdXQgPSBmYWxzZTtcblxuICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiByZXF1ZXN0TG9hZGVkKCkge1xuICAgICAgICB2YXIgc3RhdHVzVGV4dCA9IHhoci5zdGF0dXNUZXh0IHx8ICcnO1xuXG4gICAgICAgIC8vIHJlc3BvbnNlVGV4dCBpcyB0aGUgb2xkLXNjaG9vbCB3YXkgb2YgcmV0cmlldmluZyByZXNwb25zZSAoc3VwcG9ydGVkIGJ5IElFOSlcbiAgICAgICAgLy8gcmVzcG9uc2UvcmVzcG9uc2VUeXBlIHByb3BlcnRpZXMgd2VyZSBpbnRyb2R1Y2VkIGluIFhIUiBMZXZlbDIgc3BlYyAoc3VwcG9ydGVkIGJ5IElFMTApXG4gICAgICAgIHZhciByZXNwb25zZSA9ICgncmVzcG9uc2UnIGluIHhocikgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0O1xuXG4gICAgICAgIC8vIG5vcm1hbGl6ZSBJRTkgYnVnIChodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xNDUwKVxuICAgICAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1cyA9PT0gMTIyMyA/IDIwNCA6IHhoci5zdGF0dXM7XG5cbiAgICAgICAgLy8gZml4IHN0YXR1cyBjb2RlIHdoZW4gaXQgaXMgMCAoMCBzdGF0dXMgaXMgdW5kb2N1bWVudGVkKS5cbiAgICAgICAgLy8gT2NjdXJzIHdoZW4gYWNjZXNzaW5nIGZpbGUgcmVzb3VyY2VzIG9yIG9uIEFuZHJvaWQgNC4xIHN0b2NrIGJyb3dzZXJcbiAgICAgICAgLy8gd2hpbGUgcmV0cmlldmluZyBmaWxlcyBmcm9tIGFwcGxpY2F0aW9uIGNhY2hlLlxuICAgICAgICBpZiAoc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgc3RhdHVzID0gcmVzcG9uc2UgPyAyMDAgOiB1cmxSZXNvbHZlKHVybCkucHJvdG9jb2wgPT09ICdmaWxlJyA/IDQwNCA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssXG4gICAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSxcbiAgICAgICAgICAgIHN0YXR1c1RleHQsXG4gICAgICAgICAgICAnY29tcGxldGUnKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciByZXF1ZXN0RXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gVGhlIHJlc3BvbnNlIGlzIGFsd2F5cyBlbXB0eVxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly94aHIuc3BlYy53aGF0d2cub3JnLyNyZXF1ZXN0LWVycm9yLXN0ZXBzIGFuZCBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jY29uY2VwdC1uZXR3b3JrLWVycm9yXG4gICAgICAgIGNvbXBsZXRlUmVxdWVzdChjYWxsYmFjaywgLTEsIG51bGwsIG51bGwsICcnLCAnZXJyb3InKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciByZXF1ZXN0QWJvcnRlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssIC0xLCBudWxsLCBudWxsLCAnJywgYWJvcnRlZEJ5VGltZW91dCA/ICd0aW1lb3V0JyA6ICdhYm9ydCcpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHJlcXVlc3RUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFRoZSByZXNwb25zZSBpcyBhbHdheXMgZW1wdHlcbiAgICAgICAgLy8gU2VlIGh0dHBzOi8veGhyLnNwZWMud2hhdHdnLm9yZy8jcmVxdWVzdC1lcnJvci1zdGVwcyBhbmQgaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2NvbmNlcHQtbmV0d29yay1lcnJvclxuICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssIC0xLCBudWxsLCBudWxsLCAnJywgJ3RpbWVvdXQnKTtcbiAgICAgIH07XG5cbiAgICAgIHhoci5vbmVycm9yID0gcmVxdWVzdEVycm9yO1xuICAgICAgeGhyLm9udGltZW91dCA9IHJlcXVlc3RUaW1lb3V0O1xuICAgICAgeGhyLm9uYWJvcnQgPSByZXF1ZXN0QWJvcnRlZDtcblxuICAgICAgZm9yRWFjaChldmVudEhhbmRsZXJzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpO1xuICAgICAgfSk7XG5cbiAgICAgIGZvckVhY2godXBsb2FkRXZlbnRIYW5kbGVycywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHdpdGhDcmVkZW50aWFscykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3BvbnNlVHlwZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGU7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBXZWJLaXQgYWRkZWQgc3VwcG9ydCBmb3IgdGhlIGpzb24gcmVzcG9uc2VUeXBlIHZhbHVlIG9uIDA5LzAzLzIwMTNcbiAgICAgICAgICAvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NzM2NDguIFZlcnNpb25zIG9mIFNhZmFyaSBwcmlvciB0byA3IGFyZVxuICAgICAgICAgIC8vIGtub3duIHRvIHRocm93IHdoZW4gc2V0dGluZyB0aGUgdmFsdWUgXCJqc29uXCIgYXMgdGhlIHJlc3BvbnNlIHR5cGUuIE90aGVyIG9sZGVyXG4gICAgICAgICAgLy8gYnJvd3NlcnMgaW1wbGVtZW50aW5nIHRoZSByZXNwb25zZVR5cGVcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vIFRoZSBqc29uIHJlc3BvbnNlIHR5cGUgY2FuIGJlIGlnbm9yZWQgaWYgbm90IHN1cHBvcnRlZCwgYmVjYXVzZSBKU09OIHBheWxvYWRzIGFyZVxuICAgICAgICAgIC8vIHBhcnNlZCBvbiB0aGUgY2xpZW50LXNpZGUgcmVnYXJkbGVzcy5cbiAgICAgICAgICBpZiAocmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHhoci5zZW5kKGlzVW5kZWZpbmVkKHBvc3QpID8gbnVsbCA6IHBvc3QpO1xuICAgIH1cblxuICAgIC8vIFNpbmNlIHdlIGFyZSB1c2luZyB4aHIuYWJvcnQoKSB3aGVuIGEgcmVxdWVzdCB0aW1lcyBvdXQsIHdlIGhhdmUgdG8gc2V0IGEgZmxhZyB0aGF0XG4gICAgLy8gaW5kaWNhdGVzIHRvIHJlcXVlc3RBYm9ydGVkIGlmIHRoZSByZXF1ZXN0IHRpbWVkIG91dCBvciB3YXMgYWJvcnRlZC5cbiAgICAvL1xuICAgIC8vIGh0dHAudGltZW91dCA9IG51bWVyaWNhbCB0aW1lb3V0ICAgdGltZW91dFxuICAgIC8vIGh0dHAudGltZW91dCA9ICR0aW1lb3V0ICAgICAgICAgICAgdGltZW91dFxuICAgIC8vIGh0dHAudGltZW91dCA9IHByb21pc2UgICAgICAgICAgICAgYWJvcnRcbiAgICAvLyB4aHIuYWJvcnQoKSAgICAgICAgICAgICAgICAgICAgICAgIGFib3J0IChUaGUgeGhyIG9iamVjdCBpcyBub3JtYWxseSBpbmFjY2Vzc2libGUsIGJ1dFxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuIGJlIGV4cG9zZWQgd2l0aCB0aGUgeGhyRmFjdG9yeSlcbiAgICBpZiAodGltZW91dCA+IDApIHtcbiAgICAgIHZhciB0aW1lb3V0SWQgPSAkYnJvd3NlckRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICB0aW1lb3V0UmVxdWVzdCgndGltZW91dCcpO1xuICAgICAgfSwgdGltZW91dCk7XG4gICAgfSBlbHNlIGlmIChpc1Byb21pc2VMaWtlKHRpbWVvdXQpKSB7XG4gICAgICB0aW1lb3V0LnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHRpbWVvdXRSZXF1ZXN0KGlzRGVmaW5lZCh0aW1lb3V0LiQkdGltZW91dElkKSA/ICd0aW1lb3V0JyA6ICdhYm9ydCcpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGltZW91dFJlcXVlc3QocmVhc29uKSB7XG4gICAgICBhYm9ydGVkQnlUaW1lb3V0ID0gcmVhc29uID09PSAndGltZW91dCc7XG4gICAgICBpZiAoanNvbnBEb25lKSB7XG4gICAgICAgIGpzb25wRG9uZSgpO1xuICAgICAgfVxuICAgICAgaWYgKHhocikge1xuICAgICAgICB4aHIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssIHN0YXR1cywgcmVzcG9uc2UsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQsIHhoclN0YXR1cykge1xuICAgICAgLy8gY2FuY2VsIHRpbWVvdXQgYW5kIHN1YnNlcXVlbnQgdGltZW91dCBwcm9taXNlIHJlc29sdXRpb25cbiAgICAgIGlmIChpc0RlZmluZWQodGltZW91dElkKSkge1xuICAgICAgICAkYnJvd3NlckRlZmVyLmNhbmNlbCh0aW1lb3V0SWQpO1xuICAgICAgfVxuICAgICAganNvbnBEb25lID0geGhyID0gbnVsbDtcblxuICAgICAgY2FsbGJhY2soc3RhdHVzLCByZXNwb25zZSwgaGVhZGVyc1N0cmluZywgc3RhdHVzVGV4dCwgeGhyU3RhdHVzKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24ganNvbnBSZXEodXJsLCBjYWxsYmFja1BhdGgsIGRvbmUpIHtcbiAgICB1cmwgPSB1cmwucmVwbGFjZSgnSlNPTl9DQUxMQkFDSycsIGNhbGxiYWNrUGF0aCk7XG4gICAgLy8gd2UgY2FuJ3QgdXNlIGpRdWVyeS9qcUxpdGUgaGVyZSBiZWNhdXNlIGpRdWVyeSBkb2VzIGNyYXp5IHN0dWZmIHdpdGggc2NyaXB0IGVsZW1lbnRzLCBlLmcuOlxuICAgIC8vIC0gZmV0Y2hlcyBsb2NhbCBzY3JpcHRzIHZpYSBYSFIgYW5kIGV2YWxzIHRoZW1cbiAgICAvLyAtIGFkZHMgYW5kIGltbWVkaWF0ZWx5IHJlbW92ZXMgc2NyaXB0IGVsZW1lbnRzIGZyb20gdGhlIGRvY3VtZW50XG4gICAgdmFyIHNjcmlwdCA9IHJhd0RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpLCBjYWxsYmFjayA9IG51bGw7XG4gICAgc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgICBzY3JpcHQuc3JjID0gdXJsO1xuICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG5cbiAgICBjYWxsYmFjayA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBzY3JpcHQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIGNhbGxiYWNrKTtcbiAgICAgIHNjcmlwdC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGNhbGxiYWNrKTtcbiAgICAgIHJhd0RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICB2YXIgc3RhdHVzID0gLTE7XG4gICAgICB2YXIgdGV4dCA9ICd1bmtub3duJztcblxuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAnbG9hZCcgJiYgIWNhbGxiYWNrcy53YXNDYWxsZWQoY2FsbGJhY2tQYXRoKSkge1xuICAgICAgICAgIGV2ZW50ID0geyB0eXBlOiAnZXJyb3InIH07XG4gICAgICAgIH1cbiAgICAgICAgdGV4dCA9IGV2ZW50LnR5cGU7XG4gICAgICAgIHN0YXR1cyA9IGV2ZW50LnR5cGUgPT09ICdlcnJvcicgPyA0MDQgOiAyMDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChkb25lKSB7XG4gICAgICAgIGRvbmUoc3RhdHVzLCB0ZXh0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBjYWxsYmFjayk7XG4gICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgY2FsbGJhY2spO1xuICAgIHJhd0RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICByZXR1cm4gY2FsbGJhY2s7XG4gIH1cbn1cblxudmFyICRpbnRlcnBvbGF0ZU1pbkVyciA9IGFuZ3VsYXIuJGludGVycG9sYXRlTWluRXJyID0gbWluRXJyKCckaW50ZXJwb2xhdGUnKTtcbiRpbnRlcnBvbGF0ZU1pbkVyci50aHJvd05vY29uY2F0ID0gZnVuY3Rpb24odGV4dCkge1xuICB0aHJvdyAkaW50ZXJwb2xhdGVNaW5FcnIoJ25vY29uY2F0JyxcbiAgICAgICdFcnJvciB3aGlsZSBpbnRlcnBvbGF0aW5nOiB7MH1cXG5TdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBkaXNhbGxvd3MgJyArXG4gICAgICAnaW50ZXJwb2xhdGlvbnMgdGhhdCBjb25jYXRlbmF0ZSBtdWx0aXBsZSBleHByZXNzaW9ucyB3aGVuIGEgdHJ1c3RlZCB2YWx1ZSBpcyAnICtcbiAgICAgICdyZXF1aXJlZC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlJywgdGV4dCk7XG59O1xuXG4kaW50ZXJwb2xhdGVNaW5FcnIuaW50ZXJyID0gZnVuY3Rpb24odGV4dCwgZXJyKSB7XG4gIHJldHVybiAkaW50ZXJwb2xhdGVNaW5FcnIoJ2ludGVycicsICdDYW5cXCd0IGludGVycG9sYXRlOiB7MH1cXG57MX0nLCB0ZXh0LCBlcnIudG9TdHJpbmcoKSk7XG59O1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXJcbiAqIEB0aGlzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVXNlZCBmb3IgY29uZmlndXJpbmcgdGhlIGludGVycG9sYXRpb24gbWFya3VwLiBEZWZhdWx0cyB0byBge3tgIGFuZCBgfX1gLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cbiAqIFRoaXMgZmVhdHVyZSBpcyBzb21ldGltZXMgdXNlZCB0byBtaXggZGlmZmVyZW50IG1hcmt1cCBsYW5ndWFnZXMsIGUuZy4gdG8gd3JhcCBhbiBBbmd1bGFySlNcbiAqIHRlbXBsYXRlIHdpdGhpbiBhIFB5dGhvbiBKaW5qYSB0ZW1wbGF0ZSAob3IgYW55IG90aGVyIHRlbXBsYXRlIGxhbmd1YWdlKS4gTWl4aW5nIHRlbXBsYXRpbmdcbiAqIGxhbmd1YWdlcyBpcyAqKnZlcnkgZGFuZ2Vyb3VzKiouIFRoZSBlbWJlZGRpbmcgdGVtcGxhdGUgbGFuZ3VhZ2Ugd2lsbCBub3Qgc2FmZWx5IGVzY2FwZSBBbmd1bGFySlNcbiAqIGV4cHJlc3Npb25zLCBzbyBhbnkgdXNlci1jb250cm9sbGVkIHZhbHVlcyBpbiB0aGUgdGVtcGxhdGUgd2lsbCBjYXVzZSBDcm9zcyBTaXRlIFNjcmlwdGluZyAoWFNTKVxuICogc2VjdXJpdHkgYnVncyFcbiAqIDwvZGl2PlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBuYW1lPVwiY3VzdG9tLWludGVycG9sYXRpb24tbWFya3VwXCIgbW9kdWxlPVwiY3VzdG9tSW50ZXJwb2xhdGlvbkFwcFwiPlxuPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbjxzY3JpcHQ+XG4gIHZhciBjdXN0b21JbnRlcnBvbGF0aW9uQXBwID0gYW5ndWxhci5tb2R1bGUoJ2N1c3RvbUludGVycG9sYXRpb25BcHAnLCBbXSk7XG5cbiAgY3VzdG9tSW50ZXJwb2xhdGlvbkFwcC5jb25maWcoZnVuY3Rpb24oJGludGVycG9sYXRlUHJvdmlkZXIpIHtcbiAgICAkaW50ZXJwb2xhdGVQcm92aWRlci5zdGFydFN5bWJvbCgnLy8nKTtcbiAgICAkaW50ZXJwb2xhdGVQcm92aWRlci5lbmRTeW1ib2woJy8vJyk7XG4gIH0pO1xuXG5cbiAgY3VzdG9tSW50ZXJwb2xhdGlvbkFwcC5jb250cm9sbGVyKCdEZW1vQ29udHJvbGxlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5sYWJlbCA9IFwiVGhpcyBiaW5kaW5nIGlzIGJyb3VnaHQgeW91IGJ5IC8vIGludGVycG9sYXRpb24gc3ltYm9scy5cIjtcbiAgfSk7XG48L3NjcmlwdD5cbjxkaXYgbmctY29udHJvbGxlcj1cIkRlbW9Db250cm9sbGVyIGFzIGRlbW9cIj5cbiAgICAvL2RlbW8ubGFiZWwvL1xuPC9kaXY+XG48L2ZpbGU+XG48ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gIGl0KCdzaG91bGQgaW50ZXJwb2xhdGUgYmluZGluZyB3aXRoIGN1c3RvbSBzeW1ib2xzJywgZnVuY3Rpb24oKSB7XG4gICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnZGVtby5sYWJlbCcpKS5nZXRUZXh0KCkpLnRvQmUoJ1RoaXMgYmluZGluZyBpcyBicm91Z2h0IHlvdSBieSAvLyBpbnRlcnBvbGF0aW9uIHN5bWJvbHMuJyk7XG4gIH0pO1xuPC9maWxlPlxuPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiAkSW50ZXJwb2xhdGVQcm92aWRlcigpIHtcbiAgdmFyIHN0YXJ0U3ltYm9sID0gJ3t7JztcbiAgdmFyIGVuZFN5bWJvbCA9ICd9fSc7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXIjc3RhcnRTeW1ib2xcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFN5bWJvbCB0byBkZW5vdGUgc3RhcnQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYHt7YC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB2YWx1ZSBuZXcgdmFsdWUgdG8gc2V0IHRoZSBzdGFydGluZyBzeW1ib2wgdG8uXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8c2VsZn0gUmV0dXJucyB0aGUgc3ltYm9sIHdoZW4gdXNlZCBhcyBnZXR0ZXIgYW5kIHNlbGYgaWYgdXNlZCBhcyBzZXR0ZXIuXG4gICAqL1xuICB0aGlzLnN0YXJ0U3ltYm9sID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHN0YXJ0U3ltYm9sID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0U3ltYm9sO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRpbnRlcnBvbGF0ZVByb3ZpZGVyI2VuZFN5bWJvbFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU3ltYm9sIHRvIGRlbm90ZSB0aGUgZW5kIG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB9fWAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gdmFsdWUgbmV3IHZhbHVlIHRvIHNldCB0aGUgZW5kaW5nIHN5bWJvbCB0by5cbiAgICogQHJldHVybnMge3N0cmluZ3xzZWxmfSBSZXR1cm5zIHRoZSBzeW1ib2wgd2hlbiB1c2VkIGFzIGdldHRlciBhbmQgc2VsZiBpZiB1c2VkIGFzIHNldHRlci5cbiAgICovXG4gIHRoaXMuZW5kU3ltYm9sID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGVuZFN5bWJvbCA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBlbmRTeW1ib2w7XG4gIH07XG5cblxuICB0aGlzLiRnZXQgPSBbJyRwYXJzZScsICckZXhjZXB0aW9uSGFuZGxlcicsICckc2NlJywgZnVuY3Rpb24oJHBhcnNlLCAkZXhjZXB0aW9uSGFuZGxlciwgJHNjZSkge1xuICAgIHZhciBzdGFydFN5bWJvbExlbmd0aCA9IHN0YXJ0U3ltYm9sLmxlbmd0aCxcbiAgICAgICAgZW5kU3ltYm9sTGVuZ3RoID0gZW5kU3ltYm9sLmxlbmd0aCxcbiAgICAgICAgZXNjYXBlZFN0YXJ0UmVnZXhwID0gbmV3IFJlZ0V4cChzdGFydFN5bWJvbC5yZXBsYWNlKC8uL2csIGVzY2FwZSksICdnJyksXG4gICAgICAgIGVzY2FwZWRFbmRSZWdleHAgPSBuZXcgUmVnRXhwKGVuZFN5bWJvbC5yZXBsYWNlKC8uL2csIGVzY2FwZSksICdnJyk7XG5cbiAgICBmdW5jdGlvbiBlc2NhcGUoY2gpIHtcbiAgICAgIHJldHVybiAnXFxcXFxcXFxcXFxcJyArIGNoO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVuZXNjYXBlVGV4dCh0ZXh0KSB7XG4gICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKGVzY2FwZWRTdGFydFJlZ2V4cCwgc3RhcnRTeW1ib2wpLlxuICAgICAgICByZXBsYWNlKGVzY2FwZWRFbmRSZWdleHAsIGVuZFN5bWJvbCk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogdGhpcyBpcyB0aGUgc2FtZSBhcyB0aGUgY29uc3RhbnRXYXRjaERlbGVnYXRlIGluIHBhcnNlLmpzXG4gICAgZnVuY3Rpb24gY29uc3RhbnRXYXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIGNvbnN0YW50SW50ZXJwKSB7XG4gICAgICB2YXIgdW53YXRjaCA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiBjb25zdGFudEludGVycG9sYXRlV2F0Y2goc2NvcGUpIHtcbiAgICAgICAgdW53YXRjaCgpO1xuICAgICAgICByZXR1cm4gY29uc3RhbnRJbnRlcnAoc2NvcGUpO1xuICAgICAgfSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5KTtcbiAgICAgIHJldHVybiB1bndhdGNoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQG5hbWUgJGludGVycG9sYXRlXG4gICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEByZXF1aXJlcyAkcGFyc2VcbiAgICAgKiBAcmVxdWlyZXMgJHNjZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICpcbiAgICAgKiBDb21waWxlcyBhIHN0cmluZyB3aXRoIG1hcmt1cCBpbnRvIGFuIGludGVycG9sYXRpb24gZnVuY3Rpb24uIFRoaXMgc2VydmljZSBpcyB1c2VkIGJ5IHRoZVxuICAgICAqIEhUTUwge0BsaW5rIG5nLiRjb21waWxlICRjb21waWxlfSBzZXJ2aWNlIGZvciBkYXRhIGJpbmRpbmcuIFNlZVxuICAgICAqIHtAbGluayBuZy4kaW50ZXJwb2xhdGVQcm92aWRlciAkaW50ZXJwb2xhdGVQcm92aWRlcn0gZm9yIGNvbmZpZ3VyaW5nIHRoZVxuICAgICAqIGludGVycG9sYXRpb24gbWFya3VwLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgdmFyICRpbnRlcnBvbGF0ZSA9IC4uLjsgLy8gaW5qZWN0ZWRcbiAgICAgKiAgIHZhciBleHAgPSAkaW50ZXJwb2xhdGUoJ0hlbGxvIHt7bmFtZSB8IHVwcGVyY2FzZX19IScpO1xuICAgICAqICAgZXhwZWN0KGV4cCh7bmFtZTonQW5ndWxhckpTJ30pKS50b0VxdWFsKCdIZWxsbyBBTkdVTEFSSlMhJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBgJGludGVycG9sYXRlYCB0YWtlcyBhbiBvcHRpb25hbCBmb3VydGggYXJndW1lbnQsIGBhbGxPck5vdGhpbmdgLiBJZiBgYWxsT3JOb3RoaW5nYCBpc1xuICAgICAqIGB0cnVlYCwgdGhlIGludGVycG9sYXRpb24gZnVuY3Rpb24gd2lsbCByZXR1cm4gYHVuZGVmaW5lZGAgdW5sZXNzIGFsbCBlbWJlZGRlZCBleHByZXNzaW9uc1xuICAgICAqIGV2YWx1YXRlIHRvIGEgdmFsdWUgb3RoZXIgdGhhbiBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICB2YXIgJGludGVycG9sYXRlID0gLi4uOyAvLyBpbmplY3RlZFxuICAgICAqICAgdmFyIGNvbnRleHQgPSB7Z3JlZXRpbmc6ICdIZWxsbycsIG5hbWU6IHVuZGVmaW5lZCB9O1xuICAgICAqXG4gICAgICogICAvLyBkZWZhdWx0IFwiZm9yZ2l2aW5nXCIgbW9kZVxuICAgICAqICAgdmFyIGV4cCA9ICRpbnRlcnBvbGF0ZSgne3tncmVldGluZ319IHt7bmFtZX19IScpO1xuICAgICAqICAgZXhwZWN0KGV4cChjb250ZXh0KSkudG9FcXVhbCgnSGVsbG8gIScpO1xuICAgICAqXG4gICAgICogICAvLyBcImFsbE9yTm90aGluZ1wiIG1vZGVcbiAgICAgKiAgIGV4cCA9ICRpbnRlcnBvbGF0ZSgne3tncmVldGluZ319IHt7bmFtZX19IScsIGZhbHNlLCBudWxsLCB0cnVlKTtcbiAgICAgKiAgIGV4cGVjdChleHAoY29udGV4dCkpLnRvQmVVbmRlZmluZWQoKTtcbiAgICAgKiAgIGNvbnRleHQubmFtZSA9ICdBbmd1bGFySlMnO1xuICAgICAqICAgZXhwZWN0KGV4cChjb250ZXh0KSkudG9FcXVhbCgnSGVsbG8gQW5ndWxhckpTIScpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogYGFsbE9yTm90aGluZ2AgaXMgdXNlZnVsIGZvciBpbnRlcnBvbGF0aW5nIFVSTHMuIGBuZ1NyY2AgYW5kIGBuZ1NyY3NldGAgdXNlIHRoaXMgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiAjIyMjIEVzY2FwZWQgSW50ZXJwb2xhdGlvblxuICAgICAqICRpbnRlcnBvbGF0ZSBwcm92aWRlcyBhIG1lY2hhbmlzbSBmb3IgZXNjYXBpbmcgaW50ZXJwb2xhdGlvbiBtYXJrZXJzLiBTdGFydCBhbmQgZW5kIG1hcmtlcnNcbiAgICAgKiBjYW4gYmUgZXNjYXBlZCBieSBwcmVjZWRpbmcgZWFjaCBvZiB0aGVpciBjaGFyYWN0ZXJzIHdpdGggYSBSRVZFUlNFIFNPTElEVVMgVSswMDVDIChiYWNrc2xhc2gpLlxuICAgICAqIEl0IHdpbGwgYmUgcmVuZGVyZWQgYXMgYSByZWd1bGFyIHN0YXJ0L2VuZCBtYXJrZXIsIGFuZCB3aWxsIG5vdCBiZSBpbnRlcnByZXRlZCBhcyBhbiBleHByZXNzaW9uXG4gICAgICogb3IgYmluZGluZy5cbiAgICAgKlxuICAgICAqIFRoaXMgZW5hYmxlcyB3ZWItc2VydmVycyB0byBwcmV2ZW50IHNjcmlwdCBpbmplY3Rpb24gYXR0YWNrcyBhbmQgZGVmYWNpbmcgYXR0YWNrcywgdG8gc29tZVxuICAgICAqIGRlZ3JlZSwgd2hpbGUgYWxzbyBlbmFibGluZyBjb2RlIGV4YW1wbGVzIHRvIHdvcmsgd2l0aG91dCByZWx5aW5nIG9uIHRoZVxuICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdOb25CaW5kYWJsZSBuZ05vbkJpbmRhYmxlfSBkaXJlY3RpdmUuXG4gICAgICpcbiAgICAgKiAqKkZvciBzZWN1cml0eSBwdXJwb3NlcywgaXQgaXMgc3Ryb25nbHkgZW5jb3VyYWdlZCB0aGF0IHdlYiBzZXJ2ZXJzIGVzY2FwZSB1c2VyLXN1cHBsaWVkIGRhdGEsXG4gICAgICogcmVwbGFjaW5nIGFuZ2xlIGJyYWNrZXRzICgmbHQ7LCAmZ3Q7KSB3aXRoICZhbXA7bHQ7IGFuZCAmYW1wO2d0OyByZXNwZWN0aXZlbHksIGFuZCByZXBsYWNpbmcgYWxsXG4gICAgICogaW50ZXJwb2xhdGlvbiBzdGFydC9lbmQgbWFya2VycyB3aXRoIHRoZWlyIGVzY2FwZWQgY291bnRlcnBhcnRzLioqXG4gICAgICpcbiAgICAgKiBFc2NhcGVkIGludGVycG9sYXRpb24gbWFya2VycyBhcmUgb25seSByZXBsYWNlZCB3aXRoIHRoZSBhY3R1YWwgaW50ZXJwb2xhdGlvbiBtYXJrZXJzIGluIHJlbmRlcmVkXG4gICAgICogb3V0cHV0IHdoZW4gdGhlICRpbnRlcnBvbGF0ZSBzZXJ2aWNlIHByb2Nlc3NlcyB0aGUgdGV4dC4gU28sIGZvciBIVE1MIGVsZW1lbnRzIGludGVycG9sYXRlZFxuICAgICAqIGJ5IHtAbGluayBuZy4kY29tcGlsZSAkY29tcGlsZX0sIG9yIG90aGVyd2lzZSBpbnRlcnBvbGF0ZWQgd2l0aCB0aGUgYG11c3RIYXZlRXhwcmVzc2lvbmAgcGFyYW1ldGVyXG4gICAgICogc2V0IHRvIGB0cnVlYCwgdGhlIGludGVycG9sYXRlZCB0ZXh0IG11c3QgY29udGFpbiBhbiB1bmVzY2FwZWQgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uLiBBcyBzdWNoLFxuICAgICAqIHRoaXMgaXMgdHlwaWNhbGx5IHVzZWZ1bCBvbmx5IHdoZW4gdXNlci1kYXRhIGlzIHVzZWQgaW4gcmVuZGVyaW5nIGEgdGVtcGxhdGUgZnJvbSB0aGUgc2VydmVyLCBvclxuICAgICAqIHdoZW4gb3RoZXJ3aXNlIHVudHJ1c3RlZCBkYXRhIGlzIHVzZWQgYnkgYSBkaXJlY3RpdmUuXG4gICAgICpcbiAgICAgKiA8ZXhhbXBsZSBuYW1lPVwiaW50ZXJwb2xhdGlvblwiPlxuICAgICAqICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAqICAgIDxkaXYgbmctaW5pdD1cInVzZXJuYW1lPSdBIHVzZXInXCI+XG4gICAgICogICAgICA8cCBuZy1pbml0PVwiYXBwdGl0bGU9J0VzY2FwaW5nIGRlbW8nXCI+e3thcHB0aXRsZX19OiBcXHtcXHsgdXNlcm5hbWUgPSBcImRlZmFjZWQgdmFsdWVcIjsgXFx9XFx9XG4gICAgICogICAgICAgIDwvcD5cbiAgICAgKiAgICAgIDxwPjxzdHJvbmc+e3t1c2VybmFtZX19PC9zdHJvbmc+IGF0dGVtcHRzIHRvIGluamVjdCBjb2RlIHdoaWNoIHdpbGwgZGVmYWNlIHRoZVxuICAgICAqICAgICAgICBhcHBsaWNhdGlvbiwgYnV0IGZhaWxzIHRvIGFjY29tcGxpc2ggdGhlaXIgdGFzaywgYmVjYXVzZSB0aGUgc2VydmVyIGhhcyBjb3JyZWN0bHlcbiAgICAgKiAgICAgICAgZXNjYXBlZCB0aGUgaW50ZXJwb2xhdGlvbiBzdGFydC9lbmQgbWFya2VycyB3aXRoIFJFVkVSU0UgU09MSURVUyBVKzAwNUMgKGJhY2tzbGFzaClcbiAgICAgKiAgICAgICAgY2hhcmFjdGVycy48L3A+XG4gICAgICogICAgICA8cD5JbnN0ZWFkLCB0aGUgcmVzdWx0IG9mIHRoZSBhdHRlbXB0ZWQgc2NyaXB0IGluamVjdGlvbiBpcyB2aXNpYmxlLCBhbmQgY2FuIGJlIHJlbW92ZWRcbiAgICAgKiAgICAgICAgZnJvbSB0aGUgZGF0YWJhc2UgYnkgYW4gYWRtaW5pc3RyYXRvci48L3A+XG4gICAgICogICAgPC9kaXY+XG4gICAgICogIDwvZmlsZT5cbiAgICAgKiA8L2V4YW1wbGU+XG4gICAgICpcbiAgICAgKiBAa25vd25Jc3N1ZVxuICAgICAqIEl0IGlzIGN1cnJlbnRseSBub3QgcG9zc2libGUgZm9yIGFuIGludGVycG9sYXRlZCBleHByZXNzaW9uIHRvIGNvbnRhaW4gdGhlIGludGVycG9sYXRpb24gZW5kXG4gICAgICogc3ltYm9sLiBGb3IgZXhhbXBsZSwgYHt7ICd9fScgfX1gIHdpbGwgYmUgaW5jb3JyZWN0bHkgaW50ZXJwcmV0ZWQgYXMgYHt7ICcgfX1gICsgYCcgfX1gLCBpLmUuXG4gICAgICogYW4gaW50ZXJwb2xhdGVkIGV4cHJlc3Npb24gY29uc2lzdGluZyBvZiBhIHNpbmdsZS1xdW90ZSAoYCdgKSBhbmQgdGhlIGAnIH19YCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAa25vd25Jc3N1ZVxuICAgICAqIEFsbCBkaXJlY3RpdmVzIGFuZCBjb21wb25lbnRzIG11c3QgdXNlIHRoZSBzdGFuZGFyZCBge3tgIGB9fWAgaW50ZXJwb2xhdGlvbiBzeW1ib2xzXG4gICAgICogaW4gdGhlaXIgdGVtcGxhdGVzLiBJZiB5b3UgY2hhbmdlIHRoZSBhcHBsaWNhdGlvbiBpbnRlcnBvbGF0aW9uIHN5bWJvbHMgdGhlIHtAbGluayAkY29tcGlsZX1cbiAgICAgKiBzZXJ2aWNlIHdpbGwgYXR0ZW1wdCB0byBkZW5vcm1hbGl6ZSB0aGUgc3RhbmRhcmQgc3ltYm9scyB0byB0aGUgY3VzdG9tIHN5bWJvbHMuXG4gICAgICogVGhlIGRlbm9ybWFsaXphdGlvbiBwcm9jZXNzIGlzIG5vdCBjbGV2ZXIgZW5vdWdoIHRvIGtub3cgbm90IHRvIHJlcGxhY2UgaW5zdGFuY2VzIG9mIHRoZSBzdGFuZGFyZFxuICAgICAqIHN5bWJvbHMgd2hlcmUgdGhleSB3b3VsZCBub3Qgbm9ybWFsbHkgYmUgdHJlYXRlZCBhcyBpbnRlcnBvbGF0aW9uIHN5bWJvbHMuIEZvciBleGFtcGxlIGluIHRoZSBmb2xsb3dpbmdcbiAgICAgKiBjb2RlIHNuaXBwZXQgdGhlIGNsb3NpbmcgYnJhY2VzIG9mIHRoZSBsaXRlcmFsIG9iamVjdCB3aWxsIGdldCBpbmNvcnJlY3RseSBkZW5vcm1hbGl6ZWQ6XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiA8ZGl2IGRhdGEtY29udGV4dD0ne1wiY29udGV4dFwiOntcImlkXCI6MyxcInR5cGVcIjpcInBhZ2VcIn19XCI+XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGUgd29ya2Fyb3VuZCBpcyB0byBlbnN1cmUgdGhhdCBzdWNoIGluc3RhbmNlcyBhcmUgc2VwYXJhdGVkIGJ5IHdoaXRlc3BhY2U6XG4gICAgICogYGBgXG4gICAgICogPGRpdiBkYXRhLWNvbnRleHQ9J3tcImNvbnRleHRcIjp7XCJpZFwiOjMsXCJ0eXBlXCI6XCJwYWdlXCJ9IH1cIj5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3B1bGwvMTQ2MTAjaXNzdWVjb21tZW50LTIxOTQwMTA5OSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IHdpdGggbWFya3VwIHRvIGludGVycG9sYXRlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG11c3RIYXZlRXhwcmVzc2lvbiBpZiBzZXQgdG8gdHJ1ZSB0aGVuIHRoZSBpbnRlcnBvbGF0aW9uIHN0cmluZyBtdXN0IGhhdmVcbiAgICAgKiAgICBlbWJlZGRlZCBleHByZXNzaW9uIGluIG9yZGVyIHRvIHJldHVybiBhbiBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uLiBTdHJpbmdzIHdpdGggbm9cbiAgICAgKiAgICBlbWJlZGRlZCBleHByZXNzaW9uIHdpbGwgcmV0dXJuIG51bGwgZm9yIHRoZSBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gdHJ1c3RlZENvbnRleHQgd2hlbiBwcm92aWRlZCwgdGhlIHJldHVybmVkIGZ1bmN0aW9uIHBhc3NlcyB0aGUgaW50ZXJwb2xhdGVkXG4gICAgICogICAgcmVzdWx0IHRocm91Z2gge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCAkc2NlLmdldFRydXN0ZWQoaW50ZXJwb2xhdGVkUmVzdWx0LFxuICAgICAqICAgIHRydXN0ZWRDb250ZXh0KX0gYmVmb3JlIHJldHVybmluZyBpdC4gIFJlZmVyIHRvIHRoZSB7QGxpbmsgbmcuJHNjZSAkc2NlfSBzZXJ2aWNlIHRoYXRcbiAgICAgKiAgICBwcm92aWRlcyBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBmb3IgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBhbGxPck5vdGhpbmcgaWYgYHRydWVgLCB0aGVuIHRoZSByZXR1cm5lZCBmdW5jdGlvbiByZXR1cm5zIHVuZGVmaW5lZFxuICAgICAqICAgIHVubGVzcyBhbGwgZW1iZWRkZWQgZXhwcmVzc2lvbnMgZXZhbHVhdGUgdG8gYSB2YWx1ZSBvdGhlciB0aGFuIGB1bmRlZmluZWRgLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0KX0gYW4gaW50ZXJwb2xhdGlvbiBmdW5jdGlvbiB3aGljaCBpcyB1c2VkIHRvIGNvbXB1dGUgdGhlXG4gICAgICogICAgaW50ZXJwb2xhdGVkIHN0cmluZy4gVGhlIGZ1bmN0aW9uIGhhcyB0aGVzZSBwYXJhbWV0ZXJzOlxuICAgICAqXG4gICAgICogLSBgY29udGV4dGA6IGV2YWx1YXRpb24gY29udGV4dCBmb3IgYWxsIGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBpbnRlcnBvbGF0ZWQgdGV4dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uICRpbnRlcnBvbGF0ZSh0ZXh0LCBtdXN0SGF2ZUV4cHJlc3Npb24sIHRydXN0ZWRDb250ZXh0LCBhbGxPck5vdGhpbmcpIHtcbiAgICAgIHZhciBjb250ZXh0QWxsb3dzQ29uY2F0ZW5hdGlvbiA9IHRydXN0ZWRDb250ZXh0ID09PSAkc2NlLlVSTCB8fCB0cnVzdGVkQ29udGV4dCA9PT0gJHNjZS5NRURJQV9VUkw7XG5cbiAgICAgIC8vIFByb3ZpZGUgYSBxdWljayBleGl0IGFuZCBzaW1wbGlmaWVkIHJlc3VsdCBmdW5jdGlvbiBmb3IgdGV4dCB3aXRoIG5vIGludGVycG9sYXRpb25cbiAgICAgIGlmICghdGV4dC5sZW5ndGggfHwgdGV4dC5pbmRleE9mKHN0YXJ0U3ltYm9sKSA9PT0gLTEpIHtcbiAgICAgICAgaWYgKG11c3RIYXZlRXhwcmVzc2lvbikgcmV0dXJuO1xuXG4gICAgICAgIHZhciB1bmVzY2FwZWRUZXh0ID0gdW5lc2NhcGVUZXh0KHRleHQpO1xuICAgICAgICBpZiAoY29udGV4dEFsbG93c0NvbmNhdGVuYXRpb24pIHtcbiAgICAgICAgICB1bmVzY2FwZWRUZXh0ID0gJHNjZS5nZXRUcnVzdGVkKHRydXN0ZWRDb250ZXh0LCB1bmVzY2FwZWRUZXh0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29uc3RhbnRJbnRlcnAgPSB2YWx1ZUZuKHVuZXNjYXBlZFRleHQpO1xuICAgICAgICBjb25zdGFudEludGVycC5leHAgPSB0ZXh0O1xuICAgICAgICBjb25zdGFudEludGVycC5leHByZXNzaW9ucyA9IFtdO1xuICAgICAgICBjb25zdGFudEludGVycC4kJHdhdGNoRGVsZWdhdGUgPSBjb25zdGFudFdhdGNoRGVsZWdhdGU7XG5cbiAgICAgICAgcmV0dXJuIGNvbnN0YW50SW50ZXJwO1xuICAgICAgfVxuXG4gICAgICBhbGxPck5vdGhpbmcgPSAhIWFsbE9yTm90aGluZztcbiAgICAgIHZhciBzdGFydEluZGV4LFxuICAgICAgICAgIGVuZEluZGV4LFxuICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICBleHByZXNzaW9ucyA9IFtdLFxuICAgICAgICAgIHBhcnNlRm5zLFxuICAgICAgICAgIHRleHRMZW5ndGggPSB0ZXh0Lmxlbmd0aCxcbiAgICAgICAgICBleHAsXG4gICAgICAgICAgY29uY2F0ID0gW10sXG4gICAgICAgICAgZXhwcmVzc2lvblBvc2l0aW9ucyA9IFtdLFxuICAgICAgICAgIHNpbmdsZUV4cHJlc3Npb247XG5cblxuICAgICAgd2hpbGUgKGluZGV4IDwgdGV4dExlbmd0aCkge1xuICAgICAgICBpZiAoKChzdGFydEluZGV4ID0gdGV4dC5pbmRleE9mKHN0YXJ0U3ltYm9sLCBpbmRleCkpICE9PSAtMSkgJiZcbiAgICAgICAgICAgICAoKGVuZEluZGV4ID0gdGV4dC5pbmRleE9mKGVuZFN5bWJvbCwgc3RhcnRJbmRleCArIHN0YXJ0U3ltYm9sTGVuZ3RoKSkgIT09IC0xKSkge1xuICAgICAgICAgIGlmIChpbmRleCAhPT0gc3RhcnRJbmRleCkge1xuICAgICAgICAgICAgY29uY2F0LnB1c2godW5lc2NhcGVUZXh0KHRleHQuc3Vic3RyaW5nKGluZGV4LCBzdGFydEluZGV4KSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBleHAgPSB0ZXh0LnN1YnN0cmluZyhzdGFydEluZGV4ICsgc3RhcnRTeW1ib2xMZW5ndGgsIGVuZEluZGV4KTtcbiAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKGV4cCk7XG4gICAgICAgICAgaW5kZXggPSBlbmRJbmRleCArIGVuZFN5bWJvbExlbmd0aDtcbiAgICAgICAgICBleHByZXNzaW9uUG9zaXRpb25zLnB1c2goY29uY2F0Lmxlbmd0aCk7XG4gICAgICAgICAgY29uY2F0LnB1c2goJycpOyAvLyBQbGFjZWhvbGRlciB0aGF0IHdpbGwgZ2V0IHJlcGxhY2VkIHdpdGggdGhlIGV2YWx1YXRlZCBleHByZXNzaW9uLlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHdlIGRpZCBub3QgZmluZCBhbiBpbnRlcnBvbGF0aW9uLCBzbyB3ZSBoYXZlIHRvIGFkZCB0aGUgcmVtYWluZGVyIHRvIHRoZSBzZXBhcmF0b3JzIGFycmF5XG4gICAgICAgICAgaWYgKGluZGV4ICE9PSB0ZXh0TGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25jYXQucHVzaCh1bmVzY2FwZVRleHQodGV4dC5zdWJzdHJpbmcoaW5kZXgpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNpbmdsZUV4cHJlc3Npb24gPSBjb25jYXQubGVuZ3RoID09PSAxICYmIGV4cHJlc3Npb25Qb3NpdGlvbnMubGVuZ3RoID09PSAxO1xuICAgICAgLy8gSW50ZXJjZXB0IGV4cHJlc3Npb24gaWYgd2UgbmVlZCB0byBzdHJpbmdpZnkgY29uY2F0ZW5hdGVkIGlucHV0cywgd2hpY2ggbWF5IGJlIFNDRSB0cnVzdGVkXG4gICAgICAvLyBvYmplY3RzIHJhdGhlciB0aGFuIHNpbXBsZSBzdHJpbmdzXG4gICAgICAvLyAod2UgZG9uJ3QgbW9kaWZ5IHRoZSBleHByZXNzaW9uIGlmIHRoZSBpbnB1dCBjb25zaXN0cyBvZiBvbmx5IGEgc2luZ2xlIHRydXN0ZWQgaW5wdXQpXG4gICAgICB2YXIgaW50ZXJjZXB0b3IgPSBjb250ZXh0QWxsb3dzQ29uY2F0ZW5hdGlvbiAmJiBzaW5nbGVFeHByZXNzaW9uID8gdW5kZWZpbmVkIDogcGFyc2VTdHJpbmdpZnlJbnRlcmNlcHRvcjtcbiAgICAgIHBhcnNlRm5zID0gZXhwcmVzc2lvbnMubWFwKGZ1bmN0aW9uKGV4cCkgeyByZXR1cm4gJHBhcnNlKGV4cCwgaW50ZXJjZXB0b3IpOyB9KTtcblxuICAgICAgLy8gQ29uY2F0ZW5hdGluZyBleHByZXNzaW9ucyBtYWtlcyBpdCBoYXJkIHRvIHJlYXNvbiBhYm91dCB3aGV0aGVyIHNvbWUgY29tYmluYXRpb24gb2ZcbiAgICAgIC8vIGNvbmNhdGVuYXRlZCB2YWx1ZXMgYXJlIHVuc2FmZSB0byB1c2UgYW5kIGNvdWxkIGVhc2lseSBsZWFkIHRvIFhTUy4gIEJ5IHJlcXVpcmluZyB0aGF0IGFcbiAgICAgIC8vIHNpbmdsZSBleHByZXNzaW9uIGJlIHVzZWQgZm9yIHNvbWUgJHNjZS1tYW5hZ2VkIHNlY3VyZSBjb250ZXh0cyAoUkVTT1VSQ0VfVVJMcyBtb3N0bHkpLFxuICAgICAgLy8gd2UgZW5zdXJlIHRoYXQgdGhlIHZhbHVlIHRoYXQncyB1c2VkIGlzIGFzc2lnbmVkIG9yIGNvbnN0cnVjdGVkIGJ5IHNvbWUgSlMgY29kZSBzb21ld2hlcmVcbiAgICAgIC8vIHRoYXQgaXMgbW9yZSB0ZXN0YWJsZSBvciBtYWtlIGl0IG9idmlvdXMgdGhhdCB5b3UgYm91bmQgdGhlIHZhbHVlIHRvIHNvbWUgdXNlciBjb250cm9sbGVkXG4gICAgICAvLyB2YWx1ZS4gIFRoaXMgaGVscHMgcmVkdWNlIHRoZSBsb2FkIHdoZW4gYXVkaXRpbmcgZm9yIFhTUyBpc3N1ZXMuXG5cbiAgICAgIC8vIE5vdGUgdGhhdCBVUkwgYW5kIE1FRElBX1VSTCAkc2NlIGNvbnRleHRzIGRvIG5vdCBuZWVkIHRoaXMsIHNpbmNlIGAkc2NlYCBjYW4gc2FuaXRpemUgdGhlIHZhbHVlc1xuICAgICAgLy8gcGFzc2VkIHRvIGl0LiBJbiB0aGF0IGNhc2UsIGAkc2NlLmdldFRydXN0ZWRgIHdpbGwgYmUgY2FsbGVkIG9uIGVpdGhlciB0aGUgc2luZ2xlIGV4cHJlc3Npb25cbiAgICAgIC8vIG9yIG9uIHRoZSBvdmVyYWxsIGNvbmNhdGVuYXRlZCBzdHJpbmcgKGxvc2luZyB0cnVzdGVkIHR5cGVzIHVzZWQgaW4gdGhlIG1peCwgYnkgZGVzaWduKS5cbiAgICAgIC8vIEJvdGggdGhlc2UgbWV0aG9kcyB3aWxsIHNhbml0aXplIHBsYWluIHN0cmluZ3MuIEFsc28sIEhUTUwgY291bGQgYmUgaW5jbHVkZWQsIGJ1dCBzaW5jZSBpdCdzXG4gICAgICAvLyBvbmx5IHVzZWQgaW4gc3JjZG9jIGF0dHJpYnV0ZXMsIHRoaXMgd291bGQgbm90IGJlIHZlcnkgdXNlZnVsLlxuXG4gICAgICBpZiAoIW11c3RIYXZlRXhwcmVzc2lvbiB8fCBleHByZXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGNvbXB1dGUgPSBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBleHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYWxsT3JOb3RoaW5nICYmIGlzVW5kZWZpbmVkKHZhbHVlc1tpXSkpIHJldHVybjtcbiAgICAgICAgICAgIGNvbmNhdFtleHByZXNzaW9uUG9zaXRpb25zW2ldXSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY29udGV4dEFsbG93c0NvbmNhdGVuYXRpb24pIHtcbiAgICAgICAgICAgIC8vIElmIGBzaW5nbGVFeHByZXNzaW9uYCB0aGVuIGBjb25jYXRbMF1gIG1pZ2h0IGJlIGEgXCJ0cnVzdGVkXCIgdmFsdWUgb3IgYG51bGxgLCByYXRoZXIgdGhhbiBhIHN0cmluZ1xuICAgICAgICAgICAgcmV0dXJuICRzY2UuZ2V0VHJ1c3RlZCh0cnVzdGVkQ29udGV4dCwgc2luZ2xlRXhwcmVzc2lvbiA/IGNvbmNhdFswXSA6IGNvbmNhdC5qb2luKCcnKSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0cnVzdGVkQ29udGV4dCAmJiBjb25jYXQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gVGhpcyBjb250ZXh0IGRvZXMgbm90IGFsbG93IG1vcmUgdGhhbiBvbmUgcGFydCwgZS5nLiBleHByICsgc3RyaW5nIG9yIGV4cCArIGV4cC5cbiAgICAgICAgICAgICRpbnRlcnBvbGF0ZU1pbkVyci50aHJvd05vY29uY2F0KHRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBJbiBhbiB1bnByaXZpbGVnZWQgY29udGV4dCBvciBvbmx5IG9uZSBwYXJ0OiBqdXN0IGNvbmNhdGVuYXRlIGFuZCByZXR1cm4uXG4gICAgICAgICAgcmV0dXJuIGNvbmNhdC5qb2luKCcnKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uIGludGVycG9sYXRpb25Gbihjb250ZXh0KSB7XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICB2YXIgaWkgPSBleHByZXNzaW9ucy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gbmV3IEFycmF5KGlpKTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm9yICg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzW2ldID0gcGFyc2VGbnNbaV0oY29udGV4dCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gY29tcHV0ZSh2YWx1ZXMpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKCRpbnRlcnBvbGF0ZU1pbkVyci5pbnRlcnIodGV4dCwgZXJyKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgLy8gYWxsIG9mIHRoZXNlIHByb3BlcnRpZXMgYXJlIHVuZG9jdW1lbnRlZCBmb3Igbm93XG4gICAgICAgICAgZXhwOiB0ZXh0LCAvL2p1c3QgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCByZWd1bGFyIHdhdGNoZXJzIGNyZWF0ZWQgdmlhICR3YXRjaFxuICAgICAgICAgIGV4cHJlc3Npb25zOiBleHByZXNzaW9ucyxcbiAgICAgICAgICAkJHdhdGNoRGVsZWdhdGU6IGZ1bmN0aW9uKHNjb3BlLCBsaXN0ZW5lcikge1xuICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBzY29wZS4kd2F0Y2hHcm91cChwYXJzZUZucywgLyoqIEB0aGlzICovIGZ1bmN0aW9uIGludGVycG9sYXRlRm5XYXRjaGVyKHZhbHVlcywgb2xkVmFsdWVzKSB7XG4gICAgICAgICAgICAgIHZhciBjdXJyVmFsdWUgPSBjb21wdXRlKHZhbHVlcyk7XG4gICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgY3VyclZhbHVlLCB2YWx1ZXMgIT09IG9sZFZhbHVlcyA/IGxhc3RWYWx1ZSA6IGN1cnJWYWx1ZSwgc2NvcGUpO1xuICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBjdXJyVmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yKHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gSW4gY29uY2F0ZW5hYmxlIGNvbnRleHRzLCBnZXRUcnVzdGVkIGNvbWVzIGF0IHRoZSBlbmQsIHRvIGF2b2lkIHNhbml0aXppbmcgaW5kaXZpZHVhbFxuICAgICAgICAgIC8vIHBhcnRzIG9mIGEgZnVsbCBVUkwuIFdlIGRvbid0IGNhcmUgYWJvdXQgbG9zaW5nIHRoZSB0cnVzdGVkbmVzcyBoZXJlLlxuICAgICAgICAgIC8vIEluIG5vbi1jb25jYXRlbmFibGUgY29udGV4dHMsIHdoZXJlIHRoZXJlIGlzIG9ubHkgb25lIGV4cHJlc3Npb24sIHRoaXMgaW50ZXJjZXB0b3IgaXNcbiAgICAgICAgICAvLyBub3QgYXBwbGllZCB0byB0aGUgZXhwcmVzc2lvbi5cbiAgICAgICAgICB2YWx1ZSA9ICh0cnVzdGVkQ29udGV4dCAmJiAhY29udGV4dEFsbG93c0NvbmNhdGVuYXRpb24pID9cbiAgICAgICAgICAgICAgICAgICAgJHNjZS5nZXRUcnVzdGVkKHRydXN0ZWRDb250ZXh0LCB2YWx1ZSkgOlxuICAgICAgICAgICAgICAgICAgICAkc2NlLnZhbHVlT2YodmFsdWUpO1xuICAgICAgICAgIHJldHVybiBhbGxPck5vdGhpbmcgJiYgIWlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IHN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKCRpbnRlcnBvbGF0ZU1pbkVyci5pbnRlcnIodGV4dCwgZXJyKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaW50ZXJwb2xhdGUjc3RhcnRTeW1ib2xcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTeW1ib2wgdG8gZGVub3RlIHRoZSBzdGFydCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBge3tgLlxuICAgICAqXG4gICAgICogVXNlIHtAbGluayBuZy4kaW50ZXJwb2xhdGVQcm92aWRlciNzdGFydFN5bWJvbCBgJGludGVycG9sYXRlUHJvdmlkZXIuc3RhcnRTeW1ib2xgfSB0byBjaGFuZ2VcbiAgICAgKiB0aGUgc3ltYm9sLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gc3RhcnQgc3ltYm9sLlxuICAgICAqL1xuICAgICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHN0YXJ0U3ltYm9sO1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaW50ZXJwb2xhdGUjZW5kU3ltYm9sXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU3ltYm9sIHRvIGRlbm90ZSB0aGUgZW5kIG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB9fWAuXG4gICAgICpcbiAgICAgKiBVc2Uge0BsaW5rIG5nLiRpbnRlcnBvbGF0ZVByb3ZpZGVyI2VuZFN5bWJvbCBgJGludGVycG9sYXRlUHJvdmlkZXIuZW5kU3ltYm9sYH0gdG8gY2hhbmdlXG4gICAgICogdGhlIHN5bWJvbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGVuZCBzeW1ib2wuXG4gICAgICovXG4gICAgJGludGVycG9sYXRlLmVuZFN5bWJvbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGVuZFN5bWJvbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuICRpbnRlcnBvbGF0ZTtcbiAgfV07XG59XG5cbnZhciAkaW50ZXJ2YWxNaW5FcnIgPSBtaW5FcnIoJyRpbnRlcnZhbCcpO1xuXG4vKiogQHRoaXMgKi9cbmZ1bmN0aW9uICRJbnRlcnZhbFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyQkaW50ZXJ2YWxGYWN0b3J5JywgJyR3aW5kb3cnLFxuICAgICAgIGZ1bmN0aW9uKCQkaW50ZXJ2YWxGYWN0b3J5LCAgICR3aW5kb3cpIHtcbiAgICB2YXIgaW50ZXJ2YWxzID0ge307XG4gICAgdmFyIHNldEludGVydmFsRm4gPSBmdW5jdGlvbih0aWNrLCBkZWxheSwgZGVmZXJyZWQpIHtcbiAgICAgIHZhciBpZCA9ICR3aW5kb3cuc2V0SW50ZXJ2YWwodGljaywgZGVsYXkpO1xuICAgICAgaW50ZXJ2YWxzW2lkXSA9IGRlZmVycmVkO1xuICAgICAgcmV0dXJuIGlkO1xuICAgIH07XG4gICAgdmFyIGNsZWFySW50ZXJ2YWxGbiA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAkd2luZG93LmNsZWFySW50ZXJ2YWwoaWQpO1xuICAgICAgZGVsZXRlIGludGVydmFsc1tpZF07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQG5hbWUgJGludGVydmFsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBBbmd1bGFySlMncyB3cmFwcGVyIGZvciBgd2luZG93LnNldEludGVydmFsYC4gVGhlIGBmbmAgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZXZlcnkgYGRlbGF5YFxuICAgICAqIG1pbGxpc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIFRoZSByZXR1cm4gdmFsdWUgb2YgcmVnaXN0ZXJpbmcgYW4gaW50ZXJ2YWwgZnVuY3Rpb24gaXMgYSBwcm9taXNlLiBUaGlzIHByb21pc2Ugd2lsbCBiZVxuICAgICAqIG5vdGlmaWVkIHVwb24gZWFjaCB0aWNrIG9mIHRoZSBpbnRlcnZhbCwgYW5kIHdpbGwgYmUgcmVzb2x2ZWQgYWZ0ZXIgYGNvdW50YCBpdGVyYXRpb25zLCBvclxuICAgICAqIHJ1biBpbmRlZmluaXRlbHkgaWYgYGNvdW50YCBpcyBub3QgZGVmaW5lZC4gVGhlIHZhbHVlIG9mIHRoZSBub3RpZmljYXRpb24gd2lsbCBiZSB0aGVcbiAgICAgKiBudW1iZXIgb2YgaXRlcmF0aW9ucyB0aGF0IGhhdmUgcnVuLlxuICAgICAqIFRvIGNhbmNlbCBhbiBpbnRlcnZhbCwgY2FsbCBgJGludGVydmFsLmNhbmNlbChwcm9taXNlKWAuXG4gICAgICpcbiAgICAgKiBJbiB0ZXN0cyB5b3UgY2FuIHVzZSB7QGxpbmsgbmdNb2NrLiRpbnRlcnZhbCNmbHVzaCBgJGludGVydmFsLmZsdXNoKG1pbGxpcylgfSB0b1xuICAgICAqIG1vdmUgZm9yd2FyZCBieSBgbWlsbGlzYCBtaWxsaXNlY29uZHMgYW5kIHRyaWdnZXIgYW55IGZ1bmN0aW9ucyBzY2hlZHVsZWQgdG8gcnVuIGluIHRoYXRcbiAgICAgKiB0aW1lLlxuICAgICAqXG4gICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICAgKiAqKk5vdGUqKjogSW50ZXJ2YWxzIGNyZWF0ZWQgYnkgdGhpcyBzZXJ2aWNlIG11c3QgYmUgZXhwbGljaXRseSBkZXN0cm95ZWQgd2hlbiB5b3UgYXJlIGZpbmlzaGVkXG4gICAgICogd2l0aCB0aGVtLiAgSW4gcGFydGljdWxhciB0aGV5IGFyZSBub3QgYXV0b21hdGljYWxseSBkZXN0cm95ZWQgd2hlbiBhIGNvbnRyb2xsZXIncyBzY29wZSBvciBhXG4gICAgICogZGlyZWN0aXZlJ3MgZWxlbWVudCBhcmUgZGVzdHJveWVkLlxuICAgICAqIFlvdSBzaG91bGQgdGFrZSB0aGlzIGludG8gY29uc2lkZXJhdGlvbiBhbmQgbWFrZSBzdXJlIHRvIGFsd2F5cyBjYW5jZWwgdGhlIGludGVydmFsIGF0IHRoZVxuICAgICAqIGFwcHJvcHJpYXRlIG1vbWVudC4gIFNlZSB0aGUgZXhhbXBsZSBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzIG9uIGhvdyBhbmQgd2hlbiB0byBkbyB0aGlzLlxuICAgICAqIDwvZGl2PlxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCByZXBlYXRlZGx5LiBJZiBubyBhZGRpdGlvbmFsIGFyZ3VtZW50c1xuICAgICAqICAgYXJlIHBhc3NlZCAoc2VlIGJlbG93KSwgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIHRoZSBjdXJyZW50IGl0ZXJhdGlvbiBjb3VudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXkgTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGVhY2ggZnVuY3Rpb24gY2FsbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IFtjb3VudD0wXSBOdW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0LiBJZiBub3Qgc2V0LCBvciAwLCB3aWxsIHJlcGVhdFxuICAgICAqICAgaW5kZWZpbml0ZWx5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtpbnZva2VBcHBseT10cnVlXSBJZiBzZXQgdG8gYGZhbHNlYCBza2lwcyBtb2RlbCBkaXJ0eSBjaGVja2luZywgb3RoZXJ3aXNlXG4gICAgICogICB3aWxsIGludm9rZSBgZm5gIHdpdGhpbiB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5ICRhcHBseX0gYmxvY2suXG4gICAgICogQHBhcmFtIHsuLi4qPX0gUGFzcyBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgdG8gdGhlIGV4ZWN1dGVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2Ugd2hpY2ggd2lsbCBiZSBub3RpZmllZCBvbiBlYWNoIGl0ZXJhdGlvbi4gSXQgd2lsbCByZXNvbHZlIG9uY2UgYWxsIGl0ZXJhdGlvbnMgb2YgdGhlIGludGVydmFsIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8ZXhhbXBsZSBtb2R1bGU9XCJpbnRlcnZhbEV4YW1wbGVcIiBuYW1lPVwiaW50ZXJ2YWwtc2VydmljZVwiPlxuICAgICAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICogICA8c2NyaXB0PlxuICAgICAqICAgICBhbmd1bGFyLm1vZHVsZSgnaW50ZXJ2YWxFeGFtcGxlJywgW10pXG4gICAgICogICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGludGVydmFsJyxcbiAgICAgKiAgICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgJGludGVydmFsKSB7XG4gICAgICogICAgICAgICAgICRzY29wZS5mb3JtYXQgPSAnTS9kL3l5IGg6bW06c3MgYSc7XG4gICAgICogICAgICAgICAgICRzY29wZS5ibG9vZF8xID0gMTAwO1xuICAgICAqICAgICAgICAgICAkc2NvcGUuYmxvb2RfMiA9IDEyMDtcbiAgICAgKlxuICAgICAqICAgICAgICAgICB2YXIgc3RvcDtcbiAgICAgKiAgICAgICAgICAgJHNjb3BlLmZpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICogICAgICAgICAgICAgLy8gRG9uJ3Qgc3RhcnQgYSBuZXcgZmlnaHQgaWYgd2UgYXJlIGFscmVhZHkgZmlnaHRpbmdcbiAgICAgKiAgICAgICAgICAgICBpZiAoIGFuZ3VsYXIuaXNEZWZpbmVkKHN0b3ApICkgcmV0dXJuO1xuICAgICAqXG4gICAgICogICAgICAgICAgICAgc3RvcCA9ICRpbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYmxvb2RfMSA+IDAgJiYgJHNjb3BlLmJsb29kXzIgPiAwKSB7XG4gICAgICogICAgICAgICAgICAgICAgICRzY29wZS5ibG9vZF8xID0gJHNjb3BlLmJsb29kXzEgLSAzO1xuICAgICAqICAgICAgICAgICAgICAgICAkc2NvcGUuYmxvb2RfMiA9ICRzY29wZS5ibG9vZF8yIC0gNDtcbiAgICAgKiAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICogICAgICAgICAgICAgICAgICRzY29wZS5zdG9wRmlnaHQoKTtcbiAgICAgKiAgICAgICAgICAgICAgIH1cbiAgICAgKiAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAqICAgICAgICAgICB9O1xuICAgICAqXG4gICAgICogICAgICAgICAgICRzY29wZS5zdG9wRmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoc3RvcCkpIHtcbiAgICAgKiAgICAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoc3RvcCk7XG4gICAgICogICAgICAgICAgICAgICBzdG9wID0gdW5kZWZpbmVkO1xuICAgICAqICAgICAgICAgICAgIH1cbiAgICAgKiAgICAgICAgICAgfTtcbiAgICAgKlxuICAgICAqICAgICAgICAgICAkc2NvcGUucmVzZXRGaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAqICAgICAgICAgICAgICRzY29wZS5ibG9vZF8xID0gMTAwO1xuICAgICAqICAgICAgICAgICAgICRzY29wZS5ibG9vZF8yID0gMTIwO1xuICAgICAqICAgICAgICAgICB9O1xuICAgICAqXG4gICAgICogICAgICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICogICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIGludGVydmFsIGlzIGRlc3Ryb3llZCB0b29cbiAgICAgKiAgICAgICAgICAgICAkc2NvcGUuc3RvcEZpZ2h0KCk7XG4gICAgICogICAgICAgICAgIH0pO1xuICAgICAqICAgICAgICAgfV0pXG4gICAgICogICAgICAgLy8gUmVnaXN0ZXIgdGhlICdteUN1cnJlbnRUaW1lJyBkaXJlY3RpdmUgZmFjdG9yeSBtZXRob2QuXG4gICAgICogICAgICAgLy8gV2UgaW5qZWN0ICRpbnRlcnZhbCBhbmQgZGF0ZUZpbHRlciBzZXJ2aWNlIHNpbmNlIHRoZSBmYWN0b3J5IG1ldGhvZCBpcyBESS5cbiAgICAgKiAgICAgICAuZGlyZWN0aXZlKCdteUN1cnJlbnRUaW1lJywgWyckaW50ZXJ2YWwnLCAnZGF0ZUZpbHRlcicsXG4gICAgICogICAgICAgICBmdW5jdGlvbigkaW50ZXJ2YWwsIGRhdGVGaWx0ZXIpIHtcbiAgICAgKiAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBkaXJlY3RpdmUgbGluayBmdW5jdGlvbi4gKGNvbXBpbGUgZnVuY3Rpb24gbm90IG5lZWRlZClcbiAgICAgKiAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAqICAgICAgICAgICAgIHZhciBmb3JtYXQsICAvLyBkYXRlIGZvcm1hdFxuICAgICAqICAgICAgICAgICAgICAgICBzdG9wVGltZTsgLy8gc28gdGhhdCB3ZSBjYW4gY2FuY2VsIHRoZSB0aW1lIHVwZGF0ZXNcbiAgICAgKlxuICAgICAqICAgICAgICAgICAgIC8vIHVzZWQgdG8gdXBkYXRlIHRoZSBVSVxuICAgICAqICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVRpbWUoKSB7XG4gICAgICogICAgICAgICAgICAgICBlbGVtZW50LnRleHQoZGF0ZUZpbHRlcihuZXcgRGF0ZSgpLCBmb3JtYXQpKTtcbiAgICAgKiAgICAgICAgICAgICB9XG4gICAgICpcbiAgICAgKiAgICAgICAgICAgICAvLyB3YXRjaCB0aGUgZXhwcmVzc2lvbiwgYW5kIHVwZGF0ZSB0aGUgVUkgb24gY2hhbmdlLlxuICAgICAqICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChhdHRycy5teUN1cnJlbnRUaW1lLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgICAgICAgICAgICAgZm9ybWF0ID0gdmFsdWU7XG4gICAgICogICAgICAgICAgICAgICB1cGRhdGVUaW1lKCk7XG4gICAgICogICAgICAgICAgICAgfSk7XG4gICAgICpcbiAgICAgKiAgICAgICAgICAgICBzdG9wVGltZSA9ICRpbnRlcnZhbCh1cGRhdGVUaW1lLCAxMDAwKTtcbiAgICAgKlxuICAgICAqICAgICAgICAgICAgIC8vIGxpc3RlbiBvbiBET00gZGVzdHJveSAocmVtb3ZhbCkgZXZlbnQsIGFuZCBjYW5jZWwgdGhlIG5leHQgVUkgdXBkYXRlXG4gICAgICogICAgICAgICAgICAgLy8gdG8gcHJldmVudCB1cGRhdGluZyB0aW1lIGFmdGVyIHRoZSBET00gZWxlbWVudCB3YXMgcmVtb3ZlZC5cbiAgICAgKiAgICAgICAgICAgICBlbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAqICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChzdG9wVGltZSk7XG4gICAgICogICAgICAgICAgICAgfSk7XG4gICAgICogICAgICAgICAgIH1cbiAgICAgKiAgICAgICAgIH1dKTtcbiAgICAgKiAgIDwvc2NyaXB0PlxuICAgICAqXG4gICAgICogICA8ZGl2PlxuICAgICAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAqICAgICAgIDxsYWJlbD5EYXRlIGZvcm1hdDogPGlucHV0IG5nLW1vZGVsPVwiZm9ybWF0XCI+PC9sYWJlbD4gPGhyLz5cbiAgICAgKiAgICAgICBDdXJyZW50IHRpbWUgaXM6IDxzcGFuIG15LWN1cnJlbnQtdGltZT1cImZvcm1hdFwiPjwvc3Bhbj5cbiAgICAgKiAgICAgICA8aHIvPlxuICAgICAqICAgICAgIEJsb29kIDEgOiA8Zm9udCBjb2xvcj0ncmVkJz57e2Jsb29kXzF9fTwvZm9udD5cbiAgICAgKiAgICAgICBCbG9vZCAyIDogPGZvbnQgY29sb3I9J3JlZCc+e3tibG9vZF8yfX08L2ZvbnQ+XG4gICAgICogICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1uZy1jbGljaz1cImZpZ2h0KClcIj5GaWdodDwvYnV0dG9uPlxuICAgICAqICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtbmctY2xpY2s9XCJzdG9wRmlnaHQoKVwiPlN0b3BGaWdodDwvYnV0dG9uPlxuICAgICAqICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtbmctY2xpY2s9XCJyZXNldEZpZ2h0KClcIj5yZXNldEZpZ2h0PC9idXR0b24+XG4gICAgICogICAgIDwvZGl2PlxuICAgICAqICAgPC9kaXY+XG4gICAgICpcbiAgICAgKiA8L2ZpbGU+XG4gICAgICogPC9leGFtcGxlPlxuICAgICAqL1xuICAgIHZhciBpbnRlcnZhbCA9ICQkaW50ZXJ2YWxGYWN0b3J5KHNldEludGVydmFsRm4sIGNsZWFySW50ZXJ2YWxGbik7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGludGVydmFsI2NhbmNlbFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ2FuY2VscyBhIHRhc2sgYXNzb2NpYXRlZCB3aXRoIHRoZSBgcHJvbWlzZWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1Byb21pc2U9fSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZSBgJGludGVydmFsYCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRhc2sgd2FzIHN1Y2Nlc3NmdWxseSBjYW5jZWxlZC5cbiAgICAgKi9cbiAgICBpbnRlcnZhbC5jYW5jZWwgPSBmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgICBpZiAoIXByb21pc2UpIHJldHVybiBmYWxzZTtcblxuICAgICAgaWYgKCFwcm9taXNlLmhhc093blByb3BlcnR5KCckJGludGVydmFsSWQnKSkge1xuICAgICAgICB0aHJvdyAkaW50ZXJ2YWxNaW5FcnIoJ2JhZHByb20nLFxuICAgICAgICAgICAgJ2AkaW50ZXJ2YWwuY2FuY2VsKClgIGNhbGxlZCB3aXRoIGEgcHJvbWlzZSB0aGF0IHdhcyBub3QgZ2VuZXJhdGVkIGJ5IGAkaW50ZXJ2YWwoKWAuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghaW50ZXJ2YWxzLmhhc093blByb3BlcnR5KHByb21pc2UuJCRpbnRlcnZhbElkKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICB2YXIgaWQgPSBwcm9taXNlLiQkaW50ZXJ2YWxJZDtcbiAgICAgIHZhciBkZWZlcnJlZCA9IGludGVydmFsc1tpZF07XG5cbiAgICAgIC8vIEludGVydmFsIGNhbmNlbHMgc2hvdWxkIG5vdCByZXBvcnQgYW4gdW5oYW5kbGVkIHByb21pc2UuXG4gICAgICBtYXJrUUV4Y2VwdGlvbkhhbmRsZWQoZGVmZXJyZWQucHJvbWlzZSk7XG4gICAgICBkZWZlcnJlZC5yZWplY3QoJ2NhbmNlbGVkJyk7XG4gICAgICBjbGVhckludGVydmFsRm4oaWQpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGludGVydmFsO1xuICB9XTtcbn1cblxuLyoqIEB0aGlzICovXG5mdW5jdGlvbiAkJEludGVydmFsRmFjdG9yeVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRicm93c2VyJywgJyRxJywgJyQkcScsICckcm9vdFNjb3BlJyxcbiAgICAgICBmdW5jdGlvbigkYnJvd3NlciwgICAkcSwgICAkJHEsICAgJHJvb3RTY29wZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBpbnRlcnZhbEZhY3Rvcnkoc2V0SW50ZXJ2YWxGbiwgY2xlYXJJbnRlcnZhbEZuKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gaW50ZXJ2YWxGbihmbiwgZGVsYXksIGNvdW50LCBpbnZva2VBcHBseSkge1xuICAgICAgICB2YXIgaGFzUGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDQsXG4gICAgICAgICAgICBhcmdzID0gaGFzUGFyYW1zID8gc2xpY2VBcmdzKGFyZ3VtZW50cywgNCkgOiBbXSxcbiAgICAgICAgICAgIGl0ZXJhdGlvbiA9IDAsXG4gICAgICAgICAgICBza2lwQXBwbHkgPSBpc0RlZmluZWQoaW52b2tlQXBwbHkpICYmICFpbnZva2VBcHBseSxcbiAgICAgICAgICAgIGRlZmVycmVkID0gKHNraXBBcHBseSA/ICQkcSA6ICRxKS5kZWZlcigpLFxuICAgICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAgICAgY291bnQgPSBpc0RlZmluZWQoY291bnQpID8gY291bnQgOiAwO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIGlmICghaGFzUGFyYW1zKSB7XG4gICAgICAgICAgICBmbihpdGVyYXRpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0aWNrKCkge1xuICAgICAgICAgIGlmIChza2lwQXBwbHkpIHtcbiAgICAgICAgICAgICRicm93c2VyLmRlZmVyKGNhbGxiYWNrKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGNhbGxiYWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmZXJyZWQubm90aWZ5KGl0ZXJhdGlvbisrKTtcblxuICAgICAgICAgIGlmIChjb3VudCA+IDAgJiYgaXRlcmF0aW9uID49IGNvdW50KSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGl0ZXJhdGlvbik7XG4gICAgICAgICAgICBjbGVhckludGVydmFsRm4ocHJvbWlzZS4kJGludGVydmFsSWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghc2tpcEFwcGx5KSAkcm9vdFNjb3BlLiRhcHBseSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvbWlzZS4kJGludGVydmFsSWQgPSBzZXRJbnRlcnZhbEZuKHRpY2ssIGRlbGF5LCBkZWZlcnJlZCwgc2tpcEFwcGx5KTtcblxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH07XG4gICAgfTtcbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRqc29ucENhbGxiYWNrc1xuICogQHJlcXVpcmVzICR3aW5kb3dcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBzZXJ2aWNlIGhhbmRsZXMgdGhlIGxpZmVjeWNsZSBvZiBjYWxsYmFja3MgdG8gaGFuZGxlIEpTT05QIHJlcXVlc3RzLlxuICogT3ZlcnJpZGUgdGhpcyBzZXJ2aWNlIGlmIHlvdSB3aXNoIHRvIGN1c3RvbWlzZSB3aGVyZSB0aGUgY2FsbGJhY2tzIGFyZSBzdG9yZWQgYW5kXG4gKiBob3cgdGhleSB2YXJ5IGNvbXBhcmVkIHRvIHRoZSByZXF1ZXN0ZWQgdXJsLlxuICovXG52YXIgJGpzb25wQ2FsbGJhY2tzUHJvdmlkZXIgPSAvKiogQHRoaXMgKi8gZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjYWxsYmFja3MgPSBhbmd1bGFyLmNhbGxiYWNrcztcbiAgICB2YXIgY2FsbGJhY2tNYXAgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrSWQpIHtcbiAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgY2FsbGJhY2suZGF0YSA9IGRhdGE7XG4gICAgICAgIGNhbGxiYWNrLmNhbGxlZCA9IHRydWU7XG4gICAgICB9O1xuICAgICAgY2FsbGJhY2suaWQgPSBjYWxsYmFja0lkO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRqc29ucENhbGxiYWNrcyNjcmVhdGVDYWxsYmFja1xuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCB0aGUgdXJsIG9mIHRoZSBKU09OUCByZXF1ZXN0XG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgY2FsbGJhY2sgcGF0aCB0byBzZW5kIHRvIHRoZSBzZXJ2ZXIgYXMgcGFydCBvZiB0aGUgSlNPTlAgcmVxdWVzdFxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiB7QGxpbmsgJGh0dHBCYWNrZW5kfSBjYWxscyB0aGlzIG1ldGhvZCB0byBjcmVhdGUgYSBjYWxsYmFjayBhbmQgZ2V0IGhvbGQgb2YgdGhlIHBhdGggdG8gdGhlIGNhbGxiYWNrXG4gICAgICAgKiB0byBwYXNzIHRvIHRoZSBzZXJ2ZXIsIHdoaWNoIHdpbGwgYmUgdXNlZCB0byBjYWxsIHRoZSBjYWxsYmFjayB3aXRoIGl0cyBwYXlsb2FkIGluIHRoZSBKU09OUCByZXNwb25zZS5cbiAgICAgICAqL1xuICAgICAgY3JlYXRlQ2FsbGJhY2s6IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICB2YXIgY2FsbGJhY2tJZCA9ICdfJyArIChjYWxsYmFja3MuJCRjb3VudGVyKyspLnRvU3RyaW5nKDM2KTtcbiAgICAgICAgdmFyIGNhbGxiYWNrUGF0aCA9ICdhbmd1bGFyLmNhbGxiYWNrcy4nICsgY2FsbGJhY2tJZDtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2tJZCk7XG4gICAgICAgIGNhbGxiYWNrTWFwW2NhbGxiYWNrUGF0aF0gPSBjYWxsYmFja3NbY2FsbGJhY2tJZF0gPSBjYWxsYmFjaztcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrUGF0aDtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRqc29ucENhbGxiYWNrcyN3YXNDYWxsZWRcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsYmFja1BhdGggdGhlIHBhdGggdG8gdGhlIGNhbGxiYWNrIHRoYXQgd2FzIHNlbnQgaW4gdGhlIEpTT05QIHJlcXVlc3RcbiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIHRoZSBjYWxsYmFjayBoYXMgYmVlbiBjYWxsZWQsIGFzIGEgcmVzdWx0IG9mIHRoZSBKU09OUCByZXNwb25zZVxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiB7QGxpbmsgJGh0dHBCYWNrZW5kfSBjYWxscyB0aGlzIG1ldGhvZCB0byBmaW5kIG91dCB3aGV0aGVyIHRoZSBKU09OUCByZXNwb25zZSBhY3R1YWxseSBjYWxsZWQgdGhlXG4gICAgICAgKiBjYWxsYmFjayB0aGF0IHdhcyBwYXNzZWQgaW4gdGhlIHJlcXVlc3QuXG4gICAgICAgKi9cbiAgICAgIHdhc0NhbGxlZDogZnVuY3Rpb24oY2FsbGJhY2tQYXRoKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFja01hcFtjYWxsYmFja1BhdGhdLmNhbGxlZDtcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRqc29ucENhbGxiYWNrcyNnZXRSZXNwb25zZVxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNhbGxiYWNrUGF0aCB0aGUgcGF0aCB0byB0aGUgY2FsbGJhY2sgdGhhdCB3YXMgc2VudCBpbiB0aGUgSlNPTlAgcmVxdWVzdFxuICAgICAgICogQHJldHVybnMgeyp9IHRoZSBkYXRhIHJlY2VpdmVkIGZyb20gdGhlIHJlc3BvbnNlIHZpYSB0aGUgcmVnaXN0ZXJlZCBjYWxsYmFja1xuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiB7QGxpbmsgJGh0dHBCYWNrZW5kfSBjYWxscyB0aGlzIG1ldGhvZCB0byBnZXQgaG9sZCBvZiB0aGUgZGF0YSB0aGF0IHdhcyBwcm92aWRlZCB0byB0aGUgY2FsbGJhY2tcbiAgICAgICAqIGluIHRoZSBKU09OUCByZXNwb25zZS5cbiAgICAgICAqL1xuICAgICAgZ2V0UmVzcG9uc2U6IGZ1bmN0aW9uKGNhbGxiYWNrUGF0aCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2tNYXBbY2FsbGJhY2tQYXRoXS5kYXRhO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGpzb25wQ2FsbGJhY2tzI3JlbW92ZUNhbGxiYWNrXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbGJhY2tQYXRoIHRoZSBwYXRoIHRvIHRoZSBjYWxsYmFjayB0aGF0IHdhcyBzZW50IGluIHRoZSBKU09OUCByZXF1ZXN0XG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIHtAbGluayAkaHR0cEJhY2tlbmR9IGNhbGxzIHRoaXMgbWV0aG9kIHRvIHJlbW92ZSB0aGUgY2FsbGJhY2sgYWZ0ZXIgdGhlIEpTT05QIHJlcXVlc3QgaGFzXG4gICAgICAgKiBjb21wbGV0ZWQgb3IgdGltZWQtb3V0LlxuICAgICAgICovXG4gICAgICByZW1vdmVDYWxsYmFjazogZnVuY3Rpb24oY2FsbGJhY2tQYXRoKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrTWFwW2NhbGxiYWNrUGF0aF07XG4gICAgICAgIGRlbGV0ZSBjYWxsYmFja3NbY2FsbGJhY2suaWRdO1xuICAgICAgICBkZWxldGUgY2FsbGJhY2tNYXBbY2FsbGJhY2tQYXRoXTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufTtcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGxvY2FsZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogJGxvY2FsZSBzZXJ2aWNlIHByb3ZpZGVzIGxvY2FsaXphdGlvbiBydWxlcyBmb3IgdmFyaW91cyBBbmd1bGFySlMgY29tcG9uZW50cy4gQXMgb2YgcmlnaHQgbm93IHRoZVxuICogb25seSBwdWJsaWMgYXBpIGlzOlxuICpcbiAqICogYGlkYCDigJMgYHtzdHJpbmd9YCDigJMgbG9jYWxlIGlkIGZvcm1hdHRlZCBhcyBgbGFuZ3VhZ2VJZC1jb3VudHJ5SWRgIChlLmcuIGBlbi11c2ApXG4gKi9cblxuLyogZ2xvYmFsIHN0cmlwSGFzaDogdHJ1ZSAqL1xuXG52YXIgUEFUSF9NQVRDSCA9IC9eKFtePyNdKikoXFw/KFteI10qKSk/KCMoLiopKT8kLyxcbiAgICBERUZBVUxUX1BPUlRTID0geydodHRwJzogODAsICdodHRwcyc6IDQ0MywgJ2Z0cCc6IDIxfTtcbnZhciAkbG9jYXRpb25NaW5FcnIgPSBtaW5FcnIoJyRsb2NhdGlvbicpO1xuXG5cbi8qKlxuICogRW5jb2RlIHBhdGggdXNpbmcgZW5jb2RlVXJpU2VnbWVudCwgaWdub3JpbmcgZm9yd2FyZCBzbGFzaGVzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCB0byBlbmNvZGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVuY29kZVBhdGgocGF0aCkge1xuICB2YXIgc2VnbWVudHMgPSBwYXRoLnNwbGl0KCcvJyksXG4gICAgICBpID0gc2VnbWVudHMubGVuZ3RoO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICAvLyBkZWNvZGUgZm9yd2FyZCBzbGFzaGVzIHRvIHByZXZlbnQgdGhlbSBmcm9tIGJlaW5nIGRvdWJsZSBlbmNvZGVkXG4gICAgc2VnbWVudHNbaV0gPSBlbmNvZGVVcmlTZWdtZW50KHNlZ21lbnRzW2ldLnJlcGxhY2UoLyUyRi9nLCAnLycpKTtcbiAgfVxuXG4gIHJldHVybiBzZWdtZW50cy5qb2luKCcvJyk7XG59XG5cbmZ1bmN0aW9uIGRlY29kZVBhdGgocGF0aCwgaHRtbDVNb2RlKSB7XG4gIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy8nKSxcbiAgICAgIGkgPSBzZWdtZW50cy5sZW5ndGg7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHNlZ21lbnRzW2ldID0gZGVjb2RlVVJJQ29tcG9uZW50KHNlZ21lbnRzW2ldKTtcbiAgICBpZiAoaHRtbDVNb2RlKSB7XG4gICAgICAvLyBlbmNvZGUgZm9yd2FyZCBzbGFzaGVzIHRvIHByZXZlbnQgdGhlbSBmcm9tIGJlaW5nIG1pc3Rha2VuIGZvciBwYXRoIHNlcGFyYXRvcnNcbiAgICAgIHNlZ21lbnRzW2ldID0gc2VnbWVudHNbaV0ucmVwbGFjZSgvXFwvL2csICclMkYnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc2VnbWVudHMuam9pbignLycpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVQYXRoKHBhdGhWYWx1ZSwgc2VhcmNoVmFsdWUsIGhhc2hWYWx1ZSkge1xuICB2YXIgc2VhcmNoID0gdG9LZXlWYWx1ZShzZWFyY2hWYWx1ZSksXG4gICAgaGFzaCA9IGhhc2hWYWx1ZSA/ICcjJyArIGVuY29kZVVyaVNlZ21lbnQoaGFzaFZhbHVlKSA6ICcnLFxuICAgIHBhdGggPSBlbmNvZGVQYXRoKHBhdGhWYWx1ZSk7XG5cbiAgcmV0dXJuIHBhdGggKyAoc2VhcmNoID8gJz8nICsgc2VhcmNoIDogJycpICsgaGFzaDtcbn1cblxuZnVuY3Rpb24gcGFyc2VBYnNvbHV0ZVVybChhYnNvbHV0ZVVybCwgbG9jYXRpb25PYmopIHtcbiAgdmFyIHBhcnNlZFVybCA9IHVybFJlc29sdmUoYWJzb2x1dGVVcmwpO1xuXG4gIGxvY2F0aW9uT2JqLiQkcHJvdG9jb2wgPSBwYXJzZWRVcmwucHJvdG9jb2w7XG4gIGxvY2F0aW9uT2JqLiQkaG9zdCA9IHBhcnNlZFVybC5ob3N0bmFtZTtcbiAgbG9jYXRpb25PYmouJCRwb3J0ID0gdG9JbnQocGFyc2VkVXJsLnBvcnQpIHx8IERFRkFVTFRfUE9SVFNbcGFyc2VkVXJsLnByb3RvY29sXSB8fCBudWxsO1xufVxuXG52YXIgRE9VQkxFX1NMQVNIX1JFR0VYID0gL15cXHMqW1xcXFwvXXsyLH0vO1xuZnVuY3Rpb24gcGFyc2VBcHBVcmwodXJsLCBsb2NhdGlvbk9iaiwgaHRtbDVNb2RlKSB7XG5cbiAgaWYgKERPVUJMRV9TTEFTSF9SRUdFWC50ZXN0KHVybCkpIHtcbiAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ2JhZHBhdGgnLCAnSW52YWxpZCB1cmwgXCJ7MH1cIi4nLCB1cmwpO1xuICB9XG5cbiAgdmFyIHByZWZpeGVkID0gKHVybC5jaGFyQXQoMCkgIT09ICcvJyk7XG4gIGlmIChwcmVmaXhlZCkge1xuICAgIHVybCA9ICcvJyArIHVybDtcbiAgfVxuICB2YXIgbWF0Y2ggPSB1cmxSZXNvbHZlKHVybCk7XG4gIHZhciBwYXRoID0gcHJlZml4ZWQgJiYgbWF0Y2gucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycgPyBtYXRjaC5wYXRobmFtZS5zdWJzdHJpbmcoMSkgOiBtYXRjaC5wYXRobmFtZTtcbiAgbG9jYXRpb25PYmouJCRwYXRoID0gZGVjb2RlUGF0aChwYXRoLCBodG1sNU1vZGUpO1xuICBsb2NhdGlvbk9iai4kJHNlYXJjaCA9IHBhcnNlS2V5VmFsdWUobWF0Y2guc2VhcmNoKTtcbiAgbG9jYXRpb25PYmouJCRoYXNoID0gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoLmhhc2gpO1xuXG4gIC8vIG1ha2Ugc3VyZSBwYXRoIHN0YXJ0cyB3aXRoICcvJztcbiAgaWYgKGxvY2F0aW9uT2JqLiQkcGF0aCAmJiBsb2NhdGlvbk9iai4kJHBhdGguY2hhckF0KDApICE9PSAnLycpIHtcbiAgICBsb2NhdGlvbk9iai4kJHBhdGggPSAnLycgKyBsb2NhdGlvbk9iai4kJHBhdGg7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRzV2l0aChzdHIsIHNlYXJjaCkge1xuICByZXR1cm4gc3RyLnNsaWNlKDAsIHNlYXJjaC5sZW5ndGgpID09PSBzZWFyY2g7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcmV0dXJucyB7c3RyaW5nfSByZXR1cm5zIHRleHQgZnJvbSBgdXJsYCBhZnRlciBgYmFzZWAgb3IgYHVuZGVmaW5lZGAgaWYgaXQgZG9lcyBub3QgYmVnaW4gd2l0aFxuICogICAgICAgICAgICAgICAgICAgdGhlIGV4cGVjdGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gc3RyaXBCYXNlVXJsKGJhc2UsIHVybCkge1xuICBpZiAoc3RhcnRzV2l0aCh1cmwsIGJhc2UpKSB7XG4gICAgcmV0dXJuIHVybC5zdWJzdHIoYmFzZS5sZW5ndGgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0cmlwSGFzaCh1cmwpIHtcbiAgdmFyIGluZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgcmV0dXJuIGluZGV4ID09PSAtMSA/IHVybCA6IHVybC5zdWJzdHIoMCwgaW5kZXgpO1xufVxuXG5mdW5jdGlvbiBzdHJpcEZpbGUodXJsKSB7XG4gIHJldHVybiB1cmwuc3Vic3RyKDAsIHN0cmlwSGFzaCh1cmwpLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbn1cblxuLyogcmV0dXJuIHRoZSBzZXJ2ZXIgb25seSAoc2NoZW1lOi8vaG9zdDpwb3J0KSAqL1xuZnVuY3Rpb24gc2VydmVyQmFzZSh1cmwpIHtcbiAgcmV0dXJuIHVybC5zdWJzdHJpbmcoMCwgdXJsLmluZGV4T2YoJy8nLCB1cmwuaW5kZXhPZignLy8nKSArIDIpKTtcbn1cblxuXG4vKipcbiAqIExvY2F0aW9uSHRtbDVVcmwgcmVwcmVzZW50cyBhIFVSTFxuICogVGhpcyBvYmplY3QgaXMgZXhwb3NlZCBhcyAkbG9jYXRpb24gc2VydmljZSB3aGVuIEhUTUw1IG1vZGUgaXMgZW5hYmxlZCBhbmQgc3VwcG9ydGVkXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZSBhcHBsaWNhdGlvbiBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2VOb0ZpbGUgYXBwbGljYXRpb24gYmFzZSBVUkwgc3RyaXBwZWQgb2YgYW55IGZpbGVuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVByZWZpeCBVUkwgcGF0aCBwcmVmaXhcbiAqL1xuZnVuY3Rpb24gTG9jYXRpb25IdG1sNVVybChhcHBCYXNlLCBhcHBCYXNlTm9GaWxlLCBiYXNlUHJlZml4KSB7XG4gIHRoaXMuJCRodG1sNSA9IHRydWU7XG4gIGJhc2VQcmVmaXggPSBiYXNlUHJlZml4IHx8ICcnO1xuICBwYXJzZUFic29sdXRlVXJsKGFwcEJhc2UsIHRoaXMpO1xuXG5cbiAgLyoqXG4gICAqIFBhcnNlIGdpdmVuIEhUTUw1IChyZWd1bGFyKSBVUkwgc3RyaW5nIGludG8gcHJvcGVydGllc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIEhUTUw1IFVSTFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy4kJHBhcnNlID0gZnVuY3Rpb24odXJsKSB7XG4gICAgdmFyIHBhdGhVcmwgPSBzdHJpcEJhc2VVcmwoYXBwQmFzZU5vRmlsZSwgdXJsKTtcbiAgICBpZiAoIWlzU3RyaW5nKHBhdGhVcmwpKSB7XG4gICAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ2lwdGhwcmZ4JywgJ0ludmFsaWQgdXJsIFwiezB9XCIsIG1pc3NpbmcgcGF0aCBwcmVmaXggXCJ7MX1cIi4nLCB1cmwsXG4gICAgICAgICAgYXBwQmFzZU5vRmlsZSk7XG4gICAgfVxuXG4gICAgcGFyc2VBcHBVcmwocGF0aFVybCwgdGhpcywgdHJ1ZSk7XG5cbiAgICBpZiAoIXRoaXMuJCRwYXRoKSB7XG4gICAgICB0aGlzLiQkcGF0aCA9ICcvJztcbiAgICB9XG5cbiAgICB0aGlzLiQkY29tcG9zZSgpO1xuICB9O1xuXG4gIHRoaXMuJCRub3JtYWxpemVVcmwgPSBmdW5jdGlvbih1cmwpIHtcbiAgICByZXR1cm4gYXBwQmFzZU5vRmlsZSArIHVybC5zdWJzdHIoMSk7IC8vIGZpcnN0IGNoYXIgaXMgYWx3YXlzICcvJ1xuICB9O1xuXG4gIHRoaXMuJCRwYXJzZUxpbmtVcmwgPSBmdW5jdGlvbih1cmwsIHJlbEhyZWYpIHtcbiAgICBpZiAocmVsSHJlZiAmJiByZWxIcmVmWzBdID09PSAnIycpIHtcbiAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgbGlua3MgdG8gaGFzaCBmcmFnbWVudHM6XG4gICAgICAvLyBrZWVwIHRoZSBvbGQgdXJsIGFuZCBvbmx5IHJlcGxhY2UgdGhlIGhhc2ggZnJhZ21lbnRcbiAgICAgIHRoaXMuaGFzaChyZWxIcmVmLnNsaWNlKDEpKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgYXBwVXJsLCBwcmV2QXBwVXJsO1xuICAgIHZhciByZXdyaXR0ZW5Vcmw7XG5cblxuICAgIGlmIChpc0RlZmluZWQoYXBwVXJsID0gc3RyaXBCYXNlVXJsKGFwcEJhc2UsIHVybCkpKSB7XG4gICAgICBwcmV2QXBwVXJsID0gYXBwVXJsO1xuICAgICAgaWYgKGJhc2VQcmVmaXggJiYgaXNEZWZpbmVkKGFwcFVybCA9IHN0cmlwQmFzZVVybChiYXNlUHJlZml4LCBhcHBVcmwpKSkge1xuICAgICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlICsgKHN0cmlwQmFzZVVybCgnLycsIGFwcFVybCkgfHwgYXBwVXJsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2UgKyBwcmV2QXBwVXJsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNEZWZpbmVkKGFwcFVybCA9IHN0cmlwQmFzZVVybChhcHBCYXNlTm9GaWxlLCB1cmwpKSkge1xuICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZU5vRmlsZSArIGFwcFVybDtcbiAgICB9IGVsc2UgaWYgKGFwcEJhc2VOb0ZpbGUgPT09IHVybCArICcvJykge1xuICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZU5vRmlsZTtcbiAgICB9XG4gICAgaWYgKHJld3JpdHRlblVybCkge1xuICAgICAgdGhpcy4kJHBhcnNlKHJld3JpdHRlblVybCk7XG4gICAgfVxuICAgIHJldHVybiAhIXJld3JpdHRlblVybDtcbiAgfTtcbn1cblxuXG4vKipcbiAqIExvY2F0aW9uSGFzaGJhbmdVcmwgcmVwcmVzZW50cyBVUkxcbiAqIFRoaXMgb2JqZWN0IGlzIGV4cG9zZWQgYXMgJGxvY2F0aW9uIHNlcnZpY2Ugd2hlbiBkZXZlbG9wZXIgZG9lc24ndCBvcHQgaW50byBodG1sNSBtb2RlLlxuICogSXQgYWxzbyBzZXJ2ZXMgYXMgdGhlIGJhc2UgY2xhc3MgZm9yIGh0bWw1IG1vZGUgZmFsbGJhY2sgb24gbGVnYWN5IGJyb3dzZXJzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2UgYXBwbGljYXRpb24gYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlTm9GaWxlIGFwcGxpY2F0aW9uIGJhc2UgVVJMIHN0cmlwcGVkIG9mIGFueSBmaWxlbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IGhhc2hQcmVmaXggaGFzaGJhbmcgcHJlZml4XG4gKi9cbmZ1bmN0aW9uIExvY2F0aW9uSGFzaGJhbmdVcmwoYXBwQmFzZSwgYXBwQmFzZU5vRmlsZSwgaGFzaFByZWZpeCkge1xuXG4gIHBhcnNlQWJzb2x1dGVVcmwoYXBwQmFzZSwgdGhpcyk7XG5cblxuICAvKipcbiAgICogUGFyc2UgZ2l2ZW4gaGFzaGJhbmcgVVJMIGludG8gcHJvcGVydGllc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIEhhc2hiYW5nIFVSTFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy4kJHBhcnNlID0gZnVuY3Rpb24odXJsKSB7XG4gICAgdmFyIHdpdGhvdXRCYXNlVXJsID0gc3RyaXBCYXNlVXJsKGFwcEJhc2UsIHVybCkgfHwgc3RyaXBCYXNlVXJsKGFwcEJhc2VOb0ZpbGUsIHVybCk7XG4gICAgdmFyIHdpdGhvdXRIYXNoVXJsO1xuXG4gICAgaWYgKCFpc1VuZGVmaW5lZCh3aXRob3V0QmFzZVVybCkgJiYgd2l0aG91dEJhc2VVcmwuY2hhckF0KDApID09PSAnIycpIHtcblxuICAgICAgLy8gVGhlIHJlc3Qgb2YgdGhlIFVSTCBzdGFydHMgd2l0aCBhIGhhc2ggc28gd2UgaGF2ZVxuICAgICAgLy8gZ290IGVpdGhlciBhIGhhc2hiYW5nIHBhdGggb3IgYSBwbGFpbiBoYXNoIGZyYWdtZW50XG4gICAgICB3aXRob3V0SGFzaFVybCA9IHN0cmlwQmFzZVVybChoYXNoUHJlZml4LCB3aXRob3V0QmFzZVVybCk7XG4gICAgICBpZiAoaXNVbmRlZmluZWQod2l0aG91dEhhc2hVcmwpKSB7XG4gICAgICAgIC8vIFRoZXJlIHdhcyBubyBoYXNoYmFuZyBwcmVmaXggc28gd2UganVzdCBoYXZlIGEgaGFzaCBmcmFnbWVudFxuICAgICAgICB3aXRob3V0SGFzaFVybCA9IHdpdGhvdXRCYXNlVXJsO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZXJlIHdhcyBubyBoYXNoYmFuZyBwYXRoIG5vciBoYXNoIGZyYWdtZW50OlxuICAgICAgLy8gSWYgd2UgYXJlIGluIEhUTUw1IG1vZGUgd2UgdXNlIHdoYXQgaXMgbGVmdCBhcyB0aGUgcGF0aDtcbiAgICAgIC8vIE90aGVyd2lzZSB3ZSBpZ25vcmUgd2hhdCBpcyBsZWZ0XG4gICAgICBpZiAodGhpcy4kJGh0bWw1KSB7XG4gICAgICAgIHdpdGhvdXRIYXNoVXJsID0gd2l0aG91dEJhc2VVcmw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aXRob3V0SGFzaFVybCA9ICcnO1xuICAgICAgICBpZiAoaXNVbmRlZmluZWQod2l0aG91dEJhc2VVcmwpKSB7XG4gICAgICAgICAgYXBwQmFzZSA9IHVybDtcbiAgICAgICAgICAvKiogQHR5cGUgez99ICovICh0aGlzKS5yZXBsYWNlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBwYXJzZUFwcFVybCh3aXRob3V0SGFzaFVybCwgdGhpcywgZmFsc2UpO1xuXG4gICAgdGhpcy4kJHBhdGggPSByZW1vdmVXaW5kb3dzRHJpdmVOYW1lKHRoaXMuJCRwYXRoLCB3aXRob3V0SGFzaFVybCwgYXBwQmFzZSk7XG5cbiAgICB0aGlzLiQkY29tcG9zZSgpO1xuXG4gICAgLypcbiAgICAgKiBJbiBXaW5kb3dzLCBvbiBhbiBhbmNob3Igbm9kZSBvbiBkb2N1bWVudHMgbG9hZGVkIGZyb21cbiAgICAgKiB0aGUgZmlsZXN5c3RlbSwgdGhlIGJyb3dzZXIgd2lsbCByZXR1cm4gYSBwYXRobmFtZVxuICAgICAqIHByZWZpeGVkIHdpdGggdGhlIGRyaXZlIG5hbWUgKCcvQzovcGF0aCcpIHdoZW4gYVxuICAgICAqIHBhdGhuYW1lIHdpdGhvdXQgYSBkcml2ZSBpcyBzZXQ6XG4gICAgICogICogYS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnL2ZvbycpXG4gICAgICogICAqIGEucGF0aG5hbWUgPT09ICcvQzovZm9vJyAvL3RydWVcbiAgICAgKlxuICAgICAqIEluc2lkZSBvZiBBbmd1bGFySlMsIHdlJ3JlIGFsd2F5cyB1c2luZyBwYXRobmFtZXMgdGhhdFxuICAgICAqIGRvIG5vdCBpbmNsdWRlIGRyaXZlIG5hbWVzIGZvciByb3V0aW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZVdpbmRvd3NEcml2ZU5hbWUocGF0aCwgdXJsLCBiYXNlKSB7XG4gICAgICAvKlxuICAgICAgTWF0Y2hlcyBwYXRocyBmb3IgZmlsZSBwcm90b2NvbCBvbiB3aW5kb3dzLFxuICAgICAgc3VjaCBhcyAvQzovZm9vL2JhciwgYW5kIGNhcHR1cmVzIG9ubHkgL2Zvby9iYXIuXG4gICAgICAqL1xuICAgICAgdmFyIHdpbmRvd3NGaWxlUGF0aEV4cCA9IC9eXFwvW0EtWl06KFxcLy4qKS87XG5cbiAgICAgIHZhciBmaXJzdFBhdGhTZWdtZW50TWF0Y2g7XG5cbiAgICAgIC8vR2V0IHRoZSByZWxhdGl2ZSBwYXRoIGZyb20gdGhlIGlucHV0IFVSTC5cbiAgICAgIGlmIChzdGFydHNXaXRoKHVybCwgYmFzZSkpIHtcbiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoYmFzZSwgJycpO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgaW5wdXQgVVJMIGludGVudGlvbmFsbHkgY29udGFpbnMgYSBmaXJzdCBwYXRoIHNlZ21lbnQgdGhhdCBlbmRzIHdpdGggYSBjb2xvbi5cbiAgICAgIGlmICh3aW5kb3dzRmlsZVBhdGhFeHAuZXhlYyh1cmwpKSB7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfVxuXG4gICAgICBmaXJzdFBhdGhTZWdtZW50TWF0Y2ggPSB3aW5kb3dzRmlsZVBhdGhFeHAuZXhlYyhwYXRoKTtcbiAgICAgIHJldHVybiBmaXJzdFBhdGhTZWdtZW50TWF0Y2ggPyBmaXJzdFBhdGhTZWdtZW50TWF0Y2hbMV0gOiBwYXRoO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLiQkbm9ybWFsaXplVXJsID0gZnVuY3Rpb24odXJsKSB7XG4gICAgcmV0dXJuIGFwcEJhc2UgKyAodXJsID8gaGFzaFByZWZpeCArIHVybCA6ICcnKTtcbiAgfTtcblxuICB0aGlzLiQkcGFyc2VMaW5rVXJsID0gZnVuY3Rpb24odXJsLCByZWxIcmVmKSB7XG4gICAgaWYgKHN0cmlwSGFzaChhcHBCYXNlKSA9PT0gc3RyaXBIYXNoKHVybCkpIHtcbiAgICAgIHRoaXMuJCRwYXJzZSh1cmwpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn1cblxuXG4vKipcbiAqIExvY2F0aW9uSGFzaGJhbmdVcmwgcmVwcmVzZW50cyBVUkxcbiAqIFRoaXMgb2JqZWN0IGlzIGV4cG9zZWQgYXMgJGxvY2F0aW9uIHNlcnZpY2Ugd2hlbiBodG1sNSBoaXN0b3J5IGFwaSBpcyBlbmFibGVkIGJ1dCB0aGUgYnJvd3NlclxuICogZG9lcyBub3Qgc3VwcG9ydCBpdC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlIGFwcGxpY2F0aW9uIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZU5vRmlsZSBhcHBsaWNhdGlvbiBiYXNlIFVSTCBzdHJpcHBlZCBvZiBhbnkgZmlsZW5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoUHJlZml4IGhhc2hiYW5nIHByZWZpeFxuICovXG5mdW5jdGlvbiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybChhcHBCYXNlLCBhcHBCYXNlTm9GaWxlLCBoYXNoUHJlZml4KSB7XG4gIHRoaXMuJCRodG1sNSA9IHRydWU7XG4gIExvY2F0aW9uSGFzaGJhbmdVcmwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICB0aGlzLiQkcGFyc2VMaW5rVXJsID0gZnVuY3Rpb24odXJsLCByZWxIcmVmKSB7XG4gICAgaWYgKHJlbEhyZWYgJiYgcmVsSHJlZlswXSA9PT0gJyMnKSB7XG4gICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIGxpbmtzIHRvIGhhc2ggZnJhZ21lbnRzOlxuICAgICAgLy8ga2VlcCB0aGUgb2xkIHVybCBhbmQgb25seSByZXBsYWNlIHRoZSBoYXNoIGZyYWdtZW50XG4gICAgICB0aGlzLmhhc2gocmVsSHJlZi5zbGljZSgxKSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgcmV3cml0dGVuVXJsO1xuICAgIHZhciBhcHBVcmw7XG5cbiAgICBpZiAoYXBwQmFzZSA9PT0gc3RyaXBIYXNoKHVybCkpIHtcbiAgICAgIHJld3JpdHRlblVybCA9IHVybDtcbiAgICB9IGVsc2UgaWYgKChhcHBVcmwgPSBzdHJpcEJhc2VVcmwoYXBwQmFzZU5vRmlsZSwgdXJsKSkpIHtcbiAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2UgKyBoYXNoUHJlZml4ICsgYXBwVXJsO1xuICAgIH0gZWxzZSBpZiAoYXBwQmFzZU5vRmlsZSA9PT0gdXJsICsgJy8nKSB7XG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlO1xuICAgIH1cbiAgICBpZiAocmV3cml0dGVuVXJsKSB7XG4gICAgICB0aGlzLiQkcGFyc2UocmV3cml0dGVuVXJsKTtcbiAgICB9XG4gICAgcmV0dXJuICEhcmV3cml0dGVuVXJsO1xuICB9O1xuXG4gIHRoaXMuJCRub3JtYWxpemVVcmwgPSBmdW5jdGlvbih1cmwpIHtcbiAgICAvLyBpbmNsdWRlIGhhc2hQcmVmaXggaW4gJCRhYnNVcmwgd2hlbiAkJHVybCBpcyBlbXB0eSBzbyBJRTkgZG9lcyBub3QgcmVsb2FkIHBhZ2UgYmVjYXVzZSBvZiByZW1vdmFsIG9mICcjJ1xuICAgIHJldHVybiBhcHBCYXNlICsgaGFzaFByZWZpeCArIHVybDtcbiAgfTtcbn1cblxuXG52YXIgbG9jYXRpb25Qcm90b3R5cGUgPSB7XG5cbiAgLyoqXG4gICAqIEVuc3VyZSBhYnNvbHV0ZSBVUkwgaXMgaW5pdGlhbGl6ZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICAkJGFic1VybDonJyxcblxuICAvKipcbiAgICogQXJlIHdlIGluIGh0bWw1IG1vZGU/XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICAkJGh0bWw1OiBmYWxzZSxcblxuICAvKipcbiAgICogSGFzIGFueSBjaGFuZ2UgYmVlbiByZXBsYWNpbmc/XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICAkJHJlcGxhY2U6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBDb21wb3NlIHVybCBhbmQgdXBkYXRlIGB1cmxgIGFuZCBgYWJzVXJsYCBwcm9wZXJ0eVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgJCRjb21wb3NlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiQkdXJsID0gbm9ybWFsaXplUGF0aCh0aGlzLiQkcGF0aCwgdGhpcy4kJHNlYXJjaCwgdGhpcy4kJGhhc2gpO1xuICAgIHRoaXMuJCRhYnNVcmwgPSB0aGlzLiQkbm9ybWFsaXplVXJsKHRoaXMuJCR1cmwpO1xuICAgIHRoaXMuJCR1cmxVcGRhdGVkQnlMb2NhdGlvbiA9IHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI2Fic1VybFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIG9ubHkuXG4gICAqXG4gICAqIFJldHVybiBmdWxsIFVSTCByZXByZXNlbnRhdGlvbiB3aXRoIGFsbCBzZWdtZW50cyBlbmNvZGVkIGFjY29yZGluZyB0byBydWxlcyBzcGVjaWZpZWQgaW5cbiAgICogW1JGQyAzOTg2XShodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmMzOTg2LnR4dCkuXG4gICAqXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGdpdmVuIFVSTCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiB2YXIgYWJzVXJsID0gJGxvY2F0aW9uLmFic1VybCgpO1xuICAgKiAvLyA9PiBcImh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXCJcbiAgICogYGBgXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gZnVsbCBVUkxcbiAgICovXG4gIGFic1VybDogbG9jYXRpb25HZXR0ZXIoJyQkYWJzVXJsJyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI3VybFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxuICAgKlxuICAgKiBSZXR1cm4gVVJMIChlLmcuIGAvcGF0aD9hPWIjaGFzaGApIHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cbiAgICpcbiAgICogQ2hhbmdlIHBhdGgsIHNlYXJjaCBhbmQgaGFzaCwgd2hlbiBjYWxsZWQgd2l0aCBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC5cbiAgICpcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXG4gICAqIHZhciB1cmwgPSAkbG9jYXRpb24udXJsKCk7XG4gICAqIC8vID0+IFwiL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXCJcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gdXJsIE5ldyBVUkwgd2l0aG91dCBiYXNlIHByZWZpeCAoZS5nLiBgL3BhdGg/YT1iI2hhc2hgKVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHVybFxuICAgKi9cbiAgdXJsOiBmdW5jdGlvbih1cmwpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQodXJsKSkge1xuICAgICAgcmV0dXJuIHRoaXMuJCR1cmw7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoID0gUEFUSF9NQVRDSC5leGVjKHVybCk7XG4gICAgaWYgKG1hdGNoWzFdIHx8IHVybCA9PT0gJycpIHRoaXMucGF0aChkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbMV0pKTtcbiAgICBpZiAobWF0Y2hbMl0gfHwgbWF0Y2hbMV0gfHwgdXJsID09PSAnJykgdGhpcy5zZWFyY2gobWF0Y2hbM10gfHwgJycpO1xuICAgIHRoaXMuaGFzaChtYXRjaFs1XSB8fCAnJyk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcHJvdG9jb2xcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LlxuICAgKlxuICAgKiBSZXR1cm4gcHJvdG9jb2wgb2YgY3VycmVudCBVUkwuXG4gICAqXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGdpdmVuIFVSTCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiB2YXIgcHJvdG9jb2wgPSAkbG9jYXRpb24ucHJvdG9jb2woKTtcbiAgICogLy8gPT4gXCJodHRwXCJcbiAgICogYGBgXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gcHJvdG9jb2wgb2YgY3VycmVudCBVUkxcbiAgICovXG4gIHByb3RvY29sOiBsb2NhdGlvbkdldHRlcignJCRwcm90b2NvbCcpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNob3N0XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cbiAgICpcbiAgICogUmV0dXJuIGhvc3Qgb2YgY3VycmVudCBVUkwuXG4gICAqXG4gICAqIE5vdGU6IGNvbXBhcmVkIHRvIHRoZSBub24tQW5ndWxhckpTIHZlcnNpb24gYGxvY2F0aW9uLmhvc3RgIHdoaWNoIHJldHVybnMgYGhvc3RuYW1lOnBvcnRgLCB0aGlzIHJldHVybnMgdGhlIGBob3N0bmFtZWAgcG9ydGlvbiBvbmx5LlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiBVUkwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIGhvc3QgPSAkbG9jYXRpb24uaG9zdCgpO1xuICAgKiAvLyA9PiBcImV4YW1wbGUuY29tXCJcbiAgICpcbiAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly91c2VyOnBhc3N3b3JkQGV4YW1wbGUuY29tOjgwODAvIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiBob3N0ID0gJGxvY2F0aW9uLmhvc3QoKTtcbiAgICogLy8gPT4gXCJleGFtcGxlLmNvbVwiXG4gICAqIGhvc3QgPSBsb2NhdGlvbi5ob3N0O1xuICAgKiAvLyA9PiBcImV4YW1wbGUuY29tOjgwODBcIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSBob3N0IG9mIGN1cnJlbnQgVVJMLlxuICAgKi9cbiAgaG9zdDogbG9jYXRpb25HZXR0ZXIoJyQkaG9zdCcpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNwb3J0XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cbiAgICpcbiAgICogUmV0dXJuIHBvcnQgb2YgY3VycmVudCBVUkwuXG4gICAqXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGdpdmVuIFVSTCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiB2YXIgcG9ydCA9ICRsb2NhdGlvbi5wb3J0KCk7XG4gICAqIC8vID0+IDgwXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHBvcnRcbiAgICovXG4gIHBvcnQ6IGxvY2F0aW9uR2V0dGVyKCckJHBvcnQnKSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcGF0aFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxuICAgKlxuICAgKiBSZXR1cm4gcGF0aCBvZiBjdXJyZW50IFVSTCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIENoYW5nZSBwYXRoIHdoZW4gY2FsbGVkIHdpdGggcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXG4gICAqXG4gICAqIE5vdGU6IFBhdGggc2hvdWxkIGFsd2F5cyBiZWdpbiB3aXRoIGZvcndhcmQgc2xhc2ggKC8pLCB0aGlzIG1ldGhvZCB3aWxsIGFkZCB0aGUgZm9yd2FyZCBzbGFzaFxuICAgKiBpZiBpdCBpcyBtaXNzaW5nLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiBVUkwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIHBhdGggPSAkbG9jYXRpb24ucGF0aCgpO1xuICAgKiAvLyA9PiBcIi9zb21lL3BhdGhcIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcik9fSBwYXRoIE5ldyBwYXRoXG4gICAqIEByZXR1cm4geyhzdHJpbmd8b2JqZWN0KX0gcGF0aCBpZiBjYWxsZWQgd2l0aCBubyBwYXJhbWV0ZXJzLCBvciBgJGxvY2F0aW9uYCBpZiBjYWxsZWQgd2l0aCBhIHBhcmFtZXRlclxuICAgKi9cbiAgcGF0aDogbG9jYXRpb25HZXR0ZXJTZXR0ZXIoJyQkcGF0aCcsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICBwYXRoID0gcGF0aCAhPT0gbnVsbCA/IHBhdGgudG9TdHJpbmcoKSA6ICcnO1xuICAgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aCA6ICcvJyArIHBhdGg7XG4gIH0pLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNzZWFyY2hcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cbiAgICpcbiAgICogUmV0dXJuIHNlYXJjaCBwYXJ0IChhcyBvYmplY3QpIG9mIGN1cnJlbnQgVVJMIHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cbiAgICpcbiAgICogQ2hhbmdlIHNlYXJjaCBwYXJ0IHdoZW4gY2FsbGVkIHdpdGggcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXG4gICAqXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGdpdmVuIFVSTCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiB2YXIgc2VhcmNoT2JqZWN0ID0gJGxvY2F0aW9uLnNlYXJjaCgpO1xuICAgKiAvLyA9PiB7Zm9vOiAnYmFyJywgYmF6OiAneG94byd9XG4gICAqXG4gICAqIC8vIHNldCBmb28gdG8gJ3lpcGVlJ1xuICAgKiAkbG9jYXRpb24uc2VhcmNoKCdmb28nLCAneWlwZWUnKTtcbiAgICogLy8gJGxvY2F0aW9uLnNlYXJjaCgpID0+IHtmb286ICd5aXBlZScsIGJhejogJ3hveG8nfVxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0LjxzdHJpbmc+fE9iamVjdC48QXJyYXkuPHN0cmluZz4+fSBzZWFyY2ggTmV3IHNlYXJjaCBwYXJhbXMgLSBzdHJpbmcgb3JcbiAgICogaGFzaCBvYmplY3QuXG4gICAqXG4gICAqIFdoZW4gY2FsbGVkIHdpdGggYSBzaW5nbGUgYXJndW1lbnQgdGhlIG1ldGhvZCBhY3RzIGFzIGEgc2V0dGVyLCBzZXR0aW5nIHRoZSBgc2VhcmNoYCBjb21wb25lbnRcbiAgICogb2YgYCRsb2NhdGlvbmAgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZS5cbiAgICpcbiAgICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgaGFzaCBvYmplY3QgY29udGFpbmluZyBhbiBhcnJheSBvZiB2YWx1ZXMsIHRoZXNlIHZhbHVlcyB3aWxsIGJlIGVuY29kZWRcbiAgICogYXMgZHVwbGljYXRlIHNlYXJjaCBwYXJhbWV0ZXJzIGluIHRoZSBVUkwuXG4gICAqXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xOdW1iZXJ8QXJyYXk8c3RyaW5nPnxib29sZWFuKT19IHBhcmFtVmFsdWUgSWYgYHNlYXJjaGAgaXMgYSBzdHJpbmcgb3IgbnVtYmVyLCB0aGVuIGBwYXJhbVZhbHVlYFxuICAgKiB3aWxsIG92ZXJyaWRlIG9ubHkgYSBzaW5nbGUgc2VhcmNoIHByb3BlcnR5LlxuICAgKlxuICAgKiBJZiBgcGFyYW1WYWx1ZWAgaXMgYW4gYXJyYXksIGl0IHdpbGwgb3ZlcnJpZGUgdGhlIHByb3BlcnR5IG9mIHRoZSBgc2VhcmNoYCBjb21wb25lbnQgb2ZcbiAgICogYCRsb2NhdGlvbmAgc3BlY2lmaWVkIHZpYSB0aGUgZmlyc3QgYXJndW1lbnQuXG4gICAqXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBgbnVsbGAsIHRoZSBwcm9wZXJ0eSBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGJlIGRlbGV0ZWQuXG4gICAqXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBgdHJ1ZWAsIHRoZSBwcm9wZXJ0eSBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGJlIGFkZGVkIHdpdGggbm9cbiAgICogdmFsdWUgbm9yIHRyYWlsaW5nIGVxdWFsIHNpZ24uXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH0gSWYgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzIHJldHVybnMgdGhlIHBhcnNlZCBgc2VhcmNoYCBvYmplY3QuIElmIGNhbGxlZCB3aXRoXG4gICAqIG9uZSBvciBtb3JlIGFyZ3VtZW50cyByZXR1cm5zIGAkbG9jYXRpb25gIG9iamVjdCBpdHNlbGYuXG4gICAqL1xuICBzZWFyY2g6IGZ1bmN0aW9uKHNlYXJjaCwgcGFyYW1WYWx1ZSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gdGhpcy4kJHNlYXJjaDtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaWYgKGlzU3RyaW5nKHNlYXJjaCkgfHwgaXNOdW1iZXIoc2VhcmNoKSkge1xuICAgICAgICAgIHNlYXJjaCA9IHNlYXJjaC50b1N0cmluZygpO1xuICAgICAgICAgIHRoaXMuJCRzZWFyY2ggPSBwYXJzZUtleVZhbHVlKHNlYXJjaCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qoc2VhcmNoKSkge1xuICAgICAgICAgIHNlYXJjaCA9IGNvcHkoc2VhcmNoLCB7fSk7XG4gICAgICAgICAgLy8gcmVtb3ZlIG9iamVjdCB1bmRlZmluZWQgb3IgbnVsbCBwcm9wZXJ0aWVzXG4gICAgICAgICAgZm9yRWFjaChzZWFyY2gsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSBkZWxldGUgc2VhcmNoW2tleV07XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB0aGlzLiQkc2VhcmNoID0gc2VhcmNoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignaXNyY2hhcmcnLFxuICAgICAgICAgICAgICAnVGhlIGZpcnN0IGFyZ3VtZW50IG9mIHRoZSBgJGxvY2F0aW9uI3NlYXJjaCgpYCBjYWxsIG11c3QgYmUgYSBzdHJpbmcgb3IgYW4gb2JqZWN0LicpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHBhcmFtVmFsdWUpIHx8IHBhcmFtVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy4kJHNlYXJjaFtzZWFyY2hdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuJCRzZWFyY2hbc2VhcmNoXSA9IHBhcmFtVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLiQkY29tcG9zZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNoYXNoXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXG4gICAqXG4gICAqIFJldHVybnMgdGhlIGhhc2ggZnJhZ21lbnQgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVycy5cbiAgICpcbiAgICogQ2hhbmdlcyB0aGUgaGFzaCBmcmFnbWVudCB3aGVuIGNhbGxlZCB3aXRoIGEgcGFyYW1ldGVyIGFuZCByZXR1cm5zIGAkbG9jYXRpb25gLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiBVUkwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG8jaGFzaFZhbHVlXG4gICAqIHZhciBoYXNoID0gJGxvY2F0aW9uLmhhc2goKTtcbiAgICogLy8gPT4gXCJoYXNoVmFsdWVcIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcik9fSBoYXNoIE5ldyBoYXNoIGZyYWdtZW50XG4gICAqIEByZXR1cm4ge3N0cmluZ30gaGFzaFxuICAgKi9cbiAgaGFzaDogbG9jYXRpb25HZXR0ZXJTZXR0ZXIoJyQkaGFzaCcsIGZ1bmN0aW9uKGhhc2gpIHtcbiAgICByZXR1cm4gaGFzaCAhPT0gbnVsbCA/IGhhc2gudG9TdHJpbmcoKSA6ICcnO1xuICB9KSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcmVwbGFjZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSWYgY2FsbGVkLCBhbGwgY2hhbmdlcyB0byAkbG9jYXRpb24gZHVyaW5nIHRoZSBjdXJyZW50IGAkZGlnZXN0YCB3aWxsIHJlcGxhY2UgdGhlIGN1cnJlbnQgaGlzdG9yeVxuICAgKiByZWNvcmQsIGluc3RlYWQgb2YgYWRkaW5nIGEgbmV3IG9uZS5cbiAgICovXG4gIHJlcGxhY2U6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJCRyZXBsYWNlID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxuZm9yRWFjaChbTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwsIExvY2F0aW9uSGFzaGJhbmdVcmwsIExvY2F0aW9uSHRtbDVVcmxdLCBmdW5jdGlvbihMb2NhdGlvbikge1xuICBMb2NhdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGxvY2F0aW9uUHJvdG90eXBlKTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jc3RhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cbiAgICpcbiAgICogUmV0dXJuIHRoZSBoaXN0b3J5IHN0YXRlIG9iamVjdCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIENoYW5nZSB0aGUgaGlzdG9yeSBzdGF0ZSBvYmplY3Qgd2hlbiBjYWxsZWQgd2l0aCBvbmUgcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXG4gICAqIFRoZSBzdGF0ZSBvYmplY3QgaXMgbGF0ZXIgcGFzc2VkIHRvIGBwdXNoU3RhdGVgIG9yIGByZXBsYWNlU3RhdGVgLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIG1ldGhvZCBpcyBzdXBwb3J0ZWQgb25seSBpbiBIVE1MNSBtb2RlIGFuZCBvbmx5IGluIGJyb3dzZXJzIHN1cHBvcnRpbmdcbiAgICogdGhlIEhUTUw1IEhpc3RvcnkgQVBJIChpLmUuIG1ldGhvZHMgYHB1c2hTdGF0ZWAgYW5kIGByZXBsYWNlU3RhdGVgKS4gSWYgeW91IG5lZWQgdG8gc3VwcG9ydFxuICAgKiBvbGRlciBicm93c2VycyAobGlrZSBJRTkgb3IgQW5kcm9pZCA8IDQuMCksIGRvbid0IHVzZSB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBzdGF0ZSBTdGF0ZSBvYmplY3QgZm9yIHB1c2hTdGF0ZSBvciByZXBsYWNlU3RhdGVcbiAgICogQHJldHVybiB7b2JqZWN0fSBzdGF0ZVxuICAgKi9cbiAgTG9jYXRpb24ucHJvdG90eXBlLnN0YXRlID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLiQkc3RhdGU7XG4gICAgfVxuXG4gICAgaWYgKExvY2F0aW9uICE9PSBMb2NhdGlvbkh0bWw1VXJsIHx8ICF0aGlzLiQkaHRtbDUpIHtcbiAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignbm9zdGF0ZScsICdIaXN0b3J5IEFQSSBzdGF0ZSBzdXBwb3J0IGlzIGF2YWlsYWJsZSBvbmx5ICcgK1xuICAgICAgICAnaW4gSFRNTDUgbW9kZSBhbmQgb25seSBpbiBicm93c2VycyBzdXBwb3J0aW5nIEhUTUw1IEhpc3RvcnkgQVBJJyk7XG4gICAgfVxuICAgIC8vIFRoZSB1c2VyIG1pZ2h0IG1vZGlmeSBgc3RhdGVPYmplY3RgIGFmdGVyIGludm9raW5nIGAkbG9jYXRpb24uc3RhdGUoc3RhdGVPYmplY3QpYFxuICAgIC8vIGJ1dCB3ZSdyZSBjaGFuZ2luZyB0aGUgJCRzdGF0ZSByZWZlcmVuY2UgdG8gJGJyb3dzZXIuc3RhdGUoKSBkdXJpbmcgdGhlICRkaWdlc3RcbiAgICAvLyBzbyB0aGUgbW9kaWZpY2F0aW9uIHdpbmRvdyBpcyBuYXJyb3cuXG4gICAgdGhpcy4kJHN0YXRlID0gaXNVbmRlZmluZWQoc3RhdGUpID8gbnVsbCA6IHN0YXRlO1xuICAgIHRoaXMuJCR1cmxVcGRhdGVkQnlMb2NhdGlvbiA9IHRydWU7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbn0pO1xuXG5cbmZ1bmN0aW9uIGxvY2F0aW9uR2V0dGVyKHByb3BlcnR5KSB7XG4gIHJldHVybiAvKiogQHRoaXMgKi8gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXNbcHJvcGVydHldO1xuICB9O1xufVxuXG5cbmZ1bmN0aW9uIGxvY2F0aW9uR2V0dGVyU2V0dGVyKHByb3BlcnR5LCBwcmVwcm9jZXNzKSB7XG4gIHJldHVybiAvKiogQHRoaXMgKi8gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdGhpc1twcm9wZXJ0eV07XG4gICAgfVxuXG4gICAgdGhpc1twcm9wZXJ0eV0gPSBwcmVwcm9jZXNzKHZhbHVlKTtcbiAgICB0aGlzLiQkY29tcG9zZSgpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG59XG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGxvY2F0aW9uXG4gKlxuICogQHJlcXVpcmVzICRyb290RWxlbWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlICRsb2NhdGlvbiBzZXJ2aWNlIHBhcnNlcyB0aGUgVVJMIGluIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyIChiYXNlZCBvbiB0aGVcbiAqIFt3aW5kb3cubG9jYXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL3dpbmRvdy5sb2NhdGlvbikpIGFuZCBtYWtlcyB0aGUgVVJMXG4gKiBhdmFpbGFibGUgdG8geW91ciBhcHBsaWNhdGlvbi4gQ2hhbmdlcyB0byB0aGUgVVJMIGluIHRoZSBhZGRyZXNzIGJhciBhcmUgcmVmbGVjdGVkIGludG9cbiAqICRsb2NhdGlvbiBzZXJ2aWNlIGFuZCBjaGFuZ2VzIHRvICRsb2NhdGlvbiBhcmUgcmVmbGVjdGVkIGludG8gdGhlIGJyb3dzZXIgYWRkcmVzcyBiYXIuXG4gKlxuICogKipUaGUgJGxvY2F0aW9uIHNlcnZpY2U6KipcbiAqXG4gKiAtIEV4cG9zZXMgdGhlIGN1cnJlbnQgVVJMIGluIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyLCBzbyB5b3UgY2FuXG4gKiAgIC0gV2F0Y2ggYW5kIG9ic2VydmUgdGhlIFVSTC5cbiAqICAgLSBDaGFuZ2UgdGhlIFVSTC5cbiAqIC0gU3luY2hyb25pemVzIHRoZSBVUkwgd2l0aCB0aGUgYnJvd3NlciB3aGVuIHRoZSB1c2VyXG4gKiAgIC0gQ2hhbmdlcyB0aGUgYWRkcmVzcyBiYXIuXG4gKiAgIC0gQ2xpY2tzIHRoZSBiYWNrIG9yIGZvcndhcmQgYnV0dG9uIChvciBjbGlja3MgYSBIaXN0b3J5IGxpbmspLlxuICogICAtIENsaWNrcyBvbiBhIGxpbmsuXG4gKiAtIFJlcHJlc2VudHMgdGhlIFVSTCBvYmplY3QgYXMgYSBzZXQgb2YgbWV0aG9kcyAocHJvdG9jb2wsIGhvc3QsIHBvcnQsIHBhdGgsIHNlYXJjaCwgaGFzaCkuXG4gKlxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gc2VlIHtAbGluayBndWlkZS8kbG9jYXRpb24gRGV2ZWxvcGVyIEd1aWRlOiBVc2luZyAkbG9jYXRpb259XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyXG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoZSBgJGxvY2F0aW9uUHJvdmlkZXJgIHRvIGNvbmZpZ3VyZSBob3cgdGhlIGFwcGxpY2F0aW9uIGRlZXAgbGlua2luZyBwYXRocyBhcmUgc3RvcmVkLlxuICovXG5mdW5jdGlvbiAkTG9jYXRpb25Qcm92aWRlcigpIHtcbiAgdmFyIGhhc2hQcmVmaXggPSAnIScsXG4gICAgICBodG1sNU1vZGUgPSB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICByZXF1aXJlQmFzZTogdHJ1ZSxcbiAgICAgICAgcmV3cml0ZUxpbmtzOiB0cnVlXG4gICAgICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyI2hhc2hQcmVmaXhcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGZvciB0aGUgcHJlZml4IGlzIGAnISdgLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHByZWZpeCBQcmVmaXggZm9yIGhhc2ggcGFydCAoY29udGFpbmluZyBwYXRoIGFuZCBzZWFyY2gpXG4gICAqIEByZXR1cm5zIHsqfSBjdXJyZW50IHZhbHVlIGlmIHVzZWQgYXMgZ2V0dGVyIG9yIGl0c2VsZiAoY2hhaW5pbmcpIGlmIHVzZWQgYXMgc2V0dGVyXG4gICAqL1xuICB0aGlzLmhhc2hQcmVmaXggPSBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHByZWZpeCkpIHtcbiAgICAgIGhhc2hQcmVmaXggPSBwcmVmaXg7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGhhc2hQcmVmaXg7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyI2h0bWw1TW9kZVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQHBhcmFtIHsoYm9vbGVhbnxPYmplY3QpPX0gbW9kZSBJZiBib29sZWFuLCBzZXRzIGBodG1sNU1vZGUuZW5hYmxlZGAgdG8gdmFsdWUuXG4gICAqICAgSWYgb2JqZWN0LCBzZXRzIGBlbmFibGVkYCwgYHJlcXVpcmVCYXNlYCBhbmQgYHJld3JpdGVMaW5rc2AgdG8gcmVzcGVjdGl2ZSB2YWx1ZXMuIFN1cHBvcnRlZFxuICAgKiAgIHByb3BlcnRpZXM6XG4gICAqICAgLSAqKmVuYWJsZWQqKiDigJMgYHtib29sZWFufWAg4oCTIChkZWZhdWx0OiBmYWxzZSkgSWYgdHJ1ZSwgd2lsbCByZWx5IG9uIGBoaXN0b3J5LnB1c2hTdGF0ZWAgdG9cbiAgICogICAgIGNoYW5nZSB1cmxzIHdoZXJlIHN1cHBvcnRlZC4gV2lsbCBmYWxsIGJhY2sgdG8gaGFzaC1wcmVmaXhlZCBwYXRocyBpbiBicm93c2VycyB0aGF0IGRvIG5vdFxuICAgKiAgICAgc3VwcG9ydCBgcHVzaFN0YXRlYC5cbiAgICogICAtICoqcmVxdWlyZUJhc2UqKiAtIGB7Ym9vbGVhbn1gIC0gKGRlZmF1bHQ6IGB0cnVlYCkgV2hlbiBodG1sNU1vZGUgaXMgZW5hYmxlZCwgc3BlY2lmaWVzXG4gICAqICAgICB3aGV0aGVyIG9yIG5vdCBhIDxiYXNlPiB0YWcgaXMgcmVxdWlyZWQgdG8gYmUgcHJlc2VudC4gSWYgYGVuYWJsZWRgIGFuZCBgcmVxdWlyZUJhc2VgIGFyZVxuICAgKiAgICAgdHJ1ZSwgYW5kIGEgYmFzZSB0YWcgaXMgbm90IHByZXNlbnQsIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duIHdoZW4gYCRsb2NhdGlvbmAgaXMgaW5qZWN0ZWQuXG4gICAqICAgICBTZWUgdGhlIHtAbGluayBndWlkZS8kbG9jYXRpb24gJGxvY2F0aW9uIGd1aWRlIGZvciBtb3JlIGluZm9ybWF0aW9ufVxuICAgKiAgIC0gKipyZXdyaXRlTGlua3MqKiAtIGB7Ym9vbGVhbnxzdHJpbmd9YCAtIChkZWZhdWx0OiBgdHJ1ZWApIFdoZW4gaHRtbDVNb2RlIGlzIGVuYWJsZWQsXG4gICAqICAgICBlbmFibGVzL2Rpc2FibGVzIFVSTCByZXdyaXRpbmcgZm9yIHJlbGF0aXZlIGxpbmtzLiBJZiBzZXQgdG8gYSBzdHJpbmcsIFVSTCByZXdyaXRpbmcgd2lsbFxuICAgKiAgICAgb25seSBoYXBwZW4gb24gbGlua3Mgd2l0aCBhbiBhdHRyaWJ1dGUgdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiBzdHJpbmcuIEZvciBleGFtcGxlLCBpZiBzZXRcbiAgICogICAgIHRvIGAnaW50ZXJuYWwtbGluaydgLCB0aGVuIHRoZSBVUkwgd2lsbCBvbmx5IGJlIHJld3JpdHRlbiBmb3IgYDxhIGludGVybmFsLWxpbms+YCBsaW5rcy5cbiAgICogICAgIE5vdGUgdGhhdCBbYXR0cmlidXRlIG5hbWUgbm9ybWFsaXphdGlvbl0oZ3VpZGUvZGlyZWN0aXZlI25vcm1hbGl6YXRpb24pIGRvZXMgbm90IGFwcGx5XG4gICAqICAgICBoZXJlLCBzbyBgJ2ludGVybmFsTGluaydgIHdpbGwgKipub3QqKiBtYXRjaCBgJ2ludGVybmFsLWxpbmsnYC5cbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gaHRtbDVNb2RlIG9iamVjdCBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxuICAgKi9cbiAgdGhpcy5odG1sNU1vZGUgPSBmdW5jdGlvbihtb2RlKSB7XG4gICAgaWYgKGlzQm9vbGVhbihtb2RlKSkge1xuICAgICAgaHRtbDVNb2RlLmVuYWJsZWQgPSBtb2RlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChtb2RlKSkge1xuXG4gICAgICBpZiAoaXNCb29sZWFuKG1vZGUuZW5hYmxlZCkpIHtcbiAgICAgICAgaHRtbDVNb2RlLmVuYWJsZWQgPSBtb2RlLmVuYWJsZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Jvb2xlYW4obW9kZS5yZXF1aXJlQmFzZSkpIHtcbiAgICAgICAgaHRtbDVNb2RlLnJlcXVpcmVCYXNlID0gbW9kZS5yZXF1aXJlQmFzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQm9vbGVhbihtb2RlLnJld3JpdGVMaW5rcykgfHwgaXNTdHJpbmcobW9kZS5yZXdyaXRlTGlua3MpKSB7XG4gICAgICAgIGh0bWw1TW9kZS5yZXdyaXRlTGlua3MgPSBtb2RlLnJld3JpdGVMaW5rcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBodG1sNU1vZGU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZXZlbnRcbiAgICogQG5hbWUgJGxvY2F0aW9uIyRsb2NhdGlvbkNoYW5nZVN0YXJ0XG4gICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEJyb2FkY2FzdGVkIGJlZm9yZSBhIFVSTCB3aWxsIGNoYW5nZS5cbiAgICpcbiAgICogVGhpcyBjaGFuZ2UgY2FuIGJlIHByZXZlbnRlZCBieSBjYWxsaW5nXG4gICAqIGBwcmV2ZW50RGVmYXVsdGAgbWV0aG9kIG9mIHRoZSBldmVudC4gU2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0gZm9yIG1vcmVcbiAgICogZGV0YWlscyBhYm91dCBldmVudCBvYmplY3QuIFVwb24gc3VjY2Vzc2Z1bCBjaGFuZ2VcbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiMkbG9jYXRpb25DaGFuZ2VTdWNjZXNzICRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3N9IGlzIGZpcmVkLlxuICAgKlxuICAgKiBUaGUgYG5ld1N0YXRlYCBhbmQgYG9sZFN0YXRlYCBwYXJhbWV0ZXJzIG1heSBiZSBkZWZpbmVkIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgd2hlblxuICAgKiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgSFRNTDUgSGlzdG9yeSBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1VybCBOZXcgVVJMXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkVXJsIFVSTCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmV3U3RhdGUgTmV3IGhpc3Rvcnkgc3RhdGUgb2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkU3RhdGUgSGlzdG9yeSBzdGF0ZSBvYmplY3QgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLlxuICAgKi9cblxuICAvKipcbiAgICogQG5nZG9jIGV2ZW50XG4gICAqIEBuYW1lICRsb2NhdGlvbiMkbG9jYXRpb25DaGFuZ2VTdWNjZXNzXG4gICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEJyb2FkY2FzdGVkIGFmdGVyIGEgVVJMIHdhcyBjaGFuZ2VkLlxuICAgKlxuICAgKiBUaGUgYG5ld1N0YXRlYCBhbmQgYG9sZFN0YXRlYCBwYXJhbWV0ZXJzIG1heSBiZSBkZWZpbmVkIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgd2hlblxuICAgKiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgSFRNTDUgSGlzdG9yeSBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1VybCBOZXcgVVJMXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkVXJsIFVSTCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmV3U3RhdGUgTmV3IGhpc3Rvcnkgc3RhdGUgb2JqZWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkU3RhdGUgSGlzdG9yeSBzdGF0ZSBvYmplY3QgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLlxuICAgKi9cblxuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJHNuaWZmZXInLCAnJHJvb3RFbGVtZW50JywgJyR3aW5kb3cnLFxuICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGJyb3dzZXIsICRzbmlmZmVyLCAkcm9vdEVsZW1lbnQsICR3aW5kb3cpIHtcbiAgICB2YXIgJGxvY2F0aW9uLFxuICAgICAgICBMb2NhdGlvbk1vZGUsXG4gICAgICAgIGJhc2VIcmVmID0gJGJyb3dzZXIuYmFzZUhyZWYoKSwgLy8gaWYgYmFzZVtocmVmXSBpcyB1bmRlZmluZWQsIGl0IGRlZmF1bHRzIHRvICcnXG4gICAgICAgIGluaXRpYWxVcmwgPSAkYnJvd3Nlci51cmwoKSxcbiAgICAgICAgYXBwQmFzZTtcblxuICAgIGlmIChodG1sNU1vZGUuZW5hYmxlZCkge1xuICAgICAgaWYgKCFiYXNlSHJlZiAmJiBodG1sNU1vZGUucmVxdWlyZUJhc2UpIHtcbiAgICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdub2Jhc2UnLFxuICAgICAgICAgICckbG9jYXRpb24gaW4gSFRNTDUgbW9kZSByZXF1aXJlcyBhIDxiYXNlPiB0YWcgdG8gYmUgcHJlc2VudCEnKTtcbiAgICAgIH1cbiAgICAgIGFwcEJhc2UgPSBzZXJ2ZXJCYXNlKGluaXRpYWxVcmwpICsgKGJhc2VIcmVmIHx8ICcvJyk7XG4gICAgICBMb2NhdGlvbk1vZGUgPSAkc25pZmZlci5oaXN0b3J5ID8gTG9jYXRpb25IdG1sNVVybCA6IExvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHBCYXNlID0gc3RyaXBIYXNoKGluaXRpYWxVcmwpO1xuICAgICAgTG9jYXRpb25Nb2RlID0gTG9jYXRpb25IYXNoYmFuZ1VybDtcbiAgICB9XG4gICAgdmFyIGFwcEJhc2VOb0ZpbGUgPSBzdHJpcEZpbGUoYXBwQmFzZSk7XG5cbiAgICAkbG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlKGFwcEJhc2UsIGFwcEJhc2VOb0ZpbGUsICcjJyArIGhhc2hQcmVmaXgpO1xuICAgICRsb2NhdGlvbi4kJHBhcnNlTGlua1VybChpbml0aWFsVXJsLCBpbml0aWFsVXJsKTtcblxuICAgICRsb2NhdGlvbi4kJHN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcblxuICAgIHZhciBJR05PUkVfVVJJX1JFR0VYUCA9IC9eXFxzKihqYXZhc2NyaXB0fG1haWx0byk6L2k7XG5cbiAgICAvLyBEZXRlcm1pbmUgaWYgdHdvIFVSTHMgYXJlIGVxdWFsIGRlc3BpdGUgcG90ZW50aWFsbHkgaGF2aW5nIGRpZmZlcmVudCBlbmNvZGluZy9ub3JtYWxpemluZ1xuICAgIC8vICBzdWNoIGFzICRsb2NhdGlvbi5hYnNVcmwoKSB2cyAkYnJvd3Nlci51cmwoKVxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xNjU5MlxuICAgIGZ1bmN0aW9uIHVybHNFcXVhbChhLCBiKSB7XG4gICAgICByZXR1cm4gYSA9PT0gYiB8fCB1cmxSZXNvbHZlKGEpLmhyZWYgPT09IHVybFJlc29sdmUoYikuaHJlZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrKHVybCwgcmVwbGFjZSwgc3RhdGUpIHtcbiAgICAgIHZhciBvbGRVcmwgPSAkbG9jYXRpb24udXJsKCk7XG4gICAgICB2YXIgb2xkU3RhdGUgPSAkbG9jYXRpb24uJCRzdGF0ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgICRicm93c2VyLnVybCh1cmwsIHJlcGxhY2UsIHN0YXRlKTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgJGxvY2F0aW9uLnN0YXRlKCkgcmV0dXJucyByZWZlcmVudGlhbGx5IGlkZW50aWNhbCAobm90IGp1c3QgZGVlcGx5IGVxdWFsKVxuICAgICAgICAvLyBzdGF0ZSBvYmplY3Q7IHRoaXMgbWFrZXMgcG9zc2libGUgcXVpY2sgY2hlY2tpbmcgaWYgdGhlIHN0YXRlIGNoYW5nZWQgaW4gdGhlIGRpZ2VzdFxuICAgICAgICAvLyBsb29wLiBDaGVja2luZyBkZWVwIGVxdWFsaXR5IHdvdWxkIGJlIHRvbyBleHBlbnNpdmUuXG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gUmVzdG9yZSBvbGQgdmFsdWVzIGlmIHB1c2hTdGF0ZSBmYWlsc1xuICAgICAgICAkbG9jYXRpb24udXJsKG9sZFVybCk7XG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gb2xkU3RhdGU7XG5cbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkcm9vdEVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHZhciByZXdyaXRlTGlua3MgPSBodG1sNU1vZGUucmV3cml0ZUxpbmtzO1xuICAgICAgLy8gVE9ETyh2b2p0YSk6IHJld3JpdGUgbGluayB3aGVuIG9wZW5pbmcgaW4gbmV3IHRhYi93aW5kb3cgKGluIGxlZ2FjeSBicm93c2VyKVxuICAgICAgLy8gY3VycmVudGx5IHdlIG9wZW4gbmljZSB1cmwgbGluayBhbmQgcmVkaXJlY3QgdGhlblxuXG4gICAgICBpZiAoIXJld3JpdGVMaW5rcyB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQud2hpY2ggPT09IDIgfHwgZXZlbnQuYnV0dG9uID09PSAyKSByZXR1cm47XG5cbiAgICAgIHZhciBlbG0gPSBqcUxpdGUoZXZlbnQudGFyZ2V0KTtcblxuICAgICAgLy8gdHJhdmVyc2UgdGhlIERPTSB1cCB0byBmaW5kIGZpcnN0IEEgdGFnXG4gICAgICB3aGlsZSAobm9kZU5hbWVfKGVsbVswXSkgIT09ICdhJykge1xuICAgICAgICAvLyBpZ25vcmUgcmV3cml0aW5nIGlmIG5vIEEgdGFnIChyZWFjaGVkIHJvb3QgZWxlbWVudCwgb3Igbm8gcGFyZW50IC0gcmVtb3ZlZCBmcm9tIGRvY3VtZW50KVxuICAgICAgICBpZiAoZWxtWzBdID09PSAkcm9vdEVsZW1lbnRbMF0gfHwgIShlbG0gPSBlbG0ucGFyZW50KCkpWzBdKSByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1N0cmluZyhyZXdyaXRlTGlua3MpICYmIGlzVW5kZWZpbmVkKGVsbS5hdHRyKHJld3JpdGVMaW5rcykpKSByZXR1cm47XG5cbiAgICAgIHZhciBhYnNIcmVmID0gZWxtLnByb3AoJ2hyZWYnKTtcbiAgICAgIC8vIGdldCB0aGUgYWN0dWFsIGhyZWYgYXR0cmlidXRlIC0gc2VlXG4gICAgICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZGQzNDcxNDgodj12cy44NSkuYXNweFxuICAgICAgdmFyIHJlbEhyZWYgPSBlbG0uYXR0cignaHJlZicpIHx8IGVsbS5hdHRyKCd4bGluazpocmVmJyk7XG5cbiAgICAgIGlmIChpc09iamVjdChhYnNIcmVmKSAmJiBhYnNIcmVmLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScpIHtcbiAgICAgICAgLy8gU1ZHQW5pbWF0ZWRTdHJpbmcuYW5pbVZhbCBzaG91bGQgYmUgaWRlbnRpY2FsIHRvIFNWR0FuaW1hdGVkU3RyaW5nLmJhc2VWYWwsIHVubGVzcyBkdXJpbmdcbiAgICAgICAgLy8gYW4gYW5pbWF0aW9uLlxuICAgICAgICBhYnNIcmVmID0gdXJsUmVzb2x2ZShhYnNIcmVmLmFuaW1WYWwpLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIC8vIElnbm9yZSB3aGVuIHVybCBpcyBzdGFydGVkIHdpdGggamF2YXNjcmlwdDogb3IgbWFpbHRvOlxuICAgICAgaWYgKElHTk9SRV9VUklfUkVHRVhQLnRlc3QoYWJzSHJlZikpIHJldHVybjtcblxuICAgICAgaWYgKGFic0hyZWYgJiYgIWVsbS5hdHRyKCd0YXJnZXQnKSAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgaWYgKCRsb2NhdGlvbi4kJHBhcnNlTGlua1VybChhYnNIcmVmLCByZWxIcmVmKSkge1xuICAgICAgICAgIC8vIFdlIGRvIGEgcHJldmVudERlZmF1bHQgZm9yIGFsbCB1cmxzIHRoYXQgYXJlIHBhcnQgb2YgdGhlIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbixcbiAgICAgICAgICAvLyBpbiBodG1sNW1vZGUgYW5kIGFsc28gd2l0aG91dCwgc28gdGhhdCB3ZSBhcmUgYWJsZSB0byBhYm9ydCBuYXZpZ2F0aW9uIHdpdGhvdXRcbiAgICAgICAgICAvLyBnZXR0aW5nIGRvdWJsZSBlbnRyaWVzIGluIHRoZSBsb2NhdGlvbiBoaXN0b3J5LlxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgLy8gdXBkYXRlIGxvY2F0aW9uIG1hbnVhbGx5XG4gICAgICAgICAgaWYgKCRsb2NhdGlvbi5hYnNVcmwoKSAhPT0gJGJyb3dzZXIudXJsKCkpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cblxuICAgIC8vIHJld3JpdGUgaGFzaGJhbmcgdXJsIDw+IGh0bWw1IHVybFxuICAgIGlmICgkbG9jYXRpb24uYWJzVXJsKCkgIT09IGluaXRpYWxVcmwpIHtcbiAgICAgICRicm93c2VyLnVybCgkbG9jYXRpb24uYWJzVXJsKCksIHRydWUpO1xuICAgIH1cblxuICAgIHZhciBpbml0aWFsaXppbmcgPSB0cnVlO1xuXG4gICAgLy8gdXBkYXRlICRsb2NhdGlvbiB3aGVuICRicm93c2VyIHVybCBjaGFuZ2VzXG4gICAgJGJyb3dzZXIub25VcmxDaGFuZ2UoZnVuY3Rpb24obmV3VXJsLCBuZXdTdGF0ZSkge1xuXG4gICAgICBpZiAoIXN0YXJ0c1dpdGgobmV3VXJsLCBhcHBCYXNlTm9GaWxlKSkge1xuICAgICAgICAvLyBJZiB3ZSBhcmUgbmF2aWdhdGluZyBvdXRzaWRlIG9mIHRoZSBhcHAgdGhlbiBmb3JjZSBhIHJlbG9hZFxuICAgICAgICAkd2luZG93LmxvY2F0aW9uLmhyZWYgPSBuZXdVcmw7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb2xkVXJsID0gJGxvY2F0aW9uLmFic1VybCgpO1xuICAgICAgICB2YXIgb2xkU3RhdGUgPSAkbG9jYXRpb24uJCRzdGF0ZTtcbiAgICAgICAgdmFyIGRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgICAgICRsb2NhdGlvbi4kJHBhcnNlKG5ld1VybCk7XG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gbmV3U3RhdGU7XG5cbiAgICAgICAgZGVmYXVsdFByZXZlbnRlZCA9ICRyb290U2NvcGUuJGJyb2FkY2FzdCgnJGxvY2F0aW9uQ2hhbmdlU3RhcnQnLCBuZXdVcmwsIG9sZFVybCxcbiAgICAgICAgICAgIG5ld1N0YXRlLCBvbGRTdGF0ZSkuZGVmYXVsdFByZXZlbnRlZDtcblxuICAgICAgICAvLyBpZiB0aGUgbG9jYXRpb24gd2FzIGNoYW5nZWQgYnkgYSBgJGxvY2F0aW9uQ2hhbmdlU3RhcnRgIGhhbmRsZXIgdGhlbiBzdG9wXG4gICAgICAgIC8vIHByb2Nlc3NpbmcgdGhpcyBsb2NhdGlvbiBjaGFuZ2VcbiAgICAgICAgaWYgKCRsb2NhdGlvbi5hYnNVcmwoKSAhPT0gbmV3VXJsKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShvbGRVcmwpO1xuICAgICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gb2xkU3RhdGU7XG4gICAgICAgICAgc2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayhvbGRVcmwsIGZhbHNlLCBvbGRTdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5pdGlhbGl6aW5nID0gZmFsc2U7XG4gICAgICAgICAgYWZ0ZXJMb2NhdGlvbkNoYW5nZShvbGRVcmwsIG9sZFN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgfSk7XG5cbiAgICAvLyB1cGRhdGUgYnJvd3NlclxuICAgICRyb290U2NvcGUuJHdhdGNoKGZ1bmN0aW9uICRsb2NhdGlvbldhdGNoKCkge1xuICAgICAgaWYgKGluaXRpYWxpemluZyB8fCAkbG9jYXRpb24uJCR1cmxVcGRhdGVkQnlMb2NhdGlvbikge1xuICAgICAgICAkbG9jYXRpb24uJCR1cmxVcGRhdGVkQnlMb2NhdGlvbiA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBvbGRVcmwgPSAkYnJvd3Nlci51cmwoKTtcbiAgICAgICAgdmFyIG5ld1VybCA9ICRsb2NhdGlvbi5hYnNVcmwoKTtcbiAgICAgICAgdmFyIG9sZFN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcbiAgICAgICAgdmFyIGN1cnJlbnRSZXBsYWNlID0gJGxvY2F0aW9uLiQkcmVwbGFjZTtcbiAgICAgICAgdmFyIHVybE9yU3RhdGVDaGFuZ2VkID0gIXVybHNFcXVhbChvbGRVcmwsIG5ld1VybCkgfHxcbiAgICAgICAgICAoJGxvY2F0aW9uLiQkaHRtbDUgJiYgJHNuaWZmZXIuaGlzdG9yeSAmJiBvbGRTdGF0ZSAhPT0gJGxvY2F0aW9uLiQkc3RhdGUpO1xuXG4gICAgICAgIGlmIChpbml0aWFsaXppbmcgfHwgdXJsT3JTdGF0ZUNoYW5nZWQpIHtcbiAgICAgICAgICBpbml0aWFsaXppbmcgPSBmYWxzZTtcblxuICAgICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBuZXdVcmwgPSAkbG9jYXRpb24uYWJzVXJsKCk7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdFByZXZlbnRlZCA9ICRyb290U2NvcGUuJGJyb2FkY2FzdCgnJGxvY2F0aW9uQ2hhbmdlU3RhcnQnLCBuZXdVcmwsIG9sZFVybCxcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSwgb2xkU3RhdGUpLmRlZmF1bHRQcmV2ZW50ZWQ7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZSBsb2NhdGlvbiB3YXMgY2hhbmdlZCBieSBhIGAkbG9jYXRpb25DaGFuZ2VTdGFydGAgaGFuZGxlciB0aGVuIHN0b3BcbiAgICAgICAgICAgIC8vIHByb2Nlc3NpbmcgdGhpcyBsb2NhdGlvbiBjaGFuZ2VcbiAgICAgICAgICAgIGlmICgkbG9jYXRpb24uYWJzVXJsKCkgIT09IG5ld1VybCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShvbGRVcmwpO1xuICAgICAgICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG9sZFN0YXRlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKHVybE9yU3RhdGVDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgc2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayhuZXdVcmwsIGN1cnJlbnRSZXBsYWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkU3RhdGUgPT09ICRsb2NhdGlvbi4kJHN0YXRlID8gbnVsbCA6ICRsb2NhdGlvbi4kJHN0YXRlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBhZnRlckxvY2F0aW9uQ2hhbmdlKG9sZFVybCwgb2xkU3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICRsb2NhdGlvbi4kJHJlcGxhY2UgPSBmYWxzZTtcblxuICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byByZXR1cm4gYW55dGhpbmcgYmVjYXVzZSAkZXZhbEFzeW5jIHdpbGwgbWFrZSB0aGUgZGlnZXN0IGxvb3AgZGlydHkgd2hlblxuICAgICAgLy8gdGhlcmUgaXMgYSBjaGFuZ2VcbiAgICB9KTtcblxuICAgIHJldHVybiAkbG9jYXRpb247XG5cbiAgICBmdW5jdGlvbiBhZnRlckxvY2F0aW9uQ2hhbmdlKG9sZFVybCwgb2xkU3RhdGUpIHtcbiAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsICRsb2NhdGlvbi5hYnNVcmwoKSwgb2xkVXJsLFxuICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSwgb2xkU3RhdGUpO1xuICAgIH1cbn1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkbG9nXG4gKiBAcmVxdWlyZXMgJHdpbmRvd1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU2ltcGxlIHNlcnZpY2UgZm9yIGxvZ2dpbmcuIERlZmF1bHQgaW1wbGVtZW50YXRpb24gc2FmZWx5IHdyaXRlcyB0aGUgbWVzc2FnZVxuICogaW50byB0aGUgYnJvd3NlcidzIGNvbnNvbGUgKGlmIHByZXNlbnQpLlxuICpcbiAqIFRoZSBtYWluIHB1cnBvc2Ugb2YgdGhpcyBzZXJ2aWNlIGlzIHRvIHNpbXBsaWZ5IGRlYnVnZ2luZyBhbmQgdHJvdWJsZXNob290aW5nLlxuICpcbiAqIFRvIHJldmVhbCB0aGUgbG9jYXRpb24gb2YgdGhlIGNhbGxzIHRvIGAkbG9nYCBpbiB0aGUgSmF2YVNjcmlwdCBjb25zb2xlLFxuICogeW91IGNhbiBcImJsYWNrYm94XCIgdGhlIEFuZ3VsYXJKUyBzb3VyY2UgaW4geW91ciBicm93c2VyOlxuICpcbiAqIFtNb3ppbGxhIGRlc2NyaXB0aW9uIG9mIGJsYWNrYm94aW5nXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL0RlYnVnZ2VyL0hvd190by9CbGFja19ib3hfYV9zb3VyY2UpLlxuICogW0Nocm9tZSBkZXNjcmlwdGlvbiBvZiBibGFja2JveGluZ10oaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9kZXZ0b29scy9kb2NzL2JsYWNrYm94aW5nKS5cbiAqXG4gKiBOb3RlOiBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgYmxhY2tib3hpbmcuXG4gKlxuICogVGhlIGRlZmF1bHQgaXMgdG8gbG9nIGBkZWJ1Z2AgbWVzc2FnZXMuIFlvdSBjYW4gdXNlXG4gKiB7QGxpbmsgbmcuJGxvZ1Byb3ZpZGVyIG5nLiRsb2dQcm92aWRlciNkZWJ1Z0VuYWJsZWR9IHRvIGNoYW5nZSB0aGlzLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJsb2dFeGFtcGxlXCIgbmFtZT1cImxvZy1zZXJ2aWNlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbG9nRXhhbXBsZScsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0xvZ0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9nJywgZnVuY3Rpb24oJHNjb3BlLCAkbG9nKSB7XG4gICAgICAgICAgICRzY29wZS4kbG9nID0gJGxvZztcbiAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSAnSGVsbG8gV29ybGQhJztcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkxvZ0NvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxwPlJlbG9hZCB0aGlzIHBhZ2Ugd2l0aCBvcGVuIGNvbnNvbGUsIGVudGVyIHRleHQgYW5kIGhpdCB0aGUgbG9nIGJ1dHRvbi4uLjwvcD5cbiAgICAgICAgIDxsYWJlbD5NZXNzYWdlOlxuICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtZXNzYWdlXCIgLz48L2xhYmVsPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRsb2cubG9nKG1lc3NhZ2UpXCI+bG9nPC9idXR0b24+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy53YXJuKG1lc3NhZ2UpXCI+d2FybjwvYnV0dG9uPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRsb2cuaW5mbyhtZXNzYWdlKVwiPmluZm88L2J1dHRvbj5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLmVycm9yKG1lc3NhZ2UpXCI+ZXJyb3I8L2J1dHRvbj5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLmRlYnVnKG1lc3NhZ2UpXCI+ZGVidWc8L2J1dHRvbj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkbG9nUHJvdmlkZXJcbiAqIEB0aGlzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgdGhlIGAkbG9nUHJvdmlkZXJgIHRvIGNvbmZpZ3VyZSBob3cgdGhlIGFwcGxpY2F0aW9uIGxvZ3MgbWVzc2FnZXNcbiAqL1xuZnVuY3Rpb24gJExvZ1Byb3ZpZGVyKCkge1xuICB2YXIgZGVidWcgPSB0cnVlLFxuICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvZ1Byb3ZpZGVyI2RlYnVnRW5hYmxlZFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQHBhcmFtIHtib29sZWFuPX0gZmxhZyBlbmFibGUgb3IgZGlzYWJsZSBkZWJ1ZyBsZXZlbCBtZXNzYWdlc1xuICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxuICAgKi9cbiAgdGhpcy5kZWJ1Z0VuYWJsZWQgPSBmdW5jdGlvbihmbGFnKSB7XG4gICAgaWYgKGlzRGVmaW5lZChmbGFnKSkge1xuICAgICAgZGVidWcgPSBmbGFnO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkZWJ1ZztcbiAgICB9XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgZnVuY3Rpb24oJHdpbmRvdykge1xuICAgIC8vIFN1cHBvcnQ6IElFIDktMTEsIEVkZ2UgMTItMTQrXG4gICAgLy8gSUUvRWRnZSBkaXNwbGF5IGVycm9ycyBpbiBzdWNoIGEgd2F5IHRoYXQgaXQgcmVxdWlyZXMgdGhlIHVzZXIgdG8gY2xpY2sgaW4gNCBwbGFjZXNcbiAgICAvLyB0byBzZWUgdGhlIHN0YWNrIHRyYWNlLiBUaGVyZSBpcyBubyB3YXkgdG8gZmVhdHVyZS1kZXRlY3QgaXQgc28gdGhlcmUncyBhIGNoYW5jZVxuICAgIC8vIG9mIHRoZSB1c2VyIGFnZW50IHNuaWZmaW5nIHRvIGdvIHdyb25nIGJ1dCBzaW5jZSBpdCdzIG9ubHkgYWJvdXQgbG9nZ2luZywgdGhpcyBzaG91bGRuJ3RcbiAgICAvLyBicmVhayBhcHBzLiBPdGhlciBicm93c2VycyBkaXNwbGF5IGVycm9ycyBpbiBhIHNlbnNpYmxlIHdheSBhbmQgc29tZSBvZiB0aGVtIG1hcCBzdGFja1xuICAgIC8vIHRyYWNlcyBhbG9uZyBzb3VyY2UgbWFwcyBpZiBhdmFpbGFibGUgc28gaXQgbWFrZXMgc2Vuc2UgdG8gbGV0IGJyb3dzZXJzIGRpc3BsYXkgaXRcbiAgICAvLyBhcyB0aGV5IHdhbnQuXG4gICAgdmFyIGZvcm1hdFN0YWNrVHJhY2UgPSBtc2llIHx8IC9cXGJFZGdlXFwvLy50ZXN0KCR3aW5kb3cubmF2aWdhdG9yICYmICR3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkbG9nI2xvZ1xuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYSBsb2cgbWVzc2FnZVxuICAgICAgICovXG4gICAgICBsb2c6IGNvbnNvbGVMb2coJ2xvZycpLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRsb2cjaW5mb1xuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYW4gaW5mb3JtYXRpb24gbWVzc2FnZVxuICAgICAgICovXG4gICAgICBpbmZvOiBjb25zb2xlTG9nKCdpbmZvJyksXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGxvZyN3YXJuXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBXcml0ZSBhIHdhcm5pbmcgbWVzc2FnZVxuICAgICAgICovXG4gICAgICB3YXJuOiBjb25zb2xlTG9nKCd3YXJuJyksXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGxvZyNlcnJvclxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYW4gZXJyb3IgbWVzc2FnZVxuICAgICAgICovXG4gICAgICBlcnJvcjogY29uc29sZUxvZygnZXJyb3InKSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkbG9nI2RlYnVnXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBXcml0ZSBhIGRlYnVnIG1lc3NhZ2VcbiAgICAgICAqL1xuICAgICAgZGVidWc6IChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGZuID0gY29uc29sZUxvZygnZGVidWcnKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICBmbi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKClcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZm9ybWF0RXJyb3IoYXJnKSB7XG4gICAgICBpZiAoaXNFcnJvcihhcmcpKSB7XG4gICAgICAgIGlmIChhcmcuc3RhY2sgJiYgZm9ybWF0U3RhY2tUcmFjZSkge1xuICAgICAgICAgIGFyZyA9IChhcmcubWVzc2FnZSAmJiBhcmcuc3RhY2suaW5kZXhPZihhcmcubWVzc2FnZSkgPT09IC0xKVxuICAgICAgICAgICAgICA/ICdFcnJvcjogJyArIGFyZy5tZXNzYWdlICsgJ1xcbicgKyBhcmcuc3RhY2tcbiAgICAgICAgICAgICAgOiBhcmcuc3RhY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoYXJnLnNvdXJjZVVSTCkge1xuICAgICAgICAgIGFyZyA9IGFyZy5tZXNzYWdlICsgJ1xcbicgKyBhcmcuc291cmNlVVJMICsgJzonICsgYXJnLmxpbmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcmc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uc29sZUxvZyh0eXBlKSB7XG4gICAgICB2YXIgY29uc29sZSA9ICR3aW5kb3cuY29uc29sZSB8fCB7fSxcbiAgICAgICAgICBsb2dGbiA9IGNvbnNvbGVbdHlwZV0gfHwgY29uc29sZS5sb2cgfHwgbm9vcDtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgICAgYXJncy5wdXNoKGZvcm1hdEVycm9yKGFyZykpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gU3VwcG9ydDogSUUgOSBvbmx5XG4gICAgICAgIC8vIGNvbnNvbGUgbWV0aG9kcyBkb24ndCBpbmhlcml0IGZyb20gRnVuY3Rpb24ucHJvdG90eXBlIGluIElFIDkgc28gd2UgY2FuJ3RcbiAgICAgICAgLy8gY2FsbCBgbG9nRm4uYXBwbHkoY29uc29sZSwgYXJncylgIGRpcmVjdGx5LlxuICAgICAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwobG9nRm4sIGNvbnNvbGUsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG4gIH1dO1xufVxuXG4vKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXG4gKiAgICAgQW55IGNvbW1pdHMgdG8gdGhpcyBmaWxlIHNob3VsZCBiZSByZXZpZXdlZCB3aXRoIHNlY3VyaXR5IGluIG1pbmQuICAqXG4gKiAgIENoYW5nZXMgdG8gdGhpcyBmaWxlIGNhbiBwb3RlbnRpYWxseSBjcmVhdGUgc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLiAqXG4gKiAgICAgICAgICBBbiBhcHByb3ZhbCBmcm9tIDIgQ29yZSBtZW1iZXJzIHdpdGggaGlzdG9yeSBvZiBtb2RpZnlpbmcgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGZpbGUgaXMgcmVxdWlyZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgRG9lcyB0aGUgY2hhbmdlIHNvbWVob3cgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkPyAqXG4gKiAgICBPciBhbGxvd3MgZm9yIHNvbWVvbmUgdG8gY2hhbmdlIHRoZSBwcm90b3R5cGUgb2YgYnVpbHQtaW4gb2JqZWN0cz8gICAqXG4gKiAgICAgT3IgZ2l2ZXMgdW5kZXNpcmVkIGFjY2VzcyB0byB2YXJpYWJsZXMgbGlrZXMgZG9jdW1lbnQgb3Igd2luZG93PyAgICAqXG4gKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xuXG52YXIgJHBhcnNlTWluRXJyID0gbWluRXJyKCckcGFyc2UnKTtcblxudmFyIG9iamVjdFZhbHVlT2YgPSB7fS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUudmFsdWVPZjtcblxuLy8gU2FuZGJveGluZyBBbmd1bGFySlMgRXhwcmVzc2lvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQW5ndWxhckpTIGV4cHJlc3Npb25zIGFyZSBubyBsb25nZXIgc2FuZGJveGVkLiBTbyBpdCBpcyBub3cgZXZlbiBlYXNpZXIgdG8gYWNjZXNzIGFyYml0cmFyeSBKUyBjb2RlIGJ5XG4vLyB2YXJpb3VzIG1lYW5zIHN1Y2ggYXMgb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIG5hdGl2ZSBKUyBmdW5jdGlvbnMgbGlrZSB0aGUgRnVuY3Rpb24gY29uc3RydWN0b3IuXG4vL1xuLy8gQXMgYW4gZXhhbXBsZSwgY29uc2lkZXIgdGhlIGZvbGxvd2luZyBBbmd1bGFySlMgZXhwcmVzc2lvbjpcbi8vXG4vLyAgIHt9LnRvU3RyaW5nLmNvbnN0cnVjdG9yKCdhbGVydChcImV2aWwgSlMgY29kZVwiKScpXG4vL1xuLy8gSXQgaXMgaW1wb3J0YW50IHRvIHJlYWxpemUgdGhhdCBpZiB5b3UgY3JlYXRlIGFuIGV4cHJlc3Npb24gZnJvbSBhIHN0cmluZyB0aGF0IGNvbnRhaW5zIHVzZXIgcHJvdmlkZWRcbi8vIGNvbnRlbnQgdGhlbiBpdCBpcyBwb3NzaWJsZSB0aGF0IHlvdXIgYXBwbGljYXRpb24gY29udGFpbnMgYSBzZWN1cml0eSB2dWxuZXJhYmlsaXR5IHRvIGFuIFhTUyBzdHlsZSBhdHRhY2suXG4vL1xuLy8gU2VlIGh0dHBzOi8vZG9jcy5hbmd1bGFyanMub3JnL2d1aWRlL3NlY3VyaXR5XG5cblxuZnVuY3Rpb24gZ2V0U3RyaW5nVmFsdWUobmFtZSkge1xuICAvLyBQcm9wZXJ0eSBuYW1lcyBtdXN0IGJlIHN0cmluZ3MuIFRoaXMgbWVhbnMgdGhhdCBub24tc3RyaW5nIG9iamVjdHMgY2Fubm90IGJlIHVzZWRcbiAgLy8gYXMga2V5cyBpbiBhbiBvYmplY3QuIEFueSBub24tc3RyaW5nIG9iamVjdCwgaW5jbHVkaW5nIGEgbnVtYmVyLCBpcyB0eXBlY2FzdGVkXG4gIC8vIGludG8gYSBzdHJpbmcgdmlhIHRoZSB0b1N0cmluZyBtZXRob2QuXG4gIC8vIC0tIE1ETiwgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL1Byb3BlcnR5X2FjY2Vzc29ycyNQcm9wZXJ0eV9uYW1lc1xuICAvL1xuICAvLyBTbywgdG8gZW5zdXJlIHRoYXQgd2UgYXJlIGNoZWNraW5nIHRoZSBzYW1lIGBuYW1lYCB0aGF0IEphdmFTY3JpcHQgd291bGQgdXNlLCB3ZSBjYXN0IGl0XG4gIC8vIHRvIGEgc3RyaW5nLiBJdCdzIG5vdCBhbHdheXMgcG9zc2libGUuIElmIGBuYW1lYCBpcyBhbiBvYmplY3QgYW5kIGl0cyBgdG9TdHJpbmdgIG1ldGhvZCBpc1xuICAvLyAnYnJva2VuJyAoZG9lc24ndCByZXR1cm4gYSBzdHJpbmcsIGlzbid0IGEgZnVuY3Rpb24sIGV0Yy4pLCBhbiBlcnJvciB3aWxsIGJlIHRocm93bjpcbiAgLy9cbiAgLy8gVHlwZUVycm9yOiBDYW5ub3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXG4gIC8vXG4gIC8vIEZvciBwZXJmb3JtYW5jZSByZWFzb25zLCB3ZSBkb24ndCBjYXRjaCB0aGlzIGVycm9yIGhlcmUgYW5kIGFsbG93IGl0IHRvIHByb3BhZ2F0ZSB1cCB0aGUgY2FsbFxuICAvLyBzdGFjay4gTm90ZSB0aGF0IHlvdSdsbCBnZXQgdGhlIHNhbWUgZXJyb3IgaW4gSmF2YVNjcmlwdCBpZiB5b3UgdHJ5IHRvIGFjY2VzcyBhIHByb3BlcnR5IHVzaW5nXG4gIC8vIHN1Y2ggYSAnYnJva2VuJyBvYmplY3QgYXMgYSBrZXkuXG4gIHJldHVybiBuYW1lICsgJyc7XG59XG5cblxudmFyIE9QRVJBVE9SUyA9IGNyZWF0ZU1hcCgpO1xuZm9yRWFjaCgnKyAtICogLyAlID09PSAhPT0gPT0gIT0gPCA+IDw9ID49ICYmIHx8ICEgPSB8Jy5zcGxpdCgnICcpLCBmdW5jdGlvbihvcGVyYXRvcikgeyBPUEVSQVRPUlNbb3BlcmF0b3JdID0gdHJ1ZTsgfSk7XG52YXIgRVNDQVBFID0geyduJzonXFxuJywgJ2YnOidcXGYnLCAncic6J1xccicsICd0JzonXFx0JywgJ3YnOidcXHYnLCAnXFwnJzonXFwnJywgJ1wiJzonXCInfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBMZXhlciA9IGZ1bmN0aW9uIExleGVyKG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbn07XG5cbkxleGVyLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IExleGVyLFxuXG4gIGxleDogZnVuY3Rpb24odGV4dCkge1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgdGhpcy5pbmRleCA9IDA7XG4gICAgdGhpcy50b2tlbnMgPSBbXTtcblxuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgICAgdmFyIGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcbiAgICAgIGlmIChjaCA9PT0gJ1wiJyB8fCBjaCA9PT0gJ1xcJycpIHtcbiAgICAgICAgdGhpcy5yZWFkU3RyaW5nKGNoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc051bWJlcihjaCkgfHwgY2ggPT09ICcuJyAmJiB0aGlzLmlzTnVtYmVyKHRoaXMucGVlaygpKSkge1xuICAgICAgICB0aGlzLnJlYWROdW1iZXIoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0lkZW50aWZpZXJTdGFydCh0aGlzLnBlZWtNdWx0aWNoYXIoKSkpIHtcbiAgICAgICAgdGhpcy5yZWFkSWRlbnQoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pcyhjaCwgJygpe31bXS4sOzo/JykpIHtcbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6IHRoaXMuaW5kZXgsIHRleHQ6IGNofSk7XG4gICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc1doaXRlc3BhY2UoY2gpKSB7XG4gICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjaDIgPSBjaCArIHRoaXMucGVlaygpO1xuICAgICAgICB2YXIgY2gzID0gY2gyICsgdGhpcy5wZWVrKDIpO1xuICAgICAgICB2YXIgb3AxID0gT1BFUkFUT1JTW2NoXTtcbiAgICAgICAgdmFyIG9wMiA9IE9QRVJBVE9SU1tjaDJdO1xuICAgICAgICB2YXIgb3AzID0gT1BFUkFUT1JTW2NoM107XG4gICAgICAgIGlmIChvcDEgfHwgb3AyIHx8IG9wMykge1xuICAgICAgICAgIHZhciB0b2tlbiA9IG9wMyA/IGNoMyA6IChvcDIgPyBjaDIgOiBjaCk7XG4gICAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6IHRoaXMuaW5kZXgsIHRleHQ6IHRva2VuLCBvcGVyYXRvcjogdHJ1ZX0pO1xuICAgICAgICAgIHRoaXMuaW5kZXggKz0gdG9rZW4ubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudGhyb3dFcnJvcignVW5leHBlY3RlZCBuZXh0IGNoYXJhY3RlciAnLCB0aGlzLmluZGV4LCB0aGlzLmluZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG9rZW5zO1xuICB9LFxuXG4gIGlzOiBmdW5jdGlvbihjaCwgY2hhcnMpIHtcbiAgICByZXR1cm4gY2hhcnMuaW5kZXhPZihjaCkgIT09IC0xO1xuICB9LFxuXG4gIHBlZWs6IGZ1bmN0aW9uKGkpIHtcbiAgICB2YXIgbnVtID0gaSB8fCAxO1xuICAgIHJldHVybiAodGhpcy5pbmRleCArIG51bSA8IHRoaXMudGV4dC5sZW5ndGgpID8gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4ICsgbnVtKSA6IGZhbHNlO1xuICB9LFxuXG4gIGlzTnVtYmVyOiBmdW5jdGlvbihjaCkge1xuICAgIHJldHVybiAoJzAnIDw9IGNoICYmIGNoIDw9ICc5JykgJiYgdHlwZW9mIGNoID09PSAnc3RyaW5nJztcbiAgfSxcblxuICBpc1doaXRlc3BhY2U6IGZ1bmN0aW9uKGNoKSB7XG4gICAgLy8gSUUgdHJlYXRzIG5vbi1icmVha2luZyBzcGFjZSBhcyBcXHUwMEEwXG4gICAgcmV0dXJuIChjaCA9PT0gJyAnIHx8IGNoID09PSAnXFxyJyB8fCBjaCA9PT0gJ1xcdCcgfHxcbiAgICAgICAgICAgIGNoID09PSAnXFxuJyB8fCBjaCA9PT0gJ1xcdicgfHwgY2ggPT09ICdcXHUwMEEwJyk7XG4gIH0sXG5cbiAgaXNJZGVudGlmaWVyU3RhcnQ6IGZ1bmN0aW9uKGNoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pc0lkZW50aWZpZXJTdGFydCA/XG4gICAgICAgIHRoaXMub3B0aW9ucy5pc0lkZW50aWZpZXJTdGFydChjaCwgdGhpcy5jb2RlUG9pbnRBdChjaCkpIDpcbiAgICAgICAgdGhpcy5pc1ZhbGlkSWRlbnRpZmllclN0YXJ0KGNoKTtcbiAgfSxcblxuICBpc1ZhbGlkSWRlbnRpZmllclN0YXJ0OiBmdW5jdGlvbihjaCkge1xuICAgIHJldHVybiAoJ2EnIDw9IGNoICYmIGNoIDw9ICd6JyB8fFxuICAgICAgICAgICAgJ0EnIDw9IGNoICYmIGNoIDw9ICdaJyB8fFxuICAgICAgICAgICAgJ18nID09PSBjaCB8fCBjaCA9PT0gJyQnKTtcbiAgfSxcblxuICBpc0lkZW50aWZpZXJDb250aW51ZTogZnVuY3Rpb24oY2gpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmlzSWRlbnRpZmllckNvbnRpbnVlID9cbiAgICAgICAgdGhpcy5vcHRpb25zLmlzSWRlbnRpZmllckNvbnRpbnVlKGNoLCB0aGlzLmNvZGVQb2ludEF0KGNoKSkgOlxuICAgICAgICB0aGlzLmlzVmFsaWRJZGVudGlmaWVyQ29udGludWUoY2gpO1xuICB9LFxuXG4gIGlzVmFsaWRJZGVudGlmaWVyQ29udGludWU6IGZ1bmN0aW9uKGNoLCBjcCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWRJZGVudGlmaWVyU3RhcnQoY2gsIGNwKSB8fCB0aGlzLmlzTnVtYmVyKGNoKTtcbiAgfSxcblxuICBjb2RlUG9pbnRBdDogZnVuY3Rpb24oY2gpIHtcbiAgICBpZiAoY2gubGVuZ3RoID09PSAxKSByZXR1cm4gY2guY2hhckNvZGVBdCgwKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICAgIHJldHVybiAoY2guY2hhckNvZGVBdCgwKSA8PCAxMCkgKyBjaC5jaGFyQ29kZUF0KDEpIC0gMHgzNUZEQzAwO1xuICB9LFxuXG4gIHBlZWtNdWx0aWNoYXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XG4gICAgdmFyIHBlZWsgPSB0aGlzLnBlZWsoKTtcbiAgICBpZiAoIXBlZWspIHtcbiAgICAgIHJldHVybiBjaDtcbiAgICB9XG4gICAgdmFyIGNwMSA9IGNoLmNoYXJDb2RlQXQoMCk7XG4gICAgdmFyIGNwMiA9IHBlZWsuY2hhckNvZGVBdCgwKTtcbiAgICBpZiAoY3AxID49IDB4RDgwMCAmJiBjcDEgPD0gMHhEQkZGICYmIGNwMiA+PSAweERDMDAgJiYgY3AyIDw9IDB4REZGRikge1xuICAgICAgcmV0dXJuIGNoICsgcGVlaztcbiAgICB9XG4gICAgcmV0dXJuIGNoO1xuICB9LFxuXG4gIGlzRXhwT3BlcmF0b3I6IGZ1bmN0aW9uKGNoKSB7XG4gICAgcmV0dXJuIChjaCA9PT0gJy0nIHx8IGNoID09PSAnKycgfHwgdGhpcy5pc051bWJlcihjaCkpO1xuICB9LFxuXG4gIHRocm93RXJyb3I6IGZ1bmN0aW9uKGVycm9yLCBzdGFydCwgZW5kKSB7XG4gICAgZW5kID0gZW5kIHx8IHRoaXMuaW5kZXg7XG4gICAgdmFyIGNvbFN0ciA9IChpc0RlZmluZWQoc3RhcnQpXG4gICAgICAgICAgICA/ICdzICcgKyBzdGFydCArICAnLScgKyB0aGlzLmluZGV4ICsgJyBbJyArIHRoaXMudGV4dC5zdWJzdHJpbmcoc3RhcnQsIGVuZCkgKyAnXSdcbiAgICAgICAgICAgIDogJyAnICsgZW5kKTtcbiAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2xleGVycicsICdMZXhlciBFcnJvcjogezB9IGF0IGNvbHVtbnsxfSBpbiBleHByZXNzaW9uIFt7Mn1dLicsXG4gICAgICAgIGVycm9yLCBjb2xTdHIsIHRoaXMudGV4dCk7XG4gIH0sXG5cbiAgcmVhZE51bWJlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG51bWJlciA9ICcnO1xuICAgIHZhciBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLnRleHQubGVuZ3RoKSB7XG4gICAgICB2YXIgY2ggPSBsb3dlcmNhc2UodGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSk7XG4gICAgICBpZiAoY2ggPT09ICcuJyB8fCB0aGlzLmlzTnVtYmVyKGNoKSkge1xuICAgICAgICBudW1iZXIgKz0gY2g7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcGVla0NoID0gdGhpcy5wZWVrKCk7XG4gICAgICAgIGlmIChjaCA9PT0gJ2UnICYmIHRoaXMuaXNFeHBPcGVyYXRvcihwZWVrQ2gpKSB7XG4gICAgICAgICAgbnVtYmVyICs9IGNoO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNFeHBPcGVyYXRvcihjaCkgJiZcbiAgICAgICAgICAgIHBlZWtDaCAmJiB0aGlzLmlzTnVtYmVyKHBlZWtDaCkgJiZcbiAgICAgICAgICAgIG51bWJlci5jaGFyQXQobnVtYmVyLmxlbmd0aCAtIDEpID09PSAnZScpIHtcbiAgICAgICAgICBudW1iZXIgKz0gY2g7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0V4cE9wZXJhdG9yKGNoKSAmJlxuICAgICAgICAgICAgKCFwZWVrQ2ggfHwgIXRoaXMuaXNOdW1iZXIocGVla0NoKSkgJiZcbiAgICAgICAgICAgIG51bWJlci5jaGFyQXQobnVtYmVyLmxlbmd0aCAtIDEpID09PSAnZScpIHtcbiAgICAgICAgICB0aGlzLnRocm93RXJyb3IoJ0ludmFsaWQgZXhwb25lbnQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5pbmRleCsrO1xuICAgIH1cbiAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgIGluZGV4OiBzdGFydCxcbiAgICAgIHRleHQ6IG51bWJlcixcbiAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgdmFsdWU6IE51bWJlcihudW1iZXIpXG4gICAgfSk7XG4gIH0sXG5cbiAgcmVhZElkZW50OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgIHRoaXMuaW5kZXggKz0gdGhpcy5wZWVrTXVsdGljaGFyKCkubGVuZ3RoO1xuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgICAgdmFyIGNoID0gdGhpcy5wZWVrTXVsdGljaGFyKCk7XG4gICAgICBpZiAoIXRoaXMuaXNJZGVudGlmaWVyQ29udGludWUoY2gpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdGhpcy5pbmRleCArPSBjaC5sZW5ndGg7XG4gICAgfVxuICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgaW5kZXg6IHN0YXJ0LFxuICAgICAgdGV4dDogdGhpcy50ZXh0LnNsaWNlKHN0YXJ0LCB0aGlzLmluZGV4KSxcbiAgICAgIGlkZW50aWZpZXI6IHRydWVcbiAgICB9KTtcbiAgfSxcblxuICByZWFkU3RyaW5nOiBmdW5jdGlvbihxdW90ZSkge1xuICAgIHZhciBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgdGhpcy5pbmRleCsrO1xuICAgIHZhciBzdHJpbmcgPSAnJztcbiAgICB2YXIgcmF3U3RyaW5nID0gcXVvdGU7XG4gICAgdmFyIGVzY2FwZSA9IGZhbHNlO1xuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgICAgdmFyIGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcbiAgICAgIHJhd1N0cmluZyArPSBjaDtcbiAgICAgIGlmIChlc2NhcGUpIHtcbiAgICAgICAgaWYgKGNoID09PSAndScpIHtcbiAgICAgICAgICB2YXIgaGV4ID0gdGhpcy50ZXh0LnN1YnN0cmluZyh0aGlzLmluZGV4ICsgMSwgdGhpcy5pbmRleCArIDUpO1xuICAgICAgICAgIGlmICghaGV4Lm1hdGNoKC9bXFxkYS1mXXs0fS9pKSkge1xuICAgICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJbnZhbGlkIHVuaWNvZGUgZXNjYXBlIFtcXFxcdScgKyBoZXggKyAnXScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmluZGV4ICs9IDQ7XG4gICAgICAgICAgc3RyaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoaGV4LCAxNikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByZXAgPSBFU0NBUEVbY2hdO1xuICAgICAgICAgIHN0cmluZyA9IHN0cmluZyArIChyZXAgfHwgY2gpO1xuICAgICAgICB9XG4gICAgICAgIGVzY2FwZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ1xcXFwnKSB7XG4gICAgICAgIGVzY2FwZSA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGNoID09PSBxdW90ZSkge1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICAgIGluZGV4OiBzdGFydCxcbiAgICAgICAgICB0ZXh0OiByYXdTdHJpbmcsXG4gICAgICAgICAgY29uc3RhbnQ6IHRydWUsXG4gICAgICAgICAgdmFsdWU6IHN0cmluZ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyaW5nICs9IGNoO1xuICAgICAgfVxuICAgICAgdGhpcy5pbmRleCsrO1xuICAgIH1cbiAgICB0aGlzLnRocm93RXJyb3IoJ1VudGVybWluYXRlZCBxdW90ZScsIHN0YXJ0KTtcbiAgfVxufTtcblxudmFyIEFTVCA9IGZ1bmN0aW9uIEFTVChsZXhlciwgb3B0aW9ucykge1xuICB0aGlzLmxleGVyID0gbGV4ZXI7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG59O1xuXG5BU1QuUHJvZ3JhbSA9ICdQcm9ncmFtJztcbkFTVC5FeHByZXNzaW9uU3RhdGVtZW50ID0gJ0V4cHJlc3Npb25TdGF0ZW1lbnQnO1xuQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uID0gJ0Fzc2lnbm1lbnRFeHByZXNzaW9uJztcbkFTVC5Db25kaXRpb25hbEV4cHJlc3Npb24gPSAnQ29uZGl0aW9uYWxFeHByZXNzaW9uJztcbkFTVC5Mb2dpY2FsRXhwcmVzc2lvbiA9ICdMb2dpY2FsRXhwcmVzc2lvbic7XG5BU1QuQmluYXJ5RXhwcmVzc2lvbiA9ICdCaW5hcnlFeHByZXNzaW9uJztcbkFTVC5VbmFyeUV4cHJlc3Npb24gPSAnVW5hcnlFeHByZXNzaW9uJztcbkFTVC5DYWxsRXhwcmVzc2lvbiA9ICdDYWxsRXhwcmVzc2lvbic7XG5BU1QuTWVtYmVyRXhwcmVzc2lvbiA9ICdNZW1iZXJFeHByZXNzaW9uJztcbkFTVC5JZGVudGlmaWVyID0gJ0lkZW50aWZpZXInO1xuQVNULkxpdGVyYWwgPSAnTGl0ZXJhbCc7XG5BU1QuQXJyYXlFeHByZXNzaW9uID0gJ0FycmF5RXhwcmVzc2lvbic7XG5BU1QuUHJvcGVydHkgPSAnUHJvcGVydHknO1xuQVNULk9iamVjdEV4cHJlc3Npb24gPSAnT2JqZWN0RXhwcmVzc2lvbic7XG5BU1QuVGhpc0V4cHJlc3Npb24gPSAnVGhpc0V4cHJlc3Npb24nO1xuQVNULkxvY2Fsc0V4cHJlc3Npb24gPSAnTG9jYWxzRXhwcmVzc2lvbic7XG5cbi8vIEludGVybmFsIHVzZSBvbmx5XG5BU1QuTkdWYWx1ZVBhcmFtZXRlciA9ICdOR1ZhbHVlUGFyYW1ldGVyJztcblxuQVNULnByb3RvdHlwZSA9IHtcbiAgYXN0OiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLnRva2VucyA9IHRoaXMubGV4ZXIubGV4KHRleHQpO1xuXG4gICAgdmFyIHZhbHVlID0gdGhpcy5wcm9ncmFtKCk7XG5cbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoICE9PSAwKSB7XG4gICAgICB0aGlzLnRocm93RXJyb3IoJ2lzIGFuIHVuZXhwZWN0ZWQgdG9rZW4nLCB0aGlzLnRva2Vuc1swXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuXG4gIHByb2dyYW06IGZ1bmN0aW9uKCkge1xuICAgIHZhciBib2R5ID0gW107XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggPiAwICYmICF0aGlzLnBlZWsoJ30nLCAnKScsICc7JywgJ10nKSlcbiAgICAgICAgYm9keS5wdXNoKHRoaXMuZXhwcmVzc2lvblN0YXRlbWVudCgpKTtcbiAgICAgIGlmICghdGhpcy5leHBlY3QoJzsnKSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBBU1QuUHJvZ3JhbSwgYm9keTogYm9keX07XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGV4cHJlc3Npb25TdGF0ZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7IHR5cGU6IEFTVC5FeHByZXNzaW9uU3RhdGVtZW50LCBleHByZXNzaW9uOiB0aGlzLmZpbHRlckNoYWluKCkgfTtcbiAgfSxcblxuICBmaWx0ZXJDaGFpbjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLmV4cHJlc3Npb24oKTtcbiAgICB3aGlsZSAodGhpcy5leHBlY3QoJ3wnKSkge1xuICAgICAgbGVmdCA9IHRoaXMuZmlsdGVyKGxlZnQpO1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBleHByZXNzaW9uOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5hc3NpZ25tZW50KCk7XG4gIH0sXG5cbiAgYXNzaWdubWVudDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3VsdCA9IHRoaXMudGVybmFyeSgpO1xuICAgIGlmICh0aGlzLmV4cGVjdCgnPScpKSB7XG4gICAgICBpZiAoIWlzQXNzaWduYWJsZShyZXN1bHQpKSB7XG4gICAgICAgIHRocm93ICRwYXJzZU1pbkVycignbHZhbCcsICdUcnlpbmcgdG8gYXNzaWduIGEgdmFsdWUgdG8gYSBub24gbC12YWx1ZScpO1xuICAgICAgfVxuXG4gICAgICByZXN1bHQgPSB7IHR5cGU6IEFTVC5Bc3NpZ25tZW50RXhwcmVzc2lvbiwgbGVmdDogcmVzdWx0LCByaWdodDogdGhpcy5hc3NpZ25tZW50KCksIG9wZXJhdG9yOiAnPSd9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxuXG4gIHRlcm5hcnk6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ZXN0ID0gdGhpcy5sb2dpY2FsT1IoKTtcbiAgICB2YXIgYWx0ZXJuYXRlO1xuICAgIHZhciBjb25zZXF1ZW50O1xuICAgIGlmICh0aGlzLmV4cGVjdCgnPycpKSB7XG4gICAgICBhbHRlcm5hdGUgPSB0aGlzLmV4cHJlc3Npb24oKTtcbiAgICAgIGlmICh0aGlzLmNvbnN1bWUoJzonKSkge1xuICAgICAgICBjb25zZXF1ZW50ID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IEFTVC5Db25kaXRpb25hbEV4cHJlc3Npb24sIHRlc3Q6IHRlc3QsIGFsdGVybmF0ZTogYWx0ZXJuYXRlLCBjb25zZXF1ZW50OiBjb25zZXF1ZW50fTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRlc3Q7XG4gIH0sXG5cbiAgbG9naWNhbE9SOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMubG9naWNhbEFORCgpO1xuICAgIHdoaWxlICh0aGlzLmV4cGVjdCgnfHwnKSkge1xuICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkxvZ2ljYWxFeHByZXNzaW9uLCBvcGVyYXRvcjogJ3x8JywgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMubG9naWNhbEFORCgpIH07XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIGxvZ2ljYWxBTkQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy5lcXVhbGl0eSgpO1xuICAgIHdoaWxlICh0aGlzLmV4cGVjdCgnJiYnKSkge1xuICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkxvZ2ljYWxFeHByZXNzaW9uLCBvcGVyYXRvcjogJyYmJywgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMuZXF1YWxpdHkoKX07XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIGVxdWFsaXR5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMucmVsYXRpb25hbCgpO1xuICAgIHZhciB0b2tlbjtcbiAgICB3aGlsZSAoKHRva2VuID0gdGhpcy5leHBlY3QoJz09JywnIT0nLCc9PT0nLCchPT0nKSkpIHtcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5CaW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMucmVsYXRpb25hbCgpIH07XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIHJlbGF0aW9uYWw6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy5hZGRpdGl2ZSgpO1xuICAgIHZhciB0b2tlbjtcbiAgICB3aGlsZSAoKHRva2VuID0gdGhpcy5leHBlY3QoJzwnLCAnPicsICc8PScsICc+PScpKSkge1xuICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkJpbmFyeUV4cHJlc3Npb24sIG9wZXJhdG9yOiB0b2tlbi50ZXh0LCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy5hZGRpdGl2ZSgpIH07XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIGFkZGl0aXZlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMubXVsdGlwbGljYXRpdmUoKTtcbiAgICB2YXIgdG9rZW47XG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCcrJywnLScpKSkge1xuICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkJpbmFyeUV4cHJlc3Npb24sIG9wZXJhdG9yOiB0b2tlbi50ZXh0LCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy5tdWx0aXBsaWNhdGl2ZSgpIH07XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIG11bHRpcGxpY2F0aXZlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMudW5hcnkoKTtcbiAgICB2YXIgdG9rZW47XG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCcqJywnLycsJyUnKSkpIHtcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5CaW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMudW5hcnkoKSB9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICB1bmFyeTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRva2VuO1xuICAgIGlmICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnKycsICctJywgJyEnKSkpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IEFTVC5VbmFyeUV4cHJlc3Npb24sIG9wZXJhdG9yOiB0b2tlbi50ZXh0LCBwcmVmaXg6IHRydWUsIGFyZ3VtZW50OiB0aGlzLnVuYXJ5KCkgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJpbWFyeSgpO1xuICAgIH1cbiAgfSxcblxuICBwcmltYXJ5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcHJpbWFyeTtcbiAgICBpZiAodGhpcy5leHBlY3QoJygnKSkge1xuICAgICAgcHJpbWFyeSA9IHRoaXMuZmlsdGVyQ2hhaW4oKTtcbiAgICAgIHRoaXMuY29uc3VtZSgnKScpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5leHBlY3QoJ1snKSkge1xuICAgICAgcHJpbWFyeSA9IHRoaXMuYXJyYXlEZWNsYXJhdGlvbigpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5leHBlY3QoJ3snKSkge1xuICAgICAgcHJpbWFyeSA9IHRoaXMub2JqZWN0KCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnNlbGZSZWZlcmVudGlhbC5oYXNPd25Qcm9wZXJ0eSh0aGlzLnBlZWsoKS50ZXh0KSkge1xuICAgICAgcHJpbWFyeSA9IGNvcHkodGhpcy5zZWxmUmVmZXJlbnRpYWxbdGhpcy5jb25zdW1lKCkudGV4dF0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmxpdGVyYWxzLmhhc093blByb3BlcnR5KHRoaXMucGVlaygpLnRleHQpKSB7XG4gICAgICBwcmltYXJ5ID0geyB0eXBlOiBBU1QuTGl0ZXJhbCwgdmFsdWU6IHRoaXMub3B0aW9ucy5saXRlcmFsc1t0aGlzLmNvbnN1bWUoKS50ZXh0XX07XG4gICAgfSBlbHNlIGlmICh0aGlzLnBlZWsoKS5pZGVudGlmaWVyKSB7XG4gICAgICBwcmltYXJ5ID0gdGhpcy5pZGVudGlmaWVyKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnBlZWsoKS5jb25zdGFudCkge1xuICAgICAgcHJpbWFyeSA9IHRoaXMuY29uc3RhbnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50aHJvd0Vycm9yKCdub3QgYSBwcmltYXJ5IGV4cHJlc3Npb24nLCB0aGlzLnBlZWsoKSk7XG4gICAgfVxuXG4gICAgdmFyIG5leHQ7XG4gICAgd2hpbGUgKChuZXh0ID0gdGhpcy5leHBlY3QoJygnLCAnWycsICcuJykpKSB7XG4gICAgICBpZiAobmV4dC50ZXh0ID09PSAnKCcpIHtcbiAgICAgICAgcHJpbWFyeSA9IHt0eXBlOiBBU1QuQ2FsbEV4cHJlc3Npb24sIGNhbGxlZTogcHJpbWFyeSwgYXJndW1lbnRzOiB0aGlzLnBhcnNlQXJndW1lbnRzKCkgfTtcbiAgICAgICAgdGhpcy5jb25zdW1lKCcpJyk7XG4gICAgICB9IGVsc2UgaWYgKG5leHQudGV4dCA9PT0gJ1snKSB7XG4gICAgICAgIHByaW1hcnkgPSB7IHR5cGU6IEFTVC5NZW1iZXJFeHByZXNzaW9uLCBvYmplY3Q6IHByaW1hcnksIHByb3BlcnR5OiB0aGlzLmV4cHJlc3Npb24oKSwgY29tcHV0ZWQ6IHRydWUgfTtcbiAgICAgICAgdGhpcy5jb25zdW1lKCddJyk7XG4gICAgICB9IGVsc2UgaWYgKG5leHQudGV4dCA9PT0gJy4nKSB7XG4gICAgICAgIHByaW1hcnkgPSB7IHR5cGU6IEFTVC5NZW1iZXJFeHByZXNzaW9uLCBvYmplY3Q6IHByaW1hcnksIHByb3BlcnR5OiB0aGlzLmlkZW50aWZpZXIoKSwgY29tcHV0ZWQ6IGZhbHNlIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRocm93RXJyb3IoJ0lNUE9TU0lCTEUnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByaW1hcnk7XG4gIH0sXG5cbiAgZmlsdGVyOiBmdW5jdGlvbihiYXNlRXhwcmVzc2lvbikge1xuICAgIHZhciBhcmdzID0gW2Jhc2VFeHByZXNzaW9uXTtcbiAgICB2YXIgcmVzdWx0ID0ge3R5cGU6IEFTVC5DYWxsRXhwcmVzc2lvbiwgY2FsbGVlOiB0aGlzLmlkZW50aWZpZXIoKSwgYXJndW1lbnRzOiBhcmdzLCBmaWx0ZXI6IHRydWV9O1xuXG4gICAgd2hpbGUgKHRoaXMuZXhwZWN0KCc6JykpIHtcbiAgICAgIGFyZ3MucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcblxuICBwYXJzZUFyZ3VtZW50czogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnKScpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgYXJncy5wdXNoKHRoaXMuZmlsdGVyQ2hhaW4oKSk7XG4gICAgICB9IHdoaWxlICh0aGlzLmV4cGVjdCgnLCcpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFyZ3M7XG4gIH0sXG5cbiAgaWRlbnRpZmllcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRva2VuID0gdGhpcy5jb25zdW1lKCk7XG4gICAgaWYgKCF0b2tlbi5pZGVudGlmaWVyKSB7XG4gICAgICB0aGlzLnRocm93RXJyb3IoJ2lzIG5vdCBhIHZhbGlkIGlkZW50aWZpZXInLCB0b2tlbik7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IEFTVC5JZGVudGlmaWVyLCBuYW1lOiB0b2tlbi50ZXh0IH07XG4gIH0sXG5cbiAgY29uc3RhbnQ6IGZ1bmN0aW9uKCkge1xuICAgIC8vIFRPRE8gY2hlY2sgdGhhdCBpdCBpcyBhIGNvbnN0YW50XG4gICAgcmV0dXJuIHsgdHlwZTogQVNULkxpdGVyYWwsIHZhbHVlOiB0aGlzLmNvbnN1bWUoKS52YWx1ZSB9O1xuICB9LFxuXG4gIGFycmF5RGVjbGFyYXRpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbGVtZW50cyA9IFtdO1xuICAgIGlmICh0aGlzLnBlZWtUb2tlbigpLnRleHQgIT09ICddJykge1xuICAgICAgZG8ge1xuICAgICAgICBpZiAodGhpcy5wZWVrKCddJykpIHtcbiAgICAgICAgICAvLyBTdXBwb3J0IHRyYWlsaW5nIGNvbW1hcyBwZXIgRVM1LjEuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudHMucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7XG4gICAgICB9IHdoaWxlICh0aGlzLmV4cGVjdCgnLCcpKTtcbiAgICB9XG4gICAgdGhpcy5jb25zdW1lKCddJyk7XG5cbiAgICByZXR1cm4geyB0eXBlOiBBU1QuQXJyYXlFeHByZXNzaW9uLCBlbGVtZW50czogZWxlbWVudHMgfTtcbiAgfSxcblxuICBvYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwcm9wZXJ0aWVzID0gW10sIHByb3BlcnR5O1xuICAgIGlmICh0aGlzLnBlZWtUb2tlbigpLnRleHQgIT09ICd9Jykge1xuICAgICAgZG8ge1xuICAgICAgICBpZiAodGhpcy5wZWVrKCd9JykpIHtcbiAgICAgICAgICAvLyBTdXBwb3J0IHRyYWlsaW5nIGNvbW1hcyBwZXIgRVM1LjEuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcHJvcGVydHkgPSB7dHlwZTogQVNULlByb3BlcnR5LCBraW5kOiAnaW5pdCd9O1xuICAgICAgICBpZiAodGhpcy5wZWVrKCkuY29uc3RhbnQpIHtcbiAgICAgICAgICBwcm9wZXJ0eS5rZXkgPSB0aGlzLmNvbnN0YW50KCk7XG4gICAgICAgICAgcHJvcGVydHkuY29tcHV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoJzonKTtcbiAgICAgICAgICBwcm9wZXJ0eS52YWx1ZSA9IHRoaXMuZXhwcmVzc2lvbigpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGVlaygpLmlkZW50aWZpZXIpIHtcbiAgICAgICAgICBwcm9wZXJ0eS5rZXkgPSB0aGlzLmlkZW50aWZpZXIoKTtcbiAgICAgICAgICBwcm9wZXJ0eS5jb21wdXRlZCA9IGZhbHNlO1xuICAgICAgICAgIGlmICh0aGlzLnBlZWsoJzonKSkge1xuICAgICAgICAgICAgdGhpcy5jb25zdW1lKCc6Jyk7XG4gICAgICAgICAgICBwcm9wZXJ0eS52YWx1ZSA9IHRoaXMuZXhwcmVzc2lvbigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9wZXJ0eS52YWx1ZSA9IHByb3BlcnR5LmtleTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wZWVrKCdbJykpIHtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoJ1snKTtcbiAgICAgICAgICBwcm9wZXJ0eS5rZXkgPSB0aGlzLmV4cHJlc3Npb24oKTtcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoJ10nKTtcbiAgICAgICAgICBwcm9wZXJ0eS5jb21wdXRlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5jb25zdW1lKCc6Jyk7XG4gICAgICAgICAgcHJvcGVydHkudmFsdWUgPSB0aGlzLmV4cHJlc3Npb24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRocm93RXJyb3IoJ2ludmFsaWQga2V5JywgdGhpcy5wZWVrKCkpO1xuICAgICAgICB9XG4gICAgICAgIHByb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICB9IHdoaWxlICh0aGlzLmV4cGVjdCgnLCcpKTtcbiAgICB9XG4gICAgdGhpcy5jb25zdW1lKCd9Jyk7XG5cbiAgICByZXR1cm4ge3R5cGU6IEFTVC5PYmplY3RFeHByZXNzaW9uLCBwcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzIH07XG4gIH0sXG5cbiAgdGhyb3dFcnJvcjogZnVuY3Rpb24obXNnLCB0b2tlbikge1xuICAgIHRocm93ICRwYXJzZU1pbkVycignc3ludGF4JyxcbiAgICAgICAgJ1N5bnRheCBFcnJvcjogVG9rZW4gXFwnezB9XFwnIHsxfSBhdCBjb2x1bW4gezJ9IG9mIHRoZSBleHByZXNzaW9uIFt7M31dIHN0YXJ0aW5nIGF0IFt7NH1dLicsXG4gICAgICAgICAgdG9rZW4udGV4dCwgbXNnLCAodG9rZW4uaW5kZXggKyAxKSwgdGhpcy50ZXh0LCB0aGlzLnRleHQuc3Vic3RyaW5nKHRva2VuLmluZGV4KSk7XG4gIH0sXG5cbiAgY29uc3VtZTogZnVuY3Rpb24oZTEpIHtcbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3Vlb2UnLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9JywgdGhpcy50ZXh0KTtcbiAgICB9XG5cbiAgICB2YXIgdG9rZW4gPSB0aGlzLmV4cGVjdChlMSk7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyB1bmV4cGVjdGVkLCBleHBlY3RpbmcgWycgKyBlMSArICddJywgdGhpcy5wZWVrKCkpO1xuICAgIH1cbiAgICByZXR1cm4gdG9rZW47XG4gIH0sXG5cbiAgcGVla1Rva2VuOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3Vlb2UnLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9JywgdGhpcy50ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG9rZW5zWzBdO1xuICB9LFxuXG4gIHBlZWs6IGZ1bmN0aW9uKGUxLCBlMiwgZTMsIGU0KSB7XG4gICAgcmV0dXJuIHRoaXMucGVla0FoZWFkKDAsIGUxLCBlMiwgZTMsIGU0KTtcbiAgfSxcblxuICBwZWVrQWhlYWQ6IGZ1bmN0aW9uKGksIGUxLCBlMiwgZTMsIGU0KSB7XG4gICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCA+IGkpIHtcbiAgICAgIHZhciB0b2tlbiA9IHRoaXMudG9rZW5zW2ldO1xuICAgICAgdmFyIHQgPSB0b2tlbi50ZXh0O1xuICAgICAgaWYgKHQgPT09IGUxIHx8IHQgPT09IGUyIHx8IHQgPT09IGUzIHx8IHQgPT09IGU0IHx8XG4gICAgICAgICAgKCFlMSAmJiAhZTIgJiYgIWUzICYmICFlNCkpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgZXhwZWN0OiBmdW5jdGlvbihlMSwgZTIsIGUzLCBlNCkge1xuICAgIHZhciB0b2tlbiA9IHRoaXMucGVlayhlMSwgZTIsIGUzLCBlNCk7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICB0aGlzLnRva2Vucy5zaGlmdCgpO1xuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgc2VsZlJlZmVyZW50aWFsOiB7XG4gICAgJ3RoaXMnOiB7dHlwZTogQVNULlRoaXNFeHByZXNzaW9uIH0sXG4gICAgJyRsb2NhbHMnOiB7dHlwZTogQVNULkxvY2Fsc0V4cHJlc3Npb24gfVxuICB9XG59O1xuXG5mdW5jdGlvbiBpZkRlZmluZWQodiwgZCkge1xuICByZXR1cm4gdHlwZW9mIHYgIT09ICd1bmRlZmluZWQnID8gdiA6IGQ7XG59XG5cbmZ1bmN0aW9uIHBsdXNGbihsLCByKSB7XG4gIGlmICh0eXBlb2YgbCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiByO1xuICBpZiAodHlwZW9mIHIgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbDtcbiAgcmV0dXJuIGwgKyByO1xufVxuXG5mdW5jdGlvbiBpc1N0YXRlbGVzcygkZmlsdGVyLCBmaWx0ZXJOYW1lKSB7XG4gIHZhciBmbiA9ICRmaWx0ZXIoZmlsdGVyTmFtZSk7XG4gIHJldHVybiAhZm4uJHN0YXRlZnVsO1xufVxuXG52YXIgUFVSSVRZX0FCU09MVVRFID0gMTtcbnZhciBQVVJJVFlfUkVMQVRJVkUgPSAyO1xuXG4vLyBEZXRlY3Qgbm9kZXMgd2hpY2ggY291bGQgZGVwZW5kIG9uIG5vbi1zaGFsbG93IHN0YXRlIG9mIG9iamVjdHNcbmZ1bmN0aW9uIGlzUHVyZShub2RlLCBwYXJlbnRJc1B1cmUpIHtcbiAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICAvLyBDb21wdXRlZCBtZW1iZXJzIG1pZ2h0IGludm9rZSBhIHN0YXRlZnVsIHRvU3RyaW5nKClcbiAgICBjYXNlIEFTVC5NZW1iZXJFeHByZXNzaW9uOlxuICAgICAgaWYgKG5vZGUuY29tcHV0ZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICAvLyBVbmFyeSBhbHdheXMgY29udmVydCB0byBwcmltYXRpdmVcbiAgICBjYXNlIEFTVC5VbmFyeUV4cHJlc3Npb246XG4gICAgICByZXR1cm4gUFVSSVRZX0FCU09MVVRFO1xuXG4gICAgLy8gVGhlIGJpbmFyeSArIG9wZXJhdG9yIGNhbiBpbnZva2UgYSBzdGF0ZWZ1bCB0b1N0cmluZygpLlxuICAgIGNhc2UgQVNULkJpbmFyeUV4cHJlc3Npb246XG4gICAgICByZXR1cm4gbm9kZS5vcGVyYXRvciAhPT0gJysnID8gUFVSSVRZX0FCU09MVVRFIDogZmFsc2U7XG5cbiAgICAvLyBGdW5jdGlvbnMgLyBmaWx0ZXJzIHByb2JhYmx5IHJlYWQgc3RhdGUgZnJvbSB3aXRoaW4gb2JqZWN0c1xuICAgIGNhc2UgQVNULkNhbGxFeHByZXNzaW9uOlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuICh1bmRlZmluZWQgPT09IHBhcmVudElzUHVyZSkgPyBQVVJJVFlfUkVMQVRJVkUgOiBwYXJlbnRJc1B1cmU7XG59XG5cbmZ1bmN0aW9uIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LCAkZmlsdGVyLCBwYXJlbnRJc1B1cmUpIHtcbiAgdmFyIGFsbENvbnN0YW50cztcbiAgdmFyIGFyZ3NUb1dhdGNoO1xuICB2YXIgaXNTdGF0ZWxlc3NGaWx0ZXI7XG5cbiAgdmFyIGFzdElzUHVyZSA9IGFzdC5pc1B1cmUgPSBpc1B1cmUoYXN0LCBwYXJlbnRJc1B1cmUpO1xuXG4gIHN3aXRjaCAoYXN0LnR5cGUpIHtcbiAgY2FzZSBBU1QuUHJvZ3JhbTpcbiAgICBhbGxDb25zdGFudHMgPSB0cnVlO1xuICAgIGZvckVhY2goYXN0LmJvZHksIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoZXhwci5leHByZXNzaW9uLCAkZmlsdGVyLCBhc3RJc1B1cmUpO1xuICAgICAgYWxsQ29uc3RhbnRzID0gYWxsQ29uc3RhbnRzICYmIGV4cHIuZXhwcmVzc2lvbi5jb25zdGFudDtcbiAgICB9KTtcbiAgICBhc3QuY29uc3RhbnQgPSBhbGxDb25zdGFudHM7XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULkxpdGVyYWw6XG4gICAgYXN0LmNvbnN0YW50ID0gdHJ1ZTtcbiAgICBhc3QudG9XYXRjaCA9IFtdO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5VbmFyeUV4cHJlc3Npb246XG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QuYXJndW1lbnQsICRmaWx0ZXIsIGFzdElzUHVyZSk7XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmFyZ3VtZW50LmNvbnN0YW50O1xuICAgIGFzdC50b1dhdGNoID0gYXN0LmFyZ3VtZW50LnRvV2F0Y2g7XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULkJpbmFyeUV4cHJlc3Npb246XG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QubGVmdCwgJGZpbHRlciwgYXN0SXNQdXJlKTtcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5yaWdodCwgJGZpbHRlciwgYXN0SXNQdXJlKTtcbiAgICBhc3QuY29uc3RhbnQgPSBhc3QubGVmdC5jb25zdGFudCAmJiBhc3QucmlnaHQuY29uc3RhbnQ7XG4gICAgYXN0LnRvV2F0Y2ggPSBhc3QubGVmdC50b1dhdGNoLmNvbmNhdChhc3QucmlnaHQudG9XYXRjaCk7XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULkxvZ2ljYWxFeHByZXNzaW9uOlxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmxlZnQsICRmaWx0ZXIsIGFzdElzUHVyZSk7XG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QucmlnaHQsICRmaWx0ZXIsIGFzdElzUHVyZSk7XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmxlZnQuY29uc3RhbnQgJiYgYXN0LnJpZ2h0LmNvbnN0YW50O1xuICAgIGFzdC50b1dhdGNoID0gYXN0LmNvbnN0YW50ID8gW10gOiBbYXN0XTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuQ29uZGl0aW9uYWxFeHByZXNzaW9uOlxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LnRlc3QsICRmaWx0ZXIsIGFzdElzUHVyZSk7XG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QuYWx0ZXJuYXRlLCAkZmlsdGVyLCBhc3RJc1B1cmUpO1xuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmNvbnNlcXVlbnQsICRmaWx0ZXIsIGFzdElzUHVyZSk7XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LnRlc3QuY29uc3RhbnQgJiYgYXN0LmFsdGVybmF0ZS5jb25zdGFudCAmJiBhc3QuY29uc2VxdWVudC5jb25zdGFudDtcbiAgICBhc3QudG9XYXRjaCA9IGFzdC5jb25zdGFudCA/IFtdIDogW2FzdF07XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULklkZW50aWZpZXI6XG4gICAgYXN0LmNvbnN0YW50ID0gZmFsc2U7XG4gICAgYXN0LnRvV2F0Y2ggPSBbYXN0XTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuTWVtYmVyRXhwcmVzc2lvbjpcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5vYmplY3QsICRmaWx0ZXIsIGFzdElzUHVyZSk7XG4gICAgaWYgKGFzdC5jb21wdXRlZCkge1xuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QucHJvcGVydHksICRmaWx0ZXIsIGFzdElzUHVyZSk7XG4gICAgfVxuICAgIGFzdC5jb25zdGFudCA9IGFzdC5vYmplY3QuY29uc3RhbnQgJiYgKCFhc3QuY29tcHV0ZWQgfHwgYXN0LnByb3BlcnR5LmNvbnN0YW50KTtcbiAgICBhc3QudG9XYXRjaCA9IGFzdC5jb25zdGFudCA/IFtdIDogW2FzdF07XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULkNhbGxFeHByZXNzaW9uOlxuICAgIGlzU3RhdGVsZXNzRmlsdGVyID0gYXN0LmZpbHRlciA/IGlzU3RhdGVsZXNzKCRmaWx0ZXIsIGFzdC5jYWxsZWUubmFtZSkgOiBmYWxzZTtcbiAgICBhbGxDb25zdGFudHMgPSBpc1N0YXRlbGVzc0ZpbHRlcjtcbiAgICBhcmdzVG9XYXRjaCA9IFtdO1xuICAgIGZvckVhY2goYXN0LmFyZ3VtZW50cywgZnVuY3Rpb24oZXhwcikge1xuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhleHByLCAkZmlsdGVyLCBhc3RJc1B1cmUpO1xuICAgICAgYWxsQ29uc3RhbnRzID0gYWxsQ29uc3RhbnRzICYmIGV4cHIuY29uc3RhbnQ7XG4gICAgICBhcmdzVG9XYXRjaC5wdXNoLmFwcGx5KGFyZ3NUb1dhdGNoLCBleHByLnRvV2F0Y2gpO1xuICAgIH0pO1xuICAgIGFzdC5jb25zdGFudCA9IGFsbENvbnN0YW50cztcbiAgICBhc3QudG9XYXRjaCA9IGlzU3RhdGVsZXNzRmlsdGVyID8gYXJnc1RvV2F0Y2ggOiBbYXN0XTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuQXNzaWdubWVudEV4cHJlc3Npb246XG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QubGVmdCwgJGZpbHRlciwgYXN0SXNQdXJlKTtcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5yaWdodCwgJGZpbHRlciwgYXN0SXNQdXJlKTtcbiAgICBhc3QuY29uc3RhbnQgPSBhc3QubGVmdC5jb25zdGFudCAmJiBhc3QucmlnaHQuY29uc3RhbnQ7XG4gICAgYXN0LnRvV2F0Y2ggPSBbYXN0XTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuQXJyYXlFeHByZXNzaW9uOlxuICAgIGFsbENvbnN0YW50cyA9IHRydWU7XG4gICAgYXJnc1RvV2F0Y2ggPSBbXTtcbiAgICBmb3JFYWNoKGFzdC5lbGVtZW50cywgZnVuY3Rpb24oZXhwcikge1xuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhleHByLCAkZmlsdGVyLCBhc3RJc1B1cmUpO1xuICAgICAgYWxsQ29uc3RhbnRzID0gYWxsQ29uc3RhbnRzICYmIGV4cHIuY29uc3RhbnQ7XG4gICAgICBhcmdzVG9XYXRjaC5wdXNoLmFwcGx5KGFyZ3NUb1dhdGNoLCBleHByLnRvV2F0Y2gpO1xuICAgIH0pO1xuICAgIGFzdC5jb25zdGFudCA9IGFsbENvbnN0YW50cztcbiAgICBhc3QudG9XYXRjaCA9IGFyZ3NUb1dhdGNoO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5PYmplY3RFeHByZXNzaW9uOlxuICAgIGFsbENvbnN0YW50cyA9IHRydWU7XG4gICAgYXJnc1RvV2F0Y2ggPSBbXTtcbiAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhwcm9wZXJ0eS52YWx1ZSwgJGZpbHRlciwgYXN0SXNQdXJlKTtcbiAgICAgIGFsbENvbnN0YW50cyA9IGFsbENvbnN0YW50cyAmJiBwcm9wZXJ0eS52YWx1ZS5jb25zdGFudDtcbiAgICAgIGFyZ3NUb1dhdGNoLnB1c2guYXBwbHkoYXJnc1RvV2F0Y2gsIHByb3BlcnR5LnZhbHVlLnRvV2F0Y2gpO1xuICAgICAgaWYgKHByb3BlcnR5LmNvbXB1dGVkKSB7XG4gICAgICAgIC8vYHtba2V5XTogdmFsdWV9YCBpbXBsaWNpdGx5IGRvZXMgYGtleS50b1N0cmluZygpYCB3aGljaCBtYXkgYmUgbm9uLXB1cmVcbiAgICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhwcm9wZXJ0eS5rZXksICRmaWx0ZXIsIC8qcGFyZW50SXNQdXJlPSovZmFsc2UpO1xuICAgICAgICBhbGxDb25zdGFudHMgPSBhbGxDb25zdGFudHMgJiYgcHJvcGVydHkua2V5LmNvbnN0YW50O1xuICAgICAgICBhcmdzVG9XYXRjaC5wdXNoLmFwcGx5KGFyZ3NUb1dhdGNoLCBwcm9wZXJ0eS5rZXkudG9XYXRjaCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXN0LmNvbnN0YW50ID0gYWxsQ29uc3RhbnRzO1xuICAgIGFzdC50b1dhdGNoID0gYXJnc1RvV2F0Y2g7XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULlRoaXNFeHByZXNzaW9uOlxuICAgIGFzdC5jb25zdGFudCA9IGZhbHNlO1xuICAgIGFzdC50b1dhdGNoID0gW107XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULkxvY2Fsc0V4cHJlc3Npb246XG4gICAgYXN0LmNvbnN0YW50ID0gZmFsc2U7XG4gICAgYXN0LnRvV2F0Y2ggPSBbXTtcbiAgICBicmVhaztcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRJbnB1dHMoYm9keSkge1xuICBpZiAoYm9keS5sZW5ndGggIT09IDEpIHJldHVybjtcbiAgdmFyIGxhc3RFeHByZXNzaW9uID0gYm9keVswXS5leHByZXNzaW9uO1xuICB2YXIgY2FuZGlkYXRlID0gbGFzdEV4cHJlc3Npb24udG9XYXRjaDtcbiAgaWYgKGNhbmRpZGF0ZS5sZW5ndGggIT09IDEpIHJldHVybiBjYW5kaWRhdGU7XG4gIHJldHVybiBjYW5kaWRhdGVbMF0gIT09IGxhc3RFeHByZXNzaW9uID8gY2FuZGlkYXRlIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc0Fzc2lnbmFibGUoYXN0KSB7XG4gIHJldHVybiBhc3QudHlwZSA9PT0gQVNULklkZW50aWZpZXIgfHwgYXN0LnR5cGUgPT09IEFTVC5NZW1iZXJFeHByZXNzaW9uO1xufVxuXG5mdW5jdGlvbiBhc3NpZ25hYmxlQVNUKGFzdCkge1xuICBpZiAoYXN0LmJvZHkubGVuZ3RoID09PSAxICYmIGlzQXNzaWduYWJsZShhc3QuYm9keVswXS5leHByZXNzaW9uKSkge1xuICAgIHJldHVybiB7dHlwZTogQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uLCBsZWZ0OiBhc3QuYm9keVswXS5leHByZXNzaW9uLCByaWdodDoge3R5cGU6IEFTVC5OR1ZhbHVlUGFyYW1ldGVyfSwgb3BlcmF0b3I6ICc9J307XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNMaXRlcmFsKGFzdCkge1xuICByZXR1cm4gYXN0LmJvZHkubGVuZ3RoID09PSAwIHx8XG4gICAgICBhc3QuYm9keS5sZW5ndGggPT09IDEgJiYgKFxuICAgICAgYXN0LmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlID09PSBBU1QuTGl0ZXJhbCB8fFxuICAgICAgYXN0LmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlID09PSBBU1QuQXJyYXlFeHByZXNzaW9uIHx8XG4gICAgICBhc3QuYm9keVswXS5leHByZXNzaW9uLnR5cGUgPT09IEFTVC5PYmplY3RFeHByZXNzaW9uKTtcbn1cblxuZnVuY3Rpb24gaXNDb25zdGFudChhc3QpIHtcbiAgcmV0dXJuIGFzdC5jb25zdGFudDtcbn1cblxuZnVuY3Rpb24gQVNUQ29tcGlsZXIoJGZpbHRlcikge1xuICB0aGlzLiRmaWx0ZXIgPSAkZmlsdGVyO1xufVxuXG5BU1RDb21waWxlci5wcm90b3R5cGUgPSB7XG4gIGNvbXBpbGU6IGZ1bmN0aW9uKGFzdCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbmV4dElkOiAwLFxuICAgICAgZmlsdGVyczoge30sXG4gICAgICBmbjoge3ZhcnM6IFtdLCBib2R5OiBbXSwgb3duOiB7fX0sXG4gICAgICBhc3NpZ246IHt2YXJzOiBbXSwgYm9keTogW10sIG93bjoge319LFxuICAgICAgaW5wdXRzOiBbXVxuICAgIH07XG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QsIHNlbGYuJGZpbHRlcik7XG4gICAgdmFyIGV4dHJhID0gJyc7XG4gICAgdmFyIGFzc2lnbmFibGU7XG4gICAgdGhpcy5zdGFnZSA9ICdhc3NpZ24nO1xuICAgIGlmICgoYXNzaWduYWJsZSA9IGFzc2lnbmFibGVBU1QoYXN0KSkpIHtcbiAgICAgIHRoaXMuc3RhdGUuY29tcHV0aW5nID0gJ2Fzc2lnbic7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5uZXh0SWQoKTtcbiAgICAgIHRoaXMucmVjdXJzZShhc3NpZ25hYmxlLCByZXN1bHQpO1xuICAgICAgdGhpcy5yZXR1cm5fKHJlc3VsdCk7XG4gICAgICBleHRyYSA9ICdmbi5hc3NpZ249JyArIHRoaXMuZ2VuZXJhdGVGdW5jdGlvbignYXNzaWduJywgJ3MsdixsJyk7XG4gICAgfVxuICAgIHZhciB0b1dhdGNoID0gZ2V0SW5wdXRzKGFzdC5ib2R5KTtcbiAgICBzZWxmLnN0YWdlID0gJ2lucHV0cyc7XG4gICAgZm9yRWFjaCh0b1dhdGNoLCBmdW5jdGlvbih3YXRjaCwga2V5KSB7XG4gICAgICB2YXIgZm5LZXkgPSAnZm4nICsga2V5O1xuICAgICAgc2VsZi5zdGF0ZVtmbktleV0gPSB7dmFyczogW10sIGJvZHk6IFtdLCBvd246IHt9fTtcbiAgICAgIHNlbGYuc3RhdGUuY29tcHV0aW5nID0gZm5LZXk7XG4gICAgICB2YXIgaW50b0lkID0gc2VsZi5uZXh0SWQoKTtcbiAgICAgIHNlbGYucmVjdXJzZSh3YXRjaCwgaW50b0lkKTtcbiAgICAgIHNlbGYucmV0dXJuXyhpbnRvSWQpO1xuICAgICAgc2VsZi5zdGF0ZS5pbnB1dHMucHVzaCh7bmFtZTogZm5LZXksIGlzUHVyZTogd2F0Y2guaXNQdXJlfSk7XG4gICAgICB3YXRjaC53YXRjaElkID0ga2V5O1xuICAgIH0pO1xuICAgIHRoaXMuc3RhdGUuY29tcHV0aW5nID0gJ2ZuJztcbiAgICB0aGlzLnN0YWdlID0gJ21haW4nO1xuICAgIHRoaXMucmVjdXJzZShhc3QpO1xuICAgIHZhciBmblN0cmluZyA9XG4gICAgICAvLyBUaGUgYnVpbGQgYW5kIG1pbmlmaWNhdGlvbiBzdGVwcyByZW1vdmUgdGhlIHN0cmluZyBcInVzZSBzdHJpY3RcIiBmcm9tIHRoZSBjb2RlLCBidXQgdGhpcyBpcyBkb25lIHVzaW5nIGEgcmVnZXguXG4gICAgICAvLyBUaGlzIGlzIGEgd29ya2Fyb3VuZCBmb3IgdGhpcyB1bnRpbCB3ZSBkbyBhIGJldHRlciBqb2IgYXQgb25seSByZW1vdmluZyB0aGUgcHJlZml4IG9ubHkgd2hlbiB3ZSBzaG91bGQuXG4gICAgICAnXCInICsgdGhpcy5VU0UgKyAnICcgKyB0aGlzLlNUUklDVCArICdcIjtcXG4nICtcbiAgICAgIHRoaXMuZmlsdGVyUHJlZml4KCkgK1xuICAgICAgJ3ZhciBmbj0nICsgdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uKCdmbicsICdzLGwsYSxpJykgK1xuICAgICAgZXh0cmEgK1xuICAgICAgdGhpcy53YXRjaEZucygpICtcbiAgICAgICdyZXR1cm4gZm47JztcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICAgIHZhciBmbiA9IChuZXcgRnVuY3Rpb24oJyRmaWx0ZXInLFxuICAgICAgICAnZ2V0U3RyaW5nVmFsdWUnLFxuICAgICAgICAnaWZEZWZpbmVkJyxcbiAgICAgICAgJ3BsdXMnLFxuICAgICAgICBmblN0cmluZykpKFxuICAgICAgICAgIHRoaXMuJGZpbHRlcixcbiAgICAgICAgICBnZXRTdHJpbmdWYWx1ZSxcbiAgICAgICAgICBpZkRlZmluZWQsXG4gICAgICAgICAgcGx1c0ZuKTtcbiAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGFnZSA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gZm47XG4gIH0sXG5cbiAgVVNFOiAndXNlJyxcblxuICBTVFJJQ1Q6ICdzdHJpY3QnLFxuXG4gIHdhdGNoRm5zOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGlucHV0cyA9IHRoaXMuc3RhdGUuaW5wdXRzO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBmb3JFYWNoKGlucHV0cywgZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgIHJlc3VsdC5wdXNoKCd2YXIgJyArIGlucHV0Lm5hbWUgKyAnPScgKyBzZWxmLmdlbmVyYXRlRnVuY3Rpb24oaW5wdXQubmFtZSwgJ3MnKSk7XG4gICAgICBpZiAoaW5wdXQuaXNQdXJlKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGlucHV0Lm5hbWUsICcuaXNQdXJlPScgKyBKU09OLnN0cmluZ2lmeShpbnB1dC5pc1B1cmUpICsgJzsnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5wdXRzLmxlbmd0aCkge1xuICAgICAgcmVzdWx0LnB1c2goJ2ZuLmlucHV0cz1bJyArIGlucHV0cy5tYXAoZnVuY3Rpb24oaSkgeyByZXR1cm4gaS5uYW1lOyB9KS5qb2luKCcsJykgKyAnXTsnKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5qb2luKCcnKTtcbiAgfSxcblxuICBnZW5lcmF0ZUZ1bmN0aW9uOiBmdW5jdGlvbihuYW1lLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gJ2Z1bmN0aW9uKCcgKyBwYXJhbXMgKyAnKXsnICtcbiAgICAgICAgdGhpcy52YXJzUHJlZml4KG5hbWUpICtcbiAgICAgICAgdGhpcy5ib2R5KG5hbWUpICtcbiAgICAgICAgJ307JztcbiAgfSxcblxuICBmaWx0ZXJQcmVmaXg6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYXJ0cyA9IFtdO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBmb3JFYWNoKHRoaXMuc3RhdGUuZmlsdGVycywgZnVuY3Rpb24oaWQsIGZpbHRlcikge1xuICAgICAgcGFydHMucHVzaChpZCArICc9JGZpbHRlcignICsgc2VsZi5lc2NhcGUoZmlsdGVyKSArICcpJyk7XG4gICAgfSk7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCkgcmV0dXJuICd2YXIgJyArIHBhcnRzLmpvaW4oJywnKSArICc7JztcbiAgICByZXR1cm4gJyc7XG4gIH0sXG5cbiAgdmFyc1ByZWZpeDogZnVuY3Rpb24oc2VjdGlvbikge1xuICAgIHJldHVybiB0aGlzLnN0YXRlW3NlY3Rpb25dLnZhcnMubGVuZ3RoID8gJ3ZhciAnICsgdGhpcy5zdGF0ZVtzZWN0aW9uXS52YXJzLmpvaW4oJywnKSArICc7JyA6ICcnO1xuICB9LFxuXG4gIGJvZHk6IGZ1bmN0aW9uKHNlY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZVtzZWN0aW9uXS5ib2R5LmpvaW4oJycpO1xuICB9LFxuXG4gIHJlY3Vyc2U6IGZ1bmN0aW9uKGFzdCwgaW50b0lkLCBuYW1lSWQsIHJlY3Vyc2lvbkZuLCBjcmVhdGUsIHNraXBXYXRjaElkQ2hlY2spIHtcbiAgICB2YXIgbGVmdCwgcmlnaHQsIHNlbGYgPSB0aGlzLCBhcmdzLCBleHByZXNzaW9uLCBjb21wdXRlZDtcbiAgICByZWN1cnNpb25GbiA9IHJlY3Vyc2lvbkZuIHx8IG5vb3A7XG4gICAgaWYgKCFza2lwV2F0Y2hJZENoZWNrICYmIGlzRGVmaW5lZChhc3Qud2F0Y2hJZCkpIHtcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xuICAgICAgdGhpcy5pZl8oJ2knLFxuICAgICAgICB0aGlzLmxhenlBc3NpZ24oaW50b0lkLCB0aGlzLmNvbXB1dGVkTWVtYmVyKCdpJywgYXN0LndhdGNoSWQpKSxcbiAgICAgICAgdGhpcy5sYXp5UmVjdXJzZShhc3QsIGludG9JZCwgbmFtZUlkLCByZWN1cnNpb25GbiwgY3JlYXRlLCB0cnVlKVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3dpdGNoIChhc3QudHlwZSkge1xuICAgIGNhc2UgQVNULlByb2dyYW06XG4gICAgICBmb3JFYWNoKGFzdC5ib2R5LCBmdW5jdGlvbihleHByZXNzaW9uLCBwb3MpIHtcbiAgICAgICAgc2VsZi5yZWN1cnNlKGV4cHJlc3Npb24uZXhwcmVzc2lvbiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGV4cHIpIHsgcmlnaHQgPSBleHByOyB9KTtcbiAgICAgICAgaWYgKHBvcyAhPT0gYXN0LmJvZHkubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHNlbGYuY3VycmVudCgpLmJvZHkucHVzaChyaWdodCwgJzsnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnJldHVybl8ocmlnaHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULkxpdGVyYWw6XG4gICAgICBleHByZXNzaW9uID0gdGhpcy5lc2NhcGUoYXN0LnZhbHVlKTtcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICByZWN1cnNpb25GbihpbnRvSWQgfHwgZXhwcmVzc2lvbik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFTVC5VbmFyeUV4cHJlc3Npb246XG4gICAgICB0aGlzLnJlY3Vyc2UoYXN0LmFyZ3VtZW50LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24oZXhwcikgeyByaWdodCA9IGV4cHI7IH0pO1xuICAgICAgZXhwcmVzc2lvbiA9IGFzdC5vcGVyYXRvciArICcoJyArIHRoaXMuaWZEZWZpbmVkKHJpZ2h0LCAwKSArICcpJztcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICByZWN1cnNpb25GbihleHByZXNzaW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULkJpbmFyeUV4cHJlc3Npb246XG4gICAgICB0aGlzLnJlY3Vyc2UoYXN0LmxlZnQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbihleHByKSB7IGxlZnQgPSBleHByOyB9KTtcbiAgICAgIHRoaXMucmVjdXJzZShhc3QucmlnaHQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbihleHByKSB7IHJpZ2h0ID0gZXhwcjsgfSk7XG4gICAgICBpZiAoYXN0Lm9wZXJhdG9yID09PSAnKycpIHtcbiAgICAgICAgZXhwcmVzc2lvbiA9IHRoaXMucGx1cyhsZWZ0LCByaWdodCk7XG4gICAgICB9IGVsc2UgaWYgKGFzdC5vcGVyYXRvciA9PT0gJy0nKSB7XG4gICAgICAgIGV4cHJlc3Npb24gPSB0aGlzLmlmRGVmaW5lZChsZWZ0LCAwKSArIGFzdC5vcGVyYXRvciArIHRoaXMuaWZEZWZpbmVkKHJpZ2h0LCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4cHJlc3Npb24gPSAnKCcgKyBsZWZ0ICsgJyknICsgYXN0Lm9wZXJhdG9yICsgJygnICsgcmlnaHQgKyAnKSc7XG4gICAgICB9XG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xuICAgICAgcmVjdXJzaW9uRm4oZXhwcmVzc2lvbik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFTVC5Mb2dpY2FsRXhwcmVzc2lvbjpcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xuICAgICAgc2VsZi5yZWN1cnNlKGFzdC5sZWZ0LCBpbnRvSWQpO1xuICAgICAgc2VsZi5pZl8oYXN0Lm9wZXJhdG9yID09PSAnJiYnID8gaW50b0lkIDogc2VsZi5ub3QoaW50b0lkKSwgc2VsZi5sYXp5UmVjdXJzZShhc3QucmlnaHQsIGludG9JZCkpO1xuICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xuICAgICAgc2VsZi5yZWN1cnNlKGFzdC50ZXN0LCBpbnRvSWQpO1xuICAgICAgc2VsZi5pZl8oaW50b0lkLCBzZWxmLmxhenlSZWN1cnNlKGFzdC5hbHRlcm5hdGUsIGludG9JZCksIHNlbGYubGF6eVJlY3Vyc2UoYXN0LmNvbnNlcXVlbnQsIGludG9JZCkpO1xuICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULklkZW50aWZpZXI6XG4gICAgICBpbnRvSWQgPSBpbnRvSWQgfHwgdGhpcy5uZXh0SWQoKTtcbiAgICAgIGlmIChuYW1lSWQpIHtcbiAgICAgICAgbmFtZUlkLmNvbnRleHQgPSBzZWxmLnN0YWdlID09PSAnaW5wdXRzJyA/ICdzJyA6IHRoaXMuYXNzaWduKHRoaXMubmV4dElkKCksIHRoaXMuZ2V0SGFzT3duUHJvcGVydHkoJ2wnLCBhc3QubmFtZSkgKyAnP2w6cycpO1xuICAgICAgICBuYW1lSWQuY29tcHV0ZWQgPSBmYWxzZTtcbiAgICAgICAgbmFtZUlkLm5hbWUgPSBhc3QubmFtZTtcbiAgICAgIH1cbiAgICAgIHNlbGYuaWZfKHNlbGYuc3RhZ2UgPT09ICdpbnB1dHMnIHx8IHNlbGYubm90KHNlbGYuZ2V0SGFzT3duUHJvcGVydHkoJ2wnLCBhc3QubmFtZSkpLFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLmlmXyhzZWxmLnN0YWdlID09PSAnaW5wdXRzJyB8fCAncycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcbiAgICAgICAgICAgICAgc2VsZi5pZl8oXG4gICAgICAgICAgICAgICAgc2VsZi5pc051bGwoc2VsZi5ub25Db21wdXRlZE1lbWJlcigncycsIGFzdC5uYW1lKSksXG4gICAgICAgICAgICAgICAgc2VsZi5sYXp5QXNzaWduKHNlbGYubm9uQ29tcHV0ZWRNZW1iZXIoJ3MnLCBhc3QubmFtZSksICd7fScpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgc2VsZi5ub25Db21wdXRlZE1lbWJlcigncycsIGFzdC5uYW1lKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIGludG9JZCAmJiBzZWxmLmxhenlBc3NpZ24oaW50b0lkLCBzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKCdsJywgYXN0Lm5hbWUpKVxuICAgICAgICApO1xuICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULk1lbWJlckV4cHJlc3Npb246XG4gICAgICBsZWZ0ID0gbmFtZUlkICYmIChuYW1lSWQuY29udGV4dCA9IHRoaXMubmV4dElkKCkpIHx8IHRoaXMubmV4dElkKCk7XG4gICAgICBpbnRvSWQgPSBpbnRvSWQgfHwgdGhpcy5uZXh0SWQoKTtcbiAgICAgIHNlbGYucmVjdXJzZShhc3Qub2JqZWN0LCBsZWZ0LCB1bmRlZmluZWQsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmlmXyhzZWxmLm5vdE51bGwobGVmdCksIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChhc3QuY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIHJpZ2h0ID0gc2VsZi5uZXh0SWQoKTtcbiAgICAgICAgICAgIHNlbGYucmVjdXJzZShhc3QucHJvcGVydHksIHJpZ2h0KTtcbiAgICAgICAgICAgIHNlbGYuZ2V0U3RyaW5nVmFsdWUocmlnaHQpO1xuICAgICAgICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcbiAgICAgICAgICAgICAgc2VsZi5pZl8oc2VsZi5ub3Qoc2VsZi5jb21wdXRlZE1lbWJlcihsZWZ0LCByaWdodCkpLCBzZWxmLmxhenlBc3NpZ24oc2VsZi5jb21wdXRlZE1lbWJlcihsZWZ0LCByaWdodCksICd7fScpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSBzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KTtcbiAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICAgICAgICBpZiAobmFtZUlkKSB7XG4gICAgICAgICAgICAgIG5hbWVJZC5jb21wdXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgIG5hbWVJZC5uYW1lID0gcmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjcmVhdGUgJiYgY3JlYXRlICE9PSAxKSB7XG4gICAgICAgICAgICAgIHNlbGYuaWZfKHNlbGYuaXNOdWxsKHNlbGYubm9uQ29tcHV0ZWRNZW1iZXIobGVmdCwgYXN0LnByb3BlcnR5Lm5hbWUpKSwgc2VsZi5sYXp5QXNzaWduKHNlbGYubm9uQ29tcHV0ZWRNZW1iZXIobGVmdCwgYXN0LnByb3BlcnR5Lm5hbWUpLCAne30nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHByZXNzaW9uID0gc2VsZi5ub25Db21wdXRlZE1lbWJlcihsZWZ0LCBhc3QucHJvcGVydHkubmFtZSk7XG4gICAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xuICAgICAgICAgICAgaWYgKG5hbWVJZCkge1xuICAgICAgICAgICAgICBuYW1lSWQuY29tcHV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgbmFtZUlkLm5hbWUgPSBhc3QucHJvcGVydHkubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgJ3VuZGVmaW5lZCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcbiAgICAgIH0sICEhY3JlYXRlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULkNhbGxFeHByZXNzaW9uOlxuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XG4gICAgICBpZiAoYXN0LmZpbHRlcikge1xuICAgICAgICByaWdodCA9IHNlbGYuZmlsdGVyKGFzdC5jYWxsZWUubmFtZSk7XG4gICAgICAgIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yRWFjaChhc3QuYXJndW1lbnRzLCBmdW5jdGlvbihleHByKSB7XG4gICAgICAgICAgdmFyIGFyZ3VtZW50ID0gc2VsZi5uZXh0SWQoKTtcbiAgICAgICAgICBzZWxmLnJlY3Vyc2UoZXhwciwgYXJndW1lbnQpO1xuICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICBleHByZXNzaW9uID0gcmlnaHQgKyAnKCcgKyBhcmdzLmpvaW4oJywnKSArICcpJztcbiAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJpZ2h0ID0gc2VsZi5uZXh0SWQoKTtcbiAgICAgICAgbGVmdCA9IHt9O1xuICAgICAgICBhcmdzID0gW107XG4gICAgICAgIHNlbGYucmVjdXJzZShhc3QuY2FsbGVlLCByaWdodCwgbGVmdCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5pZl8oc2VsZi5ub3ROdWxsKHJpZ2h0KSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgICAgICAgc2VsZi5yZWN1cnNlKGV4cHIsIGFzdC5jb25zdGFudCA/IHVuZGVmaW5lZCA6IHNlbGYubmV4dElkKCksIHVuZGVmaW5lZCwgZnVuY3Rpb24oYXJndW1lbnQpIHtcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGxlZnQubmFtZSkge1xuICAgICAgICAgICAgICBleHByZXNzaW9uID0gc2VsZi5tZW1iZXIobGVmdC5jb250ZXh0LCBsZWZ0Lm5hbWUsIGxlZnQuY29tcHV0ZWQpICsgJygnICsgYXJncy5qb2luKCcsJykgKyAnKSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBleHByZXNzaW9uID0gcmlnaHQgKyAnKCcgKyBhcmdzLmpvaW4oJywnKSArICcpJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsICd1bmRlZmluZWQnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uOlxuICAgICAgcmlnaHQgPSB0aGlzLm5leHRJZCgpO1xuICAgICAgbGVmdCA9IHt9O1xuICAgICAgdGhpcy5yZWN1cnNlKGFzdC5sZWZ0LCB1bmRlZmluZWQsIGxlZnQsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmlmXyhzZWxmLm5vdE51bGwobGVmdC5jb250ZXh0KSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5yZWN1cnNlKGFzdC5yaWdodCwgcmlnaHQpO1xuICAgICAgICAgIGV4cHJlc3Npb24gPSBzZWxmLm1lbWJlcihsZWZ0LmNvbnRleHQsIGxlZnQubmFtZSwgbGVmdC5jb21wdXRlZCkgKyBhc3Qub3BlcmF0b3IgKyByaWdodDtcbiAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xuICAgICAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCB8fCBleHByZXNzaW9uKTtcbiAgICAgICAgfSk7XG4gICAgICB9LCAxKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULkFycmF5RXhwcmVzc2lvbjpcbiAgICAgIGFyZ3MgPSBbXTtcbiAgICAgIGZvckVhY2goYXN0LmVsZW1lbnRzLCBmdW5jdGlvbihleHByKSB7XG4gICAgICAgIHNlbGYucmVjdXJzZShleHByLCBhc3QuY29uc3RhbnQgPyB1bmRlZmluZWQgOiBzZWxmLm5leHRJZCgpLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGFyZ3VtZW50KSB7XG4gICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGV4cHJlc3Npb24gPSAnWycgKyBhcmdzLmpvaW4oJywnKSArICddJztcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICByZWN1cnNpb25GbihpbnRvSWQgfHwgZXhwcmVzc2lvbik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFTVC5PYmplY3RFeHByZXNzaW9uOlxuICAgICAgYXJncyA9IFtdO1xuICAgICAgY29tcHV0ZWQgPSBmYWxzZTtcbiAgICAgIGZvckVhY2goYXN0LnByb3BlcnRpZXMsIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICAgIGlmIChwcm9wZXJ0eS5jb21wdXRlZCkge1xuICAgICAgICAgIGNvbXB1dGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoY29tcHV0ZWQpIHtcbiAgICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XG4gICAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgJ3t9Jyk7XG4gICAgICAgIGZvckVhY2goYXN0LnByb3BlcnRpZXMsIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICAgICAgaWYgKHByb3BlcnR5LmNvbXB1dGVkKSB7XG4gICAgICAgICAgICBsZWZ0ID0gc2VsZi5uZXh0SWQoKTtcbiAgICAgICAgICAgIHNlbGYucmVjdXJzZShwcm9wZXJ0eS5rZXksIGxlZnQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZWZ0ID0gcHJvcGVydHkua2V5LnR5cGUgPT09IEFTVC5JZGVudGlmaWVyID9cbiAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkua2V5Lm5hbWUgOlxuICAgICAgICAgICAgICAgICAgICAgICAoJycgKyBwcm9wZXJ0eS5rZXkudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByaWdodCA9IHNlbGYubmV4dElkKCk7XG4gICAgICAgICAgc2VsZi5yZWN1cnNlKHByb3BlcnR5LnZhbHVlLCByaWdodCk7XG4gICAgICAgICAgc2VsZi5hc3NpZ24oc2VsZi5tZW1iZXIoaW50b0lkLCBsZWZ0LCBwcm9wZXJ0eS5jb21wdXRlZCksIHJpZ2h0KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgICAgIHNlbGYucmVjdXJzZShwcm9wZXJ0eS52YWx1ZSwgYXN0LmNvbnN0YW50ID8gdW5kZWZpbmVkIDogc2VsZi5uZXh0SWQoKSwgdW5kZWZpbmVkLCBmdW5jdGlvbihleHByKSB7XG4gICAgICAgICAgICBhcmdzLnB1c2goc2VsZi5lc2NhcGUoXG4gICAgICAgICAgICAgICAgcHJvcGVydHkua2V5LnR5cGUgPT09IEFTVC5JZGVudGlmaWVyID8gcHJvcGVydHkua2V5Lm5hbWUgOlxuICAgICAgICAgICAgICAgICAgKCcnICsgcHJvcGVydHkua2V5LnZhbHVlKSkgK1xuICAgICAgICAgICAgICAgICc6JyArIGV4cHIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgZXhwcmVzc2lvbiA9ICd7JyArIGFyZ3Muam9pbignLCcpICsgJ30nO1xuICAgICAgICB0aGlzLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xuICAgICAgfVxuICAgICAgcmVjdXJzaW9uRm4oaW50b0lkIHx8IGV4cHJlc3Npb24pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuVGhpc0V4cHJlc3Npb246XG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsICdzJyk7XG4gICAgICByZWN1cnNpb25GbihpbnRvSWQgfHwgJ3MnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULkxvY2Fsc0V4cHJlc3Npb246XG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsICdsJyk7XG4gICAgICByZWN1cnNpb25GbihpbnRvSWQgfHwgJ2wnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULk5HVmFsdWVQYXJhbWV0ZXI6XG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsICd2Jyk7XG4gICAgICByZWN1cnNpb25GbihpbnRvSWQgfHwgJ3YnKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSxcblxuICBnZXRIYXNPd25Qcm9wZXJ0eTogZnVuY3Rpb24oZWxlbWVudCwgcHJvcGVydHkpIHtcbiAgICB2YXIga2V5ID0gZWxlbWVudCArICcuJyArIHByb3BlcnR5O1xuICAgIHZhciBvd24gPSB0aGlzLmN1cnJlbnQoKS5vd247XG4gICAgaWYgKCFvd24uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgb3duW2tleV0gPSB0aGlzLm5leHRJZChmYWxzZSwgZWxlbWVudCArICcmJignICsgdGhpcy5lc2NhcGUocHJvcGVydHkpICsgJyBpbiAnICsgZWxlbWVudCArICcpJyk7XG4gICAgfVxuICAgIHJldHVybiBvd25ba2V5XTtcbiAgfSxcblxuICBhc3NpZ246IGZ1bmN0aW9uKGlkLCB2YWx1ZSkge1xuICAgIGlmICghaWQpIHJldHVybjtcbiAgICB0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2goaWQsICc9JywgdmFsdWUsICc7Jyk7XG4gICAgcmV0dXJuIGlkO1xuICB9LFxuXG4gIGZpbHRlcjogZnVuY3Rpb24oZmlsdGVyTmFtZSkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5maWx0ZXJzLmhhc093blByb3BlcnR5KGZpbHRlck5hbWUpKSB7XG4gICAgICB0aGlzLnN0YXRlLmZpbHRlcnNbZmlsdGVyTmFtZV0gPSB0aGlzLm5leHRJZCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuZmlsdGVyc1tmaWx0ZXJOYW1lXTtcbiAgfSxcblxuICBpZkRlZmluZWQ6IGZ1bmN0aW9uKGlkLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gJ2lmRGVmaW5lZCgnICsgaWQgKyAnLCcgKyB0aGlzLmVzY2FwZShkZWZhdWx0VmFsdWUpICsgJyknO1xuICB9LFxuXG4gIHBsdXM6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuICdwbHVzKCcgKyBsZWZ0ICsgJywnICsgcmlnaHQgKyAnKSc7XG4gIH0sXG5cbiAgcmV0dXJuXzogZnVuY3Rpb24oaWQpIHtcbiAgICB0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2goJ3JldHVybiAnLCBpZCwgJzsnKTtcbiAgfSxcblxuICBpZl86IGZ1bmN0aW9uKHRlc3QsIGFsdGVybmF0ZSwgY29uc2VxdWVudCkge1xuICAgIGlmICh0ZXN0ID09PSB0cnVlKSB7XG4gICAgICBhbHRlcm5hdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGJvZHkgPSB0aGlzLmN1cnJlbnQoKS5ib2R5O1xuICAgICAgYm9keS5wdXNoKCdpZignLCB0ZXN0LCAnKXsnKTtcbiAgICAgIGFsdGVybmF0ZSgpO1xuICAgICAgYm9keS5wdXNoKCd9Jyk7XG4gICAgICBpZiAoY29uc2VxdWVudCkge1xuICAgICAgICBib2R5LnB1c2goJ2Vsc2V7Jyk7XG4gICAgICAgIGNvbnNlcXVlbnQoKTtcbiAgICAgICAgYm9keS5wdXNoKCd9Jyk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIG5vdDogZnVuY3Rpb24oZXhwcmVzc2lvbikge1xuICAgIHJldHVybiAnISgnICsgZXhwcmVzc2lvbiArICcpJztcbiAgfSxcblxuICBpc051bGw6IGZ1bmN0aW9uKGV4cHJlc3Npb24pIHtcbiAgICByZXR1cm4gZXhwcmVzc2lvbiArICc9PW51bGwnO1xuICB9LFxuXG4gIG5vdE51bGw6IGZ1bmN0aW9uKGV4cHJlc3Npb24pIHtcbiAgICByZXR1cm4gZXhwcmVzc2lvbiArICchPW51bGwnO1xuICB9LFxuXG4gIG5vbkNvbXB1dGVkTWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCkge1xuICAgIHZhciBTQUZFX0lERU5USUZJRVIgPSAvXlskX2EtekEtWl1bJF9hLXpBLVowLTldKiQvO1xuICAgIHZhciBVTlNBRkVfQ0hBUkFDVEVSUyA9IC9bXiRfYS16QS1aMC05XS9nO1xuICAgIGlmIChTQUZFX0lERU5USUZJRVIudGVzdChyaWdodCkpIHtcbiAgICAgIHJldHVybiBsZWZ0ICsgJy4nICsgcmlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBsZWZ0ICArICdbXCInICsgcmlnaHQucmVwbGFjZShVTlNBRkVfQ0hBUkFDVEVSUywgdGhpcy5zdHJpbmdFc2NhcGVGbikgKyAnXCJdJztcbiAgICB9XG4gIH0sXG5cbiAgY29tcHV0ZWRNZW1iZXI6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIGxlZnQgKyAnWycgKyByaWdodCArICddJztcbiAgfSxcblxuICBtZW1iZXI6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb21wdXRlZCkge1xuICAgIGlmIChjb21wdXRlZCkgcmV0dXJuIHRoaXMuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQpO1xuICAgIHJldHVybiB0aGlzLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KTtcbiAgfSxcblxuICBnZXRTdHJpbmdWYWx1ZTogZnVuY3Rpb24oaXRlbSkge1xuICAgIHRoaXMuYXNzaWduKGl0ZW0sICdnZXRTdHJpbmdWYWx1ZSgnICsgaXRlbSArICcpJyk7XG4gIH0sXG5cbiAgbGF6eVJlY3Vyc2U6IGZ1bmN0aW9uKGFzdCwgaW50b0lkLCBuYW1lSWQsIHJlY3Vyc2lvbkZuLCBjcmVhdGUsIHNraXBXYXRjaElkQ2hlY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5yZWN1cnNlKGFzdCwgaW50b0lkLCBuYW1lSWQsIHJlY3Vyc2lvbkZuLCBjcmVhdGUsIHNraXBXYXRjaElkQ2hlY2spO1xuICAgIH07XG4gIH0sXG5cbiAgbGF6eUFzc2lnbjogZnVuY3Rpb24oaWQsIHZhbHVlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuYXNzaWduKGlkLCB2YWx1ZSk7XG4gICAgfTtcbiAgfSxcblxuICBzdHJpbmdFc2NhcGVSZWdleDogL1teIGEtekEtWjAtOV0vZyxcblxuICBzdHJpbmdFc2NhcGVGbjogZnVuY3Rpb24oYykge1xuICAgIHJldHVybiAnXFxcXHUnICsgKCcwMDAwJyArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KTtcbiAgfSxcblxuICBlc2NhcGU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkgcmV0dXJuICdcXCcnICsgdmFsdWUucmVwbGFjZSh0aGlzLnN0cmluZ0VzY2FwZVJlZ2V4LCB0aGlzLnN0cmluZ0VzY2FwZUZuKSArICdcXCcnO1xuICAgIGlmIChpc051bWJlcih2YWx1ZSkpIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkgcmV0dXJuICd0cnVlJztcbiAgICBpZiAodmFsdWUgPT09IGZhbHNlKSByZXR1cm4gJ2ZhbHNlJztcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiAnbnVsbCc7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiAndW5kZWZpbmVkJztcblxuICAgIHRocm93ICRwYXJzZU1pbkVycignZXNjJywgJ0lNUE9TU0lCTEUnKTtcbiAgfSxcblxuICBuZXh0SWQ6IGZ1bmN0aW9uKHNraXAsIGluaXQpIHtcbiAgICB2YXIgaWQgPSAndicgKyAodGhpcy5zdGF0ZS5uZXh0SWQrKyk7XG4gICAgaWYgKCFza2lwKSB7XG4gICAgICB0aGlzLmN1cnJlbnQoKS52YXJzLnB1c2goaWQgKyAoaW5pdCA/ICc9JyArIGluaXQgOiAnJykpO1xuICAgIH1cbiAgICByZXR1cm4gaWQ7XG4gIH0sXG5cbiAgY3VycmVudDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGVbdGhpcy5zdGF0ZS5jb21wdXRpbmddO1xuICB9XG59O1xuXG5cbmZ1bmN0aW9uIEFTVEludGVycHJldGVyKCRmaWx0ZXIpIHtcbiAgdGhpcy4kZmlsdGVyID0gJGZpbHRlcjtcbn1cblxuQVNUSW50ZXJwcmV0ZXIucHJvdG90eXBlID0ge1xuICBjb21waWxlOiBmdW5jdGlvbihhc3QpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QsIHNlbGYuJGZpbHRlcik7XG4gICAgdmFyIGFzc2lnbmFibGU7XG4gICAgdmFyIGFzc2lnbjtcbiAgICBpZiAoKGFzc2lnbmFibGUgPSBhc3NpZ25hYmxlQVNUKGFzdCkpKSB7XG4gICAgICBhc3NpZ24gPSB0aGlzLnJlY3Vyc2UoYXNzaWduYWJsZSk7XG4gICAgfVxuICAgIHZhciB0b1dhdGNoID0gZ2V0SW5wdXRzKGFzdC5ib2R5KTtcbiAgICB2YXIgaW5wdXRzO1xuICAgIGlmICh0b1dhdGNoKSB7XG4gICAgICBpbnB1dHMgPSBbXTtcbiAgICAgIGZvckVhY2godG9XYXRjaCwgZnVuY3Rpb24od2F0Y2gsIGtleSkge1xuICAgICAgICB2YXIgaW5wdXQgPSBzZWxmLnJlY3Vyc2Uod2F0Y2gpO1xuICAgICAgICBpbnB1dC5pc1B1cmUgPSB3YXRjaC5pc1B1cmU7XG4gICAgICAgIHdhdGNoLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgIGlucHV0cy5wdXNoKGlucHV0KTtcbiAgICAgICAgd2F0Y2gud2F0Y2hJZCA9IGtleTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB2YXIgZXhwcmVzc2lvbnMgPSBbXTtcbiAgICBmb3JFYWNoKGFzdC5ib2R5LCBmdW5jdGlvbihleHByZXNzaW9uKSB7XG4gICAgICBleHByZXNzaW9ucy5wdXNoKHNlbGYucmVjdXJzZShleHByZXNzaW9uLmV4cHJlc3Npb24pKTtcbiAgICB9KTtcbiAgICB2YXIgZm4gPSBhc3QuYm9keS5sZW5ndGggPT09IDAgPyBub29wIDpcbiAgICAgICAgICAgICBhc3QuYm9keS5sZW5ndGggPT09IDEgPyBleHByZXNzaW9uc1swXSA6XG4gICAgICAgICAgICAgZnVuY3Rpb24oc2NvcGUsIGxvY2Fscykge1xuICAgICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZTtcbiAgICAgICAgICAgICAgIGZvckVhY2goZXhwcmVzc2lvbnMsIGZ1bmN0aW9uKGV4cCkge1xuICAgICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBleHAoc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgIHJldHVybiBsYXN0VmFsdWU7XG4gICAgICAgICAgICAgfTtcbiAgICBpZiAoYXNzaWduKSB7XG4gICAgICBmbi5hc3NpZ24gPSBmdW5jdGlvbihzY29wZSwgdmFsdWUsIGxvY2Fscykge1xuICAgICAgICByZXR1cm4gYXNzaWduKHNjb3BlLCBsb2NhbHMsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChpbnB1dHMpIHtcbiAgICAgIGZuLmlucHV0cyA9IGlucHV0cztcbiAgICB9XG4gICAgcmV0dXJuIGZuO1xuICB9LFxuXG4gIHJlY3Vyc2U6IGZ1bmN0aW9uKGFzdCwgY29udGV4dCwgY3JlYXRlKSB7XG4gICAgdmFyIGxlZnQsIHJpZ2h0LCBzZWxmID0gdGhpcywgYXJncztcbiAgICBpZiAoYXN0LmlucHV0KSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnB1dHMoYXN0LmlucHV0LCBhc3Qud2F0Y2hJZCk7XG4gICAgfVxuICAgIHN3aXRjaCAoYXN0LnR5cGUpIHtcbiAgICBjYXNlIEFTVC5MaXRlcmFsOlxuICAgICAgcmV0dXJuIHRoaXMudmFsdWUoYXN0LnZhbHVlLCBjb250ZXh0KTtcbiAgICBjYXNlIEFTVC5VbmFyeUV4cHJlc3Npb246XG4gICAgICByaWdodCA9IHRoaXMucmVjdXJzZShhc3QuYXJndW1lbnQpO1xuICAgICAgcmV0dXJuIHRoaXNbJ3VuYXJ5JyArIGFzdC5vcGVyYXRvcl0ocmlnaHQsIGNvbnRleHQpO1xuICAgIGNhc2UgQVNULkJpbmFyeUV4cHJlc3Npb246XG4gICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0KTtcbiAgICAgIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5yaWdodCk7XG4gICAgICByZXR1cm4gdGhpc1snYmluYXJ5JyArIGFzdC5vcGVyYXRvcl0obGVmdCwgcmlnaHQsIGNvbnRleHQpO1xuICAgIGNhc2UgQVNULkxvZ2ljYWxFeHByZXNzaW9uOlxuICAgICAgbGVmdCA9IHRoaXMucmVjdXJzZShhc3QubGVmdCk7XG4gICAgICByaWdodCA9IHRoaXMucmVjdXJzZShhc3QucmlnaHQpO1xuICAgICAgcmV0dXJuIHRoaXNbJ2JpbmFyeScgKyBhc3Qub3BlcmF0b3JdKGxlZnQsIHJpZ2h0LCBjb250ZXh0KTtcbiAgICBjYXNlIEFTVC5Db25kaXRpb25hbEV4cHJlc3Npb246XG4gICAgICByZXR1cm4gdGhpc1sndGVybmFyeT86J10oXG4gICAgICAgIHRoaXMucmVjdXJzZShhc3QudGVzdCksXG4gICAgICAgIHRoaXMucmVjdXJzZShhc3QuYWx0ZXJuYXRlKSxcbiAgICAgICAgdGhpcy5yZWN1cnNlKGFzdC5jb25zZXF1ZW50KSxcbiAgICAgICAgY29udGV4dFxuICAgICAgKTtcbiAgICBjYXNlIEFTVC5JZGVudGlmaWVyOlxuICAgICAgcmV0dXJuIHNlbGYuaWRlbnRpZmllcihhc3QubmFtZSwgY29udGV4dCwgY3JlYXRlKTtcbiAgICBjYXNlIEFTVC5NZW1iZXJFeHByZXNzaW9uOlxuICAgICAgbGVmdCA9IHRoaXMucmVjdXJzZShhc3Qub2JqZWN0LCBmYWxzZSwgISFjcmVhdGUpO1xuICAgICAgaWYgKCFhc3QuY29tcHV0ZWQpIHtcbiAgICAgICAgcmlnaHQgPSBhc3QucHJvcGVydHkubmFtZTtcbiAgICAgIH1cbiAgICAgIGlmIChhc3QuY29tcHV0ZWQpIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5wcm9wZXJ0eSk7XG4gICAgICByZXR1cm4gYXN0LmNvbXB1dGVkID9cbiAgICAgICAgdGhpcy5jb21wdXRlZE1lbWJlcihsZWZ0LCByaWdodCwgY29udGV4dCwgY3JlYXRlKSA6XG4gICAgICAgIHRoaXMubm9uQ29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQsIGNvbnRleHQsIGNyZWF0ZSk7XG4gICAgY2FzZSBBU1QuQ2FsbEV4cHJlc3Npb246XG4gICAgICBhcmdzID0gW107XG4gICAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgYXJncy5wdXNoKHNlbGYucmVjdXJzZShleHByKSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChhc3QuZmlsdGVyKSByaWdodCA9IHRoaXMuJGZpbHRlcihhc3QuY2FsbGVlLm5hbWUpO1xuICAgICAgaWYgKCFhc3QuZmlsdGVyKSByaWdodCA9IHRoaXMucmVjdXJzZShhc3QuY2FsbGVlLCB0cnVlKTtcbiAgICAgIHJldHVybiBhc3QuZmlsdGVyID9cbiAgICAgICAgZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChhcmdzW2ldKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB2YWx1ZSA9IHJpZ2h0LmFwcGx5KHVuZGVmaW5lZCwgdmFsdWVzLCBpbnB1dHMpO1xuICAgICAgICAgIHJldHVybiBjb250ZXh0ID8ge2NvbnRleHQ6IHVuZGVmaW5lZCwgbmFtZTogdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9IDogdmFsdWU7XG4gICAgICAgIH0gOlxuICAgICAgICBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgIGlmIChyaHMudmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGFyZ3NbaV0oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlID0gcmhzLnZhbHVlLmFwcGx5KHJocy5jb250ZXh0LCB2YWx1ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogdmFsdWV9IDogdmFsdWU7XG4gICAgICAgIH07XG4gICAgY2FzZSBBU1QuQXNzaWdubWVudEV4cHJlc3Npb246XG4gICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0LCB0cnVlLCAxKTtcbiAgICAgIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5yaWdodCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICB2YXIgcmhzID0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICBsaHMuY29udGV4dFtsaHMubmFtZV0gPSByaHM7XG4gICAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiByaHN9IDogcmhzO1xuICAgICAgfTtcbiAgICBjYXNlIEFTVC5BcnJheUV4cHJlc3Npb246XG4gICAgICBhcmdzID0gW107XG4gICAgICBmb3JFYWNoKGFzdC5lbGVtZW50cywgZnVuY3Rpb24oZXhwcikge1xuICAgICAgICBhcmdzLnB1c2goc2VsZi5yZWN1cnNlKGV4cHIpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICB2YWx1ZS5wdXNoKGFyZ3NbaV0oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogdmFsdWV9IDogdmFsdWU7XG4gICAgICB9O1xuICAgIGNhc2UgQVNULk9iamVjdEV4cHJlc3Npb246XG4gICAgICBhcmdzID0gW107XG4gICAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgICBpZiAocHJvcGVydHkuY29tcHV0ZWQpIHtcbiAgICAgICAgICBhcmdzLnB1c2goe2tleTogc2VsZi5yZWN1cnNlKHByb3BlcnR5LmtleSksXG4gICAgICAgICAgICAgICAgICAgICBjb21wdXRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZWxmLnJlY3Vyc2UocHJvcGVydHkudmFsdWUpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXJncy5wdXNoKHtrZXk6IHByb3BlcnR5LmtleS50eXBlID09PSBBU1QuSWRlbnRpZmllciA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LmtleS5uYW1lIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKCcnICsgcHJvcGVydHkua2V5LnZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZWxmLnJlY3Vyc2UocHJvcGVydHkudmFsdWUpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBpZiAoYXJnc1tpXS5jb21wdXRlZCkge1xuICAgICAgICAgICAgdmFsdWVbYXJnc1tpXS5rZXkoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpXSA9IGFyZ3NbaV0udmFsdWUoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZVthcmdzW2ldLmtleV0gPSBhcmdzW2ldLnZhbHVlKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IHZhbHVlfSA6IHZhbHVlO1xuICAgICAgfTtcbiAgICBjYXNlIEFTVC5UaGlzRXhwcmVzc2lvbjpcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSkge1xuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogc2NvcGV9IDogc2NvcGU7XG4gICAgICB9O1xuICAgIGNhc2UgQVNULkxvY2Fsc0V4cHJlc3Npb246XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2Fscykge1xuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogbG9jYWxzfSA6IGxvY2FscztcbiAgICAgIH07XG4gICAgY2FzZSBBU1QuTkdWYWx1ZVBhcmFtZXRlcjpcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24pIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFzc2lnbn0gOiBhc3NpZ247XG4gICAgICB9O1xuICAgIH1cbiAgfSxcblxuICAndW5hcnkrJzogZnVuY3Rpb24oYXJndW1lbnQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBhcmd1bWVudChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICBpZiAoaXNEZWZpbmVkKGFyZykpIHtcbiAgICAgICAgYXJnID0gK2FyZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFyZyA9IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAndW5hcnktJzogZnVuY3Rpb24oYXJndW1lbnQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBhcmd1bWVudChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICBpZiAoaXNEZWZpbmVkKGFyZykpIHtcbiAgICAgICAgYXJnID0gLWFyZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFyZyA9IC0wO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ3VuYXJ5ISc6IGZ1bmN0aW9uKGFyZ3VtZW50LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gIWFyZ3VtZW50KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnkrJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBsaHMgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICB2YXIgYXJnID0gcGx1c0ZuKGxocywgcmhzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnktJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBsaHMgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICB2YXIgYXJnID0gKGlzRGVmaW5lZChsaHMpID8gbGhzIDogMCkgLSAoaXNEZWZpbmVkKHJocykgPyByaHMgOiAwKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnkqJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSAqIHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnkvJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSAvIHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnklJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSAlIHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnk9PT0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID09PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAnYmluYXJ5IT09JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSAhPT0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeT09JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA9PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAnYmluYXJ5IT0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICE9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnk8JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA8IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnk+JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA+IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnk8PSc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPD0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeT49JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA+PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAnYmluYXJ5JiYnOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICYmIHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnl8fCc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgfHwgcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ3Rlcm5hcnk/Oic6IGZ1bmN0aW9uKHRlc3QsIGFsdGVybmF0ZSwgY29uc2VxdWVudCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IHRlc3Qoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID8gYWx0ZXJuYXRlKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA6IGNvbnNlcXVlbnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgdmFsdWU6IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gY29udGV4dCA/IHtjb250ZXh0OiB1bmRlZmluZWQsIG5hbWU6IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfSA6IHZhbHVlOyB9O1xuICB9LFxuICBpZGVudGlmaWVyOiBmdW5jdGlvbihuYW1lLCBjb250ZXh0LCBjcmVhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBiYXNlID0gbG9jYWxzICYmIChuYW1lIGluIGxvY2FscykgPyBsb2NhbHMgOiBzY29wZTtcbiAgICAgIGlmIChjcmVhdGUgJiYgY3JlYXRlICE9PSAxICYmIGJhc2UgJiYgYmFzZVtuYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIGJhc2VbbmFtZV0gPSB7fTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IGJhc2UgPyBiYXNlW25hbWVdIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtjb250ZXh0OiBiYXNlLCBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWV9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGNvbXB1dGVkTWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCwgY3JlYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgbGhzID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICB2YXIgcmhzO1xuICAgICAgdmFyIHZhbHVlO1xuICAgICAgaWYgKGxocyAhPSBudWxsKSB7XG4gICAgICAgIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgICAgcmhzID0gZ2V0U3RyaW5nVmFsdWUocmhzKTtcbiAgICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcbiAgICAgICAgICBpZiAobGhzICYmICEobGhzW3Joc10pKSB7XG4gICAgICAgICAgICBsaHNbcmhzXSA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IGxoc1tyaHNdO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtjb250ZXh0OiBsaHMsIG5hbWU6IHJocywgdmFsdWU6IHZhbHVlfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBub25Db21wdXRlZE1lbWJlcjogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQsIGNyZWF0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcbiAgICAgICAgaWYgKGxocyAmJiBsaHNbcmlnaHRdID09IG51bGwpIHtcbiAgICAgICAgICBsaHNbcmlnaHRdID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IGxocyAhPSBudWxsID8gbGhzW3JpZ2h0XSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB7Y29udGV4dDogbGhzLCBuYW1lOiByaWdodCwgdmFsdWU6IHZhbHVlfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBpbnB1dHM6IGZ1bmN0aW9uKGlucHV0LCB3YXRjaElkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCB2YWx1ZSwgbG9jYWxzLCBpbnB1dHMpIHtcbiAgICAgIGlmIChpbnB1dHMpIHJldHVybiBpbnB1dHNbd2F0Y2hJZF07XG4gICAgICByZXR1cm4gaW5wdXQoc2NvcGUsIHZhbHVlLCBsb2NhbHMpO1xuICAgIH07XG4gIH1cbn07XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFBhcnNlcihsZXhlciwgJGZpbHRlciwgb3B0aW9ucykge1xuICB0aGlzLmFzdCA9IG5ldyBBU1QobGV4ZXIsIG9wdGlvbnMpO1xuICB0aGlzLmFzdENvbXBpbGVyID0gb3B0aW9ucy5jc3AgPyBuZXcgQVNUSW50ZXJwcmV0ZXIoJGZpbHRlcikgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQVNUQ29tcGlsZXIoJGZpbHRlcik7XG59XG5cblBhcnNlci5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBQYXJzZXIsXG5cbiAgcGFyc2U6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB2YXIgYXN0ID0gdGhpcy5nZXRBc3QodGV4dCk7XG4gICAgdmFyIGZuID0gdGhpcy5hc3RDb21waWxlci5jb21waWxlKGFzdC5hc3QpO1xuICAgIGZuLmxpdGVyYWwgPSBpc0xpdGVyYWwoYXN0LmFzdCk7XG4gICAgZm4uY29uc3RhbnQgPSBpc0NvbnN0YW50KGFzdC5hc3QpO1xuICAgIGZuLm9uZVRpbWUgPSBhc3Qub25lVGltZTtcbiAgICByZXR1cm4gZm47XG4gIH0sXG5cbiAgZ2V0QXN0OiBmdW5jdGlvbihleHApIHtcbiAgICB2YXIgb25lVGltZSA9IGZhbHNlO1xuICAgIGV4cCA9IGV4cC50cmltKCk7XG5cbiAgICBpZiAoZXhwLmNoYXJBdCgwKSA9PT0gJzonICYmIGV4cC5jaGFyQXQoMSkgPT09ICc6Jykge1xuICAgICAgb25lVGltZSA9IHRydWU7XG4gICAgICBleHAgPSBleHAuc3Vic3RyaW5nKDIpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgYXN0OiB0aGlzLmFzdC5hc3QoZXhwKSxcbiAgICAgIG9uZVRpbWU6IG9uZVRpbWVcbiAgICB9O1xuICB9XG59O1xuXG5mdW5jdGlvbiBnZXRWYWx1ZU9mKHZhbHVlKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlLnZhbHVlT2YpID8gdmFsdWUudmFsdWVPZigpIDogb2JqZWN0VmFsdWVPZi5jYWxsKHZhbHVlKTtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHBhcnNlXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIENvbnZlcnRzIEFuZ3VsYXJKUyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnRvIGEgZnVuY3Rpb24uXG4gKlxuICogYGBganNcbiAqICAgdmFyIGdldHRlciA9ICRwYXJzZSgndXNlci5uYW1lJyk7XG4gKiAgIHZhciBzZXR0ZXIgPSBnZXR0ZXIuYXNzaWduO1xuICogICB2YXIgY29udGV4dCA9IHt1c2VyOntuYW1lOidBbmd1bGFySlMnfX07XG4gKiAgIHZhciBsb2NhbHMgPSB7dXNlcjp7bmFtZTonbG9jYWwnfX07XG4gKlxuICogICBleHBlY3QoZ2V0dGVyKGNvbnRleHQpKS50b0VxdWFsKCdBbmd1bGFySlMnKTtcbiAqICAgc2V0dGVyKGNvbnRleHQsICduZXdWYWx1ZScpO1xuICogICBleHBlY3QoY29udGV4dC51c2VyLm5hbWUpLnRvRXF1YWwoJ25ld1ZhbHVlJyk7XG4gKiAgIGV4cGVjdChnZXR0ZXIoY29udGV4dCwgbG9jYWxzKSkudG9FcXVhbCgnbG9jYWwnKTtcbiAqIGBgYFxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcbiAqXG4gKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXG4gKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cbiAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cbiAqICAgICAgYGNvbnRleHRgLlxuICpcbiAqICAgIFRoZSByZXR1cm5lZCBmdW5jdGlvbiBhbHNvIGhhcyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKiAgICAgICogYGxpdGVyYWxgIOKAkyBge2Jvb2xlYW59YCDigJMgd2hldGhlciB0aGUgZXhwcmVzc2lvbidzIHRvcC1sZXZlbCBub2RlIGlzIGEgSmF2YVNjcmlwdFxuICogICAgICAgIGxpdGVyYWwuXG4gKiAgICAgICogYGNvbnN0YW50YCDigJMgYHtib29sZWFufWAg4oCTIHdoZXRoZXIgdGhlIGV4cHJlc3Npb24gaXMgbWFkZSBlbnRpcmVseSBvZiBKYXZhU2NyaXB0XG4gKiAgICAgICAgY29uc3RhbnQgbGl0ZXJhbHMuXG4gKiAgICAgICogYGFzc2lnbmAg4oCTIGB7P2Z1bmN0aW9uKGNvbnRleHQsIHZhbHVlKX1gIOKAkyBpZiB0aGUgZXhwcmVzc2lvbiBpcyBhc3NpZ25hYmxlLCB0aGlzIHdpbGwgYmVcbiAqICAgICAgICBzZXQgdG8gYSBmdW5jdGlvbiB0byBjaGFuZ2UgaXRzIHZhbHVlIG9uIHRoZSBnaXZlbiBjb250ZXh0LlxuICpcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkcGFyc2VQcm92aWRlclxuICogQHRoaXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGAkcGFyc2VQcm92aWRlcmAgY2FuIGJlIHVzZWQgZm9yIGNvbmZpZ3VyaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSB7QGxpbmsgbmcuJHBhcnNlICRwYXJzZX1cbiAqICBzZXJ2aWNlLlxuICovXG5mdW5jdGlvbiAkUGFyc2VQcm92aWRlcigpIHtcbiAgdmFyIGNhY2hlID0gY3JlYXRlTWFwKCk7XG4gIHZhciBsaXRlcmFscyA9IHtcbiAgICAndHJ1ZSc6IHRydWUsXG4gICAgJ2ZhbHNlJzogZmFsc2UsXG4gICAgJ251bGwnOiBudWxsLFxuICAgICd1bmRlZmluZWQnOiB1bmRlZmluZWRcbiAgfTtcbiAgdmFyIGlkZW50U3RhcnQsIGlkZW50Q29udGludWU7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHBhcnNlUHJvdmlkZXIjYWRkTGl0ZXJhbFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogQ29uZmlndXJlICRwYXJzZSBzZXJ2aWNlIHRvIGFkZCBsaXRlcmFsIHZhbHVlcyB0aGF0IHdpbGwgYmUgcHJlc2VudCBhcyBsaXRlcmFsIGF0IGV4cHJlc3Npb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGl0ZXJhbE5hbWUgVG9rZW4gZm9yIHRoZSBsaXRlcmFsIHZhbHVlLiBUaGUgbGl0ZXJhbCBuYW1lIHZhbHVlIG11c3QgYmUgYSB2YWxpZCBsaXRlcmFsIG5hbWUuXG4gICAqIEBwYXJhbSB7Kn0gbGl0ZXJhbFZhbHVlIFZhbHVlIGZvciB0aGlzIGxpdGVyYWwuIEFsbCBsaXRlcmFsIHZhbHVlcyBtdXN0IGJlIHByaW1pdGl2ZXMgb3IgYHVuZGVmaW5lZGAuXG4gICAqXG4gICAqKi9cbiAgdGhpcy5hZGRMaXRlcmFsID0gZnVuY3Rpb24obGl0ZXJhbE5hbWUsIGxpdGVyYWxWYWx1ZSkge1xuICAgIGxpdGVyYWxzW2xpdGVyYWxOYW1lXSA9IGxpdGVyYWxWYWx1ZTtcbiAgfTtcblxuIC8qKlxuICAqIEBuZ2RvYyBtZXRob2RcbiAgKiBAbmFtZSAkcGFyc2VQcm92aWRlciNzZXRJZGVudGlmaWVyRm5zXG4gICpcbiAgKiBAZGVzY3JpcHRpb25cbiAgKlxuICAqIEFsbG93cyBkZWZpbmluZyB0aGUgc2V0IG9mIGNoYXJhY3RlcnMgdGhhdCBhcmUgYWxsb3dlZCBpbiBBbmd1bGFySlMgZXhwcmVzc2lvbnMuIFRoZSBmdW5jdGlvblxuICAqIGBpZGVudGlmaWVyU3RhcnRgIHdpbGwgZ2V0IGNhbGxlZCB0byBrbm93IGlmIGEgZ2l2ZW4gY2hhcmFjdGVyIGlzIGEgdmFsaWQgY2hhcmFjdGVyIHRvIGJlIHRoZVxuICAqIGZpcnN0IGNoYXJhY3RlciBmb3IgYW4gaWRlbnRpZmllci4gVGhlIGZ1bmN0aW9uIGBpZGVudGlmaWVyQ29udGludWVgIHdpbGwgZ2V0IGNhbGxlZCB0byBrbm93IGlmXG4gICogYSBnaXZlbiBjaGFyYWN0ZXIgaXMgYSB2YWxpZCBjaGFyYWN0ZXIgdG8gYmUgYSBmb2xsb3ctdXAgaWRlbnRpZmllciBjaGFyYWN0ZXIuIFRoZSBmdW5jdGlvbnNcbiAgKiBgaWRlbnRpZmllclN0YXJ0YCBhbmQgYGlkZW50aWZpZXJDb250aW51ZWAgd2lsbCByZWNlaXZlIGFzIGFyZ3VtZW50cyB0aGUgc2luZ2xlIGNoYXJhY3RlciB0byBiZVxuICAqIGlkZW50aWZpZXIgYW5kIHRoZSBjaGFyYWN0ZXIgY29kZSBwb2ludC4gVGhlc2UgYXJndW1lbnRzIHdpbGwgYmUgYHN0cmluZ2AgYW5kIGBudW1lcmljYC4gS2VlcCBpblxuICAqIG1pbmQgdGhhdCB0aGUgYHN0cmluZ2AgcGFyYW1ldGVyIGNhbiBiZSB0d28gY2hhcmFjdGVycyBsb25nIGRlcGVuZGluZyBvbiB0aGUgY2hhcmFjdGVyXG4gICogcmVwcmVzZW50YXRpb24uIEl0IGlzIGV4cGVjdGVkIGZvciB0aGUgZnVuY3Rpb24gdG8gcmV0dXJuIGB0cnVlYCBvciBgZmFsc2VgLCB3aGV0aGVyIHRoYXRcbiAgKiBjaGFyYWN0ZXIgaXMgYWxsb3dlZCBvciBub3QuXG4gICpcbiAgKiBTaW5jZSB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGV4dGVuc2l2ZWx5LCBrZWVwIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGVzZSBmdW5jdGlvbnMgZmFzdCxcbiAgKiBhcyB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlc2UgZnVuY3Rpb25zIGhhdmUgYSBkaXJlY3QgaW1wYWN0IG9uIHRoZSBleHByZXNzaW9ucyBwYXJzaW5nIHNwZWVkLlxuICAqXG4gICogQHBhcmFtIHtmdW5jdGlvbj19IGlkZW50aWZpZXJTdGFydCBUaGUgZnVuY3Rpb24gdGhhdCB3aWxsIGRlY2lkZSB3aGV0aGVyIHRoZSBnaXZlbiBjaGFyYWN0ZXIgaXNcbiAgKiAgIGEgdmFsaWQgaWRlbnRpZmllciBzdGFydCBjaGFyYWN0ZXIuXG4gICogQHBhcmFtIHtmdW5jdGlvbj19IGlkZW50aWZpZXJDb250aW51ZSBUaGUgZnVuY3Rpb24gdGhhdCB3aWxsIGRlY2lkZSB3aGV0aGVyIHRoZSBnaXZlbiBjaGFyYWN0ZXIgaXNcbiAgKiAgIGEgdmFsaWQgaWRlbnRpZmllciBjb250aW51ZSBjaGFyYWN0ZXIuXG4gICovXG4gIHRoaXMuc2V0SWRlbnRpZmllckZucyA9IGZ1bmN0aW9uKGlkZW50aWZpZXJTdGFydCwgaWRlbnRpZmllckNvbnRpbnVlKSB7XG4gICAgaWRlbnRTdGFydCA9IGlkZW50aWZpZXJTdGFydDtcbiAgICBpZGVudENvbnRpbnVlID0gaWRlbnRpZmllckNvbnRpbnVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJGZpbHRlcicsIGZ1bmN0aW9uKCRmaWx0ZXIpIHtcbiAgICB2YXIgbm9VbnNhZmVFdmFsID0gY3NwKCkubm9VbnNhZmVFdmFsO1xuICAgIHZhciAkcGFyc2VPcHRpb25zID0ge1xuICAgICAgICAgIGNzcDogbm9VbnNhZmVFdmFsLFxuICAgICAgICAgIGxpdGVyYWxzOiBjb3B5KGxpdGVyYWxzKSxcbiAgICAgICAgICBpc0lkZW50aWZpZXJTdGFydDogaXNGdW5jdGlvbihpZGVudFN0YXJ0KSAmJiBpZGVudFN0YXJ0LFxuICAgICAgICAgIGlzSWRlbnRpZmllckNvbnRpbnVlOiBpc0Z1bmN0aW9uKGlkZW50Q29udGludWUpICYmIGlkZW50Q29udGludWVcbiAgICAgICAgfTtcbiAgICAkcGFyc2UuJCRnZXRBc3QgPSAkJGdldEFzdDtcbiAgICByZXR1cm4gJHBhcnNlO1xuXG4gICAgZnVuY3Rpb24gJHBhcnNlKGV4cCwgaW50ZXJjZXB0b3JGbikge1xuICAgICAgdmFyIHBhcnNlZEV4cHJlc3Npb24sIGNhY2hlS2V5O1xuXG4gICAgICBzd2l0Y2ggKHR5cGVvZiBleHApIHtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICBleHAgPSBleHAudHJpbSgpO1xuICAgICAgICAgIGNhY2hlS2V5ID0gZXhwO1xuXG4gICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbiA9IGNhY2hlW2NhY2hlS2V5XTtcblxuICAgICAgICAgIGlmICghcGFyc2VkRXhwcmVzc2lvbikge1xuICAgICAgICAgICAgdmFyIGxleGVyID0gbmV3IExleGVyKCRwYXJzZU9wdGlvbnMpO1xuICAgICAgICAgICAgdmFyIHBhcnNlciA9IG5ldyBQYXJzZXIobGV4ZXIsICRmaWx0ZXIsICRwYXJzZU9wdGlvbnMpO1xuICAgICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbiA9IHBhcnNlci5wYXJzZShleHApO1xuXG4gICAgICAgICAgICBjYWNoZVtjYWNoZUtleV0gPSBhZGRXYXRjaERlbGVnYXRlKHBhcnNlZEV4cHJlc3Npb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYWRkSW50ZXJjZXB0b3IocGFyc2VkRXhwcmVzc2lvbiwgaW50ZXJjZXB0b3JGbik7XG5cbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIHJldHVybiBhZGRJbnRlcmNlcHRvcihleHAsIGludGVyY2VwdG9yRm4pO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGFkZEludGVyY2VwdG9yKG5vb3AsIGludGVyY2VwdG9yRm4pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uICQkZ2V0QXN0KGV4cCkge1xuICAgICAgdmFyIGxleGVyID0gbmV3IExleGVyKCRwYXJzZU9wdGlvbnMpO1xuICAgICAgdmFyIHBhcnNlciA9IG5ldyBQYXJzZXIobGV4ZXIsICRmaWx0ZXIsICRwYXJzZU9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHBhcnNlci5nZXRBc3QoZXhwKS5hc3Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdWYWx1ZSwgb2xkVmFsdWVPZlZhbHVlLCBjb21wYXJlT2JqZWN0SWRlbnRpdHkpIHtcblxuICAgICAgaWYgKG5ld1ZhbHVlID09IG51bGwgfHwgb2xkVmFsdWVPZlZhbHVlID09IG51bGwpIHsgLy8gbnVsbC91bmRlZmluZWRcbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlID09PSBvbGRWYWx1ZU9mVmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgbmV3VmFsdWUgPT09ICdvYmplY3QnKSB7XG5cbiAgICAgICAgLy8gYXR0ZW1wdCB0byBjb252ZXJ0IHRoZSB2YWx1ZSB0byBhIHByaW1pdGl2ZSB0eXBlXG4gICAgICAgIC8vIFRPRE8oZG9jcyk6IGFkZCBhIG5vdGUgdG8gZG9jcyB0aGF0IGJ5IGltcGxlbWVudGluZyB2YWx1ZU9mIGV2ZW4gb2JqZWN0cyBhbmQgYXJyYXlzIGNhblxuICAgICAgICAvLyAgICAgICAgICAgICBiZSBjaGVhcGx5IGRpcnR5LWNoZWNrZWRcbiAgICAgICAgbmV3VmFsdWUgPSBnZXRWYWx1ZU9mKG5ld1ZhbHVlKTtcblxuICAgICAgICBpZiAodHlwZW9mIG5ld1ZhbHVlID09PSAnb2JqZWN0JyAmJiAhY29tcGFyZU9iamVjdElkZW50aXR5KSB7XG4gICAgICAgICAgLy8gb2JqZWN0cy9hcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgLSBkZWVwLXdhdGNoaW5nIHRoZW0gd291bGQgYmUgdG9vIGV4cGVuc2l2ZVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZhbGwtdGhyb3VnaCB0byB0aGUgcHJpbWl0aXZlIGVxdWFsaXR5IGNoZWNrXG4gICAgICB9XG5cbiAgICAgIC8vUHJpbWl0aXZlIG9yIE5hTlxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgcmV0dXJuIG5ld1ZhbHVlID09PSBvbGRWYWx1ZU9mVmFsdWUgfHwgKG5ld1ZhbHVlICE9PSBuZXdWYWx1ZSAmJiBvbGRWYWx1ZU9mVmFsdWUgIT09IG9sZFZhbHVlT2ZWYWx1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5wdXRzV2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uLCBwcmV0dHlQcmludEV4cHJlc3Npb24pIHtcbiAgICAgIHZhciBpbnB1dEV4cHJlc3Npb25zID0gcGFyc2VkRXhwcmVzc2lvbi5pbnB1dHM7XG4gICAgICB2YXIgbGFzdFJlc3VsdDtcblxuICAgICAgaWYgKGlucHV0RXhwcmVzc2lvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHZhciBvbGRJbnB1dFZhbHVlT2YgPSBleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrOyAvLyBpbml0IHRvIHNvbWV0aGluZyB1bmlxdWUgc28gdGhhdCBlcXVhbHMgY2hlY2sgZmFpbHNcbiAgICAgICAgaW5wdXRFeHByZXNzaW9ucyA9IGlucHV0RXhwcmVzc2lvbnNbMF07XG4gICAgICAgIHJldHVybiBzY29wZS4kd2F0Y2goZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0V2F0Y2goc2NvcGUpIHtcbiAgICAgICAgICB2YXIgbmV3SW5wdXRWYWx1ZSA9IGlucHV0RXhwcmVzc2lvbnMoc2NvcGUpO1xuICAgICAgICAgIGlmICghZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdJbnB1dFZhbHVlLCBvbGRJbnB1dFZhbHVlT2YsIGlucHV0RXhwcmVzc2lvbnMuaXNQdXJlKSkge1xuICAgICAgICAgICAgbGFzdFJlc3VsdCA9IHBhcnNlZEV4cHJlc3Npb24oc2NvcGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBbbmV3SW5wdXRWYWx1ZV0pO1xuICAgICAgICAgICAgb2xkSW5wdXRWYWx1ZU9mID0gbmV3SW5wdXRWYWx1ZSAmJiBnZXRWYWx1ZU9mKG5ld0lucHV0VmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgICAgICAgfSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwcmV0dHlQcmludEV4cHJlc3Npb24pO1xuICAgICAgfVxuXG4gICAgICB2YXIgb2xkSW5wdXRWYWx1ZU9mVmFsdWVzID0gW107XG4gICAgICB2YXIgb2xkSW5wdXRWYWx1ZXMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGlucHV0RXhwcmVzc2lvbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXNbaV0gPSBleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrOyAvLyBpbml0IHRvIHNvbWV0aGluZyB1bmlxdWUgc28gdGhhdCBlcXVhbHMgY2hlY2sgZmFpbHNcbiAgICAgICAgb2xkSW5wdXRWYWx1ZXNbaV0gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGV4cHJlc3Npb25JbnB1dHNXYXRjaChzY29wZSkge1xuICAgICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGlucHV0RXhwcmVzc2lvbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgIHZhciBuZXdJbnB1dFZhbHVlID0gaW5wdXRFeHByZXNzaW9uc1tpXShzY29wZSk7XG4gICAgICAgICAgaWYgKGNoYW5nZWQgfHwgKGNoYW5nZWQgPSAhZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdJbnB1dFZhbHVlLCBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXNbaV0sIGlucHV0RXhwcmVzc2lvbnNbaV0uaXNQdXJlKSkpIHtcbiAgICAgICAgICAgIG9sZElucHV0VmFsdWVzW2ldID0gbmV3SW5wdXRWYWx1ZTtcbiAgICAgICAgICAgIG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSA9IG5ld0lucHV0VmFsdWUgJiYgZ2V0VmFsdWVPZihuZXdJbnB1dFZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICAgIGxhc3RSZXN1bHQgPSBwYXJzZWRFeHByZXNzaW9uKHNjb3BlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgb2xkSW5wdXRWYWx1ZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gICAgICB9LCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHByZXR0eVByaW50RXhwcmVzc2lvbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25lVGltZVdhdGNoRGVsZWdhdGUoc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcGFyc2VkRXhwcmVzc2lvbiwgcHJldHR5UHJpbnRFeHByZXNzaW9uKSB7XG4gICAgICB2YXIgaXNEb25lID0gcGFyc2VkRXhwcmVzc2lvbi5saXRlcmFsID8gaXNBbGxEZWZpbmVkIDogaXNEZWZpbmVkO1xuICAgICAgdmFyIHVud2F0Y2gsIGxhc3RWYWx1ZTtcblxuICAgICAgdmFyIGV4cCA9IHBhcnNlZEV4cHJlc3Npb24uJCRpbnRlcmNlcHRlZCB8fCBwYXJzZWRFeHByZXNzaW9uO1xuICAgICAgdmFyIHBvc3QgPSBwYXJzZWRFeHByZXNzaW9uLiQkaW50ZXJjZXB0b3IgfHwgaWRlbnRpdHk7XG5cbiAgICAgIHZhciB1c2VJbnB1dHMgPSBwYXJzZWRFeHByZXNzaW9uLmlucHV0cyAmJiAhZXhwLmlucHV0cztcblxuICAgICAgLy8gUHJvcG9nYXRlIHRoZSBsaXRlcmFsL2lucHV0cy9jb25zdGFudCBhdHRyaWJ1dGVzXG4gICAgICAvLyAuLi4gYnV0IG5vdCBvbmVUaW1lIHNpbmNlIHdlIGFyZSBoYW5kbGluZyBpdFxuICAgICAgb25lVGltZVdhdGNoLmxpdGVyYWwgPSBwYXJzZWRFeHByZXNzaW9uLmxpdGVyYWw7XG4gICAgICBvbmVUaW1lV2F0Y2guY29uc3RhbnQgPSBwYXJzZWRFeHByZXNzaW9uLmNvbnN0YW50O1xuICAgICAgb25lVGltZVdhdGNoLmlucHV0cyA9IHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzO1xuXG4gICAgICAvLyBBbGxvdyBvdGhlciBkZWxlZ2F0ZXMgdG8gcnVuIG9uIHRoaXMgd3JhcHBlZCBleHByZXNzaW9uXG4gICAgICBhZGRXYXRjaERlbGVnYXRlKG9uZVRpbWVXYXRjaCk7XG5cbiAgICAgIHVud2F0Y2ggPSBzY29wZS4kd2F0Y2gob25lVGltZVdhdGNoLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHByZXR0eVByaW50RXhwcmVzc2lvbik7XG5cbiAgICAgIHJldHVybiB1bndhdGNoO1xuXG4gICAgICBmdW5jdGlvbiB1bndhdGNoSWZEb25lKCkge1xuICAgICAgICBpZiAoaXNEb25lKGxhc3RWYWx1ZSkpIHtcbiAgICAgICAgICB1bndhdGNoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25lVGltZVdhdGNoKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICAgIGxhc3RWYWx1ZSA9IHVzZUlucHV0cyAmJiBpbnB1dHMgPyBpbnB1dHNbMF0gOiBleHAoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICBpZiAoaXNEb25lKGxhc3RWYWx1ZSkpIHtcbiAgICAgICAgICBzY29wZS4kJHBvc3REaWdlc3QodW53YXRjaElmRG9uZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvc3QobGFzdFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0FsbERlZmluZWQodmFsdWUpIHtcbiAgICAgIHZhciBhbGxEZWZpbmVkID0gdHJ1ZTtcbiAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICBpZiAoIWlzRGVmaW5lZCh2YWwpKSBhbGxEZWZpbmVkID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhbGxEZWZpbmVkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uKSB7XG4gICAgICB2YXIgdW53YXRjaCA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiBjb25zdGFudFdhdGNoKHNjb3BlKSB7XG4gICAgICAgIHVud2F0Y2goKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xuICAgICAgfSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5KTtcbiAgICAgIHJldHVybiB1bndhdGNoO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFdhdGNoRGVsZWdhdGUocGFyc2VkRXhwcmVzc2lvbikge1xuICAgICAgaWYgKHBhcnNlZEV4cHJlc3Npb24uY29uc3RhbnQpIHtcbiAgICAgICAgcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGUgPSBjb25zdGFudFdhdGNoRGVsZWdhdGU7XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlZEV4cHJlc3Npb24ub25lVGltZSkge1xuICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSA9IG9uZVRpbWVXYXRjaERlbGVnYXRlO1xuICAgICAgfSBlbHNlIGlmIChwYXJzZWRFeHByZXNzaW9uLmlucHV0cykge1xuICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSA9IGlucHV0c1dhdGNoRGVsZWdhdGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJzZWRFeHByZXNzaW9uO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoYWluSW50ZXJjZXB0b3JzKGZpcnN0LCBzZWNvbmQpIHtcbiAgICAgIGZ1bmN0aW9uIGNoYWluZWRJbnRlcmNlcHRvcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gc2Vjb25kKGZpcnN0KHZhbHVlKSk7XG4gICAgICB9XG4gICAgICBjaGFpbmVkSW50ZXJjZXB0b3IuJHN0YXRlZnVsID0gZmlyc3QuJHN0YXRlZnVsIHx8IHNlY29uZC4kc3RhdGVmdWw7XG4gICAgICBjaGFpbmVkSW50ZXJjZXB0b3IuJCRwdXJlID0gZmlyc3QuJCRwdXJlICYmIHNlY29uZC4kJHB1cmU7XG5cbiAgICAgIHJldHVybiBjaGFpbmVkSW50ZXJjZXB0b3I7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkSW50ZXJjZXB0b3IocGFyc2VkRXhwcmVzc2lvbiwgaW50ZXJjZXB0b3JGbikge1xuICAgICAgaWYgKCFpbnRlcmNlcHRvckZuKSByZXR1cm4gcGFyc2VkRXhwcmVzc2lvbjtcblxuICAgICAgLy8gRXh0cmFjdCBhbnkgZXhpc3RpbmcgaW50ZXJjZXB0b3JzIG91dCBvZiB0aGUgcGFyc2VkRXhwcmVzc2lvblxuICAgICAgLy8gdG8gZW5zdXJlIHRoZSBvcmlnaW5hbCBwYXJzZWRFeHByZXNzaW9uIGlzIGFsd2F5cyB0aGUgJCRpbnRlcmNlcHRlZFxuICAgICAgaWYgKHBhcnNlZEV4cHJlc3Npb24uJCRpbnRlcmNlcHRvcikge1xuICAgICAgICBpbnRlcmNlcHRvckZuID0gY2hhaW5JbnRlcmNlcHRvcnMocGFyc2VkRXhwcmVzc2lvbi4kJGludGVyY2VwdG9yLCBpbnRlcmNlcHRvckZuKTtcbiAgICAgICAgcGFyc2VkRXhwcmVzc2lvbiA9IHBhcnNlZEV4cHJlc3Npb24uJCRpbnRlcmNlcHRlZDtcbiAgICAgIH1cblxuICAgICAgdmFyIHVzZUlucHV0cyA9IGZhbHNlO1xuXG4gICAgICB2YXIgZm4gPSBmdW5jdGlvbiBpbnRlcmNlcHRlZEV4cHJlc3Npb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdXNlSW5wdXRzICYmIGlucHV0cyA/IGlucHV0c1swXSA6IHBhcnNlZEV4cHJlc3Npb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICByZXR1cm4gaW50ZXJjZXB0b3JGbih2YWx1ZSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBNYWludGFpbiByZWZlcmVuY2VzIHRvIHRoZSBpbnRlcmNlcHRvci9pbnRlcmNlcHRlZFxuICAgICAgZm4uJCRpbnRlcmNlcHRlZCA9IHBhcnNlZEV4cHJlc3Npb247XG4gICAgICBmbi4kJGludGVyY2VwdG9yID0gaW50ZXJjZXB0b3JGbjtcblxuICAgICAgLy8gUHJvcG9nYXRlIHRoZSBsaXRlcmFsL29uZVRpbWUvY29uc3RhbnQgYXR0cmlidXRlc1xuICAgICAgZm4ubGl0ZXJhbCA9IHBhcnNlZEV4cHJlc3Npb24ubGl0ZXJhbDtcbiAgICAgIGZuLm9uZVRpbWUgPSBwYXJzZWRFeHByZXNzaW9uLm9uZVRpbWU7XG4gICAgICBmbi5jb25zdGFudCA9IHBhcnNlZEV4cHJlc3Npb24uY29uc3RhbnQ7XG5cbiAgICAgIC8vIFRyZWF0IHRoZSBpbnRlcmNlcHRvciBsaWtlIGZpbHRlcnMuXG4gICAgICAvLyBJZiBpdCBpcyBub3QgJHN0YXRlZnVsIHRoZW4gb25seSB3YXRjaCBpdHMgaW5wdXRzLlxuICAgICAgLy8gSWYgdGhlIGV4cHJlc3Npb24gaXRzZWxmIGhhcyBubyBpbnB1dHMgdGhlbiB1c2UgdGhlIGZ1bGwgZXhwcmVzc2lvbiBhcyBhbiBpbnB1dC5cbiAgICAgIGlmICghaW50ZXJjZXB0b3JGbi4kc3RhdGVmdWwpIHtcbiAgICAgICAgdXNlSW5wdXRzID0gIXBhcnNlZEV4cHJlc3Npb24uaW5wdXRzO1xuICAgICAgICBmbi5pbnB1dHMgPSBwYXJzZWRFeHByZXNzaW9uLmlucHV0cyA/IHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzIDogW3BhcnNlZEV4cHJlc3Npb25dO1xuXG4gICAgICAgIGlmICghaW50ZXJjZXB0b3JGbi4kJHB1cmUpIHtcbiAgICAgICAgICBmbi5pbnB1dHMgPSBmbi5pbnB1dHMubWFwKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBpc1B1cmUgZmxhZyBvZiBpbnB1dHMgd2hlbiBpdCBpcyBub3QgYWJzb2x1dGUgYmVjYXVzZSB0aGV5IGFyZSBub3cgd3JhcHBlZCBpbiBhXG4gICAgICAgICAgICAgIC8vIG5vbi1wdXJlIGludGVyY2VwdG9yIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICBpZiAoZS5pc1B1cmUgPT09IFBVUklUWV9SRUxBVElWRSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXB1cmlmaWVyKHMpIHsgcmV0dXJuIGUocyk7IH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWRkV2F0Y2hEZWxlZ2F0ZShmbik7XG4gICAgfVxuICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHFcbiAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIHNlcnZpY2UgdGhhdCBoZWxwcyB5b3UgcnVuIGZ1bmN0aW9ucyBhc3luY2hyb25vdXNseSwgYW5kIHVzZSB0aGVpciByZXR1cm4gdmFsdWVzIChvciBleGNlcHRpb25zKVxuICogd2hlbiB0aGV5IGFyZSBkb25lIHByb2Nlc3NpbmcuXG4gKlxuICogVGhpcyBpcyBhIFtQcm9taXNlcy9BK10oaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8pLWNvbXBsaWFudCBpbXBsZW1lbnRhdGlvbiBvZiBwcm9taXNlcy9kZWZlcnJlZFxuICogb2JqZWN0cyBpbnNwaXJlZCBieSBbS3JpcyBLb3dhbCdzIFFdKGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcSkuXG4gKlxuICogJHEgY2FuIGJlIHVzZWQgaW4gdHdvIGZhc2hpb25zIC0tLSBvbmUgd2hpY2ggaXMgbW9yZSBzaW1pbGFyIHRvIEtyaXMgS293YWwncyBRIG9yIGpRdWVyeSdzIERlZmVycmVkXG4gKiBpbXBsZW1lbnRhdGlvbnMsIGFuZCB0aGUgb3RoZXIgd2hpY2ggcmVzZW1ibGVzIEVTNiAoRVMyMDE1KSBwcm9taXNlcyB0byBzb21lIGRlZ3JlZS5cbiAqXG4gKiAjIyAkcSBjb25zdHJ1Y3RvclxuICpcbiAqIFRoZSBzdHJlYW1saW5lZCBFUzYgc3R5bGUgcHJvbWlzZSBpcyBlc3NlbnRpYWxseSBqdXN0IHVzaW5nICRxIGFzIGEgY29uc3RydWN0b3Igd2hpY2ggdGFrZXMgYSBgcmVzb2x2ZXJgXG4gKiBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQuIFRoaXMgaXMgc2ltaWxhciB0byB0aGUgbmF0aXZlIFByb21pc2UgaW1wbGVtZW50YXRpb24gZnJvbSBFUzYsXG4gKiBzZWUgW01ETl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZSkuXG4gKlxuICogV2hpbGUgdGhlIGNvbnN0cnVjdG9yLXN0eWxlIHVzZSBpcyBzdXBwb3J0ZWQsIG5vdCBhbGwgb2YgdGhlIHN1cHBvcnRpbmcgbWV0aG9kcyBmcm9tIEVTNiBwcm9taXNlcyBhcmVcbiAqIGF2YWlsYWJsZSB5ZXQuXG4gKlxuICogSXQgY2FuIGJlIHVzZWQgbGlrZSBzbzpcbiAqXG4gKiBgYGBqc1xuICogICAvLyBmb3IgdGhlIHB1cnBvc2Ugb2YgdGhpcyBleGFtcGxlIGxldCdzIGFzc3VtZSB0aGF0IHZhcmlhYmxlcyBgJHFgIGFuZCBgb2tUb0dyZWV0YFxuICogICAvLyBhcmUgYXZhaWxhYmxlIGluIHRoZSBjdXJyZW50IGxleGljYWwgc2NvcGUgKHRoZXkgY291bGQgaGF2ZSBiZWVuIGluamVjdGVkIG9yIHBhc3NlZCBpbikuXG4gKlxuICogICBmdW5jdGlvbiBhc3luY0dyZWV0KG5hbWUpIHtcbiAqICAgICAvLyBwZXJmb3JtIHNvbWUgYXN5bmNocm9ub3VzIG9wZXJhdGlvbiwgcmVzb2x2ZSBvciByZWplY3QgdGhlIHByb21pc2Ugd2hlbiBhcHByb3ByaWF0ZS5cbiAqICAgICByZXR1cm4gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gKiAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICogICAgICAgICBpZiAob2tUb0dyZWV0KG5hbWUpKSB7XG4gKiAgICAgICAgICAgcmVzb2x2ZSgnSGVsbG8sICcgKyBuYW1lICsgJyEnKTtcbiAqICAgICAgICAgfSBlbHNlIHtcbiAqICAgICAgICAgICByZWplY3QoJ0dyZWV0aW5nICcgKyBuYW1lICsgJyBpcyBub3QgYWxsb3dlZC4nKTtcbiAqICAgICAgICAgfVxuICogICAgICAgfSwgMTAwMCk7XG4gKiAgICAgfSk7XG4gKiAgIH1cbiAqXG4gKiAgIHZhciBwcm9taXNlID0gYXN5bmNHcmVldCgnUm9iaW4gSG9vZCcpO1xuICogICBwcm9taXNlLnRoZW4oZnVuY3Rpb24oZ3JlZXRpbmcpIHtcbiAqICAgICBhbGVydCgnU3VjY2VzczogJyArIGdyZWV0aW5nKTtcbiAqICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gKiAgICAgYWxlcnQoJ0ZhaWxlZDogJyArIHJlYXNvbik7XG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogTm90ZTogcHJvZ3Jlc3Mvbm90aWZ5IGNhbGxiYWNrcyBhcmUgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgdmlhIHRoZSBFUzYtc3R5bGUgaW50ZXJmYWNlLlxuICpcbiAqIE5vdGU6IHVubGlrZSBFUzYgYmVoYXZpb3IsIGFuIGV4Y2VwdGlvbiB0aHJvd24gaW4gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHdpbGwgTk9UIGltcGxpY2l0bHkgcmVqZWN0IHRoZSBwcm9taXNlLlxuICpcbiAqIEhvd2V2ZXIsIHRoZSBtb3JlIHRyYWRpdGlvbmFsIENvbW1vbkpTLXN0eWxlIHVzYWdlIGlzIHN0aWxsIGF2YWlsYWJsZSwgYW5kIGRvY3VtZW50ZWQgYmVsb3cuXG4gKlxuICogW1RoZSBDb21tb25KUyBQcm9taXNlIHByb3Bvc2FsXShodHRwOi8vd2lraS5jb21tb25qcy5vcmcvd2lraS9Qcm9taXNlcykgZGVzY3JpYmVzIGEgcHJvbWlzZSBhcyBhblxuICogaW50ZXJmYWNlIGZvciBpbnRlcmFjdGluZyB3aXRoIGFuIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgdGhlIHJlc3VsdCBvZiBhbiBhY3Rpb24gdGhhdCBpc1xuICogcGVyZm9ybWVkIGFzeW5jaHJvbm91c2x5LCBhbmQgbWF5IG9yIG1heSBub3QgYmUgZmluaXNoZWQgYXQgYW55IGdpdmVuIHBvaW50IGluIHRpbWUuXG4gKlxuICogRnJvbSB0aGUgcGVyc3BlY3RpdmUgb2YgZGVhbGluZyB3aXRoIGVycm9yIGhhbmRsaW5nLCBkZWZlcnJlZCBhbmQgcHJvbWlzZSBBUElzIGFyZSB0b1xuICogYXN5bmNocm9ub3VzIHByb2dyYW1taW5nIHdoYXQgYHRyeWAsIGBjYXRjaGAgYW5kIGB0aHJvd2Aga2V5d29yZHMgYXJlIHRvIHN5bmNocm9ub3VzIHByb2dyYW1taW5nLlxuICpcbiAqIGBgYGpzXG4gKiAgIC8vIGZvciB0aGUgcHVycG9zZSBvZiB0aGlzIGV4YW1wbGUgbGV0J3MgYXNzdW1lIHRoYXQgdmFyaWFibGVzIGAkcWAgYW5kIGBva1RvR3JlZXRgXG4gKiAgIC8vIGFyZSBhdmFpbGFibGUgaW4gdGhlIGN1cnJlbnQgbGV4aWNhbCBzY29wZSAodGhleSBjb3VsZCBoYXZlIGJlZW4gaW5qZWN0ZWQgb3IgcGFzc2VkIGluKS5cbiAqXG4gKiAgIGZ1bmN0aW9uIGFzeW5jR3JlZXQobmFtZSkge1xuICogICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gKlxuICogICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gKiAgICAgICBkZWZlcnJlZC5ub3RpZnkoJ0Fib3V0IHRvIGdyZWV0ICcgKyBuYW1lICsgJy4nKTtcbiAqXG4gKiAgICAgICBpZiAob2tUb0dyZWV0KG5hbWUpKSB7XG4gKiAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJ0hlbGxvLCAnICsgbmFtZSArICchJyk7XG4gKiAgICAgICB9IGVsc2Uge1xuICogICAgICAgICBkZWZlcnJlZC5yZWplY3QoJ0dyZWV0aW5nICcgKyBuYW1lICsgJyBpcyBub3QgYWxsb3dlZC4nKTtcbiAqICAgICAgIH1cbiAqICAgICB9LCAxMDAwKTtcbiAqXG4gKiAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gKiAgIH1cbiAqXG4gKiAgIHZhciBwcm9taXNlID0gYXN5bmNHcmVldCgnUm9iaW4gSG9vZCcpO1xuICogICBwcm9taXNlLnRoZW4oZnVuY3Rpb24oZ3JlZXRpbmcpIHtcbiAqICAgICBhbGVydCgnU3VjY2VzczogJyArIGdyZWV0aW5nKTtcbiAqICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gKiAgICAgYWxlcnQoJ0ZhaWxlZDogJyArIHJlYXNvbik7XG4gKiAgIH0sIGZ1bmN0aW9uKHVwZGF0ZSkge1xuICogICAgIGFsZXJ0KCdHb3Qgbm90aWZpY2F0aW9uOiAnICsgdXBkYXRlKTtcbiAqICAgfSk7XG4gKiBgYGBcbiAqXG4gKiBBdCBmaXJzdCBpdCBtaWdodCBub3QgYmUgb2J2aW91cyB3aHkgdGhpcyBleHRyYSBjb21wbGV4aXR5IGlzIHdvcnRoIHRoZSB0cm91YmxlLiBUaGUgcGF5b2ZmXG4gKiBjb21lcyBpbiB0aGUgd2F5IG9mIGd1YXJhbnRlZXMgdGhhdCBwcm9taXNlIGFuZCBkZWZlcnJlZCBBUElzIG1ha2UsIHNlZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC91bmNvbW1vbmpzL2Jsb2IvbWFzdGVyL3Byb21pc2VzL3NwZWNpZmljYXRpb24ubWQuXG4gKlxuICogQWRkaXRpb25hbGx5IHRoZSBwcm9taXNlIGFwaSBhbGxvd3MgZm9yIGNvbXBvc2l0aW9uIHRoYXQgaXMgdmVyeSBoYXJkIHRvIGRvIHdpdGggdGhlXG4gKiB0cmFkaXRpb25hbCBjYWxsYmFjayAoW0NQU10oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db250aW51YXRpb24tcGFzc2luZ19zdHlsZSkpIGFwcHJvYWNoLlxuICogRm9yIG1vcmUgb24gdGhpcyBwbGVhc2Ugc2VlIHRoZSBbUSBkb2N1bWVudGF0aW9uXShodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3EpIGVzcGVjaWFsbHkgdGhlXG4gKiBzZWN0aW9uIG9uIHNlcmlhbCBvciBwYXJhbGxlbCBqb2luaW5nIG9mIHByb21pc2VzLlxuICpcbiAqICMjIFRoZSBEZWZlcnJlZCBBUElcbiAqXG4gKiBBIG5ldyBpbnN0YW5jZSBvZiBkZWZlcnJlZCBpcyBjb25zdHJ1Y3RlZCBieSBjYWxsaW5nIGAkcS5kZWZlcigpYC5cbiAqXG4gKiBUaGUgcHVycG9zZSBvZiB0aGUgZGVmZXJyZWQgb2JqZWN0IGlzIHRvIGV4cG9zZSB0aGUgYXNzb2NpYXRlZCBQcm9taXNlIGluc3RhbmNlIGFzIHdlbGwgYXMgQVBJc1xuICogdGhhdCBjYW4gYmUgdXNlZCBmb3Igc2lnbmFsaW5nIHRoZSBzdWNjZXNzZnVsIG9yIHVuc3VjY2Vzc2Z1bCBjb21wbGV0aW9uLCBhcyB3ZWxsIGFzIHRoZSBzdGF0dXNcbiAqIG9mIHRoZSB0YXNrLlxuICpcbiAqICoqTWV0aG9kcyoqXG4gKlxuICogLSBgcmVzb2x2ZSh2YWx1ZSlgIOKAkyByZXNvbHZlcyB0aGUgZGVyaXZlZCBwcm9taXNlIHdpdGggdGhlIGB2YWx1ZWAuIElmIHRoZSB2YWx1ZSBpcyBhIHJlamVjdGlvblxuICogICBjb25zdHJ1Y3RlZCB2aWEgYCRxLnJlamVjdGAsIHRoZSBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgaW5zdGVhZC5cbiAqIC0gYHJlamVjdChyZWFzb24pYCDigJMgcmVqZWN0cyB0aGUgZGVyaXZlZCBwcm9taXNlIHdpdGggdGhlIGByZWFzb25gLiBUaGlzIGlzIGVxdWl2YWxlbnQgdG9cbiAqICAgcmVzb2x2aW5nIGl0IHdpdGggYSByZWplY3Rpb24gY29uc3RydWN0ZWQgdmlhIGAkcS5yZWplY3RgLlxuICogLSBgbm90aWZ5KHZhbHVlKWAgLSBwcm92aWRlcyB1cGRhdGVzIG9uIHRoZSBzdGF0dXMgb2YgdGhlIHByb21pc2UncyBleGVjdXRpb24uIFRoaXMgbWF5IGJlIGNhbGxlZFxuICogICBtdWx0aXBsZSB0aW1lcyBiZWZvcmUgdGhlIHByb21pc2UgaXMgZWl0aGVyIHJlc29sdmVkIG9yIHJlamVjdGVkLlxuICpcbiAqICoqUHJvcGVydGllcyoqXG4gKlxuICogLSBwcm9taXNlIOKAkyBge1Byb21pc2V9YCDigJMgcHJvbWlzZSBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZGVmZXJyZWQuXG4gKlxuICpcbiAqICMjIFRoZSBQcm9taXNlIEFQSVxuICpcbiAqIEEgbmV3IHByb21pc2UgaW5zdGFuY2UgaXMgY3JlYXRlZCB3aGVuIGEgZGVmZXJyZWQgaW5zdGFuY2UgaXMgY3JlYXRlZCBhbmQgY2FuIGJlIHJldHJpZXZlZCBieVxuICogY2FsbGluZyBgZGVmZXJyZWQucHJvbWlzZWAuXG4gKlxuICogVGhlIHB1cnBvc2Ugb2YgdGhlIHByb21pc2Ugb2JqZWN0IGlzIHRvIGFsbG93IGZvciBpbnRlcmVzdGVkIHBhcnRpZXMgdG8gZ2V0IGFjY2VzcyB0byB0aGUgcmVzdWx0XG4gKiBvZiB0aGUgZGVmZXJyZWQgdGFzayB3aGVuIGl0IGNvbXBsZXRlcy5cbiAqXG4gKiAqKk1ldGhvZHMqKlxuICpcbiAqIC0gYHRoZW4oc3VjY2Vzc0NhbGxiYWNrLCBbZXJyb3JDYWxsYmFja10sIFtub3RpZnlDYWxsYmFja10pYCDigJMgcmVnYXJkbGVzcyBvZiB3aGVuIHRoZSBwcm9taXNlIHdhcyBvclxuICogICB3aWxsIGJlIHJlc29sdmVkIG9yIHJlamVjdGVkLCBgdGhlbmAgY2FsbHMgb25lIG9mIHRoZSBzdWNjZXNzIG9yIGVycm9yIGNhbGxiYWNrcyBhc3luY2hyb25vdXNseVxuICogICBhcyBzb29uIGFzIHRoZSByZXN1bHQgaXMgYXZhaWxhYmxlLiBUaGUgY2FsbGJhY2tzIGFyZSBjYWxsZWQgd2l0aCBhIHNpbmdsZSBhcmd1bWVudDogdGhlIHJlc3VsdFxuICogICBvciByZWplY3Rpb24gcmVhc29uLiBBZGRpdGlvbmFsbHksIHRoZSBub3RpZnkgY2FsbGJhY2sgbWF5IGJlIGNhbGxlZCB6ZXJvIG9yIG1vcmUgdGltZXMgdG9cbiAqICAgcHJvdmlkZSBhIHByb2dyZXNzIGluZGljYXRpb24sIGJlZm9yZSB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCBvciByZWplY3RlZC5cbiAqXG4gKiAgIFRoaXMgbWV0aG9kICpyZXR1cm5zIGEgbmV3IHByb21pc2UqIHdoaWNoIGlzIHJlc29sdmVkIG9yIHJlamVjdGVkIHZpYSB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZVxuICogICBgc3VjY2Vzc0NhbGxiYWNrYCwgYGVycm9yQ2FsbGJhY2tgICh1bmxlc3MgdGhhdCB2YWx1ZSBpcyBhIHByb21pc2UsIGluIHdoaWNoIGNhc2UgaXQgaXMgcmVzb2x2ZWRcbiAqICAgd2l0aCB0aGUgdmFsdWUgd2hpY2ggaXMgcmVzb2x2ZWQgaW4gdGhhdCBwcm9taXNlIHVzaW5nXG4gKiAgIFtwcm9taXNlIGNoYWluaW5nXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9lczYvcHJvbWlzZXMvI3RvYy1wcm9taXNlcy1xdWV1ZXMpKS5cbiAqICAgSXQgYWxzbyBub3RpZmllcyB2aWEgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgYG5vdGlmeUNhbGxiYWNrYCBtZXRob2QuIFRoZSBwcm9taXNlIGNhbm5vdCBiZVxuICogICByZXNvbHZlZCBvciByZWplY3RlZCBmcm9tIHRoZSBub3RpZnlDYWxsYmFjayBtZXRob2QuIFRoZSBlcnJvckNhbGxiYWNrIGFuZCBub3RpZnlDYWxsYmFja1xuICogICBhcmd1bWVudHMgYXJlIG9wdGlvbmFsLlxuICpcbiAqIC0gYGNhdGNoKGVycm9yQ2FsbGJhY2spYCDigJMgc2hvcnRoYW5kIGZvciBgcHJvbWlzZS50aGVuKG51bGwsIGVycm9yQ2FsbGJhY2spYFxuICpcbiAqIC0gYGZpbmFsbHkoY2FsbGJhY2ssIG5vdGlmeUNhbGxiYWNrKWAg4oCTIGFsbG93cyB5b3UgdG8gb2JzZXJ2ZSBlaXRoZXIgdGhlIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiBvZiBhIHByb21pc2UsXG4gKiAgIGJ1dCB0byBkbyBzbyB3aXRob3V0IG1vZGlmeWluZyB0aGUgZmluYWwgdmFsdWUuIFRoaXMgaXMgdXNlZnVsIHRvIHJlbGVhc2UgcmVzb3VyY2VzIG9yIGRvIHNvbWVcbiAqICAgY2xlYW4tdXAgdGhhdCBuZWVkcyB0byBiZSBkb25lIHdoZXRoZXIgdGhlIHByb21pc2Ugd2FzIHJlamVjdGVkIG9yIHJlc29sdmVkLiBTZWUgdGhlIFtmdWxsXG4gKiAgIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcS93aWtpL0FQSS1SZWZlcmVuY2UjcHJvbWlzZWZpbmFsbHljYWxsYmFjaykgZm9yXG4gKiAgIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogIyMgQ2hhaW5pbmcgcHJvbWlzZXNcbiAqXG4gKiBCZWNhdXNlIGNhbGxpbmcgdGhlIGB0aGVuYCBtZXRob2Qgb2YgYSBwcm9taXNlIHJldHVybnMgYSBuZXcgZGVyaXZlZCBwcm9taXNlLCBpdCBpcyBlYXNpbHlcbiAqIHBvc3NpYmxlIHRvIGNyZWF0ZSBhIGNoYWluIG9mIHByb21pc2VzOlxuICpcbiAqIGBgYGpzXG4gKiAgIHByb21pc2VCID0gcHJvbWlzZUEudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAqICAgICByZXR1cm4gcmVzdWx0ICsgMTtcbiAqICAgfSk7XG4gKlxuICogICAvLyBwcm9taXNlQiB3aWxsIGJlIHJlc29sdmVkIGltbWVkaWF0ZWx5IGFmdGVyIHByb21pc2VBIGlzIHJlc29sdmVkIGFuZCBpdHMgdmFsdWVcbiAqICAgLy8gd2lsbCBiZSB0aGUgcmVzdWx0IG9mIHByb21pc2VBIGluY3JlbWVudGVkIGJ5IDFcbiAqIGBgYFxuICpcbiAqIEl0IGlzIHBvc3NpYmxlIHRvIGNyZWF0ZSBjaGFpbnMgb2YgYW55IGxlbmd0aCBhbmQgc2luY2UgYSBwcm9taXNlIGNhbiBiZSByZXNvbHZlZCB3aXRoIGFub3RoZXJcbiAqIHByb21pc2UgKHdoaWNoIHdpbGwgZGVmZXIgaXRzIHJlc29sdXRpb24gZnVydGhlciksIGl0IGlzIHBvc3NpYmxlIHRvIHBhdXNlL2RlZmVyIHJlc29sdXRpb24gb2ZcbiAqIHRoZSBwcm9taXNlcyBhdCBhbnkgcG9pbnQgaW4gdGhlIGNoYWluLiBUaGlzIG1ha2VzIGl0IHBvc3NpYmxlIHRvIGltcGxlbWVudCBwb3dlcmZ1bCBBUElzIGxpa2VcbiAqICRodHRwJ3MgcmVzcG9uc2UgaW50ZXJjZXB0b3JzLlxuICpcbiAqXG4gKiAjIyBEaWZmZXJlbmNlcyBiZXR3ZWVuIEtyaXMgS293YWwncyBRIGFuZCAkcVxuICpcbiAqICBUaGVyZSBhcmUgdHdvIG1haW4gZGlmZmVyZW5jZXM6XG4gKlxuICogLSAkcSBpcyBpbnRlZ3JhdGVkIHdpdGggdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlfSBTY29wZSBtb2RlbCBvYnNlcnZhdGlvblxuICogICBtZWNoYW5pc20gaW4gQW5ndWxhckpTLCB3aGljaCBtZWFucyBmYXN0ZXIgcHJvcGFnYXRpb24gb2YgcmVzb2x1dGlvbiBvciByZWplY3Rpb24gaW50byB5b3VyXG4gKiAgIG1vZGVscyBhbmQgYXZvaWRpbmcgdW5uZWNlc3NhcnkgYnJvd3NlciByZXBhaW50cywgd2hpY2ggd291bGQgcmVzdWx0IGluIGZsaWNrZXJpbmcgVUkuXG4gKiAtIFEgaGFzIG1hbnkgbW9yZSBmZWF0dXJlcyB0aGFuICRxLCBidXQgdGhhdCBjb21lcyBhdCBhIGNvc3Qgb2YgYnl0ZXMuICRxIGlzIHRpbnksIGJ1dCBjb250YWluc1xuICogICBhbGwgdGhlIGltcG9ydGFudCBmdW5jdGlvbmFsaXR5IG5lZWRlZCBmb3IgY29tbW9uIGFzeW5jIHRhc2tzLlxuICpcbiAqICMjIFRlc3RpbmdcbiAqXG4gKiAgYGBganNcbiAqICAgIGl0KCdzaG91bGQgc2ltdWxhdGUgcHJvbWlzZScsIGluamVjdChmdW5jdGlvbigkcSwgJHJvb3RTY29wZSkge1xuICogICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICogICAgICB2YXIgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG4gKiAgICAgIHZhciByZXNvbHZlZFZhbHVlO1xuICpcbiAqICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7IHJlc29sdmVkVmFsdWUgPSB2YWx1ZTsgfSk7XG4gKiAgICAgIGV4cGVjdChyZXNvbHZlZFZhbHVlKS50b0JlVW5kZWZpbmVkKCk7XG4gKlxuICogICAgICAvLyBTaW11bGF0ZSByZXNvbHZpbmcgb2YgcHJvbWlzZVxuICogICAgICBkZWZlcnJlZC5yZXNvbHZlKDEyMyk7XG4gKiAgICAgIC8vIE5vdGUgdGhhdCB0aGUgJ3RoZW4nIGZ1bmN0aW9uIGRvZXMgbm90IGdldCBjYWxsZWQgc3luY2hyb25vdXNseS5cbiAqICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHdlIHdhbnQgdGhlIHByb21pc2UgQVBJIHRvIGFsd2F5cyBiZSBhc3luYywgd2hldGhlciBvciBub3RcbiAqICAgICAgLy8gaXQgZ290IGNhbGxlZCBzeW5jaHJvbm91c2x5IG9yIGFzeW5jaHJvbm91c2x5LlxuICogICAgICBleHBlY3QocmVzb2x2ZWRWYWx1ZSkudG9CZVVuZGVmaW5lZCgpO1xuICpcbiAqICAgICAgLy8gUHJvcGFnYXRlIHByb21pc2UgcmVzb2x1dGlvbiB0byAndGhlbicgZnVuY3Rpb25zIHVzaW5nICRhcHBseSgpLlxuICogICAgICAkcm9vdFNjb3BlLiRhcHBseSgpO1xuICogICAgICBleHBlY3QocmVzb2x2ZWRWYWx1ZSkudG9FcXVhbCgxMjMpO1xuICogICAgfSkpO1xuICogIGBgYFxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oZnVuY3Rpb24sIGZ1bmN0aW9uKX0gcmVzb2x2ZXIgRnVuY3Rpb24gd2hpY2ggaXMgcmVzcG9uc2libGUgZm9yIHJlc29sdmluZyBvclxuICogICByZWplY3RpbmcgdGhlIG5ld2x5IGNyZWF0ZWQgcHJvbWlzZS4gVGhlIGZpcnN0IHBhcmFtZXRlciBpcyBhIGZ1bmN0aW9uIHdoaWNoIHJlc29sdmVzIHRoZVxuICogICBwcm9taXNlLCB0aGUgc2Vjb25kIHBhcmFtZXRlciBpcyBhIGZ1bmN0aW9uIHdoaWNoIHJlamVjdHMgdGhlIHByb21pc2UuXG4gKlxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBuZXdseSBjcmVhdGVkIHByb21pc2UuXG4gKi9cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkcVByb3ZpZGVyXG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICovXG5mdW5jdGlvbiAkUVByb3ZpZGVyKCkge1xuICB2YXIgZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgPSB0cnVlO1xuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkZXhjZXB0aW9uSGFuZGxlcikge1xuICAgIHJldHVybiBxRmFjdG9yeShmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGNhbGxiYWNrKTtcbiAgICB9LCAkZXhjZXB0aW9uSGFuZGxlciwgZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMpO1xuICB9XTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcVByb3ZpZGVyI2Vycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHdoZXRoZXIgdG8gZ2VuZXJhdGUgYW4gZXJyb3Igd2hlbiBhIHJlamVjdGVkIHByb21pc2UgaXMgbm90IGhhbmRsZWQuXG4gICAqIFRoaXMgZmVhdHVyZSBpcyBlbmFibGVkIGJ5IGRlZmF1bHQuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHZhbHVlIFdoZXRoZXIgdG8gZ2VuZXJhdGUgYW4gZXJyb3Igd2hlbiBhIHJlamVjdGVkIHByb21pc2UgaXMgbm90IGhhbmRsZWQuXG4gICAqIEByZXR1cm5zIHtib29sZWFufG5nLiRxUHJvdmlkZXJ9IEN1cnJlbnQgdmFsdWUgd2hlbiBjYWxsZWQgd2l0aG91dCBhIG5ldyB2YWx1ZSBvciBzZWxmIGZvclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXG4gICAqL1xuICB0aGlzLmVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnM7XG4gICAgfVxuICB9O1xufVxuXG4vKiogQHRoaXMgKi9cbmZ1bmN0aW9uICQkUVByb3ZpZGVyKCkge1xuICB2YXIgZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgPSB0cnVlO1xuICB0aGlzLiRnZXQgPSBbJyRicm93c2VyJywgJyRleGNlcHRpb25IYW5kbGVyJywgZnVuY3Rpb24oJGJyb3dzZXIsICRleGNlcHRpb25IYW5kbGVyKSB7XG4gICAgcmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkYnJvd3Nlci5kZWZlcihjYWxsYmFjayk7XG4gICAgfSwgJGV4Y2VwdGlvbkhhbmRsZXIsIGVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zKTtcbiAgfV07XG5cbiAgdGhpcy5lcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9ucyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIGVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgcHJvbWlzZSBtYW5hZ2VyLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oZnVuY3Rpb24pfSBuZXh0VGljayBGdW5jdGlvbiBmb3IgZXhlY3V0aW5nIGZ1bmN0aW9ucyBpbiB0aGUgbmV4dCB0dXJuLlxuICogQHBhcmFtIHtmdW5jdGlvbiguLi4qKX0gZXhjZXB0aW9uSGFuZGxlciBGdW5jdGlvbiBpbnRvIHdoaWNoIHVuZXhwZWN0ZWQgZXhjZXB0aW9ucyBhcmUgcGFzc2VkIGZvclxuICogICAgIGRlYnVnZ2luZyBwdXJwb3Nlcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zIFdoZXRoZXIgYW4gZXJyb3Igc2hvdWxkIGJlIGdlbmVyYXRlZCBvbiB1bmhhbmRsZWRcbiAqICAgICBwcm9taXNlcyByZWplY3Rpb25zLlxuICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSBtYW5hZ2VyLlxuICovXG5mdW5jdGlvbiBxRmFjdG9yeShuZXh0VGljaywgZXhjZXB0aW9uSGFuZGxlciwgZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMpIHtcbiAgdmFyICRxTWluRXJyID0gbWluRXJyKCckcScsIFR5cGVFcnJvcik7XG4gIHZhciBxdWV1ZVNpemUgPSAwO1xuICB2YXIgY2hlY2tRdWV1ZSA9IFtdO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nLiRxI2RlZmVyXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDcmVhdGVzIGEgYERlZmVycmVkYCBvYmplY3Qgd2hpY2ggcmVwcmVzZW50cyBhIHRhc2sgd2hpY2ggd2lsbCBmaW5pc2ggaW4gdGhlIGZ1dHVyZS5cbiAgICpcbiAgICogQHJldHVybnMge0RlZmVycmVkfSBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIGRlZmVycmVkLlxuICAgKi9cbiAgZnVuY3Rpb24gZGVmZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBEZWZlcnJlZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gRGVmZXJyZWQoKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgpO1xuICAgIC8vTm9uIHByb3RvdHlwZSBtZXRob2RzIG5lY2Vzc2FyeSB0byBzdXBwb3J0IHVuYm91bmQgZXhlY3V0aW9uIDovXG4gICAgdGhpcy5yZXNvbHZlID0gZnVuY3Rpb24odmFsKSB7IHJlc29sdmVQcm9taXNlKHByb21pc2UsIHZhbCk7IH07XG4gICAgdGhpcy5yZWplY3QgPSBmdW5jdGlvbihyZWFzb24pIHsgcmVqZWN0UHJvbWlzZShwcm9taXNlLCByZWFzb24pOyB9O1xuICAgIHRoaXMubm90aWZ5ID0gZnVuY3Rpb24ocHJvZ3Jlc3MpIHsgbm90aWZ5UHJvbWlzZShwcm9taXNlLCBwcm9ncmVzcyk7IH07XG4gIH1cblxuXG4gIGZ1bmN0aW9uIFByb21pc2UoKSB7XG4gICAgdGhpcy4kJHN0YXRlID0geyBzdGF0dXM6IDAgfTtcbiAgfVxuXG4gIGV4dGVuZChQcm9taXNlLnByb3RvdHlwZSwge1xuICAgIHRoZW46IGZ1bmN0aW9uKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9ncmVzc0JhY2spIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChvbkZ1bGZpbGxlZCkgJiYgaXNVbmRlZmluZWQob25SZWplY3RlZCkgJiYgaXNVbmRlZmluZWQocHJvZ3Jlc3NCYWNrKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBuZXcgUHJvbWlzZSgpO1xuXG4gICAgICB0aGlzLiQkc3RhdGUucGVuZGluZyA9IHRoaXMuJCRzdGF0ZS5wZW5kaW5nIHx8IFtdO1xuICAgICAgdGhpcy4kJHN0YXRlLnBlbmRpbmcucHVzaChbcmVzdWx0LCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcHJvZ3Jlc3NCYWNrXSk7XG4gICAgICBpZiAodGhpcy4kJHN0YXRlLnN0YXR1cyA+IDApIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHRoaXMuJCRzdGF0ZSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgICdjYXRjaCc6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIGNhbGxiYWNrKTtcbiAgICB9LFxuXG4gICAgJ2ZpbmFsbHknOiBmdW5jdGlvbihjYWxsYmFjaywgcHJvZ3Jlc3NCYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVDYWxsYmFjayh2YWx1ZSwgcmVzb2x2ZSwgY2FsbGJhY2spO1xuICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZUNhbGxiYWNrKGVycm9yLCByZWplY3QsIGNhbGxiYWNrKTtcbiAgICAgIH0sIHByb2dyZXNzQmFjayk7XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBwcm9jZXNzUXVldWUoc3RhdGUpIHtcbiAgICB2YXIgZm4sIHByb21pc2UsIHBlbmRpbmc7XG5cbiAgICBwZW5kaW5nID0gc3RhdGUucGVuZGluZztcbiAgICBzdGF0ZS5wcm9jZXNzU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgc3RhdGUucGVuZGluZyA9IHVuZGVmaW5lZDtcbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcGVuZGluZy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgIG1hcmtRU3RhdGVFeGNlcHRpb25IYW5kbGVkKHN0YXRlKTtcbiAgICAgICAgcHJvbWlzZSA9IHBlbmRpbmdbaV1bMF07XG4gICAgICAgIGZuID0gcGVuZGluZ1tpXVtzdGF0ZS5zdGF0dXNdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGZuKSkge1xuICAgICAgICAgICAgcmVzb2x2ZVByb21pc2UocHJvbWlzZSwgZm4oc3RhdGUudmFsdWUpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLnN0YXR1cyA9PT0gMSkge1xuICAgICAgICAgICAgcmVzb2x2ZVByb21pc2UocHJvbWlzZSwgc3RhdGUudmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3RQcm9taXNlKHByb21pc2UsIHN0YXRlLnZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZWplY3RQcm9taXNlKHByb21pc2UsIGUpO1xuICAgICAgICAgIC8vIFRoaXMgZXJyb3IgaXMgZXhwbGljaXRseSBtYXJrZWQgZm9yIGJlaW5nIHBhc3NlZCB0byB0aGUgJGV4Y2VwdGlvbkhhbmRsZXJcbiAgICAgICAgICBpZiAoZSAmJiBlLiQkcGFzc1RvRXhjZXB0aW9uSGFuZGxlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgLS1xdWV1ZVNpemU7XG4gICAgICBpZiAoZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgJiYgcXVldWVTaXplID09PSAwKSB7XG4gICAgICAgIG5leHRUaWNrKHByb2Nlc3NDaGVja3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NDaGVja3MoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb25cbiAgICB3aGlsZSAoIXF1ZXVlU2l6ZSAmJiBjaGVja1F1ZXVlLmxlbmd0aCkge1xuICAgICAgdmFyIHRvQ2hlY2sgPSBjaGVja1F1ZXVlLnNoaWZ0KCk7XG4gICAgICBpZiAoIWlzU3RhdGVFeGNlcHRpb25IYW5kbGVkKHRvQ2hlY2spKSB7XG4gICAgICAgIG1hcmtRU3RhdGVFeGNlcHRpb25IYW5kbGVkKHRvQ2hlY2spO1xuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gJ1Bvc3NpYmx5IHVuaGFuZGxlZCByZWplY3Rpb246ICcgKyB0b0RlYnVnU3RyaW5nKHRvQ2hlY2sudmFsdWUpO1xuICAgICAgICBpZiAoaXNFcnJvcih0b0NoZWNrLnZhbHVlKSkge1xuICAgICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIodG9DaGVjay52YWx1ZSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBleGNlcHRpb25IYW5kbGVyKGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzY2hlZHVsZVByb2Nlc3NRdWV1ZShzdGF0ZSkge1xuICAgIGlmIChlcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9ucyAmJiAhc3RhdGUucGVuZGluZyAmJiBzdGF0ZS5zdGF0dXMgPT09IDIgJiYgIWlzU3RhdGVFeGNlcHRpb25IYW5kbGVkKHN0YXRlKSkge1xuICAgICAgaWYgKHF1ZXVlU2l6ZSA9PT0gMCAmJiBjaGVja1F1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBuZXh0VGljayhwcm9jZXNzQ2hlY2tzKTtcbiAgICAgIH1cbiAgICAgIGNoZWNrUXVldWUucHVzaChzdGF0ZSk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5wcm9jZXNzU2NoZWR1bGVkIHx8ICFzdGF0ZS5wZW5kaW5nKSByZXR1cm47XG4gICAgc3RhdGUucHJvY2Vzc1NjaGVkdWxlZCA9IHRydWU7XG4gICAgKytxdWV1ZVNpemU7XG4gICAgbmV4dFRpY2soZnVuY3Rpb24oKSB7IHByb2Nlc3NRdWV1ZShzdGF0ZSk7IH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UocHJvbWlzZSwgdmFsKSB7XG4gICAgaWYgKHByb21pc2UuJCRzdGF0ZS5zdGF0dXMpIHJldHVybjtcbiAgICBpZiAodmFsID09PSBwcm9taXNlKSB7XG4gICAgICAkJHJlamVjdChwcm9taXNlLCAkcU1pbkVycihcbiAgICAgICAgJ3FjeWNsZScsXG4gICAgICAgICdFeHBlY3RlZCBwcm9taXNlIHRvIGJlIHJlc29sdmVkIHdpdGggdmFsdWUgb3RoZXIgdGhhbiBpdHNlbGYgXFwnezB9XFwnJyxcbiAgICAgICAgdmFsKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQkcmVzb2x2ZShwcm9taXNlLCB2YWwpO1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gJCRyZXNvbHZlKHByb21pc2UsIHZhbCkge1xuICAgIHZhciB0aGVuO1xuICAgIHZhciBkb25lID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpc09iamVjdCh2YWwpIHx8IGlzRnVuY3Rpb24odmFsKSkgdGhlbiA9IHZhbC50aGVuO1xuICAgICAgaWYgKGlzRnVuY3Rpb24odGhlbikpIHtcbiAgICAgICAgcHJvbWlzZS4kJHN0YXRlLnN0YXR1cyA9IC0xO1xuICAgICAgICB0aGVuLmNhbGwodmFsLCBkb1Jlc29sdmUsIGRvUmVqZWN0LCBkb05vdGlmeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9taXNlLiQkc3RhdGUudmFsdWUgPSB2YWw7XG4gICAgICAgIHByb21pc2UuJCRzdGF0ZS5zdGF0dXMgPSAxO1xuICAgICAgICBzY2hlZHVsZVByb2Nlc3NRdWV1ZShwcm9taXNlLiQkc3RhdGUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGRvUmVqZWN0KGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvUmVzb2x2ZSh2YWwpIHtcbiAgICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICQkcmVzb2x2ZShwcm9taXNlLCB2YWwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkb1JlamVjdCh2YWwpIHtcbiAgICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICQkcmVqZWN0KHByb21pc2UsIHZhbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRvTm90aWZ5KHByb2dyZXNzKSB7XG4gICAgICBub3RpZnlQcm9taXNlKHByb21pc2UsIHByb2dyZXNzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWplY3RQcm9taXNlKHByb21pc2UsIHJlYXNvbikge1xuICAgIGlmIChwcm9taXNlLiQkc3RhdGUuc3RhdHVzKSByZXR1cm47XG4gICAgJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uICQkcmVqZWN0KHByb21pc2UsIHJlYXNvbikge1xuICAgIHByb21pc2UuJCRzdGF0ZS52YWx1ZSA9IHJlYXNvbjtcbiAgICBwcm9taXNlLiQkc3RhdGUuc3RhdHVzID0gMjtcbiAgICBzY2hlZHVsZVByb2Nlc3NRdWV1ZShwcm9taXNlLiQkc3RhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gbm90aWZ5UHJvbWlzZShwcm9taXNlLCBwcm9ncmVzcykge1xuICAgIHZhciBjYWxsYmFja3MgPSBwcm9taXNlLiQkc3RhdGUucGVuZGluZztcblxuICAgIGlmICgocHJvbWlzZS4kJHN0YXRlLnN0YXR1cyA8PSAwKSAmJiBjYWxsYmFja3MgJiYgY2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgbmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjYWxsYmFjaywgcmVzdWx0O1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrc1tpXVswXTtcbiAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrc1tpXVszXTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbm90aWZ5UHJvbWlzZShyZXN1bHQsIGlzRnVuY3Rpb24oY2FsbGJhY2spID8gY2FsbGJhY2socHJvZ3Jlc3MpIDogcHJvZ3Jlc3MpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcSNyZWplY3RcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgYXMgcmVqZWN0ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIGByZWFzb25gLiBUaGlzIGFwaSBzaG91bGQgYmVcbiAgICogdXNlZCB0byBmb3J3YXJkIHJlamVjdGlvbiBpbiBhIGNoYWluIG9mIHByb21pc2VzLiBJZiB5b3UgYXJlIGRlYWxpbmcgd2l0aCB0aGUgbGFzdCBwcm9taXNlIGluXG4gICAqIGEgcHJvbWlzZSBjaGFpbiwgeW91IGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgaXQuXG4gICAqXG4gICAqIFdoZW4gY29tcGFyaW5nIGRlZmVycmVkcy9wcm9taXNlcyB0byB0aGUgZmFtaWxpYXIgYmVoYXZpb3Igb2YgdHJ5L2NhdGNoL3Rocm93LCB0aGluayBvZlxuICAgKiBgcmVqZWN0YCBhcyB0aGUgYHRocm93YCBrZXl3b3JkIGluIEphdmFTY3JpcHQuIFRoaXMgYWxzbyBtZWFucyB0aGF0IGlmIHlvdSBcImNhdGNoXCIgYW4gZXJyb3IgdmlhXG4gICAqIGEgcHJvbWlzZSBlcnJvciBjYWxsYmFjayBhbmQgeW91IHdhbnQgdG8gZm9yd2FyZCB0aGUgZXJyb3IgdG8gdGhlIHByb21pc2UgZGVyaXZlZCBmcm9tIHRoZVxuICAgKiBjdXJyZW50IHByb21pc2UsIHlvdSBoYXZlIHRvIFwicmV0aHJvd1wiIHRoZSBlcnJvciBieSByZXR1cm5pbmcgYSByZWplY3Rpb24gY29uc3RydWN0ZWQgdmlhXG4gICAqIGByZWplY3RgLlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAgIHByb21pc2VCID0gcHJvbWlzZUEudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICogICAgIC8vIHN1Y2Nlc3M6IGRvIHNvbWV0aGluZyBhbmQgcmVzb2x2ZSBwcm9taXNlQlxuICAgKiAgICAgLy8gICAgICAgICAgd2l0aCB0aGUgb2xkIG9yIGEgbmV3IHJlc3VsdFxuICAgKiAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICogICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICogICAgIC8vIGVycm9yOiBoYW5kbGUgdGhlIGVycm9yIGlmIHBvc3NpYmxlIGFuZFxuICAgKiAgICAgLy8gICAgICAgIHJlc29sdmUgcHJvbWlzZUIgd2l0aCBuZXdQcm9taXNlT3JWYWx1ZSxcbiAgICogICAgIC8vICAgICAgICBvdGhlcndpc2UgZm9yd2FyZCB0aGUgcmVqZWN0aW9uIHRvIHByb21pc2VCXG4gICAqICAgICBpZiAoY2FuSGFuZGxlKHJlYXNvbikpIHtcbiAgICogICAgICAvLyBoYW5kbGUgdGhlIGVycm9yIGFuZCByZWNvdmVyXG4gICAqICAgICAgcmV0dXJuIG5ld1Byb21pc2VPclZhbHVlO1xuICAgKiAgICAgfVxuICAgKiAgICAgcmV0dXJuICRxLnJlamVjdChyZWFzb24pO1xuICAgKiAgIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHsqfSByZWFzb24gQ29uc3RhbnQsIG1lc3NhZ2UsIGV4Y2VwdGlvbiBvciBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSByZWplY3Rpb24gcmVhc29uLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHByb21pc2UgdGhhdCB3YXMgYWxyZWFkeSByZXNvbHZlZCBhcyByZWplY3RlZCB3aXRoIHRoZSBgcmVhc29uYC5cbiAgICovXG4gIGZ1bmN0aW9uIHJlamVjdChyZWFzb24pIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IFByb21pc2UoKTtcbiAgICByZWplY3RQcm9taXNlKHJlc3VsdCwgcmVhc29uKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ2FsbGJhY2sodmFsdWUsIHJlc29sdmVyLCBjYWxsYmFjaykge1xuICAgIHZhciBjYWxsYmFja091dHB1dCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkgY2FsbGJhY2tPdXRwdXQgPSBjYWxsYmFjaygpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiByZWplY3QoZSk7XG4gICAgfVxuICAgIGlmIChpc1Byb21pc2VMaWtlKGNhbGxiYWNrT3V0cHV0KSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrT3V0cHV0LnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlcih2YWx1ZSk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZXIodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRxI3doZW5cbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFdyYXBzIGFuIG9iamVjdCB0aGF0IG1pZ2h0IGJlIGEgdmFsdWUgb3IgYSAoM3JkIHBhcnR5KSB0aGVuLWFibGUgcHJvbWlzZSBpbnRvIGEgJHEgcHJvbWlzZS5cbiAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiB5b3UgYXJlIGRlYWxpbmcgd2l0aCBhbiBvYmplY3QgdGhhdCBtaWdodCBvciBtaWdodCBub3QgYmUgYSBwcm9taXNlLCBvciBpZlxuICAgKiB0aGUgcHJvbWlzZSBjb21lcyBmcm9tIGEgc291cmNlIHRoYXQgY2FuJ3QgYmUgdHJ1c3RlZC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSBvciBhIHByb21pc2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IHN1Y2Nlc3NDYWxsYmFja1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gZXJyb3JDYWxsYmFja1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gcHJvZ3Jlc3NDYWxsYmFja1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHByb21pc2Ugb2YgdGhlIHBhc3NlZCB2YWx1ZSBvciBwcm9taXNlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gd2hlbih2YWx1ZSwgY2FsbGJhY2ssIGVycmJhY2ssIHByb2dyZXNzQmFjaykge1xuICAgIHZhciByZXN1bHQgPSBuZXcgUHJvbWlzZSgpO1xuICAgIHJlc29sdmVQcm9taXNlKHJlc3VsdCwgdmFsdWUpO1xuICAgIHJldHVybiByZXN1bHQudGhlbihjYWxsYmFjaywgZXJyYmFjaywgcHJvZ3Jlc3NCYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRxI3Jlc29sdmVcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEFsaWFzIG9mIHtAbGluayBuZy4kcSN3aGVuIHdoZW59IHRvIG1haW50YWluIG5hbWluZyBjb25zaXN0ZW5jeSB3aXRoIEVTNi5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSBvciBhIHByb21pc2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IHN1Y2Nlc3NDYWxsYmFja1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gZXJyb3JDYWxsYmFja1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gcHJvZ3Jlc3NDYWxsYmFja1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHByb21pc2Ugb2YgdGhlIHBhc3NlZCB2YWx1ZSBvciBwcm9taXNlXG4gICAqL1xuICB2YXIgcmVzb2x2ZSA9IHdoZW47XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHEjYWxsXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDb21iaW5lcyBtdWx0aXBsZSBwcm9taXNlcyBpbnRvIGEgc2luZ2xlIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIGFsbCBvZiB0aGUgaW5wdXRcbiAgICogcHJvbWlzZXMgYXJlIHJlc29sdmVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5LjxQcm9taXNlPnxPYmplY3QuPFByb21pc2U+fSBwcm9taXNlcyBBbiBhcnJheSBvciBoYXNoIG9mIHByb21pc2VzLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHNpbmdsZSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIGFuIGFycmF5L2hhc2ggb2YgdmFsdWVzLFxuICAgKiAgIGVhY2ggdmFsdWUgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvbWlzZSBhdCB0aGUgc2FtZSBpbmRleC9rZXkgaW4gdGhlIGBwcm9taXNlc2AgYXJyYXkvaGFzaC5cbiAgICogICBJZiBhbnkgb2YgdGhlIHByb21pc2VzIGlzIHJlc29sdmVkIHdpdGggYSByZWplY3Rpb24sIHRoaXMgcmVzdWx0aW5nIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZFxuICAgKiAgIHdpdGggdGhlIHNhbWUgcmVqZWN0aW9uIHZhbHVlLlxuICAgKi9cblxuICBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IFByb21pc2UoKSxcbiAgICAgICAgY291bnRlciA9IDAsXG4gICAgICAgIHJlc3VsdHMgPSBpc0FycmF5KHByb21pc2VzKSA/IFtdIDoge307XG5cbiAgICBmb3JFYWNoKHByb21pc2VzLCBmdW5jdGlvbihwcm9taXNlLCBrZXkpIHtcbiAgICAgIGNvdW50ZXIrKztcbiAgICAgIHdoZW4ocHJvbWlzZSkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXN1bHRzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgaWYgKCEoLS1jb3VudGVyKSkgcmVzb2x2ZVByb21pc2UocmVzdWx0LCByZXN1bHRzKTtcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICByZWplY3RQcm9taXNlKHJlc3VsdCwgcmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaWYgKGNvdW50ZXIgPT09IDApIHtcbiAgICAgIHJlc29sdmVQcm9taXNlKHJlc3VsdCwgcmVzdWx0cyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRxI3JhY2VcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgb3IgcmVqZWN0cyBhcyBzb29uIGFzIG9uZSBvZiB0aG9zZSBwcm9taXNlc1xuICAgKiByZXNvbHZlcyBvciByZWplY3RzLCB3aXRoIHRoZSB2YWx1ZSBvciByZWFzb24gZnJvbSB0aGF0IHByb21pc2UuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXkuPFByb21pc2U+fE9iamVjdC48UHJvbWlzZT59IHByb21pc2VzIEFuIGFycmF5IG9yIGhhc2ggb2YgcHJvbWlzZXMuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBvciByZWplY3RzIGFzIHNvb24gYXMgb25lIG9mIHRoZSBgcHJvbWlzZXNgXG4gICAqIHJlc29sdmVzIG9yIHJlamVjdHMsIHdpdGggdGhlIHZhbHVlIG9yIHJlYXNvbiBmcm9tIHRoYXQgcHJvbWlzZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gcmFjZShwcm9taXNlcykge1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG5cbiAgICBmb3JFYWNoKHByb21pc2VzLCBmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgICB3aGVuKHByb21pc2UpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9XG5cbiAgZnVuY3Rpb24gJFEocmVzb2x2ZXIpIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24ocmVzb2x2ZXIpKSB7XG4gICAgICB0aHJvdyAkcU1pbkVycignbm9yc2x2cicsICdFeHBlY3RlZCByZXNvbHZlckZuLCBnb3QgXFwnezB9XFwnJywgcmVzb2x2ZXIpO1xuICAgIH1cblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKTtcblxuICAgIGZ1bmN0aW9uIHJlc29sdmVGbih2YWx1ZSkge1xuICAgICAgcmVzb2x2ZVByb21pc2UocHJvbWlzZSwgdmFsdWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlamVjdEZuKHJlYXNvbikge1xuICAgICAgcmVqZWN0UHJvbWlzZShwcm9taXNlLCByZWFzb24pO1xuICAgIH1cblxuICAgIHJlc29sdmVyKHJlc29sdmVGbiwgcmVqZWN0Rm4pO1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICAvLyBMZXQncyBtYWtlIHRoZSBpbnN0YW5jZW9mIG9wZXJhdG9yIHdvcmsgZm9yIHByb21pc2VzLCBzbyB0aGF0XG4gIC8vIGBuZXcgJHEoZm4pIGluc3RhbmNlb2YgJHFgIHdvdWxkIGV2YWx1YXRlIHRvIHRydWUuXG4gICRRLnByb3RvdHlwZSA9IFByb21pc2UucHJvdG90eXBlO1xuXG4gICRRLmRlZmVyID0gZGVmZXI7XG4gICRRLnJlamVjdCA9IHJlamVjdDtcbiAgJFEud2hlbiA9IHdoZW47XG4gICRRLnJlc29sdmUgPSByZXNvbHZlO1xuICAkUS5hbGwgPSBhbGw7XG4gICRRLnJhY2UgPSByYWNlO1xuXG4gIHJldHVybiAkUTtcbn1cblxuZnVuY3Rpb24gaXNTdGF0ZUV4Y2VwdGlvbkhhbmRsZWQoc3RhdGUpIHtcbiAgcmV0dXJuICEhc3RhdGUucHVyO1xufVxuZnVuY3Rpb24gbWFya1FTdGF0ZUV4Y2VwdGlvbkhhbmRsZWQoc3RhdGUpIHtcbiAgc3RhdGUucHVyID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIG1hcmtRRXhjZXB0aW9uSGFuZGxlZChxKSB7XG4gIC8vIEJ1aWx0LWluIGAkcWAgcHJvbWlzZXMgd2lsbCBhbHdheXMgaGF2ZSBhIGAkJHN0YXRlYCBwcm9wZXJ0eS4gVGhpcyBjaGVjayBpcyB0byBhbGxvd1xuICAvLyBvdmVyd3JpdGluZyBgJHFgIHdpdGggYSBkaWZmZXJlbnQgcHJvbWlzZSBsaWJyYXJ5IChlLmcuIEJsdWViaXJkICsgYW5ndWxhci1ibHVlYmlyZC1wcm9taXNlcykuXG4gIC8vIChDdXJyZW50bHksIHRoaXMgaXMgdGhlIG9ubHkgbWV0aG9kIHRoYXQgbWlnaHQgYmUgY2FsbGVkIHdpdGggYSBwcm9taXNlLCBldmVuIGlmIGl0IGlzIG5vdFxuICAvLyBjcmVhdGVkIGJ5IHRoZSBidWlsdC1pbiBgJHFgLilcbiAgaWYgKHEuJCRzdGF0ZSkge1xuICAgIG1hcmtRU3RhdGVFeGNlcHRpb25IYW5kbGVkKHEuJCRzdGF0ZSk7XG4gIH1cbn1cblxuLyoqIEB0aGlzICovXG5mdW5jdGlvbiAkJFJBRlByb3ZpZGVyKCkgeyAvL3JBRlxuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbigkd2luZG93LCAkdGltZW91dCkge1xuICAgIHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSAkd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZTtcblxuICAgIHZhciBjYW5jZWxBbmltYXRpb25GcmFtZSA9ICR3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG5cbiAgICB2YXIgcmFmU3VwcG9ydGVkID0gISFyZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICAgdmFyIHJhZiA9IHJhZlN1cHBvcnRlZFxuICAgICAgPyBmdW5jdGlvbihmbikge1xuICAgICAgICAgIHZhciBpZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmbik7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIDogZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICB2YXIgdGltZXIgPSAkdGltZW91dChmbiwgMTYuNjYsIGZhbHNlKTsgLy8gMTAwMCAvIDYwID0gMTYuNjY2XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgcmFmLnN1cHBvcnRlZCA9IHJhZlN1cHBvcnRlZDtcblxuICAgIHJldHVybiByYWY7XG4gIH1dO1xufVxuXG4vKipcbiAqIERFU0lHTiBOT1RFU1xuICpcbiAqIFRoZSBkZXNpZ24gZGVjaXNpb25zIGJlaGluZCB0aGUgc2NvcGUgYXJlIGhlYXZpbHkgZmF2b3JlZCBmb3Igc3BlZWQgYW5kIG1lbW9yeSBjb25zdW1wdGlvbi5cbiAqXG4gKiBUaGUgdHlwaWNhbCB1c2Ugb2Ygc2NvcGUgaXMgdG8gd2F0Y2ggdGhlIGV4cHJlc3Npb25zLCB3aGljaCBtb3N0IG9mIHRoZSB0aW1lIHJldHVybiB0aGUgc2FtZVxuICogdmFsdWUgYXMgbGFzdCB0aW1lIHNvIHdlIG9wdGltaXplIHRoZSBvcGVyYXRpb24uXG4gKlxuICogQ2xvc3VyZXMgY29uc3RydWN0aW9uIGlzIGV4cGVuc2l2ZSBpbiB0ZXJtcyBvZiBzcGVlZCBhcyB3ZWxsIGFzIG1lbW9yeTpcbiAqICAgLSBObyBjbG9zdXJlcywgaW5zdGVhZCB1c2UgcHJvdG90eXBpY2FsIGluaGVyaXRhbmNlIGZvciBBUElcbiAqICAgLSBJbnRlcm5hbCBzdGF0ZSBuZWVkcyB0byBiZSBzdG9yZWQgb24gc2NvcGUgZGlyZWN0bHksIHdoaWNoIG1lYW5zIHRoYXQgcHJpdmF0ZSBzdGF0ZSBpc1xuICogICAgIGV4cG9zZWQgYXMgJCRfX19fIHByb3BlcnRpZXNcbiAqXG4gKiBMb29wIG9wZXJhdGlvbnMgYXJlIG9wdGltaXplZCBieSB1c2luZyB3aGlsZShjb3VudC0tKSB7IC4uLiB9XG4gKiAgIC0gVGhpcyBtZWFucyB0aGF0IGluIG9yZGVyIHRvIGtlZXAgdGhlIHNhbWUgb3JkZXIgb2YgZXhlY3V0aW9uIGFzIGFkZGl0aW9uIHdlIGhhdmUgdG8gYWRkXG4gKiAgICAgaXRlbXMgdG8gdGhlIGFycmF5IGF0IHRoZSBiZWdpbm5pbmcgKHVuc2hpZnQpIGluc3RlYWQgb2YgYXQgdGhlIGVuZCAocHVzaClcbiAqXG4gKiBDaGlsZCBzY29wZXMgYXJlIGNyZWF0ZWQgYW5kIHJlbW92ZWQgb2Z0ZW5cbiAqICAgLSBVc2luZyBhbiBhcnJheSB3b3VsZCBiZSBzbG93IHNpbmNlIGluc2VydHMgaW4gdGhlIG1pZGRsZSBhcmUgZXhwZW5zaXZlOyBzbyB3ZSB1c2UgbGlua2VkIGxpc3RzXG4gKlxuICogVGhlcmUgYXJlIGZld2VyIHdhdGNoZXMgdGhhbiBvYnNlcnZlcnMuIFRoaXMgaXMgd2h5IHlvdSBkb24ndCB3YW50IHRoZSBvYnNlcnZlciB0byBiZSBpbXBsZW1lbnRlZFxuICogaW4gdGhlIHNhbWUgd2F5IGFzIHdhdGNoLiBXYXRjaCByZXF1aXJlcyByZXR1cm4gb2YgdGhlIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uIHdoaWNoIGlzIGV4cGVuc2l2ZVxuICogdG8gY29uc3RydWN0LlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRyb290U2NvcGVQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUHJvdmlkZXIgZm9yIHRoZSAkcm9vdFNjb3BlIHNlcnZpY2UuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcm9vdFNjb3BlUHJvdmlkZXIjZGlnZXN0VHRsXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBTZXRzIHRoZSBudW1iZXIgb2YgYCRkaWdlc3RgIGl0ZXJhdGlvbnMgdGhlIHNjb3BlIHNob3VsZCBhdHRlbXB0IHRvIGV4ZWN1dGUgYmVmb3JlIGdpdmluZyB1cCBhbmRcbiAqIGFzc3VtaW5nIHRoYXQgdGhlIG1vZGVsIGlzIHVuc3RhYmxlLlxuICpcbiAqIFRoZSBjdXJyZW50IGRlZmF1bHQgaXMgMTAgaXRlcmF0aW9ucy5cbiAqXG4gKiBJbiBjb21wbGV4IGFwcGxpY2F0aW9ucyBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIGRlcGVuZGVuY2llcyBiZXR3ZWVuIGAkd2F0Y2hgcyB3aWxsIHJlc3VsdCBpblxuICogc2V2ZXJhbCBkaWdlc3QgaXRlcmF0aW9ucy4gSG93ZXZlciBpZiBhbiBhcHBsaWNhdGlvbiBuZWVkcyBtb3JlIHRoYW4gdGhlIGRlZmF1bHQgMTAgZGlnZXN0XG4gKiBpdGVyYXRpb25zIGZvciBpdHMgbW9kZWwgdG8gc3RhYmlsaXplIHRoZW4geW91IHNob3VsZCBpbnZlc3RpZ2F0ZSB3aGF0IGlzIGNhdXNpbmcgdGhlIG1vZGVsIHRvXG4gKiBjb250aW51b3VzbHkgY2hhbmdlIGR1cmluZyB0aGUgZGlnZXN0LlxuICpcbiAqIEluY3JlYXNpbmcgdGhlIFRUTCBjb3VsZCBoYXZlIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucywgc28geW91IHNob3VsZCBub3QgY2hhbmdlIGl0IHdpdGhvdXRcbiAqIHByb3BlciBqdXN0aWZpY2F0aW9uLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCBUaGUgbnVtYmVyIG9mIGRpZ2VzdCBpdGVyYXRpb25zLlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHJvb3RTY29wZVxuICogQHRoaXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBFdmVyeSBhcHBsaWNhdGlvbiBoYXMgYSBzaW5nbGUgcm9vdCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBzY29wZX0uXG4gKiBBbGwgb3RoZXIgc2NvcGVzIGFyZSBkZXNjZW5kYW50IHNjb3BlcyBvZiB0aGUgcm9vdCBzY29wZS4gU2NvcGVzIHByb3ZpZGUgc2VwYXJhdGlvblxuICogYmV0d2VlbiB0aGUgbW9kZWwgYW5kIHRoZSB2aWV3LCB2aWEgYSBtZWNoYW5pc20gZm9yIHdhdGNoaW5nIHRoZSBtb2RlbCBmb3IgY2hhbmdlcy5cbiAqIFRoZXkgYWxzbyBwcm92aWRlIGV2ZW50IGVtaXNzaW9uL2Jyb2FkY2FzdCBhbmQgc3Vic2NyaXB0aW9uIGZhY2lsaXR5LiBTZWUgdGhlXG4gKiB7QGxpbmsgZ3VpZGUvc2NvcGUgZGV2ZWxvcGVyIGd1aWRlIG9uIHNjb3Blc30uXG4gKi9cbmZ1bmN0aW9uICRSb290U2NvcGVQcm92aWRlcigpIHtcbiAgdmFyIFRUTCA9IDEwO1xuICB2YXIgJHJvb3RTY29wZU1pbkVyciA9IG1pbkVycignJHJvb3RTY29wZScpO1xuICB2YXIgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xuICB2YXIgYXBwbHlBc3luY0lkID0gbnVsbDtcblxuICB0aGlzLmRpZ2VzdFR0bCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIFRUTCA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gVFRMO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNoaWxkU2NvcGVDbGFzcyhwYXJlbnQpIHtcbiAgICBmdW5jdGlvbiBDaGlsZFNjb3BlKCkge1xuICAgICAgdGhpcy4kJHdhdGNoZXJzID0gdGhpcy4kJG5leHRTaWJsaW5nID1cbiAgICAgICAgICB0aGlzLiQkY2hpbGRIZWFkID0gdGhpcy4kJGNoaWxkVGFpbCA9IG51bGw7XG4gICAgICB0aGlzLiQkbGlzdGVuZXJzID0ge307XG4gICAgICB0aGlzLiQkbGlzdGVuZXJDb3VudCA9IHt9O1xuICAgICAgdGhpcy4kJHdhdGNoZXJzQ291bnQgPSAwO1xuICAgICAgdGhpcy4kaWQgPSBuZXh0VWlkKCk7XG4gICAgICB0aGlzLiQkQ2hpbGRTY29wZSA9IG51bGw7XG4gICAgICB0aGlzLiQkc3VzcGVuZGVkID0gZmFsc2U7XG4gICAgfVxuICAgIENoaWxkU2NvcGUucHJvdG90eXBlID0gcGFyZW50O1xuICAgIHJldHVybiBDaGlsZFNjb3BlO1xuICB9XG5cbiAgdGhpcy4kZ2V0ID0gWyckZXhjZXB0aW9uSGFuZGxlcicsICckcGFyc2UnLCAnJGJyb3dzZXInLFxuICAgICAgZnVuY3Rpb24oJGV4Y2VwdGlvbkhhbmRsZXIsICRwYXJzZSwgJGJyb3dzZXIpIHtcblxuICAgIGZ1bmN0aW9uIGRlc3Ryb3lDaGlsZFNjb3BlKCRldmVudCkge1xuICAgICAgICAkZXZlbnQuY3VycmVudFNjb3BlLiQkZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhblVwU2NvcGUoJHNjb3BlKSB7XG5cbiAgICAgIC8vIFN1cHBvcnQ6IElFIDkgb25seVxuICAgICAgaWYgKG1zaWUgPT09IDkpIHtcbiAgICAgICAgLy8gVGhlcmUgaXMgYSBtZW1vcnkgbGVhayBpbiBJRTkgaWYgYWxsIGNoaWxkIHNjb3BlcyBhcmUgbm90IGRpc2Nvbm5lY3RlZFxuICAgICAgICAvLyBjb21wbGV0ZWx5IHdoZW4gYSBzY29wZSBpcyBkZXN0cm95ZWQuIFNvIHRoaXMgY29kZSB3aWxsIHJlY3Vyc2UgdXAgdGhyb3VnaFxuICAgICAgICAvLyBhbGwgdGhpcyBzY29wZXMgY2hpbGRyZW5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gU2VlIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzEwNzA2XG4gICAgICAgIGlmICgkc2NvcGUuJCRjaGlsZEhlYWQpIHtcbiAgICAgICAgICBjbGVhblVwU2NvcGUoJHNjb3BlLiQkY2hpbGRIZWFkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJHNjb3BlLiQkbmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICBjbGVhblVwU2NvcGUoJHNjb3BlLiQkbmV4dFNpYmxpbmcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb2RlIGJlbG93IHdvcmtzIGFyb3VuZCBJRTkgYW5kIFY4J3MgbWVtb3J5IGxlYWtzXG4gICAgICAvL1xuICAgICAgLy8gU2VlOlxuICAgICAgLy8gLSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjA3MyNjMjZcbiAgICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvNjc5NCNpc3N1ZWNvbW1lbnQtMzg2NDg5MDlcbiAgICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTMxMyNpc3N1ZWNvbW1lbnQtMTAzNzg0NTFcblxuICAgICAgJHNjb3BlLiRwYXJlbnQgPSAkc2NvcGUuJCRuZXh0U2libGluZyA9ICRzY29wZS4kJHByZXZTaWJsaW5nID0gJHNjb3BlLiQkY2hpbGRIZWFkID1cbiAgICAgICAgICAkc2NvcGUuJCRjaGlsZFRhaWwgPSAkc2NvcGUuJHJvb3QgPSAkc2NvcGUuJCR3YXRjaGVycyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHR5cGVcbiAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBBIHJvb3Qgc2NvcGUgY2FuIGJlIHJldHJpZXZlZCB1c2luZyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUgJHJvb3RTY29wZX0ga2V5IGZyb20gdGhlXG4gICAgICoge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIENoaWxkIHNjb3BlcyBhcmUgY3JlYXRlZCB1c2luZyB0aGVcbiAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkbmV3ICRuZXcoKX0gbWV0aG9kLiAoTW9zdCBzY29wZXMgYXJlIGNyZWF0ZWQgYXV0b21hdGljYWxseSB3aGVuXG4gICAgICogY29tcGlsZWQgSFRNTCB0ZW1wbGF0ZSBpcyBleGVjdXRlZC4pIFNlZSBhbHNvIHRoZSB7QGxpbmsgZ3VpZGUvc2NvcGUgU2NvcGVzIGd1aWRlfSBmb3JcbiAgICAgKiBhbiBpbi1kZXB0aCBpbnRyb2R1Y3Rpb24gYW5kIHVzYWdlIGV4YW1wbGVzLlxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyBJbmhlcml0YW5jZVxuICAgICAqIEEgc2NvcGUgY2FuIGluaGVyaXQgZnJvbSBhIHBhcmVudCBzY29wZSwgYXMgaW4gdGhpcyBleGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICAgICB2YXIgcGFyZW50ID0gJHJvb3RTY29wZTtcbiAgICAgICAgIHZhciBjaGlsZCA9IHBhcmVudC4kbmV3KCk7XG5cbiAgICAgICAgIHBhcmVudC5zYWx1dGF0aW9uID0gXCJIZWxsb1wiO1xuICAgICAgICAgZXhwZWN0KGNoaWxkLnNhbHV0YXRpb24pLnRvRXF1YWwoJ0hlbGxvJyk7XG5cbiAgICAgICAgIGNoaWxkLnNhbHV0YXRpb24gPSBcIldlbGNvbWVcIjtcbiAgICAgICAgIGV4cGVjdChjaGlsZC5zYWx1dGF0aW9uKS50b0VxdWFsKCdXZWxjb21lJyk7XG4gICAgICAgICBleHBlY3QocGFyZW50LnNhbHV0YXRpb24pLnRvRXF1YWwoJ0hlbGxvJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBXaGVuIGludGVyYWN0aW5nIHdpdGggYFNjb3BlYCBpbiB0ZXN0cywgYWRkaXRpb25hbCBoZWxwZXIgbWV0aG9kcyBhcmUgYXZhaWxhYmxlIG9uIHRoZVxuICAgICAqIGluc3RhbmNlcyBvZiBgU2NvcGVgIHR5cGUuIFNlZSB7QGxpbmsgbmdNb2NrLiRyb290U2NvcGUuU2NvcGUgbmdNb2NrIFNjb3BlfSBmb3IgYWRkaXRpb25hbFxuICAgICAqIGRldGFpbHMuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uKCk+PX0gcHJvdmlkZXJzIE1hcCBvZiBzZXJ2aWNlIGZhY3Rvcnkgd2hpY2ggbmVlZCB0byBiZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWQgZm9yIHRoZSBjdXJyZW50IHNjb3BlLiBEZWZhdWx0cyB0byB7QGxpbmsgbmd9LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsICo+PX0gaW5zdGFuY2VDYWNoZSBQcm92aWRlcyBwcmUtaW5zdGFudGlhdGVkIHNlcnZpY2VzIHdoaWNoIHNob3VsZFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kL292ZXJyaWRlIHNlcnZpY2VzIHByb3ZpZGVkIGJ5IGBwcm92aWRlcnNgLiBUaGlzIGlzIGhhbmR5XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuIHVuaXQtdGVzdGluZyBhbmQgaGF2aW5nIHRoZSBuZWVkIHRvIG92ZXJyaWRlIGEgZGVmYXVsdFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBOZXdseSBjcmVhdGVkIHNjb3BlLlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2NvcGUoKSB7XG4gICAgICB0aGlzLiRpZCA9IG5leHRVaWQoKTtcbiAgICAgIHRoaXMuJCRwaGFzZSA9IHRoaXMuJHBhcmVudCA9IHRoaXMuJCR3YXRjaGVycyA9XG4gICAgICAgICAgICAgICAgICAgICB0aGlzLiQkbmV4dFNpYmxpbmcgPSB0aGlzLiQkcHJldlNpYmxpbmcgPVxuICAgICAgICAgICAgICAgICAgICAgdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBudWxsO1xuICAgICAgdGhpcy4kcm9vdCA9IHRoaXM7XG4gICAgICB0aGlzLiQkZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICB0aGlzLiQkc3VzcGVuZGVkID0gZmFsc2U7XG4gICAgICB0aGlzLiQkbGlzdGVuZXJzID0ge307XG4gICAgICB0aGlzLiQkbGlzdGVuZXJDb3VudCA9IHt9O1xuICAgICAgdGhpcy4kJHdhdGNoZXJzQ291bnQgPSAwO1xuICAgICAgdGhpcy4kJGlzb2xhdGVCaW5kaW5ncyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkaWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFVuaXF1ZSBzY29wZSBJRCAobW9ub3RvbmljYWxseSBpbmNyZWFzaW5nKSB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAgKi9cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHBhcmVudFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgc2NvcGUuXG4gICAgICAqL1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkcm9vdFxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByb290IHNjb3BlLlxuICAgICAgICovXG5cbiAgICBTY29wZS5wcm90b3R5cGUgPSB7XG4gICAgICBjb25zdHJ1Y3RvcjogU2NvcGUsXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJG5ld1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIENyZWF0ZXMgYSBuZXcgY2hpbGQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9LlxuICAgICAgICpcbiAgICAgICAqIFRoZSBwYXJlbnQgc2NvcGUgd2lsbCBwcm9wYWdhdGUgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSBldmVudC5cbiAgICAgICAqIFRoZSBzY29wZSBjYW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSBzY29wZSBoaWVyYXJjaHkgdXNpbmcge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kgJGRlc3Ryb3koKX0uXG4gICAgICAgKlxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kgJGRlc3Ryb3koKX0gbXVzdCBiZSBjYWxsZWQgb24gYSBzY29wZSB3aGVuIGl0IGlzXG4gICAgICAgKiBkZXNpcmVkIGZvciB0aGUgc2NvcGUgYW5kIGl0cyBjaGlsZCBzY29wZXMgdG8gYmUgcGVybWFuZW50bHkgZGV0YWNoZWQgZnJvbSB0aGUgcGFyZW50IGFuZFxuICAgICAgICogdGh1cyBzdG9wIHBhcnRpY2lwYXRpbmcgaW4gbW9kZWwgY2hhbmdlIGRldGVjdGlvbiBhbmQgbGlzdGVuZXIgbm90aWZpY2F0aW9uIGJ5IGludm9raW5nLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNvbGF0ZSBJZiB0cnVlLCB0aGVuIHRoZSBzY29wZSBkb2VzIG5vdCBwcm90b3R5cGljYWxseSBpbmhlcml0IGZyb20gdGhlXG4gICAgICAgKiAgICAgICAgIHBhcmVudCBzY29wZS4gVGhlIHNjb3BlIGlzIGlzb2xhdGVkLCBhcyBpdCBjYW4gbm90IHNlZSBwYXJlbnQgc2NvcGUgcHJvcGVydGllcy5cbiAgICAgICAqICAgICAgICAgV2hlbiBjcmVhdGluZyB3aWRnZXRzLCBpdCBpcyB1c2VmdWwgZm9yIHRoZSB3aWRnZXQgdG8gbm90IGFjY2lkZW50YWxseSByZWFkIHBhcmVudFxuICAgICAgICogICAgICAgICBzdGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge1Njb3BlfSBbcGFyZW50PXRoaXNdIFRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBgU2NvcGVgfSB0aGF0IHdpbGwgYmUgdGhlIGAkcGFyZW50YFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgbmV3bHkgY3JlYXRlZCBzY29wZS4gRGVmYXVsdHMgdG8gYHRoaXNgIHNjb3BlIGlmIG5vdCBwcm92aWRlZC5cbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBpcyB1c2VkIHdoZW4gY3JlYXRpbmcgYSB0cmFuc2NsdWRlIHNjb3BlIHRvIGNvcnJlY3RseSBwbGFjZSBpdFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiB0aGUgc2NvcGUgaGllcmFyY2h5IHdoaWxlIG1haW50YWluaW5nIHRoZSBjb3JyZWN0IHByb3RvdHlwaWNhbFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0YW5jZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgbmV3bHkgY3JlYXRlZCBjaGlsZCBzY29wZS5cbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgICRuZXc6IGZ1bmN0aW9uKGlzb2xhdGUsIHBhcmVudCkge1xuICAgICAgICB2YXIgY2hpbGQ7XG5cbiAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IHRoaXM7XG5cbiAgICAgICAgaWYgKGlzb2xhdGUpIHtcbiAgICAgICAgICBjaGlsZCA9IG5ldyBTY29wZSgpO1xuICAgICAgICAgIGNoaWxkLiRyb290ID0gdGhpcy4kcm9vdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPbmx5IGNyZWF0ZSBhIGNoaWxkIHNjb3BlIGNsYXNzIGlmIHNvbWVib2R5IGFza3MgZm9yIG9uZSxcbiAgICAgICAgICAvLyBidXQgY2FjaGUgaXQgdG8gYWxsb3cgdGhlIFZNIHRvIG9wdGltaXplIGxvb2t1cHMuXG4gICAgICAgICAgaWYgKCF0aGlzLiQkQ2hpbGRTY29wZSkge1xuICAgICAgICAgICAgdGhpcy4kJENoaWxkU2NvcGUgPSBjcmVhdGVDaGlsZFNjb3BlQ2xhc3ModGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoaWxkID0gbmV3IHRoaXMuJCRDaGlsZFNjb3BlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGQuJHBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgY2hpbGQuJCRwcmV2U2libGluZyA9IHBhcmVudC4kJGNoaWxkVGFpbDtcbiAgICAgICAgaWYgKHBhcmVudC4kJGNoaWxkSGVhZCkge1xuICAgICAgICAgIHBhcmVudC4kJGNoaWxkVGFpbC4kJG5leHRTaWJsaW5nID0gY2hpbGQ7XG4gICAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50LiQkY2hpbGRIZWFkID0gcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHRoZSBuZXcgc2NvcGUgaXMgbm90IGlzb2xhdGVkIG9yIHdlIGluaGVyaXQgZnJvbSBgdGhpc2AsIGFuZFxuICAgICAgICAvLyB0aGUgcGFyZW50IHNjb3BlIGlzIGRlc3Ryb3llZCwgdGhlIHByb3BlcnR5IGAkJGRlc3Ryb3llZGAgaXMgaW5oZXJpdGVkXG4gICAgICAgIC8vIHByb3RvdHlwaWNhbGx5LiBJbiBhbGwgb3RoZXIgY2FzZXMsIHRoaXMgcHJvcGVydHkgbmVlZHMgdG8gYmUgc2V0XG4gICAgICAgIC8vIHdoZW4gdGhlIHBhcmVudCBzY29wZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgIC8vIFRoZSBsaXN0ZW5lciBuZWVkcyB0byBiZSBhZGRlZCBhZnRlciB0aGUgcGFyZW50IGlzIHNldFxuICAgICAgICBpZiAoaXNvbGF0ZSB8fCBwYXJlbnQgIT09IHRoaXMpIGNoaWxkLiRvbignJGRlc3Ryb3knLCBkZXN0cm95Q2hpbGRTY29wZSk7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyR3YXRjaFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJlZ2lzdGVycyBhIGBsaXN0ZW5lcmAgY2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2hlbmV2ZXIgdGhlIGB3YXRjaEV4cHJlc3Npb25gIGNoYW5nZXMuXG4gICAgICAgKlxuICAgICAgICogLSBUaGUgYHdhdGNoRXhwcmVzc2lvbmAgaXMgY2FsbGVkIG9uIGV2ZXJ5IGNhbGwgdG8ge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdFxuICAgICAgICogICAkZGlnZXN0KCl9IGFuZCBzaG91bGQgcmV0dXJuIHRoZSB2YWx1ZSB0aGF0IHdpbGwgYmUgd2F0Y2hlZC4gKGB3YXRjaEV4cHJlc3Npb25gIHNob3VsZCBub3QgY2hhbmdlXG4gICAgICAgKiAgIGl0cyB2YWx1ZSB3aGVuIGV4ZWN1dGVkIG11bHRpcGxlIHRpbWVzIHdpdGggdGhlIHNhbWUgaW5wdXQgYmVjYXVzZSBpdCBtYXkgYmUgZXhlY3V0ZWQgbXVsdGlwbGVcbiAgICAgICAqICAgdGltZXMgYnkge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9LiBUaGF0IGlzLCBgd2F0Y2hFeHByZXNzaW9uYCBzaG91bGQgYmVcbiAgICAgICAqICAgW2lkZW1wb3RlbnRdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSWRlbXBvdGVuY2UpLilcbiAgICAgICAqIC0gVGhlIGBsaXN0ZW5lcmAgaXMgY2FsbGVkIG9ubHkgd2hlbiB0aGUgdmFsdWUgZnJvbSB0aGUgY3VycmVudCBgd2F0Y2hFeHByZXNzaW9uYCBhbmQgdGhlXG4gICAgICAgKiAgIHByZXZpb3VzIGNhbGwgdG8gYHdhdGNoRXhwcmVzc2lvbmAgYXJlIG5vdCBlcXVhbCAod2l0aCB0aGUgZXhjZXB0aW9uIG9mIHRoZSBpbml0aWFsIHJ1bixcbiAgICAgICAqICAgc2VlIGJlbG93KS4gSW5lcXVhbGl0eSBpcyBkZXRlcm1pbmVkIGFjY29yZGluZyB0byByZWZlcmVuY2UgaW5lcXVhbGl0eSxcbiAgICAgICAqICAgW3N0cmljdCBjb21wYXJpc29uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvQ29tcGFyaXNvbl9PcGVyYXRvcnMpXG4gICAgICAgKiAgICB2aWEgdGhlIGAhPT1gIEphdmFzY3JpcHQgb3BlcmF0b3IsIHVubGVzcyBgb2JqZWN0RXF1YWxpdHkgPT0gdHJ1ZWBcbiAgICAgICAqICAgKHNlZSBuZXh0IHBvaW50KVxuICAgICAgICogLSBXaGVuIGBvYmplY3RFcXVhbGl0eSA9PSB0cnVlYCwgaW5lcXVhbGl0eSBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbmAgaXMgZGV0ZXJtaW5lZFxuICAgICAgICogICBhY2NvcmRpbmcgdG8gdGhlIHtAbGluayBhbmd1bGFyLmVxdWFsc30gZnVuY3Rpb24uIFRvIHNhdmUgdGhlIHZhbHVlIG9mIHRoZSBvYmplY3QgZm9yXG4gICAgICAgKiAgIGxhdGVyIGNvbXBhcmlzb24sIHRoZSB7QGxpbmsgYW5ndWxhci5jb3B5fSBmdW5jdGlvbiBpcyB1c2VkLiBUaGlzIHRoZXJlZm9yZSBtZWFucyB0aGF0XG4gICAgICAgKiAgIHdhdGNoaW5nIGNvbXBsZXggb2JqZWN0cyB3aWxsIGhhdmUgYWR2ZXJzZSBtZW1vcnkgYW5kIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucy5cbiAgICAgICAqIC0gVGhpcyBzaG91bGQgbm90IGJlIHVzZWQgdG8gd2F0Y2ggZm9yIGNoYW5nZXMgaW4gb2JqZWN0cyB0aGF0IGFyZSAob3IgY29udGFpbilcbiAgICAgICAqICAgW0ZpbGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9GaWxlKSBvYmplY3RzIGR1ZSB0byBsaW1pdGF0aW9ucyB3aXRoIHtAbGluayBhbmd1bGFyLmNvcHkgYGFuZ3VsYXIuY29weWB9LlxuICAgICAgICogLSBUaGUgd2F0Y2ggYGxpc3RlbmVyYCBtYXkgY2hhbmdlIHRoZSBtb2RlbCwgd2hpY2ggbWF5IHRyaWdnZXIgb3RoZXIgYGxpc3RlbmVyYHMgdG8gZmlyZS5cbiAgICAgICAqICAgVGhpcyBpcyBhY2hpZXZlZCBieSByZXJ1bm5pbmcgdGhlIHdhdGNoZXJzIHVudGlsIG5vIGNoYW5nZXMgYXJlIGRldGVjdGVkLiBUaGUgcmVydW5cbiAgICAgICAqICAgaXRlcmF0aW9uIGxpbWl0IGlzIDEwIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcCBkZWFkbG9jay5cbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICogSWYgeW91IHdhbnQgdG8gYmUgbm90aWZpZWQgd2hlbmV2ZXIge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBpcyBjYWxsZWQsXG4gICAgICAgKiB5b3UgY2FuIHJlZ2lzdGVyIGEgYHdhdGNoRXhwcmVzc2lvbmAgZnVuY3Rpb24gd2l0aCBubyBgbGlzdGVuZXJgLiAoQmUgcHJlcGFyZWQgZm9yXG4gICAgICAgKiBtdWx0aXBsZSBjYWxscyB0byB5b3VyIGB3YXRjaEV4cHJlc3Npb25gIGJlY2F1c2UgaXQgd2lsbCBleGVjdXRlIG11bHRpcGxlIHRpbWVzIGluIGFcbiAgICAgICAqIHNpbmdsZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGN5Y2xlIGlmIGEgY2hhbmdlIGlzIGRldGVjdGVkLilcbiAgICAgICAqXG4gICAgICAgKiBBZnRlciBhIHdhdGNoZXIgaXMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBzY29wZSwgdGhlIGBsaXN0ZW5lcmAgZm4gaXMgY2FsbGVkIGFzeW5jaHJvbm91c2x5XG4gICAgICAgKiAodmlhIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRldmFsQXN5bmMgJGV2YWxBc3luY30pIHRvIGluaXRpYWxpemUgdGhlXG4gICAgICAgKiB3YXRjaGVyLiBJbiByYXJlIGNhc2VzLCB0aGlzIGlzIHVuZGVzaXJhYmxlIGJlY2F1c2UgdGhlIGxpc3RlbmVyIGlzIGNhbGxlZCB3aGVuIHRoZSByZXN1bHRcbiAgICAgICAqIG9mIGB3YXRjaEV4cHJlc3Npb25gIGRpZG4ndCBjaGFuZ2UuIFRvIGRldGVjdCB0aGlzIHNjZW5hcmlvIHdpdGhpbiB0aGUgYGxpc3RlbmVyYCBmbiwgeW91XG4gICAgICAgKiBjYW4gY29tcGFyZSB0aGUgYG5ld1ZhbGAgYW5kIGBvbGRWYWxgLiBJZiB0aGVzZSB0d28gdmFsdWVzIGFyZSBpZGVudGljYWwgKGA9PT1gKSB0aGVuIHRoZVxuICAgICAgICogbGlzdGVuZXIgd2FzIGNhbGxlZCBkdWUgdG8gaW5pdGlhbGl6YXRpb24uXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiBAZXhhbXBsZVxuICAgICAgICogYGBganNcbiAgICAgICAgICAgLy8gbGV0J3MgYXNzdW1lIHRoYXQgc2NvcGUgd2FzIGRlcGVuZGVuY3kgaW5qZWN0ZWQgYXMgdGhlICRyb290U2NvcGVcbiAgICAgICAgICAgdmFyIHNjb3BlID0gJHJvb3RTY29wZTtcbiAgICAgICAgICAgc2NvcGUubmFtZSA9ICdtaXNrbyc7XG4gICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSAwO1xuXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDApO1xuICAgICAgICAgICBzY29wZS4kd2F0Y2goJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICBzY29wZS5jb3VudGVyID0gc2NvcGUuY291bnRlciArIDE7XG4gICAgICAgICAgIH0pO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcblxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIC8vIHRoZSBsaXN0ZW5lciBpcyBhbHdheXMgY2FsbGVkIGR1cmluZyB0aGUgZmlyc3QgJGRpZ2VzdCBsb29wIGFmdGVyIGl0IHdhcyByZWdpc3RlcmVkXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgLy8gYnV0IG5vdyBpdCB3aWxsIG5vdCBiZSBjYWxsZWQgdW5sZXNzIHRoZSB2YWx1ZSBjaGFuZ2VzXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnYWRhbSc7XG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMik7XG5cblxuXG4gICAgICAgICAgIC8vIFVzaW5nIGEgZnVuY3Rpb24gYXMgYSB3YXRjaEV4cHJlc3Npb25cbiAgICAgICAgICAgdmFyIGZvb2Q7XG4gICAgICAgICAgIHNjb3BlLmZvb2RDb3VudGVyID0gMDtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApO1xuICAgICAgICAgICBzY29wZS4kd2F0Y2goXG4gICAgICAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSB2YWx1ZSBiZWluZyB3YXRjaGVkLiBJdCBpcyBjYWxsZWQgZm9yIGVhY2ggdHVybiBvZiB0aGUgJGRpZ2VzdCBsb29wXG4gICAgICAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiBmb29kOyB9LFxuICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNoYW5nZSBsaXN0ZW5lciwgY2FsbGVkIHdoZW4gdGhlIHZhbHVlIHJldHVybmVkIGZyb20gdGhlIGFib3ZlIGZ1bmN0aW9uIGNoYW5nZXNcbiAgICAgICAgICAgICBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgIGlmICggbmV3VmFsdWUgIT09IG9sZFZhbHVlICkge1xuICAgICAgICAgICAgICAgICAvLyBPbmx5IGluY3JlbWVudCB0aGUgY291bnRlciBpZiB0aGUgdmFsdWUgY2hhbmdlZFxuICAgICAgICAgICAgICAgICBzY29wZS5mb29kQ291bnRlciA9IHNjb3BlLmZvb2RDb3VudGVyICsgMTtcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICB9XG4gICAgICAgICAgICk7XG4gICAgICAgICAgIC8vIE5vIGRpZ2VzdCBoYXMgYmVlbiBydW4gc28gdGhlIGNvdW50ZXIgd2lsbCBiZSB6ZXJvXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5mb29kQ291bnRlcikudG9FcXVhbCgwKTtcblxuICAgICAgICAgICAvLyBSdW4gdGhlIGRpZ2VzdCBidXQgc2luY2UgZm9vZCBoYXMgbm90IGNoYW5nZWQgY291bnQgd2lsbCBzdGlsbCBiZSB6ZXJvXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApO1xuXG4gICAgICAgICAgIC8vIFVwZGF0ZSBmb29kIGFuZCBydW4gZGlnZXN0LiAgTm93IHRoZSBjb3VudGVyIHdpbGwgaW5jcmVtZW50XG4gICAgICAgICAgIGZvb2QgPSAnY2hlZXNlYnVyZ2VyJztcbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuZm9vZENvdW50ZXIpLnRvRXF1YWwoMSk7XG5cbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsoZnVuY3Rpb24oKXxzdHJpbmcpfSB3YXRjaEV4cHJlc3Npb24gRXhwcmVzc2lvbiB0aGF0IGlzIGV2YWx1YXRlZCBvbiBlYWNoXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGN5Y2xlLiBBIGNoYW5nZSBpbiB0aGUgcmV0dXJuIHZhbHVlIHRyaWdnZXJzXG4gICAgICAgKiAgICBhIGNhbGwgdG8gdGhlIGBsaXN0ZW5lcmAuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogRXZhbHVhdGVkIGFzIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259XG4gICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBjYWxsZWQgd2l0aCBjdXJyZW50IGBzY29wZWAgYXMgYSBwYXJhbWV0ZXIuXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsLCBzY29wZSl9IGxpc3RlbmVyIENhbGxiYWNrIGNhbGxlZCB3aGVuZXZlciB0aGUgdmFsdWVcbiAgICAgICAqICAgIG9mIGB3YXRjaEV4cHJlc3Npb25gIGNoYW5nZXMuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgbmV3VmFsYCBjb250YWlucyB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbmBcbiAgICAgICAqICAgIC0gYG9sZFZhbGAgY29udGFpbnMgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uYFxuICAgICAgICogICAgLSBgc2NvcGVgIHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZVxuICAgICAgICogQHBhcmFtIHtib29sZWFuPX0gW29iamVjdEVxdWFsaXR5PWZhbHNlXSBDb21wYXJlIGZvciBvYmplY3QgZXF1YWxpdHkgdXNpbmcge0BsaW5rIGFuZ3VsYXIuZXF1YWxzfSBpbnN0ZWFkIG9mXG4gICAgICAgKiAgICAgY29tcGFyaW5nIGZvciByZWZlcmVuY2UgZXF1YWxpdHkuXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIGxpc3RlbmVyLlxuICAgICAgICovXG4gICAgICAkd2F0Y2g6IGZ1bmN0aW9uKHdhdGNoRXhwLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHByZXR0eVByaW50RXhwcmVzc2lvbikge1xuICAgICAgICB2YXIgZ2V0ID0gJHBhcnNlKHdhdGNoRXhwKTtcbiAgICAgICAgdmFyIGZuID0gaXNGdW5jdGlvbihsaXN0ZW5lcikgPyBsaXN0ZW5lciA6IG5vb3A7XG5cbiAgICAgICAgaWYgKGdldC4kJHdhdGNoRGVsZWdhdGUpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0LiQkd2F0Y2hEZWxlZ2F0ZSh0aGlzLCBmbiwgb2JqZWN0RXF1YWxpdHksIGdldCwgd2F0Y2hFeHApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzY29wZSA9IHRoaXMsXG4gICAgICAgICAgICBhcnJheSA9IHNjb3BlLiQkd2F0Y2hlcnMsXG4gICAgICAgICAgICB3YXRjaGVyID0ge1xuICAgICAgICAgICAgICBmbjogZm4sXG4gICAgICAgICAgICAgIGxhc3Q6IGluaXRXYXRjaFZhbCxcbiAgICAgICAgICAgICAgZ2V0OiBnZXQsXG4gICAgICAgICAgICAgIGV4cDogcHJldHR5UHJpbnRFeHByZXNzaW9uIHx8IHdhdGNoRXhwLFxuICAgICAgICAgICAgICBlcTogISFvYmplY3RFcXVhbGl0eVxuICAgICAgICAgICAgfTtcblxuICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XG5cbiAgICAgICAgaWYgKCFhcnJheSkge1xuICAgICAgICAgIGFycmF5ID0gc2NvcGUuJCR3YXRjaGVycyA9IFtdO1xuICAgICAgICAgIGFycmF5LiQkZGlnZXN0V2F0Y2hJbmRleCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIHVzZSB1bnNoaWZ0IHNpbmNlIHdlIHVzZSBhIHdoaWxlIGxvb3AgaW4gJGRpZ2VzdCBmb3Igc3BlZWQuXG4gICAgICAgIC8vIHRoZSB3aGlsZSBsb29wIHJlYWRzIGluIHJldmVyc2Ugb3JkZXIuXG4gICAgICAgIGFycmF5LnVuc2hpZnQod2F0Y2hlcik7XG4gICAgICAgIGFycmF5LiQkZGlnZXN0V2F0Y2hJbmRleCsrO1xuICAgICAgICBpbmNyZW1lbnRXYXRjaGVyc0NvdW50KHRoaXMsIDEpO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXJlZ2lzdGVyV2F0Y2goKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gYXJyYXlSZW1vdmUoYXJyYXksIHdhdGNoZXIpO1xuICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBpbmNyZW1lbnRXYXRjaGVyc0NvdW50KHNjb3BlLCAtMSk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPCBhcnJheS4kJGRpZ2VzdFdhdGNoSW5kZXgpIHtcbiAgICAgICAgICAgICAgYXJyYXkuJCRkaWdlc3RXYXRjaEluZGV4LS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkd2F0Y2hHcm91cFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEEgdmFyaWFudCBvZiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggJHdhdGNoKCl9IHdoZXJlIGl0IHdhdGNoZXMgYW4gYXJyYXkgb2YgYHdhdGNoRXhwcmVzc2lvbnNgLlxuICAgICAgICogSWYgYW55IG9uZSBleHByZXNzaW9uIGluIHRoZSBjb2xsZWN0aW9uIGNoYW5nZXMgdGhlIGBsaXN0ZW5lcmAgaXMgZXhlY3V0ZWQuXG4gICAgICAgKlxuICAgICAgICogLSBUaGUgaXRlbXMgaW4gdGhlIGB3YXRjaEV4cHJlc3Npb25zYCBhcnJheSBhcmUgb2JzZXJ2ZWQgdmlhIHRoZSBzdGFuZGFyZCBgJHdhdGNoYCBvcGVyYXRpb24uIFRoZWlyIHJldHVyblxuICAgICAgICogICB2YWx1ZXMgYXJlIGV4YW1pbmVkIGZvciBjaGFuZ2VzIG9uIGV2ZXJ5IGNhbGwgdG8gYCRkaWdlc3RgLlxuICAgICAgICogLSBUaGUgYGxpc3RlbmVyYCBpcyBjYWxsZWQgd2hlbmV2ZXIgYW55IGV4cHJlc3Npb24gaW4gdGhlIGB3YXRjaEV4cHJlc3Npb25zYCBhcnJheSBjaGFuZ2VzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZ3xGdW5jdGlvbihzY29wZSk+fSB3YXRjaEV4cHJlc3Npb25zIEFycmF5IG9mIGV4cHJlc3Npb25zIHRoYXQgd2lsbCBiZSBpbmRpdmlkdWFsbHlcbiAgICAgICAqIHdhdGNoZWQgdXNpbmcge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfVxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3VmFsdWVzLCBvbGRWYWx1ZXMsIHNjb3BlKX0gbGlzdGVuZXIgQ2FsbGJhY2sgY2FsbGVkIHdoZW5ldmVyIHRoZSByZXR1cm4gdmFsdWUgb2YgYW55XG4gICAgICAgKiAgICBleHByZXNzaW9uIGluIGB3YXRjaEV4cHJlc3Npb25zYCBjaGFuZ2VzXG4gICAgICAgKiAgICBUaGUgYG5ld1ZhbHVlc2AgYXJyYXkgY29udGFpbnMgdGhlIGN1cnJlbnQgdmFsdWVzIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AsIHdpdGggdGhlIGluZGV4ZXMgbWF0Y2hpbmdcbiAgICAgICAqICAgIHRob3NlIG9mIGB3YXRjaEV4cHJlc3Npb25gXG4gICAgICAgKiAgICBhbmQgdGhlIGBvbGRWYWx1ZXNgIGFycmF5IGNvbnRhaW5zIHRoZSBwcmV2aW91cyB2YWx1ZXMgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25zYCwgd2l0aCB0aGUgaW5kZXhlcyBtYXRjaGluZ1xuICAgICAgICogICAgdGhvc2Ugb2YgYHdhdGNoRXhwcmVzc2lvbmBcbiAgICAgICAqICAgIFRoZSBgc2NvcGVgIHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZS5cbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGUtcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciBhbGwgbGlzdGVuZXJzLlxuICAgICAgICovXG4gICAgICAkd2F0Y2hHcm91cDogZnVuY3Rpb24od2F0Y2hFeHByZXNzaW9ucywgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIG9sZFZhbHVlcyA9IG5ldyBBcnJheSh3YXRjaEV4cHJlc3Npb25zLmxlbmd0aCk7XG4gICAgICAgIHZhciBuZXdWYWx1ZXMgPSBuZXcgQXJyYXkod2F0Y2hFeHByZXNzaW9ucy5sZW5ndGgpO1xuICAgICAgICB2YXIgZGVyZWdpc3RlckZucyA9IFtdO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZmlyc3RSdW4gPSB0cnVlO1xuXG4gICAgICAgIGlmICghd2F0Y2hFeHByZXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAvLyBObyBleHByZXNzaW9ucyBtZWFucyB3ZSBjYWxsIHRoZSBsaXN0ZW5lciBBU0FQXG4gICAgICAgICAgdmFyIHNob3VsZENhbGwgPSB0cnVlO1xuICAgICAgICAgIHNlbGYuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRDYWxsKSBsaXN0ZW5lcihuZXdWYWx1ZXMsIG5ld1ZhbHVlcywgc2VsZik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcmVnaXN0ZXJXYXRjaEdyb3VwKCkge1xuICAgICAgICAgICAgc2hvdWxkQ2FsbCA9IGZhbHNlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2F0Y2hFeHByZXNzaW9ucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAvLyBTcGVjaWFsIGNhc2Ugc2l6ZSBvZiBvbmVcbiAgICAgICAgICByZXR1cm4gdGhpcy4kd2F0Y2god2F0Y2hFeHByZXNzaW9uc1swXSwgZnVuY3Rpb24gd2F0Y2hHcm91cEFjdGlvbih2YWx1ZSwgb2xkVmFsdWUsIHNjb3BlKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZXNbMF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIG9sZFZhbHVlc1swXSA9IG9sZFZhbHVlO1xuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWVzLCAodmFsdWUgPT09IG9sZFZhbHVlKSA/IG5ld1ZhbHVlcyA6IG9sZFZhbHVlcywgc2NvcGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yRWFjaCh3YXRjaEV4cHJlc3Npb25zLCBmdW5jdGlvbihleHByLCBpKSB7XG4gICAgICAgICAgdmFyIHVud2F0Y2hGbiA9IHNlbGYuJHdhdGNoKGV4cHIsIGZ1bmN0aW9uIHdhdGNoR3JvdXBTdWJBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlc1tpXSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKCFjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCkge1xuICAgICAgICAgICAgICBjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHNlbGYuJGV2YWxBc3luYyh3YXRjaEdyb3VwQWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkZXJlZ2lzdGVyRm5zLnB1c2godW53YXRjaEZuKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gd2F0Y2hHcm91cEFjdGlvbigpIHtcbiAgICAgICAgICBjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmaXJzdFJ1bikge1xuICAgICAgICAgICAgICBmaXJzdFJ1biA9IGZhbHNlO1xuICAgICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZXMsIG5ld1ZhbHVlcywgc2VsZik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZXMsIG9sZFZhbHVlcywgc2VsZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd2F0Y2hFeHByZXNzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBvbGRWYWx1ZXNbaV0gPSBuZXdWYWx1ZXNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcmVnaXN0ZXJXYXRjaEdyb3VwKCkge1xuICAgICAgICAgIHdoaWxlIChkZXJlZ2lzdGVyRm5zLmxlbmd0aCkge1xuICAgICAgICAgICAgZGVyZWdpc3RlckZucy5zaGlmdCgpKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHdhdGNoQ29sbGVjdGlvblxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFNoYWxsb3cgd2F0Y2hlcyB0aGUgcHJvcGVydGllcyBvZiBhbiBvYmplY3QgYW5kIGZpcmVzIHdoZW5ldmVyIGFueSBvZiB0aGUgcHJvcGVydGllcyBjaGFuZ2VcbiAgICAgICAqIChmb3IgYXJyYXlzLCB0aGlzIGltcGxpZXMgd2F0Y2hpbmcgdGhlIGFycmF5IGl0ZW1zOyBmb3Igb2JqZWN0IG1hcHMsIHRoaXMgaW1wbGllcyB3YXRjaGluZ1xuICAgICAgICogdGhlIHByb3BlcnRpZXMpLiBJZiBhIGNoYW5nZSBpcyBkZXRlY3RlZCwgdGhlIGBsaXN0ZW5lcmAgY2FsbGJhY2sgaXMgZmlyZWQuXG4gICAgICAgKlxuICAgICAgICogLSBUaGUgYG9iamAgY29sbGVjdGlvbiBpcyBvYnNlcnZlZCB2aWEgc3RhbmRhcmQgJHdhdGNoIG9wZXJhdGlvbiBhbmQgaXMgZXhhbWluZWQgb24gZXZlcnlcbiAgICAgICAqICAgY2FsbCB0byAkZGlnZXN0KCkgdG8gc2VlIGlmIGFueSBpdGVtcyBoYXZlIGJlZW4gYWRkZWQsIHJlbW92ZWQsIG9yIG1vdmVkLlxuICAgICAgICogLSBUaGUgYGxpc3RlbmVyYCBpcyBjYWxsZWQgd2hlbmV2ZXIgYW55dGhpbmcgd2l0aGluIHRoZSBgb2JqYCBoYXMgY2hhbmdlZC4gRXhhbXBsZXMgaW5jbHVkZVxuICAgICAgICogICBhZGRpbmcsIHJlbW92aW5nLCBhbmQgbW92aW5nIGl0ZW1zIGJlbG9uZ2luZyB0byBhbiBvYmplY3Qgb3IgYXJyYXkuXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqIEBleGFtcGxlXG4gICAgICAgKiBgYGBqc1xuICAgICAgICAgICRzY29wZS5uYW1lcyA9IFsnaWdvcicsICdtYXRpYXMnLCAnbWlza28nLCAnamFtZXMnXTtcbiAgICAgICAgICAkc2NvcGUuZGF0YUNvdW50ID0gNDtcblxuICAgICAgICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCduYW1lcycsIGZ1bmN0aW9uKG5ld05hbWVzLCBvbGROYW1lcykge1xuICAgICAgICAgICAgJHNjb3BlLmRhdGFDb3VudCA9IG5ld05hbWVzLmxlbmd0aDtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGV4cGVjdCgkc2NvcGUuZGF0YUNvdW50KS50b0VxdWFsKDQpO1xuICAgICAgICAgICRzY29wZS4kZGlnZXN0KCk7XG5cbiAgICAgICAgICAvL3N0aWxsIGF0IDQgLi4uIG5vIGNoYW5nZXNcbiAgICAgICAgICBleHBlY3QoJHNjb3BlLmRhdGFDb3VudCkudG9FcXVhbCg0KTtcblxuICAgICAgICAgICRzY29wZS5uYW1lcy5wb3AoKTtcbiAgICAgICAgICAkc2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgICAgLy9ub3cgdGhlcmUncyBiZWVuIGEgY2hhbmdlXG4gICAgICAgICAgZXhwZWN0KCRzY29wZS5kYXRhQ291bnQpLnRvRXF1YWwoMyk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb24oc2NvcGUpfSBvYmogRXZhbHVhdGVkIGFzIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LiBUaGVcbiAgICAgICAqICAgIGV4cHJlc3Npb24gdmFsdWUgc2hvdWxkIGV2YWx1YXRlIHRvIGFuIG9iamVjdCBvciBhbiBhcnJheSB3aGljaCBpcyBvYnNlcnZlZCBvbiBlYWNoXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGN5Y2xlLiBBbnkgc2hhbGxvdyBjaGFuZ2Ugd2l0aGluIHRoZVxuICAgICAgICogICAgY29sbGVjdGlvbiB3aWxsIHRyaWdnZXIgYSBjYWxsIHRvIHRoZSBgbGlzdGVuZXJgLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3Q29sbGVjdGlvbiwgb2xkQ29sbGVjdGlvbiwgc2NvcGUpfSBsaXN0ZW5lciBhIGNhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAgICogICAgd2hlbiBhIGNoYW5nZSBpcyBkZXRlY3RlZC5cbiAgICAgICAqICAgIC0gVGhlIGBuZXdDb2xsZWN0aW9uYCBvYmplY3QgaXMgdGhlIG5ld2x5IG1vZGlmaWVkIGRhdGEgb2J0YWluZWQgZnJvbSB0aGUgYG9iamAgZXhwcmVzc2lvblxuICAgICAgICogICAgLSBUaGUgYG9sZENvbGxlY3Rpb25gIG9iamVjdCBpcyBhIGNvcHkgb2YgdGhlIGZvcm1lciBjb2xsZWN0aW9uIGRhdGEuXG4gICAgICAgKiAgICAgIER1ZSB0byBwZXJmb3JtYW5jZSBjb25zaWRlcmF0aW9ucywgdGhlYG9sZENvbGxlY3Rpb25gIHZhbHVlIGlzIGNvbXB1dGVkIG9ubHkgaWYgdGhlXG4gICAgICAgKiAgICAgIGBsaXN0ZW5lcmAgZnVuY3Rpb24gZGVjbGFyZXMgdHdvIG9yIG1vcmUgYXJndW1lbnRzLlxuICAgICAgICogICAgLSBUaGUgYHNjb3BlYCBhcmd1bWVudCByZWZlcnMgdG8gdGhlIGN1cnJlbnQgc2NvcGUuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZS1yZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIHRoaXMgbGlzdGVuZXIuIFdoZW4gdGhlXG4gICAgICAgKiAgICBkZS1yZWdpc3RyYXRpb24gZnVuY3Rpb24gaXMgZXhlY3V0ZWQsIHRoZSBpbnRlcm5hbCB3YXRjaCBvcGVyYXRpb24gaXMgdGVybWluYXRlZC5cbiAgICAgICAqL1xuICAgICAgJHdhdGNoQ29sbGVjdGlvbjogZnVuY3Rpb24ob2JqLCBsaXN0ZW5lcikge1xuICAgICAgICAvLyBNYXJrIHRoZSBpbnRlcmNlcHRvciBhc1xuICAgICAgICAvLyAuLi4gJCRwdXJlIHdoZW4gbGl0ZXJhbCBzaW5jZSB0aGUgaW5zdGFuY2Ugd2lsbCBjaGFuZ2Ugd2hlbiBhbnkgaW5wdXQgY2hhbmdlc1xuICAgICAgICAkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IuJCRwdXJlID0gJHBhcnNlKG9iaikubGl0ZXJhbDtcbiAgICAgICAgLy8gLi4uICRzdGF0ZWZ1bCB3aGVuIG5vbi1saXRlcmFsIHNpbmNlIHdlIG11c3QgcmVhZCB0aGUgc3RhdGUgb2YgdGhlIGNvbGxlY3Rpb25cbiAgICAgICAgJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yLiRzdGF0ZWZ1bCA9ICEkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IuJCRwdXJlO1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgdmFsdWUsIHVwZGF0ZWQgb24gZWFjaCBkaXJ0eS1jaGVjayBydW5cbiAgICAgICAgdmFyIG5ld1ZhbHVlO1xuICAgICAgICAvLyBhIHNoYWxsb3cgY29weSBvZiB0aGUgbmV3VmFsdWUgZnJvbSB0aGUgbGFzdCBkaXJ0eS1jaGVjayBydW4sXG4gICAgICAgIC8vIHVwZGF0ZWQgdG8gbWF0Y2ggbmV3VmFsdWUgZHVyaW5nIGRpcnR5LWNoZWNrIHJ1blxuICAgICAgICB2YXIgb2xkVmFsdWU7XG4gICAgICAgIC8vIGEgc2hhbGxvdyBjb3B5IG9mIHRoZSBuZXdWYWx1ZSBmcm9tIHdoZW4gdGhlIGxhc3QgY2hhbmdlIGhhcHBlbmVkXG4gICAgICAgIHZhciB2ZXJ5T2xkVmFsdWU7XG4gICAgICAgIC8vIG9ubHkgdHJhY2sgdmVyeU9sZFZhbHVlIGlmIHRoZSBsaXN0ZW5lciBpcyBhc2tpbmcgZm9yIGl0XG4gICAgICAgIHZhciB0cmFja1ZlcnlPbGRWYWx1ZSA9IChsaXN0ZW5lci5sZW5ndGggPiAxKTtcbiAgICAgICAgdmFyIGNoYW5nZURldGVjdGVkID0gMDtcbiAgICAgICAgdmFyIGNoYW5nZURldGVjdG9yID0gJHBhcnNlKG9iaiwgJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yKTtcbiAgICAgICAgdmFyIGludGVybmFsQXJyYXkgPSBbXTtcbiAgICAgICAgdmFyIGludGVybmFsT2JqZWN0ID0ge307XG4gICAgICAgIHZhciBpbml0UnVuID0gdHJ1ZTtcbiAgICAgICAgdmFyIG9sZExlbmd0aCA9IDA7XG5cbiAgICAgICAgZnVuY3Rpb24gJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yKF92YWx1ZSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gX3ZhbHVlO1xuICAgICAgICAgIHZhciBuZXdMZW5ndGgsIGtleSwgYm90aE5hTiwgbmV3SXRlbSwgb2xkSXRlbTtcblxuICAgICAgICAgIC8vIElmIHRoZSBuZXcgdmFsdWUgaXMgdW5kZWZpbmVkLCB0aGVuIHJldHVybiB1bmRlZmluZWQgYXMgdGhlIHdhdGNoIG1heSBiZSBhIG9uZS10aW1lIHdhdGNoXG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKG5ld1ZhbHVlKSkgcmV0dXJuO1xuXG4gICAgICAgICAgaWYgKCFpc09iamVjdChuZXdWYWx1ZSkpIHsgLy8gaWYgcHJpbWl0aXZlXG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgIG9sZFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5TGlrZShuZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gaW50ZXJuYWxBcnJheSkge1xuICAgICAgICAgICAgICAvLyB3ZSBhcmUgdHJhbnNpdGlvbmluZyBmcm9tIHNvbWV0aGluZyB3aGljaCB3YXMgbm90IGFuIGFycmF5IGludG8gYXJyYXkuXG4gICAgICAgICAgICAgIG9sZFZhbHVlID0gaW50ZXJuYWxBcnJheTtcbiAgICAgICAgICAgICAgb2xkTGVuZ3RoID0gb2xkVmFsdWUubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmV3TGVuZ3RoID0gbmV3VmFsdWUubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAob2xkTGVuZ3RoICE9PSBuZXdMZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gaWYgbGVuZ3RocyBkbyBub3QgbWF0Y2ggd2UgbmVlZCB0byB0cmlnZ2VyIGNoYW5nZSBub3RpZmljYXRpb25cbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgICAgb2xkVmFsdWUubGVuZ3RoID0gb2xkTGVuZ3RoID0gbmV3TGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29weSB0aGUgaXRlbXMgdG8gb2xkVmFsdWUgYW5kIGxvb2sgZm9yIGNoYW5nZXMuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIG9sZEl0ZW0gPSBvbGRWYWx1ZVtpXTtcbiAgICAgICAgICAgICAgbmV3SXRlbSA9IG5ld1ZhbHVlW2ldO1xuXG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICAgICAgICAgICAgYm90aE5hTiA9IChvbGRJdGVtICE9PSBvbGRJdGVtKSAmJiAobmV3SXRlbSAhPT0gbmV3SXRlbSk7XG4gICAgICAgICAgICAgIGlmICghYm90aE5hTiAmJiAob2xkSXRlbSAhPT0gbmV3SXRlbSkpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgICAgIG9sZFZhbHVlW2ldID0gbmV3SXRlbTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IGludGVybmFsT2JqZWN0KSB7XG4gICAgICAgICAgICAgIC8vIHdlIGFyZSB0cmFuc2l0aW9uaW5nIGZyb20gc29tZXRoaW5nIHdoaWNoIHdhcyBub3QgYW4gb2JqZWN0IGludG8gb2JqZWN0LlxuICAgICAgICAgICAgICBvbGRWYWx1ZSA9IGludGVybmFsT2JqZWN0ID0ge307XG4gICAgICAgICAgICAgIG9sZExlbmd0aCA9IDA7XG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb3B5IHRoZSBpdGVtcyB0byBvbGRWYWx1ZSBhbmQgbG9vayBmb3IgY2hhbmdlcy5cbiAgICAgICAgICAgIG5ld0xlbmd0aCA9IDA7XG4gICAgICAgICAgICBmb3IgKGtleSBpbiBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChuZXdWYWx1ZSwga2V5KSkge1xuICAgICAgICAgICAgICAgIG5ld0xlbmd0aCsrO1xuICAgICAgICAgICAgICAgIG5ld0l0ZW0gPSBuZXdWYWx1ZVtrZXldO1xuICAgICAgICAgICAgICAgIG9sZEl0ZW0gPSBvbGRWYWx1ZVtrZXldO1xuXG4gICAgICAgICAgICAgICAgaWYgKGtleSBpbiBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgICAgICAgICAgICAgYm90aE5hTiA9IChvbGRJdGVtICE9PSBvbGRJdGVtKSAmJiAobmV3SXRlbSAhPT0gbmV3SXRlbSk7XG4gICAgICAgICAgICAgICAgICBpZiAoIWJvdGhOYU4gJiYgKG9sZEl0ZW0gIT09IG5ld0l0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlW2tleV0gPSBuZXdJdGVtO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBvbGRMZW5ndGgrKztcbiAgICAgICAgICAgICAgICAgIG9sZFZhbHVlW2tleV0gPSBuZXdJdGVtO1xuICAgICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbGRMZW5ndGggPiBuZXdMZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gd2UgdXNlZCB0byBoYXZlIG1vcmUga2V5cywgbmVlZCB0byBmaW5kIHRoZW0gYW5kIGRlc3Ryb3kgdGhlbS5cbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgICAgZm9yIChrZXkgaW4gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwobmV3VmFsdWUsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgIG9sZExlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIG9sZFZhbHVlW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjaGFuZ2VEZXRlY3RlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uICR3YXRjaENvbGxlY3Rpb25BY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGluaXRSdW4pIHtcbiAgICAgICAgICAgIGluaXRSdW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlLCBuZXdWYWx1ZSwgc2VsZik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlLCB2ZXJ5T2xkVmFsdWUsIHNlbGYpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIG1ha2UgYSBjb3B5IGZvciB0aGUgbmV4dCB0aW1lIGEgY29sbGVjdGlvbiBpcyBjaGFuZ2VkXG4gICAgICAgICAgaWYgKHRyYWNrVmVyeU9sZFZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0KG5ld1ZhbHVlKSkge1xuICAgICAgICAgICAgICAvL3ByaW1pdGl2ZVxuICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheUxpa2UobmV3VmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZSA9IG5ldyBBcnJheShuZXdWYWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1ZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlW2ldID0gbmV3VmFsdWVbaV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIGlmIG9iamVjdFxuICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSB7fTtcbiAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwobmV3VmFsdWUsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZVtrZXldID0gbmV3VmFsdWVba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy4kd2F0Y2goY2hhbmdlRGV0ZWN0b3IsICR3YXRjaENvbGxlY3Rpb25BY3Rpb24pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3RcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBQcm9jZXNzZXMgYWxsIG9mIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2hlcnN9IG9mIHRoZSBjdXJyZW50IHNjb3BlIGFuZFxuICAgICAgICogaXRzIGNoaWxkcmVuLiBCZWNhdXNlIGEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJ9J3MgbGlzdGVuZXIgY2FuIGNoYW5nZVxuICAgICAgICogdGhlIG1vZGVsLCB0aGUgYCRkaWdlc3QoKWAga2VlcHMgY2FsbGluZyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJzfVxuICAgICAgICogdW50aWwgbm8gbW9yZSBsaXN0ZW5lcnMgYXJlIGZpcmluZy4gVGhpcyBtZWFucyB0aGF0IGl0IGlzIHBvc3NpYmxlIHRvIGdldCBpbnRvIGFuIGluZmluaXRlXG4gICAgICAgKiBsb29wLiBUaGlzIGZ1bmN0aW9uIHdpbGwgdGhyb3cgYCdNYXhpbXVtIGl0ZXJhdGlvbiBsaW1pdCBleGNlZWRlZC4nYCBpZiB0aGUgbnVtYmVyIG9mXG4gICAgICAgKiBpdGVyYXRpb25zIGV4Y2VlZHMgMTAuXG4gICAgICAgKlxuICAgICAgICogVXN1YWxseSwgeW91IGRvbid0IGNhbGwgYCRkaWdlc3QoKWAgZGlyZWN0bHkgaW5cbiAgICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDb250cm9sbGVyIGNvbnRyb2xsZXJzfSBvciBpblxuICAgICAgICoge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LlxuICAgICAgICogSW5zdGVhZCwgeW91IHNob3VsZCBjYWxsIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseSAkYXBwbHkoKX0gKHR5cGljYWxseSBmcm9tIHdpdGhpblxuICAgICAgICogYSB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlfSksIHdoaWNoIHdpbGwgZm9yY2UgYSBgJGRpZ2VzdCgpYC5cbiAgICAgICAqXG4gICAgICAgKiBJZiB5b3Ugd2FudCB0byBiZSBub3RpZmllZCB3aGVuZXZlciBgJGRpZ2VzdCgpYCBpcyBjYWxsZWQsXG4gICAgICAgKiB5b3UgY2FuIHJlZ2lzdGVyIGEgYHdhdGNoRXhwcmVzc2lvbmAgZnVuY3Rpb24gd2l0aFxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfSB3aXRoIG5vIGBsaXN0ZW5lcmAuXG4gICAgICAgKlxuICAgICAgICogSW4gdW5pdCB0ZXN0cywgeW91IG1heSBuZWVkIHRvIGNhbGwgYCRkaWdlc3QoKWAgdG8gc2ltdWxhdGUgdGhlIHNjb3BlIGxpZmUgY3ljbGUuXG4gICAgICAgKlxuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqIGBgYGpzXG4gICAgICAgICAgIHZhciBzY29wZSA9IC4uLjtcbiAgICAgICAgICAgc2NvcGUubmFtZSA9ICdtaXNrbyc7XG4gICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSAwO1xuXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDApO1xuICAgICAgICAgICBzY29wZS4kd2F0Y2goJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICBzY29wZS5jb3VudGVyID0gc2NvcGUuY291bnRlciArIDE7XG4gICAgICAgICAgIH0pO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcblxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIC8vIHRoZSBsaXN0ZW5lciBpcyBhbHdheXMgY2FsbGVkIGR1cmluZyB0aGUgZmlyc3QgJGRpZ2VzdCBsb29wIGFmdGVyIGl0IHdhcyByZWdpc3RlcmVkXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgLy8gYnV0IG5vdyBpdCB3aWxsIG5vdCBiZSBjYWxsZWQgdW5sZXNzIHRoZSB2YWx1ZSBjaGFuZ2VzXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnYWRhbSc7XG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMik7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgICRkaWdlc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgd2F0Y2gsIHZhbHVlLCBsYXN0LCBmbiwgZ2V0LFxuICAgICAgICAgICAgd2F0Y2hlcnMsXG4gICAgICAgICAgICBkaXJ0eSwgdHRsID0gVFRMLFxuICAgICAgICAgICAgbmV4dCwgY3VycmVudCwgdGFyZ2V0ID0gYXN5bmNRdWV1ZS5sZW5ndGggPyAkcm9vdFNjb3BlIDogdGhpcyxcbiAgICAgICAgICAgIHdhdGNoTG9nID0gW10sXG4gICAgICAgICAgICBsb2dJZHgsIGFzeW5jVGFzaztcblxuICAgICAgICBiZWdpblBoYXNlKCckZGlnZXN0Jyk7XG4gICAgICAgIC8vIENoZWNrIGZvciBjaGFuZ2VzIHRvIGJyb3dzZXIgdXJsIHRoYXQgaGFwcGVuZWQgaW4gc3luYyBiZWZvcmUgdGhlIGNhbGwgdG8gJGRpZ2VzdFxuICAgICAgICAkYnJvd3Nlci4kJGNoZWNrVXJsQ2hhbmdlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMgPT09ICRyb290U2NvcGUgJiYgYXBwbHlBc3luY0lkICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgcm9vdCBzY29wZSwgYW5kICRhcHBseUFzeW5jIGhhcyBzY2hlZHVsZWQgYSBkZWZlcnJlZCAkYXBwbHkoKSwgdGhlblxuICAgICAgICAgIC8vIGNhbmNlbCB0aGUgc2NoZWR1bGVkICRhcHBseSBhbmQgZmx1c2ggdGhlIHF1ZXVlIG9mIGV4cHJlc3Npb25zIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAgICAkYnJvd3Nlci5kZWZlci5jYW5jZWwoYXBwbHlBc3luY0lkKTtcbiAgICAgICAgICBmbHVzaEFwcGx5QXN5bmMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcblxuICAgICAgICBkbyB7IC8vIFwid2hpbGUgZGlydHlcIiBsb29wXG4gICAgICAgICAgZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICBjdXJyZW50ID0gdGFyZ2V0O1xuXG4gICAgICAgICAgLy8gSXQncyBzYWZlIGZvciBhc3luY1F1ZXVlUG9zaXRpb24gdG8gYmUgYSBsb2NhbCB2YXJpYWJsZSBoZXJlIGJlY2F1c2UgdGhpcyBsb29wIGNhbid0XG4gICAgICAgICAgLy8gYmUgcmVlbnRlcmVkIHJlY3Vyc2l2ZWx5LiBDYWxsaW5nICRkaWdlc3QgZnJvbSBhIGZ1bmN0aW9uIHBhc3NlZCB0byAkZXZhbEFzeW5jIHdvdWxkXG4gICAgICAgICAgLy8gbGVhZCB0byBhICckZGlnZXN0IGFscmVhZHkgaW4gcHJvZ3Jlc3MnIGVycm9yLlxuICAgICAgICAgIGZvciAodmFyIGFzeW5jUXVldWVQb3NpdGlvbiA9IDA7IGFzeW5jUXVldWVQb3NpdGlvbiA8IGFzeW5jUXVldWUubGVuZ3RoOyBhc3luY1F1ZXVlUG9zaXRpb24rKykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgYXN5bmNUYXNrID0gYXN5bmNRdWV1ZVthc3luY1F1ZXVlUG9zaXRpb25dO1xuICAgICAgICAgICAgICBmbiA9IGFzeW5jVGFzay5mbjtcbiAgICAgICAgICAgICAgZm4oYXN5bmNUYXNrLnNjb3BlLCBhc3luY1Rhc2subG9jYWxzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFzeW5jUXVldWUubGVuZ3RoID0gMDtcblxuICAgICAgICAgIHRyYXZlcnNlU2NvcGVzTG9vcDpcbiAgICAgICAgICBkbyB7IC8vIFwidHJhdmVyc2UgdGhlIHNjb3Blc1wiIGxvb3BcbiAgICAgICAgICAgIGlmICgod2F0Y2hlcnMgPSAhY3VycmVudC4kJHN1c3BlbmRlZCAmJiBjdXJyZW50LiQkd2F0Y2hlcnMpKSB7XG4gICAgICAgICAgICAgIC8vIHByb2Nlc3Mgb3VyIHdhdGNoZXNcbiAgICAgICAgICAgICAgd2F0Y2hlcnMuJCRkaWdlc3RXYXRjaEluZGV4ID0gd2F0Y2hlcnMubGVuZ3RoO1xuICAgICAgICAgICAgICB3aGlsZSAod2F0Y2hlcnMuJCRkaWdlc3RXYXRjaEluZGV4LS0pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgd2F0Y2ggPSB3YXRjaGVyc1t3YXRjaGVycy4kJGRpZ2VzdFdhdGNoSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgLy8gTW9zdCBjb21tb24gd2F0Y2hlcyBhcmUgb24gcHJpbWl0aXZlcywgaW4gd2hpY2ggY2FzZSB3ZSBjYW4gc2hvcnRcbiAgICAgICAgICAgICAgICAgIC8vIGNpcmN1aXQgaXQgd2l0aCA9PT0gb3BlcmF0b3IsIG9ubHkgd2hlbiA9PT0gZmFpbHMgZG8gd2UgdXNlIC5lcXVhbHNcbiAgICAgICAgICAgICAgICAgIGlmICh3YXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBnZXQgPSB3YXRjaC5nZXQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgPSBnZXQoY3VycmVudCkpICE9PSAobGFzdCA9IHdhdGNoLmxhc3QpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhKHdhdGNoLmVxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBlcXVhbHModmFsdWUsIGxhc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoaXNOdW1iZXJOYU4odmFsdWUpICYmIGlzTnVtYmVyTmFOKGxhc3QpKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSB3YXRjaDtcbiAgICAgICAgICAgICAgICAgICAgICB3YXRjaC5sYXN0ID0gd2F0Y2guZXEgPyBjb3B5KHZhbHVlLCBudWxsKSA6IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgIGZuID0gd2F0Y2guZm47XG4gICAgICAgICAgICAgICAgICAgICAgZm4odmFsdWUsICgobGFzdCA9PT0gaW5pdFdhdGNoVmFsKSA/IHZhbHVlIDogbGFzdCksIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0dGwgPCA1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dJZHggPSA0IC0gdHRsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3YXRjaExvZ1tsb2dJZHhdKSB3YXRjaExvZ1tsb2dJZHhdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaExvZ1tsb2dJZHhdLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtc2c6IGlzRnVuY3Rpb24od2F0Y2guZXhwKSA/ICdmbjogJyArICh3YXRjaC5leHAubmFtZSB8fCB3YXRjaC5leHAudG9TdHJpbmcoKSkgOiB3YXRjaC5leHAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbDogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbDogbGFzdFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdhdGNoID09PSBsYXN0RGlydHlXYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBtb3N0IHJlY2VudGx5IGRpcnR5IHdhdGNoZXIgaXMgbm93IGNsZWFuLCBzaG9ydCBjaXJjdWl0IHNpbmNlIHRoZSByZW1haW5pbmcgd2F0Y2hlcnNcbiAgICAgICAgICAgICAgICAgICAgICAvLyBoYXZlIGFscmVhZHkgYmVlbiB0ZXN0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhayB0cmF2ZXJzZVNjb3Blc0xvb3A7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSW5zYW5pdHkgV2FybmluZzogc2NvcGUgZGVwdGgtZmlyc3QgdHJhdmVyc2FsXG4gICAgICAgICAgICAvLyB5ZXMsIHRoaXMgY29kZSBpcyBhIGJpdCBjcmF6eSwgYnV0IGl0IHdvcmtzIGFuZCB3ZSBoYXZlIHRlc3RzIHRvIHByb3ZlIGl0IVxuICAgICAgICAgICAgLy8gdGhpcyBwaWVjZSBzaG91bGQgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIHRyYXZlcnNhbCBpbiAkYnJvYWRjYXN0XG4gICAgICAgICAgICAvLyAodGhvdWdoIGl0IGRpZmZlcnMgZHVlIHRvIGhhdmluZyB0aGUgZXh0cmEgY2hlY2sgZm9yICQkc3VzcGVuZGVkIGFuZCBkb2VzIG5vdFxuICAgICAgICAgICAgLy8gY2hlY2sgJCRsaXN0ZW5lckNvdW50KVxuICAgICAgICAgICAgaWYgKCEobmV4dCA9ICgoIWN1cnJlbnQuJCRzdXNwZW5kZWQgJiYgY3VycmVudC4kJHdhdGNoZXJzQ291bnQgJiYgY3VycmVudC4kJGNoaWxkSGVhZCkgfHxcbiAgICAgICAgICAgICAgICAoY3VycmVudCAhPT0gdGFyZ2V0ICYmIGN1cnJlbnQuJCRuZXh0U2libGluZykpKSkge1xuICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudCAhPT0gdGFyZ2V0ICYmICEobmV4dCA9IGN1cnJlbnQuJCRuZXh0U2libGluZykpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC4kcGFyZW50O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSB3aGlsZSAoKGN1cnJlbnQgPSBuZXh0KSk7XG5cbiAgICAgICAgICAvLyBgYnJlYWsgdHJhdmVyc2VTY29wZXNMb29wO2AgdGFrZXMgdXMgdG8gaGVyZVxuXG4gICAgICAgICAgaWYgKChkaXJ0eSB8fCBhc3luY1F1ZXVlLmxlbmd0aCkgJiYgISh0dGwtLSkpIHtcbiAgICAgICAgICAgIGNsZWFyUGhhc2UoKTtcbiAgICAgICAgICAgIHRocm93ICRyb290U2NvcGVNaW5FcnIoJ2luZmRpZycsXG4gICAgICAgICAgICAgICAgJ3swfSAkZGlnZXN0KCkgaXRlcmF0aW9ucyByZWFjaGVkLiBBYm9ydGluZyFcXG4nICtcbiAgICAgICAgICAgICAgICAnV2F0Y2hlcnMgZmlyZWQgaW4gdGhlIGxhc3QgNSBpdGVyYXRpb25zOiB7MX0nLFxuICAgICAgICAgICAgICAgIFRUTCwgd2F0Y2hMb2cpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9IHdoaWxlIChkaXJ0eSB8fCBhc3luY1F1ZXVlLmxlbmd0aCk7XG5cbiAgICAgICAgY2xlYXJQaGFzZSgpO1xuXG4gICAgICAgIC8vIHBvc3REaWdlc3RRdWV1ZVBvc2l0aW9uIGlzbid0IGxvY2FsIGhlcmUgYmVjYXVzZSB0aGlzIGxvb3AgY2FuIGJlIHJlZW50ZXJlZCByZWN1cnNpdmVseS5cbiAgICAgICAgd2hpbGUgKHBvc3REaWdlc3RRdWV1ZVBvc2l0aW9uIDwgcG9zdERpZ2VzdFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwb3N0RGlnZXN0UXVldWVbcG9zdERpZ2VzdFF1ZXVlUG9zaXRpb24rK10oKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLmxlbmd0aCA9IHBvc3REaWdlc3RRdWV1ZVBvc2l0aW9uID0gMDtcblxuICAgICAgICAvLyBDaGVjayBmb3IgY2hhbmdlcyB0byBicm93c2VyIHVybCB0aGF0IGhhcHBlbmVkIGR1cmluZyB0aGUgJGRpZ2VzdFxuICAgICAgICAvLyAoZm9yIHdoaWNoIG5vIGV2ZW50IGlzIGZpcmVkOyBlLmcuIHZpYSBgaGlzdG9yeS5wdXNoU3RhdGUoKWApXG4gICAgICAgICRicm93c2VyLiQkY2hlY2tVcmxDaGFuZ2UoKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkc3VzcGVuZFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFN1c3BlbmQgd2F0Y2hlcnMgb2YgdGhpcyBzY29wZSBzdWJ0cmVlIHNvIHRoYXQgdGhleSB3aWxsIG5vdCBiZSBpbnZva2VkIGR1cmluZyBkaWdlc3QuXG4gICAgICAgKlxuICAgICAgICogVGhpcyBjYW4gYmUgdXNlZCB0byBvcHRpbWl6ZSB5b3VyIGFwcGxpY2F0aW9uIHdoZW4geW91IGtub3cgdGhhdCBydW5uaW5nIHRob3NlIHdhdGNoZXJzXG4gICAgICAgKiBpcyByZWR1bmRhbnQuXG4gICAgICAgKlxuICAgICAgICogKipXYXJuaW5nKipcbiAgICAgICAqXG4gICAgICAgKiBTdXNwZW5kaW5nIHNjb3BlcyBmcm9tIHRoZSBkaWdlc3QgY3ljbGUgY2FuIGhhdmUgdW53YW50ZWQgYW5kIGRpZmZpY3VsdCB0byBkZWJ1ZyByZXN1bHRzLlxuICAgICAgICogT25seSB1c2UgdGhpcyBhcHByb2FjaCBpZiB5b3UgYXJlIGNvbmZpZGVudCB0aGF0IHlvdSBrbm93IHdoYXQgeW91IGFyZSBkb2luZyBhbmQgaGF2ZVxuICAgICAgICogYW1wbGUgdGVzdHMgdG8gZW5zdXJlIHRoYXQgYmluZGluZ3MgZ2V0IHVwZGF0ZWQgYXMgeW91IGV4cGVjdC5cbiAgICAgICAqXG4gICAgICAgKiBTb21lIG9mIHRoZSB0aGluZ3MgdG8gY29uc2lkZXIgYXJlOlxuICAgICAgICpcbiAgICAgICAqICogQW55IGV4dGVybmFsIGV2ZW50IG9uIGEgZGlyZWN0aXZlL2NvbXBvbmVudCB3aWxsIG5vdCB0cmlnZ2VyIGEgZGlnZXN0IHdoaWxlIHRoZSBob3N0aW5nXG4gICAgICAgKiAgIHNjb3BlIGlzIHN1c3BlbmRlZCAtIGV2ZW4gaWYgdGhlIGV2ZW50IGhhbmRsZXIgY2FsbHMgYCRhcHBseSgpYCBvciBgJHJvb3RTY29wZS4kZGlnZXN0KClgLlxuICAgICAgICogKiBUcmFuc2NsdWRlZCBjb250ZW50IGV4aXN0cyBvbiBhIHNjb3BlIHRoYXQgaW5oZXJpdHMgZnJvbSBvdXRzaWRlIGEgZGlyZWN0aXZlIGJ1dCBleGlzdHNcbiAgICAgICAqICAgYXMgYSBjaGlsZCBvZiB0aGUgZGlyZWN0aXZlJ3MgY29udGFpbmluZyBzY29wZS4gSWYgdGhlIGNvbnRhaW5pbmcgc2NvcGUgaXMgc3VzcGVuZGVkIHRoZVxuICAgICAgICogICB0cmFuc2NsdWRlZCBzY29wZSB3aWxsIGFsc28gYmUgc3VzcGVuZGVkLCBldmVuIGlmIHRoZSBzY29wZSBmcm9tIHdoaWNoIHRoZSB0cmFuc2NsdWRlZFxuICAgICAgICogICBzY29wZSBpbmhlcml0cyBpcyBub3Qgc3VzcGVuZGVkLlxuICAgICAgICogKiBNdWx0aXBsZSBkaXJlY3RpdmVzIHRyeWluZyB0byBtYW5hZ2UgdGhlIHN1c3BlbmRlZCBzdGF0dXMgb2YgYSBzY29wZSBjYW4gY29uZnVzZSBlYWNoIG90aGVyOlxuICAgICAgICogICAgKiBBIGNhbGwgdG8gYCRzdXNwZW5kKClgIG9uIGFuIGFscmVhZHkgc3VzcGVuZGVkIHNjb3BlIGlzIGEgbm8tb3AuXG4gICAgICAgKiAgICAqIEEgY2FsbCB0byBgJHJlc3VtZSgpYCBvbiBhIG5vbi1zdXNwZW5kZWQgc2NvcGUgaXMgYSBuby1vcC5cbiAgICAgICAqICAgICogSWYgdHdvIGRpcmVjdGl2ZXMgc3VzcGVuZCBhIHNjb3BlLCB0aGVuIG9uZSBvZiB0aGVtIHJlc3VtZXMgdGhlIHNjb3BlLCB0aGUgc2NvcGUgd2lsbCBub1xuICAgICAgICogICAgICBsb25nZXIgYmUgc3VzcGVuZGVkLiBUaGlzIGNvdWxkIHJlc3VsdCBpbiB0aGUgb3RoZXIgZGlyZWN0aXZlIGJlbGlldmluZyBhIHNjb3BlIHRvIGJlXG4gICAgICAgKiAgICAgIHN1c3BlbmRlZCB3aGVuIGl0IGlzIG5vdC5cbiAgICAgICAqICogSWYgYSBwYXJlbnQgc2NvcGUgaXMgc3VzcGVuZGVkIHRoZW4gYWxsIGl0cyBkZXNjZW5kYW50cyB3aWxsIGJlIGFsc28gZXhjbHVkZWQgZnJvbSBmdXR1cmVcbiAgICAgICAqICAgZGlnZXN0cyB3aGV0aGVyIG9yIG5vdCB0aGV5IGhhdmUgYmVlbiBzdXNwZW5kZWQgdGhlbXNlbHZlcy4gTm90ZSB0aGF0IHRoaXMgYWxzbyBhcHBsaWVzIHRvXG4gICAgICAgKiAgIGlzb2xhdGUgY2hpbGQgc2NvcGVzLlxuICAgICAgICogKiBDYWxsaW5nIGAkZGlnZXN0KClgIGRpcmVjdGx5IG9uIGEgZGVzY2VuZGFudCBvZiBhIHN1c3BlbmRlZCBzY29wZSB3aWxsIHN0aWxsIHJ1biB0aGUgd2F0Y2hlcnNcbiAgICAgICAqICAgZm9yIHRoYXQgc2NvcGUgYW5kIGl0cyBkZXNjZW5kYW50cy4gV2hlbiBkaWdlc3Rpbmcgd2Ugb25seSBjaGVjayB3aGV0aGVyIHRoZSBjdXJyZW50IHNjb3BlIGlzXG4gICAgICAgKiAgIGxvY2FsbHkgc3VzcGVuZGVkLCByYXRoZXIgdGhhbiBjaGVja2luZyB3aGV0aGVyIGl0IGhhcyBhIHN1c3BlbmRlZCBhbmNlc3Rvci5cbiAgICAgICAqICogQ2FsbGluZyBgJHJlc3VtZSgpYCBvbiBhIHNjb3BlIHRoYXQgaGFzIGEgc3VzcGVuZGVkIGFuY2VzdG9yIHdpbGwgbm90IGNhdXNlIHRoZSBzY29wZSB0byBiZVxuICAgICAgICogICBpbmNsdWRlZCBpbiBmdXR1cmUgZGlnZXN0cyB1bnRpbCBhbGwgaXRzIGFuY2VzdG9ycyBoYXZlIGJlZW4gcmVzdW1lZC5cbiAgICAgICAqICogUmVzb2x2ZWQgcHJvbWlzZXMsIGUuZy4gZnJvbSBleHBsaWNpdCBgJHFgIGRlZmVycmVkcyBhbmQgYCRodHRwYCBjYWxscywgdHJpZ2dlciBgJGFwcGx5KClgXG4gICAgICAgKiAgIGFnYWluc3QgdGhlIGAkcm9vdFNjb3BlYCBhbmQgc28gd2lsbCBzdGlsbCB0cmlnZ2VyIGEgZ2xvYmFsIGRpZ2VzdCBldmVuIGlmIHRoZSBwcm9taXNlIHdhc1xuICAgICAgICogICBpbml0aWF0ZWQgYnkgYSBjb21wb25lbnQgdGhhdCBsaXZlcyBvbiBhIHN1c3BlbmRlZCBzY29wZS5cbiAgICAgICAqL1xuICAgICAgJHN1c3BlbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiQkc3VzcGVuZGVkID0gdHJ1ZTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkaXNTdXNwZW5kZWRcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBDYWxsIHRoaXMgbWV0aG9kIHRvIGRldGVybWluZSBpZiB0aGlzIHNjb3BlIGhhcyBiZWVuIGV4cGxpY2l0bHkgc3VzcGVuZGVkLiBJdCB3aWxsIG5vdFxuICAgICAgICogdGVsbCB5b3Ugd2hldGhlciBhbiBhbmNlc3RvciBoYXMgYmVlbiBzdXNwZW5kZWQuXG4gICAgICAgKiBUbyBkZXRlcm1pbmUgaWYgdGhpcyBzY29wZSB3aWxsIGJlIGV4Y2x1ZGVkIGZyb20gYSBkaWdlc3QgdHJpZ2dlcmVkIGF0IHRoZSAkcm9vdFNjb3BlLFxuICAgICAgICogZm9yIGV4YW1wbGUsIHlvdSBtdXN0IGNoZWNrIGFsbCBpdHMgYW5jZXN0b3JzOlxuICAgICAgICpcbiAgICAgICAqIGBgYFxuICAgICAgICogZnVuY3Rpb24gaXNFeGNsdWRlZEZyb21EaWdlc3Qoc2NvcGUpIHtcbiAgICAgICAqICAgd2hpbGUoc2NvcGUpIHtcbiAgICAgICAqICAgICBpZiAoc2NvcGUuJGlzU3VzcGVuZGVkKCkpIHJldHVybiB0cnVlO1xuICAgICAgICogICAgIHNjb3BlID0gc2NvcGUuJHBhcmVudDtcbiAgICAgICAqICAgfVxuICAgICAgICogICByZXR1cm4gZmFsc2U7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBCZSBhd2FyZSB0aGF0IGEgc2NvcGUgbWF5IG5vdCBiZSBpbmNsdWRlZCBpbiBkaWdlc3RzIGlmIGl0IGhhcyBhIHN1c3BlbmRlZCBhbmNlc3RvcixcbiAgICAgICAqIGV2ZW4gaWYgYCRpc1N1c3BlbmRlZCgpYCByZXR1cm5zIGZhbHNlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGN1cnJlbnQgc2NvcGUgaGFzIGJlZW4gc3VzcGVuZGVkLlxuICAgICAgICovXG4gICAgICAkaXNTdXNwZW5kZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kJHN1c3BlbmRlZDtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkcmVzdW1lXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVzdW1lIHdhdGNoZXJzIG9mIHRoaXMgc2NvcGUgc3VidHJlZSBpbiBjYXNlIGl0IHdhcyBzdXNwZW5kZWQuXG4gICAgICAgKlxuICAgICAgICogU2VlIHtAbGluayAkcm9vdFNjb3BlLlNjb3BlIyRzdXNwZW5kfSBmb3IgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGRhbmdlcnMgb2YgdXNpbmcgdGhpcyBhcHByb2FjaC5cbiAgICAgICAqL1xuICAgICAgJHJlc3VtZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJCRzdXNwZW5kZWQgPSBmYWxzZTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGV2ZW50XG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkZXN0cm95XG4gICAgICAgKiBAZXZlbnRUeXBlIGJyb2FkY2FzdCBvbiBzY29wZSBiZWluZyBkZXN0cm95ZWRcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEJyb2FkY2FzdGVkIHdoZW4gYSBzY29wZSBhbmQgaXRzIGNoaWxkcmVuIGFyZSBiZWluZyBkZXN0cm95ZWQuXG4gICAgICAgKlxuICAgICAgICogTm90ZSB0aGF0LCBpbiBBbmd1bGFySlMsIHRoZXJlIGlzIGFsc28gYSBgJGRlc3Ryb3lgIGpRdWVyeSBldmVudCwgd2hpY2ggY2FuIGJlIHVzZWQgdG9cbiAgICAgICAqIGNsZWFuIHVwIERPTSBiaW5kaW5ncyBiZWZvcmUgYW4gZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAgICAgICAqL1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3lcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZW1vdmVzIHRoZSBjdXJyZW50IHNjb3BlIChhbmQgYWxsIG9mIGl0cyBjaGlsZHJlbikgZnJvbSB0aGUgcGFyZW50IHNjb3BlLiBSZW1vdmFsIGltcGxpZXNcbiAgICAgICAqIHRoYXQgY2FsbHMgdG8ge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9IHdpbGwgbm8gbG9uZ2VyXG4gICAgICAgKiBwcm9wYWdhdGUgdG8gdGhlIGN1cnJlbnQgc2NvcGUgYW5kIGl0cyBjaGlsZHJlbi4gUmVtb3ZhbCBhbHNvIGltcGxpZXMgdGhhdCB0aGUgY3VycmVudFxuICAgICAgICogc2NvcGUgaXMgZWxpZ2libGUgZm9yIGdhcmJhZ2UgY29sbGVjdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBUaGUgYCRkZXN0cm95KClgIGlzIHVzdWFsbHkgdXNlZCBieSBkaXJlY3RpdmVzIHN1Y2ggYXNcbiAgICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdSZXBlYXQgbmdSZXBlYXR9IGZvciBtYW5hZ2luZyB0aGVcbiAgICAgICAqIHVucm9sbGluZyBvZiB0aGUgbG9vcC5cbiAgICAgICAqXG4gICAgICAgKiBKdXN0IGJlZm9yZSBhIHNjb3BlIGlzIGRlc3Ryb3llZCwgYSBgJGRlc3Ryb3lgIGV2ZW50IGlzIGJyb2FkY2FzdGVkIG9uIHRoaXMgc2NvcGUuXG4gICAgICAgKiBBcHBsaWNhdGlvbiBjb2RlIGNhbiByZWdpc3RlciBhIGAkZGVzdHJveWAgZXZlbnQgaGFuZGxlciB0aGF0IHdpbGwgZ2l2ZSBpdCBhIGNoYW5jZSB0b1xuICAgICAgICogcGVyZm9ybSBhbnkgbmVjZXNzYXJ5IGNsZWFudXAuXG4gICAgICAgKlxuICAgICAgICogTm90ZSB0aGF0LCBpbiBBbmd1bGFySlMsIHRoZXJlIGlzIGFsc28gYSBgJGRlc3Ryb3lgIGpRdWVyeSBldmVudCwgd2hpY2ggY2FuIGJlIHVzZWQgdG9cbiAgICAgICAqIGNsZWFuIHVwIERPTSBiaW5kaW5ncyBiZWZvcmUgYW4gZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAgICAgICAqL1xuICAgICAgJGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBXZSBjYW4ndCBkZXN0cm95IGEgc2NvcGUgdGhhdCBoYXMgYmVlbiBhbHJlYWR5IGRlc3Ryb3llZC5cbiAgICAgICAgaWYgKHRoaXMuJCRkZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuJHBhcmVudDtcblxuICAgICAgICB0aGlzLiRicm9hZGNhc3QoJyRkZXN0cm95Jyk7XG4gICAgICAgIHRoaXMuJCRkZXN0cm95ZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmICh0aGlzID09PSAkcm9vdFNjb3BlKSB7XG4gICAgICAgICAgLy9SZW1vdmUgaGFuZGxlcnMgYXR0YWNoZWQgdG8gd2luZG93IHdoZW4gJHJvb3RTY29wZSBpcyByZW1vdmVkXG4gICAgICAgICAgJGJyb3dzZXIuJCRhcHBsaWNhdGlvbkRlc3Ryb3llZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5jcmVtZW50V2F0Y2hlcnNDb3VudCh0aGlzLCAtdGhpcy4kJHdhdGNoZXJzQ291bnQpO1xuICAgICAgICBmb3IgKHZhciBldmVudE5hbWUgaW4gdGhpcy4kJGxpc3RlbmVyQ291bnQpIHtcbiAgICAgICAgICBkZWNyZW1lbnRMaXN0ZW5lckNvdW50KHRoaXMsIHRoaXMuJCRsaXN0ZW5lckNvdW50W2V2ZW50TmFtZV0sIGV2ZW50TmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXZlciBhbGwgdGhlIHJlZmVyZW5jZXMgdG8gcGFyZW50IHNjb3BlcyAoYWZ0ZXIgdGhpcyBjbGVhbnVwLCB0aGUgY3VycmVudCBzY29wZSBzaG91bGRcbiAgICAgICAgLy8gbm90IGJlIHJldGFpbmVkIGJ5IGFueSBvZiBvdXIgcmVmZXJlbmNlcyBhbmQgc2hvdWxkIGJlIGVsaWdpYmxlIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24pXG4gICAgICAgIGlmIChwYXJlbnQgJiYgcGFyZW50LiQkY2hpbGRIZWFkID09PSB0aGlzKSBwYXJlbnQuJCRjaGlsZEhlYWQgPSB0aGlzLiQkbmV4dFNpYmxpbmc7XG4gICAgICAgIGlmIChwYXJlbnQgJiYgcGFyZW50LiQkY2hpbGRUYWlsID09PSB0aGlzKSBwYXJlbnQuJCRjaGlsZFRhaWwgPSB0aGlzLiQkcHJldlNpYmxpbmc7XG4gICAgICAgIGlmICh0aGlzLiQkcHJldlNpYmxpbmcpIHRoaXMuJCRwcmV2U2libGluZy4kJG5leHRTaWJsaW5nID0gdGhpcy4kJG5leHRTaWJsaW5nO1xuICAgICAgICBpZiAodGhpcy4kJG5leHRTaWJsaW5nKSB0aGlzLiQkbmV4dFNpYmxpbmcuJCRwcmV2U2libGluZyA9IHRoaXMuJCRwcmV2U2libGluZztcblxuICAgICAgICAvLyBEaXNhYmxlIGxpc3RlbmVycywgd2F0Y2hlcnMgYW5kIGFwcGx5L2RpZ2VzdCBtZXRob2RzXG4gICAgICAgIHRoaXMuJGRlc3Ryb3kgPSB0aGlzLiRkaWdlc3QgPSB0aGlzLiRhcHBseSA9IHRoaXMuJGV2YWxBc3luYyA9IHRoaXMuJGFwcGx5QXN5bmMgPSBub29wO1xuICAgICAgICB0aGlzLiRvbiA9IHRoaXMuJHdhdGNoID0gdGhpcy4kd2F0Y2hHcm91cCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gbm9vcDsgfTtcbiAgICAgICAgdGhpcy4kJGxpc3RlbmVycyA9IHt9O1xuXG4gICAgICAgIC8vIERpc2Nvbm5lY3QgdGhlIG5leHQgc2libGluZyB0byBwcmV2ZW50IGBjbGVhblVwU2NvcGVgIGRlc3Ryb3lpbmcgdGhvc2UgdG9vXG4gICAgICAgIHRoaXMuJCRuZXh0U2libGluZyA9IG51bGw7XG4gICAgICAgIGNsZWFuVXBTY29wZSh0aGlzKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZXZhbFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEV4ZWN1dGVzIHRoZSBgZXhwcmVzc2lvbmAgb24gdGhlIGN1cnJlbnQgc2NvcGUgYW5kIHJldHVybnMgdGhlIHJlc3VsdC4gQW55IGV4Y2VwdGlvbnMgaW5cbiAgICAgICAqIHRoZSBleHByZXNzaW9uIGFyZSBwcm9wYWdhdGVkICh1bmNhdWdodCkuIFRoaXMgaXMgdXNlZnVsIHdoZW4gZXZhbHVhdGluZyBBbmd1bGFySlNcbiAgICAgICAqIGV4cHJlc3Npb25zLlxuICAgICAgICpcbiAgICAgICAqIEBleGFtcGxlXG4gICAgICAgKiBgYGBqc1xuICAgICAgICAgICB2YXIgc2NvcGUgPSBuZy4kcm9vdFNjb3BlLlNjb3BlKCk7XG4gICAgICAgICAgIHNjb3BlLmEgPSAxO1xuICAgICAgICAgICBzY29wZS5iID0gMjtcblxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuJGV2YWwoJ2ErYicpKS50b0VxdWFsKDMpO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuJGV2YWwoZnVuY3Rpb24oc2NvcGUpeyByZXR1cm4gc2NvcGUuYSArIHNjb3BlLmI7IH0pKS50b0VxdWFsKDMpO1xuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsoc3RyaW5nfGZ1bmN0aW9uKCkpPX0gZXhwcmVzc2lvbiBBbiBBbmd1bGFySlMgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC5cbiAgICAgICAqXG4gICAgICAgKiAgICAtIGBzdHJpbmdgOiBleGVjdXRlIHVzaW5nIHRoZSBydWxlcyBhcyBkZWZpbmVkIGluICB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsob2JqZWN0KT19IGxvY2FscyBMb2NhbCB2YXJpYWJsZXMgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluIHNjb3BlLlxuICAgICAgICogQHJldHVybnMgeyp9IFRoZSByZXN1bHQgb2YgZXZhbHVhdGluZyB0aGUgZXhwcmVzc2lvbi5cbiAgICAgICAqL1xuICAgICAgJGV2YWw6IGZ1bmN0aW9uKGV4cHIsIGxvY2Fscykge1xuICAgICAgICByZXR1cm4gJHBhcnNlKGV4cHIpKHRoaXMsIGxvY2Fscyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGV2YWxBc3luY1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEV4ZWN1dGVzIHRoZSBleHByZXNzaW9uIG9uIHRoZSBjdXJyZW50IHNjb3BlIGF0IGEgbGF0ZXIgcG9pbnQgaW4gdGltZS5cbiAgICAgICAqXG4gICAgICAgKiBUaGUgYCRldmFsQXN5bmNgIG1ha2VzIG5vIGd1YXJhbnRlZXMgYXMgdG8gd2hlbiB0aGUgYGV4cHJlc3Npb25gIHdpbGwgYmUgZXhlY3V0ZWQsIG9ubHlcbiAgICAgICAqIHRoYXQ6XG4gICAgICAgKlxuICAgICAgICogICAtIGl0IHdpbGwgZXhlY3V0ZSBhZnRlciB0aGUgZnVuY3Rpb24gdGhhdCBzY2hlZHVsZWQgdGhlIGV2YWx1YXRpb24gKHByZWZlcmFibHkgYmVmb3JlIERPTVxuICAgICAgICogICAgIHJlbmRlcmluZykuXG4gICAgICAgKiAgIC0gYXQgbGVhc3Qgb25lIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCBjeWNsZX0gd2lsbCBiZSBwZXJmb3JtZWQgYWZ0ZXJcbiAgICAgICAqICAgICBgZXhwcmVzc2lvbmAgZXhlY3V0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEFueSBleGNlcHRpb25zIGZyb20gdGhlIGV4ZWN1dGlvbiBvZiB0aGUgZXhwcmVzc2lvbiBhcmUgZm9yd2FyZGVkIHRvIHRoZVxuICAgICAgICoge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxuICAgICAgICpcbiAgICAgICAqIF9fTm90ZTpfXyBpZiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvdXRzaWRlIG9mIGEgYCRkaWdlc3RgIGN5Y2xlLCBhIG5ldyBgJGRpZ2VzdGAgY3ljbGVcbiAgICAgICAqIHdpbGwgYmUgc2NoZWR1bGVkLiBIb3dldmVyLCBpdCBpcyBlbmNvdXJhZ2VkIHRvIGFsd2F5cyBjYWxsIGNvZGUgdGhhdCBjaGFuZ2VzIHRoZSBtb2RlbFxuICAgICAgICogZnJvbSB3aXRoaW4gYW4gYCRhcHBseWAgY2FsbC4gVGhhdCBpbmNsdWRlcyBjb2RlIGV2YWx1YXRlZCB2aWEgYCRldmFsQXN5bmNgLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cHJlc3Npb24gQW4gQW5ndWxhckpTIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsob2JqZWN0KT19IGxvY2FscyBMb2NhbCB2YXJpYWJsZXMgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluIHNjb3BlLlxuICAgICAgICovXG4gICAgICAkZXZhbEFzeW5jOiBmdW5jdGlvbihleHByLCBsb2NhbHMpIHtcbiAgICAgICAgLy8gaWYgd2UgYXJlIG91dHNpZGUgb2YgYW4gJGRpZ2VzdCBsb29wIGFuZCB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHdlIGFyZSBzY2hlZHVsaW5nIGFzeW5jXG4gICAgICAgIC8vIHRhc2sgYWxzbyBzY2hlZHVsZSBhc3luYyBhdXRvLWZsdXNoXG4gICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlICYmICFhc3luY1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGFzeW5jUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIG51bGwsICckZXZhbEFzeW5jJyk7XG4gICAgICAgIH1cblxuICAgICAgICBhc3luY1F1ZXVlLnB1c2goe3Njb3BlOiB0aGlzLCBmbjogJHBhcnNlKGV4cHIpLCBsb2NhbHM6IGxvY2Fsc30pO1xuICAgICAgfSxcblxuICAgICAgJCRwb3N0RGlnZXN0OiBmdW5jdGlvbihmbikge1xuICAgICAgICBwb3N0RGlnZXN0UXVldWUucHVzaChmbik7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGFwcGx5XG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogYCRhcHBseSgpYCBpcyB1c2VkIHRvIGV4ZWN1dGUgYW4gZXhwcmVzc2lvbiBpbiBBbmd1bGFySlMgZnJvbSBvdXRzaWRlIG9mIHRoZSBBbmd1bGFySlNcbiAgICAgICAqIGZyYW1ld29yay4gKEZvciBleGFtcGxlIGZyb20gYnJvd3NlciBET00gZXZlbnRzLCBzZXRUaW1lb3V0LCBYSFIgb3IgdGhpcmQgcGFydHkgbGlicmFyaWVzKS5cbiAgICAgICAqIEJlY2F1c2Ugd2UgYXJlIGNhbGxpbmcgaW50byB0aGUgQW5ndWxhckpTIGZyYW1ld29yayB3ZSBuZWVkIHRvIHBlcmZvcm0gcHJvcGVyIHNjb3BlIGxpZmVcbiAgICAgICAqIGN5Y2xlIG9mIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciBleGNlcHRpb24gaGFuZGxpbmd9LFxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCBleGVjdXRpbmcgd2F0Y2hlc30uXG4gICAgICAgKlxuICAgICAgICogKipMaWZlIGN5Y2xlOiBQc2V1ZG8tQ29kZSBvZiBgJGFwcGx5KClgKipcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICAgICBmdW5jdGlvbiAkYXBwbHkoZXhwcikge1xuICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICByZXR1cm4gJGV2YWwoZXhwcik7XG4gICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICRyb290LiRkaWdlc3QoKTtcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgIH1cbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiBTY29wZSdzIGAkYXBwbHkoKWAgbWV0aG9kIHRyYW5zaXRpb25zIHRocm91Z2ggdGhlIGZvbGxvd2luZyBzdGFnZXM6XG4gICAgICAgKlxuICAgICAgICogMS4gVGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIGV4ZWN1dGVkIHVzaW5nIHRoZVxuICAgICAgICogICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGV2YWwgJGV2YWwoKX0gbWV0aG9kLlxuICAgICAgICogMi4gQW55IGV4Y2VwdGlvbnMgZnJvbSB0aGUgZXhlY3V0aW9uIG9mIHRoZSBleHByZXNzaW9uIGFyZSBmb3J3YXJkZWQgdG8gdGhlXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXG4gICAgICAgKiAzLiBUaGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNofSBsaXN0ZW5lcnMgYXJlIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZVxuICAgICAgICogICAgZXhwcmVzc2lvbiB3YXMgZXhlY3V0ZWQgdXNpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSBtZXRob2QuXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cCBBbiBBbmd1bGFySlMgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC5cbiAgICAgICAqXG4gICAgICAgKiAgICAtIGBzdHJpbmdgOiBleGVjdXRlIHVzaW5nIHRoZSBydWxlcyBhcyBkZWZpbmVkIGluIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LlxuICAgICAgICogICAgLSBgZnVuY3Rpb24oc2NvcGUpYDogZXhlY3V0ZSB0aGUgZnVuY3Rpb24gd2l0aCBjdXJyZW50IGBzY29wZWAgcGFyYW1ldGVyLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0IG9mIGV2YWx1YXRpbmcgdGhlIGV4cHJlc3Npb24uXG4gICAgICAgKi9cbiAgICAgICRhcHBseTogZnVuY3Rpb24oZXhwcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGJlZ2luUGhhc2UoJyRhcHBseScpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kZXZhbChleHByKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgY2xlYXJQaGFzZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnNhZmUtZmluYWxseVxuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkYXBwbHlBc3luY1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFNjaGVkdWxlIHRoZSBpbnZvY2F0aW9uIG9mICRhcHBseSB0byBvY2N1ciBhdCBhIGxhdGVyIHRpbWUuIFRoZSBhY3R1YWwgdGltZSBkaWZmZXJlbmNlXG4gICAgICAgKiB2YXJpZXMgYWNyb3NzIGJyb3dzZXJzLCBidXQgaXMgdHlwaWNhbGx5IGFyb3VuZCB+MTAgbWlsbGlzZWNvbmRzLlxuICAgICAgICpcbiAgICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gcXVldWUgdXAgbXVsdGlwbGUgZXhwcmVzc2lvbnMgd2hpY2ggbmVlZCB0byBiZSBldmFsdWF0ZWQgaW4gdGhlIHNhbWVcbiAgICAgICAqIGRpZ2VzdC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHAgQW4gQW5ndWxhckpTIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cbiAgICAgICAqL1xuICAgICAgJGFwcGx5QXN5bmM6IGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgdmFyIHNjb3BlID0gdGhpcztcbiAgICAgICAgaWYgKGV4cHIpIHtcbiAgICAgICAgICBhcHBseUFzeW5jUXVldWUucHVzaCgkYXBwbHlBc3luY0V4cHJlc3Npb24pO1xuICAgICAgICB9XG4gICAgICAgIGV4cHIgPSAkcGFyc2UoZXhwcik7XG4gICAgICAgIHNjaGVkdWxlQXBwbHlBc3luYygpO1xuXG4gICAgICAgIGZ1bmN0aW9uICRhcHBseUFzeW5jRXhwcmVzc2lvbigpIHtcbiAgICAgICAgICBzY29wZS4kZXZhbChleHByKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRvblxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIExpc3RlbnMgb24gZXZlbnRzIG9mIGEgZ2l2ZW4gdHlwZS4gU2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRlbWl0ICRlbWl0fSBmb3JcbiAgICAgICAqIGRpc2N1c3Npb24gb2YgZXZlbnQgbGlmZSBjeWNsZS5cbiAgICAgICAqXG4gICAgICAgKiBUaGUgZXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24gZm9ybWF0IGlzOiBgZnVuY3Rpb24oZXZlbnQsIGFyZ3MuLi4pYC4gVGhlIGBldmVudGAgb2JqZWN0XG4gICAgICAgKiBwYXNzZWQgaW50byB0aGUgbGlzdGVuZXIgaGFzIHRoZSBmb2xsb3dpbmcgYXR0cmlidXRlczpcbiAgICAgICAqXG4gICAgICAgKiAgIC0gYHRhcmdldFNjb3BlYCAtIGB7U2NvcGV9YDogdGhlIHNjb3BlIG9uIHdoaWNoIHRoZSBldmVudCB3YXMgYCRlbWl0YC1lZCBvclxuICAgICAgICogICAgIGAkYnJvYWRjYXN0YC1lZC5cbiAgICAgICAqICAgLSBgY3VycmVudFNjb3BlYCAtIGB7U2NvcGV9YDogdGhlIHNjb3BlIHRoYXQgaXMgY3VycmVudGx5IGhhbmRsaW5nIHRoZSBldmVudC4gT25jZSB0aGVcbiAgICAgICAqICAgICBldmVudCBwcm9wYWdhdGVzIHRocm91Z2ggdGhlIHNjb3BlIGhpZXJhcmNoeSwgdGhpcyBwcm9wZXJ0eSBpcyBzZXQgdG8gbnVsbC5cbiAgICAgICAqICAgLSBgbmFtZWAgLSBge3N0cmluZ31gOiBuYW1lIG9mIHRoZSBldmVudC5cbiAgICAgICAqICAgLSBgc3RvcFByb3BhZ2F0aW9uYCAtIGB7ZnVuY3Rpb249fWA6IGNhbGxpbmcgYHN0b3BQcm9wYWdhdGlvbmAgZnVuY3Rpb24gd2lsbCBjYW5jZWxcbiAgICAgICAqICAgICBmdXJ0aGVyIGV2ZW50IHByb3BhZ2F0aW9uIChhdmFpbGFibGUgb25seSBmb3IgZXZlbnRzIHRoYXQgd2VyZSBgJGVtaXRgLWVkKS5cbiAgICAgICAqICAgLSBgcHJldmVudERlZmF1bHRgIC0gYHtmdW5jdGlvbn1gOiBjYWxsaW5nIGBwcmV2ZW50RGVmYXVsdGAgc2V0cyBgZGVmYXVsdFByZXZlbnRlZGAgZmxhZ1xuICAgICAgICogICAgIHRvIHRydWUuXG4gICAgICAgKiAgIC0gYGRlZmF1bHRQcmV2ZW50ZWRgIC0gYHtib29sZWFufWA6IHRydWUgaWYgYHByZXZlbnREZWZhdWx0YCB3YXMgY2FsbGVkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gbGlzdGVuIG9uLlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihldmVudCwgLi4uYXJncyl9IGxpc3RlbmVyIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC5cbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGVyZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIHRoaXMgbGlzdGVuZXIuXG4gICAgICAgKi9cbiAgICAgICRvbjogZnVuY3Rpb24obmFtZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIG5hbWVkTGlzdGVuZXJzID0gdGhpcy4kJGxpc3RlbmVyc1tuYW1lXTtcbiAgICAgICAgaWYgKCFuYW1lZExpc3RlbmVycykge1xuICAgICAgICAgIHRoaXMuJCRsaXN0ZW5lcnNbbmFtZV0gPSBuYW1lZExpc3RlbmVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIG5hbWVkTGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcztcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGlmICghY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0pIHtcbiAgICAgICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0rKztcbiAgICAgICAgfSB3aGlsZSAoKGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQpKTtcblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgaW5kZXhPZkxpc3RlbmVyID0gbmFtZWRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICAgICAgaWYgKGluZGV4T2ZMaXN0ZW5lciAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIFVzZSBkZWxldGUgaW4gdGhlIGhvcGUgb2YgdGhlIGJyb3dzZXIgZGVhbGxvY2F0aW5nIHRoZSBtZW1vcnkgZm9yIHRoZSBhcnJheSBlbnRyeSxcbiAgICAgICAgICAgIC8vIHdoaWxlIG5vdCBzaGlmdGluZyB0aGUgYXJyYXkgaW5kZXhlcyBvZiBvdGhlciBsaXN0ZW5lcnMuXG4gICAgICAgICAgICAvLyBTZWUgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTYxMzVcbiAgICAgICAgICAgIGRlbGV0ZSBuYW1lZExpc3RlbmVyc1tpbmRleE9mTGlzdGVuZXJdO1xuICAgICAgICAgICAgZGVjcmVtZW50TGlzdGVuZXJDb3VudChzZWxmLCAxLCBuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9LFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZW1pdFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgYG5hbWVgIHVwd2FyZHMgdGhyb3VnaCB0aGUgc2NvcGUgaGllcmFyY2h5IG5vdGlmeWluZyB0aGVcbiAgICAgICAqIHJlZ2lzdGVyZWQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSBsaXN0ZW5lcnMuXG4gICAgICAgKlxuICAgICAgICogVGhlIGV2ZW50IGxpZmUgY3ljbGUgc3RhcnRzIGF0IHRoZSBzY29wZSBvbiB3aGljaCBgJGVtaXRgIHdhcyBjYWxsZWQuIEFsbFxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9uIGxpc3RlbmVyc30gbGlzdGVuaW5nIGZvciBgbmFtZWAgZXZlbnQgb24gdGhpcyBzY29wZSBnZXRcbiAgICAgICAqIG5vdGlmaWVkLiBBZnRlcndhcmRzLCB0aGUgZXZlbnQgdHJhdmVyc2VzIHVwd2FyZHMgdG93YXJkIHRoZSByb290IHNjb3BlIGFuZCBjYWxscyBhbGxcbiAgICAgICAqIHJlZ2lzdGVyZWQgbGlzdGVuZXJzIGFsb25nIHRoZSB3YXkuIFRoZSBldmVudCB3aWxsIHN0b3AgcHJvcGFnYXRpbmcgaWYgb25lIG9mIHRoZSBsaXN0ZW5lcnNcbiAgICAgICAqIGNhbmNlbHMgaXQuXG4gICAgICAgKlxuICAgICAgICogQW55IGV4Y2VwdGlvbiBlbWl0dGVkIGZyb20gdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IHdpbGwgYmUgcGFzc2VkXG4gICAgICAgKiBvbnRvIHRoZSB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRXZlbnQgbmFtZSB0byBlbWl0LlxuICAgICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIE9wdGlvbmFsIG9uZSBvciBtb3JlIGFyZ3VtZW50cyB3aGljaCB3aWxsIGJlIHBhc3NlZCBvbnRvIHRoZSBldmVudCBsaXN0ZW5lcnMuXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEV2ZW50IG9iamVjdCAoc2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0pLlxuICAgICAgICovXG4gICAgICAkZW1pdDogZnVuY3Rpb24obmFtZSwgYXJncykge1xuICAgICAgICB2YXIgZW1wdHkgPSBbXSxcbiAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzLFxuICAgICAgICAgICAgc2NvcGUgPSB0aGlzLFxuICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uID0gZmFsc2UsXG4gICAgICAgICAgICBldmVudCA9IHtcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgdGFyZ2V0U2NvcGU6IHNjb3BlLFxuICAgICAgICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge3N0b3BQcm9wYWdhdGlvbiA9IHRydWU7fSxcbiAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBkZWZhdWx0UHJldmVudGVkOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpc3RlbmVyQXJncyA9IGNvbmNhdChbZXZlbnRdLCBhcmd1bWVudHMsIDEpLFxuICAgICAgICAgICAgaSwgbGVuZ3RoO1xuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICBuYW1lZExpc3RlbmVycyA9IHNjb3BlLiQkbGlzdGVuZXJzW25hbWVdIHx8IGVtcHR5O1xuICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IHNjb3BlO1xuICAgICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IG5hbWVkTGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgIC8vIGlmIGxpc3RlbmVycyB3ZXJlIGRlcmVnaXN0ZXJlZCwgZGVmcmFnbWVudCB0aGUgYXJyYXlcbiAgICAgICAgICAgIGlmICghbmFtZWRMaXN0ZW5lcnNbaV0pIHtcbiAgICAgICAgICAgICAgbmFtZWRMaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgIGxlbmd0aC0tO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vYWxsb3cgYWxsIGxpc3RlbmVycyBhdHRhY2hlZCB0byB0aGUgY3VycmVudCBzY29wZSB0byBydW5cbiAgICAgICAgICAgICAgbmFtZWRMaXN0ZW5lcnNbaV0uYXBwbHkobnVsbCwgbGlzdGVuZXJBcmdzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vaWYgYW55IGxpc3RlbmVyIG9uIHRoZSBjdXJyZW50IHNjb3BlIHN0b3BzIHByb3BhZ2F0aW9uLCBwcmV2ZW50IGJ1YmJsaW5nXG4gICAgICAgICAgaWYgKHN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vdHJhdmVyc2UgdXB3YXJkc1xuICAgICAgICAgIHNjb3BlID0gc2NvcGUuJHBhcmVudDtcbiAgICAgICAgfSB3aGlsZSAoc2NvcGUpO1xuXG4gICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGJyb2FkY2FzdFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgYG5hbWVgIGRvd253YXJkcyB0byBhbGwgY2hpbGQgc2NvcGVzIChhbmQgdGhlaXIgY2hpbGRyZW4pIG5vdGlmeWluZyB0aGVcbiAgICAgICAqIHJlZ2lzdGVyZWQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSBsaXN0ZW5lcnMuXG4gICAgICAgKlxuICAgICAgICogVGhlIGV2ZW50IGxpZmUgY3ljbGUgc3RhcnRzIGF0IHRoZSBzY29wZSBvbiB3aGljaCBgJGJyb2FkY2FzdGAgd2FzIGNhbGxlZC4gQWxsXG4gICAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSBsaXN0ZW5pbmcgZm9yIGBuYW1lYCBldmVudCBvbiB0aGlzIHNjb3BlIGdldFxuICAgICAgICogbm90aWZpZWQuIEFmdGVyd2FyZHMsIHRoZSBldmVudCBwcm9wYWdhdGVzIHRvIGFsbCBkaXJlY3QgYW5kIGluZGlyZWN0IHNjb3BlcyBvZiB0aGUgY3VycmVudFxuICAgICAgICogc2NvcGUgYW5kIGNhbGxzIGFsbCByZWdpc3RlcmVkIGxpc3RlbmVycyBhbG9uZyB0aGUgd2F5LiBUaGUgZXZlbnQgY2Fubm90IGJlIGNhbmNlbGVkLlxuICAgICAgICpcbiAgICAgICAqIEFueSBleGNlcHRpb24gZW1pdHRlZCBmcm9tIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSB3aWxsIGJlIHBhc3NlZFxuICAgICAgICogb250byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gYnJvYWRjYXN0LlxuICAgICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIE9wdGlvbmFsIG9uZSBvciBtb3JlIGFyZ3VtZW50cyB3aGljaCB3aWxsIGJlIHBhc3NlZCBvbnRvIHRoZSBldmVudCBsaXN0ZW5lcnMuXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEV2ZW50IG9iamVjdCwgc2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn1cbiAgICAgICAqL1xuICAgICAgJGJyb2FkY2FzdDogZnVuY3Rpb24obmFtZSwgYXJncykge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcyxcbiAgICAgICAgICAgIGN1cnJlbnQgPSB0YXJnZXQsXG4gICAgICAgICAgICBuZXh0ID0gdGFyZ2V0LFxuICAgICAgICAgICAgZXZlbnQgPSB7XG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgIHRhcmdldFNjb3BlOiB0YXJnZXQsXG4gICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBldmVudC5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgaWYgKCF0YXJnZXQuJCRsaXN0ZW5lckNvdW50W25hbWVdKSByZXR1cm4gZXZlbnQ7XG5cbiAgICAgICAgdmFyIGxpc3RlbmVyQXJncyA9IGNvbmNhdChbZXZlbnRdLCBhcmd1bWVudHMsIDEpLFxuICAgICAgICAgICAgbGlzdGVuZXJzLCBpLCBsZW5ndGg7XG5cbiAgICAgICAgLy9kb3duIHdoaWxlIHlvdSBjYW4sIHRoZW4gdXAgYW5kIG5leHQgc2libGluZyBvciB1cCBhbmQgbmV4dCBzaWJsaW5nIHVudGlsIGJhY2sgYXQgcm9vdFxuICAgICAgICB3aGlsZSAoKGN1cnJlbnQgPSBuZXh0KSkge1xuICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IGN1cnJlbnQ7XG4gICAgICAgICAgbGlzdGVuZXJzID0gY3VycmVudC4kJGxpc3RlbmVyc1tuYW1lXSB8fCBbXTtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGlmIGxpc3RlbmVycyB3ZXJlIGRlcmVnaXN0ZXJlZCwgZGVmcmFnbWVudCB0aGUgYXJyYXlcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXJzW2ldKSB7XG4gICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgbGVuZ3RoLS07XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkobnVsbCwgbGlzdGVuZXJBcmdzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSW5zYW5pdHkgV2FybmluZzogc2NvcGUgZGVwdGgtZmlyc3QgdHJhdmVyc2FsXG4gICAgICAgICAgLy8geWVzLCB0aGlzIGNvZGUgaXMgYSBiaXQgY3JhenksIGJ1dCBpdCB3b3JrcyBhbmQgd2UgaGF2ZSB0ZXN0cyB0byBwcm92ZSBpdCFcbiAgICAgICAgICAvLyB0aGlzIHBpZWNlIHNob3VsZCBiZSBrZXB0IGluIHN5bmMgd2l0aCB0aGUgdHJhdmVyc2FsIGluICRkaWdlc3RcbiAgICAgICAgICAvLyAodGhvdWdoIGl0IGRpZmZlcnMgZHVlIHRvIGhhdmluZyB0aGUgZXh0cmEgY2hlY2sgZm9yICQkbGlzdGVuZXJDb3VudCBhbmRcbiAgICAgICAgICAvLyBkb2VzIG5vdCBjaGVjayAkJHN1c3BlbmRlZClcbiAgICAgICAgICBpZiAoIShuZXh0ID0gKChjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSAmJiBjdXJyZW50LiQkY2hpbGRIZWFkKSB8fFxuICAgICAgICAgICAgICAoY3VycmVudCAhPT0gdGFyZ2V0ICYmIGN1cnJlbnQuJCRuZXh0U2libGluZykpKSkge1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQgIT09IHRhcmdldCAmJiAhKG5leHQgPSBjdXJyZW50LiQkbmV4dFNpYmxpbmcpKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXZlbnQuY3VycmVudFNjb3BlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgJHJvb3RTY29wZSA9IG5ldyBTY29wZSgpO1xuXG4gICAgLy9UaGUgaW50ZXJuYWwgcXVldWVzLiBFeHBvc2UgdGhlbSBvbiB0aGUgJHJvb3RTY29wZSBmb3IgZGVidWdnaW5nL3Rlc3RpbmcgcHVycG9zZXMuXG4gICAgdmFyIGFzeW5jUXVldWUgPSAkcm9vdFNjb3BlLiQkYXN5bmNRdWV1ZSA9IFtdO1xuICAgIHZhciBwb3N0RGlnZXN0UXVldWUgPSAkcm9vdFNjb3BlLiQkcG9zdERpZ2VzdFF1ZXVlID0gW107XG4gICAgdmFyIGFwcGx5QXN5bmNRdWV1ZSA9ICRyb290U2NvcGUuJCRhcHBseUFzeW5jUXVldWUgPSBbXTtcblxuICAgIHZhciBwb3N0RGlnZXN0UXVldWVQb3NpdGlvbiA9IDA7XG5cbiAgICByZXR1cm4gJHJvb3RTY29wZTtcblxuXG4gICAgZnVuY3Rpb24gYmVnaW5QaGFzZShwaGFzZSkge1xuICAgICAgaWYgKCRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICB0aHJvdyAkcm9vdFNjb3BlTWluRXJyKCdpbnByb2cnLCAnezB9IGFscmVhZHkgaW4gcHJvZ3Jlc3MnLCAkcm9vdFNjb3BlLiQkcGhhc2UpO1xuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiQkcGhhc2UgPSBwaGFzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhclBoYXNlKCkge1xuICAgICAgJHJvb3RTY29wZS4kJHBoYXNlID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbmNyZW1lbnRXYXRjaGVyc0NvdW50KGN1cnJlbnQsIGNvdW50KSB7XG4gICAgICBkbyB7XG4gICAgICAgIGN1cnJlbnQuJCR3YXRjaGVyc0NvdW50ICs9IGNvdW50O1xuICAgICAgfSB3aGlsZSAoKGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWNyZW1lbnRMaXN0ZW5lckNvdW50KGN1cnJlbnQsIGNvdW50LCBuYW1lKSB7XG4gICAgICBkbyB7XG4gICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdIC09IGNvdW50O1xuXG4gICAgICAgIGlmIChjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSA9PT0gMCkge1xuICAgICAgICAgIGRlbGV0ZSBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXTtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAoKGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBmdW5jdGlvbiB1c2VkIGFzIGFuIGluaXRpYWwgdmFsdWUgZm9yIHdhdGNoZXJzLlxuICAgICAqIGJlY2F1c2UgaXQncyB1bmlxdWUgd2UgY2FuIGVhc2lseSB0ZWxsIGl0IGFwYXJ0IGZyb20gb3RoZXIgdmFsdWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdFdhdGNoVmFsKCkge31cblxuICAgIGZ1bmN0aW9uIGZsdXNoQXBwbHlBc3luYygpIHtcbiAgICAgIHdoaWxlIChhcHBseUFzeW5jUXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXBwbHlBc3luY1F1ZXVlLnNoaWZ0KCkoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhcHBseUFzeW5jSWQgPSBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlQXBwbHlBc3luYygpIHtcbiAgICAgIGlmIChhcHBseUFzeW5jSWQgPT09IG51bGwpIHtcbiAgICAgICAgYXBwbHlBc3luY0lkID0gJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZmx1c2hBcHBseUFzeW5jKTtcbiAgICAgICAgfSwgbnVsbCwgJyRhcHBseUFzeW5jJyk7XG4gICAgICB9XG4gICAgfVxuICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHJvb3RFbGVtZW50XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgcm9vdCBlbGVtZW50IG9mIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbi4gVGhpcyBpcyBlaXRoZXIgdGhlIGVsZW1lbnQgd2hlcmUge0BsaW5rXG4gKiBuZy5kaXJlY3RpdmU6bmdBcHAgbmdBcHB9IHdhcyBkZWNsYXJlZCBvciB0aGUgZWxlbWVudCBwYXNzZWQgaW50b1xuICoge0BsaW5rIGFuZ3VsYXIuYm9vdHN0cmFwfS4gVGhlIGVsZW1lbnQgcmVwcmVzZW50cyB0aGUgcm9vdCBlbGVtZW50IG9mIGFwcGxpY2F0aW9uLiBJdCBpcyBhbHNvIHRoZVxuICogbG9jYXRpb24gd2hlcmUgdGhlIGFwcGxpY2F0aW9uJ3Mge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0gc2VydmljZSBnZXRzXG4gKiBwdWJsaXNoZWQsIGFuZCBjYW4gYmUgcmV0cmlldmVkIHVzaW5nIGAkcm9vdEVsZW1lbnQuaW5qZWN0b3IoKWAuXG4gKi9cblxuXG4vLyB0aGUgaW1wbGVtZW50YXRpb24gaXMgaW4gYW5ndWxhci5ib290c3RyYXBcblxuLyoqXG4gKiBAdGhpc1xuICogQGRlc2NyaXB0aW9uXG4gKiBQcml2YXRlIHNlcnZpY2UgdG8gc2FuaXRpemUgdXJpcyBmb3IgbGlua3MgYW5kIGltYWdlcy4gVXNlZCBieSAkY29tcGlsZSBhbmQgJHNhbml0aXplLlxuICovXG5mdW5jdGlvbiAkJFNhbml0aXplVXJpUHJvdmlkZXIoKSB7XG5cbiAgdmFyIGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gL15cXHMqKGh0dHBzP3xzP2Z0cHxtYWlsdG98dGVsfGZpbGUpOi8sXG4gICAgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gL15cXHMqKChodHRwcz98ZnRwfGZpbGV8YmxvYik6fGRhdGE6aW1hZ2VcXC8pLztcblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmVcbiAgICogdXJscyBkdXJpbmcgYVtocmVmXSBzYW5pdGl6YXRpb24uXG4gICAqXG4gICAqIFRoZSBzYW5pdGl6YXRpb24gaXMgYSBzZWN1cml0eSBtZWFzdXJlIGFpbWVkIGF0IHByZXZlbnQgWFNTIGF0dGFja3MgdmlhIEhUTUwgYW5jaG9yIGxpbmtzLlxuICAgKlxuICAgKiBBbnkgdXJsIGR1ZSB0byBiZSBhc3NpZ25lZCB0byBhbiBgYVtocmVmXWAgYXR0cmlidXRlIHZpYSBpbnRlcnBvbGF0aW9uIGlzIG1hcmtlZCBhcyByZXF1aXJpbmdcbiAgICogdGhlICRzY2UuVVJMIHNlY3VyaXR5IGNvbnRleHQuIFdoZW4gaW50ZXJwb2xhdGlvbiBvY2N1cnMgYSBjYWxsIGlzIG1hZGUgdG8gYCRzY2UudHJ1c3RBc1VybCh1cmwpYFxuICAgKiB3aGljaCBpbiB0dXJuIG1heSBjYWxsIGAkJHNhbml0aXplVXJpKHVybCwgaXNNZWRpYSlgIHRvIHNhbml0aXplIHRoZSBwb3RlbnRpYWxseSBtYWxpY2lvdXMgVVJMLlxuICAgKlxuICAgKiBJZiB0aGUgVVJMIG1hdGNoZXMgdGhlIGBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdGAgcmVndWxhciBleHByZXNzaW9uLCBpdCBpcyByZXR1cm5lZCB1bmNoYW5nZWQuXG4gICAqXG4gICAqIElmIHRoZXJlIGlzIG5vIG1hdGNoIHRoZSBVUkwgaXMgcmV0dXJuZWQgcHJlZml4ZWQgd2l0aCBgJ3Vuc2FmZTonYCB0byBlbnN1cmUgdGhhdCB3aGVuIGl0IGlzIHdyaXR0ZW5cbiAgICogdG8gdGhlIERPTSBpdCBpcyBpbmFjdGl2ZSBhbmQgcG90ZW50aWFsbHkgbWFsaWNpb3VzIGNvZGUgd2lsbCBub3QgYmUgZXhlY3V0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC5cbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXG4gICAqL1xuICB0aGlzLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gZnVuY3Rpb24ocmVnZXhwKSB7XG4gICAgaWYgKGlzRGVmaW5lZChyZWdleHApKSB7XG4gICAgICBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IHJlZ2V4cDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q7XG4gIH07XG5cblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmVcbiAgICogdXJscyBkdXJpbmcgaW1nW3NyY10gc2FuaXRpemF0aW9uLlxuICAgKlxuICAgKiBUaGUgc2FuaXRpemF0aW9uIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSBhaW1lZCBhdCBwcmV2ZW50IFhTUyBhdHRhY2tzIHZpYSBIVE1MIGltYWdlIHNyYyBsaW5rcy5cbiAgICpcbiAgICogQW55IFVSTCBkdWUgdG8gYmUgYXNzaWduZWQgdG8gYW4gYGltZ1tzcmNdYCBhdHRyaWJ1dGUgdmlhIGludGVycG9sYXRpb24gaXMgbWFya2VkIGFzIHJlcXVpcmluZ1xuICAgKiB0aGUgJHNjZS5NRURJQV9VUkwgc2VjdXJpdHkgY29udGV4dC4gV2hlbiBpbnRlcnBvbGF0aW9uIG9jY3VycyBhIGNhbGwgaXMgbWFkZSB0b1xuICAgKiBgJHNjZS50cnVzdEFzTWVkaWFVcmwodXJsKWAgd2hpY2ggaW4gdHVybiBtYXkgY2FsbCBgJCRzYW5pdGl6ZVVyaSh1cmwsIGlzTWVkaWEpYCB0byBzYW5pdGl6ZVxuICAgKiB0aGUgcG90ZW50aWFsbHkgbWFsaWNpb3VzIFVSTC5cbiAgICpcbiAgICogSWYgdGhlIFVSTCBtYXRjaGVzIHRoZSBgYUltZ1Nhbml0aXphdGlvbldoaXRlbGlzdGAgcmVndWxhciBleHByZXNzaW9uLCBpdCBpcyByZXR1cm5lZCB1bmNoYW5nZWQuXG4gICAqXG4gICAqIElmIHRoZXJlIGlzIG5vIG1hdGNoIHRoZSBVUkwgaXMgcmV0dXJuZWQgcHJlZml4ZWQgd2l0aCBgJ3Vuc2FmZTonYCB0byBlbnN1cmUgdGhhdCB3aGVuIGl0IGlzIHdyaXR0ZW5cbiAgICogdG8gdGhlIERPTSBpdCBpcyBpbmFjdGl2ZSBhbmQgcG90ZW50aWFsbHkgbWFsaWNpb3VzIGNvZGUgd2lsbCBub3QgYmUgZXhlY3V0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC5cbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXG4gICAqL1xuICB0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xuICAgICAgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gcmVnZXhwO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3Q7XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNhbml0aXplVXJpKHVyaSwgaXNNZWRpYVVybCkge1xuICAgICAgLy8gaWYgKCF1cmkpIHJldHVybiB1cmk7XG4gICAgICB2YXIgcmVnZXggPSBpc01lZGlhVXJsID8gaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0IDogYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q7XG4gICAgICB2YXIgbm9ybWFsaXplZFZhbCA9IHVybFJlc29sdmUodXJpICYmIHVyaS50cmltKCkpLmhyZWY7XG4gICAgICBpZiAobm9ybWFsaXplZFZhbCAhPT0gJycgJiYgIW5vcm1hbGl6ZWRWYWwubWF0Y2gocmVnZXgpKSB7XG4gICAgICAgIHJldHVybiAndW5zYWZlOicgKyBub3JtYWxpemVkVmFsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVyaTtcbiAgICB9O1xuICB9O1xufVxuXG4vKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXG4gKiAgICAgQW55IGNvbW1pdHMgdG8gdGhpcyBmaWxlIHNob3VsZCBiZSByZXZpZXdlZCB3aXRoIHNlY3VyaXR5IGluIG1pbmQuICAqXG4gKiAgIENoYW5nZXMgdG8gdGhpcyBmaWxlIGNhbiBwb3RlbnRpYWxseSBjcmVhdGUgc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLiAqXG4gKiAgICAgICAgICBBbiBhcHByb3ZhbCBmcm9tIDIgQ29yZSBtZW1iZXJzIHdpdGggaGlzdG9yeSBvZiBtb2RpZnlpbmcgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGZpbGUgaXMgcmVxdWlyZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgRG9lcyB0aGUgY2hhbmdlIHNvbWVob3cgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkPyAqXG4gKiAgICBPciBhbGxvd3MgZm9yIHNvbWVvbmUgdG8gY2hhbmdlIHRoZSBwcm90b3R5cGUgb2YgYnVpbHQtaW4gb2JqZWN0cz8gICAqXG4gKiAgICAgT3IgZ2l2ZXMgdW5kZXNpcmVkIGFjY2VzcyB0byB2YXJpYWJsZXMgbGlrZXMgZG9jdW1lbnQgb3Igd2luZG93PyAgICAqXG4gKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xuXG4vKiBleHBvcnRlZCAkU2NlUHJvdmlkZXIsICRTY2VEZWxlZ2F0ZVByb3ZpZGVyICovXG5cbnZhciAkc2NlTWluRXJyID0gbWluRXJyKCckc2NlJyk7XG5cbnZhciBTQ0VfQ09OVEVYVFMgPSB7XG4gIC8vIEhUTUwgaXMgdXNlZCB3aGVuIHRoZXJlJ3MgSFRNTCByZW5kZXJlZCAoZS5nLiBuZy1iaW5kLWh0bWwsIGlmcmFtZSBzcmNkb2MgYmluZGluZykuXG4gIEhUTUw6ICdodG1sJyxcblxuICAvLyBTdHlsZSBzdGF0ZW1lbnRzIG9yIHN0eWxlc2hlZXRzLiBDdXJyZW50bHkgdW51c2VkIGluIEFuZ3VsYXJKUy5cbiAgQ1NTOiAnY3NzJyxcblxuICAvLyBBbiBVUkwgdXNlZCBpbiBhIGNvbnRleHQgd2hlcmUgaXQgcmVmZXJzIHRvIHRoZSBzb3VyY2Ugb2YgbWVkaWEsIHdoaWNoIGFyZSBub3QgZXhwZWN0ZWQgdG8gYmUgcnVuXG4gIC8vIGFzIHNjcmlwdHMsIHN1Y2ggYXMgYW4gaW1hZ2UsIGF1ZGlvLCB2aWRlbywgZXRjLlxuICBNRURJQV9VUkw6ICdtZWRpYVVybCcsXG5cbiAgLy8gQW4gVVJMIHVzZWQgaW4gYSBjb250ZXh0IHdoZXJlIGl0IGRvZXMgbm90IHJlZmVyIHRvIGEgcmVzb3VyY2UgdGhhdCBsb2FkcyBjb2RlLlxuICAvLyBBIHZhbHVlIHRoYXQgY2FuIGJlIHRydXN0ZWQgYXMgYSBVUkwgY2FuIGFsc28gdHJ1c3RlZCBhcyBhIE1FRElBX1VSTC5cbiAgVVJMOiAndXJsJyxcblxuICAvLyBSRVNPVVJDRV9VUkwgaXMgYSBzdWJ0eXBlIG9mIFVSTCB1c2VkIHdoZXJlIHRoZSByZWZlcnJlZC10byByZXNvdXJjZSBjb3VsZCBiZSBpbnRlcnByZXRlZCBhc1xuICAvLyBjb2RlLiAoZS5nLiBuZy1pbmNsdWRlLCBzY3JpcHQgc3JjIGJpbmRpbmcsIHRlbXBsYXRlVXJsKVxuICAvLyBBIHZhbHVlIHRoYXQgY2FuIGJlIHRydXN0ZWQgYXMgYSBSRVNPVVJDRV9VUkwsIGNhbiBhbHNvIHRydXN0ZWQgYXMgYSBVUkwgYW5kIGEgTUVESUFfVVJMLlxuICBSRVNPVVJDRV9VUkw6ICdyZXNvdXJjZVVybCcsXG5cbiAgLy8gU2NyaXB0LiBDdXJyZW50bHkgdW51c2VkIGluIEFuZ3VsYXJKUy5cbiAgSlM6ICdqcydcbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9sbG93LlxuXG52YXIgVU5ERVJTQ09SRV9MT1dFUkNBU0VfUkVHRVhQID0gL18oW2Etel0pL2c7XG5cbmZ1bmN0aW9uIHNuYWtlVG9DYW1lbChuYW1lKSB7XG4gIHJldHVybiBuYW1lXG4gICAgLnJlcGxhY2UoVU5ERVJTQ09SRV9MT1dFUkNBU0VfUkVHRVhQLCBmbkNhbWVsQ2FzZVJlcGxhY2UpO1xufVxuXG5mdW5jdGlvbiBhZGp1c3RNYXRjaGVyKG1hdGNoZXIpIHtcbiAgaWYgKG1hdGNoZXIgPT09ICdzZWxmJykge1xuICAgIHJldHVybiBtYXRjaGVyO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKG1hdGNoZXIpKSB7XG4gICAgLy8gU3RyaW5ncyBtYXRjaCBleGFjdGx5IGV4Y2VwdCBmb3IgMiB3aWxkY2FyZHMgLSAnKicgYW5kICcqKicuXG4gICAgLy8gJyonIG1hdGNoZXMgYW55IGNoYXJhY3RlciBleGNlcHQgdGhvc2UgZnJvbSB0aGUgc2V0ICc6Ly4/JicuXG4gICAgLy8gJyoqJyBtYXRjaGVzIGFueSBjaGFyYWN0ZXIgKGxpa2UgLiogaW4gYSBSZWdFeHApLlxuICAgIC8vIE1vcmUgdGhhbiAyIConcyByYWlzZXMgYW4gZXJyb3IgYXMgaXQncyBpbGwgZGVmaW5lZC5cbiAgICBpZiAobWF0Y2hlci5pbmRleE9mKCcqKionKSA+IC0xKSB7XG4gICAgICB0aHJvdyAkc2NlTWluRXJyKCdpd2NhcmQnLFxuICAgICAgICAgICdJbGxlZ2FsIHNlcXVlbmNlICoqKiBpbiBzdHJpbmcgbWF0Y2hlci4gIFN0cmluZzogezB9JywgbWF0Y2hlcik7XG4gICAgfVxuICAgIG1hdGNoZXIgPSBlc2NhcGVGb3JSZWdleHAobWF0Y2hlcikuXG4gICAgICAgICAgICAgICAgICByZXBsYWNlKC9cXFxcXFwqXFxcXFxcKi9nLCAnLionKS5cbiAgICAgICAgICAgICAgICAgIHJlcGxhY2UoL1xcXFxcXCovZywgJ1teOi8uPyY7XSonKTtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyBtYXRjaGVyICsgJyQnKTtcbiAgfSBlbHNlIGlmIChpc1JlZ0V4cChtYXRjaGVyKSkge1xuICAgIC8vIFRoZSBvbmx5IG90aGVyIHR5cGUgb2YgbWF0Y2hlciBhbGxvd2VkIGlzIGEgUmVnZXhwLlxuICAgIC8vIE1hdGNoIGVudGlyZSBVUkwgLyBkaXNhbGxvdyBwYXJ0aWFsIG1hdGNoZXMuXG4gICAgLy8gRmxhZ3MgYXJlIHJlc2V0IChpLmUuIG5vIGdsb2JhbCwgaWdub3JlQ2FzZSBvciBtdWx0aWxpbmUpXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgbWF0Y2hlci5zb3VyY2UgKyAnJCcpO1xuICB9IGVsc2Uge1xuICAgIHRocm93ICRzY2VNaW5FcnIoJ2ltYXRjaGVyJyxcbiAgICAgICAgJ01hdGNoZXJzIG1heSBvbmx5IGJlIFwic2VsZlwiLCBzdHJpbmcgcGF0dGVybnMgb3IgUmVnRXhwIG9iamVjdHMnKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGFkanVzdE1hdGNoZXJzKG1hdGNoZXJzKSB7XG4gIHZhciBhZGp1c3RlZE1hdGNoZXJzID0gW107XG4gIGlmIChpc0RlZmluZWQobWF0Y2hlcnMpKSB7XG4gICAgZm9yRWFjaChtYXRjaGVycywgZnVuY3Rpb24obWF0Y2hlcikge1xuICAgICAgYWRqdXN0ZWRNYXRjaGVycy5wdXNoKGFkanVzdE1hdGNoZXIobWF0Y2hlcikpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBhZGp1c3RlZE1hdGNoZXJzO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRzY2VEZWxlZ2F0ZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBgJHNjZURlbGVnYXRlYCBpcyBhIHNlcnZpY2UgdGhhdCBpcyB1c2VkIGJ5IHRoZSBgJHNjZWAgc2VydmljZSB0byBwcm92aWRlIHtAbGluayBuZy4kc2NlIFN0cmljdFxuICogQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0gc2VydmljZXMgdG8gQW5ndWxhckpTLlxuICpcbiAqIEZvciBhbiBvdmVydmlldyBvZiB0aGlzIHNlcnZpY2UgYW5kIHRoZSBmdW5jdGlvbm5hbGl0eSBpdCBwcm92aWRlcyBpbiBBbmd1bGFySlMsIHNlZSB0aGUgbWFpblxuICogcGFnZSBmb3Ige0BsaW5rIG5nLiRzY2UgU0NFfS4gVGhlIGN1cnJlbnQgcGFnZSBpcyB0YXJnZXRlZCBmb3IgZGV2ZWxvcGVycyB3aG8gbmVlZCB0byBhbHRlciBob3dcbiAqIFNDRSB3b3JrcyBpbiB0aGVpciBhcHBsaWNhdGlvbiwgd2hpY2ggc2hvdWxkbid0IGJlIG5lZWRlZCBpbiBtb3N0IGNhc2VzLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cbiAqIEFuZ3VsYXJKUyBzdHJvbmdseSByZWxpZXMgb24gY29udGV4dHVhbCBlc2NhcGluZyBmb3IgdGhlIHNlY3VyaXR5IG9mIGJpbmRpbmdzOiBkaXNhYmxpbmcgb3JcbiAqIG1vZGlmeWluZyB0aGlzIG1pZ2h0IGNhdXNlIGNyb3NzIHNpdGUgc2NyaXB0aW5nIChYU1MpIHZ1bG5lcmFiaWxpdGllcy4gRm9yIGxpYnJhcmllcyBvd25lcnMsXG4gKiBjaGFuZ2VzIHRvIHRoaXMgc2VydmljZSB3aWxsIGFsc28gaW5mbHVlbmNlIHVzZXJzLCBzbyBiZSBleHRyYSBjYXJlZnVsIGFuZCBkb2N1bWVudCB5b3VyIGNoYW5nZXMuXG4gKiA8L2Rpdj5cbiAqXG4gKiBUeXBpY2FsbHksIHlvdSB3b3VsZCBjb25maWd1cmUgb3Igb3ZlcnJpZGUgdGhlIHtAbGluayBuZy4kc2NlRGVsZWdhdGUgJHNjZURlbGVnYXRlfSBpbnN0ZWFkIG9mXG4gKiB0aGUgYCRzY2VgIHNlcnZpY2UgdG8gY3VzdG9taXplIHRoZSB3YXkgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgd29ya3MgaW4gQW5ndWxhckpTLiAgVGhpcyBpc1xuICogYmVjYXVzZSwgd2hpbGUgdGhlIGAkc2NlYCBwcm92aWRlcyBudW1lcm91cyBzaG9ydGhhbmQgbWV0aG9kcywgZXRjLiwgeW91IHJlYWxseSBvbmx5IG5lZWQgdG9cbiAqIG92ZXJyaWRlIDMgY29yZSBmdW5jdGlvbnMgKGB0cnVzdEFzYCwgYGdldFRydXN0ZWRgIGFuZCBgdmFsdWVPZmApIHRvIHJlcGxhY2UgdGhlIHdheSB0aGluZ3NcbiAqIHdvcmsgYmVjYXVzZSBgJHNjZWAgZGVsZWdhdGVzIHRvIGAkc2NlRGVsZWdhdGVgIGZvciB0aGVzZSBvcGVyYXRpb25zLlxuICpcbiAqIFJlZmVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciAkc2NlRGVsZWdhdGVQcm92aWRlcn0gdG8gY29uZmlndXJlIHRoaXMgc2VydmljZS5cbiAqXG4gKiBUaGUgZGVmYXVsdCBpbnN0YW5jZSBvZiBgJHNjZURlbGVnYXRlYCBzaG91bGQgd29yayBvdXQgb2YgdGhlIGJveCB3aXRoIGxpdHRsZSBwYWluLiAgV2hpbGUgeW91XG4gKiBjYW4gb3ZlcnJpZGUgaXQgY29tcGxldGVseSB0byBjaGFuZ2UgdGhlIGJlaGF2aW9yIG9mIGAkc2NlYCwgdGhlIGNvbW1vbiBjYXNlIHdvdWxkXG4gKiBpbnZvbHZlIGNvbmZpZ3VyaW5nIHRoZSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIgJHNjZURlbGVnYXRlUHJvdmlkZXJ9IGluc3RlYWQgYnkgc2V0dGluZ1xuICogeW91ciBvd24gd2hpdGVsaXN0cyBhbmQgYmxhY2tsaXN0cyBmb3IgdHJ1c3RpbmcgVVJMcyB1c2VkIGZvciBsb2FkaW5nIEFuZ3VsYXJKUyByZXNvdXJjZXMgc3VjaCBhc1xuICogdGVtcGxhdGVzLiAgUmVmZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0XG4gKiAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybFdoaXRlbGlzdH0gYW5kIHtAbGlua1xuICogbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxCbGFja2xpc3QgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxCbGFja2xpc3R9XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRzY2VEZWxlZ2F0ZVByb3ZpZGVyXG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSBgJHNjZURlbGVnYXRlUHJvdmlkZXJgIHByb3ZpZGVyIGFsbG93cyBkZXZlbG9wZXJzIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVxuICogJHNjZURlbGVnYXRlIHNlcnZpY2V9LCB1c2VkIGFzIGEgZGVsZWdhdGUgZm9yIHtAbGluayBuZy4kc2NlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS5cbiAqXG4gKiBUaGUgYCRzY2VEZWxlZ2F0ZVByb3ZpZGVyYCBhbGxvd3Mgb25lIHRvIGdldC9zZXQgdGhlIHdoaXRlbGlzdHMgYW5kIGJsYWNrbGlzdHMgdXNlZCB0byBlbnN1cmVcbiAqIHRoYXQgdGhlIFVSTHMgdXNlZCBmb3Igc291cmNpbmcgQW5ndWxhckpTIHRlbXBsYXRlcyBhbmQgb3RoZXIgc2NyaXB0LXJ1bm5pbmcgVVJMcyBhcmUgc2FmZSAoYWxsXG4gKiBwbGFjZXMgdGhhdCB1c2UgdGhlIGAkc2NlLlJFU09VUkNFX1VSTGAgY29udGV4dCkuIFNlZVxuICoge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0fVxuICogYW5kXG4gKiB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxCbGFja2xpc3QgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxCbGFja2xpc3R9LFxuICpcbiAqIEZvciB0aGUgZ2VuZXJhbCBkZXRhaWxzIGFib3V0IHRoaXMgc2VydmljZSBpbiBBbmd1bGFySlMsIHJlYWQgdGhlIG1haW4gcGFnZSBmb3Ige0BsaW5rIG5nLiRzY2VcbiAqIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS5cbiAqXG4gKiAqKkV4YW1wbGUqKjogIENvbnNpZGVyIHRoZSBmb2xsb3dpbmcgY2FzZS4gPGEgbmFtZT1cImV4YW1wbGVcIj48L2E+XG4gKlxuICogLSB5b3VyIGFwcCBpcyBob3N0ZWQgYXQgdXJsIGBodHRwOi8vbXlhcHAuZXhhbXBsZS5jb20vYFxuICogLSBidXQgc29tZSBvZiB5b3VyIHRlbXBsYXRlcyBhcmUgaG9zdGVkIG9uIG90aGVyIGRvbWFpbnMgeW91IGNvbnRyb2wgc3VjaCBhc1xuICogICBgaHR0cDovL3NydjAxLmFzc2V0cy5leGFtcGxlLmNvbS9gLCBgaHR0cDovL3NydjAyLmFzc2V0cy5leGFtcGxlLmNvbS9gLCBldGMuXG4gKiAtIGFuZCB5b3UgaGF2ZSBhbiBvcGVuIHJlZGlyZWN0IGF0IGBodHRwOi8vbXlhcHAuZXhhbXBsZS5jb20vY2xpY2tUaHJ1Py4uLmAuXG4gKlxuICogSGVyZSBpcyB3aGF0IGEgc2VjdXJlIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgc2NlbmFyaW8gbWlnaHQgbG9vayBsaWtlOlxuICpcbiAqIGBgYFxuICogIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKS5jb25maWcoZnVuY3Rpb24oJHNjZURlbGVnYXRlUHJvdmlkZXIpIHtcbiAqICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0KFtcbiAqICAgICAgLy8gQWxsb3cgc2FtZSBvcmlnaW4gcmVzb3VyY2UgbG9hZHMuXG4gKiAgICAgICdzZWxmJyxcbiAqICAgICAgLy8gQWxsb3cgbG9hZGluZyBmcm9tIG91ciBhc3NldHMgZG9tYWluLiAgTm90aWNlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gKiBhbmQgKiouXG4gKiAgICAgICdodHRwOi8vc3J2Ki5hc3NldHMuZXhhbXBsZS5jb20vKionXG4gKiAgICBdKTtcbiAqXG4gKiAgICAvLyBUaGUgYmxhY2tsaXN0IG92ZXJyaWRlcyB0aGUgd2hpdGVsaXN0IHNvIHRoZSBvcGVuIHJlZGlyZWN0IGhlcmUgaXMgYmxvY2tlZC5cbiAqICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0KFtcbiAqICAgICAgJ2h0dHA6Ly9teWFwcC5leGFtcGxlLmNvbS9jbGlja1RocnUqKidcbiAqICAgIF0pO1xuICogIH0pO1xuICogYGBgXG4gKiBOb3RlIHRoYXQgYW4gZW1wdHkgd2hpdGVsaXN0IHdpbGwgYmxvY2sgZXZlcnkgcmVzb3VyY2UgVVJMIGZyb20gYmVpbmcgbG9hZGVkLCBhbmQgd2lsbCByZXF1aXJlXG4gKiB5b3UgdG8gbWFudWFsbHkgbWFyayBlYWNoIG9uZSBhcyB0cnVzdGVkIHdpdGggYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsYC4gSG93ZXZlciwgdGVtcGxhdGVzXG4gKiByZXF1ZXN0ZWQgYnkge0BsaW5rIG5nLiR0ZW1wbGF0ZVJlcXVlc3QgJHRlbXBsYXRlUmVxdWVzdH0gdGhhdCBhcmUgcHJlc2VudCBpblxuICoge0BsaW5rIG5nLiR0ZW1wbGF0ZUNhY2hlICR0ZW1wbGF0ZUNhY2hlfSB3aWxsIG5vdCBnbyB0aHJvdWdoIHRoaXMgY2hlY2suIElmIHlvdSBoYXZlIGEgbWVjaGFuaXNtXG4gKiB0byBwb3B1bGF0ZSB5b3VyIHRlbXBsYXRlcyBpbiB0aGF0IGNhY2hlIGF0IGNvbmZpZyB0aW1lLCB0aGVuIGl0IGlzIGEgZ29vZCBpZGVhIHRvIHJlbW92ZSAnc2VsZidcbiAqIGZyb20gdGhhdCB3aGl0ZWxpc3QuIFRoaXMgaGVscHMgdG8gbWl0aWdhdGUgdGhlIHNlY3VyaXR5IGltcGFjdCBvZiBjZXJ0YWluIHR5cGVzIG9mIGlzc3VlcywgbGlrZVxuICogZm9yIGluc3RhbmNlIGF0dGFja2VyLWNvbnRyb2xsZWQgYG5nLWluY2x1ZGVzYC5cbiAqL1xuXG5mdW5jdGlvbiAkU2NlRGVsZWdhdGVQcm92aWRlcigpIHtcbiAgdGhpcy5TQ0VfQ09OVEVYVFMgPSBTQ0VfQ09OVEVYVFM7XG5cbiAgLy8gUmVzb3VyY2UgVVJMcyBjYW4gYWxzbyBiZSB0cnVzdGVkIGJ5IHBvbGljeS5cbiAgdmFyIHJlc291cmNlVXJsV2hpdGVsaXN0ID0gWydzZWxmJ10sXG4gICAgICByZXNvdXJjZVVybEJsYWNrbGlzdCA9IFtdO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0XG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk9fSB3aGl0ZWxpc3QgV2hlbiBwcm92aWRlZCwgcmVwbGFjZXMgdGhlIHJlc291cmNlVXJsV2hpdGVsaXN0IHdpdGggdGhlIHZhbHVlXG4gICAqICAgICBwcm92aWRlZC4gIFRoaXMgbXVzdCBiZSBhbiBhcnJheSBvciBudWxsLiAgQSBzbmFwc2hvdCBvZiB0aGlzIGFycmF5IGlzIHVzZWQgc28gZnVydGhlclxuICAgKiAgICAgY2hhbmdlcyB0byB0aGUgYXJyYXkgYXJlIGlnbm9yZWQuXG4gICAqICAgICBGb2xsb3cge0BsaW5rIG5nLiRzY2UjcmVzb3VyY2VVcmxQYXR0ZXJuSXRlbSB0aGlzIGxpbmt9IGZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBpdGVtc1xuICAgKiAgICAgYWxsb3dlZCBpbiB0aGlzIGFycmF5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIGN1cnJlbnRseSBzZXQgd2hpdGVsaXN0IGFycmF5LlxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cy9HZXRzIHRoZSB3aGl0ZWxpc3Qgb2YgdHJ1c3RlZCByZXNvdXJjZSBVUkxzLlxuICAgKlxuICAgKiBUaGUgKipkZWZhdWx0IHZhbHVlKiogd2hlbiBubyB3aGl0ZWxpc3QgaGFzIGJlZW4gZXhwbGljaXRseSBzZXQgaXMgYFsnc2VsZiddYCBhbGxvd2luZyBvbmx5XG4gICAqIHNhbWUgb3JpZ2luIHJlc291cmNlIHJlcXVlc3RzLlxuICAgKlxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgKiAqKk5vdGU6KiogdGhlIGRlZmF1bHQgd2hpdGVsaXN0IG9mICdzZWxmJyBpcyBub3QgcmVjb21tZW5kZWQgaWYgeW91ciBhcHAgc2hhcmVzIGl0cyBvcmlnaW5cbiAgICogd2l0aCBvdGhlciBhcHBzISBJdCBpcyBhIGdvb2QgaWRlYSB0byBsaW1pdCBpdCB0byBvbmx5IHlvdXIgYXBwbGljYXRpb24ncyBkaXJlY3RvcnkuXG4gICAqIDwvZGl2PlxuICAgKi9cbiAgdGhpcy5yZXNvdXJjZVVybFdoaXRlbGlzdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJlc291cmNlVXJsV2hpdGVsaXN0ID0gYWRqdXN0TWF0Y2hlcnModmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzb3VyY2VVcmxXaGl0ZWxpc3Q7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxCbGFja2xpc3RcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheT19IGJsYWNrbGlzdCBXaGVuIHByb3ZpZGVkLCByZXBsYWNlcyB0aGUgcmVzb3VyY2VVcmxCbGFja2xpc3Qgd2l0aCB0aGUgdmFsdWVcbiAgICogICAgIHByb3ZpZGVkLiAgVGhpcyBtdXN0IGJlIGFuIGFycmF5IG9yIG51bGwuICBBIHNuYXBzaG90IG9mIHRoaXMgYXJyYXkgaXMgdXNlZCBzbyBmdXJ0aGVyXG4gICAqICAgICBjaGFuZ2VzIHRvIHRoZSBhcnJheSBhcmUgaWdub3JlZC48L3A+PHA+XG4gICAqICAgICBGb2xsb3cge0BsaW5rIG5nLiRzY2UjcmVzb3VyY2VVcmxQYXR0ZXJuSXRlbSB0aGlzIGxpbmt9IGZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBpdGVtc1xuICAgKiAgICAgYWxsb3dlZCBpbiB0aGlzIGFycmF5LjwvcD48cD5cbiAgICogICAgIFRoZSB0eXBpY2FsIHVzYWdlIGZvciB0aGUgYmxhY2tsaXN0IGlzIHRvICoqYmxvY2tcbiAgICogICAgIFtvcGVuIHJlZGlyZWN0c10oaHR0cDovL2N3ZS5taXRyZS5vcmcvZGF0YS9kZWZpbml0aW9ucy82MDEuaHRtbCkqKiBzZXJ2ZWQgYnkgeW91ciBkb21haW4gYXNcbiAgICogICAgIHRoZXNlIHdvdWxkIG90aGVyd2lzZSBiZSB0cnVzdGVkIGJ1dCBhY3R1YWxseSByZXR1cm4gY29udGVudCBmcm9tIHRoZSByZWRpcmVjdGVkIGRvbWFpbi5cbiAgICogICAgIDwvcD48cD5cbiAgICogICAgIEZpbmFsbHksICoqdGhlIGJsYWNrbGlzdCBvdmVycmlkZXMgdGhlIHdoaXRlbGlzdCoqIGFuZCBoYXMgdGhlIGZpbmFsIHNheS5cbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9IFRoZSBjdXJyZW50bHkgc2V0IGJsYWNrbGlzdCBhcnJheS5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMvR2V0cyB0aGUgYmxhY2tsaXN0IG9mIHRydXN0ZWQgcmVzb3VyY2UgVVJMcy5cbiAgICpcbiAgICogVGhlICoqZGVmYXVsdCB2YWx1ZSoqIHdoZW4gbm8gd2hpdGVsaXN0IGhhcyBiZWVuIGV4cGxpY2l0bHkgc2V0IGlzIHRoZSBlbXB0eSBhcnJheSAoaS5lLiB0aGVyZVxuICAgKiBpcyBubyBibGFja2xpc3QuKVxuICAgKi9cblxuICB0aGlzLnJlc291cmNlVXJsQmxhY2tsaXN0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgcmVzb3VyY2VVcmxCbGFja2xpc3QgPSBhZGp1c3RNYXRjaGVycyh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXNvdXJjZVVybEJsYWNrbGlzdDtcbiAgfTtcblxuICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsICckJHNhbml0aXplVXJpJywgZnVuY3Rpb24oJGluamVjdG9yLCAkJHNhbml0aXplVXJpKSB7XG5cbiAgICB2YXIgaHRtbFNhbml0aXplciA9IGZ1bmN0aW9uIGh0bWxTYW5pdGl6ZXIoaHRtbCkge1xuICAgICAgdGhyb3cgJHNjZU1pbkVycigndW5zYWZlJywgJ0F0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4nKTtcbiAgICB9O1xuXG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRzYW5pdGl6ZScpKSB7XG4gICAgICBodG1sU2FuaXRpemVyID0gJGluamVjdG9yLmdldCgnJHNhbml0aXplJyk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBtYXRjaFVybChtYXRjaGVyLCBwYXJzZWRVcmwpIHtcbiAgICAgIGlmIChtYXRjaGVyID09PSAnc2VsZicpIHtcbiAgICAgICAgcmV0dXJuIHVybElzU2FtZU9yaWdpbihwYXJzZWRVcmwpIHx8IHVybElzU2FtZU9yaWdpbkFzQmFzZVVybChwYXJzZWRVcmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZGVmaW5pdGVseSBhIHJlZ2V4LiAgU2VlIGFkanVzdE1hdGNoZXJzKClcbiAgICAgICAgcmV0dXJuICEhbWF0Y2hlci5leGVjKHBhcnNlZFVybC5ocmVmKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1Jlc291cmNlVXJsQWxsb3dlZEJ5UG9saWN5KHVybCkge1xuICAgICAgdmFyIHBhcnNlZFVybCA9IHVybFJlc29sdmUodXJsLnRvU3RyaW5nKCkpO1xuICAgICAgdmFyIGksIG4sIGFsbG93ZWQgPSBmYWxzZTtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGF0IGxlYXN0IG9uZSBpdGVtIGZyb20gdGhlIHdoaXRlbGlzdCBhbGxvd3MgdGhpcyB1cmwuXG4gICAgICBmb3IgKGkgPSAwLCBuID0gcmVzb3VyY2VVcmxXaGl0ZWxpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIGlmIChtYXRjaFVybChyZXNvdXJjZVVybFdoaXRlbGlzdFtpXSwgcGFyc2VkVXJsKSkge1xuICAgICAgICAgIGFsbG93ZWQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYWxsb3dlZCkge1xuICAgICAgICAvLyBFbnN1cmUgdGhhdCBubyBpdGVtIGZyb20gdGhlIGJsYWNrbGlzdCBibG9ja2VkIHRoaXMgdXJsLlxuICAgICAgICBmb3IgKGkgPSAwLCBuID0gcmVzb3VyY2VVcmxCbGFja2xpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgaWYgKG1hdGNoVXJsKHJlc291cmNlVXJsQmxhY2tsaXN0W2ldLCBwYXJzZWRVcmwpKSB7XG4gICAgICAgICAgICBhbGxvd2VkID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhbGxvd2VkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlSG9sZGVyVHlwZShCYXNlKSB7XG4gICAgICB2YXIgaG9sZGVyVHlwZSA9IGZ1bmN0aW9uIFRydXN0ZWRWYWx1ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlKSB7XG4gICAgICAgIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1c3RlZFZhbHVlO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIGlmIChCYXNlKSB7XG4gICAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlID0gbmV3IEJhc2UoKTtcbiAgICAgIH1cbiAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiBzY2VWYWx1ZU9mKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xuICAgICAgfTtcbiAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gc2NlVG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCkudG9TdHJpbmcoKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gaG9sZGVyVHlwZTtcbiAgICB9XG5cbiAgICB2YXIgdHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSA9IGdlbmVyYXRlSG9sZGVyVHlwZSgpLFxuICAgICAgICBieVR5cGUgPSB7fTtcblxuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuSFRNTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7XG4gICAgYnlUeXBlW1NDRV9DT05URVhUUy5DU1NdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpO1xuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuTUVESUFfVVJMXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLlVSTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUoYnlUeXBlW1NDRV9DT05URVhUUy5NRURJQV9VUkxdKTtcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLkpTXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLlJFU09VUkNFX1VSTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUoYnlUeXBlW1NDRV9DT05URVhUUy5VUkxdKTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlRGVsZWdhdGUjdHJ1c3RBc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhIHRydXN0ZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBhcmFtZXRlciBmb3IgdGhlIHNwZWNpZmllZCBjb250ZXh0LiBUaGlzIHRydXN0ZWRcbiAgICAgKiBvYmplY3Qgd2lsbCBsYXRlciBvbiBiZSB1c2VkIGFzLWlzLCB3aXRob3V0IGFueSBzZWN1cml0eSBjaGVjaywgYnkgYmluZGluZ3Mgb3IgZGlyZWN0aXZlc1xuICAgICAqIHRoYXQgcmVxdWlyZSB0aGlzIHNlY3VyaXR5IGNvbnRleHQuXG4gICAgICogRm9yIGluc3RhbmNlLCBtYXJraW5nIGEgc3RyaW5nIGFzIHRydXN0ZWQgZm9yIHRoZSBgJHNjZS5IVE1MYCBjb250ZXh0IHdpbGwgZW50aXJlbHkgYnlwYXNzXG4gICAgICogdGhlIHBvdGVudGlhbCBgJHNhbml0aXplYCBjYWxsIGluIGNvcnJlc3BvbmRpbmcgYCRzY2UuSFRNTGAgYmluZGluZ3Mgb3IgZGlyZWN0aXZlcywgc3VjaCBhc1xuICAgICAqIGBuZy1iaW5kLWh0bWxgLiBOb3RlIHRoYXQgaW4gbW9zdCBjYXNlcyB5b3Ugd29uJ3QgbmVlZCB0byBjYWxsIHRoaXMgZnVuY3Rpb246IGlmIHlvdSBoYXZlIHRoZVxuICAgICAqIHNhbml0aXplciBsb2FkZWQsIHBhc3NpbmcgdGhlIHZhbHVlIGl0c2VsZiB3aWxsIHJlbmRlciBhbGwgdGhlIEhUTUwgdGhhdCBkb2VzIG5vdCBwb3NlIGFcbiAgICAgKiBzZWN1cml0eSByaXNrLlxuICAgICAqXG4gICAgICogU2VlIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBnZXRUcnVzdGVkfSBmb3IgdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBjb25zdW1lIHRob3NlXG4gICAgICogdHJ1c3RlZCB2YWx1ZXMsIGFuZCB7QGxpbmsgbmcuJHNjZSAkc2NlfSBmb3IgZ2VuZXJhbCBkb2N1bWVudGF0aW9uIGFib3V0IHN0cmljdCBjb250ZXh0dWFsXG4gICAgICogZXNjYXBpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgY29udGV4dCBpbiB3aGljaCB0aGlzIHZhbHVlIGlzIHNhZmUgZm9yIHVzZSwgZS5nLiBgJHNjZS5VUkxgLFxuICAgICAqICAgICBgJHNjZS5SRVNPVVJDRV9VUkxgLCBgJHNjZS5IVE1MYCwgYCRzY2UuSlNgIG9yIGAkc2NlLkNTU2AuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0aGF0IHNob3VsZCBiZSBjb25zaWRlcmVkIHRydXN0ZWQuXG4gICAgICogQHJldHVybiB7Kn0gQSB0cnVzdGVkIHJlcHJlc2VudGF0aW9uIG9mIHZhbHVlLCB0aGF0IGNhbiBiZSB1c2VkIGluIHRoZSBnaXZlbiBjb250ZXh0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRydXN0QXModHlwZSwgdHJ1c3RlZFZhbHVlKSB7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSAoYnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpID8gYnlUeXBlW3R5cGVdIDogbnVsbCk7XG4gICAgICBpZiAoIUNvbnN0cnVjdG9yKSB7XG4gICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2ljb250ZXh0JyxcbiAgICAgICAgICAgICdBdHRlbXB0ZWQgdG8gdHJ1c3QgYSB2YWx1ZSBpbiBpbnZhbGlkIGNvbnRleHQuIENvbnRleHQ6IHswfTsgVmFsdWU6IHsxfScsXG4gICAgICAgICAgICB0eXBlLCB0cnVzdGVkVmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHRydXN0ZWRWYWx1ZSA9PT0gbnVsbCB8fCBpc1VuZGVmaW5lZCh0cnVzdGVkVmFsdWUpIHx8IHRydXN0ZWRWYWx1ZSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIHRydXN0ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIC8vIEFsbCB0aGUgY3VycmVudCBjb250ZXh0cyBpbiBTQ0VfQ09OVEVYVFMgaGFwcGVuIHRvIGJlIHN0cmluZ3MuICBJbiBvcmRlciB0byBhdm9pZCB0cnVzdGluZ1xuICAgICAgLy8gbXV0YWJsZSBvYmplY3RzLCB3ZSBlbnN1cmUgaGVyZSB0aGF0IHRoZSB2YWx1ZSBwYXNzZWQgaW4gaXMgYWN0dWFsbHkgYSBzdHJpbmcuXG4gICAgICBpZiAodHlwZW9mIHRydXN0ZWRWYWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgJHNjZU1pbkVycignaXR5cGUnLFxuICAgICAgICAgICAgJ0F0dGVtcHRlZCB0byB0cnVzdCBhIG5vbi1zdHJpbmcgdmFsdWUgaW4gYSBjb250ZW50IHJlcXVpcmluZyBhIHN0cmluZzogQ29udGV4dDogezB9JyxcbiAgICAgICAgICAgIHR5cGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0cnVzdGVkVmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlRGVsZWdhdGUjdmFsdWVPZlxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogSWYgdGhlIHBhc3NlZCBwYXJhbWV0ZXIgaGFkIGJlZW4gcmV0dXJuZWQgYnkgYSBwcmlvciBjYWxsIHRvIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBc1xuICAgICAqIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LCByZXR1cm5zIHRoZSB2YWx1ZSB0aGF0IGhhZCBiZWVuIHBhc3NlZCB0byB7QGxpbmtcbiAgICAgKiBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXNgfS5cbiAgICAgKlxuICAgICAqIElmIHRoZSBwYXNzZWQgcGFyYW1ldGVyIGlzIG5vdCBhIHZhbHVlIHRoYXQgaGFkIGJlZW4gcmV0dXJuZWQgYnkge0BsaW5rXG4gICAgICogbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0sIGl0IG11c3QgYmUgcmV0dXJuZWQgYXMtaXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSByZXN1bHQgb2YgYSBwcmlvciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH1cbiAgICAgKiAgICAgY2FsbCBvciBhbnl0aGluZyBlbHNlLlxuICAgICAqIEByZXR1cm4geyp9IFRoZSBgdmFsdWVgIHRoYXQgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGlmIGB2YWx1ZWAgaXMgdGhlIHJlc3VsdCBvZiBzdWNoIGEgY2FsbC4gIE90aGVyd2lzZSwgcmV0dXJuc1xuICAgICAqICAgICBgdmFsdWVgIHVuY2hhbmdlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZU9mKG1heWJlVHJ1c3RlZCkge1xuICAgICAgaWYgKG1heWJlVHJ1c3RlZCBpbnN0YW5jZW9mIHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZC4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZURlbGVnYXRlI2dldFRydXN0ZWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEdpdmVuIGFuIG9iamVjdCBhbmQgYSBzZWN1cml0eSBjb250ZXh0IGluIHdoaWNoIHRvIGFzc2lnbiBpdCwgcmV0dXJucyBhIHZhbHVlIHRoYXQncyBzYWZlIHRvXG4gICAgICogdXNlIGluIHRoaXMgY29udGV4dCwgd2hpY2ggd2FzIHJlcHJlc2VudGVkIGJ5IHRoZSBwYXJhbWV0ZXIuIFRvIGRvIHNvLCB0aGlzIGZ1bmN0aW9uIGVpdGhlclxuICAgICAqIHVud3JhcHMgdGhlIHNhZmUgdHlwZSBpdCBoYXMgYmVlbiBnaXZlbiAoZm9yIGluc3RhbmNlLCBhIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBc1xuICAgICAqIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IHJlc3VsdCksIG9yIGl0IG1pZ2h0IHRyeSB0byBzYW5pdGl6ZSB0aGUgdmFsdWUgZ2l2ZW4sIGRlcGVuZGluZyBvblxuICAgICAqIHRoZSBjb250ZXh0IGFuZCBzYW5pdGl6ZXIgYXZhaWxhYmxpbGl0eS5cbiAgICAgKlxuICAgICAqIFRoZSBjb250ZXh0cyB0aGF0IGNhbiBiZSBzYW5pdGl6ZWQgYXJlICRzY2UuTUVESUFfVVJMLCAkc2NlLlVSTCBhbmQgJHNjZS5IVE1MLiBUaGUgZmlyc3QgdHdvIGFyZSBhdmFpbGFibGVcbiAgICAgKiBieSBkZWZhdWx0LCBhbmQgdGhlIHRoaXJkIG9uZSByZWxpZXMgb24gdGhlIGAkc2FuaXRpemVgIHNlcnZpY2UgKHdoaWNoIG1heSBiZSBsb2FkZWQgdGhyb3VnaFxuICAgICAqIHRoZSBgbmdTYW5pdGl6ZWAgbW9kdWxlKS4gRnVydGhlcm1vcmUsIGZvciAkc2NlLlJFU09VUkNFX1VSTCBjb250ZXh0LCBhIHBsYWluIHN0cmluZyBtYXkgYmVcbiAgICAgKiBhY2NlcHRlZCBpZiB0aGUgcmVzb3VyY2UgdXJsIHBvbGljeSBkZWZpbmVkIGJ5IHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdFxuICAgICAqIGAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybFdoaXRlbGlzdGB9IGFuZCB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxCbGFja2xpc3RcbiAgICAgKiBgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxCbGFja2xpc3RgfSBhY2NlcHRzIHRoYXQgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgdGhyb3cgaWYgdGhlIHNhZmUgdHlwZSBpc24ndCBhcHByb3ByaWF0ZSBmb3IgdGhpcyBjb250ZXh0LCBvciBpZiB0aGVcbiAgICAgKiB2YWx1ZSBnaXZlbiBjYW5ub3QgYmUgYWNjZXB0ZWQgaW4gdGhlIGNvbnRleHQgKHdoaWNoIG1pZ2h0IGJlIGNhdXNlZCBieSBzYW5pdGl6YXRpb24gbm90XG4gICAgICogYmVpbmcgYXZhaWxhYmxlLCBvciB0aGUgdmFsdWUgbm90IGJlaW5nIHJlY29nbml6ZWQgYXMgc2FmZSkuXG4gICAgICpcbiAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XG4gICAgICogRGlzYWJsaW5nIGF1dG8tZXNjYXBpbmcgaXMgZXh0cmVtZWx5IGRhbmdlcm91cywgaXQgdXN1YWxseSBjcmVhdGVzIGEgQ3Jvc3MgU2l0ZSBTY3JpcHRpbmdcbiAgICAgKiAoWFNTKSB2dWxuZXJhYmlsaXR5IGluIHlvdXIgYXBwbGljYXRpb24uXG4gICAgICogPC9kaXY+XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgY29udGV4dCBpbiB3aGljaCB0aGlzIHZhbHVlIGlzIHRvIGJlIHVzZWQgKHN1Y2ggYXMgYCRzY2UuSFRNTGApLlxuICAgICAqIEBwYXJhbSB7Kn0gbWF5YmVUcnVzdGVkIFRoZSByZXN1bHQgb2YgYSBwcmlvciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXNcbiAgICAgKiAgICAgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0gY2FsbCwgb3IgYW55dGhpbmcgZWxzZSAod2hpY2ggd2lsbCBub3QgYmUgY29uc2lkZXJlZCB0cnVzdGVkLilcbiAgICAgKiBAcmV0dXJuIHsqfSBBIHZlcnNpb24gb2YgdGhlIHZhbHVlIHRoYXQncyBzYWZlIHRvIHVzZSBpbiB0aGUgZ2l2ZW4gY29udGV4dCwgb3IgdGhyb3dzIGFuXG4gICAgICogICAgIGV4Y2VwdGlvbiBpZiB0aGlzIGlzIGltcG9zc2libGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VHJ1c3RlZCh0eXBlLCBtYXliZVRydXN0ZWQpIHtcbiAgICAgIGlmIChtYXliZVRydXN0ZWQgPT09IG51bGwgfHwgaXNVbmRlZmluZWQobWF5YmVUcnVzdGVkKSB8fCBtYXliZVRydXN0ZWQgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQ7XG4gICAgICB9XG4gICAgICB2YXIgY29uc3RydWN0b3IgPSAoYnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpID8gYnlUeXBlW3R5cGVdIDogbnVsbCk7XG4gICAgICAvLyBJZiBtYXliZVRydXN0ZWQgaXMgYSB0cnVzdGVkIGNsYXNzIGluc3RhbmNlIG9yIHN1YmNsYXNzIGluc3RhbmNlLCB0aGVuIHVud3JhcCBhbmQgcmV0dXJuXG4gICAgICAvLyBhcy1pcy5cbiAgICAgIGlmIChjb25zdHJ1Y3RvciAmJiBtYXliZVRydXN0ZWQgaW5zdGFuY2VvZiBjb25zdHJ1Y3Rvcikge1xuICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIG1heWJlVHJ1c3RlZCBpcyBhIHRydXN0ZWQgY2xhc3MgaW5zdGFuY2UgYnV0IG5vdCBvZiB0aGUgY29ycmVjdCB0cnVzdGVkIHR5cGVcbiAgICAgIC8vIHRoZW4gdW53cmFwIGl0IGFuZCBhbGxvdyBpdCB0byBwYXNzIHRocm91Z2ggdG8gdGhlIHJlc3Qgb2YgdGhlIGNoZWNrc1xuICAgICAgaWYgKGlzRnVuY3Rpb24obWF5YmVUcnVzdGVkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKSkge1xuICAgICAgICBtYXliZVRydXN0ZWQgPSBtYXliZVRydXN0ZWQuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UgZ2V0IGhlcmUsIHRoZW4gd2Ugd2lsbCBlaXRoZXIgc2FuaXRpemUgdGhlIHZhbHVlIG9yIHRocm93IGFuIGV4Y2VwdGlvbi5cbiAgICAgIGlmICh0eXBlID09PSBTQ0VfQ09OVEVYVFMuTUVESUFfVVJMIHx8IHR5cGUgPT09IFNDRV9DT05URVhUUy5VUkwpIHtcbiAgICAgICAgLy8gd2UgYXR0ZW1wdCB0byBzYW5pdGl6ZSBub24tcmVzb3VyY2UgVVJMc1xuICAgICAgICByZXR1cm4gJCRzYW5pdGl6ZVVyaShtYXliZVRydXN0ZWQudG9TdHJpbmcoKSwgdHlwZSA9PT0gU0NFX0NPTlRFWFRTLk1FRElBX1VSTCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFNDRV9DT05URVhUUy5SRVNPVVJDRV9VUkwpIHtcbiAgICAgICAgaWYgKGlzUmVzb3VyY2VVcmxBbGxvd2VkQnlQb2xpY3kobWF5YmVUcnVzdGVkKSkge1xuICAgICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgJHNjZU1pbkVycignaW5zZWN1cmwnLFxuICAgICAgICAgICAgICAnQmxvY2tlZCBsb2FkaW5nIHJlc291cmNlIGZyb20gdXJsIG5vdCBhbGxvd2VkIGJ5ICRzY2VEZWxlZ2F0ZSBwb2xpY3kuICBVUkw6IHswfScsXG4gICAgICAgICAgICAgIG1heWJlVHJ1c3RlZC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBTQ0VfQ09OVEVYVFMuSFRNTCkge1xuICAgICAgICAvLyBodG1sU2FuaXRpemVyIHRocm93cyBpdHMgb3duIGVycm9yIHdoZW4gbm8gc2FuaXRpemVyIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgcmV0dXJuIGh0bWxTYW5pdGl6ZXIobWF5YmVUcnVzdGVkKTtcbiAgICAgIH1cbiAgICAgIC8vIERlZmF1bHQgZXJyb3Igd2hlbiB0aGUgJHNjZSBzZXJ2aWNlIGhhcyBubyB3YXkgdG8gbWFrZSB0aGUgaW5wdXQgc2FmZS5cbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ3Vuc2FmZScsICdBdHRlbXB0aW5nIHRvIHVzZSBhbiB1bnNhZmUgdmFsdWUgaW4gYSBzYWZlIGNvbnRleHQuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgdHJ1c3RBczogdHJ1c3RBcyxcbiAgICAgICAgICAgICBnZXRUcnVzdGVkOiBnZXRUcnVzdGVkLFxuICAgICAgICAgICAgIHZhbHVlT2Y6IHZhbHVlT2YgfTtcbiAgfV07XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRzY2VQcm92aWRlclxuICogQHRoaXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGUgJHNjZVByb3ZpZGVyIHByb3ZpZGVyIGFsbG93cyBkZXZlbG9wZXJzIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIG5nLiRzY2UgJHNjZX0gc2VydmljZS5cbiAqIC0gICBlbmFibGUvZGlzYWJsZSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKSBpbiBhIG1vZHVsZVxuICogLSAgIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHdpdGggYSBjdXN0b20gZGVsZWdhdGVcbiAqXG4gKiBSZWFkIG1vcmUgYWJvdXQge0BsaW5rIG5nLiRzY2UgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSl9LlxuICovXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRzY2VcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogYCRzY2VgIGlzIGEgc2VydmljZSB0aGF0IHByb3ZpZGVzIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIHNlcnZpY2VzIHRvIEFuZ3VsYXJKUy5cbiAqXG4gKiAjIyBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZ1xuICpcbiAqIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpIGlzIGEgbW9kZSBpbiB3aGljaCBBbmd1bGFySlMgY29uc3RyYWlucyBiaW5kaW5ncyB0byBvbmx5IHJlbmRlclxuICogdHJ1c3RlZCB2YWx1ZXMuIEl0cyBnb2FsIGlzIHRvIGFzc2lzdCBpbiB3cml0aW5nIGNvZGUgaW4gYSB3YXkgdGhhdCAoYSkgaXMgc2VjdXJlIGJ5IGRlZmF1bHQsIGFuZFxuICogKGIpIG1ha2VzIGF1ZGl0aW5nIGZvciBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMgc3VjaCBhcyBYU1MsIGNsaWNramFja2luZywgZXRjLiBhIGxvdCBlYXNpZXIuXG4gKlxuICogIyMjIE92ZXJ2aWV3XG4gKlxuICogVG8gc3lzdGVtYXRpY2FsbHkgYmxvY2sgWFNTIHNlY3VyaXR5IGJ1Z3MsIEFuZ3VsYXJKUyB0cmVhdHMgYWxsIHZhbHVlcyBhcyB1bnRydXN0ZWQgYnkgZGVmYXVsdCBpblxuICogSFRNTCBvciBzZW5zaXRpdmUgVVJMIGJpbmRpbmdzLiBXaGVuIGJpbmRpbmcgdW50cnVzdGVkIHZhbHVlcywgQW5ndWxhckpTIHdpbGwgYXV0b21hdGljYWxseVxuICogcnVuIHNlY3VyaXR5IGNoZWNrcyBvbiB0aGVtIChzYW5pdGl6YXRpb25zLCB3aGl0ZWxpc3RzLCBkZXBlbmRpbmcgb24gY29udGV4dCksIG9yIHRocm93IHdoZW4gaXRcbiAqIGNhbm5vdCBndWFyYW50ZWUgdGhlIHNlY3VyaXR5IG9mIHRoZSByZXN1bHQuIFRoYXQgYmVoYXZpb3IgZGVwZW5kcyBzdHJvbmdseSBvbiBjb250ZXh0czogSFRNTFxuICogY2FuIGJlIHNhbml0aXplZCwgYnV0IHRlbXBsYXRlIFVSTHMgY2Fubm90LCBmb3IgaW5zdGFuY2UuXG4gKlxuICogVG8gaWxsdXN0cmF0ZSB0aGlzLCBjb25zaWRlciB0aGUgYG5nLWJpbmQtaHRtbGAgZGlyZWN0aXZlLiBJdCByZW5kZXJzIGl0cyB2YWx1ZSBkaXJlY3RseSBhcyBIVE1MOlxuICogd2UgY2FsbCB0aGF0IHRoZSAqY29udGV4dCouIFdoZW4gZ2l2ZW4gYW4gdW50cnVzdGVkIGlucHV0LCBBbmd1bGFySlMgd2lsbCBhdHRlbXB0IHRvIHNhbml0aXplIGl0XG4gKiBiZWZvcmUgcmVuZGVyaW5nIGlmIGEgc2FuaXRpemVyIGlzIGF2YWlsYWJsZSwgYW5kIHRocm93IG90aGVyd2lzZS4gVG8gYnlwYXNzIHNhbml0aXphdGlvbiBhbmRcbiAqIHJlbmRlciB0aGUgaW5wdXQgYXMtaXMsIHlvdSB3aWxsIG5lZWQgdG8gbWFyayBpdCBhcyB0cnVzdGVkIGZvciB0aGF0IGNvbnRleHQgYmVmb3JlIGF0dGVtcHRpbmdcbiAqIHRvIGJpbmQgaXQuXG4gKlxuICogQXMgb2YgdmVyc2lvbiAxLjIsIEFuZ3VsYXJKUyBzaGlwcyB3aXRoIFNDRSBlbmFibGVkIGJ5IGRlZmF1bHQuXG4gKlxuICogIyMjIEluIHByYWN0aWNlXG4gKlxuICogSGVyZSdzIGFuIGV4YW1wbGUgb2YgYSBiaW5kaW5nIGluIGEgcHJpdmlsZWdlZCBjb250ZXh0OlxuICpcbiAqIGBgYFxuICogPGlucHV0IG5nLW1vZGVsPVwidXNlckh0bWxcIiBhcmlhLWxhYmVsPVwiVXNlciBpbnB1dFwiPlxuICogPGRpdiBuZy1iaW5kLWh0bWw9XCJ1c2VySHRtbFwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogTm90aWNlIHRoYXQgYG5nLWJpbmQtaHRtbGAgaXMgYm91bmQgdG8gYHVzZXJIdG1sYCBjb250cm9sbGVkIGJ5IHRoZSB1c2VyLiAgV2l0aCBTQ0VcbiAqIGRpc2FibGVkLCB0aGlzIGFwcGxpY2F0aW9uIGFsbG93cyB0aGUgdXNlciB0byByZW5kZXIgYXJiaXRyYXJ5IEhUTUwgaW50byB0aGUgRElWLCB3aGljaCB3b3VsZFxuICogYmUgYW4gWFNTIHNlY3VyaXR5IGJ1Zy4gSW4gYSBtb3JlIHJlYWxpc3RpYyBleGFtcGxlLCBvbmUgbWF5IGJlIHJlbmRlcmluZyB1c2VyIGNvbW1lbnRzLCBibG9nXG4gKiBhcnRpY2xlcywgZXRjLiB2aWEgYmluZGluZ3MuIChIVE1MIGlzIGp1c3Qgb25lIGV4YW1wbGUgb2YgYSBjb250ZXh0IHdoZXJlIHJlbmRlcmluZyB1c2VyXG4gKiBjb250cm9sbGVkIGlucHV0IGNyZWF0ZXMgc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLilcbiAqXG4gKiBGb3IgdGhlIGNhc2Ugb2YgSFRNTCwgeW91IG1pZ2h0IHVzZSBhIGxpYnJhcnksIGVpdGhlciBvbiB0aGUgY2xpZW50IHNpZGUsIG9yIG9uIHRoZSBzZXJ2ZXIgc2lkZSxcbiAqIHRvIHNhbml0aXplIHVuc2FmZSBIVE1MIGJlZm9yZSBiaW5kaW5nIHRvIHRoZSB2YWx1ZSBhbmQgcmVuZGVyaW5nIGl0IGluIHRoZSBkb2N1bWVudC5cbiAqXG4gKiBIb3cgd291bGQgeW91IGVuc3VyZSB0aGF0IGV2ZXJ5IHBsYWNlIHRoYXQgdXNlZCB0aGVzZSB0eXBlcyBvZiBiaW5kaW5ncyB3YXMgYm91bmQgdG8gYSB2YWx1ZSB0aGF0XG4gKiB3YXMgc2FuaXRpemVkIGJ5IHlvdXIgbGlicmFyeSAob3IgcmV0dXJuZWQgYXMgc2FmZSBmb3IgcmVuZGVyaW5nIGJ5IHlvdXIgc2VydmVyPykgIEhvdyBjYW4geW91XG4gKiBlbnN1cmUgdGhhdCB5b3UgZGlkbid0IGFjY2lkZW50YWxseSBkZWxldGUgdGhlIGxpbmUgdGhhdCBzYW5pdGl6ZWQgdGhlIHZhbHVlLCBvciByZW5hbWVkIHNvbWVcbiAqIHByb3BlcnRpZXMvZmllbGRzIGFuZCBmb3Jnb3QgdG8gdXBkYXRlIHRoZSBiaW5kaW5nIHRvIHRoZSBzYW5pdGl6ZWQgdmFsdWU/XG4gKlxuICogVG8gYmUgc2VjdXJlIGJ5IGRlZmF1bHQsIEFuZ3VsYXJKUyBtYWtlcyBzdXJlIGJpbmRpbmdzIGdvIHRocm91Z2ggdGhhdCBzYW5pdGl6YXRpb24sIG9yXG4gKiBhbnkgc2ltaWxhciB2YWxpZGF0aW9uIHByb2Nlc3MsIHVubGVzcyB0aGVyZSdzIGEgZ29vZCByZWFzb24gdG8gdHJ1c3QgdGhlIGdpdmVuIHZhbHVlIGluIHRoaXNcbiAqIGNvbnRleHQuICBUaGF0IHRydXN0IGlzIGZvcm1hbGl6ZWQgd2l0aCBhIGZ1bmN0aW9uIGNhbGwuIFRoaXMgbWVhbnMgdGhhdCBhcyBhIGRldmVsb3BlciwgeW91XG4gKiBjYW4gYXNzdW1lIGFsbCB1bnRydXN0ZWQgYmluZGluZ3MgYXJlIHNhZmUuIFRoZW4sIHRvIGF1ZGl0IHlvdXIgY29kZSBmb3IgYmluZGluZyBzZWN1cml0eSBpc3N1ZXMsXG4gKiB5b3UganVzdCBuZWVkIHRvIGVuc3VyZSB0aGUgdmFsdWVzIHlvdSBtYXJrIGFzIHRydXN0ZWQgaW5kZWVkIGFyZSBzYWZlIC0gYmVjYXVzZSB0aGV5IHdlcmVcbiAqIHJlY2VpdmVkIGZyb20geW91ciBzZXJ2ZXIsIHNhbml0aXplZCBieSB5b3VyIGxpYnJhcnksIGV0Yy4gWW91IGNhbiBvcmdhbml6ZSB5b3VyIGNvZGViYXNlIHRvXG4gKiBoZWxwIHdpdGggdGhpcyAtIHBlcmhhcHMgYWxsb3dpbmcgb25seSB0aGUgZmlsZXMgaW4gYSBzcGVjaWZpYyBkaXJlY3RvcnkgdG8gZG8gdGhpcy5cbiAqIEVuc3VyaW5nIHRoYXQgdGhlIGludGVybmFsIEFQSSBleHBvc2VkIGJ5IHRoYXQgY29kZSBkb2Vzbid0IG1hcmt1cCBhcmJpdHJhcnkgdmFsdWVzIGFzIHNhZmUgdGhlblxuICogYmVjb21lcyBhIG1vcmUgbWFuYWdlYWJsZSB0YXNrLlxuICpcbiAqIEluIHRoZSBjYXNlIG9mIEFuZ3VsYXJKUycgU0NFIHNlcnZpY2UsIG9uZSB1c2VzIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfVxuICogKGFuZCBzaG9ydGhhbmQgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBuZy4kc2NlI3RydXN0QXNIdG1sICRzY2UudHJ1c3RBc0h0bWx9LCBldGMuKSB0b1xuICogYnVpbGQgdGhlIHRydXN0ZWQgdmVyc2lvbnMgb2YgeW91ciB2YWx1ZXMuXG4gKlxuICogIyMjIEhvdyBkb2VzIGl0IHdvcms/XG4gKlxuICogSW4gcHJpdmlsZWdlZCBjb250ZXh0cywgZGlyZWN0aXZlcyBhbmQgY29kZSB3aWxsIGJpbmQgdG8gdGhlIHJlc3VsdCBvZiB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkXG4gKiAkc2NlLmdldFRydXN0ZWQoY29udGV4dCwgdmFsdWUpfSByYXRoZXIgdGhhbiB0byB0aGUgdmFsdWUgZGlyZWN0bHkuICBUaGluayBvZiB0aGlzIGZ1bmN0aW9uIGFzXG4gKiBhIHdheSB0byBlbmZvcmNlIHRoZSByZXF1aXJlZCBzZWN1cml0eSBjb250ZXh0IGluIHlvdXIgZGF0YSBzaW5rLiBEaXJlY3RpdmVzIHVzZSB7QGxpbmtcbiAqIG5nLiRzY2UjcGFyc2VBcyAkc2NlLnBhcnNlQXN9IHJhdGhlciB0aGFuIGAkcGFyc2VgIHRvIHdhdGNoIGF0dHJpYnV0ZSBiaW5kaW5ncywgd2hpY2ggcGVyZm9ybXNcbiAqIHRoZSB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZH0gYmVoaW5kIHRoZSBzY2VuZXMgb24gbm9uLWNvbnN0YW50IGxpdGVyYWxzLiBBbHNvLFxuICogd2hlbiBiaW5kaW5nIHdpdGhvdXQgZGlyZWN0aXZlcywgQW5ndWxhckpTIHdpbGwgdW5kZXJzdGFuZCB0aGUgY29udGV4dCBvZiB5b3VyIGJpbmRpbmdzXG4gKiBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIEFzIGFuIGV4YW1wbGUsIHtAbGluayBuZy5kaXJlY3RpdmU6bmdCaW5kSHRtbCBuZ0JpbmRIdG1sfSB1c2VzIHtAbGlua1xuICogbmcuJHNjZSNwYXJzZUFzSHRtbCAkc2NlLnBhcnNlQXNIdG1sKGJpbmRpbmcgZXhwcmVzc2lvbil9LiAgSGVyZSdzIHRoZSBhY3R1YWwgY29kZSAoc2xpZ2h0bHlcbiAqIHNpbXBsaWZpZWQpOlxuICpcbiAqIGBgYFxuICogdmFyIG5nQmluZEh0bWxEaXJlY3RpdmUgPSBbJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XG4gKiAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICogICAgIHNjb3BlLiR3YXRjaCgkc2NlLnBhcnNlQXNIdG1sKGF0dHIubmdCaW5kSHRtbCksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gKiAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUgfHwgJycpO1xuICogICAgIH0pO1xuICogICB9O1xuICogfV07XG4gKiBgYGBcbiAqXG4gKiAjIyMgSW1wYWN0IG9uIGxvYWRpbmcgdGVtcGxhdGVzXG4gKlxuICogVGhpcyBhcHBsaWVzIGJvdGggdG8gdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdJbmNsdWRlIGBuZy1pbmNsdWRlYH0gZGlyZWN0aXZlIGFzIHdlbGwgYXNcbiAqIGB0ZW1wbGF0ZVVybGAncyBzcGVjaWZpZWQgYnkge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSBkaXJlY3RpdmVzfS5cbiAqXG4gKiBCeSBkZWZhdWx0LCBBbmd1bGFySlMgb25seSBsb2FkcyB0ZW1wbGF0ZXMgZnJvbSB0aGUgc2FtZSBkb21haW4gYW5kIHByb3RvY29sIGFzIHRoZSBhcHBsaWNhdGlvblxuICogZG9jdW1lbnQuICBUaGlzIGlzIGRvbmUgYnkgY2FsbGluZyB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcbiAqICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfSBvbiB0aGUgdGVtcGxhdGUgVVJMLiAgVG8gbG9hZCB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIGFuZC9vclxuICogcHJvdG9jb2xzLCB5b3UgbWF5IGVpdGhlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3Qgd2hpdGVsaXN0XG4gKiB0aGVtfSBvciB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzUmVzb3VyY2VVcmwgd3JhcCBpdH0gaW50byBhIHRydXN0ZWQgdmFsdWUuXG4gKlxuICogKlBsZWFzZSBub3RlKjpcbiAqIFRoZSBicm93c2VyJ3NcbiAqIFtTYW1lIE9yaWdpbiBQb2xpY3ldKGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvYnJvd3NlcnNlYy93aWtpL1BhcnQyI1NhbWUtb3JpZ2luX3BvbGljeV9mb3JfWE1MSHR0cFJlcXVlc3QpXG4gKiBhbmQgW0Nyb3NzLU9yaWdpbiBSZXNvdXJjZSBTaGFyaW5nIChDT1JTKV0oaHR0cDovL3d3dy53My5vcmcvVFIvY29ycy8pXG4gKiBwb2xpY3kgYXBwbHkgaW4gYWRkaXRpb24gdG8gdGhpcyBhbmQgbWF5IGZ1cnRoZXIgcmVzdHJpY3Qgd2hldGhlciB0aGUgdGVtcGxhdGUgaXMgc3VjY2Vzc2Z1bGx5XG4gKiBsb2FkZWQuICBUaGlzIG1lYW5zIHRoYXQgd2l0aG91dCB0aGUgcmlnaHQgQ09SUyBwb2xpY3ksIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gYSBkaWZmZXJlbnQgZG9tYWluXG4gKiB3b24ndCB3b3JrIG9uIGFsbCBicm93c2Vycy4gIEFsc28sIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gYGZpbGU6Ly9gIFVSTCBkb2VzIG5vdCB3b3JrIG9uIHNvbWVcbiAqIGJyb3dzZXJzLlxuICpcbiAqICMjIyBUaGlzIGZlZWxzIGxpa2UgdG9vIG11Y2ggb3ZlcmhlYWRcbiAqXG4gKiBJdCdzIGltcG9ydGFudCB0byByZW1lbWJlciB0aGF0IFNDRSBvbmx5IGFwcGxpZXMgdG8gaW50ZXJwb2xhdGlvbiBleHByZXNzaW9ucy5cbiAqXG4gKiBJZiB5b3VyIGV4cHJlc3Npb25zIGFyZSBjb25zdGFudCBsaXRlcmFscywgdGhleSdyZSBhdXRvbWF0aWNhbGx5IHRydXN0ZWQgYW5kIHlvdSBkb24ndCBuZWVkIHRvXG4gKiBjYWxsIGAkc2NlLnRydXN0QXNgIG9uIHRoZW0gKGUuZy5cbiAqIGA8ZGl2IG5nLWJpbmQtaHRtbD1cIic8Yj5pbXBsaWNpdGx5IHRydXN0ZWQ8L2I+J1wiPjwvZGl2PmApIGp1c3Qgd29ya3MgKHJlbWVtYmVyIHRvIGluY2x1ZGUgdGhlXG4gKiBgbmdTYW5pdGl6ZWAgbW9kdWxlKS4gVGhlIGAkc2NlRGVsZWdhdGVgIHdpbGwgYWxzbyB1c2UgdGhlIGAkc2FuaXRpemVgIHNlcnZpY2UgaWYgaXQgaXMgYXZhaWxhYmxlXG4gKiB3aGVuIGJpbmRpbmcgdW50cnVzdGVkIHZhbHVlcyB0byBgJHNjZS5IVE1MYCBjb250ZXh0LlxuICogQW5ndWxhckpTIHByb3ZpZGVzIGFuIGltcGxlbWVudGF0aW9uIGluIGBhbmd1bGFyLXNhbml0aXplLmpzYCwgYW5kIGlmIHlvdVxuICogd2lzaCB0byB1c2UgaXQsIHlvdSB3aWxsIGFsc28gbmVlZCB0byBkZXBlbmQgb24gdGhlIHtAbGluayBuZ1Nhbml0aXplIGBuZ1Nhbml0aXplYH0gbW9kdWxlIGluXG4gKiB5b3VyIGFwcGxpY2F0aW9uLlxuICpcbiAqIFRoZSBpbmNsdWRlZCB7QGxpbmsgbmcuJHNjZURlbGVnYXRlICRzY2VEZWxlZ2F0ZX0gY29tZXMgd2l0aCBzYW5lIGRlZmF1bHRzIHRvIGFsbG93IHlvdSB0byBsb2FkXG4gKiB0ZW1wbGF0ZXMgaW4gYG5nLWluY2x1ZGVgIGZyb20geW91ciBhcHBsaWNhdGlvbidzIGRvbWFpbiB3aXRob3V0IGhhdmluZyB0byBldmVuIGtub3cgYWJvdXQgU0NFLlxuICogSXQgYmxvY2tzIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gb3RoZXIgZG9tYWlucyBvciBsb2FkaW5nIHRlbXBsYXRlcyBvdmVyIGh0dHAgZnJvbSBhbiBodHRwc1xuICogc2VydmVkIGRvY3VtZW50LiAgWW91IGNhbiBjaGFuZ2UgdGhlc2UgYnkgc2V0dGluZyB5b3VyIG93biBjdXN0b20ge0BsaW5rXG4gKiBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCB3aGl0ZWxpc3RzfSBhbmQge0BsaW5rXG4gKiBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCBibGFja2xpc3RzfSBmb3IgbWF0Y2hpbmcgc3VjaCBVUkxzLlxuICpcbiAqIFRoaXMgc2lnbmlmaWNhbnRseSByZWR1Y2VzIHRoZSBvdmVyaGVhZC4gIEl0IGlzIGZhciBlYXNpZXIgdG8gcGF5IHRoZSBzbWFsbCBvdmVyaGVhZCBhbmQgaGF2ZSBhblxuICogYXBwbGljYXRpb24gdGhhdCdzIHNlY3VyZSBhbmQgY2FuIGJlIGF1ZGl0ZWQgdG8gdmVyaWZ5IHRoYXQgd2l0aCBtdWNoIG1vcmUgZWFzZSB0aGFuIGJvbHRpbmdcbiAqIHNlY3VyaXR5IG9udG8gYW4gYXBwbGljYXRpb24gbGF0ZXIuXG4gKlxuICogPGEgbmFtZT1cImNvbnRleHRzXCI+PC9hPlxuICogIyMjIFdoYXQgdHJ1c3RlZCBjb250ZXh0IHR5cGVzIGFyZSBzdXBwb3J0ZWQ/XG4gKlxuICogfCBDb250ZXh0ICAgICAgICAgICAgIHwgTm90ZXMgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tfFxuICogfCBgJHNjZS5IVE1MYCAgICAgICAgIHwgRm9yIEhUTUwgdGhhdCdzIHNhZmUgdG8gc291cmNlIGludG8gdGhlIGFwcGxpY2F0aW9uLiAgVGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdCaW5kSHRtbCBuZ0JpbmRIdG1sfSBkaXJlY3RpdmUgdXNlcyB0aGlzIGNvbnRleHQgZm9yIGJpbmRpbmdzLiBJZiBhbiB1bnNhZmUgdmFsdWUgaXMgZW5jb3VudGVyZWQgYW5kIHRoZSB7QGxpbmsgbmdTYW5pdGl6ZSAkc2FuaXRpemV9IG1vZHVsZSBpcyBwcmVzZW50IHRoaXMgd2lsbCBzYW5pdGl6ZSB0aGUgdmFsdWUgaW5zdGVhZCBvZiB0aHJvd2luZyBhbiBlcnJvci4gfFxuICogfCBgJHNjZS5DU1NgICAgICAgICAgIHwgRm9yIENTUyB0aGF0J3Mgc2FmZSB0byBzb3VyY2UgaW50byB0aGUgYXBwbGljYXRpb24uICBDdXJyZW50bHkgdW51c2VkLiAgRmVlbCBmcmVlIHRvIHVzZSBpdCBpbiB5b3VyIG93biBkaXJlY3RpdmVzLiB8XG4gKiB8IGAkc2NlLk1FRElBX1VSTGAgICAgfCBGb3IgVVJMcyB0aGF0IGFyZSBzYWZlIHRvIHJlbmRlciBhcyBtZWRpYS4gSXMgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgZnJvbSBzdHJpbmcgYnkgc2FuaXRpemluZyB3aGVuIG5lZWRlZC4gfFxuICogfCBgJHNjZS5VUkxgICAgICAgICAgIHwgRm9yIFVSTHMgdGhhdCBhcmUgc2FmZSB0byBmb2xsb3cgYXMgbGlua3MuIElzIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIGZyb20gc3RyaW5nIGJ5IHNhbml0aXppbmcgd2hlbiBuZWVkZWQuIE5vdGUgdGhhdCBgJHNjZS5VUkxgIG1ha2VzIGEgc3Ryb25nZXIgc3RhdGVtZW50IGFib3V0IHRoZSBVUkwgdGhhbiBgJHNjZS5NRURJQV9VUkxgIGRvZXMgYW5kIHRoZXJlZm9yZSBjb250ZXh0cyByZXF1aXJpbmcgdmFsdWVzIHRydXN0ZWQgZm9yIGAkc2NlLlVSTGAgY2FuIGJlIHVzZWQgYW55d2hlcmUgdGhhdCB2YWx1ZXMgdHJ1c3RlZCBmb3IgYCRzY2UuTUVESUFfVVJMYCBhcmUgcmVxdWlyZWQufFxuICogfCBgJHNjZS5SRVNPVVJDRV9VUkxgIHwgRm9yIFVSTHMgdGhhdCBhcmUgbm90IG9ubHkgc2FmZSB0byBmb2xsb3cgYXMgbGlua3MsIGJ1dCB3aG9zZSBjb250ZW50cyBhcmUgYWxzbyBzYWZlIHRvIGluY2x1ZGUgaW4geW91ciBhcHBsaWNhdGlvbi4gIEV4YW1wbGVzIGluY2x1ZGUgYG5nLWluY2x1ZGVgLCBgc3JjYCAvIGBuZ1NyY2AgYmluZGluZ3MgZm9yIHRhZ3Mgb3RoZXIgdGhhbiBgSU1HYCAoZS5nLiBgSUZSQU1FYCwgYE9CSkVDVGAsIGV0Yy4pICA8YnI+PGJyPk5vdGUgdGhhdCBgJHNjZS5SRVNPVVJDRV9VUkxgIG1ha2VzIGEgc3Ryb25nZXIgc3RhdGVtZW50IGFib3V0IHRoZSBVUkwgdGhhbiBgJHNjZS5VUkxgIG9yIGAkc2NlLk1FRElBX1VSTGAgZG8gYW5kIHRoZXJlZm9yZSBjb250ZXh0cyByZXF1aXJpbmcgdmFsdWVzIHRydXN0ZWQgZm9yIGAkc2NlLlJFU09VUkNFX1VSTGAgY2FuIGJlIHVzZWQgYW55d2hlcmUgdGhhdCB2YWx1ZXMgdHJ1c3RlZCBmb3IgYCRzY2UuVVJMYCBvciBgJHNjZS5NRURJQV9VUkxgIGFyZSByZXF1aXJlZC4gPGJyPjxicj4gVGhlIHtAbGluayAkc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCAkc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCgpfSBhbmQge0BsaW5rICRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0KCl9IGNhbiBiZSB1c2VkIHRvIHJlc3RyaWN0IHRydXN0ZWQgb3JpZ2lucyBmb3IgYFJFU09VUkNFX1VSTGAgfFxuICogfCBgJHNjZS5KU2AgICAgICAgICAgIHwgRm9yIEphdmFTY3JpcHQgdGhhdCBpcyBzYWZlIHRvIGV4ZWN1dGUgaW4geW91ciBhcHBsaWNhdGlvbidzIGNvbnRleHQuICBDdXJyZW50bHkgdW51c2VkLiAgRmVlbCBmcmVlIHRvIHVzZSBpdCBpbiB5b3VyIG93biBkaXJlY3RpdmVzLiB8XG4gKlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiBCZSBhd2FyZSB0aGF0LCBiZWZvcmUgQW5ndWxhckpTIDEuNy4wLCBgYVtocmVmXWAgYW5kIGBpbWdbc3JjXWAgdXNlZCB0byBzYW5pdGl6ZSB0aGVpclxuICogaW50ZXJwb2xhdGVkIHZhbHVlcyBkaXJlY3RseSByYXRoZXIgdGhhbiByZWx5IHVwb24ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCBgJHNjZS5nZXRUcnVzdGVkYH0uXG4gKlxuICogKipBcyBvZiAxLjcuMCwgdGhpcyBpcyBubyBsb25nZXIgdGhlIGNhc2UuKipcbiAqXG4gKiBOb3cgc3VjaCBpbnRlcnBvbGF0aW9ucyBhcmUgbWFya2VkIGFzIHJlcXVpcmluZyBgJHNjZS5VUkxgIChmb3IgYGFbaHJlZl1gKSBvciBgJHNjZS5NRURJQV9VUkxgXG4gKiAoZm9yIGBpbWdbc3JjXWApLCBzbyB0aGF0IHRoZSBzYW5pdGl6YXRpb24gaGFwcGVucyAodmlhIGAkc2NlLmdldFRydXN0ZWQuLi5gKSB3aGVuIHRoZSBgJGludGVycG9sYXRlYFxuICogc2VydmljZSBldmFsdWF0ZXMgdGhlIGV4cHJlc3Npb25zLlxuICogPC9kaXY+XG4gKlxuICogVGhlcmUgYXJlIG5vIENTUyBvciBKUyBjb250ZXh0IGJpbmRpbmdzIGluIEFuZ3VsYXJKUyBjdXJyZW50bHksIHNvIHRoZWlyIGNvcnJlc3BvbmRpbmcgYCRzY2UudHJ1c3RBc2BcbiAqIGZ1bmN0aW9ucyBhcmVuJ3QgdXNlZnVsIHlldC4gVGhpcyBtaWdodCBldm9sdmUuXG4gKlxuICogIyMjIEZvcm1hdCBvZiBpdGVtcyBpbiB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QgcmVzb3VyY2VVcmxXaGl0ZWxpc3R9L3tAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCBCbGFja2xpc3R9IDxhIG5hbWU9XCJyZXNvdXJjZVVybFBhdHRlcm5JdGVtXCI+PC9hPlxuICpcbiAqICBFYWNoIGVsZW1lbnQgaW4gdGhlc2UgYXJyYXlzIG11c3QgYmUgb25lIG9mIHRoZSBmb2xsb3dpbmc6XG4gKlxuICogIC0gKionc2VsZicqKlxuICogICAgLSBUaGUgc3BlY2lhbCAqKnN0cmluZyoqLCBgJ3NlbGYnYCwgY2FuIGJlIHVzZWQgdG8gbWF0Y2ggYWdhaW5zdCBhbGwgVVJMcyBvZiB0aGUgKipzYW1lXG4gKiAgICAgIGRvbWFpbioqIGFzIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudCB1c2luZyB0aGUgKipzYW1lIHByb3RvY29sKiouXG4gKiAgLSAqKlN0cmluZyoqIChleGNlcHQgdGhlIHNwZWNpYWwgdmFsdWUgYCdzZWxmJ2ApXG4gKiAgICAtIFRoZSBzdHJpbmcgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBmdWxsICpub3JtYWxpemVkIC8gYWJzb2x1dGUgVVJMKiBvZiB0aGUgcmVzb3VyY2VcbiAqICAgICAgYmVpbmcgdGVzdGVkIChzdWJzdHJpbmcgbWF0Y2hlcyBhcmUgbm90IGdvb2QgZW5vdWdoLilcbiAqICAgIC0gVGhlcmUgYXJlIGV4YWN0bHkgKip0d28gd2lsZGNhcmQgc2VxdWVuY2VzKiogLSBgKmAgYW5kIGAqKmAuICBBbGwgb3RoZXIgY2hhcmFjdGVyc1xuICogICAgICBtYXRjaCB0aGVtc2VsdmVzLlxuICogICAgLSBgKmA6IG1hdGNoZXMgemVybyBvciBtb3JlIG9jY3VycmVuY2VzIG9mIGFueSBjaGFyYWN0ZXIgb3RoZXIgdGhhbiBvbmUgb2YgdGhlIGZvbGxvd2luZyA2XG4gKiAgICAgIGNoYXJhY3RlcnM6ICdgOmAnLCAnYC9gJywgJ2AuYCcsICdgP2AnLCAnYCZgJyBhbmQgJ2A7YCcuICBJdCdzIGEgdXNlZnVsIHdpbGRjYXJkIGZvciB1c2VcbiAqICAgICAgaW4gYSB3aGl0ZWxpc3QuXG4gKiAgICAtIGAqKmA6IG1hdGNoZXMgemVybyBvciBtb3JlIG9jY3VycmVuY2VzIG9mICphbnkqIGNoYXJhY3Rlci4gIEFzIHN1Y2gsIGl0J3Mgbm90XG4gKiAgICAgIGFwcHJvcHJpYXRlIGZvciB1c2UgaW4gYSBzY2hlbWUsIGRvbWFpbiwgZXRjLiBhcyBpdCB3b3VsZCBtYXRjaCB0b28gbXVjaC4gIChlLmcuXG4gKiAgICAgIGh0dHA6Ly8qKi5leGFtcGxlLmNvbS8gd291bGQgbWF0Y2ggaHR0cDovL2V2aWwuY29tLz9pZ25vcmU9LmV4YW1wbGUuY29tLyBhbmQgdGhhdCBtaWdodFxuICogICAgICBub3QgaGF2ZSBiZWVuIHRoZSBpbnRlbnRpb24uKSAgSXRzIHVzYWdlIGF0IHRoZSB2ZXJ5IGVuZCBvZiB0aGUgcGF0aCBpcyBvay4gIChlLmcuXG4gKiAgICAgIGh0dHA6Ly9mb28uZXhhbXBsZS5jb20vdGVtcGxhdGVzLyoqKS5cbiAqICAtICoqUmVnRXhwKiogKCpzZWUgY2F2ZWF0IGJlbG93KilcbiAqICAgIC0gKkNhdmVhdCo6ICBXaGlsZSByZWd1bGFyIGV4cHJlc3Npb25zIGFyZSBwb3dlcmZ1bCBhbmQgb2ZmZXIgZ3JlYXQgZmxleGliaWxpdHksICB0aGVpciBzeW50YXhcbiAqICAgICAgKGFuZCBhbGwgdGhlIGluZXZpdGFibGUgZXNjYXBpbmcpIG1ha2VzIHRoZW0gKmhhcmRlciB0byBtYWludGFpbiouICBJdCdzIGVhc3kgdG9cbiAqICAgICAgYWNjaWRlbnRhbGx5IGludHJvZHVjZSBhIGJ1ZyB3aGVuIG9uZSB1cGRhdGVzIGEgY29tcGxleCBleHByZXNzaW9uIChpbWhvLCBhbGwgcmVnZXhlcyBzaG91bGRcbiAqICAgICAgaGF2ZSBnb29kIHRlc3QgY292ZXJhZ2UpLiAgRm9yIGluc3RhbmNlLCB0aGUgdXNlIG9mIGAuYCBpbiB0aGUgcmVnZXggaXMgY29ycmVjdCBvbmx5IGluIGFcbiAqICAgICAgc21hbGwgbnVtYmVyIG9mIGNhc2VzLiAgQSBgLmAgY2hhcmFjdGVyIGluIHRoZSByZWdleCB1c2VkIHdoZW4gbWF0Y2hpbmcgdGhlIHNjaGVtZSBvciBhXG4gKiAgICAgIHN1YmRvbWFpbiBjb3VsZCBiZSBtYXRjaGVkIGFnYWluc3QgYSBgOmAgb3IgbGl0ZXJhbCBgLmAgdGhhdCB3YXMgbGlrZWx5IG5vdCBpbnRlbmRlZC4gICBJdFxuICogICAgICBpcyBoaWdobHkgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBzdHJpbmcgcGF0dGVybnMgYW5kIG9ubHkgZmFsbCBiYWNrIHRvIHJlZ3VsYXIgZXhwcmVzc2lvbnNcbiAqICAgICAgYXMgYSBsYXN0IHJlc29ydC5cbiAqICAgIC0gVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFJlZ0V4cCAoaS5lLiBub3QgYSBzdHJpbmcuKSAgSXQgaXNcbiAqICAgICAgbWF0Y2hlZCBhZ2FpbnN0IHRoZSAqKmVudGlyZSoqICpub3JtYWxpemVkIC8gYWJzb2x1dGUgVVJMKiBvZiB0aGUgcmVzb3VyY2UgYmVpbmcgdGVzdGVkXG4gKiAgICAgIChldmVuIHdoZW4gdGhlIFJlZ0V4cCBkaWQgbm90IGhhdmUgdGhlIGBeYCBhbmQgYCRgIGNvZGVzLikgIEluIGFkZGl0aW9uLCBhbnkgZmxhZ3NcbiAqICAgICAgcHJlc2VudCBvbiB0aGUgUmVnRXhwIChzdWNoIGFzIG11bHRpbGluZSwgZ2xvYmFsLCBpZ25vcmVDYXNlKSBhcmUgaWdub3JlZC5cbiAqICAgIC0gSWYgeW91IGFyZSBnZW5lcmF0aW5nIHlvdXIgSmF2YVNjcmlwdCBmcm9tIHNvbWUgb3RoZXIgdGVtcGxhdGluZyBlbmdpbmUgKG5vdFxuICogICAgICByZWNvbW1lbmRlZCwgZS5nLiBpbiBpc3N1ZSBbIzQwMDZdKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzQwMDYpKSxcbiAqICAgICAgcmVtZW1iZXIgdG8gZXNjYXBlIHlvdXIgcmVndWxhciBleHByZXNzaW9uIChhbmQgYmUgYXdhcmUgdGhhdCB5b3UgbWlnaHQgbmVlZCBtb3JlIHRoYW5cbiAqICAgICAgb25lIGxldmVsIG9mIGVzY2FwaW5nIGRlcGVuZGluZyBvbiB5b3VyIHRlbXBsYXRpbmcgZW5naW5lIGFuZCB0aGUgd2F5IHlvdSBpbnRlcnBvbGF0ZWRcbiAqICAgICAgdGhlIHZhbHVlLikgIERvIG1ha2UgdXNlIG9mIHlvdXIgcGxhdGZvcm0ncyBlc2NhcGluZyBtZWNoYW5pc20gYXMgaXQgbWlnaHQgYmUgZ29vZFxuICogICAgICBlbm91Z2ggYmVmb3JlIGNvZGluZyB5b3VyIG93bi4gIEUuZy4gUnVieSBoYXNcbiAqICAgICAgW1JlZ2V4cC5lc2NhcGUoc3RyKV0oaHR0cDovL3d3dy5ydWJ5LWRvYy5vcmcvY29yZS0yLjAuMC9SZWdleHAuaHRtbCNtZXRob2QtYy1lc2NhcGUpXG4gKiAgICAgIGFuZCBQeXRob24gaGFzIFtyZS5lc2NhcGVdKGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS9yZS5odG1sI3JlLmVzY2FwZSkuXG4gKiAgICAgIEphdmFzY3JpcHQgbGFja3MgYSBzaW1pbGFyIGJ1aWx0IGluIGZ1bmN0aW9uIGZvciBlc2NhcGluZy4gIFRha2UgYSBsb29rIGF0IEdvb2dsZVxuICogICAgICBDbG9zdXJlIGxpYnJhcnkncyBbZ29vZy5zdHJpbmcucmVnRXhwRXNjYXBlKHMpXShcbiAqICAgICAgaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9jbG9zdXJlX2dvb2dfc3RyaW5nX3N0cmluZy5qcy5zb3VyY2UuaHRtbCNsaW5lOTYyKS5cbiAqXG4gKiBSZWZlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIgJHNjZURlbGVnYXRlUHJvdmlkZXJ9IGZvciBhbiBleGFtcGxlLlxuICpcbiAqICMjIyBTaG93IG1lIGFuIGV4YW1wbGUgdXNpbmcgU0NFLlxuICpcbiAqIDxleGFtcGxlIG1vZHVsZT1cIm15U2NlQXBwXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIiBuYW1lPVwic2NlLXNlcnZpY2VcIj5cbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgIDxkaXYgbmctY29udHJvbGxlcj1cIkFwcENvbnRyb2xsZXIgYXMgbXlDdHJsXCI+XG4gKiAgICAgPGkgbmctYmluZC1odG1sPVwibXlDdHJsLmV4cGxpY2l0bHlUcnVzdGVkSHRtbFwiIGlkPVwiZXhwbGljaXRseVRydXN0ZWRIdG1sXCI+PC9pPjxicj48YnI+XG4gKiAgICAgPGI+VXNlciBjb21tZW50czwvYj48YnI+XG4gKiAgICAgQnkgZGVmYXVsdCwgSFRNTCB0aGF0IGlzbid0IGV4cGxpY2l0bHkgdHJ1c3RlZCAoZS5nLiBBbGljZSdzIGNvbW1lbnQpIGlzIHNhbml0aXplZCB3aGVuXG4gKiAgICAgJHNhbml0aXplIGlzIGF2YWlsYWJsZS4gIElmICRzYW5pdGl6ZSBpc24ndCBhdmFpbGFibGUsIHRoaXMgcmVzdWx0cyBpbiBhbiBlcnJvciBpbnN0ZWFkIG9mIGFuXG4gKiAgICAgZXhwbG9pdC5cbiAqICAgICA8ZGl2IGNsYXNzPVwid2VsbFwiPlxuICogICAgICAgPGRpdiBuZy1yZXBlYXQ9XCJ1c2VyQ29tbWVudCBpbiBteUN0cmwudXNlckNvbW1lbnRzXCI+XG4gKiAgICAgICAgIDxiPnt7dXNlckNvbW1lbnQubmFtZX19PC9iPjpcbiAqICAgICAgICAgPHNwYW4gbmctYmluZC1odG1sPVwidXNlckNvbW1lbnQuaHRtbENvbW1lbnRcIiBjbGFzcz1cImh0bWxDb21tZW50XCI+PC9zcGFuPlxuICogICAgICAgICA8YnI+XG4gKiAgICAgICA8L2Rpdj5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9kaXY+XG4gKiA8L2ZpbGU+XG4gKlxuICogPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICogICBhbmd1bGFyLm1vZHVsZSgnbXlTY2VBcHAnLCBbJ25nU2FuaXRpemUnXSlcbiAqICAgICAuY29udHJvbGxlcignQXBwQ29udHJvbGxlcicsIFsnJGh0dHAnLCAnJHRlbXBsYXRlQ2FjaGUnLCAnJHNjZScsXG4gKiAgICAgICBmdW5jdGlvbiBBcHBDb250cm9sbGVyKCRodHRwLCAkdGVtcGxhdGVDYWNoZSwgJHNjZSkge1xuICogICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gKiAgICAgICAgICRodHRwLmdldCgndGVzdF9kYXRhLmpzb24nLCB7Y2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICogICAgICAgICAgIHNlbGYudXNlckNvbW1lbnRzID0gcmVzcG9uc2UuZGF0YTtcbiAqICAgICAgICAgfSk7XG4gKiAgICAgICAgIHNlbGYuZXhwbGljaXRseVRydXN0ZWRIdG1sID0gJHNjZS50cnVzdEFzSHRtbChcbiAqICAgICAgICAgICAgICc8c3BhbiBvbm1vdXNlb3Zlcj1cInRoaXMudGV4dENvbnRlbnQ9JnF1b3Q7RXhwbGljaXRseSB0cnVzdGVkIEhUTUwgYnlwYXNzZXMgJyArXG4gKiAgICAgICAgICAgICAnc2FuaXRpemF0aW9uLiZxdW90O1wiPkhvdmVyIG92ZXIgdGhpcyB0ZXh0Ljwvc3Bhbj4nKTtcbiAqICAgICAgIH1dKTtcbiAqIDwvZmlsZT5cbiAqXG4gKiA8ZmlsZSBuYW1lPVwidGVzdF9kYXRhLmpzb25cIj5cbiAqIFtcbiAqICAgeyBcIm5hbWVcIjogXCJBbGljZVwiLFxuICogICAgIFwiaHRtbENvbW1lbnRcIjpcbiAqICAgICAgICAgXCI8c3BhbiBvbm1vdXNlb3Zlcj0ndGhpcy50ZXh0Q29udGVudD1cXFwiUFdOM0QhXFxcIic+SXMgPGk+YW55b25lPC9pPiByZWFkaW5nIHRoaXM/PC9zcGFuPlwiXG4gKiAgIH0sXG4gKiAgIHsgXCJuYW1lXCI6IFwiQm9iXCIsXG4gKiAgICAgXCJodG1sQ29tbWVudFwiOiBcIjxpPlllcyE8L2k+ICBBbSBJIHRoZSBvbmx5IG90aGVyIG9uZT9cIlxuICogICB9XG4gKiBdXG4gKiA8L2ZpbGU+XG4gKlxuICogPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogICBkZXNjcmliZSgnU0NFIGRvYyBkZW1vJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgaXQoJ3Nob3VsZCBzYW5pdGl6ZSB1bnRydXN0ZWQgdmFsdWVzJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCcuaHRtbENvbW1lbnQnKSkuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2lubmVySFRNTCcpKVxuICogICAgICAgICAgIC50b0JlKCc8c3Bhbj5JcyA8aT5hbnlvbmU8L2k+IHJlYWRpbmcgdGhpcz88L3NwYW4+Jyk7XG4gKiAgICAgfSk7XG4gKlxuICogICAgIGl0KCdzaG91bGQgTk9UIHNhbml0aXplIGV4cGxpY2l0bHkgdHJ1c3RlZCB2YWx1ZXMnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdleHBsaWNpdGx5VHJ1c3RlZEh0bWwnKSkuZ2V0QXR0cmlidXRlKCdpbm5lckhUTUwnKSkudG9CZShcbiAqICAgICAgICAgICAnPHNwYW4gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgK1xuICogICAgICAgICAgICdzYW5pdGl6YXRpb24uJnF1b3Q7XCI+SG92ZXIgb3ZlciB0aGlzIHRleHQuPC9zcGFuPicpO1xuICogICAgIH0pO1xuICogICB9KTtcbiAqIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKlxuICpcbiAqICMjIENhbiBJIGRpc2FibGUgU0NFIGNvbXBsZXRlbHk/XG4gKlxuICogWWVzLCB5b3UgY2FuLiAgSG93ZXZlciwgdGhpcyBpcyBzdHJvbmdseSBkaXNjb3VyYWdlZC4gIFNDRSBnaXZlcyB5b3UgYSBsb3Qgb2Ygc2VjdXJpdHkgYmVuZWZpdHNcbiAqIGZvciBsaXR0bGUgY29kaW5nIG92ZXJoZWFkLiAgSXQgd2lsbCBiZSBtdWNoIGhhcmRlciB0byB0YWtlIGFuIFNDRSBkaXNhYmxlZCBhcHBsaWNhdGlvbiBhbmRcbiAqIGVpdGhlciBzZWN1cmUgaXQgb24geW91ciBvd24gb3IgZW5hYmxlIFNDRSBhdCBhIGxhdGVyIHN0YWdlLiAgSXQgbWlnaHQgbWFrZSBzZW5zZSB0byBkaXNhYmxlIFNDRVxuICogZm9yIGNhc2VzIHdoZXJlIHlvdSBoYXZlIGEgbG90IG9mIGV4aXN0aW5nIGNvZGUgdGhhdCB3YXMgd3JpdHRlbiBiZWZvcmUgU0NFIHdhcyBpbnRyb2R1Y2VkIGFuZFxuICogeW91J3JlIG1pZ3JhdGluZyB0aGVtIGEgbW9kdWxlIGF0IGEgdGltZS4gQWxzbyBkbyBub3RlIHRoYXQgdGhpcyBpcyBhbiBhcHAtd2lkZSBzZXR0aW5nLCBzbyBpZlxuICogeW91IGFyZSB3cml0aW5nIGEgbGlicmFyeSwgeW91IHdpbGwgY2F1c2Ugc2VjdXJpdHkgYnVncyBhcHBsaWNhdGlvbnMgdXNpbmcgaXQuXG4gKlxuICogVGhhdCBzYWlkLCBoZXJlJ3MgaG93IHlvdSBjYW4gY29tcGxldGVseSBkaXNhYmxlIFNDRTpcbiAqXG4gKiBgYGBcbiAqIGFuZ3VsYXIubW9kdWxlKCdteUFwcFdpdGhTY2VEaXNhYmxlZG15QXBwJywgW10pLmNvbmZpZyhmdW5jdGlvbigkc2NlUHJvdmlkZXIpIHtcbiAqICAgLy8gQ29tcGxldGVseSBkaXNhYmxlIFNDRS4gIEZvciBkZW1vbnN0cmF0aW9uIHB1cnBvc2VzIG9ubHkhXG4gKiAgIC8vIERvIG5vdCB1c2UgaW4gbmV3IHByb2plY3RzIG9yIGxpYnJhcmllcy5cbiAqICAgJHNjZVByb3ZpZGVyLmVuYWJsZWQoZmFsc2UpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKi9cblxuZnVuY3Rpb24gJFNjZVByb3ZpZGVyKCkge1xuICB2YXIgZW5hYmxlZCA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHNjZVByb3ZpZGVyI2VuYWJsZWRcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gdmFsdWUgSWYgcHJvdmlkZWQsIHRoZW4gZW5hYmxlcy9kaXNhYmxlcyBTQ0UgYXBwbGljYXRpb24td2lkZS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBTQ0UgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRW5hYmxlcy9kaXNhYmxlcyBTQ0UgYW5kIHJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUuXG4gICAqL1xuICB0aGlzLmVuYWJsZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBlbmFibGVkID0gISF2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGVuYWJsZWQ7XG4gIH07XG5cblxuICAvKiBEZXNpZ24gbm90ZXMgb24gdGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gZm9yIFNDRS5cbiAgICpcbiAgICogVGhlIEFQSSBjb250cmFjdCBmb3IgdGhlIFNDRSBkZWxlZ2F0ZVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIFRoZSBTQ0UgZGVsZWdhdGUgb2JqZWN0IG11c3QgcHJvdmlkZSB0aGUgZm9sbG93aW5nIDMgbWV0aG9kczpcbiAgICpcbiAgICogLSB0cnVzdEFzKGNvbnRleHRFbnVtLCB2YWx1ZSlcbiAgICogICAgIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gdGVsbCB0aGUgU0NFIHNlcnZpY2UgdGhhdCB0aGUgcHJvdmlkZWQgdmFsdWUgaXMgT0sgdG8gdXNlIGluIHRoZVxuICAgKiAgICAgY29udGV4dHMgc3BlY2lmaWVkIGJ5IGNvbnRleHRFbnVtLiAgSXQgbXVzdCByZXR1cm4gYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhY2NlcHRlZCBieVxuICAgKiAgICAgZ2V0VHJ1c3RlZCgpIGZvciBhIGNvbXBhdGlibGUgY29udGV4dEVudW0gYW5kIHJldHVybiB0aGlzIHZhbHVlLlxuICAgKlxuICAgKiAtIHZhbHVlT2YodmFsdWUpXG4gICAqICAgICBGb3IgdmFsdWVzIHRoYXQgd2VyZSBub3QgcHJvZHVjZWQgYnkgdHJ1c3RBcygpLCByZXR1cm4gdGhlbSBhcyBpcy4gIEZvciB2YWx1ZXMgdGhhdCB3ZXJlXG4gICAqICAgICBwcm9kdWNlZCBieSB0cnVzdEFzKCksIHJldHVybiB0aGUgY29ycmVzcG9uZGluZyBpbnB1dCB2YWx1ZSB0byB0cnVzdEFzLiAgQmFzaWNhbGx5LCBpZlxuICAgKiAgICAgdHJ1c3RBcyBpcyB3cmFwcGluZyB0aGUgZ2l2ZW4gdmFsdWVzIGludG8gc29tZSB0eXBlLCB0aGlzIG9wZXJhdGlvbiB1bndyYXBzIGl0IHdoZW4gZ2l2ZW5cbiAgICogICAgIHN1Y2ggYSB2YWx1ZS5cbiAgICpcbiAgICogLSBnZXRUcnVzdGVkKGNvbnRleHRFbnVtLCB2YWx1ZSlcbiAgICogICAgIFRoaXMgZnVuY3Rpb24gc2hvdWxkIHJldHVybiB0aGUgdmFsdWUgdGhhdCBpcyBzYWZlIHRvIHVzZSBpbiB0aGUgY29udGV4dCBzcGVjaWZpZWQgYnlcbiAgICogICAgIGNvbnRleHRFbnVtIG9yIHRocm93IGFuZCBleGNlcHRpb24gb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIGNvbnRyYWN0IGRlbGliZXJhdGVseSBkb2VzIE5PVCBzdGF0ZSB0aGF0IHZhbHVlcyByZXR1cm5lZCBieSB0cnVzdEFzKCkgbXVzdCBiZVxuICAgKiBvcGFxdWUgb3Igd3JhcHBlZCBpbiBzb21lIGhvbGRlciBvYmplY3QuICBUaGF0IGhhcHBlbnMgdG8gYmUgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlsLiAgRm9yXG4gICAqIGluc3RhbmNlLCBhbiBpbXBsZW1lbnRhdGlvbiBjb3VsZCBtYWludGFpbiBhIHJlZ2lzdHJ5IG9mIGFsbCB0cnVzdGVkIG9iamVjdHMgYnkgY29udGV4dC4gIEluXG4gICAqIHN1Y2ggYSBjYXNlLCB0cnVzdEFzKCkgd291bGQgcmV0dXJuIHRoZSBzYW1lIG9iamVjdCB0aGF0IHdhcyBwYXNzZWQgaW4uICBnZXRUcnVzdGVkKCkgd291bGRcbiAgICogcmV0dXJuIHRoZSBzYW1lIG9iamVjdCBwYXNzZWQgaW4gaWYgaXQgd2FzIGZvdW5kIGluIHRoZSByZWdpc3RyeSB1bmRlciBhIGNvbXBhdGlibGUgY29udGV4dCBvclxuICAgKiB0aHJvdyBhbiBleGNlcHRpb24gb3RoZXJ3aXNlLiAgQW4gaW1wbGVtZW50YXRpb24gbWlnaHQgb25seSB3cmFwIHZhbHVlcyBzb21lIG9mIHRoZSB0aW1lIGJhc2VkXG4gICAqIG9uIHNvbWUgY3JpdGVyaWEuICBnZXRUcnVzdGVkKCkgbWlnaHQgcmV0dXJuIGEgdmFsdWUgYW5kIG5vdCB0aHJvdyBhbiBleGNlcHRpb24gZm9yIHNwZWNpYWxcbiAgICogY29uc3RhbnRzIG9yIG9iamVjdHMgZXZlbiBpZiBub3Qgd3JhcHBlZC4gIEFsbCBzdWNoIGltcGxlbWVudGF0aW9ucyBmdWxmaWxsIHRoaXMgY29udHJhY3QuXG4gICAqXG4gICAqXG4gICAqIEEgbm90ZSBvbiB0aGUgaW5oZXJpdGFuY2UgbW9kZWwgZm9yIFNDRSBjb250ZXh0c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogSSd2ZSB1c2VkIGluaGVyaXRhbmNlIGFuZCBtYWRlIFJFU09VUkNFX1VSTCB3cmFwcGVkIHR5cGVzIGEgc3VidHlwZSBvZiBVUkwgd3JhcHBlZCB0eXBlcy4gIFRoaXNcbiAgICogaXMgcHVyZWx5IGFuIGltcGxlbWVudGF0aW9uIGRldGFpbHMuXG4gICAqXG4gICAqIFRoZSBjb250cmFjdCBpcyBzaW1wbHkgdGhpczpcbiAgICpcbiAgICogICAgIGdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKSBzdWNjZWVkaW5nIGltcGxpZXMgdGhhdCBnZXRUcnVzdGVkKCRzY2UuVVJMLCB2YWx1ZSlcbiAgICogICAgIHdpbGwgYWxzbyBzdWNjZWVkLlxuICAgKlxuICAgKiBJbmhlcml0YW5jZSBoYXBwZW5zIHRvIGNhcHR1cmUgdGhpcyBpbiBhIG5hdHVyYWwgd2F5LiBJbiBzb21lIGZ1dHVyZSwgd2UgbWF5IG5vdCB1c2VcbiAgICogaW5oZXJpdGFuY2UgYW55bW9yZS4gVGhhdCBpcyBPSyBiZWNhdXNlIG5vIGNvZGUgb3V0c2lkZSBvZiBzY2UuanMgYW5kIHNjZVNwZWNzLmpzIHdvdWxkIG5lZWQgdG9cbiAgICogYmUgYXdhcmUgb2YgdGhpcyBkZXRhaWwuXG4gICAqL1xuXG4gIHRoaXMuJGdldCA9IFsnJHBhcnNlJywgJyRzY2VEZWxlZ2F0ZScsIGZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgICRwYXJzZSwgICAkc2NlRGVsZWdhdGUpIHtcbiAgICAvLyBTdXBwb3J0OiBJRSA5LTExIG9ubHlcbiAgICAvLyBQcmVyZXE6IEVuc3VyZSB0aGF0IHdlJ3JlIG5vdCBydW5uaW5nIGluIElFPDExIHF1aXJrcyBtb2RlLiAgSW4gdGhhdCBtb2RlLCBJRSA8IDExIGFsbG93XG4gICAgLy8gdGhlIFwiZXhwcmVzc2lvbihqYXZhc2NyaXB0IGV4cHJlc3Npb24pXCIgc3ludGF4IHdoaWNoIGlzIGluc2VjdXJlLlxuICAgIGlmIChlbmFibGVkICYmIG1zaWUgPCA4KSB7XG4gICAgICB0aHJvdyAkc2NlTWluRXJyKCdpZXF1aXJrcycsXG4gICAgICAgICdTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBkb2VzIG5vdCBzdXBwb3J0IEludGVybmV0IEV4cGxvcmVyIHZlcnNpb24gPCAxMSBpbiBxdWlya3MgJyArXG4gICAgICAgICdtb2RlLiAgWW91IGNhbiBmaXggdGhpcyBieSBhZGRpbmcgdGhlIHRleHQgPCFkb2N0eXBlIGh0bWw+IHRvIHRoZSB0b3Agb2YgeW91ciBIVE1MICcgK1xuICAgICAgICAnZG9jdW1lbnQuICBTZWUgaHR0cDovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcuJHNjZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nKTtcbiAgICB9XG5cbiAgICB2YXIgc2NlID0gc2hhbGxvd0NvcHkoU0NFX0NPTlRFWFRTKTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI2lzRW5hYmxlZFxuICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIFNDRSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuICBJZiB5b3Ugd2FudCB0byBzZXQgdGhlIHZhbHVlLCB5b3VcbiAgICAgKiAgICAgaGF2ZSB0byBkbyBpdCBhdCBtb2R1bGUgY29uZmlnIHRpbWUgb24ge0BsaW5rIG5nLiRzY2VQcm92aWRlciAkc2NlUHJvdmlkZXJ9LlxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhIGJvb2xlYW4gaW5kaWNhdGluZyBpZiBTQ0UgaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBzY2UuaXNFbmFibGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZW5hYmxlZDtcbiAgICB9O1xuICAgIHNjZS50cnVzdEFzID0gJHNjZURlbGVnYXRlLnRydXN0QXM7XG4gICAgc2NlLmdldFRydXN0ZWQgPSAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZDtcbiAgICBzY2UudmFsdWVPZiA9ICRzY2VEZWxlZ2F0ZS52YWx1ZU9mO1xuXG4gICAgaWYgKCFlbmFibGVkKSB7XG4gICAgICBzY2UudHJ1c3RBcyA9IHNjZS5nZXRUcnVzdGVkID0gZnVuY3Rpb24odHlwZSwgdmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuICAgICAgc2NlLnZhbHVlT2YgPSBpZGVudGl0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDb252ZXJ0cyBBbmd1bGFySlMge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaW50byBhIGZ1bmN0aW9uLiAgVGhpcyBpcyBsaWtlIHtAbGlua1xuICAgICAqIG5nLiRwYXJzZSAkcGFyc2V9IGFuZCBpcyBpZGVudGljYWwgd2hlbiB0aGUgZXhwcmVzc2lvbiBpcyBhIGxpdGVyYWwgY29uc3RhbnQuICBPdGhlcndpc2UsIGl0XG4gICAgICogd3JhcHMgdGhlIGV4cHJlc3Npb24gaW4gYSBjYWxsIHRvIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWQgJHNjZS5nZXRUcnVzdGVkKCp0eXBlKixcbiAgICAgKiAqcmVzdWx0Kil9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgU0NFIGNvbnRleHQgaW4gd2hpY2ggdGhpcyByZXN1bHQgd2lsbCBiZSB1c2VkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gQSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxuICAgICAqXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGVcbiAgICAgKiAgICAgIHN0cmluZ3MgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXNcbiAgICAgKiAgICAgIGluIGBjb250ZXh0YC5cbiAgICAgKi9cbiAgICBzY2UucGFyc2VBcyA9IGZ1bmN0aW9uIHNjZVBhcnNlQXModHlwZSwgZXhwcikge1xuICAgICAgdmFyIHBhcnNlZCA9ICRwYXJzZShleHByKTtcbiAgICAgIGlmIChwYXJzZWQubGl0ZXJhbCAmJiBwYXJzZWQuY29uc3RhbnQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAkcGFyc2UoZXhwciwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gc2NlLmdldFRydXN0ZWQodHlwZSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogRGVsZWdhdGVzIHRvIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXNgfS4gQXMgc3VjaCwgcmV0dXJucyBhXG4gICAgICogd3JhcHBlZCBvYmplY3QgdGhhdCByZXByZXNlbnRzIHlvdXIgdmFsdWUsIGFuZCB0aGUgdHJ1c3QgeW91IGhhdmUgaW4gaXRzIHNhZmV0eSBmb3IgdGhlIGdpdmVuXG4gICAgICogY29udGV4dC4gQW5ndWxhckpTIGNhbiB0aGVuIHVzZSB0aGF0IHZhbHVlIGFzLWlzIGluIGJpbmRpbmdzIG9mIHRoZSBzcGVjaWZpZWQgc2VjdXJlIGNvbnRleHQuXG4gICAgICogVGhpcyBpcyB1c2VkIGluIGJpbmRpbmdzIGZvciBgbmctYmluZC1odG1sYCwgYG5nLWluY2x1ZGVgLCBhbmQgbW9zdCBgc3JjYCBhdHRyaWJ1dGVcbiAgICAgKiBpbnRlcnBvbGF0aW9ucy4gU2VlIHtAbGluayBuZy4kc2NlICRzY2V9IGZvciBzdHJpY3QgY29udGV4dHVhbCBlc2NhcGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgc2FmZSBmb3IgdXNlLCBlLmcuIGAkc2NlLlVSTGAsXG4gICAgICogICAgIGAkc2NlLlJFU09VUkNFX1VSTGAsIGAkc2NlLkhUTUxgLCBgJHNjZS5KU2Agb3IgYCRzY2UuQ1NTYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgdGhhdCBzaG91bGQgYmUgY29uc2lkZXJlZCB0cnVzdGVkLlxuICAgICAqIEByZXR1cm4geyp9IEEgd3JhcHBlZCB2ZXJzaW9uIG9mIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgYXMgYSB0cnVzdGVkIHZhcmlhbnQgb2YgeW91ciBgdmFsdWVgXG4gICAgICogICAgIGluIHRoZSBjb250ZXh0IHlvdSBzcGVjaWZpZWQuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzSHRtbFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNIdG1sKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXMoJHNjZS5IVE1MLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gbWFyayBhcyB0cnVzdGVkIGZvciBgJHNjZS5IVE1MYCBjb250ZXh0LlxuICAgICAqIEByZXR1cm4geyp9IEEgd3JhcHBlZCB2ZXJzaW9uIG9mIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgYXMgYSB0cnVzdGVkIHZhcmlhbnQgb2YgeW91ciBgdmFsdWVgXG4gICAgICogICAgIGluIGAkc2NlLkhUTUxgIGNvbnRleHQgKGxpa2UgYG5nLWJpbmQtaHRtbGApLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc0Nzc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNDc3ModmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBcygkc2NlLkNTUywgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIG1hcmsgYXMgdHJ1c3RlZCBmb3IgYCRzY2UuQ1NTYCBjb250ZXh0LlxuICAgICAqIEByZXR1cm4geyp9IEEgd3JhcHBlZCB2ZXJzaW9uIG9mIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgYXMgYSB0cnVzdGVkIHZhcmlhbnRcbiAgICAgKiAgICAgb2YgeW91ciBgdmFsdWVgIGluIGAkc2NlLkNTU2AgY29udGV4dC4gVGhpcyBjb250ZXh0IGlzIGN1cnJlbnRseSB1bnVzZWQsIHNvIHRoZXJlIGFyZVxuICAgICAqICAgICBhbG1vc3Qgbm8gcmVhc29ucyB0byB1c2UgdGhpcyBmdW5jdGlvbiBzbyBmYXIuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzVXJsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc1VybCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gbWFyayBhcyB0cnVzdGVkIGZvciBgJHNjZS5VUkxgIGNvbnRleHQuXG4gICAgICogQHJldHVybiB7Kn0gQSB3cmFwcGVkIHZlcnNpb24gb2YgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHRydXN0ZWQgdmFyaWFudCBvZiB5b3VyIGB2YWx1ZWBcbiAgICAgKiAgICAgaW4gYCRzY2UuVVJMYCBjb250ZXh0LiBUaGF0IGNvbnRleHQgaXMgY3VycmVudGx5IHVudXNlZCwgc28gdGhlcmUgYXJlIGFsbW9zdCBubyByZWFzb25zXG4gICAgICogICAgIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHNvIGZhci5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNSZXNvdXJjZVVybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNSZXNvdXJjZVVybCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gbWFyayBhcyB0cnVzdGVkIGZvciBgJHNjZS5SRVNPVVJDRV9VUkxgIGNvbnRleHQuXG4gICAgICogQHJldHVybiB7Kn0gQSB3cmFwcGVkIHZlcnNpb24gb2YgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHRydXN0ZWQgdmFyaWFudCBvZiB5b3VyIGB2YWx1ZWBcbiAgICAgKiAgICAgaW4gYCRzY2UuUkVTT1VSQ0VfVVJMYCBjb250ZXh0ICh0ZW1wbGF0ZSBVUkxzIGluIGBuZy1pbmNsdWRlYCwgbW9zdCBgc3JjYCBhdHRyaWJ1dGVcbiAgICAgKiAgICAgYmluZGluZ3MsIC4uLilcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNKc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNKcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuSlMsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBtYXJrIGFzIHRydXN0ZWQgZm9yIGAkc2NlLkpTYCBjb250ZXh0LlxuICAgICAqIEByZXR1cm4geyp9IEEgd3JhcHBlZCB2ZXJzaW9uIG9mIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgYXMgYSB0cnVzdGVkIHZhcmlhbnQgb2YgeW91ciBgdmFsdWVgXG4gICAgICogICAgIGluIGAkc2NlLkpTYCBjb250ZXh0LiBUaGF0IGNvbnRleHQgaXMgY3VycmVudGx5IHVudXNlZCwgc28gdGhlcmUgYXJlIGFsbW9zdCBubyByZWFzb25zIHRvXG4gICAgICogICAgIHVzZSB0aGlzIGZ1bmN0aW9uIHNvIGZhci5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIERlbGVnYXRlcyB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkYH0uICBBcyBzdWNoLFxuICAgICAqIHRha2VzIGFueSBpbnB1dCwgYW5kIGVpdGhlciByZXR1cm5zIGEgdmFsdWUgdGhhdCdzIHNhZmUgdG8gdXNlIGluIHRoZSBzcGVjaWZpZWQgY29udGV4dCxcbiAgICAgKiBvciB0aHJvd3MgYW4gZXhjZXB0aW9uLiBUaGlzIGZ1bmN0aW9uIGlzIGF3YXJlIG9mIHRydXN0ZWQgdmFsdWVzIGNyZWF0ZWQgYnkgdGhlIGB0cnVzdEFzYFxuICAgICAqIGZ1bmN0aW9uIGFuZCBpdHMgc2hvcnRoYW5kcywgYW5kIHdoZW4gY29udGV4dHMgYXJlIGFwcHJvcHJpYXRlLCByZXR1cm5zIHRoZSB1bndyYXBwZWQgdmFsdWVcbiAgICAgKiBhcy1pcy4gRmluYWxseSwgdGhpcyBmdW5jdGlvbiBjYW4gYWxzbyB0aHJvdyB3aGVuIHRoZXJlIGlzIG5vIHdheSB0byB0dXJuIGBtYXliZVRydXN0ZWRgIGluIGFcbiAgICAgKiBzYWZlIHZhbHVlIChlLmcuLCBubyBzYW5pdGl6YXRpb24gaXMgYXZhaWxhYmxlIG9yIHBvc3NpYmxlLilcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgdG8gYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0geyp9IG1heWJlVHJ1c3RlZCBUaGUgcmVzdWx0IG9mIGEgcHJpb3Ige0BsaW5rIG5nLiRzY2UjdHJ1c3RBc1xuICAgICAqICAgICBgJHNjZS50cnVzdEFzYH0gY2FsbCwgb3IgYW55dGhpbmcgZWxzZSAod2hpY2ggd2lsbCBub3QgYmUgY29uc2lkZXJlZCB0cnVzdGVkLilcbiAgICAgKiBAcmV0dXJuIHsqfSBBIHZlcnNpb24gb2YgdGhlIHZhbHVlIHRoYXQncyBzYWZlIHRvIHVzZSBpbiB0aGUgZ2l2ZW4gY29udGV4dCwgb3IgdGhyb3dzIGFuXG4gICAgICogICAgIGV4Y2VwdGlvbiBpZiB0aGlzIGlzIGltcG9zc2libGUuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkSHRtbFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRIdG1sKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5IVE1MLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC5cbiAgICAgKiBAcmV0dXJuIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5IVE1MLCB2YWx1ZSlgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkQ3NzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZENzcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuQ1NTLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC5cbiAgICAgKiBAcmV0dXJuIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5DU1MsIHZhbHVlKWBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRVcmxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkVXJsKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5VUkwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLlxuICAgICAqIEByZXR1cm4geyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLlVSTCwgdmFsdWUpYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZGAuXG4gICAgICogQHJldHVybiB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkSnNcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkSnModmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLkpTLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC5cbiAgICAgKiBAcmV0dXJuIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5KUywgdmFsdWUpYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc0h0bWxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzSHRtbChleHByZXNzaW9uIHN0cmluZylgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5IVE1MLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBBIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZVxuICAgICAqICAgICAgc3RyaW5ncyBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlc1xuICAgICAqICAgICAgaW4gYGNvbnRleHRgLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc0Nzc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNDc3ModmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuQ1NTLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBBIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZVxuICAgICAqICAgICAgc3RyaW5ncyBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlc1xuICAgICAqICAgICAgaW4gYGNvbnRleHRgLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1VybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBBIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZVxuICAgICAqICAgICAgc3RyaW5ncyBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlc1xuICAgICAqICAgICAgaW4gYGNvbnRleHRgLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1Jlc291cmNlVXJsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc1Jlc291cmNlVXJsKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gQSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxuICAgICAqXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGVcbiAgICAgKiAgICAgIHN0cmluZ3MgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXNcbiAgICAgKiAgICAgIGluIGBjb250ZXh0YC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNKc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNKcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5KUywgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gQSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxuICAgICAqXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGVcbiAgICAgKiAgICAgIHN0cmluZ3MgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXNcbiAgICAgKiAgICAgIGluIGBjb250ZXh0YC5cbiAgICAgKi9cblxuICAgIC8vIFNob3J0aGFuZCBkZWxlZ2F0aW9ucy5cbiAgICB2YXIgcGFyc2UgPSBzY2UucGFyc2VBcyxcbiAgICAgICAgZ2V0VHJ1c3RlZCA9IHNjZS5nZXRUcnVzdGVkLFxuICAgICAgICB0cnVzdEFzID0gc2NlLnRydXN0QXM7XG5cbiAgICBmb3JFYWNoKFNDRV9DT05URVhUUywgZnVuY3Rpb24oZW51bVZhbHVlLCBuYW1lKSB7XG4gICAgICB2YXIgbE5hbWUgPSBsb3dlcmNhc2UobmFtZSk7XG4gICAgICBzY2Vbc25ha2VUb0NhbWVsKCdwYXJzZV9hc18nICsgbE5hbWUpXSA9IGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlKGVudW1WYWx1ZSwgZXhwcik7XG4gICAgICB9O1xuICAgICAgc2NlW3NuYWtlVG9DYW1lbCgnZ2V0X3RydXN0ZWRfJyArIGxOYW1lKV0gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZ2V0VHJ1c3RlZChlbnVtVmFsdWUsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgICBzY2Vbc25ha2VUb0NhbWVsKCd0cnVzdF9hc18nICsgbE5hbWUpXSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0cnVzdEFzKGVudW1WYWx1ZSwgdmFsdWUpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzY2U7XG4gIH1dO1xufVxuXG4vKiBleHBvcnRlZCAkU25pZmZlclByb3ZpZGVyICovXG5cbi8qKlxuICogISEhIFRoaXMgaXMgYW4gdW5kb2N1bWVudGVkIFwicHJpdmF0ZVwiIHNlcnZpY2UgISEhXG4gKlxuICogQG5hbWUgJHNuaWZmZXJcbiAqIEByZXF1aXJlcyAkd2luZG93XG4gKiBAcmVxdWlyZXMgJGRvY3VtZW50XG4gKiBAdGhpc1xuICpcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaGlzdG9yeSBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgaHRtbDUgaGlzdG9yeSBhcGkgP1xuICogQHByb3BlcnR5IHtib29sZWFufSB0cmFuc2l0aW9ucyBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgQ1NTIHRyYW5zaXRpb24gZXZlbnRzID9cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYW5pbWF0aW9ucyBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgQ1NTIGFuaW1hdGlvbiBldmVudHMgP1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBpcyB2ZXJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbiBvZiB0ZXN0aW5nIGJyb3dzZXIncyBmZWF0dXJlcy5cbiAqL1xuZnVuY3Rpb24gJFNuaWZmZXJQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCR3aW5kb3csICRkb2N1bWVudCkge1xuICAgIHZhciBldmVudFN1cHBvcnQgPSB7fSxcbiAgICAgICAgLy8gQ2hyb21lIFBhY2thZ2VkIEFwcHMgYXJlIG5vdCBhbGxvd2VkIHRvIGFjY2VzcyBgaGlzdG9yeS5wdXNoU3RhdGVgLlxuICAgICAgICAvLyBJZiBub3Qgc2FuZGJveGVkLCB0aGV5IGNhbiBiZSBkZXRlY3RlZCBieSB0aGUgcHJlc2VuY2Ugb2YgYGNocm9tZS5hcHAucnVudGltZWBcbiAgICAgICAgLy8gKHNlZSBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2FwcHMvYXBpX2luZGV4KS4gSWYgc2FuZGJveGVkLCB0aGV5IGNhbiBiZSBkZXRlY3RlZCBieVxuICAgICAgICAvLyB0aGUgcHJlc2VuY2Ugb2YgYW4gZXh0ZW5zaW9uIHJ1bnRpbWUgSUQgYW5kIHRoZSBhYnNlbmNlIG9mIG90aGVyIENocm9tZSBydW50aW1lIEFQSXNcbiAgICAgICAgLy8gKHNlZSBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2FwcHMvbWFuaWZlc3Qvc2FuZGJveCkuXG4gICAgICAgIC8vIChOVy5qcyBhcHBzIGhhdmUgYWNjZXNzIHRvIENocm9tZSBBUElzLCBidXQgZG8gc3VwcG9ydCBgaGlzdG9yeWAuKVxuICAgICAgICBpc053ID0gJHdpbmRvdy5udyAmJiAkd2luZG93Lm53LnByb2Nlc3MsXG4gICAgICAgIGlzQ2hyb21lUGFja2FnZWRBcHAgPVxuICAgICAgICAgICAgIWlzTncgJiZcbiAgICAgICAgICAgICR3aW5kb3cuY2hyb21lICYmXG4gICAgICAgICAgICAoJHdpbmRvdy5jaHJvbWUuYXBwICYmICR3aW5kb3cuY2hyb21lLmFwcC5ydW50aW1lIHx8XG4gICAgICAgICAgICAgICAgISR3aW5kb3cuY2hyb21lLmFwcCAmJiAkd2luZG93LmNocm9tZS5ydW50aW1lICYmICR3aW5kb3cuY2hyb21lLnJ1bnRpbWUuaWQpLFxuICAgICAgICBoYXNIaXN0b3J5UHVzaFN0YXRlID0gIWlzQ2hyb21lUGFja2FnZWRBcHAgJiYgJHdpbmRvdy5oaXN0b3J5ICYmICR3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUsXG4gICAgICAgIGFuZHJvaWQgPVxuICAgICAgICAgIHRvSW50KCgvYW5kcm9pZCAoXFxkKykvLmV4ZWMobG93ZXJjYXNlKCgkd2luZG93Lm5hdmlnYXRvciB8fCB7fSkudXNlckFnZW50KSkgfHwgW10pWzFdKSxcbiAgICAgICAgYm94ZWUgPSAvQm94ZWUvaS50ZXN0KCgkd2luZG93Lm5hdmlnYXRvciB8fCB7fSkudXNlckFnZW50KSxcbiAgICAgICAgZG9jdW1lbnQgPSAkZG9jdW1lbnRbMF0gfHwge30sXG4gICAgICAgIGJvZHlTdHlsZSA9IGRvY3VtZW50LmJvZHkgJiYgZG9jdW1lbnQuYm9keS5zdHlsZSxcbiAgICAgICAgdHJhbnNpdGlvbnMgPSBmYWxzZSxcbiAgICAgICAgYW5pbWF0aW9ucyA9IGZhbHNlO1xuXG4gICAgaWYgKGJvZHlTdHlsZSkge1xuICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8NSwgQmxhY2tiZXJyeSBCcm93c2VyIDEwLCBkZWZhdWx0IENocm9tZSBpbiBBbmRyb2lkIDQuNC54XG4gICAgICAvLyBNZW50aW9uZWQgYnJvd3NlcnMgbmVlZCBhIC13ZWJraXQtIHByZWZpeCBmb3IgdHJhbnNpdGlvbnMgJiBhbmltYXRpb25zLlxuICAgICAgdHJhbnNpdGlvbnMgPSAhISgndHJhbnNpdGlvbicgaW4gYm9keVN0eWxlIHx8ICd3ZWJraXRUcmFuc2l0aW9uJyBpbiBib2R5U3R5bGUpO1xuICAgICAgYW5pbWF0aW9ucyA9ICEhKCdhbmltYXRpb24nIGluIGJvZHlTdHlsZSB8fCAnd2Via2l0QW5pbWF0aW9uJyBpbiBib2R5U3R5bGUpO1xuICAgIH1cblxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIEFuZHJvaWQgaGFzIGhpc3RvcnkucHVzaFN0YXRlLCBidXQgaXQgZG9lcyBub3QgdXBkYXRlIGxvY2F0aW9uIGNvcnJlY3RseVxuICAgICAgLy8gc28gbGV0J3Mgbm90IHVzZSB0aGUgaGlzdG9yeSBBUEkgYXQgYWxsLlxuICAgICAgLy8gaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2FuZHJvaWQvaXNzdWVzL2RldGFpbD9pZD0xNzQ3MVxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvOTA0XG5cbiAgICAgIC8vIG9sZGVyIHdlYmtpdCBicm93c2VyICg1MzMuOSkgb24gQm94ZWUgYm94IGhhcyBleGFjdGx5IHRoZSBzYW1lIHByb2JsZW0gYXMgQW5kcm9pZCBoYXNcbiAgICAgIC8vIHNvIGxldCdzIG5vdCB1c2UgdGhlIGhpc3RvcnkgQVBJIGFsc29cbiAgICAgIC8vIFdlIGFyZSBwdXJwb3NlZnVsbHkgdXNpbmcgYCEoYW5kcm9pZCA8IDQpYCB0byBjb3ZlciB0aGUgY2FzZSB3aGVuIGBhbmRyb2lkYCBpcyB1bmRlZmluZWRcbiAgICAgIGhpc3Rvcnk6ICEhKGhhc0hpc3RvcnlQdXNoU3RhdGUgJiYgIShhbmRyb2lkIDwgNCkgJiYgIWJveGVlKSxcbiAgICAgIGhhc0V2ZW50OiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAvLyBTdXBwb3J0OiBJRSA5LTExIG9ubHlcbiAgICAgICAgLy8gSUU5IGltcGxlbWVudHMgJ2lucHV0JyBldmVudCBpdCdzIHNvIGZ1YmFyZWQgdGhhdCB3ZSByYXRoZXIgcHJldGVuZCB0aGF0IGl0IGRvZXNuJ3QgaGF2ZVxuICAgICAgICAvLyBpdC4gSW4gcGFydGljdWxhciB0aGUgZXZlbnQgaXMgbm90IGZpcmVkIHdoZW4gYmFja3NwYWNlIG9yIGRlbGV0ZSBrZXkgYXJlIHByZXNzZWQgb3JcbiAgICAgICAgLy8gd2hlbiBjdXQgb3BlcmF0aW9uIGlzIHBlcmZvcm1lZC5cbiAgICAgICAgLy8gSUUxMCsgaW1wbGVtZW50cyAnaW5wdXQnIGV2ZW50IGJ1dCBpdCBlcnJvbmVvdXNseSBmaXJlcyB1bmRlciB2YXJpb3VzIHNpdHVhdGlvbnMsXG4gICAgICAgIC8vIGUuZy4gd2hlbiBwbGFjZWhvbGRlciBjaGFuZ2VzLCBvciBhIGZvcm0gaXMgZm9jdXNlZC5cbiAgICAgICAgaWYgKGV2ZW50ID09PSAnaW5wdXQnICYmIG1zaWUpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoZXZlbnRTdXBwb3J0W2V2ZW50XSkpIHtcbiAgICAgICAgICB2YXIgZGl2RWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgZXZlbnRTdXBwb3J0W2V2ZW50XSA9ICdvbicgKyBldmVudCBpbiBkaXZFbG07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXZlbnRTdXBwb3J0W2V2ZW50XTtcbiAgICAgIH0sXG4gICAgICBjc3A6IGNzcCgpLFxuICAgICAgdHJhbnNpdGlvbnM6IHRyYW5zaXRpb25zLFxuICAgICAgYW5pbWF0aW9uczogYW5pbWF0aW9ucyxcbiAgICAgIGFuZHJvaWQ6IGFuZHJvaWRcbiAgICB9O1xuICB9XTtcbn1cblxuLyoqXG4gKiAhIFRoaXMgaXMgYSBwcml2YXRlIHVuZG9jdW1lbnRlZCBzZXJ2aWNlICFcbiAqXG4gKiBAbmFtZSAkJHRhc2tUcmFja2VyRmFjdG9yeVxuICogQGRlc2NyaXB0aW9uXG4gKiBBIGZ1bmN0aW9uIHRvIGNyZWF0ZSBgVGFza1RyYWNrZXJgIGluc3RhbmNlcy5cbiAqXG4gKiBBIGBUYXNrVHJhY2tlcmAgY2FuIGtlZXAgdHJhY2sgb2YgcGVuZGluZyB0YXNrcyAoZ3JvdXBlZCBieSB0eXBlKSBhbmQgY2FuIG5vdGlmeSBpbnRlcmVzdGVkXG4gKiBwYXJ0aWVzIHdoZW4gYWxsIHBlbmRpbmcgdGFza3MgKG9yIHRhc2tzIG9mIGEgc3BlY2lmaWMgdHlwZSkgaGF2ZSBiZWVuIGNvbXBsZXRlZC5cbiAqXG4gKiBAcGFyYW0geyRsb2d9IGxvZyAtIEEgbG9nZ2VyIGluc3RhbmNlIChzdWNoIGFzIGAkbG9nYCkuIFVzZWQgdG8gbG9nIGVycm9yIGR1cmluZyBjYWxsYmFja1xuICogICAgIGV4ZWN1dGlvbi5cbiAqXG4gKiBAdGhpc1xuICovXG5mdW5jdGlvbiAkJFRhc2tUcmFja2VyRmFjdG9yeVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSB2YWx1ZUZuKGZ1bmN0aW9uKGxvZykgeyByZXR1cm4gbmV3IFRhc2tUcmFja2VyKGxvZyk7IH0pO1xufVxuXG5mdW5jdGlvbiBUYXNrVHJhY2tlcihsb2cpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgdGFza0NvdW50cyA9IHt9O1xuICB2YXIgdGFza0NhbGxiYWNrcyA9IFtdO1xuXG4gIHZhciBBTExfVEFTS1NfVFlQRSA9IHNlbGYuQUxMX1RBU0tTX1RZUEUgPSAnJCRhbGwkJCc7XG4gIHZhciBERUZBVUxUX1RBU0tfVFlQRSA9IHNlbGYuREVGQVVMVF9UQVNLX1RZUEUgPSAnJCRkZWZhdWx0JCQnO1xuXG4gIC8qKlxuICAgKiBFeGVjdXRlIHRoZSBzcGVjaWZpZWQgZnVuY3Rpb24gYW5kIGRlY3JlbWVudCB0aGUgYXBwcm9wcmlhdGUgYHRhc2tDb3VudHNgIGNvdW50ZXIuXG4gICAqIElmIHRoZSBjb3VudGVyIHJlYWNoZXMgMCwgYWxsIGNvcnJlc3BvbmRpbmcgYHRhc2tDYWxsYmFja3NgIGFyZSBleGVjdXRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gZXhlY3V0ZS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBbdGFza1R5cGU9REVGQVVMVF9UQVNLX1RZUEVdIC0gVGhlIHR5cGUgb2YgdGFzayB0aGF0IGlzIGJlaW5nIGNvbXBsZXRlZC5cbiAgICovXG4gIHNlbGYuY29tcGxldGVUYXNrID0gY29tcGxldGVUYXNrO1xuXG4gIC8qKlxuICAgKiBJbmNyZWFzZSB0aGUgdGFzayBjb3VudCBmb3IgdGhlIHNwZWNpZmllZCB0YXNrIHR5cGUgKG9yIHRoZSBkZWZhdWx0IHRhc2sgdHlwZSBpZiBub24gaXNcbiAgICogc3BlY2lmaWVkKS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBbdGFza1R5cGU9REVGQVVMVF9UQVNLX1RZUEVdIC0gVGhlIHR5cGUgb2YgdGFzayB3aG9zZSBjb3VudCB3aWxsIGJlIGluY3JlYXNlZC5cbiAgICovXG4gIHNlbGYuaW5jVGFza0NvdW50ID0gaW5jVGFza0NvdW50O1xuXG4gIC8qKlxuICAgKiBFeGVjdXRlIHRoZSBzcGVjaWZpZWQgY2FsbGJhY2sgd2hlbiBhbGwgcGVuZGluZyB0YXNrcyBoYXZlIGJlZW4gY29tcGxldGVkLlxuICAgKlxuICAgKiBJZiB0aGVyZSBhcmUgbm8gcGVuZGluZyB0YXNrcywgdGhlIGNhbGxiYWNrIGlzIGV4ZWN1dGVkIGltbWVkaWF0ZWx5LiBZb3UgY2FuIG9wdGlvbmFsbHkgbGltaXRcbiAgICogdGhlIHRhc2tzIHRoYXQgd2lsbCBiZSB3YWl0ZWQgZm9yIHRvIGEgc3BlY2lmaWMgdHlwZSwgYnkgcGFzc2luZyBhIGB0YXNrVHlwZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGVyZSBhcmUgbm8gcGVuZGluZyB0YXNrcy5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBbdGFza1R5cGU9QUxMX1RBU0tTX1RZUEVdIC0gVGhlIHR5cGUgb2YgdGFza3MgdGhhdCB3aWxsIGJlIHdhaXRlZCBmb3IuXG4gICAqL1xuICBzZWxmLm5vdGlmeVdoZW5Ob1BlbmRpbmdUYXNrcyA9IG5vdGlmeVdoZW5Ob1BlbmRpbmdUYXNrcztcblxuICBmdW5jdGlvbiBjb21wbGV0ZVRhc2soZm4sIHRhc2tUeXBlKSB7XG4gICAgdGFza1R5cGUgPSB0YXNrVHlwZSB8fCBERUZBVUxUX1RBU0tfVFlQRTtcblxuICAgIHRyeSB7XG4gICAgICBmbigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBkZWNUYXNrQ291bnQodGFza1R5cGUpO1xuXG4gICAgICB2YXIgY291bnRGb3JUeXBlID0gdGFza0NvdW50c1t0YXNrVHlwZV07XG4gICAgICB2YXIgY291bnRGb3JBbGwgPSB0YXNrQ291bnRzW0FMTF9UQVNLU19UWVBFXTtcblxuICAgICAgLy8gSWYgYXQgbGVhc3Qgb25lIG9mIHRoZSBxdWV1ZXMgKGBBTExfVEFTS1NfVFlQRWAgb3IgYHRhc2tUeXBlYCkgaXMgZW1wdHksIHJ1biBjYWxsYmFja3MuXG4gICAgICBpZiAoIWNvdW50Rm9yQWxsIHx8ICFjb3VudEZvclR5cGUpIHtcbiAgICAgICAgdmFyIGdldE5leHRDYWxsYmFjayA9ICFjb3VudEZvckFsbCA/IGdldExhc3RDYWxsYmFjayA6IGdldExhc3RDYWxsYmFja0ZvclR5cGU7XG4gICAgICAgIHZhciBuZXh0Q2I7XG5cbiAgICAgICAgd2hpbGUgKChuZXh0Q2IgPSBnZXROZXh0Q2FsbGJhY2sodGFza1R5cGUpKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBuZXh0Q2IoKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsb2cuZXJyb3IoZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGVjVGFza0NvdW50KHRhc2tUeXBlKSB7XG4gICAgdGFza1R5cGUgPSB0YXNrVHlwZSB8fCBERUZBVUxUX1RBU0tfVFlQRTtcbiAgICBpZiAodGFza0NvdW50c1t0YXNrVHlwZV0pIHtcbiAgICAgIHRhc2tDb3VudHNbdGFza1R5cGVdLS07XG4gICAgICB0YXNrQ291bnRzW0FMTF9UQVNLU19UWVBFXS0tO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldExhc3RDYWxsYmFjaygpIHtcbiAgICB2YXIgY2JJbmZvID0gdGFza0NhbGxiYWNrcy5wb3AoKTtcbiAgICByZXR1cm4gY2JJbmZvICYmIGNiSW5mby5jYjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldExhc3RDYWxsYmFja0ZvclR5cGUodGFza1R5cGUpIHtcbiAgICBmb3IgKHZhciBpID0gdGFza0NhbGxiYWNrcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgdmFyIGNiSW5mbyA9IHRhc2tDYWxsYmFja3NbaV07XG4gICAgICBpZiAoY2JJbmZvLnR5cGUgPT09IHRhc2tUeXBlKSB7XG4gICAgICAgIHRhc2tDYWxsYmFja3Muc3BsaWNlKGksIDEpO1xuICAgICAgICByZXR1cm4gY2JJbmZvLmNiO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluY1Rhc2tDb3VudCh0YXNrVHlwZSkge1xuICAgIHRhc2tUeXBlID0gdGFza1R5cGUgfHwgREVGQVVMVF9UQVNLX1RZUEU7XG4gICAgdGFza0NvdW50c1t0YXNrVHlwZV0gPSAodGFza0NvdW50c1t0YXNrVHlwZV0gfHwgMCkgKyAxO1xuICAgIHRhc2tDb3VudHNbQUxMX1RBU0tTX1RZUEVdID0gKHRhc2tDb3VudHNbQUxMX1RBU0tTX1RZUEVdIHx8IDApICsgMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vdGlmeVdoZW5Ob1BlbmRpbmdUYXNrcyhjYWxsYmFjaywgdGFza1R5cGUpIHtcbiAgICB0YXNrVHlwZSA9IHRhc2tUeXBlIHx8IEFMTF9UQVNLU19UWVBFO1xuICAgIGlmICghdGFza0NvdW50c1t0YXNrVHlwZV0pIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhc2tDYWxsYmFja3MucHVzaCh7dHlwZTogdGFza1R5cGUsIGNiOiBjYWxsYmFja30pO1xuICAgIH1cbiAgfVxufVxuXG52YXIgJHRlbXBsYXRlUmVxdWVzdE1pbkVyciA9IG1pbkVycignJHRlbXBsYXRlUmVxdWVzdCcpO1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJHRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyXG4gKiBAdGhpc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlZCB0byBjb25maWd1cmUgdGhlIG9wdGlvbnMgcGFzc2VkIHRvIHRoZSB7QGxpbmsgJGh0dHB9IHNlcnZpY2Ugd2hlbiBtYWtpbmcgYSB0ZW1wbGF0ZSByZXF1ZXN0LlxuICpcbiAqIEZvciBleGFtcGxlLCBpdCBjYW4gYmUgdXNlZCBmb3Igc3BlY2lmeWluZyB0aGUgXCJBY2NlcHRcIiBoZWFkZXIgdGhhdCBpcyBzZW50IHRvIHRoZSBzZXJ2ZXIsIHdoZW5cbiAqIHJlcXVlc3RpbmcgYSB0ZW1wbGF0ZS5cbiAqL1xuZnVuY3Rpb24gJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyKCkge1xuXG4gIHZhciBodHRwT3B0aW9ucztcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkdGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIjaHR0cE9wdGlvbnNcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoZSBvcHRpb25zIHRvIGJlIHBhc3NlZCB0byB0aGUge0BsaW5rICRodHRwfSBzZXJ2aWNlIHdoZW4gbWFraW5nIHRoZSByZXF1ZXN0LlxuICAgKiBZb3UgY2FuIHVzZSB0aGlzIHRvIG92ZXJyaWRlIG9wdGlvbnMgc3VjaCBhcyB0aGUgXCJBY2NlcHRcIiBoZWFkZXIgZm9yIHRlbXBsYXRlIHJlcXVlc3RzLlxuICAgKlxuICAgKiBUaGUge0BsaW5rICR0ZW1wbGF0ZVJlcXVlc3R9IHdpbGwgc2V0IHRoZSBgY2FjaGVgIGFuZCB0aGUgYHRyYW5zZm9ybVJlc3BvbnNlYCBwcm9wZXJ0aWVzIG9mIHRoZVxuICAgKiBvcHRpb25zIGlmIG5vdCBvdmVycmlkZGVuIGhlcmUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gdmFsdWUgbmV3IHZhbHVlIGZvciB0aGUge0BsaW5rICRodHRwfSBvcHRpb25zLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfHNlbGZ9IFJldHVybnMgdGhlIHtAbGluayAkaHR0cH0gb3B0aW9ucyB3aGVuIHVzZWQgYXMgZ2V0dGVyIGFuZCBzZWxmIGlmIHVzZWQgYXMgc2V0dGVyLlxuICAgKi9cbiAgdGhpcy5odHRwT3B0aW9ucyA9IGZ1bmN0aW9uKHZhbCkge1xuICAgIGlmICh2YWwpIHtcbiAgICAgIGh0dHBPcHRpb25zID0gdmFsO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBodHRwT3B0aW9ucztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJHRlbXBsYXRlUmVxdWVzdFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlIGAkdGVtcGxhdGVSZXF1ZXN0YCBzZXJ2aWNlIHJ1bnMgc2VjdXJpdHkgY2hlY2tzIHRoZW4gZG93bmxvYWRzIHRoZSBwcm92aWRlZCB0ZW1wbGF0ZSB1c2luZ1xuICAgKiBgJGh0dHBgIGFuZCwgdXBvbiBzdWNjZXNzLCBzdG9yZXMgdGhlIGNvbnRlbnRzIGluc2lkZSBvZiBgJHRlbXBsYXRlQ2FjaGVgLiBJZiB0aGUgSFRUUCByZXF1ZXN0XG4gICAqIGZhaWxzIG9yIHRoZSByZXNwb25zZSBkYXRhIG9mIHRoZSBIVFRQIHJlcXVlc3QgaXMgZW1wdHksIGEgYCRjb21waWxlYCBlcnJvciB3aWxsIGJlIHRocm93biAodGhlXG4gICAqIGV4Y2VwdGlvbiBjYW4gYmUgdGh3YXJ0ZWQgYnkgc2V0dGluZyB0aGUgMm5kIHBhcmFtZXRlciBvZiB0aGUgZnVuY3Rpb24gdG8gdHJ1ZSkuIE5vdGUgdGhhdCB0aGVcbiAgICogY29udGVudHMgb2YgYCR0ZW1wbGF0ZUNhY2hlYCBhcmUgdHJ1c3RlZCwgc28gdGhlIGNhbGwgdG8gYCRzY2UuZ2V0VHJ1c3RlZFVybCh0cGwpYCBpcyBvbWl0dGVkXG4gICAqIHdoZW4gYHRwbGAgaXMgb2YgdHlwZSBzdHJpbmcgYW5kIGAkdGVtcGxhdGVDYWNoZWAgaGFzIHRoZSBtYXRjaGluZyBlbnRyeS5cbiAgICpcbiAgICogSWYgeW91IHdhbnQgdG8gcGFzcyBjdXN0b20gb3B0aW9ucyB0byB0aGUgYCRodHRwYCBzZXJ2aWNlLCBzdWNoIGFzIHNldHRpbmcgdGhlIEFjY2VwdCBoZWFkZXIgeW91XG4gICAqIGNhbiBjb25maWd1cmUgdGhpcyB2aWEge0BsaW5rICR0ZW1wbGF0ZVJlcXVlc3RQcm92aWRlciNodHRwT3B0aW9uc30uXG4gICAqXG4gICAqIGAkdGVtcGxhdGVSZXF1ZXN0YCBpcyB1c2VkIGludGVybmFsbHkgYnkge0BsaW5rICRjb21waWxlfSwge0BsaW5rIG5nUm91dGUuJHJvdXRlfSwgYW5kIGRpcmVjdGl2ZXMgc3VjaFxuICAgKiBhcyB7QGxpbmsgbmdJbmNsdWRlfSB0byBkb3dubG9hZCBhbmQgY2FjaGUgdGVtcGxhdGVzLlxuICAgKlxuICAgKiAzcmQgcGFydHkgbW9kdWxlcyBzaG91bGQgdXNlIGAkdGVtcGxhdGVSZXF1ZXN0YCBpZiB0aGVpciBzZXJ2aWNlcyBvciBkaXJlY3RpdmVzIGFyZSBsb2FkaW5nXG4gICAqIHRlbXBsYXRlcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8VHJ1c3RlZFJlc291cmNlVXJsfSB0cGwgVGhlIEhUVFAgcmVxdWVzdCB0ZW1wbGF0ZSBVUkxcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaWdub3JlUmVxdWVzdEVycm9yIFdoZXRoZXIgb3Igbm90IHRvIGlnbm9yZSB0aGUgZXhjZXB0aW9uIHdoZW4gdGhlIHJlcXVlc3QgZmFpbHMgb3IgdGhlIHRlbXBsYXRlIGlzIGVtcHR5XG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSBmb3IgdGhlIEhUVFAgcmVzcG9uc2UgZGF0YSBvZiB0aGUgZ2l2ZW4gVVJMLlxuICAgKlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gdG90YWxQZW5kaW5nUmVxdWVzdHMgdG90YWwgYW1vdW50IG9mIHBlbmRpbmcgdGVtcGxhdGUgcmVxdWVzdHMgYmVpbmcgZG93bmxvYWRlZC5cbiAgICovXG4gIHRoaXMuJGdldCA9IFsnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJHRlbXBsYXRlQ2FjaGUnLCAnJGh0dHAnLCAnJHEnLCAnJHNjZScsXG4gICAgZnVuY3Rpb24oJGV4Y2VwdGlvbkhhbmRsZXIsICR0ZW1wbGF0ZUNhY2hlLCAkaHR0cCwgJHEsICRzY2UpIHtcblxuICAgICAgZnVuY3Rpb24gaGFuZGxlUmVxdWVzdEZuKHRwbCwgaWdub3JlUmVxdWVzdEVycm9yKSB7XG4gICAgICAgIGhhbmRsZVJlcXVlc3RGbi50b3RhbFBlbmRpbmdSZXF1ZXN0cysrO1xuXG4gICAgICAgIC8vIFdlIGNvbnNpZGVyIHRoZSB0ZW1wbGF0ZSBjYWNoZSBob2xkcyBvbmx5IHRydXN0ZWQgdGVtcGxhdGVzLCBzb1xuICAgICAgICAvLyB0aGVyZSdzIG5vIG5lZWQgdG8gZ28gdGhyb3VnaCB3aGl0ZWxpc3RpbmcgYWdhaW4gZm9yIGtleXMgdGhhdCBhbHJlYWR5XG4gICAgICAgIC8vIGFyZSBpbmNsdWRlZCBpbiB0aGVyZS4gVGhpcyBhbHNvIG1ha2VzIEFuZ3VsYXJKUyBhY2NlcHQgYW55IHNjcmlwdFxuICAgICAgICAvLyBkaXJlY3RpdmUsIG5vIG1hdHRlciBpdHMgbmFtZS4gSG93ZXZlciwgd2Ugc3RpbGwgbmVlZCB0byB1bndyYXAgdHJ1c3RlZFxuICAgICAgICAvLyB0eXBlcy5cbiAgICAgICAgaWYgKCFpc1N0cmluZyh0cGwpIHx8IGlzVW5kZWZpbmVkKCR0ZW1wbGF0ZUNhY2hlLmdldCh0cGwpKSkge1xuICAgICAgICAgIHRwbCA9ICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKHRwbCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdHJhbnNmb3JtUmVzcG9uc2UgPSAkaHR0cC5kZWZhdWx0cyAmJiAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZTtcblxuICAgICAgICBpZiAoaXNBcnJheSh0cmFuc2Zvcm1SZXNwb25zZSkpIHtcbiAgICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZSA9IHRyYW5zZm9ybVJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbih0cmFuc2Zvcm1lcikge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVyICE9PSBkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRyYW5zZm9ybVJlc3BvbnNlID09PSBkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtKSB7XG4gICAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2UgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICRodHRwLmdldCh0cGwsIGV4dGVuZCh7XG4gICAgICAgICAgICBjYWNoZTogJHRlbXBsYXRlQ2FjaGUsXG4gICAgICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZTogdHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICAgICB9LCBodHRwT3B0aW9ucykpXG4gICAgICAgICAgLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBoYW5kbGVSZXF1ZXN0Rm4udG90YWxQZW5kaW5nUmVxdWVzdHMtLTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUucHV0KHRwbCwgcmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgfSwgaGFuZGxlRXJyb3IpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZUVycm9yKHJlc3ApIHtcbiAgICAgICAgICBpZiAoIWlnbm9yZVJlcXVlc3RFcnJvcikge1xuICAgICAgICAgICAgcmVzcCA9ICR0ZW1wbGF0ZVJlcXVlc3RNaW5FcnIoJ3RwbG9hZCcsXG4gICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byBsb2FkIHRlbXBsYXRlOiB7MH0gKEhUVFAgc3RhdHVzOiB7MX0gezJ9KScsXG4gICAgICAgICAgICAgICAgdHBsLCByZXNwLnN0YXR1cywgcmVzcC5zdGF0dXNUZXh0KTtcblxuICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIocmVzcCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZXNwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBoYW5kbGVSZXF1ZXN0Rm4udG90YWxQZW5kaW5nUmVxdWVzdHMgPSAwO1xuXG4gICAgICByZXR1cm4gaGFuZGxlUmVxdWVzdEZuO1xuICAgIH1cbiAgXTtcbn1cblxuLyoqIEB0aGlzICovXG5mdW5jdGlvbiAkJFRlc3RhYmlsaXR5UHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckYnJvd3NlcicsICckbG9jYXRpb24nLFxuICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICAgJGJyb3dzZXIsICAgJGxvY2F0aW9uKSB7XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSAkdGVzdGFiaWxpdHlcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRoZSBwcml2YXRlICQkdGVzdGFiaWxpdHkgc2VydmljZSBwcm92aWRlcyBhIGNvbGxlY3Rpb24gb2YgbWV0aG9kcyBmb3IgdXNlIHdoZW4gZGVidWdnaW5nXG4gICAgICogb3IgYnkgYXV0b21hdGVkIHRlc3QgYW5kIGRlYnVnZ2luZyB0b29scy5cbiAgICAgKi9cbiAgICB2YXIgdGVzdGFiaWxpdHkgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjZmluZEJpbmRpbmdzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGVsZW1lbnRzIHRoYXQgYXJlIGJvdW5kICh2aWEgbmctYmluZCBvciB7e319KVxuICAgICAqIHRvIGV4cHJlc3Npb25zIG1hdGNoaW5nIHRoZSBpbnB1dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCByb290IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFRoZSBiaW5kaW5nIGV4cHJlc3Npb24gdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRfZXhhY3RNYXRjaCBJZiB0cnVlLCBvbmx5IHJldHVybnMgZXhhY3QgbWF0Y2hlc1xuICAgICAqICAgICBmb3IgdGhlIGV4cHJlc3Npb24uIEZpbHRlcnMgYW5kIHdoaXRlc3BhY2UgYXJlIGlnbm9yZWQuXG4gICAgICovXG4gICAgdGVzdGFiaWxpdHkuZmluZEJpbmRpbmdzID0gZnVuY3Rpb24oZWxlbWVudCwgZXhwcmVzc2lvbiwgb3B0X2V4YWN0TWF0Y2gpIHtcbiAgICAgIHZhciBiaW5kaW5ncyA9IGVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmctYmluZGluZycpO1xuICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgIGZvckVhY2goYmluZGluZ3MsIGZ1bmN0aW9uKGJpbmRpbmcpIHtcbiAgICAgICAgdmFyIGRhdGFCaW5kaW5nID0gYW5ndWxhci5lbGVtZW50KGJpbmRpbmcpLmRhdGEoJyRiaW5kaW5nJyk7XG4gICAgICAgIGlmIChkYXRhQmluZGluZykge1xuICAgICAgICAgIGZvckVhY2goZGF0YUJpbmRpbmcsIGZ1bmN0aW9uKGJpbmRpbmdOYW1lKSB7XG4gICAgICAgICAgICBpZiAob3B0X2V4YWN0TWF0Y2gpIHtcbiAgICAgICAgICAgICAgdmFyIG1hdGNoZXIgPSBuZXcgUmVnRXhwKCcoXnxcXFxccyknICsgZXNjYXBlRm9yUmVnZXhwKGV4cHJlc3Npb24pICsgJyhcXFxcc3xcXFxcfHwkKScpO1xuICAgICAgICAgICAgICBpZiAobWF0Y2hlci50ZXN0KGJpbmRpbmdOYW1lKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChiaW5kaW5nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKGJpbmRpbmdOYW1lLmluZGV4T2YoZXhwcmVzc2lvbikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGJpbmRpbmcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjZmluZE1vZGVsc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBlbGVtZW50cyB0aGF0IGFyZSB0d28td2F5IGZvdW5kIHZpYSBuZy1tb2RlbCB0b1xuICAgICAqIGV4cHJlc3Npb25zIG1hdGNoaW5nIHRoZSBpbnB1dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCByb290IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFRoZSBtb2RlbCBleHByZXNzaW9uIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0X2V4YWN0TWF0Y2ggSWYgdHJ1ZSwgb25seSByZXR1cm5zIGV4YWN0IG1hdGNoZXNcbiAgICAgKiAgICAgZm9yIHRoZSBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIHRlc3RhYmlsaXR5LmZpbmRNb2RlbHMgPSBmdW5jdGlvbihlbGVtZW50LCBleHByZXNzaW9uLCBvcHRfZXhhY3RNYXRjaCkge1xuICAgICAgdmFyIHByZWZpeGVzID0gWyduZy0nLCAnZGF0YS1uZy0nLCAnbmdcXFxcOiddO1xuICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCBwcmVmaXhlcy5sZW5ndGg7ICsrcCkge1xuICAgICAgICB2YXIgYXR0cmlidXRlRXF1YWxzID0gb3B0X2V4YWN0TWF0Y2ggPyAnPScgOiAnKj0nO1xuICAgICAgICB2YXIgc2VsZWN0b3IgPSAnWycgKyBwcmVmaXhlc1twXSArICdtb2RlbCcgKyBhdHRyaWJ1dGVFcXVhbHMgKyAnXCInICsgZXhwcmVzc2lvbiArICdcIl0nO1xuICAgICAgICB2YXIgZWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjZ2V0TG9jYXRpb25cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IGZvciBnZXR0aW5nIHRoZSBsb2NhdGlvbiBpbiBhIGJyb3dzZXIgYWdub3N0aWMgd2F5LiBSZXR1cm5zXG4gICAgICogICAgIHRoZSBwYXRoLCBzZWFyY2gsIGFuZCBoYXNoLiAoZS5nLiAvcGF0aD9hPWIjaGFzaClcbiAgICAgKi9cbiAgICB0ZXN0YWJpbGl0eS5nZXRMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICRsb2NhdGlvbi51cmwoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgJCR0ZXN0YWJpbGl0eSNzZXRMb2NhdGlvblxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgZm9yIG5hdmlnYXRpbmcgdG8gYSBsb2NhdGlvbiB3aXRob3V0IGRvaW5nIGEgZnVsbCBwYWdlIHJlbG9hZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGxvY2F0aW9uIHVybCAocGF0aCwgc2VhcmNoIGFuZCBoYXNoLFxuICAgICAqICAgICBlLmcuIC9wYXRoP2E9YiNoYXNoKSB0byBnbyB0by5cbiAgICAgKi9cbiAgICB0ZXN0YWJpbGl0eS5zZXRMb2NhdGlvbiA9IGZ1bmN0aW9uKHVybCkge1xuICAgICAgaWYgKHVybCAhPT0gJGxvY2F0aW9uLnVybCgpKSB7XG4gICAgICAgICRsb2NhdGlvbi51cmwodXJsKTtcbiAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjd2hlblN0YWJsZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ2FsbHMgdGhlIGNhbGxiYWNrIHdoZW4gYWxsIHBlbmRpbmcgdGFza3MgYXJlIGNvbXBsZXRlZC5cbiAgICAgKlxuICAgICAqIFR5cGVzIG9mIHRhc2tzIHdhaXRlZCBmb3IgaW5jbHVkZTpcbiAgICAgKiAtIFBlbmRpbmcgdGltZW91dHMgKHZpYSB7QGxpbmsgJHRpbWVvdXR9KS5cbiAgICAgKiAtIFBlbmRpbmcgSFRUUCByZXF1ZXN0cyAodmlhIHtAbGluayAkaHR0cH0pLlxuICAgICAqIC0gSW4tcHJvZ3Jlc3Mgcm91dGUgdHJhbnNpdGlvbnMgKHZpYSB7QGxpbmsgJHJvdXRlfSkuXG4gICAgICogLSBQZW5kaW5nIHRhc2tzIHNjaGVkdWxlZCB2aWEge0BsaW5rICRyb290U2NvcGUjJGFwcGx5QXN5bmN9LlxuICAgICAqIC0gUGVuZGluZyB0YXNrcyBzY2hlZHVsZWQgdmlhIHtAbGluayAkcm9vdFNjb3BlIyRldmFsQXN5bmN9LlxuICAgICAqICAgVGhlc2UgaW5jbHVkZSB0YXNrcyBzY2hlZHVsZWQgdmlhIGAkZXZhbEFzeW5jKClgIGluZGlyZWN0bHkgKHN1Y2ggYXMge0BsaW5rICRxfSBwcm9taXNlcykuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqL1xuICAgIHRlc3RhYmlsaXR5LndoZW5TdGFibGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgJGJyb3dzZXIubm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cyhjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIHJldHVybiB0ZXN0YWJpbGl0eTtcbiAgfV07XG59XG5cbnZhciAkdGltZW91dE1pbkVyciA9IG1pbkVycignJHRpbWVvdXQnKTtcblxuLyoqIEB0aGlzICovXG5mdW5jdGlvbiAkVGltZW91dFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJHEnLCAnJCRxJywgJyRleGNlcHRpb25IYW5kbGVyJyxcbiAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAgICRicm93c2VyLCAgICRxLCAgICQkcSwgICAkZXhjZXB0aW9uSGFuZGxlcikge1xuXG4gICAgdmFyIGRlZmVycmVkcyA9IHt9O1xuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lICR0aW1lb3V0XG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBBbmd1bGFySlMncyB3cmFwcGVyIGZvciBgd2luZG93LnNldFRpbWVvdXRgLiBUaGUgYGZuYCBmdW5jdGlvbiBpcyB3cmFwcGVkIGludG8gYSB0cnkvY2F0Y2hcbiAgICAgKiBibG9jayBhbmQgZGVsZWdhdGVzIGFueSBleGNlcHRpb25zIHRvXG4gICAgICoge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxuICAgICAqXG4gICAgICogVGhlIHJldHVybiB2YWx1ZSBvZiBjYWxsaW5nIGAkdGltZW91dGAgaXMgYSBwcm9taXNlLCB3aGljaCB3aWxsIGJlIHJlc29sdmVkIHdoZW5cbiAgICAgKiB0aGUgZGVsYXkgaGFzIHBhc3NlZCBhbmQgdGhlIHRpbWVvdXQgZnVuY3Rpb24sIGlmIHByb3ZpZGVkLCBpcyBleGVjdXRlZC5cbiAgICAgKlxuICAgICAqIFRvIGNhbmNlbCBhIHRpbWVvdXQgcmVxdWVzdCwgY2FsbCBgJHRpbWVvdXQuY2FuY2VsKHByb21pc2UpYC5cbiAgICAgKlxuICAgICAqIEluIHRlc3RzIHlvdSBjYW4gdXNlIHtAbGluayBuZ01vY2suJHRpbWVvdXQgYCR0aW1lb3V0LmZsdXNoKClgfSB0b1xuICAgICAqIHN5bmNocm9ub3VzbHkgZmx1c2ggdGhlIHF1ZXVlIG9mIGRlZmVycmVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIElmIHlvdSBvbmx5IHdhbnQgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBhZnRlciBzb21lIHNwZWNpZmllZCBkZWxheVxuICAgICAqIHRoZW4geW91IGNhbiBjYWxsIGAkdGltZW91dGAgd2l0aG91dCB0aGUgYGZuYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKT19IGZuIEEgZnVuY3Rpb24sIHdob3NlIGV4ZWN1dGlvbiBzaG91bGQgYmUgZGVsYXllZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IFtkZWxheT0wXSBEZWxheSBpbiBtaWxsaXNlY29uZHMuXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gW2ludm9rZUFwcGx5PXRydWVdIElmIHNldCB0byBgZmFsc2VgIHNraXBzIG1vZGVsIGRpcnR5IGNoZWNraW5nLCBvdGhlcndpc2VcbiAgICAgKiAgIHdpbGwgaW52b2tlIGBmbmAgd2l0aGluIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHkgJGFwcGx5fSBibG9jay5cbiAgICAgKiBAcGFyYW0gey4uLio9fSBQYXNzIGFkZGl0aW9uYWwgcGFyYW1ldGVycyB0byB0aGUgZXhlY3V0ZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdoZW4gdGhlIHRpbWVvdXQgaXMgcmVhY2hlZC4gVGhlIHByb21pc2VcbiAgICAgKiAgIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBgZm5gIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGltZW91dChmbiwgZGVsYXksIGludm9rZUFwcGx5KSB7XG4gICAgICBpZiAoIWlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICAgIGludm9rZUFwcGx5ID0gZGVsYXk7XG4gICAgICAgIGRlbGF5ID0gZm47XG4gICAgICAgIGZuID0gbm9vcDtcbiAgICAgIH1cblxuICAgICAgdmFyIGFyZ3MgPSBzbGljZUFyZ3MoYXJndW1lbnRzLCAzKSxcbiAgICAgICAgICBza2lwQXBwbHkgPSAoaXNEZWZpbmVkKGludm9rZUFwcGx5KSAmJiAhaW52b2tlQXBwbHkpLFxuICAgICAgICAgIGRlZmVycmVkID0gKHNraXBBcHBseSA/ICQkcSA6ICRxKS5kZWZlcigpLFxuICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlLFxuICAgICAgICAgIHRpbWVvdXRJZDtcblxuICAgICAgdGltZW91dElkID0gJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShmbi5hcHBseShudWxsLCBhcmdzKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZSk7XG4gICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgZGVsZXRlIGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcEFwcGx5KSAkcm9vdFNjb3BlLiRhcHBseSgpO1xuICAgICAgfSwgZGVsYXksICckdGltZW91dCcpO1xuXG4gICAgICBwcm9taXNlLiQkdGltZW91dElkID0gdGltZW91dElkO1xuICAgICAgZGVmZXJyZWRzW3RpbWVvdXRJZF0gPSBkZWZlcnJlZDtcblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHRpbWVvdXQjY2FuY2VsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDYW5jZWxzIGEgdGFzayBhc3NvY2lhdGVkIHdpdGggdGhlIGBwcm9taXNlYC4gQXMgYSByZXN1bHQgb2YgdGhpcywgdGhlIHByb21pc2Ugd2lsbCBiZVxuICAgICAqIHJlc29sdmVkIHdpdGggYSByZWplY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1Byb21pc2U9fSBwcm9taXNlIFByb21pc2UgcmV0dXJuZWQgYnkgdGhlIGAkdGltZW91dGAgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB0YXNrIGhhc24ndCBleGVjdXRlZCB5ZXQgYW5kIHdhcyBzdWNjZXNzZnVsbHlcbiAgICAgKiAgIGNhbmNlbGVkLlxuICAgICAqL1xuICAgIHRpbWVvdXQuY2FuY2VsID0gZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgaWYgKCFwcm9taXNlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIGlmICghcHJvbWlzZS5oYXNPd25Qcm9wZXJ0eSgnJCR0aW1lb3V0SWQnKSkge1xuICAgICAgICB0aHJvdyAkdGltZW91dE1pbkVycignYmFkcHJvbScsXG4gICAgICAgICAgICAnYCR0aW1lb3V0LmNhbmNlbCgpYCBjYWxsZWQgd2l0aCBhIHByb21pc2UgdGhhdCB3YXMgbm90IGdlbmVyYXRlZCBieSBgJHRpbWVvdXQoKWAuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZGVmZXJyZWRzLmhhc093blByb3BlcnR5KHByb21pc2UuJCR0aW1lb3V0SWQpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHZhciBpZCA9IHByb21pc2UuJCR0aW1lb3V0SWQ7XG4gICAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcnJlZHNbaWRdO1xuXG4gICAgICAvLyBUaW1lb3V0IGNhbmNlbHMgc2hvdWxkIG5vdCByZXBvcnQgYW4gdW5oYW5kbGVkIHByb21pc2UuXG4gICAgICBtYXJrUUV4Y2VwdGlvbkhhbmRsZWQoZGVmZXJyZWQucHJvbWlzZSk7XG4gICAgICBkZWZlcnJlZC5yZWplY3QoJ2NhbmNlbGVkJyk7XG4gICAgICBkZWxldGUgZGVmZXJyZWRzW2lkXTtcblxuICAgICAgcmV0dXJuICRicm93c2VyLmRlZmVyLmNhbmNlbChpZCk7XG4gICAgfTtcblxuICAgIHJldHVybiB0aW1lb3V0O1xuICB9XTtcbn1cblxuLy8gTk9URTogIFRoZSB1c2FnZSBvZiB3aW5kb3cgYW5kIGRvY3VtZW50IGluc3RlYWQgb2YgJHdpbmRvdyBhbmQgJGRvY3VtZW50IGhlcmUgaXNcbi8vIGRlbGliZXJhdGUuICBUaGlzIHNlcnZpY2UgZGVwZW5kcyBvbiB0aGUgc3BlY2lmaWMgYmVoYXZpb3Igb2YgYW5jaG9yIG5vZGVzIGNyZWF0ZWQgYnkgdGhlXG4vLyBicm93c2VyIChyZXNvbHZpbmcgYW5kIHBhcnNpbmcgVVJMcykgdGhhdCBpcyB1bmxpa2VseSB0byBiZSBwcm92aWRlZCBieSBtb2NrIG9iamVjdHMgYW5kXG4vLyBjYXVzZSB1cyB0byBicmVhayB0ZXN0cy4gIEluIGFkZGl0aW9uLCB3aGVuIHRoZSBicm93c2VyIHJlc29sdmVzIGEgVVJMIGZvciBYSFIsIGl0XG4vLyBkb2Vzbid0IGtub3cgYWJvdXQgbW9ja2VkIGxvY2F0aW9ucyBhbmQgcmVzb2x2ZXMgVVJMcyB0byB0aGUgcmVhbCBkb2N1bWVudCAtIHdoaWNoIGlzXG4vLyBleGFjdGx5IHRoZSBiZWhhdmlvciBuZWVkZWQgaGVyZS4gIFRoZXJlIGlzIGxpdHRsZSB2YWx1ZSBpcyBtb2NraW5nIHRoZXNlIG91dCBmb3IgdGhpc1xuLy8gc2VydmljZS5cbnZhciB1cmxQYXJzaW5nTm9kZSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG52YXIgb3JpZ2luVXJsID0gdXJsUmVzb2x2ZSh3aW5kb3cubG9jYXRpb24uaHJlZik7XG52YXIgYmFzZVVybFBhcnNpbmdOb2RlO1xuXG51cmxQYXJzaW5nTm9kZS5ocmVmID0gJ2h0dHA6Ly9bOjoxXSc7XG5cbi8vIFN1cHBvcnQ6IElFIDktMTEgb25seSwgRWRnZSAxNi0xNyBvbmx5IChmaXhlZCBpbiAxOCBQcmV2aWV3KVxuLy8gSUUvRWRnZSBkb24ndCB3cmFwIElQdjYgYWRkcmVzc2VzJyBob3N0bmFtZXMgaW4gc3F1YXJlIGJyYWNrZXRzXG4vLyB3aGVuIHBhcnNlZCBvdXQgb2YgYW4gYW5jaG9yIGVsZW1lbnQuXG52YXIgaXB2NkluQnJhY2tldHMgPSB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSA9PT0gJ1s6OjFdJztcblxuLyoqXG4gKlxuICogSW1wbGVtZW50YXRpb24gTm90ZXMgZm9yIG5vbi1JRSBicm93c2Vyc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQXNzaWduaW5nIGEgVVJMIHRvIHRoZSBocmVmIHByb3BlcnR5IG9mIGFuIGFuY2hvciBET00gbm9kZSwgZXZlbiBvbmUgYXR0YWNoZWQgdG8gdGhlIERPTSxcbiAqIHJlc3VsdHMgYm90aCBpbiB0aGUgbm9ybWFsaXppbmcgYW5kIHBhcnNpbmcgb2YgdGhlIFVSTC4gIE5vcm1hbGl6aW5nIG1lYW5zIHRoYXQgYSByZWxhdGl2ZVxuICogVVJMIHdpbGwgYmUgcmVzb2x2ZWQgaW50byBhbiBhYnNvbHV0ZSBVUkwgaW4gdGhlIGNvbnRleHQgb2YgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50LlxuICogUGFyc2luZyBtZWFucyB0aGF0IHRoZSBhbmNob3Igbm9kZSdzIGhvc3QsIGhvc3RuYW1lLCBwcm90b2NvbCwgcG9ydCwgcGF0aG5hbWUgYW5kIHJlbGF0ZWRcbiAqIHByb3BlcnRpZXMgYXJlIGFsbCBwb3B1bGF0ZWQgdG8gcmVmbGVjdCB0aGUgbm9ybWFsaXplZCBVUkwuICBUaGlzIGFwcHJvYWNoIGhhcyB3aWRlXG4gKiBjb21wYXRpYmlsaXR5IC0gU2FmYXJpIDErLCBNb3ppbGxhIDErIGV0Yy4gIFNlZVxuICogaHR0cDovL3d3dy5hcHRhbmEuY29tL3JlZmVyZW5jZS9odG1sL2FwaS9IVE1MQW5jaG9yRWxlbWVudC5odG1sXG4gKlxuICogSW1wbGVtZW50YXRpb24gTm90ZXMgZm9yIElFXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIElFIDw9IDEwIG5vcm1hbGl6ZXMgdGhlIFVSTCB3aGVuIGFzc2lnbmVkIHRvIHRoZSBhbmNob3Igbm9kZSBzaW1pbGFyIHRvIHRoZSBvdGhlclxuICogYnJvd3NlcnMuICBIb3dldmVyLCB0aGUgcGFyc2VkIGNvbXBvbmVudHMgd2lsbCBub3QgYmUgc2V0IGlmIHRoZSBVUkwgYXNzaWduZWQgZGlkIG5vdCBzcGVjaWZ5XG4gKiB0aGVtLiAgKGUuZy4gaWYgeW91IGFzc2lnbiBhLmhyZWYgPSBcImZvb1wiLCB0aGVuIGEucHJvdG9jb2wsIGEuaG9zdCwgZXRjLiB3aWxsIGJlIGVtcHR5LikgIFdlXG4gKiB3b3JrIGFyb3VuZCB0aGF0IGJ5IHBlcmZvcm1pbmcgdGhlIHBhcnNpbmcgaW4gYSAybmQgc3RlcCBieSB0YWtpbmcgYSBwcmV2aW91c2x5IG5vcm1hbGl6ZWRcbiAqIFVSTCAoZS5nLiBieSBhc3NpZ25pbmcgdG8gYS5ocmVmKSBhbmQgYXNzaWduaW5nIGl0IGEuaHJlZiBhZ2Fpbi4gIFRoaXMgY29ycmVjdGx5IHBvcHVsYXRlcyB0aGVcbiAqIHByb3BlcnRpZXMgc3VjaCBhcyBwcm90b2NvbCwgaG9zdG5hbWUsIHBvcnQsIGV0Yy5cbiAqXG4gKiBSZWZlcmVuY2VzOlxuICogICBodHRwOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MQW5jaG9yRWxlbWVudFxuICogICBodHRwOi8vd3d3LmFwdGFuYS5jb20vcmVmZXJlbmNlL2h0bWwvYXBpL0hUTUxBbmNob3JFbGVtZW50Lmh0bWxcbiAqICAgaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gKiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvcHVsbC8yOTAyXG4gKiAgIGh0dHA6Ly9qYW1lcy5wYWRvbHNleS5jb20vamF2YXNjcmlwdC9wYXJzaW5nLXVybHMtd2l0aC10aGUtZG9tL1xuICpcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZC4gSWYgYHVybGAgaXMgbm90IGEgc3RyaW5nLCBpdCB3aWxsIGJlIHJldHVybmVkXG4gKiAgICAgdW5jaGFuZ2VkLlxuICogQGRlc2NyaXB0aW9uIE5vcm1hbGl6ZXMgYW5kIHBhcnNlcyBhIFVSTC5cbiAqIEByZXR1cm5zIHtvYmplY3R9IFJldHVybnMgdGhlIG5vcm1hbGl6ZWQgVVJMIGFzIGEgZGljdGlvbmFyeS5cbiAqXG4gKiAgIHwgbWVtYmVyIG5hbWUgICB8IERlc2NyaXB0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICB8LS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqICAgfCBocmVmICAgICAgICAgIHwgQSBub3JtYWxpemVkIHZlcnNpb24gb2YgdGhlIHByb3ZpZGVkIFVSTCBpZiBpdCB3YXMgbm90IGFuIGFic29sdXRlIFVSTCB8XG4gKiAgIHwgcHJvdG9jb2wgICAgICB8IFRoZSBwcm90b2NvbCB3aXRob3V0IHRoZSB0cmFpbGluZyBjb2xvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICB8IGhvc3QgICAgICAgICAgfCBUaGUgaG9zdCBhbmQgcG9ydCAoaWYgdGhlIHBvcnQgaXMgbm9uLWRlZmF1bHQpIG9mIHRoZSBub3JtYWxpemVkVXJsICAgIHxcbiAqICAgfCBzZWFyY2ggICAgICAgIHwgVGhlIHNlYXJjaCBwYXJhbXMsIG1pbnVzIHRoZSBxdWVzdGlvbiBtYXJrICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgIHwgaGFzaCAgICAgICAgICB8IFRoZSBoYXNoIHN0cmluZywgbWludXMgdGhlIGhhc2ggc3ltYm9sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICB8IGhvc3RuYW1lICAgICAgfCBUaGUgaG9zdG5hbWUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgfCBwb3J0ICAgICAgICAgIHwgVGhlIHBvcnQsIHdpdGhvdXQgXCI6XCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgfCBwYXRobmFtZSAgICAgIHwgVGhlIHBhdGhuYW1lLCBiZWdpbm5pbmcgd2l0aCBcIi9cIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqXG4gKi9cbmZ1bmN0aW9uIHVybFJlc29sdmUodXJsKSB7XG4gIGlmICghaXNTdHJpbmcodXJsKSkgcmV0dXJuIHVybDtcblxuICB2YXIgaHJlZiA9IHVybDtcblxuICAvLyBTdXBwb3J0OiBJRSA5LTExIG9ubHlcbiAgaWYgKG1zaWUpIHtcbiAgICAvLyBOb3JtYWxpemUgYmVmb3JlIHBhcnNlLiAgUmVmZXIgSW1wbGVtZW50YXRpb24gTm90ZXMgb24gd2h5IHRoaXMgaXNcbiAgICAvLyBkb25lIGluIHR3byBzdGVwcyBvbiBJRS5cbiAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgfVxuXG4gIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gIHZhciBob3N0bmFtZSA9IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lO1xuXG4gIGlmICghaXB2NkluQnJhY2tldHMgJiYgaG9zdG5hbWUuaW5kZXhPZignOicpID4gLTEpIHtcbiAgICBob3N0bmFtZSA9ICdbJyArIGhvc3RuYW1lICsgJ10nO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgaG9zdDogdXJsUGFyc2luZ05vZGUuaG9zdCxcbiAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICBob3N0bmFtZTogaG9zdG5hbWUsXG4gICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKVxuICAgICAgPyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgOiAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICB9O1xufVxuXG4vKipcbiAqIFBhcnNlIGEgcmVxdWVzdCBVUkwgYW5kIGRldGVybWluZSB3aGV0aGVyIHRoaXMgaXMgYSBzYW1lLW9yaWdpbiByZXF1ZXN0IGFzIHRoZSBhcHBsaWNhdGlvblxuICogZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZXF1ZXN0VXJsIFRoZSB1cmwgb2YgdGhlIHJlcXVlc3QgYXMgYSBzdHJpbmcgdGhhdCB3aWxsIGJlIHJlc29sdmVkXG4gKiBvciBhIHBhcnNlZCBVUkwgb2JqZWN0LlxuICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHJlcXVlc3QgaXMgZm9yIHRoZSBzYW1lIG9yaWdpbiBhcyB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuXG4gKi9cbmZ1bmN0aW9uIHVybElzU2FtZU9yaWdpbihyZXF1ZXN0VXJsKSB7XG4gIHJldHVybiB1cmxzQXJlU2FtZU9yaWdpbihyZXF1ZXN0VXJsLCBvcmlnaW5VcmwpO1xufVxuXG4vKipcbiAqIFBhcnNlIGEgcmVxdWVzdCBVUkwgYW5kIGRldGVybWluZSB3aGV0aGVyIGl0IGlzIHNhbWUtb3JpZ2luIGFzIHRoZSBjdXJyZW50IGRvY3VtZW50IGJhc2UgVVJMLlxuICpcbiAqIE5vdGU6IFRoZSBiYXNlIFVSTCBpcyB1c3VhbGx5IHRoZSBzYW1lIGFzIHRoZSBkb2N1bWVudCBsb2NhdGlvbiAoYGxvY2F0aW9uLmhyZWZgKSBidXQgY2FuXG4gKiBiZSBvdmVycmlkZW4gYnkgdXNpbmcgdGhlIGA8YmFzZT5gIHRhZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHJlcXVlc3RVcmwgVGhlIHVybCBvZiB0aGUgcmVxdWVzdCBhcyBhIHN0cmluZyB0aGF0IHdpbGwgYmUgcmVzb2x2ZWRcbiAqIG9yIGEgcGFyc2VkIFVSTCBvYmplY3QuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgVVJMIGlzIHNhbWUtb3JpZ2luIGFzIHRoZSBkb2N1bWVudCBiYXNlIFVSTC5cbiAqL1xuZnVuY3Rpb24gdXJsSXNTYW1lT3JpZ2luQXNCYXNlVXJsKHJlcXVlc3RVcmwpIHtcbiAgcmV0dXJuIHVybHNBcmVTYW1lT3JpZ2luKHJlcXVlc3RVcmwsIGdldEJhc2VVcmwoKSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgZnVuY3Rpb24gdGhhdCBjYW4gY2hlY2sgYSBVUkwncyBvcmlnaW4gYWdhaW5zdCBhIGxpc3Qgb2YgYWxsb3dlZC93aGl0ZWxpc3RlZCBvcmlnaW5zLlxuICogVGhlIGN1cnJlbnQgbG9jYXRpb24ncyBvcmlnaW4gaXMgaW1wbGljaXRseSB0cnVzdGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nW119IHdoaXRlbGlzdGVkT3JpZ2luVXJscyAtIEEgbGlzdCBvZiBVUkxzIChzdHJpbmdzKSwgd2hvc2Ugb3JpZ2lucyBhcmUgdHJ1c3RlZC5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IC0gQSBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGEgVVJMIChzdHJpbmcgb3IgcGFyc2VkIFVSTCBvYmplY3QpIGFuZCByZXR1cm5zXG4gKiAgICAgd2hldGhlciBpdCBpcyBvZiBhbiBhbGxvd2VkIG9yaWdpbi5cbiAqL1xuZnVuY3Rpb24gdXJsSXNBbGxvd2VkT3JpZ2luRmFjdG9yeSh3aGl0ZWxpc3RlZE9yaWdpblVybHMpIHtcbiAgdmFyIHBhcnNlZEFsbG93ZWRPcmlnaW5VcmxzID0gW29yaWdpblVybF0uY29uY2F0KHdoaXRlbGlzdGVkT3JpZ2luVXJscy5tYXAodXJsUmVzb2x2ZSkpO1xuXG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIChzdHJpbmcgb3IgcGFyc2VkIFVSTCBvYmplY3QpIGhhcyBhbiBvcmlnaW4gdGhhdCBpcyBhbGxvd2VkXG4gICAqIGJhc2VkIG9uIGEgbGlzdCBvZiB3aGl0ZWxpc3RlZC1vcmlnaW4gVVJMcy4gVGhlIGN1cnJlbnQgbG9jYXRpb24ncyBvcmlnaW4gaXMgaW1wbGljaXRseVxuICAgKiB0cnVzdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IHJlcXVlc3RVcmwgLSBUaGUgVVJMIHRvIGJlIGNoZWNrZWQgKHByb3ZpZGVkIGFzIGEgc3RyaW5nIHRoYXQgd2lsbCBiZVxuICAgKiAgICAgcmVzb2x2ZWQgb3IgYSBwYXJzZWQgVVJMIG9iamVjdCkuXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSAtIFdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgb2YgYW4gYWxsb3dlZCBvcmlnaW4uXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gdXJsSXNBbGxvd2VkT3JpZ2luKHJlcXVlc3RVcmwpIHtcbiAgICB2YXIgcGFyc2VkVXJsID0gdXJsUmVzb2x2ZShyZXF1ZXN0VXJsKTtcbiAgICByZXR1cm4gcGFyc2VkQWxsb3dlZE9yaWdpblVybHMuc29tZSh1cmxzQXJlU2FtZU9yaWdpbi5iaW5kKG51bGwsIHBhcnNlZFVybCkpO1xuICB9O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiB0d28gVVJMcyBzaGFyZSB0aGUgc2FtZSBvcmlnaW4uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSB1cmwxIC0gRmlyc3QgVVJMIHRvIGNvbXBhcmUgYXMgYSBzdHJpbmcgb3IgYSBub3JtYWxpemVkIFVSTCBpbiB0aGUgZm9ybSBvZlxuICogICAgIGEgZGljdGlvbmFyeSBvYmplY3QgcmV0dXJuZWQgYnkgYHVybFJlc29sdmUoKWAuXG4gKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHVybDIgLSBTZWNvbmQgVVJMIHRvIGNvbXBhcmUgYXMgYSBzdHJpbmcgb3IgYSBub3JtYWxpemVkIFVSTCBpbiB0aGUgZm9ybVxuICogICAgIG9mIGEgZGljdGlvbmFyeSBvYmplY3QgcmV0dXJuZWQgYnkgYHVybFJlc29sdmUoKWAuXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiBib3RoIFVSTHMgaGF2ZSB0aGUgc2FtZSBvcmlnaW4sIGFuZCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIHVybHNBcmVTYW1lT3JpZ2luKHVybDEsIHVybDIpIHtcbiAgdXJsMSA9IHVybFJlc29sdmUodXJsMSk7XG4gIHVybDIgPSB1cmxSZXNvbHZlKHVybDIpO1xuXG4gIHJldHVybiAodXJsMS5wcm90b2NvbCA9PT0gdXJsMi5wcm90b2NvbCAmJlxuICAgICAgICAgIHVybDEuaG9zdCA9PT0gdXJsMi5ob3N0KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50IGJhc2UgVVJMLlxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0QmFzZVVybCgpIHtcbiAgaWYgKHdpbmRvdy5kb2N1bWVudC5iYXNlVVJJKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5kb2N1bWVudC5iYXNlVVJJO1xuICB9XG5cbiAgLy8gYGRvY3VtZW50LmJhc2VVUklgIGlzIGF2YWlsYWJsZSBldmVyeXdoZXJlIGV4Y2VwdCBJRVxuICBpZiAoIWJhc2VVcmxQYXJzaW5nTm9kZSkge1xuICAgIGJhc2VVcmxQYXJzaW5nTm9kZSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgYmFzZVVybFBhcnNpbmdOb2RlLmhyZWYgPSAnLic7XG5cbiAgICAvLyBXb3JrLWFyb3VuZCBmb3IgSUUgYnVnIGRlc2NyaWJlZCBpbiBJbXBsZW1lbnRhdGlvbiBOb3Rlcy4gVGhlIGZpeCBpbiBgdXJsUmVzb2x2ZSgpYCBpcyBub3RcbiAgICAvLyBzdWl0YWJsZSBoZXJlIGJlY2F1c2Ugd2UgbmVlZCB0byB0cmFjayBjaGFuZ2VzIHRvIHRoZSBiYXNlIFVSTC5cbiAgICBiYXNlVXJsUGFyc2luZ05vZGUgPSBiYXNlVXJsUGFyc2luZ05vZGUuY2xvbmVOb2RlKGZhbHNlKTtcbiAgfVxuICByZXR1cm4gYmFzZVVybFBhcnNpbmdOb2RlLmhyZWY7XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICR3aW5kb3dcbiAqIEB0aGlzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIHJlZmVyZW5jZSB0byB0aGUgYnJvd3NlcidzIGB3aW5kb3dgIG9iamVjdC4gV2hpbGUgYHdpbmRvd2BcbiAqIGlzIGdsb2JhbGx5IGF2YWlsYWJsZSBpbiBKYXZhU2NyaXB0LCBpdCBjYXVzZXMgdGVzdGFiaWxpdHkgcHJvYmxlbXMsIGJlY2F1c2VcbiAqIGl0IGlzIGEgZ2xvYmFsIHZhcmlhYmxlLiBJbiBBbmd1bGFySlMgd2UgYWx3YXlzIHJlZmVyIHRvIGl0IHRocm91Z2ggdGhlXG4gKiBgJHdpbmRvd2Agc2VydmljZSwgc28gaXQgbWF5IGJlIG92ZXJyaWRkZW4sIHJlbW92ZWQgb3IgbW9ja2VkIGZvciB0ZXN0aW5nLlxuICpcbiAqIEV4cHJlc3Npb25zLCBsaWtlIHRoZSBvbmUgZGVmaW5lZCBmb3IgdGhlIGBuZ0NsaWNrYCBkaXJlY3RpdmUgaW4gdGhlIGV4YW1wbGVcbiAqIGJlbG93LCBhcmUgZXZhbHVhdGVkIHdpdGggcmVzcGVjdCB0byB0aGUgY3VycmVudCBzY29wZS4gIFRoZXJlZm9yZSwgdGhlcmUgaXNcbiAqIG5vIHJpc2sgb2YgaW5hZHZlcnRlbnRseSBjb2RpbmcgaW4gYSBkZXBlbmRlbmN5IG9uIGEgZ2xvYmFsIHZhbHVlIGluIHN1Y2ggYW5cbiAqIGV4cHJlc3Npb24uXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cIndpbmRvd0V4YW1wbGVcIiBuYW1lPVwid2luZG93LXNlcnZpY2VcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3dpbmRvd0V4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHdpbmRvdycsIGZ1bmN0aW9uKCRzY29wZSwgJHdpbmRvdykge1xuICAgICAgICAgICAgICRzY29wZS5ncmVldGluZyA9ICdIZWxsbywgV29ybGQhJztcbiAgICAgICAgICAgICAkc2NvcGUuZG9HcmVldGluZyA9IGZ1bmN0aW9uKGdyZWV0aW5nKSB7XG4gICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KGdyZWV0aW5nKTtcbiAgICAgICAgICAgICB9O1xuICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiZ3JlZXRpbmdcIiBhcmlhLWxhYmVsPVwiZ3JlZXRpbmdcIiAvPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImRvR3JlZXRpbmcoZ3JlZXRpbmcpXCI+QUxFUlQ8L2J1dHRvbj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICBpdCgnc2hvdWxkIGRpc3BsYXkgdGhlIGdyZWV0aW5nIGluIHRoZSBpbnB1dCBib3gnLCBmdW5jdGlvbigpIHtcbiAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdncmVldGluZycpKS5zZW5kS2V5cygnSGVsbG8sIEUyRSBUZXN0cycpO1xuICAgICAgIC8vIElmIHdlIGNsaWNrIHRoZSBidXR0b24gaXQgd2lsbCBibG9jayB0aGUgdGVzdCBydW5uZXJcbiAgICAgICAvLyBlbGVtZW50KCc6YnV0dG9uJykuY2xpY2soKTtcbiAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uICRXaW5kb3dQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gdmFsdWVGbih3aW5kb3cpO1xufVxuXG4vKipcbiAqIEBuYW1lICQkY29va2llUmVhZGVyXG4gKiBAcmVxdWlyZXMgJGRvY3VtZW50XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIGlzIGEgcHJpdmF0ZSBzZXJ2aWNlIGZvciByZWFkaW5nIGNvb2tpZXMgdXNlZCBieSAkaHR0cCBhbmQgbmdDb29raWVzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBhIGtleS92YWx1ZSBtYXAgb2YgdGhlIGN1cnJlbnQgY29va2llc1xuICovXG5mdW5jdGlvbiAkJENvb2tpZVJlYWRlcigkZG9jdW1lbnQpIHtcbiAgdmFyIHJhd0RvY3VtZW50ID0gJGRvY3VtZW50WzBdIHx8IHt9O1xuICB2YXIgbGFzdENvb2tpZXMgPSB7fTtcbiAgdmFyIGxhc3RDb29raWVTdHJpbmcgPSAnJztcblxuICBmdW5jdGlvbiBzYWZlR2V0Q29va2llKHJhd0RvY3VtZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiByYXdEb2N1bWVudC5jb29raWUgfHwgJyc7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNhZmVEZWNvZGVVUklDb21wb25lbnQoc3RyKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29va2llQXJyYXksIGNvb2tpZSwgaSwgaW5kZXgsIG5hbWU7XG4gICAgdmFyIGN1cnJlbnRDb29raWVTdHJpbmcgPSBzYWZlR2V0Q29va2llKHJhd0RvY3VtZW50KTtcblxuICAgIGlmIChjdXJyZW50Q29va2llU3RyaW5nICE9PSBsYXN0Q29va2llU3RyaW5nKSB7XG4gICAgICBsYXN0Q29va2llU3RyaW5nID0gY3VycmVudENvb2tpZVN0cmluZztcbiAgICAgIGNvb2tpZUFycmF5ID0gbGFzdENvb2tpZVN0cmluZy5zcGxpdCgnOyAnKTtcbiAgICAgIGxhc3RDb29raWVzID0ge307XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjb29raWVBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb29raWUgPSBjb29raWVBcnJheVtpXTtcbiAgICAgICAgaW5kZXggPSBjb29raWUuaW5kZXhPZignPScpO1xuICAgICAgICBpZiAoaW5kZXggPiAwKSB7IC8vaWdub3JlIG5hbWVsZXNzIGNvb2tpZXNcbiAgICAgICAgICBuYW1lID0gc2FmZURlY29kZVVSSUNvbXBvbmVudChjb29raWUuc3Vic3RyaW5nKDAsIGluZGV4KSk7XG4gICAgICAgICAgLy8gdGhlIGZpcnN0IHZhbHVlIHRoYXQgaXMgc2VlbiBmb3IgYSBjb29raWUgaXMgdGhlIG1vc3RcbiAgICAgICAgICAvLyBzcGVjaWZpYyBvbmUuICB2YWx1ZXMgZm9yIHRoZSBzYW1lIGNvb2tpZSBuYW1lIHRoYXRcbiAgICAgICAgICAvLyBmb2xsb3cgYXJlIGZvciBsZXNzIHNwZWNpZmljIHBhdGhzLlxuICAgICAgICAgIGlmIChpc1VuZGVmaW5lZChsYXN0Q29va2llc1tuYW1lXSkpIHtcbiAgICAgICAgICAgIGxhc3RDb29raWVzW25hbWVdID0gc2FmZURlY29kZVVSSUNvbXBvbmVudChjb29raWUuc3Vic3RyaW5nKGluZGV4ICsgMSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGFzdENvb2tpZXM7XG4gIH07XG59XG5cbiQkQ29va2llUmVhZGVyLiRpbmplY3QgPSBbJyRkb2N1bWVudCddO1xuXG4vKiogQHRoaXMgKi9cbmZ1bmN0aW9uICQkQ29va2llUmVhZGVyUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9ICQkQ29va2llUmVhZGVyO1xufVxuXG4vKiBnbG9iYWwgY3VycmVuY3lGaWx0ZXI6IHRydWUsXG4gZGF0ZUZpbHRlcjogdHJ1ZSxcbiBmaWx0ZXJGaWx0ZXI6IHRydWUsXG4ganNvbkZpbHRlcjogdHJ1ZSxcbiBsaW1pdFRvRmlsdGVyOiB0cnVlLFxuIGxvd2VyY2FzZUZpbHRlcjogdHJ1ZSxcbiBudW1iZXJGaWx0ZXI6IHRydWUsXG4gb3JkZXJCeUZpbHRlcjogdHJ1ZSxcbiB1cHBlcmNhc2VGaWx0ZXI6IHRydWUsXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRmaWx0ZXJQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogRmlsdGVycyBhcmUganVzdCBmdW5jdGlvbnMgd2hpY2ggdHJhbnNmb3JtIGlucHV0IHRvIGFuIG91dHB1dC4gSG93ZXZlciBmaWx0ZXJzIG5lZWQgdG8gYmVcbiAqIERlcGVuZGVuY3kgSW5qZWN0ZWQuIFRvIGFjaGlldmUgdGhpcyBhIGZpbHRlciBkZWZpbml0aW9uIGNvbnNpc3RzIG9mIGEgZmFjdG9yeSBmdW5jdGlvbiB3aGljaCBpc1xuICogYW5ub3RhdGVkIHdpdGggZGVwZW5kZW5jaWVzIGFuZCBpcyByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgYSBmaWx0ZXIgZnVuY3Rpb24uXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBGaWx0ZXIgbmFtZXMgbXVzdCBiZSB2YWxpZCBBbmd1bGFySlMge0BsaW5rIGV4cHJlc3Npb259IGlkZW50aWZpZXJzLCBzdWNoIGFzIGB1cHBlcmNhc2VgIG9yIGBvcmRlckJ5YC5cbiAqIE5hbWVzIHdpdGggc3BlY2lhbCBjaGFyYWN0ZXJzLCBzdWNoIGFzIGh5cGhlbnMgYW5kIGRvdHMsIGFyZSBub3QgYWxsb3dlZC4gSWYgeW91IHdpc2ggdG8gbmFtZXNwYWNlXG4gKiB5b3VyIGZpbHRlcnMsIHRoZW4geW91IGNhbiB1c2UgY2FwaXRhbGl6YXRpb24gKGBteWFwcFN1YnNlY3Rpb25GaWx0ZXJ4YCkgb3IgdW5kZXJzY29yZXNcbiAqIChgbXlhcHBfc3Vic2VjdGlvbl9maWx0ZXJ4YCkuXG4gKiA8L2Rpdj5cbiAqXG4gKiBgYGBqc1xuICogICAvLyBGaWx0ZXIgcmVnaXN0cmF0aW9uXG4gKiAgIGZ1bmN0aW9uIE15TW9kdWxlKCRwcm92aWRlLCAkZmlsdGVyUHJvdmlkZXIpIHtcbiAqICAgICAvLyBjcmVhdGUgYSBzZXJ2aWNlIHRvIGRlbW9uc3RyYXRlIGluamVjdGlvbiAobm90IGFsd2F5cyBuZWVkZWQpXG4gKiAgICAgJHByb3ZpZGUudmFsdWUoJ2dyZWV0JywgZnVuY3Rpb24obmFtZSl7XG4gKiAgICAgICByZXR1cm4gJ0hlbGxvICcgKyBuYW1lICsgJyEnO1xuICogICAgIH0pO1xuICpcbiAqICAgICAvLyByZWdpc3RlciBhIGZpbHRlciBmYWN0b3J5IHdoaWNoIHVzZXMgdGhlXG4gKiAgICAgLy8gZ3JlZXQgc2VydmljZSB0byBkZW1vbnN0cmF0ZSBESS5cbiAqICAgICAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoJ2dyZWV0JywgZnVuY3Rpb24oZ3JlZXQpe1xuICogICAgICAgLy8gcmV0dXJuIHRoZSBmaWx0ZXIgZnVuY3Rpb24gd2hpY2ggdXNlcyB0aGUgZ3JlZXQgc2VydmljZVxuICogICAgICAgLy8gdG8gZ2VuZXJhdGUgc2FsdXRhdGlvblxuICogICAgICAgcmV0dXJuIGZ1bmN0aW9uKHRleHQpIHtcbiAqICAgICAgICAgLy8gZmlsdGVycyBuZWVkIHRvIGJlIGZvcmdpdmluZyBzbyBjaGVjayBpbnB1dCB2YWxpZGl0eVxuICogICAgICAgICByZXR1cm4gdGV4dCAmJiBncmVldCh0ZXh0KSB8fCB0ZXh0O1xuICogICAgICAgfTtcbiAqICAgICB9KTtcbiAqICAgfVxuICogYGBgXG4gKlxuICogVGhlIGZpbHRlciBmdW5jdGlvbiBpcyByZWdpc3RlcmVkIHdpdGggdGhlIGAkaW5qZWN0b3JgIHVuZGVyIHRoZSBmaWx0ZXIgbmFtZSBzdWZmaXggd2l0aFxuICogYEZpbHRlcmAuXG4gKlxuICogYGBganNcbiAqICAgaXQoJ3Nob3VsZCBiZSB0aGUgc2FtZSBpbnN0YW5jZScsIGluamVjdChcbiAqICAgICBmdW5jdGlvbigkZmlsdGVyUHJvdmlkZXIpIHtcbiAqICAgICAgICRmaWx0ZXJQcm92aWRlci5yZWdpc3RlcigncmV2ZXJzZScsIGZ1bmN0aW9uKCl7XG4gKiAgICAgICAgIHJldHVybiAuLi47XG4gKiAgICAgICB9KTtcbiAqICAgICB9LFxuICogICAgIGZ1bmN0aW9uKCRmaWx0ZXIsIHJldmVyc2VGaWx0ZXIpIHtcbiAqICAgICAgIGV4cGVjdCgkZmlsdGVyKCdyZXZlcnNlJykpLnRvQmUocmV2ZXJzZUZpbHRlcik7XG4gKiAgICAgfSk7XG4gKiBgYGBcbiAqXG4gKlxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgaG93IEFuZ3VsYXJKUyBmaWx0ZXJzIHdvcmssIGFuZCBob3cgdG8gY3JlYXRlIHlvdXIgb3duIGZpbHRlcnMsIHNlZVxuICoge0BsaW5rIGd1aWRlL2ZpbHRlciBGaWx0ZXJzfSBpbiB0aGUgQW5ndWxhckpTIERldmVsb3BlciBHdWlkZS5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkZmlsdGVyXG4gKiBAa2luZCBmdW5jdGlvblxuICogQGRlc2NyaXB0aW9uXG4gKiBGaWx0ZXJzIGFyZSB1c2VkIGZvciBmb3JtYXR0aW5nIGRhdGEgZGlzcGxheWVkIHRvIHRoZSB1c2VyLlxuICpcbiAqIFRoZXkgY2FuIGJlIHVzZWQgaW4gdmlldyB0ZW1wbGF0ZXMsIGNvbnRyb2xsZXJzIG9yIHNlcnZpY2VzLiBBbmd1bGFySlMgY29tZXNcbiAqIHdpdGggYSBjb2xsZWN0aW9uIG9mIFtidWlsdC1pbiBmaWx0ZXJzXShhcGkvbmcvZmlsdGVyKSwgYnV0IGl0IGlzIGVhc3kgdG9cbiAqIGRlZmluZSB5b3VyIG93biBhcyB3ZWxsLlxuICpcbiAqIFRoZSBnZW5lcmFsIHN5bnRheCBpbiB0ZW1wbGF0ZXMgaXMgYXMgZm9sbG93czpcbiAqXG4gKiBgYGBodG1sXG4gKiB7eyBleHByZXNzaW9uIFt8IGZpbHRlcl9uYW1lWzpwYXJhbWV0ZXJfdmFsdWVdIC4uLiBdIH19XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBmaWx0ZXIgZnVuY3Rpb24gdG8gcmV0cmlldmVcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSB0aGUgZmlsdGVyIGZ1bmN0aW9uXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIiRmaWx0ZXJcIiBtb2R1bGU9XCJmaWx0ZXJFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiTWFpbkN0cmxcIj5cbiAgICAgICAgPGgzPnt7IG9yaWdpbmFsVGV4dCB9fTwvaDM+XG4gICAgICAgIDxoMz57eyBmaWx0ZXJlZFRleHQgfX08L2gzPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG5cbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2ZpbHRlckV4YW1wbGUnLCBbXSlcbiAgICAgIC5jb250cm9sbGVyKCdNYWluQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGZpbHRlcikge1xuICAgICAgICAkc2NvcGUub3JpZ2luYWxUZXh0ID0gJ2hlbGxvJztcbiAgICAgICAgJHNjb3BlLmZpbHRlcmVkVGV4dCA9ICRmaWx0ZXIoJ3VwcGVyY2FzZScpKCRzY29wZS5vcmlnaW5hbFRleHQpO1xuICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAgKi9cbiRGaWx0ZXJQcm92aWRlci4kaW5qZWN0ID0gWyckcHJvdmlkZSddO1xuLyoqIEB0aGlzICovXG5mdW5jdGlvbiAkRmlsdGVyUHJvdmlkZXIoJHByb3ZpZGUpIHtcbiAgdmFyIHN1ZmZpeCA9ICdGaWx0ZXInO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRmaWx0ZXJQcm92aWRlciNyZWdpc3RlclxuICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgTmFtZSBvZiB0aGUgZmlsdGVyIGZ1bmN0aW9uLCBvciBhbiBvYmplY3QgbWFwIG9mIGZpbHRlcnMgd2hlcmVcbiAgICogICAgdGhlIGtleXMgYXJlIHRoZSBmaWx0ZXIgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBmaWx0ZXIgZmFjdG9yaWVzLlxuICAgKlxuICAgKiAgICA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgKiAgICAqKk5vdGU6KiogRmlsdGVyIG5hbWVzIG11c3QgYmUgdmFsaWQgQW5ndWxhckpTIHtAbGluayBleHByZXNzaW9ufSBpZGVudGlmaWVycywgc3VjaCBhcyBgdXBwZXJjYXNlYCBvciBgb3JkZXJCeWAuXG4gICAqICAgIE5hbWVzIHdpdGggc3BlY2lhbCBjaGFyYWN0ZXJzLCBzdWNoIGFzIGh5cGhlbnMgYW5kIGRvdHMsIGFyZSBub3QgYWxsb3dlZC4gSWYgeW91IHdpc2ggdG8gbmFtZXNwYWNlXG4gICAqICAgIHlvdXIgZmlsdGVycywgdGhlbiB5b3UgY2FuIHVzZSBjYXBpdGFsaXphdGlvbiAoYG15YXBwU3Vic2VjdGlvbkZpbHRlcnhgKSBvciB1bmRlcnNjb3Jlc1xuICAgKiAgICAoYG15YXBwX3N1YnNlY3Rpb25fZmlsdGVyeGApLlxuICAgKiAgICA8L2Rpdj5cbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZhY3RvcnkgSWYgdGhlIGZpcnN0IGFyZ3VtZW50IHdhcyBhIHN0cmluZywgYSBmYWN0b3J5IGZ1bmN0aW9uIGZvciB0aGUgZmlsdGVyIHRvIGJlIHJlZ2lzdGVyZWQuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJlZ2lzdGVyZWQgZmlsdGVyIGluc3RhbmNlLCBvciBpZiBhIG1hcCBvZiBmaWx0ZXJzIHdhcyBwcm92aWRlZCB0aGVuIGEgbWFwXG4gICAqICAgIG9mIHRoZSByZWdpc3RlcmVkIGZpbHRlciBpbnN0YW5jZXMuXG4gICAqL1xuICBmdW5jdGlvbiByZWdpc3RlcihuYW1lLCBmYWN0b3J5KSB7XG4gICAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XG4gICAgICB2YXIgZmlsdGVycyA9IHt9O1xuICAgICAgZm9yRWFjaChuYW1lLCBmdW5jdGlvbihmaWx0ZXIsIGtleSkge1xuICAgICAgICBmaWx0ZXJzW2tleV0gPSByZWdpc3RlcihrZXksIGZpbHRlcik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmaWx0ZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJHByb3ZpZGUuZmFjdG9yeShuYW1lICsgc3VmZml4LCBmYWN0b3J5KTtcbiAgICB9XG4gIH1cbiAgdGhpcy5yZWdpc3RlciA9IHJlZ2lzdGVyO1xuXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHJldHVybiAkaW5qZWN0b3IuZ2V0KG5hbWUgKyBzdWZmaXgpO1xuICAgIH07XG4gIH1dO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvKiBnbG9iYWxcbiAgICBjdXJyZW5jeUZpbHRlcjogZmFsc2UsXG4gICAgZGF0ZUZpbHRlcjogZmFsc2UsXG4gICAgZmlsdGVyRmlsdGVyOiBmYWxzZSxcbiAgICBqc29uRmlsdGVyOiBmYWxzZSxcbiAgICBsaW1pdFRvRmlsdGVyOiBmYWxzZSxcbiAgICBsb3dlcmNhc2VGaWx0ZXI6IGZhbHNlLFxuICAgIG51bWJlckZpbHRlcjogZmFsc2UsXG4gICAgb3JkZXJCeUZpbHRlcjogZmFsc2UsXG4gICAgdXBwZXJjYXNlRmlsdGVyOiBmYWxzZVxuICAqL1xuXG4gIHJlZ2lzdGVyKCdjdXJyZW5jeScsIGN1cnJlbmN5RmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ2RhdGUnLCBkYXRlRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ2ZpbHRlcicsIGZpbHRlckZpbHRlcik7XG4gIHJlZ2lzdGVyKCdqc29uJywganNvbkZpbHRlcik7XG4gIHJlZ2lzdGVyKCdsaW1pdFRvJywgbGltaXRUb0ZpbHRlcik7XG4gIHJlZ2lzdGVyKCdsb3dlcmNhc2UnLCBsb3dlcmNhc2VGaWx0ZXIpO1xuICByZWdpc3RlcignbnVtYmVyJywgbnVtYmVyRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ29yZGVyQnknLCBvcmRlckJ5RmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ3VwcGVyY2FzZScsIHVwcGVyY2FzZUZpbHRlcik7XG59XG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgZmlsdGVyXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU2VsZWN0cyBhIHN1YnNldCBvZiBpdGVtcyBmcm9tIGBhcnJheWAgYW5kIHJldHVybnMgaXQgYXMgYSBuZXcgYXJyYXkuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvdXJjZSBhcnJheS5cbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiAgICoqTm90ZSoqOiBJZiB0aGUgYXJyYXkgY29udGFpbnMgb2JqZWN0cyB0aGF0IHJlZmVyZW5jZSB0aGVtc2VsdmVzLCBmaWx0ZXJpbmcgaXMgbm90IHBvc3NpYmxlLlxuICogPC9kaXY+XG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R8ZnVuY3Rpb24oKX0gZXhwcmVzc2lvbiBUaGUgcHJlZGljYXRlIHRvIGJlIHVzZWQgZm9yIHNlbGVjdGluZyBpdGVtcyBmcm9tXG4gKiAgIGBhcnJheWAuXG4gKlxuICogICBDYW4gYmUgb25lIG9mOlxuICpcbiAqICAgLSBgc3RyaW5nYDogVGhlIHN0cmluZyBpcyB1c2VkIGZvciBtYXRjaGluZyBhZ2FpbnN0IHRoZSBjb250ZW50cyBvZiB0aGUgYGFycmF5YC4gQWxsIHN0cmluZ3Mgb3JcbiAqICAgICBvYmplY3RzIHdpdGggc3RyaW5nIHByb3BlcnRpZXMgaW4gYGFycmF5YCB0aGF0IG1hdGNoIHRoaXMgc3RyaW5nIHdpbGwgYmUgcmV0dXJuZWQuIFRoaXMgYWxzb1xuICogICAgIGFwcGxpZXMgdG8gbmVzdGVkIG9iamVjdCBwcm9wZXJ0aWVzLlxuICogICAgIFRoZSBwcmVkaWNhdGUgY2FuIGJlIG5lZ2F0ZWQgYnkgcHJlZml4aW5nIHRoZSBzdHJpbmcgd2l0aCBgIWAuXG4gKlxuICogICAtIGBPYmplY3RgOiBBIHBhdHRlcm4gb2JqZWN0IGNhbiBiZSB1c2VkIHRvIGZpbHRlciBzcGVjaWZpYyBwcm9wZXJ0aWVzIG9uIG9iamVjdHMgY29udGFpbmVkXG4gKiAgICAgYnkgYGFycmF5YC4gRm9yIGV4YW1wbGUgYHtuYW1lOlwiTVwiLCBwaG9uZTpcIjFcIn1gIHByZWRpY2F0ZSB3aWxsIHJldHVybiBhbiBhcnJheSBvZiBpdGVtc1xuICogICAgIHdoaWNoIGhhdmUgcHJvcGVydHkgYG5hbWVgIGNvbnRhaW5pbmcgXCJNXCIgYW5kIHByb3BlcnR5IGBwaG9uZWAgY29udGFpbmluZyBcIjFcIi4gQSBzcGVjaWFsXG4gKiAgICAgcHJvcGVydHkgbmFtZSAoYCRgIGJ5IGRlZmF1bHQpIGNhbiBiZSB1c2VkIChlLmcuIGFzIGluIGB7JDogXCJ0ZXh0XCJ9YCkgdG8gYWNjZXB0IGEgbWF0Y2hcbiAqICAgICBhZ2FpbnN0IGFueSBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0IG9yIGl0cyBuZXN0ZWQgb2JqZWN0IHByb3BlcnRpZXMuIFRoYXQncyBlcXVpdmFsZW50IHRvIHRoZVxuICogICAgIHNpbXBsZSBzdWJzdHJpbmcgbWF0Y2ggd2l0aCBhIGBzdHJpbmdgIGFzIGRlc2NyaWJlZCBhYm92ZS4gVGhlIHNwZWNpYWwgcHJvcGVydHkgbmFtZSBjYW4gYmVcbiAqICAgICBvdmVyd3JpdHRlbiwgdXNpbmcgdGhlIGBhbnlQcm9wZXJ0eUtleWAgcGFyYW1ldGVyLlxuICogICAgIFRoZSBwcmVkaWNhdGUgY2FuIGJlIG5lZ2F0ZWQgYnkgcHJlZml4aW5nIHRoZSBzdHJpbmcgd2l0aCBgIWAuXG4gKiAgICAgRm9yIGV4YW1wbGUgYHtuYW1lOiBcIiFNXCJ9YCBwcmVkaWNhdGUgd2lsbCByZXR1cm4gYW4gYXJyYXkgb2YgaXRlbXMgd2hpY2ggaGF2ZSBwcm9wZXJ0eSBgbmFtZWBcbiAqICAgICBub3QgY29udGFpbmluZyBcIk1cIi5cbiAqXG4gKiAgICAgTm90ZSB0aGF0IGEgbmFtZWQgcHJvcGVydHkgd2lsbCBtYXRjaCBwcm9wZXJ0aWVzIG9uIHRoZSBzYW1lIGxldmVsIG9ubHksIHdoaWxlIHRoZSBzcGVjaWFsXG4gKiAgICAgYCRgIHByb3BlcnR5IHdpbGwgbWF0Y2ggcHJvcGVydGllcyBvbiB0aGUgc2FtZSBsZXZlbCBvciBkZWVwZXIuIEUuZy4gYW4gYXJyYXkgaXRlbSBsaWtlXG4gKiAgICAgYHtuYW1lOiB7Zmlyc3Q6ICdKb2huJywgbGFzdDogJ0RvZSd9fWAgd2lsbCAqKm5vdCoqIGJlIG1hdGNoZWQgYnkgYHtuYW1lOiAnSm9obid9YCwgYnV0XG4gKiAgICAgKip3aWxsKiogYmUgbWF0Y2hlZCBieSBgeyQ6ICdKb2huJ31gLlxuICpcbiAqICAgLSBgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBhcnJheSlgOiBBIHByZWRpY2F0ZSBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byB3cml0ZSBhcmJpdHJhcnkgZmlsdGVycy5cbiAqICAgICBUaGUgZnVuY3Rpb24gaXMgY2FsbGVkIGZvciBlYWNoIGVsZW1lbnQgb2YgdGhlIGFycmF5LCB3aXRoIHRoZSBlbGVtZW50LCBpdHMgaW5kZXgsIGFuZFxuICogICAgIHRoZSBlbnRpcmUgYXJyYXkgaXRzZWxmIGFzIGFyZ3VtZW50cy5cbiAqXG4gKiAgICAgVGhlIGZpbmFsIHJlc3VsdCBpcyBhbiBhcnJheSBvZiB0aG9zZSBlbGVtZW50cyB0aGF0IHRoZSBwcmVkaWNhdGUgcmV0dXJuZWQgdHJ1ZSBmb3IuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKXx0cnVlfGZhbHNlfSBbY29tcGFyYXRvcl0gQ29tcGFyYXRvciB3aGljaCBpcyB1c2VkIGluXG4gKiAgICAgZGV0ZXJtaW5pbmcgaWYgdmFsdWVzIHJldHJpZXZlZCB1c2luZyBgZXhwcmVzc2lvbmAgKHdoZW4gaXQgaXMgbm90IGEgZnVuY3Rpb24pIHNob3VsZCBiZVxuICogICAgIGNvbnNpZGVyZWQgYSBtYXRjaCBiYXNlZCBvbiB0aGUgZXhwZWN0ZWQgdmFsdWUgKGZyb20gdGhlIGZpbHRlciBleHByZXNzaW9uKSBhbmQgYWN0dWFsXG4gKiAgICAgdmFsdWUgKGZyb20gdGhlIG9iamVjdCBpbiB0aGUgYXJyYXkpLlxuICpcbiAqICAgQ2FuIGJlIG9uZSBvZjpcbiAqXG4gKiAgIC0gYGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpYDpcbiAqICAgICBUaGUgZnVuY3Rpb24gd2lsbCBiZSBnaXZlbiB0aGUgb2JqZWN0IHZhbHVlIGFuZCB0aGUgcHJlZGljYXRlIHZhbHVlIHRvIGNvbXBhcmUgYW5kXG4gKiAgICAgc2hvdWxkIHJldHVybiB0cnVlIGlmIGJvdGggdmFsdWVzIHNob3VsZCBiZSBjb25zaWRlcmVkIGVxdWFsLlxuICpcbiAqICAgLSBgdHJ1ZWA6IEEgc2hvcnRoYW5kIGZvciBgZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZCkgeyByZXR1cm4gYW5ndWxhci5lcXVhbHMoYWN0dWFsLCBleHBlY3RlZCl9YC5cbiAqICAgICBUaGlzIGlzIGVzc2VudGlhbGx5IHN0cmljdCBjb21wYXJpc29uIG9mIGV4cGVjdGVkIGFuZCBhY3R1YWwuXG4gKlxuICogICAtIGBmYWxzZWA6IEEgc2hvcnQgaGFuZCBmb3IgYSBmdW5jdGlvbiB3aGljaCB3aWxsIGxvb2sgZm9yIGEgc3Vic3RyaW5nIG1hdGNoIGluIGEgY2FzZVxuICogICAgIGluc2Vuc2l0aXZlIHdheS4gUHJpbWl0aXZlIHZhbHVlcyBhcmUgY29udmVydGVkIHRvIHN0cmluZ3MuIE9iamVjdHMgYXJlIG5vdCBjb21wYXJlZCBhZ2FpbnN0XG4gKiAgICAgcHJpbWl0aXZlcywgdW5sZXNzIHRoZXkgaGF2ZSBhIGN1c3RvbSBgdG9TdHJpbmdgIG1ldGhvZCAoZS5nLiBgRGF0ZWAgb2JqZWN0cykuXG4gKlxuICpcbiAqICAgRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW2FueVByb3BlcnR5S2V5XSBUaGUgc3BlY2lhbCBwcm9wZXJ0eSBuYW1lIHRoYXQgbWF0Y2hlcyBhZ2FpbnN0IGFueSBwcm9wZXJ0eS5cbiAqICAgICBCeSBkZWZhdWx0IGAkYC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cImZpbHRlci1maWx0ZXJcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWluaXQ9XCJmcmllbmRzID0gW3tuYW1lOidKb2huJywgcGhvbmU6JzU1NS0xMjc2J30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOidNYXJ5JywgcGhvbmU6JzgwMC1CSUctTUFSWSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonTWlrZScsIHBob25lOic1NTUtNDMyMSd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonQWRhbScsIHBob25lOic1NTUtNTY3OCd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonSnVsaWUnLCBwaG9uZTonNTU1LTg3NjUnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0p1bGlldHRlJywgcGhvbmU6JzU1NS01Njc4J31dXCI+PC9kaXY+XG5cbiAgICAgICA8bGFiZWw+U2VhcmNoOiA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2hUZXh0XCI+PC9sYWJlbD5cbiAgICAgICA8dGFibGUgaWQ9XCJzZWFyY2hUZXh0UmVzdWx0c1wiPlxuICAgICAgICAgPHRyPjx0aD5OYW1lPC90aD48dGg+UGhvbmU8L3RoPjwvdHI+XG4gICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBmaWx0ZXI6c2VhcmNoVGV4dFwiPlxuICAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kLnBob25lfX08L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICA8L3RhYmxlPlxuICAgICAgIDxocj5cbiAgICAgICA8bGFiZWw+QW55OiA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2guJFwiPjwvbGFiZWw+IDxicj5cbiAgICAgICA8bGFiZWw+TmFtZSBvbmx5IDxpbnB1dCBuZy1tb2RlbD1cInNlYXJjaC5uYW1lXCI+PC9sYWJlbD48YnI+XG4gICAgICAgPGxhYmVsPlBob25lIG9ubHkgPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoLnBob25lXCI+PC9sYWJlbD48YnI+XG4gICAgICAgPGxhYmVsPkVxdWFsaXR5IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cInN0cmljdFwiPjwvbGFiZWw+PGJyPlxuICAgICAgIDx0YWJsZSBpZD1cInNlYXJjaE9ialJlc3VsdHNcIj5cbiAgICAgICAgIDx0cj48dGg+TmFtZTwvdGg+PHRoPlBob25lPC90aD48L3RyPlxuICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZE9iaiBpbiBmcmllbmRzIHwgZmlsdGVyOnNlYXJjaDpzdHJpY3RcIj5cbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kT2JqLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZE9iai5waG9uZX19PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgPC90YWJsZT5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIGV4cGVjdEZyaWVuZE5hbWVzID0gZnVuY3Rpb24oZXhwZWN0ZWROYW1lcywga2V5KSB7XG4gICAgICAgICBlbGVtZW50LmFsbChieS5yZXBlYXRlcihrZXkgKyAnIGluIGZyaWVuZHMnKS5jb2x1bW4oa2V5ICsgJy5uYW1lJykpLnRoZW4oZnVuY3Rpb24oYXJyKSB7XG4gICAgICAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uKHdkLCBpKSB7XG4gICAgICAgICAgICAgZXhwZWN0KHdkLmdldFRleHQoKSkudG9NYXRjaChleHBlY3RlZE5hbWVzW2ldKTtcbiAgICAgICAgICAgfSk7XG4gICAgICAgICB9KTtcbiAgICAgICB9O1xuXG4gICAgICAgaXQoJ3Nob3VsZCBzZWFyY2ggYWNyb3NzIGFsbCBmaWVsZHMgd2hlbiBmaWx0ZXJpbmcgd2l0aCBhIHN0cmluZycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIHNlYXJjaFRleHQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzZWFyY2hUZXh0JykpO1xuICAgICAgICAgc2VhcmNoVGV4dC5jbGVhcigpO1xuICAgICAgICAgc2VhcmNoVGV4dC5zZW5kS2V5cygnbScpO1xuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydNYXJ5JywgJ01pa2UnLCAnQWRhbSddLCAnZnJpZW5kJyk7XG5cbiAgICAgICAgIHNlYXJjaFRleHQuY2xlYXIoKTtcbiAgICAgICAgIHNlYXJjaFRleHQuc2VuZEtleXMoJzc2Jyk7XG4gICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ0pvaG4nLCAnSnVsaWUnXSwgJ2ZyaWVuZCcpO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBzZWFyY2ggaW4gc3BlY2lmaWMgZmllbGRzIHdoZW4gZmlsdGVyaW5nIHdpdGggYSBwcmVkaWNhdGUgb2JqZWN0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICB2YXIgc2VhcmNoQW55ID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoLiQnKSk7XG4gICAgICAgICBzZWFyY2hBbnkuY2xlYXIoKTtcbiAgICAgICAgIHNlYXJjaEFueS5zZW5kS2V5cygnaScpO1xuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydNYXJ5JywgJ01pa2UnLCAnSnVsaWUnLCAnSnVsaWV0dGUnXSwgJ2ZyaWVuZE9iaicpO1xuICAgICAgIH0pO1xuICAgICAgIGl0KCdzaG91bGQgdXNlIGEgZXF1YWwgY29tcGFyaXNvbiB3aGVuIGNvbXBhcmF0b3IgaXMgdHJ1ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIHNlYXJjaE5hbWUgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzZWFyY2gubmFtZScpKTtcbiAgICAgICAgIHZhciBzdHJpY3QgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzdHJpY3QnKSk7XG4gICAgICAgICBzZWFyY2hOYW1lLmNsZWFyKCk7XG4gICAgICAgICBzZWFyY2hOYW1lLnNlbmRLZXlzKCdKdWxpZScpO1xuICAgICAgICAgc3RyaWN0LmNsaWNrKCk7XG4gICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ0p1bGllJ10sICdmcmllbmRPYmonKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbmZ1bmN0aW9uIGZpbHRlckZpbHRlcigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBleHByZXNzaW9uLCBjb21wYXJhdG9yLCBhbnlQcm9wZXJ0eUtleSkge1xuICAgIGlmICghaXNBcnJheUxpa2UoYXJyYXkpKSB7XG4gICAgICBpZiAoYXJyYXkgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBtaW5FcnIoJ2ZpbHRlcicpKCdub3RhcnJheScsICdFeHBlY3RlZCBhcnJheSBidXQgcmVjZWl2ZWQ6IHswfScsIGFycmF5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhbnlQcm9wZXJ0eUtleSA9IGFueVByb3BlcnR5S2V5IHx8ICckJztcbiAgICB2YXIgZXhwcmVzc2lvblR5cGUgPSBnZXRUeXBlRm9yRmlsdGVyKGV4cHJlc3Npb24pO1xuICAgIHZhciBwcmVkaWNhdGVGbjtcbiAgICB2YXIgbWF0Y2hBZ2FpbnN0QW55UHJvcDtcblxuICAgIHN3aXRjaCAoZXhwcmVzc2lvblR5cGUpIHtcbiAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgcHJlZGljYXRlRm4gPSBleHByZXNzaW9uO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgbWF0Y2hBZ2FpbnN0QW55UHJvcCA9IHRydWU7XG4gICAgICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIHByZWRpY2F0ZUZuID0gY3JlYXRlUHJlZGljYXRlRm4oZXhwcmVzc2lvbiwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIG1hdGNoQWdhaW5zdEFueVByb3ApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGFycmF5LCBwcmVkaWNhdGVGbik7XG4gIH07XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIGBmaWx0ZXJGaWx0ZXJgXG5mdW5jdGlvbiBjcmVhdGVQcmVkaWNhdGVGbihleHByZXNzaW9uLCBjb21wYXJhdG9yLCBhbnlQcm9wZXJ0eUtleSwgbWF0Y2hBZ2FpbnN0QW55UHJvcCkge1xuICB2YXIgc2hvdWxkTWF0Y2hQcmltaXRpdmVzID0gaXNPYmplY3QoZXhwcmVzc2lvbikgJiYgKGFueVByb3BlcnR5S2V5IGluIGV4cHJlc3Npb24pO1xuICB2YXIgcHJlZGljYXRlRm47XG5cbiAgaWYgKGNvbXBhcmF0b3IgPT09IHRydWUpIHtcbiAgICBjb21wYXJhdG9yID0gZXF1YWxzO1xuICB9IGVsc2UgaWYgKCFpc0Z1bmN0aW9uKGNvbXBhcmF0b3IpKSB7XG4gICAgY29tcGFyYXRvciA9IGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChhY3R1YWwpKSB7XG4gICAgICAgIC8vIE5vIHN1YnN0cmluZyBtYXRjaGluZyBhZ2FpbnN0IGB1bmRlZmluZWRgXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICgoYWN0dWFsID09PSBudWxsKSB8fCAoZXhwZWN0ZWQgPT09IG51bGwpKSB7XG4gICAgICAgIC8vIE5vIHN1YnN0cmluZyBtYXRjaGluZyBhZ2FpbnN0IGBudWxsYDsgb25seSBtYXRjaCBhZ2FpbnN0IGBudWxsYFxuICAgICAgICByZXR1cm4gYWN0dWFsID09PSBleHBlY3RlZDtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChleHBlY3RlZCkgfHwgKGlzT2JqZWN0KGFjdHVhbCkgJiYgIWhhc0N1c3RvbVRvU3RyaW5nKGFjdHVhbCkpKSB7XG4gICAgICAgIC8vIFNob3VsZCBub3QgY29tcGFyZSBwcmltaXRpdmVzIGFnYWluc3Qgb2JqZWN0cywgdW5sZXNzIHRoZXkgaGF2ZSBjdXN0b20gYHRvU3RyaW5nYCBtZXRob2RcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBhY3R1YWwgPSBsb3dlcmNhc2UoJycgKyBhY3R1YWwpO1xuICAgICAgZXhwZWN0ZWQgPSBsb3dlcmNhc2UoJycgKyBleHBlY3RlZCk7XG4gICAgICByZXR1cm4gYWN0dWFsLmluZGV4T2YoZXhwZWN0ZWQpICE9PSAtMTtcbiAgICB9O1xuICB9XG5cbiAgcHJlZGljYXRlRm4gPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgaWYgKHNob3VsZE1hdGNoUHJpbWl0aXZlcyAmJiAhaXNPYmplY3QoaXRlbSkpIHtcbiAgICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHByZXNzaW9uW2FueVByb3BlcnR5S2V5XSwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIGZhbHNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZXBDb21wYXJlKGl0ZW0sIGV4cHJlc3Npb24sIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcbiAgfTtcblxuICByZXR1cm4gcHJlZGljYXRlRm47XG59XG5cbmZ1bmN0aW9uIGRlZXBDb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBtYXRjaEFnYWluc3RBbnlQcm9wLCBkb250TWF0Y2hXaG9sZU9iamVjdCkge1xuICB2YXIgYWN0dWFsVHlwZSA9IGdldFR5cGVGb3JGaWx0ZXIoYWN0dWFsKTtcbiAgdmFyIGV4cGVjdGVkVHlwZSA9IGdldFR5cGVGb3JGaWx0ZXIoZXhwZWN0ZWQpO1xuXG4gIGlmICgoZXhwZWN0ZWRUeXBlID09PSAnc3RyaW5nJykgJiYgKGV4cGVjdGVkLmNoYXJBdCgwKSA9PT0gJyEnKSkge1xuICAgIHJldHVybiAhZGVlcENvbXBhcmUoYWN0dWFsLCBleHBlY3RlZC5zdWJzdHJpbmcoMSksIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KGFjdHVhbCkpIHtcbiAgICAvLyBJbiBjYXNlIGBhY3R1YWxgIGlzIGFuIGFycmF5LCBjb25zaWRlciBpdCBhIG1hdGNoXG4gICAgLy8gaWYgQU5ZIG9mIGl0J3MgaXRlbXMgbWF0Y2hlcyBgZXhwZWN0ZWRgXG4gICAgcmV0dXJuIGFjdHVhbC5zb21lKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHBlY3RlZCwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIG1hdGNoQWdhaW5zdEFueVByb3ApO1xuICAgIH0pO1xuICB9XG5cbiAgc3dpdGNoIChhY3R1YWxUeXBlKSB7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHZhciBrZXk7XG4gICAgICBpZiAobWF0Y2hBZ2FpbnN0QW55UHJvcCkge1xuICAgICAgICBmb3IgKGtleSBpbiBhY3R1YWwpIHtcbiAgICAgICAgICAvLyBVbmRlciBjZXJ0YWluLCByYXJlLCBjaXJjdW1zdGFuY2VzLCBrZXkgbWF5IG5vdCBiZSBhIHN0cmluZyBhbmQgYGNoYXJBdGAgd2lsbCBiZSB1bmRlZmluZWRcbiAgICAgICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzE1NjQ0XG4gICAgICAgICAgaWYgKGtleS5jaGFyQXQgJiYgKGtleS5jaGFyQXQoMCkgIT09ICckJykgJiZcbiAgICAgICAgICAgICAgZGVlcENvbXBhcmUoYWN0dWFsW2tleV0sIGV4cGVjdGVkLCBjb21wYXJhdG9yLCBhbnlQcm9wZXJ0eUtleSwgdHJ1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9udE1hdGNoV2hvbGVPYmplY3QgPyBmYWxzZSA6IGRlZXBDb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZm9yIChrZXkgaW4gZXhwZWN0ZWQpIHtcbiAgICAgICAgICB2YXIgZXhwZWN0ZWRWYWwgPSBleHBlY3RlZFtrZXldO1xuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGV4cGVjdGVkVmFsKSB8fCBpc1VuZGVmaW5lZChleHBlY3RlZFZhbCkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBtYXRjaEFueVByb3BlcnR5ID0ga2V5ID09PSBhbnlQcm9wZXJ0eUtleTtcbiAgICAgICAgICB2YXIgYWN0dWFsVmFsID0gbWF0Y2hBbnlQcm9wZXJ0eSA/IGFjdHVhbCA6IGFjdHVhbFtrZXldO1xuICAgICAgICAgIGlmICghZGVlcENvbXBhcmUoYWN0dWFsVmFsLCBleHBlY3RlZFZhbCwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIG1hdGNoQW55UHJvcGVydHksIG1hdGNoQW55UHJvcGVydHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmF0b3IoYWN0dWFsLCBleHBlY3RlZCk7XG4gICAgICB9XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gY29tcGFyYXRvcihhY3R1YWwsIGV4cGVjdGVkKTtcbiAgfVxufVxuXG4vLyBVc2VkIGZvciBlYXNpbHkgZGlmZmVyZW50aWF0aW5nIGJldHdlZW4gYG51bGxgIGFuZCBhY3R1YWwgYG9iamVjdGBcbmZ1bmN0aW9uIGdldFR5cGVGb3JGaWx0ZXIodmFsKSB7XG4gIHJldHVybiAodmFsID09PSBudWxsKSA/ICdudWxsJyA6IHR5cGVvZiB2YWw7XG59XG5cbnZhciBNQVhfRElHSVRTID0gMjI7XG52YXIgREVDSU1BTF9TRVAgPSAnLic7XG52YXIgWkVST19DSEFSID0gJzAnO1xuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIGN1cnJlbmN5XG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRm9ybWF0cyBhIG51bWJlciBhcyBhIGN1cnJlbmN5IChpZSAkMSwyMzQuNTYpLiBXaGVuIG5vIGN1cnJlbmN5IHN5bWJvbCBpcyBwcm92aWRlZCwgZGVmYXVsdFxuICogc3ltYm9sIGZvciBjdXJyZW50IGxvY2FsZSBpcyB1c2VkLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgSW5wdXQgdG8gZmlsdGVyLlxuICogQHBhcmFtIHtzdHJpbmc9fSBzeW1ib2wgQ3VycmVuY3kgc3ltYm9sIG9yIGlkZW50aWZpZXIgdG8gYmUgZGlzcGxheWVkLlxuICogQHBhcmFtIHtudW1iZXI9fSBmcmFjdGlvblNpemUgTnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHRvIHJvdW5kIHRoZSBhbW91bnQgdG8sIGRlZmF1bHRzIHRvIGRlZmF1bHQgbWF4IGZyYWN0aW9uIHNpemUgZm9yIGN1cnJlbnQgbG9jYWxlXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgbnVtYmVyLlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwiY3VycmVuY3lFeGFtcGxlXCIgbmFtZT1cImN1cnJlbmN5LWZpbHRlclwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnY3VycmVuY3lFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLmFtb3VudCA9IDEyMzQuNTY7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cImFtb3VudFwiIGFyaWEtbGFiZWw9XCJhbW91bnRcIj4gPGJyPlxuICAgICAgICAgZGVmYXVsdCBjdXJyZW5jeSBzeW1ib2wgKCQpOiA8c3BhbiBpZD1cImN1cnJlbmN5LWRlZmF1bHRcIj57e2Ftb3VudCB8IGN1cnJlbmN5fX08L3NwYW4+PGJyPlxuICAgICAgICAgY3VzdG9tIGN1cnJlbmN5IGlkZW50aWZpZXIgKFVTRCQpOiA8c3BhbiBpZD1cImN1cnJlbmN5LWN1c3RvbVwiPnt7YW1vdW50IHwgY3VycmVuY3k6XCJVU0QkXCJ9fTwvc3Bhbj48YnI+XG4gICAgICAgICBubyBmcmFjdGlvbnMgKDApOiA8c3BhbiBpZD1cImN1cnJlbmN5LW5vLWZyYWN0aW9uc1wiPnt7YW1vdW50IHwgY3VycmVuY3k6XCJVU0QkXCI6MH19PC9zcGFuPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGluaXQgd2l0aCAxMjM0LjU2JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJyQxLDIzNC41NicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWN1c3RvbScpKS5nZXRUZXh0KCkpLnRvQmUoJ1VTRCQxLDIzNC41NicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LW5vLWZyYWN0aW9ucycpKS5nZXRUZXh0KCkpLnRvQmUoJ1VTRCQxLDIzNScpO1xuICAgICAgIH0pO1xuICAgICAgIGl0KCdzaG91bGQgdXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PT0gJ3NhZmFyaScpIHtcbiAgICAgICAgICAgLy8gU2FmYXJpIGRvZXMgbm90IHVuZGVyc3RhbmQgdGhlIG1pbnVzIGtleS4gU2VlXG4gICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzQ4MVxuICAgICAgICAgICByZXR1cm47XG4gICAgICAgICB9XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdhbW91bnQnKSkuY2xlYXIoKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Ftb3VudCcpKS5zZW5kS2V5cygnLTEyMzQnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1kZWZhdWx0JykpLmdldFRleHQoKSkudG9CZSgnLSQxLDIzNC4wMCcpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWN1c3RvbScpKS5nZXRUZXh0KCkpLnRvQmUoJy1VU0QkMSwyMzQuMDAnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1uby1mcmFjdGlvbnMnKSkuZ2V0VGV4dCgpKS50b0JlKCctVVNEJDEsMjM0Jyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuY3VycmVuY3lGaWx0ZXIuJGluamVjdCA9IFsnJGxvY2FsZSddO1xuZnVuY3Rpb24gY3VycmVuY3lGaWx0ZXIoJGxvY2FsZSkge1xuICB2YXIgZm9ybWF0cyA9ICRsb2NhbGUuTlVNQkVSX0ZPUk1BVFM7XG4gIHJldHVybiBmdW5jdGlvbihhbW91bnQsIGN1cnJlbmN5U3ltYm9sLCBmcmFjdGlvblNpemUpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQoY3VycmVuY3lTeW1ib2wpKSB7XG4gICAgICBjdXJyZW5jeVN5bWJvbCA9IGZvcm1hdHMuQ1VSUkVOQ1lfU1lNO1xuICAgIH1cblxuICAgIGlmIChpc1VuZGVmaW5lZChmcmFjdGlvblNpemUpKSB7XG4gICAgICBmcmFjdGlvblNpemUgPSBmb3JtYXRzLlBBVFRFUk5TWzFdLm1heEZyYWM7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGN1cnJlbmN5IHN5bWJvbCBpcyBlbXB0eSwgdHJpbSB3aGl0ZXNwYWNlIGFyb3VuZCB0aGUgc3ltYm9sXG4gICAgdmFyIGN1cnJlbmN5U3ltYm9sUmUgPSAhY3VycmVuY3lTeW1ib2wgPyAvXFxzKlxcdTAwQTRcXHMqL2cgOiAvXFx1MDBBNC9nO1xuXG4gICAgLy8gaWYgbnVsbCBvciB1bmRlZmluZWQgcGFzcyBpdCB0aHJvdWdoXG4gICAgcmV0dXJuIChhbW91bnQgPT0gbnVsbClcbiAgICAgICAgPyBhbW91bnRcbiAgICAgICAgOiBmb3JtYXROdW1iZXIoYW1vdW50LCBmb3JtYXRzLlBBVFRFUk5TWzFdLCBmb3JtYXRzLkdST1VQX1NFUCwgZm9ybWF0cy5ERUNJTUFMX1NFUCwgZnJhY3Rpb25TaXplKS5cbiAgICAgICAgICAgIHJlcGxhY2UoY3VycmVuY3lTeW1ib2xSZSwgY3VycmVuY3lTeW1ib2wpO1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIG51bWJlclxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZvcm1hdHMgYSBudW1iZXIgYXMgdGV4dC5cbiAqXG4gKiBJZiB0aGUgaW5wdXQgaXMgbnVsbCBvciB1bmRlZmluZWQsIGl0IHdpbGwganVzdCBiZSByZXR1cm5lZC5cbiAqIElmIHRoZSBpbnB1dCBpcyBpbmZpbml0ZSAoSW5maW5pdHkgb3IgLUluZmluaXR5KSwgdGhlIEluZmluaXR5IHN5bWJvbCAn4oieJyBvciAnLeKInicgaXMgcmV0dXJuZWQsIHJlc3BlY3RpdmVseS5cbiAqIElmIHRoZSBpbnB1dCBpcyBub3QgYSBudW1iZXIgYW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkLlxuICpcbiAqXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IG51bWJlciBOdW1iZXIgdG8gZm9ybWF0LlxuICogQHBhcmFtIHsobnVtYmVyfHN0cmluZyk9fSBmcmFjdGlvblNpemUgTnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHRvIHJvdW5kIHRoZSBudW1iZXIgdG8uXG4gKiBJZiB0aGlzIGlzIG5vdCBwcm92aWRlZCB0aGVuIHRoZSBmcmFjdGlvbiBzaXplIGlzIGNvbXB1dGVkIGZyb20gdGhlIGN1cnJlbnQgbG9jYWxlJ3MgbnVtYmVyXG4gKiBmb3JtYXR0aW5nIHBhdHRlcm4uIEluIHRoZSBjYXNlIG9mIHRoZSBkZWZhdWx0IGxvY2FsZSwgaXQgd2lsbCBiZSAzLlxuICogQHJldHVybnMge3N0cmluZ30gTnVtYmVyIHJvdW5kZWQgdG8gYGZyYWN0aW9uU2l6ZWAgYXBwcm9wcmlhdGVseSBmb3JtYXR0ZWQgYmFzZWQgb24gdGhlIGN1cnJlbnRcbiAqICAgICAgICAgICAgICAgICAgIGxvY2FsZSAoZS5nLiwgaW4gdGhlIGVuX1VTIGxvY2FsZSBpdCB3aWxsIGhhdmUgXCIuXCIgYXMgdGhlIGRlY2ltYWwgc2VwYXJhdG9yIGFuZFxuICogICAgICAgICAgICAgICAgICAgaW5jbHVkZSBcIixcIiBncm91cCBzZXBhcmF0b3JzIGFmdGVyIGVhY2ggdGhpcmQgZGlnaXQpLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJudW1iZXJGaWx0ZXJFeGFtcGxlXCIgbmFtZT1cIm51bWJlci1maWx0ZXJcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ251bWJlckZpbHRlckV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAkc2NvcGUudmFsID0gMTIzNC41Njc4OTtcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8bGFiZWw+RW50ZXIgbnVtYmVyOiA8aW5wdXQgbmctbW9kZWw9J3ZhbCc+PC9sYWJlbD48YnI+XG4gICAgICAgICBEZWZhdWx0IGZvcm1hdHRpbmc6IDxzcGFuIGlkPSdudW1iZXItZGVmYXVsdCc+e3t2YWwgfCBudW1iZXJ9fTwvc3Bhbj48YnI+XG4gICAgICAgICBObyBmcmFjdGlvbnM6IDxzcGFuPnt7dmFsIHwgbnVtYmVyOjB9fTwvc3Bhbj48YnI+XG4gICAgICAgICBOZWdhdGl2ZSBudW1iZXI6IDxzcGFuPnt7LXZhbCB8IG51bWJlcjo0fX08L3NwYW4+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgZm9ybWF0IG51bWJlcnMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdudW1iZXItZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJzEsMjM0LjU2OCcpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndmFsIHwgbnVtYmVyOjAnKSkuZ2V0VGV4dCgpKS50b0JlKCcxLDIzNScpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnLXZhbCB8IG51bWJlcjo0JykpLmdldFRleHQoKSkudG9CZSgnLTEsMjM0LjU2NzknKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgdXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWwnKSkuY2xlYXIoKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbCcpKS5zZW5kS2V5cygnMzM3NC4zMzMnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdudW1iZXItZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJzMsMzc0LjMzMycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndmFsIHwgbnVtYmVyOjAnKSkuZ2V0VGV4dCgpKS50b0JlKCczLDM3NCcpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnLXZhbCB8IG51bWJlcjo0JykpLmdldFRleHQoKSkudG9CZSgnLTMsMzc0LjMzMzAnKTtcbiAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbm51bWJlckZpbHRlci4kaW5qZWN0ID0gWyckbG9jYWxlJ107XG5mdW5jdGlvbiBudW1iZXJGaWx0ZXIoJGxvY2FsZSkge1xuICB2YXIgZm9ybWF0cyA9ICRsb2NhbGUuTlVNQkVSX0ZPUk1BVFM7XG4gIHJldHVybiBmdW5jdGlvbihudW1iZXIsIGZyYWN0aW9uU2l6ZSkge1xuXG4gICAgLy8gaWYgbnVsbCBvciB1bmRlZmluZWQgcGFzcyBpdCB0aHJvdWdoXG4gICAgcmV0dXJuIChudW1iZXIgPT0gbnVsbClcbiAgICAgICAgPyBudW1iZXJcbiAgICAgICAgOiBmb3JtYXROdW1iZXIobnVtYmVyLCBmb3JtYXRzLlBBVFRFUk5TWzBdLCBmb3JtYXRzLkdST1VQX1NFUCwgZm9ybWF0cy5ERUNJTUFMX1NFUCxcbiAgICAgICAgICAgICAgICAgICAgICAgZnJhY3Rpb25TaXplKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBQYXJzZSBhIG51bWJlciAoYXMgYSBzdHJpbmcpIGludG8gdGhyZWUgY29tcG9uZW50cyB0aGF0IGNhbiBiZSB1c2VkXG4gKiBmb3IgZm9ybWF0dGluZyB0aGUgbnVtYmVyLlxuICpcbiAqIChTaWduaWZpY2FudCBiaXRzIG9mIHRoaXMgcGFyc2UgYWxnb3JpdGhtIGNhbWUgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vTWlrZU1jbC9iaWcuanMvKVxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gbnVtU3RyIFRoZSBudW1iZXIgdG8gcGFyc2VcbiAqIEByZXR1cm4ge29iamVjdH0gQW4gb2JqZWN0IGRlc2NyaWJpbmcgdGhpcyBudW1iZXIsIGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBrZXlzOlxuICogIC0gZCA6IGFuIGFycmF5IG9mIGRpZ2l0cyBjb250YWluaW5nIGxlYWRpbmcgemVyb3MgYXMgbmVjZXNzYXJ5XG4gKiAgLSBpIDogdGhlIG51bWJlciBvZiB0aGUgZGlnaXRzIGluIGBkYCB0aGF0IGFyZSB0byB0aGUgbGVmdCBvZiB0aGUgZGVjaW1hbCBwb2ludFxuICogIC0gZSA6IHRoZSBleHBvbmVudCBmb3IgbnVtYmVycyB0aGF0IHdvdWxkIG5lZWQgbW9yZSB0aGFuIGBNQVhfRElHSVRTYCBkaWdpdHMgaW4gYGRgXG4gKlxuICovXG5mdW5jdGlvbiBwYXJzZShudW1TdHIpIHtcbiAgdmFyIGV4cG9uZW50ID0gMCwgZGlnaXRzLCBudW1iZXJPZkludGVnZXJEaWdpdHM7XG4gIHZhciBpLCBqLCB6ZXJvcztcblxuICAvLyBEZWNpbWFsIHBvaW50P1xuICBpZiAoKG51bWJlck9mSW50ZWdlckRpZ2l0cyA9IG51bVN0ci5pbmRleE9mKERFQ0lNQUxfU0VQKSkgPiAtMSkge1xuICAgIG51bVN0ciA9IG51bVN0ci5yZXBsYWNlKERFQ0lNQUxfU0VQLCAnJyk7XG4gIH1cblxuICAvLyBFeHBvbmVudGlhbCBmb3JtP1xuICBpZiAoKGkgPSBudW1TdHIuc2VhcmNoKC9lL2kpKSA+IDApIHtcbiAgICAvLyBXb3JrIG91dCB0aGUgZXhwb25lbnQuXG4gICAgaWYgKG51bWJlck9mSW50ZWdlckRpZ2l0cyA8IDApIG51bWJlck9mSW50ZWdlckRpZ2l0cyA9IGk7XG4gICAgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzICs9ICtudW1TdHIuc2xpY2UoaSArIDEpO1xuICAgIG51bVN0ciA9IG51bVN0ci5zdWJzdHJpbmcoMCwgaSk7XG4gIH0gZWxzZSBpZiAobnVtYmVyT2ZJbnRlZ2VyRGlnaXRzIDwgMCkge1xuICAgIC8vIFRoZXJlIHdhcyBubyBkZWNpbWFsIHBvaW50IG9yIGV4cG9uZW50IHNvIGl0IGlzIGFuIGludGVnZXIuXG4gICAgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzID0gbnVtU3RyLmxlbmd0aDtcbiAgfVxuXG4gIC8vIENvdW50IHRoZSBudW1iZXIgb2YgbGVhZGluZyB6ZXJvcy5cbiAgZm9yIChpID0gMDsgbnVtU3RyLmNoYXJBdChpKSA9PT0gWkVST19DSEFSOyBpKyspIHsgLyogZW1wdHkgKi8gfVxuXG4gIGlmIChpID09PSAoemVyb3MgPSBudW1TdHIubGVuZ3RoKSkge1xuICAgIC8vIFRoZSBkaWdpdHMgYXJlIGFsbCB6ZXJvLlxuICAgIGRpZ2l0cyA9IFswXTtcbiAgICBudW1iZXJPZkludGVnZXJEaWdpdHMgPSAxO1xuICB9IGVsc2Uge1xuICAgIC8vIENvdW50IHRoZSBudW1iZXIgb2YgdHJhaWxpbmcgemVyb3NcbiAgICB6ZXJvcy0tO1xuICAgIHdoaWxlIChudW1TdHIuY2hhckF0KHplcm9zKSA9PT0gWkVST19DSEFSKSB6ZXJvcy0tO1xuXG4gICAgLy8gVHJhaWxpbmcgemVyb3MgYXJlIGluc2lnbmlmaWNhbnQgc28gaWdub3JlIHRoZW1cbiAgICBudW1iZXJPZkludGVnZXJEaWdpdHMgLT0gaTtcbiAgICBkaWdpdHMgPSBbXTtcbiAgICAvLyBDb252ZXJ0IHN0cmluZyB0byBhcnJheSBvZiBkaWdpdHMgd2l0aG91dCBsZWFkaW5nL3RyYWlsaW5nIHplcm9zLlxuICAgIGZvciAoaiA9IDA7IGkgPD0gemVyb3M7IGkrKywgaisrKSB7XG4gICAgICBkaWdpdHNbal0gPSArbnVtU3RyLmNoYXJBdChpKTtcbiAgICB9XG4gIH1cblxuICAvLyBJZiB0aGUgbnVtYmVyIG92ZXJmbG93cyB0aGUgbWF4aW11bSBhbGxvd2VkIGRpZ2l0cyB0aGVuIHVzZSBhbiBleHBvbmVudC5cbiAgaWYgKG51bWJlck9mSW50ZWdlckRpZ2l0cyA+IE1BWF9ESUdJVFMpIHtcbiAgICBkaWdpdHMgPSBkaWdpdHMuc3BsaWNlKDAsIE1BWF9ESUdJVFMgLSAxKTtcbiAgICBleHBvbmVudCA9IG51bWJlck9mSW50ZWdlckRpZ2l0cyAtIDE7XG4gICAgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzID0gMTtcbiAgfVxuXG4gIHJldHVybiB7IGQ6IGRpZ2l0cywgZTogZXhwb25lbnQsIGk6IG51bWJlck9mSW50ZWdlckRpZ2l0cyB9O1xufVxuXG4vKipcbiAqIFJvdW5kIHRoZSBwYXJzZWQgbnVtYmVyIHRvIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzXG4gKiBUaGlzIGZ1bmN0aW9uIGNoYW5nZWQgdGhlIHBhcnNlZE51bWJlciBpbi1wbGFjZVxuICovXG5mdW5jdGlvbiByb3VuZE51bWJlcihwYXJzZWROdW1iZXIsIGZyYWN0aW9uU2l6ZSwgbWluRnJhYywgbWF4RnJhYykge1xuICAgIHZhciBkaWdpdHMgPSBwYXJzZWROdW1iZXIuZDtcbiAgICB2YXIgZnJhY3Rpb25MZW4gPSBkaWdpdHMubGVuZ3RoIC0gcGFyc2VkTnVtYmVyLmk7XG5cbiAgICAvLyBkZXRlcm1pbmUgZnJhY3Rpb25TaXplIGlmIGl0IGlzIG5vdCBzcGVjaWZpZWQ7IGArZnJhY3Rpb25TaXplYCBjb252ZXJ0cyBpdCB0byBhIG51bWJlclxuICAgIGZyYWN0aW9uU2l6ZSA9IChpc1VuZGVmaW5lZChmcmFjdGlvblNpemUpKSA/IE1hdGgubWluKE1hdGgubWF4KG1pbkZyYWMsIGZyYWN0aW9uTGVuKSwgbWF4RnJhYykgOiArZnJhY3Rpb25TaXplO1xuXG4gICAgLy8gVGhlIGluZGV4IG9mIHRoZSBkaWdpdCB0byB3aGVyZSByb3VuZGluZyBpcyB0byBvY2N1clxuICAgIHZhciByb3VuZEF0ID0gZnJhY3Rpb25TaXplICsgcGFyc2VkTnVtYmVyLmk7XG4gICAgdmFyIGRpZ2l0ID0gZGlnaXRzW3JvdW5kQXRdO1xuXG4gICAgaWYgKHJvdW5kQXQgPiAwKSB7XG4gICAgICAvLyBEcm9wIGZyYWN0aW9uYWwgZGlnaXRzIGJleW9uZCBgcm91bmRBdGBcbiAgICAgIGRpZ2l0cy5zcGxpY2UoTWF0aC5tYXgocGFyc2VkTnVtYmVyLmksIHJvdW5kQXQpKTtcblxuICAgICAgLy8gU2V0IG5vbi1mcmFjdGlvbmFsIGRpZ2l0cyBiZXlvbmQgYHJvdW5kQXRgIHRvIDBcbiAgICAgIGZvciAodmFyIGogPSByb3VuZEF0OyBqIDwgZGlnaXRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGRpZ2l0c1tqXSA9IDA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIHJvdW5kZWQgdG8gemVybyBzbyByZXNldCB0aGUgcGFyc2VkTnVtYmVyXG4gICAgICBmcmFjdGlvbkxlbiA9IE1hdGgubWF4KDAsIGZyYWN0aW9uTGVuKTtcbiAgICAgIHBhcnNlZE51bWJlci5pID0gMTtcbiAgICAgIGRpZ2l0cy5sZW5ndGggPSBNYXRoLm1heCgxLCByb3VuZEF0ID0gZnJhY3Rpb25TaXplICsgMSk7XG4gICAgICBkaWdpdHNbMF0gPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCByb3VuZEF0OyBpKyspIGRpZ2l0c1tpXSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGRpZ2l0ID49IDUpIHtcbiAgICAgIGlmIChyb3VuZEF0IC0gMSA8IDApIHtcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPiByb3VuZEF0OyBrLS0pIHtcbiAgICAgICAgICBkaWdpdHMudW5zaGlmdCgwKTtcbiAgICAgICAgICBwYXJzZWROdW1iZXIuaSsrO1xuICAgICAgICB9XG4gICAgICAgIGRpZ2l0cy51bnNoaWZ0KDEpO1xuICAgICAgICBwYXJzZWROdW1iZXIuaSsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlnaXRzW3JvdW5kQXQgLSAxXSsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFBhZCBvdXQgd2l0aCB6ZXJvcyB0byBnZXQgdGhlIHJlcXVpcmVkIGZyYWN0aW9uIGxlbmd0aFxuICAgIGZvciAoOyBmcmFjdGlvbkxlbiA8IE1hdGgubWF4KDAsIGZyYWN0aW9uU2l6ZSk7IGZyYWN0aW9uTGVuKyspIGRpZ2l0cy5wdXNoKDApO1xuXG5cbiAgICAvLyBEbyBhbnkgY2FycnlpbmcsIGUuZy4gYSBkaWdpdCB3YXMgcm91bmRlZCB1cCB0byAxMFxuICAgIHZhciBjYXJyeSA9IGRpZ2l0cy5yZWR1Y2VSaWdodChmdW5jdGlvbihjYXJyeSwgZCwgaSwgZGlnaXRzKSB7XG4gICAgICBkID0gZCArIGNhcnJ5O1xuICAgICAgZGlnaXRzW2ldID0gZCAlIDEwO1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoZCAvIDEwKTtcbiAgICB9LCAwKTtcbiAgICBpZiAoY2FycnkpIHtcbiAgICAgIGRpZ2l0cy51bnNoaWZ0KGNhcnJ5KTtcbiAgICAgIHBhcnNlZE51bWJlci5pKys7XG4gICAgfVxufVxuXG4vKipcbiAqIEZvcm1hdCBhIG51bWJlciBpbnRvIGEgc3RyaW5nXG4gKiBAcGFyYW0gIHtudW1iZXJ9IG51bWJlciAgICAgICBUaGUgbnVtYmVyIHRvIGZvcm1hdFxuICogQHBhcmFtICB7e1xuICogICAgICAgICAgIG1pbkZyYWMsIC8vIHRoZSBtaW5pbXVtIG51bWJlciBvZiBkaWdpdHMgcmVxdWlyZWQgaW4gdGhlIGZyYWN0aW9uIHBhcnQgb2YgdGhlIG51bWJlclxuICogICAgICAgICAgIG1heEZyYWMsIC8vIHRoZSBtYXhpbXVtIG51bWJlciBvZiBkaWdpdHMgcmVxdWlyZWQgaW4gdGhlIGZyYWN0aW9uIHBhcnQgb2YgdGhlIG51bWJlclxuICogICAgICAgICAgIGdTaXplLCAgIC8vIG51bWJlciBvZiBkaWdpdHMgaW4gZWFjaCBncm91cCBvZiBzZXBhcmF0ZWQgZGlnaXRzXG4gKiAgICAgICAgICAgbGdTaXplLCAgLy8gbnVtYmVyIG9mIGRpZ2l0cyBpbiB0aGUgbGFzdCBncm91cCBvZiBkaWdpdHMgYmVmb3JlIHRoZSBkZWNpbWFsIHNlcGFyYXRvclxuICogICAgICAgICAgIG5lZ1ByZSwgIC8vIHRoZSBzdHJpbmcgdG8gZ28gaW4gZnJvbnQgb2YgYSBuZWdhdGl2ZSBudW1iZXIgKGUuZy4gYC1gIG9yIGAoYCkpXG4gKiAgICAgICAgICAgcG9zUHJlLCAgLy8gdGhlIHN0cmluZyB0byBnbyBpbiBmcm9udCBvZiBhIHBvc2l0aXZlIG51bWJlclxuICogICAgICAgICAgIG5lZ1N1ZiwgIC8vIHRoZSBzdHJpbmcgdG8gZ28gYWZ0ZXIgYSBuZWdhdGl2ZSBudW1iZXIgKGUuZy4gYClgKVxuICogICAgICAgICAgIHBvc1N1ZiAgIC8vIHRoZSBzdHJpbmcgdG8gZ28gYWZ0ZXIgYSBwb3NpdGl2ZSBudW1iZXJcbiAqICAgICAgICAgfX0gcGF0dGVyblxuICogQHBhcmFtICB7c3RyaW5nfSBncm91cFNlcCAgICAgVGhlIHN0cmluZyB0byBzZXBhcmF0ZSBncm91cHMgb2YgbnVtYmVyIChlLmcuIGAsYClcbiAqIEBwYXJhbSAge3N0cmluZ30gZGVjaW1hbFNlcCAgIFRoZSBzdHJpbmcgdG8gYWN0IGFzIHRoZSBkZWNpbWFsIHNlcGFyYXRvciAoZS5nLiBgLmApXG4gKiBAcGFyYW0gIHtbdHlwZV19IGZyYWN0aW9uU2l6ZSBUaGUgc2l6ZSBvZiB0aGUgZnJhY3Rpb25hbCBwYXJ0IG9mIHRoZSBudW1iZXJcbiAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgICAgIFRoZSBudW1iZXIgZm9ybWF0dGVkIGFzIGEgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdE51bWJlcihudW1iZXIsIHBhdHRlcm4sIGdyb3VwU2VwLCBkZWNpbWFsU2VwLCBmcmFjdGlvblNpemUpIHtcblxuICBpZiAoIShpc1N0cmluZyhudW1iZXIpIHx8IGlzTnVtYmVyKG51bWJlcikpIHx8IGlzTmFOKG51bWJlcikpIHJldHVybiAnJztcblxuICB2YXIgaXNJbmZpbml0eSA9ICFpc0Zpbml0ZShudW1iZXIpO1xuICB2YXIgaXNaZXJvID0gZmFsc2U7XG4gIHZhciBudW1TdHIgPSBNYXRoLmFicyhudW1iZXIpICsgJycsXG4gICAgICBmb3JtYXR0ZWRUZXh0ID0gJycsXG4gICAgICBwYXJzZWROdW1iZXI7XG5cbiAgaWYgKGlzSW5maW5pdHkpIHtcbiAgICBmb3JtYXR0ZWRUZXh0ID0gJ1xcdTIyMWUnO1xuICB9IGVsc2Uge1xuICAgIHBhcnNlZE51bWJlciA9IHBhcnNlKG51bVN0cik7XG5cbiAgICByb3VuZE51bWJlcihwYXJzZWROdW1iZXIsIGZyYWN0aW9uU2l6ZSwgcGF0dGVybi5taW5GcmFjLCBwYXR0ZXJuLm1heEZyYWMpO1xuXG4gICAgdmFyIGRpZ2l0cyA9IHBhcnNlZE51bWJlci5kO1xuICAgIHZhciBpbnRlZ2VyTGVuID0gcGFyc2VkTnVtYmVyLmk7XG4gICAgdmFyIGV4cG9uZW50ID0gcGFyc2VkTnVtYmVyLmU7XG4gICAgdmFyIGRlY2ltYWxzID0gW107XG4gICAgaXNaZXJvID0gZGlnaXRzLnJlZHVjZShmdW5jdGlvbihpc1plcm8sIGQpIHsgcmV0dXJuIGlzWmVybyAmJiAhZDsgfSwgdHJ1ZSk7XG5cbiAgICAvLyBwYWQgemVyb3MgZm9yIHNtYWxsIG51bWJlcnNcbiAgICB3aGlsZSAoaW50ZWdlckxlbiA8IDApIHtcbiAgICAgIGRpZ2l0cy51bnNoaWZ0KDApO1xuICAgICAgaW50ZWdlckxlbisrO1xuICAgIH1cblxuICAgIC8vIGV4dHJhY3QgZGVjaW1hbHMgZGlnaXRzXG4gICAgaWYgKGludGVnZXJMZW4gPiAwKSB7XG4gICAgICBkZWNpbWFscyA9IGRpZ2l0cy5zcGxpY2UoaW50ZWdlckxlbiwgZGlnaXRzLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlY2ltYWxzID0gZGlnaXRzO1xuICAgICAgZGlnaXRzID0gWzBdO1xuICAgIH1cblxuICAgIC8vIGZvcm1hdCB0aGUgaW50ZWdlciBkaWdpdHMgd2l0aCBncm91cGluZyBzZXBhcmF0b3JzXG4gICAgdmFyIGdyb3VwcyA9IFtdO1xuICAgIGlmIChkaWdpdHMubGVuZ3RoID49IHBhdHRlcm4ubGdTaXplKSB7XG4gICAgICBncm91cHMudW5zaGlmdChkaWdpdHMuc3BsaWNlKC1wYXR0ZXJuLmxnU2l6ZSwgZGlnaXRzLmxlbmd0aCkuam9pbignJykpO1xuICAgIH1cbiAgICB3aGlsZSAoZGlnaXRzLmxlbmd0aCA+IHBhdHRlcm4uZ1NpemUpIHtcbiAgICAgIGdyb3Vwcy51bnNoaWZ0KGRpZ2l0cy5zcGxpY2UoLXBhdHRlcm4uZ1NpemUsIGRpZ2l0cy5sZW5ndGgpLmpvaW4oJycpKTtcbiAgICB9XG4gICAgaWYgKGRpZ2l0cy5sZW5ndGgpIHtcbiAgICAgIGdyb3Vwcy51bnNoaWZ0KGRpZ2l0cy5qb2luKCcnKSk7XG4gICAgfVxuICAgIGZvcm1hdHRlZFRleHQgPSBncm91cHMuam9pbihncm91cFNlcCk7XG5cbiAgICAvLyBhcHBlbmQgdGhlIGRlY2ltYWwgZGlnaXRzXG4gICAgaWYgKGRlY2ltYWxzLmxlbmd0aCkge1xuICAgICAgZm9ybWF0dGVkVGV4dCArPSBkZWNpbWFsU2VwICsgZGVjaW1hbHMuam9pbignJyk7XG4gICAgfVxuXG4gICAgaWYgKGV4cG9uZW50KSB7XG4gICAgICBmb3JtYXR0ZWRUZXh0ICs9ICdlKycgKyBleHBvbmVudDtcbiAgICB9XG4gIH1cbiAgaWYgKG51bWJlciA8IDAgJiYgIWlzWmVybykge1xuICAgIHJldHVybiBwYXR0ZXJuLm5lZ1ByZSArIGZvcm1hdHRlZFRleHQgKyBwYXR0ZXJuLm5lZ1N1ZjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcGF0dGVybi5wb3NQcmUgKyBmb3JtYXR0ZWRUZXh0ICsgcGF0dGVybi5wb3NTdWY7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFkTnVtYmVyKG51bSwgZGlnaXRzLCB0cmltLCBuZWdXcmFwKSB7XG4gIHZhciBuZWcgPSAnJztcbiAgaWYgKG51bSA8IDAgfHwgKG5lZ1dyYXAgJiYgbnVtIDw9IDApKSB7XG4gICAgaWYgKG5lZ1dyYXApIHtcbiAgICAgIG51bSA9IC1udW0gKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBudW0gPSAtbnVtO1xuICAgICAgbmVnID0gJy0nO1xuICAgIH1cbiAgfVxuICBudW0gPSAnJyArIG51bTtcbiAgd2hpbGUgKG51bS5sZW5ndGggPCBkaWdpdHMpIG51bSA9IFpFUk9fQ0hBUiArIG51bTtcbiAgaWYgKHRyaW0pIHtcbiAgICBudW0gPSBudW0uc3Vic3RyKG51bS5sZW5ndGggLSBkaWdpdHMpO1xuICB9XG4gIHJldHVybiBuZWcgKyBudW07XG59XG5cblxuZnVuY3Rpb24gZGF0ZUdldHRlcihuYW1lLCBzaXplLCBvZmZzZXQsIHRyaW0sIG5lZ1dyYXApIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gIHJldHVybiBmdW5jdGlvbihkYXRlKSB7XG4gICAgdmFyIHZhbHVlID0gZGF0ZVsnZ2V0JyArIG5hbWVdKCk7XG4gICAgaWYgKG9mZnNldCA+IDAgfHwgdmFsdWUgPiAtb2Zmc2V0KSB7XG4gICAgICB2YWx1ZSArPSBvZmZzZXQ7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PT0gMCAmJiBvZmZzZXQgPT09IC0xMikgdmFsdWUgPSAxMjtcbiAgICByZXR1cm4gcGFkTnVtYmVyKHZhbHVlLCBzaXplLCB0cmltLCBuZWdXcmFwKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGF0ZVN0ckdldHRlcihuYW1lLCBzaG9ydEZvcm0sIHN0YW5kQWxvbmUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUsIGZvcm1hdHMpIHtcbiAgICB2YXIgdmFsdWUgPSBkYXRlWydnZXQnICsgbmFtZV0oKTtcbiAgICB2YXIgcHJvcFByZWZpeCA9IChzdGFuZEFsb25lID8gJ1NUQU5EQUxPTkUnIDogJycpICsgKHNob3J0Rm9ybSA/ICdTSE9SVCcgOiAnJyk7XG4gICAgdmFyIGdldCA9IHVwcGVyY2FzZShwcm9wUHJlZml4ICsgbmFtZSk7XG5cbiAgICByZXR1cm4gZm9ybWF0c1tnZXRdW3ZhbHVlXTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGltZVpvbmVHZXR0ZXIoZGF0ZSwgZm9ybWF0cywgb2Zmc2V0KSB7XG4gIHZhciB6b25lID0gLTEgKiBvZmZzZXQ7XG4gIHZhciBwYWRkZWRab25lID0gKHpvbmUgPj0gMCkgPyAnKycgOiAnJztcblxuICBwYWRkZWRab25lICs9IHBhZE51bWJlcihNYXRoW3pvbmUgPiAwID8gJ2Zsb29yJyA6ICdjZWlsJ10oem9uZSAvIDYwKSwgMikgK1xuICAgICAgICAgICAgICAgIHBhZE51bWJlcihNYXRoLmFicyh6b25lICUgNjApLCAyKTtcblxuICByZXR1cm4gcGFkZGVkWm9uZTtcbn1cblxuZnVuY3Rpb24gZ2V0Rmlyc3RUaHVyc2RheU9mWWVhcih5ZWFyKSB7XG4gICAgLy8gMCA9IGluZGV4IG9mIEphbnVhcnlcbiAgICB2YXIgZGF5T2ZXZWVrT25GaXJzdCA9IChuZXcgRGF0ZSh5ZWFyLCAwLCAxKSkuZ2V0RGF5KCk7XG4gICAgLy8gNCA9IGluZGV4IG9mIFRodXJzZGF5ICgrMSB0byBhY2NvdW50IGZvciAxc3QgPSA1KVxuICAgIC8vIDExID0gaW5kZXggb2YgKm5leHQqIFRodXJzZGF5ICgrMSBhY2NvdW50IGZvciAxc3QgPSAxMilcbiAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgMCwgKChkYXlPZldlZWtPbkZpcnN0IDw9IDQpID8gNSA6IDEyKSAtIGRheU9mV2Vla09uRmlyc3QpO1xufVxuXG5mdW5jdGlvbiBnZXRUaHVyc2RheVRoaXNXZWVrKGRhdGV0aW1lKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGRhdGV0aW1lLmdldEZ1bGxZZWFyKCksIGRhdGV0aW1lLmdldE1vbnRoKCksXG4gICAgICAvLyA0ID0gaW5kZXggb2YgVGh1cnNkYXlcbiAgICAgIGRhdGV0aW1lLmdldERhdGUoKSArICg0IC0gZGF0ZXRpbWUuZ2V0RGF5KCkpKTtcbn1cblxuZnVuY3Rpb24gd2Vla0dldHRlcihzaXplKSB7XG4gICByZXR1cm4gZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgdmFyIGZpcnN0VGh1cnMgPSBnZXRGaXJzdFRodXJzZGF5T2ZZZWFyKGRhdGUuZ2V0RnVsbFllYXIoKSksXG4gICAgICAgICB0aGlzVGh1cnMgPSBnZXRUaHVyc2RheVRoaXNXZWVrKGRhdGUpO1xuXG4gICAgICB2YXIgZGlmZiA9ICt0aGlzVGh1cnMgLSArZmlyc3RUaHVycyxcbiAgICAgICAgIHJlc3VsdCA9IDEgKyBNYXRoLnJvdW5kKGRpZmYgLyA2LjA0OGU4KTsgLy8gNi4wNDhlOCBtcyBwZXIgd2Vla1xuXG4gICAgICByZXR1cm4gcGFkTnVtYmVyKHJlc3VsdCwgc2l6ZSk7XG4gICB9O1xufVxuXG5mdW5jdGlvbiBhbXBtR2V0dGVyKGRhdGUsIGZvcm1hdHMpIHtcbiAgcmV0dXJuIGRhdGUuZ2V0SG91cnMoKSA8IDEyID8gZm9ybWF0cy5BTVBNU1swXSA6IGZvcm1hdHMuQU1QTVNbMV07XG59XG5cbmZ1bmN0aW9uIGVyYUdldHRlcihkYXRlLCBmb3JtYXRzKSB7XG4gIHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCkgPD0gMCA/IGZvcm1hdHMuRVJBU1swXSA6IGZvcm1hdHMuRVJBU1sxXTtcbn1cblxuZnVuY3Rpb24gbG9uZ0VyYUdldHRlcihkYXRlLCBmb3JtYXRzKSB7XG4gIHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCkgPD0gMCA/IGZvcm1hdHMuRVJBTkFNRVNbMF0gOiBmb3JtYXRzLkVSQU5BTUVTWzFdO1xufVxuXG52YXIgREFURV9GT1JNQVRTID0ge1xuICB5eXl5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDQsIDAsIGZhbHNlLCB0cnVlKSxcbiAgICB5eTogZGF0ZUdldHRlcignRnVsbFllYXInLCAyLCAwLCB0cnVlLCB0cnVlKSxcbiAgICAgeTogZGF0ZUdldHRlcignRnVsbFllYXInLCAxLCAwLCBmYWxzZSwgdHJ1ZSksXG4gIE1NTU06IGRhdGVTdHJHZXR0ZXIoJ01vbnRoJyksXG4gICBNTU06IGRhdGVTdHJHZXR0ZXIoJ01vbnRoJywgdHJ1ZSksXG4gICAgTU06IGRhdGVHZXR0ZXIoJ01vbnRoJywgMiwgMSksXG4gICAgIE06IGRhdGVHZXR0ZXIoJ01vbnRoJywgMSwgMSksXG4gIExMTEw6IGRhdGVTdHJHZXR0ZXIoJ01vbnRoJywgZmFsc2UsIHRydWUpLFxuICAgIGRkOiBkYXRlR2V0dGVyKCdEYXRlJywgMiksXG4gICAgIGQ6IGRhdGVHZXR0ZXIoJ0RhdGUnLCAxKSxcbiAgICBISDogZGF0ZUdldHRlcignSG91cnMnLCAyKSxcbiAgICAgSDogZGF0ZUdldHRlcignSG91cnMnLCAxKSxcbiAgICBoaDogZGF0ZUdldHRlcignSG91cnMnLCAyLCAtMTIpLFxuICAgICBoOiBkYXRlR2V0dGVyKCdIb3VycycsIDEsIC0xMiksXG4gICAgbW06IGRhdGVHZXR0ZXIoJ01pbnV0ZXMnLCAyKSxcbiAgICAgbTogZGF0ZUdldHRlcignTWludXRlcycsIDEpLFxuICAgIHNzOiBkYXRlR2V0dGVyKCdTZWNvbmRzJywgMiksXG4gICAgIHM6IGRhdGVHZXR0ZXIoJ1NlY29uZHMnLCAxKSxcbiAgICAgLy8gd2hpbGUgSVNPIDg2MDEgcmVxdWlyZXMgZnJhY3Rpb25zIHRvIGJlIHByZWZpeGVkIHdpdGggYC5gIG9yIGAsYFxuICAgICAvLyB3ZSBjYW4gYmUganVzdCBzYWZlbHkgcmVseSBvbiB1c2luZyBgc3NzYCBzaW5jZSB3ZSBjdXJyZW50bHkgZG9uJ3Qgc3VwcG9ydCBzaW5nbGUgb3IgdHdvIGRpZ2l0IGZyYWN0aW9uc1xuICAgc3NzOiBkYXRlR2V0dGVyKCdNaWxsaXNlY29uZHMnLCAzKSxcbiAgRUVFRTogZGF0ZVN0ckdldHRlcignRGF5JyksXG4gICBFRUU6IGRhdGVTdHJHZXR0ZXIoJ0RheScsIHRydWUpLFxuICAgICBhOiBhbXBtR2V0dGVyLFxuICAgICBaOiB0aW1lWm9uZUdldHRlcixcbiAgICB3dzogd2Vla0dldHRlcigyKSxcbiAgICAgdzogd2Vla0dldHRlcigxKSxcbiAgICAgRzogZXJhR2V0dGVyLFxuICAgICBHRzogZXJhR2V0dGVyLFxuICAgICBHR0c6IGVyYUdldHRlcixcbiAgICAgR0dHRzogbG9uZ0VyYUdldHRlclxufTtcblxudmFyIERBVEVfRk9STUFUU19TUExJVCA9IC8oKD86W155TUxkSGhtc2FaRXdHJ10rKXwoPzonKD86W14nXXwnJykqJyl8KD86RSt8eSt8TSt8TCt8ZCt8SCt8aCt8bSt8cyt8YXxafEcrfHcrKSkoW1xcc1xcU10qKS8sXG4gICAgTlVNQkVSX1NUUklORyA9IC9eLT9cXGQrJC87XG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgZGF0ZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqICAgRm9ybWF0cyBgZGF0ZWAgdG8gYSBzdHJpbmcgYmFzZWQgb24gdGhlIHJlcXVlc3RlZCBgZm9ybWF0YC5cbiAqXG4gKiAgIGBmb3JtYXRgIHN0cmluZyBjYW4gYmUgY29tcG9zZWQgb2YgdGhlIGZvbGxvd2luZyBlbGVtZW50czpcbiAqXG4gKiAgICogYCd5eXl5J2A6IDQgZGlnaXQgcmVwcmVzZW50YXRpb24gb2YgeWVhciAoZS5nLiBBRCAxID0+IDAwMDEsIEFEIDIwMTAgPT4gMjAxMClcbiAqICAgKiBgJ3l5J2A6IDIgZGlnaXQgcmVwcmVzZW50YXRpb24gb2YgeWVhciwgcGFkZGVkICgwMC05OSkuIChlLmcuIEFEIDIwMDEgPT4gMDEsIEFEIDIwMTAgPT4gMTApXG4gKiAgICogYCd5J2A6IDEgZGlnaXQgcmVwcmVzZW50YXRpb24gb2YgeWVhciwgZS5nLiAoQUQgMSA9PiAxLCBBRCAxOTkgPT4gMTk5KVxuICogICAqIGAnTU1NTSdgOiBNb250aCBpbiB5ZWFyIChKYW51YXJ5LURlY2VtYmVyKVxuICogICAqIGAnTU1NJ2A6IE1vbnRoIGluIHllYXIgKEphbi1EZWMpXG4gKiAgICogYCdNTSdgOiBNb250aCBpbiB5ZWFyLCBwYWRkZWQgKDAxLTEyKVxuICogICAqIGAnTSdgOiBNb250aCBpbiB5ZWFyICgxLTEyKVxuICogICAqIGAnTExMTCdgOiBTdGFuZC1hbG9uZSBtb250aCBpbiB5ZWFyIChKYW51YXJ5LURlY2VtYmVyKVxuICogICAqIGAnZGQnYDogRGF5IGluIG1vbnRoLCBwYWRkZWQgKDAxLTMxKVxuICogICAqIGAnZCdgOiBEYXkgaW4gbW9udGggKDEtMzEpXG4gKiAgICogYCdFRUVFJ2A6IERheSBpbiBXZWVrLChTdW5kYXktU2F0dXJkYXkpXG4gKiAgICogYCdFRUUnYDogRGF5IGluIFdlZWssIChTdW4tU2F0KVxuICogICAqIGAnSEgnYDogSG91ciBpbiBkYXksIHBhZGRlZCAoMDAtMjMpXG4gKiAgICogYCdIJ2A6IEhvdXIgaW4gZGF5ICgwLTIzKVxuICogICAqIGAnaGgnYDogSG91ciBpbiBBTS9QTSwgcGFkZGVkICgwMS0xMilcbiAqICAgKiBgJ2gnYDogSG91ciBpbiBBTS9QTSwgKDEtMTIpXG4gKiAgICogYCdtbSdgOiBNaW51dGUgaW4gaG91ciwgcGFkZGVkICgwMC01OSlcbiAqICAgKiBgJ20nYDogTWludXRlIGluIGhvdXIgKDAtNTkpXG4gKiAgICogYCdzcydgOiBTZWNvbmQgaW4gbWludXRlLCBwYWRkZWQgKDAwLTU5KVxuICogICAqIGAncydgOiBTZWNvbmQgaW4gbWludXRlICgwLTU5KVxuICogICAqIGAnc3NzJ2A6IE1pbGxpc2Vjb25kIGluIHNlY29uZCwgcGFkZGVkICgwMDAtOTk5KVxuICogICAqIGAnYSdgOiBBTS9QTSBtYXJrZXJcbiAqICAgKiBgJ1onYDogNCBkaWdpdCAoK3NpZ24pIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0aW1lem9uZSBvZmZzZXQgKC0xMjAwLSsxMjAwKVxuICogICAqIGAnd3cnYDogV2VlayBvZiB5ZWFyLCBwYWRkZWQgKDAwLTUzKS4gV2VlayAwMSBpcyB0aGUgd2VlayB3aXRoIHRoZSBmaXJzdCBUaHVyc2RheSBvZiB0aGUgeWVhclxuICogICAqIGAndydgOiBXZWVrIG9mIHllYXIgKDAtNTMpLiBXZWVrIDEgaXMgdGhlIHdlZWsgd2l0aCB0aGUgZmlyc3QgVGh1cnNkYXkgb2YgdGhlIHllYXJcbiAqICAgKiBgJ0cnYCwgYCdHRydgLCBgJ0dHRydgOiBUaGUgYWJicmV2aWF0ZWQgZm9ybSBvZiB0aGUgZXJhIHN0cmluZyAoZS5nLiAnQUQnKVxuICogICAqIGAnR0dHRydgOiBUaGUgbG9uZyBmb3JtIG9mIHRoZSBlcmEgc3RyaW5nIChlLmcuICdBbm5vIERvbWluaScpXG4gKlxuICogICBgZm9ybWF0YCBzdHJpbmcgY2FuIGFsc28gYmUgb25lIG9mIHRoZSBmb2xsb3dpbmcgcHJlZGVmaW5lZFxuICogICB7QGxpbmsgZ3VpZGUvaTE4biBsb2NhbGl6YWJsZSBmb3JtYXRzfTpcbiAqXG4gKiAgICogYCdtZWRpdW0nYDogZXF1aXZhbGVudCB0byBgJ01NTSBkLCB5IGg6bW06c3MgYSdgIGZvciBlbl9VUyBsb2NhbGVcbiAqICAgICAoZS5nLiBTZXAgMywgMjAxMCAxMjowNTowOCBQTSlcbiAqICAgKiBgJ3Nob3J0J2A6IGVxdWl2YWxlbnQgdG8gYCdNL2QveXkgaDptbSBhJ2AgZm9yIGVuX1VTICBsb2NhbGUgKGUuZy4gOS8zLzEwIDEyOjA1IFBNKVxuICogICAqIGAnZnVsbERhdGUnYDogZXF1aXZhbGVudCB0byBgJ0VFRUUsIE1NTU0gZCwgeSdgIGZvciBlbl9VUyAgbG9jYWxlXG4gKiAgICAgKGUuZy4gRnJpZGF5LCBTZXB0ZW1iZXIgMywgMjAxMClcbiAqICAgKiBgJ2xvbmdEYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdNTU1NIGQsIHknYCBmb3IgZW5fVVMgIGxvY2FsZSAoZS5nLiBTZXB0ZW1iZXIgMywgMjAxMClcbiAqICAgKiBgJ21lZGl1bURhdGUnYDogZXF1aXZhbGVudCB0byBgJ01NTSBkLCB5J2AgZm9yIGVuX1VTICBsb2NhbGUgKGUuZy4gU2VwIDMsIDIwMTApXG4gKiAgICogYCdzaG9ydERhdGUnYDogZXF1aXZhbGVudCB0byBgJ00vZC95eSdgIGZvciBlbl9VUyBsb2NhbGUgKGUuZy4gOS8zLzEwKVxuICogICAqIGAnbWVkaXVtVGltZSdgOiBlcXVpdmFsZW50IHRvIGAnaDptbTpzcyBhJ2AgZm9yIGVuX1VTIGxvY2FsZSAoZS5nLiAxMjowNTowOCBQTSlcbiAqICAgKiBgJ3Nob3J0VGltZSdgOiBlcXVpdmFsZW50IHRvIGAnaDptbSBhJ2AgZm9yIGVuX1VTIGxvY2FsZSAoZS5nLiAxMjowNSBQTSlcbiAqXG4gKiAgIGBmb3JtYXRgIHN0cmluZyBjYW4gY29udGFpbiBsaXRlcmFsIHZhbHVlcy4gVGhlc2UgbmVlZCB0byBiZSBlc2NhcGVkIGJ5IHN1cnJvdW5kaW5nIHdpdGggc2luZ2xlIHF1b3RlcyAoZS5nLlxuICogICBgXCJoICdpbiB0aGUgbW9ybmluZydcImApLiBJbiBvcmRlciB0byBvdXRwdXQgYSBzaW5nbGUgcXVvdGUsIGVzY2FwZSBpdCAtIGkuZS4sIHR3byBzaW5nbGUgcXVvdGVzIGluIGEgc2VxdWVuY2VcbiAqICAgKGUuZy4gYFwiaCAnbycnY2xvY2snXCJgKS5cbiAqXG4gKiAgIEFueSBvdGhlciBjaGFyYWN0ZXJzIGluIHRoZSBgZm9ybWF0YCBzdHJpbmcgd2lsbCBiZSBvdXRwdXQgYXMtaXMuXG4gKlxuICogQHBhcmFtIHsoRGF0ZXxudW1iZXJ8c3RyaW5nKX0gZGF0ZSBEYXRlIHRvIGZvcm1hdCBlaXRoZXIgYXMgRGF0ZSBvYmplY3QsIG1pbGxpc2Vjb25kcyAoc3RyaW5nIG9yXG4gKiAgICBudW1iZXIpIG9yIHZhcmlvdXMgSVNPIDg2MDEgZGF0ZXRpbWUgc3RyaW5nIGZvcm1hdHMgKGUuZy4geXl5eS1NTS1kZFRISDptbTpzcy5zc3NaIGFuZCBpdHNcbiAqICAgIHNob3J0ZXIgdmVyc2lvbnMgbGlrZSB5eXl5LU1NLWRkVEhIOm1tWiwgeXl5eS1NTS1kZCBvciB5eXl5TU1kZFRISG1tc3NaKS4gSWYgbm8gdGltZXpvbmUgaXNcbiAqICAgIHNwZWNpZmllZCBpbiB0aGUgc3RyaW5nIGlucHV0LCB0aGUgdGltZSBpcyBjb25zaWRlcmVkIHRvIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gZm9ybWF0IEZvcm1hdHRpbmcgcnVsZXMgKHNlZSBEZXNjcmlwdGlvbikuIElmIG5vdCBzcGVjaWZpZWQsXG4gKiAgICBgbWVkaXVtRGF0ZWAgaXMgdXNlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdGltZXpvbmUgVGltZXpvbmUgdG8gYmUgdXNlZCBmb3IgZm9ybWF0dGluZy4gSXQgdW5kZXJzdGFuZHMgVVRDL0dNVCBhbmQgdGhlXG4gKiAgICBjb250aW5lbnRhbCBVUyB0aW1lIHpvbmUgYWJicmV2aWF0aW9ucywgYnV0IGZvciBnZW5lcmFsIHVzZSwgdXNlIGEgdGltZSB6b25lIG9mZnNldCwgZm9yXG4gKiAgICBleGFtcGxlLCBgJyswNDMwJ2AgKDQgaG91cnMsIDMwIG1pbnV0ZXMgZWFzdCBvZiB0aGUgR3JlZW53aWNoIG1lcmlkaWFuKVxuICogICAgSWYgbm90IHNwZWNpZmllZCwgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyIHdpbGwgYmUgdXNlZC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCBzdHJpbmcgb3IgdGhlIGlucHV0IGlmIGlucHV0IGlzIG5vdCByZWNvZ25pemVkIGFzIGRhdGUvbWlsbGlzLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwiZmlsdGVyLWRhdGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonbWVkaXVtJ319PC9zcGFuPjpcbiAgICAgICAgICAgPHNwYW4+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonbWVkaXVtJ319PC9zcGFuPjxicj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ319PC9zcGFuPjpcbiAgICAgICAgICA8c3Bhbj57ezEyODgzMjM2MjMwMDYgfCBkYXRlOid5eXl5LU1NLWRkIEhIOm1tOnNzIFonfX08L3NwYW4+PGJyPlxuICAgICAgIDxzcGFuIG5nLW5vbi1iaW5kYWJsZT57ezEyODgzMjM2MjMwMDYgfCBkYXRlOidNTS9kZC95eXl5IEAgaDptbWEnfX08L3NwYW4+OlxuICAgICAgICAgIDxzcGFuPnt7JzEyODgzMjM2MjMwMDYnIHwgZGF0ZTonTU0vZGQveXl5eSBAIGg6bW1hJ319PC9zcGFuPjxicj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTpcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVwifX08L3NwYW4+OlxuICAgICAgICAgIDxzcGFuPnt7JzEyODgzMjM2MjMwMDYnIHwgZGF0ZTpcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVwifX08L3NwYW4+PGJyPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGZvcm1hdCBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKFwiMTI4ODMyMzYyMzAwNiB8IGRhdGU6J21lZGl1bSdcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC9PY3QgMlxcZCwgMjAxMCBcXGR7MSwyfTpcXGR7Mn06XFxkezJ9IChBTXxQTSkvKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCIxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ1wiKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgIHRvTWF0Y2goLzIwMTAtMTAtMlxcZCBcXGR7Mn06XFxkezJ9OlxcZHsyfSAoLXxcXCspP1xcZHs0fS8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIicxMjg4MzIzNjIzMDA2JyB8IGRhdGU6J01NL2RkL3l5eXkgQCBoOm1tYSdcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC8xMFxcLzJcXGRcXC8yMDEwIEAgXFxkezEsMn06XFxkezJ9KEFNfFBNKS8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIicxMjg4MzIzNjIzMDA2JyB8IGRhdGU6XFxcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVxcXCJcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC8xMFxcLzJcXGRcXC8yMDEwIGF0IFxcZHsxLDJ9OlxcZHsyfShBTXxQTSkvKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5kYXRlRmlsdGVyLiRpbmplY3QgPSBbJyRsb2NhbGUnXTtcbmZ1bmN0aW9uIGRhdGVGaWx0ZXIoJGxvY2FsZSkge1xuXG5cbiAgdmFyIFJfSVNPODYwMV9TVFIgPSAvXihcXGR7NH0pLT8oXFxkXFxkKS0/KFxcZFxcZCkoPzpUKFxcZFxcZCkoPzo6PyhcXGRcXGQpKD86Oj8oXFxkXFxkKSg/OlxcLihcXGQrKSk/KT8pPyhafChbKy1dKShcXGRcXGQpOj8oXFxkXFxkKSk/KT8kLztcbiAgICAgICAgICAgICAgICAgICAgIC8vIDEgICAgICAgIDIgICAgICAgMyAgICAgICAgIDQgICAgICAgICAgNSAgICAgICAgICA2ICAgICAgICAgIDcgICAgICAgICAgOCAgOSAgICAgMTAgICAgICAxMVxuICBmdW5jdGlvbiBqc29uU3RyaW5nVG9EYXRlKHN0cmluZykge1xuICAgIHZhciBtYXRjaDtcbiAgICBpZiAoKG1hdGNoID0gc3RyaW5nLm1hdGNoKFJfSVNPODYwMV9TVFIpKSkge1xuICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgwKSxcbiAgICAgICAgICB0ekhvdXIgPSAwLFxuICAgICAgICAgIHR6TWluICA9IDAsXG4gICAgICAgICAgZGF0ZVNldHRlciA9IG1hdGNoWzhdID8gZGF0ZS5zZXRVVENGdWxsWWVhciA6IGRhdGUuc2V0RnVsbFllYXIsXG4gICAgICAgICAgdGltZVNldHRlciA9IG1hdGNoWzhdID8gZGF0ZS5zZXRVVENIb3VycyA6IGRhdGUuc2V0SG91cnM7XG5cbiAgICAgIGlmIChtYXRjaFs5XSkge1xuICAgICAgICB0ekhvdXIgPSB0b0ludChtYXRjaFs5XSArIG1hdGNoWzEwXSk7XG4gICAgICAgIHR6TWluID0gdG9JbnQobWF0Y2hbOV0gKyBtYXRjaFsxMV0pO1xuICAgICAgfVxuICAgICAgZGF0ZVNldHRlci5jYWxsKGRhdGUsIHRvSW50KG1hdGNoWzFdKSwgdG9JbnQobWF0Y2hbMl0pIC0gMSwgdG9JbnQobWF0Y2hbM10pKTtcbiAgICAgIHZhciBoID0gdG9JbnQobWF0Y2hbNF0gfHwgMCkgLSB0ekhvdXI7XG4gICAgICB2YXIgbSA9IHRvSW50KG1hdGNoWzVdIHx8IDApIC0gdHpNaW47XG4gICAgICB2YXIgcyA9IHRvSW50KG1hdGNoWzZdIHx8IDApO1xuICAgICAgdmFyIG1zID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KCcwLicgKyAobWF0Y2hbN10gfHwgMCkpICogMTAwMCk7XG4gICAgICB0aW1lU2V0dGVyLmNhbGwoZGF0ZSwgaCwgbSwgcywgbXMpO1xuICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmc7XG4gIH1cblxuXG4gIHJldHVybiBmdW5jdGlvbihkYXRlLCBmb3JtYXQsIHRpbWV6b25lKSB7XG4gICAgdmFyIHRleHQgPSAnJyxcbiAgICAgICAgcGFydHMgPSBbXSxcbiAgICAgICAgZm4sIG1hdGNoO1xuXG4gICAgZm9ybWF0ID0gZm9ybWF0IHx8ICdtZWRpdW1EYXRlJztcbiAgICBmb3JtYXQgPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFNbZm9ybWF0XSB8fCBmb3JtYXQ7XG4gICAgaWYgKGlzU3RyaW5nKGRhdGUpKSB7XG4gICAgICBkYXRlID0gTlVNQkVSX1NUUklORy50ZXN0KGRhdGUpID8gdG9JbnQoZGF0ZSkgOiBqc29uU3RyaW5nVG9EYXRlKGRhdGUpO1xuICAgIH1cblxuICAgIGlmIChpc051bWJlcihkYXRlKSkge1xuICAgICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgIH1cblxuICAgIGlmICghaXNEYXRlKGRhdGUpIHx8ICFpc0Zpbml0ZShkYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cblxuICAgIHdoaWxlIChmb3JtYXQpIHtcbiAgICAgIG1hdGNoID0gREFURV9GT1JNQVRTX1NQTElULmV4ZWMoZm9ybWF0KTtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICBwYXJ0cyA9IGNvbmNhdChwYXJ0cywgbWF0Y2gsIDEpO1xuICAgICAgICBmb3JtYXQgPSBwYXJ0cy5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnRzLnB1c2goZm9ybWF0KTtcbiAgICAgICAgZm9ybWF0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZGF0ZVRpbWV6b25lT2Zmc2V0ID0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgIGlmICh0aW1lem9uZSkge1xuICAgICAgZGF0ZVRpbWV6b25lT2Zmc2V0ID0gdGltZXpvbmVUb09mZnNldCh0aW1lem9uZSwgZGF0ZVRpbWV6b25lT2Zmc2V0KTtcbiAgICAgIGRhdGUgPSBjb252ZXJ0VGltZXpvbmVUb0xvY2FsKGRhdGUsIHRpbWV6b25lLCB0cnVlKTtcbiAgICB9XG4gICAgZm9yRWFjaChwYXJ0cywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGZuID0gREFURV9GT1JNQVRTW3ZhbHVlXTtcbiAgICAgIHRleHQgKz0gZm4gPyBmbihkYXRlLCAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMsIGRhdGVUaW1lem9uZU9mZnNldClcbiAgICAgICAgICAgICAgICAgOiB2YWx1ZSA9PT0gJ1xcJ1xcJycgPyAnXFwnJyA6IHZhbHVlLnJlcGxhY2UoLyheJ3wnJCkvZywgJycpLnJlcGxhY2UoLycnL2csICdcXCcnKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0ZXh0O1xuICB9O1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUganNvblxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqICAgQWxsb3dzIHlvdSB0byBjb252ZXJ0IGEgSmF2YVNjcmlwdCBvYmplY3QgaW50byBKU09OIHN0cmluZy5cbiAqXG4gKiAgIFRoaXMgZmlsdGVyIGlzIG1vc3RseSB1c2VmdWwgZm9yIGRlYnVnZ2luZy4gV2hlbiB1c2luZyB0aGUgZG91YmxlIGN1cmx5IHt7dmFsdWV9fSBub3RhdGlvblxuICogICB0aGUgYmluZGluZyBpcyBhdXRvbWF0aWNhbGx5IGNvbnZlcnRlZCB0byBKU09OLlxuICpcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IEFueSBKYXZhU2NyaXB0IG9iamVjdCAoaW5jbHVkaW5nIGFycmF5cyBhbmQgcHJpbWl0aXZlIHR5cGVzKSB0byBmaWx0ZXIuXG4gKiBAcGFyYW0ge251bWJlcj19IHNwYWNpbmcgVGhlIG51bWJlciBvZiBzcGFjZXMgdG8gdXNlIHBlciBpbmRlbnRhdGlvbiwgZGVmYXVsdHMgdG8gMi5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEpTT04gc3RyaW5nLlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cImZpbHRlci1qc29uXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHByZSBpZD1cImRlZmF1bHQtc3BhY2luZ1wiPnt7IHsnbmFtZSc6J3ZhbHVlJ30gfCBqc29uIH19PC9wcmU+XG4gICAgICAgPHByZSBpZD1cImN1c3RvbS1zcGFjaW5nXCI+e3sgeyduYW1lJzondmFsdWUnfSB8IGpzb246NCB9fTwvcHJlPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGpzb25pZnkgZmlsdGVyZWQgb2JqZWN0cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2RlZmF1bHQtc3BhY2luZycpKS5nZXRUZXh0KCkpLnRvTWF0Y2goL1xce1xcbiB7Mn1cIm5hbWVcIjogP1widmFsdWVcIlxcbn0vKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXN0b20tc3BhY2luZycpKS5nZXRUZXh0KCkpLnRvTWF0Y2goL1xce1xcbiB7NH1cIm5hbWVcIjogP1widmFsdWVcIlxcbn0vKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICpcbiAqL1xuZnVuY3Rpb24ganNvbkZpbHRlcigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgc3BhY2luZykge1xuICAgIGlmIChpc1VuZGVmaW5lZChzcGFjaW5nKSkge1xuICAgICAgICBzcGFjaW5nID0gMjtcbiAgICB9XG4gICAgcmV0dXJuIHRvSnNvbihvYmplY3QsIHNwYWNpbmcpO1xuICB9O1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgbG93ZXJjYXNlXG4gKiBAa2luZCBmdW5jdGlvblxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0cyBzdHJpbmcgdG8gbG93ZXJjYXNlLlxuICpcbiAqIFNlZSB0aGUge0BsaW5rIG5nLnVwcGVyY2FzZSB1cHBlcmNhc2UgZmlsdGVyIGRvY3VtZW50YXRpb259IGZvciBhIGZ1bmN0aW9uYWxseSBpZGVudGljYWwgZXhhbXBsZS5cbiAqXG4gKiBAc2VlIGFuZ3VsYXIubG93ZXJjYXNlXG4gKi9cbnZhciBsb3dlcmNhc2VGaWx0ZXIgPSB2YWx1ZUZuKGxvd2VyY2FzZSk7XG5cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSB1cHBlcmNhc2VcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbnZlcnRzIHN0cmluZyB0byB1cHBlcmNhc2UuXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwidXBwZXJjYXNlRmlsdGVyRXhhbXBsZVwiIG5hbWU9XCJmaWx0ZXItdXBwZXJjYXNlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd1cHBlcmNhc2VGaWx0ZXJFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLnRpdGxlID0gJ1RoaXMgaXMgYSB0aXRsZSc7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPCEtLSBUaGlzIHRpdGxlIHNob3VsZCBiZSBmb3JtYXR0ZWQgbm9ybWFsbHkgLS0+XG4gICAgICAgICA8aDE+e3t0aXRsZX19PC9oMT5cbiAgICAgICAgIDwhLS0gVGhpcyB0aXRsZSBzaG91bGQgYmUgY2FwaXRhbGl6ZWQgLS0+XG4gICAgICAgICA8aDE+e3t0aXRsZSB8IHVwcGVyY2FzZX19PC9oMT5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgdXBwZXJjYXNlRmlsdGVyID0gdmFsdWVGbih1cHBlcmNhc2UpO1xuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIGxpbWl0VG9cbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgbmV3IGFycmF5IG9yIHN0cmluZyBjb250YWluaW5nIG9ubHkgYSBzcGVjaWZpZWQgbnVtYmVyIG9mIGVsZW1lbnRzLiBUaGUgZWxlbWVudHMgYXJlXG4gKiB0YWtlbiBmcm9tIGVpdGhlciB0aGUgYmVnaW5uaW5nIG9yIHRoZSBlbmQgb2YgdGhlIHNvdXJjZSBhcnJheSwgc3RyaW5nIG9yIG51bWJlciwgYXMgc3BlY2lmaWVkIGJ5XG4gKiB0aGUgdmFsdWUgYW5kIHNpZ24gKHBvc2l0aXZlIG9yIG5lZ2F0aXZlKSBvZiBgbGltaXRgLiBPdGhlciBhcnJheS1saWtlIG9iamVjdHMgYXJlIGFsc28gc3VwcG9ydGVkXG4gKiAoZS5nLiBhcnJheSBzdWJjbGFzc2VzLCBOb2RlTGlzdHMsIGpxTGl0ZS9qUXVlcnkgY29sbGVjdGlvbnMgZXRjKS4gSWYgYSBudW1iZXIgaXMgdXNlZCBhcyBpbnB1dCxcbiAqIGl0IGlzIGNvbnZlcnRlZCB0byBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fEFycmF5TGlrZXxzdHJpbmd8bnVtYmVyfSBpbnB1dCAtIEFycmF5L2FycmF5LWxpa2UsIHN0cmluZyBvciBudW1iZXIgdG8gYmUgbGltaXRlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gbGltaXQgLSBUaGUgbGVuZ3RoIG9mIHRoZSByZXR1cm5lZCBhcnJheSBvciBzdHJpbmcuIElmIHRoZSBgbGltaXRgIG51bWJlclxuICogICAgIGlzIHBvc2l0aXZlLCBgbGltaXRgIG51bWJlciBvZiBpdGVtcyBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHNvdXJjZSBhcnJheS9zdHJpbmcgYXJlIGNvcGllZC5cbiAqICAgICBJZiB0aGUgbnVtYmVyIGlzIG5lZ2F0aXZlLCBgbGltaXRgIG51bWJlciAgb2YgaXRlbXMgZnJvbSB0aGUgZW5kIG9mIHRoZSBzb3VyY2UgYXJyYXkvc3RyaW5nXG4gKiAgICAgYXJlIGNvcGllZC4gVGhlIGBsaW1pdGAgd2lsbCBiZSB0cmltbWVkIGlmIGl0IGV4Y2VlZHMgYGFycmF5Lmxlbmd0aGAuIElmIGBsaW1pdGAgaXMgdW5kZWZpbmVkLFxuICogICAgIHRoZSBpbnB1dCB3aWxsIGJlIHJldHVybmVkIHVuY2hhbmdlZC5cbiAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpPX0gYmVnaW4gLSBJbmRleCBhdCB3aGljaCB0byBiZWdpbiBsaW1pdGF0aW9uLiBBcyBhIG5lZ2F0aXZlIGluZGV4LFxuICogICAgIGBiZWdpbmAgaW5kaWNhdGVzIGFuIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGlucHV0YC4gRGVmYXVsdHMgdG8gYDBgLlxuICogQHJldHVybnMge0FycmF5fHN0cmluZ30gQSBuZXcgc3ViLWFycmF5IG9yIHN1YnN0cmluZyBvZiBsZW5ndGggYGxpbWl0YCBvciBsZXNzIGlmIHRoZSBpbnB1dCBoYWRcbiAqICAgICBsZXNzIHRoYW4gYGxpbWl0YCBlbGVtZW50cy5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibGltaXRUb0V4YW1wbGVcIiBuYW1lPVwibGltaXQtdG8tZmlsdGVyXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdsaW1pdFRvRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5udW1iZXJzID0gWzEsMiwzLDQsNSw2LDcsOCw5XTtcbiAgICAgICAgICAgICAkc2NvcGUubGV0dGVycyA9IFwiYWJjZGVmZ2hpXCI7XG4gICAgICAgICAgICAgJHNjb3BlLmxvbmdOdW1iZXIgPSAyMzQ1NDMyMzQyO1xuICAgICAgICAgICAgICRzY29wZS5udW1MaW1pdCA9IDM7XG4gICAgICAgICAgICAgJHNjb3BlLmxldHRlckxpbWl0ID0gMztcbiAgICAgICAgICAgICAkc2NvcGUubG9uZ051bWJlckxpbWl0ID0gMztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICBMaW1pdCB7e251bWJlcnN9fSB0bzpcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3RlcD1cIjFcIiBuZy1tb2RlbD1cIm51bUxpbWl0XCI+XG4gICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgPHA+T3V0cHV0IG51bWJlcnM6IHt7IG51bWJlcnMgfCBsaW1pdFRvOm51bUxpbWl0IH19PC9wPlxuICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgTGltaXQge3tsZXR0ZXJzfX0gdG86XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCIxXCIgbmctbW9kZWw9XCJsZXR0ZXJMaW1pdFwiPlxuICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgIDxwPk91dHB1dCBsZXR0ZXJzOiB7eyBsZXR0ZXJzIHwgbGltaXRUbzpsZXR0ZXJMaW1pdCB9fTwvcD5cbiAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgIExpbWl0IHt7bG9uZ051bWJlcn19IHRvOlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiMVwiIG5nLW1vZGVsPVwibG9uZ051bWJlckxpbWl0XCI+XG4gICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgPHA+T3V0cHV0IGxvbmcgbnVtYmVyOiB7eyBsb25nTnVtYmVyIHwgbGltaXRUbzpsb25nTnVtYmVyTGltaXQgfX08L3A+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBudW1MaW1pdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbnVtTGltaXQnKSk7XG4gICAgICAgdmFyIGxldHRlckxpbWl0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsZXR0ZXJMaW1pdCcpKTtcbiAgICAgICB2YXIgbG9uZ051bWJlckxpbWl0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsb25nTnVtYmVyTGltaXQnKSk7XG4gICAgICAgdmFyIGxpbWl0ZWROdW1iZXJzID0gZWxlbWVudChieS5iaW5kaW5nKCdudW1iZXJzIHwgbGltaXRUbzpudW1MaW1pdCcpKTtcbiAgICAgICB2YXIgbGltaXRlZExldHRlcnMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xldHRlcnMgfCBsaW1pdFRvOmxldHRlckxpbWl0JykpO1xuICAgICAgIHZhciBsaW1pdGVkTG9uZ051bWJlciA9IGVsZW1lbnQoYnkuYmluZGluZygnbG9uZ051bWJlciB8IGxpbWl0VG86bG9uZ051bWJlckxpbWl0JykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsaW1pdCB0aGUgbnVtYmVyIGFycmF5IHRvIGZpcnN0IHRocmVlIGl0ZW1zJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QobnVtTGltaXRJbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJzMnKTtcbiAgICAgICAgIGV4cGVjdChsZXR0ZXJMaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xuICAgICAgICAgZXhwZWN0KGxvbmdOdW1iZXJMaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xuICAgICAgICAgZXhwZWN0KGxpbWl0ZWROdW1iZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IG51bWJlcnM6IFsxLDIsM10nKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmMnKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMjM0Jyk7XG4gICAgICAgfSk7XG5cbiAgICAgICAvLyBUaGVyZSBpcyBhIGJ1ZyBpbiBzYWZhcmkgYW5kIHByb3RyYWN0b3IgdGhhdCBkb2Vzbid0IGxpa2UgdGhlIG1pbnVzIGtleVxuICAgICAgIC8vIGl0KCdzaG91bGQgdXBkYXRlIHRoZSBvdXRwdXQgd2hlbiAtMyBpcyBlbnRlcmVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgLy8gICBudW1MaW1pdElucHV0LmNsZWFyKCk7XG4gICAgICAgLy8gICBudW1MaW1pdElucHV0LnNlbmRLZXlzKCctMycpO1xuICAgICAgIC8vICAgbGV0dGVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgIC8vICAgbGV0dGVyTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTtcbiAgICAgICAvLyAgIGxvbmdOdW1iZXJMaW1pdElucHV0LmNsZWFyKCk7XG4gICAgICAgLy8gICBsb25nTnVtYmVyTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTtcbiAgICAgICAvLyAgIGV4cGVjdChsaW1pdGVkTnVtYmVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBudW1iZXJzOiBbNyw4LDldJyk7XG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZExldHRlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbGV0dGVyczogZ2hpJyk7XG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZExvbmdOdW1iZXIuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbG9uZyBudW1iZXI6IDM0MicpO1xuICAgICAgIC8vIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBub3QgZXhjZWVkIHRoZSBtYXhpbXVtIHNpemUgb2YgaW5wdXQgYXJyYXknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIG51bUxpbWl0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgIG51bUxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xuICAgICAgICAgbGV0dGVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbGV0dGVyTGltaXRJbnB1dC5zZW5kS2V5cygnMTAwJyk7XG4gICAgICAgICBsb25nTnVtYmVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbG9uZ051bWJlckxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xuICAgICAgICAgZXhwZWN0KGxpbWl0ZWROdW1iZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IG51bWJlcnM6IFsxLDIsMyw0LDUsNiw3LDgsOV0nKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmNkZWZnaGknKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMjM0NTQzMjM0MicpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4qL1xuZnVuY3Rpb24gbGltaXRUb0ZpbHRlcigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBsaW1pdCwgYmVnaW4pIHtcbiAgICBpZiAoTWF0aC5hYnMoTnVtYmVyKGxpbWl0KSkgPT09IEluZmluaXR5KSB7XG4gICAgICBsaW1pdCA9IE51bWJlcihsaW1pdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpbWl0ID0gdG9JbnQobGltaXQpO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXJOYU4obGltaXQpKSByZXR1cm4gaW5wdXQ7XG5cbiAgICBpZiAoaXNOdW1iZXIoaW5wdXQpKSBpbnB1dCA9IGlucHV0LnRvU3RyaW5nKCk7XG4gICAgaWYgKCFpc0FycmF5TGlrZShpbnB1dCkpIHJldHVybiBpbnB1dDtcblxuICAgIGJlZ2luID0gKCFiZWdpbiB8fCBpc05hTihiZWdpbikpID8gMCA6IHRvSW50KGJlZ2luKTtcbiAgICBiZWdpbiA9IChiZWdpbiA8IDApID8gTWF0aC5tYXgoMCwgaW5wdXQubGVuZ3RoICsgYmVnaW4pIDogYmVnaW47XG5cbiAgICBpZiAobGltaXQgPj0gMCkge1xuICAgICAgcmV0dXJuIHNsaWNlRm4oaW5wdXQsIGJlZ2luLCBiZWdpbiArIGxpbWl0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGJlZ2luID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzbGljZUZuKGlucHV0LCBsaW1pdCwgaW5wdXQubGVuZ3RoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzbGljZUZuKGlucHV0LCBNYXRoLm1heCgwLCBiZWdpbiArIGxpbWl0KSwgYmVnaW4pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gc2xpY2VGbihpbnB1dCwgYmVnaW4sIGVuZCkge1xuICBpZiAoaXNTdHJpbmcoaW5wdXQpKSByZXR1cm4gaW5wdXQuc2xpY2UoYmVnaW4sIGVuZCk7XG5cbiAgcmV0dXJuIHNsaWNlLmNhbGwoaW5wdXQsIGJlZ2luLCBlbmQpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIG9yZGVyQnlcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGl0ZW1zIGZyb20gdGhlIHNwZWNpZmllZCBgY29sbGVjdGlvbmAsIG9yZGVyZWQgYnkgYSBgY29tcGFyYXRvcmBcbiAqIGZ1bmN0aW9uIGJhc2VkIG9uIHRoZSB2YWx1ZXMgY29tcHV0ZWQgdXNpbmcgdGhlIGBleHByZXNzaW9uYCBwcmVkaWNhdGUuXG4gKlxuICogRm9yIGV4YW1wbGUsIGBbe2lkOiAnZm9vJ30sIHtpZDogJ2Jhcid9XSB8IG9yZGVyQnk6J2lkJ2Agd291bGQgcmVzdWx0IGluXG4gKiBgW3tpZDogJ2Jhcid9LCB7aWQ6ICdmb28nfV1gLlxuICpcbiAqIFRoZSBgY29sbGVjdGlvbmAgY2FuIGJlIGFuIEFycmF5IG9yIGFycmF5LWxpa2Ugb2JqZWN0IChlLmcuIE5vZGVMaXN0LCBqUXVlcnkgb2JqZWN0LCBUeXBlZEFycmF5LFxuICogU3RyaW5nLCBldGMpLlxuICpcbiAqIFRoZSBgZXhwcmVzc2lvbmAgY2FuIGJlIGEgc2luZ2xlIHByZWRpY2F0ZSwgb3IgYSBsaXN0IG9mIHByZWRpY2F0ZXMgZWFjaCBzZXJ2aW5nIGFzIGEgdGllLWJyZWFrZXJcbiAqIGZvciB0aGUgcHJlY2VkaW5nIG9uZS4gVGhlIGBleHByZXNzaW9uYCBpcyBldmFsdWF0ZWQgYWdhaW5zdCBlYWNoIGl0ZW0gYW5kIHRoZSBvdXRwdXQgaXMgdXNlZFxuICogZm9yIGNvbXBhcmluZyB3aXRoIG90aGVyIGl0ZW1zLlxuICpcbiAqIFlvdSBjYW4gY2hhbmdlIHRoZSBzb3J0aW5nIG9yZGVyIGJ5IHNldHRpbmcgYHJldmVyc2VgIHRvIGB0cnVlYC4gQnkgZGVmYXVsdCwgaXRlbXMgYXJlIHNvcnRlZCBpblxuICogYXNjZW5kaW5nIG9yZGVyLlxuICpcbiAqIFRoZSBjb21wYXJpc29uIGlzIGRvbmUgdXNpbmcgdGhlIGBjb21wYXJhdG9yYCBmdW5jdGlvbi4gSWYgbm9uZSBpcyBzcGVjaWZpZWQsIGEgZGVmYXVsdCwgYnVpbHQtaW5cbiAqIGNvbXBhcmF0b3IgaXMgdXNlZCAoc2VlIGJlbG93IGZvciBkZXRhaWxzIC0gaW4gYSBudXRzaGVsbCwgaXQgY29tcGFyZXMgbnVtYmVycyBudW1lcmljYWxseSBhbmRcbiAqIHN0cmluZ3MgYWxwaGFiZXRpY2FsbHkpLlxuICpcbiAqICMjIyBVbmRlciB0aGUgaG9vZFxuICpcbiAqIE9yZGVyaW5nIHRoZSBzcGVjaWZpZWQgYGNvbGxlY3Rpb25gIGhhcHBlbnMgaW4gdHdvIHBoYXNlczpcbiAqXG4gKiAxLiBBbGwgaXRlbXMgYXJlIHBhc3NlZCB0aHJvdWdoIHRoZSBwcmVkaWNhdGUgKG9yIHByZWRpY2F0ZXMpLCBhbmQgdGhlIHJldHVybmVkIHZhbHVlcyBhcmUgc2F2ZWRcbiAqICAgIGFsb25nIHdpdGggdGhlaXIgdHlwZSAoYHN0cmluZ2AsIGBudW1iZXJgIGV0YykuIEZvciBleGFtcGxlLCBhbiBpdGVtIGB7bGFiZWw6ICdmb28nfWAsIHBhc3NlZFxuICogICAgdGhyb3VnaCBhIHByZWRpY2F0ZSB0aGF0IGV4dHJhY3RzIHRoZSB2YWx1ZSBvZiB0aGUgYGxhYmVsYCBwcm9wZXJ0eSwgd291bGQgYmUgdHJhbnNmb3JtZWQgdG86XG4gKiAgICBgYGBcbiAqICAgIHtcbiAqICAgICAgdmFsdWU6ICdmb28nLFxuICogICAgICB0eXBlOiAnc3RyaW5nJyxcbiAqICAgICAgaW5kZXg6IC4uLlxuICogICAgfVxuICogICAgYGBgXG4gKiAgICAqKk5vdGU6KiogYG51bGxgIHZhbHVlcyB1c2UgYCdudWxsJ2AgYXMgdGhlaXIgdHlwZS5cbiAqIDIuIFRoZSBjb21wYXJhdG9yIGZ1bmN0aW9uIGlzIHVzZWQgdG8gc29ydCB0aGUgaXRlbXMsIGJhc2VkIG9uIHRoZSBkZXJpdmVkIHZhbHVlcywgdHlwZXMgYW5kXG4gKiAgICBpbmRpY2VzLlxuICpcbiAqIElmIHlvdSB1c2UgYSBjdXN0b20gY29tcGFyYXRvciwgaXQgd2lsbCBiZSBjYWxsZWQgd2l0aCBwYWlycyBvZiBvYmplY3RzIG9mIHRoZSBmb3JtXG4gKiBge3ZhbHVlOiAuLi4sIHR5cGU6ICcuLi4nLCBpbmRleDogLi4ufWAgYW5kIGlzIGV4cGVjdGVkIHRvIHJldHVybiBgMGAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWFsXG4gKiAoYXMgZmFyIGFzIHRoZSBjb21wYXJhdG9yIGlzIGNvbmNlcm5lZCksIGAtMWAgaWYgdGhlIDFzdCBvbmUgc2hvdWxkIGJlIHJhbmtlZCBoaWdoZXIgdGhhbiB0aGVcbiAqIHNlY29uZCwgb3IgYDFgIG90aGVyd2lzZS5cbiAqXG4gKiBJbiBvcmRlciB0byBlbnN1cmUgdGhhdCB0aGUgc29ydGluZyB3aWxsIGJlIGRldGVybWluaXN0aWMgYWNyb3NzIHBsYXRmb3JtcywgaWYgbm9uZSBvZiB0aGVcbiAqIHNwZWNpZmllZCBwcmVkaWNhdGVzIGNhbiBkaXN0aW5ndWlzaCBiZXR3ZWVuIHR3byBpdGVtcywgYG9yZGVyQnlgIHdpbGwgYXV0b21hdGljYWxseSBpbnRyb2R1Y2UgYVxuICogZHVtbXkgcHJlZGljYXRlIHRoYXQgcmV0dXJucyB0aGUgaXRlbSdzIGluZGV4IGFzIGB2YWx1ZWAuXG4gKiAoSWYgeW91IGFyZSB1c2luZyBhIGN1c3RvbSBjb21wYXJhdG9yLCBtYWtlIHN1cmUgaXQgY2FuIGhhbmRsZSB0aGlzIHByZWRpY2F0ZSBhcyB3ZWxsLilcbiAqXG4gKiBJZiBhIGN1c3RvbSBjb21wYXJhdG9yIHN0aWxsIGNhbid0IGRpc3Rpbmd1aXNoIGJldHdlZW4gdHdvIGl0ZW1zLCB0aGVuIHRoZXkgd2lsbCBiZSBzb3J0ZWQgYmFzZWRcbiAqIG9uIHRoZWlyIGluZGV4IHVzaW5nIHRoZSBidWlsdC1pbiBjb21wYXJhdG9yLlxuICpcbiAqIEZpbmFsbHksIGluIGFuIGF0dGVtcHQgdG8gc2ltcGxpZnkgdGhpbmdzLCBpZiBhIHByZWRpY2F0ZSByZXR1cm5zIGFuIG9iamVjdCBhcyB0aGUgZXh0cmFjdGVkXG4gKiB2YWx1ZSBmb3IgYW4gaXRlbSwgYG9yZGVyQnlgIHdpbGwgdHJ5IHRvIGNvbnZlcnQgdGhhdCBvYmplY3QgdG8gYSBwcmltaXRpdmUgdmFsdWUsIGJlZm9yZSBwYXNzaW5nXG4gKiBpdCB0byB0aGUgY29tcGFyYXRvci4gVGhlIGZvbGxvd2luZyBydWxlcyBnb3Zlcm4gdGhlIGNvbnZlcnNpb246XG4gKlxuICogMS4gSWYgdGhlIG9iamVjdCBoYXMgYSBgdmFsdWVPZigpYCBtZXRob2QgdGhhdCByZXR1cm5zIGEgcHJpbWl0aXZlLCBpdHMgcmV0dXJuIHZhbHVlIHdpbGwgYmVcbiAqICAgIHVzZWQgaW5zdGVhZC48YnIgLz5cbiAqICAgIChJZiB0aGUgb2JqZWN0IGhhcyBhIGB2YWx1ZU9mKClgIG1ldGhvZCB0aGF0IHJldHVybnMgYW5vdGhlciBvYmplY3QsIHRoZW4gdGhlIHJldHVybmVkIG9iamVjdFxuICogICAgd2lsbCBiZSB1c2VkIGluIHN1YnNlcXVlbnQgc3RlcHMuKVxuICogMi4gSWYgdGhlIG9iamVjdCBoYXMgYSBjdXN0b20gYHRvU3RyaW5nKClgIG1ldGhvZCAoaS5lLiBub3QgdGhlIG9uZSBpbmhlcml0ZWQgZnJvbSBgT2JqZWN0YCkgdGhhdFxuICogICAgcmV0dXJucyBhIHByaW1pdGl2ZSwgaXRzIHJldHVybiB2YWx1ZSB3aWxsIGJlIHVzZWQgaW5zdGVhZC48YnIgLz5cbiAqICAgIChJZiB0aGUgb2JqZWN0IGhhcyBhIGB0b1N0cmluZygpYCBtZXRob2QgdGhhdCByZXR1cm5zIGFub3RoZXIgb2JqZWN0LCB0aGVuIHRoZSByZXR1cm5lZCBvYmplY3RcbiAqICAgIHdpbGwgYmUgdXNlZCBpbiBzdWJzZXF1ZW50IHN0ZXBzLilcbiAqIDMuIE5vIGNvbnZlcnNpb247IHRoZSBvYmplY3QgaXRzZWxmIGlzIHVzZWQuXG4gKlxuICogIyMjIFRoZSBkZWZhdWx0IGNvbXBhcmF0b3JcbiAqXG4gKiBUaGUgZGVmYXVsdCwgYnVpbHQtaW4gY29tcGFyYXRvciBzaG91bGQgYmUgc3VmZmljaWVudCBmb3IgbW9zdCB1c2VjYXNlcy4gSW4gc2hvcnQsIGl0IGNvbXBhcmVzXG4gKiBudW1iZXJzIG51bWVyaWNhbGx5LCBzdHJpbmdzIGFscGhhYmV0aWNhbGx5IChhbmQgY2FzZS1pbnNlbnNpdGl2ZWx5KSwgZm9yIG9iamVjdHMgZmFsbHMgYmFjayB0b1xuICogdXNpbmcgdGhlaXIgaW5kZXggaW4gdGhlIG9yaWdpbmFsIGNvbGxlY3Rpb24sIHNvcnRzIHZhbHVlcyBvZiBkaWZmZXJlbnQgdHlwZXMgYnkgdHlwZSBhbmQgcHV0c1xuICogYHVuZGVmaW5lZGAgYW5kIGBudWxsYCB2YWx1ZXMgYXQgdGhlIGVuZCBvZiB0aGUgc29ydGVkIGxpc3QuXG4gKlxuICogTW9yZSBzcGVjaWZpY2FsbHksIGl0IGZvbGxvd3MgdGhlc2Ugc3RlcHMgdG8gZGV0ZXJtaW5lIHRoZSByZWxhdGl2ZSBvcmRlciBvZiBpdGVtczpcbiAqXG4gKiAxLiBJZiB0aGUgY29tcGFyZWQgdmFsdWVzIGFyZSBvZiBkaWZmZXJlbnQgdHlwZXM6XG4gKiAgICAtIElmIG9uZSBvZiB0aGUgdmFsdWVzIGlzIHVuZGVmaW5lZCwgY29uc2lkZXIgaXQgXCJncmVhdGVyIHRoYW5cIiB0aGUgb3RoZXIuXG4gKiAgICAtIEVsc2UgaWYgb25lIG9mIHRoZSB2YWx1ZXMgaXMgbnVsbCwgY29uc2lkZXIgaXQgXCJncmVhdGVyIHRoYW5cIiB0aGUgb3RoZXIuXG4gKiAgICAtIEVsc2UgY29tcGFyZSB0aGUgdHlwZXMgdGhlbXNlbHZlcyBhbHBoYWJldGljYWxseS5cbiAqIDIuIElmIGJvdGggdmFsdWVzIGFyZSBvZiB0eXBlIGBzdHJpbmdgLCBjb21wYXJlIHRoZW0gYWxwaGFiZXRpY2FsbHkgaW4gYSBjYXNlLSBhbmRcbiAqICAgIGxvY2FsZS1pbnNlbnNpdGl2ZSB3YXkuXG4gKiAzLiBJZiBib3RoIHZhbHVlcyBhcmUgb2JqZWN0cywgY29tcGFyZSB0aGVpciBpbmRpY2VzIGluc3RlYWQuXG4gKiA0LiBPdGhlcndpc2UsIHJldHVybjpcbiAqICAgIC0gIGAwYCwgaWYgdGhlIHZhbHVlcyBhcmUgZXF1YWwgKGJ5IHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29uLCBpLmUuIHVzaW5nIGA9PT1gKS5cbiAqICAgIC0gYC0xYCwgaWYgdGhlIDFzdCB2YWx1ZSBpcyBcImxlc3MgdGhhblwiIHRoZSAybmQgdmFsdWUgKGNvbXBhcmVkIHVzaW5nIHRoZSBgPGAgb3BlcmF0b3IpLlxuICogICAgLSAgYDFgLCBvdGhlcndpc2UuXG4gKlxuICogKipOb3RlOioqIElmIHlvdSBub3RpY2UgbnVtYmVycyBub3QgYmVpbmcgc29ydGVkIGFzIGV4cGVjdGVkLCBtYWtlIHN1cmUgdGhleSBhcmUgYWN0dWFsbHkgYmVpbmdcbiAqICAgICAgICAgICBzYXZlZCBhcyBudW1iZXJzIGFuZCBub3Qgc3RyaW5ncy5cbiAqICoqTm90ZToqKiBGb3IgdGhlIHB1cnBvc2Ugb2Ygc29ydGluZywgYG51bGxgIGFuZCBgdW5kZWZpbmVkYCBhcmUgY29uc2lkZXJlZCBcImdyZWF0ZXIgdGhhblwiXG4gKiAgICAgICAgICAgYW55IG90aGVyIHZhbHVlICh3aXRoIHVuZGVmaW5lZCBcImdyZWF0ZXIgdGhhblwiIG51bGwpLiBUaGlzIGVmZmVjdGl2ZWx5IG1lYW5zIHRoYXQgYG51bGxgXG4gKiAgICAgICAgICAgYW5kIGB1bmRlZmluZWRgIHZhbHVlcyBlbmQgdXAgYXQgdGhlIGVuZCBvZiBhIGxpc3Qgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci5cbiAqICoqTm90ZToqKiBgbnVsbGAgdmFsdWVzIHVzZSBgJ251bGwnYCBhcyB0aGVpciB0eXBlIHRvIGJlIGFibGUgdG8gZGlzdGluZ3Vpc2ggdGhlbSBmcm9tIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIHtBcnJheXxBcnJheUxpa2V9IGNvbGxlY3Rpb24gLSBUaGUgY29sbGVjdGlvbiAoYXJyYXkgb3IgYXJyYXktbGlrZSBvYmplY3QpIHRvIHNvcnQuXG4gKiBAcGFyYW0geyhGdW5jdGlvbnxzdHJpbmd8QXJyYXkuPEZ1bmN0aW9ufHN0cmluZz4pPX0gZXhwcmVzc2lvbiAtIEEgcHJlZGljYXRlIChvciBsaXN0IG9mXG4gKiAgICBwcmVkaWNhdGVzKSB0byBiZSB1c2VkIGJ5IHRoZSBjb21wYXJhdG9yIHRvIGRldGVybWluZSB0aGUgb3JkZXIgb2YgZWxlbWVudHMuXG4gKlxuICogICAgQ2FuIGJlIG9uZSBvZjpcbiAqXG4gKiAgICAtIGBGdW5jdGlvbmA6IEEgZ2V0dGVyIGZ1bmN0aW9uLiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggZWFjaCBpdGVtIGFzIGFyZ3VtZW50IGFuZFxuICogICAgICB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCBmb3Igc29ydGluZy5cbiAqICAgIC0gYHN0cmluZ2A6IEFuIEFuZ3VsYXJKUyBleHByZXNzaW9uLiBUaGlzIGV4cHJlc3Npb24gd2lsbCBiZSBldmFsdWF0ZWQgYWdhaW5zdCBlYWNoIGl0ZW0gYW5kIHRoZVxuICogICAgICByZXN1bHQgd2lsbCBiZSB1c2VkIGZvciBzb3J0aW5nLiBGb3IgZXhhbXBsZSwgdXNlIGAnbGFiZWwnYCB0byBzb3J0IGJ5IGEgcHJvcGVydHkgY2FsbGVkXG4gKiAgICAgIGBsYWJlbGAgb3IgYCdsYWJlbC5zdWJzdHJpbmcoMCwgMyknYCB0byBzb3J0IGJ5IHRoZSBmaXJzdCAzIGNoYXJhY3RlcnMgb2YgdGhlIGBsYWJlbGBcbiAqICAgICAgcHJvcGVydHkuPGJyIC8+XG4gKiAgICAgIChUaGUgcmVzdWx0IG9mIGEgY29uc3RhbnQgZXhwcmVzc2lvbiBpcyBpbnRlcnByZXRlZCBhcyBhIHByb3BlcnR5IG5hbWUgdG8gYmUgdXNlZCBmb3JcbiAqICAgICAgY29tcGFyaXNvbi4gRm9yIGV4YW1wbGUsIHVzZSBgJ1wic3BlY2lhbCBuYW1lXCInYCAobm90ZSB0aGUgZXh0cmEgcGFpciBvZiBxdW90ZXMpIHRvIHNvcnQgYnkgYVxuICogICAgICBwcm9wZXJ0eSBjYWxsZWQgYHNwZWNpYWwgbmFtZWAuKTxiciAvPlxuICogICAgICBBbiBleHByZXNzaW9uIGNhbiBiZSBvcHRpb25hbGx5IHByZWZpeGVkIHdpdGggYCtgIG9yIGAtYCB0byBjb250cm9sIHRoZSBzb3J0aW5nIGRpcmVjdGlvbixcbiAqICAgICAgYXNjZW5kaW5nIG9yIGRlc2NlbmRpbmcuIEZvciBleGFtcGxlLCBgJytsYWJlbCdgIG9yIGAnLWxhYmVsJ2AuIElmIG5vIHByb3BlcnR5IGlzIHByb3ZpZGVkLFxuICogICAgICAoZS5nLiBgJysnYCBvciBgJy0nYCksIHRoZSBjb2xsZWN0aW9uIGVsZW1lbnQgaXRzZWxmIGlzIHVzZWQgaW4gY29tcGFyaXNvbnMuXG4gKiAgICAtIGBBcnJheWA6IEFuIGFycmF5IG9mIGZ1bmN0aW9uIGFuZC9vciBzdHJpbmcgcHJlZGljYXRlcy4gSWYgYSBwcmVkaWNhdGUgY2Fubm90IGRldGVybWluZSB0aGVcbiAqICAgICAgcmVsYXRpdmUgb3JkZXIgb2YgdHdvIGl0ZW1zLCB0aGUgbmV4dCBwcmVkaWNhdGUgaXMgdXNlZCBhcyBhIHRpZS1icmVha2VyLlxuICpcbiAqICoqTm90ZToqKiBJZiB0aGUgcHJlZGljYXRlIGlzIG1pc3Npbmcgb3IgZW1wdHkgdGhlbiBpdCBkZWZhdWx0cyB0byBgJysnYC5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSByZXZlcnNlIC0gSWYgYHRydWVgLCByZXZlcnNlIHRoZSBzb3J0aW5nIG9yZGVyLlxuICogQHBhcmFtIHsoRnVuY3Rpb24pPX0gY29tcGFyYXRvciAtIFRoZSBjb21wYXJhdG9yIGZ1bmN0aW9uIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSByZWxhdGl2ZSBvcmRlciBvZlxuICogICAgdmFsdWUgcGFpcnMuIElmIG9taXR0ZWQsIHRoZSBidWlsdC1pbiBjb21wYXJhdG9yIHdpbGwgYmUgdXNlZC5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9IC0gVGhlIHNvcnRlZCBhcnJheS5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBPcmRlcmluZyBhIHRhYmxlIHdpdGggYG5nUmVwZWF0YFxuICpcbiAqIFRoZSBleGFtcGxlIGJlbG93IGRlbW9uc3RyYXRlcyBhIHNpbXBsZSB7QGxpbmsgbmdSZXBlYXQgbmdSZXBlYXR9LCB3aGVyZSB0aGUgZGF0YSBpcyBzb3J0ZWQgYnlcbiAqIGFnZSBpbiBkZXNjZW5kaW5nIG9yZGVyIChleHByZXNzaW9uIGlzIHNldCB0byBgJy1hZ2UnYCkuIFRoZSBgY29tcGFyYXRvcmAgaXMgbm90IHNldCwgd2hpY2ggbWVhbnNcbiAqIGl0IGRlZmF1bHRzIHRvIHRoZSBidWlsdC1pbiBjb21wYXJhdG9yLlxuICpcbiAgIDxleGFtcGxlIG5hbWU9XCJvcmRlckJ5LXN0YXRpY1wiIG1vZHVsZT1cIm9yZGVyQnlFeGFtcGxlMVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8dGFibGUgY2xhc3M9XCJmcmllbmRzXCI+XG4gICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICA8dGg+TmFtZTwvdGg+XG4gICAgICAgICAgICAgPHRoPlBob25lIE51bWJlcjwvdGg+XG4gICAgICAgICAgICAgPHRoPkFnZTwvdGg+XG4gICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kcyB8IG9yZGVyQnk6Jy1hZ2UnXCI+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLnBob25lfX08L3RkPlxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5hZ2V9fTwvdGQ+XG4gICAgICAgICAgIDwvdHI+XG4gICAgICAgICA8L3RhYmxlPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnb3JkZXJCeUV4YW1wbGUxJywgW10pXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAkc2NvcGUuZnJpZW5kcyA9IFtcbiAgICAgICAgICAgICB7bmFtZTogJ0pvaG4nLCAgIHBob25lOiAnNTU1LTEyMTInLCAgYWdlOiAxMH0sXG4gICAgICAgICAgICAge25hbWU6ICdNYXJ5JywgICBwaG9uZTogJzU1NS05ODc2JywgIGFnZTogMTl9LFxuICAgICAgICAgICAgIHtuYW1lOiAnTWlrZScsICAgcGhvbmU6ICc1NTUtNDMyMScsICBhZ2U6IDIxfSxcbiAgICAgICAgICAgICB7bmFtZTogJ0FkYW0nLCAgIHBob25lOiAnNTU1LTU2NzgnLCAgYWdlOiAzNX0sXG4gICAgICAgICAgICAge25hbWU6ICdKdWxpZScsICBwaG9uZTogJzU1NS04NzY1JywgIGFnZTogMjl9XG4gICAgICAgICAgIF07XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5mcmllbmRzIHtcbiAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gICAgICAgfVxuXG4gICAgICAgLmZyaWVuZHMgdGgge1xuICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkO1xuICAgICAgIH1cbiAgICAgICAuZnJpZW5kcyB0ZCwgLmZyaWVuZHMgdGgge1xuICAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZDtcbiAgICAgICAgIHBhZGRpbmc6IDVweCAxMHB4O1xuICAgICAgIH1cbiAgICAgICAuZnJpZW5kcyB0ZDpmaXJzdC1jaGlsZCwgLmZyaWVuZHMgdGg6Zmlyc3QtY2hpbGQge1xuICAgICAgICAgYm9yZGVyLWxlZnQ6IG5vbmU7XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAvLyBFbGVtZW50IGxvY2F0b3JzXG4gICAgICAgdmFyIG5hbWVzID0gZWxlbWVudC5hbGwoYnkucmVwZWF0ZXIoJ2ZyaWVuZHMnKS5jb2x1bW4oJ2ZyaWVuZC5uYW1lJykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBzb3J0IGZyaWVuZHMgYnkgYWdlIGluIHJldmVyc2Ugb3JkZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChuYW1lcy5nZXQoMCkuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XG4gICAgICAgICBleHBlY3QobmFtZXMuZ2V0KDEpLmdldFRleHQoKSkudG9CZSgnSnVsaWUnKTtcbiAgICAgICAgIGV4cGVjdChuYW1lcy5nZXQoMikuZ2V0VGV4dCgpKS50b0JlKCdNaWtlJyk7XG4gICAgICAgICBleHBlY3QobmFtZXMuZ2V0KDMpLmdldFRleHQoKSkudG9CZSgnTWFyeScpO1xuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCg0KS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICogPGhyIC8+XG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBDaGFuZ2luZyBwYXJhbWV0ZXJzIGR5bmFtaWNhbGx5XG4gKlxuICogQWxsIHBhcmFtZXRlcnMgY2FuIGJlIGNoYW5nZWQgZHluYW1pY2FsbHkuIFRoZSBuZXh0IGV4YW1wbGUgc2hvd3MgaG93IHlvdSBjYW4gbWFrZSB0aGUgY29sdW1ucyBvZlxuICogYSB0YWJsZSBzb3J0YWJsZSwgYnkgYmluZGluZyB0aGUgYGV4cHJlc3Npb25gIGFuZCBgcmV2ZXJzZWAgcGFyYW1ldGVycyB0byBzY29wZSBwcm9wZXJ0aWVzLlxuICpcbiAgIDxleGFtcGxlIG5hbWU9XCJvcmRlckJ5LWR5bmFtaWNcIiBtb2R1bGU9XCJvcmRlckJ5RXhhbXBsZTJcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPHByZT5Tb3J0IGJ5ID0ge3twcm9wZXJ0eU5hbWV9fTsgcmV2ZXJzZSA9IHt7cmV2ZXJzZX19PC9wcmU+XG4gICAgICAgICA8aHIvPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInByb3BlcnR5TmFtZSA9IG51bGw7IHJldmVyc2UgPSBmYWxzZVwiPlNldCB0byB1bnNvcnRlZDwvYnV0dG9uPlxuICAgICAgICAgPGhyLz5cbiAgICAgICAgIDx0YWJsZSBjbGFzcz1cImZyaWVuZHNcIj5cbiAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzb3J0QnkoJ25hbWUnKVwiPk5hbWU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByb3BlcnR5TmFtZSA9PT0gJ25hbWUnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTogcmV2ZXJzZX1cIj48L3NwYW4+XG4gICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic29ydEJ5KCdwaG9uZScpXCI+UGhvbmUgTnVtYmVyPC9idXR0b24+XG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvcnRvcmRlclwiIG5nLXNob3c9XCJwcm9wZXJ0eU5hbWUgPT09ICdwaG9uZSdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOiByZXZlcnNlfVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzb3J0QnkoJ2FnZScpXCI+QWdlPC9idXR0b24+XG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvcnRvcmRlclwiIG5nLXNob3c9XCJwcm9wZXJ0eU5hbWUgPT09ICdhZ2UnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTogcmV2ZXJzZX1cIj48L3NwYW4+XG4gICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgb3JkZXJCeTpwcm9wZXJ0eU5hbWU6cmV2ZXJzZVwiPlxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5uYW1lfX08L3RkPlxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5waG9uZX19PC90ZD5cbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQuYWdlfX08L3RkPlxuICAgICAgICAgICA8L3RyPlxuICAgICAgICAgPC90YWJsZT5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ29yZGVyQnlFeGFtcGxlMicsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgdmFyIGZyaWVuZHMgPSBbXG4gICAgICAgICAgICAge25hbWU6ICdKb2huJywgICBwaG9uZTogJzU1NS0xMjEyJywgIGFnZTogMTB9LFxuICAgICAgICAgICAgIHtuYW1lOiAnTWFyeScsICAgcGhvbmU6ICc1NTUtOTg3NicsICBhZ2U6IDE5fSxcbiAgICAgICAgICAgICB7bmFtZTogJ01pa2UnLCAgIHBob25lOiAnNTU1LTQzMjEnLCAgYWdlOiAyMX0sXG4gICAgICAgICAgICAge25hbWU6ICdBZGFtJywgICBwaG9uZTogJzU1NS01Njc4JywgIGFnZTogMzV9LFxuICAgICAgICAgICAgIHtuYW1lOiAnSnVsaWUnLCAgcGhvbmU6ICc1NTUtODc2NScsICBhZ2U6IDI5fVxuICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICRzY29wZS5wcm9wZXJ0eU5hbWUgPSAnYWdlJztcbiAgICAgICAgICAgJHNjb3BlLnJldmVyc2UgPSB0cnVlO1xuICAgICAgICAgICAkc2NvcGUuZnJpZW5kcyA9IGZyaWVuZHM7XG5cbiAgICAgICAgICAgJHNjb3BlLnNvcnRCeSA9IGZ1bmN0aW9uKHByb3BlcnR5TmFtZSkge1xuICAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gKCRzY29wZS5wcm9wZXJ0eU5hbWUgPT09IHByb3BlcnR5TmFtZSkgPyAhJHNjb3BlLnJldmVyc2UgOiBmYWxzZTtcbiAgICAgICAgICAgICAkc2NvcGUucHJvcGVydHlOYW1lID0gcHJvcGVydHlOYW1lO1xuICAgICAgICAgICB9O1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAuZnJpZW5kcyB7XG4gICAgICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICAgICAgIH1cblxuICAgICAgIC5mcmllbmRzIHRoIHtcbiAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZDtcbiAgICAgICB9XG4gICAgICAgLmZyaWVuZHMgdGQsIC5mcmllbmRzIHRoIHtcbiAgICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQ7XG4gICAgICAgICBwYWRkaW5nOiA1cHggMTBweDtcbiAgICAgICB9XG4gICAgICAgLmZyaWVuZHMgdGQ6Zmlyc3QtY2hpbGQsIC5mcmllbmRzIHRoOmZpcnN0LWNoaWxkIHtcbiAgICAgICAgIGJvcmRlci1sZWZ0OiBub25lO1xuICAgICAgIH1cblxuICAgICAgIC5zb3J0b3JkZXI6YWZ0ZXIge1xuICAgICAgICAgY29udGVudDogJ1xcMjViMic7ICAgLy8gQkxBQ0sgVVAtUE9JTlRJTkcgVFJJQU5HTEVcbiAgICAgICB9XG4gICAgICAgLnNvcnRvcmRlci5yZXZlcnNlOmFmdGVyIHtcbiAgICAgICAgIGNvbnRlbnQ6ICdcXDI1YmMnOyAgIC8vIEJMQUNLIERPV04tUE9JTlRJTkcgVFJJQU5HTEVcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIC8vIEVsZW1lbnQgbG9jYXRvcnNcbiAgICAgICB2YXIgdW5zb3J0QnV0dG9uID0gZWxlbWVudChieS5wYXJ0aWFsQnV0dG9uVGV4dCgndW5zb3J0ZWQnKSk7XG4gICAgICAgdmFyIG5hbWVIZWFkZXIgPSBlbGVtZW50KGJ5LnBhcnRpYWxCdXR0b25UZXh0KCdOYW1lJykpO1xuICAgICAgIHZhciBwaG9uZUhlYWRlciA9IGVsZW1lbnQoYnkucGFydGlhbEJ1dHRvblRleHQoJ1Bob25lJykpO1xuICAgICAgIHZhciBhZ2VIZWFkZXIgPSBlbGVtZW50KGJ5LnBhcnRpYWxCdXR0b25UZXh0KCdBZ2UnKSk7XG4gICAgICAgdmFyIGZpcnN0TmFtZSA9IGVsZW1lbnQoYnkucmVwZWF0ZXIoJ2ZyaWVuZHMnKS5jb2x1bW4oJ2ZyaWVuZC5uYW1lJykucm93KDApKTtcbiAgICAgICB2YXIgbGFzdE5hbWUgPSBlbGVtZW50KGJ5LnJlcGVhdGVyKCdmcmllbmRzJykuY29sdW1uKCdmcmllbmQubmFtZScpLnJvdyg0KSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHNvcnQgZnJpZW5kcyBieSBzb21lIHByb3BlcnR5LCB3aGVuIGNsaWNraW5nIG9uIHRoZSBjb2x1bW4gaGVhZGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuXG4gICAgICAgICBwaG9uZUhlYWRlci5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ01hcnknKTtcblxuICAgICAgICAgbmFtZUhlYWRlci5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ01pa2UnKTtcblxuICAgICAgICAgYWdlSGVhZGVyLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBzb3J0IGZyaWVuZHMgaW4gcmV2ZXJzZSBvcmRlciwgd2hlbiBjbGlja2luZyBvbiB0aGUgc2FtZSBjb2x1bW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG5cbiAgICAgICAgIGFnZUhlYWRlci5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcblxuICAgICAgICAgYWdlSGVhZGVyLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCByZXN0b3JlIHRoZSBvcmlnaW5hbCBvcmRlciwgd2hlbiBjbGlja2luZyBcIlNldCB0byB1bnNvcnRlZFwiJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuXG4gICAgICAgICB1bnNvcnRCdXR0b24uY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKdWxpZScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKiA8aHIgLz5cbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIFVzaW5nIGBvcmRlckJ5YCBpbnNpZGUgYSBjb250cm9sbGVyXG4gKlxuICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0byBjYWxsIHRoZSBgb3JkZXJCeWAgZmlsdGVyIG1hbnVhbGx5LCBieSBpbmplY3RpbmcgYG9yZGVyQnlGaWx0ZXJgLCBhbmRcbiAqIGNhbGxpbmcgaXQgd2l0aCB0aGUgZGVzaXJlZCBwYXJhbWV0ZXJzLiAoQWx0ZXJuYXRpdmVseSwgeW91IGNvdWxkIGluamVjdCB0aGUgYCRmaWx0ZXJgIGZhY3RvcnlcbiAqIGFuZCByZXRyaWV2ZSB0aGUgYG9yZGVyQnlgIGZpbHRlciB3aXRoIGAkZmlsdGVyKCdvcmRlckJ5JylgLilcbiAqXG4gICA8ZXhhbXBsZSBuYW1lPVwib3JkZXJCeS1jYWxsLW1hbnVhbGx5XCIgbW9kdWxlPVwib3JkZXJCeUV4YW1wbGUzXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxwcmU+U29ydCBieSA9IHt7cHJvcGVydHlOYW1lfX07IHJldmVyc2UgPSB7e3JldmVyc2V9fTwvcHJlPlxuICAgICAgICAgPGhyLz5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzb3J0QnkobnVsbClcIj5TZXQgdG8gdW5zb3J0ZWQ8L2J1dHRvbj5cbiAgICAgICAgIDxoci8+XG4gICAgICAgICA8dGFibGUgY2xhc3M9XCJmcmllbmRzXCI+XG4gICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic29ydEJ5KCduYW1lJylcIj5OYW1lPC9idXR0b24+XG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvcnRvcmRlclwiIG5nLXNob3c9XCJwcm9wZXJ0eU5hbWUgPT09ICduYW1lJ1wiIG5nLWNsYXNzPVwie3JldmVyc2U6IHJldmVyc2V9XCI+PC9zcGFuPlxuICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgPHRoPlxuICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNvcnRCeSgncGhvbmUnKVwiPlBob25lIE51bWJlcjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJvcGVydHlOYW1lID09PSAncGhvbmUnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTogcmV2ZXJzZX1cIj48L3NwYW4+XG4gICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic29ydEJ5KCdhZ2UnKVwiPkFnZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJvcGVydHlOYW1lID09PSAnYWdlJ1wiIG5nLWNsYXNzPVwie3JldmVyc2U6IHJldmVyc2V9XCI+PC9zcGFuPlxuICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kc1wiPlxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5uYW1lfX08L3RkPlxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5waG9uZX19PC90ZD5cbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQuYWdlfX08L3RkPlxuICAgICAgICAgICA8L3RyPlxuICAgICAgICAgPC90YWJsZT5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ29yZGVyQnlFeGFtcGxlMycsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnb3JkZXJCeUZpbHRlcicsIGZ1bmN0aW9uKCRzY29wZSwgb3JkZXJCeSkge1xuICAgICAgICAgICB2YXIgZnJpZW5kcyA9IFtcbiAgICAgICAgICAgICB7bmFtZTogJ0pvaG4nLCAgIHBob25lOiAnNTU1LTEyMTInLCAgYWdlOiAxMH0sXG4gICAgICAgICAgICAge25hbWU6ICdNYXJ5JywgICBwaG9uZTogJzU1NS05ODc2JywgIGFnZTogMTl9LFxuICAgICAgICAgICAgIHtuYW1lOiAnTWlrZScsICAgcGhvbmU6ICc1NTUtNDMyMScsICBhZ2U6IDIxfSxcbiAgICAgICAgICAgICB7bmFtZTogJ0FkYW0nLCAgIHBob25lOiAnNTU1LTU2NzgnLCAgYWdlOiAzNX0sXG4gICAgICAgICAgICAge25hbWU6ICdKdWxpZScsICBwaG9uZTogJzU1NS04NzY1JywgIGFnZTogMjl9XG4gICAgICAgICAgIF07XG5cbiAgICAgICAgICAgJHNjb3BlLnByb3BlcnR5TmFtZSA9ICdhZ2UnO1xuICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9IHRydWU7XG4gICAgICAgICAgICRzY29wZS5mcmllbmRzID0gb3JkZXJCeShmcmllbmRzLCAkc2NvcGUucHJvcGVydHlOYW1lLCAkc2NvcGUucmV2ZXJzZSk7XG5cbiAgICAgICAgICAgJHNjb3BlLnNvcnRCeSA9IGZ1bmN0aW9uKHByb3BlcnR5TmFtZSkge1xuICAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gKHByb3BlcnR5TmFtZSAhPT0gbnVsbCAmJiAkc2NvcGUucHJvcGVydHlOYW1lID09PSBwcm9wZXJ0eU5hbWUpXG4gICAgICAgICAgICAgICAgID8gISRzY29wZS5yZXZlcnNlIDogZmFsc2U7XG4gICAgICAgICAgICAgJHNjb3BlLnByb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZTtcbiAgICAgICAgICAgICAkc2NvcGUuZnJpZW5kcyA9IG9yZGVyQnkoZnJpZW5kcywgJHNjb3BlLnByb3BlcnR5TmFtZSwgJHNjb3BlLnJldmVyc2UpO1xuICAgICAgICAgICB9O1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAuZnJpZW5kcyB7XG4gICAgICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICAgICAgIH1cblxuICAgICAgIC5mcmllbmRzIHRoIHtcbiAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZDtcbiAgICAgICB9XG4gICAgICAgLmZyaWVuZHMgdGQsIC5mcmllbmRzIHRoIHtcbiAgICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQ7XG4gICAgICAgICBwYWRkaW5nOiA1cHggMTBweDtcbiAgICAgICB9XG4gICAgICAgLmZyaWVuZHMgdGQ6Zmlyc3QtY2hpbGQsIC5mcmllbmRzIHRoOmZpcnN0LWNoaWxkIHtcbiAgICAgICAgIGJvcmRlci1sZWZ0OiBub25lO1xuICAgICAgIH1cblxuICAgICAgIC5zb3J0b3JkZXI6YWZ0ZXIge1xuICAgICAgICAgY29udGVudDogJ1xcMjViMic7ICAgLy8gQkxBQ0sgVVAtUE9JTlRJTkcgVFJJQU5HTEVcbiAgICAgICB9XG4gICAgICAgLnNvcnRvcmRlci5yZXZlcnNlOmFmdGVyIHtcbiAgICAgICAgIGNvbnRlbnQ6ICdcXDI1YmMnOyAgIC8vIEJMQUNLIERPV04tUE9JTlRJTkcgVFJJQU5HTEVcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIC8vIEVsZW1lbnQgbG9jYXRvcnNcbiAgICAgICB2YXIgdW5zb3J0QnV0dG9uID0gZWxlbWVudChieS5wYXJ0aWFsQnV0dG9uVGV4dCgndW5zb3J0ZWQnKSk7XG4gICAgICAgdmFyIG5hbWVIZWFkZXIgPSBlbGVtZW50KGJ5LnBhcnRpYWxCdXR0b25UZXh0KCdOYW1lJykpO1xuICAgICAgIHZhciBwaG9uZUhlYWRlciA9IGVsZW1lbnQoYnkucGFydGlhbEJ1dHRvblRleHQoJ1Bob25lJykpO1xuICAgICAgIHZhciBhZ2VIZWFkZXIgPSBlbGVtZW50KGJ5LnBhcnRpYWxCdXR0b25UZXh0KCdBZ2UnKSk7XG4gICAgICAgdmFyIGZpcnN0TmFtZSA9IGVsZW1lbnQoYnkucmVwZWF0ZXIoJ2ZyaWVuZHMnKS5jb2x1bW4oJ2ZyaWVuZC5uYW1lJykucm93KDApKTtcbiAgICAgICB2YXIgbGFzdE5hbWUgPSBlbGVtZW50KGJ5LnJlcGVhdGVyKCdmcmllbmRzJykuY29sdW1uKCdmcmllbmQubmFtZScpLnJvdyg0KSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHNvcnQgZnJpZW5kcyBieSBzb21lIHByb3BlcnR5LCB3aGVuIGNsaWNraW5nIG9uIHRoZSBjb2x1bW4gaGVhZGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuXG4gICAgICAgICBwaG9uZUhlYWRlci5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ01hcnknKTtcblxuICAgICAgICAgbmFtZUhlYWRlci5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ01pa2UnKTtcblxuICAgICAgICAgYWdlSGVhZGVyLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBzb3J0IGZyaWVuZHMgaW4gcmV2ZXJzZSBvcmRlciwgd2hlbiBjbGlja2luZyBvbiB0aGUgc2FtZSBjb2x1bW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG5cbiAgICAgICAgIGFnZUhlYWRlci5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcblxuICAgICAgICAgYWdlSGVhZGVyLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCByZXN0b3JlIHRoZSBvcmlnaW5hbCBvcmRlciwgd2hlbiBjbGlja2luZyBcIlNldCB0byB1bnNvcnRlZFwiJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xuXG4gICAgICAgICB1bnNvcnRCdXR0b24uY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKdWxpZScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKiA8aHIgLz5cbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIFVzaW5nIGEgY3VzdG9tIGNvbXBhcmF0b3JcbiAqXG4gKiBJZiB5b3UgaGF2ZSB2ZXJ5IHNwZWNpZmljIHJlcXVpcmVtZW50cyBhYm91dCB0aGUgd2F5IGl0ZW1zIGFyZSBzb3J0ZWQsIHlvdSBjYW4gcGFzcyB5b3VyIG93blxuICogY29tcGFyYXRvciBmdW5jdGlvbi4gRm9yIGV4YW1wbGUsIHlvdSBtaWdodCBuZWVkIHRvIGNvbXBhcmUgc29tZSBzdHJpbmdzIGluIGEgbG9jYWxlLXNlbnNpdGl2ZVxuICogd2F5LiAoV2hlbiBzcGVjaWZ5aW5nIGEgY3VzdG9tIGNvbXBhcmF0b3IsIHlvdSBhbHNvIG5lZWQgdG8gcGFzcyBhIHZhbHVlIGZvciB0aGUgYHJldmVyc2VgXG4gKiBhcmd1bWVudCAtIHBhc3NpbmcgYGZhbHNlYCByZXRhaW5zIHRoZSBkZWZhdWx0IHNvcnRpbmcgb3JkZXIsIGkuZS4gYXNjZW5kaW5nLilcbiAqXG4gICA8ZXhhbXBsZSBuYW1lPVwib3JkZXJCeS1jdXN0b20tY29tcGFyYXRvclwiIG1vZHVsZT1cIm9yZGVyQnlFeGFtcGxlNFwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiZnJpZW5kcy1jb250YWluZXIgY3VzdG9tLWNvbXBhcmF0b3JcIj5cbiAgICAgICAgICAgPGgzPkxvY2FsZS1zZW5zaXRpdmUgQ29tcGFyYXRvcjwvaDM+XG4gICAgICAgICAgIDx0YWJsZSBjbGFzcz1cImZyaWVuZHNcIj5cbiAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICA8dGg+TmFtZTwvdGg+XG4gICAgICAgICAgICAgICA8dGg+RmF2b3JpdGUgTGV0dGVyPC90aD5cbiAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kcyB8IG9yZGVyQnk6J2Zhdm9yaXRlTGV0dGVyJzpmYWxzZTpsb2NhbGVTZW5zaXRpdmVDb21wYXJhdG9yXCI+XG4gICAgICAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cbiAgICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5mYXZvcml0ZUxldHRlcn19PC90ZD5cbiAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiZnJpZW5kcy1jb250YWluZXIgZGVmYXVsdC1jb21wYXJhdG9yXCI+XG4gICAgICAgICAgIDxoMz5EZWZhdWx0IENvbXBhcmF0b3I8L2gzPlxuICAgICAgICAgICA8dGFibGUgY2xhc3M9XCJmcmllbmRzXCI+XG4gICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgPHRoPk5hbWU8L3RoPlxuICAgICAgICAgICAgICAgPHRoPkZhdm9yaXRlIExldHRlcjwvdGg+XG4gICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBvcmRlckJ5OidmYXZvcml0ZUxldHRlcidcIj5cbiAgICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5uYW1lfX08L3RkPlxuICAgICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLmZhdm9yaXRlTGV0dGVyfX08L3RkPlxuICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ29yZGVyQnlFeGFtcGxlNCcsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBbXG4gICAgICAgICAgICAge25hbWU6ICdKb2huJywgICBmYXZvcml0ZUxldHRlcjogJ8OEJ30sXG4gICAgICAgICAgICAge25hbWU6ICdNYXJ5JywgICBmYXZvcml0ZUxldHRlcjogJ8OcJ30sXG4gICAgICAgICAgICAge25hbWU6ICdNaWtlJywgICBmYXZvcml0ZUxldHRlcjogJ8OWJ30sXG4gICAgICAgICAgICAge25hbWU6ICdBZGFtJywgICBmYXZvcml0ZUxldHRlcjogJ0gnfSxcbiAgICAgICAgICAgICB7bmFtZTogJ0p1bGllJywgIGZhdm9yaXRlTGV0dGVyOiAnWid9XG4gICAgICAgICAgIF07XG5cbiAgICAgICAgICAgJHNjb3BlLmxvY2FsZVNlbnNpdGl2ZUNvbXBhcmF0b3IgPSBmdW5jdGlvbih2MSwgdjIpIHtcbiAgICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBnZXQgc3RyaW5ncywganVzdCBjb21wYXJlIGJ5IGluZGV4XG4gICAgICAgICAgICAgaWYgKHYxLnR5cGUgIT09ICdzdHJpbmcnIHx8IHYyLnR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICByZXR1cm4gKHYxLmluZGV4IDwgdjIuaW5kZXgpID8gLTEgOiAxO1xuICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgIC8vIENvbXBhcmUgc3RyaW5ncyBhbHBoYWJldGljYWxseSwgdGFraW5nIGxvY2FsZSBpbnRvIGFjY291bnRcbiAgICAgICAgICAgICByZXR1cm4gdjEudmFsdWUubG9jYWxlQ29tcGFyZSh2Mi52YWx1ZSk7XG4gICAgICAgICAgIH07XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5mcmllbmRzLWNvbnRhaW5lciB7XG4gICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICBtYXJnaW46IDAgMzBweDtcbiAgICAgICB9XG5cbiAgICAgICAuZnJpZW5kcyB7XG4gICAgICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICAgICAgIH1cblxuICAgICAgIC5mcmllbmRzIHRoIHtcbiAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZDtcbiAgICAgICB9XG4gICAgICAgLmZyaWVuZHMgdGQsIC5mcmllbmRzIHRoIHtcbiAgICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQ7XG4gICAgICAgICBwYWRkaW5nOiA1cHggMTBweDtcbiAgICAgICB9XG4gICAgICAgLmZyaWVuZHMgdGQ6Zmlyc3QtY2hpbGQsIC5mcmllbmRzIHRoOmZpcnN0LWNoaWxkIHtcbiAgICAgICAgIGJvcmRlci1sZWZ0OiBub25lO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgLy8gRWxlbWVudCBsb2NhdG9yc1xuICAgICAgIHZhciBjb250YWluZXIgPSBlbGVtZW50KGJ5LmNzcygnLmN1c3RvbS1jb21wYXJhdG9yJykpO1xuICAgICAgIHZhciBuYW1lcyA9IGNvbnRhaW5lci5hbGwoYnkucmVwZWF0ZXIoJ2ZyaWVuZHMnKS5jb2x1bW4oJ2ZyaWVuZC5uYW1lJykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBzb3J0IGZyaWVuZHMgYnkgZmF2b3JpdGUgbGV0dGVyIChpbiBjb3JyZWN0IGFscGhhYmV0aWNhbCBvcmRlciknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChuYW1lcy5nZXQoMCkuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XG4gICAgICAgICBleHBlY3QobmFtZXMuZ2V0KDEpLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgyKS5nZXRUZXh0KCkpLnRvQmUoJ01pa2UnKTtcbiAgICAgICAgIGV4cGVjdChuYW1lcy5nZXQoMykuZ2V0VGV4dCgpKS50b0JlKCdNYXJ5Jyk7XG4gICAgICAgICBleHBlY3QobmFtZXMuZ2V0KDQpLmdldFRleHQoKSkudG9CZSgnSnVsaWUnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICpcbiAqL1xub3JkZXJCeUZpbHRlci4kaW5qZWN0ID0gWyckcGFyc2UnXTtcbmZ1bmN0aW9uIG9yZGVyQnlGaWx0ZXIoJHBhcnNlKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcnJheSwgc29ydFByZWRpY2F0ZSwgcmV2ZXJzZU9yZGVyLCBjb21wYXJlRm4pIHtcblxuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gYXJyYXk7XG4gICAgaWYgKCFpc0FycmF5TGlrZShhcnJheSkpIHtcbiAgICAgIHRocm93IG1pbkVycignb3JkZXJCeScpKCdub3RhcnJheScsICdFeHBlY3RlZCBhcnJheSBidXQgcmVjZWl2ZWQ6IHswfScsIGFycmF5KTtcbiAgICB9XG5cbiAgICBpZiAoIWlzQXJyYXkoc29ydFByZWRpY2F0ZSkpIHsgc29ydFByZWRpY2F0ZSA9IFtzb3J0UHJlZGljYXRlXTsgfVxuICAgIGlmIChzb3J0UHJlZGljYXRlLmxlbmd0aCA9PT0gMCkgeyBzb3J0UHJlZGljYXRlID0gWycrJ107IH1cblxuICAgIHZhciBwcmVkaWNhdGVzID0gcHJvY2Vzc1ByZWRpY2F0ZXMoc29ydFByZWRpY2F0ZSk7XG5cbiAgICB2YXIgZGVzY2VuZGluZyA9IHJldmVyc2VPcmRlciA/IC0xIDogMTtcblxuICAgIC8vIERlZmluZSB0aGUgYGNvbXBhcmUoKWAgZnVuY3Rpb24uIFVzZSBhIGRlZmF1bHQgY29tcGFyYXRvciBpZiBub25lIGlzIHNwZWNpZmllZC5cbiAgICB2YXIgY29tcGFyZSA9IGlzRnVuY3Rpb24oY29tcGFyZUZuKSA/IGNvbXBhcmVGbiA6IGRlZmF1bHRDb21wYXJlO1xuXG4gICAgLy8gVGhlIG5leHQgdGhyZWUgbGluZXMgYXJlIGEgdmVyc2lvbiBvZiBhIFN3YXJ0emlhbiBUcmFuc2Zvcm0gaWRpb20gZnJvbSBQZXJsXG4gICAgLy8gKHNvbWV0aW1lcyBjYWxsZWQgdGhlIERlY29yYXRlLVNvcnQtVW5kZWNvcmF0ZSBpZGlvbSlcbiAgICAvLyBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU2Nod2FydHppYW5fdHJhbnNmb3JtXG4gICAgdmFyIGNvbXBhcmVWYWx1ZXMgPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYXJyYXksIGdldENvbXBhcmlzb25PYmplY3QpO1xuICAgIGNvbXBhcmVWYWx1ZXMuc29ydChkb0NvbXBhcmlzb24pO1xuICAgIGFycmF5ID0gY29tcGFyZVZhbHVlcy5tYXAoZnVuY3Rpb24oaXRlbSkgeyByZXR1cm4gaXRlbS52YWx1ZTsgfSk7XG5cbiAgICByZXR1cm4gYXJyYXk7XG5cbiAgICBmdW5jdGlvbiBnZXRDb21wYXJpc29uT2JqZWN0KHZhbHVlLCBpbmRleCkge1xuICAgICAgLy8gTk9URTogV2UgYXJlIGFkZGluZyBhbiBleHRyYSBgdGllQnJlYWtlcmAgdmFsdWUgYmFzZWQgb24gdGhlIGVsZW1lbnQncyBpbmRleC5cbiAgICAgIC8vIFRoaXMgd2lsbCBiZSB1c2VkIHRvIGtlZXAgdGhlIHNvcnQgc3RhYmxlIHdoZW4gbm9uZSBvZiB0aGUgaW5wdXQgcHJlZGljYXRlcyBjYW5cbiAgICAgIC8vIGRpc3Rpbmd1aXNoIGJldHdlZW4gdHdvIGVsZW1lbnRzLlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICB0aWVCcmVha2VyOiB7dmFsdWU6IGluZGV4LCB0eXBlOiAnbnVtYmVyJywgaW5kZXg6IGluZGV4fSxcbiAgICAgICAgcHJlZGljYXRlVmFsdWVzOiBwcmVkaWNhdGVzLm1hcChmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0UHJlZGljYXRlVmFsdWUocHJlZGljYXRlLmdldCh2YWx1ZSksIGluZGV4KTtcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG9Db21wYXJpc29uKHYxLCB2Mikge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcHJlZGljYXRlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjb21wYXJlKHYxLnByZWRpY2F0ZVZhbHVlc1tpXSwgdjIucHJlZGljYXRlVmFsdWVzW2ldKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQgKiBwcmVkaWNhdGVzW2ldLmRlc2NlbmRpbmcgKiBkZXNjZW5kaW5nO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoY29tcGFyZSh2MS50aWVCcmVha2VyLCB2Mi50aWVCcmVha2VyKSB8fCBkZWZhdWx0Q29tcGFyZSh2MS50aWVCcmVha2VyLCB2Mi50aWVCcmVha2VyKSkgKiBkZXNjZW5kaW5nO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBwcm9jZXNzUHJlZGljYXRlcyhzb3J0UHJlZGljYXRlcykge1xuICAgIHJldHVybiBzb3J0UHJlZGljYXRlcy5tYXAoZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICB2YXIgZGVzY2VuZGluZyA9IDEsIGdldCA9IGlkZW50aXR5O1xuXG4gICAgICBpZiAoaXNGdW5jdGlvbihwcmVkaWNhdGUpKSB7XG4gICAgICAgIGdldCA9IHByZWRpY2F0ZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcocHJlZGljYXRlKSkge1xuICAgICAgICBpZiAoKHByZWRpY2F0ZS5jaGFyQXQoMCkgPT09ICcrJyB8fCBwcmVkaWNhdGUuY2hhckF0KDApID09PSAnLScpKSB7XG4gICAgICAgICAgZGVzY2VuZGluZyA9IHByZWRpY2F0ZS5jaGFyQXQoMCkgPT09ICctJyA/IC0xIDogMTtcbiAgICAgICAgICBwcmVkaWNhdGUgPSBwcmVkaWNhdGUuc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVkaWNhdGUgIT09ICcnKSB7XG4gICAgICAgICAgZ2V0ID0gJHBhcnNlKHByZWRpY2F0ZSk7XG4gICAgICAgICAgaWYgKGdldC5jb25zdGFudCkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGdldCgpO1xuICAgICAgICAgICAgZ2V0ID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlW2tleV07IH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4ge2dldDogZ2V0LCBkZXNjZW5kaW5nOiBkZXNjZW5kaW5nfTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgIGNhc2UgJ251bWJlcic6IC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOiAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvYmplY3RWYWx1ZSh2YWx1ZSkge1xuICAgIC8vIElmIGB2YWx1ZU9mYCBpcyBhIHZhbGlkIGZ1bmN0aW9uIHVzZSB0aGF0XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUudmFsdWVPZikpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUudmFsdWVPZigpO1xuICAgICAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICAvLyBJZiBgdG9TdHJpbmdgIGlzIGEgdmFsaWQgZnVuY3Rpb24gYW5kIG5vdCB0aGUgb25lIGZyb20gYE9iamVjdC5wcm90b3R5cGVgIHVzZSB0aGF0XG4gICAgaWYgKGhhc0N1c3RvbVRvU3RyaW5nKHZhbHVlKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFByZWRpY2F0ZVZhbHVlKHZhbHVlLCBpbmRleCkge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgdHlwZSA9ICdudWxsJztcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICB2YWx1ZSA9IG9iamVjdFZhbHVlKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIHR5cGU6IHR5cGUsIGluZGV4OiBpbmRleH07XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0Q29tcGFyZSh2MSwgdjIpIHtcbiAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICB2YXIgdHlwZTEgPSB2MS50eXBlO1xuICAgIHZhciB0eXBlMiA9IHYyLnR5cGU7XG5cbiAgICBpZiAodHlwZTEgPT09IHR5cGUyKSB7XG4gICAgICB2YXIgdmFsdWUxID0gdjEudmFsdWU7XG4gICAgICB2YXIgdmFsdWUyID0gdjIudmFsdWU7XG5cbiAgICAgIGlmICh0eXBlMSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gQ29tcGFyZSBzdHJpbmdzIGNhc2UtaW5zZW5zaXRpdmVseVxuICAgICAgICB2YWx1ZTEgPSB2YWx1ZTEudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdmFsdWUyID0gdmFsdWUyLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUxID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBGb3IgYmFzaWMgb2JqZWN0cywgdXNlIHRoZSBwb3NpdGlvbiBvZiB0aGUgb2JqZWN0XG4gICAgICAgIC8vIGluIHRoZSBjb2xsZWN0aW9uIGluc3RlYWQgb2YgdGhlIHZhbHVlXG4gICAgICAgIGlmIChpc09iamVjdCh2YWx1ZTEpKSB2YWx1ZTEgPSB2MS5pbmRleDtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlMikpIHZhbHVlMiA9IHYyLmluZGV4O1xuICAgICAgfVxuXG4gICAgICBpZiAodmFsdWUxICE9PSB2YWx1ZTIpIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWUxIDwgdmFsdWUyID8gLTEgOiAxO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSAodHlwZTEgPT09ICd1bmRlZmluZWQnKSA/IDEgOlxuICAgICAgICAodHlwZTIgPT09ICd1bmRlZmluZWQnKSA/IC0xIDpcbiAgICAgICAgKHR5cGUxID09PSAnbnVsbCcpID8gMSA6XG4gICAgICAgICh0eXBlMiA9PT0gJ251bGwnKSA/IC0xIDpcbiAgICAgICAgKHR5cGUxIDwgdHlwZTIpID8gLTEgOiAxO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gbmdEaXJlY3RpdmUoZGlyZWN0aXZlKSB7XG4gIGlmIChpc0Z1bmN0aW9uKGRpcmVjdGl2ZSkpIHtcbiAgICBkaXJlY3RpdmUgPSB7XG4gICAgICBsaW5rOiBkaXJlY3RpdmVcbiAgICB9O1xuICB9XG4gIGRpcmVjdGl2ZS5yZXN0cmljdCA9IGRpcmVjdGl2ZS5yZXN0cmljdCB8fCAnQUMnO1xuICByZXR1cm4gdmFsdWVGbihkaXJlY3RpdmUpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIGFcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBNb2RpZmllcyB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUgaHRtbCBhIHRhZyBzbyB0aGF0IHRoZSBkZWZhdWx0IGFjdGlvbiBpcyBwcmV2ZW50ZWQgd2hlblxuICogdGhlIGhyZWYgYXR0cmlidXRlIGlzIGVtcHR5LlxuICpcbiAqIEZvciBkeW5hbWljYWxseSBjcmVhdGluZyBgaHJlZmAgYXR0cmlidXRlcyBmb3IgYSB0YWdzLCBzZWUgdGhlIHtAbGluayBuZy5uZ0hyZWYgYG5nSHJlZmB9IGRpcmVjdGl2ZS5cbiAqL1xudmFyIGh0bWxBbmNob3JEaXJlY3RpdmUgPSB2YWx1ZUZuKHtcbiAgcmVzdHJpY3Q6ICdFJyxcbiAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xuICAgIGlmICghYXR0ci5ocmVmICYmICFhdHRyLnhsaW5rSHJlZikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgIC8vIElmIHRoZSBsaW5rZWQgZWxlbWVudCBpcyBub3QgYW4gYW5jaG9yIHRhZyBhbnltb3JlLCBkbyBub3RoaW5nXG4gICAgICAgIGlmIChlbGVtZW50WzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdhJykgcmV0dXJuO1xuXG4gICAgICAgIC8vIFNWR0FFbGVtZW50IGRvZXMgbm90IHVzZSB0aGUgaHJlZiBhdHRyaWJ1dGUsIGJ1dCByYXRoZXIgdGhlICd4bGlua0hyZWYnIGF0dHJpYnV0ZS5cbiAgICAgICAgdmFyIGhyZWYgPSB0b1N0cmluZy5jYWxsKGVsZW1lbnQucHJvcCgnaHJlZicpKSA9PT0gJ1tvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddJyA/XG4gICAgICAgICAgICAgICAgICAgJ3hsaW5rOmhyZWYnIDogJ2hyZWYnO1xuICAgICAgICBlbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgLy8gaWYgd2UgaGF2ZSBubyBocmVmIHVybCwgdGhlbiBkb24ndCBuYXZpZ2F0ZSBhbnl3aGVyZS5cbiAgICAgICAgICBpZiAoIWVsZW1lbnQuYXR0cihocmVmKSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nSHJlZlxuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSA5OVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNpbmcgQW5ndWxhckpTIG1hcmt1cCBsaWtlIGB7e2hhc2h9fWAgaW4gYW4gaHJlZiBhdHRyaWJ1dGUgd2lsbFxuICogbWFrZSB0aGUgbGluayBnbyB0byB0aGUgd3JvbmcgVVJMIGlmIHRoZSB1c2VyIGNsaWNrcyBpdCBiZWZvcmVcbiAqIEFuZ3VsYXJKUyBoYXMgYSBjaGFuY2UgdG8gcmVwbGFjZSB0aGUgYHt7aGFzaH19YCBtYXJrdXAgd2l0aCBpdHNcbiAqIHZhbHVlLiBVbnRpbCBBbmd1bGFySlMgcmVwbGFjZXMgdGhlIG1hcmt1cCB0aGUgbGluayB3aWxsIGJlIGJyb2tlblxuICogYW5kIHdpbGwgbW9zdCBsaWtlbHkgcmV0dXJuIGEgNDA0IGVycm9yLiBUaGUgYG5nSHJlZmAgZGlyZWN0aXZlXG4gKiBzb2x2ZXMgdGhpcyBwcm9ibGVtLlxuICpcbiAqIFRoZSB3cm9uZyB3YXkgdG8gd3JpdGUgaXQ6XG4gKiBgYGBodG1sXG4gKiA8YSBocmVmPVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19XCI+bGluazE8L2E+XG4gKiBgYGBcbiAqXG4gKiBUaGUgY29ycmVjdCB3YXkgdG8gd3JpdGUgaXQ6XG4gKiBgYGBodG1sXG4gKiA8YSBuZy1ocmVmPVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19XCI+bGluazE8L2E+XG4gKiBgYGBcbiAqXG4gKiBAZWxlbWVudCBBXG4gKiBAcGFyYW0ge3RlbXBsYXRlfSBuZ0hyZWYgYW55IHN0cmluZyB3aGljaCBjYW4gY29udGFpbiBge3t9fWAgbWFya3VwLlxuICpcbiAqIEBleGFtcGxlXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgdmFyaW91cyBjb21iaW5hdGlvbnMgb2YgYGhyZWZgLCBgbmctaHJlZmAgYW5kIGBuZy1jbGlja2AgYXR0cmlidXRlc1xuICogaW4gbGlua3MgYW5kIHRoZWlyIGRpZmZlcmVudCBiZWhhdmlvcnM6XG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nLWhyZWZcIj5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInZhbHVlXCIgLz48YnIgLz5cbiAgICAgICAgPGEgaWQ9XCJsaW5rLTFcIiBocmVmIG5nLWNsaWNrPVwidmFsdWUgPSAxXCI+bGluayAxPC9hPiAobGluaywgZG9uJ3QgcmVsb2FkKTxiciAvPlxuICAgICAgICA8YSBpZD1cImxpbmstMlwiIGhyZWY9XCJcIiBuZy1jbGljaz1cInZhbHVlID0gMlwiPmxpbmsgMjwvYT4gKGxpbmssIGRvbid0IHJlbG9hZCk8YnIgLz5cbiAgICAgICAgPGEgaWQ9XCJsaW5rLTNcIiBuZy1ocmVmPVwiL3t7JzEyMyd9fVwiPmxpbmsgMzwvYT4gKGxpbmssIHJlbG9hZCEpPGJyIC8+XG4gICAgICAgIDxhIGlkPVwibGluay00XCIgaHJlZj1cIlwiIG5hbWU9XCJ4eFwiIG5nLWNsaWNrPVwidmFsdWUgPSA0XCI+YW5jaG9yPC9hPiAobGluaywgZG9uJ3QgcmVsb2FkKTxiciAvPlxuICAgICAgICA8YSBpZD1cImxpbmstNVwiIG5hbWU9XCJ4eHhcIiBuZy1jbGljaz1cInZhbHVlID0gNVwiPmFuY2hvcjwvYT4gKG5vIGxpbmspPGJyIC8+XG4gICAgICAgIDxhIGlkPVwibGluay02XCIgbmctaHJlZj1cInt7dmFsdWV9fVwiPmxpbms8L2E+IChsaW5rLCBjaGFuZ2UgbG9jYXRpb24pXG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIGhyZWYgd2l0aG91dCB2YWx1ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstMScpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzEnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0xJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKCcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gaHJlZiBlbXB0eSBzdHJpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTInKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCcyJyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstMicpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZSgnJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBhbmQgY2hhbmdlIHVybCB3aGVuIG5nLWhyZWYgc3BlY2lmaWVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstMycpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9NYXRjaCgvXFwvMTIzJC8pO1xuXG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay0zJykpLmNsaWNrKCk7XG5cbiAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBuYXZpZ2F0ZSBhd2F5IGZyb20gYW4gQW5ndWxhckpTIHBhZ2UsIHNvIHdlIG5lZWRcbiAgICAgICAgICAvLyB0byB1c2UgYnJvd3Nlci5kcml2ZXIgdG8gZ2V0IHRoZSBiYXNlIHdlYmRyaXZlci5cblxuICAgICAgICAgIGJyb3dzZXIud2FpdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVybC5tYXRjaCgvXFwvMTIzJC8pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgNTAwMCwgJ3BhZ2Ugc2hvdWxkIG5hdmlnYXRlIHRvIC8xMjMnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gaHJlZiBlbXB0eSBzdHJpbmcgYW5kIG5hbWUgc3BlY2lmaWVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay00JykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnNCcpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTQnKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvQmUoJycpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYnV0IG5vdCByZWxvYWQgd2hlbiBubyBocmVmIGJ1dCBuYW1lIHNwZWNpZmllZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstNScpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzUnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay01JykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKG51bGwpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIG9ubHkgY2hhbmdlIHVybCB3aGVuIG9ubHkgbmctaHJlZicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmNsZWFyKCk7XG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuc2VuZEtleXMoJzYnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay02JykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b01hdGNoKC9cXC82JC8pO1xuXG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay02JykpLmNsaWNrKCk7XG5cbiAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBuYXZpZ2F0ZSBhd2F5IGZyb20gYW4gQW5ndWxhckpTIHBhZ2UsIHNvIHdlIG5lZWRcbiAgICAgICAgICAvLyB0byB1c2UgYnJvd3Nlci5kcml2ZXIgdG8gZ2V0IHRoZSBiYXNlIHdlYmRyaXZlci5cbiAgICAgICAgICBicm93c2VyLndhaXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gYnJvd3Nlci5kcml2ZXIuZ2V0Q3VycmVudFVybCgpLnRoZW4oZnVuY3Rpb24odXJsKSB7XG4gICAgICAgICAgICAgIHJldHVybiB1cmwubWF0Y2goL1xcLzYkLyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LCA1MDAwLCAncGFnZSBzaG91bGQgbmF2aWdhdGUgdG8gLzYnKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTcmNcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgOTlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzaW5nIEFuZ3VsYXJKUyBtYXJrdXAgbGlrZSBge3toYXNofX1gIGluIGEgYHNyY2AgYXR0cmlidXRlIGRvZXNuJ3RcbiAqIHdvcmsgcmlnaHQ6IFRoZSBicm93c2VyIHdpbGwgZmV0Y2ggZnJvbSB0aGUgVVJMIHdpdGggdGhlIGxpdGVyYWxcbiAqIHRleHQgYHt7aGFzaH19YCB1bnRpbCBBbmd1bGFySlMgcmVwbGFjZXMgdGhlIGV4cHJlc3Npb24gaW5zaWRlXG4gKiBge3toYXNofX1gLiBUaGUgYG5nU3JjYCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbS5cbiAqXG4gKiBUaGUgYnVnZ3kgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGltZyBzcmM9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIiBhbHQ9XCJEZXNjcmlwdGlvblwiLz5cbiAqIGBgYFxuICpcbiAqIFRoZSBjb3JyZWN0IHdheSB0byB3cml0ZSBpdDpcbiAqIGBgYGh0bWxcbiAqIDxpbWcgbmctc3JjPVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19XCIgYWx0PVwiRGVzY3JpcHRpb25cIiAvPlxuICogYGBgXG4gKlxuICogQGVsZW1lbnQgSU1HXG4gKiBAcGFyYW0ge3RlbXBsYXRlfSBuZ1NyYyBhbnkgc3RyaW5nIHdoaWNoIGNhbiBjb250YWluIGB7e319YCBtYXJrdXAuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1NyY3NldFxuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSA5OVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNpbmcgQW5ndWxhckpTIG1hcmt1cCBsaWtlIGB7e2hhc2h9fWAgaW4gYSBgc3Jjc2V0YCBhdHRyaWJ1dGUgZG9lc24ndFxuICogd29yayByaWdodDogVGhlIGJyb3dzZXIgd2lsbCBmZXRjaCBmcm9tIHRoZSBVUkwgd2l0aCB0aGUgbGl0ZXJhbFxuICogdGV4dCBge3toYXNofX1gIHVudGlsIEFuZ3VsYXJKUyByZXBsYWNlcyB0aGUgZXhwcmVzc2lvbiBpbnNpZGVcbiAqIGB7e2hhc2h9fWAuIFRoZSBgbmdTcmNzZXRgIGRpcmVjdGl2ZSBzb2x2ZXMgdGhpcyBwcm9ibGVtLlxuICpcbiAqIFRoZSBidWdneSB3YXkgdG8gd3JpdGUgaXQ6XG4gKiBgYGBodG1sXG4gKiA8aW1nIHNyY3NldD1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fSAyeFwiIGFsdD1cIkRlc2NyaXB0aW9uXCIvPlxuICogYGBgXG4gKlxuICogVGhlIGNvcnJlY3Qgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGltZyBuZy1zcmNzZXQ9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX0gMnhcIiBhbHQ9XCJEZXNjcmlwdGlvblwiIC8+XG4gKiBgYGBcbiAqXG4gKiBAZWxlbWVudCBJTUdcbiAqIEBwYXJhbSB7dGVtcGxhdGV9IG5nU3Jjc2V0IGFueSBzdHJpbmcgd2hpY2ggY2FuIGNvbnRhaW4gYHt7fX1gIG1hcmt1cC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nRGlzYWJsZWRcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgMTAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgc2V0cyB0aGUgYGRpc2FibGVkYCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQgKHR5cGljYWxseSBhIGZvcm0gY29udHJvbCxcbiAqIGUuZy4gYGlucHV0YCwgYGJ1dHRvbmAsIGBzZWxlY3RgIGV0Yy4pIGlmIHRoZVxuICoge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaW5zaWRlIGBuZ0Rpc2FibGVkYCBldmFsdWF0ZXMgdG8gdHJ1dGh5LlxuICpcbiAqIEEgc3BlY2lhbCBkaXJlY3RpdmUgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGUgYGRpc2FibGVkYFxuICogYXR0cmlidXRlLiBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb24gZ3VpZGV9IGZvciBtb3JlIGluZm8uXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBuYW1lPVwibmctZGlzYWJsZWRcIj5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxsYWJlbD5DbGljayBtZSB0byB0b2dnbGU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIj48L2xhYmVsPjxici8+XG4gICAgICAgIDxidXR0b24gbmctbW9kZWw9XCJidXR0b25cIiBuZy1kaXNhYmxlZD1cImNoZWNrZWRcIj5CdXR0b248L2J1dHRvbj5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCB0b2dnbGUgYnV0dG9uJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCdidXR0b24nKSkuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpKS50b0JlRmFsc3koKTtcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCdidXR0b24nKSkuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nRGlzYWJsZWQgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcbiAqICAgICB0aGVuIHRoZSBgZGlzYWJsZWRgIGF0dHJpYnV0ZSB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NoZWNrZWRcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgMTAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTZXRzIHRoZSBgY2hlY2tlZGAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50LCBpZiB0aGUgZXhwcmVzc2lvbiBpbnNpZGUgYG5nQ2hlY2tlZGAgaXMgdHJ1dGh5LlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIGRpcmVjdGl2ZSBzaG91bGQgbm90IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LFxuICogYXMgdGhpcyBjYW4gbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW9yLlxuICpcbiAqIEEgc3BlY2lhbCBkaXJlY3RpdmUgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGUgYGNoZWNrZWRgXG4gKiBhdHRyaWJ1dGUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbiBndWlkZX0gZm9yIG1vcmUgaW5mby5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG5hbWU9XCJuZy1jaGVja2VkXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8bGFiZWw+Q2hlY2sgbWUgdG8gY2hlY2sgYm90aDogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwibGVhZGVyXCI+PC9sYWJlbD48YnIvPlxuICAgICAgICA8aW5wdXQgaWQ9XCJjaGVja0ZvbGxvd2VyXCIgdHlwZT1cImNoZWNrYm94XCIgbmctY2hlY2tlZD1cImxlYWRlclwiIGFyaWEtbGFiZWw9XCJGb2xsb3dlciBpbnB1dFwiPlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICBpdCgnc2hvdWxkIGNoZWNrIGJvdGggY2hlY2tCb3hlcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjaGVja0ZvbGxvd2VyJykpLmdldEF0dHJpYnV0ZSgnY2hlY2tlZCcpKS50b0JlRmFsc3koKTtcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdsZWFkZXInKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY2hlY2tGb2xsb3dlcicpKS5nZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkudG9CZVRydXRoeSgpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKlxuICogQGVsZW1lbnQgSU5QVVRcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDaGVja2VkIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHksXG4gKiAgICAgdGhlbiB0aGUgYGNoZWNrZWRgIGF0dHJpYnV0ZSB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1JlYWRvbmx5XG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFNldHMgdGhlIGByZWFkb25seWAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50LCBpZiB0aGUgZXhwcmVzc2lvbiBpbnNpZGUgYG5nUmVhZG9ubHlgIGlzIHRydXRoeS5cbiAqIE5vdGUgdGhhdCBgcmVhZG9ubHlgIGFwcGxpZXMgb25seSB0byBgaW5wdXRgIGVsZW1lbnRzIHdpdGggc3BlY2lmaWMgdHlwZXMuIFtTZWUgdGhlIGlucHV0IGRvY3Mgb25cbiAqIE1ETl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9FbGVtZW50L2lucHV0I2F0dHItcmVhZG9ubHkpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEEgc3BlY2lhbCBkaXJlY3RpdmUgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGUgYHJlYWRvbmx5YFxuICogYXR0cmlidXRlLiBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb24gZ3VpZGV9IGZvciBtb3JlIGluZm8uXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBuYW1lPVwibmctcmVhZG9ubHlcIj5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxsYWJlbD5DaGVjayBtZSB0byBtYWtlIHRleHQgcmVhZG9ubHk6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIj48L2xhYmVsPjxici8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLXJlYWRvbmx5PVwiY2hlY2tlZFwiIHZhbHVlPVwiSSdtIEFuZ3VsYXJKU1wiIGFyaWEtbGFiZWw9XCJSZWFkb25seSBmaWVsZFwiIC8+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIHJlYWRvbmx5IGF0dHInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ1t0eXBlPVwidGV4dFwiXScpKS5nZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ1t0eXBlPVwidGV4dFwiXScpKS5nZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JykpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IElOUFVUXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nUmVhZG9ubHkgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcbiAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlIFwicmVhZG9ubHlcIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1NlbGVjdGVkXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFNldHMgdGhlIGBzZWxlY3RlZGAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50LCBpZiB0aGUgZXhwcmVzc2lvbiBpbnNpZGUgYG5nU2VsZWN0ZWRgIGlzIHRydXRoeS5cbiAqXG4gKiBBIHNwZWNpYWwgZGlyZWN0aXZlIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlIGNhbm5vdCB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhlIGBzZWxlY3RlZGBcbiAqIGF0dHJpYnV0ZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiBpbnRlcnBvbGF0aW9uIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAgICoqTm90ZToqKiBgbmdTZWxlY3RlZGAgZG9lcyBub3QgaW50ZXJhY3Qgd2l0aCB0aGUgYHNlbGVjdGAgYW5kIGBuZ01vZGVsYCBkaXJlY3RpdmVzLCBpdCBvbmx5XG4gKiAgIHNldHMgdGhlIGBzZWxlY3RlZGAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50LiBJZiB5b3UgYXJlIHVzaW5nIGBuZ01vZGVsYCBvbiB0aGUgc2VsZWN0LCB5b3VcbiAqICAgc2hvdWxkIG5vdCB1c2UgYG5nU2VsZWN0ZWRgIG9uIHRoZSBvcHRpb25zLCBhcyBgbmdNb2RlbGAgd2lsbCBzZXQgdGhlIHNlbGVjdCB2YWx1ZSBhbmRcbiAqICAgc2VsZWN0ZWQgb3B0aW9ucy5cbiAqIDwvZGl2PlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nLXNlbGVjdGVkXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8bGFiZWw+Q2hlY2sgbWUgdG8gc2VsZWN0OiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJzZWxlY3RlZFwiPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgPHNlbGVjdCBhcmlhLWxhYmVsPVwibmdTZWxlY3RlZCBkZW1vXCI+XG4gICAgICAgICAgPG9wdGlvbj5IZWxsbyE8L29wdGlvbj5cbiAgICAgICAgICA8b3B0aW9uIGlkPVwiZ3JlZXRcIiBuZy1zZWxlY3RlZD1cInNlbGVjdGVkXCI+R3JlZXRpbmdzITwvb3B0aW9uPlxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBzZWxlY3QgR3JlZXRpbmdzIScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdncmVldCcpKS5nZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NlbGVjdGVkJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2dyZWV0JykpLmdldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnKSkudG9CZVRydXRoeSgpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKlxuICogQGVsZW1lbnQgT1BUSU9OXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU2VsZWN0ZWQgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcbiAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlIFwic2VsZWN0ZWRcIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdPcGVuXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFNldHMgdGhlIGBvcGVuYCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQsIGlmIHRoZSBleHByZXNzaW9uIGluc2lkZSBgbmdPcGVuYCBpcyB0cnV0aHkuXG4gKlxuICogQSBzcGVjaWFsIGRpcmVjdGl2ZSBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3ZSBjYW5ub3QgdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoZSBgb3BlbmBcbiAqIGF0dHJpYnV0ZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiBpbnRlcnBvbGF0aW9uIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxuICpcbiAqICMjIEEgbm90ZSBhYm91dCBicm93c2VyIGNvbXBhdGliaWxpdHlcbiAqXG4gKiBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCB0aGUgYGRldGFpbHNgIGVsZW1lbnQsIGl0IGlzXG4gKiByZWNvbW1lbmRlZCB0byB1c2Uge0BsaW5rIG5nLm5nU2hvd30gYW5kIHtAbGluayBuZy5uZ0hpZGV9IGluc3RlYWQuXG4gKlxuICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbmFtZT1cIm5nLW9wZW5cIj5cbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPGxhYmVsPlRvZ2dsZSBkZXRhaWxzOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJvcGVuXCI+PC9sYWJlbD48YnIvPlxuICAgICAgICAgPGRldGFpbHMgaWQ9XCJkZXRhaWxzXCIgbmctb3Blbj1cIm9wZW5cIj5cbiAgICAgICAgICAgIDxzdW1tYXJ5Pkxpc3Q8L3N1bW1hcnk+XG4gICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgIDxsaT5BcHBsZTwvbGk+XG4gICAgICAgICAgICAgIDxsaT5PcmFuZ2U8L2xpPlxuICAgICAgICAgICAgICA8bGk+RHVyaWFuPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICA8L2RldGFpbHM+XG4gICAgICAgPC9maWxlPlxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIG9wZW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2RldGFpbHMnKSkuZ2V0QXR0cmlidXRlKCdvcGVuJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdvcGVuJykpLmNsaWNrKCk7XG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdkZXRhaWxzJykpLmdldEF0dHJpYnV0ZSgnb3BlbicpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgICB9KTtcbiAgICAgICA8L2ZpbGU+XG4gICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAZWxlbWVudCBERVRBSUxTXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nT3BlbiBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJvcGVuXCIgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcbiAqL1xuXG52YXIgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXMgPSB7fTtcblxuLy8gYm9vbGVhbiBhdHRycyBhcmUgZXZhbHVhdGVkXG5mb3JFYWNoKEJPT0xFQU5fQVRUUiwgZnVuY3Rpb24ocHJvcE5hbWUsIGF0dHJOYW1lKSB7XG4gIC8vIGJpbmRpbmcgdG8gbXVsdGlwbGUgaXMgbm90IHN1cHBvcnRlZFxuICBpZiAocHJvcE5hbWUgPT09ICdtdWx0aXBsZScpIHJldHVybjtcblxuICBmdW5jdGlvbiBkZWZhdWx0TGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgc2NvcGUuJHdhdGNoKGF0dHJbbm9ybWFsaXplZF0sIGZ1bmN0aW9uIG5nQm9vbGVhbkF0dHJXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgYXR0ci4kc2V0KGF0dHJOYW1lLCAhIXZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBub3JtYWxpemVkID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgYXR0ck5hbWUpO1xuICB2YXIgbGlua0ZuID0gZGVmYXVsdExpbmtGbjtcblxuICBpZiAocHJvcE5hbWUgPT09ICdjaGVja2VkJykge1xuICAgIGxpbmtGbiA9IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAvLyBlbnN1cmluZyBuZ0NoZWNrZWQgZG9lc24ndCBpbnRlcmZlcmUgd2l0aCBuZ01vZGVsIHdoZW4gYm90aCBhcmUgc2V0IG9uIHRoZSBzYW1lIGlucHV0XG4gICAgICBpZiAoYXR0ci5uZ01vZGVsICE9PSBhdHRyW25vcm1hbGl6ZWRdKSB7XG4gICAgICAgIGRlZmF1bHRMaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHIpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgcHJpb3JpdHk6IDEwMCxcbiAgICAgIGxpbms6IGxpbmtGblxuICAgIH07XG4gIH07XG59KTtcblxuLy8gYWxpYXNlZCBpbnB1dCBhdHRycyBhcmUgZXZhbHVhdGVkXG5mb3JFYWNoKEFMSUFTRURfQVRUUiwgZnVuY3Rpb24oaHRtbEF0dHIsIG5nQXR0cikge1xuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tuZ0F0dHJdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByaW9yaXR5OiAxMDAsXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICAvL3NwZWNpYWwgY2FzZSBuZ1BhdHRlcm4gd2hlbiBhIGxpdGVyYWwgcmVndWxhciBleHByZXNzaW9uIHZhbHVlXG4gICAgICAgIC8vaXMgdXNlZCBhcyB0aGUgZXhwcmVzc2lvbiAodGhpcyB3YXkgd2UgZG9uJ3QgaGF2ZSB0byB3YXRjaCBhbnl0aGluZykuXG4gICAgICAgIGlmIChuZ0F0dHIgPT09ICduZ1BhdHRlcm4nICYmIGF0dHIubmdQYXR0ZXJuLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0gYXR0ci5uZ1BhdHRlcm4ubWF0Y2goUkVHRVhfU1RSSU5HX1JFR0VYUCk7XG4gICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBhdHRyLiRzZXQoJ25nUGF0dGVybicsIG5ldyBSZWdFeHAobWF0Y2hbMV0sIG1hdGNoWzJdKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJbbmdBdHRyXSwgZnVuY3Rpb24gbmdBdHRyQWxpYXNXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGF0dHIuJHNldChuZ0F0dHIsIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn0pO1xuXG4vLyBuZy1zcmMsIG5nLXNyY3NldCwgbmctaHJlZiBhcmUgaW50ZXJwb2xhdGVkXG5mb3JFYWNoKFsnc3JjJywgJ3NyY3NldCcsICdocmVmJ10sIGZ1bmN0aW9uKGF0dHJOYW1lKSB7XG4gIHZhciBub3JtYWxpemVkID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgYXR0ck5hbWUpO1xuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXSA9IFsnJHNjZScsIGZ1bmN0aW9uKCRzY2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJpb3JpdHk6IDk5LCAvLyBpdCBuZWVkcyB0byBydW4gYWZ0ZXIgdGhlIGF0dHJpYnV0ZXMgYXJlIGludGVycG9sYXRlZFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgdmFyIHByb3BOYW1lID0gYXR0ck5hbWUsXG4gICAgICAgICAgICBuYW1lID0gYXR0ck5hbWU7XG5cbiAgICAgICAgaWYgKGF0dHJOYW1lID09PSAnaHJlZicgJiZcbiAgICAgICAgICAgIHRvU3RyaW5nLmNhbGwoZWxlbWVudC5wcm9wKCdocmVmJykpID09PSAnW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10nKSB7XG4gICAgICAgICAgbmFtZSA9ICd4bGlua0hyZWYnO1xuICAgICAgICAgIGF0dHIuJGF0dHJbbmFtZV0gPSAneGxpbms6aHJlZic7XG4gICAgICAgICAgcHJvcE5hbWUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBzYW5pdGl6ZSB0aGUgdXJsIGF0IGxlYXN0IG9uY2UsIGluIGNhc2UgaXQgaXMgYSBjb25zdGFudFxuICAgICAgICAvLyBub24taW50ZXJwb2xhdGVkIGF0dHJpYnV0ZS5cbiAgICAgICAgYXR0ci4kc2V0KG5vcm1hbGl6ZWQsICRzY2UuZ2V0VHJ1c3RlZE1lZGlhVXJsKGF0dHJbbm9ybWFsaXplZF0pKTtcblxuICAgICAgICBhdHRyLiRvYnNlcnZlKG5vcm1hbGl6ZWQsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGF0dHJOYW1lID09PSAnaHJlZicpIHtcbiAgICAgICAgICAgICAgYXR0ci4kc2V0KG5hbWUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGF0dHIuJHNldChuYW1lLCB2YWx1ZSk7XG5cbiAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5LTExIG9ubHlcbiAgICAgICAgICAvLyBPbiBJRSwgaWYgXCJuZzpzcmNcIiBkaXJlY3RpdmUgZGVjbGFyYXRpb24gaXMgdXNlZCBhbmQgXCJzcmNcIiBhdHRyaWJ1dGUgZG9lc24ndCBleGlzdFxuICAgICAgICAgIC8vIHRoZW4gY2FsbGluZyBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ZvbycpIGRvZXNuJ3QgZG8gYW55dGhpbmcsIHNvIHdlIG5lZWRcbiAgICAgICAgICAvLyB0byBzZXQgdGhlIHByb3BlcnR5IGFzIHdlbGwgdG8gYWNoaWV2ZSB0aGUgZGVzaXJlZCBlZmZlY3QuXG4gICAgICAgICAgLy8gV2UgdXNlIGF0dHJbYXR0ck5hbWVdIHZhbHVlIHNpbmNlICRzZXQgbWlnaHQgaGF2ZSBzYW5pdGl6ZWQgdGhlIHVybC5cbiAgICAgICAgICBpZiAobXNpZSAmJiBwcm9wTmFtZSkgZWxlbWVudC5wcm9wKHByb3BOYW1lLCBhdHRyW25hbWVdKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV07XG59KTtcblxuLyogZ2xvYmFsIC1udWxsRm9ybUN0cmwsIC1QRU5ESU5HX0NMQVNTLCAtU1VCTUlUVEVEX0NMQVNTXG4gKi9cbnZhciBudWxsRm9ybUN0cmwgPSB7XG4gICRhZGRDb250cm9sOiBub29wLFxuICAkZ2V0Q29udHJvbHM6IHZhbHVlRm4oW10pLFxuICAkJHJlbmFtZUNvbnRyb2w6IG51bGxGb3JtUmVuYW1lQ29udHJvbCxcbiAgJHJlbW92ZUNvbnRyb2w6IG5vb3AsXG4gICRzZXRWYWxpZGl0eTogbm9vcCxcbiAgJHNldERpcnR5OiBub29wLFxuICAkc2V0UHJpc3RpbmU6IG5vb3AsXG4gICRzZXRTdWJtaXR0ZWQ6IG5vb3AsXG4gICQkc2V0U3VibWl0dGVkOiBub29wXG59LFxuUEVORElOR19DTEFTUyA9ICduZy1wZW5kaW5nJyxcblNVQk1JVFRFRF9DTEFTUyA9ICduZy1zdWJtaXR0ZWQnO1xuXG5mdW5jdGlvbiBudWxsRm9ybVJlbmFtZUNvbnRyb2woY29udHJvbCwgbmFtZSkge1xuICBjb250cm9sLiRuYW1lID0gbmFtZTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgdHlwZVxuICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlclxuICpcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHByaXN0aW5lIFRydWUgaWYgdXNlciBoYXMgbm90IGludGVyYWN0ZWQgd2l0aCB0aGUgZm9ybSB5ZXQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRkaXJ0eSBUcnVlIGlmIHVzZXIgaGFzIGFscmVhZHkgaW50ZXJhY3RlZCB3aXRoIHRoZSBmb3JtLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkdmFsaWQgVHJ1ZSBpZiBhbGwgb2YgdGhlIGNvbnRhaW5pbmcgZm9ybXMgYW5kIGNvbnRyb2xzIGFyZSB2YWxpZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGludmFsaWQgVHJ1ZSBpZiBhdCBsZWFzdCBvbmUgY29udGFpbmluZyBjb250cm9sIG9yIGZvcm0gaXMgaW52YWxpZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHN1Ym1pdHRlZCBUcnVlIGlmIHVzZXIgaGFzIHN1Ym1pdHRlZCB0aGUgZm9ybSBldmVuIGlmIGl0cyBpbnZhbGlkLlxuICpcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSAkcGVuZGluZyBBbiBvYmplY3QgaGFzaCwgY29udGFpbmluZyByZWZlcmVuY2VzIHRvIGNvbnRyb2xzIG9yIGZvcm1zIHdpdGhcbiAqICBwZW5kaW5nIHZhbGlkYXRvcnMsIHdoZXJlOlxuICpcbiAqICAtIGtleXMgYXJlIHZhbGlkYXRpb25zIHRva2VucyAoZXJyb3IgbmFtZXMpLlxuICogIC0gdmFsdWVzIGFyZSBhcnJheXMgb2YgY29udHJvbHMgb3IgZm9ybXMgdGhhdCBoYXZlIGEgcGVuZGluZyB2YWxpZGF0b3IgZm9yIHRoZSBnaXZlbiBlcnJvciBuYW1lLlxuICpcbiAqIFNlZSB7QGxpbmsgZm9ybS5Gb3JtQ29udHJvbGxlciMkZXJyb3IgJGVycm9yfSBmb3IgYSBsaXN0IG9mIGJ1aWx0LWluIHZhbGlkYXRpb24gdG9rZW5zLlxuICpcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSAkZXJyb3IgQW4gb2JqZWN0IGhhc2gsIGNvbnRhaW5pbmcgcmVmZXJlbmNlcyB0byBjb250cm9scyBvciBmb3JtcyB3aXRoIGZhaWxpbmdcbiAqICB2YWxpZGF0b3JzLCB3aGVyZTpcbiAqXG4gKiAgLSBrZXlzIGFyZSB2YWxpZGF0aW9uIHRva2VucyAoZXJyb3IgbmFtZXMpLFxuICogIC0gdmFsdWVzIGFyZSBhcnJheXMgb2YgY29udHJvbHMgb3IgZm9ybXMgdGhhdCBoYXZlIGEgZmFpbGluZyB2YWxpZGF0b3IgZm9yIHRoZSBnaXZlbiBlcnJvciBuYW1lLlxuICpcbiAqICBCdWlsdC1pbiB2YWxpZGF0aW9uIHRva2VuczpcbiAqICAtIGBlbWFpbGBcbiAqICAtIGBtYXhgXG4gKiAgLSBgbWF4bGVuZ3RoYFxuICogIC0gYG1pbmBcbiAqICAtIGBtaW5sZW5ndGhgXG4gKiAgLSBgbnVtYmVyYFxuICogIC0gYHBhdHRlcm5gXG4gKiAgLSBgcmVxdWlyZWRgXG4gKiAgLSBgdXJsYFxuICogIC0gYGRhdGVgXG4gKiAgLSBgZGF0ZXRpbWVsb2NhbGBcbiAqICAtIGB0aW1lYFxuICogIC0gYHdlZWtgXG4gKiAgLSBgbW9udGhgXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBgRm9ybUNvbnRyb2xsZXJgIGtlZXBzIHRyYWNrIG9mIGFsbCBpdHMgY29udHJvbHMgYW5kIG5lc3RlZCBmb3JtcyBhcyB3ZWxsIGFzIHRoZSBzdGF0ZSBvZiB0aGVtLFxuICogc3VjaCBhcyBiZWluZyB2YWxpZC9pbnZhbGlkIG9yIGRpcnR5L3ByaXN0aW5lLlxuICpcbiAqIEVhY2gge0BsaW5rIG5nLmRpcmVjdGl2ZTpmb3JtIGZvcm19IGRpcmVjdGl2ZSBjcmVhdGVzIGFuIGluc3RhbmNlXG4gKiBvZiBgRm9ybUNvbnRyb2xsZXJgLlxuICpcbiAqL1xuLy9hc2tzIGZvciAkc2NvcGUgdG8gZm9vbCB0aGUgQkMgY29udHJvbGxlciBtb2R1bGVcbkZvcm1Db250cm9sbGVyLiRpbmplY3QgPSBbJyRlbGVtZW50JywgJyRhdHRycycsICckc2NvcGUnLCAnJGFuaW1hdGUnLCAnJGludGVycG9sYXRlJ107XG5mdW5jdGlvbiBGb3JtQ29udHJvbGxlcigkZWxlbWVudCwgJGF0dHJzLCAkc2NvcGUsICRhbmltYXRlLCAkaW50ZXJwb2xhdGUpIHtcbiAgdGhpcy4kJGNvbnRyb2xzID0gW107XG5cbiAgLy8gaW5pdCBzdGF0ZVxuICB0aGlzLiRlcnJvciA9IHt9O1xuICB0aGlzLiQkc3VjY2VzcyA9IHt9O1xuICB0aGlzLiRwZW5kaW5nID0gdW5kZWZpbmVkO1xuICB0aGlzLiRuYW1lID0gJGludGVycG9sYXRlKCRhdHRycy5uYW1lIHx8ICRhdHRycy5uZ0Zvcm0gfHwgJycpKCRzY29wZSk7XG4gIHRoaXMuJGRpcnR5ID0gZmFsc2U7XG4gIHRoaXMuJHByaXN0aW5lID0gdHJ1ZTtcbiAgdGhpcy4kdmFsaWQgPSB0cnVlO1xuICB0aGlzLiRpbnZhbGlkID0gZmFsc2U7XG4gIHRoaXMuJHN1Ym1pdHRlZCA9IGZhbHNlO1xuICB0aGlzLiQkcGFyZW50Rm9ybSA9IG51bGxGb3JtQ3RybDtcblxuICB0aGlzLiQkZWxlbWVudCA9ICRlbGVtZW50O1xuICB0aGlzLiQkYW5pbWF0ZSA9ICRhbmltYXRlO1xuXG4gIHNldHVwVmFsaWRpdHkodGhpcyk7XG59XG5cbkZvcm1Db250cm9sbGVyLnByb3RvdHlwZSA9IHtcbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkcm9sbGJhY2tWaWV3VmFsdWVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJvbGxiYWNrIGFsbCBmb3JtIGNvbnRyb2xzIHBlbmRpbmcgdXBkYXRlcyB0byB0aGUgYCRtb2RlbFZhbHVlYC5cbiAgICpcbiAgICogVXBkYXRlcyBtYXkgYmUgcGVuZGluZyBieSBhIGRlYm91bmNlZCBldmVudCBvciBiZWNhdXNlIHRoZSBpbnB1dCBpcyB3YWl0aW5nIGZvciBhIHNvbWUgZnV0dXJlXG4gICAqIGV2ZW50IGRlZmluZWQgaW4gYG5nLW1vZGVsLW9wdGlvbnNgLiBUaGlzIG1ldGhvZCBpcyB0eXBpY2FsbHkgbmVlZGVkIGJ5IHRoZSByZXNldCBidXR0b24gb2ZcbiAgICogYSBmb3JtIHRoYXQgdXNlcyBgbmctbW9kZWwtb3B0aW9uc2AgdG8gcGVuZCB1cGRhdGVzLlxuICAgKi9cbiAgJHJvbGxiYWNrVmlld1ZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICBmb3JFYWNoKHRoaXMuJCRjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgY29udHJvbC4kcm9sbGJhY2tWaWV3VmFsdWUoKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRjb21taXRWaWV3VmFsdWVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENvbW1pdCBhbGwgZm9ybSBjb250cm9scyBwZW5kaW5nIHVwZGF0ZXMgdG8gdGhlIGAkbW9kZWxWYWx1ZWAuXG4gICAqXG4gICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxuICAgKiBldmVudCBkZWZpbmVkIGluIGBuZy1tb2RlbC1vcHRpb25zYC4gVGhpcyBtZXRob2QgaXMgcmFyZWx5IG5lZWRlZCBhcyBgTmdNb2RlbENvbnRyb2xsZXJgXG4gICAqIHVzdWFsbHkgaGFuZGxlcyBjYWxsaW5nIHRoaXMgaW4gcmVzcG9uc2UgdG8gaW5wdXQgZXZlbnRzLlxuICAgKi9cbiAgJGNvbW1pdFZpZXdWYWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgZm9yRWFjaCh0aGlzLiQkY29udHJvbHMsIGZ1bmN0aW9uKGNvbnRyb2wpIHtcbiAgICAgIGNvbnRyb2wuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJGFkZENvbnRyb2xcbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRyb2wgY29udHJvbCBvYmplY3QsIGVpdGhlciBhIHtAbGluayBmb3JtLkZvcm1Db250cm9sbGVyfSBvciBhblxuICAgKiB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlcn1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVyIGEgY29udHJvbCB3aXRoIHRoZSBmb3JtLiBJbnB1dCBlbGVtZW50cyB1c2luZyBuZ01vZGVsQ29udHJvbGxlciBkbyB0aGlzIGF1dG9tYXRpY2FsbHlcbiAgICogd2hlbiB0aGV5IGFyZSBsaW5rZWQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgY29udHJvbCB3aWxsIG5vdCBiZSByZWZsZWN0ZWQgb24gdGhlIG5ldyBwYXJlbnQgZm9ybS4gVGhpc1xuICAgKiBpcyBub3QgYW4gaXNzdWUgd2l0aCBub3JtYWwgdXNlLCBhcyBmcmVzaGx5IGNvbXBpbGVkIGFuZCBsaW5rZWQgY29udHJvbHMgYXJlIGluIGEgYCRwcmlzdGluZWBcbiAgICogc3RhdGUuXG4gICAqXG4gICAqIEhvd2V2ZXIsIGlmIHRoZSBtZXRob2QgaXMgdXNlZCBwcm9ncmFtbWF0aWNhbGx5LCBmb3IgZXhhbXBsZSBieSBhZGRpbmcgZHluYW1pY2FsbHkgY3JlYXRlZCBjb250cm9scyxcbiAgICogb3IgY29udHJvbHMgdGhhdCBoYXZlIGJlZW4gcHJldmlvdXNseSByZW1vdmVkIHdpdGhvdXQgZGVzdHJveWluZyB0aGVpciBjb3JyZXNwb25kaW5nIERPTSBlbGVtZW50LFxuICAgKiBpdCdzIHRoZSBkZXZlbG9wZXJzIHJlc3BvbnNpYmlsaXR5IHRvIG1ha2Ugc3VyZSB0aGUgY3VycmVudCBzdGF0ZSBwcm9wYWdhdGVzIHRvIHRoZSBwYXJlbnQgZm9ybS5cbiAgICpcbiAgICogRm9yIGV4YW1wbGUsIGlmIGFuIGlucHV0IGNvbnRyb2wgaXMgYWRkZWQgdGhhdCBpcyBhbHJlYWR5IGAkZGlydHlgIGFuZCBoYXMgYCRlcnJvcmAgcHJvcGVydGllcyxcbiAgICogY2FsbGluZyBgJHNldERpcnR5KClgIGFuZCBgJHZhbGlkYXRlKClgIGFmdGVyd2FyZHMgd2lsbCBwcm9wYWdhdGUgdGhlIHN0YXRlIHRvIHRoZSBwYXJlbnQgZm9ybS5cbiAgICovXG4gICRhZGRDb250cm9sOiBmdW5jdGlvbihjb250cm9sKSB7XG4gICAgLy8gQnJlYWtpbmcgY2hhbmdlIC0gYmVmb3JlLCBpbnB1dHMgd2hvc2UgbmFtZSB3YXMgXCJoYXNPd25Qcm9wZXJ0eVwiIHdlcmUgcXVpZXRseSBpZ25vcmVkXG4gICAgLy8gYW5kIG5vdCBhZGRlZCB0byB0aGUgc2NvcGUuICBOb3cgd2UgdGhyb3cgYW4gZXJyb3IuXG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkoY29udHJvbC4kbmFtZSwgJ2lucHV0Jyk7XG4gICAgdGhpcy4kJGNvbnRyb2xzLnB1c2goY29udHJvbCk7XG5cbiAgICBpZiAoY29udHJvbC4kbmFtZSkge1xuICAgICAgdGhpc1tjb250cm9sLiRuYW1lXSA9IGNvbnRyb2w7XG4gICAgfVxuXG4gICAgY29udHJvbC4kJHBhcmVudEZvcm0gPSB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJGdldENvbnRyb2xzXG4gICAqIEByZXR1cm5zIHtBcnJheX0gdGhlIGNvbnRyb2xzIHRoYXQgYXJlIGN1cnJlbnRseSBwYXJ0IG9mIHRoaXMgZm9ybVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhICoqc2hhbGxvdyBjb3B5Kiogb2YgdGhlIGNvbnRyb2xzIHRoYXQgYXJlIGN1cnJlbnRseSBwYXJ0IG9mIHRoaXMgZm9ybS5cbiAgICogVGhlIGNvbnRyb2xzIGNhbiBiZSBpbnN0YW5jZXMgb2Yge0BsaW5rIGZvcm0uRm9ybUNvbnRyb2xsZXIgYEZvcm1Db250cm9sbGVyYH1cbiAgICogKHtAbGluayBuZ0Zvcm0gXCJjaGlsZC1mb3Jtc1wifSkgYW5kIG9mIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIGBOZ01vZGVsQ29udHJvbGxlcmB9LlxuICAgKiBJZiB5b3UgbmVlZCBhY2Nlc3MgdG8gdGhlIGNvbnRyb2xzIG9mIGNoaWxkLWZvcm1zLCB5b3UgaGF2ZSB0byBjYWxsIGAkZ2V0Q29udHJvbHMoKWBcbiAgICogcmVjdXJzaXZlbHkgb24gdGhlbS5cbiAgICogVGhpcyBjYW4gYmUgdXNlZCBmb3IgZXhhbXBsZSB0byBpdGVyYXRlIG92ZXIgYWxsIGNvbnRyb2xzIHRvIHZhbGlkYXRlIHRoZW0uXG4gICAqXG4gICAqIFRoZSBjb250cm9scyBjYW4gYmUgYWNjZXNzZWQgbm9ybWFsbHksIGJ1dCBhZGRpbmcgdG8sIG9yIHJlbW92aW5nIGNvbnRyb2xzIGZyb20gdGhlIGFycmF5IGhhc1xuICAgKiBubyBlZmZlY3Qgb24gdGhlIGZvcm0uIEluc3RlYWQsIHVzZSB7QGxpbmsgZm9ybS5Gb3JtQ29udHJvbGxlciMkYWRkQ29udHJvbCBgJGFkZENvbnRyb2woKWB9IGFuZFxuICAgKiB7QGxpbmsgZm9ybS5Gb3JtQ29udHJvbGxlciMkcmVtb3ZlQ29udHJvbCBgJHJlbW92ZUNvbnRyb2woKWB9IGZvciB0aGlzIHVzZS1jYXNlLlxuICAgKiBMaWtld2lzZSwgYWRkaW5nIGEgY29udHJvbCB0bywgb3IgcmVtb3ZpbmcgYSBjb250cm9sIGZyb20gdGhlIGZvcm0gaXMgbm90IHJlZmxlY3RlZFxuICAgKiBpbiB0aGUgc2hhbGxvdyBjb3B5LiBUaGF0IG1lYW5zIHlvdSBzaG91bGQgZ2V0IGEgZnJlc2ggY29weSBmcm9tIGAkZ2V0Q29udHJvbHMoKWAgZXZlcnkgdGltZVxuICAgKiB5b3UgbmVlZCBhY2Nlc3MgdG8gdGhlIGNvbnRyb2xzLlxuICAgKi9cbiAgJGdldENvbnRyb2xzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2hhbGxvd0NvcHkodGhpcy4kJGNvbnRyb2xzKTtcbiAgfSxcblxuICAvLyBQcml2YXRlIEFQSTogcmVuYW1lIGEgZm9ybSBjb250cm9sXG4gICQkcmVuYW1lQ29udHJvbDogZnVuY3Rpb24oY29udHJvbCwgbmV3TmFtZSkge1xuICAgIHZhciBvbGROYW1lID0gY29udHJvbC4kbmFtZTtcblxuICAgIGlmICh0aGlzW29sZE5hbWVdID09PSBjb250cm9sKSB7XG4gICAgICBkZWxldGUgdGhpc1tvbGROYW1lXTtcbiAgICB9XG4gICAgdGhpc1tuZXdOYW1lXSA9IGNvbnRyb2w7XG4gICAgY29udHJvbC4kbmFtZSA9IG5ld05hbWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkcmVtb3ZlQ29udHJvbFxuICAgKiBAcGFyYW0ge29iamVjdH0gY29udHJvbCBjb250cm9sIG9iamVjdCwgZWl0aGVyIGEge0BsaW5rIGZvcm0uRm9ybUNvbnRyb2xsZXJ9IG9yIGFuXG4gICAqIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyfVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRGVyZWdpc3RlciBhIGNvbnRyb2wgZnJvbSB0aGUgZm9ybS5cbiAgICpcbiAgICogSW5wdXQgZWxlbWVudHMgdXNpbmcgbmdNb2RlbENvbnRyb2xsZXIgZG8gdGhpcyBhdXRvbWF0aWNhbGx5IHdoZW4gdGhleSBhcmUgZGVzdHJveWVkLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgb25seSB0aGUgcmVtb3ZlZCBjb250cm9sJ3MgdmFsaWRhdGlvbiBzdGF0ZSAoYCRlcnJvcnNgZXRjLikgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlXG4gICAqIGZvcm0uIGAkZGlydHlgLCBgJHN1Ym1pdHRlZGAgc3RhdGVzIHdpbGwgbm90IGJlIGNoYW5nZWQsIGJlY2F1c2UgdGhlIGV4cGVjdGVkIGJlaGF2aW9yIGNhbiBiZVxuICAgKiBkaWZmZXJlbnQgZnJvbSBjYXNlIHRvIGNhc2UuIEZvciBleGFtcGxlLCByZW1vdmluZyB0aGUgb25seSBgJGRpcnR5YCBjb250cm9sIGZyb20gYSBmb3JtIG1heSBvclxuICAgKiBtYXkgbm90IG1lYW4gdGhhdCB0aGUgZm9ybSBpcyBzdGlsbCBgJGRpcnR5YC5cbiAgICovXG4gICRyZW1vdmVDb250cm9sOiBmdW5jdGlvbihjb250cm9sKSB7XG4gICAgaWYgKGNvbnRyb2wuJG5hbWUgJiYgdGhpc1tjb250cm9sLiRuYW1lXSA9PT0gY29udHJvbCkge1xuICAgICAgZGVsZXRlIHRoaXNbY29udHJvbC4kbmFtZV07XG4gICAgfVxuICAgIGZvckVhY2godGhpcy4kcGVuZGluZywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnZhbGlkLXRoaXNcbiAgICAgIHRoaXMuJHNldFZhbGlkaXR5KG5hbWUsIG51bGwsIGNvbnRyb2wpO1xuICAgIH0sIHRoaXMpO1xuICAgIGZvckVhY2godGhpcy4kZXJyb3IsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW52YWxpZC10aGlzXG4gICAgICB0aGlzLiRzZXRWYWxpZGl0eShuYW1lLCBudWxsLCBjb250cm9sKTtcbiAgICB9LCB0aGlzKTtcbiAgICBmb3JFYWNoKHRoaXMuJCRzdWNjZXNzLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWludmFsaWQtdGhpc1xuICAgICAgdGhpcy4kc2V0VmFsaWRpdHkobmFtZSwgbnVsbCwgY29udHJvbCk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICBhcnJheVJlbW92ZSh0aGlzLiQkY29udHJvbHMsIGNvbnRyb2wpO1xuICAgIGNvbnRyb2wuJCRwYXJlbnRGb3JtID0gbnVsbEZvcm1DdHJsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldERpcnR5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGEgZGlydHkgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gYWRkIHRoZSAnbmctZGlydHknIGNsYXNzIGFuZCBzZXQgdGhlIGZvcm0gdG8gYSBkaXJ0eVxuICAgKiBzdGF0ZSAobmctZGlydHkgY2xhc3MpLiBUaGlzIG1ldGhvZCB3aWxsIGFsc28gcHJvcGFnYXRlIHRvIHBhcmVudCBmb3Jtcy5cbiAgICovXG4gICRzZXREaXJ0eTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTKTtcbiAgICB0aGlzLiQkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgRElSVFlfQ0xBU1MpO1xuICAgIHRoaXMuJGRpcnR5ID0gdHJ1ZTtcbiAgICB0aGlzLiRwcmlzdGluZSA9IGZhbHNlO1xuICAgIHRoaXMuJCRwYXJlbnRGb3JtLiRzZXREaXJ0eSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldFByaXN0aW5lXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGl0cyBwcmlzdGluZSBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgc2V0cyB0aGUgZm9ybSdzIGAkcHJpc3RpbmVgIHN0YXRlIHRvIHRydWUsIHRoZSBgJGRpcnR5YCBzdGF0ZSB0byBmYWxzZSwgcmVtb3Zlc1xuICAgKiB0aGUgYG5nLWRpcnR5YCBjbGFzcyBhbmQgYWRkcyB0aGUgYG5nLXByaXN0aW5lYCBjbGFzcy4gQWRkaXRpb25hbGx5LCBpdCBzZXRzIHRoZSBgJHN1Ym1pdHRlZGBcbiAgICogc3RhdGUgdG8gZmFsc2UuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgYWxzbyBwcm9wYWdhdGUgdG8gYWxsIHRoZSBjb250cm9scyBjb250YWluZWQgaW4gdGhpcyBmb3JtLlxuICAgKlxuICAgKiBTZXR0aW5nIGEgZm9ybSBiYWNrIHRvIGEgcHJpc3RpbmUgc3RhdGUgaXMgb2Z0ZW4gdXNlZnVsIHdoZW4gd2Ugd2FudCB0byAncmV1c2UnIGEgZm9ybSBhZnRlclxuICAgKiBzYXZpbmcgb3IgcmVzZXR0aW5nIGl0LlxuICAgKi9cbiAgJHNldFByaXN0aW5lOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiQkYW5pbWF0ZS5zZXRDbGFzcyh0aGlzLiQkZWxlbWVudCwgUFJJU1RJTkVfQ0xBU1MsIERJUlRZX0NMQVNTICsgJyAnICsgU1VCTUlUVEVEX0NMQVNTKTtcbiAgICB0aGlzLiRkaXJ0eSA9IGZhbHNlO1xuICAgIHRoaXMuJHByaXN0aW5lID0gdHJ1ZTtcbiAgICB0aGlzLiRzdWJtaXR0ZWQgPSBmYWxzZTtcbiAgICBmb3JFYWNoKHRoaXMuJCRjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgY29udHJvbC4kc2V0UHJpc3RpbmUoKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRVbnRvdWNoZWRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGZvcm0gdG8gaXRzIHVudG91Y2hlZCBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlICduZy10b3VjaGVkJyBjbGFzcyBhbmQgc2V0IHRoZSBmb3JtIGNvbnRyb2xzIHRvIHRoZWlyXG4gICAqIHVudG91Y2hlZCBzdGF0ZSAobmctdW50b3VjaGVkIGNsYXNzKS5cbiAgICpcbiAgICogU2V0dGluZyBhIGZvcm0gY29udHJvbHMgYmFjayB0byB0aGVpciB1bnRvdWNoZWQgc3RhdGUgaXMgb2Z0ZW4gdXNlZnVsIHdoZW4gc2V0dGluZyB0aGUgZm9ybVxuICAgKiBiYWNrIHRvIGl0cyBwcmlzdGluZSBzdGF0ZS5cbiAgICovXG4gICRzZXRVbnRvdWNoZWQ6IGZ1bmN0aW9uKCkge1xuICAgIGZvckVhY2godGhpcy4kJGNvbnRyb2xzLCBmdW5jdGlvbihjb250cm9sKSB7XG4gICAgICBjb250cm9sLiRzZXRVbnRvdWNoZWQoKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRTdWJtaXR0ZWRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGZvcm0gdG8gaXRzIGAkc3VibWl0dGVkYCBzdGF0ZS4gVGhpcyB3aWxsIGFsc28gc2V0IGAkc3VibWl0dGVkYCBvbiBhbGwgY2hpbGQgYW5kXG4gICAqIHBhcmVudCBmb3JtcyBvZiB0aGUgZm9ybS5cbiAgICovXG4gICRzZXRTdWJtaXR0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciByb290Rm9ybSA9IHRoaXM7XG4gICAgd2hpbGUgKHJvb3RGb3JtLiQkcGFyZW50Rm9ybSAmJiAocm9vdEZvcm0uJCRwYXJlbnRGb3JtICE9PSBudWxsRm9ybUN0cmwpKSB7XG4gICAgICByb290Rm9ybSA9IHJvb3RGb3JtLiQkcGFyZW50Rm9ybTtcbiAgICB9XG4gICAgcm9vdEZvcm0uJCRzZXRTdWJtaXR0ZWQoKTtcbiAgfSxcblxuICAkJHNldFN1Ym1pdHRlZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsIFNVQk1JVFRFRF9DTEFTUyk7XG4gICAgdGhpcy4kc3VibWl0dGVkID0gdHJ1ZTtcbiAgICBmb3JFYWNoKHRoaXMuJCRjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgaWYgKGNvbnRyb2wuJCRzZXRTdWJtaXR0ZWQpIHtcbiAgICAgICAgY29udHJvbC4kJHNldFN1Ym1pdHRlZCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldFZhbGlkaXR5XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDaGFuZ2UgdGhlIHZhbGlkaXR5IHN0YXRlIG9mIHRoZSBmb3JtLCBhbmQgbm90aWZ5IHRoZSBwYXJlbnQgZm9ybSAoaWYgYW55KS5cbiAqXG4gKiBBcHBsaWNhdGlvbiBkZXZlbG9wZXJzIHdpbGwgcmFyZWx5IG5lZWQgdG8gY2FsbCB0aGlzIG1ldGhvZCBkaXJlY3RseS4gSXQgaXMgdXNlZCBpbnRlcm5hbGx5LCBieVxuICoge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFZhbGlkaXR5IE5nTW9kZWxDb250cm9sbGVyLiRzZXRWYWxpZGl0eSgpfSwgdG8gcHJvcGFnYXRlIGFcbiAqIGNvbnRyb2wncyB2YWxpZGl0eSBzdGF0ZSB0byB0aGUgcGFyZW50IGBGb3JtQ29udHJvbGxlcmAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbGlkYXRpb25FcnJvcktleSBOYW1lIG9mIHRoZSB2YWxpZGF0b3IuIFRoZSBgdmFsaWRhdGlvbkVycm9yS2V5YCB3aWxsIGJlXG4gKiAgICAgICAgYXNzaWduZWQgdG8gZWl0aGVyIGAkZXJyb3JbdmFsaWRhdGlvbkVycm9yS2V5XWAgb3IgYCRwZW5kaW5nW3ZhbGlkYXRpb25FcnJvcktleV1gIChmb3JcbiAqICAgICAgICB1bmZ1bGZpbGxlZCBgJGFzeW5jVmFsaWRhdG9yc2ApLCBzbyB0aGF0IGl0IGlzIGF2YWlsYWJsZSBmb3IgZGF0YS1iaW5kaW5nLiBUaGVcbiAqICAgICAgICBgdmFsaWRhdGlvbkVycm9yS2V5YCBzaG91bGQgYmUgaW4gY2FtZWxDYXNlIGFuZCB3aWxsIGdldCBjb252ZXJ0ZWQgaW50byBkYXNoLWNhc2UgZm9yXG4gKiAgICAgICAgY2xhc3MgbmFtZS4gRXhhbXBsZTogYG15RXJyb3JgIHdpbGwgcmVzdWx0IGluIGBuZy12YWxpZC1teS1lcnJvcmAgYW5kXG4gKiAgICAgICAgYG5nLWludmFsaWQtbXktZXJyb3JgIGNsYXNzZXMgYW5kIGNhbiBiZSBib3VuZCB0byBhcyBge3sgc29tZUZvcm0uJGVycm9yLm15RXJyb3IgfX1gLlxuICogQHBhcmFtIHtib29sZWFufSBpc1ZhbGlkIFdoZXRoZXIgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdmFsaWQgKHRydWUpLCBpbnZhbGlkIChmYWxzZSksIHBlbmRpbmdcbiAqICAgICAgICAodW5kZWZpbmVkKSwgIG9yIHNraXBwZWQgKG51bGwpLiBQZW5kaW5nIGlzIHVzZWQgZm9yIHVuZnVsZmlsbGVkIGAkYXN5bmNWYWxpZGF0b3JzYC5cbiAqICAgICAgICBTa2lwcGVkIGlzIHVzZWQgYnkgQW5ndWxhckpTIHdoZW4gdmFsaWRhdG9ycyBkbyBub3QgcnVuIGJlY2F1c2Ugb2YgcGFyc2UgZXJyb3JzIGFuZCB3aGVuXG4gKiAgICAgICAgYCRhc3luY1ZhbGlkYXRvcnNgIGRvIG5vdCBydW4gYmVjYXVzZSBhbnkgb2YgdGhlIGAkdmFsaWRhdG9yc2AgZmFpbGVkLlxuICogQHBhcmFtIHtOZ01vZGVsQ29udHJvbGxlciB8IEZvcm1Db250cm9sbGVyfSBjb250cm9sbGVyIC0gVGhlIGNvbnRyb2xsZXIgd2hvc2UgdmFsaWRpdHkgc3RhdGUgaXNcbiAqICAgICAgICB0cmlnZ2VyaW5nIHRoZSBjaGFuZ2UuXG4gKi9cbmFkZFNldFZhbGlkaXR5TWV0aG9kKHtcbiAgY2xheno6IEZvcm1Db250cm9sbGVyLFxuICBzZXQ6IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHksIGNvbnRyb2xsZXIpIHtcbiAgICB2YXIgbGlzdCA9IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgaWYgKCFsaXN0KSB7XG4gICAgICBvYmplY3RbcHJvcGVydHldID0gW2NvbnRyb2xsZXJdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaW5kZXggPSBsaXN0LmluZGV4T2YoY29udHJvbGxlcik7XG4gICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIGxpc3QucHVzaChjb250cm9sbGVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHVuc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5LCBjb250cm9sbGVyKSB7XG4gICAgdmFyIGxpc3QgPSBvYmplY3RbcHJvcGVydHldO1xuICAgIGlmICghbGlzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhcnJheVJlbW92ZShsaXN0LCBjb250cm9sbGVyKTtcbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgIGRlbGV0ZSBvYmplY3RbcHJvcGVydHldO1xuICAgIH1cbiAgfVxufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdGb3JtXG4gKiBAcmVzdHJpY3QgRUFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIZWxwZXIgZGlyZWN0aXZlIHRoYXQgbWFrZXMgaXQgcG9zc2libGUgdG8gY3JlYXRlIGNvbnRyb2wgZ3JvdXBzIGluc2lkZSBhXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOmZvcm0gYGZvcm1gfSBkaXJlY3RpdmUuXG4gKiBUaGVzZSBcImNoaWxkIGZvcm1zXCIgY2FuIGJlIHVzZWQsIGZvciBleGFtcGxlLCB0byBkZXRlcm1pbmUgdGhlIHZhbGlkaXR5IG9mIGEgc3ViLWdyb3VwIG9mXG4gKiBjb250cm9scy5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XG4gKiAqKk5vdGUqKjogYG5nRm9ybWAgY2Fubm90IGJlIHVzZWQgYXMgYSByZXBsYWNlbWVudCBmb3IgYDxmb3JtPmAsIGJlY2F1c2UgaXQgbGFja3MgaXRzXG4gKiBbYnVpbHQtaW4gSFRNTCBmdW5jdGlvbmFsaXR5XShodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyN0aGUtZm9ybS1lbGVtZW50KS5cbiAqIFNwZWNpZmljYWxseSwgeW91IGNhbm5vdCBzdWJtaXQgYG5nRm9ybWAgbGlrZSBhIGA8Zm9ybT5gIHRhZy4gVGhhdCBtZWFucyxcbiAqIHlvdSBjYW5ub3Qgc2VuZCBkYXRhIHRvIHRoZSBzZXJ2ZXIgd2l0aCBgbmdGb3JtYCwgb3IgaW50ZWdyYXRlIGl0IHdpdGhcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdTdWJtaXQgYG5nU3VibWl0YH0uXG4gKiA8L2Rpdj5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nRm9ybXxuYW1lIE5hbWUgb2YgdGhlIGZvcm0uIElmIHNwZWNpZmllZCwgdGhlIGZvcm0gY29udHJvbGxlciB3aWxsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlIHB1Ymxpc2hlZCBpbnRvIHRoZSByZWxhdGVkIHNjb3BlLCB1bmRlciB0aGlzIG5hbWUuXG4gKlxuICovXG5cbiAvKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIGZvcm1cbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEaXJlY3RpdmUgdGhhdCBpbnN0YW50aWF0ZXNcbiAqIHtAbGluayBmb3JtLkZvcm1Db250cm9sbGVyIEZvcm1Db250cm9sbGVyfS5cbiAqXG4gKiBJZiB0aGUgYG5hbWVgIGF0dHJpYnV0ZSBpcyBzcGVjaWZpZWQsIHRoZSBmb3JtIGNvbnRyb2xsZXIgaXMgcHVibGlzaGVkIG9udG8gdGhlIGN1cnJlbnQgc2NvcGUgdW5kZXJcbiAqIHRoaXMgbmFtZS5cbiAqXG4gKiAjIyBBbGlhczoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Zvcm0gYG5nRm9ybWB9XG4gKlxuICogSW4gQW5ndWxhckpTLCBmb3JtcyBjYW4gYmUgbmVzdGVkLiBUaGlzIG1lYW5zIHRoYXQgdGhlIG91dGVyIGZvcm0gaXMgdmFsaWQgd2hlbiBhbGwgb2YgdGhlIGNoaWxkXG4gKiBmb3JtcyBhcmUgdmFsaWQgYXMgd2VsbC4gSG93ZXZlciwgYnJvd3NlcnMgZG8gbm90IGFsbG93IG5lc3Rpbmcgb2YgYDxmb3JtPmAgZWxlbWVudHMsIHNvXG4gKiBBbmd1bGFySlMgcHJvdmlkZXMgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdGb3JtIGBuZ0Zvcm1gfSBkaXJlY3RpdmUsIHdoaWNoIGJlaGF2ZXMgaWRlbnRpY2FsbHkgdG9cbiAqIGBmb3JtYCBidXQgY2FuIGJlIG5lc3RlZC4gTmVzdGVkIGZvcm1zIGNhbiBiZSB1c2VmdWwsIGZvciBleGFtcGxlLCBpZiB0aGUgdmFsaWRpdHkgb2YgYSBzdWItZ3JvdXBcbiAqIG9mIGNvbnRyb2xzIG5lZWRzIHRvIGJlIGRldGVybWluZWQuXG4gKlxuICogIyMgQ1NTIGNsYXNzZXNcbiAqICAtIGBuZy12YWxpZGAgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIHZhbGlkLlxuICogIC0gYG5nLWludmFsaWRgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBpbnZhbGlkLlxuICogIC0gYG5nLXBlbmRpbmdgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBwZW5kaW5nLlxuICogIC0gYG5nLXByaXN0aW5lYCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgcHJpc3RpbmUuXG4gKiAgLSBgbmctZGlydHlgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBkaXJ0eS5cbiAqICAtIGBuZy1zdWJtaXR0ZWRgIGlzIHNldCBpZiB0aGUgZm9ybSB3YXMgc3VibWl0dGVkLlxuICpcbiAqIEtlZXAgaW4gbWluZCB0aGF0IG5nQW5pbWF0ZSBjYW4gZGV0ZWN0IGVhY2ggb2YgdGhlc2UgY2xhc3NlcyB3aGVuIGFkZGVkIGFuZCByZW1vdmVkLlxuICpcbiAqXG4gKiAjIyBTdWJtaXR0aW5nIGEgZm9ybSBhbmQgcHJldmVudGluZyB0aGUgZGVmYXVsdCBhY3Rpb25cbiAqXG4gKiBTaW5jZSB0aGUgcm9sZSBvZiBmb3JtcyBpbiBjbGllbnQtc2lkZSBBbmd1bGFySlMgYXBwbGljYXRpb25zIGlzIGRpZmZlcmVudCB0aGFuIGluIGNsYXNzaWNhbFxuICogcm91bmR0cmlwIGFwcHMsIGl0IGlzIGRlc2lyYWJsZSBmb3IgdGhlIGJyb3dzZXIgbm90IHRvIHRyYW5zbGF0ZSB0aGUgZm9ybSBzdWJtaXNzaW9uIGludG8gYSBmdWxsXG4gKiBwYWdlIHJlbG9hZCB0aGF0IHNlbmRzIHRoZSBkYXRhIHRvIHRoZSBzZXJ2ZXIuIEluc3RlYWQgc29tZSBqYXZhc2NyaXB0IGxvZ2ljIHNob3VsZCBiZSB0cmlnZ2VyZWRcbiAqIHRvIGhhbmRsZSB0aGUgZm9ybSBzdWJtaXNzaW9uIGluIGFuIGFwcGxpY2F0aW9uLXNwZWNpZmljIHdheS5cbiAqXG4gKiBGb3IgdGhpcyByZWFzb24sIEFuZ3VsYXJKUyBwcmV2ZW50cyB0aGUgZGVmYXVsdCBhY3Rpb24gKGZvcm0gc3VibWlzc2lvbiB0byB0aGUgc2VydmVyKSB1bmxlc3MgdGhlXG4gKiBgPGZvcm0+YCBlbGVtZW50IGhhcyBhbiBgYWN0aW9uYCBhdHRyaWJ1dGUgc3BlY2lmaWVkLlxuICpcbiAqIFlvdSBjYW4gdXNlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHR3byB3YXlzIHRvIHNwZWNpZnkgd2hhdCBqYXZhc2NyaXB0IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIHdoZW5cbiAqIGEgZm9ybSBpcyBzdWJtaXR0ZWQ6XG4gKlxuICogLSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nU3VibWl0IG5nU3VibWl0fSBkaXJlY3RpdmUgb24gdGhlIGZvcm0gZWxlbWVudFxuICogLSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja30gZGlyZWN0aXZlIG9uIHRoZSBmaXJzdFxuICAqICBidXR0b24gb3IgaW5wdXQgZmllbGQgb2YgdHlwZSBzdWJtaXQgKGlucHV0W3R5cGU9c3VibWl0XSlcbiAqXG4gKiBUbyBwcmV2ZW50IGRvdWJsZSBleGVjdXRpb24gb2YgdGhlIGhhbmRsZXIsIHVzZSBvbmx5IG9uZSBvZiB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1N1Ym1pdCBuZ1N1Ym1pdH1cbiAqIG9yIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGljayBuZ0NsaWNrfSBkaXJlY3RpdmVzLlxuICogVGhpcyBpcyBiZWNhdXNlIG9mIHRoZSBmb2xsb3dpbmcgZm9ybSBzdWJtaXNzaW9uIHJ1bGVzIGluIHRoZSBIVE1MIHNwZWNpZmljYXRpb246XG4gKlxuICogLSBJZiBhIGZvcm0gaGFzIG9ubHkgb25lIGlucHV0IGZpZWxkIHRoZW4gaGl0dGluZyBlbnRlciBpbiB0aGlzIGZpZWxkIHRyaWdnZXJzIGZvcm0gc3VibWl0XG4gKiAoYG5nU3VibWl0YClcbiAqIC0gaWYgYSBmb3JtIGhhcyAyKyBpbnB1dCBmaWVsZHMgYW5kIG5vIGJ1dHRvbnMgb3IgaW5wdXRbdHlwZT1zdWJtaXRdIHRoZW4gaGl0dGluZyBlbnRlclxuICogZG9lc24ndCB0cmlnZ2VyIHN1Ym1pdFxuICogLSBpZiBhIGZvcm0gaGFzIG9uZSBvciBtb3JlIGlucHV0IGZpZWxkcyBhbmQgb25lIG9yIG1vcmUgYnV0dG9ucyBvciBpbnB1dFt0eXBlPXN1Ym1pdF0gdGhlblxuICogaGl0dGluZyBlbnRlciBpbiBhbnkgb2YgdGhlIGlucHV0IGZpZWxkcyB3aWxsIHRyaWdnZXIgdGhlIGNsaWNrIGhhbmRsZXIgb24gdGhlICpmaXJzdCogYnV0dG9uIG9yXG4gKiBpbnB1dFt0eXBlPXN1Ym1pdF0gKGBuZ0NsaWNrYCkgKmFuZCogYSBzdWJtaXQgaGFuZGxlciBvbiB0aGUgZW5jbG9zaW5nIGZvcm0gKGBuZ1N1Ym1pdGApXG4gKlxuICogQW55IHBlbmRpbmcgYG5nTW9kZWxPcHRpb25zYCBjaGFuZ2VzIHdpbGwgdGFrZSBwbGFjZSBpbW1lZGlhdGVseSB3aGVuIGFuIGVuY2xvc2luZyBmb3JtIGlzXG4gKiBzdWJtaXR0ZWQuIE5vdGUgdGhhdCBgbmdDbGlja2AgZXZlbnRzIHdpbGwgb2NjdXIgYmVmb3JlIHRoZSBtb2RlbCBpcyB1cGRhdGVkLiBVc2UgYG5nU3VibWl0YFxuICogdG8gaGF2ZSBhY2Nlc3MgdG8gdGhlIHVwZGF0ZWQgbW9kZWwuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqIEFuaW1hdGlvbnMgaW4gbmdGb3JtIGFyZSB0cmlnZ2VyZWQgd2hlbiBhbnkgb2YgdGhlIGFzc29jaWF0ZWQgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkLlxuICogVGhlc2UgY2xhc3NlcyBhcmU6IGAubmctcHJpc3RpbmVgLCBgLm5nLWRpcnR5YCwgYC5uZy1pbnZhbGlkYCBhbmQgYC5uZy12YWxpZGAgYXMgd2VsbCBhcyBhbnlcbiAqIG90aGVyIHZhbGlkYXRpb25zIHRoYXQgYXJlIHBlcmZvcm1lZCB3aXRoaW4gdGhlIGZvcm0uIEFuaW1hdGlvbnMgaW4gbmdGb3JtIGFyZSBzaW1pbGFyIHRvIGhvd1xuICogdGhleSB3b3JrIGluIG5nQ2xhc3MgYW5kIGFuaW1hdGlvbnMgY2FuIGJlIGhvb2tlZCBpbnRvIHVzaW5nIENTUyB0cmFuc2l0aW9ucywga2V5ZnJhbWVzIGFzIHdlbGxcbiAqIGFzIEpTIGFuaW1hdGlvbnMuXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGEgc2ltcGxlIHdheSB0byB1dGlsaXplIENTUyB0cmFuc2l0aW9ucyB0byBzdHlsZSBhIGZvcm0gZWxlbWVudFxuICogdGhhdCBoYXMgYmVlbiByZW5kZXJlZCBhcyBpbnZhbGlkIGFmdGVyIGl0IGhhcyBiZWVuIHZhbGlkYXRlZDpcbiAqXG4gKiA8cHJlPlxuICogLy9iZSBzdXJlIHRvIGluY2x1ZGUgbmdBbmltYXRlIGFzIGEgbW9kdWxlIHRvIGhvb2sgaW50byBtb3JlXG4gKiAvL2FkdmFuY2VkIGFuaW1hdGlvbnNcbiAqIC5teS1mb3JtIHtcbiAqICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XG4gKiAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICogfVxuICogLm15LWZvcm0ubmctaW52YWxpZCB7XG4gKiAgIGJhY2tncm91bmQ6IHJlZDtcbiAqICAgY29sb3I6d2hpdGU7XG4gKiB9XG4gKiA8L3ByZT5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG5hbWU9XCJuZy1mb3JtXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgZml4QmFzZT1cInRydWVcIiBtb2R1bGU9XCJmb3JtRXhhbXBsZVwiPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2Zvcm1FeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdGb3JtQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLnVzZXJUeXBlID0gJ2d1ZXN0JztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxzdHlsZT5cbiAgICAgICAgLm15LWZvcm0ge1xuICAgICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xuICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIC5teS1mb3JtLm5nLWludmFsaWQge1xuICAgICAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICAgICAgfVxuICAgICAgIDwvc3R5bGU+XG4gICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJGb3JtQ29udHJvbGxlclwiIGNsYXNzPVwibXktZm9ybVwiPlxuICAgICAgICAgdXNlclR5cGU6IDxpbnB1dCBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cInVzZXJUeXBlXCIgcmVxdWlyZWQ+XG4gICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5SZXF1aXJlZCE8L3NwYW4+PGJyPlxuICAgICAgICAgPGNvZGU+dXNlclR5cGUgPSB7e3VzZXJUeXBlfX08L2NvZGU+PGJyPlxuICAgICAgICAgPGNvZGU+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC9jb2RlPjxicj5cbiAgICAgICAgIDxjb2RlPm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvY29kZT48YnI+XG4gICAgICAgICA8Y29kZT5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L2NvZGU+PGJyPlxuICAgICAgICAgPGNvZGU+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L2NvZGU+PGJyPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciB1c2VyVHlwZSA9IGVsZW1lbnQoYnkuYmluZGluZygndXNlclR5cGUnKSk7XG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuXG4gICAgICAgICAgZXhwZWN0KHVzZXJUeXBlLmdldFRleHQoKSkudG9Db250YWluKCdndWVzdCcpO1xuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgdXNlclR5cGUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VzZXJUeXBlJykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgdXNlcklucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlclR5cGUnKSk7XG5cbiAgICAgICAgICB1c2VySW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICB1c2VySW5wdXQuc2VuZEtleXMoJycpO1xuXG4gICAgICAgICAgZXhwZWN0KHVzZXJUeXBlLmdldFRleHQoKSkudG9FcXVhbCgndXNlclR5cGUgPScpO1xuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBOYW1lIG9mIHRoZSBmb3JtLiBJZiBzcGVjaWZpZWQsIHRoZSBmb3JtIGNvbnRyb2xsZXIgd2lsbCBiZSBwdWJsaXNoZWQgaW50b1xuICogICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWQgc2NvcGUsIHVuZGVyIHRoaXMgbmFtZS5cbiAqL1xudmFyIGZvcm1EaXJlY3RpdmVGYWN0b3J5ID0gZnVuY3Rpb24oaXNOZ0Zvcm0pIHtcbiAgcmV0dXJuIFsnJHRpbWVvdXQnLCAnJHBhcnNlJywgZnVuY3Rpb24oJHRpbWVvdXQsICRwYXJzZSkge1xuICAgIHZhciBmb3JtRGlyZWN0aXZlID0ge1xuICAgICAgbmFtZTogJ2Zvcm0nLFxuICAgICAgcmVzdHJpY3Q6IGlzTmdGb3JtID8gJ0VBQycgOiAnRScsXG4gICAgICByZXF1aXJlOiBbJ2Zvcm0nLCAnXl4/Zm9ybSddLCAvL2ZpcnN0IGlzIHRoZSBmb3JtJ3Mgb3duIGN0cmwsIHNlY29uZCBpcyBhbiBvcHRpb25hbCBwYXJlbnQgZm9ybVxuICAgICAgY29udHJvbGxlcjogRm9ybUNvbnRyb2xsZXIsXG4gICAgICBjb21waWxlOiBmdW5jdGlvbiBuZ0Zvcm1Db21waWxlKGZvcm1FbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIC8vIFNldHVwIGluaXRpYWwgc3RhdGUgb2YgdGhlIGNvbnRyb2xcbiAgICAgICAgZm9ybUVsZW1lbnQuYWRkQ2xhc3MoUFJJU1RJTkVfQ0xBU1MpLmFkZENsYXNzKFZBTElEX0NMQVNTKTtcblxuICAgICAgICB2YXIgbmFtZUF0dHIgPSBhdHRyLm5hbWUgPyAnbmFtZScgOiAoaXNOZ0Zvcm0gJiYgYXR0ci5uZ0Zvcm0gPyAnbmdGb3JtJyA6IGZhbHNlKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHByZTogZnVuY3Rpb24gbmdGb3JtUHJlTGluayhzY29wZSwgZm9ybUVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICAgICAgICB2YXIgY29udHJvbGxlciA9IGN0cmxzWzBdO1xuXG4gICAgICAgICAgICAvLyBpZiBgYWN0aW9uYCBhdHRyIGlzIG5vdCBwcmVzZW50IG9uIHRoZSBmb3JtLCBwcmV2ZW50IHRoZSBkZWZhdWx0IGFjdGlvbiAoc3VibWlzc2lvbilcbiAgICAgICAgICAgIGlmICghKCdhY3Rpb24nIGluIGF0dHIpKSB7XG4gICAgICAgICAgICAgIC8vIHdlIGNhbid0IHVzZSBqcSBldmVudHMgYmVjYXVzZSBpZiBhIGZvcm0gaXMgZGVzdHJveWVkIGR1cmluZyBzdWJtaXNzaW9uIHRoZSBkZWZhdWx0XG4gICAgICAgICAgICAgIC8vIGFjdGlvbiBpcyBub3QgcHJldmVudGVkLiBzZWUgIzEyMzhcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgLy8gSUUgOSBpcyBub3QgYWZmZWN0ZWQgYmVjYXVzZSBpdCBkb2Vzbid0IGZpcmUgYSBzdWJtaXQgZXZlbnQgYW5kIHRyeSB0byBkbyBhIGZ1bGxcbiAgICAgICAgICAgICAgLy8gcGFnZSByZWxvYWQgaWYgdGhlIGZvcm0gd2FzIGRlc3Ryb3llZCBieSBzdWJtaXNzaW9uIG9mIHRoZSBmb3JtIHZpYSBhIGNsaWNrIGhhbmRsZXJcbiAgICAgICAgICAgICAgLy8gb24gYSBidXR0b24gaW4gdGhlIGZvcm0uIExvb2tzIGxpa2UgYW4gSUU5IHNwZWNpZmljIGJ1Zy5cbiAgICAgICAgICAgICAgdmFyIGhhbmRsZUZvcm1TdWJtaXNzaW9uID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuJHNldFN1Ym1pdHRlZCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBmb3JtRWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBoYW5kbGVGb3JtU3VibWlzc2lvbik7XG5cbiAgICAgICAgICAgICAgLy8gdW5yZWdpc3RlciB0aGUgcHJldmVudERlZmF1bHQgbGlzdGVuZXIgc28gdGhhdCB3ZSBkb24ndCBub3QgbGVhayBtZW1vcnkgYnV0IGluIGFcbiAgICAgICAgICAgICAgLy8gd2F5IHRoYXQgd2lsbCBhY2hpZXZlIHRoZSBwcmV2ZW50aW9uIG9mIHRoZSBkZWZhdWx0IGFjdGlvbi5cbiAgICAgICAgICAgICAgZm9ybUVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBmb3JtRWxlbWVudFswXS5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBoYW5kbGVGb3JtU3VibWlzc2lvbik7XG4gICAgICAgICAgICAgICAgfSwgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBhcmVudEZvcm1DdHJsID0gY3RybHNbMV0gfHwgY29udHJvbGxlci4kJHBhcmVudEZvcm07XG4gICAgICAgICAgICBwYXJlbnRGb3JtQ3RybC4kYWRkQ29udHJvbChjb250cm9sbGVyKTtcblxuICAgICAgICAgICAgdmFyIHNldHRlciA9IG5hbWVBdHRyID8gZ2V0U2V0dGVyKGNvbnRyb2xsZXIuJG5hbWUpIDogbm9vcDtcblxuICAgICAgICAgICAgaWYgKG5hbWVBdHRyKSB7XG4gICAgICAgICAgICAgIHNldHRlcihzY29wZSwgY29udHJvbGxlcik7XG4gICAgICAgICAgICAgIGF0dHIuJG9ic2VydmUobmFtZUF0dHIsIGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXIuJG5hbWUgPT09IG5ld1ZhbHVlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc2V0dGVyKHNjb3BlLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuJCRwYXJlbnRGb3JtLiQkcmVuYW1lQ29udHJvbChjb250cm9sbGVyLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgc2V0dGVyID0gZ2V0U2V0dGVyKGNvbnRyb2xsZXIuJG5hbWUpO1xuICAgICAgICAgICAgICAgIHNldHRlcihzY29wZSwgY29udHJvbGxlcik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9ybUVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuJCRwYXJlbnRGb3JtLiRyZW1vdmVDb250cm9sKGNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgIGV4dGVuZChjb250cm9sbGVyLCBudWxsRm9ybUN0cmwpOyAvL3N0b3AgcHJvcGFnYXRpbmcgY2hpbGQgZGVzdHJ1Y3Rpb24gaGFuZGxlcnMgdXB3YXJkc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZm9ybURpcmVjdGl2ZTtcblxuICAgIGZ1bmN0aW9uIGdldFNldHRlcihleHByZXNzaW9uKSB7XG4gICAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHtcbiAgICAgICAgLy9jcmVhdGUgYW4gYXNzaWduYWJsZSBleHByZXNzaW9uLCBzbyBmb3JtcyB3aXRoIGFuIGVtcHR5IG5hbWUgY2FuIGJlIHJlbmFtZWQgbGF0ZXJcbiAgICAgICAgcmV0dXJuICRwYXJzZSgndGhpc1tcIlwiXScpLmFzc2lnbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkcGFyc2UoZXhwcmVzc2lvbikuYXNzaWduIHx8IG5vb3A7XG4gICAgfVxuICB9XTtcbn07XG5cbnZhciBmb3JtRGlyZWN0aXZlID0gZm9ybURpcmVjdGl2ZUZhY3RvcnkoKTtcbnZhciBuZ0Zvcm1EaXJlY3RpdmUgPSBmb3JtRGlyZWN0aXZlRmFjdG9yeSh0cnVlKTtcblxuXG5cbi8vIGhlbHBlciBtZXRob2RzXG5mdW5jdGlvbiBzZXR1cFZhbGlkaXR5KGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLiQkY2xhc3NDYWNoZSA9IHt9O1xuICBpbnN0YW5jZS4kJGNsYXNzQ2FjaGVbSU5WQUxJRF9DTEFTU10gPSAhKGluc3RhbmNlLiQkY2xhc3NDYWNoZVtWQUxJRF9DTEFTU10gPSBpbnN0YW5jZS4kJGVsZW1lbnQuaGFzQ2xhc3MoVkFMSURfQ0xBU1MpKTtcbn1cbmZ1bmN0aW9uIGFkZFNldFZhbGlkaXR5TWV0aG9kKGNvbnRleHQpIHtcbiAgdmFyIGNsYXp6ID0gY29udGV4dC5jbGF6eixcbiAgICAgIHNldCA9IGNvbnRleHQuc2V0LFxuICAgICAgdW5zZXQgPSBjb250ZXh0LnVuc2V0O1xuXG4gIGNsYXp6LnByb3RvdHlwZS4kc2V0VmFsaWRpdHkgPSBmdW5jdGlvbih2YWxpZGF0aW9uRXJyb3JLZXksIHN0YXRlLCBjb250cm9sbGVyKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHN0YXRlKSkge1xuICAgICAgY3JlYXRlQW5kU2V0KHRoaXMsICckcGVuZGluZycsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVuc2V0QW5kQ2xlYW51cCh0aGlzLCAnJHBlbmRpbmcnLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICBpZiAoIWlzQm9vbGVhbihzdGF0ZSkpIHtcbiAgICAgIHVuc2V0KHRoaXMuJGVycm9yLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgICAgdW5zZXQodGhpcy4kJHN1Y2Nlc3MsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICB1bnNldCh0aGlzLiRlcnJvciwgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICAgICAgc2V0KHRoaXMuJCRzdWNjZXNzLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0KHRoaXMuJGVycm9yLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgICAgICB1bnNldCh0aGlzLiQkc3VjY2VzcywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuJHBlbmRpbmcpIHtcbiAgICAgIGNhY2hlZFRvZ2dsZUNsYXNzKHRoaXMsIFBFTkRJTkdfQ0xBU1MsIHRydWUpO1xuICAgICAgdGhpcy4kdmFsaWQgPSB0aGlzLiRpbnZhbGlkID0gdW5kZWZpbmVkO1xuICAgICAgdG9nZ2xlVmFsaWRhdGlvbkNzcyh0aGlzLCAnJywgbnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhY2hlZFRvZ2dsZUNsYXNzKHRoaXMsIFBFTkRJTkdfQ0xBU1MsIGZhbHNlKTtcbiAgICAgIHRoaXMuJHZhbGlkID0gaXNPYmplY3RFbXB0eSh0aGlzLiRlcnJvcik7XG4gICAgICB0aGlzLiRpbnZhbGlkID0gIXRoaXMuJHZhbGlkO1xuICAgICAgdG9nZ2xlVmFsaWRhdGlvbkNzcyh0aGlzLCAnJywgdGhpcy4kdmFsaWQpO1xuICAgIH1cblxuICAgIC8vIHJlLXJlYWQgdGhlIHN0YXRlIGFzIHRoZSBzZXQvdW5zZXQgbWV0aG9kcyBjb3VsZCBoYXZlXG4gICAgLy8gY29tYmluZWQgc3RhdGUgaW4gdGhpcy4kZXJyb3JbdmFsaWRhdGlvbkVycm9yXSAodXNlZCBmb3IgZm9ybXMpLFxuICAgIC8vIHdoZXJlIHNldHRpbmcvdW5zZXR0aW5nIG9ubHkgaW5jcmVtZW50cy9kZWNyZW1lbnRzIHRoZSB2YWx1ZSxcbiAgICAvLyBhbmQgZG9lcyBub3QgcmVwbGFjZSBpdC5cbiAgICB2YXIgY29tYmluZWRTdGF0ZTtcbiAgICBpZiAodGhpcy4kcGVuZGluZyAmJiB0aGlzLiRwZW5kaW5nW3ZhbGlkYXRpb25FcnJvcktleV0pIHtcbiAgICAgIGNvbWJpbmVkU3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmICh0aGlzLiRlcnJvclt2YWxpZGF0aW9uRXJyb3JLZXldKSB7XG4gICAgICBjb21iaW5lZFN0YXRlID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmICh0aGlzLiQkc3VjY2Vzc1t2YWxpZGF0aW9uRXJyb3JLZXldKSB7XG4gICAgICBjb21iaW5lZFN0YXRlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tYmluZWRTdGF0ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgdG9nZ2xlVmFsaWRhdGlvbkNzcyh0aGlzLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbWJpbmVkU3RhdGUpO1xuICAgIHRoaXMuJCRwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eSh2YWxpZGF0aW9uRXJyb3JLZXksIGNvbWJpbmVkU3RhdGUsIHRoaXMpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFuZFNldChjdHJsLCBuYW1lLCB2YWx1ZSwgY29udHJvbGxlcikge1xuICAgIGlmICghY3RybFtuYW1lXSkge1xuICAgICAgY3RybFtuYW1lXSA9IHt9O1xuICAgIH1cbiAgICBzZXQoY3RybFtuYW1lXSwgdmFsdWUsIGNvbnRyb2xsZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gdW5zZXRBbmRDbGVhbnVwKGN0cmwsIG5hbWUsIHZhbHVlLCBjb250cm9sbGVyKSB7XG4gICAgaWYgKGN0cmxbbmFtZV0pIHtcbiAgICAgIHVuc2V0KGN0cmxbbmFtZV0sIHZhbHVlLCBjb250cm9sbGVyKTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0RW1wdHkoY3RybFtuYW1lXSkpIHtcbiAgICAgIGN0cmxbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2FjaGVkVG9nZ2xlQ2xhc3MoY3RybCwgY2xhc3NOYW1lLCBzd2l0Y2hWYWx1ZSkge1xuICAgIGlmIChzd2l0Y2hWYWx1ZSAmJiAhY3RybC4kJGNsYXNzQ2FjaGVbY2xhc3NOYW1lXSkge1xuICAgICAgY3RybC4kJGFuaW1hdGUuYWRkQ2xhc3MoY3RybC4kJGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICBjdHJsLiQkY2xhc3NDYWNoZVtjbGFzc05hbWVdID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCFzd2l0Y2hWYWx1ZSAmJiBjdHJsLiQkY2xhc3NDYWNoZVtjbGFzc05hbWVdKSB7XG4gICAgICBjdHJsLiQkYW5pbWF0ZS5yZW1vdmVDbGFzcyhjdHJsLiQkZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgIGN0cmwuJCRjbGFzc0NhY2hlW2NsYXNzTmFtZV0gPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGVWYWxpZGF0aW9uQ3NzKGN0cmwsIHZhbGlkYXRpb25FcnJvcktleSwgaXNWYWxpZCkge1xuICAgIHZhbGlkYXRpb25FcnJvcktleSA9IHZhbGlkYXRpb25FcnJvcktleSA/ICctJyArIHNuYWtlX2Nhc2UodmFsaWRhdGlvbkVycm9yS2V5LCAnLScpIDogJyc7XG5cbiAgICBjYWNoZWRUb2dnbGVDbGFzcyhjdHJsLCBWQUxJRF9DTEFTUyArIHZhbGlkYXRpb25FcnJvcktleSwgaXNWYWxpZCA9PT0gdHJ1ZSk7XG4gICAgY2FjaGVkVG9nZ2xlQ2xhc3MoY3RybCwgSU5WQUxJRF9DTEFTUyArIHZhbGlkYXRpb25FcnJvcktleSwgaXNWYWxpZCA9PT0gZmFsc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqKSB7XG4gIGlmIChvYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKiBnbG9iYWxcbiAgVkFMSURfQ0xBU1M6IGZhbHNlLFxuICBJTlZBTElEX0NMQVNTOiBmYWxzZSxcbiAgUFJJU1RJTkVfQ0xBU1M6IGZhbHNlLFxuICBESVJUWV9DTEFTUzogZmFsc2UsXG4gIG5nTW9kZWxNaW5FcnI6IGZhbHNlXG4qL1xuXG4vLyBSZWdleCBjb2RlIHdhcyBpbml0aWFsbHkgb2J0YWluZWQgZnJvbSBTTyBwcmlvciB0byBtb2RpZmljYXRpb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMxNDMwNzAvamF2YXNjcmlwdC1yZWdleC1pc28tZGF0ZXRpbWUjYW5zd2VyLTMxNDMyMzFcbnZhciBJU09fREFURV9SRUdFWFAgPSAvXlxcZHs0LH0tWzAxXVxcZC1bMC0zXVxcZFRbMC0yXVxcZDpbMC01XVxcZDpbMC01XVxcZFxcLlxcZCsoPzpbKy1dWzAtMl1cXGQ6WzAtNV1cXGR8WikkLztcbi8vIFNlZSB2YWxpZCBVUkxzIGluIFJGQzM5ODcgKGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODcpXG4vLyBOb3RlOiBXZSBhcmUgYmVpbmcgbW9yZSBsZW5pZW50LCBiZWNhdXNlIGJyb3dzZXJzIGFyZSB0b28uXG4vLyAgIDEuIFNjaGVtZVxuLy8gICAyLiBTbGFzaGVzXG4vLyAgIDMuIFVzZXJuYW1lXG4vLyAgIDQuIFBhc3N3b3JkXG4vLyAgIDUuIEhvc3RuYW1lXG4vLyAgIDYuIFBvcnRcbi8vICAgNy4gUGF0aFxuLy8gICA4LiBRdWVyeVxuLy8gICA5LiBGcmFnbWVudFxuLy8gICAgICAgICAgICAgICAgIDExMTExMTExMTExMTExMTEgMjIyICAgMzMzMzMzICAgIDQ0NDQ0ICAgICAgICA1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NSAgICAgNjY2ICAgICA3Nzc3Nzc3NyAgICAgODg4ODg4OCAgICAgOTk5XG52YXIgVVJMX1JFR0VYUCA9IC9eW2Etel1bYS16XFxkListXSo6XFwvKig/OlteOkBdKyg/OjpbXkBdKyk/QCk/KD86W15cXHM6Lz8jXSt8XFxbW2EtZlxcZDpdK10pKD86OlxcZCspPyg/OlxcL1tePyNdKik/KD86XFw/W14jXSopPyg/OiMuKik/JC9pO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbnZhciBFTUFJTF9SRUdFWFAgPSAvXig/PS57MSwyNTR9JCkoPz0uezEsNjR9QClbLSEjJCUmJyorLzAtOT0/QS1aXl9gYS16e3x9fl0rKFxcLlstISMkJSYnKisvMC05PT9BLVpeX2BhLXp7fH1+XSspKkBbQS1aYS16MC05XShbQS1aYS16MC05LV17MCw2MX1bQS1aYS16MC05XSk/KFxcLltBLVphLXowLTldKFtBLVphLXowLTktXXswLDYxfVtBLVphLXowLTldKT8pKiQvO1xudmFyIE5VTUJFUl9SRUdFWFAgPSAvXlxccyooLXxcXCspPyhcXGQrfChcXGQqKFxcLlxcZCopKSkoW2VFXVsrLV0/XFxkKyk/XFxzKiQvO1xudmFyIERBVEVfUkVHRVhQID0gL14oXFxkezQsfSktKFxcZHsyfSktKFxcZHsyfSkkLztcbnZhciBEQVRFVElNRUxPQ0FMX1JFR0VYUCA9IC9eKFxcZHs0LH0pLShcXGRcXGQpLShcXGRcXGQpVChcXGRcXGQpOihcXGRcXGQpKD86OihcXGRcXGQpKFxcLlxcZHsxLDN9KT8pPyQvO1xudmFyIFdFRUtfUkVHRVhQID0gL14oXFxkezQsfSktVyhcXGRcXGQpJC87XG52YXIgTU9OVEhfUkVHRVhQID0gL14oXFxkezQsfSktKFxcZFxcZCkkLztcbnZhciBUSU1FX1JFR0VYUCA9IC9eKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkoXFwuXFxkezEsM30pPyk/JC87XG5cbnZhciBQQVJUSUFMX1ZBTElEQVRJT05fRVZFTlRTID0gJ2tleWRvd24gd2hlZWwgbW91c2Vkb3duJztcbnZhciBQQVJUSUFMX1ZBTElEQVRJT05fVFlQRVMgPSBjcmVhdGVNYXAoKTtcbmZvckVhY2goJ2RhdGUsZGF0ZXRpbWUtbG9jYWwsbW9udGgsdGltZSx3ZWVrJy5zcGxpdCgnLCcpLCBmdW5jdGlvbih0eXBlKSB7XG4gIFBBUlRJQUxfVkFMSURBVElPTl9UWVBFU1t0eXBlXSA9IHRydWU7XG59KTtcblxudmFyIGlucHV0VHlwZSA9IHtcblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W3RleHRdXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTdGFuZGFyZCBIVE1MIHRleHQgaW5wdXQgd2l0aCBBbmd1bGFySlMgZGF0YSBiaW5kaW5nLCBpbmhlcml0ZWQgYnkgbW9zdCBvZiB0aGUgYGlucHV0YCBlbGVtZW50cy5cbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBBbmd1bGFySlMgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gICAqICAgIG1pbmxlbmd0aC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcbiAgICogICAgYW55IGxlbmd0aC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XG4gICAqICAgIGRvZXMgbm90IG1hdGNoIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXJKUyBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcbiAgICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cbiAgICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxuICAgKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xuICAgKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xuICAgKiAgICBhY2NvdW50LlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXJKUyBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbbmdUcmltPXRydWVdIElmIHNldCB0byBmYWxzZSBBbmd1bGFySlMgd2lsbCBub3QgYXV0b21hdGljYWxseSB0cmltIHRoZSBpbnB1dC5cbiAgICogICAgVGhpcyBwYXJhbWV0ZXIgaXMgaWdub3JlZCBmb3IgaW5wdXRbdHlwZT1wYXNzd29yZF0gY29udHJvbHMsIHdoaWNoIHdpbGwgbmV2ZXIgdHJpbSB0aGVcbiAgICogICAgaW5wdXQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwidGV4dC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJ0ZXh0SW5wdXRFeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgndGV4dElucHV0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgICAgICAgdGV4dDogJ2d1ZXN0JyxcbiAgICAgICAgICAgICAgICAgd29yZDogL15cXHMqXFx3KlxccyokL1xuICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICB9XSk7XG4gICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgPGxhYmVsPlNpbmdsZSB3b3JkOlxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS50ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgbmctcGF0dGVybj1cImV4YW1wbGUud29yZFwiIHJlcXVpcmVkIG5nLXRyaW09XCJmYWxzZVwiPlxuICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5wYXR0ZXJuXCI+XG4gICAgICAgICAgICAgICBTaW5nbGUgd29yZCBvbmx5ITwvc3Bhbj5cbiAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgIDxjb2RlPnRleHQgPSB7e2V4YW1wbGUudGV4dH19PC9jb2RlPjxici8+XG4gICAgICAgICAgIDxjb2RlPm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvY29kZT48YnIvPlxuICAgICAgICAgICA8Y29kZT5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L2NvZGU+PGJyLz5cbiAgICAgICAgICAgPGNvZGU+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC9jb2RlPjxici8+XG4gICAgICAgICAgIDxjb2RlPm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC9jb2RlPjxici8+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2ZpbGU+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgICB2YXIgdGV4dCA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS50ZXh0JykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnRleHQnKSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9Db250YWluKCdndWVzdCcpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9FcXVhbCgndGV4dCA9Jyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbXVsdGkgd29yZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCdoZWxsbyB3b3JsZCcpO1xuXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICd0ZXh0JzogdGV4dElucHV0VHlwZSxcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBpbnB1dFxuICAgICAqIEBuYW1lIGlucHV0W2RhdGVdXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBJbnB1dCB3aXRoIGRhdGUgdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XG4gICAgICogdGhlIEhUTUw1IGRhdGUgaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAgICogZGF0ZSBmb3JtYXQgKHl5eXktTU0tZGQpLCBmb3IgZXhhbXBsZTogYDIwMDktMDEtMDZgLiBTaW5jZSBtYW55XG4gICAgICogbW9kZXJuIGJyb3dzZXJzIGRvIG5vdCB5ZXQgc3VwcG9ydCB0aGlzIGlucHV0IHR5cGUsIGl0IGlzIGltcG9ydGFudCB0byBwcm92aWRlIGN1ZXMgdG8gdXNlcnMgb24gdGhlXG4gICAgICogZXhwZWN0ZWQgaW5wdXQgZm9ybWF0IHZpYSBhIHBsYWNlaG9sZGVyIG9yIGxhYmVsLlxuICAgICAqXG4gICAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIGEgRGF0ZSBvYmplY3QsIG90aGVyd2lzZSBBbmd1bGFySlMgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBBbmd1bGFySlMgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC4gVGhpcyBtdXN0IGJlIGFcbiAgICAgKiAgIHZhbGlkIElTTyBkYXRlIHN0cmluZyAoeXl5eS1NTS1kZCkuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpcyBhdHRyaWJ1dGVcbiAgICAgKiAgIChlLmcuIGBtaW49XCJ7e21pbkRhdGUgfCBkYXRlOid5eXl5LU1NLWRkJ319XCJgKS4gTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGQgbmF0aXZlIEhUTUw1XG4gICAgICogICBjb25zdHJhaW50IHZhbGlkYXRpb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLiBUaGlzIG11c3QgYmVcbiAgICAgKiAgIGEgdmFsaWQgSVNPIGRhdGUgc3RyaW5nICh5eXl5LU1NLWRkKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzIGF0dHJpYnV0ZVxuICAgICAqICAgKGUuZy4gYG1heD1cInt7bWF4RGF0ZSB8IGRhdGU6J3l5eXktTU0tZGQnfX1cImApLiBOb3RlIHRoYXQgYG1heGAgd2lsbCBhbHNvIGFkZCBuYXRpdmUgSFRNTDVcbiAgICAgKiAgIGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cbiAgICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gZGF0ZSBzdHJpbmdcbiAgICAgKiAgIHRoZSBgbmdNaW5gIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWluYCBhdHRyaWJ1dGUuXG4gICAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvIHRoZSBEYXRlIC8gSVNPIGRhdGUgc3RyaW5nXG4gICAgICogICB0aGUgYG5nTWF4YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1heGAgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhckpTIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgIDxleGFtcGxlIG5hbWU9XCJkYXRlLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImRhdGVJbnB1dEV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdkYXRlSW5wdXRFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoMjAxMywgOSwgMjIpXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxuICAgICAgICAgIDxsYWJlbCBmb3I9XCJleGFtcGxlSW5wdXRcIj5QaWNrIGEgZGF0ZSBpbiAyMDEzOjwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgaWQ9XCJleGFtcGxlSW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cInl5eXktTU0tZGRcIiBtaW49XCIyMDEzLTAxLTAxXCIgbWF4PVwiMjAxMy0xMi0zMVwiIHJlcXVpcmVkIC8+XG4gICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5kYXRlXCI+XG4gICAgICAgICAgICAgICAgTm90IGEgdmFsaWQgZGF0ZSE8L3NwYW4+XG4gICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRcIn19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICAgPC9mb3JtPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkXCInKSk7XG4gICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcblxuICAgICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXG4gICAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cbiAgICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XG4gICAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXG4gICAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xuICAgICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMy0xMC0yMicpO1xuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2V0SW5wdXQoJycpO1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZXRJbnB1dCgnMjAxNS0wMS0wMScpO1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPC9leGFtcGxlPlxuICAgICAqL1xuICAnZGF0ZSc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ2RhdGUnLCBEQVRFX1JFR0VYUCxcbiAgICAgICAgIGNyZWF0ZURhdGVQYXJzZXIoREFURV9SRUdFWFAsIFsneXl5eScsICdNTScsICdkZCddKSxcbiAgICAgICAgICd5eXl5LU1NLWRkJyksXG5cbiAgIC8qKlxuICAgICogQG5nZG9jIGlucHV0XG4gICAgKiBAbmFtZSBpbnB1dFtkYXRldGltZS1sb2NhbF1cbiAgICAqXG4gICAgKiBAZGVzY3JpcHRpb25cbiAgICAqIElucHV0IHdpdGggZGF0ZXRpbWUgdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XG4gICAgKiB0aGUgSFRNTDUgZGF0ZSBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAgKiBsb2NhbCBkYXRldGltZSBmb3JtYXQgKHl5eXktTU0tZGRUSEg6bW06c3MpLCBmb3IgZXhhbXBsZTogYDIwMTAtMTItMjhUMTQ6NTc6MDBgLlxuICAgICpcbiAgICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhckpTIHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgKlxuICAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xuICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgICpcbiAgICAqIFRoZSBmb3JtYXQgb2YgdGhlIGRpc3BsYXllZCB0aW1lIGNhbiBiZSBhZGp1c3RlZCB3aXRoIHRoZVxuICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyNuZ01vZGVsT3B0aW9ucy1hcmd1bWVudHMgbmdNb2RlbE9wdGlvbnN9IGB0aW1lU2Vjb25kc0Zvcm1hdGBcbiAgICAqIGFuZCBgdGltZVN0cmlwWmVyb1NlY29uZHNgLlxuICAgICpcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgQW5ndWxhckpTIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLlxuICAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gZGF0ZXRpbWUgZm9ybWF0ICh5eXl5LU1NLWRkVEhIOm1tOnNzKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uXG4gICAgKiAgIGluc2lkZSB0aGlzIGF0dHJpYnV0ZSAoZS5nLiBgbWluPVwie3ttaW5EYXRldGltZUxvY2FsIHwgZGF0ZToneXl5eS1NTS1kZFRISDptbTpzcyd9fVwiYCkuXG4gICAgKiAgIE5vdGUgdGhhdCBgbWluYCB3aWxsIGFsc28gYWRkIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuXG4gICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyBkYXRldGltZSBmb3JtYXQgKHl5eXktTU0tZGRUSEg6bW06c3MpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb25cbiAgICAqICAgaW5zaWRlIHRoaXMgYXR0cmlidXRlIChlLmcuIGBtYXg9XCJ7e21heERhdGV0aW1lTG9jYWwgfCBkYXRlOid5eXl5LU1NLWRkVEhIOm1tOnNzJ319XCJgKS5cbiAgICAqICAgTm90ZSB0aGF0IGBtYXhgIHdpbGwgYWxzbyBhZGQgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cbiAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IHRvIHRoZSBEYXRlIC8gSVNPIGRhdGV0aW1lIHN0cmluZ1xuICAgICogICB0aGUgYG5nTWluYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1pbmAgYXR0cmlidXRlLlxuICAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgdG8gdGhlIERhdGUgLyBJU08gZGF0ZXRpbWUgc3RyaW5nXG4gICAgKiAgIHRoZSBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhckpTIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgICpcbiAgICAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cImRhdGV0aW1lbG9jYWwtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiZGF0ZUV4YW1wbGVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPHNjcmlwdD5cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2RhdGVFeGFtcGxlJywgW10pXG4gICAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xuICAgICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoMjAxMCwgMTEsIDI4LCAxNCwgNTcpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1dKTtcbiAgICAgIDwvc2NyaXB0PlxuICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwiZXhhbXBsZUlucHV0XCI+UGljayBhIGRhdGUgYmV0d2VlbiBpbiAyMDEzOjwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiBpZD1cImV4YW1wbGVJbnB1dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cInl5eXktTU0tZGRUSEg6bW06c3NcIiBtaW49XCIyMDAxLTAxLTAxVDAwOjAwOjAwXCIgbWF4PVwiMjAxMy0xMi0zMVQwMDowMDowMFwiIHJlcXVpcmVkIC8+XG4gICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IuZGF0ZXRpbWVsb2NhbFwiPlxuICAgICAgICAgICAgICBOb3QgYSB2YWxpZCBkYXRlITwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1NTS1kZFRISDptbTpzc1wifX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkVEhIOm1tOnNzXCInKSk7XG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG5cbiAgICAgIC8vIGN1cnJlbnRseSBwcm90cmFjdG9yL3dlYmRyaXZlciBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXG4gICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cbiAgICAgIGZ1bmN0aW9uIHNldElucHV0KHZhbCkge1xuICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxuICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXG4gICAgICAgIFwiaXB0LnZhbHVlID0gJ1wiICsgdmFsICsgXCInO1wiICtcbiAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xuICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcbiAgICAgIH1cblxuICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMC0xMi0yOFQxNDo1NzowMCcpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnMjAxNS0wMS0wMVQyMzo1OTowMCcpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAgICAqL1xuICAnZGF0ZXRpbWUtbG9jYWwnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCdkYXRldGltZWxvY2FsJywgREFURVRJTUVMT0NBTF9SRUdFWFAsXG4gICAgICBjcmVhdGVEYXRlUGFyc2VyKERBVEVUSU1FTE9DQUxfUkVHRVhQLCBbJ3l5eXknLCAnTU0nLCAnZGQnLCAnSEgnLCAnbW0nLCAnc3MnLCAnc3NzJ10pLFxuICAgICAgJ3l5eXktTU0tZGRUSEg6bW06c3Muc3NzJyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFt0aW1lXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSW5wdXQgd2l0aCB0aW1lIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxuICAgKiB0aGUgSFRNTDUgdGltZSBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXG4gICAqIGxvY2FsIHRpbWUgZm9ybWF0IChISDptbTpzcyksIGZvciBleGFtcGxlOiBgMTQ6NTc6MDBgLiBNb2RlbCBtdXN0IGJlIGEgRGF0ZSBvYmplY3QuIFRoaXMgYmluZGluZyB3aWxsIGFsd2F5cyBvdXRwdXQgYVxuICAgKiBEYXRlIG9iamVjdCB0byB0aGUgbW9kZWwgb2YgSmFudWFyeSAxLCAxOTcwLCBvciBsb2NhbCBkYXRlIGBuZXcgRGF0ZSgxOTcwLCAwLCAxLCBISCwgbW0sIHNzKWAuXG4gICAqXG4gICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhckpTIHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAqIEludmFsaWQgYERhdGVgIG9iamVjdHMgKGRhdGVzIHdob3NlIGBnZXRUaW1lKClgIGlzIGBOYU5gKSB3aWxsIGJlIHJlbmRlcmVkIGFzIGFuIGVtcHR5IHN0cmluZy5cbiAgICpcbiAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xuICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zI25nTW9kZWxPcHRpb25zLWFyZ3VtZW50cyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsXG4gICAqIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgKlxuICAgKiBUaGUgZm9ybWF0IG9mIHRoZSBkaXNwbGF5ZWQgdGltZSBjYW4gYmUgYWRqdXN0ZWQgd2l0aCB0aGVcbiAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyNuZ01vZGVsT3B0aW9ucy1hcmd1bWVudHMgbmdNb2RlbE9wdGlvbnN9IGB0aW1lU2Vjb25kc0Zvcm1hdGBcbiAgICogYW5kIGB0aW1lU3RyaXBaZXJvU2Vjb25kc2AuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgQW5ndWxhckpTIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC5cbiAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gdGltZSBmb3JtYXQgKEhIOm1tOnNzKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzXG4gICAqICAgYXR0cmlidXRlIChlLmcuIGBtaW49XCJ7e21pblRpbWUgfCBkYXRlOidISDptbTpzcyd9fVwiYCkuIE5vdGUgdGhhdCBgbWluYCB3aWxsIGFsc28gYWRkXG4gICAqICAgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxuICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyB0aW1lIGZvcm1hdCAoSEg6bW06c3MpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXNcbiAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1heD1cInt7bWF4VGltZSB8IGRhdGU6J0hIOm1tOnNzJ319XCJgKS4gTm90ZSB0aGF0IGBtYXhgIHdpbGwgYWxzbyBhZGRcbiAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxuICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gdGltZSBzdHJpbmcgdGhlXG4gICAqICAgYG5nTWluYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1pbmAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gdGltZSBzdHJpbmcgdGhlXG4gICAqICAgYG5nTWF4YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1heGAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFySlMgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJ0aW1lLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInRpbWVFeGFtcGxlXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICA8c2NyaXB0PlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ3RpbWVFeGFtcGxlJywgW10pXG4gICAgICAgIC5jb250cm9sbGVyKCdEYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XG4gICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoMTk3MCwgMCwgMSwgMTQsIDU3LCAwKVxuICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbiAgICAgPC9zY3JpcHQ+XG4gICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRGF0ZUNvbnRyb2xsZXIgYXMgZGF0ZUN0cmxcIj5cbiAgICAgICAgPGxhYmVsIGZvcj1cImV4YW1wbGVJbnB1dFwiPlBpY2sgYSB0aW1lIGJldHdlZW4gOGFtIGFuZCA1cG06PC9sYWJlbD5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0aW1lXCIgaWQ9XCJleGFtcGxlSW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJISDptbTpzc1wiIG1pbj1cIjA4OjAwOjAwXCIgbWF4PVwiMTc6MDA6MDBcIiByZXF1aXJlZCAvPlxuICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnRpbWVcIj5cbiAgICAgICAgICAgICAgTm90IGEgdmFsaWQgZGF0ZSE8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcIkhIOm1tOnNzXCJ9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICA8L2Zvcm0+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcIkhIOm1tOnNzXCInKSk7XG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG5cbiAgICAgIC8vIGN1cnJlbnRseSBwcm90cmFjdG9yL3dlYmRyaXZlciBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXG4gICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cbiAgICAgIGZ1bmN0aW9uIHNldElucHV0KHZhbCkge1xuICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxuICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXG4gICAgICAgIFwiaXB0LnZhbHVlID0gJ1wiICsgdmFsICsgXCInO1wiICtcbiAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xuICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcbiAgICAgIH1cblxuICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMTQ6NTc6MDAnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnJyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJzIzOjU5OjAwJyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcbiAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAgICovXG4gICd0aW1lJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgndGltZScsIFRJTUVfUkVHRVhQLFxuICAgICAgY3JlYXRlRGF0ZVBhcnNlcihUSU1FX1JFR0VYUCwgWydISCcsICdtbScsICdzcycsICdzc3MnXSksXG4gICAgICdISDptbTpzcy5zc3MnKSxcblxuICAgLyoqXG4gICAgKiBAbmdkb2MgaW5wdXRcbiAgICAqIEBuYW1lIGlucHV0W3dlZWtdXG4gICAgKlxuICAgICogQGRlc2NyaXB0aW9uXG4gICAgKiBJbnB1dCB3aXRoIHdlZWstb2YtdGhlLXllYXIgdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24gdG8gRGF0ZS4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcbiAgICAqIHRoZSBIVE1MNSB3ZWVrIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGhlIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcbiAgICAqIHdlZWsgZm9ybWF0ICh5eXl5LVcjIyksIGZvciBleGFtcGxlOiBgMjAxMy1XMDJgLlxuICAgICpcbiAgICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhckpTIHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgKlxuICAgICogVGhlIHZhbHVlIG9mIHRoZSByZXN1bHRpbmcgRGF0ZSBvYmplY3Qgd2lsbCBiZSBzZXQgdG8gVGh1cnNkYXkgYXQgMDA6MDA6MDAgb2YgdGhlIHJlcXVlc3RlZCB3ZWVrLFxuICAgICogZHVlIHRvIElTTy04NjAxIHdlZWsgbnVtYmVyaW5nIHN0YW5kYXJkcy4gSW5mb3JtYXRpb24gb24gSVNPJ3Mgc3lzdGVtIGZvciBudW1iZXJpbmcgdGhlIHdlZWtzIG9mIHRoZVxuICAgICogeWVhciBjYW4gYmUgZm91bmQgYXQ6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT184NjAxI1dlZWtfZGF0ZXNcbiAgICAqXG4gICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfS4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIuXG4gICAgKlxuICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBBbmd1bGFySlMgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuXG4gICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyB3ZWVrIGZvcm1hdCAoeXl5eS1XIyMpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXNcbiAgICAqICAgYXR0cmlidXRlIChlLmcuIGBtaW49XCJ7e21pbldlZWsgfCBkYXRlOid5eXl5LVd3dyd9fVwiYCkuIE5vdGUgdGhhdCBgbWluYCB3aWxsIGFsc28gYWRkXG4gICAgKiAgIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuXG4gICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyB3ZWVrIGZvcm1hdCAoeXl5eS1XIyMpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXNcbiAgICAqICAgYXR0cmlidXRlIChlLmcuIGBtYXg9XCJ7e21heFdlZWsgfCBkYXRlOid5eXl5LVd3dyd9fVwiYCkuIE5vdGUgdGhhdCBgbWF4YCB3aWxsIGFsc28gYWRkXG4gICAgKiAgIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXG4gICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gd2VlayBzdHJpbmdcbiAgICAqICAgdGhlIGBuZ01pbmAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtaW5gIGF0dHJpYnV0ZS5cbiAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB3ZWVrIHN0cmluZ1xuICAgICogICB0aGUgYG5nTWF4YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1heGAgYXR0cmlidXRlLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXJKUyBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICAqXG4gICAgKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG5hbWU9XCJ3ZWVrLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cIndlZWtFeGFtcGxlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxzY3JpcHQ+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnd2Vla0V4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEzLCAwLCAzKVxuICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbiAgICAgIDwvc2NyaXB0PlxuICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxuICAgICAgICA8bGFiZWw+UGljayBhIGRhdGUgYmV0d2VlbiBpbiAyMDEzOlxuICAgICAgICAgIDxpbnB1dCBpZD1cImV4YW1wbGVJbnB1dFwiIHR5cGU9XCJ3ZWVrXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcbiAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJZWVlZLVcjI1wiIG1pbj1cIjIwMTItVzMyXCJcbiAgICAgICAgICAgICAgICAgbWF4PVwiMjAxMy1XNTJcIiByZXF1aXJlZCAvPlxuICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLndlZWtcIj5cbiAgICAgICAgICAgICAgTm90IGEgdmFsaWQgZGF0ZSE8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktV3d3XCJ9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgPC9mb3JtPlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktV3d3XCInKSk7XG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG5cbiAgICAgIC8vIGN1cnJlbnRseSBwcm90cmFjdG9yL3dlYmRyaXZlciBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXG4gICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cbiAgICAgIGZ1bmN0aW9uIHNldElucHV0KHZhbCkge1xuICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxuICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXG4gICAgICAgIFwiaXB0LnZhbHVlID0gJ1wiICsgdmFsICsgXCInO1wiICtcbiAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xuICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcbiAgICAgIH1cblxuICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMy1XMDEnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnJyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJzIwMTUtVzAxJyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICAgICovXG4gICd3ZWVrJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgnd2VlaycsIFdFRUtfUkVHRVhQLCB3ZWVrUGFyc2VyLCAneXl5eS1Xd3cnKSxcblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W21vbnRoXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSW5wdXQgd2l0aCBtb250aCB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcbiAgICogdGhlIEhUTUw1IG1vbnRoIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGhlIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcbiAgICogbW9udGggZm9ybWF0ICh5eXl5LU1NKSwgZm9yIGV4YW1wbGU6IGAyMDA5LTAxYC5cbiAgICpcbiAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIGEgRGF0ZSBvYmplY3QsIG90aGVyd2lzZSBBbmd1bGFySlMgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICogSW52YWxpZCBgRGF0ZWAgb2JqZWN0cyAoZGF0ZXMgd2hvc2UgYGdldFRpbWUoKWAgaXMgYE5hTmApIHdpbGwgYmUgcmVuZGVyZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxuICAgKiBJZiB0aGUgbW9kZWwgaXMgbm90IHNldCB0byB0aGUgZmlyc3Qgb2YgdGhlIG1vbnRoLCB0aGUgbmV4dCB2aWV3IHRvIG1vZGVsIHVwZGF0ZSB3aWxsIHNldCBpdFxuICAgKiB0byB0aGUgZmlyc3Qgb2YgdGhlIG1vbnRoLlxuICAgKlxuICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBBbmd1bGFySlMgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLlxuICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyBtb250aCBmb3JtYXQgKHl5eXktTU0pLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXNcbiAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1pbj1cInt7bWluTW9udGggfCBkYXRlOid5eXl5LU1NJ319XCJgKS4gTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGRcbiAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuXG4gICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSkuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpc1xuICAgKiAgIGF0dHJpYnV0ZSAoZS5nLiBgbWF4PVwie3ttYXhNb250aCB8IGRhdGU6J3l5eXktTU0nfX1cImApLiBOb3RlIHRoYXQgYG1heGAgd2lsbCBhbHNvIGFkZFxuICAgKiAgIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXG4gICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB3ZWVrIHN0cmluZ1xuICAgKiAgIHRoZSBgbmdNaW5gIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWluYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB3ZWVrIHN0cmluZ1xuICAgKiAgIHRoZSBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXG5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhckpTIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwibW9udGgtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwibW9udGhFeGFtcGxlXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICA8c2NyaXB0PlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ21vbnRoRXhhbXBsZScsIFtdKVxuICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xuICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDIwMTMsIDksIDEpXG4gICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuICAgICA8L3NjcmlwdD5cbiAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxuICAgICAgIDxsYWJlbCBmb3I9XCJleGFtcGxlSW5wdXRcIj5QaWNrIGEgbW9udGggaW4gMjAxMzo8L2xhYmVsPlxuICAgICAgIDxpbnB1dCBpZD1cImV4YW1wbGVJbnB1dFwiIHR5cGU9XCJtb250aFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJ5eXl5LU1NXCIgbWluPVwiMjAxMy0wMVwiIG1heD1cIjIwMTMtMTJcIiByZXF1aXJlZCAvPlxuICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5tb250aFwiPlxuICAgICAgICAgICAgTm90IGEgdmFsaWQgbW9udGghPC9zcGFuPlxuICAgICAgIDwvZGl2PlxuICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1NTVwifX08L3R0Pjxici8+XG4gICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICA8L2Zvcm0+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU1cIicpKTtcbiAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcblxuICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcbiAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxuICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XG4gICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXG4gICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcbiAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xuICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XG4gICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xuICAgICAgfVxuXG4gICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcyMDEzLTEwJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJycpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcyMDE1LTAxJyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcbiAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAgICovXG4gICdtb250aCc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ21vbnRoJywgTU9OVEhfUkVHRVhQLFxuICAgICBjcmVhdGVEYXRlUGFyc2VyKE1PTlRIX1JFR0VYUCwgWyd5eXl5JywgJ01NJ10pLFxuICAgICAneXl5eS1NTScpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbbnVtYmVyXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGV4dCBpbnB1dCB3aXRoIG51bWJlciB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gU2V0cyB0aGUgYG51bWJlcmAgdmFsaWRhdGlvblxuICAgKiBlcnJvciBpZiBub3QgYSB2YWxpZCBudW1iZXIuXG4gICAqXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBvZiB0eXBlIGBudW1iZXJgIG90aGVyd2lzZSBBbmd1bGFySlMgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICogQmUgYXdhcmUgdGhhdCBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtYmVyIGlzIG5vdCBlbm91Z2guIFNlZSB0aGUge0BsaW5rIG5nTW9kZWw6bnVtZm10fVxuICAgKiBlcnJvciBkb2NzIGZvciBtb3JlIGluZm9ybWF0aW9uIGFuZCBhbiBleGFtcGxlIG9mIGhvdyB0byBjb252ZXJ0IHlvdXIgbW9kZWwgaWYgbmVjZXNzYXJ5LlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICpcbiAgICpcbiAgICogQGtub3duSXNzdWVcbiAgICpcbiAgICogIyMjIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbiBhbmQgYGFsbG93SW52YWxpZGBcbiAgICpcbiAgICogSW4gYnJvd3NlcnMgdGhhdCBmb2xsb3cgdGhlXG4gICAqIFtIVE1MNSBzcGVjaWZpY2F0aW9uXShodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI251bWJlci1zdGF0ZS0lMjh0eXBlPW51bWJlciUyOSksXG4gICAqIGBpbnB1dFtudW1iZXJdYCBkb2VzIG5vdCB3b3JrIGFzIGV4cGVjdGVkIHdpdGgge0BsaW5rIG5nTW9kZWxPcHRpb25zIGBuZ01vZGVsT3B0aW9ucy5hbGxvd0ludmFsaWRgfS5cbiAgICogSWYgYSBub24tbnVtYmVyIGlzIGVudGVyZWQgaW4gdGhlIGlucHV0LCB0aGUgYnJvd3NlciB3aWxsIHJlcG9ydCB0aGUgdmFsdWUgYXMgYW4gZW1wdHkgc3RyaW5nLFxuICAgKiB3aGljaCBtZWFucyB0aGUgdmlldyAvIG1vZGVsIHZhbHVlcyBpbiBgbmdNb2RlbGAgYW5kIHN1YnNlcXVlbnRseSB0aGUgc2NvcGUgdmFsdWVcbiAgICogd2lsbCBhbHNvIGJlIGFuIGVtcHR5IHN0cmluZy5cbiAgICpcbiAgICogQGtub3duSXNzdWVcbiAgICpcbiAgICogIyMjIExhcmdlIG51bWJlcnMgYW5kIGBzdGVwYCB2YWxpZGF0aW9uXG4gICAqXG4gICAqIFRoZSBgc3RlcGAgdmFsaWRhdGlvbiB3aWxsIG5vdCB3b3JrIGNvcnJlY3RseSBmb3IgdmVyeSBsYXJnZSBudW1iZXJzIChlLmcuIDk5OTk5OTk5OTkpIGR1ZSB0b1xuICAgKiBKYXZhc2NyaXB0J3MgYXJpdGhtZXRpYyBsaW1pdGF0aW9ucy4gSWYgeW91IG5lZWQgdG8gaGFuZGxlIGxhcmdlIG51bWJlcnMsIHB1cnBvc2UtYnVpbHRcbiAgICogbGlicmFyaWVzIChlLmcuIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWtlTWNsL2JpZy5qcy8pLCBjYW4gYmUgaW5jbHVkZWQgaW50byBBbmd1bGFySlMgYnlcbiAgICoge0BsaW5rIGd1aWRlL2Zvcm1zI21vZGlmeWluZy1idWlsdC1pbi12YWxpZGF0b3JzIG92ZXJ3cml0aW5nIHRoZSB2YWxpZGF0b3JzfVxuICAgKiBmb3IgYG51bWJlcmAgYW5kIC8gb3IgYHN0ZXBgLCBvciBieSB7QGxpbmsgZ3VpZGUvZm9ybXMjY3VzdG9tLXZhbGlkYXRpb24gYXBwbHlpbmcgY3VzdG9tIHZhbGlkYXRvcnN9XG4gICAqIHRvIGFuIGBpbnB1dFt0ZXh0XWAgZWxlbWVudC4gVGhlIHNvdXJjZSBmb3IgYGlucHV0W251bWJlcl1gIHR5cGUgY2FuIGJlIHVzZWQgYXMgYSBzdGFydGluZ1xuICAgKiBwb2ludCBmb3IgYm90aCBpbXBsZW1lbnRhdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgQW5ndWxhckpTIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC5cbiAgICogICAgQ2FuIGJlIGludGVycG9sYXRlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxuICAgKiAgICBDYW4gYmUgaW50ZXJwb2xhdGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nTWluIExpa2UgYG1pbmAsIHNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbmdNaW5gLFxuICAgKiAgICBidXQgZG9lcyBub3QgdHJpZ2dlciBIVE1MNSBuYXRpdmUgdmFsaWRhdGlvbi4gVGFrZXMgYW4gZXhwcmVzc2lvbi5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ01heCBMaWtlIGBtYXhgLCBzZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG5nTWF4YCxcbiAgICogICAgYnV0IGRvZXMgbm90IHRyaWdnZXIgSFRNTDUgbmF0aXZlIHZhbGlkYXRpb24uIFRha2VzIGFuIGV4cHJlc3Npb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gc3RlcCBTZXRzIHRoZSBgc3RlcGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgZG9lcyBub3QgZml0IHRoZSBgc3RlcGAgY29uc3RyYWludC5cbiAgICogICAgQ2FuIGJlIGludGVycG9sYXRlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1N0ZXAgTGlrZSBgc3RlcGAsIHNldHMgdGhlIGBzdGVwYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBkb2VzIG5vdCBmaXQgdGhlIGBuZ1N0ZXBgIGNvbnN0cmFpbnQsXG4gICAqICAgIGJ1dCBkb2VzIG5vdCB0cmlnZ2VyIEhUTUw1IG5hdGl2ZSB2YWxpZGF0aW9uLiBUYWtlcyBhbiBleHByZXNzaW9uLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAgICogICAgbWlubGVuZ3RoLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gICAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZlxuICAgKiAgICBhbnkgbGVuZ3RoLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHBhdHRlcm4gU2ltaWxhciB0byBgbmdQYXR0ZXJuYCBleGNlcHQgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHRoZSBhY3R1YWwgc3RyaW5nXG4gICAqICAgIHRoYXQgY29udGFpbnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBib2R5IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICogICAgYXMgaW4gdGhlIG5nUGF0dGVybiBkaXJlY3RpdmUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgJHZpZXdWYWx1ZX1cbiAgICogICAgZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhckpTIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxuICAgKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xuICAgKiAgICBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuPGJyIC8+XG4gICAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXG4gICAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXG4gICAqICAgIGFjY291bnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhckpTIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwibnVtYmVyLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cIm51bWJlckV4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdudW1iZXJFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xuICAgICAgICAgICAgICAgICB2YWx1ZTogMTJcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxsYWJlbD5OdW1iZXI6XG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCIgbWF4PVwiOTlcIiByZXF1aXJlZD5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5udW1iZXJcIj5cbiAgICAgICAgICAgICAgIE5vdCB2YWxpZCBudW1iZXIhPC9zcGFuPlxuICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS52YWx1ZScpKTtcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS52YWx1ZScpKTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcxMicpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnMTIzJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICdudW1iZXInOiBudW1iZXJJbnB1dFR5cGUsXG5cblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W3VybF1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRleHQgaW5wdXQgd2l0aCBVUkwgdmFsaWRhdGlvbi4gU2V0cyB0aGUgYHVybGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIGNvbnRlbnQgaXMgbm90IGFcbiAgICogdmFsaWQgVVJMLlxuICAgKlxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgKiAqKk5vdGU6KiogYGlucHV0W3VybF1gIHVzZXMgYSByZWdleCB0byB2YWxpZGF0ZSB1cmxzIHRoYXQgaXMgZGVyaXZlZCBmcm9tIHRoZSByZWdleFxuICAgKiB1c2VkIGluIENocm9taXVtLiBJZiB5b3UgbmVlZCBzdHJpY3RlciB2YWxpZGF0aW9uLCB5b3UgY2FuIHVzZSBgbmctcGF0dGVybmAgb3IgbW9kaWZ5XG4gICAqIHRoZSBidWlsdC1pbiB2YWxpZGF0b3JzIChzZWUgdGhlIHtAbGluayBndWlkZS9mb3JtcyBGb3JtcyBndWlkZX0pXG4gICAqIDwvZGl2PlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIEFuZ3VsYXJKUyBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAgICogICAgbWlubGVuZ3RoLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gICAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZlxuICAgKiAgICBhbnkgbGVuZ3RoLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHBhdHRlcm4gU2ltaWxhciB0byBgbmdQYXR0ZXJuYCBleGNlcHQgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHRoZSBhY3R1YWwgc3RyaW5nXG4gICAqICAgIHRoYXQgY29udGFpbnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBib2R5IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICogICAgYXMgaW4gdGhlIG5nUGF0dGVybiBkaXJlY3RpdmUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgJHZpZXdWYWx1ZX1cbiAgICogICAgZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhckpTIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxuICAgKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xuICAgKiAgICBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuPGJyIC8+XG4gICAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXG4gICAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXG4gICAqICAgIGFjY291bnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhckpTIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwidXJsLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInVybEV4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd1cmxFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS51cmwgPSB7XG4gICAgICAgICAgICAgICAgIHRleHQ6ICdodHRwOi8vZ29vZ2xlLmNvbSdcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxsYWJlbD5VUkw6XG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ1cmxcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cInVybC50ZXh0XCIgcmVxdWlyZWQ+XG4gICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IudXJsXCI+XG4gICAgICAgICAgICAgICBOb3QgdmFsaWQgdXJsITwvc3Bhbj5cbiAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgIDx0dD50ZXh0ID0ge3t1cmwudGV4dH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnVybCA9IHt7ISFteUZvcm0uJGVycm9yLnVybH19PC90dD48YnIvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgdmFyIHRleHQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VybC50ZXh0JykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1cmwudGV4dCcpKTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2h0dHA6Ly9nb29nbGUuY29tJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcblxuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBub3QgdXJsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2JveCcpO1xuXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICd1cmwnOiB1cmxJbnB1dFR5cGUsXG5cblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W2VtYWlsXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGV4dCBpbnB1dCB3aXRoIGVtYWlsIHZhbGlkYXRpb24uIFNldHMgdGhlIGBlbWFpbGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgbm90IGEgdmFsaWQgZW1haWxcbiAgICogYWRkcmVzcy5cbiAgICpcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICogKipOb3RlOioqIGBpbnB1dFtlbWFpbF1gIHVzZXMgYSByZWdleCB0byB2YWxpZGF0ZSBlbWFpbCBhZGRyZXNzZXMgdGhhdCBpcyBkZXJpdmVkIGZyb20gdGhlIHJlZ2V4XG4gICAqIHVzZWQgaW4gQ2hyb21pdW0sIHdoaWNoIG1heSBub3QgZnVsZmlsbCB5b3VyIGFwcCdzIHJlcXVpcmVtZW50cy5cbiAgICogSWYgeW91IG5lZWQgc3RyaWN0ZXIgKGUuZy4gcmVxdWlyaW5nIGEgdG9wLWxldmVsIGRvbWFpbiksIG9yIG1vcmUgcmVsYXhlZCB2YWxpZGF0aW9uXG4gICAqIChlLmcuIGFsbG93aW5nIElQdjYgYWRkcmVzcyBsaXRlcmFscykgeW91IGNhbiB1c2UgYG5nLXBhdHRlcm5gIG9yXG4gICAqIG1vZGlmeSB0aGUgYnVpbHQtaW4gdmFsaWRhdG9ycyAoc2VlIHRoZSB7QGxpbmsgZ3VpZGUvZm9ybXMgRm9ybXMgZ3VpZGV9KS5cbiAgICogPC9kaXY+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgQW5ndWxhckpTIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxuICAgKiAgICBtaW5sZW5ndGguXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cbiAgICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mXG4gICAqICAgIGFueSBsZW5ndGguXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcGF0dGVybiBTaW1pbGFyIHRvIGBuZ1BhdHRlcm5gIGV4Y2VwdCB0aGF0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgaXMgdGhlIGFjdHVhbCBzdHJpbmdcbiAgICogICAgdGhhdCBjb250YWlucyB0aGUgcmVndWxhciBleHByZXNzaW9uIGJvZHkgdGhhdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIHJlZ3VsYXIgZXhwcmVzc2lvblxuICAgKiAgICBhcyBpbiB0aGUgbmdQYXR0ZXJuIGRpcmVjdGl2ZS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIG5nTW9kZWwge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSAkdmlld1ZhbHVlfVxuICAgKiAgICBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFySlMgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXG4gICAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXG4gICAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cbiAgICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cbiAgICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cbiAgICogICAgYWNjb3VudC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFySlMgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJlbWFpbC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJlbWFpbEV4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdlbWFpbEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAgJHNjb3BlLmVtYWlsID0ge1xuICAgICAgICAgICAgICAgICB0ZXh0OiAnbWVAZXhhbXBsZS5jb20nXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgICAgPGxhYmVsPkVtYWlsOlxuICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZW1haWwudGV4dFwiIHJlcXVpcmVkPlxuICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IuZW1haWxcIj5cbiAgICAgICAgICAgICAgICAgTm90IHZhbGlkIGVtYWlsITwvc3Bhbj5cbiAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICA8dHQ+dGV4dCA9IHt7ZW1haWwudGV4dH19PC90dD48YnIvPlxuICAgICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5lbWFpbCA9IHt7ISFteUZvcm0uJGVycm9yLmVtYWlsfX08L3R0Pjxici8+XG4gICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCdlbWFpbC50ZXh0JykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdlbWFpbC50ZXh0JykpO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvQ29udGFpbignbWVAZXhhbXBsZS5jb20nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJycpO1xuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBub3QgZW1haWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygneHh4Jyk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ2VtYWlsJzogZW1haWxJbnB1dFR5cGUsXG5cblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W3JhZGlvXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSFRNTCByYWRpbyBidXR0b24uXG4gICAqXG4gICAqICoqTm90ZToqKjxicj5cbiAgICogQWxsIGlucHV0cyBjb250cm9sbGVkIGJ5IHtAbGluayBuZ01vZGVsIG5nTW9kZWx9IChpbmNsdWRpbmcgdGhvc2Ugb2YgdHlwZSBgcmFkaW9gKSB3aWxsIHVzZSB0aGVcbiAgICogdmFsdWUgb2YgdGhlaXIgYG5hbWVgIGF0dHJpYnV0ZSB0byBkZXRlcm1pbmUgdGhlIHByb3BlcnR5IHVuZGVyIHdoaWNoIHRoZWlyXG4gICAqIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIE5nTW9kZWxDb250cm9sbGVyfSB3aWxsIGJlIHB1Ymxpc2hlZCBvbiB0aGUgcGFyZW50XG4gICAqIHtAbGluayBmb3JtLkZvcm1Db250cm9sbGVyIEZvcm1Db250cm9sbGVyfS4gVGh1cywgaWYgeW91IHVzZSB0aGUgc2FtZSBgbmFtZWAgZm9yIG11bHRpcGxlXG4gICAqIGlucHV0cyBvZiBhIGZvcm0gKGUuZy4gYSBncm91cCBvZiByYWRpbyBpbnB1dHMpLCBvbmx5IF9vbmVfIGBOZ01vZGVsQ29udHJvbGxlcmAgd2lsbCBiZVxuICAgKiBwdWJsaXNoZWQgb24gdGhlIHBhcmVudCBgRm9ybUNvbnRyb2xsZXJgIHVuZGVyIHRoYXQgbmFtZS4gVGhlIHJlc3Qgb2YgdGhlIGNvbnRyb2xsZXJzIHdpbGxcbiAgICogY29udGludWUgdG8gd29yayBhcyBleHBlY3RlZCwgYnV0IHlvdSB3b24ndCBiZSBhYmxlIHRvIGFjY2VzcyB0aGVtIGFzIHByb3BlcnRpZXMgb24gdGhlIHBhcmVudFxuICAgKiBgRm9ybUNvbnRyb2xsZXJgLlxuICAgKlxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICAgKiAgIDxwPlxuICAgKiAgICAgSW4gcGxhaW4gSFRNTCBmb3JtcywgdGhlIGBuYW1lYCBhdHRyaWJ1dGUgaXMgdXNlZCB0byBpZGVudGlmeSBncm91cHMgb2YgcmFkaW8gaW5wdXRzLCBzb1xuICAgKiAgICAgdGhhdCB0aGUgYnJvd3NlciBjYW4gbWFuYWdlIHRoZWlyIHN0YXRlIChjaGVja2VkL3VuY2hlY2tlZCkgYmFzZWQgb24gdGhlIHN0YXRlIG9mIG90aGVyXG4gICAqICAgICBpbnB1dHMgaW4gdGhlIHNhbWUgZ3JvdXAuXG4gICAqICAgPC9wPlxuICAgKiAgIDxwPlxuICAgKiAgICAgSW4gQW5ndWxhckpTIGZvcm1zLCB0aGlzIGlzIG5vdCBuZWNlc3NhcnkuIFRoZSBpbnB1dCdzIHN0YXRlIHdpbGwgYmUgdXBkYXRlZCBiYXNlZCBvbiB0aGVcbiAgICogICAgIHZhbHVlIG9mIHRoZSB1bmRlcmx5aW5nIG1vZGVsIGRhdGEuXG4gICAqICAgPC9wPlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj5cbiAgICogICBJZiB5b3Ugb21pdCB0aGUgYG5hbWVgIGF0dHJpYnV0ZSBvbiBhIHJhZGlvIGlucHV0LCBgbmdNb2RlbGAgd2lsbCBhdXRvbWF0aWNhbGx5IGFzc2lnbiBpdCBhXG4gICAqICAgdW5pcXVlIG5hbWUuXG4gICAqIDwvZGl2PlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIEFuZ3VsYXJKUyBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgYG5nTW9kZWxgIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxuICAgKiAgICBOb3RlIHRoYXQgYHZhbHVlYCBvbmx5IHN1cHBvcnRzIGBzdHJpbmdgIHZhbHVlcywgaS5lLiB0aGUgc2NvcGUgbW9kZWwgbmVlZHMgdG8gYmUgYSBzdHJpbmcsXG4gICAqICAgIHRvby4gVXNlIGBuZ1ZhbHVlYCBpZiB5b3UgbmVlZCBjb21wbGV4IG1vZGVscyAoYG51bWJlcmAsIGBvYmplY3RgLCAuLi4pLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhckpTIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ1ZhbHVlIEFuZ3VsYXJKUyBleHByZXNzaW9uIHRvIHdoaWNoIGBuZ01vZGVsYCB3aWxsIGJlIGJlIHNldCB3aGVuIHRoZSByYWRpb1xuICAgKiAgICBpcyBzZWxlY3RlZC4gU2hvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgYHZhbHVlYCBhdHRyaWJ1dGUgaWYgeW91IG5lZWRcbiAgICogICAgYSBub24tc3RyaW5nIGBuZ01vZGVsYCAoYGJvb2xlYW5gLCBgYXJyYXlgLCAuLi4pLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cInJhZGlvLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInJhZGlvRXhhbXBsZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3JhZGlvRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuY29sb3IgPSB7XG4gICAgICAgICAgICAgICAgIG5hbWU6ICdibHVlJ1xuICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICRzY29wZS5zcGVjaWFsVmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgIFwiaWRcIjogXCIxMjM0NVwiLFxuICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IFwiZ3JlZW5cIlxuICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICB9XSk7XG4gICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIiB2YWx1ZT1cInJlZFwiPlxuICAgICAgICAgICAgIFJlZFxuICAgICAgICAgICA8L2xhYmVsPjxici8+XG4gICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvci5uYW1lXCIgbmctdmFsdWU9XCJzcGVjaWFsVmFsdWVcIj5cbiAgICAgICAgICAgICBHcmVlblxuICAgICAgICAgICA8L2xhYmVsPjxici8+XG4gICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvci5uYW1lXCIgdmFsdWU9XCJibHVlXCI+XG4gICAgICAgICAgICAgQmx1ZVxuICAgICAgICAgICA8L2xhYmVsPjxici8+XG4gICAgICAgICAgIDx0dD5jb2xvciA9IHt7Y29sb3IubmFtZSB8IGpzb259fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgTm90ZSB0aGF0IGBuZy12YWx1ZT1cInNwZWNpYWxWYWx1ZVwiYCBzZXRzIHJhZGlvIGl0ZW0ncyB2YWx1ZSB0byBiZSB0aGUgdmFsdWUgb2YgYCRzY29wZS5zcGVjaWFsVmFsdWVgLlxuICAgICAgICA8L2ZpbGU+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgICBpdCgnc2hvdWxkIGNoYW5nZSBzdGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGlucHV0cyA9IGVsZW1lbnQuYWxsKGJ5Lm1vZGVsKCdjb2xvci5uYW1lJykpO1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gZWxlbWVudChieS5iaW5kaW5nKCdjb2xvci5uYW1lJykpO1xuXG4gICAgICAgICAgICBleHBlY3QoY29sb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2JsdWUnKTtcblxuICAgICAgICAgICAgaW5wdXRzLmdldCgwKS5jbGljaygpO1xuICAgICAgICAgICAgZXhwZWN0KGNvbG9yLmdldFRleHQoKSkudG9Db250YWluKCdyZWQnKTtcblxuICAgICAgICAgICAgaW5wdXRzLmdldCgxKS5jbGljaygpO1xuICAgICAgICAgICAgZXhwZWN0KGNvbG9yLmdldFRleHQoKSkudG9Db250YWluKCdncmVlbicpO1xuICAgICAgICAgIH0pO1xuICAgICAgICA8L2ZpbGU+XG4gICAgICA8L2V4YW1wbGU+XG4gICAqL1xuICAncmFkaW8nOiByYWRpb0lucHV0VHlwZSxcblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W3JhbmdlXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogTmF0aXZlIHJhbmdlIGlucHV0IHdpdGggdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uXG4gICAqXG4gICAqIFRoZSBtb2RlbCBmb3IgdGhlIHJhbmdlIGlucHV0IG11c3QgYWx3YXlzIGJlIGEgYE51bWJlcmAuXG4gICAqXG4gICAqIElFOSBhbmQgb3RoZXIgYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCB0aGUgYHJhbmdlYCB0eXBlIGZhbGwgYmFja1xuICAgKiB0byBhIHRleHQgaW5wdXQgd2l0aG91dCBhbnkgZGVmYXVsdCB2YWx1ZXMgZm9yIGBtaW5gLCBgbWF4YCBhbmQgYHN0ZXBgLiBNb2RlbCBiaW5kaW5nLFxuICAgKiB2YWxpZGF0aW9uIGFuZCBudW1iZXIgcGFyc2luZyBhcmUgbmV2ZXJ0aGVsZXNzIHN1cHBvcnRlZC5cbiAgICpcbiAgICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHJhbmdlIChsYXRlc3QgQ2hyb21lLCBTYWZhcmksIEZpcmVmb3gsIEVkZ2UpIHRyZWF0IGBpbnB1dFtyYW5nZV1gXG4gICAqIGluIGEgd2F5IHRoYXQgbmV2ZXIgYWxsb3dzIHRoZSBpbnB1dCB0byBob2xkIGFuIGludmFsaWQgdmFsdWUuIFRoYXQgbWVhbnM6XG4gICAqIC0gYW55IG5vbi1udW1lcmljYWwgdmFsdWUgaXMgc2V0IHRvIGAobWF4ICsgbWluKSAvIDJgLlxuICAgKiAtIGFueSBudW1lcmljYWwgdmFsdWUgdGhhdCBpcyBsZXNzIHRoYW4gdGhlIGN1cnJlbnQgbWluIHZhbCwgb3IgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IG1heCB2YWxcbiAgICogaXMgc2V0IHRvIHRoZSBtaW4gLyBtYXggdmFsIHJlc3BlY3RpdmVseS5cbiAgICogLSBhZGRpdGlvbmFsbHksIHRoZSBjdXJyZW50IGBzdGVwYCBpcyByZXNwZWN0ZWQsIHNvIHRoZSBuZWFyZXN0IHZhbHVlIHRoYXQgc2F0aXNmaWVzIGEgc3RlcFxuICAgKiBpcyB1c2VkLlxuICAgKlxuICAgKiBTZWUgdGhlIFtIVE1MIFNwZWMgb24gaW5wdXRbdHlwZT1yYW5nZV1dKGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9mb3Jtcy5odG1sI3JhbmdlLXN0YXRlLSh0eXBlPXJhbmdlKSlcbiAgICogZm9yIG1vcmUgaW5mby5cbiAgICpcbiAgICogVGhpcyBoYXMgdGhlIGZvbGxvd2luZyBjb25zZXF1ZW5jZXMgZm9yIEFuZ3VsYXJKUzpcbiAgICpcbiAgICogU2luY2UgdGhlIGVsZW1lbnQgdmFsdWUgc2hvdWxkIGFsd2F5cyByZWZsZWN0IHRoZSBjdXJyZW50IG1vZGVsIHZhbHVlLCBhIHJhbmdlIGlucHV0XG4gICAqIHdpbGwgc2V0IHRoZSBib3VuZCBuZ01vZGVsIGV4cHJlc3Npb24gdG8gdGhlIHZhbHVlIHRoYXQgdGhlIGJyb3dzZXIgaGFzIHNldCBmb3IgdGhlXG4gICAqIGlucHV0IGVsZW1lbnQuIEZvciBleGFtcGxlLCBpbiB0aGUgZm9sbG93aW5nIGlucHV0IGA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbmctbW9kZWw9XCJtb2RlbC52YWx1ZVwiPmAsXG4gICAqIGlmIHRoZSBhcHBsaWNhdGlvbiBzZXRzIGBtb2RlbC52YWx1ZSA9IG51bGxgLCB0aGUgYnJvd3NlciB3aWxsIHNldCB0aGUgaW5wdXQgdG8gYCc1MCdgLlxuICAgKiBBbmd1bGFySlMgd2lsbCB0aGVuIHNldCB0aGUgbW9kZWwgdG8gYDUwYCwgdG8gcHJldmVudCBpbnB1dCBhbmQgbW9kZWwgdmFsdWUgYmVpbmcgb3V0IG9mIHN5bmMuXG4gICAqXG4gICAqIFRoYXQgbWVhbnMgdGhlIG1vZGVsIGZvciByYW5nZSB3aWxsIGltbWVkaWF0ZWx5IGJlIHNldCB0byBgNTBgIGFmdGVyIGBuZ01vZGVsYCBoYXMgYmVlblxuICAgKiBpbml0aWFsaXplZC4gSXQgYWxzbyBtZWFucyBhIHJhbmdlIGlucHV0IGNhbiBuZXZlciBoYXZlIHRoZSByZXF1aXJlZCBlcnJvci5cbiAgICpcbiAgICogVGhpcyBkb2VzIG5vdCBvbmx5IGFmZmVjdCBjaGFuZ2VzIHRvIHRoZSBtb2RlbCB2YWx1ZSwgYnV0IGFsc28gdG8gdGhlIHZhbHVlcyBvZiB0aGUgYG1pbmAsXG4gICAqIGBtYXhgLCBhbmQgYHN0ZXBgIGF0dHJpYnV0ZXMuIFdoZW4gdGhlc2UgY2hhbmdlIGluIGEgd2F5IHRoYXQgd2lsbCBjYXVzZSB0aGUgYnJvd3NlciB0byBtb2RpZnlcbiAgICogdGhlIGlucHV0IHZhbHVlLCBBbmd1bGFySlMgd2lsbCBhbHNvIHVwZGF0ZSB0aGUgbW9kZWwgdmFsdWUuXG4gICAqXG4gICAqIEF1dG9tYXRpYyB2YWx1ZSBhZGp1c3RtZW50IGFsc28gbWVhbnMgdGhhdCBhIHJhbmdlIGlucHV0IGVsZW1lbnQgY2FuIG5ldmVyIGhhdmUgdGhlIGByZXF1aXJlZGAsXG4gICAqIGBtaW5gLCBvciBgbWF4YCBlcnJvcnMuXG4gICAqXG4gICAqIEhvd2V2ZXIsIGBzdGVwYCBpcyBjdXJyZW50bHkgb25seSBmdWxseSBpbXBsZW1lbnRlZCBieSBGaXJlZm94LiBPdGhlciBicm93c2VycyBoYXZlIHByb2JsZW1zXG4gICAqIHdoZW4gdGhlIHN0ZXAgdmFsdWUgY2hhbmdlcyBkeW5hbWljYWxseSAtIHRoZXkgZG8gbm90IGFkanVzdCB0aGUgZWxlbWVudCB2YWx1ZSBjb3JyZWN0bHksIGJ1dFxuICAgKiBpbnN0ZWFkIG1heSBzZXQgdGhlIGBzdGVwTWlzbWF0Y2hgIGVycm9yLiBJZiB0aGF0J3MgdGhlIGNhc2UsIHRoZSBBbmd1bGFySlMgd2lsbCBzZXQgdGhlIGBzdGVwYFxuICAgKiBlcnJvciBvbiB0aGUgaW5wdXQsIGFuZCBzZXQgdGhlIG1vZGVsIHRvIGB1bmRlZmluZWRgLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgYGlucHV0W3JhbmdlXWAgaXMgbm90IGNvbXBhdGlibGUgd2l0aGBuZ01heGAsIGBuZ01pbmAsIGFuZCBgbmdTdGVwYCwgYmVjYXVzZSB0aGV5IGRvXG4gICAqIG5vdCBzZXQgdGhlIGBtaW5gIGFuZCBgbWF4YCBhdHRyaWJ1dGVzLCB3aGljaCBtZWFucyB0aGF0IHRoZSBicm93c2VyIHdvbid0IGF1dG9tYXRpY2FsbHkgYWRqdXN0XG4gICAqIHRoZSBpbnB1dCB2YWx1ZSBiYXNlZCBvbiB0aGVpciB2YWx1ZXMsIGFuZCB3aWxsIGFsd2F5cyBhc3N1bWUgbWluID0gMCwgbWF4ID0gMTAwLCBhbmQgc3RlcCA9IDEuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgbmdNb2RlbCBBc3NpZ25hYmxlIEFuZ3VsYXJKUyBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIHRvIGVuc3VyZSB0aGF0IHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXJcbiAgICogICAgICAgICAgICAgICAgICB0aGFuIGBtaW5gLiBDYW4gYmUgaW50ZXJwb2xhdGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIHRvIGVuc3VyZSB0aGF0IHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWF4YC5cbiAgICogICAgICAgICAgICAgICAgICBDYW4gYmUgaW50ZXJwb2xhdGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHN0ZXAgU2V0cyB0aGUgYHN0ZXBgIHZhbGlkYXRpb24gdG8gZW5zdXJlIHRoYXQgdGhlIHZhbHVlIGVudGVyZWQgbWF0Y2hlcyB0aGUgYHN0ZXBgXG4gICAqICAgICAgICAgICAgICAgICAgQ2FuIGJlIGludGVycG9sYXRlZC5cbiAgICogQHBhcmFtIHtleHByZXNzaW9uPX0gbmdDaGFuZ2UgQW5ndWxhckpTIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiB0aGUgbmdNb2RlbCB2YWx1ZSBjaGFuZ2VzIGR1ZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICB0byB1c2VyIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nQ2hlY2tlZCBJZiB0aGUgZXhwcmVzc2lvbiBpcyB0cnV0aHksIHRoZW4gdGhlIGBjaGVja2VkYCBhdHRyaWJ1dGUgd2lsbCBiZSBzZXQgb24gdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuICoqTm90ZSoqIDogYG5nQ2hlY2tlZGAgc2hvdWxkIG5vdCBiZSB1c2VkIGFsb25nc2lkZSBgbmdNb2RlbGAuXG4gICAqICAgICAgICAgICAgICAgICAgICAgIENoZWNrb3V0IHtAbGluayBuZy5kaXJlY3RpdmU6bmdDaGVja2VkIG5nQ2hlY2tlZH0gZm9yIHVzYWdlLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cInJhbmdlLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInJhbmdlRXhhbXBsZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgncmFuZ2VFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnZhbHVlID0gNzU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1pbiA9IDEwO1xuICAgICAgICAgICAgICAgICRzY29wZS5tYXggPSA5MDtcbiAgICAgICAgICAgICAgfV0pO1xuICAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cblxuICAgICAgICAgICAgTW9kZWwgYXMgcmFuZ2U6IDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBuYW1lPVwicmFuZ2VcIiBuZy1tb2RlbD1cInZhbHVlXCIgbWluPVwie3ttaW59fVwiICBtYXg9XCJ7e21heH19XCI+XG4gICAgICAgICAgICA8aHI+XG4gICAgICAgICAgICBNb2RlbCBhcyBudW1iZXI6IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJ2YWx1ZVwiPjxicj5cbiAgICAgICAgICAgIE1pbjogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cIm1pblwiPjxicj5cbiAgICAgICAgICAgIE1heDogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cIm1heFwiPjxicj5cbiAgICAgICAgICAgIHZhbHVlID0gPGNvZGU+e3t2YWx1ZX19PC9jb2RlPjxici8+XG4gICAgICAgICAgICBteUZvcm0ucmFuZ2UuJHZhbGlkID0gPGNvZGU+e3tteUZvcm0ucmFuZ2UuJHZhbGlkfX08L2NvZGU+PGJyLz5cbiAgICAgICAgICAgIG15Rm9ybS5yYW5nZS4kZXJyb3IgPSA8Y29kZT57e215Rm9ybS5yYW5nZS4kZXJyb3J9fTwvY29kZT5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cblxuICAgKiAjIyBSYW5nZSBJbnB1dCB3aXRoIG5nTWluICYgbmdNYXggYXR0cmlidXRlc1xuXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwicmFuZ2UtaW5wdXQtZGlyZWN0aXZlLW5nXCIgbW9kdWxlPVwicmFuZ2VFeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdyYW5nZUV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUudmFsdWUgPSA3NTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWluID0gMTA7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1heCA9IDkwO1xuICAgICAgICAgICAgICB9XSk7XG4gICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgICAgTW9kZWwgYXMgcmFuZ2U6IDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBuYW1lPVwicmFuZ2VcIiBuZy1tb2RlbD1cInZhbHVlXCIgbmctbWluPVwibWluXCIgbmctbWF4PVwibWF4XCI+XG4gICAgICAgICAgICA8aHI+XG4gICAgICAgICAgICBNb2RlbCBhcyBudW1iZXI6IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJ2YWx1ZVwiPjxicj5cbiAgICAgICAgICAgIE1pbjogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cIm1pblwiPjxicj5cbiAgICAgICAgICAgIE1heDogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cIm1heFwiPjxicj5cbiAgICAgICAgICAgIHZhbHVlID0gPGNvZGU+e3t2YWx1ZX19PC9jb2RlPjxici8+XG4gICAgICAgICAgICBteUZvcm0ucmFuZ2UuJHZhbGlkID0gPGNvZGU+e3tteUZvcm0ucmFuZ2UuJHZhbGlkfX08L2NvZGU+PGJyLz5cbiAgICAgICAgICAgIG15Rm9ybS5yYW5nZS4kZXJyb3IgPSA8Y29kZT57e215Rm9ybS5yYW5nZS4kZXJyb3J9fTwvY29kZT5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cblxuICAgKi9cbiAgJ3JhbmdlJzogcmFuZ2VJbnB1dFR5cGUsXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFtjaGVja2JveF1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEhUTUwgY2hlY2tib3guXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgQW5ndWxhckpTIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nVHJ1ZVZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGQgYmUgc2V0IHdoZW4gc2VsZWN0ZWQuXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nRmFsc2VWYWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIG5vdCBzZWxlY3RlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFySlMgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJjaGVja2JveC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJjaGVja2JveEV4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjaGVja2JveEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrYm94TW9kZWwgPSB7XG4gICAgICAgICAgICAgICAgdmFsdWUxIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTIgOiAnWUVTJ1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgICA8bGFiZWw+VmFsdWUxOlxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrYm94TW9kZWwudmFsdWUxXCI+XG4gICAgICAgICAgIDwvbGFiZWw+PGJyLz5cbiAgICAgICAgICAgPGxhYmVsPlZhbHVlMjpcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2JveE1vZGVsLnZhbHVlMlwiXG4gICAgICAgICAgICAgICAgICAgIG5nLXRydWUtdmFsdWU9XCInWUVTJ1wiIG5nLWZhbHNlLXZhbHVlPVwiJ05PJ1wiPlxuICAgICAgICAgICAgPC9sYWJlbD48YnIvPlxuICAgICAgICAgICA8dHQ+dmFsdWUxID0ge3tjaGVja2JveE1vZGVsLnZhbHVlMX19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+dmFsdWUyID0ge3tjaGVja2JveE1vZGVsLnZhbHVlMn19PC90dD48YnIvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2Ugc3RhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZTEgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NoZWNrYm94TW9kZWwudmFsdWUxJykpO1xuICAgICAgICAgICAgdmFyIHZhbHVlMiA9IGVsZW1lbnQoYnkuYmluZGluZygnY2hlY2tib3hNb2RlbC52YWx1ZTInKSk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTEuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ1lFUycpO1xuXG4gICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2JveE1vZGVsLnZhbHVlMScpKS5jbGljaygpO1xuICAgICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tib3hNb2RlbC52YWx1ZTInKSkuY2xpY2soKTtcblxuICAgICAgICAgICAgZXhwZWN0KHZhbHVlMS5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ05PJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICdjaGVja2JveCc6IGNoZWNrYm94SW5wdXRUeXBlLFxuXG4gICdoaWRkZW4nOiBub29wLFxuICAnYnV0dG9uJzogbm9vcCxcbiAgJ3N1Ym1pdCc6IG5vb3AsXG4gICdyZXNldCc6IG5vb3AsXG4gICdmaWxlJzogbm9vcFxufTtcblxuZnVuY3Rpb24gc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCkge1xuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgPyB2YWx1ZSA6IHZhbHVlLnRvU3RyaW5nKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0ZXh0SW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcbiAgc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCk7XG59XG5cbmZ1bmN0aW9uIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xuICB2YXIgdHlwZSA9IGxvd2VyY2FzZShlbGVtZW50WzBdLnR5cGUpO1xuXG4gIC8vIEluIGNvbXBvc2l0aW9uIG1vZGUsIHVzZXJzIGFyZSBzdGlsbCBpbnB1dHRpbmcgaW50ZXJtZWRpYXRlIHRleHQgYnVmZmVyLFxuICAvLyBob2xkIHRoZSBsaXN0ZW5lciB1bnRpbCBjb21wb3NpdGlvbiBpcyBkb25lLlxuICAvLyBNb3JlIGFib3V0IGNvbXBvc2l0aW9uIGV2ZW50czogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NvbXBvc2l0aW9uRXZlbnRcbiAgaWYgKCEkc25pZmZlci5hbmRyb2lkKSB7XG4gICAgdmFyIGNvbXBvc2luZyA9IGZhbHNlO1xuXG4gICAgZWxlbWVudC5vbignY29tcG9zaXRpb25zdGFydCcsIGZ1bmN0aW9uKCkge1xuICAgICAgY29tcG9zaW5nID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIC8vIFN1cHBvcnQ6IElFOStcbiAgICBlbGVtZW50Lm9uKCdjb21wb3NpdGlvbnVwZGF0ZScsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAvLyBFbmQgY29tcG9zaXRpb24gd2hlbiBldi5kYXRhIGlzIGVtcHR5IHN0cmluZyBvbiAnY29tcG9zaXRpb251cGRhdGUnIGV2ZW50LlxuICAgICAgLy8gV2hlbiB0aGUgaW5wdXQgZGUtZm9jdXNzZXMgKGUuZy4gYnkgY2xpY2tpbmcgYXdheSksIElFIHRyaWdnZXJzICdjb21wb3NpdGlvbnVwZGF0ZSdcbiAgICAgIC8vIGluc3RlYWQgb2YgJ2NvbXBvc2l0aW9uZW5kJy5cbiAgICAgIGlmIChpc1VuZGVmaW5lZChldi5kYXRhKSB8fCBldi5kYXRhID09PSAnJykge1xuICAgICAgICBjb21wb3NpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGVsZW1lbnQub24oJ2NvbXBvc2l0aW9uZW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICBjb21wb3NpbmcgPSBmYWxzZTtcbiAgICAgIGxpc3RlbmVyKCk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgdGltZW91dDtcblxuICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldikge1xuICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAkYnJvd3Nlci5kZWZlci5jYW5jZWwodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGNvbXBvc2luZykgcmV0dXJuO1xuICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQudmFsKCksXG4gICAgICAgIGV2ZW50ID0gZXYgJiYgZXYudHlwZTtcblxuICAgIC8vIEJ5IGRlZmF1bHQgd2Ugd2lsbCB0cmltIHRoZSB2YWx1ZVxuICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgbmctdHJpbSBleGlzdHMgd2Ugd2lsbCBhdm9pZCB0cmltbWluZ1xuICAgIC8vIElmIGlucHV0IHR5cGUgaXMgJ3Bhc3N3b3JkJywgdGhlIHZhbHVlIGlzIG5ldmVyIHRyaW1tZWRcbiAgICBpZiAodHlwZSAhPT0gJ3Bhc3N3b3JkJyAmJiAoIWF0dHIubmdUcmltIHx8IGF0dHIubmdUcmltICE9PSAnZmFsc2UnKSkge1xuICAgICAgdmFsdWUgPSB0cmltKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBJZiBhIGNvbnRyb2wgaXMgc3VmZmVyaW5nIGZyb20gYmFkIGlucHV0IChkdWUgdG8gbmF0aXZlIHZhbGlkYXRvcnMpLCBicm93c2VycyBkaXNjYXJkIGl0c1xuICAgIC8vIHZhbHVlLCBzbyBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIHJldmFsaWRhdGUgKGJ5IGNhbGxpbmcgJHNldFZpZXdWYWx1ZSBhZ2FpbikgZXZlbiBpZiB0aGVcbiAgICAvLyBjb250cm9sJ3MgdmFsdWUgaXMgdGhlIHNhbWUgZW1wdHkgdmFsdWUgdHdpY2UgaW4gYSByb3cuXG4gICAgaWYgKGN0cmwuJHZpZXdWYWx1ZSAhPT0gdmFsdWUgfHwgKHZhbHVlID09PSAnJyAmJiBjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycykpIHtcbiAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZSh2YWx1ZSwgZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICAvLyBpZiB0aGUgYnJvd3NlciBkb2VzIHN1cHBvcnQgXCJpbnB1dFwiIGV2ZW50LCB3ZSBhcmUgZmluZSAtIGV4Y2VwdCBvbiBJRTkgd2hpY2ggZG9lc24ndCBmaXJlIHRoZVxuICAvLyBpbnB1dCBldmVudCBvbiBiYWNrc3BhY2UsIGRlbGV0ZSBvciBjdXRcbiAgaWYgKCRzbmlmZmVyLmhhc0V2ZW50KCdpbnB1dCcpKSB7XG4gICAgZWxlbWVudC5vbignaW5wdXQnLCBsaXN0ZW5lcik7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGRlZmVyTGlzdGVuZXIgPSBmdW5jdGlvbihldiwgaW5wdXQsIG9yaWdWYWx1ZSkge1xuICAgICAgaWYgKCF0aW1lb3V0KSB7XG4gICAgICAgIHRpbWVvdXQgPSAkYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICBpZiAoIWlucHV0IHx8IGlucHV0LnZhbHVlICE9PSBvcmlnVmFsdWUpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKGV2KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBlbGVtZW50Lm9uKCdrZXlkb3duJywgLyoqIEB0aGlzICovIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIga2V5ID0gZXZlbnQua2V5Q29kZTtcblxuICAgICAgLy8gaWdub3JlXG4gICAgICAvLyAgICBjb21tYW5kICAgICAgICAgICAgbW9kaWZpZXJzICAgICAgICAgICAgICAgICAgIGFycm93c1xuICAgICAgaWYgKGtleSA9PT0gOTEgfHwgKDE1IDwga2V5ICYmIGtleSA8IDE5KSB8fCAoMzcgPD0ga2V5ICYmIGtleSA8PSA0MCkpIHJldHVybjtcblxuICAgICAgZGVmZXJMaXN0ZW5lcihldmVudCwgdGhpcywgdGhpcy52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvLyBpZiB1c2VyIG1vZGlmaWVzIGlucHV0IHZhbHVlIHVzaW5nIGNvbnRleHQgbWVudSBpbiBJRSwgd2UgbmVlZCBcInBhc3RlXCIsIFwiY3V0XCIgYW5kIFwiZHJvcFwiIGV2ZW50cyB0byBjYXRjaCBpdFxuICAgIGlmICgkc25pZmZlci5oYXNFdmVudCgncGFzdGUnKSkge1xuICAgICAgZWxlbWVudC5vbigncGFzdGUgY3V0IGRyb3AnLCBkZWZlckxpc3RlbmVyKTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB1c2VyIHBhc3RlIGludG8gaW5wdXQgdXNpbmcgbW91c2Ugb24gb2xkZXIgYnJvd3NlclxuICAvLyBvciBmb3JtIGF1dG9jb21wbGV0ZSBvbiBuZXdlciBicm93c2VyLCB3ZSBuZWVkIFwiY2hhbmdlXCIgZXZlbnQgdG8gY2F0Y2ggaXRcbiAgZWxlbWVudC5vbignY2hhbmdlJywgbGlzdGVuZXIpO1xuXG4gIC8vIFNvbWUgbmF0aXZlIGlucHV0IHR5cGVzIChkYXRlLWZhbWlseSkgaGF2ZSB0aGUgYWJpbGl0eSB0byBjaGFuZ2UgdmFsaWRpdHkgd2l0aG91dFxuICAvLyBmaXJpbmcgYW55IGlucHV0L2NoYW5nZSBldmVudHMuXG4gIC8vIEZvciB0aGVzZSBldmVudCB0eXBlcywgd2hlbiBuYXRpdmUgdmFsaWRhdG9ycyBhcmUgcHJlc2VudCBhbmQgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIHR5cGUsXG4gIC8vIGNoZWNrIGZvciB2YWxpZGl0eSBjaGFuZ2VzIG9uIHZhcmlvdXMgRE9NIGV2ZW50cy5cbiAgaWYgKFBBUlRJQUxfVkFMSURBVElPTl9UWVBFU1t0eXBlXSAmJiBjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycyAmJiB0eXBlID09PSBhdHRyLnR5cGUpIHtcbiAgICBlbGVtZW50Lm9uKFBBUlRJQUxfVkFMSURBVElPTl9FVkVOVFMsIC8qKiBAdGhpcyAqLyBmdW5jdGlvbihldikge1xuICAgICAgaWYgKCF0aW1lb3V0KSB7XG4gICAgICAgIHZhciB2YWxpZGl0eSA9IHRoaXNbVkFMSURJVFlfU1RBVEVfUFJPUEVSVFldO1xuICAgICAgICB2YXIgb3JpZ0JhZElucHV0ID0gdmFsaWRpdHkuYmFkSW5wdXQ7XG4gICAgICAgIHZhciBvcmlnVHlwZU1pc21hdGNoID0gdmFsaWRpdHkudHlwZU1pc21hdGNoO1xuICAgICAgICB0aW1lb3V0ID0gJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgaWYgKHZhbGlkaXR5LmJhZElucHV0ICE9PSBvcmlnQmFkSW5wdXQgfHwgdmFsaWRpdHkudHlwZU1pc21hdGNoICE9PSBvcmlnVHlwZU1pc21hdGNoKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcihldik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIFdvcmthcm91bmQgZm9yIEZpcmVmb3ggdmFsaWRhdGlvbiAjMTIxMDIuXG4gICAgdmFyIHZhbHVlID0gY3RybC4kaXNFbXB0eShjdHJsLiR2aWV3VmFsdWUpID8gJycgOiBjdHJsLiR2aWV3VmFsdWU7XG4gICAgaWYgKGVsZW1lbnQudmFsKCkgIT09IHZhbHVlKSB7XG4gICAgICBlbGVtZW50LnZhbCh2YWx1ZSk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiB3ZWVrUGFyc2VyKGlzb1dlZWssIGV4aXN0aW5nRGF0ZSkge1xuICBpZiAoaXNEYXRlKGlzb1dlZWspKSB7XG4gICAgcmV0dXJuIGlzb1dlZWs7XG4gIH1cblxuICBpZiAoaXNTdHJpbmcoaXNvV2VlaykpIHtcbiAgICBXRUVLX1JFR0VYUC5sYXN0SW5kZXggPSAwO1xuICAgIHZhciBwYXJ0cyA9IFdFRUtfUkVHRVhQLmV4ZWMoaXNvV2Vlayk7XG4gICAgaWYgKHBhcnRzKSB7XG4gICAgICB2YXIgeWVhciA9ICtwYXJ0c1sxXSxcbiAgICAgICAgICB3ZWVrID0gK3BhcnRzWzJdLFxuICAgICAgICAgIGhvdXJzID0gMCxcbiAgICAgICAgICBtaW51dGVzID0gMCxcbiAgICAgICAgICBzZWNvbmRzID0gMCxcbiAgICAgICAgICBtaWxsaXNlY29uZHMgPSAwLFxuICAgICAgICAgIGZpcnN0VGh1cnMgPSBnZXRGaXJzdFRodXJzZGF5T2ZZZWFyKHllYXIpLFxuICAgICAgICAgIGFkZERheXMgPSAod2VlayAtIDEpICogNztcblxuICAgICAgaWYgKGV4aXN0aW5nRGF0ZSkge1xuICAgICAgICBob3VycyA9IGV4aXN0aW5nRGF0ZS5nZXRIb3VycygpO1xuICAgICAgICBtaW51dGVzID0gZXhpc3RpbmdEYXRlLmdldE1pbnV0ZXMoKTtcbiAgICAgICAgc2Vjb25kcyA9IGV4aXN0aW5nRGF0ZS5nZXRTZWNvbmRzKCk7XG4gICAgICAgIG1pbGxpc2Vjb25kcyA9IGV4aXN0aW5nRGF0ZS5nZXRNaWxsaXNlY29uZHMoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIDAsIGZpcnN0VGh1cnMuZ2V0RGF0ZSgpICsgYWRkRGF5cywgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIG1pbGxpc2Vjb25kcyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIE5hTjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGF0ZVBhcnNlcihyZWdleHAsIG1hcHBpbmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGlzbywgcHJldmlvdXNEYXRlKSB7XG4gICAgdmFyIHBhcnRzLCBtYXA7XG5cbiAgICBpZiAoaXNEYXRlKGlzbykpIHtcbiAgICAgIHJldHVybiBpc287XG4gICAgfVxuXG4gICAgaWYgKGlzU3RyaW5nKGlzbykpIHtcbiAgICAgIC8vIFdoZW4gYSBkYXRlIGlzIEpTT04naWZpZWQgdG8gd3JhcHMgaXRzZWxmIGluc2lkZSBvZiBhbiBleHRyYVxuICAgICAgLy8gc2V0IG9mIGRvdWJsZSBxdW90ZXMuIFRoaXMgbWFrZXMgdGhlIGRhdGUgcGFyc2luZyBjb2RlIHVuYWJsZVxuICAgICAgLy8gdG8gbWF0Y2ggdGhlIGRhdGUgc3RyaW5nIGFuZCBwYXJzZSBpdCBhcyBhIGRhdGUuXG4gICAgICBpZiAoaXNvLmNoYXJBdCgwKSA9PT0gJ1wiJyAmJiBpc28uY2hhckF0KGlzby5sZW5ndGggLSAxKSA9PT0gJ1wiJykge1xuICAgICAgICBpc28gPSBpc28uc3Vic3RyaW5nKDEsIGlzby5sZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChJU09fREFURV9SRUdFWFAudGVzdChpc28pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShpc28pO1xuICAgICAgfVxuICAgICAgcmVnZXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICBwYXJ0cyA9IHJlZ2V4cC5leGVjKGlzbyk7XG5cbiAgICAgIGlmIChwYXJ0cykge1xuICAgICAgICBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICBpZiAocHJldmlvdXNEYXRlKSB7XG4gICAgICAgICAgbWFwID0ge1xuICAgICAgICAgICAgeXl5eTogcHJldmlvdXNEYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICBNTTogcHJldmlvdXNEYXRlLmdldE1vbnRoKCkgKyAxLFxuICAgICAgICAgICAgZGQ6IHByZXZpb3VzRGF0ZS5nZXREYXRlKCksXG4gICAgICAgICAgICBISDogcHJldmlvdXNEYXRlLmdldEhvdXJzKCksXG4gICAgICAgICAgICBtbTogcHJldmlvdXNEYXRlLmdldE1pbnV0ZXMoKSxcbiAgICAgICAgICAgIHNzOiBwcmV2aW91c0RhdGUuZ2V0U2Vjb25kcygpLFxuICAgICAgICAgICAgc3NzOiBwcmV2aW91c0RhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgLyAxMDAwXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXAgPSB7IHl5eXk6IDE5NzAsIE1NOiAxLCBkZDogMSwgSEg6IDAsIG1tOiAwLCBzczogMCwgc3NzOiAwIH07XG4gICAgICAgIH1cblxuICAgICAgICBmb3JFYWNoKHBhcnRzLCBmdW5jdGlvbihwYXJ0LCBpbmRleCkge1xuICAgICAgICAgIGlmIChpbmRleCA8IG1hcHBpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICBtYXBbbWFwcGluZ1tpbmRleF1dID0gK3BhcnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKG1hcC55eXl5LCBtYXAuTU0gLSAxLCBtYXAuZGQsIG1hcC5ISCwgbWFwLm1tLCBtYXAuc3MgfHwgMCwgbWFwLnNzcyAqIDEwMDAgfHwgMCk7XG4gICAgICAgIGlmIChtYXAueXl5eSA8IDEwMCkge1xuICAgICAgICAgIC8vIEluIHRoZSBjb25zdHJ1Y3RvciwgMi1kaWdpdCB5ZWFycyBtYXAgdG8gMTkwMC0xOTk5LlxuICAgICAgICAgIC8vIFVzZSBgc2V0RnVsbFllYXIoKWAgdG8gc2V0IHRoZSBjb3JyZWN0IHllYXIuXG4gICAgICAgICAgZGF0ZS5zZXRGdWxsWWVhcihtYXAueXl5eSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gTmFOO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEYXRlSW5wdXRUeXBlKHR5cGUsIHJlZ2V4cCwgcGFyc2VEYXRlLCBmb3JtYXQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGR5bmFtaWNEYXRlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIsICRmaWx0ZXIsICRwYXJzZSkge1xuICAgIGJhZElucHV0Q2hlY2tlcihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgdHlwZSk7XG4gICAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcblxuICAgIHZhciBpc1RpbWVUeXBlID0gdHlwZSA9PT0gJ3RpbWUnIHx8IHR5cGUgPT09ICdkYXRldGltZWxvY2FsJztcbiAgICB2YXIgcHJldmlvdXNEYXRlO1xuICAgIHZhciBwcmV2aW91c1RpbWV6b25lO1xuXG4gICAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoY3RybC4kaXNFbXB0eSh2YWx1ZSkpIHJldHVybiBudWxsO1xuXG4gICAgICBpZiAocmVnZXhwLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIC8vIE5vdGU6IFdlIGNhbm5vdCByZWFkIGN0cmwuJG1vZGVsVmFsdWUsIGFzIHRoZXJlIG1pZ2h0IGJlIGEgZGlmZmVyZW50XG4gICAgICAgIC8vIHBhcnNlci9mb3JtYXR0ZXIgaW4gdGhlIHByb2Nlc3NpbmcgY2hhaW4gc28gdGhhdCB0aGUgbW9kZWxcbiAgICAgICAgLy8gY29udGFpbnMgc29tZSBkaWZmZXJlbnQgZGF0YSBmb3JtYXQhXG4gICAgICAgIHJldHVybiBwYXJzZURhdGVBbmRDb252ZXJ0VGltZVpvbmVUb0xvY2FsKHZhbHVlLCBwcmV2aW91c0RhdGUpO1xuICAgICAgfVxuICAgICAgY3RybC4kJHBhcnNlck5hbWUgPSB0eXBlO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcblxuICAgIGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlICYmICFpc0RhdGUodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5nTW9kZWxNaW5FcnIoJ2RhdGVmbXQnLCAnRXhwZWN0ZWQgYHswfWAgdG8gYmUgYSBkYXRlJywgdmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGlzVmFsaWREYXRlKHZhbHVlKSkge1xuICAgICAgICBwcmV2aW91c0RhdGUgPSB2YWx1ZTtcbiAgICAgICAgdmFyIHRpbWV6b25lID0gY3RybC4kb3B0aW9ucy5nZXRPcHRpb24oJ3RpbWV6b25lJyk7XG5cbiAgICAgICAgaWYgKHRpbWV6b25lKSB7XG4gICAgICAgICAgcHJldmlvdXNUaW1lem9uZSA9IHRpbWV6b25lO1xuICAgICAgICAgIHByZXZpb3VzRGF0ZSA9IGNvbnZlcnRUaW1lem9uZVRvTG9jYWwocHJldmlvdXNEYXRlLCB0aW1lem9uZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm9ybWF0dGVyKHZhbHVlLCB0aW1lem9uZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmV2aW91c0RhdGUgPSBudWxsO1xuICAgICAgICBwcmV2aW91c1RpbWV6b25lID0gbnVsbDtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGlzRGVmaW5lZChhdHRyLm1pbikgfHwgYXR0ci5uZ01pbikge1xuICAgICAgdmFyIG1pblZhbCA9IGF0dHIubWluIHx8ICRwYXJzZShhdHRyLm5nTWluKShzY29wZSk7XG4gICAgICB2YXIgcGFyc2VkTWluVmFsID0gcGFyc2VPYnNlcnZlZERhdGVWYWx1ZShtaW5WYWwpO1xuXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLm1pbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhaXNWYWxpZERhdGUodmFsdWUpIHx8IGlzVW5kZWZpbmVkKHBhcnNlZE1pblZhbCkgfHwgcGFyc2VEYXRlKHZhbHVlKSA+PSBwYXJzZWRNaW5WYWw7XG4gICAgICB9O1xuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWluJywgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIGlmICh2YWwgIT09IG1pblZhbCkge1xuICAgICAgICAgIHBhcnNlZE1pblZhbCA9IHBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUodmFsKTtcbiAgICAgICAgICBtaW5WYWwgPSB2YWw7XG4gICAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGlzRGVmaW5lZChhdHRyLm1heCkgfHwgYXR0ci5uZ01heCkge1xuICAgICAgdmFyIG1heFZhbCA9IGF0dHIubWF4IHx8ICRwYXJzZShhdHRyLm5nTWF4KShzY29wZSk7XG4gICAgICB2YXIgcGFyc2VkTWF4VmFsID0gcGFyc2VPYnNlcnZlZERhdGVWYWx1ZShtYXhWYWwpO1xuXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLm1heCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhaXNWYWxpZERhdGUodmFsdWUpIHx8IGlzVW5kZWZpbmVkKHBhcnNlZE1heFZhbCkgfHwgcGFyc2VEYXRlKHZhbHVlKSA8PSBwYXJzZWRNYXhWYWw7XG4gICAgICB9O1xuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWF4JywgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIGlmICh2YWwgIT09IG1heFZhbCkge1xuICAgICAgICAgIHBhcnNlZE1heFZhbCA9IHBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUodmFsKTtcbiAgICAgICAgICBtYXhWYWwgPSB2YWw7XG4gICAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNWYWxpZERhdGUodmFsdWUpIHtcbiAgICAgIC8vIEludmFsaWQgRGF0ZTogZ2V0VGltZSgpIHJldHVybnMgTmFOXG4gICAgICByZXR1cm4gdmFsdWUgJiYgISh2YWx1ZS5nZXRUaW1lICYmIHZhbHVlLmdldFRpbWUoKSAhPT0gdmFsdWUuZ2V0VGltZSgpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCkge1xuICAgICAgcmV0dXJuIGlzRGVmaW5lZCh2YWwpICYmICFpc0RhdGUodmFsKSA/IHBhcnNlRGF0ZUFuZENvbnZlcnRUaW1lWm9uZVRvTG9jYWwodmFsKSB8fCB1bmRlZmluZWQgOiB2YWw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VEYXRlQW5kQ29udmVydFRpbWVab25lVG9Mb2NhbCh2YWx1ZSwgcHJldmlvdXNEYXRlKSB7XG4gICAgICB2YXIgdGltZXpvbmUgPSBjdHJsLiRvcHRpb25zLmdldE9wdGlvbigndGltZXpvbmUnKTtcblxuICAgICAgaWYgKHByZXZpb3VzVGltZXpvbmUgJiYgcHJldmlvdXNUaW1lem9uZSAhPT0gdGltZXpvbmUpIHtcbiAgICAgICAgLy8gSWYgdGhlIHRpbWV6b25lIGhhcyBjaGFuZ2VkLCBhZGp1c3QgdGhlIHByZXZpb3VzRGF0ZSB0byB0aGUgZGVmYXVsdCB0aW1lem9uZVxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBuZXcgZGF0ZSBpcyBjb252ZXJ0ZWQgd2l0aCB0aGUgY29ycmVjdCB0aW1lem9uZSBvZmZzZXRcbiAgICAgICAgcHJldmlvdXNEYXRlID0gYWRkRGF0ZU1pbnV0ZXMocHJldmlvdXNEYXRlLCB0aW1lem9uZVRvT2Zmc2V0KHByZXZpb3VzVGltZXpvbmUpKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcnNlZERhdGUgPSBwYXJzZURhdGUodmFsdWUsIHByZXZpb3VzRGF0ZSk7XG5cbiAgICAgIGlmICghaXNOYU4ocGFyc2VkRGF0ZSkgJiYgdGltZXpvbmUpIHtcbiAgICAgICAgcGFyc2VkRGF0ZSA9IGNvbnZlcnRUaW1lem9uZVRvTG9jYWwocGFyc2VkRGF0ZSwgdGltZXpvbmUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhcnNlZERhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZm9ybWF0dGVyKHZhbHVlLCB0aW1lem9uZSkge1xuICAgICAgdmFyIHRhcmdldEZvcm1hdCA9IGZvcm1hdDtcblxuICAgICAgaWYgKGlzVGltZVR5cGUgJiYgaXNTdHJpbmcoY3RybC4kb3B0aW9ucy5nZXRPcHRpb24oJ3RpbWVTZWNvbmRzRm9ybWF0JykpKSB7XG4gICAgICAgIHRhcmdldEZvcm1hdCA9IGZvcm1hdFxuICAgICAgICAgIC5yZXBsYWNlKCdzcy5zc3MnLCBjdHJsLiRvcHRpb25zLmdldE9wdGlvbigndGltZVNlY29uZHNGb3JtYXQnKSlcbiAgICAgICAgICAucmVwbGFjZSgvOiQvLCAnJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBmb3JtYXR0ZWQgPSAgJGZpbHRlcignZGF0ZScpKHZhbHVlLCB0YXJnZXRGb3JtYXQsIHRpbWV6b25lKTtcblxuICAgICAgaWYgKGlzVGltZVR5cGUgJiYgY3RybC4kb3B0aW9ucy5nZXRPcHRpb24oJ3RpbWVTdHJpcFplcm9TZWNvbmRzJykpIHtcbiAgICAgICAgZm9ybWF0dGVkID0gZm9ybWF0dGVkLnJlcGxhY2UoLyg/OjowMCk/KD86XFwuMDAwKT8kLywgJycpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm9ybWF0dGVkO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gYmFkSW5wdXRDaGVja2VyKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCBwYXJzZXJOYW1lKSB7XG4gIHZhciBub2RlID0gZWxlbWVudFswXTtcbiAgdmFyIG5hdGl2ZVZhbGlkYXRpb24gPSBjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycyA9IGlzT2JqZWN0KG5vZGUudmFsaWRpdHkpO1xuICBpZiAobmF0aXZlVmFsaWRhdGlvbikge1xuICAgIGN0cmwuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIHZhbGlkaXR5ID0gZWxlbWVudC5wcm9wKFZBTElESVRZX1NUQVRFX1BST1BFUlRZKSB8fCB7fTtcbiAgICAgIGlmICh2YWxpZGl0eS5iYWRJbnB1dCB8fCB2YWxpZGl0eS50eXBlTWlzbWF0Y2gpIHtcbiAgICAgICAgY3RybC4kJHBhcnNlck5hbWUgPSBwYXJzZXJOYW1lO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbnVtYmVyRm9ybWF0dGVyUGFyc2VyKGN0cmwpIHtcbiAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKGN0cmwuJGlzRW1wdHkodmFsdWUpKSAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChOVU1CRVJfUkVHRVhQLnRlc3QodmFsdWUpKSByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG5cbiAgICBjdHJsLiQkcGFyc2VyTmFtZSA9ICdudW1iZXInO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0pO1xuXG4gIGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICghY3RybC4kaXNFbXB0eSh2YWx1ZSkpIHtcbiAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5nTW9kZWxNaW5FcnIoJ251bWZtdCcsICdFeHBlY3RlZCBgezB9YCB0byBiZSBhIG51bWJlcicsIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcGFyc2VOdW1iZXJBdHRyVmFsKHZhbCkge1xuICBpZiAoaXNEZWZpbmVkKHZhbCkgJiYgIWlzTnVtYmVyKHZhbCkpIHtcbiAgICB2YWwgPSBwYXJzZUZsb2F0KHZhbCk7XG4gIH1cbiAgcmV0dXJuICFpc051bWJlck5hTih2YWwpID8gdmFsIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc051bWJlckludGVnZXIobnVtKSB7XG4gIC8vIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE0NjM2NTM2L2hvdy10by1jaGVjay1pZi1hLXZhcmlhYmxlLWlzLWFuLWludGVnZXItaW4tamF2YXNjcmlwdCMxNDc5NDA2NlxuICAvLyAobWludXMgdGhlIGFzc3VtcHRpb24gdGhhdCBgbnVtYCBpcyBhIG51bWJlcilcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICByZXR1cm4gKG51bSB8IDApID09PSBudW07XG59XG5cbmZ1bmN0aW9uIGNvdW50RGVjaW1hbHMobnVtKSB7XG4gIHZhciBudW1TdHJpbmcgPSBudW0udG9TdHJpbmcoKTtcbiAgdmFyIGRlY2ltYWxTeW1ib2xJbmRleCA9IG51bVN0cmluZy5pbmRleE9mKCcuJyk7XG5cbiAgaWYgKGRlY2ltYWxTeW1ib2xJbmRleCA9PT0gLTEpIHtcbiAgICBpZiAoLTEgPCBudW0gJiYgbnVtIDwgMSkge1xuICAgICAgLy8gSXQgbWF5IGJlIGluIHRoZSBleHBvbmVudGlhbCBub3RhdGlvbiBmb3JtYXQgKGAxZS1YYClcbiAgICAgIHZhciBtYXRjaCA9IC9lLShcXGQrKSQvLmV4ZWMobnVtU3RyaW5nKTtcblxuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIobWF0Y2hbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgcmV0dXJuIG51bVN0cmluZy5sZW5ndGggLSBkZWNpbWFsU3ltYm9sSW5kZXggLSAxO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkRm9yU3RlcCh2aWV3VmFsdWUsIHN0ZXBCYXNlLCBzdGVwKSB7XG4gIC8vIEF0IHRoaXMgcG9pbnQgYHN0ZXBCYXNlYCBhbmQgYHN0ZXBgIGFyZSBleHBlY3RlZCB0byBiZSBub24tTmFOIHZhbHVlc1xuICAvLyBhbmQgYHZpZXdWYWx1ZWAgaXMgZXhwZWN0ZWQgdG8gYmUgYSB2YWxpZCBzdHJpbmdpZmllZCBudW1iZXIuXG4gIHZhciB2YWx1ZSA9IE51bWJlcih2aWV3VmFsdWUpO1xuXG4gIHZhciBpc05vbkludGVnZXJWYWx1ZSA9ICFpc051bWJlckludGVnZXIodmFsdWUpO1xuICB2YXIgaXNOb25JbnRlZ2VyU3RlcEJhc2UgPSAhaXNOdW1iZXJJbnRlZ2VyKHN0ZXBCYXNlKTtcbiAgdmFyIGlzTm9uSW50ZWdlclN0ZXAgPSAhaXNOdW1iZXJJbnRlZ2VyKHN0ZXApO1xuXG4gIC8vIER1ZSB0byBsaW1pdGF0aW9ucyBpbiBGbG9hdGluZyBQb2ludCBBcml0aG1ldGljIChlLmcuIGAwLjMgLSAwLjIgIT09IDAuMWAgb3JcbiAgLy8gYDAuNSAlIDAuMSAhPT0gMGApLCB3ZSBuZWVkIHRvIGNvbnZlcnQgYWxsIG51bWJlcnMgdG8gaW50ZWdlcnMuXG4gIGlmIChpc05vbkludGVnZXJWYWx1ZSB8fCBpc05vbkludGVnZXJTdGVwQmFzZSB8fCBpc05vbkludGVnZXJTdGVwKSB7XG4gICAgdmFyIHZhbHVlRGVjaW1hbHMgPSBpc05vbkludGVnZXJWYWx1ZSA/IGNvdW50RGVjaW1hbHModmFsdWUpIDogMDtcbiAgICB2YXIgc3RlcEJhc2VEZWNpbWFscyA9IGlzTm9uSW50ZWdlclN0ZXBCYXNlID8gY291bnREZWNpbWFscyhzdGVwQmFzZSkgOiAwO1xuICAgIHZhciBzdGVwRGVjaW1hbHMgPSBpc05vbkludGVnZXJTdGVwID8gY291bnREZWNpbWFscyhzdGVwKSA6IDA7XG5cbiAgICB2YXIgZGVjaW1hbENvdW50ID0gTWF0aC5tYXgodmFsdWVEZWNpbWFscywgc3RlcEJhc2VEZWNpbWFscywgc3RlcERlY2ltYWxzKTtcbiAgICB2YXIgbXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBkZWNpbWFsQ291bnQpO1xuXG4gICAgdmFsdWUgPSB2YWx1ZSAqIG11bHRpcGxpZXI7XG4gICAgc3RlcEJhc2UgPSBzdGVwQmFzZSAqIG11bHRpcGxpZXI7XG4gICAgc3RlcCA9IHN0ZXAgKiBtdWx0aXBsaWVyO1xuXG4gICAgaWYgKGlzTm9uSW50ZWdlclZhbHVlKSB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUpO1xuICAgIGlmIChpc05vbkludGVnZXJTdGVwQmFzZSkgc3RlcEJhc2UgPSBNYXRoLnJvdW5kKHN0ZXBCYXNlKTtcbiAgICBpZiAoaXNOb25JbnRlZ2VyU3RlcCkgc3RlcCA9IE1hdGgucm91bmQoc3RlcCk7XG4gIH1cblxuICByZXR1cm4gKHZhbHVlIC0gc3RlcEJhc2UpICUgc3RlcCA9PT0gMDtcbn1cblxuZnVuY3Rpb24gbnVtYmVySW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIsICRmaWx0ZXIsICRwYXJzZSkge1xuICBiYWRJbnB1dENoZWNrZXIoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICdudW1iZXInKTtcbiAgbnVtYmVyRm9ybWF0dGVyUGFyc2VyKGN0cmwpO1xuICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xuXG4gIHZhciBwYXJzZWRNaW5WYWw7XG5cbiAgaWYgKGlzRGVmaW5lZChhdHRyLm1pbikgfHwgYXR0ci5uZ01pbikge1xuICAgIHZhciBtaW5WYWwgPSBhdHRyLm1pbiB8fCAkcGFyc2UoYXR0ci5uZ01pbikoc2NvcGUpO1xuICAgIHBhcnNlZE1pblZhbCA9IHBhcnNlTnVtYmVyQXR0clZhbChtaW5WYWwpO1xuXG4gICAgY3RybC4kdmFsaWRhdG9ycy5taW4gPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgaXNVbmRlZmluZWQocGFyc2VkTWluVmFsKSB8fCB2aWV3VmFsdWUgPj0gcGFyc2VkTWluVmFsO1xuICAgIH07XG5cbiAgICBhdHRyLiRvYnNlcnZlKCdtaW4nLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmICh2YWwgIT09IG1pblZhbCkge1xuICAgICAgICBwYXJzZWRNaW5WYWwgPSBwYXJzZU51bWJlckF0dHJWYWwodmFsKTtcbiAgICAgICAgbWluVmFsID0gdmFsO1xuICAgICAgICAvLyBUT0RPKG1hdHNrbyk6IGltcGxlbWVudCB2YWxpZGF0ZUxhdGVyIHRvIHJlZHVjZSBudW1iZXIgb2YgdmFsaWRhdGlvbnNcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmIChpc0RlZmluZWQoYXR0ci5tYXgpIHx8IGF0dHIubmdNYXgpIHtcbiAgICB2YXIgbWF4VmFsID0gYXR0ci5tYXggfHwgJHBhcnNlKGF0dHIubmdNYXgpKHNjb3BlKTtcbiAgICB2YXIgcGFyc2VkTWF4VmFsID0gcGFyc2VOdW1iZXJBdHRyVmFsKG1heFZhbCk7XG5cbiAgICBjdHJsLiR2YWxpZGF0b3JzLm1heCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCBpc1VuZGVmaW5lZChwYXJzZWRNYXhWYWwpIHx8IHZpZXdWYWx1ZSA8PSBwYXJzZWRNYXhWYWw7XG4gICAgfTtcblxuICAgIGF0dHIuJG9ic2VydmUoJ21heCcsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKHZhbCAhPT0gbWF4VmFsKSB7XG4gICAgICAgIHBhcnNlZE1heFZhbCA9IHBhcnNlTnVtYmVyQXR0clZhbCh2YWwpO1xuICAgICAgICBtYXhWYWwgPSB2YWw7XG4gICAgICAgIC8vIFRPRE8obWF0c2tvKTogaW1wbGVtZW50IHZhbGlkYXRlTGF0ZXIgdG8gcmVkdWNlIG51bWJlciBvZiB2YWxpZGF0aW9uc1xuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGlzRGVmaW5lZChhdHRyLnN0ZXApIHx8IGF0dHIubmdTdGVwKSB7XG4gICAgdmFyIHN0ZXBWYWwgPSBhdHRyLnN0ZXAgfHwgJHBhcnNlKGF0dHIubmdTdGVwKShzY29wZSk7XG4gICAgdmFyIHBhcnNlZFN0ZXBWYWwgPSBwYXJzZU51bWJlckF0dHJWYWwoc3RlcFZhbCk7XG5cbiAgICBjdHJsLiR2YWxpZGF0b3JzLnN0ZXAgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgaXNVbmRlZmluZWQocGFyc2VkU3RlcFZhbCkgfHxcbiAgICAgICAgaXNWYWxpZEZvclN0ZXAodmlld1ZhbHVlLCBwYXJzZWRNaW5WYWwgfHwgMCwgcGFyc2VkU3RlcFZhbCk7XG4gICAgfTtcblxuICAgIGF0dHIuJG9ic2VydmUoJ3N0ZXAnLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgIC8vIFRPRE8obWF0c2tvKTogaW1wbGVtZW50IHZhbGlkYXRlTGF0ZXIgdG8gcmVkdWNlIG51bWJlciBvZiB2YWxpZGF0aW9uc1xuICAgICAgaWYgKHZhbCAhPT0gc3RlcFZhbCkge1xuICAgICAgICBwYXJzZWRTdGVwVmFsID0gcGFyc2VOdW1iZXJBdHRyVmFsKHZhbCk7XG4gICAgICAgIHN0ZXBWYWwgPSB2YWw7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9XG5cbiAgICB9KTtcblxuICB9XG59XG5cbmZ1bmN0aW9uIHJhbmdlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgYmFkSW5wdXRDaGVja2VyKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAncmFuZ2UnKTtcbiAgbnVtYmVyRm9ybWF0dGVyUGFyc2VyKGN0cmwpO1xuICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xuXG4gIHZhciBzdXBwb3J0c1JhbmdlID0gY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnMgJiYgZWxlbWVudFswXS50eXBlID09PSAncmFuZ2UnLFxuICAgICAgbWluVmFsID0gc3VwcG9ydHNSYW5nZSA/IDAgOiB1bmRlZmluZWQsXG4gICAgICBtYXhWYWwgPSBzdXBwb3J0c1JhbmdlID8gMTAwIDogdW5kZWZpbmVkLFxuICAgICAgc3RlcFZhbCA9IHN1cHBvcnRzUmFuZ2UgPyAxIDogdW5kZWZpbmVkLFxuICAgICAgdmFsaWRpdHkgPSBlbGVtZW50WzBdLnZhbGlkaXR5LFxuICAgICAgaGFzTWluQXR0ciA9IGlzRGVmaW5lZChhdHRyLm1pbiksXG4gICAgICBoYXNNYXhBdHRyID0gaXNEZWZpbmVkKGF0dHIubWF4KSxcbiAgICAgIGhhc1N0ZXBBdHRyID0gaXNEZWZpbmVkKGF0dHIuc3RlcCk7XG5cbiAgdmFyIG9yaWdpbmFsUmVuZGVyID0gY3RybC4kcmVuZGVyO1xuXG4gIGN0cmwuJHJlbmRlciA9IHN1cHBvcnRzUmFuZ2UgJiYgaXNEZWZpbmVkKHZhbGlkaXR5LnJhbmdlVW5kZXJmbG93KSAmJiBpc0RlZmluZWQodmFsaWRpdHkucmFuZ2VPdmVyZmxvdykgP1xuICAgIC8vQnJvd3NlcnMgdGhhdCBpbXBsZW1lbnQgcmFuZ2Ugd2lsbCBzZXQgdGhlc2UgdmFsdWVzIGF1dG9tYXRpY2FsbHksIGJ1dCByZWFkaW5nIHRoZSBhZGp1c3RlZCB2YWx1ZXMgYWZ0ZXJcbiAgICAvLyRyZW5kZXIgd291bGQgY2F1c2UgdGhlIG1pbiAvIG1heCB2YWxpZGF0b3JzIHRvIGJlIGFwcGxpZWQgd2l0aCB0aGUgd3JvbmcgdmFsdWVcbiAgICBmdW5jdGlvbiByYW5nZVJlbmRlcigpIHtcbiAgICAgIG9yaWdpbmFsUmVuZGVyKCk7XG4gICAgICBjdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudC52YWwoKSk7XG4gICAgfSA6XG4gICAgb3JpZ2luYWxSZW5kZXI7XG5cbiAgaWYgKGhhc01pbkF0dHIpIHtcbiAgICBtaW5WYWwgPSBwYXJzZU51bWJlckF0dHJWYWwoYXR0ci5taW4pO1xuXG4gICAgY3RybC4kdmFsaWRhdG9ycy5taW4gPSBzdXBwb3J0c1JhbmdlID9cbiAgICAgIC8vIFNpbmNlIGFsbCBicm93c2VycyBzZXQgdGhlIGlucHV0IHRvIGEgdmFsaWQgdmFsdWUsIHdlIGRvbid0IG5lZWQgdG8gY2hlY2sgdmFsaWRpdHlcbiAgICAgIGZ1bmN0aW9uIG5vb3BNaW5WYWxpZGF0b3IoKSB7IHJldHVybiB0cnVlOyB9IDpcbiAgICAgIC8vIG5vbi1zdXBwb3J0IGJyb3dzZXJzIHZhbGlkYXRlIHRoZSBtaW4gdmFsXG4gICAgICBmdW5jdGlvbiBtaW5WYWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgaXNVbmRlZmluZWQobWluVmFsKSB8fCB2aWV3VmFsdWUgPj0gbWluVmFsO1xuICAgICAgfTtcblxuICAgIHNldEluaXRpYWxWYWx1ZUFuZE9ic2VydmVyKCdtaW4nLCBtaW5DaGFuZ2UpO1xuICB9XG5cbiAgaWYgKGhhc01heEF0dHIpIHtcbiAgICBtYXhWYWwgPSBwYXJzZU51bWJlckF0dHJWYWwoYXR0ci5tYXgpO1xuXG4gICAgY3RybC4kdmFsaWRhdG9ycy5tYXggPSBzdXBwb3J0c1JhbmdlID9cbiAgICAgIC8vIFNpbmNlIGFsbCBicm93c2VycyBzZXQgdGhlIGlucHV0IHRvIGEgdmFsaWQgdmFsdWUsIHdlIGRvbid0IG5lZWQgdG8gY2hlY2sgdmFsaWRpdHlcbiAgICAgIGZ1bmN0aW9uIG5vb3BNYXhWYWxpZGF0b3IoKSB7IHJldHVybiB0cnVlOyB9IDpcbiAgICAgIC8vIG5vbi1zdXBwb3J0IGJyb3dzZXJzIHZhbGlkYXRlIHRoZSBtYXggdmFsXG4gICAgICBmdW5jdGlvbiBtYXhWYWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgaXNVbmRlZmluZWQobWF4VmFsKSB8fCB2aWV3VmFsdWUgPD0gbWF4VmFsO1xuICAgICAgfTtcblxuICAgIHNldEluaXRpYWxWYWx1ZUFuZE9ic2VydmVyKCdtYXgnLCBtYXhDaGFuZ2UpO1xuICB9XG5cbiAgaWYgKGhhc1N0ZXBBdHRyKSB7XG4gICAgc3RlcFZhbCA9IHBhcnNlTnVtYmVyQXR0clZhbChhdHRyLnN0ZXApO1xuXG4gICAgY3RybC4kdmFsaWRhdG9ycy5zdGVwID0gc3VwcG9ydHNSYW5nZSA/XG4gICAgICBmdW5jdGlvbiBuYXRpdmVTdGVwVmFsaWRhdG9yKCkge1xuICAgICAgICAvLyBDdXJyZW50bHksIG9ubHkgRkYgaW1wbGVtZW50cyB0aGUgc3BlYyBvbiBzdGVwIGNoYW5nZSBjb3JyZWN0bHkgKGkuZS4gYWRqdXN0aW5nIHRoZVxuICAgICAgICAvLyBpbnB1dCBlbGVtZW50IHZhbHVlIHRvIGEgdmFsaWQgdmFsdWUpLiBJdCdzIHBvc3NpYmxlIHRoYXQgb3RoZXIgYnJvd3NlcnMgc2V0IHRoZSBzdGVwTWlzbWF0Y2hcbiAgICAgICAgLy8gdmFsaWRpdHkgZXJyb3IgaW5zdGVhZCwgc28gd2UgY2FuIGF0IGxlYXN0IHJlcG9ydCBhbiBlcnJvciBpbiB0aGF0IGNhc2UuXG4gICAgICAgIHJldHVybiAhdmFsaWRpdHkuc3RlcE1pc21hdGNoO1xuICAgICAgfSA6XG4gICAgICAvLyBuZ1N0ZXAgZG9lc24ndCBzZXQgdGhlIHNldHAgYXR0ciwgc28gdGhlIGJyb3dzZXIgZG9lc24ndCBhZGp1c3QgdGhlIGlucHV0IHZhbHVlIGFzIHNldHRpbmcgc3RlcCB3b3VsZFxuICAgICAgZnVuY3Rpb24gc3RlcFZhbGlkYXRvcihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCBpc1VuZGVmaW5lZChzdGVwVmFsKSB8fFxuICAgICAgICAgICAgICAgaXNWYWxpZEZvclN0ZXAodmlld1ZhbHVlLCBtaW5WYWwgfHwgMCwgc3RlcFZhbCk7XG4gICAgICB9O1xuXG4gICAgc2V0SW5pdGlhbFZhbHVlQW5kT2JzZXJ2ZXIoJ3N0ZXAnLCBzdGVwQ2hhbmdlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEluaXRpYWxWYWx1ZUFuZE9ic2VydmVyKGh0bWxBdHRyTmFtZSwgY2hhbmdlRm4pIHtcbiAgICAvLyBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlcyBzZXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBvbmx5IGFmdGVyIGEgZGlnZXN0LCBidXQgd2UgbmVlZCB0aGVcbiAgICAvLyBhdHRyaWJ1dGUgdmFsdWUgd2hlbiB0aGUgaW5wdXQgaXMgZmlyc3QgcmVuZGVyZWQsIHNvIHRoYXQgdGhlIGJyb3dzZXIgY2FuIGFkanVzdCB0aGVcbiAgICAvLyBpbnB1dCB2YWx1ZSBiYXNlZCBvbiB0aGUgbWluL21heCB2YWx1ZVxuICAgIGVsZW1lbnQuYXR0cihodG1sQXR0ck5hbWUsIGF0dHJbaHRtbEF0dHJOYW1lXSk7XG4gICAgdmFyIG9sZFZhbCA9IGF0dHJbaHRtbEF0dHJOYW1lXTtcbiAgICBhdHRyLiRvYnNlcnZlKGh0bWxBdHRyTmFtZSwgZnVuY3Rpb24gd3JhcHBlZE9ic2VydmVyKHZhbCkge1xuICAgICAgaWYgKHZhbCAhPT0gb2xkVmFsKSB7XG4gICAgICAgIG9sZFZhbCA9IHZhbDtcbiAgICAgICAgY2hhbmdlRm4odmFsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1pbkNoYW5nZSh2YWwpIHtcbiAgICBtaW5WYWwgPSBwYXJzZU51bWJlckF0dHJWYWwodmFsKTtcbiAgICAvLyBpZ25vcmUgY2hhbmdlcyBiZWZvcmUgbW9kZWwgaXMgaW5pdGlhbGl6ZWRcbiAgICBpZiAoaXNOdW1iZXJOYU4oY3RybC4kbW9kZWxWYWx1ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydHNSYW5nZSkge1xuICAgICAgdmFyIGVsVmFsID0gZWxlbWVudC52YWwoKTtcbiAgICAgIC8vIElFMTEgZG9lc24ndCBzZXQgdGhlIGVsIHZhbCBjb3JyZWN0bHkgaWYgdGhlIG1pblZhbCBpcyBncmVhdGVyIHRoYW4gdGhlIGVsZW1lbnQgdmFsdWVcbiAgICAgIGlmIChtaW5WYWwgPiBlbFZhbCkge1xuICAgICAgICBlbFZhbCA9IG1pblZhbDtcbiAgICAgICAgZWxlbWVudC52YWwoZWxWYWwpO1xuICAgICAgfVxuICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKGVsVmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXG4gICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1heENoYW5nZSh2YWwpIHtcbiAgICBtYXhWYWwgPSBwYXJzZU51bWJlckF0dHJWYWwodmFsKTtcbiAgICAvLyBpZ25vcmUgY2hhbmdlcyBiZWZvcmUgbW9kZWwgaXMgaW5pdGlhbGl6ZWRcbiAgICBpZiAoaXNOdW1iZXJOYU4oY3RybC4kbW9kZWxWYWx1ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydHNSYW5nZSkge1xuICAgICAgdmFyIGVsVmFsID0gZWxlbWVudC52YWwoKTtcbiAgICAgIC8vIElFMTEgZG9lc24ndCBzZXQgdGhlIGVsIHZhbCBjb3JyZWN0bHkgaWYgdGhlIG1heFZhbCBpcyBsZXNzIHRoYW4gdGhlIGVsZW1lbnQgdmFsdWVcbiAgICAgIGlmIChtYXhWYWwgPCBlbFZhbCkge1xuICAgICAgICBlbGVtZW50LnZhbChtYXhWYWwpO1xuICAgICAgICAvLyBJRTExIGFuZCBDaHJvbWUgZG9uJ3Qgc2V0IHRoZSB2YWx1ZSB0byB0aGUgbWluVmFsIHdoZW4gbWF4IDwgbWluXG4gICAgICAgIGVsVmFsID0gbWF4VmFsIDwgbWluVmFsID8gbWluVmFsIDogbWF4VmFsO1xuICAgICAgfVxuICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKGVsVmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXG4gICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0ZXBDaGFuZ2UodmFsKSB7XG4gICAgc3RlcFZhbCA9IHBhcnNlTnVtYmVyQXR0clZhbCh2YWwpO1xuICAgIC8vIGlnbm9yZSBjaGFuZ2VzIGJlZm9yZSBtb2RlbCBpcyBpbml0aWFsaXplZFxuICAgIGlmIChpc051bWJlck5hTihjdHJsLiRtb2RlbFZhbHVlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNvbWUgYnJvd3NlcnMgZG9uJ3QgYWRqdXN0IHRoZSBpbnB1dCB2YWx1ZSBjb3JyZWN0bHksIGJ1dCBzZXQgdGhlIHN0ZXBNaXNtYXRjaCBlcnJvclxuICAgIGlmICghc3VwcG9ydHNSYW5nZSkge1xuICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXG4gICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgIH0gZWxzZSBpZiAoY3RybC4kdmlld1ZhbHVlICE9PSBlbGVtZW50LnZhbCgpKSB7XG4gICAgICBjdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudC52YWwoKSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVybElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XG4gIC8vIE5vdGU6IG5vIGJhZElucHV0Q2hlY2tlciBoZXJlIGJ5IHB1cnBvc2UgYXMgYHVybGAgaXMgb25seSBhIHZhbGlkYXRpb25cbiAgLy8gaW4gYnJvd3NlcnMsIGkuZS4gd2UgY2FuIGFsd2F5cyByZWFkIG91dCBpbnB1dC52YWx1ZSBldmVuIGlmIGl0IGlzIG5vdCB2YWxpZCFcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcbiAgc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCk7XG5cbiAgY3RybC4kdmFsaWRhdG9ycy51cmwgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcbiAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgVVJMX1JFR0VYUC50ZXN0KHZhbHVlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZW1haWxJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xuICAvLyBOb3RlOiBubyBiYWRJbnB1dENoZWNrZXIgaGVyZSBieSBwdXJwb3NlIGFzIGB1cmxgIGlzIG9ubHkgYSB2YWxpZGF0aW9uXG4gIC8vIGluIGJyb3dzZXJzLCBpLmUuIHdlIGNhbiBhbHdheXMgcmVhZCBvdXQgaW5wdXQudmFsdWUgZXZlbiBpZiBpdCBpcyBub3QgdmFsaWQhXG4gIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XG4gIHN0cmluZ0Jhc2VkSW5wdXRUeXBlKGN0cmwpO1xuXG4gIGN0cmwuJHZhbGlkYXRvcnMuZW1haWwgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcbiAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgRU1BSUxfUkVHRVhQLnRlc3QodmFsdWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiByYWRpb0lucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCkge1xuICB2YXIgZG9UcmltID0gIWF0dHIubmdUcmltIHx8IHRyaW0oYXR0ci5uZ1RyaW0pICE9PSAnZmFsc2UnO1xuICAvLyBtYWtlIHRoZSBuYW1lIHVuaXF1ZSwgaWYgbm90IGRlZmluZWRcbiAgaWYgKGlzVW5kZWZpbmVkKGF0dHIubmFtZSkpIHtcbiAgICBlbGVtZW50LmF0dHIoJ25hbWUnLCBuZXh0VWlkKCkpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oZXYpIHtcbiAgICB2YXIgdmFsdWU7XG4gICAgaWYgKGVsZW1lbnRbMF0uY2hlY2tlZCkge1xuICAgICAgdmFsdWUgPSBhdHRyLnZhbHVlO1xuICAgICAgaWYgKGRvVHJpbSkge1xuICAgICAgICB2YWx1ZSA9IHRyaW0odmFsdWUpO1xuICAgICAgfVxuICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKHZhbHVlLCBldiAmJiBldi50eXBlKTtcbiAgICB9XG4gIH07XG5cbiAgZWxlbWVudC5vbignY2hhbmdlJywgbGlzdGVuZXIpO1xuXG4gIGN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2YWx1ZSA9IGF0dHIudmFsdWU7XG4gICAgaWYgKGRvVHJpbSkge1xuICAgICAgdmFsdWUgPSB0cmltKHZhbHVlKTtcbiAgICB9XG4gICAgZWxlbWVudFswXS5jaGVja2VkID0gKHZhbHVlID09PSBjdHJsLiR2aWV3VmFsdWUpO1xuICB9O1xuXG4gIGF0dHIuJG9ic2VydmUoJ3ZhbHVlJywgY3RybC4kcmVuZGVyKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VDb25zdGFudEV4cHIoJHBhcnNlLCBjb250ZXh0LCBuYW1lLCBleHByZXNzaW9uLCBmYWxsYmFjaykge1xuICB2YXIgcGFyc2VGbjtcbiAgaWYgKGlzRGVmaW5lZChleHByZXNzaW9uKSkge1xuICAgIHBhcnNlRm4gPSAkcGFyc2UoZXhwcmVzc2lvbik7XG4gICAgaWYgKCFwYXJzZUZuLmNvbnN0YW50KSB7XG4gICAgICB0aHJvdyBuZ01vZGVsTWluRXJyKCdjb25zdGV4cHInLCAnRXhwZWN0ZWQgY29uc3RhbnQgZXhwcmVzc2lvbiBmb3IgYHswfWAsIGJ1dCBzYXcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdgezF9YC4nLCBuYW1lLCBleHByZXNzaW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlRm4oY29udGV4dCk7XG4gIH1cbiAgcmV0dXJuIGZhbGxiYWNrO1xufVxuXG5mdW5jdGlvbiBjaGVja2JveElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyLCAkZmlsdGVyLCAkcGFyc2UpIHtcbiAgdmFyIHRydWVWYWx1ZSA9IHBhcnNlQ29uc3RhbnRFeHByKCRwYXJzZSwgc2NvcGUsICduZ1RydWVWYWx1ZScsIGF0dHIubmdUcnVlVmFsdWUsIHRydWUpO1xuICB2YXIgZmFsc2VWYWx1ZSA9IHBhcnNlQ29uc3RhbnRFeHByKCRwYXJzZSwgc2NvcGUsICduZ0ZhbHNlVmFsdWUnLCBhdHRyLm5nRmFsc2VWYWx1ZSwgZmFsc2UpO1xuXG4gIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgY3RybC4kc2V0Vmlld1ZhbHVlKGVsZW1lbnRbMF0uY2hlY2tlZCwgZXYgJiYgZXYudHlwZSk7XG4gIH07XG5cbiAgZWxlbWVudC5vbignY2hhbmdlJywgbGlzdGVuZXIpO1xuXG4gIGN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIGVsZW1lbnRbMF0uY2hlY2tlZCA9IGN0cmwuJHZpZXdWYWx1ZTtcbiAgfTtcblxuICAvLyBPdmVycmlkZSB0aGUgc3RhbmRhcmQgYCRpc0VtcHR5YCBiZWNhdXNlIHRoZSAkdmlld1ZhbHVlIG9mIGFuIGVtcHR5IGNoZWNrYm94IGlzIGFsd2F5cyBzZXQgdG8gYGZhbHNlYFxuICAvLyBUaGlzIGlzIGJlY2F1c2Ugb2YgdGhlIHBhcnNlciBiZWxvdywgd2hpY2ggY29tcGFyZXMgdGhlIGAkbW9kZWxWYWx1ZWAgd2l0aCBgdHJ1ZVZhbHVlYCB0byBjb252ZXJ0XG4gIC8vIGl0IHRvIGEgYm9vbGVhbi5cbiAgY3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBmYWxzZTtcbiAgfTtcblxuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZXF1YWxzKHZhbHVlLCB0cnVlVmFsdWUpO1xuICB9KTtcblxuICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPyB0cnVlVmFsdWUgOiBmYWxzZVZhbHVlO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHRleHRhcmVhXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSFRNTCB0ZXh0YXJlYSBlbGVtZW50IGNvbnRyb2wgd2l0aCBBbmd1bGFySlMgZGF0YS1iaW5kaW5nLiBUaGUgZGF0YS1iaW5kaW5nIGFuZCB2YWxpZGF0aW9uXG4gKiBwcm9wZXJ0aWVzIG9mIHRoaXMgZWxlbWVudCBhcmUgZXhhY3RseSB0aGUgc2FtZSBhcyB0aG9zZSBvZiB0aGVcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6aW5wdXQgaW5wdXQgZWxlbWVudH0uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBBbmd1bGFySlMgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gKiAgICBtaW5sZW5ndGguXG4gKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2YgYW55XG4gKiAgICBsZW5ndGguXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XG4gKiAgICBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFySlMgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXG4gKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcbiAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXG4gKiAgICBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuPGJyIC8+XG4gKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xuICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cbiAqICAgIGFjY291bnQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXJKUyBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtuZ1RyaW09dHJ1ZV0gSWYgc2V0IHRvIGZhbHNlIEFuZ3VsYXJKUyB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IHRyaW0gdGhlIGlucHV0LlxuICpcbiAqIEBrbm93bklzc3VlXG4gKlxuICogV2hlbiBzcGVjaWZ5aW5nIHRoZSBgcGxhY2Vob2xkZXJgIGF0dHJpYnV0ZSBvZiBgPHRleHRhcmVhPmAsIEludGVybmV0IEV4cGxvcmVyIHdpbGwgdGVtcG9yYXJpbHlcbiAqIGluc2VydCB0aGUgcGxhY2Vob2xkZXIgdmFsdWUgYXMgdGhlIHRleHRhcmVhJ3MgY29udGVudC4gSWYgdGhlIHBsYWNlaG9sZGVyIHZhbHVlIGNvbnRhaW5zXG4gKiBpbnRlcnBvbGF0aW9uIChge3sgLi4uIH19YCksIGFuIGVycm9yIHdpbGwgYmUgbG9nZ2VkIGluIHRoZSBjb25zb2xlIHdoZW4gQW5ndWxhckpTIHRyaWVzIHRvIHVwZGF0ZVxuICogdGhlIHZhbHVlIG9mIHRoZSBieS10aGVuLXJlbW92ZWQgdGV4dCBub2RlLiBUaGlzIGRvZXNuJ3QgYWZmZWN0IHRoZSBmdW5jdGlvbmFsaXR5IG9mIHRoZVxuICogdGV4dGFyZWEsIGJ1dCBjYW4gYmUgdW5kZXNpcmFibGUuXG4gKlxuICogWW91IGNhbiB3b3JrIGFyb3VuZCB0aGlzIEludGVybmV0IEV4cGxvcmVyIGlzc3VlIGJ5IHVzaW5nIGBuZy1hdHRyLXBsYWNlaG9sZGVyYCBpbnN0ZWFkIG9mXG4gKiBgcGxhY2Vob2xkZXJgIG9uIHRleHRhcmVhcywgd2hlbmV2ZXIgeW91IG5lZWQgaW50ZXJwb2xhdGlvbiBpbiB0aGUgcGxhY2Vob2xkZXIgdmFsdWUuIFlvdSBjYW5cbiAqIGZpbmQgbW9yZSBkZXRhaWxzIG9uIGBuZ0F0dHJgIGluIHRoZVxuICogW0ludGVycG9sYXRpb25dKGd1aWRlL2ludGVycG9sYXRpb24jLW5nYXR0ci1mb3ItYmluZGluZy10by1hcmJpdHJhcnktYXR0cmlidXRlcykgc2VjdGlvbiBvZiB0aGVcbiAqIERldmVsb3BlciBHdWlkZS5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgaW5wdXRcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIVE1MIGlucHV0IGVsZW1lbnQgY29udHJvbC4gV2hlbiB1c2VkIHRvZ2V0aGVyIHdpdGgge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfSwgaXQgcHJvdmlkZXMgZGF0YS1iaW5kaW5nLFxuICogaW5wdXQgc3RhdGUgY29udHJvbCwgYW5kIHZhbGlkYXRpb24uXG4gKiBJbnB1dCBjb250cm9sIGZvbGxvd3MgSFRNTDUgaW5wdXQgdHlwZXMgYW5kIHBvbHlmaWxscyB0aGUgSFRNTDUgdmFsaWRhdGlvbiBiZWhhdmlvciBmb3Igb2xkZXIgYnJvd3NlcnMuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBOb3QgZXZlcnkgZmVhdHVyZSBvZmZlcmVkIGlzIGF2YWlsYWJsZSBmb3IgYWxsIGlucHV0IHR5cGVzLlxuICogU3BlY2lmaWNhbGx5LCBkYXRhIGJpbmRpbmcgYW5kIGV2ZW50IGhhbmRsaW5nIHZpYSBgbmctbW9kZWxgIGlzIHVuc3VwcG9ydGVkIGZvciBgaW5wdXRbZmlsZV1gLlxuICogPC9kaXY+XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBBbmd1bGFySlMgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBuZ1JlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgaWYgc2V0IHRvIHRydWVcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gKiAgICBtaW5sZW5ndGguXG4gKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2YgYW55XG4gKiAgICBsZW5ndGguXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XG4gKiAgICB2YWx1ZSBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFySlMgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXG4gKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcbiAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXG4gKiAgICBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuPGJyIC8+XG4gKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xuICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cbiAqICAgIGFjY291bnQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXJKUyBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtuZ1RyaW09dHJ1ZV0gSWYgc2V0IHRvIGZhbHNlIEFuZ3VsYXJKUyB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IHRyaW0gdGhlIGlucHV0LlxuICogICAgVGhpcyBwYXJhbWV0ZXIgaXMgaWdub3JlZCBmb3IgaW5wdXRbdHlwZT1wYXNzd29yZF0gY29udHJvbHMsIHdoaWNoIHdpbGwgbmV2ZXIgdHJpbSB0aGVcbiAqICAgIGlucHV0LlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cImlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImlucHV0RXhhbXBsZVwiPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdpbnB1dEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICRzY29wZS51c2VyID0ge25hbWU6ICdndWVzdCcsIGxhc3Q6ICd2aXNpdG9yJ307XG4gICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cbiAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICBVc2VyIG5hbWU6XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiIG5nLW1vZGVsPVwidXNlci5uYW1lXCIgcmVxdWlyZWQ+XG4gICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0udXNlck5hbWUuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgTGFzdCBuYW1lOlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwibGFzdE5hbWVcIiBuZy1tb2RlbD1cInVzZXIubGFzdFwiXG4gICAgICAgICAgICAgIG5nLW1pbmxlbmd0aD1cIjNcIiBuZy1tYXhsZW5ndGg9XCIxMFwiPlxuICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmxhc3ROYW1lLiRlcnJvci5taW5sZW5ndGhcIj5cbiAgICAgICAgICAgICAgIFRvbyBzaG9ydCE8L3NwYW4+XG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0ubGFzdE5hbWUuJGVycm9yLm1heGxlbmd0aFwiPlxuICAgICAgICAgICAgICAgVG9vIGxvbmchPC9zcGFuPlxuICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgIDxocj5cbiAgICAgICAgIDx0dD51c2VyID0ge3t1c2VyfX08L3R0Pjxici8+XG4gICAgICAgICA8dHQ+bXlGb3JtLnVzZXJOYW1lLiR2YWxpZCA9IHt7bXlGb3JtLnVzZXJOYW1lLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgPHR0Pm15Rm9ybS51c2VyTmFtZS4kZXJyb3IgPSB7e215Rm9ybS51c2VyTmFtZS4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgIDx0dD5teUZvcm0ubGFzdE5hbWUuJHZhbGlkID0ge3tteUZvcm0ubGFzdE5hbWUuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICA8dHQ+bXlGb3JtLmxhc3ROYW1lLiRlcnJvciA9IHt7bXlGb3JtLmxhc3ROYW1lLiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLm1pbmxlbmd0aCA9IHt7ISFteUZvcm0uJGVycm9yLm1pbmxlbmd0aH19PC90dD48YnIvPlxuICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IubWF4bGVuZ3RoID0ge3shIW15Rm9ybS4kZXJyb3IubWF4bGVuZ3RofX08L3R0Pjxici8+XG4gICAgICAgPC9kaXY+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIHZhciB1c2VyID0gZWxlbWVudChieS5leGFjdEJpbmRpbmcoJ3VzZXInKSk7XG4gICAgICAgIHZhciB1c2VyTmFtZVZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0udXNlck5hbWUuJHZhbGlkJykpO1xuICAgICAgICB2YXIgbGFzdE5hbWVWYWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmxhc3ROYW1lLiR2YWxpZCcpKTtcbiAgICAgICAgdmFyIGxhc3ROYW1lRXJyb3IgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5sYXN0TmFtZS4kZXJyb3InKSk7XG4gICAgICAgIHZhciBmb3JtVmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS4kdmFsaWQnKSk7XG4gICAgICAgIHZhciB1c2VyTmFtZUlucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlci5uYW1lJykpO1xuICAgICAgICB2YXIgdXNlckxhc3RJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXIubGFzdCcpKTtcblxuICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIixcImxhc3RcIjpcInZpc2l0b3JcIn0nKTtcbiAgICAgICAgICBleHBlY3QodXNlck5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5IHdoZW4gcmVxdWlyZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB1c2VyTmFtZUlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgdXNlck5hbWVJbnB1dC5zZW5kS2V5cygnJyk7XG5cbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibGFzdFwiOlwidmlzaXRvclwifScpO1xuICAgICAgICAgIGV4cGVjdCh1c2VyTmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgdmFsaWQgaWYgZW1wdHkgd2hlbiBtaW4gbGVuZ3RoIGlzIHNldCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICB1c2VyTGFzdElucHV0LnNlbmRLZXlzKCcnKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJuYW1lXCI6XCJndWVzdFwiLFwibGFzdFwiOlwiXCJ9Jyk7XG4gICAgICAgICAgZXhwZWN0KGxhc3ROYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBsZXNzIHRoYW4gcmVxdWlyZWQgbWluIGxlbmd0aCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICB1c2VyTGFzdElucHV0LnNlbmRLZXlzKCd4eCcpO1xuXG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcIm5hbWVcIjpcImd1ZXN0XCJ9Jyk7XG4gICAgICAgICAgZXhwZWN0KGxhc3ROYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgZXhwZWN0KGxhc3ROYW1lRXJyb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ21pbmxlbmd0aCcpO1xuICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBsb25nZXIgdGhhbiBtYXggbGVuZ3RoJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuc2VuZEtleXMoJ3NvbWUgcmlkaWN1bG91c2x5IGxvbmcgbmFtZScpO1xuXG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcIm5hbWVcIjpcImd1ZXN0XCJ9Jyk7XG4gICAgICAgICAgZXhwZWN0KGxhc3ROYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgZXhwZWN0KGxhc3ROYW1lRXJyb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ21heGxlbmd0aCcpO1xuICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIGlucHV0RGlyZWN0aXZlID0gWyckYnJvd3NlcicsICckc25pZmZlcicsICckZmlsdGVyJywgJyRwYXJzZScsXG4gICAgZnVuY3Rpb24oJGJyb3dzZXIsICRzbmlmZmVyLCAkZmlsdGVyLCAkcGFyc2UpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcXVpcmU6IFsnP25nTW9kZWwnXSxcbiAgICBsaW5rOiB7XG4gICAgICBwcmU6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgICAgICBpZiAoY3RybHNbMF0pIHtcbiAgICAgICAgICAoaW5wdXRUeXBlW2xvd2VyY2FzZShhdHRyLnR5cGUpXSB8fCBpbnB1dFR5cGUudGV4dCkoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzWzBdLCAkc25pZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGJyb3dzZXIsICRmaWx0ZXIsICRwYXJzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59XTtcblxuXG52YXIgaGlkZGVuSW5wdXRCcm93c2VyQ2FjaGVEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHZhbHVlUHJvcGVydHkgPSB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykgfHwgJyc7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgdmFsKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHByaW9yaXR5OiAyMDAsXG4gICAgY29tcGlsZTogZnVuY3Rpb24oXywgYXR0cikge1xuICAgICAgaWYgKGxvd2VyY2FzZShhdHRyLnR5cGUpICE9PSAnaGlkZGVuJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByZTogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICAgICAgdmFyIG5vZGUgPSBlbGVtZW50WzBdO1xuXG4gICAgICAgICAgLy8gU3VwcG9ydDogRWRnZVxuICAgICAgICAgIC8vIE1vdmluZyB0aGUgRE9NIGFyb3VuZCBwcmV2ZW50cyBhdXRvZmlsbGxpbmdcbiAgICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIG5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFN1cHBvcnQ6IEZGLCBJRVxuICAgICAgICAgIC8vIEF2b2lkaW5nIGRpcmVjdCBhc3NpZ25tZW50IHRvIC52YWx1ZSBwcmV2ZW50cyBhdXRvZmlsbGxpbmdcbiAgICAgICAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobm9kZSwgJ3ZhbHVlJywgdmFsdWVQcm9wZXJ0eSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG5cblxuXG52YXIgQ09OU1RBTlRfVkFMVUVfUkVHRVhQID0gL14odHJ1ZXxmYWxzZXxcXGQrKSQvO1xuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1ZhbHVlXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQmluZHMgdGhlIGdpdmVuIGV4cHJlc3Npb24gdG8gdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LlxuICpcbiAqIEl0IGlzIG1haW5seSB1c2VkIG9uIHtAbGluayBpbnB1dFtyYWRpb10gYGlucHV0W3JhZGlvXWB9IGFuZCBvcHRpb24gZWxlbWVudHMsXG4gKiBzbyB0aGF0IHdoZW4gdGhlIGVsZW1lbnQgaXMgc2VsZWN0ZWQsIHRoZSB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9IG9mIHRoYXQgZWxlbWVudCAob3IgaXRzXG4gKiB7QGxpbmsgc2VsZWN0IGBzZWxlY3RgfSBwYXJlbnQgZWxlbWVudCkgaXMgc2V0IHRvIHRoZSBib3VuZCB2YWx1ZS4gSXQgaXMgZXNwZWNpYWxseSB1c2VmdWxcbiAqIGZvciBkeW5hbWljYWxseSBnZW5lcmF0ZWQgbGlzdHMgdXNpbmcge0BsaW5rIG5nUmVwZWF0IGBuZ1JlcGVhdGB9LCBhcyBzaG93biBiZWxvdy5cbiAqXG4gKiBJdCBjYW4gYWxzbyBiZSB1c2VkIHRvIGFjaGlldmUgb25lLXdheSBiaW5kaW5nIG9mIGEgZ2l2ZW4gZXhwcmVzc2lvbiB0byBhbiBpbnB1dCBlbGVtZW50XG4gKiBzdWNoIGFzIGFuIGBpbnB1dFt0ZXh0XWAgb3IgYSBgdGV4dGFyZWFgLCB3aGVuIHRoYXQgZWxlbWVudCBkb2VzIG5vdCB1c2UgbmdNb2RlbC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdWYWx1ZSBBbmd1bGFySlMgZXhwcmVzc2lvbiwgd2hvc2UgdmFsdWUgd2lsbCBiZSBib3VuZCB0byB0aGUgYHZhbHVlYCBhdHRyaWJ1dGVcbiAqIGFuZCBgdmFsdWVgIHByb3BlcnR5IG9mIHRoZSBlbGVtZW50LlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nVmFsdWUtZGlyZWN0aXZlXCIgbW9kdWxlPVwidmFsdWVFeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3ZhbHVlRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydwaXp6YScsICd1bmljb3JucycsICdyb2JvdHMnXTtcbiAgICAgICAgICAgICAgJHNjb3BlLm15ID0geyBmYXZvcml0ZTogJ3VuaWNvcm5zJyB9O1xuICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgICA8Zm9ybSBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICA8aDI+V2hpY2ggaXMgeW91ciBmYXZvcml0ZT88L2gyPlxuICAgICAgICAgICAgPGxhYmVsIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIiBmb3I9XCJ7e25hbWV9fVwiPlxuICAgICAgICAgICAgICB7e25hbWV9fVxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwibXkuZmF2b3JpdGVcIlxuICAgICAgICAgICAgICAgICAgICAgbmctdmFsdWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgIGlkPVwie3tuYW1lfX1cIlxuICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImZhdm9yaXRlXCI+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxkaXY+WW91IGNob3NlIHt7bXkuZmF2b3JpdGV9fTwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIHZhciBmYXZvcml0ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnbXkuZmF2b3JpdGUnKSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGZhdm9yaXRlLmdldFRleHQoKSkudG9Db250YWluKCd1bmljb3JucycpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCBiaW5kIHRoZSB2YWx1ZXMgdG8gdGhlIGlucHV0cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5Lm1vZGVsKCdteS5mYXZvcml0ZScpKS5nZXQoMCkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZmF2b3JpdGUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3BpenphJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nVmFsdWVEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgLyoqXG4gICAqICBpbnB1dHMgdXNlIHRoZSB2YWx1ZSBhdHRyaWJ1dGUgYXMgdGhlaXIgZGVmYXVsdCB2YWx1ZSBpZiB0aGUgdmFsdWUgcHJvcGVydHkgaXMgbm90IHNldC5cbiAgICogIE9uY2UgdGhlIHZhbHVlIHByb3BlcnR5IGhhcyBiZWVuIHNldCAoYnkgYWRkaW5nIGlucHV0KSwgaXQgd2lsbCBub3QgcmVhY3QgdG8gY2hhbmdlcyB0b1xuICAgKiAgdGhlIHZhbHVlIGF0dHJpYnV0ZSBhbnltb3JlLiBTZXR0aW5nIGJvdGggYXR0cmlidXRlIGFuZCBwcm9wZXJ0eSBmaXhlcyB0aGlzIGJlaGF2aW9yLCBhbmRcbiAgICogIG1ha2VzIGl0IHBvc3NpYmxlIHRvIHVzZSBuZ1ZhbHVlIGFzIGEgc29ydCBvZiBvbmUtd2F5IGJpbmQuXG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVFbGVtZW50VmFsdWUoZWxlbWVudCwgYXR0ciwgdmFsdWUpIHtcbiAgICAvLyBTdXBwb3J0OiBJRTkgb25seVxuICAgIC8vIEluIElFOSB2YWx1ZXMgYXJlIGNvbnZlcnRlZCB0byBzdHJpbmcgKGUuZy4gYGlucHV0LnZhbHVlID0gbnVsbGAgcmVzdWx0cyBpbiBgaW5wdXQudmFsdWUgPT09ICdudWxsJ2ApLlxuICAgIHZhciBwcm9wVmFsdWUgPSBpc0RlZmluZWQodmFsdWUpID8gdmFsdWUgOiAobXNpZSA9PT0gOSkgPyAnJyA6IG51bGw7XG4gICAgZWxlbWVudC5wcm9wKCd2YWx1ZScsIHByb3BWYWx1ZSk7XG4gICAgYXR0ci4kc2V0KCd2YWx1ZScsIHZhbHVlKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBwcmlvcml0eTogMTAwLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRwbCwgdHBsQXR0cikge1xuICAgICAgaWYgKENPTlNUQU5UX1ZBTFVFX1JFR0VYUC50ZXN0KHRwbEF0dHIubmdWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nVmFsdWVDb25zdGFudExpbmsoc2NvcGUsIGVsbSwgYXR0cikge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IHNjb3BlLiRldmFsKGF0dHIubmdWYWx1ZSk7XG4gICAgICAgICAgdXBkYXRlRWxlbWVudFZhbHVlKGVsbSwgYXR0ciwgdmFsdWUpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nVmFsdWVMaW5rKHNjb3BlLCBlbG0sIGF0dHIpIHtcbiAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ1ZhbHVlLCBmdW5jdGlvbiB2YWx1ZVdhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB1cGRhdGVFbGVtZW50VmFsdWUoZWxtLCBhdHRyLCB2YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0JpbmRcbiAqIEByZXN0cmljdCBBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0JpbmRgIGF0dHJpYnV0ZSB0ZWxscyBBbmd1bGFySlMgdG8gcmVwbGFjZSB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSBzcGVjaWZpZWQgSFRNTCBlbGVtZW50XG4gKiB3aXRoIHRoZSB2YWx1ZSBvZiBhIGdpdmVuIGV4cHJlc3Npb24sIGFuZCB0byB1cGRhdGUgdGhlIHRleHQgY29udGVudCB3aGVuIHRoZSB2YWx1ZSBvZiB0aGF0XG4gKiBleHByZXNzaW9uIGNoYW5nZXMuXG4gKlxuICogVHlwaWNhbGx5LCB5b3UgZG9uJ3QgdXNlIGBuZ0JpbmRgIGRpcmVjdGx5LCBidXQgaW5zdGVhZCB5b3UgdXNlIHRoZSBkb3VibGUgY3VybHkgbWFya3VwIGxpa2VcbiAqIGB7eyBleHByZXNzaW9uIH19YCB3aGljaCBpcyBzaW1pbGFyIGJ1dCBsZXNzIHZlcmJvc2UuXG4gKlxuICogSXQgaXMgcHJlZmVyYWJsZSB0byB1c2UgYG5nQmluZGAgaW5zdGVhZCBvZiBge3sgZXhwcmVzc2lvbiB9fWAgaWYgYSB0ZW1wbGF0ZSBpcyBtb21lbnRhcmlseVxuICogZGlzcGxheWVkIGJ5IHRoZSBicm93c2VyIGluIGl0cyByYXcgc3RhdGUgYmVmb3JlIEFuZ3VsYXJKUyBjb21waWxlcyBpdC4gU2luY2UgYG5nQmluZGAgaXMgYW5cbiAqIGVsZW1lbnQgYXR0cmlidXRlLCBpdCBtYWtlcyB0aGUgYmluZGluZ3MgaW52aXNpYmxlIHRvIHRoZSB1c2VyIHdoaWxlIHRoZSBwYWdlIGlzIGxvYWRpbmcuXG4gKlxuICogQW4gYWx0ZXJuYXRpdmUgc29sdXRpb24gdG8gdGhpcyBwcm9ibGVtIHdvdWxkIGJlIHVzaW5nIHRoZVxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Nsb2FrIG5nQ2xvYWt9IGRpcmVjdGl2ZS5cbiAqXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQmluZCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogRW50ZXIgYSBuYW1lIGluIHRoZSBMaXZlIFByZXZpZXcgdGV4dCBib3g7IHRoZSBncmVldGluZyBiZWxvdyB0aGUgdGV4dCBib3ggY2hhbmdlcyBpbnN0YW50bHkuXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJiaW5kRXhhbXBsZVwiIG5hbWU9XCJuZy1iaW5kXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdiaW5kRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5uYW1lID0gJ1doaXJsZWQnO1xuICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxsYWJlbD5FbnRlciBuYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm5hbWVcIj48L2xhYmVsPjxicj5cbiAgICAgICAgIEhlbGxvIDxzcGFuIG5nLWJpbmQ9XCJuYW1lXCI+PC9zcGFuPiFcbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1iaW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICB2YXIgbmFtZUlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbmFtZScpKTtcblxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbmFtZScpKS5nZXRUZXh0KCkpLnRvQmUoJ1doaXJsZWQnKTtcbiAgICAgICAgIG5hbWVJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbmFtZUlucHV0LnNlbmRLZXlzKCd3b3JsZCcpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbmFtZScpKS5nZXRUZXh0KCkpLnRvQmUoJ3dvcmxkJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nQmluZERpcmVjdGl2ZSA9IFsnJGNvbXBpbGUnLCBmdW5jdGlvbigkY29tcGlsZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQUMnLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZENvbXBpbGUodGVtcGxhdGVFbGVtZW50KSB7XG4gICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyh0ZW1wbGF0ZUVsZW1lbnQpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQmluZExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyhlbGVtZW50LCBhdHRyLm5nQmluZCk7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50WzBdO1xuICAgICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ0JpbmQsIGZ1bmN0aW9uIG5nQmluZFdhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XTtcblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQmluZFRlbXBsYXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQmluZFRlbXBsYXRlYCBkaXJlY3RpdmUgc3BlY2lmaWVzIHRoYXQgdGhlIGVsZW1lbnRcbiAqIHRleHQgY29udGVudCBzaG91bGQgYmUgcmVwbGFjZWQgd2l0aCB0aGUgaW50ZXJwb2xhdGlvbiBvZiB0aGUgdGVtcGxhdGVcbiAqIGluIHRoZSBgbmdCaW5kVGVtcGxhdGVgIGF0dHJpYnV0ZS5cbiAqIFVubGlrZSBgbmdCaW5kYCwgdGhlIGBuZ0JpbmRUZW1wbGF0ZWAgY2FuIGNvbnRhaW4gbXVsdGlwbGUgYHt7YCBgfX1gXG4gKiBleHByZXNzaW9ucy4gVGhpcyBkaXJlY3RpdmUgaXMgbmVlZGVkIHNpbmNlIHNvbWUgSFRNTCBlbGVtZW50c1xuICogKHN1Y2ggYXMgVElUTEUgYW5kIE9QVElPTikgY2Fubm90IGNvbnRhaW4gU1BBTiBlbGVtZW50cy5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ0JpbmRUZW1wbGF0ZSB0ZW1wbGF0ZSBvZiBmb3JtXG4gKiAgIDx0dD57ezwvdHQ+IDx0dD5leHByZXNzaW9uPC90dD4gPHR0Pn19PC90dD4gdG8gZXZhbC5cbiAqXG4gKiBAZXhhbXBsZVxuICogVHJ5IGl0IGhlcmU6IGVudGVyIHRleHQgaW4gdGV4dCBib3ggYW5kIHdhdGNoIHRoZSBncmVldGluZyBjaGFuZ2UuXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJiaW5kRXhhbXBsZVwiIG5hbWU9XCJuZy1iaW5kLXRlbXBsYXRlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdiaW5kRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5zYWx1dGF0aW9uID0gJ0hlbGxvJztcbiAgICAgICAgICAgICAkc2NvcGUubmFtZSA9ICdXb3JsZCc7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8bGFiZWw+U2FsdXRhdGlvbjogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJzYWx1dGF0aW9uXCI+PC9sYWJlbD48YnI+XG4gICAgICAgIDxsYWJlbD5OYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm5hbWVcIj48L2xhYmVsPjxicj5cbiAgICAgICAgPHByZSBuZy1iaW5kLXRlbXBsYXRlPVwie3tzYWx1dGF0aW9ufX0ge3tuYW1lfX0hXCI+PC9wcmU+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIHNhbHV0YXRpb25FbGVtID0gZWxlbWVudChieS5iaW5kaW5nKCdzYWx1dGF0aW9uJykpO1xuICAgICAgICAgdmFyIHNhbHV0YXRpb25JbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3NhbHV0YXRpb24nKSk7XG4gICAgICAgICB2YXIgbmFtZUlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbmFtZScpKTtcblxuICAgICAgICAgZXhwZWN0KHNhbHV0YXRpb25FbGVtLmdldFRleHQoKSkudG9CZSgnSGVsbG8gV29ybGQhJyk7XG5cbiAgICAgICAgIHNhbHV0YXRpb25JbnB1dC5jbGVhcigpO1xuICAgICAgICAgc2FsdXRhdGlvbklucHV0LnNlbmRLZXlzKCdHcmVldGluZ3MnKTtcbiAgICAgICAgIG5hbWVJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbmFtZUlucHV0LnNlbmRLZXlzKCd1c2VyJyk7XG5cbiAgICAgICAgIGV4cGVjdChzYWx1dGF0aW9uRWxlbS5nZXRUZXh0KCkpLnRvQmUoJ0dyZWV0aW5ncyB1c2VyIScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSA9IFsnJGludGVycG9sYXRlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJGludGVycG9sYXRlLCAkY29tcGlsZSkge1xuICByZXR1cm4ge1xuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZFRlbXBsYXRlQ29tcGlsZSh0ZW1wbGF0ZUVsZW1lbnQpIHtcbiAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRlbXBsYXRlRWxlbWVudCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gbmdCaW5kVGVtcGxhdGVMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIHZhciBpbnRlcnBvbGF0ZUZuID0gJGludGVycG9sYXRlKGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLm5nQmluZFRlbXBsYXRlKSk7XG4gICAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCwgaW50ZXJwb2xhdGVGbi5leHByZXNzaW9ucyk7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50WzBdO1xuICAgICAgICBhdHRyLiRvYnNlcnZlKCduZ0JpbmRUZW1wbGF0ZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IGlzVW5kZWZpbmVkKHZhbHVlKSA/ICcnIDogdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XTtcblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQmluZEh0bWxcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEV2YWx1YXRlcyB0aGUgZXhwcmVzc2lvbiBhbmQgaW5zZXJ0cyB0aGUgcmVzdWx0aW5nIEhUTUwgaW50byB0aGUgZWxlbWVudCBpbiBhIHNlY3VyZSB3YXkuIEJ5IGRlZmF1bHQsXG4gKiB0aGUgcmVzdWx0aW5nIEhUTUwgY29udGVudCB3aWxsIGJlIHNhbml0aXplZCB1c2luZyB0aGUge0BsaW5rIG5nU2FuaXRpemUuJHNhbml0aXplICRzYW5pdGl6ZX0gc2VydmljZS5cbiAqIFRvIHV0aWxpemUgdGhpcyBmdW5jdGlvbmFsaXR5LCBlbnN1cmUgdGhhdCBgJHNhbml0aXplYCBpcyBhdmFpbGFibGUsIGZvciBleGFtcGxlLCBieSBpbmNsdWRpbmcge0BsaW5rXG4gKiBuZ1Nhbml0aXplfSBpbiB5b3VyIG1vZHVsZSdzIGRlcGVuZGVuY2llcyAobm90IGluIGNvcmUgQW5ndWxhckpTKS4gSW4gb3JkZXIgdG8gdXNlIHtAbGluayBuZ1Nhbml0aXplfVxuICogaW4geW91ciBtb2R1bGUncyBkZXBlbmRlbmNpZXMsIHlvdSBuZWVkIHRvIGluY2x1ZGUgXCJhbmd1bGFyLXNhbml0aXplLmpzXCIgaW4geW91ciBhcHBsaWNhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IGFsc28gYnlwYXNzIHNhbml0aXphdGlvbiBmb3IgdmFsdWVzIHlvdSBrbm93IGFyZSBzYWZlLiBUbyBkbyBzbywgYmluZCB0b1xuICogYW4gZXhwbGljaXRseSB0cnVzdGVkIHZhbHVlIHZpYSB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzSHRtbCAkc2NlLnRydXN0QXNIdG1sfS4gIFNlZSB0aGUgZXhhbXBsZVxuICogdW5kZXIge0BsaW5rIG5nLiRzY2Ujc2hvdy1tZS1hbi1leGFtcGxlLXVzaW5nLXNjZS0gU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSl9LlxuICpcbiAqIE5vdGU6IElmIGEgYCRzYW5pdGl6ZWAgc2VydmljZSBpcyB1bmF2YWlsYWJsZSBhbmQgdGhlIGJvdW5kIHZhbHVlIGlzbid0IGV4cGxpY2l0bHkgdHJ1c3RlZCwgeW91XG4gKiB3aWxsIGhhdmUgYW4gZXhjZXB0aW9uIChpbnN0ZWFkIG9mIGFuIGV4cGxvaXQuKVxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0JpbmRIdG1sIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlLlxuICpcbiAqIEBleGFtcGxlXG5cbiAgIDxleGFtcGxlIG1vZHVsZT1cImJpbmRIdG1sRXhhbXBsZVwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCIgbmFtZT1cIm5nLWJpbmQtaHRtbFwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIDxwIG5nLWJpbmQtaHRtbD1cIm15SFRNTFwiPjwvcD5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuXG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnYmluZEh0bWxFeGFtcGxlJywgWyduZ1Nhbml0aXplJ10pXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAkc2NvcGUubXlIVE1MID1cbiAgICAgICAgICAgICAgJ0kgYW0gYW4gPGNvZGU+SFRNTDwvY29kZT5zdHJpbmcgd2l0aCAnICtcbiAgICAgICAgICAgICAgJzxhIGhyZWY9XCIjXCI+bGlua3MhPC9hPiBhbmQgb3RoZXIgPGVtPnN0dWZmPC9lbT4nO1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZC1odG1sJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdteUhUTUwnKSkuZ2V0VGV4dCgpKS50b0JlKFxuICAgICAgICAgICAgICdJIGFtIGFuIEhUTUxzdHJpbmcgd2l0aCBsaW5rcyEgYW5kIG90aGVyIHN0dWZmJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nQmluZEh0bWxEaXJlY3RpdmUgPSBbJyRzY2UnLCAnJHBhcnNlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJHNjZSwgJHBhcnNlLCAkY29tcGlsZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdCaW5kSHRtbENvbXBpbGUodEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgdmFyIG5nQmluZEh0bWxHZXR0ZXIgPSAkcGFyc2UodEF0dHJzLm5nQmluZEh0bWwpO1xuICAgICAgdmFyIG5nQmluZEh0bWxXYXRjaCA9ICRwYXJzZSh0QXR0cnMubmdCaW5kSHRtbCwgZnVuY3Rpb24gc2NlVmFsdWVPZih2YWwpIHtcbiAgICAgICAgLy8gVW53cmFwIHRoZSB2YWx1ZSB0byBjb21wYXJlIHRoZSBhY3R1YWwgaW5uZXIgc2FmZSB2YWx1ZSwgbm90IHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgICAgcmV0dXJuICRzY2UudmFsdWVPZih2YWwpO1xuICAgICAgfSk7XG4gICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyh0RWxlbWVudCk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0JpbmRIdG1sTGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvKGVsZW1lbnQsIGF0dHIubmdCaW5kSHRtbCk7XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKG5nQmluZEh0bWxXYXRjaCwgZnVuY3Rpb24gbmdCaW5kSHRtbFdhdGNoQWN0aW9uKCkge1xuICAgICAgICAgIC8vIFRoZSB3YXRjaGVkIHZhbHVlIGlzIHRoZSB1bndyYXBwZWQgdmFsdWUuIFRvIGF2b2lkIHJlLWVzY2FwaW5nLCB1c2UgdGhlIGRpcmVjdCBnZXR0ZXIuXG4gICAgICAgICAgdmFyIHZhbHVlID0gbmdCaW5kSHRtbEdldHRlcihzY29wZSk7XG4gICAgICAgICAgZWxlbWVudC5odG1sKCRzY2UuZ2V0VHJ1c3RlZEh0bWwodmFsdWUpIHx8ICcnKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ2hhbmdlXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRXZhbHVhdGUgdGhlIGdpdmVuIGV4cHJlc3Npb24gd2hlbiB0aGUgdXNlciBjaGFuZ2VzIHRoZSBpbnB1dC5cbiAqIFRoZSBleHByZXNzaW9uIGlzIGV2YWx1YXRlZCBpbW1lZGlhdGVseSwgdW5saWtlIHRoZSBKYXZhU2NyaXB0IG9uY2hhbmdlIGV2ZW50XG4gKiB3aGljaCBvbmx5IHRyaWdnZXJzIGF0IHRoZSBlbmQgb2YgYSBjaGFuZ2UgKHVzdWFsbHksIHdoZW4gdGhlIHVzZXIgbGVhdmVzIHRoZVxuICogZm9ybSBlbGVtZW50IG9yIHByZXNzZXMgdGhlIHJldHVybiBrZXkpLlxuICpcbiAqIFRoZSBgbmdDaGFuZ2VgIGV4cHJlc3Npb24gaXMgb25seSBldmFsdWF0ZWQgd2hlbiBhIGNoYW5nZSBpbiB0aGUgaW5wdXQgdmFsdWUgY2F1c2VzXG4gKiBhIG5ldyB2YWx1ZSB0byBiZSBjb21taXR0ZWQgdG8gdGhlIG1vZGVsLlxuICpcbiAqIEl0IHdpbGwgbm90IGJlIGV2YWx1YXRlZDpcbiAqICogaWYgdGhlIHZhbHVlIHJldHVybmVkIGZyb20gdGhlIGAkcGFyc2Vyc2AgdHJhbnNmb3JtYXRpb24gcGlwZWxpbmUgaGFzIG5vdCBjaGFuZ2VkXG4gKiAqIGlmIHRoZSBpbnB1dCBoYXMgY29udGludWVkIHRvIGJlIGludmFsaWQgc2luY2UgdGhlIG1vZGVsIHdpbGwgc3RheSBgbnVsbGBcbiAqICogaWYgdGhlIG1vZGVsIGlzIGNoYW5nZWQgcHJvZ3JhbW1hdGljYWxseSBhbmQgbm90IGJ5IGEgY2hhbmdlIHRvIHRoZSBpbnB1dCB2YWx1ZVxuICpcbiAqXG4gKiBOb3RlLCB0aGlzIGRpcmVjdGl2ZSByZXF1aXJlcyBgbmdNb2RlbGAgdG8gYmUgcHJlc2VudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDaGFuZ2Uge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvbiBjaGFuZ2VcbiAqIGluIGlucHV0IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdDaGFuZ2UtZGlyZWN0aXZlXCIgbW9kdWxlPVwiY2hhbmdlRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxzY3JpcHQ+XG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgnY2hhbmdlRXhhbXBsZScsIFtdKVxuICogICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgICRzY29wZS5jb3VudGVyID0gMDtcbiAqICAgICAgICAgICAkc2NvcGUuY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICAkc2NvcGUuY291bnRlcisrO1xuICogICAgICAgICAgIH07XG4gKiAgICAgICAgIH1dKTtcbiAqICAgICA8L3NjcmlwdD5cbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY29uZmlybWVkXCIgbmctY2hhbmdlPVwiY2hhbmdlKClcIiBpZD1cIm5nLWNoYW5nZS1leGFtcGxlMVwiIC8+XG4gKiAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjb25maXJtZWRcIiBpZD1cIm5nLWNoYW5nZS1leGFtcGxlMlwiIC8+XG4gKiAgICAgICA8bGFiZWwgZm9yPVwibmctY2hhbmdlLWV4YW1wbGUyXCI+Q29uZmlybWVkPC9sYWJlbD48YnIgLz5cbiAqICAgICAgIDx0dD5kZWJ1ZyA9IHt7Y29uZmlybWVkfX08L3R0Pjxici8+XG4gKiAgICAgICA8dHQ+Y291bnRlciA9IHt7Y291bnRlcn19PC90dD48YnIvPlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICB2YXIgY291bnRlciA9IGVsZW1lbnQoYnkuYmluZGluZygnY291bnRlcicpKTtcbiAqICAgICB2YXIgZGVidWcgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvbmZpcm1lZCcpKTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIHZpZXcnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9Db250YWluKCcwJyk7XG4gKlxuICogICAgICAgZWxlbWVudChieS5pZCgnbmctY2hhbmdlLWV4YW1wbGUxJykpLmNsaWNrKCk7XG4gKlxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEnKTtcbiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgIH0pO1xuICpcbiAqICAgICBpdCgnc2hvdWxkIG5vdCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBlbGVtZW50KGJ5LmlkKCduZy1jaGFuZ2UtZXhhbXBsZTInKSkuY2xpY2soKTtcblxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzAnKTtcbiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0NoYW5nZURpcmVjdGl2ZSA9IHZhbHVlRm4oe1xuICByZXN0cmljdDogJ0EnLFxuICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgY3RybC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgc2NvcGUuJGV2YWwoYXR0ci5uZ0NoYW5nZSk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG4vKiBleHBvcnRlZFxuICBuZ0NsYXNzRGlyZWN0aXZlLFxuICBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSxcbiAgbmdDbGFzc09kZERpcmVjdGl2ZVxuKi9cblxuZnVuY3Rpb24gY2xhc3NEaXJlY3RpdmUobmFtZSwgc2VsZWN0b3IpIHtcbiAgbmFtZSA9ICduZ0NsYXNzJyArIG5hbWU7XG4gIHZhciBpbmRleFdhdGNoRXhwcmVzc2lvbjtcblxuICByZXR1cm4gWyckcGFyc2UnLCBmdW5jdGlvbigkcGFyc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBQycsXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICB2YXIgY2xhc3NDb3VudHMgPSBlbGVtZW50LmRhdGEoJyRjbGFzc0NvdW50cycpO1xuICAgICAgICB2YXIgb2xkTW9kdWxvID0gdHJ1ZTtcbiAgICAgICAgdmFyIG9sZENsYXNzU3RyaW5nO1xuXG4gICAgICAgIGlmICghY2xhc3NDb3VudHMpIHtcbiAgICAgICAgICAvLyBVc2UgY3JlYXRlTWFwKCkgdG8gcHJldmVudCBjbGFzcyBhc3N1bXB0aW9ucyBpbnZvbHZpbmcgcHJvcGVydHlcbiAgICAgICAgICAvLyBuYW1lcyBpbiBPYmplY3QucHJvdG90eXBlXG4gICAgICAgICAgY2xhc3NDb3VudHMgPSBjcmVhdGVNYXAoKTtcbiAgICAgICAgICBlbGVtZW50LmRhdGEoJyRjbGFzc0NvdW50cycsIGNsYXNzQ291bnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuYW1lICE9PSAnbmdDbGFzcycpIHtcbiAgICAgICAgICBpZiAoIWluZGV4V2F0Y2hFeHByZXNzaW9uKSB7XG4gICAgICAgICAgICBpbmRleFdhdGNoRXhwcmVzc2lvbiA9ICRwYXJzZSgnJGluZGV4JywgZnVuY3Rpb24gbW9kdWxvVHdvKCRpbmRleCkge1xuICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICAgICAgICAgICAgICByZXR1cm4gJGluZGV4ICYgMTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNjb3BlLiR3YXRjaChpbmRleFdhdGNoRXhwcmVzc2lvbiwgbmdDbGFzc0luZGV4V2F0Y2hBY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKCRwYXJzZShhdHRyW25hbWVdLCB0b0NsYXNzU3RyaW5nKSwgbmdDbGFzc1dhdGNoQWN0aW9uKTtcblxuICAgICAgICBmdW5jdGlvbiBhZGRDbGFzc2VzKGNsYXNzU3RyaW5nKSB7XG4gICAgICAgICAgY2xhc3NTdHJpbmcgPSBkaWdlc3RDbGFzc0NvdW50cyhzcGxpdChjbGFzc1N0cmluZyksIDEpO1xuICAgICAgICAgIGF0dHIuJGFkZENsYXNzKGNsYXNzU3RyaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMoY2xhc3NTdHJpbmcpIHtcbiAgICAgICAgICBjbGFzc1N0cmluZyA9IGRpZ2VzdENsYXNzQ291bnRzKHNwbGl0KGNsYXNzU3RyaW5nKSwgLTEpO1xuICAgICAgICAgIGF0dHIuJHJlbW92ZUNsYXNzKGNsYXNzU3RyaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNsYXNzZXMob2xkQ2xhc3NTdHJpbmcsIG5ld0NsYXNzU3RyaW5nKSB7XG4gICAgICAgICAgdmFyIG9sZENsYXNzQXJyYXkgPSBzcGxpdChvbGRDbGFzc1N0cmluZyk7XG4gICAgICAgICAgdmFyIG5ld0NsYXNzQXJyYXkgPSBzcGxpdChuZXdDbGFzc1N0cmluZyk7XG5cbiAgICAgICAgICB2YXIgdG9SZW1vdmVBcnJheSA9IGFycmF5RGlmZmVyZW5jZShvbGRDbGFzc0FycmF5LCBuZXdDbGFzc0FycmF5KTtcbiAgICAgICAgICB2YXIgdG9BZGRBcnJheSA9IGFycmF5RGlmZmVyZW5jZShuZXdDbGFzc0FycmF5LCBvbGRDbGFzc0FycmF5KTtcblxuICAgICAgICAgIHZhciB0b1JlbW92ZVN0cmluZyA9IGRpZ2VzdENsYXNzQ291bnRzKHRvUmVtb3ZlQXJyYXksIC0xKTtcbiAgICAgICAgICB2YXIgdG9BZGRTdHJpbmcgPSBkaWdlc3RDbGFzc0NvdW50cyh0b0FkZEFycmF5LCAxKTtcblxuICAgICAgICAgIGF0dHIuJGFkZENsYXNzKHRvQWRkU3RyaW5nKTtcbiAgICAgICAgICBhdHRyLiRyZW1vdmVDbGFzcyh0b1JlbW92ZVN0cmluZyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkaWdlc3RDbGFzc0NvdW50cyhjbGFzc0FycmF5LCBjb3VudCkge1xuICAgICAgICAgIHZhciBjbGFzc2VzVG9VcGRhdGUgPSBbXTtcblxuICAgICAgICAgIGZvckVhY2goY2xhc3NBcnJheSwgZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICBpZiAoY291bnQgPiAwIHx8IGNsYXNzQ291bnRzW2NsYXNzTmFtZV0pIHtcbiAgICAgICAgICAgICAgY2xhc3NDb3VudHNbY2xhc3NOYW1lXSA9IChjbGFzc0NvdW50c1tjbGFzc05hbWVdIHx8IDApICsgY291bnQ7XG4gICAgICAgICAgICAgIGlmIChjbGFzc0NvdW50c1tjbGFzc05hbWVdID09PSArKGNvdW50ID4gMCkpIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzVG9VcGRhdGUucHVzaChjbGFzc05hbWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gY2xhc3Nlc1RvVXBkYXRlLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG5nQ2xhc3NJbmRleFdhdGNoQWN0aW9uKG5ld01vZHVsbykge1xuICAgICAgICAgIC8vIFRoaXMgd2F0Y2gtYWN0aW9uIHNob3VsZCBydW4gYmVmb3JlIHRoZSBgbmdDbGFzc1dhdGNoQWN0aW9uKClgLCB0aHVzIGl0XG4gICAgICAgICAgLy8gYWRkcy9yZW1vdmVzIGBvbGRDbGFzc1N0cmluZ2AuIElmIHRoZSBgbmdDbGFzc2AgZXhwcmVzc2lvbiBoYXMgY2hhbmdlZCBhcyB3ZWxsLCB0aGVcbiAgICAgICAgICAvLyBgbmdDbGFzc1dhdGNoQWN0aW9uKClgIHdpbGwgdXBkYXRlIHRoZSBjbGFzc2VzLlxuICAgICAgICAgIGlmIChuZXdNb2R1bG8gPT09IHNlbGVjdG9yKSB7XG4gICAgICAgICAgICBhZGRDbGFzc2VzKG9sZENsYXNzU3RyaW5nKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3NlcyhvbGRDbGFzc1N0cmluZyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb2xkTW9kdWxvID0gbmV3TW9kdWxvO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbmdDbGFzc1dhdGNoQWN0aW9uKG5ld0NsYXNzU3RyaW5nKSB7XG4gICAgICAgICAgaWYgKG9sZE1vZHVsbyA9PT0gc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHVwZGF0ZUNsYXNzZXMob2xkQ2xhc3NTdHJpbmcsIG5ld0NsYXNzU3RyaW5nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvbGRDbGFzc1N0cmluZyA9IG5ld0NsYXNzU3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfV07XG5cbiAgLy8gSGVscGVyc1xuICBmdW5jdGlvbiBhcnJheURpZmZlcmVuY2UodG9rZW5zMSwgdG9rZW5zMikge1xuICAgIGlmICghdG9rZW5zMSB8fCAhdG9rZW5zMS5sZW5ndGgpIHJldHVybiBbXTtcbiAgICBpZiAoIXRva2VuczIgfHwgIXRva2VuczIubGVuZ3RoKSByZXR1cm4gdG9rZW5zMTtcblxuICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgIG91dGVyOlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zMS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRva2VuID0gdG9rZW5zMVtpXTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdG9rZW5zMi5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAodG9rZW4gPT09IHRva2VuczJbal0pIGNvbnRpbnVlIG91dGVyO1xuICAgICAgfVxuICAgICAgdmFsdWVzLnB1c2godG9rZW4pO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cblxuICBmdW5jdGlvbiBzcGxpdChjbGFzc1N0cmluZykge1xuICAgIHJldHVybiBjbGFzc1N0cmluZyAmJiBjbGFzc1N0cmluZy5zcGxpdCgnICcpO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9DbGFzc1N0cmluZyhjbGFzc1ZhbHVlKSB7XG4gICAgaWYgKCFjbGFzc1ZhbHVlKSByZXR1cm4gY2xhc3NWYWx1ZTtcblxuICAgIHZhciBjbGFzc1N0cmluZyA9IGNsYXNzVmFsdWU7XG5cbiAgICBpZiAoaXNBcnJheShjbGFzc1ZhbHVlKSkge1xuICAgICAgY2xhc3NTdHJpbmcgPSBjbGFzc1ZhbHVlLm1hcCh0b0NsYXNzU3RyaW5nKS5qb2luKCcgJyk7XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChjbGFzc1ZhbHVlKSkge1xuICAgICAgY2xhc3NTdHJpbmcgPSBPYmplY3Qua2V5cyhjbGFzc1ZhbHVlKS5cbiAgICAgICAgZmlsdGVyKGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gY2xhc3NWYWx1ZVtrZXldOyB9KS5cbiAgICAgICAgam9pbignICcpO1xuICAgIH0gZWxzZSBpZiAoIWlzU3RyaW5nKGNsYXNzVmFsdWUpKSB7XG4gICAgICBjbGFzc1N0cmluZyA9IGNsYXNzVmFsdWUgKyAnJztcbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3NTdHJpbmc7XG4gIH1cbn1cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NsYXNzXG4gKiBAcmVzdHJpY3QgQUNcbiAqIEBlbGVtZW50IEFOWVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0NsYXNzYCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBkeW5hbWljYWxseSBzZXQgQ1NTIGNsYXNzZXMgb24gYW4gSFRNTCBlbGVtZW50IGJ5IGRhdGFiaW5kaW5nXG4gKiBhbiBleHByZXNzaW9uIHRoYXQgcmVwcmVzZW50cyBhbGwgY2xhc3NlcyB0byBiZSBhZGRlZC5cbiAqXG4gKiBUaGUgZGlyZWN0aXZlIG9wZXJhdGVzIGluIHRocmVlIGRpZmZlcmVudCB3YXlzLCBkZXBlbmRpbmcgb24gd2hpY2ggb2YgdGhyZWUgdHlwZXMgdGhlIGV4cHJlc3Npb25cbiAqIGV2YWx1YXRlcyB0bzpcbiAqXG4gKiAxLiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZSBzdHJpbmcgc2hvdWxkIGJlIG9uZSBvciBtb3JlIHNwYWNlLWRlbGltaXRlZCBjbGFzc1xuICogbmFtZXMuXG4gKlxuICogMi4gSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGFuIG9iamVjdCwgdGhlbiBmb3IgZWFjaCBrZXktdmFsdWUgcGFpciBvZiB0aGVcbiAqIG9iamVjdCB3aXRoIGEgdHJ1dGh5IHZhbHVlIHRoZSBjb3JyZXNwb25kaW5nIGtleSBpcyB1c2VkIGFzIGEgY2xhc3MgbmFtZS5cbiAqXG4gKiAzLiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYW4gYXJyYXksIGVhY2ggZWxlbWVudCBvZiB0aGUgYXJyYXkgc2hvdWxkIGVpdGhlciBiZSBhIHN0cmluZyBhcyBpblxuICogdHlwZSAxIG9yIGFuIG9iamVjdCBhcyBpbiB0eXBlIDIuIFRoaXMgbWVhbnMgdGhhdCB5b3UgY2FuIG1peCBzdHJpbmdzIGFuZCBvYmplY3RzIHRvZ2V0aGVyIGluIGFuIGFycmF5XG4gKiB0byBnaXZlIHlvdSBtb3JlIGNvbnRyb2wgb3ZlciB3aGF0IENTUyBjbGFzc2VzIGFwcGVhci4gU2VlIHRoZSBjb2RlIGJlbG93IGZvciBhbiBleGFtcGxlIG9mIHRoaXMuXG4gKlxuICpcbiAqIFRoZSBkaXJlY3RpdmUgd29uJ3QgYWRkIGR1cGxpY2F0ZSBjbGFzc2VzIGlmIGEgcGFydGljdWxhciBjbGFzcyB3YXMgYWxyZWFkeSBzZXQuXG4gKlxuICogV2hlbiB0aGUgZXhwcmVzc2lvbiBjaGFuZ2VzLCB0aGUgcHJldmlvdXNseSBhZGRlZCBjbGFzc2VzIGFyZSByZW1vdmVkIGFuZCBvbmx5IHRoZW4gYXJlIHRoZVxuICogbmV3IGNsYXNzZXMgYWRkZWQuXG4gKlxuICogQGtub3duSXNzdWVcbiAqIFlvdSBzaG91bGQgbm90IHVzZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiBpbnRlcnBvbGF0aW9ufSBpbiB0aGUgdmFsdWUgb2YgdGhlIGBjbGFzc2BcbiAqIGF0dHJpYnV0ZSwgd2hlbiB1c2luZyB0aGUgYG5nQ2xhc3NgIGRpcmVjdGl2ZSBvbiB0aGUgc2FtZSBlbGVtZW50LlxuICogU2VlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uI2tub3duLWlzc3VlcyBoZXJlfSBmb3IgbW9yZSBpbmZvLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2FkZENsYXNzIGFkZENsYXNzfSAgICAgICB8IGp1c3QgYmVmb3JlIHRoZSBjbGFzcyBpcyBhcHBsaWVkIHRvIHRoZSBlbGVtZW50ICAgfFxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjcmVtb3ZlQ2xhc3MgcmVtb3ZlQ2xhc3N9IHwganVzdCBiZWZvcmUgdGhlIGNsYXNzIGlzIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudCB8XG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNzZXRDbGFzcyBzZXRDbGFzc30gfCBqdXN0IGJlZm9yZSBjbGFzc2VzIGFyZSBhZGRlZCBhbmQgY2xhc3NlcyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50IGF0IHRoZSBzYW1lIHRpbWUgfFxuICpcbiAqICMjIyBuZ0NsYXNzIGFuZCBwcmUtZXhpc3RpbmcgQ1NTMyBUcmFuc2l0aW9ucy9BbmltYXRpb25zXG4gICBUaGUgbmdDbGFzcyBkaXJlY3RpdmUgc3RpbGwgc3VwcG9ydHMgQ1NTMyBUcmFuc2l0aW9ucy9BbmltYXRpb25zIGV2ZW4gaWYgdGhleSBkbyBub3QgZm9sbG93IHRoZSBuZ0FuaW1hdGUgQ1NTIG5hbWluZyBzdHJ1Y3R1cmUuXG4gICBVcG9uIGFuaW1hdGlvbiBuZ0FuaW1hdGUgd2lsbCBhcHBseSBzdXBwbGVtZW50YXJ5IENTUyBjbGFzc2VzIHRvIHRyYWNrIHRoZSBzdGFydCBhbmQgZW5kIG9mIGFuIGFuaW1hdGlvbiwgYnV0IHRoaXMgd2lsbCBub3QgaGluZGVyXG4gICBhbnkgcHJlLWV4aXN0aW5nIENTUyB0cmFuc2l0aW9ucyBhbHJlYWR5IG9uIHRoZSBlbGVtZW50LiBUbyBnZXQgYW4gaWRlYSBvZiB3aGF0IGhhcHBlbnMgZHVyaW5nIGEgY2xhc3MtYmFzZWQgYW5pbWF0aW9uLCBiZSBzdXJlXG4gICB0byB2aWV3IHRoZSBzdGVwIGJ5IHN0ZXAgZGV0YWlscyBvZiB7QGxpbmsgJGFuaW1hdGUjYWRkQ2xhc3MgJGFuaW1hdGUuYWRkQ2xhc3N9IGFuZFxuICAge0BsaW5rICRhbmltYXRlI3JlbW92ZUNsYXNzICRhbmltYXRlLnJlbW92ZUNsYXNzfS5cbiAqXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xhc3Mge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC4gVGhlIHJlc3VsdFxuICogICBvZiB0aGUgZXZhbHVhdGlvbiBjYW4gYmUgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHNwYWNlIGRlbGltaXRlZCBjbGFzc1xuICogICBuYW1lcywgYW4gYXJyYXksIG9yIGEgbWFwIG9mIGNsYXNzIG5hbWVzIHRvIGJvb2xlYW4gdmFsdWVzLiBJbiB0aGUgY2FzZSBvZiBhIG1hcCwgdGhlXG4gKiAgIG5hbWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHdob3NlIHZhbHVlcyBhcmUgdHJ1dGh5IHdpbGwgYmUgYWRkZWQgYXMgY3NzIGNsYXNzZXMgdG8gdGhlXG4gKiAgIGVsZW1lbnQuXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBCYXNpY1xuICAgPGV4YW1wbGUgbmFtZT1cIm5nLWNsYXNzXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHAgbmctY2xhc3M9XCJ7c3RyaWtlOiBkZWxldGVkLCBib2xkOiBpbXBvcnRhbnQsICdoYXMtZXJyb3InOiBlcnJvcn1cIj5NYXAgU3ludGF4IEV4YW1wbGU8L3A+XG4gICAgICAgPGxhYmVsPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImRlbGV0ZWRcIj5cbiAgICAgICAgICBkZWxldGVkIChhcHBseSBcInN0cmlrZVwiIGNsYXNzKVxuICAgICAgIDwvbGFiZWw+PGJyPlxuICAgICAgIDxsYWJlbD5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJpbXBvcnRhbnRcIj5cbiAgICAgICAgICBpbXBvcnRhbnQgKGFwcGx5IFwiYm9sZFwiIGNsYXNzKVxuICAgICAgIDwvbGFiZWw+PGJyPlxuICAgICAgIDxsYWJlbD5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJlcnJvclwiPlxuICAgICAgICAgIGVycm9yIChhcHBseSBcImhhcy1lcnJvclwiIGNsYXNzKVxuICAgICAgIDwvbGFiZWw+XG4gICAgICAgPGhyPlxuICAgICAgIDxwIG5nLWNsYXNzPVwic3R5bGVcIj5Vc2luZyBTdHJpbmcgU3ludGF4PC9wPlxuICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwic3R5bGVcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQgc3RyaWtlIHJlZFwiIGFyaWEtbGFiZWw9XCJUeXBlOiBib2xkIHN0cmlrZSByZWRcIj5cbiAgICAgICA8aHI+XG4gICAgICAgPHAgbmctY2xhc3M9XCJbc3R5bGUxLCBzdHlsZTIsIHN0eWxlM11cIj5Vc2luZyBBcnJheSBTeW50YXg8L3A+XG4gICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGUxXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWRcIj48YnI+XG4gICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGUyXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWQgMlwiPjxicj5cbiAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJzdHlsZTNcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWRcIiBhcmlhLWxhYmVsPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZCAzXCI+PGJyPlxuICAgICAgIDxocj5cbiAgICAgICA8cCBuZy1jbGFzcz1cIltzdHlsZTQsIHtvcmFuZ2U6IHdhcm5pbmd9XVwiPlVzaW5nIEFycmF5IGFuZCBNYXAgU3ludGF4PC9wPlxuICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInN0eWxlNFwiIHBsYWNlaG9sZGVyPVwiVHlwZTogYm9sZCwgc3RyaWtlXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZVwiPjxicj5cbiAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwid2FybmluZ1wiPiB3YXJuaW5nIChhcHBseSBcIm9yYW5nZVwiIGNsYXNzKTwvbGFiZWw+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5zdHJpa2Uge1xuICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcbiAgICAgICB9XG4gICAgICAgLmJvbGQge1xuICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICB9XG4gICAgICAgLnJlZCB7XG4gICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgfVxuICAgICAgIC5oYXMtZXJyb3Ige1xuICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB5ZWxsb3c7XG4gICAgICAgfVxuICAgICAgIC5vcmFuZ2Uge1xuICAgICAgICAgICBjb2xvcjogb3JhbmdlO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIHBzID0gZWxlbWVudC5hbGwoYnkuY3NzKCdwJykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsZXQgeW91IHRvZ2dsZSB0aGUgY2xhc3MnLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvYm9sZC8pO1xuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvaGFzLWVycm9yLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2ltcG9ydGFudCcpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b01hdGNoKC9ib2xkLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Vycm9yJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL2hhcy1lcnJvci8pO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsZXQgeW91IHRvZ2dsZSBzdHJpbmcgZXhhbXBsZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmdldCgxKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUnKSkuY2xlYXIoKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3N0eWxlJykpLnNlbmRLZXlzKCdyZWQnKTtcbiAgICAgICAgIGV4cGVjdChwcy5nZXQoMSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdyZWQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdhcnJheSBleGFtcGxlIHNob3VsZCBoYXZlIDMgY2xhc3NlcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmdldCgyKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUxJykpLnNlbmRLZXlzKCdib2xkJyk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTInKSkuc2VuZEtleXMoJ3N0cmlrZScpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUzJykpLnNlbmRLZXlzKCdyZWQnKTtcbiAgICAgICAgIGV4cGVjdChwcy5nZXQoMikuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdib2xkIHN0cmlrZSByZWQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdhcnJheSB3aXRoIG1hcCBleGFtcGxlIHNob3VsZCBoYXZlIDIgY2xhc3NlcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmxhc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGU0JykpLnNlbmRLZXlzKCdib2xkJyk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd3YXJuaW5nJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QocHMubGFzdCgpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9CZSgnYm9sZCBvcmFuZ2UnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuXG4gICBAZXhhbXBsZVxuICAgIyMjIEFuaW1hdGlvbnNcblxuICAgVGhlIGV4YW1wbGUgYmVsb3cgZGVtb25zdHJhdGVzIGhvdyB0byBwZXJmb3JtIGFuaW1hdGlvbnMgdXNpbmcgbmdDbGFzcy5cblxuICAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgbmFtZT1cIm5nLWNsYXNzXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8aW5wdXQgaWQ9XCJzZXRidG5cIiB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJzZXRcIiBuZy1jbGljaz1cIm15VmFyPSdteS1jbGFzcydcIj5cbiAgICAgIDxpbnB1dCBpZD1cImNsZWFyYnRuXCIgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiY2xlYXJcIiBuZy1jbGljaz1cIm15VmFyPScnXCI+XG4gICAgICA8YnI+XG4gICAgICA8c3BhbiBjbGFzcz1cImJhc2UtY2xhc3NcIiBuZy1jbGFzcz1cIm15VmFyXCI+U2FtcGxlIFRleHQ8L3NwYW4+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5iYXNlLWNsYXNzIHtcbiAgICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcbiAgICAgICB9XG5cbiAgICAgICAuYmFzZS1jbGFzcy5teS1jbGFzcyB7XG4gICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgZm9udC1zaXplOjNlbTtcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xhc3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ3NldGJ0bicpKS5jbGljaygpO1xuXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy5iYXNlLWNsYXNzJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2NsZWFyYnRuJykpLmNsaWNrKCk7XG5cbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nQ2xhc3NEaXJlY3RpdmUgPSBjbGFzc0RpcmVjdGl2ZSgnJywgdHJ1ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDbGFzc09kZFxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xhc3NPZGRgIGFuZCBgbmdDbGFzc0V2ZW5gIGRpcmVjdGl2ZXMgd29yayBleGFjdGx5IGFzXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MgbmdDbGFzc30sIGV4Y2VwdCB0aGV5IHdvcmsgaW5cbiAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgb25seSB3aXRoaW4gdGhlIHNjb3BlIG9mIGFuXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS5cbiAqXG4gKiBAYW5pbWF0aW9uc1xuICogfCBBbmltYXRpb24gICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNhZGRDbGFzcyBhZGRDbGFzc30gICAgICAgfCBqdXN0IGJlZm9yZSB0aGUgY2xhc3MgaXMgYXBwbGllZCB0byB0aGUgZWxlbWVudCAgIHxcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI3JlbW92ZUNsYXNzIHJlbW92ZUNsYXNzfSB8IGp1c3QgYmVmb3JlIHRoZSBjbGFzcyBpcyByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQgfFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NsYXNzT2RkIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuIFRoZSByZXN1bHRcbiAqICAgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3MgbmFtZXMgb3IgYW4gYXJyYXkuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1jbGFzcy1vZGRcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPG9sIG5nLWluaXQ9XCJuYW1lcz1bJ0pvaG4nLCAnTWFyeScsICdDYXRlJywgJ1N1eiddXCI+XG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIj5cbiAgICAgICAgICAgPHNwYW4gbmctY2xhc3Mtb2RkPVwiJ29kZCdcIiBuZy1jbGFzcy1ldmVuPVwiJ2V2ZW4nXCI+XG4gICAgICAgICAgICAge3tuYW1lfX1cbiAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvb2w+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5vZGQge1xuICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICB9XG4gICAgICAgLmV2ZW4ge1xuICAgICAgICAgY29sb3I6IGJsdWU7XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsYXNzLW9kZCBhbmQgbmctY2xhc3MtZXZlbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMCkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL29kZC8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMSkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL2V2ZW4vKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICpcbiAqIDxociAvPlxuICogQGV4YW1wbGVcbiAqIEFuIGV4YW1wbGUgb24gaG93IHRvIGltcGxlbWVudCBhbmltYXRpb25zIHVzaW5nIGBuZ0NsYXNzT2RkYDpcbiAqXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIiBuYW1lPVwibmctY2xhc3Mtb2RkLWFuaW1hdGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWluaXQ9XCJpdGVtcz1bJ0l0ZW0gMycsICdJdGVtIDInLCAnSXRlbSAxJywgJ0l0ZW0gMCddXCI+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiaXRlbXMudW5zaGlmdCgnSXRlbSAnICsgaXRlbXMubGVuZ3RoKVwiPkFkZCBpdGVtPC9idXR0b24+XG4gICAgICAgICA8aHIgLz5cbiAgICAgICAgIDx0YWJsZT5cbiAgICAgICAgICAgPHRyIG5nLXJlcGVhdD1cIml0ZW0gaW4gaXRlbXNcIiBuZy1jbGFzcy1vZGQ9XCInb2RkJ1wiPlxuICAgICAgICAgICAgIDx0ZD57eyBpdGVtIH19PC90ZD5cbiAgICAgICAgICAgPC90cj5cbiAgICAgICAgIDwvdGFibGU+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5vZGQge1xuICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMCwgMC4yNSk7XG4gICAgICAgfVxuXG4gICAgICAgLm9kZC1hZGQsIC5vZGQtcmVtb3ZlIHtcbiAgICAgICAgIHRyYW5zaXRpb246IDEuNXM7XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGFkZCBuZXcgZW50cmllcyB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaXN0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICB2YXIgYnV0dG9uID0gZWxlbWVudChieS5idXR0b25UZXh0KCdBZGQgaXRlbScpKTtcbiAgICAgICAgIHZhciByb3dzID0gZWxlbWVudC5hbGwoYnkucmVwZWF0ZXIoJ2l0ZW0gaW4gaXRlbXMnKSk7XG5cbiAgICAgICAgIGV4cGVjdChyb3dzLmNvdW50KCkpLnRvQmUoNCk7XG4gICAgICAgICBleHBlY3Qocm93cy5nZXQoMCkuZ2V0VGV4dCgpKS50b0JlKCdJdGVtIDMnKTtcbiAgICAgICAgIGV4cGVjdChyb3dzLmdldCgxKS5nZXRUZXh0KCkpLnRvQmUoJ0l0ZW0gMicpO1xuXG4gICAgICAgICBidXR0b24uY2xpY2soKTtcblxuICAgICAgICAgZXhwZWN0KHJvd3MuY291bnQoKSkudG9CZSg1KTtcbiAgICAgICAgIGV4cGVjdChyb3dzLmdldCgwKS5nZXRUZXh0KCkpLnRvQmUoJ0l0ZW0gNCcpO1xuICAgICAgICAgZXhwZWN0KHJvd3MuZ2V0KDEpLmdldFRleHQoKSkudG9CZSgnSXRlbSAzJyk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIGFkZCBvZGQgY2xhc3MgdG8gb2RkIGVudHJpZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBidXR0b24gPSBlbGVtZW50KGJ5LmJ1dHRvblRleHQoJ0FkZCBpdGVtJykpO1xuICAgICAgICAgdmFyIHJvd3MgPSBlbGVtZW50LmFsbChieS5yZXBlYXRlcignaXRlbSBpbiBpdGVtcycpKTtcblxuICAgICAgICAgZXhwZWN0KHJvd3MuZ2V0KDApLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9NYXRjaCgvb2RkLyk7XG4gICAgICAgICBleHBlY3Qocm93cy5nZXQoMSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvb2RkLyk7XG5cbiAgICAgICAgIGJ1dHRvbi5jbGljaygpO1xuXG4gICAgICAgICBleHBlY3Qocm93cy5nZXQoMCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b01hdGNoKC9vZGQvKTtcbiAgICAgICAgIGV4cGVjdChyb3dzLmdldCgxKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLm5vdC50b01hdGNoKC9vZGQvKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdDbGFzc09kZERpcmVjdGl2ZSA9IGNsYXNzRGlyZWN0aXZlKCdPZGQnLCAwKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NsYXNzRXZlblxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xhc3NPZGRgIGFuZCBgbmdDbGFzc0V2ZW5gIGRpcmVjdGl2ZXMgd29yayBleGFjdGx5IGFzXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MgbmdDbGFzc30sIGV4Y2VwdCB0aGV5IHdvcmsgaW5cbiAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgb25seSB3aXRoaW4gdGhlIHNjb3BlIG9mIGFuXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS5cbiAqXG4gKiBAYW5pbWF0aW9uc1xuICogfCBBbmltYXRpb24gICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNhZGRDbGFzcyBhZGRDbGFzc30gICAgICAgfCBqdXN0IGJlZm9yZSB0aGUgY2xhc3MgaXMgYXBwbGllZCB0byB0aGUgZWxlbWVudCAgIHxcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI3JlbW92ZUNsYXNzIHJlbW92ZUNsYXNzfSB8IGp1c3QgYmVmb3JlIHRoZSBjbGFzcyBpcyByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQgfFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NsYXNzRXZlbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLiBUaGVcbiAqICAgcmVzdWx0IG9mIHRoZSBldmFsdWF0aW9uIGNhbiBiZSBhIHN0cmluZyByZXByZXNlbnRpbmcgc3BhY2UgZGVsaW1pdGVkIGNsYXNzIG5hbWVzIG9yIGFuIGFycmF5LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwibmctY2xhc3MtZXZlblwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8b2wgbmctaW5pdD1cIm5hbWVzPVsnSm9obicsICdNYXJ5JywgJ0NhdGUnLCAnU3V6J11cIj5cbiAgICAgICAgICA8bGkgbmctcmVwZWF0PVwibmFtZSBpbiBuYW1lc1wiPlxuICAgICAgICAgICA8c3BhbiBuZy1jbGFzcy1vZGQ9XCInb2RkJ1wiIG5nLWNsYXNzLWV2ZW49XCInZXZlbidcIj5cbiAgICAgICAgICAgICB7e25hbWV9fSAmbmJzcDsgJm5ic3A7ICZuYnNwO1xuICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC9vbD5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgLm9kZCB7XG4gICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgIH1cbiAgICAgICAuZXZlbiB7XG4gICAgICAgICBjb2xvcjogYmx1ZTtcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xhc3Mtb2RkIGFuZCBuZy1jbGFzcy1ldmVuJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5yZXBlYXRlcignbmFtZSBpbiBuYW1lcycpLnJvdygwKS5jb2x1bW4oJ25hbWUnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5cbiAgICAgICAgICAgdG9NYXRjaCgvb2RkLyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5yZXBlYXRlcignbmFtZSBpbiBuYW1lcycpLnJvdygxKS5jb2x1bW4oJ25hbWUnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5cbiAgICAgICAgICAgdG9NYXRjaCgvZXZlbi8pO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKlxuICogPGhyIC8+XG4gKiBAZXhhbXBsZVxuICogQW4gZXhhbXBsZSBvbiBob3cgdG8gaW1wbGVtZW50IGFuaW1hdGlvbnMgdXNpbmcgYG5nQ2xhc3NFdmVuYDpcbiAqXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIiBuYW1lPVwibmctY2xhc3MtZXZlbi1hbmltYXRlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1pbml0PVwiaXRlbXM9WydJdGVtIDMnLCAnSXRlbSAyJywgJ0l0ZW0gMScsICdJdGVtIDAnXVwiPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIml0ZW1zLnVuc2hpZnQoJ0l0ZW0gJyArIGl0ZW1zLmxlbmd0aClcIj5BZGQgaXRlbTwvYnV0dG9uPlxuICAgICAgICAgPGhyIC8+XG4gICAgICAgICA8dGFibGU+XG4gICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJpdGVtIGluIGl0ZW1zXCIgbmctY2xhc3MtZXZlbj1cIidldmVuJ1wiPlxuICAgICAgICAgICAgIDx0ZD57eyBpdGVtIH19PC90ZD5cbiAgICAgICAgICAgPC90cj5cbiAgICAgICAgIDwvdGFibGU+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5ldmVuIHtcbiAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDAsIDAuMjUpO1xuICAgICAgIH1cblxuICAgICAgIC5ldmVuLWFkZCwgLmV2ZW4tcmVtb3ZlIHtcbiAgICAgICAgIHRyYW5zaXRpb246IDEuNXM7XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGFkZCBuZXcgZW50cmllcyB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaXN0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICB2YXIgYnV0dG9uID0gZWxlbWVudChieS5idXR0b25UZXh0KCdBZGQgaXRlbScpKTtcbiAgICAgICAgIHZhciByb3dzID0gZWxlbWVudC5hbGwoYnkucmVwZWF0ZXIoJ2l0ZW0gaW4gaXRlbXMnKSk7XG5cbiAgICAgICAgIGV4cGVjdChyb3dzLmNvdW50KCkpLnRvQmUoNCk7XG4gICAgICAgICBleHBlY3Qocm93cy5nZXQoMCkuZ2V0VGV4dCgpKS50b0JlKCdJdGVtIDMnKTtcbiAgICAgICAgIGV4cGVjdChyb3dzLmdldCgxKS5nZXRUZXh0KCkpLnRvQmUoJ0l0ZW0gMicpO1xuXG4gICAgICAgICBidXR0b24uY2xpY2soKTtcblxuICAgICAgICAgZXhwZWN0KHJvd3MuY291bnQoKSkudG9CZSg1KTtcbiAgICAgICAgIGV4cGVjdChyb3dzLmdldCgwKS5nZXRUZXh0KCkpLnRvQmUoJ0l0ZW0gNCcpO1xuICAgICAgICAgZXhwZWN0KHJvd3MuZ2V0KDEpLmdldFRleHQoKSkudG9CZSgnSXRlbSAzJyk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIGFkZCBldmVuIGNsYXNzIHRvIGV2ZW4gZW50cmllcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIGJ1dHRvbiA9IGVsZW1lbnQoYnkuYnV0dG9uVGV4dCgnQWRkIGl0ZW0nKSk7XG4gICAgICAgICB2YXIgcm93cyA9IGVsZW1lbnQuYWxsKGJ5LnJlcGVhdGVyKCdpdGVtIGluIGl0ZW1zJykpO1xuXG4gICAgICAgICBleHBlY3Qocm93cy5nZXQoMCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvZXZlbi8pO1xuICAgICAgICAgZXhwZWN0KHJvd3MuZ2V0KDEpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9NYXRjaCgvZXZlbi8pO1xuXG4gICAgICAgICBidXR0b24uY2xpY2soKTtcblxuICAgICAgICAgZXhwZWN0KHJvd3MuZ2V0KDApLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkubm90LnRvTWF0Y2goL2V2ZW4vKTtcbiAgICAgICAgIGV4cGVjdChyb3dzLmdldCgxKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL2V2ZW4vKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdDbGFzc0V2ZW5EaXJlY3RpdmUgPSBjbGFzc0RpcmVjdGl2ZSgnRXZlbicsIDEpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ2xvYWtcbiAqIEByZXN0cmljdCBBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0Nsb2FrYCBkaXJlY3RpdmUgaXMgdXNlZCB0byBwcmV2ZW50IHRoZSBBbmd1bGFySlMgaHRtbCB0ZW1wbGF0ZSBmcm9tIGJlaW5nIGJyaWVmbHlcbiAqIGRpc3BsYXllZCBieSB0aGUgYnJvd3NlciBpbiBpdHMgcmF3ICh1bmNvbXBpbGVkKSBmb3JtIHdoaWxlIHlvdXIgYXBwbGljYXRpb24gaXMgbG9hZGluZy4gVXNlIHRoaXNcbiAqIGRpcmVjdGl2ZSB0byBhdm9pZCB0aGUgdW5kZXNpcmFibGUgZmxpY2tlciBlZmZlY3QgY2F1c2VkIGJ5IHRoZSBodG1sIHRlbXBsYXRlIGRpc3BsYXkuXG4gKlxuICogVGhlIGRpcmVjdGl2ZSBjYW4gYmUgYXBwbGllZCB0byB0aGUgYDxib2R5PmAgZWxlbWVudCwgYnV0IHRoZSBwcmVmZXJyZWQgdXNhZ2UgaXMgdG8gYXBwbHlcbiAqIG11bHRpcGxlIGBuZ0Nsb2FrYCBkaXJlY3RpdmVzIHRvIHNtYWxsIHBvcnRpb25zIG9mIHRoZSBwYWdlIHRvIHBlcm1pdCBwcm9ncmVzc2l2ZSByZW5kZXJpbmdcbiAqIG9mIHRoZSBicm93c2VyIHZpZXcuXG4gKlxuICogYG5nQ2xvYWtgIHdvcmtzIGluIGNvb3BlcmF0aW9uIHdpdGggdGhlIGZvbGxvd2luZyBjc3MgcnVsZSBlbWJlZGRlZCB3aXRoaW4gYGFuZ3VsYXIuanNgIGFuZFxuICogYGFuZ3VsYXIubWluLmpzYC5cbiAqIEZvciBDU1AgbW9kZSBwbGVhc2UgYWRkIGBhbmd1bGFyLWNzcC5jc3NgIHRvIHlvdXIgaHRtbCBmaWxlIChzZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NzcCBuZ0NzcH0pLlxuICpcbiAqIGBgYGNzc1xuICogW25nXFw6Y2xvYWtdLCBbbmctY2xvYWtdLCBbZGF0YS1uZy1jbG9ha10sIFt4LW5nLWNsb2FrXSwgLm5nLWNsb2FrLCAueC1uZy1jbG9hayB7XG4gKiAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIFdoZW4gdGhpcyBjc3MgcnVsZSBpcyBsb2FkZWQgYnkgdGhlIGJyb3dzZXIsIGFsbCBodG1sIGVsZW1lbnRzIChpbmNsdWRpbmcgdGhlaXIgY2hpbGRyZW4pIHRoYXRcbiAqIGFyZSB0YWdnZWQgd2l0aCB0aGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZSBhcmUgaGlkZGVuLiBXaGVuIEFuZ3VsYXJKUyBlbmNvdW50ZXJzIHRoaXMgZGlyZWN0aXZlXG4gKiBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uIG9mIHRoZSB0ZW1wbGF0ZSBpdCBkZWxldGVzIHRoZSBgbmdDbG9ha2AgZWxlbWVudCBhdHRyaWJ1dGUsIG1ha2luZ1xuICogdGhlIGNvbXBpbGVkIGVsZW1lbnQgdmlzaWJsZS5cbiAqXG4gKiBGb3IgdGhlIGJlc3QgcmVzdWx0LCB0aGUgYGFuZ3VsYXIuanNgIHNjcmlwdCBtdXN0IGJlIGxvYWRlZCBpbiB0aGUgaGVhZCBzZWN0aW9uIG9mIHRoZSBodG1sXG4gKiBkb2N1bWVudDsgYWx0ZXJuYXRpdmVseSwgdGhlIGNzcyBydWxlIGFib3ZlIG11c3QgYmUgaW5jbHVkZWQgaW4gdGhlIGV4dGVybmFsIHN0eWxlc2hlZXQgb2YgdGhlXG4gKiBhcHBsaWNhdGlvbi5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLWNsb2FrXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJ0ZW1wbGF0ZTFcIiBuZy1jbG9haz57eyAnaGVsbG8nIH19PC9kaXY+XG4gICAgICAgIDxkaXYgaWQ9XCJ0ZW1wbGF0ZTJcIiBjbGFzcz1cIm5nLWNsb2FrXCI+e3sgJ3dvcmxkJyB9fTwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIHJlbW92ZSB0aGUgdGVtcGxhdGUgZGlyZWN0aXZlIGFuZCBjc3MgY2xhc3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdCgkKCcjdGVtcGxhdGUxJykuZ2V0QXR0cmlidXRlKCduZy1jbG9haycpKS5cbiAgICAgICAgICAgdG9CZU51bGwoKTtcbiAgICAgICAgIGV4cGVjdCgkKCcjdGVtcGxhdGUyJykuZ2V0QXR0cmlidXRlKCduZy1jbG9haycpKS5cbiAgICAgICAgICAgdG9CZU51bGwoKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICpcbiAqL1xudmFyIG5nQ2xvYWtEaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XG4gIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICBhdHRyLiRzZXQoJ25nQ2xvYWsnLCB1bmRlZmluZWQpO1xuICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ25nLWNsb2FrJyk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ29udHJvbGxlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0NvbnRyb2xsZXJgIGRpcmVjdGl2ZSBhdHRhY2hlcyBhIGNvbnRyb2xsZXIgY2xhc3MgdG8gdGhlIHZpZXcuIFRoaXMgaXMgYSBrZXkgYXNwZWN0IG9mIGhvdyBhbmd1bGFyXG4gKiBzdXBwb3J0cyB0aGUgcHJpbmNpcGxlcyBiZWhpbmQgdGhlIE1vZGVsLVZpZXctQ29udHJvbGxlciBkZXNpZ24gcGF0dGVybi5cbiAqXG4gKiBNVkMgY29tcG9uZW50cyBpbiBhbmd1bGFyOlxuICpcbiAqICogTW9kZWwg4oCUIE1vZGVscyBhcmUgdGhlIHByb3BlcnRpZXMgb2YgYSBzY29wZTsgc2NvcGVzIGFyZSBhdHRhY2hlZCB0byB0aGUgRE9NIHdoZXJlIHNjb3BlIHByb3BlcnRpZXNcbiAqICAgYXJlIGFjY2Vzc2VkIHRocm91Z2ggYmluZGluZ3MuXG4gKiAqIFZpZXcg4oCUIFRoZSB0ZW1wbGF0ZSAoSFRNTCB3aXRoIGRhdGEgYmluZGluZ3MpIHRoYXQgaXMgcmVuZGVyZWQgaW50byB0aGUgVmlldy5cbiAqICogQ29udHJvbGxlciDigJQgVGhlIGBuZ0NvbnRyb2xsZXJgIGRpcmVjdGl2ZSBzcGVjaWZpZXMgYSBDb250cm9sbGVyIGNsYXNzOyB0aGUgY2xhc3MgY29udGFpbnMgYnVzaW5lc3NcbiAqICAgbG9naWMgYmVoaW5kIHRoZSBhcHBsaWNhdGlvbiB0byBkZWNvcmF0ZSB0aGUgc2NvcGUgd2l0aCBmdW5jdGlvbnMgYW5kIHZhbHVlc1xuICpcbiAqIE5vdGUgdGhhdCB5b3UgY2FuIGFsc28gYXR0YWNoIGNvbnRyb2xsZXJzIHRvIHRoZSBET00gYnkgZGVjbGFyaW5nIGl0IGluIGEgcm91dGUgZGVmaW5pdGlvblxuICogdmlhIHRoZSB7QGxpbmsgbmdSb3V0ZS4kcm91dGUgJHJvdXRlfSBzZXJ2aWNlLiBBIGNvbW1vbiBtaXN0YWtlIGlzIHRvIGRlY2xhcmUgdGhlIGNvbnRyb2xsZXJcbiAqIGFnYWluIHVzaW5nIGBuZy1jb250cm9sbGVyYCBpbiB0aGUgdGVtcGxhdGUgaXRzZWxmLiAgVGhpcyB3aWxsIGNhdXNlIHRoZSBjb250cm9sbGVyIHRvIGJlIGF0dGFjaGVkXG4gKiBhbmQgZXhlY3V0ZWQgdHdpY2UuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSA1MDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDb250cm9sbGVyIE5hbWUgb2YgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiByZWdpc3RlcmVkIHdpdGggdGhlIGN1cnJlbnRcbiAqIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyICRjb250cm9sbGVyUHJvdmlkZXJ9IG9yIGFuIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259XG4gKiB0aGF0IG9uIHRoZSBjdXJyZW50IHNjb3BlIGV2YWx1YXRlcyB0byBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICpcbiAqIFRoZSBjb250cm9sbGVyIGluc3RhbmNlIGNhbiBiZSBwdWJsaXNoZWQgaW50byBhIHNjb3BlIHByb3BlcnR5IGJ5IHNwZWNpZnlpbmdcbiAqIGBuZy1jb250cm9sbGVyPVwiYXMgcHJvcGVydHlOYW1lXCJgLlxuICpcbiAqIEBleGFtcGxlXG4gKiBIZXJlIGlzIGEgc2ltcGxlIGZvcm0gZm9yIGVkaXRpbmcgdXNlciBjb250YWN0IGluZm9ybWF0aW9uLiBBZGRpbmcsIHJlbW92aW5nLCBjbGVhcmluZywgYW5kXG4gKiBncmVldGluZyBhcmUgbWV0aG9kcyBkZWNsYXJlZCBvbiB0aGUgY29udHJvbGxlciAoc2VlIHNvdXJjZSB0YWIpLiBUaGVzZSBtZXRob2RzIGNhblxuICogZWFzaWx5IGJlIGNhbGxlZCBmcm9tIHRoZSBBbmd1bGFySlMgbWFya3VwLiBBbnkgY2hhbmdlcyB0byB0aGUgZGF0YSBhcmUgYXV0b21hdGljYWxseSByZWZsZWN0ZWRcbiAqIGluIHRoZSBWaWV3IHdpdGhvdXQgdGhlIG5lZWQgZm9yIGEgbWFudWFsIHVwZGF0ZS5cbiAqXG4gKiBUd28gZGlmZmVyZW50IGRlY2xhcmF0aW9uIHN0eWxlcyBhcmUgaW5jbHVkZWQgYmVsb3c6XG4gKlxuICogKiBvbmUgYmluZHMgbWV0aG9kcyBhbmQgcHJvcGVydGllcyBkaXJlY3RseSBvbnRvIHRoZSBjb250cm9sbGVyIHVzaW5nIGB0aGlzYDpcbiAqIGBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMSBhcyBzZXR0aW5nc1wiYFxuICogKiBvbmUgaW5qZWN0cyBgJHNjb3BlYCBpbnRvIHRoZSBjb250cm9sbGVyOlxuICogYG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIyXCJgXG4gKlxuICogVGhlIHNlY29uZCBvcHRpb24gaXMgbW9yZSBjb21tb24gaW4gdGhlIEFuZ3VsYXJKUyBjb21tdW5pdHksIGFuZCBpcyBnZW5lcmFsbHkgdXNlZCBpbiBib2lsZXJwbGF0ZXNcbiAqIGFuZCBpbiB0aGlzIGd1aWRlLiBIb3dldmVyLCB0aGVyZSBhcmUgYWR2YW50YWdlcyB0byBiaW5kaW5nIHByb3BlcnRpZXMgZGlyZWN0bHkgdG8gdGhlIGNvbnRyb2xsZXJcbiAqIGFuZCBhdm9pZGluZyBzY29wZS5cbiAqXG4gKiAqIFVzaW5nIGBjb250cm9sbGVyIGFzYCBtYWtlcyBpdCBvYnZpb3VzIHdoaWNoIGNvbnRyb2xsZXIgeW91IGFyZSBhY2Nlc3NpbmcgaW4gdGhlIHRlbXBsYXRlIHdoZW5cbiAqIG11bHRpcGxlIGNvbnRyb2xsZXJzIGFwcGx5IHRvIGFuIGVsZW1lbnQuXG4gKiAqIElmIHlvdSBhcmUgd3JpdGluZyB5b3VyIGNvbnRyb2xsZXJzIGFzIGNsYXNzZXMgeW91IGhhdmUgZWFzaWVyIGFjY2VzcyB0byB0aGUgcHJvcGVydGllcyBhbmRcbiAqIG1ldGhvZHMsIHdoaWNoIHdpbGwgYXBwZWFyIG9uIHRoZSBzY29wZSwgZnJvbSBpbnNpZGUgdGhlIGNvbnRyb2xsZXIgY29kZS5cbiAqICogU2luY2UgdGhlcmUgaXMgYWx3YXlzIGEgYC5gIGluIHRoZSBiaW5kaW5ncywgeW91IGRvbid0IGhhdmUgdG8gd29ycnkgYWJvdXQgcHJvdG90eXBhbFxuICogaW5oZXJpdGFuY2UgbWFza2luZyBwcmltaXRpdmVzLlxuICpcbiAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgdGhlIGBjb250cm9sbGVyIGFzYCBzeW50YXguXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cIm5nQ29udHJvbGxlckFzXCIgbW9kdWxlPVwiY29udHJvbGxlckFzRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgPGRpdiBpZD1cImN0cmwtYXMtZXhtcGxcIiBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMSBhcyBzZXR0aW5nc1wiPlxuICogICAgICA8bGFiZWw+TmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJzZXR0aW5ncy5uYW1lXCIvPjwvbGFiZWw+XG4gKiAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzZXR0aW5ncy5ncmVldCgpXCI+Z3JlZXQ8L2J1dHRvbj48YnIvPlxuICogICAgICBDb250YWN0OlxuICogICAgICA8dWw+XG4gKiAgICAgICAgPGxpIG5nLXJlcGVhdD1cImNvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHNcIj5cbiAqICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJjb250YWN0LnR5cGVcIiBhcmlhLWxhYmVsPVwiQ29udGFjdCBtZXRob2RcIiBpZD1cInNlbGVjdF97eyRpbmRleH19XCI+XG4gKiAgICAgICAgICAgICA8b3B0aW9uPnBob25lPC9vcHRpb24+XG4gKiAgICAgICAgICAgICA8b3B0aW9uPmVtYWlsPC9vcHRpb24+XG4gKiAgICAgICAgICA8L3NlbGVjdD5cbiAqICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiY29udGFjdC52YWx1ZVwiIGFyaWEtbGFiZWxsZWRieT1cInNlbGVjdF97eyRpbmRleH19XCIgLz5cbiAqICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzZXR0aW5ncy5jbGVhckNvbnRhY3QoY29udGFjdClcIj5jbGVhcjwvYnV0dG9uPlxuICogICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNldHRpbmdzLnJlbW92ZUNvbnRhY3QoY29udGFjdClcIiBhcmlhLWxhYmVsPVwiUmVtb3ZlXCI+WDwvYnV0dG9uPlxuICogICAgICAgIDwvbGk+XG4gKiAgICAgICAgPGxpPjxidXR0b24gbmctY2xpY2s9XCJzZXR0aW5ncy5hZGRDb250YWN0KClcIj5hZGQ8L2J1dHRvbj48L2xpPlxuICogICAgIDwvdWw+XG4gKiAgICA8L2Rpdj5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgICBhbmd1bGFyLm1vZHVsZSgnY29udHJvbGxlckFzRXhhbXBsZScsIFtdKVxuICogICAgICAuY29udHJvbGxlcignU2V0dGluZ3NDb250cm9sbGVyMScsIFNldHRpbmdzQ29udHJvbGxlcjEpO1xuICpcbiAqICAgIGZ1bmN0aW9uIFNldHRpbmdzQ29udHJvbGxlcjEoKSB7XG4gKiAgICAgIHRoaXMubmFtZSA9ICdKb2huIFNtaXRoJztcbiAqICAgICAgdGhpcy5jb250YWN0cyA9IFtcbiAqICAgICAgICB7dHlwZTogJ3Bob25lJywgdmFsdWU6ICc0MDggNTU1IDEyMTInfSxcbiAqICAgICAgICB7dHlwZTogJ2VtYWlsJywgdmFsdWU6ICdqb2huLnNtaXRoQGV4YW1wbGUub3JnJ31cbiAqICAgICAgXTtcbiAqICAgIH1cbiAqXG4gKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5ncmVldCA9IGZ1bmN0aW9uKCkge1xuICogICAgICBhbGVydCh0aGlzLm5hbWUpO1xuICogICAgfTtcbiAqXG4gKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5hZGRDb250YWN0ID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgIHRoaXMuY29udGFjdHMucHVzaCh7dHlwZTogJ2VtYWlsJywgdmFsdWU6ICd5b3VybmFtZUBleGFtcGxlLm9yZyd9KTtcbiAqICAgIH07XG4gKlxuICogICAgU2V0dGluZ3NDb250cm9sbGVyMS5wcm90b3R5cGUucmVtb3ZlQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3RUb1JlbW92ZSkge1xuICogICAgIHZhciBpbmRleCA9IHRoaXMuY29udGFjdHMuaW5kZXhPZihjb250YWN0VG9SZW1vdmUpO1xuICogICAgICB0aGlzLmNvbnRhY3RzLnNwbGljZShpbmRleCwgMSk7XG4gKiAgICB9O1xuICpcbiAqICAgIFNldHRpbmdzQ29udHJvbGxlcjEucHJvdG90eXBlLmNsZWFyQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3QpIHtcbiAqICAgICAgY29udGFjdC50eXBlID0gJ3Bob25lJztcbiAqICAgICAgY29udGFjdC52YWx1ZSA9ICcnO1xuICogICAgfTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgaXQoJ3Nob3VsZCBjaGVjayBjb250cm9sbGVyIGFzJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICB2YXIgY29udGFpbmVyID0gZWxlbWVudChieS5pZCgnY3RybC1hcy1leG1wbCcpKTtcbiAqICAgICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5Lm1vZGVsKCdzZXR0aW5ncy5uYW1lJykpXG4gKiAgICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnSm9obiBTbWl0aCcpO1xuICpcbiAqICAgICAgIHZhciBmaXJzdFJlcGVhdCA9XG4gKiAgICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHMnKS5yb3coMCkpO1xuICogICAgICAgdmFyIHNlY29uZFJlcGVhdCA9XG4gKiAgICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHMnKS5yb3coMSkpO1xuICpcbiAqICAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgnNDA4IDU1NSAxMjEyJyk7XG4gKlxuICogICAgICAgZXhwZWN0KHNlY29uZFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgnam9obi5zbWl0aEBleGFtcGxlLm9yZycpO1xuICpcbiAqICAgICAgIGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkuYnV0dG9uVGV4dCgnY2xlYXInKSkuY2xpY2soKTtcbiAqXG4gKiAgICAgICBleHBlY3QoZmlyc3RSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAgLnRvQmUoJycpO1xuICpcbiAqICAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LmJ1dHRvblRleHQoJ2FkZCcpKS5jbGljaygpO1xuICpcbiAqICAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0cycpLnJvdygyKSlcbiAqICAgICAgICAgICAuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKVxuICogICAgICAgICAgIC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAgLnRvQmUoJ3lvdXJuYW1lQGV4YW1wbGUub3JnJyk7XG4gKiAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiBUaGlzIGV4YW1wbGUgZGVtb25zdHJhdGVzIHRoZSBcImF0dGFjaCB0byBgJHNjb3BlYFwiIHN0eWxlIG9mIGNvbnRyb2xsZXIuXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cIm5nQ29udHJvbGxlclwiIG1vZHVsZT1cImNvbnRyb2xsZXJFeGFtcGxlXCI+XG4gKiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgPGRpdiBpZD1cImN0cmwtZXhtcGxcIiBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMlwiPlxuICogICAgIDxsYWJlbD5OYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm5hbWVcIi8+PC9sYWJlbD5cbiAqICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiZ3JlZXQoKVwiPmdyZWV0PC9idXR0b24+PGJyLz5cbiAqICAgICBDb250YWN0OlxuICogICAgIDx1bD5cbiAqICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIGNvbnRhY3RzXCI+XG4gKiAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJjb250YWN0LnR5cGVcIiBpZD1cInNlbGVjdF97eyRpbmRleH19XCI+XG4gKiAgICAgICAgICAgIDxvcHRpb24+cGhvbmU8L29wdGlvbj5cbiAqICAgICAgICAgICAgPG9wdGlvbj5lbWFpbDwvb3B0aW9uPlxuICogICAgICAgICA8L3NlbGVjdD5cbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJjb250YWN0LnZhbHVlXCIgYXJpYS1sYWJlbGxlZGJ5PVwic2VsZWN0X3t7JGluZGV4fX1cIiAvPlxuICogICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY2xlYXJDb250YWN0KGNvbnRhY3QpXCI+Y2xlYXI8L2J1dHRvbj5cbiAqICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInJlbW92ZUNvbnRhY3QoY29udGFjdClcIj5YPC9idXR0b24+XG4gKiAgICAgICA8L2xpPlxuICogICAgICAgPGxpPlsgPGJ1dHRvbiBuZy1jbGljaz1cImFkZENvbnRhY3QoKVwiPmFkZDwvYnV0dG9uPiBdPC9saT5cbiAqICAgIDwvdWw+XG4gKiAgIDwvZGl2PlxuICogIDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgIGFuZ3VsYXIubW9kdWxlKCdjb250cm9sbGVyRXhhbXBsZScsIFtdKVxuICogICAgIC5jb250cm9sbGVyKCdTZXR0aW5nc0NvbnRyb2xsZXIyJywgWyckc2NvcGUnLCBTZXR0aW5nc0NvbnRyb2xsZXIyXSk7XG4gKlxuICogICBmdW5jdGlvbiBTZXR0aW5nc0NvbnRyb2xsZXIyKCRzY29wZSkge1xuICogICAgICRzY29wZS5uYW1lID0gJ0pvaG4gU21pdGgnO1xuICogICAgICRzY29wZS5jb250YWN0cyA9IFtcbiAqICAgICAgIHt0eXBlOidwaG9uZScsIHZhbHVlOic0MDggNTU1IDEyMTInfSxcbiAqICAgICAgIHt0eXBlOidlbWFpbCcsIHZhbHVlOidqb2huLnNtaXRoQGV4YW1wbGUub3JnJ31cbiAqICAgICBdO1xuICpcbiAqICAgICAkc2NvcGUuZ3JlZXQgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgIGFsZXJ0KCRzY29wZS5uYW1lKTtcbiAqICAgICB9O1xuICpcbiAqICAgICAkc2NvcGUuYWRkQ29udGFjdCA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgJHNjb3BlLmNvbnRhY3RzLnB1c2goe3R5cGU6J2VtYWlsJywgdmFsdWU6J3lvdXJuYW1lQGV4YW1wbGUub3JnJ30pO1xuICogICAgIH07XG4gKlxuICogICAgICRzY29wZS5yZW1vdmVDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdFRvUmVtb3ZlKSB7XG4gKiAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuY29udGFjdHMuaW5kZXhPZihjb250YWN0VG9SZW1vdmUpO1xuICogICAgICAgJHNjb3BlLmNvbnRhY3RzLnNwbGljZShpbmRleCwgMSk7XG4gKiAgICAgfTtcbiAqXG4gKiAgICAgJHNjb3BlLmNsZWFyQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3QpIHtcbiAqICAgICAgIGNvbnRhY3QudHlwZSA9ICdwaG9uZSc7XG4gKiAgICAgICBjb250YWN0LnZhbHVlID0gJyc7XG4gKiAgICAgfTtcbiAqICAgfVxuICogIDwvZmlsZT5cbiAqICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICBpdCgnc2hvdWxkIGNoZWNrIGNvbnRyb2xsZXInLCBmdW5jdGlvbigpIHtcbiAqICAgICAgdmFyIGNvbnRhaW5lciA9IGVsZW1lbnQoYnkuaWQoJ2N0cmwtZXhtcGwnKSk7XG4gKlxuICogICAgICBleHBlY3QoY29udGFpbmVyLmVsZW1lbnQoYnkubW9kZWwoJ25hbWUnKSlcbiAqICAgICAgICAgIC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJ0pvaG4gU21pdGgnKTtcbiAqXG4gKiAgICAgIHZhciBmaXJzdFJlcGVhdCA9XG4gKiAgICAgICAgICBjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBjb250YWN0cycpLnJvdygwKSk7XG4gKiAgICAgIHZhciBzZWNvbmRSZXBlYXQgPVxuICogICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gY29udGFjdHMnKS5yb3coMSkpO1xuICpcbiAqICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgLnRvQmUoJzQwOCA1NTUgMTIxMicpO1xuICogICAgICBleHBlY3Qoc2Vjb25kUmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgLnRvQmUoJ2pvaG4uc21pdGhAZXhhbXBsZS5vcmcnKTtcbiAqXG4gKiAgICAgIGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkuYnV0dG9uVGV4dCgnY2xlYXInKSkuY2xpY2soKTtcbiAqXG4gKiAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgIC50b0JlKCcnKTtcbiAqXG4gKiAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LmJ1dHRvblRleHQoJ2FkZCcpKS5jbGljaygpO1xuICpcbiAqICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIGNvbnRhY3RzJykucm93KDIpKVxuICogICAgICAgICAgLmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSlcbiAqICAgICAgICAgIC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAudG9CZSgneW91cm5hbWVAZXhhbXBsZS5vcmcnKTtcbiAqICAgIH0pO1xuICogIDwvZmlsZT5cbiAqPC9leGFtcGxlPlxuXG4gKi9cbnZhciBuZ0NvbnRyb2xsZXJEaXJlY3RpdmUgPSBbZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZTogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiAnQCcsXG4gICAgcHJpb3JpdHk6IDUwMFxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDc3BcbiAqXG4gKiBAcmVzdHJpY3QgQVxuICogQGVsZW1lbnQgQU5ZXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBBbmd1bGFySlMgaGFzIHNvbWUgZmVhdHVyZXMgdGhhdCBjYW4gY29uZmxpY3Qgd2l0aCBjZXJ0YWluIHJlc3RyaWN0aW9ucyB0aGF0IGFyZSBhcHBsaWVkIHdoZW4gdXNpbmdcbiAqIFtDU1AgKENvbnRlbnQgU2VjdXJpdHkgUG9saWN5KV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vU2VjdXJpdHkvQ1NQKSBydWxlcy5cbiAqXG4gKiBJZiB5b3UgaW50ZW5kIHRvIGltcGxlbWVudCBDU1Agd2l0aCB0aGVzZSBydWxlcyB0aGVuIHlvdSBtdXN0IHRlbGwgQW5ndWxhckpTIG5vdCB0byB1c2UgdGhlc2VcbiAqIGZlYXR1cmVzLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IHdoZW4gZGV2ZWxvcGluZyB0aGluZ3MgbGlrZSBHb29nbGUgQ2hyb21lIEV4dGVuc2lvbnMgb3IgVW5pdmVyc2FsIFdpbmRvd3MgQXBwcy5cbiAqXG4gKlxuICogVGhlIGZvbGxvd2luZyBkZWZhdWx0IHJ1bGVzIGluIENTUCBhZmZlY3QgQW5ndWxhckpTOlxuICpcbiAqICogVGhlIHVzZSBvZiBgZXZhbCgpYCwgYEZ1bmN0aW9uKHN0cmluZylgIGFuZCBzaW1pbGFyIGZ1bmN0aW9ucyB0byBkeW5hbWljYWxseSBjcmVhdGUgYW5kIGV4ZWN1dGVcbiAqIGNvZGUgZnJvbSBzdHJpbmdzIGlzIGZvcmJpZGRlbi4gQW5ndWxhckpTIG1ha2VzIHVzZSBvZiB0aGlzIGluIHRoZSB7QGxpbmsgJHBhcnNlfSBzZXJ2aWNlIHRvXG4gKiBwcm92aWRlIGEgMzAlIGluY3JlYXNlIGluIHRoZSBzcGVlZCBvZiBldmFsdWF0aW5nIEFuZ3VsYXJKUyBleHByZXNzaW9ucy4gKFRoaXMgQ1NQIHJ1bGUgY2FuIGJlXG4gKiBkaXNhYmxlZCB3aXRoIHRoZSBDU1Aga2V5d29yZCBgdW5zYWZlLWV2YWxgLCBidXQgaXQgaXMgZ2VuZXJhbGx5IG5vdCByZWNvbW1lbmRlZCBhcyBpdCB3b3VsZFxuICogd2Vha2VuIHRoZSBwcm90ZWN0aW9ucyBvZmZlcmVkIGJ5IENTUC4pXG4gKlxuICogKiBUaGUgdXNlIG9mIGlubGluZSByZXNvdXJjZXMsIHN1Y2ggYXMgaW5saW5lIGA8c2NyaXB0PmAgYW5kIGA8c3R5bGU+YCBlbGVtZW50cywgYXJlIGZvcmJpZGRlbi5cbiAqIFRoaXMgcHJldmVudHMgYXBwcyBmcm9tIGluamVjdGluZyBjdXN0b20gc3R5bGVzIGRpcmVjdGx5IGludG8gdGhlIGRvY3VtZW50LiBBbmd1bGFySlMgbWFrZXMgdXNlIG9mXG4gKiB0aGlzIHRvIGluY2x1ZGUgc29tZSBDU1MgcnVsZXMgKGUuZy4ge0BsaW5rIG5nQ2xvYWt9IGFuZCB7QGxpbmsgbmdIaWRlfSkuIFRvIG1ha2UgdGhlc2VcbiAqIGRpcmVjdGl2ZXMgd29yayB3aGVuIGEgQ1NQIHJ1bGUgaXMgYmxvY2tpbmcgaW5saW5lIHN0eWxlcywgeW91IG11c3QgbGluayB0byB0aGUgYGFuZ3VsYXItY3NwLmNzc2BcbiAqIGluIHlvdXIgSFRNTCBtYW51YWxseS4gKFRoaXMgQ1NQIHJ1bGUgY2FuIGJlIGRpc2FibGVkIHdpdGggdGhlIENTUCBrZXl3b3JkIGB1bnNhZmUtaW5saW5lYCwgYnV0XG4gKiBpdCBpcyBnZW5lcmFsbHkgbm90IHJlY29tbWVuZGVkIGFzIGl0IHdvdWxkIHdlYWtlbiB0aGUgcHJvdGVjdGlvbnMgb2ZmZXJlZCBieSBDU1AuKVxuICpcbiAqIElmIHlvdSBkbyBub3QgcHJvdmlkZSBgbmdDc3BgIHRoZW4gQW5ndWxhckpTIHRyaWVzIHRvIGF1dG9kZXRlY3QgaWYgQ1NQIGlzIGJsb2NraW5nIGR5bmFtaWMgY29kZVxuICogY3JlYXRpb24gZnJvbSBzdHJpbmdzIChlLmcuLCBgdW5zYWZlLWV2YWxgIG5vdCBzcGVjaWZpZWQgaW4gQ1NQIGhlYWRlcikgYW5kIGF1dG9tYXRpY2FsbHlcbiAqIGRlYWN0aXZhdGVzIHRoaXMgZmVhdHVyZSBpbiB0aGUge0BsaW5rICRwYXJzZX0gc2VydmljZS4gVGhpcyBhdXRvZGV0ZWN0aW9uLCBob3dldmVyLCB0cmlnZ2VycyBhXG4gKiBDU1AgZXJyb3IgdG8gYmUgbG9nZ2VkIGluIHRoZSBjb25zb2xlOlxuICpcbiAqIGBgYFxuICogUmVmdXNlZCB0byBldmFsdWF0ZSBhIHN0cmluZyBhcyBKYXZhU2NyaXB0IGJlY2F1c2UgJ3Vuc2FmZS1ldmFsJyBpcyBub3QgYW4gYWxsb3dlZCBzb3VyY2Ugb2ZcbiAqIHNjcmlwdCBpbiB0aGUgZm9sbG93aW5nIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGRpcmVjdGl2ZTogXCJkZWZhdWx0LXNyYyAnc2VsZidcIi4gTm90ZSB0aGF0XG4gKiAnc2NyaXB0LXNyYycgd2FzIG5vdCBleHBsaWNpdGx5IHNldCwgc28gJ2RlZmF1bHQtc3JjJyBpcyB1c2VkIGFzIGEgZmFsbGJhY2suXG4gKiBgYGBcbiAqXG4gKiBUaGlzIGVycm9yIGlzIGhhcm1sZXNzIGJ1dCBhbm5veWluZy4gVG8gcHJldmVudCB0aGUgZXJyb3IgZnJvbSBzaG93aW5nIHVwLCBwdXQgdGhlIGBuZ0NzcGBcbiAqIGRpcmVjdGl2ZSBvbiBhbiBlbGVtZW50IG9mIHRoZSBIVE1MIGRvY3VtZW50IHRoYXQgYXBwZWFycyBiZWZvcmUgdGhlIGA8c2NyaXB0PmAgdGFnIHRoYXQgbG9hZHNcbiAqIHRoZSBgYW5ndWxhci5qc2AgZmlsZS5cbiAqXG4gKiAqTm90ZTogVGhpcyBkaXJlY3RpdmUgaXMgb25seSBhdmFpbGFibGUgaW4gdGhlIGBuZy1jc3BgIGFuZCBgZGF0YS1uZy1jc3BgIGF0dHJpYnV0ZSBmb3JtLipcbiAqXG4gKiBZb3UgY2FuIHNwZWNpZnkgd2hpY2ggb2YgdGhlIENTUCByZWxhdGVkIEFuZ3VsYXJKUyBmZWF0dXJlcyBzaG91bGQgYmUgZGVhY3RpdmF0ZWQgYnkgcHJvdmlkaW5nXG4gKiBhIHZhbHVlIGZvciB0aGUgYG5nLWNzcGAgYXR0cmlidXRlLiBUaGUgb3B0aW9ucyBhcmUgYXMgZm9sbG93czpcbiAqXG4gKiAqIG5vLWlubGluZS1zdHlsZTogdGhpcyBzdG9wcyBBbmd1bGFySlMgZnJvbSBpbmplY3RpbmcgQ1NTIHN0eWxlcyBpbnRvIHRoZSBET01cbiAqXG4gKiAqIG5vLXVuc2FmZS1ldmFsOiB0aGlzIHN0b3BzIEFuZ3VsYXJKUyBmcm9tIG9wdGltaXppbmcgJHBhcnNlIHdpdGggdW5zYWZlIGV2YWwgb2Ygc3RyaW5nc1xuICpcbiAqIFlvdSBjYW4gdXNlIHRoZXNlIHZhbHVlcyBpbiB0aGUgZm9sbG93aW5nIGNvbWJpbmF0aW9uczpcbiAqXG4gKlxuICogKiBObyBkZWNsYXJhdGlvbiBtZWFucyB0aGF0IEFuZ3VsYXJKUyB3aWxsIGFzc3VtZSB0aGF0IHlvdSBjYW4gZG8gaW5saW5lIHN0eWxlcywgYnV0IGl0IHdpbGwgZG9cbiAqIGEgcnVudGltZSBjaGVjayBmb3IgdW5zYWZlLWV2YWwuIEUuZy4gYDxib2R5PmAuIFRoaXMgaXMgYmFja3dhcmRseSBjb21wYXRpYmxlIHdpdGggcHJldmlvdXNcbiAqIHZlcnNpb25zIG9mIEFuZ3VsYXJKUy5cbiAqXG4gKiAqIEEgc2ltcGxlIGBuZy1jc3BgIChvciBgZGF0YS1uZy1jc3BgKSBhdHRyaWJ1dGUgd2lsbCB0ZWxsIEFuZ3VsYXJKUyB0byBkZWFjdGl2YXRlIGJvdGggaW5saW5lXG4gKiBzdHlsZXMgYW5kIHVuc2FmZSBldmFsLiBFLmcuIGA8Ym9keSBuZy1jc3A+YC4gVGhpcyBpcyBiYWNrd2FyZGx5IGNvbXBhdGlibGUgd2l0aCBwcmV2aW91c1xuICogdmVyc2lvbnMgb2YgQW5ndWxhckpTLlxuICpcbiAqICogU3BlY2lmeWluZyBvbmx5IGBuby11bnNhZmUtZXZhbGAgdGVsbHMgQW5ndWxhckpTIHRoYXQgd2UgbXVzdCBub3QgdXNlIGV2YWwsIGJ1dCB0aGF0IHdlIGNhblxuICogaW5qZWN0IGlubGluZSBzdHlsZXMuIEUuZy4gYDxib2R5IG5nLWNzcD1cIm5vLXVuc2FmZS1ldmFsXCI+YC5cbiAqXG4gKiAqIFNwZWNpZnlpbmcgb25seSBgbm8taW5saW5lLXN0eWxlYCB0ZWxscyBBbmd1bGFySlMgdGhhdCB3ZSBtdXN0IG5vdCBpbmplY3Qgc3R5bGVzLCBidXQgdGhhdCB3ZSBjYW5cbiAqIHJ1biBldmFsIC0gbm8gYXV0b21hdGljIGNoZWNrIGZvciB1bnNhZmUgZXZhbCB3aWxsIG9jY3VyLiBFLmcuIGA8Ym9keSBuZy1jc3A9XCJuby1pbmxpbmUtc3R5bGVcIj5gXG4gKlxuICogKiBTcGVjaWZ5aW5nIGJvdGggYG5vLXVuc2FmZS1ldmFsYCBhbmQgYG5vLWlubGluZS1zdHlsZWAgdGVsbHMgQW5ndWxhckpTIHRoYXQgd2UgbXVzdCBub3QgaW5qZWN0XG4gKiBzdHlsZXMgbm9yIHVzZSBldmFsLCB3aGljaCBpcyB0aGUgc2FtZSBhcyBhbiBlbXB0eTogbmctY3NwLlxuICogRS5nLmA8Ym9keSBuZy1jc3A9XCJuby1pbmxpbmUtc3R5bGU7bm8tdW5zYWZlLWV2YWxcIj5gXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IHRvIGFwcGx5IHRoZSBgbmdDc3BgIGRpcmVjdGl2ZSB0byB0aGUgYGh0bWxgIHRhZy5cbiAgIGBgYGh0bWxcbiAgICAgPCFkb2N0eXBlIGh0bWw+XG4gICAgIDxodG1sIG5nLWFwcCBuZy1jc3A+XG4gICAgIC4uLlxuICAgICAuLi5cbiAgICAgPC9odG1sPlxuICAgYGBgXG5cbiAgPCEtLSBOb3RlOiB0aGUgYC5jc3BgIHN1ZmZpeCBpbiB0aGUgZXhhbXBsZSBuYW1lIHRyaWdnZXJzIENTUCBtb2RlIGluIG91ciBodHRwIHNlcnZlciEgLS0+XG4gIDxleGFtcGxlIG5hbWU9XCJleGFtcGxlLmNzcFwiIG1vZHVsZT1cImNzcEV4YW1wbGVcIiBuZy1jc3A9XCJ0cnVlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIk1haW5Db250cm9sbGVyIGFzIGN0cmxcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY3RybC5pbmMoKVwiIGlkPVwiaW5jXCI+SW5jcmVtZW50PC9idXR0b24+XG4gICAgICAgICAgPHNwYW4gaWQ9XCJjb3VudGVyXCI+XG4gICAgICAgICAgICB7e2N0cmwuY291bnRlcn19XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjdHJsLmV2aWwoKVwiIGlkPVwiZXZpbFwiPkV2aWw8L2J1dHRvbj5cbiAgICAgICAgICA8c3BhbiBpZD1cImV2aWxFcnJvclwiPlxuICAgICAgICAgICAge3tjdHJsLmV2aWxFcnJvcn19XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2NzcEV4YW1wbGUnLCBbXSlcbiAgICAgICAgIC5jb250cm9sbGVyKCdNYWluQ29udHJvbGxlcicsIGZ1bmN0aW9uIE1haW5Db250cm9sbGVyKCkge1xuICAgICAgICAgICAgdGhpcy5jb3VudGVyID0gMDtcbiAgICAgICAgICAgIHRoaXMuaW5jID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHRoaXMuY291bnRlcisrO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZXZpbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGV2YWwoJzErMicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWV2YWxcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZpbEVycm9yID0gZS5tZXNzYWdlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdXRpbCwgd2ViZHJpdmVyO1xuXG4gICAgICB2YXIgaW5jQnRuID0gZWxlbWVudChieS5pZCgnaW5jJykpO1xuICAgICAgdmFyIGNvdW50ZXIgPSBlbGVtZW50KGJ5LmlkKCdjb3VudGVyJykpO1xuICAgICAgdmFyIGV2aWxCdG4gPSBlbGVtZW50KGJ5LmlkKCdldmlsJykpO1xuICAgICAgdmFyIGV2aWxFcnJvciA9IGVsZW1lbnQoYnkuaWQoJ2V2aWxFcnJvcicpKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiBicm93c2VyLm1hbmFnZSgpLmxvZ3MoKS5nZXQoJ2Jyb3dzZXInKS50aGVuKGZ1bmN0aW9uKGJyb3dzZXJMb2cpIHtcbiAgICAgICAgICByZXR1cm4gYnJvd3NlckxvZy5maWx0ZXIoZnVuY3Rpb24obG9nRW50cnkpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2dFbnRyeS5sZXZlbC52YWx1ZSA+IHdlYmRyaXZlci5sb2dnaW5nLkxldmVsLldBUk5JTkcudmFsdWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjbGVhckVycm9ycygpIHtcbiAgICAgICAgZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZXhwZWN0Tm9FcnJvcnMoKSB7XG4gICAgICAgIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkudGhlbihmdW5jdGlvbihmaWx0ZXJlZExvZykge1xuICAgICAgICAgIGV4cGVjdChmaWx0ZXJlZExvZy5sZW5ndGgpLnRvRXF1YWwoMCk7XG4gICAgICAgICAgaWYgKGZpbHRlcmVkTG9nLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2Jyb3dzZXIgY29uc29sZSBlcnJvcnM6ICcgKyB1dGlsLmluc3BlY3QoZmlsdGVyZWRMb2cpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBleHBlY3RFcnJvcihyZWdleCkge1xuICAgICAgICBnZXRBbmRDbGVhclNldmVyZUVycm9ycygpLnRoZW4oZnVuY3Rpb24oZmlsdGVyZWRMb2cpIHtcbiAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICBmaWx0ZXJlZExvZy5mb3JFYWNoKGZ1bmN0aW9uKGxvZykge1xuICAgICAgICAgICAgaWYgKGxvZy5tZXNzYWdlLm1hdGNoKHJlZ2V4KSkge1xuICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCBhbiBlcnJvciB0aGF0IG1hdGNoZXMgJyArIHJlZ2V4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBiZWZvcmVFYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB1dGlsID0gcmVxdWlyZSgndXRpbCcpO1xuICAgICAgICB3ZWJkcml2ZXIgPSByZXF1aXJlKCdzZWxlbml1bS13ZWJkcml2ZXInKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBGb3Igbm93LCB3ZSBvbmx5IHRlc3Qgb24gQ2hyb21lLFxuICAgICAgLy8gYXMgU2FmYXJpIGRvZXMgbm90IGxvYWQgdGhlIHBhZ2Ugd2l0aCBQcm90cmFjdG9yJ3MgaW5qZWN0ZWQgc2NyaXB0cyxcbiAgICAgIC8vIGFuZCBGaXJlZm94IHdlYmRyaXZlciBhbHdheXMgZGlzYWJsZXMgY29udGVudCBzZWN1cml0eSBwb2xpY3kgKCM2MzU4KVxuICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgIT09ICdjaHJvbWUnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaXQoJ3Nob3VsZCBub3QgcmVwb3J0IGVycm9ycyB3aGVuIHRoZSBwYWdlIGlzIGxvYWRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBjbGVhciBlcnJvcnMgc28gd2UgYXJlIG5vdCBkZXBlbmRlbnQgb24gcHJldmlvdXMgdGVzdHNcbiAgICAgICAgY2xlYXJFcnJvcnMoKTtcbiAgICAgICAgLy8gTmVlZCB0byByZWxvYWQgdGhlIHBhZ2UgYXMgdGhlIHBhZ2UgaXMgYWxyZWFkeSBsb2FkZWQgd2hlblxuICAgICAgICAvLyB3ZSBjb21lIGhlcmVcbiAgICAgICAgYnJvd3Nlci5kcml2ZXIuZ2V0Q3VycmVudFVybCgpLnRoZW4oZnVuY3Rpb24odXJsKSB7XG4gICAgICAgICAgYnJvd3Nlci5nZXQodXJsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV4cGVjdE5vRXJyb3JzKCk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBldmFsdWF0ZSBleHByZXNzaW9ucycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QoY291bnRlci5nZXRUZXh0KCkpLnRvRXF1YWwoJzAnKTtcbiAgICAgICAgaW5jQnRuLmNsaWNrKCk7XG4gICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9FcXVhbCgnMScpO1xuICAgICAgICBleHBlY3ROb0Vycm9ycygpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgdGhyb3cgYW5kIHJlcG9ydCBhbiBlcnJvciB3aGVuIHVzaW5nIFwiZXZhbFwiJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV2aWxCdG4uY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGV2aWxFcnJvci5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgU2VjdXJpdHkgUG9saWN5Lyk7XG4gICAgICAgIGV4cGVjdEVycm9yKC9Db250ZW50IFNlY3VyaXR5IFBvbGljeS8pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gICovXG5cbi8vIGBuZ0NzcGAgaXMgbm90IGltcGxlbWVudGVkIGFzIGEgcHJvcGVyIGRpcmVjdGl2ZSBhbnkgbW9yZSwgYmVjYXVzZSB3ZSBuZWVkIGl0IGJlIHByb2Nlc3NlZCB3aGlsZVxuLy8gd2UgYm9vdHN0cmFwIHRoZSBhcHAgKGJlZm9yZSBgJHBhcnNlYCBpcyBpbnN0YW50aWF0ZWQpLiBGb3IgdGhpcyByZWFzb24sIHdlIGp1c3QgaGF2ZSB0aGUgYGNzcCgpYFxuLy8gZm4gdGhhdCBsb29rcyBmb3IgdGhlIGBuZy1jc3BgIGF0dHJpYnV0ZSBhbnl3aGVyZSBpbiB0aGUgY3VycmVudCBkb2MuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDbGlja1xuICogQHJlc3RyaWN0IEFcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBuZ0NsaWNrIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIHdoZW5cbiAqIGFuIGVsZW1lbnQgaXMgY2xpY2tlZC5cbiAqXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xpY2sge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogY2xpY2suICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwibmctY2xpY2tcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudFxuICAgICAgPC9idXR0b24+XG4gICAgICA8c3Bhbj5cbiAgICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICAgPC9zcGFuPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdjb3VudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJzAnKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdidXR0b24nKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvdW50JykpLmdldFRleHQoKSkudG9NYXRjaCgnMScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbi8qXG4gKiBBIGNvbGxlY3Rpb24gb2YgZGlyZWN0aXZlcyB0aGF0IGFsbG93cyBjcmVhdGlvbiBvZiBjdXN0b20gZXZlbnQgaGFuZGxlcnMgdGhhdCBhcmUgZGVmaW5lZCBhc1xuICogQW5ndWxhckpTIGV4cHJlc3Npb25zIGFuZCBhcmUgY29tcGlsZWQgYW5kIGV4ZWN1dGVkIHdpdGhpbiB0aGUgY3VycmVudCBzY29wZS5cbiAqL1xudmFyIG5nRXZlbnREaXJlY3RpdmVzID0ge307XG5cbi8vIEZvciBldmVudHMgdGhhdCBtaWdodCBmaXJlIHN5bmNocm9ub3VzbHkgZHVyaW5nIERPTSBtYW5pcHVsYXRpb25cbi8vIHdlIG5lZWQgdG8gZXhlY3V0ZSB0aGVpciBldmVudCBoYW5kbGVycyBhc3luY2hyb25vdXNseSB1c2luZyAkZXZhbEFzeW5jLFxuLy8gc28gdGhhdCB0aGV5IGFyZSBub3QgZXhlY3V0ZWQgaW4gYW4gaW5jb25zaXN0ZW50IHN0YXRlLlxudmFyIGZvcmNlQXN5bmNFdmVudHMgPSB7XG4gICdibHVyJzogdHJ1ZSxcbiAgJ2ZvY3VzJzogdHJ1ZVxufTtcbmZvckVhY2goXG4gICdjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2Vtb3ZlIG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBrZXlkb3duIGtleXVwIGtleXByZXNzIHN1Ym1pdCBmb2N1cyBibHVyIGNvcHkgY3V0IHBhc3RlJy5zcGxpdCgnICcpLFxuICBmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgICB2YXIgZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZSgnbmctJyArIGV2ZW50TmFtZSk7XG4gICAgbmdFdmVudERpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV0gPSBbJyRwYXJzZScsICckcm9vdFNjb3BlJywgJyRleGNlcHRpb25IYW5kbGVyJywgZnVuY3Rpb24oJHBhcnNlLCAkcm9vdFNjb3BlLCAkZXhjZXB0aW9uSGFuZGxlcikge1xuICAgICAgcmV0dXJuIGNyZWF0ZUV2ZW50RGlyZWN0aXZlKCRwYXJzZSwgJHJvb3RTY29wZSwgJGV4Y2VwdGlvbkhhbmRsZXIsIGRpcmVjdGl2ZU5hbWUsIGV2ZW50TmFtZSwgZm9yY2VBc3luY0V2ZW50c1tldmVudE5hbWVdKTtcbiAgICB9XTtcbiAgfVxuKTtcblxuZnVuY3Rpb24gY3JlYXRlRXZlbnREaXJlY3RpdmUoJHBhcnNlLCAkcm9vdFNjb3BlLCAkZXhjZXB0aW9uSGFuZGxlciwgZGlyZWN0aXZlTmFtZSwgZXZlbnROYW1lLCBmb3JjZUFzeW5jKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb21waWxlOiBmdW5jdGlvbigkZWxlbWVudCwgYXR0cikge1xuICAgICAgLy8gTk9URTpcbiAgICAgIC8vIFdlIGV4cG9zZSB0aGUgcG93ZXJmdWwgYCRldmVudGAgb2JqZWN0IG9uIHRoZSBzY29wZSB0aGF0IHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgV2luZG93LFxuICAgICAgLy8gZXRjLiBUaGlzIGlzIE9LLCBiZWNhdXNlIGV4cHJlc3Npb25zIGFyZSBub3Qgc2FuZGJveGVkIGFueSBtb3JlIChhbmQgdGhlIGV4cHJlc3Npb25cbiAgICAgIC8vIHNhbmRib3ggd2FzIG5ldmVyIG1lYW50IHRvIGJlIGEgc2VjdXJpdHkgZmVhdHVyZSBhbnl3YXkpLlxuICAgICAgdmFyIGZuID0gJHBhcnNlKGF0dHJbZGlyZWN0aXZlTmFtZV0pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nRXZlbnRIYW5kbGVyKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQub24oZXZlbnROYW1lLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm4oc2NvcGUsIHskZXZlbnQ6IGV2ZW50fSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoY2FsbGJhY2spO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZm9yY2VBc3luYykge1xuICAgICAgICAgICAgc2NvcGUuJGV2YWxBc3luYyhjYWxsYmFjayk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nRGJsY2xpY2tcbiAqIEByZXN0cmljdCBBXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nRGJsY2xpY2tgIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGEgZGJsY2xpY2sgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0RibGNsaWNrIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGEgZGJsY2xpY2suIChUaGUgRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YClcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLWRibGNsaWNrXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLWRibGNsaWNrPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKG9uIGRvdWJsZSBjbGljaylcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2Vkb3duXG4gKiBAcmVzdHJpY3QgQVxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIG5nTW91c2Vkb3duIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlZG93biBldmVudC5cbiAqXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2Vkb3duIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIG1vdXNlZG93bi4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1tb3VzZWRvd25cIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2Vkb3duPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKG9uIG1vdXNlIGRvd24pXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vdXNldXBcbiAqIEByZXN0cmljdCBBXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZXVwIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZXVwIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIG1vdXNldXAuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwibmctbW91c2V1cFwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZXVwPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKG9uIG1vdXNlIHVwKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2VvdmVyXG4gKiBAcmVzdHJpY3QgQVxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2VvdmVyIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZW92ZXIge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogbW91c2VvdmVyLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLW1vdXNlb3ZlclwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZW92ZXI9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBpcyBvdmVyKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb3VzZWVudGVyXG4gKiBAcmVzdHJpY3QgQVxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2VlbnRlciBldmVudC5cbiAqXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2VlbnRlciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZWVudGVyLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLW1vdXNlZW50ZXJcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2VlbnRlcj1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIGVudGVycylcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2VsZWF2ZVxuICogQHJlc3RyaWN0IEFcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlbGVhdmUgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlbGVhdmUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogbW91c2VsZWF2ZS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1tb3VzZWxlYXZlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLW1vdXNlbGVhdmU9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBsZWF2ZXMpXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vdXNlbW92ZVxuICogQHJlc3RyaWN0IEFcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlbW92ZSBldmVudC5cbiAqXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2Vtb3ZlIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIG1vdXNlbW92ZS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1tb3VzZW1vdmVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2Vtb3ZlPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKHdoZW4gbW91c2UgbW92ZXMpXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0tleWRvd25cbiAqIEByZXN0cmljdCBBXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBrZXlkb3duIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdLZXlkb3duIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGtleWRvd24uIChFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgIGFuZCBjYW4gYmUgaW50ZXJyb2dhdGVkIGZvciBrZXlDb2RlLCBhbHRLZXksIGV0Yy4pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1rZXlkb3duXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8aW5wdXQgbmcta2V5ZG93bj1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cbiAgICAgIGtleSBkb3duIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0tleXVwXG4gKiBAcmVzdHJpY3QgQVxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24ga2V5dXAgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0tleXVwIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGtleXVwLiAoRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YCBhbmQgY2FuIGJlIGludGVycm9nYXRlZCBmb3Iga2V5Q29kZSwgYWx0S2V5LCBldGMuKVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwibmcta2V5dXBcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8cD5UeXBpbmcgaW4gdGhlIGlucHV0IGJveCBiZWxvdyB1cGRhdGVzIHRoZSBrZXkgY291bnQ8L3A+XG4gICAgICAgPGlucHV0IG5nLWtleXVwPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPiBrZXkgdXAgY291bnQ6IHt7Y291bnR9fVxuXG4gICAgICAgPHA+VHlwaW5nIGluIHRoZSBpbnB1dCBib3ggYmVsb3cgdXBkYXRlcyB0aGUga2V5Y29kZTwvcD5cbiAgICAgICA8aW5wdXQgbmcta2V5dXA9XCJldmVudD0kZXZlbnRcIj5cbiAgICAgICA8cD5ldmVudCBrZXlDb2RlOiB7eyBldmVudC5rZXlDb2RlIH19PC9wPlxuICAgICAgIDxwPmV2ZW50IGFsdEtleToge3sgZXZlbnQuYWx0S2V5IH19PC9wPlxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nS2V5cHJlc3NcbiAqIEByZXN0cmljdCBBXG4gKiBAZWxlbWVudCBBTllcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGtleXByZXNzIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdLZXlwcmVzcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBrZXlwcmVzcy4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH1cbiAqIGFuZCBjYW4gYmUgaW50ZXJyb2dhdGVkIGZvciBrZXlDb2RlLCBhbHRLZXksIGV0Yy4pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1rZXlwcmVzc1wiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IG5nLWtleXByZXNzPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAga2V5IHByZXNzIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1N1Ym1pdFxuICogQHJlc3RyaWN0IEFcbiAqIEBlbGVtZW50IGZvcm1cbiAqIEBwcmlvcml0eSAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBFbmFibGVzIGJpbmRpbmcgQW5ndWxhckpTIGV4cHJlc3Npb25zIHRvIG9uc3VibWl0IGV2ZW50cy5cbiAqXG4gKiBBZGRpdGlvbmFsbHkgaXQgcHJldmVudHMgdGhlIGRlZmF1bHQgYWN0aW9uICh3aGljaCBmb3IgZm9ybSBtZWFucyBzZW5kaW5nIHRoZSByZXF1ZXN0IHRvIHRoZVxuICogc2VydmVyIGFuZCByZWxvYWRpbmcgdGhlIGN1cnJlbnQgcGFnZSksIGJ1dCBvbmx5IGlmIHRoZSBmb3JtIGRvZXMgbm90IGNvbnRhaW4gYGFjdGlvbmAsXG4gKiBgZGF0YS1hY3Rpb25gLCBvciBgeC1hY3Rpb25gIGF0dHJpYnV0ZXMuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqV2FybmluZzoqKiBCZSBjYXJlZnVsIG5vdCB0byBjYXVzZSBcImRvdWJsZS1zdWJtaXNzaW9uXCIgYnkgdXNpbmcgYm90aCB0aGUgYG5nQ2xpY2tgIGFuZFxuICogYG5nU3VibWl0YCBoYW5kbGVycyB0b2dldGhlci4gU2VlIHRoZVxuICoge0BsaW5rIGZvcm0jc3VibWl0dGluZy1hLWZvcm0tYW5kLXByZXZlbnRpbmctdGhlLWRlZmF1bHQtYWN0aW9uIGBmb3JtYCBkaXJlY3RpdmUgZG9jdW1lbnRhdGlvbn1cbiAqIGZvciBhIGRldGFpbGVkIGRpc2N1c3Npb24gb2Ygd2hlbiBgbmdTdWJtaXRgIG1heSBiZSB0cmlnZ2VyZWQuXG4gKiA8L2Rpdj5cbiAqXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU3VibWl0IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuXG4gKiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwic3VibWl0RXhhbXBsZVwiIG5hbWU9XCJuZy1zdWJtaXRcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxzY3JpcHQ+XG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdzdWJtaXRFeGFtcGxlJywgW10pXG4gICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICRzY29wZS5saXN0ID0gW107XG4gICAgICAgICAgICAkc2NvcGUudGV4dCA9ICdoZWxsbyc7XG4gICAgICAgICAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICgkc2NvcGUudGV4dCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5saXN0LnB1c2godGhpcy50ZXh0KTtcbiAgICAgICAgICAgICAgICAkc2NvcGUudGV4dCA9ICcnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1dKTtcbiAgICAgIDwvc2NyaXB0PlxuICAgICAgPGZvcm0gbmctc3VibWl0PVwic3VibWl0KClcIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgRW50ZXIgdGV4dCBhbmQgaGl0IGVudGVyOlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInRleHRcIiBuYW1lPVwidGV4dFwiIC8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgaWQ9XCJzdWJtaXRcIiB2YWx1ZT1cIlN1Ym1pdFwiIC8+XG4gICAgICAgIDxwcmU+bGlzdD17e2xpc3R9fTwvcHJlPlxuICAgICAgPC9mb3JtPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLXN1Ym1pdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3Q9W10nKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjc3VibWl0JykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdsaXN0JykpLmdldFRleHQoKSkudG9Db250YWluKCdoZWxsbycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3RleHQnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCcnKTtcbiAgICAgICB9KTtcbiAgICAgICBpdCgnc2hvdWxkIGlnbm9yZSBlbXB0eSBzdHJpbmdzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdsaXN0JykpLmdldFRleHQoKSkudG9CZSgnbGlzdD1bXScpO1xuICAgICAgICAgZWxlbWVudChieS5jc3MoJyNzdWJtaXQnKSkuY2xpY2soKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjc3VibWl0JykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdsaXN0JykpLmdldFRleHQoKSkudG9Db250YWluKCdoZWxsbycpO1xuICAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdGb2N1c1xuICogQHJlc3RyaWN0IEFcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcbiAqIEBwcmlvcml0eSAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBmb2N1cyBldmVudC5cbiAqXG4gKiBOb3RlOiBBcyB0aGUgYGZvY3VzYCBldmVudCBpcyBleGVjdXRlZCBzeW5jaHJvbm91c2x5IHdoZW4gY2FsbGluZyBgaW5wdXQuZm9jdXMoKWBcbiAqIEFuZ3VsYXJKUyBleGVjdXRlcyB0aGUgZXhwcmVzc2lvbiB1c2luZyBgc2NvcGUuJGV2YWxBc3luY2AgaWYgdGhlIGV2ZW50IGlzIGZpcmVkXG4gKiBkdXJpbmcgYW4gYCRhcHBseWAgdG8gZW5zdXJlIGEgY29uc2lzdGVudCBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nRm9jdXMge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogZm9jdXMuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gKiBTZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0JsdXJcbiAqIEByZXN0cmljdCBBXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXG4gKiBAcHJpb3JpdHkgMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gYmx1ciBldmVudC5cbiAqXG4gKiBBIFtibHVyIGV2ZW50XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvYmx1cikgZmlyZXMgd2hlblxuICogYW4gZWxlbWVudCBoYXMgbG9zdCBmb2N1cy5cbiAqXG4gKiBOb3RlOiBBcyB0aGUgYGJsdXJgIGV2ZW50IGlzIGV4ZWN1dGVkIHN5bmNocm9ub3VzbHkgYWxzbyBkdXJpbmcgRE9NIG1hbmlwdWxhdGlvbnNcbiAqIChlLmcuIHJlbW92aW5nIGEgZm9jdXNzZWQgaW5wdXQpLFxuICogQW5ndWxhckpTIGV4ZWN1dGVzIHRoZSBleHByZXNzaW9uIHVzaW5nIGBzY29wZS4kZXZhbEFzeW5jYCBpZiB0aGUgZXZlbnQgaXMgZmlyZWRcbiAqIGR1cmluZyBhbiBgJGFwcGx5YCB0byBlbnN1cmUgYSBjb25zaXN0ZW50IHN0YXRlLlxuICpcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdCbHVyIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGJsdXIuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gKiBTZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NvcHlcbiAqIEByZXN0cmljdCBBXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXG4gKiBAcHJpb3JpdHkgMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gY29weSBldmVudC5cbiAqXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ29weSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBjb3B5LiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLWNvcHlcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxpbnB1dCBuZy1jb3B5PVwiY29waWVkPXRydWVcIiBuZy1pbml0PVwiY29waWVkPWZhbHNlOyB2YWx1ZT0nY29weSBtZSdcIiBuZy1tb2RlbD1cInZhbHVlXCI+XG4gICAgICBjb3BpZWQ6IHt7Y29waWVkfX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDdXRcbiAqIEByZXN0cmljdCBBXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXG4gKiBAcHJpb3JpdHkgMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gY3V0IGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDdXQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogY3V0LiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLWN1dFwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IG5nLWN1dD1cImN1dD10cnVlXCIgbmctaW5pdD1cImN1dD1mYWxzZTsgdmFsdWU9J2N1dCBtZSdcIiBuZy1tb2RlbD1cInZhbHVlXCI+XG4gICAgICBjdXQ6IHt7Y3V0fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdQYXN0ZVxuICogQHJlc3RyaWN0IEFcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcbiAqIEBwcmlvcml0eSAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBwYXN0ZSBldmVudC5cbiAqXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nUGFzdGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogcGFzdGUuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwibmctcGFzdGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxpbnB1dCBuZy1wYXN0ZT1cInBhc3RlPXRydWVcIiBuZy1pbml0PVwicGFzdGU9ZmFsc2VcIiBwbGFjZWhvbGRlcj0ncGFzdGUgaGVyZSc+XG4gICAgICBwYXN0ZWQ6IHt7cGFzdGV9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0lmXG4gKiBAcmVzdHJpY3QgQVxuICogQG11bHRpRWxlbWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0lmYCBkaXJlY3RpdmUgcmVtb3ZlcyBvciByZWNyZWF0ZXMgYSBwb3J0aW9uIG9mIHRoZSBET00gdHJlZSBiYXNlZCBvbiBhblxuICoge2V4cHJlc3Npb259LiBJZiB0aGUgZXhwcmVzc2lvbiBhc3NpZ25lZCB0byBgbmdJZmAgZXZhbHVhdGVzIHRvIGEgZmFsc2VcbiAqIHZhbHVlIHRoZW4gdGhlIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00sIG90aGVyd2lzZSBhIGNsb25lIG9mIHRoZVxuICogZWxlbWVudCBpcyByZWluc2VydGVkIGludG8gdGhlIERPTS5cbiAqXG4gKiBgbmdJZmAgZGlmZmVycyBmcm9tIGBuZ1Nob3dgIGFuZCBgbmdIaWRlYCBpbiB0aGF0IGBuZ0lmYCBjb21wbGV0ZWx5IHJlbW92ZXMgYW5kIHJlY3JlYXRlcyB0aGVcbiAqIGVsZW1lbnQgaW4gdGhlIERPTSByYXRoZXIgdGhhbiBjaGFuZ2luZyBpdHMgdmlzaWJpbGl0eSB2aWEgdGhlIGBkaXNwbGF5YCBjc3MgcHJvcGVydHkuICBBIGNvbW1vblxuICogY2FzZSB3aGVuIHRoaXMgZGlmZmVyZW5jZSBpcyBzaWduaWZpY2FudCBpcyB3aGVuIHVzaW5nIGNzcyBzZWxlY3RvcnMgdGhhdCByZWx5IG9uIGFuIGVsZW1lbnQnc1xuICogcG9zaXRpb24gd2l0aGluIHRoZSBET00sIHN1Y2ggYXMgdGhlIGA6Zmlyc3QtY2hpbGRgIG9yIGA6bGFzdC1jaGlsZGAgcHNldWRvLWNsYXNzZXMuXG4gKlxuICogTm90ZSB0aGF0IHdoZW4gYW4gZWxlbWVudCBpcyByZW1vdmVkIHVzaW5nIGBuZ0lmYCBpdHMgc2NvcGUgaXMgZGVzdHJveWVkIGFuZCBhIG5ldyBzY29wZVxuICogaXMgY3JlYXRlZCB3aGVuIHRoZSBlbGVtZW50IGlzIHJlc3RvcmVkLiAgVGhlIHNjb3BlIGNyZWF0ZWQgd2l0aGluIGBuZ0lmYCBpbmhlcml0cyBmcm9tXG4gKiBpdHMgcGFyZW50IHNjb3BlIHVzaW5nXG4gKiBbcHJvdG90eXBhbCBpbmhlcml0YW5jZV0oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy93aWtpL1VuZGVyc3RhbmRpbmctU2NvcGVzI2phdmFzY3JpcHQtcHJvdG90eXBhbC1pbmhlcml0YW5jZSkuXG4gKiBBbiBpbXBvcnRhbnQgaW1wbGljYXRpb24gb2YgdGhpcyBpcyBpZiBgbmdNb2RlbGAgaXMgdXNlZCB3aXRoaW4gYG5nSWZgIHRvIGJpbmQgdG9cbiAqIGEgamF2YXNjcmlwdCBwcmltaXRpdmUgZGVmaW5lZCBpbiB0aGUgcGFyZW50IHNjb3BlLiBJbiB0aGlzIGNhc2UgYW55IG1vZGlmaWNhdGlvbnMgbWFkZSB0byB0aGVcbiAqIHZhcmlhYmxlIHdpdGhpbiB0aGUgY2hpbGQgc2NvcGUgd2lsbCBvdmVycmlkZSAoaGlkZSkgdGhlIHZhbHVlIGluIHRoZSBwYXJlbnQgc2NvcGUuXG4gKlxuICogQWxzbywgYG5nSWZgIHJlY3JlYXRlcyBlbGVtZW50cyB1c2luZyB0aGVpciBjb21waWxlZCBzdGF0ZS4gQW4gZXhhbXBsZSBvZiB0aGlzIGJlaGF2aW9yXG4gKiBpcyBpZiBhbiBlbGVtZW50J3MgY2xhc3MgYXR0cmlidXRlIGlzIGRpcmVjdGx5IG1vZGlmaWVkIGFmdGVyIGl0J3MgY29tcGlsZWQsIHVzaW5nIHNvbWV0aGluZyBsaWtlXG4gKiBqUXVlcnkncyBgLmFkZENsYXNzKClgIG1ldGhvZCwgYW5kIHRoZSBlbGVtZW50IGlzIGxhdGVyIHJlbW92ZWQuIFdoZW4gYG5nSWZgIHJlY3JlYXRlcyB0aGUgZWxlbWVudFxuICogdGhlIGFkZGVkIGNsYXNzIHdpbGwgYmUgbG9zdCBiZWNhdXNlIHRoZSBvcmlnaW5hbCBjb21waWxlZCBzdGF0ZSBpcyB1c2VkIHRvIHJlZ2VuZXJhdGUgdGhlIGVsZW1lbnQuXG4gKlxuICogQWRkaXRpb25hbGx5LCB5b3UgY2FuIHByb3ZpZGUgYW5pbWF0aW9ucyB2aWEgdGhlIGBuZ0FuaW1hdGVgIG1vZHVsZSB0byBhbmltYXRlIHRoZSBgZW50ZXJgXG4gKiBhbmQgYGxlYXZlYCBlZmZlY3RzLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNlbnRlciBlbnRlcn0gIHwganVzdCBhZnRlciB0aGUgYG5nSWZgIGNvbnRlbnRzIGNoYW5nZSBhbmQgYSBuZXcgRE9NIGVsZW1lbnQgaXMgY3JlYXRlZCBhbmQgaW5qZWN0ZWQgaW50byB0aGUgYG5nSWZgIGNvbnRhaW5lciB8XG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNsZWF2ZSBsZWF2ZX0gIHwganVzdCBiZWZvcmUgdGhlIGBuZ0lmYCBjb250ZW50cyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBET00gfFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHNjb3BlXG4gKiBAcHJpb3JpdHkgNjAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nSWYgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIGZhbHN5IHRoZW5cbiAqICAgICB0aGUgZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTSB0cmVlLiBJZiBpdCBpcyB0cnV0aHkgYSBjb3B5IG9mIHRoZSBjb21waWxlZFxuICogICAgIGVsZW1lbnQgaXMgYWRkZWQgdG8gdGhlIERPTSB0cmVlLlxuICpcbiAqIEBleGFtcGxlXG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIG5hbWU9XCJuZy1pZlwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8bGFiZWw+Q2xpY2sgbWU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIiBuZy1pbml0PVwiY2hlY2tlZD10cnVlXCIgLz48L2xhYmVsPjxici8+XG4gICAgICBTaG93IHdoZW4gY2hlY2tlZDpcbiAgICAgIDxzcGFuIG5nLWlmPVwiY2hlY2tlZFwiIGNsYXNzPVwiYW5pbWF0ZS1pZlwiPlxuICAgICAgICBUaGlzIGlzIHJlbW92ZWQgd2hlbiB0aGUgY2hlY2tib3ggaXMgdW5jaGVja2VkLlxuICAgICAgPC9zcGFuPlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5hbmltYXRlLWlmIHtcbiAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTtcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcbiAgICAgICAgcGFkZGluZzoxMHB4O1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1pZi5uZy1lbnRlciwgLmFuaW1hdGUtaWYubmctbGVhdmUge1xuICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLWlmLm5nLWVudGVyLFxuICAgICAgLmFuaW1hdGUtaWYubmctbGVhdmUubmctbGVhdmUtYWN0aXZlIHtcbiAgICAgICAgb3BhY2l0eTowO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1pZi5uZy1sZWF2ZSxcbiAgICAgIC5hbmltYXRlLWlmLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XG4gICAgICAgIG9wYWNpdHk6MTtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nSWZEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJGFuaW1hdGUsICRjb21waWxlKSB7XG4gIHJldHVybiB7XG4gICAgbXVsdGlFbGVtZW50OiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcbiAgICBwcmlvcml0eTogNjAwLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgJCR0bGI6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XG4gICAgICAgIHZhciBibG9jaywgY2hpbGRTY29wZSwgcHJldmlvdXNFbGVtZW50cztcbiAgICAgICAgJHNjb3BlLiR3YXRjaCgkYXR0ci5uZ0lmLCBmdW5jdGlvbiBuZ0lmV2F0Y2hBY3Rpb24odmFsdWUpIHtcblxuICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFjaGlsZFNjb3BlKSB7XG4gICAgICAgICAgICAgICR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lLCBuZXdTY29wZSkge1xuICAgICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBuZXdTY29wZTtcbiAgICAgICAgICAgICAgICBjbG9uZVtjbG9uZS5sZW5ndGgrK10gPSAkY29tcGlsZS4kJGNyZWF0ZUNvbW1lbnQoJ2VuZCBuZ0lmJywgJGF0dHIubmdJZik7XG4gICAgICAgICAgICAgICAgLy8gTm90ZTogV2Ugb25seSBuZWVkIHRoZSBmaXJzdC9sYXN0IG5vZGUgb2YgdGhlIGNsb25lZCBub2Rlcy5cbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBuZWVkIHRvIGtlZXAgdGhlIHJlZmVyZW5jZSB0byB0aGUganFsaXRlIHdyYXBwZXIgYXMgaXQgbWlnaHQgYmUgY2hhbmdlZCBsYXRlclxuICAgICAgICAgICAgICAgIC8vIGJ5IGEgZGlyZWN0aXZlIHdpdGggdGVtcGxhdGVVcmwgd2hlbiBpdHMgdGVtcGxhdGUgYXJyaXZlcy5cbiAgICAgICAgICAgICAgICBibG9jayA9IHtcbiAgICAgICAgICAgICAgICAgIGNsb25lOiBjbG9uZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsICRlbGVtZW50LnBhcmVudCgpLCAkZWxlbWVudCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50cykge1xuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzLnJlbW92ZSgpO1xuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGlsZFNjb3BlKSB7XG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmxvY2spIHtcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cyA9IGdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpO1xuICAgICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShwcmV2aW91c0VsZW1lbnRzKS5kb25lKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICE9PSBmYWxzZSkgcHJldmlvdXNFbGVtZW50cyA9IG51bGw7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBibG9jayA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gIH07XG59XTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0luY2x1ZGVcbiAqIEByZXN0cmljdCBFQ0FcbiAqIEBzY29wZVxuICogQHByaW9yaXR5IC00MDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZldGNoZXMsIGNvbXBpbGVzIGFuZCBpbmNsdWRlcyBhbiBleHRlcm5hbCBIVE1MIGZyYWdtZW50LlxuICpcbiAqIEJ5IGRlZmF1bHQsIHRoZSB0ZW1wbGF0ZSBVUkwgaXMgcmVzdHJpY3RlZCB0byB0aGUgc2FtZSBkb21haW4gYW5kIHByb3RvY29sIGFzIHRoZVxuICogYXBwbGljYXRpb24gZG9jdW1lbnQuIFRoaXMgaXMgZG9uZSBieSBjYWxsaW5nIHtAbGluayAkc2NlI2dldFRydXN0ZWRSZXNvdXJjZVVybFxuICogJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmx9IG9uIGl0LiBUbyBsb2FkIHRlbXBsYXRlcyBmcm9tIG90aGVyIGRvbWFpbnMgb3IgcHJvdG9jb2xzXG4gKiB5b3UgbWF5IGVpdGhlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3Qgd2hpdGVsaXN0IHRoZW19IG9yXG4gKiB7QGxpbmsgJHNjZSN0cnVzdEFzUmVzb3VyY2VVcmwgd3JhcCB0aGVtfSBhcyB0cnVzdGVkIHZhbHVlcy4gUmVmZXIgdG8gQW5ndWxhckpTJ3Mge0BsaW5rXG4gKiBuZy4kc2NlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nfS5cbiAqXG4gKiBJbiBhZGRpdGlvbiwgdGhlIGJyb3dzZXInc1xuICogW1NhbWUgT3JpZ2luIFBvbGljeV0oaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9icm93c2Vyc2VjL3dpa2kvUGFydDIjU2FtZS1vcmlnaW5fcG9saWN5X2Zvcl9YTUxIdHRwUmVxdWVzdClcbiAqIGFuZCBbQ3Jvc3MtT3JpZ2luIFJlc291cmNlIFNoYXJpbmcgKENPUlMpXShodHRwOi8vd3d3LnczLm9yZy9UUi9jb3JzLylcbiAqIHBvbGljeSBtYXkgZnVydGhlciByZXN0cmljdCB3aGV0aGVyIHRoZSB0ZW1wbGF0ZSBpcyBzdWNjZXNzZnVsbHkgbG9hZGVkLlxuICogRm9yIGV4YW1wbGUsIGBuZ0luY2x1ZGVgIHdvbid0IHdvcmsgZm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cyBvbiBhbGwgYnJvd3NlcnMgYW5kIGZvciBgZmlsZTovL2BcbiAqIGFjY2VzcyBvbiBzb21lIGJyb3dzZXJzLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2VudGVyIGVudGVyfSAgfCB3aGVuIHRoZSBleHByZXNzaW9uIGNoYW5nZXMsIG9uIHRoZSBuZXcgaW5jbHVkZSB8XG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNsZWF2ZSBsZWF2ZX0gIHwgd2hlbiB0aGUgZXhwcmVzc2lvbiBjaGFuZ2VzLCBvbiB0aGUgb2xkIGluY2x1ZGUgfFxuICpcbiAqIFRoZSBlbnRlciBhbmQgbGVhdmUgYW5pbWF0aW9uIG9jY3VyIGNvbmN1cnJlbnRseS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdJbmNsdWRlfHNyYyBBbmd1bGFySlMgZXhwcmVzc2lvbiBldmFsdWF0aW5nIHRvIFVSTC4gSWYgdGhlIHNvdXJjZSBpcyBhIHN0cmluZyBjb25zdGFudCxcbiAqICAgICAgICAgICAgICAgICBtYWtlIHN1cmUgeW91IHdyYXAgaXQgaW4gKipzaW5nbGUqKiBxdW90ZXMsIGUuZy4gYHNyYz1cIidteVBhcnRpYWxUZW1wbGF0ZS5odG1sJ1wiYC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gb25sb2FkIEV4cHJlc3Npb24gdG8gZXZhbHVhdGUgd2hlbiBhIG5ldyBwYXJ0aWFsIGlzIGxvYWRlZC5cbiAqICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICAgICAgICAgICAgICAgICAgKipOb3RlOioqIFdoZW4gdXNpbmcgb25sb2FkIG9uIFNWRyBlbGVtZW50cyBpbiBJRTExLCB0aGUgYnJvd3NlciB3aWxsIHRyeSB0byBjYWxsXG4gKiAgICAgICAgICAgICAgICAgIGEgZnVuY3Rpb24gd2l0aCB0aGUgbmFtZSBvbiB0aGUgd2luZG93IGVsZW1lbnQsIHdoaWNoIHdpbGwgdXN1YWxseSB0aHJvdyBhXG4gKiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb24gaXMgdW5kZWZpbmVkXCIgZXJyb3IuIFRvIGZpeCB0aGlzLCB5b3UgY2FuIGluc3RlYWQgdXNlIGBkYXRhLW9ubG9hZGAgb3IgYVxuICogICAgICAgICAgICAgICAgICBkaWZmZXJlbnQgZm9ybSB0aGF0IHtAbGluayBndWlkZS9kaXJlY3RpdmUjbm9ybWFsaXphdGlvbiBtYXRjaGVzfSBgb25sb2FkYC5cbiAqICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAqXG4gKiBAcGFyYW0ge3N0cmluZz19IGF1dG9zY3JvbGwgV2hldGhlciBgbmdJbmNsdWRlYCBzaG91bGQgY2FsbCB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbFxuICogICAgICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsfSB0byBzY3JvbGwgdGhlIHZpZXdwb3J0IGFmdGVyIHRoZSBjb250ZW50IGlzIGxvYWRlZC5cbiAqXG4gKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBub3Qgc2V0LCBkaXNhYmxlIHNjcm9sbGluZy5cbiAqICAgICAgICAgICAgICAgICAgLSBJZiB0aGUgYXR0cmlidXRlIGlzIHNldCB3aXRob3V0IHZhbHVlLCBlbmFibGUgc2Nyb2xsaW5nLlxuICogICAgICAgICAgICAgICAgICAtIE90aGVyd2lzZSBlbmFibGUgc2Nyb2xsaW5nIG9ubHkgaWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydXRoeSB2YWx1ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZSBtb2R1bGU9XCJpbmNsdWRlRXhhbXBsZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIG5hbWU9XCJuZy1pbmNsdWRlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwidGVtcGxhdGVcIiBuZy1vcHRpb25zPVwidC5uYW1lIGZvciB0IGluIHRlbXBsYXRlc1wiPlxuICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+KGJsYW5rKTwvb3B0aW9uPlxuICAgICAgIDwvc2VsZWN0PlxuICAgICAgIHVybCBvZiB0aGUgdGVtcGxhdGU6IDxjb2RlPnt7dGVtcGxhdGUudXJsfX08L2NvZGU+XG4gICAgICAgPGhyLz5cbiAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGUtYW5pbWF0ZS1jb250YWluZXJcIj5cbiAgICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZS1hbmltYXRlXCIgbmctaW5jbHVkZT1cInRlbXBsYXRlLnVybFwiPjwvZGl2PlxuICAgICAgIDwvZGl2PlxuICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2luY2x1ZGVFeGFtcGxlJywgWyduZ0FuaW1hdGUnXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUudGVtcGxhdGVzID1cbiAgICAgICAgICAgIFt7IG5hbWU6ICd0ZW1wbGF0ZTEuaHRtbCcsIHVybDogJ3RlbXBsYXRlMS5odG1sJ30sXG4gICAgICAgICAgICAgeyBuYW1lOiAndGVtcGxhdGUyLmh0bWwnLCB1cmw6ICd0ZW1wbGF0ZTIuaHRtbCd9XTtcbiAgICAgICAgICAkc2NvcGUudGVtcGxhdGUgPSAkc2NvcGUudGVtcGxhdGVzWzBdO1xuICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwidGVtcGxhdGUxLmh0bWxcIj5cbiAgICAgIENvbnRlbnQgb2YgdGVtcGxhdGUxLmh0bWxcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInRlbXBsYXRlMi5odG1sXCI+XG4gICAgICBDb250ZW50IG9mIHRlbXBsYXRlMi5odG1sXG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLnNsaWRlLWFuaW1hdGUtY29udGFpbmVyIHtcbiAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7XG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGhlaWdodDo0MHB4O1xuICAgICAgICBvdmVyZmxvdzpoaWRkZW47XG4gICAgICB9XG5cbiAgICAgIC5zbGlkZS1hbmltYXRlIHtcbiAgICAgICAgcGFkZGluZzoxMHB4O1xuICAgICAgfVxuXG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1lbnRlciwgLnNsaWRlLWFuaW1hdGUubmctbGVhdmUge1xuICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XG5cbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgIHRvcDowO1xuICAgICAgICBsZWZ0OjA7XG4gICAgICAgIHJpZ2h0OjA7XG4gICAgICAgIGJvdHRvbTowO1xuICAgICAgICBkaXNwbGF5OmJsb2NrO1xuICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWVudGVyIHtcbiAgICAgICAgdG9wOi01MHB4O1xuICAgICAgfVxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAgICAgICAgdG9wOjA7XG4gICAgICB9XG5cbiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlIHtcbiAgICAgICAgdG9wOjA7XG4gICAgICB9XG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUge1xuICAgICAgICB0b3A6NTBweDtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHRlbXBsYXRlU2VsZWN0ID0gZWxlbWVudChieS5tb2RlbCgndGVtcGxhdGUnKSk7XG4gICAgICB2YXIgaW5jbHVkZUVsZW0gPSBlbGVtZW50KGJ5LmNzcygnW25nLWluY2x1ZGVdJykpO1xuXG4gICAgICBpdCgnc2hvdWxkIGxvYWQgdGVtcGxhdGUxLmh0bWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KGluY2x1ZGVFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBvZiB0ZW1wbGF0ZTEuaHRtbC8pO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZTIuaHRtbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PT0gJ2ZpcmVmb3gnKSB7XG4gICAgICAgICAgLy8gRmlyZWZveCBjYW4ndCBoYW5kbGUgdXNpbmcgc2VsZWN0c1xuICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy80ODBcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuY2xpY2soKTtcbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgyKS5jbGljaygpO1xuICAgICAgICBleHBlY3QoaW5jbHVkZUVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IG9mIHRlbXBsYXRlMi5odG1sLyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2UgdG8gYmxhbmsnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT09ICdmaXJlZm94Jykge1xuICAgICAgICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHVzaW5nIHNlbGVjdHNcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuY2xpY2soKTtcbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgwKS5jbGljaygpO1xuICAgICAgICBleHBlY3QoaW5jbHVkZUVsZW0uaXNQcmVzZW50KCkpLnRvQmUoZmFsc2UpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBldmVudFxuICogQG5hbWUgbmdJbmNsdWRlIyRpbmNsdWRlQ29udGVudFJlcXVlc3RlZFxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBzY29wZSBuZ0luY2x1ZGUgd2FzIGRlY2xhcmVkIGluXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVtaXR0ZWQgZXZlcnkgdGltZSB0aGUgbmdJbmNsdWRlIGNvbnRlbnQgaXMgcmVxdWVzdGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVVJMIG9mIGNvbnRlbnQgdG8gbG9hZC5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGV2ZW50XG4gKiBAbmFtZSBuZ0luY2x1ZGUjJGluY2x1ZGVDb250ZW50TG9hZGVkXG4gKiBAZXZlbnRUeXBlIGVtaXQgb24gdGhlIGN1cnJlbnQgbmdJbmNsdWRlIHNjb3BlXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVtaXR0ZWQgZXZlcnkgdGltZSB0aGUgbmdJbmNsdWRlIGNvbnRlbnQgaXMgcmVsb2FkZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxuICogQHBhcmFtIHtTdHJpbmd9IHNyYyBVUkwgb2YgY29udGVudCB0byBsb2FkLlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZXZlbnRcbiAqIEBuYW1lIG5nSW5jbHVkZSMkaW5jbHVkZUNvbnRlbnRFcnJvclxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBzY29wZSBuZ0luY2x1ZGUgd2FzIGRlY2xhcmVkIGluXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVtaXR0ZWQgd2hlbiBhIHRlbXBsYXRlIEhUVFAgcmVxdWVzdCB5aWVsZHMgYW4gZXJyb25lb3VzIHJlc3BvbnNlIChzdGF0dXMgPCAyMDAgfHwgc3RhdHVzID4gMjk5KVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVVJMIG9mIGNvbnRlbnQgdG8gbG9hZC5cbiAqL1xudmFyIG5nSW5jbHVkZURpcmVjdGl2ZSA9IFsnJHRlbXBsYXRlUmVxdWVzdCcsICckYW5jaG9yU2Nyb2xsJywgJyRhbmltYXRlJyxcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCR0ZW1wbGF0ZVJlcXVlc3QsICAgJGFuY2hvclNjcm9sbCwgICAkYW5pbWF0ZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUNBJyxcbiAgICBwcmlvcml0eTogNDAwLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcbiAgICBjb250cm9sbGVyOiBhbmd1bGFyLm5vb3AsXG4gICAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xuICAgICAgdmFyIHNyY0V4cCA9IGF0dHIubmdJbmNsdWRlIHx8IGF0dHIuc3JjLFxuICAgICAgICAgIG9ubG9hZEV4cCA9IGF0dHIub25sb2FkIHx8ICcnLFxuICAgICAgICAgIGF1dG9TY3JvbGxFeHAgPSBhdHRyLmF1dG9zY3JvbGw7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xuICAgICAgICB2YXIgY2hhbmdlQ291bnRlciA9IDAsXG4gICAgICAgICAgICBjdXJyZW50U2NvcGUsXG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQsXG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudDtcblxuICAgICAgICB2YXIgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChwcmV2aW91c0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdXJyZW50U2NvcGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShjdXJyZW50RWxlbWVudCkuZG9uZShmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgIT09IGZhbHNlKSBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBjdXJyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKHNyY0V4cCwgZnVuY3Rpb24gbmdJbmNsdWRlV2F0Y2hBY3Rpb24oc3JjKSB7XG4gICAgICAgICAgdmFyIGFmdGVyQW5pbWF0aW9uID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZSAhPT0gZmFsc2UgJiYgaXNEZWZpbmVkKGF1dG9TY3JvbGxFeHApICYmXG4gICAgICAgICAgICAgICghYXV0b1Njcm9sbEV4cCB8fCBzY29wZS4kZXZhbChhdXRvU2Nyb2xsRXhwKSkpIHtcbiAgICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICB2YXIgdGhpc0NoYW5nZUlkID0gKytjaGFuZ2VDb3VudGVyO1xuXG4gICAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgICAgLy9zZXQgdGhlIDJuZCBwYXJhbSB0byB0cnVlIHRvIGlnbm9yZSB0aGUgdGVtcGxhdGUgcmVxdWVzdCBlcnJvciBzbyB0aGF0IHRoZSBpbm5lclxuICAgICAgICAgICAgLy9jb250ZW50cyBhbmQgc2NvcGUgY2FuIGJlIGNsZWFuZWQgdXAuXG4gICAgICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KHNyYywgdHJ1ZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkICE9PSBjaGFuZ2VDb3VudGVyKSByZXR1cm47XG4gICAgICAgICAgICAgIHZhciBuZXdTY29wZSA9IHNjb3BlLiRuZXcoKTtcbiAgICAgICAgICAgICAgY3RybC50ZW1wbGF0ZSA9IHJlc3BvbnNlO1xuXG4gICAgICAgICAgICAgIC8vIE5vdGU6IFRoaXMgd2lsbCBhbHNvIGxpbmsgYWxsIGNoaWxkcmVuIG9mIG5nLWluY2x1ZGUgdGhhdCB3ZXJlIGNvbnRhaW5lZCBpbiB0aGUgb3JpZ2luYWxcbiAgICAgICAgICAgICAgLy8gaHRtbC4gSWYgdGhhdCBjb250ZW50IGNvbnRhaW5zIGNvbnRyb2xsZXJzLCAuLi4gdGhleSBjb3VsZCBwb2xsdXRlL2NoYW5nZSB0aGUgc2NvcGUuXG4gICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHVzaW5nIG5nLWluY2x1ZGUgb24gYW4gZWxlbWVudCB3aXRoIGFkZGl0aW9uYWwgY29udGVudCBkb2VzIG5vdCBtYWtlIHNlbnNlLi4uXG4gICAgICAgICAgICAgIC8vIE5vdGU6IFdlIGNhbid0IHJlbW92ZSB0aGVtIGluIHRoZSBjbG9uZUF0dGNoRm4gb2YgJHRyYW5zY2x1ZGUgYXMgdGhhdFxuICAgICAgICAgICAgICAvLyBmdW5jdGlvbiBpcyBjYWxsZWQgYmVmb3JlIGxpbmtpbmcgdGhlIGNvbnRlbnQsIHdoaWNoIHdvdWxkIGFwcGx5IGNoaWxkXG4gICAgICAgICAgICAgIC8vIGRpcmVjdGl2ZXMgdG8gbm9uIGV4aXN0aW5nIGVsZW1lbnRzLlxuICAgICAgICAgICAgICB2YXIgY2xvbmUgPSAkdHJhbnNjbHVkZShuZXdTY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsIG51bGwsICRlbGVtZW50KS5kb25lKGFmdGVyQW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbmV3U2NvcGU7XG4gICAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gY2xvbmU7XG5cbiAgICAgICAgICAgICAgY3VycmVudFNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRMb2FkZWQnLCBzcmMpO1xuICAgICAgICAgICAgICBzY29wZS4kZXZhbChvbmxvYWRFeHApO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmIChzY29wZS4kJGRlc3Ryb3llZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgIGlmICh0aGlzQ2hhbmdlSWQgPT09IGNoYW5nZUNvdW50ZXIpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudEVycm9yJywgc3JjKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkJywgc3JjKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgY3RybC50ZW1wbGF0ZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cbi8vIFRoaXMgZGlyZWN0aXZlIGlzIGNhbGxlZCBkdXJpbmcgdGhlICR0cmFuc2NsdWRlIGNhbGwgb2YgdGhlIGZpcnN0IGBuZ0luY2x1ZGVgIGRpcmVjdGl2ZS5cbi8vIEl0IHdpbGwgcmVwbGFjZSBhbmQgY29tcGlsZSB0aGUgY29udGVudCBvZiB0aGUgZWxlbWVudCB3aXRoIHRoZSBsb2FkZWQgdGVtcGxhdGUuXG4vLyBXZSBuZWVkIHRoaXMgZGlyZWN0aXZlIHNvIHRoYXQgdGhlIGVsZW1lbnQgY29udGVudCBpcyBhbHJlYWR5IGZpbGxlZCB3aGVuXG4vLyB0aGUgbGluayBmdW5jdGlvbiBvZiBhbm90aGVyIGRpcmVjdGl2ZSBvbiB0aGUgc2FtZSBlbGVtZW50IGFzIG5nSW5jbHVkZVxuLy8gaXMgY2FsbGVkLlxudmFyIG5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlID0gWyckY29tcGlsZScsXG4gIGZ1bmN0aW9uKCRjb21waWxlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUNBJyxcbiAgICAgIHByaW9yaXR5OiAtNDAwLFxuICAgICAgcmVxdWlyZTogJ25nSW5jbHVkZScsXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsKSB7XG4gICAgICAgIGlmICh0b1N0cmluZy5jYWxsKCRlbGVtZW50WzBdKS5tYXRjaCgvU1ZHLykpIHtcbiAgICAgICAgICAvLyBXZWJLaXQ6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzU2OTggLS0tIFNWRyBlbGVtZW50cyBkbyBub3RcbiAgICAgICAgICAvLyBzdXBwb3J0IGlubmVySFRNTCwgc28gZGV0ZWN0IHRoaXMgaGVyZSBhbmQgdHJ5IHRvIGdlbmVyYXRlIHRoZSBjb250ZW50c1xuICAgICAgICAgIC8vIHNwZWNpYWxseS5cbiAgICAgICAgICAkZWxlbWVudC5lbXB0eSgpO1xuICAgICAgICAgICRjb21waWxlKGpxTGl0ZUJ1aWxkRnJhZ21lbnQoY3RybC50ZW1wbGF0ZSwgd2luZG93LmRvY3VtZW50KS5jaGlsZE5vZGVzKShzY29wZSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gbmFtZXNwYWNlQWRhcHRlZENsb25lKGNsb25lKSB7XG4gICAgICAgICAgICAkZWxlbWVudC5hcHBlbmQoY2xvbmUpO1xuICAgICAgICAgIH0sIHtmdXR1cmVQYXJlbnRFbGVtZW50OiAkZWxlbWVudH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgICRlbGVtZW50Lmh0bWwoY3RybC50ZW1wbGF0ZSk7XG4gICAgICAgICRjb21waWxlKCRlbGVtZW50LmNvbnRlbnRzKCkpKHNjb3BlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0luaXRcbiAqIEByZXN0cmljdCBBQ1xuICogQHByaW9yaXR5IDQ1MFxuICogQGVsZW1lbnQgQU5ZXG4gKlxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0luaXQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdJbml0YCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBldmFsdWF0ZSBhbiBleHByZXNzaW9uIGluIHRoZVxuICogY3VycmVudCBzY29wZS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XG4gKiBUaGlzIGRpcmVjdGl2ZSBjYW4gYmUgYWJ1c2VkIHRvIGFkZCB1bm5lY2Vzc2FyeSBhbW91bnRzIG9mIGxvZ2ljIGludG8geW91ciB0ZW1wbGF0ZXMuXG4gKiBUaGVyZSBhcmUgb25seSBhIGZldyBhcHByb3ByaWF0ZSB1c2VzIG9mIGBuZ0luaXRgOlxuICogPHVsPlxuICogICA8bGk+YWxpYXNpbmcgc3BlY2lhbCBwcm9wZXJ0aWVzIG9mIHtAbGluayBuZy5kaXJlY3RpdmU6bmdSZXBlYXQgYG5nUmVwZWF0YH0sXG4gKiAgICAgYXMgc2VlbiBpbiB0aGUgZGVtbyBiZWxvdy48L2xpPlxuICogICA8bGk+aW5pdGlhbGl6aW5nIGRhdGEgZHVyaW5nIGRldmVsb3BtZW50LCBvciBmb3IgZXhhbXBsZXMsIGFzIHNlZW4gdGhyb3VnaG91dCB0aGVzZSBkb2NzLjwvbGk+XG4gKiAgIDxsaT5pbmplY3RpbmcgZGF0YSB2aWEgc2VydmVyIHNpZGUgc2NyaXB0aW5nLjwvbGk+XG4gKiA8L3VsPlxuICpcbiAqIEJlc2lkZXMgdGhlc2UgZmV3IGNhc2VzLCB5b3Ugc2hvdWxkIHVzZSB7QGxpbmsgZ3VpZGUvY29tcG9uZW50IENvbXBvbmVudHN9IG9yXG4gKiB7QGxpbmsgZ3VpZGUvY29udHJvbGxlciBDb250cm9sbGVyc30gcmF0aGVyIHRoYW4gYG5nSW5pdGAgdG8gaW5pdGlhbGl6ZSB2YWx1ZXMgb24gYSBzY29wZS5cbiAqIDwvZGl2PlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGUqKjogSWYgeW91IGhhdmUgYXNzaWdubWVudCBpbiBgbmdJbml0YCBhbG9uZyB3aXRoIGEge0BsaW5rIG5nLiRmaWx0ZXIgYGZpbHRlcmB9LCBtYWtlXG4gKiBzdXJlIHlvdSBoYXZlIHBhcmVudGhlc2VzIHRvIGVuc3VyZSBjb3JyZWN0IG9wZXJhdG9yIHByZWNlZGVuY2U6XG4gKiA8cHJlIGNsYXNzPVwicHJldHR5cHJpbnRcIj5cbiAqIGA8ZGl2IG5nLWluaXQ9XCJ0ZXN0MSA9ICgkaW5kZXggfCB0b1N0cmluZylcIj48L2Rpdj5gXG4gKiA8L3ByZT5cbiAqIDwvZGl2PlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJpbml0RXhhbXBsZVwiIG5hbWU9XCJuZy1pbml0XCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICA8c2NyaXB0PlxuICAgICBhbmd1bGFyLm1vZHVsZSgnaW5pdEV4YW1wbGUnLCBbXSlcbiAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgJHNjb3BlLmxpc3QgPSBbWydhJywgJ2InXSwgWydjJywgJ2QnXV07XG4gICAgICAgfV0pO1xuICAgPC9zY3JpcHQ+XG4gICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICA8ZGl2IG5nLXJlcGVhdD1cImlubmVyTGlzdCBpbiBsaXN0XCIgbmctaW5pdD1cIm91dGVySW5kZXggPSAkaW5kZXhcIj5cbiAgICAgICA8ZGl2IG5nLXJlcGVhdD1cInZhbHVlIGluIGlubmVyTGlzdFwiIG5nLWluaXQ9XCJpbm5lckluZGV4ID0gJGluZGV4XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJleGFtcGxlLWluaXRcIj5saXN0WyB7e291dGVySW5kZXh9fSBdWyB7e2lubmVySW5kZXh9fSBdID0ge3t2YWx1ZX19Ozwvc3Bhbj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9kaXY+XG4gICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBhbGlhcyBpbmRleCBwb3NpdGlvbnMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBlbGVtZW50cyA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnLmV4YW1wbGUtaW5pdCcpKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMCkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAwIF1bIDAgXSA9IGE7Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDEpLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMCBdWyAxIF0gPSBiOycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgyKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDEgXVsgMCBdID0gYzsnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMykuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAxIF1bIDEgXSA9IGQ7Jyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nSW5pdERpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKHtcbiAgcHJpb3JpdHk6IDQ1MCxcbiAgY29tcGlsZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByZTogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHNjb3BlLiRldmFsKGF0dHJzLm5nSW5pdCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdMaXN0XG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdMaXN0IG9wdGlvbmFsIGRlbGltaXRlciB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIHNwbGl0IHRoZSB2YWx1ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRleHQgaW5wdXQgdGhhdCBjb252ZXJ0cyBiZXR3ZWVuIGEgZGVsaW1pdGVkIHN0cmluZyBhbmQgYW4gYXJyYXkgb2Ygc3RyaW5ncy4gVGhlIGRlZmF1bHRcbiAqIGRlbGltaXRlciBpcyBhIGNvbW1hIGZvbGxvd2VkIGJ5IGEgc3BhY2UgLSBlcXVpdmFsZW50IHRvIGBuZy1saXN0PVwiLCBcImAuIFlvdSBjYW4gc3BlY2lmeSBhIGN1c3RvbVxuICogZGVsaW1pdGVyIGFzIHRoZSB2YWx1ZSBvZiB0aGUgYG5nTGlzdGAgYXR0cmlidXRlIC0gZm9yIGV4YW1wbGUsIGBuZy1saXN0PVwiIHwgXCJgLlxuICpcbiAqIFRoZSBiZWhhdmlvdXIgb2YgdGhlIGRpcmVjdGl2ZSBpcyBhZmZlY3RlZCBieSB0aGUgdXNlIG9mIHRoZSBgbmdUcmltYCBhdHRyaWJ1dGUuXG4gKiAqIElmIGBuZ1RyaW1gIGlzIHNldCB0byBgXCJmYWxzZVwiYCB0aGVuIHdoaXRlc3BhY2UgYXJvdW5kIGJvdGggdGhlIHNlcGFyYXRvciBhbmQgZWFjaFxuICogICBsaXN0IGl0ZW0gaXMgcmVzcGVjdGVkLiBUaGlzIGltcGxpZXMgdGhhdCB0aGUgdXNlciBvZiB0aGUgZGlyZWN0aXZlIGlzIHJlc3BvbnNpYmxlIGZvclxuICogICBkZWFsaW5nIHdpdGggd2hpdGVzcGFjZSBidXQgYWxzbyBhbGxvd3MgeW91IHRvIHVzZSB3aGl0ZXNwYWNlIGFzIGEgZGVsaW1pdGVyLCBzdWNoIGFzIGFcbiAqICAgdGFiIG9yIG5ld2xpbmUgY2hhcmFjdGVyLlxuICogKiBPdGhlcndpc2Ugd2hpdGVzcGFjZSBhcm91bmQgdGhlIGRlbGltaXRlciBpcyBpZ25vcmVkIHdoZW4gc3BsaXR0aW5nIChhbHRob3VnaCBpdCBpcyByZXNwZWN0ZWRcbiAqICAgd2hlbiBqb2luaW5nIHRoZSBsaXN0IGl0ZW1zIGJhY2sgdG9nZXRoZXIpIGFuZCB3aGl0ZXNwYWNlIGFyb3VuZCBlYWNoIGxpc3QgaXRlbSBpcyBzdHJpcHBlZFxuICogICBiZWZvcmUgaXQgaXMgYWRkZWQgdG8gdGhlIG1vZGVsLlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgVmFsaWRhdGlvblxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0xpc3QtZGlyZWN0aXZlXCIgbW9kdWxlPVwibGlzdEV4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgICBhbmd1bGFyLm1vZHVsZSgnbGlzdEV4YW1wbGUnLCBbXSlcbiAqICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydtb3JwaGV1cycsICduZW8nLCAndHJpbml0eSddO1xuICogICAgICAgIH1dKTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICA8bGFiZWw+TGlzdDogPGlucHV0IG5hbWU9XCJuYW1lc0lucHV0XCIgbmctbW9kZWw9XCJuYW1lc1wiIG5nLWxpc3QgcmVxdWlyZWQ+PC9sYWJlbD5cbiAqICAgICAgPHNwYW4gcm9sZT1cImFsZXJ0XCI+XG4gKiAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0ubmFtZXNJbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAqICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gKiAgICAgIDwvc3Bhbj5cbiAqICAgICAgPGJyPlxuICogICAgICA8dHQ+bmFtZXMgPSB7e25hbWVzfX08L3R0Pjxici8+XG4gKiAgICAgIDx0dD5teUZvcm0ubmFtZXNJbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5uYW1lc0lucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICogICAgICA8dHQ+bXlGb3JtLm5hbWVzSW5wdXQuJGVycm9yID0ge3tteUZvcm0ubmFtZXNJbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAqICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAqICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICogICAgIDwvZm9ybT5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgdmFyIGxpc3RJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ25hbWVzJykpO1xuICogICAgIHZhciBuYW1lcyA9IGVsZW1lbnQoYnkuZXhhY3RCaW5kaW5nKCduYW1lcycpKTtcbiAqICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5uYW1lc0lucHV0LiR2YWxpZCcpKTtcbiAqICAgICB2YXIgZXJyb3IgPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5lcnJvcicpKTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBleHBlY3QobmFtZXMuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ1tcIm1vcnBoZXVzXCIsXCJuZW9cIixcInRyaW5pdHlcIl0nKTtcbiAqICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgICAgZXhwZWN0KGVycm9yLmdldENzc1ZhbHVlKCdkaXNwbGF5JykpLnRvQmUoJ25vbmUnKTtcbiAqICAgICB9KTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBsaXN0SW5wdXQuY2xlYXIoKTtcbiAqICAgICAgIGxpc3RJbnB1dC5zZW5kS2V5cygnJyk7XG4gKlxuICogICAgICAgZXhwZWN0KG5hbWVzLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAqICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAqICAgICAgIGV4cGVjdChlcnJvci5nZXRDc3NWYWx1ZSgnZGlzcGxheScpKS5ub3QudG9CZSgnbm9uZScpO1xuICogICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBTcGxpdHRpbmcgb24gbmV3bGluZVxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0xpc3QtZGlyZWN0aXZlLW5ld2xpbmVzXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICA8dGV4dGFyZWEgbmctbW9kZWw9XCJsaXN0XCIgbmctbGlzdD1cIiYjMTA7XCIgbmctdHJpbT1cImZhbHNlXCI+PC90ZXh0YXJlYT5cbiAqICAgIDxwcmU+e3sgbGlzdCB8IGpzb24gfX08L3ByZT5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgaXQoXCJzaG91bGQgc3BsaXQgdGhlIHRleHQgYnkgbmV3bGluZXNcIiwgZnVuY3Rpb24oKSB7XG4gKiAgICAgICB2YXIgbGlzdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbGlzdCcpKTtcbiAqICAgICAgIHZhciBvdXRwdXQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QgfCBqc29uJykpO1xuICogICAgICAgbGlzdElucHV0LnNlbmRLZXlzKCdhYmNcXG5kZWZcXG5naGknKTtcbiAqICAgICAgIGV4cGVjdChvdXRwdXQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ1tcXG4gIFwiYWJjXCIsXFxuICBcImRlZlwiLFxcbiAgXCJnaGlcIlxcbl0nKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqL1xudmFyIG5nTGlzdERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcHJpb3JpdHk6IDEwMCxcbiAgICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHtcbiAgICAgIHZhciBuZ0xpc3QgPSBhdHRyLm5nTGlzdCB8fCAnLCAnO1xuICAgICAgdmFyIHRyaW1WYWx1ZXMgPSBhdHRyLm5nVHJpbSAhPT0gJ2ZhbHNlJztcbiAgICAgIHZhciBzZXBhcmF0b3IgPSB0cmltVmFsdWVzID8gdHJpbShuZ0xpc3QpIDogbmdMaXN0O1xuXG4gICAgICB2YXIgcGFyc2UgPSBmdW5jdGlvbih2aWV3VmFsdWUpIHtcbiAgICAgICAgLy8gSWYgdGhlIHZpZXdWYWx1ZSBpcyBpbnZhbGlkIChzYXkgcmVxdWlyZWQgYnV0IGVtcHR5KSBpdCB3aWxsIGJlIGB1bmRlZmluZWRgXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh2aWV3VmFsdWUpKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGxpc3QgPSBbXTtcblxuICAgICAgICBpZiAodmlld1ZhbHVlKSB7XG4gICAgICAgICAgZm9yRWFjaCh2aWV3VmFsdWUuc3BsaXQoc2VwYXJhdG9yKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkgbGlzdC5wdXNoKHRyaW1WYWx1ZXMgPyB0cmltKHZhbHVlKSA6IHZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgfTtcblxuICAgICAgY3RybC4kcGFyc2Vycy5wdXNoKHBhcnNlKTtcbiAgICAgIGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUuam9pbihuZ0xpc3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBPdmVycmlkZSB0aGUgc3RhbmRhcmQgJGlzRW1wdHkgYmVjYXVzZSBhbiBlbXB0eSBhcnJheSBtZWFucyB0aGUgaW5wdXQgaXMgZW1wdHkuXG4gICAgICBjdHJsLiRpc0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZSB8fCAhdmFsdWUubGVuZ3RoO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgVkFMSURfQ0xBU1M6IHRydWUsXG4gIElOVkFMSURfQ0xBU1M6IHRydWUsXG4gIFBSSVNUSU5FX0NMQVNTOiB0cnVlLFxuICBESVJUWV9DTEFTUzogdHJ1ZSxcbiAgVU5UT1VDSEVEX0NMQVNTOiB0cnVlLFxuICBUT1VDSEVEX0NMQVNTOiB0cnVlLFxuICBQRU5ESU5HX0NMQVNTOiB0cnVlLFxuICBhZGRTZXRWYWxpZGl0eU1ldGhvZDogdHJ1ZSxcbiAgc2V0dXBWYWxpZGl0eTogdHJ1ZSxcbiAgZGVmYXVsdE1vZGVsT3B0aW9uczogZmFsc2VcbiovXG5cblxudmFyIFZBTElEX0NMQVNTID0gJ25nLXZhbGlkJyxcbiAgICBJTlZBTElEX0NMQVNTID0gJ25nLWludmFsaWQnLFxuICAgIFBSSVNUSU5FX0NMQVNTID0gJ25nLXByaXN0aW5lJyxcbiAgICBESVJUWV9DTEFTUyA9ICduZy1kaXJ0eScsXG4gICAgVU5UT1VDSEVEX0NMQVNTID0gJ25nLXVudG91Y2hlZCcsXG4gICAgVE9VQ0hFRF9DTEFTUyA9ICduZy10b3VjaGVkJyxcbiAgICBFTVBUWV9DTEFTUyA9ICduZy1lbXB0eScsXG4gICAgTk9UX0VNUFRZX0NMQVNTID0gJ25nLW5vdC1lbXB0eSc7XG5cbnZhciBuZ01vZGVsTWluRXJyID0gbWluRXJyKCduZ01vZGVsJyk7XG5cbi8qKlxuICogQG5nZG9jIHR5cGVcbiAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXJcbiAqIEBwcm9wZXJ0eSB7Kn0gJHZpZXdWYWx1ZSBUaGUgYWN0dWFsIHZhbHVlIGZyb20gdGhlIGNvbnRyb2wncyB2aWV3LiBGb3IgYGlucHV0YCBlbGVtZW50cywgdGhpcyBpcyBhXG4gKiBTdHJpbmcuIFNlZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0Vmlld1ZhbHVlfSBmb3IgaW5mb3JtYXRpb24gYWJvdXQgd2hlbiB0aGUgJHZpZXdWYWx1ZVxuICogaXMgc2V0LlxuICpcbiAqIEBwcm9wZXJ0eSB7Kn0gJG1vZGVsVmFsdWUgVGhlIHZhbHVlIGluIHRoZSBtb2RlbCB0aGF0IHRoZSBjb250cm9sIGlzIGJvdW5kIHRvLlxuICpcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gJHBhcnNlcnMgQXJyYXkgb2YgZnVuY3Rpb25zIHRvIGV4ZWN1dGUsIGFzIGEgcGlwZWxpbmUsIHdoZW5ldmVyXG4gKiAgdGhlIGNvbnRyb2wgdXBkYXRlcyB0aGUgbmdNb2RlbENvbnRyb2xsZXIgd2l0aCBhIG5ldyB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlXG4gICAgYCR2aWV3VmFsdWVgfSBmcm9tIHRoZSBET00sIHVzdWFsbHkgdmlhIHVzZXIgaW5wdXQuXG4gICAgU2VlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRWaWV3VmFsdWUgYCRzZXRWaWV3VmFsdWUoKWB9IGZvciBhIGRldGFpbGVkIGxpZmVjeWNsZSBleHBsYW5hdGlvbi5cbiAgICBOb3RlIHRoYXQgdGhlIGAkcGFyc2Vyc2AgYXJlIG5vdCBjYWxsZWQgd2hlbiB0aGUgYm91bmQgbmdNb2RlbCBleHByZXNzaW9uIGNoYW5nZXMgcHJvZ3JhbW1hdGljYWxseS5cblxuICBUaGUgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW4gYXJyYXkgb3JkZXIsIGVhY2ggcGFzc2luZ1xuICAgIGl0cyByZXR1cm4gdmFsdWUgdGhyb3VnaCB0byB0aGUgbmV4dC4gVGhlIGxhc3QgcmV0dXJuIHZhbHVlIGlzIGZvcndhcmRlZCB0byB0aGVcbiAgICB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdG9ycyBgJHZhbGlkYXRvcnNgfSBjb2xsZWN0aW9uLlxuXG4gIFBhcnNlcnMgYXJlIHVzZWQgdG8gc2FuaXRpemUgLyBjb252ZXJ0IHRoZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlXG4gICAgYCR2aWV3VmFsdWVgfS5cblxuICBSZXR1cm5pbmcgYHVuZGVmaW5lZGAgZnJvbSBhIHBhcnNlciBtZWFucyBhIHBhcnNlIGVycm9yIG9jY3VycmVkLiBJbiB0aGF0IGNhc2UsXG4gICAgbm8ge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYCR2YWxpZGF0b3JzYH0gd2lsbCBydW4gYW5kIHRoZSBgbmdNb2RlbGBcbiAgICB3aWxsIGJlIHNldCB0byBgdW5kZWZpbmVkYCB1bmxlc3Mge0BsaW5rIG5nTW9kZWxPcHRpb25zIGBuZ01vZGVsT3B0aW9ucy5hbGxvd0ludmFsaWRgfVxuICAgIGlzIHNldCB0byBgdHJ1ZWAuIFRoZSBwYXJzZSBlcnJvciBpcyBzdG9yZWQgaW4gYG5nTW9kZWwuJGVycm9yLnBhcnNlYC5cblxuICBUaGlzIHNpbXBsZSBleGFtcGxlIHNob3dzIGEgcGFyc2VyIHRoYXQgd291bGQgY29udmVydCB0ZXh0IGlucHV0IHZhbHVlIHRvIGxvd2VyY2FzZTpcbiAqIGBgYGpzXG4gKiBmdW5jdGlvbiBwYXJzZSh2YWx1ZSkge1xuICogICBpZiAodmFsdWUpIHtcbiAqICAgICByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKTtcbiAqICAgfVxuICogfVxuICogbmdNb2RlbENvbnRyb2xsZXIuJHBhcnNlcnMucHVzaChwYXJzZSk7XG4gKiBgYGBcblxuICpcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gJGZvcm1hdHRlcnMgQXJyYXkgb2YgZnVuY3Rpb25zIHRvIGV4ZWN1dGUsIGFzIGEgcGlwZWxpbmUsIHdoZW5ldmVyXG4gICAgdGhlIGJvdW5kIG5nTW9kZWwgZXhwcmVzc2lvbiBjaGFuZ2VzIHByb2dyYW1tYXRpY2FsbHkuIFRoZSBgJGZvcm1hdHRlcnNgIGFyZSBub3QgY2FsbGVkIHdoZW4gdGhlXG4gICAgdmFsdWUgb2YgdGhlIGNvbnRyb2wgaXMgY2hhbmdlZCBieSB1c2VyIGludGVyYWN0aW9uLlxuXG4gIEZvcm1hdHRlcnMgYXJlIHVzZWQgdG8gZm9ybWF0IC8gY29udmVydCB0aGUge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJG1vZGVsVmFsdWVcbiAgICBgJG1vZGVsVmFsdWVgfSBmb3IgZGlzcGxheSBpbiB0aGUgY29udHJvbC5cblxuICBUaGUgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW4gcmV2ZXJzZSBhcnJheSBvcmRlciwgZWFjaCBwYXNzaW5nIHRoZSB2YWx1ZSB0aHJvdWdoIHRvIHRoZVxuICAgIG5leHQuIFRoZSBsYXN0IHJldHVybiB2YWx1ZSBpcyB1c2VkIGFzIHRoZSBhY3R1YWwgRE9NIHZhbHVlLlxuXG4gIFRoaXMgc2ltcGxlIGV4YW1wbGUgc2hvd3MgYSBmb3JtYXR0ZXIgdGhhdCB3b3VsZCBjb252ZXJ0IHRoZSBtb2RlbCB2YWx1ZSB0byB1cHBlcmNhc2U6XG5cbiAqIGBgYGpzXG4gKiBmdW5jdGlvbiBmb3JtYXQodmFsdWUpIHtcbiAqICAgaWYgKHZhbHVlKSB7XG4gKiAgICAgcmV0dXJuIHZhbHVlLnRvVXBwZXJDYXNlKCk7XG4gKiAgIH1cbiAqIH1cbiAqIG5nTW9kZWwuJGZvcm1hdHRlcnMucHVzaChmb3JtYXQpO1xuICogYGBgXG4gKlxuICogQHByb3BlcnR5IHtPYmplY3QuPHN0cmluZywgZnVuY3Rpb24+fSAkdmFsaWRhdG9ycyBBIGNvbGxlY3Rpb24gb2YgdmFsaWRhdG9ycyB0aGF0IGFyZSBhcHBsaWVkXG4gKiAgICAgIHdoZW5ldmVyIHRoZSBtb2RlbCB2YWx1ZSBjaGFuZ2VzLiBUaGUga2V5IHZhbHVlIHdpdGhpbiB0aGUgb2JqZWN0IHJlZmVycyB0byB0aGUgbmFtZSBvZiB0aGVcbiAqICAgICAgdmFsaWRhdG9yIHdoaWxlIHRoZSBmdW5jdGlvbiByZWZlcnMgdG8gdGhlIHZhbGlkYXRpb24gb3BlcmF0aW9uLiBUaGUgdmFsaWRhdGlvbiBvcGVyYXRpb24gaXNcbiAqICAgICAgcHJvdmlkZWQgd2l0aCB0aGUgbW9kZWwgdmFsdWUgYXMgYW4gYXJndW1lbnQgYW5kIG11c3QgcmV0dXJuIGEgdHJ1ZSBvciBmYWxzZSB2YWx1ZSBkZXBlbmRpbmdcbiAqICAgICAgb24gdGhlIHJlc3BvbnNlIG9mIHRoYXQgdmFsaWRhdGlvbi5cbiAqXG4gKiBgYGBqc1xuICogbmdNb2RlbC4kdmFsaWRhdG9ycy52YWxpZENoYXJhY3RlcnMgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAqICAgdmFyIHZhbHVlID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XG4gKiAgIHJldHVybiAvWzAtOV0rLy50ZXN0KHZhbHVlKSAmJlxuICogICAgICAgICAgL1thLXpdKy8udGVzdCh2YWx1ZSkgJiZcbiAqICAgICAgICAgIC9bQS1aXSsvLnRlc3QodmFsdWUpICYmXG4gKiAgICAgICAgICAvXFxXKy8udGVzdCh2YWx1ZSk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogQHByb3BlcnR5IHtPYmplY3QuPHN0cmluZywgZnVuY3Rpb24+fSAkYXN5bmNWYWxpZGF0b3JzIEEgY29sbGVjdGlvbiBvZiB2YWxpZGF0aW9ucyB0aGF0IGFyZSBleHBlY3RlZCB0b1xuICogICAgICBwZXJmb3JtIGFuIGFzeW5jaHJvbm91cyB2YWxpZGF0aW9uIChlLmcuIGEgSFRUUCByZXF1ZXN0KS4gVGhlIHZhbGlkYXRpb24gZnVuY3Rpb24gdGhhdCBpcyBwcm92aWRlZFxuICogICAgICBpcyBleHBlY3RlZCB0byByZXR1cm4gYSBwcm9taXNlIHdoZW4gaXQgaXMgcnVuIGR1cmluZyB0aGUgbW9kZWwgdmFsaWRhdGlvbiBwcm9jZXNzLiBPbmNlIHRoZSBwcm9taXNlXG4gKiAgICAgIGlzIGRlbGl2ZXJlZCB0aGVuIHRoZSB2YWxpZGF0aW9uIHN0YXR1cyB3aWxsIGJlIHNldCB0byB0cnVlIHdoZW4gZnVsZmlsbGVkIGFuZCBmYWxzZSB3aGVuIHJlamVjdGVkLlxuICogICAgICBXaGVuIHRoZSBhc3luY2hyb25vdXMgdmFsaWRhdG9ycyBhcmUgdHJpZ2dlcmVkLCBlYWNoIG9mIHRoZSB2YWxpZGF0b3JzIHdpbGwgcnVuIGluIHBhcmFsbGVsIGFuZCB0aGUgbW9kZWxcbiAqICAgICAgdmFsdWUgd2lsbCBvbmx5IGJlIHVwZGF0ZWQgb25jZSBhbGwgdmFsaWRhdG9ycyBoYXZlIGJlZW4gZnVsZmlsbGVkLiBBcyBsb25nIGFzIGFuIGFzeW5jaHJvbm91cyB2YWxpZGF0b3JcbiAqICAgICAgaXMgdW5mdWxmaWxsZWQsIGl0cyBrZXkgd2lsbCBiZSBhZGRlZCB0byB0aGUgY29udHJvbGxlcnMgYCRwZW5kaW5nYCBwcm9wZXJ0eS4gQWxzbywgYWxsIGFzeW5jaHJvbm91cyB2YWxpZGF0b3JzXG4gKiAgICAgIHdpbGwgb25seSBydW4gb25jZSBhbGwgc3luY2hyb25vdXMgdmFsaWRhdG9ycyBoYXZlIHBhc3NlZC5cbiAqXG4gKiBQbGVhc2Ugbm90ZSB0aGF0IGlmICRodHRwIGlzIHVzZWQgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdGhhdCB0aGUgc2VydmVyIHJldHVybnMgYSBzdWNjZXNzIEhUVFAgcmVzcG9uc2UgY29kZVxuICogaW4gb3JkZXIgdG8gZnVsZmlsbCB0aGUgdmFsaWRhdGlvbiBhbmQgYSBzdGF0dXMgbGV2ZWwgb2YgYDR4eGAgaW4gb3JkZXIgdG8gcmVqZWN0IHRoZSB2YWxpZGF0aW9uLlxuICpcbiAqIGBgYGpzXG4gKiBuZ01vZGVsLiRhc3luY1ZhbGlkYXRvcnMudW5pcXVlVXNlcm5hbWUgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAqICAgdmFyIHZhbHVlID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XG4gKlxuICogICAvLyBMb29rdXAgdXNlciBieSB1c2VybmFtZVxuICogICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzLycgKyB2YWx1ZSkuXG4gKiAgICAgIHRoZW4oZnVuY3Rpb24gcmVzb2x2ZWQoKSB7XG4gKiAgICAgICAgLy91c2VybmFtZSBleGlzdHMsIHRoaXMgbWVhbnMgdmFsaWRhdGlvbiBmYWlsc1xuICogICAgICAgIHJldHVybiAkcS5yZWplY3QoJ2V4aXN0cycpO1xuICogICAgICB9LCBmdW5jdGlvbiByZWplY3RlZCgpIHtcbiAqICAgICAgICAvL3VzZXJuYW1lIGRvZXMgbm90IGV4aXN0LCB0aGVyZWZvcmUgdGhpcyB2YWxpZGF0aW9uIHBhc3Nlc1xuICogICAgICAgIHJldHVybiB0cnVlO1xuICogICAgICB9KTtcbiAqIH07XG4gKiBgYGBcbiAqXG4gKiBAcHJvcGVydHkge0FycmF5LjxGdW5jdGlvbj59ICR2aWV3Q2hhbmdlTGlzdGVuZXJzIEFycmF5IG9mIGZ1bmN0aW9ucyB0byBleGVjdXRlIHdoZW5ldmVyXG4gKiAgICAgYSBjaGFuZ2UgdG8ge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSBgJHZpZXdWYWx1ZWB9IGhhcyBjYXVzZWQgYSBjaGFuZ2VcbiAqICAgICB0byB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkbW9kZWxWYWx1ZSBgJG1vZGVsVmFsdWVgfS5cbiAqICAgICBJdCBpcyBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHMsIGFuZCBpdHMgcmV0dXJuIHZhbHVlIGlzIGlnbm9yZWQuXG4gKiAgICAgVGhpcyBjYW4gYmUgdXNlZCBpbiBwbGFjZSBvZiBhZGRpdGlvbmFsICR3YXRjaGVzIGFnYWluc3QgdGhlIG1vZGVsIHZhbHVlLlxuICpcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSAkZXJyb3IgQW4gb2JqZWN0IGhhc2ggd2l0aCBhbGwgZmFpbGluZyB2YWxpZGF0b3IgaWRzIGFzIGtleXMuXG4gKiBAcHJvcGVydHkge09iamVjdH0gJHBlbmRpbmcgQW4gb2JqZWN0IGhhc2ggd2l0aCBhbGwgcGVuZGluZyB2YWxpZGF0b3IgaWRzIGFzIGtleXMuXG4gKlxuICogQHByb3BlcnR5IHtib29sZWFufSAkdW50b3VjaGVkIFRydWUgaWYgY29udHJvbCBoYXMgbm90IGxvc3QgZm9jdXMgeWV0LlxuICogQHByb3BlcnR5IHtib29sZWFufSAkdG91Y2hlZCBUcnVlIGlmIGNvbnRyb2wgaGFzIGxvc3QgZm9jdXMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRwcmlzdGluZSBUcnVlIGlmIHVzZXIgaGFzIG5vdCBpbnRlcmFjdGVkIHdpdGggdGhlIGNvbnRyb2wgeWV0LlxuICogQHByb3BlcnR5IHtib29sZWFufSAkZGlydHkgVHJ1ZSBpZiB1c2VyIGhhcyBhbHJlYWR5IGludGVyYWN0ZWQgd2l0aCB0aGUgY29udHJvbC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHZhbGlkIFRydWUgaWYgdGhlcmUgaXMgbm8gZXJyb3IuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRpbnZhbGlkIFRydWUgaWYgYXQgbGVhc3Qgb25lIGVycm9yIG9uIHRoZSBjb250cm9sLlxuICogQHByb3BlcnR5IHtzdHJpbmd9ICRuYW1lIFRoZSBuYW1lIGF0dHJpYnV0ZSBvZiB0aGUgY29udHJvbC5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBgTmdNb2RlbENvbnRyb2xsZXJgIHByb3ZpZGVzIEFQSSBmb3IgdGhlIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0gZGlyZWN0aXZlLlxuICogVGhlIGNvbnRyb2xsZXIgY29udGFpbnMgc2VydmljZXMgZm9yIGRhdGEtYmluZGluZywgdmFsaWRhdGlvbiwgQ1NTIHVwZGF0ZXMsIGFuZCB2YWx1ZSBmb3JtYXR0aW5nXG4gKiBhbmQgcGFyc2luZy4gSXQgcHVycG9zZWZ1bGx5IGRvZXMgbm90IGNvbnRhaW4gYW55IGxvZ2ljIHdoaWNoIGRlYWxzIHdpdGggRE9NIHJlbmRlcmluZyBvclxuICogbGlzdGVuaW5nIHRvIERPTSBldmVudHMuXG4gKiBTdWNoIERPTSByZWxhdGVkIGxvZ2ljIHNob3VsZCBiZSBwcm92aWRlZCBieSBvdGhlciBkaXJlY3RpdmVzIHdoaWNoIG1ha2UgdXNlIG9mXG4gKiBgTmdNb2RlbENvbnRyb2xsZXJgIGZvciBkYXRhLWJpbmRpbmcgdG8gY29udHJvbCBlbGVtZW50cy5cbiAqIEFuZ3VsYXJKUyBwcm92aWRlcyB0aGlzIERPTSBsb2dpYyBmb3IgbW9zdCB7QGxpbmsgaW5wdXQgYGlucHV0YH0gZWxlbWVudHMuXG4gKiBBdCB0aGUgZW5kIG9mIHRoaXMgcGFnZSB5b3UgY2FuIGZpbmQgYSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciNjdXN0b20tY29udHJvbC1leGFtcGxlXG4gKiBjdXN0b20gY29udHJvbCBleGFtcGxlfSB0aGF0IHVzZXMgYG5nTW9kZWxDb250cm9sbGVyYCB0byBiaW5kIHRvIGBjb250ZW50ZWRpdGFibGVgIGVsZW1lbnRzLlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgQ3VzdG9tIENvbnRyb2wgRXhhbXBsZVxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYE5nTW9kZWxDb250cm9sbGVyYCB3aXRoIGEgY3VzdG9tIGNvbnRyb2wgdG8gYWNoaWV2ZVxuICogZGF0YS1iaW5kaW5nLiBOb3RpY2UgaG93IGRpZmZlcmVudCBkaXJlY3RpdmVzIChgY29udGVudGVkaXRhYmxlYCwgYG5nLW1vZGVsYCwgYW5kIGByZXF1aXJlZGApXG4gKiBjb2xsYWJvcmF0ZSB0b2dldGhlciB0byBhY2hpZXZlIHRoZSBkZXNpcmVkIHJlc3VsdC5cbiAqXG4gKiBgY29udGVudGVkaXRhYmxlYCBpcyBhbiBIVE1MNSBhdHRyaWJ1dGUsIHdoaWNoIHRlbGxzIHRoZSBicm93c2VyIHRvIGxldCB0aGUgZWxlbWVudFxuICogY29udGVudHMgYmUgZWRpdGVkIGluIHBsYWNlIGJ5IHRoZSB1c2VyLlxuICpcbiAqIFdlIGFyZSB1c2luZyB0aGUge0BsaW5rIG5nLnNlcnZpY2U6JHNjZSAkc2NlfSBzZXJ2aWNlIGhlcmUgYW5kIGluY2x1ZGUgdGhlIHtAbGluayBuZ1Nhbml0aXplICRzYW5pdGl6ZX1cbiAqIG1vZHVsZSB0byBhdXRvbWF0aWNhbGx5IHJlbW92ZSBcImJhZFwiIGNvbnRlbnQgbGlrZSBpbmxpbmUgZXZlbnQgbGlzdGVuZXIgKGUuZy4gYDxzcGFuIG9uY2xpY2s9XCIuLi5cIj5gKS5cbiAqIEhvd2V2ZXIsIGFzIHdlIGFyZSB1c2luZyBgJHNjZWAgdGhlIG1vZGVsIGNhbiBzdGlsbCBkZWNpZGUgdG8gcHJvdmlkZSB1bnNhZmUgY29udGVudCBpZiBpdCBtYXJrc1xuICogdGhhdCBjb250ZW50IHVzaW5nIHRoZSBgJHNjZWAgc2VydmljZS5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwiTmdNb2RlbENvbnRyb2xsZXJcIiBtb2R1bGU9XCJjdXN0b21Db250cm9sXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIj5cbiAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICBbY29udGVudGVkaXRhYmxlXSB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgbWluLWhlaWdodDogMjBweDtcbiAgICAgIH1cblxuICAgICAgLm5nLWludmFsaWQge1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XG4gICAgICB9XG5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2N1c3RvbUNvbnRyb2wnLCBbJ25nU2FuaXRpemUnXSkuXG4gICAgICAgIGRpcmVjdGl2ZSgnY29udGVudGVkaXRhYmxlJywgWyckc2NlJywgZnVuY3Rpb24oJHNjZSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLCAvLyBvbmx5IGFjdGl2YXRlIG9uIGVsZW1lbnQgYXR0cmlidXRlXG4gICAgICAgICAgICByZXF1aXJlOiAnP25nTW9kZWwnLCAvLyBnZXQgYSBob2xkIG9mIE5nTW9kZWxDb250cm9sbGVyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcbiAgICAgICAgICAgICAgaWYgKCFuZ01vZGVsKSByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcblxuICAgICAgICAgICAgICAvLyBTcGVjaWZ5IGhvdyBVSSBzaG91bGQgYmUgdXBkYXRlZFxuICAgICAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50Lmh0bWwoJHNjZS5nZXRUcnVzdGVkSHRtbChuZ01vZGVsLiR2aWV3VmFsdWUgfHwgJycpKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAvLyBMaXN0ZW4gZm9yIGNoYW5nZSBldmVudHMgdG8gZW5hYmxlIGJpbmRpbmdcbiAgICAgICAgICAgICAgZWxlbWVudC5vbignYmx1ciBrZXl1cCBjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKHJlYWQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmVhZCgpOyAvLyBpbml0aWFsaXplXG5cbiAgICAgICAgICAgICAgLy8gV3JpdGUgZGF0YSB0byB0aGUgbW9kZWxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gcmVhZCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGVsZW1lbnQuaHRtbCgpO1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gd2UgY2xlYXIgdGhlIGNvbnRlbnQgZWRpdGFibGUgdGhlIGJyb3dzZXIgbGVhdmVzIGEgPGJyPiBiZWhpbmRcbiAgICAgICAgICAgICAgICAvLyBJZiBzdHJpcC1iciBhdHRyaWJ1dGUgaXMgcHJvdmlkZWQgdGhlbiB3ZSBzdHJpcCB0aGlzIG91dFxuICAgICAgICAgICAgICAgIGlmIChhdHRycy5zdHJpcEJyICYmIGh0bWwgPT09ICc8YnI+Jykge1xuICAgICAgICAgICAgICAgICAgaHRtbCA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoaHRtbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XSk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XG4gICAgICAgPGRpdiBjb250ZW50ZWRpdGFibGVcbiAgICAgICAgICAgIG5hbWU9XCJteVdpZGdldFwiIG5nLW1vZGVsPVwidXNlckNvbnRlbnRcIlxuICAgICAgICAgICAgc3RyaXAtYnI9XCJ0cnVlXCJcbiAgICAgICAgICAgIHJlcXVpcmVkPkNoYW5nZSBtZSE8L2Rpdj5cbiAgICAgICAgPHNwYW4gbmctc2hvdz1cIm15Rm9ybS5teVdpZGdldC4kZXJyb3IucmVxdWlyZWRcIj5SZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgPGhyPlxuICAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cInVzZXJDb250ZW50XCIgYXJpYS1sYWJlbD1cIkR5bmFtaWMgdGV4dGFyZWFcIj48L3RleHRhcmVhPlxuICAgICAgPC9mb3JtPlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgaXQoJ3Nob3VsZCBkYXRhLWJpbmQgYW5kIGJlY29tZSBpbnZhbGlkJywgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PT0gJ3NhZmFyaScgfHwgYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PT0gJ2ZpcmVmb3gnKSB7XG4gICAgICAgIC8vIFNhZmFyaURyaXZlciBjYW4ndCBoYW5kbGUgY29udGVudGVkaXRhYmxlXG4gICAgICAgIC8vIGFuZCBGaXJlZm94IGRyaXZlciBjYW4ndCBjbGVhciBjb250ZW50ZWRpdGFibGVzIHZlcnkgd2VsbFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgY29udGVudEVkaXRhYmxlID0gZWxlbWVudChieS5jc3MoJ1tjb250ZW50ZWRpdGFibGVdJykpO1xuICAgICAgdmFyIGNvbnRlbnQgPSAnQ2hhbmdlIG1lISc7XG5cbiAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0VGV4dCgpKS50b0VxdWFsKGNvbnRlbnQpO1xuXG4gICAgICBjb250ZW50RWRpdGFibGUuY2xlYXIoKTtcbiAgICAgIGNvbnRlbnRFZGl0YWJsZS5zZW5kS2V5cyhwcm90cmFjdG9yLktleS5CQUNLX1NQQUNFKTtcbiAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0VGV4dCgpKS50b0VxdWFsKCcnKTtcbiAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b01hdGNoKC9uZy1pbnZhbGlkLXJlcXVpcmVkLyk7XG4gICAgfSk7XG4gICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqXG4gKi9cbk5nTW9kZWxDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckZXhjZXB0aW9uSGFuZGxlcicsICckYXR0cnMnLCAnJGVsZW1lbnQnLCAnJHBhcnNlJywgJyRhbmltYXRlJywgJyR0aW1lb3V0JywgJyRxJywgJyRpbnRlcnBvbGF0ZSddO1xuZnVuY3Rpb24gTmdNb2RlbENvbnRyb2xsZXIoJHNjb3BlLCAkZXhjZXB0aW9uSGFuZGxlciwgJGF0dHIsICRlbGVtZW50LCAkcGFyc2UsICRhbmltYXRlLCAkdGltZW91dCwgJHEsICRpbnRlcnBvbGF0ZSkge1xuICB0aGlzLiR2aWV3VmFsdWUgPSBOdW1iZXIuTmFOO1xuICB0aGlzLiRtb2RlbFZhbHVlID0gTnVtYmVyLk5hTjtcbiAgdGhpcy4kJHJhd01vZGVsVmFsdWUgPSB1bmRlZmluZWQ7IC8vIHN0b3JlcyB0aGUgcGFyc2VkIG1vZGVsVmFsdWUgLyBtb2RlbCBzZXQgZnJvbSBzY29wZSByZWdhcmRsZXNzIG9mIHZhbGlkaXR5LlxuICB0aGlzLiR2YWxpZGF0b3JzID0ge307XG4gIHRoaXMuJGFzeW5jVmFsaWRhdG9ycyA9IHt9O1xuICB0aGlzLiRwYXJzZXJzID0gW107XG4gIHRoaXMuJGZvcm1hdHRlcnMgPSBbXTtcbiAgdGhpcy4kdmlld0NoYW5nZUxpc3RlbmVycyA9IFtdO1xuICB0aGlzLiR1bnRvdWNoZWQgPSB0cnVlO1xuICB0aGlzLiR0b3VjaGVkID0gZmFsc2U7XG4gIHRoaXMuJHByaXN0aW5lID0gdHJ1ZTtcbiAgdGhpcy4kZGlydHkgPSBmYWxzZTtcbiAgdGhpcy4kdmFsaWQgPSB0cnVlO1xuICB0aGlzLiRpbnZhbGlkID0gZmFsc2U7XG4gIHRoaXMuJGVycm9yID0ge307IC8vIGtlZXAgaW52YWxpZCBrZXlzIGhlcmVcbiAgdGhpcy4kJHN1Y2Nlc3MgPSB7fTsgLy8ga2VlcCB2YWxpZCBrZXlzIGhlcmVcbiAgdGhpcy4kcGVuZGluZyA9IHVuZGVmaW5lZDsgLy8ga2VlcCBwZW5kaW5nIGtleXMgaGVyZVxuICB0aGlzLiRuYW1lID0gJGludGVycG9sYXRlKCRhdHRyLm5hbWUgfHwgJycsIGZhbHNlKSgkc2NvcGUpO1xuICB0aGlzLiQkcGFyZW50Rm9ybSA9IG51bGxGb3JtQ3RybDtcbiAgdGhpcy4kb3B0aW9ucyA9IGRlZmF1bHRNb2RlbE9wdGlvbnM7XG4gIHRoaXMuJCR1cGRhdGVFdmVudHMgPSAnJztcbiAgLy8gQXR0YWNoIHRoZSBjb3JyZWN0IGNvbnRleHQgdG8gdGhlIGV2ZW50IGhhbmRsZXIgZnVuY3Rpb24gZm9yIHVwZGF0ZU9uXG4gIHRoaXMuJCR1cGRhdGVFdmVudEhhbmRsZXIgPSB0aGlzLiQkdXBkYXRlRXZlbnRIYW5kbGVyLmJpbmQodGhpcyk7XG5cbiAgdGhpcy4kJHBhcnNlZE5nTW9kZWwgPSAkcGFyc2UoJGF0dHIubmdNb2RlbCk7XG4gIHRoaXMuJCRwYXJzZWROZ01vZGVsQXNzaWduID0gdGhpcy4kJHBhcnNlZE5nTW9kZWwuYXNzaWduO1xuICB0aGlzLiQkbmdNb2RlbEdldCA9IHRoaXMuJCRwYXJzZWROZ01vZGVsO1xuICB0aGlzLiQkbmdNb2RlbFNldCA9IHRoaXMuJCRwYXJzZWROZ01vZGVsQXNzaWduO1xuICB0aGlzLiQkcGVuZGluZ0RlYm91bmNlID0gbnVsbDtcbiAgdGhpcy4kJHBhcnNlclZhbGlkID0gdW5kZWZpbmVkO1xuICB0aGlzLiQkcGFyc2VyTmFtZSA9ICdwYXJzZSc7XG5cbiAgdGhpcy4kJGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQgPSAwO1xuXG4gIHRoaXMuJCRzY29wZSA9ICRzY29wZTtcbiAgdGhpcy4kJHJvb3RTY29wZSA9ICRzY29wZS4kcm9vdDtcbiAgdGhpcy4kJGF0dHIgPSAkYXR0cjtcbiAgdGhpcy4kJGVsZW1lbnQgPSAkZWxlbWVudDtcbiAgdGhpcy4kJGFuaW1hdGUgPSAkYW5pbWF0ZTtcbiAgdGhpcy4kJHRpbWVvdXQgPSAkdGltZW91dDtcbiAgdGhpcy4kJHBhcnNlID0gJHBhcnNlO1xuICB0aGlzLiQkcSA9ICRxO1xuICB0aGlzLiQkZXhjZXB0aW9uSGFuZGxlciA9ICRleGNlcHRpb25IYW5kbGVyO1xuXG4gIHNldHVwVmFsaWRpdHkodGhpcyk7XG4gIHNldHVwTW9kZWxXYXRjaGVyKHRoaXMpO1xufVxuXG5OZ01vZGVsQ29udHJvbGxlci5wcm90b3R5cGUgPSB7XG4gICQkaW5pdEdldHRlclNldHRlcnM6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLiRvcHRpb25zLmdldE9wdGlvbignZ2V0dGVyU2V0dGVyJykpIHtcbiAgICAgIHZhciBpbnZva2VNb2RlbEdldHRlciA9IHRoaXMuJCRwYXJzZSh0aGlzLiQkYXR0ci5uZ01vZGVsICsgJygpJyksXG4gICAgICAgICAgaW52b2tlTW9kZWxTZXR0ZXIgPSB0aGlzLiQkcGFyc2UodGhpcy4kJGF0dHIubmdNb2RlbCArICcoJCQkcCknKTtcblxuICAgICAgdGhpcy4kJG5nTW9kZWxHZXQgPSBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgdmFyIG1vZGVsVmFsdWUgPSB0aGlzLiQkcGFyc2VkTmdNb2RlbCgkc2NvcGUpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihtb2RlbFZhbHVlKSkge1xuICAgICAgICAgIG1vZGVsVmFsdWUgPSBpbnZva2VNb2RlbEdldHRlcigkc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb2RlbFZhbHVlO1xuICAgICAgfTtcbiAgICAgIHRoaXMuJCRuZ01vZGVsU2V0ID0gZnVuY3Rpb24oJHNjb3BlLCBuZXdWYWx1ZSkge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLiQkcGFyc2VkTmdNb2RlbCgkc2NvcGUpKSkge1xuICAgICAgICAgIGludm9rZU1vZGVsU2V0dGVyKCRzY29wZSwgeyQkJHA6IG5ld1ZhbHVlfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy4kJHBhcnNlZE5nTW9kZWxBc3NpZ24oJHNjb3BlLCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICghdGhpcy4kJHBhcnNlZE5nTW9kZWwuYXNzaWduKSB7XG4gICAgICB0aHJvdyBuZ01vZGVsTWluRXJyKCdub25hc3NpZ24nLCAnRXhwcmVzc2lvbiBcXCd7MH1cXCcgaXMgbm9uLWFzc2lnbmFibGUuIEVsZW1lbnQ6IHsxfScsXG4gICAgICAgICAgdGhpcy4kJGF0dHIubmdNb2RlbCwgc3RhcnRpbmdUYWcodGhpcy4kJGVsZW1lbnQpKTtcbiAgICB9XG4gIH0sXG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRyZW5kZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENhbGxlZCB3aGVuIHRoZSB2aWV3IG5lZWRzIHRvIGJlIHVwZGF0ZWQuIEl0IGlzIGV4cGVjdGVkIHRoYXQgdGhlIHVzZXIgb2YgdGhlIG5nLW1vZGVsXG4gICAqIGRpcmVjdGl2ZSB3aWxsIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogVGhlIGAkcmVuZGVyKClgIG1ldGhvZCBpcyBpbnZva2VkIGluIHRoZSBmb2xsb3dpbmcgc2l0dWF0aW9uczpcbiAgICpcbiAgICogKiBgJHJvbGxiYWNrVmlld1ZhbHVlKClgIGlzIGNhbGxlZC4gIElmIHdlIGFyZSByb2xsaW5nIGJhY2sgdGhlIHZpZXcgdmFsdWUgdG8gdGhlIGxhc3RcbiAgICogICBjb21taXR0ZWQgdmFsdWUgdGhlbiBgJHJlbmRlcigpYCBpcyBjYWxsZWQgdG8gdXBkYXRlIHRoZSBpbnB1dCBjb250cm9sLlxuICAgKiAqIFRoZSB2YWx1ZSByZWZlcmVuY2VkIGJ5IGBuZy1tb2RlbGAgaXMgY2hhbmdlZCBwcm9ncmFtbWF0aWNhbGx5IGFuZCBib3RoIHRoZSBgJG1vZGVsVmFsdWVgIGFuZFxuICAgKiAgIHRoZSBgJHZpZXdWYWx1ZWAgYXJlIGRpZmZlcmVudCBmcm9tIGxhc3QgdGltZS5cbiAgICpcbiAgICogU2luY2UgYG5nLW1vZGVsYCBkb2VzIG5vdCBkbyBhIGRlZXAgd2F0Y2gsIGAkcmVuZGVyKClgIGlzIG9ubHkgaW52b2tlZCBpZiB0aGUgdmFsdWVzIG9mXG4gICAqIGAkbW9kZWxWYWx1ZWAgYW5kIGAkdmlld1ZhbHVlYCBhcmUgYWN0dWFsbHkgZGlmZmVyZW50IGZyb20gdGhlaXIgcHJldmlvdXMgdmFsdWVzLiBJZiBgJG1vZGVsVmFsdWVgXG4gICAqIG9yIGAkdmlld1ZhbHVlYCBhcmUgb2JqZWN0cyAocmF0aGVyIHRoYW4gYSBzdHJpbmcgb3IgbnVtYmVyKSB0aGVuIGAkcmVuZGVyKClgIHdpbGwgbm90IGJlXG4gICAqIGludm9rZWQgaWYgeW91IG9ubHkgY2hhbmdlIGEgcHJvcGVydHkgb24gdGhlIG9iamVjdHMuXG4gICAqL1xuICAkcmVuZGVyOiBub29wLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJGlzRW1wdHlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gd2UgbmVlZCB0byBkZXRlcm1pbmUgaWYgdGhlIHZhbHVlIG9mIGFuIGlucHV0IGlzIGVtcHR5LlxuICAgKlxuICAgKiBGb3IgaW5zdGFuY2UsIHRoZSByZXF1aXJlZCBkaXJlY3RpdmUgZG9lcyB0aGlzIHRvIHdvcmsgb3V0IGlmIHRoZSBpbnB1dCBoYXMgZGF0YSBvciBub3QuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IGAkaXNFbXB0eWAgZnVuY3Rpb24gY2hlY2tzIHdoZXRoZXIgdGhlIHZhbHVlIGlzIGB1bmRlZmluZWRgLCBgJydgLCBgbnVsbGAgb3IgYE5hTmAuXG4gICAqXG4gICAqIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBmb3IgaW5wdXQgZGlyZWN0aXZlcyB3aG9zZSBjb25jZXB0IG9mIGJlaW5nIGVtcHR5IGlzIGRpZmZlcmVudCBmcm9tIHRoZVxuICAgKiBkZWZhdWx0LiBUaGUgYGNoZWNrYm94SW5wdXRUeXBlYCBkaXJlY3RpdmUgZG9lcyB0aGlzIGJlY2F1c2UgaW4gaXRzIGNhc2UgYSB2YWx1ZSBvZiBgZmFsc2VgXG4gICAqIGltcGxpZXMgZW1wdHkuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBpbnB1dCB0byBjaGVjayBmb3IgZW1wdGluZXNzLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIFwiZW1wdHlcIi5cbiAgICovXG4gICRpc0VtcHR5OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICByZXR1cm4gaXNVbmRlZmluZWQodmFsdWUpIHx8IHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWU7XG4gIH0sXG5cbiAgJCR1cGRhdGVFbXB0eUNsYXNzZXM6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuJGlzRW1wdHkodmFsdWUpKSB7XG4gICAgICB0aGlzLiQkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCwgTk9UX0VNUFRZX0NMQVNTKTtcbiAgICAgIHRoaXMuJCRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCBFTVBUWV9DTEFTUyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuJCRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LCBFTVBUWV9DTEFTUyk7XG4gICAgICB0aGlzLiQkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgTk9UX0VNUFRZX0NMQVNTKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0UHJpc3RpbmVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIHByaXN0aW5lIHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgYG5nLWRpcnR5YCBjbGFzcyBhbmQgc2V0IHRoZSBjb250cm9sIHRvIGl0cyBwcmlzdGluZVxuICAgKiBzdGF0ZSAoYG5nLXByaXN0aW5lYCBjbGFzcykuIEEgbW9kZWwgaXMgY29uc2lkZXJlZCB0byBiZSBwcmlzdGluZSB3aGVuIHRoZSBjb250cm9sXG4gICAqIGhhcyBub3QgYmVlbiBjaGFuZ2VkIGZyb20gd2hlbiBmaXJzdCBjb21waWxlZC5cbiAgICovXG4gICRzZXRQcmlzdGluZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZGlydHkgPSBmYWxzZTtcbiAgICB0aGlzLiRwcmlzdGluZSA9IHRydWU7XG4gICAgdGhpcy4kJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIERJUlRZX0NMQVNTKTtcbiAgICB0aGlzLiQkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgUFJJU1RJTkVfQ0xBU1MpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldERpcnR5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBjb250cm9sIHRvIGl0cyBkaXJ0eSBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGBuZy1wcmlzdGluZWAgY2xhc3MgYW5kIHNldCB0aGUgY29udHJvbCB0byBpdHMgZGlydHlcbiAgICogc3RhdGUgKGBuZy1kaXJ0eWAgY2xhc3MpLiBBIG1vZGVsIGlzIGNvbnNpZGVyZWQgdG8gYmUgZGlydHkgd2hlbiB0aGUgY29udHJvbCBoYXMgYmVlbiBjaGFuZ2VkXG4gICAqIGZyb20gd2hlbiBmaXJzdCBjb21waWxlZC5cbiAgICovXG4gICRzZXREaXJ0eTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZGlydHkgPSB0cnVlO1xuICAgIHRoaXMuJHByaXN0aW5lID0gZmFsc2U7XG4gICAgdGhpcy4kJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTKTtcbiAgICB0aGlzLiQkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgRElSVFlfQ0xBU1MpO1xuICAgIHRoaXMuJCRwYXJlbnRGb3JtLiRzZXREaXJ0eSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFVudG91Y2hlZFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgY29udHJvbCB0byBpdHMgdW50b3VjaGVkIHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgYG5nLXRvdWNoZWRgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzXG4gICAqIHVudG91Y2hlZCBzdGF0ZSAoYG5nLXVudG91Y2hlZGAgY2xhc3MpLiBVcG9uIGNvbXBpbGF0aW9uLCBhIG1vZGVsIGlzIHNldCBhcyB1bnRvdWNoZWRcbiAgICogYnkgZGVmYXVsdCwgaG93ZXZlciB0aGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIHJlc3RvcmUgdGhhdCBzdGF0ZSBpZiB0aGUgbW9kZWwgaGFzXG4gICAqIGFscmVhZHkgYmVlbiB0b3VjaGVkIGJ5IHRoZSB1c2VyLlxuICAgKi9cbiAgJHNldFVudG91Y2hlZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kdG91Y2hlZCA9IGZhbHNlO1xuICAgIHRoaXMuJHVudG91Y2hlZCA9IHRydWU7XG4gICAgdGhpcy4kJGFuaW1hdGUuc2V0Q2xhc3ModGhpcy4kJGVsZW1lbnQsIFVOVE9VQ0hFRF9DTEFTUywgVE9VQ0hFRF9DTEFTUyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0VG91Y2hlZFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgY29udHJvbCB0byBpdHMgdG91Y2hlZCBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGBuZy11bnRvdWNoZWRgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzXG4gICAqIHRvdWNoZWQgc3RhdGUgKGBuZy10b3VjaGVkYCBjbGFzcykuIEEgbW9kZWwgaXMgY29uc2lkZXJlZCB0byBiZSB0b3VjaGVkIHdoZW4gdGhlIHVzZXIgaGFzXG4gICAqIGZpcnN0IGZvY3VzZWQgdGhlIGNvbnRyb2wgZWxlbWVudCBhbmQgdGhlbiBzaGlmdGVkIGZvY3VzIGF3YXkgZnJvbSB0aGUgY29udHJvbCAoYmx1ciBldmVudCkuXG4gICAqL1xuICAkc2V0VG91Y2hlZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kdG91Y2hlZCA9IHRydWU7XG4gICAgdGhpcy4kdW50b3VjaGVkID0gZmFsc2U7XG4gICAgdGhpcy4kJGFuaW1hdGUuc2V0Q2xhc3ModGhpcy4kJGVsZW1lbnQsIFRPVUNIRURfQ0xBU1MsIFVOVE9VQ0hFRF9DTEFTUyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkcm9sbGJhY2tWaWV3VmFsdWVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENhbmNlbCBhbiB1cGRhdGUgYW5kIHJlc2V0IHRoZSBpbnB1dCBlbGVtZW50J3MgdmFsdWUgdG8gcHJldmVudCBhbiB1cGRhdGUgdG8gdGhlIGAkbW9kZWxWYWx1ZWAsXG4gICAqIHdoaWNoIG1heSBiZSBjYXVzZWQgYnkgYSBwZW5kaW5nIGRlYm91bmNlZCBldmVudCBvciBiZWNhdXNlIHRoZSBpbnB1dCBpcyB3YWl0aW5nIGZvciBzb21lXG4gICAqIGZ1dHVyZSBldmVudC5cbiAgICpcbiAgICogSWYgeW91IGhhdmUgYW4gaW5wdXQgdGhhdCB1c2VzIGBuZy1tb2RlbC1vcHRpb25zYCB0byBzZXQgdXAgZGVib3VuY2VkIHVwZGF0ZXMgb3IgdXBkYXRlcyB0aGF0XG4gICAqIGRlcGVuZCBvbiBzcGVjaWFsIGV2ZW50cyBzdWNoIGFzIGBibHVyYCwgdGhlcmUgY2FuIGJlIGEgcGVyaW9kIHdoZW4gdGhlIGAkdmlld1ZhbHVlYCBpcyBvdXQgb2ZcbiAgICogc3luYyB3aXRoIHRoZSBuZ01vZGVsJ3MgYCRtb2RlbFZhbHVlYC5cbiAgICpcbiAgICogSW4gdGhpcyBjYXNlLCB5b3UgY2FuIHVzZSBgJHJvbGxiYWNrVmlld1ZhbHVlKClgIHRvIG1hbnVhbGx5IGNhbmNlbCB0aGUgZGVib3VuY2VkIC8gZnV0dXJlIHVwZGF0ZVxuICAgKiBhbmQgcmVzZXQgdGhlIGlucHV0IHRvIHRoZSBsYXN0IGNvbW1pdHRlZCB2aWV3IHZhbHVlLlxuICAgKlxuICAgKiBJdCBpcyBhbHNvIHBvc3NpYmxlIHRoYXQgeW91IHJ1biBpbnRvIGRpZmZpY3VsdGllcyBpZiB5b3UgdHJ5IHRvIHVwZGF0ZSB0aGUgbmdNb2RlbCdzIGAkbW9kZWxWYWx1ZWBcbiAgICogcHJvZ3JhbW1hdGljYWxseSBiZWZvcmUgdGhlc2UgZGVib3VuY2VkL2Z1dHVyZSBldmVudHMgaGF2ZSByZXNvbHZlZC9vY2N1cnJlZCwgYmVjYXVzZSBBbmd1bGFySlMnc1xuICAgKiBkaXJ0eSBjaGVja2luZyBtZWNoYW5pc20gaXMgbm90IGFibGUgdG8gdGVsbCB3aGV0aGVyIHRoZSBtb2RlbCBoYXMgYWN0dWFsbHkgY2hhbmdlZCBvciBub3QuXG4gICAqXG4gICAqIFRoZSBgJHJvbGxiYWNrVmlld1ZhbHVlKClgIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSBwcm9ncmFtbWF0aWNhbGx5IGNoYW5naW5nIHRoZSBtb2RlbCBvZiBhblxuICAgKiBpbnB1dCB3aGljaCBtYXkgaGF2ZSBzdWNoIGV2ZW50cyBwZW5kaW5nLiBUaGlzIGlzIGltcG9ydGFudCBpbiBvcmRlciB0byBtYWtlIHN1cmUgdGhhdCB0aGVcbiAgICogaW5wdXQgZmllbGQgd2lsbCBiZSB1cGRhdGVkIHdpdGggdGhlIG5ldyBtb2RlbCB2YWx1ZSBhbmQgYW55IHBlbmRpbmcgb3BlcmF0aW9ucyBhcmUgY2FuY2VsbGVkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiA8ZXhhbXBsZSBuYW1lPVwibmctbW9kZWwtY2FuY2VsLXVwZGF0ZVwiIG1vZHVsZT1cImNhbmNlbC11cGRhdGUtZXhhbXBsZVwiPlxuICAgKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdjYW5jZWwtdXBkYXRlLWV4YW1wbGUnLCBbXSlcbiAgICpcbiAgICogICAgIC5jb250cm9sbGVyKCdDYW5jZWxVcGRhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICogICAgICAgJHNjb3BlLm1vZGVsID0ge3ZhbHVlMTogJycsIHZhbHVlMjogJyd9O1xuICAgKlxuICAgKiAgICAgICAkc2NvcGUuc2V0RW1wdHkgPSBmdW5jdGlvbihlLCB2YWx1ZSwgcm9sbGJhY2spIHtcbiAgICogICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAyNykge1xuICAgKiAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgKiAgICAgICAgICAgaWYgKHJvbGxiYWNrKSB7XG4gICAqICAgICAgICAgICAgICRzY29wZS5teUZvcm1bdmFsdWVdLiRyb2xsYmFja1ZpZXdWYWx1ZSgpO1xuICAgKiAgICAgICAgICAgfVxuICAgKiAgICAgICAgICAgJHNjb3BlLm1vZGVsW3ZhbHVlXSA9ICcnO1xuICAgKiAgICAgICAgIH1cbiAgICogICAgICAgfTtcbiAgICogICAgIH1dKTtcbiAgICogICA8L2ZpbGU+XG4gICAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkNhbmNlbFVwZGF0ZUNvbnRyb2xsZXJcIj5cbiAgICogICAgICAgPHA+Qm90aCBvZiB0aGVzZSBpbnB1dHMgYXJlIG9ubHkgdXBkYXRlZCBpZiB0aGV5IGFyZSBibHVycmVkLiBIaXR0aW5nIGVzY2FwZSBzaG91bGRcbiAgICogICAgICAgZW1wdHkgdGhlbS4gRm9sbG93IHRoZXNlIHN0ZXBzIGFuZCBvYnNlcnZlIHRoZSBkaWZmZXJlbmNlOjwvcD5cbiAgICogICAgICAgPG9sPlxuICAgKiAgICAgICAgIDxsaT5UeXBlIHNvbWV0aGluZyBpbiB0aGUgaW5wdXQuIFlvdSB3aWxsIHNlZSB0aGF0IHRoZSBtb2RlbCBpcyBub3QgeWV0IHVwZGF0ZWQ8L2xpPlxuICAgKiAgICAgICAgIDxsaT5QcmVzcyB0aGUgRXNjYXBlIGtleS5cbiAgICogICAgICAgICAgIDxvbD5cbiAgICogICAgICAgICAgICAgPGxpPiBJbiB0aGUgZmlyc3QgZXhhbXBsZSwgbm90aGluZyBoYXBwZW5zLCBiZWNhdXNlIHRoZSBtb2RlbCBpcyBhbHJlYWR5ICcnLCBhbmQgbm9cbiAgICogICAgICAgICAgICAgdXBkYXRlIGlzIGRldGVjdGVkLiBJZiB5b3UgYmx1ciB0aGUgaW5wdXQsIHRoZSBtb2RlbCB3aWxsIGJlIHNldCB0byB0aGUgY3VycmVudCB2aWV3LlxuICAgKiAgICAgICAgICAgICA8L2xpPlxuICAgKiAgICAgICAgICAgICA8bGk+IEluIHRoZSBzZWNvbmQgZXhhbXBsZSwgdGhlIHBlbmRpbmcgdXBkYXRlIGlzIGNhbmNlbGxlZCwgYW5kIHRoZSBpbnB1dCBpcyBzZXQgYmFja1xuICAgKiAgICAgICAgICAgICB0byB0aGUgbGFzdCBjb21taXR0ZWQgdmlldyB2YWx1ZSAoJycpLiBCbHVycmluZyB0aGUgaW5wdXQgZG9lcyBub3RoaW5nLlxuICAgKiAgICAgICAgICAgICA8L2xpPlxuICAgKiAgICAgICAgICAgPC9vbD5cbiAgICogICAgICAgICA8L2xpPlxuICAgKiAgICAgICA8L29sPlxuICAgKlxuICAgKiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctbW9kZWwtb3B0aW9ucz1cInsgdXBkYXRlT246ICdibHVyJyB9XCI+XG4gICAqICAgICAgICAgPGRpdj5cbiAgICogICAgICAgICAgIDxwIGlkPVwiaW5wdXREZXNjcmlwdGlvbjFcIj5XaXRob3V0ICRyb2xsYmFja1ZpZXdWYWx1ZSgpOjwvcD5cbiAgICogICAgICAgICAgIDxpbnB1dCBuYW1lPVwidmFsdWUxXCIgYXJpYS1kZXNjcmliZWRieT1cImlucHV0RGVzY3JpcHRpb24xXCIgbmctbW9kZWw9XCJtb2RlbC52YWx1ZTFcIlxuICAgKiAgICAgICAgICAgICAgICAgIG5nLWtleWRvd249XCJzZXRFbXB0eSgkZXZlbnQsICd2YWx1ZTEnKVwiPlxuICAgKiAgICAgICAgICAgdmFsdWUxOiBcInt7IG1vZGVsLnZhbHVlMSB9fVwiXG4gICAqICAgICAgICAgPC9kaXY+XG4gICAqXG4gICAqICAgICAgICAgPGRpdj5cbiAgICogICAgICAgICAgIDxwIGlkPVwiaW5wdXREZXNjcmlwdGlvbjJcIj5XaXRoICRyb2xsYmFja1ZpZXdWYWx1ZSgpOjwvcD5cbiAgICogICAgICAgICAgIDxpbnB1dCBuYW1lPVwidmFsdWUyXCIgYXJpYS1kZXNjcmliZWRieT1cImlucHV0RGVzY3JpcHRpb24yXCIgbmctbW9kZWw9XCJtb2RlbC52YWx1ZTJcIlxuICAgKiAgICAgICAgICAgICAgICAgIG5nLWtleWRvd249XCJzZXRFbXB0eSgkZXZlbnQsICd2YWx1ZTInLCB0cnVlKVwiPlxuICAgKiAgICAgICAgICAgdmFsdWUyOiBcInt7IG1vZGVsLnZhbHVlMiB9fVwiXG4gICAqICAgICAgICAgPC9kaXY+XG4gICAqICAgICAgIDwvZm9ybT5cbiAgICogICAgIDwvZGl2PlxuICAgKiAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgICAgZGl2IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IHRhYmxlLWNlbGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRpdjpudGgtY2hpbGQoMSkge1xuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMzBweDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgPC9maWxlPlxuICAgKiA8L2V4YW1wbGU+XG4gICAqL1xuICAkcm9sbGJhY2tWaWV3VmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJCR0aW1lb3V0LmNhbmNlbCh0aGlzLiQkcGVuZGluZ0RlYm91bmNlKTtcbiAgICB0aGlzLiR2aWV3VmFsdWUgPSB0aGlzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtcbiAgICB0aGlzLiRyZW5kZXIoKTtcbiAgfSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUnVucyBlYWNoIG9mIHRoZSByZWdpc3RlcmVkIHZhbGlkYXRvcnMgKGZpcnN0IHN5bmNocm9ub3VzIHZhbGlkYXRvcnMgYW5kIHRoZW5cbiAgICogYXN5bmNocm9ub3VzIHZhbGlkYXRvcnMpLlxuICAgKiBJZiB0aGUgdmFsaWRpdHkgY2hhbmdlcyB0byBpbnZhbGlkLCB0aGUgbW9kZWwgd2lsbCBiZSBzZXQgdG8gYHVuZGVmaW5lZGAsXG4gICAqIHVubGVzcyB7QGxpbmsgbmdNb2RlbE9wdGlvbnMgYG5nTW9kZWxPcHRpb25zLmFsbG93SW52YWxpZGB9IGlzIGB0cnVlYC5cbiAgICogSWYgdGhlIHZhbGlkaXR5IGNoYW5nZXMgdG8gdmFsaWQsIGl0IHdpbGwgc2V0IHRoZSBtb2RlbCB0byB0aGUgbGFzdCBhdmFpbGFibGUgdmFsaWRcbiAgICogYCRtb2RlbFZhbHVlYCwgaS5lLiBlaXRoZXIgdGhlIGxhc3QgcGFyc2VkIHZhbHVlIG9yIHRoZSBsYXN0IHZhbHVlIHNldCBmcm9tIHRoZSBzY29wZS5cbiAgICovXG4gICR2YWxpZGF0ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAvLyBpZ25vcmUgJHZhbGlkYXRlIGJlZm9yZSBtb2RlbCBpcyBpbml0aWFsaXplZFxuICAgIGlmIChpc051bWJlck5hTih0aGlzLiRtb2RlbFZhbHVlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB2aWV3VmFsdWUgPSB0aGlzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtcbiAgICAvLyBOb3RlOiB3ZSB1c2UgdGhlICQkcmF3TW9kZWxWYWx1ZSBhcyAkbW9kZWxWYWx1ZSBtaWdodCBoYXZlIGJlZW5cbiAgICAvLyBzZXQgdG8gdW5kZWZpbmVkIGR1cmluZyBhIHZpZXcgLT4gbW9kZWwgdXBkYXRlIHRoYXQgZm91bmQgdmFsaWRhdGlvblxuICAgIC8vIGVycm9ycy4gV2UgY2FuJ3QgcGFyc2UgdGhlIHZpZXcgaGVyZSwgc2luY2UgdGhhdCBjb3VsZCBjaGFuZ2VcbiAgICAvLyB0aGUgbW9kZWwgYWx0aG91Z2ggbmVpdGhlciB2aWV3VmFsdWUgbm9yIHRoZSBtb2RlbCBvbiB0aGUgc2NvcGUgY2hhbmdlZFxuICAgIHZhciBtb2RlbFZhbHVlID0gdGhpcy4kJHJhd01vZGVsVmFsdWU7XG5cbiAgICB2YXIgcHJldlZhbGlkID0gdGhpcy4kdmFsaWQ7XG4gICAgdmFyIHByZXZNb2RlbFZhbHVlID0gdGhpcy4kbW9kZWxWYWx1ZTtcblxuICAgIHZhciBhbGxvd0ludmFsaWQgPSB0aGlzLiRvcHRpb25zLmdldE9wdGlvbignYWxsb3dJbnZhbGlkJyk7XG5cbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgdGhpcy4kJHJ1blZhbGlkYXRvcnMobW9kZWxWYWx1ZSwgdmlld1ZhbHVlLCBmdW5jdGlvbihhbGxWYWxpZCkge1xuICAgICAgLy8gSWYgdGhlcmUgd2FzIG5vIGNoYW5nZSBpbiB2YWxpZGl0eSwgZG9uJ3QgdXBkYXRlIHRoZSBtb2RlbFxuICAgICAgLy8gVGhpcyBwcmV2ZW50cyBjaGFuZ2luZyBhbiBpbnZhbGlkIG1vZGVsVmFsdWUgdG8gdW5kZWZpbmVkXG4gICAgICBpZiAoIWFsbG93SW52YWxpZCAmJiBwcmV2VmFsaWQgIT09IGFsbFZhbGlkKSB7XG4gICAgICAgIC8vIE5vdGU6IERvbid0IGNoZWNrIHRoaXMuJHZhbGlkIGhlcmUsIGFzIHdlIGNvdWxkIGhhdmVcbiAgICAgICAgLy8gZXh0ZXJuYWwgdmFsaWRhdG9ycyAoZS5nLiBjYWxjdWxhdGVkIG9uIHRoZSBzZXJ2ZXIpLFxuICAgICAgICAvLyB0aGF0IGp1c3QgY2FsbCAkc2V0VmFsaWRpdHkgYW5kIG5lZWQgdGhlIG1vZGVsIHZhbHVlXG4gICAgICAgIC8vIHRvIGNhbGN1bGF0ZSB0aGVpciB2YWxpZGl0eS5cbiAgICAgICAgdGhhdC4kbW9kZWxWYWx1ZSA9IGFsbFZhbGlkID8gbW9kZWxWYWx1ZSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAodGhhdC4kbW9kZWxWYWx1ZSAhPT0gcHJldk1vZGVsVmFsdWUpIHtcbiAgICAgICAgICB0aGF0LiQkd3JpdGVNb2RlbFRvU2NvcGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gICQkcnVuVmFsaWRhdG9yczogZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlLCBkb25lQ2FsbGJhY2spIHtcbiAgICB0aGlzLiQkY3VycmVudFZhbGlkYXRpb25SdW5JZCsrO1xuICAgIHZhciBsb2NhbFZhbGlkYXRpb25SdW5JZCA9IHRoaXMuJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkO1xuICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgIC8vIGNoZWNrIHBhcnNlciBlcnJvclxuICAgIGlmICghcHJvY2Vzc1BhcnNlRXJyb3JzKCkpIHtcbiAgICAgIHZhbGlkYXRpb25Eb25lKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFwcm9jZXNzU3luY1ZhbGlkYXRvcnMoKSkge1xuICAgICAgdmFsaWRhdGlvbkRvbmUoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwcm9jZXNzQXN5bmNWYWxpZGF0b3JzKCk7XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzUGFyc2VFcnJvcnMoKSB7XG4gICAgICB2YXIgZXJyb3JLZXkgPSB0aGF0LiQkcGFyc2VyTmFtZTtcblxuICAgICAgaWYgKGlzVW5kZWZpbmVkKHRoYXQuJCRwYXJzZXJWYWxpZCkpIHtcbiAgICAgICAgc2V0VmFsaWRpdHkoZXJyb3JLZXksIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF0aGF0LiQkcGFyc2VyVmFsaWQpIHtcbiAgICAgICAgICBmb3JFYWNoKHRoYXQuJHZhbGlkYXRvcnMsIGZ1bmN0aW9uKHYsIG5hbWUpIHtcbiAgICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIG51bGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZvckVhY2godGhhdC4kYXN5bmNWYWxpZGF0b3JzLCBmdW5jdGlvbih2LCBuYW1lKSB7XG4gICAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCBudWxsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgcGFyc2UgZXJyb3IgbGFzdCwgdG8gcHJldmVudCB1bnNldHRpbmcgaXQsIHNob3VsZCBhICR2YWxpZGF0b3JzIGtleSA9PSBwYXJzZXJOYW1lXG4gICAgICAgIHNldFZhbGlkaXR5KGVycm9yS2V5LCB0aGF0LiQkcGFyc2VyVmFsaWQpO1xuICAgICAgICByZXR1cm4gdGhhdC4kJHBhcnNlclZhbGlkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc1N5bmNWYWxpZGF0b3JzKCkge1xuICAgICAgdmFyIHN5bmNWYWxpZGF0b3JzVmFsaWQgPSB0cnVlO1xuICAgICAgZm9yRWFjaCh0aGF0LiR2YWxpZGF0b3JzLCBmdW5jdGlvbih2YWxpZGF0b3IsIG5hbWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IEJvb2xlYW4odmFsaWRhdG9yKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkpO1xuICAgICAgICBzeW5jVmFsaWRhdG9yc1ZhbGlkID0gc3luY1ZhbGlkYXRvcnNWYWxpZCAmJiByZXN1bHQ7XG4gICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIHJlc3VsdCk7XG4gICAgICB9KTtcbiAgICAgIGlmICghc3luY1ZhbGlkYXRvcnNWYWxpZCkge1xuICAgICAgICBmb3JFYWNoKHRoYXQuJGFzeW5jVmFsaWRhdG9ycywgZnVuY3Rpb24odiwgbmFtZSkge1xuICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0FzeW5jVmFsaWRhdG9ycygpIHtcbiAgICAgIHZhciB2YWxpZGF0b3JQcm9taXNlcyA9IFtdO1xuICAgICAgdmFyIGFsbFZhbGlkID0gdHJ1ZTtcbiAgICAgIGZvckVhY2godGhhdC4kYXN5bmNWYWxpZGF0b3JzLCBmdW5jdGlvbih2YWxpZGF0b3IsIG5hbWUpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSB2YWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKTtcbiAgICAgICAgaWYgKCFpc1Byb21pc2VMaWtlKHByb21pc2UpKSB7XG4gICAgICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignbm9wcm9taXNlJyxcbiAgICAgICAgICAgICdFeHBlY3RlZCBhc3luY2hyb25vdXMgdmFsaWRhdG9yIHRvIHJldHVybiBhIHByb21pc2UgYnV0IGdvdCBcXCd7MH1cXCcgaW5zdGVhZC4nLCBwcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCB1bmRlZmluZWQpO1xuICAgICAgICB2YWxpZGF0b3JQcm9taXNlcy5wdXNoKHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCB0cnVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgYWxsVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCBmYWxzZSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCF2YWxpZGF0b3JQcm9taXNlcy5sZW5ndGgpIHtcbiAgICAgICAgdmFsaWRhdGlvbkRvbmUodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGF0LiQkcS5hbGwodmFsaWRhdG9yUHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFsaWRhdGlvbkRvbmUoYWxsVmFsaWQpO1xuICAgICAgICB9LCBub29wKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRWYWxpZGl0eShuYW1lLCBpc1ZhbGlkKSB7XG4gICAgICBpZiAobG9jYWxWYWxpZGF0aW9uUnVuSWQgPT09IHRoYXQuJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkKSB7XG4gICAgICAgIHRoYXQuJHNldFZhbGlkaXR5KG5hbWUsIGlzVmFsaWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRpb25Eb25lKGFsbFZhbGlkKSB7XG4gICAgICBpZiAobG9jYWxWYWxpZGF0aW9uUnVuSWQgPT09IHRoYXQuJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkKSB7XG5cbiAgICAgICAgZG9uZUNhbGxiYWNrKGFsbFZhbGlkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkY29tbWl0Vmlld1ZhbHVlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDb21taXQgYSBwZW5kaW5nIHVwZGF0ZSB0byB0aGUgYCRtb2RlbFZhbHVlYC5cbiAgICpcbiAgICogVXBkYXRlcyBtYXkgYmUgcGVuZGluZyBieSBhIGRlYm91bmNlZCBldmVudCBvciBiZWNhdXNlIHRoZSBpbnB1dCBpcyB3YWl0aW5nIGZvciBhIHNvbWUgZnV0dXJlXG4gICAqIGV2ZW50IGRlZmluZWQgaW4gYG5nLW1vZGVsLW9wdGlvbnNgLiB0aGlzIG1ldGhvZCBpcyByYXJlbHkgbmVlZGVkIGFzIGBOZ01vZGVsQ29udHJvbGxlcmBcbiAgICogdXN1YWxseSBoYW5kbGVzIGNhbGxpbmcgdGhpcyBpbiByZXNwb25zZSB0byBpbnB1dCBldmVudHMuXG4gICAqL1xuICAkY29tbWl0Vmlld1ZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmlld1ZhbHVlID0gdGhpcy4kdmlld1ZhbHVlO1xuXG4gICAgdGhpcy4kJHRpbWVvdXQuY2FuY2VsKHRoaXMuJCRwZW5kaW5nRGVib3VuY2UpO1xuXG4gICAgLy8gSWYgdGhlIHZpZXcgdmFsdWUgaGFzIG5vdCBjaGFuZ2VkIHRoZW4gd2Ugc2hvdWxkIGp1c3QgZXhpdCwgZXhjZXB0IGluIHRoZSBjYXNlIHdoZXJlIHRoZXJlIGlzXG4gICAgLy8gYSBuYXRpdmUgdmFsaWRhdG9yIG9uIHRoZSBlbGVtZW50LiBJbiB0aGlzIGNhc2UgdGhlIHZhbGlkYXRpb24gc3RhdGUgbWF5IGhhdmUgY2hhbmdlZCBldmVuIHRob3VnaFxuICAgIC8vIHRoZSB2aWV3VmFsdWUgaGFzIHN0YXllZCBlbXB0eS5cbiAgICBpZiAodGhpcy4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgPT09IHZpZXdWYWx1ZSAmJiAodmlld1ZhbHVlICE9PSAnJyB8fCAhdGhpcy4kJGhhc05hdGl2ZVZhbGlkYXRvcnMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuJCR1cGRhdGVFbXB0eUNsYXNzZXModmlld1ZhbHVlKTtcbiAgICB0aGlzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSA9IHZpZXdWYWx1ZTtcblxuICAgIC8vIGNoYW5nZSB0byBkaXJ0eVxuICAgIGlmICh0aGlzLiRwcmlzdGluZSkge1xuICAgICAgdGhpcy4kc2V0RGlydHkoKTtcbiAgICB9XG4gICAgdGhpcy4kJHBhcnNlQW5kVmFsaWRhdGUoKTtcbiAgfSxcblxuICAkJHBhcnNlQW5kVmFsaWRhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2aWV3VmFsdWUgPSB0aGlzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtcbiAgICB2YXIgbW9kZWxWYWx1ZSA9IHZpZXdWYWx1ZTtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICB0aGlzLiQkcGFyc2VyVmFsaWQgPSBpc1VuZGVmaW5lZChtb2RlbFZhbHVlKSA/IHVuZGVmaW5lZCA6IHRydWU7XG5cbiAgICAvLyBSZXNldCBhbnkgcHJldmlvdXMgcGFyc2UgZXJyb3JcbiAgICB0aGlzLiRzZXRWYWxpZGl0eSh0aGlzLiQkcGFyc2VyTmFtZSwgbnVsbCk7XG4gICAgdGhpcy4kJHBhcnNlck5hbWUgPSAncGFyc2UnO1xuXG4gICAgaWYgKHRoaXMuJCRwYXJzZXJWYWxpZCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLiRwYXJzZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1vZGVsVmFsdWUgPSB0aGlzLiRwYXJzZXJzW2ldKG1vZGVsVmFsdWUpO1xuICAgICAgICBpZiAoaXNVbmRlZmluZWQobW9kZWxWYWx1ZSkpIHtcbiAgICAgICAgICB0aGlzLiQkcGFyc2VyVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNOdW1iZXJOYU4odGhpcy4kbW9kZWxWYWx1ZSkpIHtcbiAgICAgIC8vIHRoaXMuJG1vZGVsVmFsdWUgaGFzIG5vdCBiZWVuIHRvdWNoZWQgeWV0Li4uXG4gICAgICB0aGlzLiRtb2RlbFZhbHVlID0gdGhpcy4kJG5nTW9kZWxHZXQodGhpcy4kJHNjb3BlKTtcbiAgICB9XG4gICAgdmFyIHByZXZNb2RlbFZhbHVlID0gdGhpcy4kbW9kZWxWYWx1ZTtcbiAgICB2YXIgYWxsb3dJbnZhbGlkID0gdGhpcy4kb3B0aW9ucy5nZXRPcHRpb24oJ2FsbG93SW52YWxpZCcpO1xuICAgIHRoaXMuJCRyYXdNb2RlbFZhbHVlID0gbW9kZWxWYWx1ZTtcblxuICAgIGlmIChhbGxvd0ludmFsaWQpIHtcbiAgICAgIHRoaXMuJG1vZGVsVmFsdWUgPSBtb2RlbFZhbHVlO1xuICAgICAgd3JpdGVUb01vZGVsSWZOZWVkZWQoKTtcbiAgICB9XG5cbiAgICAvLyBQYXNzIHRoZSAkJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgaGVyZSwgYmVjYXVzZSB0aGUgY2FjaGVkIHZpZXdWYWx1ZSBtaWdodCBiZSBvdXQgb2YgZGF0ZS5cbiAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgZS5nLiAkc2V0Vmlld1ZhbHVlIGlzIGNhbGxlZCBmcm9tIGluc2lkZSBhIHBhcnNlclxuICAgIHRoaXMuJCRydW5WYWxpZGF0b3JzKG1vZGVsVmFsdWUsIHRoaXMuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlLCBmdW5jdGlvbihhbGxWYWxpZCkge1xuICAgICAgaWYgKCFhbGxvd0ludmFsaWQpIHtcbiAgICAgICAgLy8gTm90ZTogRG9uJ3QgY2hlY2sgdGhpcy4kdmFsaWQgaGVyZSwgYXMgd2UgY291bGQgaGF2ZVxuICAgICAgICAvLyBleHRlcm5hbCB2YWxpZGF0b3JzIChlLmcuIGNhbGN1bGF0ZWQgb24gdGhlIHNlcnZlciksXG4gICAgICAgIC8vIHRoYXQganVzdCBjYWxsICRzZXRWYWxpZGl0eSBhbmQgbmVlZCB0aGUgbW9kZWwgdmFsdWVcbiAgICAgICAgLy8gdG8gY2FsY3VsYXRlIHRoZWlyIHZhbGlkaXR5LlxuICAgICAgICB0aGF0LiRtb2RlbFZhbHVlID0gYWxsVmFsaWQgPyBtb2RlbFZhbHVlIDogdW5kZWZpbmVkO1xuICAgICAgICB3cml0ZVRvTW9kZWxJZk5lZWRlZCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gd3JpdGVUb01vZGVsSWZOZWVkZWQoKSB7XG4gICAgICBpZiAodGhhdC4kbW9kZWxWYWx1ZSAhPT0gcHJldk1vZGVsVmFsdWUpIHtcbiAgICAgICAgdGhhdC4kJHdyaXRlTW9kZWxUb1Njb3BlKCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gICQkd3JpdGVNb2RlbFRvU2NvcGU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJCRuZ01vZGVsU2V0KHRoaXMuJCRzY29wZSwgdGhpcy4kbW9kZWxWYWx1ZSk7XG4gICAgZm9yRWFjaCh0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLCBmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGlzdGVuZXIoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWludmFsaWQtdGhpc1xuICAgICAgICB0aGlzLiQkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcbiAgfSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRWaWV3VmFsdWVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFVwZGF0ZSB0aGUgdmlldyB2YWx1ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGEgY29udHJvbCB3YW50cyB0byBjaGFuZ2UgdGhlIHZpZXcgdmFsdWU7IHR5cGljYWxseSxcbiAgICogdGhpcyBpcyBkb25lIGZyb20gd2l0aGluIGEgRE9NIGV2ZW50IGhhbmRsZXIuIEZvciBleGFtcGxlLCB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTppbnB1dCBpbnB1dH1cbiAgICogZGlyZWN0aXZlIGNhbGxzIGl0IHdoZW4gdGhlIHZhbHVlIG9mIHRoZSBpbnB1dCBjaGFuZ2VzIGFuZCB7QGxpbmsgbmcuZGlyZWN0aXZlOnNlbGVjdCBzZWxlY3R9XG4gICAqIGNhbGxzIGl0IHdoZW4gYW4gb3B0aW9uIGlzIHNlbGVjdGVkLlxuICAgKlxuICAgKiBXaGVuIGAkc2V0Vmlld1ZhbHVlYCBpcyBjYWxsZWQsIHRoZSBuZXcgYHZhbHVlYCB3aWxsIGJlIHN0YWdlZCBmb3IgY29tbWl0dGluZyB0aHJvdWdoIHRoZSBgJHBhcnNlcnNgXG4gICAqIGFuZCBgJHZhbGlkYXRvcnNgIHBpcGVsaW5lcy4gSWYgdGhlcmUgYXJlIG5vIHNwZWNpYWwge0BsaW5rIG5nTW9kZWxPcHRpb25zfSBzcGVjaWZpZWQgdGhlbiB0aGUgc3RhZ2VkXG4gICAqIHZhbHVlIGlzIHNlbnQgZGlyZWN0bHkgZm9yIHByb2Nlc3NpbmcgdGhyb3VnaCB0aGUgYCRwYXJzZXJzYCBwaXBlbGluZS4gQWZ0ZXIgdGhpcywgdGhlIGAkdmFsaWRhdG9yc2AgYW5kXG4gICAqIGAkYXN5bmNWYWxpZGF0b3JzYCBhcmUgY2FsbGVkIGFuZCB0aGUgdmFsdWUgaXMgYXBwbGllZCB0byBgJG1vZGVsVmFsdWVgLlxuICAgKiBGaW5hbGx5LCB0aGUgdmFsdWUgaXMgc2V0IHRvIHRoZSAqKmV4cHJlc3Npb24qKiBzcGVjaWZpZWQgaW4gdGhlIGBuZy1tb2RlbGAgYXR0cmlidXRlIGFuZFxuICAgKiBhbGwgdGhlIHJlZ2lzdGVyZWQgY2hhbmdlIGxpc3RlbmVycywgaW4gdGhlIGAkdmlld0NoYW5nZUxpc3RlbmVyc2AgbGlzdCBhcmUgY2FsbGVkLlxuICAgKlxuICAgKiBJbiBjYXNlIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfSBkaXJlY3RpdmUgaXMgdXNlZCB3aXRoIGB1cGRhdGVPbmBcbiAgICogYW5kIHRoZSBgZGVmYXVsdGAgdHJpZ2dlciBpcyBub3QgbGlzdGVkLCBhbGwgdGhvc2UgYWN0aW9ucyB3aWxsIHJlbWFpbiBwZW5kaW5nIHVudGlsIG9uZSBvZiB0aGVcbiAgICogYHVwZGF0ZU9uYCBldmVudHMgaXMgdHJpZ2dlcmVkIG9uIHRoZSBET00gZWxlbWVudC5cbiAgICogQWxsIHRoZXNlIGFjdGlvbnMgd2lsbCBiZSBkZWJvdW5jZWQgaWYgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9XG4gICAqIGRpcmVjdGl2ZSBpcyB1c2VkIHdpdGggYSBjdXN0b20gZGVib3VuY2UgZm9yIHRoaXMgcGFydGljdWxhciBldmVudC5cbiAgICogTm90ZSB0aGF0IGEgYCRkaWdlc3RgIGlzIG9ubHkgdHJpZ2dlcmVkIG9uY2UgdGhlIGB1cGRhdGVPbmAgZXZlbnRzIGFyZSBmaXJlZCwgb3IgaWYgYGRlYm91bmNlYFxuICAgKiBpcyBzcGVjaWZpZWQsIG9uY2UgdGhlIHRpbWVyIHJ1bnMgb3V0LlxuICAgKlxuICAgKiBXaGVuIHVzZWQgd2l0aCBzdGFuZGFyZCBpbnB1dHMsIHRoZSB2aWV3IHZhbHVlIHdpbGwgYWx3YXlzIGJlIGEgc3RyaW5nICh3aGljaCBpcyBpbiBzb21lIGNhc2VzXG4gICAqIHBhcnNlZCBpbnRvIGFub3RoZXIgdHlwZSwgc3VjaCBhcyBhIGBEYXRlYCBvYmplY3QgZm9yIGBpbnB1dFtkYXRlXWAuKVxuICAgKiBIb3dldmVyLCBjdXN0b20gY29udHJvbHMgbWlnaHQgYWxzbyBwYXNzIG9iamVjdHMgdG8gdGhpcyBtZXRob2QuIEluIHRoaXMgY2FzZSwgd2Ugc2hvdWxkIG1ha2VcbiAgICogYSBjb3B5IG9mIHRoZSBvYmplY3QgYmVmb3JlIHBhc3NpbmcgaXQgdG8gYCRzZXRWaWV3VmFsdWVgLiBUaGlzIGlzIGJlY2F1c2UgYG5nTW9kZWxgIGRvZXMgbm90XG4gICAqIHBlcmZvcm0gYSBkZWVwIHdhdGNoIG9mIG9iamVjdHMsIGl0IG9ubHkgbG9va3MgZm9yIGEgY2hhbmdlIG9mIGlkZW50aXR5LiBJZiB5b3Ugb25seSBjaGFuZ2VcbiAgICogdGhlIHByb3BlcnR5IG9mIHRoZSBvYmplY3QgdGhlbiBuZ01vZGVsIHdpbGwgbm90IHJlYWxpemUgdGhhdCB0aGUgb2JqZWN0IGhhcyBjaGFuZ2VkIGFuZFxuICAgKiB3aWxsIG5vdCBpbnZva2UgdGhlIGAkcGFyc2Vyc2AgYW5kIGAkdmFsaWRhdG9yc2AgcGlwZWxpbmVzLiBGb3IgdGhpcyByZWFzb24sIHlvdSBzaG91bGRcbiAgICogbm90IGNoYW5nZSBwcm9wZXJ0aWVzIG9mIHRoZSBjb3B5IG9uY2UgaXQgaGFzIGJlZW4gcGFzc2VkIHRvIGAkc2V0Vmlld1ZhbHVlYC5cbiAgICogT3RoZXJ3aXNlIHlvdSBtYXkgY2F1c2UgdGhlIG1vZGVsIHZhbHVlIG9uIHRoZSBzY29wZSB0byBjaGFuZ2UgaW5jb3JyZWN0bHkuXG4gICAqXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gICAqIEluIGFueSBjYXNlLCB0aGUgdmFsdWUgcGFzc2VkIHRvIHRoZSBtZXRob2Qgc2hvdWxkIGFsd2F5cyByZWZsZWN0IHRoZSBjdXJyZW50IHZhbHVlXG4gICAqIG9mIHRoZSBjb250cm9sLiBGb3IgZXhhbXBsZSwgaWYgeW91IGFyZSBjYWxsaW5nIGAkc2V0Vmlld1ZhbHVlYCBmb3IgYW4gaW5wdXQgZWxlbWVudCxcbiAgICogeW91IHNob3VsZCBwYXNzIHRoZSBpbnB1dCBET00gdmFsdWUuIE90aGVyd2lzZSwgdGhlIGNvbnRyb2wgYW5kIHRoZSBzY29wZSBtb2RlbCBiZWNvbWVcbiAgICogb3V0IG9mIHN5bmMuIEl0J3MgYWxzbyBpbXBvcnRhbnQgdG8gbm90ZSB0aGF0IGAkc2V0Vmlld1ZhbHVlYCBkb2VzIG5vdCBjYWxsIGAkcmVuZGVyYCBvciBjaGFuZ2VcbiAgICogdGhlIGNvbnRyb2wncyBET00gdmFsdWUgaW4gYW55IHdheS4gSWYgd2Ugd2FudCB0byBjaGFuZ2UgdGhlIGNvbnRyb2wncyBET00gdmFsdWVcbiAgICogcHJvZ3JhbW1hdGljYWxseSwgd2Ugc2hvdWxkIHVwZGF0ZSB0aGUgYG5nTW9kZWxgIHNjb3BlIGV4cHJlc3Npb24uIEl0cyBuZXcgdmFsdWUgd2lsbCBiZVxuICAgKiBwaWNrZWQgdXAgYnkgdGhlIG1vZGVsIGNvbnRyb2xsZXIsIHdoaWNoIHdpbGwgcnVuIGl0IHRocm91Z2ggdGhlIGAkZm9ybWF0dGVyc2AsIGAkcmVuZGVyYCBpdFxuICAgKiB0byB1cGRhdGUgdGhlIERPTSwgYW5kIGZpbmFsbHkgY2FsbCBgJHZhbGlkYXRlYCBvbiBpdC5cbiAgICogPC9kaXY+XG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgdmFsdWUgZnJvbSB0aGUgdmlldy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRyaWdnZXIgRXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIHVwZGF0ZS5cbiAgICovXG4gICRzZXRWaWV3VmFsdWU6IGZ1bmN0aW9uKHZhbHVlLCB0cmlnZ2VyKSB7XG4gICAgdGhpcy4kdmlld1ZhbHVlID0gdmFsdWU7XG4gICAgaWYgKHRoaXMuJG9wdGlvbnMuZ2V0T3B0aW9uKCd1cGRhdGVPbkRlZmF1bHQnKSkge1xuICAgICAgdGhpcy4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KHRyaWdnZXIpO1xuICAgIH1cbiAgfSxcblxuICAkJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0OiBmdW5jdGlvbih0cmlnZ2VyKSB7XG4gICAgdmFyIGRlYm91bmNlRGVsYXkgPSB0aGlzLiRvcHRpb25zLmdldE9wdGlvbignZGVib3VuY2UnKTtcblxuICAgIGlmIChpc051bWJlcihkZWJvdW5jZURlbGF5W3RyaWdnZXJdKSkge1xuICAgICAgZGVib3VuY2VEZWxheSA9IGRlYm91bmNlRGVsYXlbdHJpZ2dlcl07XG4gICAgfSBlbHNlIGlmIChpc051bWJlcihkZWJvdW5jZURlbGF5WydkZWZhdWx0J10pICYmXG4gICAgICB0aGlzLiRvcHRpb25zLmdldE9wdGlvbigndXBkYXRlT24nKS5pbmRleE9mKHRyaWdnZXIpID09PSAtMVxuICAgICkge1xuICAgICAgZGVib3VuY2VEZWxheSA9IGRlYm91bmNlRGVsYXlbJ2RlZmF1bHQnXTtcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGRlYm91bmNlRGVsYXlbJyonXSkpIHtcbiAgICAgIGRlYm91bmNlRGVsYXkgPSBkZWJvdW5jZURlbGF5WycqJ107XG4gICAgfVxuXG4gICAgdGhpcy4kJHRpbWVvdXQuY2FuY2VsKHRoaXMuJCRwZW5kaW5nRGVib3VuY2UpO1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICBpZiAoZGVib3VuY2VEZWxheSA+IDApIHsgLy8gdGhpcyBmYWlscyBpZiBkZWJvdW5jZURlbGF5IGlzIGFuIG9iamVjdFxuICAgICAgdGhpcy4kJHBlbmRpbmdEZWJvdW5jZSA9IHRoaXMuJCR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGF0LiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICAgIH0sIGRlYm91bmNlRGVsYXkpO1xuICAgIH0gZWxzZSBpZiAodGhpcy4kJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICB0aGlzLiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4kJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgdGhhdC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICpcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkb3ZlcnJpZGVNb2RlbE9wdGlvbnNcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIE92ZXJyaWRlIHRoZSBjdXJyZW50IG1vZGVsIG9wdGlvbnMgc2V0dGluZ3MgcHJvZ3JhbW1hdGljYWxseS5cbiAgICpcbiAgICogVGhlIHByZXZpb3VzIGBNb2RlbE9wdGlvbnNgIHZhbHVlIHdpbGwgbm90IGJlIG1vZGlmaWVkLiBJbnN0ZWFkLCBhXG4gICAqIG5ldyBgTW9kZWxPcHRpb25zYCBvYmplY3Qgd2lsbCBpbmhlcml0IGZyb20gdGhlIHByZXZpb3VzIG9uZSBvdmVycmlkaW5nXG4gICAqIG9yIGluaGVyaXRpbmcgc2V0dGluZ3MgdGhhdCBhcmUgZGVmaW5lZCBpbiB0aGUgZ2l2ZW4gcGFyYW1ldGVyLlxuICAgKlxuICAgKiBTZWUge0BsaW5rIG5nTW9kZWxPcHRpb25zfSBmb3IgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBvcHRpb25zIGNhbiBiZSBzcGVjaWZpZWRcbiAgICogYW5kIGhvdyBtb2RlbCBvcHRpb24gaW5oZXJpdGFuY2Ugd29ya3MuXG4gICAqXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAqICoqTm90ZToqKiB0aGlzIGZ1bmN0aW9uIG9ubHkgYWZmZWN0cyB0aGUgb3B0aW9ucyBzZXQgb24gdGhlIGBuZ01vZGVsQ29udHJvbGxlcmAsXG4gICAqIGFuZCBub3QgdGhlIG9wdGlvbnMgb24gdGhlIHtAbGluayBuZ01vZGVsT3B0aW9uc30gZGlyZWN0aXZlIGZyb20gd2hpY2ggdGhleSBtaWdodCBoYXZlIGJlZW5cbiAgICogb2J0YWluZWQgaW5pdGlhbGx5LlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxuICAgKiAqKk5vdGU6KiogaXQgaXMgbm90IHBvc3NpYmxlIHRvIG92ZXJyaWRlIHRoZSBgZ2V0dGVyU2V0dGVyYCBvcHRpb24uXG4gICAqIDwvZGl2PlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBhIGhhc2ggb2Ygc2V0dGluZ3MgdG8gb3ZlcnJpZGUgdGhlIHByZXZpb3VzIG9wdGlvbnNcbiAgICpcbiAgICovXG4gICRvdmVycmlkZU1vZGVsT3B0aW9uczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHRoaXMuJG9wdGlvbnMgPSB0aGlzLiRvcHRpb25zLmNyZWF0ZUNoaWxkKG9wdGlvbnMpO1xuICAgIHRoaXMuJCRzZXRVcGRhdGVPbkV2ZW50cygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqXG4gICAqIEBuYW1lICBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRwcm9jZXNzTW9kZWxWYWx1ZVxuXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBSdW5zIHRoZSBtb2RlbCAtPiB2aWV3IHBpcGVsaW5lIG9uIHRoZSBjdXJyZW50XG4gICAqIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRtb2RlbFZhbHVlICRtb2RlbFZhbHVlfS5cbiAgICpcbiAgICogVGhlIGZvbGxvd2luZyBhY3Rpb25zIGFyZSBwZXJmb3JtZWQgYnkgdGhpcyBtZXRob2Q6XG4gICAqXG4gICAqIC0gdGhlIGAkbW9kZWxWYWx1ZWAgaXMgcnVuIHRocm91Z2ggdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRmb3JtYXR0ZXJzICRmb3JtYXR0ZXJzfVxuICAgKiBhbmQgdGhlIHJlc3VsdCBpcyBzZXQgdG8gdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgJHZpZXdWYWx1ZX1cbiAgICogLSB0aGUgYG5nLWVtcHR5YCBvciBgbmctbm90LWVtcHR5YCBjbGFzcyBpcyBzZXQgb24gdGhlIGVsZW1lbnRcbiAgICogLSBpZiB0aGUgYCR2aWV3VmFsdWVgIGhhcyBjaGFuZ2VkOlxuICAgKiAgIC0ge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHJlbmRlciAkcmVuZGVyfSBpcyBjYWxsZWQgb24gdGhlIGNvbnRyb2xcbiAgICogICAtIHRoZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdG9ycyAkdmFsaWRhdG9yc30gYXJlIHJ1biBhbmRcbiAgICogICB0aGUgdmFsaWRhdGlvbiBzdGF0dXMgaXMgc2V0LlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYnkgbmdNb2RlbCBpbnRlcm5hbGx5IHdoZW4gdGhlIGJvdW5kIHNjb3BlIHZhbHVlIGNoYW5nZXMuXG4gICAqIEFwcGxpY2F0aW9uIGRldmVsb3BlcnMgdXN1YWxseSBkbyBub3QgaGF2ZSB0byBjYWxsIHRoaXMgZnVuY3Rpb24gdGhlbXNlbHZlcy5cbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB3aGVuIHRoZSBgJHZpZXdWYWx1ZWAgb3IgdGhlIHJlbmRlcmVkIERPTSB2YWx1ZSBhcmUgbm90IGNvcnJlY3RseVxuICAgKiBmb3JtYXR0ZWQgYW5kIHRoZSBgJG1vZGVsVmFsdWVgIG11c3QgYmUgcnVuIHRocm91Z2ggdGhlIGAkZm9ybWF0dGVyc2AgYWdhaW4uXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIENvbnNpZGVyIGEgdGV4dCBpbnB1dCB3aXRoIGFuIGF1dG9jb21wbGV0ZSBsaXN0IChmb3IgZnJ1aXQpLCB3aGVyZSB0aGUgaXRlbXMgYXJlXG4gICAqIG9iamVjdHMgd2l0aCBhIG5hbWUgYW5kIGFuIGlkLlxuICAgKiBBIHVzZXIgZW50ZXJzIGBhcGAgYW5kIHRoZW4gc2VsZWN0cyBgQXByaWNvdGAgZnJvbSB0aGUgbGlzdC5cbiAgICogQmFzZWQgb24gdGhpcywgdGhlIGF1dG9jb21wbGV0ZSB3aWRnZXQgd2lsbCBjYWxsIGAkc2V0Vmlld1ZhbHVlKHtuYW1lOiAnQXByaWNvdCcsIGlkOiA0NDN9KWAsXG4gICAqIGJ1dCB0aGUgcmVuZGVyZWQgdmFsdWUgd2lsbCBzdGlsbCBiZSBgYXBgLlxuICAgKiBUaGUgd2lkZ2V0IGNhbiB0aGVuIGNhbGwgYGN0cmwuJHByb2Nlc3NNb2RlbFZhbHVlKClgIHRvIHJ1biB0aGUgbW9kZWwgLT4gdmlld1xuICAgKiBwaXBlbGluZSBhZ2Fpbiwgd2hpY2ggZm9ybWF0cyB0aGUgb2JqZWN0IHRvIHRoZSBzdHJpbmcgYEFwcmljb3RgLFxuICAgKiB0aGVuIHVwZGF0ZXMgdGhlIGAkdmlld1ZhbHVlYCwgYW5kIGZpbmFsbHkgcmVuZGVycyBpdCBpbiB0aGUgRE9NLlxuICAgKlxuICAgKiA8ZXhhbXBsZSBtb2R1bGU9XCJpbnB1dEV4YW1wbGVcIiBuYW1lPVwibmctbW9kZWwtcHJvY2Vzc1wiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiaW5wdXRDb250cm9sbGVyXCIgc3R5bGU9XCJkaXNwbGF5OiBmbGV4O1wiPlxuICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLXJpZ2h0OiAzMHB4O1wiPlxuICAgICAgICAgIFNlYXJjaCBGcnVpdDpcbiAgICAgICAgICA8YmFzaWMtYXV0b2NvbXBsZXRlIGl0ZW1zPVwiaXRlbXNcIiBvbi1zZWxlY3Q9XCJzZWxlY3RlZEZydWl0ID0gaXRlbVwiPjwvYmFzaWMtYXV0b2NvbXBsZXRlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICBNb2RlbDo8YnI+XG4gICAgICAgICAgPHByZT57e3NlbGVjdGVkRnJ1aXQgfCBqc29ufX08L3ByZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnaW5wdXRFeGFtcGxlJywgW10pXG4gICAgICAgIC5jb250cm9sbGVyKCdpbnB1dENvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUuaXRlbXMgPSBbXG4gICAgICAgICAgICB7bmFtZTogJ0Fwcmljb3QnLCBpZDogNDQzfSxcbiAgICAgICAgICAgIHtuYW1lOiAnQ2xlbWVudGluZScsIGlkOiA5NzJ9LFxuICAgICAgICAgICAge25hbWU6ICdEdXJpYW4nLCBpZDogMTY5fSxcbiAgICAgICAgICAgIHtuYW1lOiAnSmFja2ZydWl0JywgaWQ6IDk4Mn0sXG4gICAgICAgICAgICB7bmFtZTogJ1N0cmF3YmVycnknLCBpZDogODYzfVxuICAgICAgICAgIF07XG4gICAgICAgIH0pXG4gICAgICAgIC5jb21wb25lbnQoJ2Jhc2ljQXV0b2NvbXBsZXRlJywge1xuICAgICAgICAgIGJpbmRpbmdzOiB7XG4gICAgICAgICAgICBpdGVtczogJzwnLFxuICAgICAgICAgICAgb25TZWxlY3Q6ICcmJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICdhdXRvY29tcGxldGUuaHRtbCcsXG4gICAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oJGVsZW1lbnQsICRzY29wZSkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIG5nTW9kZWw7XG5cbiAgICAgICAgICAgIHRoYXQuJHBvc3RMaW5rID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIG5nTW9kZWwgPSAkZWxlbWVudC5maW5kKCdpbnB1dCcpLmNvbnRyb2xsZXIoJ25nTW9kZWwnKTtcblxuICAgICAgICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHZhbHVlICYmIHZhbHVlLm5hbWUpIHx8IHZhbHVlO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoYXQuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgIGlmICh0aGF0Lml0ZW1zW2ldLm5hbWUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoID0gdGhhdC5pdGVtc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoYXQuc2VsZWN0SXRlbSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGl0ZW0pO1xuICAgICAgICAgICAgICBuZ01vZGVsLiRwcm9jZXNzTW9kZWxWYWx1ZSgpO1xuICAgICAgICAgICAgICB0aGF0Lm9uU2VsZWN0KHtpdGVtOiBpdGVtfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cImF1dG9jb21wbGV0ZS5odG1sXCI+XG4gICAgICAgPGRpdj5cbiAgICAgICAgIDxpbnB1dCB0eXBlPVwic2VhcmNoXCIgbmctbW9kZWw9XCIkY3RybC5zZWFyY2hUZXJtXCIgLz5cbiAgICAgICAgIDx1bD5cbiAgICAgICAgICAgPGxpIG5nLXJlcGVhdD1cIml0ZW0gaW4gJGN0cmwuaXRlbXMgfCBmaWx0ZXI6JGN0cmwuc2VhcmNoVGVybVwiPlxuICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkY3RybC5zZWxlY3RJdGVtKGl0ZW0pXCI+e3sgaXRlbS5uYW1lIH19PC9idXR0b24+XG4gICAgICAgICAgIDwvbGk+XG4gICAgICAgICA8L3VsPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAqIDwvZXhhbXBsZT5cbiAgICpcbiAgICovXG4gICRwcm9jZXNzTW9kZWxWYWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZpZXdWYWx1ZSA9IHRoaXMuJCRmb3JtYXQoKTtcblxuICAgIGlmICh0aGlzLiR2aWV3VmFsdWUgIT09IHZpZXdWYWx1ZSkge1xuICAgICAgdGhpcy4kJHVwZGF0ZUVtcHR5Q2xhc3Nlcyh2aWV3VmFsdWUpO1xuICAgICAgdGhpcy4kdmlld1ZhbHVlID0gdGhpcy4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgPSB2aWV3VmFsdWU7XG4gICAgICB0aGlzLiRyZW5kZXIoKTtcbiAgICAgIC8vIEl0IGlzIHBvc3NpYmxlIHRoYXQgbW9kZWwgYW5kIHZpZXcgdmFsdWUgaGF2ZSBiZWVuIHVwZGF0ZWQgZHVyaW5nIHJlbmRlclxuICAgICAgdGhpcy4kJHJ1blZhbGlkYXRvcnModGhpcy4kbW9kZWxWYWx1ZSwgdGhpcy4kdmlld1ZhbHVlLCBub29wKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBpbnRlcm5hbGx5IHRvIHJ1biB0aGUgJGZvcm1hdHRlcnMgb24gdGhlICRtb2RlbFZhbHVlXG4gICAqL1xuICAkJGZvcm1hdDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1hdHRlcnMgPSB0aGlzLiRmb3JtYXR0ZXJzLFxuICAgICAgICBpZHggPSBmb3JtYXR0ZXJzLmxlbmd0aDtcblxuICAgIHZhciB2aWV3VmFsdWUgPSB0aGlzLiRtb2RlbFZhbHVlO1xuICAgIHdoaWxlIChpZHgtLSkge1xuICAgICAgdmlld1ZhbHVlID0gZm9ybWF0dGVyc1tpZHhdKHZpZXdWYWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZpZXdWYWx1ZTtcbiAgfSxcblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGludGVybmFsbHkgd2hlbiB0aGUgYm91bmQgc2NvcGUgdmFsdWUgY2hhbmdlcy5cbiAgICovXG4gICQkc2V0TW9kZWxWYWx1ZTogZnVuY3Rpb24obW9kZWxWYWx1ZSkge1xuICAgIHRoaXMuJG1vZGVsVmFsdWUgPSB0aGlzLiQkcmF3TW9kZWxWYWx1ZSA9IG1vZGVsVmFsdWU7XG4gICAgdGhpcy4kJHBhcnNlclZhbGlkID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuJHByb2Nlc3NNb2RlbFZhbHVlKCk7XG4gIH0sXG5cbiAgJCRzZXRVcGRhdGVPbkV2ZW50czogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuJCR1cGRhdGVFdmVudHMpIHtcbiAgICAgIHRoaXMuJCRlbGVtZW50Lm9mZih0aGlzLiQkdXBkYXRlRXZlbnRzLCB0aGlzLiQkdXBkYXRlRXZlbnRIYW5kbGVyKTtcbiAgICB9XG5cbiAgICB0aGlzLiQkdXBkYXRlRXZlbnRzID0gdGhpcy4kb3B0aW9ucy5nZXRPcHRpb24oJ3VwZGF0ZU9uJyk7XG4gICAgaWYgKHRoaXMuJCR1cGRhdGVFdmVudHMpIHtcbiAgICAgIHRoaXMuJCRlbGVtZW50Lm9uKHRoaXMuJCR1cGRhdGVFdmVudHMsIHRoaXMuJCR1cGRhdGVFdmVudEhhbmRsZXIpO1xuICAgIH1cbiAgfSxcblxuICAkJHVwZGF0ZUV2ZW50SGFuZGxlcjogZnVuY3Rpb24oZXYpIHtcbiAgICB0aGlzLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQoZXYgJiYgZXYudHlwZSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHNldHVwTW9kZWxXYXRjaGVyKGN0cmwpIHtcbiAgLy8gbW9kZWwgLT4gdmFsdWVcbiAgLy8gTm90ZTogd2UgY2Fubm90IHVzZSBhIG5vcm1hbCBzY29wZS4kd2F0Y2ggYXMgd2Ugd2FudCB0byBkZXRlY3QgdGhlIGZvbGxvd2luZzpcbiAgLy8gMS4gc2NvcGUgdmFsdWUgaXMgJ2EnXG4gIC8vIDIuIHVzZXIgZW50ZXJzICdiJ1xuICAvLyAzLiBuZy1jaGFuZ2Uga2lja3MgaW4gYW5kIHJldmVydHMgc2NvcGUgdmFsdWUgdG8gJ2EnXG4gIC8vICAgIC0+IHNjb3BlIHZhbHVlIGRpZCBub3QgY2hhbmdlIHNpbmNlIHRoZSBsYXN0IGRpZ2VzdCBhc1xuICAvLyAgICAgICBuZy1jaGFuZ2UgZXhlY3V0ZXMgaW4gYXBwbHkgcGhhc2VcbiAgLy8gNC4gdmlldyBzaG91bGQgYmUgY2hhbmdlZCBiYWNrIHRvICdhJ1xuICBjdHJsLiQkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIG5nTW9kZWxXYXRjaChzY29wZSkge1xuICAgIHZhciBtb2RlbFZhbHVlID0gY3RybC4kJG5nTW9kZWxHZXQoc2NvcGUpO1xuXG4gICAgLy8gaWYgc2NvcGUgbW9kZWwgdmFsdWUgYW5kIG5nTW9kZWwgdmFsdWUgYXJlIG91dCBvZiBzeW5jXG4gICAgLy8gVGhpcyBjYW5ub3QgYmUgbW92ZWQgdG8gdGhlIGFjdGlvbiBmdW5jdGlvbiwgYmVjYXVzZSBpdCB3b3VsZCBub3QgY2F0Y2ggdGhlXG4gICAgLy8gY2FzZSB3aGVyZSB0aGUgbW9kZWwgaXMgY2hhbmdlZCBpbiB0aGUgbmdDaGFuZ2UgZnVuY3Rpb24gb3IgdGhlIG1vZGVsIHNldHRlclxuICAgIGlmIChtb2RlbFZhbHVlICE9PSBjdHJsLiRtb2RlbFZhbHVlICYmXG4gICAgICAvLyBjaGVja3MgZm9yIE5hTiBpcyBuZWVkZWQgdG8gYWxsb3cgc2V0dGluZyB0aGUgbW9kZWwgdG8gTmFOIHdoZW4gdGhlcmUncyBhbiBhc3luY1ZhbGlkYXRvclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgKGN0cmwuJG1vZGVsVmFsdWUgPT09IGN0cmwuJG1vZGVsVmFsdWUgfHwgbW9kZWxWYWx1ZSA9PT0gbW9kZWxWYWx1ZSlcbiAgICApIHtcbiAgICAgIGN0cmwuJCRzZXRNb2RlbFZhbHVlKG1vZGVsVmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiBtb2RlbFZhbHVlO1xuICB9KTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRWYWxpZGl0eVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ2hhbmdlIHRoZSB2YWxpZGl0eSBzdGF0ZSwgYW5kIG5vdGlmeSB0aGUgZm9ybS5cbiAqXG4gKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHdpdGhpbiAkcGFyc2Vycy8kZm9ybWF0dGVycyBvciBhIGN1c3RvbSB2YWxpZGF0aW9uIGltcGxlbWVudGF0aW9uLlxuICogSG93ZXZlciwgaW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgc3VmZmljaWVudCB0byB1c2UgdGhlIGBuZ01vZGVsLiR2YWxpZGF0b3JzYCBhbmRcbiAqIGBuZ01vZGVsLiRhc3luY1ZhbGlkYXRvcnNgIGNvbGxlY3Rpb25zIHdoaWNoIHdpbGwgY2FsbCBgJHNldFZhbGlkaXR5YCBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWxpZGF0aW9uRXJyb3JLZXkgTmFtZSBvZiB0aGUgdmFsaWRhdG9yLiBUaGUgYHZhbGlkYXRpb25FcnJvcktleWAgd2lsbCBiZSBhc3NpZ25lZFxuICogICAgICAgIHRvIGVpdGhlciBgJGVycm9yW3ZhbGlkYXRpb25FcnJvcktleV1gIG9yIGAkcGVuZGluZ1t2YWxpZGF0aW9uRXJyb3JLZXldYFxuICogICAgICAgIChmb3IgdW5mdWxmaWxsZWQgYCRhc3luY1ZhbGlkYXRvcnNgKSwgc28gdGhhdCBpdCBpcyBhdmFpbGFibGUgZm9yIGRhdGEtYmluZGluZy5cbiAqICAgICAgICBUaGUgYHZhbGlkYXRpb25FcnJvcktleWAgc2hvdWxkIGJlIGluIGNhbWVsQ2FzZSBhbmQgd2lsbCBnZXQgY29udmVydGVkIGludG8gZGFzaC1jYXNlXG4gKiAgICAgICAgZm9yIGNsYXNzIG5hbWUuIEV4YW1wbGU6IGBteUVycm9yYCB3aWxsIHJlc3VsdCBpbiBgbmctdmFsaWQtbXktZXJyb3JgIGFuZCBgbmctaW52YWxpZC1teS1lcnJvcmBcbiAqICAgICAgICBjbGFzc2VzIGFuZCBjYW4gYmUgYm91bmQgdG8gYXMgYHt7IHNvbWVGb3JtLnNvbWVDb250cm9sLiRlcnJvci5teUVycm9yIH19YC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNWYWxpZCBXaGV0aGVyIHRoZSBjdXJyZW50IHN0YXRlIGlzIHZhbGlkICh0cnVlKSwgaW52YWxpZCAoZmFsc2UpLCBwZW5kaW5nICh1bmRlZmluZWQpLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgIG9yIHNraXBwZWQgKG51bGwpLiBQZW5kaW5nIGlzIHVzZWQgZm9yIHVuZnVsZmlsbGVkIGAkYXN5bmNWYWxpZGF0b3JzYC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICBTa2lwcGVkIGlzIHVzZWQgYnkgQW5ndWxhckpTIHdoZW4gdmFsaWRhdG9ycyBkbyBub3QgcnVuIGJlY2F1c2Ugb2YgcGFyc2UgZXJyb3JzIGFuZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gYCRhc3luY1ZhbGlkYXRvcnNgIGRvIG5vdCBydW4gYmVjYXVzZSBhbnkgb2YgdGhlIGAkdmFsaWRhdG9yc2AgZmFpbGVkLlxuICovXG5hZGRTZXRWYWxpZGl0eU1ldGhvZCh7XG4gIGNsYXp6OiBOZ01vZGVsQ29udHJvbGxlcixcbiAgc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgb2JqZWN0W3Byb3BlcnR5XSA9IHRydWU7XG4gIH0sXG4gIHVuc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XG4gIH1cbn0pO1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb2RlbFxuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSAxXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW9kZWwgYXNzaWduYWJsZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBiaW5kIHRvLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ01vZGVsYCBkaXJlY3RpdmUgYmluZHMgYW4gYGlucHV0YCxgc2VsZWN0YCwgYHRleHRhcmVhYCAob3IgY3VzdG9tIGZvcm0gY29udHJvbCkgdG8gYVxuICogcHJvcGVydHkgb24gdGhlIHNjb3BlIHVzaW5nIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIE5nTW9kZWxDb250cm9sbGVyfSxcbiAqIHdoaWNoIGlzIGNyZWF0ZWQgYW5kIGV4cG9zZWQgYnkgdGhpcyBkaXJlY3RpdmUuXG4gKlxuICogYG5nTW9kZWxgIGlzIHJlc3BvbnNpYmxlIGZvcjpcbiAqXG4gKiAtIEJpbmRpbmcgdGhlIHZpZXcgaW50byB0aGUgbW9kZWwsIHdoaWNoIG90aGVyIGRpcmVjdGl2ZXMgc3VjaCBhcyBgaW5wdXRgLCBgdGV4dGFyZWFgIG9yIGBzZWxlY3RgXG4gKiAgIHJlcXVpcmUuXG4gKiAtIFByb3ZpZGluZyB2YWxpZGF0aW9uIGJlaGF2aW9yIChpLmUuIHJlcXVpcmVkLCBudW1iZXIsIGVtYWlsLCB1cmwpLlxuICogLSBLZWVwaW5nIHRoZSBzdGF0ZSBvZiB0aGUgY29udHJvbCAodmFsaWQvaW52YWxpZCwgZGlydHkvcHJpc3RpbmUsIHRvdWNoZWQvdW50b3VjaGVkLCB2YWxpZGF0aW9uIGVycm9ycykuXG4gKiAtIFNldHRpbmcgcmVsYXRlZCBjc3MgY2xhc3NlcyBvbiB0aGUgZWxlbWVudCAoYG5nLXZhbGlkYCwgYG5nLWludmFsaWRgLCBgbmctZGlydHlgLCBgbmctcHJpc3RpbmVgLCBgbmctdG91Y2hlZGAsXG4gKiAgIGBuZy11bnRvdWNoZWRgLCBgbmctZW1wdHlgLCBgbmctbm90LWVtcHR5YCkgaW5jbHVkaW5nIGFuaW1hdGlvbnMuXG4gKiAtIFJlZ2lzdGVyaW5nIHRoZSBjb250cm9sIHdpdGggaXRzIHBhcmVudCB7QGxpbmsgbmcuZGlyZWN0aXZlOmZvcm0gZm9ybX0uXG4gKlxuICogTm90ZTogYG5nTW9kZWxgIHdpbGwgdHJ5IHRvIGJpbmQgdG8gdGhlIHByb3BlcnR5IGdpdmVuIGJ5IGV2YWx1YXRpbmcgdGhlIGV4cHJlc3Npb24gb24gdGhlXG4gKiBjdXJyZW50IHNjb3BlLiBJZiB0aGUgcHJvcGVydHkgZG9lc24ndCBhbHJlYWR5IGV4aXN0IG9uIHRoaXMgc2NvcGUsIGl0IHdpbGwgYmUgY3JlYXRlZFxuICogaW1wbGljaXRseSBhbmQgYWRkZWQgdG8gdGhlIHNjb3BlLlxuICpcbiAqIEZvciBiZXN0IHByYWN0aWNlcyBvbiB1c2luZyBgbmdNb2RlbGAsIHNlZTpcbiAqXG4gKiAgLSBbVW5kZXJzdGFuZGluZyBTY29wZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvd2lraS9VbmRlcnN0YW5kaW5nLVNjb3BlcylcbiAqXG4gKiBGb3IgYmFzaWMgZXhhbXBsZXMsIGhvdyB0byB1c2UgYG5nTW9kZWxgLCBzZWU6XG4gKlxuICogIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTppbnB1dCBpbnB1dH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W3RleHRdIHRleHR9XG4gKiAgICAtIHtAbGluayBpbnB1dFtjaGVja2JveF0gY2hlY2tib3h9XG4gKiAgICAtIHtAbGluayBpbnB1dFtyYWRpb10gcmFkaW99XG4gKiAgICAtIHtAbGluayBpbnB1dFtudW1iZXJdIG51bWJlcn1cbiAqICAgIC0ge0BsaW5rIGlucHV0W2VtYWlsXSBlbWFpbH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W3VybF0gdXJsfVxuICogICAgLSB7QGxpbmsgaW5wdXRbZGF0ZV0gZGF0ZX1cbiAqICAgIC0ge0BsaW5rIGlucHV0W2RhdGV0aW1lLWxvY2FsXSBkYXRldGltZS1sb2NhbH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W3RpbWVdIHRpbWV9XG4gKiAgICAtIHtAbGluayBpbnB1dFttb250aF0gbW9udGh9XG4gKiAgICAtIHtAbGluayBpbnB1dFt3ZWVrXSB3ZWVrfVxuICogIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTpzZWxlY3Qgc2VsZWN0fVxuICogIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTp0ZXh0YXJlYSB0ZXh0YXJlYX1cbiAqXG4gKiAjIyBDb21wbGV4IE1vZGVscyAob2JqZWN0cyBvciBjb2xsZWN0aW9ucylcbiAqXG4gKiBCeSBkZWZhdWx0LCBgbmdNb2RlbGAgd2F0Y2hlcyB0aGUgbW9kZWwgYnkgcmVmZXJlbmNlLCBub3QgdmFsdWUuIFRoaXMgaXMgaW1wb3J0YW50IHRvIGtub3cgd2hlblxuICogYmluZGluZyBpbnB1dHMgdG8gbW9kZWxzIHRoYXQgYXJlIG9iamVjdHMgKGUuZy4gYERhdGVgKSBvciBjb2xsZWN0aW9ucyAoZS5nLiBhcnJheXMpLiBJZiBvbmx5IHByb3BlcnRpZXMgb2YgdGhlXG4gKiBvYmplY3Qgb3IgY29sbGVjdGlvbiBjaGFuZ2UsIGBuZ01vZGVsYCB3aWxsIG5vdCBiZSBub3RpZmllZCBhbmQgc28gdGhlIGlucHV0IHdpbGwgbm90IGJlICByZS1yZW5kZXJlZC5cbiAqXG4gKiBUaGUgbW9kZWwgbXVzdCBiZSBhc3NpZ25lZCBhbiBlbnRpcmVseSBuZXcgb2JqZWN0IG9yIGNvbGxlY3Rpb24gYmVmb3JlIGEgcmUtcmVuZGVyaW5nIHdpbGwgb2NjdXIuXG4gKlxuICogU29tZSBkaXJlY3RpdmVzIGhhdmUgb3B0aW9ucyB0aGF0IHdpbGwgY2F1c2UgdGhlbSB0byB1c2UgYSBjdXN0b20gYCR3YXRjaENvbGxlY3Rpb25gIG9uIHRoZSBtb2RlbCBleHByZXNzaW9uXG4gKiAtIGZvciBleGFtcGxlLCBgbmdPcHRpb25zYCB3aWxsIGRvIHNvIHdoZW4gYSBgdHJhY2sgYnlgIGNsYXVzZSBpcyBpbmNsdWRlZCBpbiB0aGUgY29tcHJlaGVuc2lvbiBleHByZXNzaW9uIG9yXG4gKiBpZiB0aGUgc2VsZWN0IGlzIGdpdmVuIHRoZSBgbXVsdGlwbGVgIGF0dHJpYnV0ZS5cbiAqXG4gKiBUaGUgYCR3YXRjaENvbGxlY3Rpb24oKWAgbWV0aG9kIG9ubHkgZG9lcyBhIHNoYWxsb3cgY29tcGFyaXNvbiwgbWVhbmluZyB0aGF0IGNoYW5naW5nIHByb3BlcnRpZXMgZGVlcGVyIHRoYW4gdGhlXG4gKiBmaXJzdCBsZXZlbCBvZiB0aGUgb2JqZWN0IChvciBvbmx5IGNoYW5naW5nIHRoZSBwcm9wZXJ0aWVzIG9mIGFuIGl0ZW0gaW4gdGhlIGNvbGxlY3Rpb24gaWYgaXQncyBhbiBhcnJheSkgd2lsbCBzdGlsbFxuICogbm90IHRyaWdnZXIgYSByZS1yZW5kZXJpbmcgb2YgdGhlIG1vZGVsLlxuICpcbiAqICMjIENTUyBjbGFzc2VzXG4gKiBUaGUgZm9sbG93aW5nIENTUyBjbGFzc2VzIGFyZSBhZGRlZCBhbmQgcmVtb3ZlZCBvbiB0aGUgYXNzb2NpYXRlZCBpbnB1dC9zZWxlY3QvdGV4dGFyZWEgZWxlbWVudFxuICogZGVwZW5kaW5nIG9uIHRoZSB2YWxpZGl0eSBvZiB0aGUgbW9kZWwuXG4gKlxuICogIC0gYG5nLXZhbGlkYDogdGhlIG1vZGVsIGlzIHZhbGlkXG4gKiAgLSBgbmctaW52YWxpZGA6IHRoZSBtb2RlbCBpcyBpbnZhbGlkXG4gKiAgLSBgbmctdmFsaWQtW2tleV1gOiBmb3IgZWFjaCB2YWxpZCBrZXkgYWRkZWQgYnkgYCRzZXRWYWxpZGl0eWBcbiAqICAtIGBuZy1pbnZhbGlkLVtrZXldYDogZm9yIGVhY2ggaW52YWxpZCBrZXkgYWRkZWQgYnkgYCRzZXRWYWxpZGl0eWBcbiAqICAtIGBuZy1wcmlzdGluZWA6IHRoZSBjb250cm9sIGhhc24ndCBiZWVuIGludGVyYWN0ZWQgd2l0aCB5ZXRcbiAqICAtIGBuZy1kaXJ0eWA6IHRoZSBjb250cm9sIGhhcyBiZWVuIGludGVyYWN0ZWQgd2l0aFxuICogIC0gYG5nLXRvdWNoZWRgOiB0aGUgY29udHJvbCBoYXMgYmVlbiBibHVycmVkXG4gKiAgLSBgbmctdW50b3VjaGVkYDogdGhlIGNvbnRyb2wgaGFzbid0IGJlZW4gYmx1cnJlZFxuICogIC0gYG5nLXBlbmRpbmdgOiBhbnkgYCRhc3luY1ZhbGlkYXRvcnNgIGFyZSB1bmZ1bGZpbGxlZFxuICogIC0gYG5nLWVtcHR5YDogdGhlIHZpZXcgZG9lcyBub3QgY29udGFpbiBhIHZhbHVlIG9yIHRoZSB2YWx1ZSBpcyBkZWVtZWQgXCJlbXB0eVwiLCBhcyBkZWZpbmVkXG4gKiAgICAgYnkgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRpc0VtcHR5fSBtZXRob2RcbiAqICAtIGBuZy1ub3QtZW1wdHlgOiB0aGUgdmlldyBjb250YWlucyBhIG5vbi1lbXB0eSB2YWx1ZVxuICpcbiAqIEtlZXAgaW4gbWluZCB0aGF0IG5nQW5pbWF0ZSBjYW4gZGV0ZWN0IGVhY2ggb2YgdGhlc2UgY2xhc3NlcyB3aGVuIGFkZGVkIGFuZCByZW1vdmVkLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiBBbmltYXRpb25zIHdpdGhpbiBtb2RlbHMgYXJlIHRyaWdnZXJlZCB3aGVuIGFueSBvZiB0aGUgYXNzb2NpYXRlZCBDU1MgY2xhc3NlcyBhcmUgYWRkZWQgYW5kIHJlbW92ZWRcbiAqIG9uIHRoZSBpbnB1dCBlbGVtZW50IHdoaWNoIGlzIGF0dGFjaGVkIHRvIHRoZSBtb2RlbC4gVGhlc2UgY2xhc3NlcyBpbmNsdWRlOiBgLm5nLXByaXN0aW5lYCwgYC5uZy1kaXJ0eWAsXG4gKiBgLm5nLWludmFsaWRgIGFuZCBgLm5nLXZhbGlkYCBhcyB3ZWxsIGFzIGFueSBvdGhlciB2YWxpZGF0aW9ucyB0aGF0IGFyZSBwZXJmb3JtZWQgb24gdGhlIG1vZGVsIGl0c2VsZi5cbiAqIFRoZSBhbmltYXRpb25zIHRoYXQgYXJlIHRyaWdnZXJlZCB3aXRoaW4gbmdNb2RlbCBhcmUgc2ltaWxhciB0byBob3cgdGhleSB3b3JrIGluIG5nQ2xhc3MgYW5kXG4gKiBhbmltYXRpb25zIGNhbiBiZSBob29rZWQgaW50byB1c2luZyBDU1MgdHJhbnNpdGlvbnMsIGtleWZyYW1lcyBhcyB3ZWxsIGFzIEpTIGFuaW1hdGlvbnMuXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGEgc2ltcGxlIHdheSB0byB1dGlsaXplIENTUyB0cmFuc2l0aW9ucyB0byBzdHlsZSBhbiBpbnB1dCBlbGVtZW50XG4gKiB0aGF0IGhhcyBiZWVuIHJlbmRlcmVkIGFzIGludmFsaWQgYWZ0ZXIgaXQgaGFzIGJlZW4gdmFsaWRhdGVkOlxuICpcbiAqIDxwcmU+XG4gKiAvL2JlIHN1cmUgdG8gaW5jbHVkZSBuZ0FuaW1hdGUgYXMgYSBtb2R1bGUgdG8gaG9vayBpbnRvIG1vcmVcbiAqIC8vYWR2YW5jZWQgYW5pbWF0aW9uc1xuICogLm15LWlucHV0IHtcbiAqICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XG4gKiAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICogfVxuICogLm15LWlucHV0Lm5nLWludmFsaWQge1xuICogICBiYWNrZ3JvdW5kOiByZWQ7XG4gKiAgIGNvbG9yOndoaXRlO1xuICogfVxuICogPC9wcmU+XG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBCYXNpYyBVc2FnZVxuICogPGV4YW1wbGUgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgZml4QmFzZT1cInRydWVcIiBtb2R1bGU9XCJpbnB1dEV4YW1wbGVcIiBuYW1lPVwibmctbW9kZWxcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnaW5wdXRFeGFtcGxlJywgW10pXG4gICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICRzY29wZS52YWwgPSAnMSc7XG4gICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxzdHlsZT5cbiAgICAgICAgIC5teS1pbnB1dCB7XG4gICAgICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xuICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgIH1cbiAgICAgICAgIC5teS1pbnB1dC5uZy1pbnZhbGlkIHtcbiAgICAgICAgICAgY29sb3I6d2hpdGU7XG4gICAgICAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICAgICAgIH1cbiAgICAgICA8L3N0eWxlPlxuICAgICAgIDxwIGlkPVwiaW5wdXREZXNjcmlwdGlvblwiPlxuICAgICAgICBVcGRhdGUgaW5wdXQgdG8gc2VlIHRyYW5zaXRpb25zIHdoZW4gdmFsaWQvaW52YWxpZC5cbiAgICAgICAgSW50ZWdlciBpcyBhIHZhbGlkIHZhbHVlLlxuICAgICAgIDwvcD5cbiAgICAgICA8Zm9ybSBuYW1lPVwidGVzdEZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInZhbFwiIG5nLXBhdHRlcm49XCIvXlxcZCskL1wiIG5hbWU9XCJhbmltXCIgY2xhc3M9XCJteS1pbnB1dFwiXG4gICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImlucHV0RGVzY3JpcHRpb25cIiAvPlxuICAgICAgIDwvZm9ybT5cbiAgICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgQmluZGluZyB0byBhIGdldHRlci9zZXR0ZXJcbiAqXG4gKiBTb21ldGltZXMgaXQncyBoZWxwZnVsIHRvIGJpbmQgYG5nTW9kZWxgIHRvIGEgZ2V0dGVyL3NldHRlciBmdW5jdGlvbi4gIEEgZ2V0dGVyL3NldHRlciBpcyBhXG4gKiBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSByZXByZXNlbnRhdGlvbiBvZiB0aGUgbW9kZWwgd2hlbiBjYWxsZWQgd2l0aCB6ZXJvIGFyZ3VtZW50cywgYW5kIHNldHNcbiAqIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBhIG1vZGVsIHdoZW4gY2FsbGVkIHdpdGggYW4gYXJndW1lbnQuIEl0J3Mgc29tZXRpbWVzIHVzZWZ1bCB0byB1c2UgdGhpc1xuICogZm9yIG1vZGVscyB0aGF0IGhhdmUgYW4gaW50ZXJuYWwgcmVwcmVzZW50YXRpb24gdGhhdCdzIGRpZmZlcmVudCBmcm9tIHdoYXQgdGhlIG1vZGVsIGV4cG9zZXNcbiAqIHRvIHRoZSB2aWV3LlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1zdWNjZXNzXCI+XG4gKiAqKkJlc3QgUHJhY3RpY2U6KiogSXQncyBiZXN0IHRvIGtlZXAgZ2V0dGVycyBmYXN0IGJlY2F1c2UgQW5ndWxhckpTIGlzIGxpa2VseSB0byBjYWxsIHRoZW0gbW9yZVxuICogZnJlcXVlbnRseSB0aGFuIG90aGVyIHBhcnRzIG9mIHlvdXIgY29kZS5cbiAqIDwvZGl2PlxuICpcbiAqIFlvdSB1c2UgdGhpcyBiZWhhdmlvciBieSBhZGRpbmcgYG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCJgIHRvIGFuIGVsZW1lbnQgdGhhdFxuICogaGFzIGBuZy1tb2RlbGAgYXR0YWNoZWQgdG8gaXQuIFlvdSBjYW4gYWxzbyBhZGQgYG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCJgIHRvXG4gKiBhIGA8Zm9ybT5gLCB3aGljaCB3aWxsIGVuYWJsZSB0aGlzIGJlaGF2aW9yIGZvciBhbGwgYDxpbnB1dD5gcyB3aXRoaW4gaXQuIFNlZVxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBgbmdNb2RlbE9wdGlvbnNgfSBmb3IgbW9yZS5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIHVzZSBgbmdNb2RlbGAgd2l0aCBhIGdldHRlci9zZXR0ZXI6XG4gKlxuICogQGV4YW1wbGVcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ01vZGVsLWdldHRlci1zZXR0ZXJcIiBtb2R1bGU9XCJnZXR0ZXJTZXR0ZXJFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxuICAgICAgICAgICA8bGFiZWw+TmFtZTpcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxuICAgICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCIgLz5cbiAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZSgpXCI+PC9zcGFuPjwvcHJlPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnZ2V0dGVyU2V0dGVyRXhhbXBsZScsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgdmFyIF9uYW1lID0gJ0JyaWFuJztcbiAgICAgICAgICAgJHNjb3BlLnVzZXIgPSB7XG4gICAgICAgICAgICAgbmFtZTogZnVuY3Rpb24obmV3TmFtZSkge1xuICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgbmV3TmFtZSBjYW4gYmUgdW5kZWZpbmVkIGZvciB0d28gcmVhc29uczpcbiAgICAgICAgICAgICAgLy8gMS4gQmVjYXVzZSBpdCBpcyBjYWxsZWQgYXMgYSBnZXR0ZXIgYW5kIHRodXMgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzXG4gICAgICAgICAgICAgIC8vIDIuIEJlY2F1c2UgdGhlIHByb3BlcnR5IHNob3VsZCBhY3R1YWxseSBiZSBzZXQgdG8gdW5kZWZpbmVkLiBUaGlzIGhhcHBlbnMgZS5nLiBpZiB0aGVcbiAgICAgICAgICAgICAgLy8gICAgaW5wdXQgaXMgaW52YWxpZFxuICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChfbmFtZSA9IG5ld05hbWUpIDogX25hbWU7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICB9O1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ01vZGVsRGlyZWN0aXZlID0gWyckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHJvb3RTY29wZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogWyduZ01vZGVsJywgJ14/Zm9ybScsICdeP25nTW9kZWxPcHRpb25zJ10sXG4gICAgY29udHJvbGxlcjogTmdNb2RlbENvbnRyb2xsZXIsXG4gICAgLy8gUHJlbGluayBuZWVkcyB0byBydW4gYmVmb3JlIGFueSBpbnB1dCBkaXJlY3RpdmVcbiAgICAvLyBzbyB0aGF0IHdlIGNhbiBzZXQgdGhlIE5nTW9kZWxPcHRpb25zIGluIE5nTW9kZWxDb250cm9sbGVyXG4gICAgLy8gYmVmb3JlIGFueW9uZSBlbHNlIHVzZXMgaXQuXG4gICAgcHJpb3JpdHk6IDEsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdNb2RlbENvbXBpbGUoZWxlbWVudCkge1xuICAgICAgLy8gU2V0dXAgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgY29udHJvbFxuICAgICAgZWxlbWVudC5hZGRDbGFzcyhQUklTVElORV9DTEFTUykuYWRkQ2xhc3MoVU5UT1VDSEVEX0NMQVNTKS5hZGRDbGFzcyhWQUxJRF9DTEFTUyk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByZTogZnVuY3Rpb24gbmdNb2RlbFByZUxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICAgICAgdmFyIG1vZGVsQ3RybCA9IGN0cmxzWzBdLFxuICAgICAgICAgICAgICBmb3JtQ3RybCA9IGN0cmxzWzFdIHx8IG1vZGVsQ3RybC4kJHBhcmVudEZvcm0sXG4gICAgICAgICAgICAgIG9wdGlvbnNDdHJsID0gY3RybHNbMl07XG5cbiAgICAgICAgICBpZiAob3B0aW9uc0N0cmwpIHtcbiAgICAgICAgICAgIG1vZGVsQ3RybC4kb3B0aW9ucyA9IG9wdGlvbnNDdHJsLiRvcHRpb25zO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG1vZGVsQ3RybC4kJGluaXRHZXR0ZXJTZXR0ZXJzKCk7XG5cbiAgICAgICAgICAvLyBub3RpZnkgb3RoZXJzLCBlc3BlY2lhbGx5IHBhcmVudCBmb3Jtc1xuICAgICAgICAgIGZvcm1DdHJsLiRhZGRDb250cm9sKG1vZGVsQ3RybCk7XG5cbiAgICAgICAgICBhdHRyLiRvYnNlcnZlKCduYW1lJywgZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChtb2RlbEN0cmwuJG5hbWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgIG1vZGVsQ3RybC4kJHBhcmVudEZvcm0uJCRyZW5hbWVDb250cm9sKG1vZGVsQ3RybCwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbW9kZWxDdHJsLiQkcGFyZW50Rm9ybS4kcmVtb3ZlQ29udHJvbChtb2RlbEN0cmwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBwb3N0OiBmdW5jdGlvbiBuZ01vZGVsUG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICAgICAgdmFyIG1vZGVsQ3RybCA9IGN0cmxzWzBdO1xuICAgICAgICAgIG1vZGVsQ3RybC4kJHNldFVwZGF0ZU9uRXZlbnRzKCk7XG5cbiAgICAgICAgICBmdW5jdGlvbiBzZXRUb3VjaGVkKCkge1xuICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRUb3VjaGVkKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxlbWVudC5vbignYmx1cicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKG1vZGVsQ3RybC4kdG91Y2hlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoc2V0VG91Y2hlZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoc2V0VG91Y2hlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cbi8qIGV4cG9ydGVkIGRlZmF1bHRNb2RlbE9wdGlvbnMgKi9cbnZhciBkZWZhdWx0TW9kZWxPcHRpb25zO1xudmFyIERFRkFVTFRfUkVHRVhQID0gLyhcXHMrfF4pZGVmYXVsdChcXHMrfCQpLztcblxuLyoqXG4gKiBAbmdkb2MgdHlwZVxuICogQG5hbWUgTW9kZWxPcHRpb25zXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgY29udGFpbmVyIGZvciB0aGUgb3B0aW9ucyBzZXQgYnkgdGhlIHtAbGluayBuZ01vZGVsT3B0aW9uc30gZGlyZWN0aXZlXG4gKi9cbmZ1bmN0aW9uIE1vZGVsT3B0aW9ucyhvcHRpb25zKSB7XG4gIHRoaXMuJCRvcHRpb25zID0gb3B0aW9ucztcbn1cblxuTW9kZWxPcHRpb25zLnByb3RvdHlwZSA9IHtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBNb2RlbE9wdGlvbnMjZ2V0T3B0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBvcHRpb24gdG8gcmV0cmlldmVcbiAgICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSBvZiB0aGUgb3B0aW9uXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gb3B0aW9uXG4gICAqL1xuICBnZXRPcHRpb246IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy4kJG9wdGlvbnNbbmFtZV07XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgTW9kZWxPcHRpb25zI2NyZWF0ZUNoaWxkXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIGEgaGFzaCBvZiBvcHRpb25zIGZvciB0aGUgbmV3IGNoaWxkIHRoYXQgd2lsbCBvdmVycmlkZSB0aGUgcGFyZW50J3Mgb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtNb2RlbE9wdGlvbnN9IGEgbmV3IGBNb2RlbE9wdGlvbnNgIG9iamVjdCBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxuICAgKi9cbiAgY3JlYXRlQ2hpbGQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgaW5oZXJpdEFsbCA9IGZhbHNlO1xuXG4gICAgLy8gbWFrZSBhIHNoYWxsb3cgY29weVxuICAgIG9wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpO1xuXG4gICAgLy8gSW5oZXJpdCBvcHRpb25zIGZyb20gdGhlIHBhcmVudCBpZiBzcGVjaWZpZWQgYnkgdGhlIHZhbHVlIGBcIiRpbmhlcml0XCJgXG4gICAgZm9yRWFjaChvcHRpb25zLCAvKiogQHRoaXMgKi8gZnVuY3Rpb24ob3B0aW9uLCBrZXkpIHtcbiAgICAgIGlmIChvcHRpb24gPT09ICckaW5oZXJpdCcpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJyonKSB7XG4gICAgICAgICAgaW5oZXJpdEFsbCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9uc1trZXldID0gdGhpcy4kJG9wdGlvbnNba2V5XTtcbiAgICAgICAgICAvLyBgdXBkYXRlT25gIGlzIHNwZWNpYWwgc28gd2UgbXVzdCBhbHNvIGluaGVyaXQgdGhlIGB1cGRhdGVPbkRlZmF1bHRgIG9wdGlvblxuICAgICAgICAgIGlmIChrZXkgPT09ICd1cGRhdGVPbicpIHtcbiAgICAgICAgICAgIG9wdGlvbnMudXBkYXRlT25EZWZhdWx0ID0gdGhpcy4kJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ3VwZGF0ZU9uJykge1xuICAgICAgICAgIC8vIElmIHRoZSBgdXBkYXRlT25gIHByb3BlcnR5IGNvbnRhaW5zIHRoZSBgZGVmYXVsdGAgZXZlbnQgdGhlbiB3ZSBoYXZlIHRvIHJlbW92ZVxuICAgICAgICAgIC8vIGl0IGZyb20gdGhlIGV2ZW50IGxpc3QgYW5kIHNldCB0aGUgYHVwZGF0ZU9uRGVmYXVsdGAgZmxhZy5cbiAgICAgICAgICBvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdCA9IGZhbHNlO1xuICAgICAgICAgIG9wdGlvbnNba2V5XSA9IHRyaW0ob3B0aW9uLnJlcGxhY2UoREVGQVVMVF9SRUdFWFAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuICcgJztcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcblxuICAgIGlmIChpbmhlcml0QWxsKSB7XG4gICAgICAvLyBXZSBoYXZlIGEgcHJvcGVydHkgb2YgdGhlIGZvcm06IGBcIipcIjogXCIkaW5oZXJpdFwiYFxuICAgICAgZGVsZXRlIG9wdGlvbnNbJyonXTtcbiAgICAgIGRlZmF1bHRzKG9wdGlvbnMsIHRoaXMuJCRvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvLyBGaW5hbGx5IGFkZCBpbiBhbnkgbWlzc2luZyBkZWZhdWx0c1xuICAgIGRlZmF1bHRzKG9wdGlvbnMsIGRlZmF1bHRNb2RlbE9wdGlvbnMuJCRvcHRpb25zKTtcblxuICAgIHJldHVybiBuZXcgTW9kZWxPcHRpb25zKG9wdGlvbnMpO1xuICB9XG59O1xuXG5cbmRlZmF1bHRNb2RlbE9wdGlvbnMgPSBuZXcgTW9kZWxPcHRpb25zKHtcbiAgdXBkYXRlT246ICcnLFxuICB1cGRhdGVPbkRlZmF1bHQ6IHRydWUsXG4gIGRlYm91bmNlOiAwLFxuICBnZXR0ZXJTZXR0ZXI6IGZhbHNlLFxuICBhbGxvd0ludmFsaWQ6IGZhbHNlLFxuICB0aW1lem9uZTogbnVsbFxufSk7XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vZGVsT3B0aW9uc1xuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSAxMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBtb2RpZnkgdGhlIGJlaGF2aW91ciBvZiB7QGxpbmsgbmdNb2RlbH0gZGlyZWN0aXZlcyB3aXRoaW4geW91clxuICogYXBwbGljYXRpb24uIFlvdSBjYW4gc3BlY2lmeSBhbiBgbmdNb2RlbE9wdGlvbnNgIGRpcmVjdGl2ZSBvbiBhbnkgZWxlbWVudC4gQWxsIHtAbGluayBuZ01vZGVsfVxuICogZGlyZWN0aXZlcyB3aWxsIHVzZSB0aGUgb3B0aW9ucyBvZiB0aGVpciBuZWFyZXN0IGBuZ01vZGVsT3B0aW9uc2AgYW5jZXN0b3IuXG4gKlxuICogVGhlIGBuZ01vZGVsT3B0aW9uc2Agc2V0dGluZ3MgYXJlIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgZGlyZWN0aXZlIGFzXG4gKiBhbiBBbmd1bGFySlMgZXhwcmVzc2lvbi4gVGhpcyBleHByZXNzaW9uIHNob3VsZCBldmFsdWF0ZSB0byBhbiBvYmplY3QsIHdob3NlIHByb3BlcnRpZXMgY29udGFpblxuICogdGhlIHNldHRpbmdzLiBGb3IgZXhhbXBsZTogYDxkaXYgbmctbW9kZWwtb3B0aW9ucz1cInsgZGVib3VuY2U6IDEwMCB9XCJgLlxuICpcbiAqICMjIEluaGVyaXRpbmcgT3B0aW9uc1xuICpcbiAqIFlvdSBjYW4gc3BlY2lmeSB0aGF0IGFuIGBuZ01vZGVsT3B0aW9uc2Agc2V0dGluZyBzaG91bGQgYmUgaW5oZXJpdGVkIGZyb20gYSBwYXJlbnQgYG5nTW9kZWxPcHRpb25zYFxuICogZGlyZWN0aXZlIGJ5IGdpdmluZyBpdCB0aGUgdmFsdWUgb2YgYFwiJGluaGVyaXRcImAuXG4gKiBUaGVuIGl0IHdpbGwgaW5oZXJpdCB0aGF0IHNldHRpbmcgZnJvbSB0aGUgZmlyc3QgYG5nTW9kZWxPcHRpb25zYCBkaXJlY3RpdmUgZm91bmQgYnkgdHJhdmVyc2luZyB1cCB0aGVcbiAqIERPTSB0cmVlLiBJZiB0aGVyZSBpcyBubyBhbmNlc3RvciBlbGVtZW50IGNvbnRhaW5pbmcgYW4gYG5nTW9kZWxPcHRpb25zYCBkaXJlY3RpdmUgdGhlbiBkZWZhdWx0IHNldHRpbmdzXG4gKiB3aWxsIGJlIHVzZWQuXG4gKlxuICogRm9yIGV4YW1wbGUgZ2l2ZW4gdGhlIGZvbGxvd2luZyBmcmFnbWVudCBvZiBIVE1MXG4gKlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgbmctbW9kZWwtb3B0aW9ucz1cInsgYWxsb3dJbnZhbGlkOiB0cnVlLCBkZWJvdW5jZTogMjAwIH1cIj5cbiAqICAgPGZvcm0gbmctbW9kZWwtb3B0aW9ucz1cInsgdXBkYXRlT246ICdibHVyJywgYWxsb3dJbnZhbGlkOiAnJGluaGVyaXQnIH1cIj5cbiAqICAgICA8aW5wdXQgbmctbW9kZWwtb3B0aW9ucz1cInsgdXBkYXRlT246ICdkZWZhdWx0JywgYWxsb3dJbnZhbGlkOiAnJGluaGVyaXQnIH1cIiAvPlxuICogICA8L2Zvcm0+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIHRoZSBgaW5wdXRgIGVsZW1lbnQgd2lsbCBoYXZlIHRoZSBmb2xsb3dpbmcgc2V0dGluZ3NcbiAqXG4gKiBgYGBqc1xuICogeyBhbGxvd0ludmFsaWQ6IHRydWUsIHVwZGF0ZU9uOiAnZGVmYXVsdCcsIGRlYm91bmNlOiAwIH1cbiAqIGBgYFxuICpcbiAqIE5vdGljZSB0aGF0IHRoZSBgZGVib3VuY2VgIHNldHRpbmcgd2FzIG5vdCBpbmhlcml0ZWQgYW5kIHVzZWQgdGhlIGRlZmF1bHQgdmFsdWUgaW5zdGVhZC5cbiAqXG4gKiBZb3UgY2FuIHNwZWNpZnkgdGhhdCBhbGwgdW5kZWZpbmVkIHNldHRpbmdzIGFyZSBhdXRvbWF0aWNhbGx5IGluaGVyaXRlZCBmcm9tIGFuIGFuY2VzdG9yIGJ5XG4gKiBpbmNsdWRpbmcgYSBwcm9wZXJ0eSB3aXRoIGtleSBvZiBgXCIqXCJgIGFuZCB2YWx1ZSBvZiBgXCIkaW5oZXJpdFwiYC5cbiAqXG4gKiBGb3IgZXhhbXBsZSBnaXZlbiB0aGUgZm9sbG93aW5nIGZyYWdtZW50IG9mIEhUTUxcbiAqXG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBuZy1tb2RlbC1vcHRpb25zPVwieyBhbGxvd0ludmFsaWQ6IHRydWUsIGRlYm91bmNlOiAyMDAgfVwiPlxuICogICA8Zm9ybSBuZy1tb2RlbC1vcHRpb25zPVwieyB1cGRhdGVPbjogJ2JsdXInLCBcIipcIjogJyRpbmhlcml0JyB9XCI+XG4gKiAgICAgPGlucHV0IG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnZGVmYXVsdCcsIFwiKlwiOiAnJGluaGVyaXQnIH1cIiAvPlxuICogICA8L2Zvcm0+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIHRoZSBgaW5wdXRgIGVsZW1lbnQgd2lsbCBoYXZlIHRoZSBmb2xsb3dpbmcgc2V0dGluZ3NcbiAqXG4gKiBgYGBqc1xuICogeyBhbGxvd0ludmFsaWQ6IHRydWUsIHVwZGF0ZU9uOiAnZGVmYXVsdCcsIGRlYm91bmNlOiAyMDAgfVxuICogYGBgXG4gKlxuICogTm90aWNlIHRoYXQgdGhlIGBkZWJvdW5jZWAgc2V0dGluZyBub3cgaW5oZXJpdHMgdGhlIHZhbHVlIGZyb20gdGhlIG91dGVyIGA8ZGl2PmAgZWxlbWVudC5cbiAqXG4gKiBJZiB5b3UgYXJlIGNyZWF0aW5nIGEgcmV1c2FibGUgY29tcG9uZW50IHRoZW4geW91IHNob3VsZCBiZSBjYXJlZnVsIHdoZW4gdXNpbmcgYFwiKlwiOiBcIiRpbmhlcml0XCJgXG4gKiBzaW5jZSB5b3UgbWF5IGluYWR2ZXJ0ZW50bHkgaW5oZXJpdCBhIHNldHRpbmcgaW4gdGhlIGZ1dHVyZSB0aGF0IGNoYW5nZXMgdGhlIGJlaGF2aW9yIG9mIHlvdXIgY29tcG9uZW50LlxuICpcbiAqXG4gKiAjIyBUcmlnZ2VyaW5nIGFuZCBkZWJvdW5jaW5nIG1vZGVsIHVwZGF0ZXNcbiAqXG4gKiBUaGUgYHVwZGF0ZU9uYCBhbmQgYGRlYm91bmNlYCBwcm9wZXJ0aWVzIGFsbG93IHlvdSB0byBzcGVjaWZ5IGEgY3VzdG9tIGxpc3Qgb2YgZXZlbnRzIHRoYXQgd2lsbFxuICogdHJpZ2dlciBhIG1vZGVsIHVwZGF0ZSBhbmQvb3IgYSBkZWJvdW5jaW5nIGRlbGF5IHNvIHRoYXQgdGhlIGFjdHVhbCB1cGRhdGUgb25seSB0YWtlcyBwbGFjZSB3aGVuXG4gKiBhIHRpbWVyIGV4cGlyZXM7IHRoaXMgdGltZXIgd2lsbCBiZSByZXNldCBhZnRlciBhbm90aGVyIGNoYW5nZSB0YWtlcyBwbGFjZS5cbiAqXG4gKiBHaXZlbiB0aGUgbmF0dXJlIG9mIGBuZ01vZGVsT3B0aW9uc2AsIHRoZSB2YWx1ZSBkaXNwbGF5ZWQgaW5zaWRlIGlucHV0IGZpZWxkcyBpbiB0aGUgdmlldyBtaWdodFxuICogYmUgZGlmZmVyZW50IGZyb20gdGhlIHZhbHVlIGluIHRoZSBhY3R1YWwgbW9kZWwuIFRoaXMgbWVhbnMgdGhhdCBpZiB5b3UgdXBkYXRlIHRoZSBtb2RlbCB5b3VcbiAqIHNob3VsZCBhbHNvIGludm9rZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkcm9sbGJhY2tWaWV3VmFsdWV9IG9uIHRoZSByZWxldmFudCBpbnB1dCBmaWVsZCBpblxuICogb3JkZXIgdG8gbWFrZSBzdXJlIGl0IGlzIHN5bmNocm9uaXplZCB3aXRoIHRoZSBtb2RlbCBhbmQgdGhhdCBhbnkgZGVib3VuY2VkIGFjdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBUaGUgZWFzaWVzdCB3YXkgdG8gcmVmZXJlbmNlIHRoZSBjb250cm9sJ3Mge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHJvbGxiYWNrVmlld1ZhbHVlfVxuICogbWV0aG9kIGlzIGJ5IG1ha2luZyBzdXJlIHRoZSBpbnB1dCBpcyBwbGFjZWQgaW5zaWRlIGEgZm9ybSB0aGF0IGhhcyBhIGBuYW1lYCBhdHRyaWJ1dGUuIFRoaXMgaXNcbiAqIGltcG9ydGFudCBiZWNhdXNlIGBmb3JtYCBjb250cm9sbGVycyBhcmUgcHVibGlzaGVkIHRvIHRoZSByZWxhdGVkIHNjb3BlIHVuZGVyIHRoZSBuYW1lIGluIHRoZWlyXG4gKiBgbmFtZWAgYXR0cmlidXRlLlxuICpcbiAqIEFueSBwZW5kaW5nIGNoYW5nZXMgd2lsbCB0YWtlIHBsYWNlIGltbWVkaWF0ZWx5IHdoZW4gYW4gZW5jbG9zaW5nIGZvcm0gaXMgc3VibWl0dGVkIHZpYSB0aGVcbiAqIGBzdWJtaXRgIGV2ZW50LiBOb3RlIHRoYXQgYG5nQ2xpY2tgIGV2ZW50cyB3aWxsIG9jY3VyIGJlZm9yZSB0aGUgbW9kZWwgaXMgdXBkYXRlZC4gVXNlIGBuZ1N1Ym1pdGBcbiAqIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSB1cGRhdGVkIG1vZGVsLlxuICpcbiAqICMjIyBPdmVycmlkaW5nIGltbWVkaWF0ZSB1cGRhdGVzXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBvdmVycmlkZSBpbW1lZGlhdGUgdXBkYXRlcy4gQ2hhbmdlcyBvbiB0aGUgaW5wdXRzIHdpdGhpbiB0aGVcbiAqIGZvcm0gd2lsbCB1cGRhdGUgdGhlIG1vZGVsIG9ubHkgd2hlbiB0aGUgY29udHJvbCBsb3NlcyBmb2N1cyAoYmx1ciBldmVudCkuIElmIGBlc2NhcGVgIGtleSBpc1xuICogcHJlc3NlZCB3aGlsZSB0aGUgaW5wdXQgZmllbGQgaXMgZm9jdXNlZCwgdGhlIHZhbHVlIGlzIHJlc2V0IHRvIHRoZSB2YWx1ZSBpbiB0aGUgY3VycmVudCBtb2RlbC5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWJsdXJcIiBtb2R1bGU9XCJvcHRpb25zRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gKiAgICAgICA8Zm9ybSBuYW1lPVwidXNlckZvcm1cIj5cbiAqICAgICAgICAgPGxhYmVsPlxuICogICAgICAgICAgIE5hbWU6XG4gKiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcbiAqICAgICAgICAgICAgICAgICAgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIlxuICogICAgICAgICAgICAgICAgICBuZy1tb2RlbC1vcHRpb25zPVwieyB1cGRhdGVPbjogJ2JsdXInIH1cIlxuICogICAgICAgICAgICAgICAgICBuZy1rZXl1cD1cImNhbmNlbCgkZXZlbnQpXCIgLz5cbiAqICAgICAgICAgPC9sYWJlbD48YnIgLz5cbiAqICAgICAgICAgPGxhYmVsPlxuICogICAgICAgICAgIE90aGVyIGRhdGE6XG4gKiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1c2VyLmRhdGFcIiAvPlxuICogICAgICAgICA8L2xhYmVsPjxiciAvPlxuICogICAgICAgPC9mb3JtPlxuICogICAgICAgPHByZT51c2VyLm5hbWUgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5uYW1lXCI+PC9zcGFuPjwvcHJlPlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICAgICBhbmd1bGFyLm1vZHVsZSgnb3B0aW9uc0V4YW1wbGUnLCBbXSlcbiAqICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gKiAgICAgICAgICRzY29wZS51c2VyID0geyBuYW1lOiAnc2F5JywgZGF0YTogJycgfTtcbiAqXG4gKiAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbihlKSB7XG4gKiAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMjcpIHtcbiAqICAgICAgICAgICAgICRzY29wZS51c2VyRm9ybS51c2VyTmFtZS4kcm9sbGJhY2tWaWV3VmFsdWUoKTtcbiAqICAgICAgICAgICB9XG4gKiAgICAgICAgIH07XG4gKiAgICAgICB9XSk7XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygndXNlci5uYW1lJykpO1xuICogICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXIubmFtZScpKTtcbiAqICAgICB2YXIgb3RoZXIgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLmRhdGEnKSk7XG4gKlxuICogICAgIGl0KCdzaG91bGQgYWxsb3cgY3VzdG9tIGV2ZW50cycsIGZ1bmN0aW9uKCkge1xuICogICAgICAgaW5wdXQuc2VuZEtleXMoJyBoZWxsbycpO1xuICogICAgICAgaW5wdXQuY2xpY2soKTtcbiAqICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3NheScpO1xuICogICAgICAgb3RoZXIuY2xpY2soKTtcbiAqICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3NheSBoZWxsbycpO1xuICogICAgIH0pO1xuICpcbiAqICAgICBpdCgnc2hvdWxkICRyb2xsYmFja1ZpZXdWYWx1ZSB3aGVuIG1vZGVsIGNoYW5nZXMnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIGlucHV0LnNlbmRLZXlzKCcgaGVsbG8nKTtcbiAqICAgICAgIGV4cGVjdChpbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJ3NheSBoZWxsbycpO1xuICogICAgICAgaW5wdXQuc2VuZEtleXMocHJvdHJhY3Rvci5LZXkuRVNDQVBFKTtcbiAqICAgICAgIGV4cGVjdChpbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJ3NheScpO1xuICogICAgICAgb3RoZXIuY2xpY2soKTtcbiAqICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3NheScpO1xuICogICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogIyMjIERlYm91bmNpbmcgdXBkYXRlc1xuICpcbiAqIFRoZSBuZXh0IGV4YW1wbGUgc2hvd3MgaG93IHRvIGRlYm91bmNlIG1vZGVsIGNoYW5nZXMuIE1vZGVsIHdpbGwgYmUgdXBkYXRlZCBvbmx5IDEgc2VjIGFmdGVyIGxhc3QgY2hhbmdlLlxuICogSWYgdGhlIGBDbGVhcmAgYnV0dG9uIGlzIHByZXNzZWQsIGFueSBkZWJvdW5jZWQgYWN0aW9uIGlzIGNhbmNlbGVkIGFuZCB0aGUgdmFsdWUgYmVjb21lcyBlbXB0eS5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWRlYm91bmNlXCIgbW9kdWxlPVwib3B0aW9uc0V4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XG4gKiAgICAgICAgIE5hbWU6XG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiXG4gKiAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXG4gKiAgICAgICAgICAgICAgICBuZy1tb2RlbC1vcHRpb25zPVwieyBkZWJvdW5jZTogMTAwMCB9XCIgLz5cbiAqICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInVzZXJGb3JtLnVzZXJOYW1lLiRyb2xsYmFja1ZpZXdWYWx1ZSgpOyB1c2VyLm5hbWU9JydcIj5DbGVhcjwvYnV0dG9uPjxiciAvPlxuICogICAgICAgPC9mb3JtPlxuICogICAgICAgPHByZT51c2VyLm5hbWUgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5uYW1lXCI+PC9zcGFuPjwvcHJlPlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICAgICBhbmd1bGFyLm1vZHVsZSgnb3B0aW9uc0V4YW1wbGUnLCBbXSlcbiAqICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gKiAgICAgICAgICRzY29wZS51c2VyID0geyBuYW1lOiAnc2F5JyB9O1xuICogICAgICAgfV0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogIyMjIERlZmF1bHQgZXZlbnRzLCBleHRyYSB0cmlnZ2VycywgYW5kIGNhdGNoLWFsbCBkZWJvdW5jZSB2YWx1ZXNcbiAqXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIFwiZGVmYXVsdFwiIHVwZGF0ZSBldmVudHMgYW5kXG4gKiBhZGRpdGlvbmFsIGB1cGRhdGVPbmAgdHJpZ2dlcnMuXG4gKlxuICogYGRlZmF1bHRgIGV2ZW50cyBhcmUgdGhvc2UgdGhhdCBhcmUgYm91bmQgdG8gdGhlIGNvbnRyb2wsIGFuZCB3aGVuIGZpcmVkLCB1cGRhdGUgdGhlIGAkdmlld1ZhbHVlYFxuICogdmlhIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRWaWV3VmFsdWUgJHNldFZpZXdWYWx1ZX0uIEV2ZXJ5IGV2ZW50IHRoYXQgaXMgbm90IGxpc3RlZFxuICogaW4gYHVwZGF0ZU9uYCBpcyBjb25zaWRlcmVkIGEgXCJkZWZhdWx0XCIgZXZlbnQsIHNpbmNlIGRpZmZlcmVudCBjb250cm9sIHR5cGVzIGhhdmUgZGlmZmVyZW50XG4gKiBkZWZhdWx0IGV2ZW50cy5cbiAqXG4gKiBUaGUgY29udHJvbCBpbiB0aGlzIGV4YW1wbGUgdXBkYXRlcyBieSBcImRlZmF1bHRcIiwgXCJjbGlja1wiLCBhbmQgXCJibHVyXCIsIHdpdGggZGlmZmVyZW50IGBkZWJvdW5jZWBcbiAqIHZhbHVlcy4gWW91IGNhbiBzZWUgdGhhdCBcImNsaWNrXCIgZG9lc24ndCBoYXZlIGFuIGluZGl2aWR1YWwgYGRlYm91bmNlYCB2YWx1ZSAtXG4gKiB0aGVyZWZvcmUgaXQgdXNlcyB0aGUgYCpgIGRlYm91bmNlIHZhbHVlLlxuICpcbiAqIFRoZXJlIGlzIGFsc28gYSBidXR0b24gdGhhdCBjYWxscyB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0Vmlld1ZhbHVlICRzZXRWaWV3VmFsdWV9XG4gKiBkaXJlY3RseSB3aXRoIGEgXCJjdXN0b21cIiBldmVudC4gU2luY2UgXCJjdXN0b21cIiBpcyBub3QgZGVmaW5lZCBpbiB0aGUgYHVwZGF0ZU9uYCBsaXN0LFxuICogaXQgaXMgY29uc2lkZXJlZCBhIFwiZGVmYXVsdFwiIGV2ZW50IGFuZCB3aWxsIHVwZGF0ZSB0aGVcbiAqIGNvbnRyb2wgaWYgXCJkZWZhdWx0XCIgaXMgZGVmaW5lZCBpbiBgdXBkYXRlT25gLCBhbmQgd2lsbCByZWNlaXZlIHRoZSBcImRlZmF1bHRcIiBkZWJvdW5jZSB2YWx1ZS5cbiAqIE5vdGUgdGhhdCB0aGlzIGlzIGp1c3QgdG8gaWxsdXN0cmF0ZSBob3cgY3VzdG9tIGNvbnRyb2xzIHdvdWxkIHBvc3NpYmx5IGNhbGwgYCRzZXRWaWV3VmFsdWVgLlxuICpcbiAqIFlvdSBjYW4gY2hhbmdlIHRoZSBgdXBkYXRlT25gIGFuZCBgZGVib3VuY2VgIGNvbmZpZ3VyYXRpb24gdG8gdGVzdCBkaWZmZXJlbnQgc2NlbmFyaW9zLiBUaGlzXG4gKiBpcyBkb25lIHdpdGgge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJG92ZXJyaWRlTW9kZWxPcHRpb25zICRvdmVycmlkZU1vZGVsT3B0aW9uc30uXG4gKlxuICA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtYWR2YW5jZWRcIiBtb2R1bGU9XCJvcHRpb25zRXhhbXBsZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPG1vZGVsLXVwZGF0ZS1kZW1vPjwvbW9kZWwtdXBkYXRlLWRlbW8+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcHRpb25zRXhhbXBsZScsIFtdKVxuICAgICAgICAuY29tcG9uZW50KCdtb2RlbFVwZGF0ZURlbW8nLCB7XG4gICAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS5odG1sJyxcbiAgICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9ICdDaGludWEnO1xuXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgIHVwZGF0ZU9uOiAnZGVmYXVsdCBibHVyIGNsaWNrJyxcbiAgICAgICAgICAgICAgZGVib3VuY2U6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiAyMDAwLFxuICAgICAgICAgICAgICAgIGJsdXI6IDAsXG4gICAgICAgICAgICAgICAgJyonOiAxMDAwXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHZhciBldmVudExpc3QgPSB0aGlzLm9wdGlvbnMudXBkYXRlT24uc3BsaXQoJyAnKTtcbiAgICAgICAgICAgICAgZXZlbnRMaXN0LnB1c2goJyonKTtcbiAgICAgICAgICAgICAgdmFyIGV2ZW50cyA9IHt9O1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRzW2V2ZW50TGlzdFtpXV0gPSB0aGlzLm9wdGlvbnMuZGVib3VuY2VbZXZlbnRMaXN0W2ldXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHZhciBvcHRpb25zID0gYW5ndWxhci5leHRlbmQodGhpcy5vcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgdXBkYXRlT246IE9iamVjdC5rZXlzKHRoaXMuZXZlbnRzKS5qb2luKCcgJykucmVwbGFjZSgnKicsICcnKSxcbiAgICAgICAgICAgICAgICBkZWJvdW5jZTogdGhpcy5ldmVudHNcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgdGhpcy5mb3JtLmlucHV0LiRvdmVycmlkZU1vZGVsT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGV2ZW50IGZvcm1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlRXZlbnRzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInRlbXBsYXRlLmh0bWxcIj5cbiAgICAgIDxmb3JtIG5hbWU9XCIkY3RybC5mb3JtXCI+XG4gICAgICAgIElucHV0OiA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cIiRjdHJsLm5hbWVcIiBuZy1tb2RlbC1vcHRpb25zPVwiJGN0cmwub3B0aW9uc1wiIC8+XG4gICAgICA8L2Zvcm0+XG4gICAgICBNb2RlbDogPHR0Pnt7JGN0cmwubmFtZX19PC90dD5cbiAgICAgIDxocj5cbiAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkY3RybC5mb3JtLmlucHV0LiRzZXRWaWV3VmFsdWUoJ3NvbWUgdmFsdWUnLCAnY3VzdG9tJylcIj5UcmlnZ2VyIHNldFZpZXdWYWx1ZSB3aXRoICdzb21lIHZhbHVlJyBhbmQgJ2N1c3RvbScgZXZlbnQ8L2J1dHRvbj5cblxuICAgICAgPGhyPlxuICAgICAgPGZvcm0gbmctc3VibWl0PVwiJGN0cmwudXBkYXRlT3B0aW9ucygpXCI+XG4gICAgICAgIDxiPnVwZGF0ZU9uPC9iPjxicj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCIkY3RybC5vcHRpb25zLnVwZGF0ZU9uXCIgbmctY2hhbmdlPVwiJGN0cmwudXBkYXRlRXZlbnRzKClcIiBuZy1tb2RlbC1vcHRpb25zPVwie2RlYm91bmNlOiA1MDB9XCI+XG5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0aD5PcHRpb248L3RoPlxuICAgICAgICAgICAgPHRoPkRlYm91bmNlIHZhbHVlPC90aD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCIoa2V5LCB2YWx1ZSkgaW4gJGN0cmwuZXZlbnRzXCI+XG4gICAgICAgICAgICA8dGQ+e3trZXl9fTwvdGQ+XG4gICAgICAgICAgICA8dGQ+PGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cIiRjdHJsLmV2ZW50c1trZXldXCIgLz48L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGFibGU+XG5cbiAgICAgICAgPGJyPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIHZhbHVlPVwiVXBkYXRlIG9wdGlvbnNcIj5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cbiAqXG4gKlxuICogIyMgTW9kZWwgdXBkYXRlcyBhbmQgdmFsaWRhdGlvblxuICpcbiAqIFRoZSBkZWZhdWx0IGJlaGF2aW91ciBpbiBgbmdNb2RlbGAgaXMgdGhhdCB0aGUgbW9kZWwgdmFsdWUgaXMgc2V0IHRvIGB1bmRlZmluZWRgIHdoZW4gdGhlXG4gKiB2YWxpZGF0aW9uIGRldGVybWluZXMgdGhhdCB0aGUgdmFsdWUgaXMgaW52YWxpZC4gQnkgc2V0dGluZyB0aGUgYGFsbG93SW52YWxpZGAgcHJvcGVydHkgdG8gdHJ1ZSxcbiAqIHRoZSBtb2RlbCB3aWxsIHN0aWxsIGJlIHVwZGF0ZWQgZXZlbiBpZiB0aGUgdmFsdWUgaXMgaW52YWxpZC5cbiAqXG4gKlxuICogIyMgQ29ubmVjdGluZyB0byB0aGUgc2NvcGVcbiAqXG4gKiBCeSBzZXR0aW5nIHRoZSBgZ2V0dGVyU2V0dGVyYCBwcm9wZXJ0eSB0byB0cnVlIHlvdSBhcmUgdGVsbGluZyBuZ01vZGVsIHRoYXQgdGhlIGBuZ01vZGVsYCBleHByZXNzaW9uXG4gKiBvbiB0aGUgc2NvcGUgcmVmZXJzIHRvIGEgXCJnZXR0ZXIvc2V0dGVyXCIgZnVuY3Rpb24gcmF0aGVyIHRoYW4gdGhlIHZhbHVlIGl0c2VsZi5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIGJpbmQgdG8gZ2V0dGVyL3NldHRlcnM6XG4gKlxuICogPGV4YW1wbGUgbmFtZT1cIm5nTW9kZWxPcHRpb25zLWRpcmVjdGl2ZS1nZXR0ZXItc2V0dGVyXCIgbW9kdWxlPVwiZ2V0dGVyU2V0dGVyRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gKiAgICAgICA8Zm9ybSBuYW1lPVwidXNlckZvcm1cIj5cbiAqICAgICAgICAgPGxhYmVsPlxuICogICAgICAgICAgIE5hbWU6XG4gKiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcbiAqICAgICAgICAgICAgICAgICAgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIlxuICogICAgICAgICAgICAgICAgICBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiIC8+XG4gKiAgICAgICAgIDwvbGFiZWw+XG4gKiAgICAgICA8L2Zvcm0+XG4gKiAgICAgICA8cHJlPnVzZXIubmFtZSA9IDxzcGFuIG5nLWJpbmQ9XCJ1c2VyLm5hbWUoKVwiPjwvc3Bhbj48L3ByZT5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgICAgYW5ndWxhci5tb2R1bGUoJ2dldHRlclNldHRlckV4YW1wbGUnLCBbXSlcbiAqICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gKiAgICAgICAgIHZhciBfbmFtZSA9ICdCcmlhbic7XG4gKiAgICAgICAgICRzY29wZS51c2VyID0ge1xuICogICAgICAgICAgIG5hbWU6IGZ1bmN0aW9uKG5ld05hbWUpIHtcbiAqICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZChuZXdOYW1lKSA/IChfbmFtZSA9IG5ld05hbWUpIDogX25hbWU7XG4gKiAgICAgICAgICAgfVxuICogICAgICAgICB9O1xuICogICAgICAgfV0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICpcbiAqICMjIFByb2dyYW1tYXRpY2FsbHkgY2hhbmdpbmcgb3B0aW9uc1xuICpcbiAqIFRoZSBgbmdNb2RlbE9wdGlvbnNgIGV4cHJlc3Npb24gaXMgb25seSBldmFsdWF0ZWQgb25jZSB3aGVuIHRoZSBkaXJlY3RpdmUgaXMgbGlua2VkOyBpdCBpcyBub3RcbiAqIHdhdGNoZWQgZm9yIGNoYW5nZXMuIEhvd2V2ZXIsIGl0IGlzIHBvc3NpYmxlIHRvIG92ZXJyaWRlIHRoZSBvcHRpb25zIG9uIGEgc2luZ2xlXG4gKiB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlcn0gaW5zdGFuY2Ugd2l0aFxuICoge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJG92ZXJyaWRlTW9kZWxPcHRpb25zIGBOZ01vZGVsQ29udHJvbGxlciMkb3ZlcnJpZGVNb2RlbE9wdGlvbnMoKWB9LlxuICogU2VlIGFsc28gdGhlIGV4YW1wbGUgZm9yXG4gKiB7QGxpbmsgbmdNb2RlbE9wdGlvbnMjZGVmYXVsdC1ldmVudHMtZXh0cmEtdHJpZ2dlcnMtYW5kLWNhdGNoLWFsbC1kZWJvdW5jZS12YWx1ZXNcbiAqIERlZmF1bHQgZXZlbnRzLCBleHRyYSB0cmlnZ2VycywgYW5kIGNhdGNoLWFsbCBkZWJvdW5jZSB2YWx1ZXN9LlxuICpcbiAqXG4gKiAjIyBTcGVjaWZ5aW5nIHRpbWV6b25lc1xuICpcbiAqIFlvdSBjYW4gc3BlY2lmeSB0aGUgdGltZXpvbmUgdGhhdCBkYXRlL3RpbWUgaW5wdXQgZGlyZWN0aXZlcyBleHBlY3QgYnkgcHJvdmlkaW5nIGl0cyBuYW1lIGluIHRoZVxuICogYHRpbWV6b25lYCBwcm9wZXJ0eS5cbiAqXG4gKlxuICogIyMgRm9ybWF0dGluZyB0aGUgdmFsdWUgb2YgYHRpbWVgIGFuZCBgZGF0ZXRpbWUtbG9jYWxgXG4gKlxuICogV2l0aCB0aGUgb3B0aW9ucyBgdGltZVNlY29uZHNGb3JtYXRgIGFuZCBgdGltZVN0cmlwWmVyb1NlY29uZHNgIGl0IGlzIHBvc3NpYmxlIHRvIGFkanVzdCB0aGUgdmFsdWVcbiAqIHRoYXQgaXMgZGlzcGxheWVkIGluIHRoZSBjb250cm9sLiBOb3RlIHRoYXQgYnJvd3NlcnMgbWF5IGFwcGx5IHRoZWlyIG93biBmb3JtYXR0aW5nXG4gKiBpbiB0aGUgdXNlciBpbnRlcmZhY2UuXG4gKlxuICAgPGV4YW1wbGUgbmFtZT1cIm5nTW9kZWxPcHRpb25zLXRpbWUtZm9ybWF0XCIgbW9kdWxlPVwidGltZUV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8dGltZS1leGFtcGxlPjwvdGltZS1leGFtcGxlPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3RpbWVFeGFtcGxlJywgW10pXG4gICAgICAgICAgLmNvbXBvbmVudCgndGltZUV4YW1wbGUnLCB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3RpbWVFeGFtcGxlLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHRoaXMudGltZSA9IG5ldyBEYXRlKDE5NzAsIDAsIDEsIDE0LCA1NywgMCk7XG5cbiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHRpbWVTZWNvbmRzRm9ybWF0OiAnc3MnLFxuICAgICAgICAgICAgICAgIHRpbWVTdHJpcFplcm9TZWNvbmRzOiB0cnVlXG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgdGhpcy5vcHRpb25DaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVGb3JtLnRpbWVGb3JtYXR0ZWQuJG92ZXJyaWRlTW9kZWxPcHRpb25zKHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lID0gbmV3IERhdGUodGhpcy50aW1lKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwidGltZUV4YW1wbGUuaHRtbFwiPlxuICAgICAgIDxmb3JtIG5hbWU9XCIkY3RybC50aW1lRm9ybVwiPlxuICAgICAgICAgPHN0cm9uZz5EZWZhdWx0PC9zdHJvbmc+OlxuICAgICAgICAgPGlucHV0IHR5cGU9XCJ0aW1lXCIgbmctbW9kZWw9XCIkY3RybC50aW1lXCIgc3RlcD1cImFueVwiIC8+PGJyPlxuICAgICAgICAgPHN0cm9uZz5XaXRoIG9wdGlvbnM8L3N0cm9uZz46XG4gICAgICAgICA8aW5wdXQgdHlwZT1cInRpbWVcIiBuYW1lPVwidGltZUZvcm1hdHRlZFwiIG5nLW1vZGVsPVwiJGN0cmwudGltZVwiIHN0ZXA9XCJhbnlcIiBuZy1tb2RlbC1vcHRpb25zPVwiJGN0cmwub3B0aW9uc1wiIC8+XG4gICAgICAgICA8YnI+XG5cbiAgICAgICAgIE9wdGlvbnM6PGJyPlxuICAgICAgICAgPGNvZGU+dGltZVNlY29uZHNGb3JtYXQ8L2NvZGU+OlxuICAgICAgICAgPGlucHV0XG4gICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgbmctbW9kZWw9XCIkY3RybC5vcHRpb25zLnRpbWVTZWNvbmRzRm9ybWF0XCJcbiAgICAgICAgICAgbmctY2hhbmdlPVwiJGN0cmwub3B0aW9uQ2hhbmdlKClcIj5cbiAgICAgICAgIDxicj5cbiAgICAgICAgIDxjb2RlPnRpbWVTdHJpcFplcm9TZWNvbmRzPC9jb2RlPjpcbiAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICBuZy1tb2RlbD1cIiRjdHJsLm9wdGlvbnMudGltZVN0cmlwWmVyb1NlY29uZHNcIlxuICAgICAgICAgICBuZy1jaGFuZ2U9XCIkY3RybC5vcHRpb25DaGFuZ2UoKVwiPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2ZpbGU+XG4gKiAgPC9leGFtcGxlPlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBuZ01vZGVsT3B0aW9ucyBvcHRpb25zIHRvIGFwcGx5IHRvIHtAbGluayBuZ01vZGVsfSBkaXJlY3RpdmVzIG9uIHRoaXMgZWxlbWVudCBhbmRcbiAqICAgYW5kIGl0cyBkZXNjZW5kZW50cy5cbiAqXG4gKiAqKkdlbmVyYWwgb3B0aW9ucyoqOlxuICpcbiAqICAgLSBgdXBkYXRlT25gOiBzdHJpbmcgc3BlY2lmeWluZyB3aGljaCBldmVudCBzaG91bGQgdGhlIGlucHV0IGJlIGJvdW5kIHRvLiBZb3UgY2FuIHNldCBzZXZlcmFsXG4gKiAgICAgZXZlbnRzIHVzaW5nIGFuIHNwYWNlIGRlbGltaXRlZCBsaXN0LiBUaGVyZSBpcyBhIHNwZWNpYWwgZXZlbnQgY2FsbGVkIGBkZWZhdWx0YCB0aGF0XG4gKiAgICAgbWF0Y2hlcyB0aGUgZGVmYXVsdCBldmVudHMgYmVsb25naW5nIHRvIHRoZSBjb250cm9sLiBUaGVzZSBhcmUgdGhlIGV2ZW50cyB0aGF0IGFyZSBib3VuZCB0b1xuICogICAgIHRoZSBjb250cm9sLCBhbmQgd2hlbiBmaXJlZCwgdXBkYXRlIHRoZSBgJHZpZXdWYWx1ZWAgdmlhIGAkc2V0Vmlld1ZhbHVlYC5cbiAqXG4gKiAgICAgYG5nTW9kZWxPcHRpb25zYCBjb25zaWRlcnMgZXZlcnkgZXZlbnQgdGhhdCBpcyBub3QgbGlzdGVkIGluIGB1cGRhdGVPbmAgYSBcImRlZmF1bHRcIiBldmVudCxcbiAqICAgICBzaW5jZSBkaWZmZXJlbnQgY29udHJvbCB0eXBlcyB1c2UgZGlmZmVyZW50IGRlZmF1bHQgZXZlbnRzLlxuICpcbiAqICAgICBTZWUgYWxzbyB0aGUgc2VjdGlvbiB7QGxpbmsgbmdNb2RlbE9wdGlvbnMjdHJpZ2dlcmluZy1hbmQtZGVib3VuY2luZy1tb2RlbC11cGRhdGVzXG4gKiAgICAgVHJpZ2dlcmluZyBhbmQgZGVib3VuY2luZyBtb2RlbCB1cGRhdGVzfS5cbiAqXG4gKiAgIC0gYGRlYm91bmNlYDogaW50ZWdlciB2YWx1ZSB3aGljaCBjb250YWlucyB0aGUgZGVib3VuY2UgbW9kZWwgdXBkYXRlIHZhbHVlIGluIG1pbGxpc2Vjb25kcy4gQVxuICogICAgIHZhbHVlIG9mIDAgdHJpZ2dlcnMgYW4gaW1tZWRpYXRlIHVwZGF0ZS4gSWYgYW4gb2JqZWN0IGlzIHN1cHBsaWVkIGluc3RlYWQsIHlvdSBjYW4gc3BlY2lmeSBhXG4gKiAgICAgY3VzdG9tIHZhbHVlIGZvciBlYWNoIGV2ZW50LiBGb3IgZXhhbXBsZTpcbiAqICAgICBgYGBcbiAqICAgICBuZy1tb2RlbC1vcHRpb25zPVwie1xuICogICAgICAgdXBkYXRlT246ICdkZWZhdWx0IGJsdXInLFxuICogICAgICAgZGVib3VuY2U6IHsgJ2RlZmF1bHQnOiA1MDAsICdibHVyJzogMCB9XG4gKiAgICAgfVwiXG4gKiAgICAgYGBgXG4gKiAgICAgWW91IGNhbiB1c2UgdGhlIGAqYCBrZXkgdG8gc3BlY2lmeSBhIGRlYm91bmNlIHZhbHVlIHRoYXQgYXBwbGllcyB0byBhbGwgZXZlbnRzIHRoYXQgYXJlIG5vdFxuICogICAgIHNwZWNpZmljYWxseSBsaXN0ZWQuIEluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSwgYG1vdXNldXBgIHdvdWxkIGhhdmUgYSBkZWJvdW5jZSBkZWxheSBvZiAxMDAwOlxuICogICAgIGBgYFxuICogICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7XG4gKiAgICAgICB1cGRhdGVPbjogJ2RlZmF1bHQgYmx1ciBtb3VzZXVwJyxcbiAqICAgICAgIGRlYm91bmNlOiB7ICdkZWZhdWx0JzogNTAwLCAnYmx1cic6IDAsICcqJzogMTAwMCB9XG4gKiAgICAgfVwiXG4gKiAgICAgYGBgXG4gKiAgIC0gYGFsbG93SW52YWxpZGA6IGJvb2xlYW4gdmFsdWUgd2hpY2ggaW5kaWNhdGVzIHRoYXQgdGhlIG1vZGVsIGNhbiBiZSBzZXQgd2l0aCB2YWx1ZXMgdGhhdCBkaWRcbiAqICAgICBub3QgdmFsaWRhdGUgY29ycmVjdGx5IGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2Ygc2V0dGluZyB0aGUgbW9kZWwgdG8gdW5kZWZpbmVkLlxuICogICAtIGBnZXR0ZXJTZXR0ZXJgOiBib29sZWFuIHZhbHVlIHdoaWNoIGRldGVybWluZXMgd2hldGhlciBvciBub3QgdG8gdHJlYXQgZnVuY3Rpb25zIGJvdW5kIHRvXG4gKiAgICAgYG5nTW9kZWxgIGFzIGdldHRlcnMvc2V0dGVycy5cbiAqXG4gKlxuICogICoqSW5wdXQtdHlwZSBzcGVjaWZpYyBvcHRpb25zKio6XG4gKlxuICogICAtIGB0aW1lem9uZWA6IERlZmluZXMgdGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBmb3JcbiAqICAgICBgPGlucHV0IHR5cGU9XCJkYXRlXCIgLz5gLCBgPGlucHV0IHR5cGU9XCJ0aW1lXCIgLz5gLCAuLi4gLiBJdCB1bmRlcnN0YW5kcyBVVEMvR01UIGFuZCB0aGVcbiAqICAgICBjb250aW5lbnRhbCBVUyB0aW1lIHpvbmUgYWJicmV2aWF0aW9ucywgYnV0IGZvciBnZW5lcmFsIHVzZSwgdXNlIGEgdGltZSB6b25lIG9mZnNldCwgZm9yXG4gKiAgICAgZXhhbXBsZSwgYCcrMDQzMCdgICg0IGhvdXJzLCAzMCBtaW51dGVzIGVhc3Qgb2YgdGhlIEdyZWVud2ljaCBtZXJpZGlhbilcbiAqICAgICBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIgd2lsbCBiZSB1c2VkLlxuICogICAgIE5vdGUgdGhhdCBjaGFuZ2luZyB0aGUgdGltZXpvbmUgd2lsbCBoYXZlIG5vIGVmZmVjdCBvbiB0aGUgY3VycmVudCBkYXRlLCBhbmQgaXMgb25seSBhcHBsaWVkIGFmdGVyXG4gKiAgICAgdGhlIG5leHQgaW5wdXQgLyBtb2RlbCBjaGFuZ2UuXG4gKlxuICogICAtIGB0aW1lU2Vjb25kc0Zvcm1hdGA6IERlZmluZXMgaWYgdGhlIGB0aW1lYCBhbmQgYGRhdGV0aW1lLWxvY2FsYCB0eXBlcyBzaG91bGQgc2hvdyBzZWNvbmRzIGFuZFxuICogICAgIG1pbGxpc2Vjb25kcy4gVGhlIG9wdGlvbiBmb2xsb3dzIHRoZSBmb3JtYXQgc3RyaW5nIG9mIHtAbGluayBkYXRlIGRhdGUgZmlsdGVyfS5cbiAqICAgICBCeSBkZWZhdWx0LCB0aGUgb3B0aW9ucyBpcyBgdW5kZWZpbmVkYCB3aGljaCBpcyBlcXVhbCB0byBgJ3NzLnNzcydgIChzZWNvbmRzIGFuZCBtaWxsaXNlY29uZHMpLlxuICogICAgIFRoZSBvdGhlciBvcHRpb25zIGFyZSBgJ3NzJ2AgKHN0cmlwcyBtaWxsaXNlY29uZHMpLCBhbmQgYCcnYCAoZW1wdHkgc3RyaW5nKSwgd2hpY2ggc3RyaXBzIGJvdGhcbiAqICAgICBzZWNvbmRzIGFuZCBtaWxsaXNlY29uZHMuXG4gKiAgICAgTm90ZSB0aGF0IGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBgdGltZWAgYW5kIGBkYXRldGltZS1sb2NhbGAgcmVxdWlyZSB0aGUgaG91ciBhbmQgbWludXRlc1xuICogICAgIHBhcnQgb2YgdGhlIHRpbWUgc3RyaW5nLCBhbmQgbWF5IHNob3cgdGhlIHZhbHVlIGRpZmZlcmVudGx5IGluIHRoZSB1c2VyIGludGVyZmFjZS5cbiAqICAgICB7QGxpbmsgbmdNb2RlbE9wdGlvbnMjZm9ybWF0dGluZy10aGUtdmFsdWUtb2YtdGltZS1hbmQtZGF0ZXRpbWUtbG9jYWwtIFNlZSB0aGUgZXhhbXBsZX0uXG4gKlxuICogICAtIGB0aW1lU3RyaXBaZXJvU2Vjb25kc2A6IERlZmluZXMgaWYgdGhlIGB0aW1lYCBhbmQgYGRhdGV0aW1lLWxvY2FsYCB0eXBlcyBzaG91bGQgc3RyaXAgdGhlXG4gKiAgICAgc2Vjb25kcyBhbmQgbWlsbGlzZWNvbmRzIGZyb20gdGhlIGZvcm1hdHRlZCB2YWx1ZSBpZiB0aGV5IGFyZSB6ZXJvLiBUaGlzIG9wdGlvbiBpcyBhcHBsaWVkXG4gKiAgICAgYWZ0ZXIgYHRpbWVTZWNvbmRzRm9ybWF0YC5cbiAqICAgICBUaGlzIG9wdGlvbiBjYW4gYmUgdXNlZCB0byBtYWtlIHRoZSBmb3JtYXR0aW5nIGNvbnNpc3RlbnQgb3ZlciBkaWZmZXJlbnQgYnJvd3NlcnMsIGFzIHNvbWVcbiAqICAgICBicm93c2VycyB3aXRoIHN1cHBvcnQgZm9yIGB0aW1lYCB3aWxsIG5hdGl2ZWx5IGhpZGUgdGhlIG1pbGxpc2Vjb25kcyBhbmRcbiAqICAgICBzZWNvbmRzIGlmIHRoZXkgYXJlIHplcm8sIGJ1dCBvdGhlcnMgd29uJ3QsIGFuZCBicm93c2VycyB0aGF0IGRvbid0IGltcGxlbWVudCB0aGVzZSBpbnB1dFxuICogICAgIHR5cGVzIHdpbGwgYWx3YXlzIHNob3cgdGhlIGZ1bGwgc3RyaW5nLlxuICogICAgIHtAbGluayBuZ01vZGVsT3B0aW9ucyNmb3JtYXR0aW5nLXRoZS12YWx1ZS1vZi10aW1lLWFuZC1kYXRldGltZS1sb2NhbC0gU2VlIHRoZSBleGFtcGxlfS5cbiAqXG4gKi9cbnZhciBuZ01vZGVsT3B0aW9uc0RpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICBOZ01vZGVsT3B0aW9uc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGF0dHJzJywgJyRzY29wZSddO1xuICBmdW5jdGlvbiBOZ01vZGVsT3B0aW9uc0NvbnRyb2xsZXIoJGF0dHJzLCAkc2NvcGUpIHtcbiAgICB0aGlzLiQkYXR0cnMgPSAkYXR0cnM7XG4gICAgdGhpcy4kJHNjb3BlID0gJHNjb3BlO1xuICB9XG4gIE5nTW9kZWxPcHRpb25zQ29udHJvbGxlci5wcm90b3R5cGUgPSB7XG4gICAgJG9uSW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGFyZW50T3B0aW9ucyA9IHRoaXMucGFyZW50Q3RybCA/IHRoaXMucGFyZW50Q3RybC4kb3B0aW9ucyA6IGRlZmF1bHRNb2RlbE9wdGlvbnM7XG4gICAgICB2YXIgbW9kZWxPcHRpb25zRGVmaW5pdGlvbiA9IHRoaXMuJCRzY29wZS4kZXZhbCh0aGlzLiQkYXR0cnMubmdNb2RlbE9wdGlvbnMpO1xuXG4gICAgICB0aGlzLiRvcHRpb25zID0gcGFyZW50T3B0aW9ucy5jcmVhdGVDaGlsZChtb2RlbE9wdGlvbnNEZWZpbml0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIC8vIG5nTW9kZWxPcHRpb25zIG5lZWRzIHRvIHJ1biBiZWZvcmUgbmdNb2RlbCBhbmQgaW5wdXQgZGlyZWN0aXZlc1xuICAgIHByaW9yaXR5OiAxMCxcbiAgICByZXF1aXJlOiB7cGFyZW50Q3RybDogJz9eXm5nTW9kZWxPcHRpb25zJ30sXG4gICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiBOZ01vZGVsT3B0aW9uc0NvbnRyb2xsZXJcbiAgfTtcbn07XG5cblxuLy8gc2hhbGxvdyBjb3B5IG92ZXIgdmFsdWVzIGZyb20gYHNyY2AgdGhhdCBhcmUgbm90IGFscmVhZHkgc3BlY2lmaWVkIG9uIGBkc3RgXG5mdW5jdGlvbiBkZWZhdWx0cyhkc3QsIHNyYykge1xuICBmb3JFYWNoKHNyYywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIGlmICghaXNEZWZpbmVkKGRzdFtrZXldKSkge1xuICAgICAgZHN0W2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTm9uQmluZGFibGVcbiAqIEByZXN0cmljdCBBQ1xuICogQHByaW9yaXR5IDEwMDBcbiAqIEBlbGVtZW50IEFOWVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ05vbkJpbmRhYmxlYCBkaXJlY3RpdmUgdGVsbHMgQW5ndWxhckpTIG5vdCB0byBjb21waWxlIG9yIGJpbmQgdGhlIGNvbnRlbnRzIG9mIHRoZSBjdXJyZW50XG4gKiBET00gZWxlbWVudCwgaW5jbHVkaW5nIGRpcmVjdGl2ZXMgb24gdGhlIGVsZW1lbnQgaXRzZWxmIHRoYXQgaGF2ZSBhIGxvd2VyIHByaW9yaXR5IHRoYW5cbiAqIGBuZ05vbkJpbmRhYmxlYC4gVGhpcyBpcyB1c2VmdWwgaWYgdGhlIGVsZW1lbnQgY29udGFpbnMgd2hhdCBhcHBlYXJzIHRvIGJlIEFuZ3VsYXJKUyBkaXJlY3RpdmVzXG4gKiBhbmQgYmluZGluZ3MgYnV0IHdoaWNoIHNob3VsZCBiZSBpZ25vcmVkIGJ5IEFuZ3VsYXJKUy4gVGhpcyBjb3VsZCBiZSB0aGUgY2FzZSBpZiB5b3UgaGF2ZSBhIHNpdGVcbiAqIHRoYXQgZGlzcGxheXMgc25pcHBldHMgb2YgY29kZSwgZm9yIGluc3RhbmNlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBJbiB0aGlzIGV4YW1wbGUgdGhlcmUgYXJlIHR3byBsb2NhdGlvbnMgd2hlcmUgYSBzaW1wbGUgaW50ZXJwb2xhdGlvbiBiaW5kaW5nIChge3t9fWApIGlzIHByZXNlbnQsXG4gKiBidXQgdGhlIG9uZSB3cmFwcGVkIGluIGBuZ05vbkJpbmRhYmxlYCBpcyBsZWZ0IGFsb25lLlxuICpcbiAgPGV4YW1wbGUgbmFtZT1cIm5nLW5vbi1iaW5kYWJsZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2Pk5vcm1hbDoge3sxICsgMn19PC9kaXY+XG4gICAgICA8ZGl2IG5nLW5vbi1iaW5kYWJsZT5JZ25vcmVkOiB7ezEgKyAyfX08L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLW5vbi1iaW5kYWJsZScsIGZ1bmN0aW9uKCkge1xuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJzEgKyAyJykpLmdldFRleHQoKSkudG9Db250YWluKCczJyk7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnZGl2JykpLmxhc3QoKS5nZXRUZXh0KCkpLnRvTWF0Y2goLzEgXFwrIDIvKTtcbiAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoeyB0ZXJtaW5hbDogdHJ1ZSwgcHJpb3JpdHk6IDEwMDAgfSk7XG5cbi8qIGV4cG9ydGVkIG5nT3B0aW9uc0RpcmVjdGl2ZSAqL1xuXG4vKiBnbG9iYWwganFMaXRlUmVtb3ZlICovXG5cbnZhciBuZ09wdGlvbnNNaW5FcnIgPSBtaW5FcnIoJ25nT3B0aW9ucycpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nT3B0aW9uc1xuICogQHJlc3RyaWN0IEFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGUgYG5nT3B0aW9uc2AgYXR0cmlidXRlIGNhbiBiZSB1c2VkIHRvIGR5bmFtaWNhbGx5IGdlbmVyYXRlIGEgbGlzdCBvZiBgPG9wdGlvbj5gXG4gKiBlbGVtZW50cyBmb3IgdGhlIGA8c2VsZWN0PmAgZWxlbWVudCB1c2luZyB0aGUgYXJyYXkgb3Igb2JqZWN0IG9idGFpbmVkIGJ5IGV2YWx1YXRpbmcgdGhlXG4gKiBgbmdPcHRpb25zYCBjb21wcmVoZW5zaW9uIGV4cHJlc3Npb24uXG4gKlxuICogSW4gbWFueSBjYXNlcywge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1JlcGVhdCBuZ1JlcGVhdH0gY2FuIGJlIHVzZWQgb24gYDxvcHRpb24+YCBlbGVtZW50cyBpbnN0ZWFkIG9mXG4gKiBgbmdPcHRpb25zYCB0byBhY2hpZXZlIGEgc2ltaWxhciByZXN1bHQuIEhvd2V2ZXIsIGBuZ09wdGlvbnNgIHByb3ZpZGVzIHNvbWUgYmVuZWZpdHM6XG4gKiAtIG1vcmUgZmxleGliaWxpdHkgaW4gaG93IHRoZSBgPHNlbGVjdD5gJ3MgbW9kZWwgaXMgYXNzaWduZWQgdmlhIHRoZSBgc2VsZWN0YCAqKmBhc2AqKiBwYXJ0IG9mIHRoZVxuICogY29tcHJlaGVuc2lvbiBleHByZXNzaW9uXG4gKiAtIHJlZHVjZWQgbWVtb3J5IGNvbnN1bXB0aW9uIGJ5IG5vdCBjcmVhdGluZyBhIG5ldyBzY29wZSBmb3IgZWFjaCByZXBlYXRlZCBpbnN0YW5jZVxuICogLSBpbmNyZWFzZWQgcmVuZGVyIHNwZWVkIGJ5IGNyZWF0aW5nIHRoZSBvcHRpb25zIGluIGEgZG9jdW1lbnRGcmFnbWVudCBpbnN0ZWFkIG9mIGluZGl2aWR1YWxseVxuICpcbiAqIFdoZW4gYW4gaXRlbSBpbiB0aGUgYDxzZWxlY3Q+YCBtZW51IGlzIHNlbGVjdGVkLCB0aGUgYXJyYXkgZWxlbWVudCBvciBvYmplY3QgcHJvcGVydHlcbiAqIHJlcHJlc2VudGVkIGJ5IHRoZSBzZWxlY3RlZCBvcHRpb24gd2lsbCBiZSBib3VuZCB0byB0aGUgbW9kZWwgaWRlbnRpZmllZCBieSB0aGUgYG5nTW9kZWxgXG4gKiBkaXJlY3RpdmUuXG4gKlxuICogT3B0aW9uYWxseSwgYSBzaW5nbGUgaGFyZC1jb2RlZCBgPG9wdGlvbj5gIGVsZW1lbnQsIHdpdGggdGhlIHZhbHVlIHNldCB0byBhbiBlbXB0eSBzdHJpbmcsIGNhblxuICogYmUgbmVzdGVkIGludG8gdGhlIGA8c2VsZWN0PmAgZWxlbWVudC4gVGhpcyBlbGVtZW50IHdpbGwgdGhlbiByZXByZXNlbnQgdGhlIGBudWxsYCBvciBcIm5vdCBzZWxlY3RlZFwiXG4gKiBvcHRpb24uIFNlZSBleGFtcGxlIGJlbG93IGZvciBkZW1vbnN0cmF0aW9uLlxuICpcbiAqICMjIENvbXBsZXggTW9kZWxzIChvYmplY3RzIG9yIGNvbGxlY3Rpb25zKVxuICpcbiAqIEJ5IGRlZmF1bHQsIGBuZ01vZGVsYCB3YXRjaGVzIHRoZSBtb2RlbCBieSByZWZlcmVuY2UsIG5vdCB2YWx1ZS4gVGhpcyBpcyBpbXBvcnRhbnQgdG8ga25vdyB3aGVuXG4gKiBiaW5kaW5nIHRoZSBzZWxlY3QgdG8gYSBtb2RlbCB0aGF0IGlzIGFuIG9iamVjdCBvciBhIGNvbGxlY3Rpb24uXG4gKlxuICogT25lIGlzc3VlIG9jY3VycyBpZiB5b3Ugd2FudCB0byBwcmVzZWxlY3QgYW4gb3B0aW9uLiBGb3IgZXhhbXBsZSwgaWYgeW91IHNldFxuICogdGhlIG1vZGVsIHRvIGFuIG9iamVjdCB0aGF0IGlzIGVxdWFsIHRvIGFuIG9iamVjdCBpbiB5b3VyIGNvbGxlY3Rpb24sIGBuZ09wdGlvbnNgIHdvbid0IGJlIGFibGUgdG8gc2V0IHRoZSBzZWxlY3Rpb24sXG4gKiBiZWNhdXNlIHRoZSBvYmplY3RzIGFyZSBub3QgaWRlbnRpY2FsLiBTbyBieSBkZWZhdWx0LCB5b3Ugc2hvdWxkIGFsd2F5cyByZWZlcmVuY2UgdGhlIGl0ZW0gaW4geW91ciBjb2xsZWN0aW9uXG4gKiBmb3IgcHJlc2VsZWN0aW9ucywgZS5nLjogYCRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5jb2xsZWN0aW9uWzNdYC5cbiAqXG4gKiBBbm90aGVyIHNvbHV0aW9uIGlzIHRvIHVzZSBhIGB0cmFjayBieWAgY2xhdXNlLCBiZWNhdXNlIHRoZW4gYG5nT3B0aW9uc2Agd2lsbCB0cmFjayB0aGUgaWRlbnRpdHlcbiAqIG9mIHRoZSBpdGVtIG5vdCBieSByZWZlcmVuY2UsIGJ1dCBieSB0aGUgcmVzdWx0IG9mIHRoZSBgdHJhY2sgYnlgIGV4cHJlc3Npb24uIEZvciBleGFtcGxlLCBpZiB5b3VyXG4gKiBjb2xsZWN0aW9uIGl0ZW1zIGhhdmUgYW4gaWQgcHJvcGVydHksIHlvdSB3b3VsZCBgdHJhY2sgYnkgaXRlbS5pZGAuXG4gKlxuICogQSBkaWZmZXJlbnQgaXNzdWUgd2l0aCBvYmplY3RzIG9yIGNvbGxlY3Rpb25zIGlzIHRoYXQgbmdNb2RlbCB3b24ndCBkZXRlY3QgaWYgYW4gb2JqZWN0IHByb3BlcnR5IG9yXG4gKiBhIGNvbGxlY3Rpb24gaXRlbSBjaGFuZ2VzLiBGb3IgdGhhdCByZWFzb24sIGBuZ09wdGlvbnNgIGFkZGl0aW9uYWxseSB3YXRjaGVzIHRoZSBtb2RlbCB1c2luZ1xuICogYCR3YXRjaENvbGxlY3Rpb25gLCB3aGVuIHRoZSBleHByZXNzaW9uIGNvbnRhaW5zIGEgYHRyYWNrIGJ5YCBjbGF1c2Ugb3IgdGhlIHRoZSBzZWxlY3QgaGFzIHRoZSBgbXVsdGlwbGVgIGF0dHJpYnV0ZS5cbiAqIFRoaXMgYWxsb3dzIG5nT3B0aW9ucyB0byB0cmlnZ2VyIGEgcmUtcmVuZGVyaW5nIG9mIHRoZSBvcHRpb25zIGV2ZW4gaWYgdGhlIGFjdHVhbCBvYmplY3QvY29sbGVjdGlvblxuICogaGFzIG5vdCBjaGFuZ2VkIGlkZW50aXR5LCBidXQgb25seSBhIHByb3BlcnR5IG9uIHRoZSBvYmplY3Qgb3IgYW4gaXRlbSBpbiB0aGUgY29sbGVjdGlvbiBjaGFuZ2VzLlxuICpcbiAqIE5vdGUgdGhhdCBgJHdhdGNoQ29sbGVjdGlvbmAgZG9lcyBhIHNoYWxsb3cgY29tcGFyaXNvbiBvZiB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IChvciB0aGUgaXRlbXMgaW4gdGhlIGNvbGxlY3Rpb25cbiAqIGlmIHRoZSBtb2RlbCBpcyBhbiBhcnJheSkuIFRoaXMgbWVhbnMgdGhhdCBjaGFuZ2luZyBhIHByb3BlcnR5IGRlZXBlciB0aGFuIHRoZSBmaXJzdCBsZXZlbCBpbnNpZGUgdGhlXG4gKiBvYmplY3QvY29sbGVjdGlvbiB3aWxsIG5vdCB0cmlnZ2VyIGEgcmUtcmVuZGVyaW5nLlxuICpcbiAqICMjIGBzZWxlY3RgICoqYGFzYCoqXG4gKlxuICogVXNpbmcgYHNlbGVjdGAgKipgYXNgKiogd2lsbCBiaW5kIHRoZSByZXN1bHQgb2YgdGhlIGBzZWxlY3RgIGV4cHJlc3Npb24gdG8gdGhlIG1vZGVsLCBidXRcbiAqIHRoZSB2YWx1ZSBvZiB0aGUgYDxzZWxlY3Q+YCBhbmQgYDxvcHRpb24+YCBodG1sIGVsZW1lbnRzIHdpbGwgYmUgZWl0aGVyIHRoZSBpbmRleCAoZm9yIGFycmF5IGRhdGEgc291cmNlcylcbiAqIG9yIHByb3BlcnR5IG5hbWUgKGZvciBvYmplY3QgZGF0YSBzb3VyY2VzKSBvZiB0aGUgdmFsdWUgd2l0aGluIHRoZSBjb2xsZWN0aW9uLiBJZiBhICoqYHRyYWNrIGJ5YCoqIGV4cHJlc3Npb25cbiAqIGlzIHVzZWQsIHRoZSByZXN1bHQgb2YgdGhhdCBleHByZXNzaW9uIHdpbGwgYmUgc2V0IGFzIHRoZSB2YWx1ZSBvZiB0aGUgYG9wdGlvbmAgYW5kIGBzZWxlY3RgIGVsZW1lbnRzLlxuICpcbiAqXG4gKiAjIyMgYHNlbGVjdGAgKipgYXNgKiogYW5kICoqYHRyYWNrIGJ5YCoqXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqIEJlIGNhcmVmdWwgd2hlbiB1c2luZyBgc2VsZWN0YCAqKmBhc2AqKiBhbmQgKipgdHJhY2sgYnlgKiogaW4gdGhlIHNhbWUgZXhwcmVzc2lvbi5cbiAqIDwvZGl2PlxuICpcbiAqIEdpdmVuIHRoaXMgYXJyYXkgb2YgaXRlbXMgb24gdGhlICRzY29wZTpcbiAqXG4gKiBgYGBqc1xuICogJHNjb3BlLml0ZW1zID0gW3tcbiAqICAgaWQ6IDEsXG4gKiAgIGxhYmVsOiAnYUxhYmVsJyxcbiAqICAgc3ViSXRlbTogeyBuYW1lOiAnYVN1Ykl0ZW0nIH1cbiAqIH0sIHtcbiAqICAgaWQ6IDIsXG4gKiAgIGxhYmVsOiAnYkxhYmVsJyxcbiAqICAgc3ViSXRlbTogeyBuYW1lOiAnYlN1Ykl0ZW0nIH1cbiAqIH1dO1xuICogYGBgXG4gKlxuICogVGhpcyB3aWxsIHdvcms6XG4gKlxuICogYGBgaHRtbFxuICogPHNlbGVjdCBuZy1vcHRpb25zPVwiaXRlbSBhcyBpdGVtLmxhYmVsIGZvciBpdGVtIGluIGl0ZW1zIHRyYWNrIGJ5IGl0ZW0uaWRcIiBuZy1tb2RlbD1cInNlbGVjdGVkXCI+PC9zZWxlY3Q+XG4gKiBgYGBcbiAqIGBgYGpzXG4gKiAkc2NvcGUuc2VsZWN0ZWQgPSAkc2NvcGUuaXRlbXNbMF07XG4gKiBgYGBcbiAqXG4gKiBidXQgdGhpcyB3aWxsIG5vdCB3b3JrOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxzZWxlY3Qgbmctb3B0aW9ucz1cIml0ZW0uc3ViSXRlbSBhcyBpdGVtLmxhYmVsIGZvciBpdGVtIGluIGl0ZW1zIHRyYWNrIGJ5IGl0ZW0uaWRcIiBuZy1tb2RlbD1cInNlbGVjdGVkXCI+PC9zZWxlY3Q+XG4gKiBgYGBcbiAqIGBgYGpzXG4gKiAkc2NvcGUuc2VsZWN0ZWQgPSAkc2NvcGUuaXRlbXNbMF0uc3ViSXRlbTtcbiAqIGBgYFxuICpcbiAqIEluIGJvdGggZXhhbXBsZXMsIHRoZSAqKmB0cmFjayBieWAqKiBleHByZXNzaW9uIGlzIGFwcGxpZWQgc3VjY2Vzc2Z1bGx5IHRvIGVhY2ggYGl0ZW1gIGluIHRoZVxuICogYGl0ZW1zYCBhcnJheS4gQmVjYXVzZSB0aGUgc2VsZWN0ZWQgb3B0aW9uIGhhcyBiZWVuIHNldCBwcm9ncmFtbWF0aWNhbGx5IGluIHRoZSBjb250cm9sbGVyLCB0aGVcbiAqICoqYHRyYWNrIGJ5YCoqIGV4cHJlc3Npb24gaXMgYWxzbyBhcHBsaWVkIHRvIHRoZSBgbmdNb2RlbGAgdmFsdWUuIEluIHRoZSBmaXJzdCBleGFtcGxlLCB0aGVcbiAqIGBuZ01vZGVsYCB2YWx1ZSBpcyBgaXRlbXNbMF1gIGFuZCB0aGUgKipgdHJhY2sgYnlgKiogZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYGl0ZW1zWzBdLmlkYCB3aXRoXG4gKiBubyBpc3N1ZS4gSW4gdGhlIHNlY29uZCBleGFtcGxlLCB0aGUgYG5nTW9kZWxgIHZhbHVlIGlzIGBpdGVtc1swXS5zdWJJdGVtYCBhbmQgdGhlICoqYHRyYWNrIGJ5YCoqXG4gKiBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBgaXRlbXNbMF0uc3ViSXRlbS5pZGAgKHdoaWNoIGlzIHVuZGVmaW5lZCkuIEFzIGEgcmVzdWx0LCB0aGUgbW9kZWwgdmFsdWVcbiAqIGlzIG5vdCBtYXRjaGVkIGFnYWluc3QgYW55IGA8b3B0aW9uPmAgYW5kIHRoZSBgPHNlbGVjdD5gIGFwcGVhcnMgYXMgaGF2aW5nIG5vIHNlbGVjdGVkIHZhbHVlLlxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIEFuZ3VsYXJKUyBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAqIEBwYXJhbSB7Y29tcHJlaGVuc2lvbl9leHByZXNzaW9ufSBuZ09wdGlvbnMgaW4gb25lIG9mIHRoZSBmb2xsb3dpbmcgZm9ybXM6XG4gKlxuICogICAqIGZvciBhcnJheSBkYXRhIHNvdXJjZXM6XG4gKiAgICAgKiBgbGFiZWxgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWBcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YFxuICogICAgICogYGxhYmVsYCAqKmBncm91cCBieWAqKiBgZ3JvdXBgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWBcbiAqICAgICAqIGBsYWJlbGAgKipgZGlzYWJsZSB3aGVuYCoqIGBkaXNhYmxlYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgXG4gKiAgICAgKiBgbGFiZWxgICoqYGdyb3VwIGJ5YCoqIGBncm91cGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YCAqKmB0cmFjayBieWAqKiBgdHJhY2tleHByYFxuICogICAgICogYGxhYmVsYCAqKmBkaXNhYmxlIHdoZW5gKiogYGRpc2FibGVgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWAgKipgdHJhY2sgYnlgKiogYHRyYWNrZXhwcmBcbiAqICAgICAqIGBsYWJlbGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YCB8IG9yZGVyQnk6YG9yZGVyZXhwcmAgKipgdHJhY2sgYnlgKiogYHRyYWNrZXhwcmBcbiAqICAgICAgICAoZm9yIGluY2x1ZGluZyBhIGZpbHRlciB3aXRoIGB0cmFjayBieWApXG4gKiAgICogZm9yIG9iamVjdCBkYXRhIHNvdXJjZXM6XG4gKiAgICAgKiBgbGFiZWxgICoqYGZvciAoYCoqYGtleWAgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxuICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBmb3IgKGAqKmBrZXlgICoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcbiAqICAgICAqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYCAqKmBmb3IgKGAqKmBrZXlgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxuICogICAgICogYGxhYmVsYCAqKmBkaXNhYmxlIHdoZW5gKiogYGRpc2FibGVgICoqYGZvciAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXG4gKiAgICAgKiBgc2VsZWN0YCAqKmBhc2AqKiBgbGFiZWxgICoqYGdyb3VwIGJ5YCoqIGBncm91cGBcbiAqICAgICAgICAgKipgZm9yYCBgKGAqKmBrZXlgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxuICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBkaXNhYmxlIHdoZW5gKiogYGRpc2FibGVgXG4gKiAgICAgICAgICoqYGZvcmAgYChgKipga2V5YCoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcbiAqXG4gKiBXaGVyZTpcbiAqXG4gKiAgICogYGFycmF5YCAvIGBvYmplY3RgOiBhbiBleHByZXNzaW9uIHdoaWNoIGV2YWx1YXRlcyB0byBhbiBhcnJheSAvIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiAgICogYHZhbHVlYDogbG9jYWwgdmFyaWFibGUgd2hpY2ggd2lsbCByZWZlciB0byBlYWNoIGl0ZW0gaW4gdGhlIGBhcnJheWAgb3IgZWFjaCBwcm9wZXJ0eSB2YWx1ZVxuICogICAgICBvZiBgb2JqZWN0YCBkdXJpbmcgaXRlcmF0aW9uLlxuICogICAqIGBrZXlgOiBsb2NhbCB2YXJpYWJsZSB3aGljaCB3aWxsIHJlZmVyIHRvIGEgcHJvcGVydHkgbmFtZSBpbiBgb2JqZWN0YCBkdXJpbmcgaXRlcmF0aW9uLlxuICogICAqIGBsYWJlbGA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgdGhlIGxhYmVsIGZvciBgPG9wdGlvbj5gIGVsZW1lbnQuIFRoZVxuICogICAgIGBleHByZXNzaW9uYCB3aWxsIG1vc3QgbGlrZWx5IHJlZmVyIHRvIHRoZSBgdmFsdWVgIHZhcmlhYmxlIChlLmcuIGB2YWx1ZS5wcm9wZXJ0eU5hbWVgKS5cbiAqICAgKiBgc2VsZWN0YDogVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZSBib3VuZCB0byB0aGUgbW9kZWwgb2YgdGhlIHBhcmVudCBgPHNlbGVjdD5gXG4gKiAgICAgIGVsZW1lbnQuIElmIG5vdCBzcGVjaWZpZWQsIGBzZWxlY3RgIGV4cHJlc3Npb24gd2lsbCBkZWZhdWx0IHRvIGB2YWx1ZWAuXG4gKiAgICogYGdyb3VwYDogVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZSB1c2VkIHRvIGdyb3VwIG9wdGlvbnMgdXNpbmcgdGhlIGA8b3B0Z3JvdXA+YFxuICogICAgICBET00gZWxlbWVudC5cbiAqICAgKiBgZGlzYWJsZWA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgdXNlZCB0byBkaXNhYmxlIHRoZSByZW5kZXJlZCBgPG9wdGlvbj5gXG4gKiAgICAgIGVsZW1lbnQuIFJldHVybiBgdHJ1ZWAgdG8gZGlzYWJsZS5cbiAqICAgKiBgdHJhY2tleHByYDogVXNlZCB3aGVuIHdvcmtpbmcgd2l0aCBhbiBhcnJheSBvZiBvYmplY3RzLiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlXG4gKiAgICAgIHVzZWQgdG8gaWRlbnRpZnkgdGhlIG9iamVjdHMgaW4gdGhlIGFycmF5LiBUaGUgYHRyYWNrZXhwcmAgd2lsbCBtb3N0IGxpa2VseSByZWZlciB0byB0aGVcbiAqICAgICBgdmFsdWVgIHZhcmlhYmxlIChlLmcuIGB2YWx1ZS5wcm9wZXJ0eU5hbWVgKS4gV2l0aCB0aGlzIHRoZSBzZWxlY3Rpb24gaXMgcHJlc2VydmVkXG4gKiAgICAgIGV2ZW4gd2hlbiB0aGUgb3B0aW9ucyBhcmUgcmVjcmVhdGVkIChlLmcuIHJlbG9hZGVkIGZyb20gdGhlIHNlcnZlcikuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFRoZSBjb250cm9sIGlzIGNvbnNpZGVyZWQgdmFsaWQgb25seSBpZiB2YWx1ZSBpcyBlbnRlcmVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nQXR0clNpemUgc2V0cyB0aGUgc2l6ZSBvZiB0aGUgc2VsZWN0IGVsZW1lbnQgZHluYW1pY2FsbHkuIFVzZXMgdGhlXG4gKiB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiMtbmdhdHRyLWZvci1iaW5kaW5nLXRvLWFyYml0cmFyeS1hdHRyaWJ1dGVzIG5nQXR0cn0gZGlyZWN0aXZlLlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbW9kdWxlPVwic2VsZWN0RXhhbXBsZVwiIG5hbWU9XCJzZWxlY3RcIj5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxzY3JpcHQ+XG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdzZWxlY3RFeGFtcGxlJywgW10pXG4gICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICRzY29wZS5jb2xvcnMgPSBbXG4gICAgICAgICAgICAgIHtuYW1lOidibGFjaycsIHNoYWRlOidkYXJrJ30sXG4gICAgICAgICAgICAgIHtuYW1lOid3aGl0ZScsIHNoYWRlOidsaWdodCcsIG5vdEFuT3B0aW9uOiB0cnVlfSxcbiAgICAgICAgICAgICAge25hbWU6J3JlZCcsIHNoYWRlOidkYXJrJ30sXG4gICAgICAgICAgICAgIHtuYW1lOidibHVlJywgc2hhZGU6J2RhcmsnLCBub3RBbk9wdGlvbjogdHJ1ZX0sXG4gICAgICAgICAgICAgIHtuYW1lOid5ZWxsb3cnLCBzaGFkZTonbGlnaHQnLCBub3RBbk9wdGlvbjogZmFsc2V9XG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgJHNjb3BlLm15Q29sb3IgPSAkc2NvcGUuY29sb3JzWzJdOyAvLyByZWRcbiAgICAgICAgICB9XSk7XG4gICAgICAgIDwvc2NyaXB0PlxuICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJjb2xvciBpbiBjb2xvcnNcIj5cbiAgICAgICAgICAgICAgPGxhYmVsPk5hbWU6IDxpbnB1dCBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIj48L2xhYmVsPlxuICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY29sb3Iubm90QW5PcHRpb25cIj4gRGlzYWJsZWQ/PC9sYWJlbD5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImNvbG9ycy5zcGxpY2UoJGluZGV4LCAxKVwiIGFyaWEtbGFiZWw9XCJSZW1vdmVcIj5YPC9idXR0b24+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY29sb3JzLnB1c2goe30pXCI+YWRkPC9idXR0b24+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPGhyLz5cbiAgICAgICAgICA8bGFiZWw+Q29sb3IgKG51bGwgbm90IGFsbG93ZWQpOlxuICAgICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cIm15Q29sb3JcIiBuZy1vcHRpb25zPVwiY29sb3IubmFtZSBmb3IgY29sb3IgaW4gY29sb3JzXCI+PC9zZWxlY3Q+XG4gICAgICAgICAgPC9sYWJlbD48YnIvPlxuICAgICAgICAgIDxsYWJlbD5Db2xvciAobnVsbCBhbGxvd2VkKTpcbiAgICAgICAgICA8c3BhbiAgY2xhc3M9XCJudWxsYWJsZVwiPlxuICAgICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cIm15Q29sb3JcIiBuZy1vcHRpb25zPVwiY29sb3IubmFtZSBmb3IgY29sb3IgaW4gY29sb3JzXCI+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj4tLSBjaG9vc2UgY29sb3IgLS08L29wdGlvbj5cbiAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgIDwvc3Bhbj48L2xhYmVsPjxici8+XG5cbiAgICAgICAgICA8bGFiZWw+Q29sb3IgZ3JvdXBlZCBieSBzaGFkZTpcbiAgICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJteUNvbG9yXCIgbmctb3B0aW9ucz1cImNvbG9yLm5hbWUgZ3JvdXAgYnkgY29sb3Iuc2hhZGUgZm9yIGNvbG9yIGluIGNvbG9yc1wiPlxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPC9sYWJlbD48YnIvPlxuXG4gICAgICAgICAgPGxhYmVsPkNvbG9yIGdyb3VwZWQgYnkgc2hhZGUsIHdpdGggc29tZSBkaXNhYmxlZDpcbiAgICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJteUNvbG9yXCJcbiAgICAgICAgICAgICAgICAgIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGdyb3VwIGJ5IGNvbG9yLnNoYWRlIGRpc2FibGUgd2hlbiBjb2xvci5ub3RBbk9wdGlvbiBmb3IgY29sb3IgaW4gY29sb3JzXCI+XG4gICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICA8L2xhYmVsPjxici8+XG5cblxuXG4gICAgICAgICAgU2VsZWN0IDxidXR0b24gbmctY2xpY2s9XCJteUNvbG9yID0geyBuYW1lOidub3QgaW4gbGlzdCcsIHNoYWRlOiAnb3RoZXInIH1cIj5ib2d1czwvYnV0dG9uPi5cbiAgICAgICAgICA8YnIvPlxuICAgICAgICAgIDxoci8+XG4gICAgICAgICAgQ3VycmVudGx5IHNlbGVjdGVkOiB7eyB7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0gfX1cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiYm9yZGVyOnNvbGlkIDFweCBibGFjazsgaGVpZ2h0OjIwcHhcIlxuICAgICAgICAgICAgICAgbmctc3R5bGU9XCJ7J2JhY2tncm91bmQtY29sb3InOm15Q29sb3IubmFtZX1cIj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLW9wdGlvbnMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygne3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9JykpLmdldFRleHQoKSkudG9NYXRjaCgncmVkJyk7XG4gICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5Lm1vZGVsKCdteUNvbG9yJykpLmZpcnN0KCkuY2xpY2soKTtcbiAgICAgICAgICAgZWxlbWVudC5hbGwoYnkuY3NzKCdzZWxlY3RbbmctbW9kZWw9XCJteUNvbG9yXCJdIG9wdGlvbicpKS5maXJzdCgpLmNsaWNrKCk7XG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3tzZWxlY3RlZF9jb2xvcjpteUNvbG9yfScpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJ2JsYWNrJyk7XG4gICAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCcubnVsbGFibGUgc2VsZWN0W25nLW1vZGVsPVwibXlDb2xvclwiXScpKS5jbGljaygpO1xuICAgICAgICAgICBlbGVtZW50LmFsbChieS5jc3MoJy5udWxsYWJsZSBzZWxlY3RbbmctbW9kZWw9XCJteUNvbG9yXCJdIG9wdGlvbicpKS5maXJzdCgpLmNsaWNrKCk7XG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3tzZWxlY3RlZF9jb2xvcjpteUNvbG9yfScpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJ251bGwnKTtcbiAgICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4vLyAgICAgICAgICAgICAgICAgICAgIC8vMDAwMDExMTExMTExMTEwMDAwMDAwMDAwMDIyMjIyMjIyMjIwMDAwMDAwMDAwMDAwMDAwMDAwMDAzMzMzMzMzMzMzMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDQ0NDQ0NDQ0NDQ0MDAwMDAwMDAwMDAwMDU1NTU1NTU1NTU1NTUwMDAwMDAwMDA2NjY2NjY2NjY2NjY2MDAwMDAwMDc3Nzc3Nzc3Nzc3NzcwMDAwMDAwMDAwMDAwMDA4ODg4ODg4ODg4MDAwMDAwMDAwMDAwMDAwMDAwMDk5OTk5OTk5OTlcbnZhciBOR19PUFRJT05TX1JFR0VYUCA9IC9eXFxzKihbXFxzXFxTXSs/KSg/Olxccythc1xccysoW1xcc1xcU10rPykpPyg/Olxccytncm91cFxccytieVxccysoW1xcc1xcU10rPykpPyg/OlxccytkaXNhYmxlXFxzK3doZW5cXHMrKFtcXHNcXFNdKz8pKT9cXHMrZm9yXFxzKyg/OihbJFxcd11bJFxcd10qKXwoPzpcXChcXHMqKFskXFx3XVskXFx3XSopXFxzKixcXHMqKFskXFx3XVskXFx3XSopXFxzKlxcKSkpXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpPyQvO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMTogdmFsdWUgZXhwcmVzc2lvbiAodmFsdWVGbilcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDI6IGxhYmVsIGV4cHJlc3Npb24gKGRpc3BsYXlGbilcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDM6IGdyb3VwIGJ5IGV4cHJlc3Npb24gKGdyb3VwQnlGbilcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDQ6IGRpc2FibGUgd2hlbiBleHByZXNzaW9uIChkaXNhYmxlV2hlbkZuKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gNTogYXJyYXkgaXRlbSB2YXJpYWJsZSBuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA2OiBvYmplY3QgaXRlbSBrZXkgdmFyaWFibGUgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gNzogb2JqZWN0IGl0ZW0gdmFsdWUgdmFyaWFibGUgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gODogY29sbGVjdGlvbiBleHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA5OiB0cmFjayBieSBleHByZXNzaW9uXG4vKiBlc2xpbnQtZW5hYmxlICovXG5cblxudmFyIG5nT3B0aW9uc0RpcmVjdGl2ZSA9IFsnJGNvbXBpbGUnLCAnJGRvY3VtZW50JywgJyRwYXJzZScsIGZ1bmN0aW9uKCRjb21waWxlLCAkZG9jdW1lbnQsICRwYXJzZSkge1xuXG4gIGZ1bmN0aW9uIHBhcnNlT3B0aW9uc0V4cHJlc3Npb24ob3B0aW9uc0V4cCwgc2VsZWN0RWxlbWVudCwgc2NvcGUpIHtcblxuICAgIHZhciBtYXRjaCA9IG9wdGlvbnNFeHAubWF0Y2goTkdfT1BUSU9OU19SRUdFWFApO1xuICAgIGlmICghKG1hdGNoKSkge1xuICAgICAgdGhyb3cgbmdPcHRpb25zTWluRXJyKCdpZXhwJyxcbiAgICAgICAgJ0V4cGVjdGVkIGV4cHJlc3Npb24gaW4gZm9ybSBvZiAnICtcbiAgICAgICAgJ1xcJ19zZWxlY3RfIChhcyBfbGFiZWxfKT8gZm9yIChfa2V5XywpP192YWx1ZV8gaW4gX2NvbGxlY3Rpb25fXFwnJyArXG4gICAgICAgICcgYnV0IGdvdCBcXCd7MH1cXCcuIEVsZW1lbnQ6IHsxfScsXG4gICAgICAgIG9wdGlvbnNFeHAsIHN0YXJ0aW5nVGFnKHNlbGVjdEVsZW1lbnQpKTtcbiAgICB9XG5cbiAgICAvLyBFeHRyYWN0IHRoZSBwYXJ0cyBmcm9tIHRoZSBuZ09wdGlvbnMgZXhwcmVzc2lvblxuXG4gICAgLy8gVGhlIHZhcmlhYmxlIG5hbWUgZm9yIHRoZSB2YWx1ZSBvZiB0aGUgaXRlbSBpbiB0aGUgY29sbGVjdGlvblxuICAgIHZhciB2YWx1ZU5hbWUgPSBtYXRjaFs1XSB8fCBtYXRjaFs3XTtcbiAgICAvLyBUaGUgdmFyaWFibGUgbmFtZSBmb3IgdGhlIGtleSBvZiB0aGUgaXRlbSBpbiB0aGUgY29sbGVjdGlvblxuICAgIHZhciBrZXlOYW1lID0gbWF0Y2hbNl07XG5cbiAgICAvLyBBbiBleHByZXNzaW9uIHRoYXQgZ2VuZXJhdGVzIHRoZSB2aWV3VmFsdWUgZm9yIGFuIG9wdGlvbiBpZiB0aGVyZSBpcyBhIGxhYmVsIGV4cHJlc3Npb25cbiAgICB2YXIgc2VsZWN0QXMgPSAvIGFzIC8udGVzdChtYXRjaFswXSkgJiYgbWF0Y2hbMV07XG4gICAgLy8gQW4gZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgdG8gdHJhY2sgdGhlIGlkIG9mIGVhY2ggb2JqZWN0IGluIHRoZSBvcHRpb25zIGNvbGxlY3Rpb25cbiAgICB2YXIgdHJhY2tCeSA9IG1hdGNoWzldO1xuICAgIC8vIEFuIGV4cHJlc3Npb24gdGhhdCBnZW5lcmF0ZXMgdGhlIHZpZXdWYWx1ZSBmb3IgYW4gb3B0aW9uIGlmIHRoZXJlIGlzIG5vIGxhYmVsIGV4cHJlc3Npb25cbiAgICB2YXIgdmFsdWVGbiA9ICRwYXJzZShtYXRjaFsyXSA/IG1hdGNoWzFdIDogdmFsdWVOYW1lKTtcbiAgICB2YXIgc2VsZWN0QXNGbiA9IHNlbGVjdEFzICYmICRwYXJzZShzZWxlY3RBcyk7XG4gICAgdmFyIHZpZXdWYWx1ZUZuID0gc2VsZWN0QXNGbiB8fCB2YWx1ZUZuO1xuICAgIHZhciB0cmFja0J5Rm4gPSB0cmFja0J5ICYmICRwYXJzZSh0cmFja0J5KTtcblxuICAgIC8vIEdldCB0aGUgdmFsdWUgYnkgd2hpY2ggd2UgYXJlIGdvaW5nIHRvIHRyYWNrIHRoZSBvcHRpb25cbiAgICAvLyBpZiB3ZSBoYXZlIGEgdHJhY2tGbiB0aGVuIHVzZSB0aGF0IChwYXNzaW5nIHNjb3BlIGFuZCBsb2NhbHMpXG4gICAgLy8gb3RoZXJ3aXNlIGp1c3QgaGFzaCB0aGUgZ2l2ZW4gdmlld1ZhbHVlXG4gICAgdmFyIGdldFRyYWNrQnlWYWx1ZUZuID0gdHJhY2tCeSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbih2YWx1ZSwgbG9jYWxzKSB7IHJldHVybiB0cmFja0J5Rm4oc2NvcGUsIGxvY2Fscyk7IH0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0SGFzaE9mVmFsdWUodmFsdWUpIHsgcmV0dXJuIGhhc2hLZXkodmFsdWUpOyB9O1xuICAgIHZhciBnZXRUcmFja0J5VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICByZXR1cm4gZ2V0VHJhY2tCeVZhbHVlRm4odmFsdWUsIGdldExvY2Fscyh2YWx1ZSwga2V5KSk7XG4gICAgfTtcblxuICAgIHZhciBkaXNwbGF5Rm4gPSAkcGFyc2UobWF0Y2hbMl0gfHwgbWF0Y2hbMV0pO1xuICAgIHZhciBncm91cEJ5Rm4gPSAkcGFyc2UobWF0Y2hbM10gfHwgJycpO1xuICAgIHZhciBkaXNhYmxlV2hlbkZuID0gJHBhcnNlKG1hdGNoWzRdIHx8ICcnKTtcbiAgICB2YXIgdmFsdWVzRm4gPSAkcGFyc2UobWF0Y2hbOF0pO1xuXG4gICAgdmFyIGxvY2FscyA9IHt9O1xuICAgIHZhciBnZXRMb2NhbHMgPSBrZXlOYW1lID8gZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgbG9jYWxzW2tleU5hbWVdID0ga2V5O1xuICAgICAgbG9jYWxzW3ZhbHVlTmFtZV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiBsb2NhbHM7XG4gICAgfSA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBsb2NhbHNbdmFsdWVOYW1lXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGxvY2FscztcbiAgICB9O1xuXG5cbiAgICBmdW5jdGlvbiBPcHRpb24oc2VsZWN0VmFsdWUsIHZpZXdWYWx1ZSwgbGFiZWwsIGdyb3VwLCBkaXNhYmxlZCkge1xuICAgICAgdGhpcy5zZWxlY3RWYWx1ZSA9IHNlbGVjdFZhbHVlO1xuICAgICAgdGhpcy52aWV3VmFsdWUgPSB2aWV3VmFsdWU7XG4gICAgICB0aGlzLmxhYmVsID0gbGFiZWw7XG4gICAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XG4gICAgICB0aGlzLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0T3B0aW9uVmFsdWVzS2V5cyhvcHRpb25WYWx1ZXMpIHtcbiAgICAgIHZhciBvcHRpb25WYWx1ZXNLZXlzO1xuXG4gICAgICBpZiAoIWtleU5hbWUgJiYgaXNBcnJheUxpa2Uob3B0aW9uVmFsdWVzKSkge1xuICAgICAgICBvcHRpb25WYWx1ZXNLZXlzID0gb3B0aW9uVmFsdWVzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgb2JqZWN0LCBleHRyYWN0IGtleXMsIGluIGVudW1lcmF0aW9uIG9yZGVyLCB1bnNvcnRlZFxuICAgICAgICBvcHRpb25WYWx1ZXNLZXlzID0gW107XG4gICAgICAgIGZvciAodmFyIGl0ZW1LZXkgaW4gb3B0aW9uVmFsdWVzKSB7XG4gICAgICAgICAgaWYgKG9wdGlvblZhbHVlcy5oYXNPd25Qcm9wZXJ0eShpdGVtS2V5KSAmJiBpdGVtS2V5LmNoYXJBdCgwKSAhPT0gJyQnKSB7XG4gICAgICAgICAgICBvcHRpb25WYWx1ZXNLZXlzLnB1c2goaXRlbUtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb3B0aW9uVmFsdWVzS2V5cztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdHJhY2tCeTogdHJhY2tCeSxcbiAgICAgIGdldFRyYWNrQnlWYWx1ZTogZ2V0VHJhY2tCeVZhbHVlLFxuICAgICAgZ2V0V2F0Y2hhYmxlczogJHBhcnNlKHZhbHVlc0ZuLCBmdW5jdGlvbihvcHRpb25WYWx1ZXMpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgY29sbGVjdGlvbiBvZiB0aGluZ3MgdGhhdCB3ZSB3b3VsZCBsaWtlIHRvIHdhdGNoICh3YXRjaGVkQXJyYXkpXG4gICAgICAgIC8vIHNvIHRoYXQgdGhleSBjYW4gYWxsIGJlIHdhdGNoZWQgdXNpbmcgYSBzaW5nbGUgJHdhdGNoQ29sbGVjdGlvblxuICAgICAgICAvLyB0aGF0IG9ubHkgcnVucyB0aGUgaGFuZGxlciBvbmNlIGlmIGFueXRoaW5nIGNoYW5nZXNcbiAgICAgICAgdmFyIHdhdGNoZWRBcnJheSA9IFtdO1xuICAgICAgICBvcHRpb25WYWx1ZXMgPSBvcHRpb25WYWx1ZXMgfHwgW107XG5cbiAgICAgICAgdmFyIG9wdGlvblZhbHVlc0tleXMgPSBnZXRPcHRpb25WYWx1ZXNLZXlzKG9wdGlvblZhbHVlcyk7XG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXNMZW5ndGggPSBvcHRpb25WYWx1ZXNLZXlzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG9wdGlvblZhbHVlc0xlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgIHZhciBrZXkgPSAob3B0aW9uVmFsdWVzID09PSBvcHRpb25WYWx1ZXNLZXlzKSA/IGluZGV4IDogb3B0aW9uVmFsdWVzS2V5c1tpbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb3B0aW9uVmFsdWVzW2tleV07XG5cbiAgICAgICAgICB2YXIgbG9jYWxzID0gZ2V0TG9jYWxzKHZhbHVlLCBrZXkpO1xuICAgICAgICAgIHZhciBzZWxlY3RWYWx1ZSA9IGdldFRyYWNrQnlWYWx1ZUZuKHZhbHVlLCBsb2NhbHMpO1xuICAgICAgICAgIHdhdGNoZWRBcnJheS5wdXNoKHNlbGVjdFZhbHVlKTtcblxuICAgICAgICAgIC8vIE9ubHkgbmVlZCB0byB3YXRjaCB0aGUgZGlzcGxheUZuIGlmIHRoZXJlIGlzIGEgc3BlY2lmaWMgbGFiZWwgZXhwcmVzc2lvblxuICAgICAgICAgIGlmIChtYXRjaFsyXSB8fCBtYXRjaFsxXSkge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gZGlzcGxheUZuKHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgICAgd2F0Y2hlZEFycmF5LnB1c2gobGFiZWwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIE9ubHkgbmVlZCB0byB3YXRjaCB0aGUgZGlzYWJsZVdoZW5GbiBpZiB0aGVyZSBpcyBhIHNwZWNpZmljIGRpc2FibGUgZXhwcmVzc2lvblxuICAgICAgICAgIGlmIChtYXRjaFs0XSkge1xuICAgICAgICAgICAgdmFyIGRpc2FibGVXaGVuID0gZGlzYWJsZVdoZW5GbihzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICAgIHdhdGNoZWRBcnJheS5wdXNoKGRpc2FibGVXaGVuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdhdGNoZWRBcnJheTtcbiAgICAgIH0pLFxuXG4gICAgICBnZXRPcHRpb25zOiBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgb3B0aW9uSXRlbXMgPSBbXTtcbiAgICAgICAgdmFyIHNlbGVjdFZhbHVlTWFwID0ge307XG5cbiAgICAgICAgLy8gVGhlIG9wdGlvbiB2YWx1ZXMgd2VyZSBhbHJlYWR5IGNvbXB1dGVkIGluIHRoZSBgZ2V0V2F0Y2hhYmxlc2AgZm4sXG4gICAgICAgIC8vIHdoaWNoIG11c3QgaGF2ZSBiZWVuIGNhbGxlZCB0byB0cmlnZ2VyIGBnZXRPcHRpb25zYFxuICAgICAgICB2YXIgb3B0aW9uVmFsdWVzID0gdmFsdWVzRm4oc2NvcGUpIHx8IFtdO1xuICAgICAgICB2YXIgb3B0aW9uVmFsdWVzS2V5cyA9IGdldE9wdGlvblZhbHVlc0tleXMob3B0aW9uVmFsdWVzKTtcbiAgICAgICAgdmFyIG9wdGlvblZhbHVlc0xlbmd0aCA9IG9wdGlvblZhbHVlc0tleXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBvcHRpb25WYWx1ZXNMZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICB2YXIga2V5ID0gKG9wdGlvblZhbHVlcyA9PT0gb3B0aW9uVmFsdWVzS2V5cykgPyBpbmRleCA6IG9wdGlvblZhbHVlc0tleXNbaW5kZXhdO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG9wdGlvblZhbHVlc1trZXldO1xuICAgICAgICAgIHZhciBsb2NhbHMgPSBnZXRMb2NhbHModmFsdWUsIGtleSk7XG4gICAgICAgICAgdmFyIHZpZXdWYWx1ZSA9IHZpZXdWYWx1ZUZuKHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgIHZhciBzZWxlY3RWYWx1ZSA9IGdldFRyYWNrQnlWYWx1ZUZuKHZpZXdWYWx1ZSwgbG9jYWxzKTtcbiAgICAgICAgICB2YXIgbGFiZWwgPSBkaXNwbGF5Rm4oc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgdmFyIGdyb3VwID0gZ3JvdXBCeUZuKHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgIHZhciBkaXNhYmxlZCA9IGRpc2FibGVXaGVuRm4oc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgdmFyIG9wdGlvbkl0ZW0gPSBuZXcgT3B0aW9uKHNlbGVjdFZhbHVlLCB2aWV3VmFsdWUsIGxhYmVsLCBncm91cCwgZGlzYWJsZWQpO1xuXG4gICAgICAgICAgb3B0aW9uSXRlbXMucHVzaChvcHRpb25JdGVtKTtcbiAgICAgICAgICBzZWxlY3RWYWx1ZU1hcFtzZWxlY3RWYWx1ZV0gPSBvcHRpb25JdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpdGVtczogb3B0aW9uSXRlbXMsXG4gICAgICAgICAgc2VsZWN0VmFsdWVNYXA6IHNlbGVjdFZhbHVlTWFwLFxuICAgICAgICAgIGdldE9wdGlvbkZyb21WaWV3VmFsdWU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0VmFsdWVNYXBbZ2V0VHJhY2tCeVZhbHVlKHZhbHVlKV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRWaWV3VmFsdWVGcm9tT3B0aW9uOiBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSB2aWV3VmFsdWUgY291bGQgYmUgYW4gb2JqZWN0IHRoYXQgbWF5IGJlIG11dGF0ZWQgYnkgdGhlIGFwcGxpY2F0aW9uLFxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBtYWtlIGEgY29weSBhbmQgbm90IHJldHVybiB0aGUgcmVmZXJlbmNlIHRvIHRoZSB2YWx1ZSBvbiB0aGUgb3B0aW9uLlxuICAgICAgICAgICAgcmV0dXJuIHRyYWNrQnkgPyBjb3B5KG9wdGlvbi52aWV3VmFsdWUpIDogb3B0aW9uLnZpZXdWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG5cbiAgLy8gU3VwcG9ydDogSUUgOSBvbmx5XG4gIC8vIFdlIGNhbid0IGp1c3QganFMaXRlKCc8b3B0aW9uPicpIHNpbmNlIGpxTGl0ZSBpcyBub3Qgc21hcnQgZW5vdWdoXG4gIC8vIHRvIGNyZWF0ZSBpdCBpbiA8c2VsZWN0PiBhbmQgSUUgYmFyZnMgb3RoZXJ3aXNlLlxuICB2YXIgb3B0aW9uVGVtcGxhdGUgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyksXG4gICAgICBvcHRHcm91cFRlbXBsYXRlID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGdyb3VwJyk7XG5cbiAgICBmdW5jdGlvbiBuZ09wdGlvbnNQb3N0TGluayhzY29wZSwgc2VsZWN0RWxlbWVudCwgYXR0ciwgY3RybHMpIHtcblxuICAgICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1swXTtcbiAgICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuICAgICAgdmFyIG11bHRpcGxlID0gYXR0ci5tdWx0aXBsZTtcblxuICAgICAgLy8gVGhlIGVtcHR5T3B0aW9uIGFsbG93cyB0aGUgYXBwbGljYXRpb24gZGV2ZWxvcGVyIHRvIHByb3ZpZGUgdGhlaXIgb3duIGN1c3RvbSBcImVtcHR5XCJcbiAgICAgIC8vIG9wdGlvbiB3aGVuIHRoZSB2aWV3VmFsdWUgZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSBvcHRpb24gdmFsdWVzLlxuICAgICAgZm9yICh2YXIgaSA9IDAsIGNoaWxkcmVuID0gc2VsZWN0RWxlbWVudC5jaGlsZHJlbigpLCBpaSA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgaWYgKGNoaWxkcmVuW2ldLnZhbHVlID09PSAnJykge1xuICAgICAgICAgIHNlbGVjdEN0cmwuaGFzRW1wdHlPcHRpb24gPSB0cnVlO1xuICAgICAgICAgIHNlbGVjdEN0cmwuZW1wdHlPcHRpb24gPSBjaGlsZHJlbi5lcShpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgZW1wdHkgb3B0aW9uIHdpbGwgYmUgY29tcGlsZWQgYW5kIHJlbmRlcmVkIGJlZm9yZSB3ZSBmaXJzdCBnZW5lcmF0ZSB0aGUgb3B0aW9uc1xuICAgICAgc2VsZWN0RWxlbWVudC5lbXB0eSgpO1xuXG4gICAgICB2YXIgcHJvdmlkZWRFbXB0eU9wdGlvbiA9ICEhc2VsZWN0Q3RybC5lbXB0eU9wdGlvbjtcblxuICAgICAgdmFyIHVua25vd25PcHRpb24gPSBqcUxpdGUob3B0aW9uVGVtcGxhdGUuY2xvbmVOb2RlKGZhbHNlKSk7XG4gICAgICB1bmtub3duT3B0aW9uLnZhbCgnPycpO1xuXG4gICAgICB2YXIgb3B0aW9ucztcbiAgICAgIHZhciBuZ09wdGlvbnMgPSBwYXJzZU9wdGlvbnNFeHByZXNzaW9uKGF0dHIubmdPcHRpb25zLCBzZWxlY3RFbGVtZW50LCBzY29wZSk7XG4gICAgICAvLyBUaGlzIHN0b3JlcyB0aGUgbmV3bHkgY3JlYXRlZCBvcHRpb25zIGJlZm9yZSB0aGV5IGFyZSBhcHBlbmRlZCB0byB0aGUgc2VsZWN0LlxuICAgICAgLy8gU2luY2UgdGhlIGNvbnRlbnRzIGFyZSByZW1vdmVkIGZyb20gdGhlIGZyYWdtZW50IHdoZW4gaXQgaXMgYXBwZW5kZWQsXG4gICAgICAvLyB3ZSBvbmx5IG5lZWQgdG8gY3JlYXRlIGl0IG9uY2UuXG4gICAgICB2YXIgbGlzdEZyYWdtZW50ID0gJGRvY3VtZW50WzBdLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgICAgLy8gT3ZlcndyaXRlIHRoZSBpbXBsZW1lbnRhdGlvbi4gbmdPcHRpb25zIGRvZXNuJ3QgdXNlIGhhc2hlc1xuICAgICAgc2VsZWN0Q3RybC5nZW5lcmF0ZVVua25vd25PcHRpb25WYWx1ZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICByZXR1cm4gJz8nO1xuICAgICAgfTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBjb250cm9sbGVyIG1ldGhvZHMgZm9yIG11bHRpcGxlIHNlbGVjdGFibGUgb3B0aW9uc1xuICAgICAgaWYgKCFtdWx0aXBsZSkge1xuXG4gICAgICAgIHNlbGVjdEN0cmwud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uIHdyaXRlTmdPcHRpb25zVmFsdWUodmFsdWUpIHtcbiAgICAgICAgICAvLyBUaGUgb3B0aW9ucyBtaWdodCBub3QgYmUgZGVmaW5lZCB5ZXQgd2hlbiBuZ01vZGVsIHRyaWVzIHRvIHJlbmRlclxuICAgICAgICAgIGlmICghb3B0aW9ucykgcmV0dXJuO1xuXG4gICAgICAgICAgdmFyIHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0RWxlbWVudFswXS5vcHRpb25zW3NlbGVjdEVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleF07XG4gICAgICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnMuZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZSh2YWx1ZSk7XG5cbiAgICAgICAgICAvLyBNYWtlIHN1cmUgdG8gcmVtb3ZlIHRoZSBzZWxlY3RlZCBhdHRyaWJ1dGUgZnJvbSB0aGUgcHJldmlvdXNseSBzZWxlY3RlZCBvcHRpb25cbiAgICAgICAgICAvLyBPdGhlcndpc2UsIHNjcmVlbiByZWFkZXJzIG1pZ2h0IGdldCBjb25mdXNlZFxuICAgICAgICAgIGlmIChzZWxlY3RlZE9wdGlvbikgc2VsZWN0ZWRPcHRpb24ucmVtb3ZlQXR0cmlidXRlKCdzZWxlY3RlZCcpO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbikge1xuICAgICAgICAgICAgLy8gRG9uJ3QgdXBkYXRlIHRoZSBvcHRpb24gd2hlbiBpdCBpcyBhbHJlYWR5IHNlbGVjdGVkLlxuICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGUsIHRoZSBicm93c2VyIHdpbGwgc2VsZWN0IHRoZSBmaXJzdCBvcHRpb24gYnkgZGVmYXVsdC4gSW4gdGhhdCBjYXNlLFxuICAgICAgICAgICAgLy8gbW9zdCBwcm9wZXJ0aWVzIGFyZSBzZXQgYXV0b21hdGljYWxseSAtIGV4Y2VwdCB0aGUgYHNlbGVjdGVkYCBhdHRyaWJ1dGUsIHdoaWNoIHdlXG4gICAgICAgICAgICAvLyBzZXQgYWx3YXlzXG5cbiAgICAgICAgICAgIGlmIChzZWxlY3RFbGVtZW50WzBdLnZhbHVlICE9PSBvcHRpb24uc2VsZWN0VmFsdWUpIHtcbiAgICAgICAgICAgICAgc2VsZWN0Q3RybC5yZW1vdmVVbmtub3duT3B0aW9uKCk7XG5cbiAgICAgICAgICAgICAgc2VsZWN0RWxlbWVudFswXS52YWx1ZSA9IG9wdGlvbi5zZWxlY3RWYWx1ZTtcbiAgICAgICAgICAgICAgb3B0aW9uLmVsZW1lbnQuc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvcHRpb24uZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGVjdEN0cmwuc2VsZWN0VW5rbm93bk9yRW1wdHlPcHRpb24odmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZWxlY3RDdHJsLnJlYWRWYWx1ZSA9IGZ1bmN0aW9uIHJlYWROZ09wdGlvbnNWYWx1ZSgpIHtcblxuICAgICAgICAgIHZhciBzZWxlY3RlZE9wdGlvbiA9IG9wdGlvbnMuc2VsZWN0VmFsdWVNYXBbc2VsZWN0RWxlbWVudC52YWwoKV07XG5cbiAgICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb24gJiYgIXNlbGVjdGVkT3B0aW9uLmRpc2FibGVkKSB7XG4gICAgICAgICAgICBzZWxlY3RDdHJsLnVuc2VsZWN0RW1wdHlPcHRpb24oKTtcbiAgICAgICAgICAgIHNlbGVjdEN0cmwucmVtb3ZlVW5rbm93bk9wdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbihzZWxlY3RlZE9wdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBgdHJhY2sgYnlgIHRoZW4gd2UgbXVzdCB3YXRjaCB0aGUgdHJhY2tlZCB2YWx1ZSBvbiB0aGUgbW9kZWxcbiAgICAgICAgLy8gc2luY2UgbmdNb2RlbCBvbmx5IHdhdGNoZXMgZm9yIG9iamVjdCBpZGVudGl0eSBjaGFuZ2VcbiAgICAgICAgLy8gRklYTUU6IFdoZW4gYSB1c2VyIHNlbGVjdHMgYW4gb3B0aW9uLCB0aGlzIHdhdGNoIHdpbGwgZmlyZSBuZWVkbGVzc2x5XG4gICAgICAgIGlmIChuZ09wdGlvbnMudHJhY2tCeSkge1xuICAgICAgICAgIHNjb3BlLiR3YXRjaChcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkgeyByZXR1cm4gbmdPcHRpb25zLmdldFRyYWNrQnlWYWx1ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKTsgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkgeyBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7IH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgc2VsZWN0Q3RybC53cml0ZVZhbHVlID0gZnVuY3Rpb24gd3JpdGVOZ09wdGlvbnNNdWx0aXBsZSh2YWx1ZXMpIHtcbiAgICAgICAgICAvLyBUaGUgb3B0aW9ucyBtaWdodCBub3QgYmUgZGVmaW5lZCB5ZXQgd2hlbiBuZ01vZGVsIHRyaWVzIHRvIHJlbmRlclxuICAgICAgICAgIGlmICghb3B0aW9ucykgcmV0dXJuO1xuXG4gICAgICAgICAgLy8gT25seSBzZXQgYDxvcHRpb24+LnNlbGVjdGVkYCBpZiBuZWNlc3NhcnksIGluIG9yZGVyIHRvIHByZXZlbnQgc29tZSBicm93c2VycyBmcm9tXG4gICAgICAgICAgLy8gc2Nyb2xsaW5nIHRvIGA8b3B0aW9uPmAgZWxlbWVudHMgdGhhdCBhcmUgb3V0c2lkZSB0aGUgYDxzZWxlY3Q+YCBlbGVtZW50J3Mgdmlld3BvcnQuXG4gICAgICAgICAgdmFyIHNlbGVjdGVkT3B0aW9ucyA9IHZhbHVlcyAmJiB2YWx1ZXMubWFwKGdldEFuZFVwZGF0ZVNlbGVjdGVkT3B0aW9uKSB8fCBbXTtcblxuICAgICAgICAgIG9wdGlvbnMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgICAgIGlmIChvcHRpb24uZWxlbWVudC5zZWxlY3RlZCAmJiAhaW5jbHVkZXMoc2VsZWN0ZWRPcHRpb25zLCBvcHRpb24pKSB7XG4gICAgICAgICAgICAgIG9wdGlvbi5lbGVtZW50LnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cblxuICAgICAgICBzZWxlY3RDdHJsLnJlYWRWYWx1ZSA9IGZ1bmN0aW9uIHJlYWROZ09wdGlvbnNNdWx0aXBsZSgpIHtcbiAgICAgICAgICB2YXIgc2VsZWN0ZWRWYWx1ZXMgPSBzZWxlY3RFbGVtZW50LnZhbCgpIHx8IFtdLFxuICAgICAgICAgICAgICBzZWxlY3Rpb25zID0gW107XG5cbiAgICAgICAgICBmb3JFYWNoKHNlbGVjdGVkVmFsdWVzLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnMuc2VsZWN0VmFsdWVNYXBbdmFsdWVdO1xuICAgICAgICAgICAgaWYgKG9wdGlvbiAmJiAhb3B0aW9uLmRpc2FibGVkKSBzZWxlY3Rpb25zLnB1c2gob3B0aW9ucy5nZXRWaWV3VmFsdWVGcm9tT3B0aW9uKG9wdGlvbikpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHNlbGVjdGlvbnM7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSWYgd2UgYXJlIHVzaW5nIGB0cmFjayBieWAgdGhlbiB3ZSBtdXN0IHdhdGNoIHRoZXNlIHRyYWNrZWQgdmFsdWVzIG9uIHRoZSBtb2RlbFxuICAgICAgICAvLyBzaW5jZSBuZ01vZGVsIG9ubHkgd2F0Y2hlcyBmb3Igb2JqZWN0IGlkZW50aXR5IGNoYW5nZVxuICAgICAgICBpZiAobmdPcHRpb25zLnRyYWNrQnkpIHtcblxuICAgICAgICAgIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNBcnJheShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSkge1xuICAgICAgICAgICAgICByZXR1cm4gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZS5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmdPcHRpb25zLmdldFRyYWNrQnlWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHByb3ZpZGVkRW1wdHlPcHRpb24pIHtcblxuICAgICAgICAvLyBjb21waWxlIHRoZSBlbGVtZW50IHNpbmNlIHRoZXJlIG1pZ2h0IGJlIGJpbmRpbmdzIGluIGl0XG4gICAgICAgICRjb21waWxlKHNlbGVjdEN0cmwuZW1wdHlPcHRpb24pKHNjb3BlKTtcblxuICAgICAgICBzZWxlY3RFbGVtZW50LnByZXBlbmQoc2VsZWN0Q3RybC5lbXB0eU9wdGlvbik7XG5cbiAgICAgICAgaWYgKHNlbGVjdEN0cmwuZW1wdHlPcHRpb25bMF0ubm9kZVR5cGUgPT09IE5PREVfVFlQRV9DT01NRU5UKSB7XG4gICAgICAgICAgLy8gVGhpcyBtZWFucyB0aGUgZW1wdHkgb3B0aW9uIGhhcyBjdXJyZW50bHkgbm8gYWN0dWFsIERPTSBub2RlLCBwcm9iYWJseSBiZWNhdXNlXG4gICAgICAgICAgLy8gaXQgaGFzIGJlZW4gbW9kaWZpZWQgYnkgYSB0cmFuc2NsdXNpb24gZGlyZWN0aXZlLlxuICAgICAgICAgIHNlbGVjdEN0cmwuaGFzRW1wdHlPcHRpb24gPSBmYWxzZTtcblxuICAgICAgICAgIC8vIFJlZGVmaW5lIHRoZSByZWdpc3Rlck9wdGlvbiBmdW5jdGlvbiwgd2hpY2ggd2lsbCBjYXRjaFxuICAgICAgICAgIC8vIG9wdGlvbnMgdGhhdCBhcmUgYWRkZWQgYnkgbmdJZiBldGMuIChyZW5kZXJpbmcgb2YgdGhlIG5vZGUgaXMgYXN5bmMgYmVjYXVzZSBvZlxuICAgICAgICAgIC8vIGxhenkgdHJhbnNjbHVzaW9uKVxuICAgICAgICAgIHNlbGVjdEN0cmwucmVnaXN0ZXJPcHRpb24gPSBmdW5jdGlvbihvcHRpb25TY29wZSwgb3B0aW9uRWwpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25FbC52YWwoKSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgc2VsZWN0Q3RybC5oYXNFbXB0eU9wdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgIHNlbGVjdEN0cmwuZW1wdHlPcHRpb24gPSBvcHRpb25FbDtcbiAgICAgICAgICAgICAgc2VsZWN0Q3RybC5lbXB0eU9wdGlvbi5yZW1vdmVDbGFzcygnbmctc2NvcGUnKTtcbiAgICAgICAgICAgICAgLy8gVGhpcyBlbnN1cmVzIHRoZSBuZXcgZW1wdHkgb3B0aW9uIGlzIHNlbGVjdGVkIGlmIHByZXZpb3VzbHkgbm8gb3B0aW9uIHdhcyBzZWxlY3RlZFxuICAgICAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG5cbiAgICAgICAgICAgICAgb3B0aW9uRWwub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5lZWRzUmVyZW5kZXIgPSBzZWxlY3RDdHJsLiRpc0VtcHR5T3B0aW9uU2VsZWN0ZWQoKTtcblxuICAgICAgICAgICAgICAgIHNlbGVjdEN0cmwuaGFzRW1wdHlPcHRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzZWxlY3RDdHJsLmVtcHR5T3B0aW9uID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5lZWRzUmVyZW5kZXIpIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHJlbW92ZSB0aGUgY2xhc3MsIHdoaWNoIGlzIGFkZGVkIGF1dG9tYXRpY2FsbHkgYmVjYXVzZSB3ZSByZWNvbXBpbGUgdGhlIGVsZW1lbnQgYW5kIGl0XG4gICAgICAgICAgLy8gYmVjb21lcyB0aGUgY29tcGlsYXRpb24gcm9vdFxuICAgICAgICAgIHNlbGVjdEN0cmwuZW1wdHlPcHRpb24ucmVtb3ZlQ2xhc3MoJ25nLXNjb3BlJyk7XG4gICAgICAgIH1cblxuICAgICAgfVxuXG4gICAgICAvLyBXZSB3aWxsIHJlLXJlbmRlciB0aGUgb3B0aW9uIGVsZW1lbnRzIGlmIHRoZSBvcHRpb24gdmFsdWVzIG9yIGxhYmVscyBjaGFuZ2VcbiAgICAgIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24obmdPcHRpb25zLmdldFdhdGNoYWJsZXMsIHVwZGF0ZU9wdGlvbnMpO1xuXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICAgICAgZnVuY3Rpb24gYWRkT3B0aW9uRWxlbWVudChvcHRpb24sIHBhcmVudCkge1xuICAgICAgICB2YXIgb3B0aW9uRWxlbWVudCA9IG9wdGlvblRlbXBsYXRlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChvcHRpb25FbGVtZW50KTtcbiAgICAgICAgdXBkYXRlT3B0aW9uRWxlbWVudChvcHRpb24sIG9wdGlvbkVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRBbmRVcGRhdGVTZWxlY3RlZE9wdGlvbih2aWV3VmFsdWUpIHtcbiAgICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnMuZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZSh2aWV3VmFsdWUpO1xuICAgICAgICB2YXIgZWxlbWVudCA9IG9wdGlvbiAmJiBvcHRpb24uZWxlbWVudDtcblxuICAgICAgICBpZiAoZWxlbWVudCAmJiAhZWxlbWVudC5zZWxlY3RlZCkgZWxlbWVudC5zZWxlY3RlZCA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbjtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdXBkYXRlT3B0aW9uRWxlbWVudChvcHRpb24sIGVsZW1lbnQpIHtcbiAgICAgICAgb3B0aW9uLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICBlbGVtZW50LmRpc2FibGVkID0gb3B0aW9uLmRpc2FibGVkO1xuICAgICAgICAvLyBTdXBwb3J0OiBJRSAxMSBvbmx5LCBFZGdlIDEyLTEzIG9ubHlcbiAgICAgICAgLy8gTk9URTogVGhlIGxhYmVsIG11c3QgYmUgc2V0IGJlZm9yZSB0aGUgdmFsdWUsIG90aGVyd2lzZSBJRSAxMSAmIEVkZ2UgY3JlYXRlIHVucmVzcG9uc2l2ZVxuICAgICAgICAvLyBzZWxlY3RzIGluIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcyB3aGVuIG11bHRpcGxlIHNlbGVjdHMgYXJlIG5leHQgdG8gZWFjaCBvdGhlciBhbmQgZGlzcGxheVxuICAgICAgICAvLyB0aGUgb3B0aW9uIGxpc3QgaW4gbGlzdGJveCBzdHlsZSwgaS5lLiB0aGUgc2VsZWN0IGlzIFttdWx0aXBsZV0sIG9yIHNwZWNpZmllcyBhIFtzaXplXS5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzExMzE0IGZvciBtb3JlIGluZm8uXG4gICAgICAgIC8vIFRoaXMgaXMgdW5mb3J0dW5hdGVseSB1bnRlc3RhYmxlIHdpdGggdW5pdCAvIGUyZSB0ZXN0c1xuICAgICAgICBpZiAob3B0aW9uLmxhYmVsICE9PSBlbGVtZW50LmxhYmVsKSB7XG4gICAgICAgICAgZWxlbWVudC5sYWJlbCA9IG9wdGlvbi5sYWJlbDtcbiAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gb3B0aW9uLmxhYmVsO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQudmFsdWUgPSBvcHRpb24uc2VsZWN0VmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMoKSB7XG4gICAgICAgIHZhciBwcmV2aW91c1ZhbHVlID0gb3B0aW9ucyAmJiBzZWxlY3RDdHJsLnJlYWRWYWx1ZSgpO1xuXG4gICAgICAgIC8vIFdlIG11c3QgcmVtb3ZlIGFsbCBjdXJyZW50IG9wdGlvbnMsIGJ1dCBjYW5ub3Qgc2ltcGx5IHNldCBpbm5lckhUTUwgPSBudWxsXG4gICAgICAgIC8vIHNpbmNlIHRoZSBwcm92aWRlZEVtcHR5T3B0aW9uIG1pZ2h0IGhhdmUgYW4gbmdJZiBvbiBpdCB0aGF0IGluc2VydHMgY29tbWVudHMgd2hpY2ggd2VcbiAgICAgICAgLy8gbXVzdCBwcmVzZXJ2ZS5cbiAgICAgICAgLy8gSW5zdGVhZCwgaXRlcmF0ZSBvdmVyIHRoZSBjdXJyZW50IG9wdGlvbiBlbGVtZW50cyBhbmQgcmVtb3ZlIHRoZW0gb3IgdGhlaXIgb3B0Z3JvdXBcbiAgICAgICAgLy8gcGFyZW50c1xuICAgICAgICBpZiAob3B0aW9ucykge1xuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IG9wdGlvbnMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zLml0ZW1zW2ldO1xuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb24uZ3JvdXApKSB7XG4gICAgICAgICAgICAgIGpxTGl0ZVJlbW92ZShvcHRpb24uZWxlbWVudC5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGpxTGl0ZVJlbW92ZShvcHRpb24uZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IG5nT3B0aW9ucy5nZXRPcHRpb25zKCk7XG5cbiAgICAgICAgdmFyIGdyb3VwRWxlbWVudE1hcCA9IHt9O1xuXG4gICAgICAgIG9wdGlvbnMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiBhZGRPcHRpb24ob3B0aW9uKSB7XG4gICAgICAgICAgdmFyIGdyb3VwRWxlbWVudDtcblxuICAgICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9uLmdyb3VwKSkge1xuXG4gICAgICAgICAgICAvLyBUaGlzIG9wdGlvbiBpcyB0byBsaXZlIGluIGEgZ3JvdXBcbiAgICAgICAgICAgIC8vIFNlZSBpZiB3ZSBoYXZlIGFscmVhZHkgY3JlYXRlZCB0aGlzIGdyb3VwXG4gICAgICAgICAgICBncm91cEVsZW1lbnQgPSBncm91cEVsZW1lbnRNYXBbb3B0aW9uLmdyb3VwXTtcblxuICAgICAgICAgICAgaWYgKCFncm91cEVsZW1lbnQpIHtcblxuICAgICAgICAgICAgICBncm91cEVsZW1lbnQgPSBvcHRHcm91cFRlbXBsYXRlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICAgICAgICAgIGxpc3RGcmFnbWVudC5hcHBlbmRDaGlsZChncm91cEVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgbGFiZWwgb24gdGhlIGdyb3VwIGVsZW1lbnRcbiAgICAgICAgICAgICAgLy8gXCJudWxsXCIgaXMgc3BlY2lhbCBjYXNlZCBiZWNhdXNlIG9mIFNhZmFyaVxuICAgICAgICAgICAgICBncm91cEVsZW1lbnQubGFiZWwgPSBvcHRpb24uZ3JvdXAgPT09IG51bGwgPyAnbnVsbCcgOiBvcHRpb24uZ3JvdXA7XG5cbiAgICAgICAgICAgICAgLy8gU3RvcmUgaXQgZm9yIHVzZSBsYXRlclxuICAgICAgICAgICAgICBncm91cEVsZW1lbnRNYXBbb3B0aW9uLmdyb3VwXSA9IGdyb3VwRWxlbWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWRkT3B0aW9uRWxlbWVudChvcHRpb24sIGdyb3VwRWxlbWVudCk7XG5cbiAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAvLyBUaGlzIG9wdGlvbiBpcyBub3QgaW4gYSBncm91cFxuICAgICAgICAgICAgYWRkT3B0aW9uRWxlbWVudChvcHRpb24sIGxpc3RGcmFnbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBzZWxlY3RFbGVtZW50WzBdLmFwcGVuZENoaWxkKGxpc3RGcmFnbWVudCk7XG5cbiAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuXG4gICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgdmFsdWUgaGFzIGNoYW5nZWQgZHVlIHRvIHRoZSB1cGRhdGUgdG8gdGhlIG9wdGlvbnNcbiAgICAgICAgaWYgKCFuZ01vZGVsQ3RybC4kaXNFbXB0eShwcmV2aW91c1ZhbHVlKSkge1xuICAgICAgICAgIHZhciBuZXh0VmFsdWUgPSBzZWxlY3RDdHJsLnJlYWRWYWx1ZSgpO1xuICAgICAgICAgIHZhciBpc05vdFByaW1pdGl2ZSA9IG5nT3B0aW9ucy50cmFja0J5IHx8IG11bHRpcGxlO1xuICAgICAgICAgIGlmIChpc05vdFByaW1pdGl2ZSA/ICFlcXVhbHMocHJldmlvdXNWYWx1ZSwgbmV4dFZhbHVlKSA6IHByZXZpb3VzVmFsdWUgIT09IG5leHRWYWx1ZSkge1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShuZXh0VmFsdWUpO1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIHJlcXVpcmU6IFsnc2VsZWN0JywgJ25nTW9kZWwnXSxcbiAgICBsaW5rOiB7XG4gICAgICBwcmU6IGZ1bmN0aW9uIG5nT3B0aW9uc1ByZUxpbmsoc2NvcGUsIHNlbGVjdEVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICAgIC8vIERlYWN0aXZhdGUgdGhlIFNlbGVjdENvbnRyb2xsZXIucmVnaXN0ZXIgbWV0aG9kIHRvIHByZXZlbnRcbiAgICAgICAgLy8gb3B0aW9uIGRpcmVjdGl2ZXMgZnJvbSBhY2NpZGVudGFsbHkgcmVnaXN0ZXJpbmcgdGhlbXNlbHZlc1xuICAgICAgICAvLyAoYW5kIHVud2FudGVkICRkZXN0cm95IGhhbmRsZXJzIGV0Yy4pXG4gICAgICAgIGN0cmxzWzBdLnJlZ2lzdGVyT3B0aW9uID0gbm9vcDtcbiAgICAgIH0sXG4gICAgICBwb3N0OiBuZ09wdGlvbnNQb3N0TGlua1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUGx1cmFsaXplXG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGBuZ1BsdXJhbGl6ZWAgaXMgYSBkaXJlY3RpdmUgdGhhdCBkaXNwbGF5cyBtZXNzYWdlcyBhY2NvcmRpbmcgdG8gZW4tVVMgbG9jYWxpemF0aW9uIHJ1bGVzLlxuICogVGhlc2UgcnVsZXMgYXJlIGJ1bmRsZWQgd2l0aCBhbmd1bGFyLmpzLCBidXQgY2FuIGJlIG92ZXJyaWRkZW5cbiAqIChzZWUge0BsaW5rIGd1aWRlL2kxOG4gQW5ndWxhckpTIGkxOG59IGRldiBndWlkZSkuIFlvdSBjb25maWd1cmUgbmdQbHVyYWxpemUgZGlyZWN0aXZlXG4gKiBieSBzcGVjaWZ5aW5nIHRoZSBtYXBwaW5ncyBiZXR3ZWVuXG4gKiBbcGx1cmFsIGNhdGVnb3JpZXNdKGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcy9jbGRyLXRtcC90cnVuay9kaWZmL3N1cHBsZW1lbnRhbC9sYW5ndWFnZV9wbHVyYWxfcnVsZXMuaHRtbClcbiAqIGFuZCB0aGUgc3RyaW5ncyB0byBiZSBkaXNwbGF5ZWQuXG4gKlxuICogIyMgUGx1cmFsIGNhdGVnb3JpZXMgYW5kIGV4cGxpY2l0IG51bWJlciBydWxlc1xuICogVGhlcmUgYXJlIHR3b1xuICogW3BsdXJhbCBjYXRlZ29yaWVzXShodHRwOi8vdW5pY29kZS5vcmcvcmVwb3MvY2xkci10bXAvdHJ1bmsvZGlmZi9zdXBwbGVtZW50YWwvbGFuZ3VhZ2VfcGx1cmFsX3J1bGVzLmh0bWwpXG4gKiBpbiBBbmd1bGFySlMncyBkZWZhdWx0IGVuLVVTIGxvY2FsZTogXCJvbmVcIiBhbmQgXCJvdGhlclwiLlxuICpcbiAqIFdoaWxlIGEgcGx1cmFsIGNhdGVnb3J5IG1heSBtYXRjaCBtYW55IG51bWJlcnMgKGZvciBleGFtcGxlLCBpbiBlbi1VUyBsb2NhbGUsIFwib3RoZXJcIiBjYW4gbWF0Y2hcbiAqIGFueSBudW1iZXIgdGhhdCBpcyBub3QgMSksIGFuIGV4cGxpY2l0IG51bWJlciBydWxlIGNhbiBvbmx5IG1hdGNoIG9uZSBudW1iZXIuIEZvciBleGFtcGxlLCB0aGVcbiAqIGV4cGxpY2l0IG51bWJlciBydWxlIGZvciBcIjNcIiBtYXRjaGVzIHRoZSBudW1iZXIgMy4gVGhlcmUgYXJlIGV4YW1wbGVzIG9mIHBsdXJhbCBjYXRlZ29yaWVzXG4gKiBhbmQgZXhwbGljaXQgbnVtYmVyIHJ1bGVzIHRocm91Z2hvdXQgdGhlIHJlc3Qgb2YgdGhpcyBkb2N1bWVudGF0aW9uLlxuICpcbiAqICMjIENvbmZpZ3VyaW5nIG5nUGx1cmFsaXplXG4gKiBZb3UgY29uZmlndXJlIG5nUGx1cmFsaXplIGJ5IHByb3ZpZGluZyAyIGF0dHJpYnV0ZXM6IGBjb3VudGAgYW5kIGB3aGVuYC5cbiAqIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIG9wdGlvbmFsIGF0dHJpYnV0ZSwgYG9mZnNldGAuXG4gKlxuICogVGhlIHZhbHVlIG9mIHRoZSBgY291bnRgIGF0dHJpYnV0ZSBjYW4gYmUgZWl0aGVyIGEgc3RyaW5nIG9yIGFuIHtAbGluayBndWlkZS9leHByZXNzaW9uXG4gKiBBbmd1bGFySlMgZXhwcmVzc2lvbn07IHRoZXNlIGFyZSBldmFsdWF0ZWQgb24gdGhlIGN1cnJlbnQgc2NvcGUgZm9yIGl0cyBib3VuZCB2YWx1ZS5cbiAqXG4gKiBUaGUgYHdoZW5gIGF0dHJpYnV0ZSBzcGVjaWZpZXMgdGhlIG1hcHBpbmdzIGJldHdlZW4gcGx1cmFsIGNhdGVnb3JpZXMgYW5kIHRoZSBhY3R1YWxcbiAqIHN0cmluZyB0byBiZSBkaXNwbGF5ZWQuIFRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIHNob3VsZCBiZSBhIEpTT04gb2JqZWN0LlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gY29uZmlndXJlIG5nUGx1cmFsaXplOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxuZy1wbHVyYWxpemUgY291bnQ9XCJwZXJzb25Db3VudFwiXG4gICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAnMSBwZXJzb24gaXMgdmlld2luZy4nLFxuICogICAgICAgICAgICAgICAgICAgICAgJ290aGVyJzogJ3t9IHBlb3BsZSBhcmUgdmlld2luZy4nfVwiPlxuICogPC9uZy1wbHVyYWxpemU+XG4gKmBgYFxuICpcbiAqIEluIHRoZSBleGFtcGxlLCBgXCIwOiBOb2JvZHkgaXMgdmlld2luZy5cImAgaXMgYW4gZXhwbGljaXQgbnVtYmVyIHJ1bGUuIElmIHlvdSBkaWQgbm90XG4gKiBzcGVjaWZ5IHRoaXMgcnVsZSwgMCB3b3VsZCBiZSBtYXRjaGVkIHRvIHRoZSBcIm90aGVyXCIgY2F0ZWdvcnkgYW5kIFwiMCBwZW9wbGUgYXJlIHZpZXdpbmdcIlxuICogd291bGQgYmUgc2hvd24gaW5zdGVhZCBvZiBcIk5vYm9keSBpcyB2aWV3aW5nXCIuIFlvdSBjYW4gc3BlY2lmeSBhbiBleHBsaWNpdCBudW1iZXIgcnVsZSBmb3JcbiAqIG90aGVyIG51bWJlcnMsIGZvciBleGFtcGxlIDEyLCBzbyB0aGF0IGluc3RlYWQgb2Ygc2hvd2luZyBcIjEyIHBlb3BsZSBhcmUgdmlld2luZ1wiLCB5b3UgY2FuXG4gKiBzaG93IFwiYSBkb3plbiBwZW9wbGUgYXJlIHZpZXdpbmdcIi5cbiAqXG4gKiBZb3UgY2FuIHVzZSBhIHNldCBvZiBjbG9zZWQgYnJhY2VzIChge31gKSBhcyBhIHBsYWNlaG9sZGVyIGZvciB0aGUgbnVtYmVyIHRoYXQgeW91IHdhbnQgc3Vic3RpdHV0ZWRcbiAqIGludG8gcGx1cmFsaXplZCBzdHJpbmdzLiBJbiB0aGUgcHJldmlvdXMgZXhhbXBsZSwgQW5ndWxhckpTIHdpbGwgcmVwbGFjZSBge31gIHdpdGhcbiAqIDxzcGFuIG5nLW5vbi1iaW5kYWJsZT5ge3twZXJzb25Db3VudH19YDwvc3Bhbj4uIFRoZSBjbG9zZWQgYnJhY2VzIGB7fWAgaXMgYSBwbGFjZWhvbGRlclxuICogZm9yIDxzcGFuIG5nLW5vbi1iaW5kYWJsZT57e251bWJlckV4cHJlc3Npb259fTwvc3Bhbj4uXG4gKlxuICogSWYgbm8gcnVsZSBpcyBkZWZpbmVkIGZvciBhIGNhdGVnb3J5LCB0aGVuIGFuIGVtcHR5IHN0cmluZyBpcyBkaXNwbGF5ZWQgYW5kIGEgd2FybmluZyBpcyBnZW5lcmF0ZWQuXG4gKiBOb3RlIHRoYXQgc29tZSBsb2NhbGVzIGRlZmluZSBtb3JlIGNhdGVnb3JpZXMgdGhhbiBgb25lYCBhbmQgYG90aGVyYC4gRm9yIGV4YW1wbGUsIGZyLWZyIGRlZmluZXMgYGZld2AgYW5kIGBtYW55YC5cbiAqXG4gKiAjIyBDb25maWd1cmluZyBuZ1BsdXJhbGl6ZSB3aXRoIG9mZnNldFxuICogVGhlIGBvZmZzZXRgIGF0dHJpYnV0ZSBhbGxvd3MgZnVydGhlciBjdXN0b21pemF0aW9uIG9mIHBsdXJhbGl6ZWQgdGV4dCwgd2hpY2ggY2FuIHJlc3VsdCBpblxuICogYSBiZXR0ZXIgdXNlciBleHBlcmllbmNlLiBGb3IgZXhhbXBsZSwgaW5zdGVhZCBvZiB0aGUgbWVzc2FnZSBcIjQgcGVvcGxlIGFyZSB2aWV3aW5nIHRoaXMgZG9jdW1lbnRcIixcbiAqIHlvdSBtaWdodCBkaXNwbGF5IFwiSm9obiwgS2F0ZSBhbmQgMiBvdGhlcnMgYXJlIHZpZXdpbmcgdGhpcyBkb2N1bWVudFwiLlxuICogVGhlIG9mZnNldCBhdHRyaWJ1dGUgYWxsb3dzIHlvdSB0byBvZmZzZXQgYSBudW1iZXIgYnkgYW55IGRlc2lyZWQgdmFsdWUuXG4gKiBMZXQncyB0YWtlIGEgbG9vayBhdCBhbiBleGFtcGxlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxuZy1wbHVyYWxpemUgY291bnQ9XCJwZXJzb25Db3VudFwiIG9mZnNldD0yXG4gKiAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICcxJzogJ3t7cGVyc29uMX19IGlzIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICcyJzogJ3t7cGVyc29uMX19IGFuZCB7e3BlcnNvbjJ9fSBhcmUgdmlld2luZy4nLFxuICogICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICdvdGhlcic6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIHt9IG90aGVyIHBlb3BsZSBhcmUgdmlld2luZy4nfVwiPlxuICogPC9uZy1wbHVyYWxpemU+XG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UgdGhhdCB3ZSBhcmUgc3RpbGwgdXNpbmcgdHdvIHBsdXJhbCBjYXRlZ29yaWVzKG9uZSwgb3RoZXIpLCBidXQgd2UgYWRkZWRcbiAqIHRocmVlIGV4cGxpY2l0IG51bWJlciBydWxlcyAwLCAxIGFuZCAyLlxuICogV2hlbiBvbmUgcGVyc29uLCBwZXJoYXBzIEpvaG4sIHZpZXdzIHRoZSBkb2N1bWVudCwgXCJKb2huIGlzIHZpZXdpbmdcIiB3aWxsIGJlIHNob3duLlxuICogV2hlbiB0aHJlZSBwZW9wbGUgdmlldyB0aGUgZG9jdW1lbnQsIG5vIGV4cGxpY2l0IG51bWJlciBydWxlIGlzIGZvdW5kLCBzb1xuICogYW4gb2Zmc2V0IG9mIDIgaXMgdGFrZW4gb2ZmIDMsIGFuZCBBbmd1bGFySlMgdXNlcyAxIHRvIGRlY2lkZSB0aGUgcGx1cmFsIGNhdGVnb3J5LlxuICogSW4gdGhpcyBjYXNlLCBwbHVyYWwgY2F0ZWdvcnkgJ29uZScgaXMgbWF0Y2hlZCBhbmQgXCJKb2huLCBNYXJ5IGFuZCBvbmUgb3RoZXIgcGVyc29uIGFyZSB2aWV3aW5nXCJcbiAqIGlzIHNob3duLlxuICpcbiAqIE5vdGUgdGhhdCB3aGVuIHlvdSBzcGVjaWZ5IG9mZnNldHMsIHlvdSBtdXN0IHByb3ZpZGUgZXhwbGljaXQgbnVtYmVyIHJ1bGVzIGZvclxuICogbnVtYmVycyBmcm9tIDAgdXAgdG8gYW5kIGluY2x1ZGluZyB0aGUgb2Zmc2V0LiBJZiB5b3UgdXNlIGFuIG9mZnNldCBvZiAzLCBmb3IgZXhhbXBsZSxcbiAqIHlvdSBtdXN0IHByb3ZpZGUgZXhwbGljaXQgbnVtYmVyIHJ1bGVzIGZvciAwLCAxLCAyIGFuZCAzLiBZb3UgbXVzdCBhbHNvIHByb3ZpZGUgcGx1cmFsIHN0cmluZ3MgZm9yXG4gKiBwbHVyYWwgY2F0ZWdvcmllcyBcIm9uZVwiIGFuZCBcIm90aGVyXCIuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8ZXhwcmVzc2lvbn0gY291bnQgVGhlIHZhcmlhYmxlIHRvIGJlIGJvdW5kIHRvLlxuICogQHBhcmFtIHtzdHJpbmd9IHdoZW4gVGhlIG1hcHBpbmcgYmV0d2VlbiBwbHVyYWwgY2F0ZWdvcnkgdG8gaXRzIGNvcnJlc3BvbmRpbmcgc3RyaW5ncy5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gb2Zmc2V0IE9mZnNldCB0byBkZWR1Y3QgZnJvbSB0aGUgdG90YWwgbnVtYmVyLlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbW9kdWxlPVwicGx1cmFsaXplRXhhbXBsZVwiIG5hbWU9XCJuZy1wbHVyYWxpemVcIj5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3BsdXJhbGl6ZUV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICRzY29wZS5wZXJzb24xID0gJ0lnb3InO1xuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uMiA9ICdNaXNrbyc7XG4gICAgICAgICAgICAgICRzY29wZS5wZXJzb25Db3VudCA9IDE7XG4gICAgICAgICAgICB9XSk7XG4gICAgICAgIDwvc2NyaXB0PlxuICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgIDxsYWJlbD5QZXJzb24gMTo8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInBlcnNvbjFcIiB2YWx1ZT1cIklnb3JcIiAvPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgICA8bGFiZWw+UGVyc29uIDI6PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJwZXJzb24yXCIgdmFsdWU9XCJNaXNrb1wiIC8+PC9sYWJlbD48YnIvPlxuICAgICAgICAgIDxsYWJlbD5OdW1iZXIgb2YgUGVvcGxlOjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwicGVyc29uQ291bnRcIiB2YWx1ZT1cIjFcIiAvPjwvbGFiZWw+PGJyLz5cblxuICAgICAgICAgIDwhLS0tIEV4YW1wbGUgd2l0aCBzaW1wbGUgcGx1cmFsaXphdGlvbiBydWxlcyBmb3IgZW4gbG9jYWxlIC0tLT5cbiAgICAgICAgICBXaXRob3V0IE9mZnNldDpcbiAgICAgICAgICA8bmctcGx1cmFsaXplIGNvdW50PVwicGVyc29uQ291bnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlbj1cInsnMCc6ICdOb2JvZHkgaXMgdmlld2luZy4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAnMSBwZXJzb24gaXMgdmlld2luZy4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvdGhlcic6ICd7fSBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAgICAgICAgICA8L25nLXBsdXJhbGl6ZT48YnI+XG5cbiAgICAgICAgICA8IS0tLSBFeGFtcGxlIHdpdGggb2Zmc2V0IC0tLT5cbiAgICAgICAgICBXaXRoIE9mZnNldCgyKTpcbiAgICAgICAgICA8bmctcGx1cmFsaXplIGNvdW50PVwicGVyc29uQ291bnRcIiBvZmZzZXQ9MlxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlbj1cInsnMCc6ICdOb2JvZHkgaXMgdmlld2luZy4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcxJzogJ3t7cGVyc29uMX19IGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMic6ICd7e3BlcnNvbjF9fSBhbmQge3twZXJzb24yfX0gYXJlIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJ3t7cGVyc29uMX19LCB7e3BlcnNvbjJ9fSBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZy4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvdGhlcic6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIHt9IG90aGVyIHBlb3BsZSBhcmUgdmlld2luZy4nfVwiPlxuICAgICAgICAgIDwvbmctcGx1cmFsaXplPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBzaG93IGNvcnJlY3QgcGx1cmFsaXplZCBzdHJpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgd2l0aG91dE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgwKTtcbiAgICAgICAgICB2YXIgd2l0aE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgxKTtcbiAgICAgICAgICB2YXIgY291bnRJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3BlcnNvbkNvdW50JykpO1xuXG4gICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCcxIHBlcnNvbiBpcyB2aWV3aW5nLicpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnSWdvciBpcyB2aWV3aW5nLicpO1xuXG4gICAgICAgICAgY291bnRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIGNvdW50SW5wdXQuc2VuZEtleXMoJzAnKTtcblxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnTm9ib2R5IGlzIHZpZXdpbmcuJyk7XG4gICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdOb2JvZHkgaXMgdmlld2luZy4nKTtcblxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCcyJyk7XG5cbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJzIgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnSWdvciBhbmQgTWlza28gYXJlIHZpZXdpbmcuJyk7XG5cbiAgICAgICAgICBjb3VudElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgY291bnRJbnB1dC5zZW5kS2V5cygnMycpO1xuXG4gICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCczIHBlb3BsZSBhcmUgdmlld2luZy4nKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IsIE1pc2tvIGFuZCBvbmUgb3RoZXIgcGVyc29uIGFyZSB2aWV3aW5nLicpO1xuXG4gICAgICAgICAgY291bnRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIGNvdW50SW5wdXQuc2VuZEtleXMoJzQnKTtcblxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnNCBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XG4gICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdJZ29yLCBNaXNrbyBhbmQgMiBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdCgnc2hvdWxkIHNob3cgZGF0YS1ib3VuZCBuYW1lcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciB3aXRoT2Zmc2V0ID0gZWxlbWVudC5hbGwoYnkuY3NzKCduZy1wbHVyYWxpemUnKSkuZ2V0KDEpO1xuICAgICAgICAgIHZhciBwZXJzb25Db3VudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3BlcnNvbkNvdW50JykpO1xuICAgICAgICAgIHZhciBwZXJzb24xID0gZWxlbWVudChieS5tb2RlbCgncGVyc29uMScpKTtcbiAgICAgICAgICB2YXIgcGVyc29uMiA9IGVsZW1lbnQoYnkubW9kZWwoJ3BlcnNvbjInKSk7XG4gICAgICAgICAgcGVyc29uQ291bnQuY2xlYXIoKTtcbiAgICAgICAgICBwZXJzb25Db3VudC5zZW5kS2V5cygnNCcpO1xuICAgICAgICAgIHBlcnNvbjEuY2xlYXIoKTtcbiAgICAgICAgICBwZXJzb24xLnNlbmRLZXlzKCdEaScpO1xuICAgICAgICAgIHBlcnNvbjIuY2xlYXIoKTtcbiAgICAgICAgICBwZXJzb24yLnNlbmRLZXlzKCdWb2p0YScpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnRGksIFZvanRhIGFuZCAyIG90aGVyIHBlb3BsZSBhcmUgdmlld2luZy4nKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdQbHVyYWxpemVEaXJlY3RpdmUgPSBbJyRsb2NhbGUnLCAnJGludGVycG9sYXRlJywgJyRsb2cnLCBmdW5jdGlvbigkbG9jYWxlLCAkaW50ZXJwb2xhdGUsICRsb2cpIHtcbiAgdmFyIEJSQUNFID0gL3t9L2csXG4gICAgICBJU19XSEVOID0gL153aGVuKE1pbnVzKT8oLispJC87XG5cbiAgcmV0dXJuIHtcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgdmFyIG51bWJlckV4cCA9IGF0dHIuY291bnQsXG4gICAgICAgICAgd2hlbkV4cCA9IGF0dHIuJGF0dHIud2hlbiAmJiBlbGVtZW50LmF0dHIoYXR0ci4kYXR0ci53aGVuKSwgLy8gd2UgaGF2ZSB7e319IGluIGF0dHJzXG4gICAgICAgICAgb2Zmc2V0ID0gYXR0ci5vZmZzZXQgfHwgMCxcbiAgICAgICAgICB3aGVucyA9IHNjb3BlLiRldmFsKHdoZW5FeHApIHx8IHt9LFxuICAgICAgICAgIHdoZW5zRXhwRm5zID0ge30sXG4gICAgICAgICAgc3RhcnRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSxcbiAgICAgICAgICBlbmRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCksXG4gICAgICAgICAgYnJhY2VSZXBsYWNlbWVudCA9IHN0YXJ0U3ltYm9sICsgbnVtYmVyRXhwICsgJy0nICsgb2Zmc2V0ICsgZW5kU3ltYm9sLFxuICAgICAgICAgIHdhdGNoUmVtb3ZlciA9IGFuZ3VsYXIubm9vcCxcbiAgICAgICAgICBsYXN0Q291bnQ7XG5cbiAgICAgIGZvckVhY2goYXR0ciwgZnVuY3Rpb24oZXhwcmVzc2lvbiwgYXR0cmlidXRlTmFtZSkge1xuICAgICAgICB2YXIgdG1wTWF0Y2ggPSBJU19XSEVOLmV4ZWMoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIGlmICh0bXBNYXRjaCkge1xuICAgICAgICAgIHZhciB3aGVuS2V5ID0gKHRtcE1hdGNoWzFdID8gJy0nIDogJycpICsgbG93ZXJjYXNlKHRtcE1hdGNoWzJdKTtcbiAgICAgICAgICB3aGVuc1t3aGVuS2V5XSA9IGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyW2F0dHJpYnV0ZU5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBmb3JFYWNoKHdoZW5zLCBmdW5jdGlvbihleHByZXNzaW9uLCBrZXkpIHtcbiAgICAgICAgd2hlbnNFeHBGbnNba2V5XSA9ICRpbnRlcnBvbGF0ZShleHByZXNzaW9uLnJlcGxhY2UoQlJBQ0UsIGJyYWNlUmVwbGFjZW1lbnQpKTtcblxuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLiR3YXRjaChudW1iZXJFeHAsIGZ1bmN0aW9uIG5nUGx1cmFsaXplV2F0Y2hBY3Rpb24obmV3VmFsKSB7XG4gICAgICAgIHZhciBjb3VudCA9IHBhcnNlRmxvYXQobmV3VmFsKTtcbiAgICAgICAgdmFyIGNvdW50SXNOYU4gPSBpc051bWJlck5hTihjb3VudCk7XG5cbiAgICAgICAgaWYgKCFjb3VudElzTmFOICYmICEoY291bnQgaW4gd2hlbnMpKSB7XG4gICAgICAgICAgLy8gSWYgYW4gZXhwbGljaXQgbnVtYmVyIHJ1bGUgc3VjaCBhcyAxLCAyLCAzLi4uIGlzIGRlZmluZWQsIGp1c3QgdXNlIGl0LlxuICAgICAgICAgIC8vIE90aGVyd2lzZSwgY2hlY2sgaXQgYWdhaW5zdCBwbHVyYWxpemF0aW9uIHJ1bGVzIGluICRsb2NhbGUgc2VydmljZS5cbiAgICAgICAgICBjb3VudCA9ICRsb2NhbGUucGx1cmFsQ2F0KGNvdW50IC0gb2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGJvdGggYGNvdW50YCBhbmQgYGxhc3RDb3VudGAgYXJlIE5hTiwgd2UgZG9uJ3QgbmVlZCB0byByZS1yZWdpc3RlciBhIHdhdGNoLlxuICAgICAgICAvLyBJbiBKUyBgTmFOICE9PSBOYU5gLCBzbyB3ZSBoYXZlIHRvIGV4cGxpY2l0bHkgY2hlY2suXG4gICAgICAgIGlmICgoY291bnQgIT09IGxhc3RDb3VudCkgJiYgIShjb3VudElzTmFOICYmIGlzTnVtYmVyTmFOKGxhc3RDb3VudCkpKSB7XG4gICAgICAgICAgd2F0Y2hSZW1vdmVyKCk7XG4gICAgICAgICAgdmFyIHdoZW5FeHBGbiA9IHdoZW5zRXhwRm5zW2NvdW50XTtcbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQod2hlbkV4cEZuKSkge1xuICAgICAgICAgICAgaWYgKG5ld1ZhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICRsb2cuZGVidWcoJ25nUGx1cmFsaXplOiBubyBydWxlIGRlZmluZWQgZm9yIFxcJycgKyBjb3VudCArICdcXCcgaW4gJyArIHdoZW5FeHApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2F0Y2hSZW1vdmVyID0gbm9vcDtcbiAgICAgICAgICAgIHVwZGF0ZUVsZW1lbnRUZXh0KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdhdGNoUmVtb3ZlciA9IHNjb3BlLiR3YXRjaCh3aGVuRXhwRm4sIHVwZGF0ZUVsZW1lbnRUZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGFzdENvdW50ID0gY291bnQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVFbGVtZW50VGV4dChuZXdUZXh0KSB7XG4gICAgICAgIGVsZW1lbnQudGV4dChuZXdUZXh0IHx8ICcnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1JlZlxuICogQHJlc3RyaWN0IEFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdSZWZgIGF0dHJpYnV0ZSB0ZWxscyBBbmd1bGFySlMgdG8gYXNzaWduIHRoZSBjb250cm9sbGVyIG9mIGEgY29tcG9uZW50IChvciBhIGRpcmVjdGl2ZSlcbiAqIHRvIHRoZSBnaXZlbiBwcm9wZXJ0eSBpbiB0aGUgY3VycmVudCBzY29wZS4gSXQgaXMgYWxzbyBwb3NzaWJsZSB0byBhZGQgdGhlIGpxbGl0ZS13cmFwcGVkIERPTVxuICogZWxlbWVudCB0byB0aGUgc2NvcGUuXG4gKlxuICogSWYgdGhlIGVsZW1lbnQgd2l0aCBgbmdSZWZgIGlzIGRlc3Ryb3llZCBgbnVsbGAgaXMgYXNzaWduZWQgdG8gdGhlIHByb3BlcnR5LlxuICpcbiAqIE5vdGUgdGhhdCBpZiB5b3Ugd2FudCB0byBhc3NpZ24gZnJvbSBhIGNoaWxkIGludG8gdGhlIHBhcmVudCBzY29wZSwgeW91IG11c3QgaW5pdGlhbGl6ZSB0aGVcbiAqIHRhcmdldCBwcm9wZXJ0eSBvbiB0aGUgcGFyZW50IHNjb3BlLCBvdGhlcndpc2UgYG5nUmVmYCB3aWxsIGFzc2lnbiBvbiB0aGUgY2hpbGQgc2NvcGUuXG4gKiBUaGlzIGNvbW1vbmx5IGhhcHBlbnMgd2hlbiBhc3NpZ25pbmcgZWxlbWVudHMgb3IgY29tcG9uZW50cyB3cmFwcGVkIGluIHtAbGluayBuZ0lmfSBvclxuICoge0BsaW5rIG5nUmVwZWF0fS4gU2VlIHRoZSBzZWNvbmQgZXhhbXBsZSBiZWxvdy5cbiAqXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdSZWYgcHJvcGVydHkgbmFtZSAtIEEgdmFsaWQgQW5ndWxhckpTIGV4cHJlc3Npb24gaWRlbnRpZmllciB0byB3aGljaCB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyIG9yIGpxbGl0ZS13cmFwcGVkIERPTSBlbGVtZW50IHdpbGwgYmUgYm91bmQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUmVmUmVhZCByZWFkIHZhbHVlIC0gVGhlIG5hbWUgb2YgYSBkaXJlY3RpdmUgKG9yIGNvbXBvbmVudCkgb24gdGhpcyBlbGVtZW50LFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgdGhlIHNwZWNpYWwgc3RyaW5nIGAkZWxlbWVudGAuIElmIGEgbmFtZSBpcyBwcm92aWRlZCwgYG5nUmVmYCB3aWxsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ24gdGhlIG1hdGNoaW5nIGNvbnRyb2xsZXIuIElmIGAkZWxlbWVudGAgaXMgcHJvdmlkZWQsIHRoZSBlbGVtZW50XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdHNlbGYgaXMgYXNzaWduZWQgKGV2ZW4gaWYgYSBjb250cm9sbGVyIGlzIGF2YWlsYWJsZSkuXG4gKlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgU2ltcGxlIHRvZ2dsZVxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0aGUgY29udHJvbGxlciBvZiB0aGUgY29tcG9uZW50IHRvZ2dsZVxuICogaXMgcmV1c2VkIGluIHRoZSB0ZW1wbGF0ZSB0aHJvdWdoIHRoZSBzY29wZSB0byB1c2UgaXRzIGxvZ2ljLlxuICogPGV4YW1wbGUgbmFtZT1cIm5nLXJlZi1jb21wb25lbnRcIiBtb2R1bGU9XCJteUFwcFwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxteS10b2dnbGUgbmctcmVmPVwibXlUb2dnbGVcIj48L215LXRvZ2dsZT5cbiAqICAgICA8YnV0dG9uIG5nLWNsaWNrPVwibXlUb2dnbGUudG9nZ2xlKClcIj5Ub2dnbGU8L2J1dHRvbj5cbiAqICAgICA8ZGl2IG5nLXNob3c9XCJteVRvZ2dsZS5pc09wZW4oKVwiPlxuICogICAgICAgWW91IGFyZSB1c2luZyBhIGNvbXBvbmVudCBpbiB0aGUgc2FtZSB0ZW1wbGF0ZSB0byBzaG93IGl0LlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5qc1wiPlxuICogICAgIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKVxuICogICAgIC5jb21wb25lbnQoJ215VG9nZ2xlJywge1xuICogICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24gVG9nZ2xlQ29udHJvbGxlcigpIHtcbiAqICAgICAgICAgdmFyIG9wZW5lZCA9IGZhbHNlO1xuICogICAgICAgICB0aGlzLmlzT3BlbiA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gb3BlbmVkOyB9O1xuICogICAgICAgICB0aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uKCkgeyBvcGVuZWQgPSAhb3BlbmVkOyB9O1xuICogICAgICAgfVxuICogICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICAgaXQoJ3Nob3VsZCBwdWJsaXNoIHRoZSB0b2dnbGUgaW50byB0aGUgc2NvcGUnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgICB2YXIgdG9nZ2xlID0gZWxlbWVudChieS5idXR0b25UZXh0KCdUb2dnbGUnKSk7XG4gKiAgICAgICAgZXhwZWN0KHRvZ2dsZS5ldmFsdWF0ZSgnbXlUb2dnbGUuaXNPcGVuKCknKSkudG9FcXVhbChmYWxzZSk7XG4gKiAgICAgICAgdG9nZ2xlLmNsaWNrKCk7XG4gKiAgICAgICAgZXhwZWN0KHRvZ2dsZS5ldmFsdWF0ZSgnbXlUb2dnbGUuaXNPcGVuKCknKSkudG9FcXVhbCh0cnVlKTtcbiAqICAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIG5nUmVmIGluc2lkZSBzY29wZXNcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgYG5nUmVmYCB3b3JrcyB3aXRoIGNoaWxkIHNjb3Blcy4gVGhlIGBuZ1JlcGVhdGAtZWQgYG15V3JhcHBlcmAgY29tcG9uZW50c1xuICogYXJlIGFzc2lnbmVkIHRvIHRoZSBzY29wZSBvZiBgbXlSb290YCwgYmVjYXVzZSB0aGUgYHRvZ2dsZXNgIHByb3BlcnR5IGhhcyBiZWVuIGluaXRpYWxpemVkLlxuICogVGhlIHJlcGVhdGVkIGBteVRvZ2dsZWAgY29tcG9uZW50cyBhcmUgcHVibGlzaGVkIHRvIHRoZSBjaGlsZCBzY29wZXMgY3JlYXRlZCBieSBgbmdSZXBlYXRgLlxuICogYG5nSWZgIGJlaGF2ZXMgc2ltaWxhcmx5IC0gdGhlIGFzc2lnbm1lbnQgb2YgYG15VG9nZ2xlYCBoYXBwZW5zIGluIHRoZSBgbmdJZmAgY2hpbGQgc2NvcGUsXG4gKiBiZWNhdXNlIHRoZSB0YXJnZXQgcHJvcGVydHkgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIG9uIHRoZSBgbXlSb290YCBjb21wb25lbnQgY29udHJvbGxlci5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmctcmVmLXNjb3Blc1wiIG1vZHVsZT1cIm15QXBwXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICAgPG15LXJvb3Q+PC9teS1yb290PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5qc1wiPlxuICogICAgIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKVxuICogICAgIC5jb21wb25lbnQoJ215Um9vdCcsIHtcbiAqICAgICAgIHRlbXBsYXRlVXJsOiAncm9vdC5odG1sJyxcbiAqICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICB0aGlzLndyYXBwZXJzID0gW107IC8vIGluaXRpYWxpemUgdGhlIGFycmF5IHNvIHRoYXQgdGhlIHdyYXBwZXJzIGFyZSBhc3NpZ25lZCBpbnRvIHRoZSBwYXJlbnQgc2NvcGVcbiAqICAgICAgIH1cbiAqICAgICB9KVxuICogICAgIC5jb21wb25lbnQoJ215VG9nZ2xlJywge1xuICogICAgICAgdGVtcGxhdGU6ICc8c3Ryb25nPm15VG9nZ2xlPC9zdHJvbmc+PGJ1dHRvbiBuZy1jbGljaz1cIiRjdHJsLnRvZ2dsZSgpXCIgbmctdHJhbnNjbHVkZT48L2J1dHRvbj4nLFxuICogICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAqICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uIFRvZ2dsZUNvbnRyb2xsZXIoKSB7XG4gKiAgICAgICAgIHZhciBvcGVuZWQgPSBmYWxzZTtcbiAqICAgICAgICAgdGhpcy5pc09wZW4gPSBmdW5jdGlvbigpIHsgcmV0dXJuIG9wZW5lZDsgfTtcbiAqICAgICAgICAgdGhpcy50b2dnbGUgPSBmdW5jdGlvbigpIHsgb3BlbmVkID0gIW9wZW5lZDsgfTtcbiAqICAgICAgIH1cbiAqICAgICB9KVxuICogICAgIC5jb21wb25lbnQoJ215V3JhcHBlcicsIHtcbiAqICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gKiAgICAgICB0ZW1wbGF0ZTogJzxzdHJvbmc+bXlXcmFwcGVyPC9zdHJvbmc+JyArXG4gKiAgICAgICAgICc8ZGl2Pm5nUmVwZWF0VG9nZ2xlLmlzT3BlbigpOiB7eyRjdHJsLm5nUmVwZWF0VG9nZ2xlLmlzT3BlbigpIHwganNvbn19PC9kaXY+JyArXG4gKiAgICAgICAgICc8bXktdG9nZ2xlIG5nLXJlZj1cIiRjdHJsLm5nUmVwZWF0VG9nZ2xlXCI+PG5nLXRyYW5zY2x1ZGU+PC9uZy10cmFuc2NsdWRlPjwvbXktdG9nZ2xlPidcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicm9vdC5odG1sXCI+XG4gKiAgICAgPHN0cm9uZz5teVJvb3Q8L3N0cm9uZz5cbiAqICAgICA8bXktdG9nZ2xlIG5nLXJlZj1cIiRjdHJsLm91dGVyVG9nZ2xlXCI+T3V0ZXIgVG9nZ2xlPC9teS10b2dnbGU+XG4gKiAgICAgPGRpdj5vdXRlclRvZ2dsZS5pc09wZW4oKToge3skY3RybC5vdXRlclRvZ2dsZS5pc09wZW4oKSB8IGpzb259fTwvZGl2PlxuICogICAgIDxkaXY+PGVtPndyYXBwZXJzIGFzc2lnbmVkIHRvIHJvb3Q8L2VtPjxicj5cbiAqICAgICA8ZGl2IG5nLXJlcGVhdD1cIndyYXBwZXIgaW4gJGN0cmwud3JhcHBlcnNcIj5cbiAqICAgICAgIHdyYXBwZXIubmdSZXBlYXRUb2dnbGUuaXNPcGVuKCk6IHt7d3JhcHBlci5uZ1JlcGVhdFRvZ2dsZS5pc09wZW4oKSB8IGpzb259fVxuICogICAgIDwvZGl2PlxuICpcbiAqICAgICA8dWw+XG4gKiAgICAgICA8bGkgbmctcmVwZWF0PVwiKGluZGV4LCB2YWx1ZSkgaW4gWzEsMiwzXVwiPlxuICogICAgICAgICA8c3Ryb25nPm5nUmVwZWF0PC9zdHJvbmc+XG4gKiAgICAgICAgIDxkaXY+b3V0ZXJUb2dnbGUuaXNPcGVuKCk6IHt7JGN0cmwub3V0ZXJUb2dnbGUuaXNPcGVuKCkgfCBqc29ufX08L2Rpdj5cbiAqICAgICAgICAgPG15LXdyYXBwZXIgbmctcmVmPVwiJGN0cmwud3JhcHBlcnNbaW5kZXhdXCI+bmdSZXBlYXQgVG9nZ2xlIHt7JGluZGV4ICsgMX19PC9teS13cmFwcGVyPlxuICogICAgICAgPC9saT5cbiAqICAgICA8L3VsPlxuICpcbiAqICAgICA8ZGl2Pm5nSWZUb2dnbGUuaXNPcGVuKCk6IHt7bmdJZlRvZ2dsZS5pc09wZW4oKX19IC8vIFRoaXMgaXMgYWx3YXlzIHVuZGVmaW5lZCBiZWNhdXNlIGl0J3NcbiAqICAgICAgIGFzc2lnbmVkIHRvIHRoZSBjaGlsZCBzY29wZSBjcmVhdGVkIGJ5IG5nSWYuXG4gKiAgICAgPC9kaXY+XG4gKiAgICAgPGRpdiBuZy1pZj1cInRydWVcIj5cbiAgICAgICAgICA8c3Ryb25nPm5nSWY8L3N0cm9uZz5cbiAqICAgICAgICA8bXktdG9nZ2xlIG5nLXJlZj1cIm5nSWZUb2dnbGVcIj5uZ0lmIFRvZ2dsZTwvbXktdG9nZ2xlPlxuICogICAgICAgIDxkaXY+bmdJZlRvZ2dsZS5pc09wZW4oKToge3tuZ0lmVG9nZ2xlLmlzT3BlbigpIHwganNvbn19PC9kaXY+XG4gKiAgICAgICAgPGRpdj5vdXRlclRvZ2dsZS5pc09wZW4oKToge3skY3RybC5vdXRlclRvZ2dsZS5pc09wZW4oKSB8IGpzb259fTwvZGl2PlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJzdHlsZXMuY3NzXCI+XG4gKiAgICAgdWwge1xuICogICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAqICAgICAgIHBhZGRpbmctbGVmdDogMDtcbiAqICAgICB9XG4gKlxuICogICAgIGxpW25nLXJlcGVhdF0ge1xuICogICAgICAgYmFja2dyb3VuZDogbGlnaHRncmVlbjtcbiAqICAgICAgIHBhZGRpbmc6IDhweDtcbiAqICAgICAgIG1hcmdpbjogOHB4O1xuICogICAgIH1cbiAqXG4gKiAgICAgW25nLWlmXSB7XG4gKiAgICAgICBiYWNrZ3JvdW5kOiBsaWdodGdyZXk7XG4gKiAgICAgICBwYWRkaW5nOiA4cHg7XG4gKiAgICAgfVxuICpcbiAqICAgICBteS1yb290IHtcbiAqICAgICAgIGJhY2tncm91bmQ6IGxpZ2h0Z29sZGVucm9keWVsbG93O1xuICogICAgICAgcGFkZGluZzogOHB4O1xuICogICAgICAgZGlzcGxheTogYmxvY2s7XG4gKiAgICAgfVxuICpcbiAqICAgICBteS13cmFwcGVyIHtcbiAqICAgICAgIGJhY2tncm91bmQ6IGxpZ2h0c2FsbW9uO1xuICogICAgICAgcGFkZGluZzogOHB4O1xuICogICAgICAgZGlzcGxheTogYmxvY2s7XG4gKiAgICAgfVxuICpcbiAqICAgICBteS10b2dnbGUge1xuICogICAgICAgYmFja2dyb3VuZDogbGlnaHRibHVlO1xuICogICAgICAgcGFkZGluZzogOHB4O1xuICogICAgICAgZGlzcGxheTogYmxvY2s7XG4gKiAgICAgfVxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICAgdmFyIE91dGVyVG9nZ2xlID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgdGhpcy50b2dnbGUgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgIGVsZW1lbnQoYnkuYnV0dG9uVGV4dCgnT3V0ZXIgVG9nZ2xlJykpLmNsaWNrKCk7XG4gKiAgICAgICAgfTtcbiAqICAgICAgICB0aGlzLmlzT3BlbiA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgcmV0dXJuIGVsZW1lbnQuYWxsKGJ5LmJpbmRpbmcoJ291dGVyVG9nZ2xlLmlzT3BlbigpJykpLmZpcnN0KCkuZ2V0VGV4dCgpO1xuICogICAgICAgIH07XG4gKiAgICAgIH07XG4gKiAgICAgIHZhciBOZ1JlcGVhdFRvZ2dsZSA9IGZ1bmN0aW9uKGkpIHtcbiAqICAgICAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5hbGwoYnkucmVwZWF0ZXIoJyhpbmRleCwgdmFsdWUpIGluIFsxLDIsM10nKSkuZ2V0KGkgLSAxKTtcbiAqICAgICAgICB0aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgZWxlbWVudChieS5idXR0b25UZXh0KCduZ1JlcGVhdCBUb2dnbGUgJyArIGkpKS5jbGljaygpO1xuICogICAgICAgIH07XG4gKiAgICAgICAgdGhpcy5pc09wZW4gPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgIHJldHVybiBwYXJlbnQuZWxlbWVudChieS5iaW5kaW5nKCduZ1JlcGVhdFRvZ2dsZS5pc09wZW4oKSB8IGpzb24nKSkuZ2V0VGV4dCgpO1xuICogICAgICAgIH07XG4gKiAgICAgICAgdGhpcy5pc091dGVyT3BlbiA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgcmV0dXJuIHBhcmVudC5lbGVtZW50KGJ5LmJpbmRpbmcoJ291dGVyVG9nZ2xlLmlzT3BlbigpIHwganNvbicpKS5nZXRUZXh0KCk7XG4gKiAgICAgICAgfTtcbiAqICAgICAgfTtcbiAqICAgICAgdmFyIE5nUmVwZWF0VG9nZ2xlcyA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgIHZhciB0b2dnbGVzID0gWzEsMiwzXS5tYXAoZnVuY3Rpb24oaSkgeyByZXR1cm4gbmV3IE5nUmVwZWF0VG9nZ2xlKGkpOyB9KTtcbiAqICAgICAgICB0aGlzLmZvckVhY2ggPSBmdW5jdGlvbihmbikge1xuICogICAgICAgICAgdG9nZ2xlcy5mb3JFYWNoKGZuKTtcbiAqICAgICAgICB9O1xuICogICAgICAgIHRoaXMuaXNPdXRlck9wZW4gPSBmdW5jdGlvbihpKSB7XG4gKiAgICAgICAgICByZXR1cm4gdG9nZ2xlc1tpIC0gMV0uaXNPdXRlck9wZW4oKTtcbiAqICAgICAgICB9O1xuICogICAgICB9O1xuICogICAgICB2YXIgTmdJZlRvZ2dsZSA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgIHZhciBwYXJlbnQgPSBlbGVtZW50KGJ5LmNzcygnW25nLWlmXScpKTtcbiAqICAgICAgICB0aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgZWxlbWVudChieS5idXR0b25UZXh0KCduZ0lmIFRvZ2dsZScpKS5jbGljaygpO1xuICogICAgICAgIH07XG4gKiAgICAgICAgdGhpcy5pc09wZW4gPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgIHJldHVybiBieS5iaW5kaW5nKCduZ0lmVG9nZ2xlLmlzT3BlbigpIHwganNvbicpLmdldFRleHQoKTtcbiAqICAgICAgICB9O1xuICogICAgICAgIHRoaXMuaXNPdXRlck9wZW4gPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgIHJldHVybiBwYXJlbnQuZWxlbWVudChieS5iaW5kaW5nKCdvdXRlclRvZ2dsZS5pc09wZW4oKSB8IGpzb24nKSkuZ2V0VGV4dCgpO1xuICogICAgICAgIH07XG4gKiAgICAgIH07XG4gKlxuICogICAgICBpdCgnc2hvdWxkIHRvZ2dsZSB0aGUgb3V0ZXIgdG9nZ2xlJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgdmFyIG91dGVyVG9nZ2xlID0gbmV3IE91dGVyVG9nZ2xlKCk7XG4gKiAgICAgICAgZXhwZWN0KG91dGVyVG9nZ2xlLmlzT3BlbigpKS50b0VxdWFsKCdvdXRlclRvZ2dsZS5pc09wZW4oKTogZmFsc2UnKTtcbiAqICAgICAgICBvdXRlclRvZ2dsZS50b2dnbGUoKTtcbiAqICAgICAgICBleHBlY3Qob3V0ZXJUb2dnbGUuaXNPcGVuKCkpLnRvRXF1YWwoJ291dGVyVG9nZ2xlLmlzT3BlbigpOiB0cnVlJyk7XG4gKiAgICAgIH0pO1xuICpcbiAqICAgICAgaXQoJ3Nob3VsZCB0b2dnbGUgYWxsIG91dGVyIHRvZ2dsZXMnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgICB2YXIgb3V0ZXJUb2dnbGUgPSBuZXcgT3V0ZXJUb2dnbGUoKTtcbiAqICAgICAgICB2YXIgcmVwZWF0VG9nZ2xlcyA9IG5ldyBOZ1JlcGVhdFRvZ2dsZXMoKTtcbiAqICAgICAgICB2YXIgaWZUb2dnbGUgPSBuZXcgTmdJZlRvZ2dsZSgpO1xuICogICAgICAgIGV4cGVjdChvdXRlclRvZ2dsZS5pc09wZW4oKSkudG9FcXVhbCgnb3V0ZXJUb2dnbGUuaXNPcGVuKCk6IGZhbHNlJyk7XG4gKiAgICAgICAgZXhwZWN0KHJlcGVhdFRvZ2dsZXMuaXNPdXRlck9wZW4oMSkpLnRvRXF1YWwoJ291dGVyVG9nZ2xlLmlzT3BlbigpOiBmYWxzZScpO1xuICogICAgICAgIGV4cGVjdChyZXBlYXRUb2dnbGVzLmlzT3V0ZXJPcGVuKDIpKS50b0VxdWFsKCdvdXRlclRvZ2dsZS5pc09wZW4oKTogZmFsc2UnKTtcbiAqICAgICAgICBleHBlY3QocmVwZWF0VG9nZ2xlcy5pc091dGVyT3BlbigzKSkudG9FcXVhbCgnb3V0ZXJUb2dnbGUuaXNPcGVuKCk6IGZhbHNlJyk7XG4gKiAgICAgICAgZXhwZWN0KGlmVG9nZ2xlLmlzT3V0ZXJPcGVuKCkpLnRvRXF1YWwoJ291dGVyVG9nZ2xlLmlzT3BlbigpOiBmYWxzZScpO1xuICogICAgICAgIG91dGVyVG9nZ2xlLnRvZ2dsZSgpO1xuICogICAgICAgIGV4cGVjdChvdXRlclRvZ2dsZS5pc09wZW4oKSkudG9FcXVhbCgnb3V0ZXJUb2dnbGUuaXNPcGVuKCk6IHRydWUnKTtcbiAqICAgICAgICBleHBlY3QocmVwZWF0VG9nZ2xlcy5pc091dGVyT3BlbigxKSkudG9FcXVhbCgnb3V0ZXJUb2dnbGUuaXNPcGVuKCk6IHRydWUnKTtcbiAqICAgICAgICBleHBlY3QocmVwZWF0VG9nZ2xlcy5pc091dGVyT3BlbigyKSkudG9FcXVhbCgnb3V0ZXJUb2dnbGUuaXNPcGVuKCk6IHRydWUnKTtcbiAqICAgICAgICBleHBlY3QocmVwZWF0VG9nZ2xlcy5pc091dGVyT3BlbigzKSkudG9FcXVhbCgnb3V0ZXJUb2dnbGUuaXNPcGVuKCk6IHRydWUnKTtcbiAqICAgICAgICBleHBlY3QoaWZUb2dnbGUuaXNPdXRlck9wZW4oKSkudG9FcXVhbCgnb3V0ZXJUb2dnbGUuaXNPcGVuKCk6IHRydWUnKTtcbiAqICAgICAgfSk7XG4gKlxuICogICAgICBpdCgnc2hvdWxkIHRvZ2dsZSBlYWNoIHJlcGVhdCBpdGVyYXRpb24gc2VwYXJhdGVseScsIGZ1bmN0aW9uKCkge1xuICogICAgICAgIHZhciByZXBlYXRUb2dnbGVzID0gbmV3IE5nUmVwZWF0VG9nZ2xlcygpO1xuICpcbiAqICAgICAgICByZXBlYXRUb2dnbGVzLmZvckVhY2goZnVuY3Rpb24ocmVwZWF0VG9nZ2xlKSB7XG4gKiAgICAgICAgICBleHBlY3QocmVwZWF0VG9nZ2xlLmlzT3BlbigpKS50b0VxdWFsKCduZ1JlcGVhdFRvZ2dsZS5pc09wZW4oKTogZmFsc2UnKTtcbiAqICAgICAgICAgIGV4cGVjdChyZXBlYXRUb2dnbGUuaXNPdXRlck9wZW4oKSkudG9FcXVhbCgnb3V0ZXJUb2dnbGUuaXNPcGVuKCk6IGZhbHNlJyk7XG4gKiAgICAgICAgICByZXBlYXRUb2dnbGUudG9nZ2xlKCk7XG4gKiAgICAgICAgICBleHBlY3QocmVwZWF0VG9nZ2xlLmlzT3BlbigpKS50b0VxdWFsKCduZ1JlcGVhdFRvZ2dsZS5pc09wZW4oKTogdHJ1ZScpO1xuICogICAgICAgICAgZXhwZWN0KHJlcGVhdFRvZ2dsZS5pc091dGVyT3BlbigpKS50b0VxdWFsKCdvdXRlclRvZ2dsZS5pc09wZW4oKTogZmFsc2UnKTtcbiAqICAgICAgICB9KTtcbiAqICAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKi9cblxudmFyIG5nUmVmTWluRXJyID0gbWluRXJyKCduZ1JlZicpO1xuXG52YXIgbmdSZWZEaXJlY3RpdmUgPSBbJyRwYXJzZScsIGZ1bmN0aW9uKCRwYXJzZSkge1xuICByZXR1cm4ge1xuICAgIHByaW9yaXR5OiAtMSwgLy8gTmVlZGVkIGZvciBjb21wYXRpYmlsaXR5IHdpdGggZWxlbWVudCB0cmFuc2NsdXNpb24gb24gdGhlIHNhbWUgZWxlbWVudFxuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29tcGlsZTogZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgLy8gR2V0IHRoZSBleHBlY3RlZCBjb250cm9sbGVyIG5hbWUsIGNvbnZlcnRzIDxkYXRhLXNvbWUtdGhpbmc+IGludG8gXCJzb21lVGhpbmdcIlxuICAgICAgdmFyIGNvbnRyb2xsZXJOYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG5vZGVOYW1lXyh0RWxlbWVudCkpO1xuXG4gICAgICAvLyBHZXQgdGhlIGV4cHJlc3Npb24gZm9yIHZhbHVlIGJpbmRpbmdcbiAgICAgIHZhciBnZXR0ZXIgPSAkcGFyc2UodEF0dHJzLm5nUmVmKTtcbiAgICAgIHZhciBzZXR0ZXIgPSBnZXR0ZXIuYXNzaWduIHx8IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aHJvdyBuZ1JlZk1pbkVycignbm9uYXNzaWduJywgJ0V4cHJlc3Npb24gaW4gbmdSZWY9XCJ7MH1cIiBpcyBub24tYXNzaWduYWJsZSEnLCB0QXR0cnMubmdSZWYpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICB2YXIgcmVmVmFsdWU7XG5cbiAgICAgICAgaWYgKGF0dHJzLmhhc093blByb3BlcnR5KCduZ1JlZlJlYWQnKSkge1xuICAgICAgICAgIGlmIChhdHRycy5uZ1JlZlJlYWQgPT09ICckZWxlbWVudCcpIHtcbiAgICAgICAgICAgIHJlZlZhbHVlID0gZWxlbWVudDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVmVmFsdWUgPSBlbGVtZW50LmRhdGEoJyQnICsgYXR0cnMubmdSZWZSZWFkICsgJ0NvbnRyb2xsZXInKTtcblxuICAgICAgICAgICAgaWYgKCFyZWZWYWx1ZSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZ1JlZk1pbkVycihcbiAgICAgICAgICAgICAgICAnbm9jdHJsJyxcbiAgICAgICAgICAgICAgICAnVGhlIGNvbnRyb2xsZXIgZm9yIG5nUmVmUmVhZD1cInswfVwiIGNvdWxkIG5vdCBiZSBmb3VuZCBvbiBuZ1JlZj1cInsxfVwiJyxcbiAgICAgICAgICAgICAgICBhdHRycy5uZ1JlZlJlYWQsXG4gICAgICAgICAgICAgICAgdEF0dHJzLm5nUmVmXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZlZhbHVlID0gZWxlbWVudC5kYXRhKCckJyArIGNvbnRyb2xsZXJOYW1lICsgJ0NvbnRyb2xsZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZlZhbHVlID0gcmVmVmFsdWUgfHwgZWxlbWVudDtcblxuICAgICAgICBzZXR0ZXIoc2NvcGUsIHJlZlZhbHVlKTtcblxuICAgICAgICAvLyB3aGVuIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQsIHJlbW92ZSBpdCAobnVsbGlmeSBpdClcbiAgICAgICAgZWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBvbmx5IHJlbW92ZSBpdCBpZiB2YWx1ZSBoYXMgbm90IGNoYW5nZWQsXG4gICAgICAgICAgLy8gYmVjYXVzZSBhbmltYXRpb25zIChhbmQgb3RoZXIgcHJvY2VkdXJlcykgbWF5IGR1cGxpY2F0ZSBlbGVtZW50c1xuICAgICAgICAgIGlmIChnZXR0ZXIoc2NvcGUpID09PSByZWZWYWx1ZSkge1xuICAgICAgICAgICAgc2V0dGVyKHNjb3BlLCBudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XTtcblxuLyogZXhwb3J0ZWQgbmdSZXBlYXREaXJlY3RpdmUgKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1JlcGVhdFxuICogQG11bHRpRWxlbWVudFxuICogQHJlc3RyaWN0IEFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdSZXBlYXRgIGRpcmVjdGl2ZSBpbnN0YW50aWF0ZXMgYSB0ZW1wbGF0ZSBvbmNlIHBlciBpdGVtIGZyb20gYSBjb2xsZWN0aW9uLiBFYWNoIHRlbXBsYXRlXG4gKiBpbnN0YW5jZSBnZXRzIGl0cyBvd24gc2NvcGUsIHdoZXJlIHRoZSBnaXZlbiBsb29wIHZhcmlhYmxlIGlzIHNldCB0byB0aGUgY3VycmVudCBjb2xsZWN0aW9uIGl0ZW0sXG4gKiBhbmQgYCRpbmRleGAgaXMgc2V0IHRvIHRoZSBpdGVtIGluZGV4IG9yIGtleS5cbiAqXG4gKiBTcGVjaWFsIHByb3BlcnRpZXMgYXJlIGV4cG9zZWQgb24gdGhlIGxvY2FsIHNjb3BlIG9mIGVhY2ggdGVtcGxhdGUgaW5zdGFuY2UsIGluY2x1ZGluZzpcbiAqXG4gKiB8IFZhcmlhYmxlICB8IFR5cGUgICAgICAgICAgICB8IERldGFpbHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8LS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IGAkaW5kZXhgICB8IHtAdHlwZSBudW1iZXJ9ICB8IGl0ZXJhdG9yIG9mZnNldCBvZiB0aGUgcmVwZWF0ZWQgZWxlbWVudCAoMC4ubGVuZ3RoLTEpICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IGAkZmlyc3RgICB8IHtAdHlwZSBib29sZWFufSB8IHRydWUgaWYgdGhlIHJlcGVhdGVkIGVsZW1lbnQgaXMgZmlyc3QgaW4gdGhlIGl0ZXJhdG9yLiAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IGAkbWlkZGxlYCB8IHtAdHlwZSBib29sZWFufSB8IHRydWUgaWYgdGhlIHJlcGVhdGVkIGVsZW1lbnQgaXMgYmV0d2VlbiB0aGUgZmlyc3QgYW5kIGxhc3QgaW4gdGhlIGl0ZXJhdG9yLiB8XG4gKiB8IGAkbGFzdGAgICB8IHtAdHlwZSBib29sZWFufSB8IHRydWUgaWYgdGhlIHJlcGVhdGVkIGVsZW1lbnQgaXMgbGFzdCBpbiB0aGUgaXRlcmF0b3IuICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IGAkZXZlbmAgICB8IHtAdHlwZSBib29sZWFufSB8IHRydWUgaWYgdGhlIGl0ZXJhdG9yIHBvc2l0aW9uIGAkaW5kZXhgIGlzIGV2ZW4gKG90aGVyd2lzZSBmYWxzZSkuICAgICAgICAgICB8XG4gKiB8IGAkb2RkYCAgICB8IHtAdHlwZSBib29sZWFufSB8IHRydWUgaWYgdGhlIGl0ZXJhdG9yIHBvc2l0aW9uIGAkaW5kZXhgIGlzIG9kZCAob3RoZXJ3aXNlIGZhbHNlKS4gICAgICAgICAgICB8XG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqICAgQ3JlYXRpbmcgYWxpYXNlcyBmb3IgdGhlc2UgcHJvcGVydGllcyBpcyBwb3NzaWJsZSB3aXRoIHtAbGluayBuZy5kaXJlY3RpdmU6bmdJbml0IGBuZ0luaXRgfS5cbiAqICAgVGhpcyBtYXkgYmUgdXNlZnVsIHdoZW4sIGZvciBpbnN0YW5jZSwgbmVzdGluZyBuZ1JlcGVhdHMuXG4gKiA8L2Rpdj5cbiAqXG4gKlxuICogIyMgSXRlcmF0aW5nIG92ZXIgb2JqZWN0IHByb3BlcnRpZXNcbiAqXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBnZXQgYG5nUmVwZWF0YCB0byBpdGVyYXRlIG92ZXIgdGhlIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IHVzaW5nIHRoZSBmb2xsb3dpbmdcbiAqIHN5bnRheDpcbiAqXG4gKiBgYGBqc1xuICogPGRpdiBuZy1yZXBlYXQ9XCIoa2V5LCB2YWx1ZSkgaW4gbXlPYmpcIj4gLi4uIDwvZGl2PlxuICogYGBgXG4gKlxuICogSG93ZXZlciwgdGhlcmUgYXJlIGEgZmV3IGxpbWl0YXRpb25zIGNvbXBhcmVkIHRvIGFycmF5IGl0ZXJhdGlvbjpcbiAqXG4gKiAtIFRoZSBKYXZhU2NyaXB0IHNwZWNpZmljYXRpb24gZG9lcyBub3QgZGVmaW5lIHRoZSBvcmRlciBvZiBrZXlzXG4gKiAgIHJldHVybmVkIGZvciBhbiBvYmplY3QsIHNvIEFuZ3VsYXJKUyByZWxpZXMgb24gdGhlIG9yZGVyIHJldHVybmVkIGJ5IHRoZSBicm93c2VyXG4gKiAgIHdoZW4gcnVubmluZyBgZm9yIGtleSBpbiBteU9iamAuIEJyb3dzZXJzIGdlbmVyYWxseSBmb2xsb3cgdGhlIHN0cmF0ZWd5IG9mIHByb3ZpZGluZ1xuICogICBrZXlzIGluIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IHdlcmUgZGVmaW5lZCwgYWx0aG91Z2ggdGhlcmUgYXJlIGV4Y2VwdGlvbnMgd2hlbiBrZXlzIGFyZSBkZWxldGVkXG4gKiAgIGFuZCByZWluc3RhdGVkLiBTZWUgdGhlXG4gKiAgIFtNRE4gcGFnZSBvbiBgZGVsZXRlYCBmb3IgbW9yZSBpbmZvXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvZGVsZXRlI0Nyb3NzLWJyb3dzZXJfbm90ZXMpLlxuICpcbiAqIC0gYG5nUmVwZWF0YCB3aWxsIHNpbGVudGx5ICppZ25vcmUqIG9iamVjdCBrZXlzIHN0YXJ0aW5nIHdpdGggYCRgLCBiZWNhdXNlXG4gKiAgIGl0J3MgYSBwcmVmaXggdXNlZCBieSBBbmd1bGFySlMgZm9yIHB1YmxpYyAoYCRgKSBhbmQgcHJpdmF0ZSAoYCQkYCkgcHJvcGVydGllcy5cbiAqXG4gKiAtIFRoZSBidWlsdC1pbiBmaWx0ZXJzIHtAbGluayBuZy5vcmRlckJ5IG9yZGVyQnl9IGFuZCB7QGxpbmsgbmcuZmlsdGVyIGZpbHRlcn0gZG8gbm90IHdvcmsgd2l0aFxuICogICBvYmplY3RzLCBhbmQgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiB1c2VkIHdpdGggb25lLlxuICpcbiAqIElmIHlvdSBhcmUgaGl0dGluZyBhbnkgb2YgdGhlc2UgbGltaXRhdGlvbnMsIHRoZSByZWNvbW1lbmRlZCB3b3JrYXJvdW5kIGlzIHRvIGNvbnZlcnQgeW91ciBvYmplY3QgaW50byBhbiBhcnJheVxuICogdGhhdCBpcyBzb3J0ZWQgaW50byB0aGUgb3JkZXIgdGhhdCB5b3UgcHJlZmVyIGJlZm9yZSBwcm92aWRpbmcgaXQgdG8gYG5nUmVwZWF0YC4gWW91IGNvdWxkXG4gKiBkbyB0aGlzIHdpdGggYSBmaWx0ZXIgc3VjaCBhcyBbdG9BcnJheUZpbHRlcl0oaHR0cDovL25nbW9kdWxlcy5vcmcvbW9kdWxlcy9hbmd1bGFyLXRvQXJyYXlGaWx0ZXIpXG4gKiBvciBpbXBsZW1lbnQgYSBgJHdhdGNoYCBvbiB0aGUgb2JqZWN0IHlvdXJzZWxmLlxuICpcbiAqXG4gKiAjIyBUcmFja2luZyBhbmQgRHVwbGljYXRlc1xuICpcbiAqIGBuZ1JlcGVhdGAgdXNlcyB7QGxpbmsgJHJvb3RTY29wZS5TY29wZSMkd2F0Y2hDb2xsZWN0aW9uICR3YXRjaENvbGxlY3Rpb259IHRvIGRldGVjdCBjaGFuZ2VzIGluXG4gKiB0aGUgY29sbGVjdGlvbi4gV2hlbiBhIGNoYW5nZSBoYXBwZW5zLCBgbmdSZXBlYXRgIHRoZW4gbWFrZXMgdGhlIGNvcnJlc3BvbmRpbmcgY2hhbmdlcyB0byB0aGUgRE9NOlxuICpcbiAqICogV2hlbiBhbiBpdGVtIGlzIGFkZGVkLCBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgdGVtcGxhdGUgaXMgYWRkZWQgdG8gdGhlIERPTS5cbiAqICogV2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQsIGl0cyB0ZW1wbGF0ZSBpbnN0YW5jZSBpcyByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAqICogV2hlbiBpdGVtcyBhcmUgcmVvcmRlcmVkLCB0aGVpciByZXNwZWN0aXZlIHRlbXBsYXRlcyBhcmUgcmVvcmRlcmVkIGluIHRoZSBET00uXG4gKlxuICogVG8gbWluaW1pemUgY3JlYXRpb24gb2YgRE9NIGVsZW1lbnRzLCBgbmdSZXBlYXRgIHVzZXMgYSBmdW5jdGlvblxuICogdG8gXCJrZWVwIHRyYWNrXCIgb2YgYWxsIGl0ZW1zIGluIHRoZSBjb2xsZWN0aW9uIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIERPTSBlbGVtZW50cy5cbiAqIEZvciBleGFtcGxlLCBpZiBhbiBpdGVtIGlzIGFkZGVkIHRvIHRoZSBjb2xsZWN0aW9uLCBgbmdSZXBlYXRgIHdpbGwga25vdyB0aGF0IGFsbCBvdGhlciBpdGVtc1xuICogYWxyZWFkeSBoYXZlIERPTSBlbGVtZW50cywgYW5kIHdpbGwgbm90IHJlLXJlbmRlciB0aGVtLlxuICpcbiAqIEFsbCBkaWZmZXJlbnQgdHlwZXMgb2YgdHJhY2tpbmcgZnVuY3Rpb25zLCB0aGVpciBzeW50YXgsIGFuZCB0aGVpciBzdXBwb3J0IGZvciBkdXBsaWNhdGVcbiAqIGl0ZW1zIGluIGNvbGxlY3Rpb25zIGNhbiBiZSBmb3VuZCBpbiB0aGVcbiAqIHtAbGluayBuZ1JlcGVhdCNuZ1JlcGVhdC1hcmd1bWVudHMgbmdSZXBlYXQgZXhwcmVzc2lvbiBkZXNjcmlwdGlvbn0uXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj5cbiAqICoqQmVzdCBQcmFjdGljZToqKiBJZiB5b3UgYXJlIHdvcmtpbmcgd2l0aCBvYmplY3RzIHRoYXQgaGF2ZSBhIHVuaXF1ZSBpZGVudGlmaWVyIHByb3BlcnR5LCB5b3VcbiAqIHNob3VsZCB0cmFjayBieSB0aGlzIGlkZW50aWZpZXIgaW5zdGVhZCBvZiB0aGUgb2JqZWN0IGluc3RhbmNlLFxuICogZS5nLiBgaXRlbSBpbiBpdGVtcyB0cmFjayBieSBpdGVtLmlkYC5cbiAqIFNob3VsZCB5b3UgcmVsb2FkIHlvdXIgZGF0YSBsYXRlciwgYG5nUmVwZWF0YCB3aWxsIG5vdCBoYXZlIHRvIHJlYnVpbGQgdGhlIERPTSBlbGVtZW50cyBmb3IgaXRlbXNcbiAqIGl0IGhhcyBhbHJlYWR5IHJlbmRlcmVkLCBldmVuIGlmIHRoZSBKYXZhU2NyaXB0IG9iamVjdHMgaW4gdGhlIGNvbGxlY3Rpb24gaGF2ZSBiZWVuIHN1YnN0aXR1dGVkXG4gKiBmb3IgbmV3IG9uZXMuIEZvciBsYXJnZSBjb2xsZWN0aW9ucywgdGhpcyBzaWduaWZpY2FudGx5IGltcHJvdmVzIHJlbmRlcmluZyBwZXJmb3JtYW5jZS5cbiAqIDwvZGl2PlxuICpcbiAqICMjIyBFZmZlY3RzIG9mIERPTSBFbGVtZW50IHJlLXVzZVxuICpcbiAqIFdoZW4gRE9NIGVsZW1lbnRzIGFyZSByZS11c2VkLCBuZ1JlcGVhdCB1cGRhdGVzIHRoZSBzY29wZSBmb3IgdGhlIGVsZW1lbnQsIHdoaWNoIHdpbGxcbiAqIGF1dG9tYXRpY2FsbHkgdXBkYXRlIGFueSBhY3RpdmUgYmluZGluZ3Mgb24gdGhlIHRlbXBsYXRlLiBIb3dldmVyLCBvdGhlclxuICogZnVuY3Rpb25hbGl0eSB3aWxsIG5vdCBiZSB1cGRhdGVkLCBiZWNhdXNlIHRoZSBlbGVtZW50IGlzIG5vdCByZS1jcmVhdGVkOlxuICpcbiAqIC0gRGlyZWN0aXZlcyBhcmUgbm90IHJlLWNvbXBpbGVkXG4gKiAtIHtAbGluayBndWlkZS9leHByZXNzaW9uI29uZS10aW1lLWJpbmRpbmcgb25lLXRpbWUgZXhwcmVzc2lvbnN9IG9uIHRoZSByZXBlYXRlZCB0ZW1wbGF0ZSBhcmUgbm90XG4gKiB1cGRhdGVkIGlmIHRoZXkgaGF2ZSBzdGFiaWxpemVkLlxuICpcbiAqIFRoZSBhYm92ZSBhZmZlY3RzIGFsbCBraW5kcyBvZiBlbGVtZW50IHJlLXVzZSBkdWUgdG8gdHJhY2tpbmcsIGJ1dCBtYXkgYmUgZXNwZWNpYWxseSB2aXNpYmxlXG4gKiB3aGVuIHRyYWNraW5nIGJ5IGAkaW5kZXhgIGR1ZSB0byB0aGUgd2F5IG5nUmVwZWF0IHJlLXVzZXMgZWxlbWVudHMuXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIHRoZSBlZmZlY3RzIG9mIGRpZmZlcmVudCBhY3Rpb25zIHdpdGggdHJhY2tpbmc6XG5cbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdSZXBlYXRcIiBuYW1lPVwibmdSZXBlYXQtdHJhY2tpbmdcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdSZXBlYXQnLCBbJ25nQW5pbWF0ZSddKS5jb250cm9sbGVyKCdyZXBlYXRDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgIHZhciBmcmllbmRzID0gW1xuICAgICAgICAgIHtuYW1lOidKb2huJywgYWdlOjI1fSxcbiAgICAgICAgICB7bmFtZTonTWFyeScsIGFnZTo0MH0sXG4gICAgICAgICAge25hbWU6J1BldGVyJywgYWdlOjg1fVxuICAgICAgICBdO1xuXG4gICAgICAgICRzY29wZS5yZW1vdmVGaXJzdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRzY29wZS5mcmllbmRzLnNoaWZ0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnVwZGF0ZUFnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRzY29wZS5mcmllbmRzLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgIGVsLmFnZSA9IGVsLmFnZSArIDU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmNvcHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUuZnJpZW5kcyA9IGFuZ3VsYXIuY29weSgkc2NvcGUuZnJpZW5kcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBhbmd1bGFyLmNvcHkoZnJpZW5kcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnJlc2V0KCk7XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cInJlcGVhdENvbnRyb2xsZXJcIj5cbiAgICAgICAgPG9sPlxuICAgICAgICAgIDxsaT5XaGVuIHlvdSBjbGljayBcIlVwZGF0ZSBBZ2VcIiwgb25seSB0aGUgZmlyc3QgbGlzdCB1cGRhdGVzIHRoZSBhZ2UsIGJlY2F1c2UgYWxsIG90aGVycyBoYXZlXG4gICAgICAgICAgYSBvbmUtdGltZSBiaW5kaW5nIG9uIHRoZSBhZ2UgcHJvcGVydHkuIElmIHlvdSB0aGVuIGNsaWNrIFwiQ29weVwiLCB0aGUgY3VycmVudCBmcmllbmQgbGlzdFxuICAgICAgICAgIGlzIGNvcGllZCwgYW5kIG5vdyB0aGUgc2Vjb25kIGxpc3QgdXBkYXRlcyB0aGUgYWdlLCBiZWNhdXNlIHRoZSBpZGVudGl0eSBvZiB0aGUgY29sbGVjdGlvbiBpdGVtc1xuICAgICAgICAgIGhhcyBjaGFuZ2VkIGFuZCB0aGUgbGlzdCBtdXN0IGJlIHJlLXJlbmRlcmVkLiBUaGUgM3JkIGFuZCA0dGggbGlzdCBzdGF5IHRoZSBzYW1lLCBiZWNhdXNlIGFsbCB0aGVcbiAgICAgICAgICBpdGVtcyBhcmUgYWxyZWFkeSBrbm93biBhY2NvcmRpbmcgdG8gdGhlaXIgdHJhY2tpbmcgZnVuY3Rpb25zLlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpPldoZW4geW91IGNsaWNrIFwiUmVtb3ZlIEZpcnN0XCIsIHRoZSA0dGggbGlzdCBoYXMgdGhlIHdyb25nIGFnZSBvbiBib3RoIHJlbWFpbmluZyBpdGVtcy4gVGhpcyBpc1xuICAgICAgICAgIGR1ZSB0byB0cmFja2luZyBieSAkaW5kZXg6IHdoZW4gdGhlIGZpcnN0IGNvbGxlY3Rpb24gaXRlbSBpcyByZW1vdmVkLCBuZ1JlcGVhdCByZXVzZXMgdGhlIGZpcnN0XG4gICAgICAgICAgRE9NIGVsZW1lbnQgZm9yIHRoZSBuZXcgZmlyc3QgY29sbGVjdGlvbiBpdGVtLCBhbmQgc28gb24uIFNpbmNlIHRoZSBhZ2UgcHJvcGVydHkgaXMgb25lLXRpbWVcbiAgICAgICAgICBib3VuZCwgdGhlIHZhbHVlIHJlbWFpbnMgZnJvbSB0aGUgY29sbGVjdGlvbiBpdGVtIHdoaWNoIHdhcyBwcmV2aW91c2x5IGF0IHRoaXMgaW5kZXguXG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC9vbD5cblxuICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicmVtb3ZlRmlyc3QoKVwiPlJlbW92ZSBGaXJzdDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwidXBkYXRlQWdlKClcIj5VcGRhdGUgQWdlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjb3B5KClcIj5Db3B5PC9idXR0b24+XG4gICAgICAgIDxicj48YnV0dG9uIG5nLWNsaWNrPVwicmVzZXQoKVwiPlJlc2V0IExpc3Q8L2J1dHRvbj5cbiAgICAgICAgPGJyPlxuICAgICAgICA8Y29kZT50cmFjayBieSAkaWQoZnJpZW5kKTwvY29kZT4gKGRlZmF1bHQpOlxuICAgICAgICA8dWwgY2xhc3M9XCJleGFtcGxlLWFuaW1hdGUtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGxpIGNsYXNzPVwiYW5pbWF0ZS1yZXBlYXRcIiBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kc1wiPlxuICAgICAgICAgICAge3tmcmllbmQubmFtZX19IGlzIHt7ZnJpZW5kLmFnZX19IHllYXJzIG9sZC5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgICA8Y29kZT50cmFjayBieSAkaWQoZnJpZW5kKTwvY29kZT4gKGRlZmF1bHQpLCB3aXRoIGFnZSBvbmUtdGltZSBiaW5kaW5nOlxuICAgICAgICA8dWwgY2xhc3M9XCJleGFtcGxlLWFuaW1hdGUtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGxpIGNsYXNzPVwiYW5pbWF0ZS1yZXBlYXRcIiBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kc1wiPlxuICAgICAgICAgICAge3tmcmllbmQubmFtZX19IGlzIHt7OjpmcmllbmQuYWdlfX0geWVhcnMgb2xkLlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICAgIDxjb2RlPnRyYWNrIGJ5IGZyaWVuZC5uYW1lPC9jb2RlPiwgd2l0aCBhZ2Ugb25lLXRpbWUgYmluZGluZzpcbiAgICAgICAgPHVsIGNsYXNzPVwiZXhhbXBsZS1hbmltYXRlLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxsaSBjbGFzcz1cImFuaW1hdGUtcmVwZWF0XCIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgdHJhY2sgYnkgZnJpZW5kLm5hbWVcIj5cbiAgICAgICAgICAgIHt7ZnJpZW5kLm5hbWV9fSAgaXMge3s6OmZyaWVuZC5hZ2V9fSB5ZWFycyBvbGQuXG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC91bD5cbiAgICAgICAgPGNvZGU+dHJhY2sgYnkgJGluZGV4PC9jb2RlPiwgd2l0aCBhZ2Ugb25lLXRpbWUgYmluZGluZzpcbiAgICAgICAgPHVsIGNsYXNzPVwiZXhhbXBsZS1hbmltYXRlLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxsaSBjbGFzcz1cImFuaW1hdGUtcmVwZWF0XCIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgdHJhY2sgYnkgJGluZGV4XCI+XG4gICAgICAgICAgICB7e2ZyaWVuZC5uYW1lfX0gaXMge3s6OmZyaWVuZC5hZ2V9fSB5ZWFycyBvbGQuXG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5leGFtcGxlLWFuaW1hdGUtY29udGFpbmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTtcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcbiAgICAgICAgbGlzdC1zdHlsZTpub25lO1xuICAgICAgICBtYXJnaW46MDtcbiAgICAgICAgcGFkZGluZzowIDEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXJlcGVhdCB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OjMwcHg7XG4gICAgICAgIGxpc3Qtc3R5bGU6bm9uZTtcbiAgICAgICAgYm94LXNpemluZzpib3JkZXItYm94O1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbW92ZSxcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1lbnRlcixcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1sZWF2ZSB7XG4gICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbGVhdmUubmctbGVhdmUtYWN0aXZlLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLW1vdmUsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctZW50ZXIge1xuICAgICAgICBvcGFjaXR5OjA7XG4gICAgICAgIG1heC1oZWlnaHQ6MDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWxlYXZlLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLW1vdmUubmctbW92ZS1hY3RpdmUsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAgICAgICAgb3BhY2l0eToxO1xuICAgICAgICBtYXgtaGVpZ2h0OjMwcHg7XG4gICAgICB9XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG5cbiAqXG4gKiAjIyBTcGVjaWFsIHJlcGVhdCBzdGFydCBhbmQgZW5kIHBvaW50c1xuICogVG8gcmVwZWF0IGEgc2VyaWVzIG9mIGVsZW1lbnRzIGluc3RlYWQgb2YganVzdCBvbmUgcGFyZW50IGVsZW1lbnQsIG5nUmVwZWF0IChhcyB3ZWxsIGFzIG90aGVyIG5nIGRpcmVjdGl2ZXMpIHN1cHBvcnRzIGV4dGVuZGluZ1xuICogdGhlIHJhbmdlIG9mIHRoZSByZXBlYXRlciBieSBkZWZpbmluZyBleHBsaWNpdCBzdGFydCBhbmQgZW5kIHBvaW50cyBieSB1c2luZyAqKm5nLXJlcGVhdC1zdGFydCoqIGFuZCAqKm5nLXJlcGVhdC1lbmQqKiByZXNwZWN0aXZlbHkuXG4gKiBUaGUgKipuZy1yZXBlYXQtc3RhcnQqKiBkaXJlY3RpdmUgd29ya3MgdGhlIHNhbWUgYXMgKipuZy1yZXBlYXQqKiwgYnV0IHdpbGwgcmVwZWF0IGFsbCB0aGUgSFRNTCBjb2RlIChpbmNsdWRpbmcgdGhlIHRhZyBpdCdzIGRlZmluZWQgb24pXG4gKiB1cCB0byBhbmQgaW5jbHVkaW5nIHRoZSBlbmRpbmcgSFRNTCB0YWcgd2hlcmUgKipuZy1yZXBlYXQtZW5kKiogaXMgcGxhY2VkLlxuICpcbiAqIFRoZSBleGFtcGxlIGJlbG93IG1ha2VzIHVzZSBvZiB0aGlzIGZlYXR1cmU6XG4gKiBgYGBodG1sXG4gKiAgIDxoZWFkZXIgbmctcmVwZWF0LXN0YXJ0PVwiaXRlbSBpbiBpdGVtc1wiPlxuICogICAgIEhlYWRlciB7eyBpdGVtIH19XG4gKiAgIDwvaGVhZGVyPlxuICogICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxuICogICAgIEJvZHkge3sgaXRlbSB9fVxuICogICA8L2Rpdj5cbiAqICAgPGZvb3RlciBuZy1yZXBlYXQtZW5kPlxuICogICAgIEZvb3RlciB7eyBpdGVtIH19XG4gKiAgIDwvZm9vdGVyPlxuICogYGBgXG4gKlxuICogQW5kIHdpdGggYW4gaW5wdXQgb2Yge0B0eXBlIFsnQScsJ0InXX0gZm9yIHRoZSBpdGVtcyB2YXJpYWJsZSBpbiB0aGUgZXhhbXBsZSBhYm92ZSwgdGhlIG91dHB1dCB3aWxsIGV2YWx1YXRlIHRvOlxuICogYGBgaHRtbFxuICogICA8aGVhZGVyPlxuICogICAgIEhlYWRlciBBXG4gKiAgIDwvaGVhZGVyPlxuICogICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxuICogICAgIEJvZHkgQVxuICogICA8L2Rpdj5cbiAqICAgPGZvb3Rlcj5cbiAqICAgICBGb290ZXIgQVxuICogICA8L2Zvb3Rlcj5cbiAqICAgPGhlYWRlcj5cbiAqICAgICBIZWFkZXIgQlxuICogICA8L2hlYWRlcj5cbiAqICAgPGRpdiBjbGFzcz1cImJvZHlcIj5cbiAqICAgICBCb2R5IEJcbiAqICAgPC9kaXY+XG4gKiAgIDxmb290ZXI+XG4gKiAgICAgRm9vdGVyIEJcbiAqICAgPC9mb290ZXI+XG4gKiBgYGBcbiAqXG4gKiBUaGUgY3VzdG9tIHN0YXJ0IGFuZCBlbmQgcG9pbnRzIGZvciBuZ1JlcGVhdCBhbHNvIHN1cHBvcnQgYWxsIG90aGVyIEhUTUwgZGlyZWN0aXZlIHN5bnRheCBmbGF2b3JzIHByb3ZpZGVkIGluIEFuZ3VsYXJKUyAoc3VjaFxuICogYXMgKipkYXRhLW5nLXJlcGVhdC1zdGFydCoqLCAqKngtbmctcmVwZWF0LXN0YXJ0KiogYW5kICoqbmc6cmVwZWF0LXN0YXJ0KiopLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2VudGVyIGVudGVyfSB8IHdoZW4gYSBuZXcgaXRlbSBpcyBhZGRlZCB0byB0aGUgbGlzdCBvciB3aGVuIGFuIGl0ZW0gaXMgcmV2ZWFsZWQgYWZ0ZXIgYSBmaWx0ZXIgfFxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjbGVhdmUgbGVhdmV9IHwgd2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCBvciB3aGVuIGFuIGl0ZW0gaXMgZmlsdGVyZWQgb3V0IHxcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI21vdmUgbW92ZSB9IHwgd2hlbiBhbiBhZGphY2VudCBpdGVtIGlzIGZpbHRlcmVkIG91dCBjYXVzaW5nIGEgcmVvcmRlciBvciB3aGVuIHRoZSBpdGVtIGNvbnRlbnRzIGFyZSByZW9yZGVyZWQgfFxuICpcbiAqIFNlZSB0aGUgZXhhbXBsZSBiZWxvdyBmb3IgZGVmaW5pbmcgQ1NTIGFuaW1hdGlvbnMgd2l0aCBuZ1JlcGVhdC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBzY29wZVxuICogQHByaW9yaXR5IDEwMDBcbiAqIEBwYXJhbSB7cmVwZWF0X2V4cHJlc3Npb259IG5nUmVwZWF0IFRoZSBleHByZXNzaW9uIGluZGljYXRpbmcgaG93IHRvIGVudW1lcmF0ZSBhIGNvbGxlY3Rpb24uIFRoZXNlXG4gKiAgIGZvcm1hdHMgYXJlIGN1cnJlbnRseSBzdXBwb3J0ZWQ6XG4gKlxuICogICAqIGB2YXJpYWJsZSBpbiBleHByZXNzaW9uYCDigJMgd2hlcmUgdmFyaWFibGUgaXMgdGhlIHVzZXIgZGVmaW5lZCBsb29wIHZhcmlhYmxlIGFuZCBgZXhwcmVzc2lvbmBcbiAqICAgICBpcyBhIHNjb3BlIGV4cHJlc3Npb24gZ2l2aW5nIHRoZSBjb2xsZWN0aW9uIHRvIGVudW1lcmF0ZS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBhbGJ1bSBpbiBhcnRpc3QuYWxidW1zYC5cbiAqXG4gKiAgICogYChrZXksIHZhbHVlKSBpbiBleHByZXNzaW9uYCDigJMgd2hlcmUgYGtleWAgYW5kIGB2YWx1ZWAgY2FuIGJlIGFueSB1c2VyIGRlZmluZWQgaWRlbnRpZmllcnMsXG4gKiAgICAgYW5kIGBleHByZXNzaW9uYCBpcyB0aGUgc2NvcGUgZXhwcmVzc2lvbiBnaXZpbmcgdGhlIGNvbGxlY3Rpb24gdG8gZW51bWVyYXRlLlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYChuYW1lLCBhZ2UpIGluIHsnYWRhbSc6MTAsICdhbWFsaWUnOjEyfWAuXG4gKlxuICogICAqIGB2YXJpYWJsZSBpbiBleHByZXNzaW9uIHRyYWNrIGJ5IHRyYWNraW5nX2V4cHJlc3Npb25gIOKAkyBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBvcHRpb25hbCB0cmFja2luZyBleHByZXNzaW9uXG4gKiAgICAgd2hpY2ggY2FuIGJlIHVzZWQgdG8gYXNzb2NpYXRlIHRoZSBvYmplY3RzIGluIHRoZSBjb2xsZWN0aW9uIHdpdGggdGhlIERPTSBlbGVtZW50cy4gSWYgbm8gdHJhY2tpbmcgZXhwcmVzc2lvblxuICogICAgIGlzIHNwZWNpZmllZCwgbmctcmVwZWF0IGFzc29jaWF0ZXMgZWxlbWVudHMgYnkgaWRlbnRpdHkuIEl0IGlzIGFuIGVycm9yIHRvIGhhdmVcbiAqICAgICBtb3JlIHRoYW4gb25lIHRyYWNraW5nIGV4cHJlc3Npb24gdmFsdWUgcmVzb2x2ZSB0byB0aGUgc2FtZSBrZXkuIChUaGlzIHdvdWxkIG1lYW4gdGhhdCB0d28gZGlzdGluY3Qgb2JqZWN0cyBhcmVcbiAqICAgICBtYXBwZWQgdG8gdGhlIHNhbWUgRE9NIGVsZW1lbnQsIHdoaWNoIGlzIG5vdCBwb3NzaWJsZS4pXG4gKlxuICogICAgICpEZWZhdWx0IHRyYWNraW5nOiAkaWQoKSo6IGBpdGVtIGluIGl0ZW1zYCBpcyBlcXVpdmFsZW50IHRvIGBpdGVtIGluIGl0ZW1zIHRyYWNrIGJ5ICRpZChpdGVtKWAuXG4gKiAgICAgVGhpcyBpbXBsaWVzIHRoYXQgdGhlIERPTSBlbGVtZW50cyB3aWxsIGJlIGFzc29jaWF0ZWQgYnkgaXRlbSBpZGVudGl0eSBpbiB0aGUgY29sbGVjdGlvbi5cbiAqXG4gKiAgICAgVGhlIGJ1aWx0LWluIGAkaWQoKWAgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gYXNzaWduIGEgdW5pcXVlXG4gKiAgICAgYCQkaGFzaEtleWAgcHJvcGVydHkgdG8gZWFjaCBpdGVtIGluIHRoZSBjb2xsZWN0aW9uLiBUaGlzIHByb3BlcnR5IGlzIHRoZW4gdXNlZCBhcyBhIGtleSB0byBhc3NvY2lhdGVkIERPTSBlbGVtZW50c1xuICogICAgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgaXRlbSBpbiB0aGUgY29sbGVjdGlvbiBieSBpZGVudGl0eS4gTW92aW5nIHRoZSBzYW1lIG9iamVjdCB3b3VsZCBtb3ZlXG4gKiAgICAgdGhlIERPTSBlbGVtZW50IGluIHRoZSBzYW1lIHdheSBpbiB0aGUgRE9NLlxuICogICAgIE5vdGUgdGhhdCB0aGUgZGVmYXVsdCBpZCBmdW5jdGlvbiBkb2VzIG5vdCBzdXBwb3J0IGR1cGxpY2F0ZSBwcmltaXRpdmUgdmFsdWVzIChgbnVtYmVyYCwgYHN0cmluZ2ApLFxuICogICAgIGJ1dCBzdXBwb3J0cyBkdXBsaWN0YWUgbm9uLXByaW1pdGl2ZSB2YWx1ZXMgKGBvYmplY3RgKSB0aGF0IGFyZSAqZXF1YWwqIGluIHNoYXBlLlxuICpcbiAqICAgICAqQ3VzdG9tIEV4cHJlc3Npb24qOiBJdCBpcyBwb3NzaWJsZSB0byB1c2UgYW55IEFuZ3VsYXJKUyBleHByZXNzaW9uIHRvIGNvbXB1dGUgdGhlIHRyYWNraW5nXG4gKiAgICAgaWQsIGZvciBleGFtcGxlIHdpdGggYSBmdW5jdGlvbiwgb3IgdXNpbmcgYSBwcm9wZXJ0eSBvbiB0aGUgY29sbGVjdGlvbiBpdGVtcy5cbiAqICAgICBgaXRlbSBpbiBpdGVtcyB0cmFjayBieSBpdGVtLmlkYCBpcyBhIHR5cGljYWwgcGF0dGVybiB3aGVuIHRoZSBpdGVtcyBoYXZlIGEgdW5pcXVlIGlkZW50aWZpZXIsXG4gKiAgICAgZS5nLiBkYXRhYmFzZSBpZC4gSW4gdGhpcyBjYXNlIHRoZSBvYmplY3QgaWRlbnRpdHkgZG9lcyBub3QgbWF0dGVyLiBUd28gb2JqZWN0cyBhcmUgY29uc2lkZXJlZFxuICogICAgIGVxdWl2YWxlbnQgYXMgbG9uZyBhcyB0aGVpciBgaWRgIHByb3BlcnR5IGlzIHNhbWUuXG4gKiAgICAgVHJhY2tpbmcgYnkgdW5pcXVlIGlkZW50aWZpZXIgaXMgdGhlIG1vc3QgcGVyZm9ybWFudCB3YXkgYW5kIHNob3VsZCBiZSB1c2VkIHdoZW5ldmVyIHBvc3NpYmxlLlxuICpcbiAqICAgICAqJGluZGV4KjogVGhpcyBzcGVjaWFsIHByb3BlcnR5IHRyYWNrcyB0aGUgY29sbGVjdGlvbiBpdGVtcyBieSB0aGVpciBpbmRleCwgYW5kXG4gKiAgICAgcmUtdXNlcyB0aGUgRE9NIGVsZW1lbnRzIHRoYXQgbWF0Y2ggdGhhdCBpbmRleCwgZS5nLiBgaXRlbSBpbiBpdGVtcyB0cmFjayBieSAkaW5kZXhgLiBUaGlzIGNhblxuICogICAgIGJlIHVzZWQgZm9yIGEgcGVyZm9ybWFuY2UgaW1wcm92ZW1lbnQgaWYgbm8gdW5pcXVlIGlkZW50ZmllciBpcyBhdmFpbGFibGUgYW5kIHRoZSBpZGVudGl0eSBvZlxuICogICAgIHRoZSBjb2xsZWN0aW9uIGl0ZW1zIGNhbm5vdCBiZSBlYXNpbHkgY29tcHV0ZWQuIEl0IGFsc28gYWxsb3dzIGR1cGxpY2F0ZXMuXG4gKlxuICogICAgIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAgICAgICA8c3Ryb25nPk5vdGU6PC9zdHJvbmc+IFJlLXVzaW5nIERPTSBlbGVtZW50cyBjYW4gaGF2ZSB1bmZvcmVzZWVuIGVmZmVjdHMuIFJlYWQgdGhlXG4gKiAgICAgICB7QGxpbmsgbmdSZXBlYXQjdHJhY2tpbmctYW5kLWR1cGxpY2F0ZXMgc2VjdGlvbiBvbiB0cmFja2luZyBhbmQgZHVwbGljYXRlc30gZm9yXG4gKiAgICAgICBtb3JlIGluZm8uXG4gKiAgICAgPC9kaXY+XG4gKlxuICogICAgIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAgICAgICA8c3Ryb25nPk5vdGU6PC9zdHJvbmc+IHRoZSBgdHJhY2sgYnlgIGV4cHJlc3Npb24gbXVzdCBjb21lIGxhc3QgLSBhZnRlciBhbnkgZmlsdGVycywgYW5kIHRoZSBhbGlhcyBleHByZXNzaW9uOlxuICogICAgICAgYGl0ZW0gaW4gaXRlbXMgfCBmaWx0ZXI6c2VhcmNoVGV4dCBhcyByZXN1bHRzICB0cmFjayBieSBpdGVtLmlkYFxuICogICAgIDwvZGl2PlxuICpcbiAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbiBhcyBhbGlhc19leHByZXNzaW9uYCDigJMgWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgYWxpYXMgZXhwcmVzc2lvbiB3aGljaCB3aWxsIHRoZW4gc3RvcmUgdGhlXG4gKiAgICAgaW50ZXJtZWRpYXRlIHJlc3VsdHMgb2YgdGhlIHJlcGVhdGVyIGFmdGVyIHRoZSBmaWx0ZXJzIGhhdmUgYmVlbiBhcHBsaWVkLiBUeXBpY2FsbHkgdGhpcyBpcyB1c2VkIHRvIHJlbmRlciBhIHNwZWNpYWwgbWVzc2FnZVxuICogICAgIHdoZW4gYSBmaWx0ZXIgaXMgYWN0aXZlIG9uIHRoZSByZXBlYXRlciwgYnV0IHRoZSBmaWx0ZXJlZCByZXN1bHQgc2V0IGlzIGVtcHR5LlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgfCBmaWx0ZXI6eCBhcyByZXN1bHRzYCB3aWxsIHN0b3JlIHRoZSBmcmFnbWVudCBvZiB0aGUgcmVwZWF0ZWQgaXRlbXMgYXMgYHJlc3VsdHNgLCBidXQgb25seSBhZnRlclxuICogICAgIHRoZSBpdGVtcyBoYXZlIGJlZW4gcHJvY2Vzc2VkIHRocm91Z2ggdGhlIGZpbHRlci5cbiAqXG4gKiAgICAgUGxlYXNlIG5vdGUgdGhhdCBgYXMgW3ZhcmlhYmxlIG5hbWVdIGlzIG5vdCBhbiBvcGVyYXRvciBidXQgcmF0aGVyIGEgcGFydCBvZiBuZ1JlcGVhdFxuICogICAgIG1pY3JvLXN5bnRheCBzbyBpdCBjYW4gYmUgdXNlZCBvbmx5IGFmdGVyIGFsbCBmaWx0ZXJzIChhbmQgbm90IGFzIG9wZXJhdG9yLCBpbnNpZGUgYW4gZXhwcmVzc2lvbikuXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtcyB8IGZpbHRlciA6IHggfCBvcmRlckJ5IDogb3JkZXIgfCBsaW1pdFRvIDogbGltaXQgYXMgcmVzdWx0cyB0cmFjayBieSBpdGVtLmlkYCAuXG4gKlxuICogQGV4YW1wbGVcbiAqIFRoaXMgZXhhbXBsZSB1c2VzIGBuZ1JlcGVhdGAgdG8gZGlzcGxheSBhIGxpc3Qgb2YgcGVvcGxlLiBBIGZpbHRlciBpcyB1c2VkIHRvIHJlc3RyaWN0IHRoZSBkaXNwbGF5ZWRcbiAqIHJlc3VsdHMgYnkgbmFtZSBvciBieSBhZ2UuIE5ldyAoZW50ZXJpbmcpIGFuZCByZW1vdmVkIChsZWF2aW5nKSBpdGVtcyBhcmUgYW5pbWF0ZWQuXG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nUmVwZWF0XCIgbmFtZT1cIm5nUmVwZWF0XCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cInJlcGVhdENvbnRyb2xsZXJcIj5cbiAgICAgICAgSSBoYXZlIHt7ZnJpZW5kcy5sZW5ndGh9fSBmcmllbmRzLiBUaGV5IGFyZTpcbiAgICAgICAgPGlucHV0IHR5cGU9XCJzZWFyY2hcIiBuZy1tb2RlbD1cInFcIiBwbGFjZWhvbGRlcj1cImZpbHRlciBmcmllbmRzLi4uXCIgYXJpYS1sYWJlbD1cImZpbHRlciBmcmllbmRzXCIgLz5cbiAgICAgICAgPHVsIGNsYXNzPVwiZXhhbXBsZS1hbmltYXRlLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxsaSBjbGFzcz1cImFuaW1hdGUtcmVwZWF0XCIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBmaWx0ZXI6cSBhcyByZXN1bHRzIHRyYWNrIGJ5IGZyaWVuZC5uYW1lXCI+XG4gICAgICAgICAgICBbe3skaW5kZXggKyAxfX1dIHt7ZnJpZW5kLm5hbWV9fSB3aG8gaXMge3tmcmllbmQuYWdlfX0geWVhcnMgb2xkLlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpIGNsYXNzPVwiYW5pbWF0ZS1yZXBlYXRcIiBuZy1pZj1cInJlc3VsdHMubGVuZ3RoID09PSAwXCI+XG4gICAgICAgICAgICA8c3Ryb25nPk5vIHJlc3VsdHMgZm91bmQuLi48L3N0cm9uZz5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1JlcGVhdCcsIFsnbmdBbmltYXRlJ10pLmNvbnRyb2xsZXIoJ3JlcGVhdENvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBbXG4gICAgICAgICAge25hbWU6J0pvaG4nLCBhZ2U6MjUsIGdlbmRlcjonYm95J30sXG4gICAgICAgICAge25hbWU6J0plc3NpZScsIGFnZTozMCwgZ2VuZGVyOidnaXJsJ30sXG4gICAgICAgICAge25hbWU6J0pvaGFubmEnLCBhZ2U6MjgsIGdlbmRlcjonZ2lybCd9LFxuICAgICAgICAgIHtuYW1lOidKb3knLCBhZ2U6MTUsIGdlbmRlcjonZ2lybCd9LFxuICAgICAgICAgIHtuYW1lOidNYXJ5JywgYWdlOjI4LCBnZW5kZXI6J2dpcmwnfSxcbiAgICAgICAgICB7bmFtZTonUGV0ZXInLCBhZ2U6OTUsIGdlbmRlcjonYm95J30sXG4gICAgICAgICAge25hbWU6J1NlYmFzdGlhbicsIGFnZTo1MCwgZ2VuZGVyOidib3knfSxcbiAgICAgICAgICB7bmFtZTonRXJpa2EnLCBhZ2U6MjcsIGdlbmRlcjonZ2lybCd9LFxuICAgICAgICAgIHtuYW1lOidQYXRyaWNrJywgYWdlOjQwLCBnZW5kZXI6J2JveSd9LFxuICAgICAgICAgIHtuYW1lOidTYW1hbnRoYScsIGFnZTo2MCwgZ2VuZGVyOidnaXJsJ31cbiAgICAgICAgXTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5leGFtcGxlLWFuaW1hdGUtY29udGFpbmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTtcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcbiAgICAgICAgbGlzdC1zdHlsZTpub25lO1xuICAgICAgICBtYXJnaW46MDtcbiAgICAgICAgcGFkZGluZzowIDEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXJlcGVhdCB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OjMwcHg7XG4gICAgICAgIGxpc3Qtc3R5bGU6bm9uZTtcbiAgICAgICAgYm94LXNpemluZzpib3JkZXItYm94O1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbW92ZSxcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1lbnRlcixcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1sZWF2ZSB7XG4gICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbGVhdmUubmctbGVhdmUtYWN0aXZlLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLW1vdmUsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctZW50ZXIge1xuICAgICAgICBvcGFjaXR5OjA7XG4gICAgICAgIG1heC1oZWlnaHQ6MDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWxlYXZlLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLW1vdmUubmctbW92ZS1hY3RpdmUsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAgICAgICAgb3BhY2l0eToxO1xuICAgICAgICBtYXgtaGVpZ2h0OjMwcHg7XG4gICAgICB9XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciBmcmllbmRzID0gZWxlbWVudC5hbGwoYnkucmVwZWF0ZXIoJ2ZyaWVuZCBpbiBmcmllbmRzJykpO1xuXG4gICAgICBpdCgnc2hvdWxkIHJlbmRlciBpbml0aWFsIGRhdGEgc2V0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMTApO1xuICAgICAgICBleHBlY3QoZnJpZW5kcy5nZXQoMCkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMV0gSm9obiB3aG8gaXMgMjUgeWVhcnMgb2xkLicpO1xuICAgICAgICBleHBlY3QoZnJpZW5kcy5nZXQoMSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMl0gSmVzc2llIHdobyBpcyAzMCB5ZWFycyBvbGQuJyk7XG4gICAgICAgIGV4cGVjdChmcmllbmRzLmxhc3QoKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1sxMF0gU2FtYW50aGEgd2hvIGlzIDYwIHllYXJzIG9sZC4nKTtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnZnJpZW5kcy5sZW5ndGgnKSkuZ2V0VGV4dCgpKVxuICAgICAgICAgICAgLnRvTWF0Y2goXCJJIGhhdmUgMTAgZnJpZW5kcy4gVGhleSBhcmU6XCIpO1xuICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHVwZGF0ZSByZXBlYXRlciB3aGVuIGZpbHRlciBwcmVkaWNhdGUgY2hhbmdlcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGZyaWVuZHMuY291bnQoKSkudG9CZSgxMCk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3EnKSkuc2VuZEtleXMoJ21hJyk7XG5cbiAgICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMik7XG4gICAgICAgICBleHBlY3QoZnJpZW5kcy5nZXQoMCkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMV0gTWFyeSB3aG8gaXMgMjggeWVhcnMgb2xkLicpO1xuICAgICAgICAgZXhwZWN0KGZyaWVuZHMubGFzdCgpLmdldFRleHQoKSkudG9FcXVhbCgnWzJdIFNhbWFudGhhIHdobyBpcyA2MCB5ZWFycyBvbGQuJyk7XG4gICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdSZXBlYXREaXJlY3RpdmUgPSBbJyRwYXJzZScsICckYW5pbWF0ZScsICckY29tcGlsZScsIGZ1bmN0aW9uKCRwYXJzZSwgJGFuaW1hdGUsICRjb21waWxlKSB7XG4gIHZhciBOR19SRU1PVkVEID0gJyQkTkdfUkVNT1ZFRCc7XG4gIHZhciBuZ1JlcGVhdE1pbkVyciA9IG1pbkVycignbmdSZXBlYXQnKTtcblxuICB2YXIgdXBkYXRlU2NvcGUgPSBmdW5jdGlvbihzY29wZSwgaW5kZXgsIHZhbHVlSWRlbnRpZmllciwgdmFsdWUsIGtleUlkZW50aWZpZXIsIGtleSwgYXJyYXlMZW5ndGgpIHtcbiAgICAvLyBUT0RPKHBlcmYpOiBnZW5lcmF0ZSBzZXR0ZXJzIHRvIHNoYXZlIG9mZiB+NDBtcyBvciAxLTEuNSVcbiAgICBzY29wZVt2YWx1ZUlkZW50aWZpZXJdID0gdmFsdWU7XG4gICAgaWYgKGtleUlkZW50aWZpZXIpIHNjb3BlW2tleUlkZW50aWZpZXJdID0ga2V5O1xuICAgIHNjb3BlLiRpbmRleCA9IGluZGV4O1xuICAgIHNjb3BlLiRmaXJzdCA9IChpbmRleCA9PT0gMCk7XG4gICAgc2NvcGUuJGxhc3QgPSAoaW5kZXggPT09IChhcnJheUxlbmd0aCAtIDEpKTtcbiAgICBzY29wZS4kbWlkZGxlID0gIShzY29wZS4kZmlyc3QgfHwgc2NvcGUuJGxhc3QpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgc2NvcGUuJG9kZCA9ICEoc2NvcGUuJGV2ZW4gPSAoaW5kZXggJiAxKSA9PT0gMCk7XG4gIH07XG5cbiAgdmFyIGdldEJsb2NrU3RhcnQgPSBmdW5jdGlvbihibG9jaykge1xuICAgIHJldHVybiBibG9jay5jbG9uZVswXTtcbiAgfTtcblxuICB2YXIgZ2V0QmxvY2tFbmQgPSBmdW5jdGlvbihibG9jaykge1xuICAgIHJldHVybiBibG9jay5jbG9uZVtibG9jay5jbG9uZS5sZW5ndGggLSAxXTtcbiAgfTtcblxuICB2YXIgdHJhY2tCeUlkQXJyYXlGbiA9IGZ1bmN0aW9uKCRzY29wZSwga2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiBoYXNoS2V5KHZhbHVlKTtcbiAgfTtcblxuICB2YXIgdHJhY2tCeUlkT2JqRm4gPSBmdW5jdGlvbigkc2NvcGUsIGtleSkge1xuICAgIHJldHVybiBrZXk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gICAgcHJpb3JpdHk6IDEwMDAsXG4gICAgdGVybWluYWw6IHRydWUsXG4gICAgJCR0bGI6IHRydWUsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdSZXBlYXRDb21waWxlKCRlbGVtZW50LCAkYXR0cikge1xuICAgICAgdmFyIGV4cHJlc3Npb24gPSAkYXR0ci5uZ1JlcGVhdDtcbiAgICAgIHZhciBuZ1JlcGVhdEVuZENvbW1lbnQgPSAkY29tcGlsZS4kJGNyZWF0ZUNvbW1lbnQoJ2VuZCBuZ1JlcGVhdCcsIGV4cHJlc3Npb24pO1xuXG4gICAgICB2YXIgbWF0Y2ggPSBleHByZXNzaW9uLm1hdGNoKC9eXFxzKihbXFxzXFxTXSs/KVxccytpblxccysoW1xcc1xcU10rPykoPzpcXHMrYXNcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrdHJhY2tcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT9cXHMqJC8pO1xuXG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdpZXhwJywgJ0V4cGVjdGVkIGV4cHJlc3Npb24gaW4gZm9ybSBvZiBcXCdfaXRlbV8gaW4gX2NvbGxlY3Rpb25fWyB0cmFjayBieSBfaWRfXVxcJyBidXQgZ290IFxcJ3swfVxcJy4nLFxuICAgICAgICAgICAgZXhwcmVzc2lvbik7XG4gICAgICB9XG5cbiAgICAgIHZhciBsaHMgPSBtYXRjaFsxXTtcbiAgICAgIHZhciByaHMgPSBtYXRjaFsyXTtcbiAgICAgIHZhciBhbGlhc0FzID0gbWF0Y2hbM107XG4gICAgICB2YXIgdHJhY2tCeUV4cCA9IG1hdGNoWzRdO1xuXG4gICAgICBtYXRjaCA9IGxocy5tYXRjaCgvXig/OihcXHMqWyRcXHddKyl8XFwoXFxzKihbJFxcd10rKVxccyosXFxzKihbJFxcd10rKVxccypcXCkpJC8pO1xuXG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdpaWRleHAnLCAnXFwnX2l0ZW1fXFwnIGluIFxcJ19pdGVtXyBpbiBfY29sbGVjdGlvbl9cXCcgc2hvdWxkIGJlIGFuIGlkZW50aWZpZXIgb3IgXFwnKF9rZXlfLCBfdmFsdWVfKVxcJyBleHByZXNzaW9uLCBidXQgZ290IFxcJ3swfVxcJy4nLFxuICAgICAgICAgICAgbGhzKTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZUlkZW50aWZpZXIgPSBtYXRjaFszXSB8fCBtYXRjaFsxXTtcbiAgICAgIHZhciBrZXlJZGVudGlmaWVyID0gbWF0Y2hbMl07XG5cbiAgICAgIGlmIChhbGlhc0FzICYmICghL15bJGEtekEtWl9dWyRhLXpBLVowLTlfXSokLy50ZXN0KGFsaWFzQXMpIHx8XG4gICAgICAgICAgL14obnVsbHx1bmRlZmluZWR8dGhpc3xcXCRpbmRleHxcXCRmaXJzdHxcXCRtaWRkbGV8XFwkbGFzdHxcXCRldmVufFxcJG9kZHxcXCRwYXJlbnR8XFwkcm9vdHxcXCRpZCkkLy50ZXN0KGFsaWFzQXMpKSkge1xuICAgICAgICB0aHJvdyBuZ1JlcGVhdE1pbkVycignYmFkaWRlbnQnLCAnYWxpYXMgXFwnezB9XFwnIGlzIGludmFsaWQgLS0tIG11c3QgYmUgYSB2YWxpZCBKUyBpZGVudGlmaWVyIHdoaWNoIGlzIG5vdCBhIHJlc2VydmVkIG5hbWUuJyxcbiAgICAgICAgICBhbGlhc0FzKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRyYWNrQnlJZEV4cEZuO1xuXG4gICAgICBpZiAodHJhY2tCeUV4cCkge1xuICAgICAgICB2YXIgaGFzaEZuTG9jYWxzID0geyRpZDogaGFzaEtleX07XG4gICAgICAgIHZhciB0cmFja0J5RXhwR2V0dGVyID0gJHBhcnNlKHRyYWNrQnlFeHApO1xuXG4gICAgICAgIHRyYWNrQnlJZEV4cEZuID0gZnVuY3Rpb24oJHNjb3BlLCBrZXksIHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgIC8vIGFzc2lnbiBrZXksIHZhbHVlLCBhbmQgJGluZGV4IHRvIHRoZSBsb2NhbHMgc28gdGhhdCB0aGV5IGNhbiBiZSB1c2VkIGluIGhhc2ggZnVuY3Rpb25zXG4gICAgICAgICAgaWYgKGtleUlkZW50aWZpZXIpIGhhc2hGbkxvY2Fsc1trZXlJZGVudGlmaWVyXSA9IGtleTtcbiAgICAgICAgICBoYXNoRm5Mb2NhbHNbdmFsdWVJZGVudGlmaWVyXSA9IHZhbHVlO1xuICAgICAgICAgIGhhc2hGbkxvY2Fscy4kaW5kZXggPSBpbmRleDtcbiAgICAgICAgICByZXR1cm4gdHJhY2tCeUV4cEdldHRlcigkc2NvcGUsIGhhc2hGbkxvY2Fscyk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ1JlcGVhdExpbmsoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XG5cbiAgICAgICAgLy8gU3RvcmUgYSBsaXN0IG9mIGVsZW1lbnRzIGZyb20gcHJldmlvdXMgcnVuLiBUaGlzIGlzIGEgaGFzaCB3aGVyZSBrZXkgaXMgdGhlIGl0ZW0gZnJvbSB0aGVcbiAgICAgICAgLy8gaXRlcmF0b3IsIGFuZCB0aGUgdmFsdWUgaXMgb2JqZWN0cyB3aXRoIGZvbGxvd2luZyBwcm9wZXJ0aWVzLlxuICAgICAgICAvLyAgIC0gc2NvcGU6IGJvdW5kIHNjb3BlXG4gICAgICAgIC8vICAgLSBjbG9uZTogcHJldmlvdXMgZWxlbWVudC5cbiAgICAgICAgLy8gICAtIGluZGV4OiBwb3NpdGlvblxuICAgICAgICAvL1xuICAgICAgICAvLyBXZSBhcmUgdXNpbmcgbm8tcHJvdG8gb2JqZWN0IHNvIHRoYXQgd2UgZG9uJ3QgbmVlZCB0byBndWFyZCBhZ2FpbnN0IGluaGVyaXRlZCBwcm9wcyB2aWFcbiAgICAgICAgLy8gaGFzT3duUHJvcGVydHkuXG4gICAgICAgIHZhciBsYXN0QmxvY2tNYXAgPSBjcmVhdGVNYXAoKTtcblxuICAgICAgICAvL3dhdGNoIHByb3BzXG4gICAgICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKHJocywgZnVuY3Rpb24gbmdSZXBlYXRBY3Rpb24oY29sbGVjdGlvbikge1xuICAgICAgICAgIHZhciBpbmRleCwgbGVuZ3RoLFxuICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSAkZWxlbWVudFswXSwgICAgIC8vIG5vZGUgdGhhdCBjbG9uZWQgbm9kZXMgc2hvdWxkIGJlIGluc2VydGVkIGFmdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZWQgdG8gdGhlIGNvbW1lbnQgbm9kZSBhbmNob3JcbiAgICAgICAgICAgICAgbmV4dE5vZGUsXG4gICAgICAgICAgICAgIC8vIFNhbWUgYXMgbGFzdEJsb2NrTWFwIGJ1dCBpdCBoYXMgdGhlIGN1cnJlbnQgc3RhdGUuIEl0IHdpbGwgYmVjb21lIHRoZVxuICAgICAgICAgICAgICAvLyBsYXN0QmxvY2tNYXAgb24gdGhlIG5leHQgaXRlcmF0aW9uLlxuICAgICAgICAgICAgICBuZXh0QmxvY2tNYXAgPSBjcmVhdGVNYXAoKSxcbiAgICAgICAgICAgICAgY29sbGVjdGlvbkxlbmd0aCxcbiAgICAgICAgICAgICAga2V5LCB2YWx1ZSwgLy8ga2V5L3ZhbHVlIG9mIGl0ZXJhdGlvblxuICAgICAgICAgICAgICB0cmFja0J5SWQsXG4gICAgICAgICAgICAgIHRyYWNrQnlJZEZuLFxuICAgICAgICAgICAgICBjb2xsZWN0aW9uS2V5cyxcbiAgICAgICAgICAgICAgYmxvY2ssICAgICAgIC8vIGxhc3Qgb2JqZWN0IGluZm9ybWF0aW9uIHtzY29wZSwgZWxlbWVudCwgaWR9XG4gICAgICAgICAgICAgIG5leHRCbG9ja09yZGVyLFxuICAgICAgICAgICAgICBlbGVtZW50c1RvUmVtb3ZlO1xuXG4gICAgICAgICAgaWYgKGFsaWFzQXMpIHtcbiAgICAgICAgICAgICRzY29wZVthbGlhc0FzXSA9IGNvbGxlY3Rpb247XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uS2V5cyA9IGNvbGxlY3Rpb247XG4gICAgICAgICAgICB0cmFja0J5SWRGbiA9IHRyYWNrQnlJZEV4cEZuIHx8IHRyYWNrQnlJZEFycmF5Rm47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYWNrQnlJZEZuID0gdHJhY2tCeUlkRXhwRm4gfHwgdHJhY2tCeUlkT2JqRm47XG4gICAgICAgICAgICAvLyBpZiBvYmplY3QsIGV4dHJhY3Qga2V5cywgaW4gZW51bWVyYXRpb24gb3JkZXIsIHVuc29ydGVkXG4gICAgICAgICAgICBjb2xsZWN0aW9uS2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaXRlbUtleSBpbiBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbGxlY3Rpb24sIGl0ZW1LZXkpICYmIGl0ZW1LZXkuY2hhckF0KDApICE9PSAnJCcpIHtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uS2V5cy5wdXNoKGl0ZW1LZXkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29sbGVjdGlvbkxlbmd0aCA9IGNvbGxlY3Rpb25LZXlzLmxlbmd0aDtcbiAgICAgICAgICBuZXh0QmxvY2tPcmRlciA9IG5ldyBBcnJheShjb2xsZWN0aW9uTGVuZ3RoKTtcblxuICAgICAgICAgIC8vIGxvY2F0ZSBleGlzdGluZyBpdGVtc1xuICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGNvbGxlY3Rpb25MZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGtleSA9IChjb2xsZWN0aW9uID09PSBjb2xsZWN0aW9uS2V5cykgPyBpbmRleCA6IGNvbGxlY3Rpb25LZXlzW2luZGV4XTtcbiAgICAgICAgICAgIHZhbHVlID0gY29sbGVjdGlvbltrZXldO1xuICAgICAgICAgICAgdHJhY2tCeUlkID0gdHJhY2tCeUlkRm4oJHNjb3BlLCBrZXksIHZhbHVlLCBpbmRleCk7XG4gICAgICAgICAgICBpZiAobGFzdEJsb2NrTWFwW3RyYWNrQnlJZF0pIHtcbiAgICAgICAgICAgICAgLy8gZm91bmQgcHJldmlvdXNseSBzZWVuIGJsb2NrXG4gICAgICAgICAgICAgIGJsb2NrID0gbGFzdEJsb2NrTWFwW3RyYWNrQnlJZF07XG4gICAgICAgICAgICAgIGRlbGV0ZSBsYXN0QmxvY2tNYXBbdHJhY2tCeUlkXTtcbiAgICAgICAgICAgICAgbmV4dEJsb2NrTWFwW3RyYWNrQnlJZF0gPSBibG9jaztcbiAgICAgICAgICAgICAgbmV4dEJsb2NrT3JkZXJbaW5kZXhdID0gYmxvY2s7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5leHRCbG9ja01hcFt0cmFja0J5SWRdKSB7XG4gICAgICAgICAgICAgIC8vIGlmIGNvbGxpc2lvbiBkZXRlY3RlZC4gcmVzdG9yZSBsYXN0QmxvY2tNYXAgYW5kIHRocm93IGFuIGVycm9yXG4gICAgICAgICAgICAgIGZvckVhY2gobmV4dEJsb2NrT3JkZXIsIGZ1bmN0aW9uKGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrICYmIGJsb2NrLnNjb3BlKSBsYXN0QmxvY2tNYXBbYmxvY2suaWRdID0gYmxvY2s7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB0aHJvdyBuZ1JlcGVhdE1pbkVycignZHVwZXMnLFxuICAgICAgICAgICAgICAgICAgJ0R1cGxpY2F0ZXMgaW4gYSByZXBlYXRlciBhcmUgbm90IGFsbG93ZWQuIFVzZSBcXCd0cmFjayBieVxcJyBleHByZXNzaW9uIHRvIHNwZWNpZnkgdW5pcXVlIGtleXMuIFJlcGVhdGVyOiB7MH0sIER1cGxpY2F0ZSBrZXk6IHsxfSwgRHVwbGljYXRlIHZhbHVlOiB7Mn0nLFxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiwgdHJhY2tCeUlkLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBuZXcgbmV2ZXIgYmVmb3JlIHNlZW4gYmxvY2tcbiAgICAgICAgICAgICAgbmV4dEJsb2NrT3JkZXJbaW5kZXhdID0ge2lkOiB0cmFja0J5SWQsIHNjb3BlOiB1bmRlZmluZWQsIGNsb25lOiB1bmRlZmluZWR9O1xuICAgICAgICAgICAgICBuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ2xlYXIgdGhlIHZhbHVlIHByb3BlcnR5IGZyb20gdGhlIGhhc2hGbkxvY2FscyBvYmplY3QgdG8gcHJldmVudCBhIHJlZmVyZW5jZSB0byB0aGUgbGFzdCB2YWx1ZVxuICAgICAgICAgIC8vIGJlaW5nIGxlYWtlZCBpbnRvIHRoZSBuZ1JlcGVhdENvbXBpbGUgZnVuY3Rpb24gc2NvcGVcbiAgICAgICAgICBpZiAoaGFzaEZuTG9jYWxzKSB7XG4gICAgICAgICAgICBoYXNoRm5Mb2NhbHNbdmFsdWVJZGVudGlmaWVyXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyByZW1vdmUgbGVmdG92ZXIgaXRlbXNcbiAgICAgICAgICBmb3IgKHZhciBibG9ja0tleSBpbiBsYXN0QmxvY2tNYXApIHtcbiAgICAgICAgICAgIGJsb2NrID0gbGFzdEJsb2NrTWFwW2Jsb2NrS2V5XTtcbiAgICAgICAgICAgIGVsZW1lbnRzVG9SZW1vdmUgPSBnZXRCbG9ja05vZGVzKGJsb2NrLmNsb25lKTtcbiAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKGVsZW1lbnRzVG9SZW1vdmUpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRzVG9SZW1vdmVbMF0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAvLyBpZiB0aGUgZWxlbWVudCB3YXMgbm90IHJlbW92ZWQgeWV0IGJlY2F1c2Ugb2YgcGVuZGluZyBhbmltYXRpb24sIG1hcmsgaXQgYXMgZGVsZXRlZFxuICAgICAgICAgICAgICAvLyBzbyB0aGF0IHdlIGNhbiBpZ25vcmUgaXQgbGF0ZXJcbiAgICAgICAgICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzVG9SZW1vdmVbaW5kZXhdW05HX1JFTU9WRURdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmxvY2suc2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyB3ZSBhcmUgbm90IHVzaW5nIGZvckVhY2ggZm9yIHBlcmYgcmVhc29ucyAodHJ5aW5nIHRvIGF2b2lkICNjYWxsKVxuICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGNvbGxlY3Rpb25MZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGtleSA9IChjb2xsZWN0aW9uID09PSBjb2xsZWN0aW9uS2V5cykgPyBpbmRleCA6IGNvbGxlY3Rpb25LZXlzW2luZGV4XTtcbiAgICAgICAgICAgIHZhbHVlID0gY29sbGVjdGlvbltrZXldO1xuICAgICAgICAgICAgYmxvY2sgPSBuZXh0QmxvY2tPcmRlcltpbmRleF07XG5cbiAgICAgICAgICAgIGlmIChibG9jay5zY29wZSkge1xuICAgICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGFscmVhZHkgc2VlbiB0aGlzIG9iamVjdCwgdGhlbiB3ZSBuZWVkIHRvIHJldXNlIHRoZVxuICAgICAgICAgICAgICAvLyBhc3NvY2lhdGVkIHNjb3BlL2VsZW1lbnRcblxuICAgICAgICAgICAgICBuZXh0Tm9kZSA9IHByZXZpb3VzTm9kZTtcblxuICAgICAgICAgICAgICAvLyBza2lwIG5vZGVzIHRoYXQgYXJlIGFscmVhZHkgcGVuZGluZyByZW1vdmFsIHZpYSBsZWF2ZSBhbmltYXRpb25cbiAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgIH0gd2hpbGUgKG5leHROb2RlICYmIG5leHROb2RlW05HX1JFTU9WRURdKTtcblxuICAgICAgICAgICAgICBpZiAoZ2V0QmxvY2tTdGFydChibG9jaykgIT09IG5leHROb2RlKSB7XG4gICAgICAgICAgICAgICAgLy8gZXhpc3RpbmcgaXRlbSB3aGljaCBnb3QgbW92ZWRcbiAgICAgICAgICAgICAgICAkYW5pbWF0ZS5tb3ZlKGdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpLCBudWxsLCBwcmV2aW91c05vZGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHByZXZpb3VzTm9kZSA9IGdldEJsb2NrRW5kKGJsb2NrKTtcbiAgICAgICAgICAgICAgdXBkYXRlU2NvcGUoYmxvY2suc2NvcGUsIGluZGV4LCB2YWx1ZUlkZW50aWZpZXIsIHZhbHVlLCBrZXlJZGVudGlmaWVyLCBrZXksIGNvbGxlY3Rpb25MZW5ndGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gbmV3IGl0ZW0gd2hpY2ggd2UgZG9uJ3Qga25vdyBhYm91dFxuICAgICAgICAgICAgICAkdHJhbnNjbHVkZShmdW5jdGlvbiBuZ1JlcGVhdFRyYW5zY2x1ZGUoY2xvbmUsIHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgYmxvY2suc2NvcGUgPSBzY29wZTtcbiAgICAgICAgICAgICAgICAvLyBodHRwOi8vanNwZXJmLmNvbS9jbG9uZS12cy1jcmVhdGVjb21tZW50XG4gICAgICAgICAgICAgICAgdmFyIGVuZE5vZGUgPSBuZ1JlcGVhdEVuZENvbW1lbnQuY2xvbmVOb2RlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBjbG9uZVtjbG9uZS5sZW5ndGgrK10gPSBlbmROb2RlO1xuXG4gICAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsIG51bGwsIHByZXZpb3VzTm9kZSk7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gZW5kTm9kZTtcbiAgICAgICAgICAgICAgICAvLyBOb3RlOiBXZSBvbmx5IG5lZWQgdGhlIGZpcnN0L2xhc3Qgbm9kZSBvZiB0aGUgY2xvbmVkIG5vZGVzLlxuICAgICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHdlIG5lZWQgdG8ga2VlcCB0aGUgcmVmZXJlbmNlIHRvIHRoZSBqcWxpdGUgd3JhcHBlciBhcyBpdCBtaWdodCBiZSBjaGFuZ2VkIGxhdGVyXG4gICAgICAgICAgICAgICAgLy8gYnkgYSBkaXJlY3RpdmUgd2l0aCB0ZW1wbGF0ZVVybCB3aGVuIGl0cyB0ZW1wbGF0ZSBhcnJpdmVzLlxuICAgICAgICAgICAgICAgIGJsb2NrLmNsb25lID0gY2xvbmU7XG4gICAgICAgICAgICAgICAgbmV4dEJsb2NrTWFwW2Jsb2NrLmlkXSA9IGJsb2NrO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVNjb3BlKGJsb2NrLnNjb3BlLCBpbmRleCwgdmFsdWVJZGVudGlmaWVyLCB2YWx1ZSwga2V5SWRlbnRpZmllciwga2V5LCBjb2xsZWN0aW9uTGVuZ3RoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3RCbG9ja01hcCA9IG5leHRCbG9ja01hcDtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG52YXIgTkdfSElERV9DTEFTUyA9ICduZy1oaWRlJztcbnZhciBOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTID0gJ25nLWhpZGUtYW5pbWF0ZSc7XG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU2hvd1xuICogQG11bHRpRWxlbWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ1Nob3dgIGRpcmVjdGl2ZSBzaG93cyBvciBoaWRlcyB0aGUgZ2l2ZW4gSFRNTCBlbGVtZW50IGJhc2VkIG9uIHRoZSBleHByZXNzaW9uIHByb3ZpZGVkIHRvXG4gKiB0aGUgYG5nU2hvd2AgYXR0cmlidXRlLlxuICpcbiAqIFRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiBieSByZW1vdmluZyBvciBhZGRpbmcgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIG9udG8gdGhlIGVsZW1lbnQuXG4gKiBUaGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgcHJlZGVmaW5lZCBpbiBBbmd1bGFySlMgYW5kIHNldHMgdGhlIGRpc3BsYXkgc3R5bGUgdG8gbm9uZSAodXNpbmcgYW5cbiAqIGAhaW1wb3J0YW50YCBmbGFnKS4gRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBIVE1MIGZpbGUgKHNlZVxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NzcCBuZ0NzcH0pLlxuICpcbiAqIGBgYGh0bWxcbiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyB0cnV0aHkgKGVsZW1lbnQgaXMgdmlzaWJsZSkgLS0+XG4gKiA8ZGl2IG5nLXNob3c9XCJteVZhbHVlXCI+PC9kaXY+XG4gKlxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIGZhbHN5IChlbGVtZW50IGlzIGhpZGRlbikgLS0+XG4gKiA8ZGl2IG5nLXNob3c9XCJteVZhbHVlXCIgY2xhc3M9XCJuZy1oaWRlXCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHRoZSBgbmdTaG93YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIGZhbHN5IHZhbHVlIHRoZW4gdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIGFkZGVkXG4gKiB0byB0aGUgY2xhc3MgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGNhdXNpbmcgaXQgdG8gYmVjb21lIGhpZGRlbi4gV2hlbiB0cnV0aHksIHRoZSBgLm5nLWhpZGVgXG4gKiBDU1MgY2xhc3MgaXMgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50IGNhdXNpbmcgdGhlIGVsZW1lbnQgbm90IHRvIGFwcGVhciBoaWRkZW4uXG4gKlxuICogIyMgV2h5IGlzIGAhaW1wb3J0YW50YCB1c2VkP1xuICpcbiAqIFlvdSBtYXkgYmUgd29uZGVyaW5nIHdoeSBgIWltcG9ydGFudGAgaXMgdXNlZCBmb3IgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzLiBUaGlzIGlzIGJlY2F1c2UgdGhlXG4gKiBgLm5nLWhpZGVgIHNlbGVjdG9yIGNhbiBiZSBlYXNpbHkgb3ZlcnJpZGRlbiBieSBoZWF2aWVyIHNlbGVjdG9ycy4gRm9yIGV4YW1wbGUsIHNvbWV0aGluZyBhc1xuICogc2ltcGxlIGFzIGNoYW5naW5nIHRoZSBkaXNwbGF5IHN0eWxlIG9uIGEgSFRNTCBsaXN0IGl0ZW0gd291bGQgbWFrZSBoaWRkZW4gZWxlbWVudHMgYXBwZWFyXG4gKiB2aXNpYmxlLiBUaGlzIGFsc28gYmVjb21lcyBhIGJpZ2dlciBpc3N1ZSB3aGVuIGRlYWxpbmcgd2l0aCBDU1MgZnJhbWV3b3Jrcy5cbiAqXG4gKiBCeSB1c2luZyBgIWltcG9ydGFudGAsIHRoZSBzaG93IGFuZCBoaWRlIGJlaGF2aW9yIHdpbGwgd29yayBhcyBleHBlY3RlZCBkZXNwaXRlIGFueSBjbGFzaCBiZXR3ZWVuXG4gKiBDU1Mgc2VsZWN0b3Igc3BlY2lmaWNpdHkgKHdoZW4gYCFpbXBvcnRhbnRgIGlzbid0IHVzZWQgd2l0aCBhbnkgY29uZmxpY3Rpbmcgc3R5bGVzKS4gSWYgYVxuICogZGV2ZWxvcGVyIGNob29zZXMgdG8gb3ZlcnJpZGUgdGhlIHN0eWxpbmcgdG8gY2hhbmdlIGhvdyB0byBoaWRlIGFuIGVsZW1lbnQgdGhlbiBpdCBpcyBqdXN0IGFcbiAqIG1hdHRlciBvZiB1c2luZyBgIWltcG9ydGFudGAgaW4gdGhlaXIgb3duIENTUyBjb2RlLlxuICpcbiAqICMjIyBPdmVycmlkaW5nIGAubmctaGlkZWBcbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGUgYC5uZy1oaWRlYCBjbGFzcyB3aWxsIHN0eWxlIHRoZSBlbGVtZW50IHdpdGggYGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudGAuIElmIHlvdVxuICogd2lzaCB0byBjaGFuZ2UgdGhlIGhpZGUgYmVoYXZpb3Igd2l0aCBgbmdTaG93YC9gbmdIaWRlYCwgeW91IGNhbiBzaW1wbHkgb3ZlcndyaXRlIHRoZSBzdHlsZXMgZm9yXG4gKiB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MuIE5vdGUgdGhhdCB0aGUgc2VsZWN0b3IgdGhhdCBuZWVkcyB0byBiZSB1c2VkIGlzIGFjdHVhbGx5XG4gKiBgLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpYCB0byBjb3BlIHdpdGggZXh0cmEgYW5pbWF0aW9uIGNsYXNzZXMgdGhhdCBjYW4gYmUgYWRkZWQuXG4gKlxuICogYGBgY3NzXG4gKiAubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSkge1xuICogICAvJiM0MjsgVGhlc2UgYXJlIGp1c3QgYWx0ZXJuYXRpdmUgd2F5cyBvZiBoaWRpbmcgYW4gZWxlbWVudCAmIzQyOy9cbiAqICAgZGlzcGxheTogYmxvY2shaW1wb3J0YW50O1xuICogICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gKiAgIHRvcDogLTk5OTlweDtcbiAqICAgbGVmdDogLTk5OTlweDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEJ5IGRlZmF1bHQgeW91IGRvbid0IG5lZWQgdG8gb3ZlcnJpZGUgYW55dGhpbmcgaW4gQ1NTIGFuZCB0aGUgYW5pbWF0aW9ucyB3aWxsIHdvcmsgYXJvdW5kIHRoZVxuICogZGlzcGxheSBzdHlsZS5cbiAqXG4gKiBAYW5pbWF0aW9uc1xuICogfCBBbmltYXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBPY2N1cnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IHtAbGluayAkYW5pbWF0ZSNhZGRDbGFzcyBhZGRDbGFzc30gYC5uZy1oaWRlYCAgICAgICB8IEFmdGVyIHRoZSBgbmdTaG93YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIG5vbiB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIHRoZSBjb250ZW50cyBhcmUgc2V0IHRvIGhpZGRlbi4gfFxuICogfCB7QGxpbmsgJGFuaW1hdGUjcmVtb3ZlQ2xhc3MgcmVtb3ZlQ2xhc3N9IGAubmctaGlkZWAgfCBBZnRlciB0aGUgYG5nU2hvd2AgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIGNvbnRlbnRzIGFyZSBzZXQgdG8gdmlzaWJsZS4gICAgICAgIHxcbiAqXG4gKiBBbmltYXRpb25zIGluIGBuZ1Nob3dgL2BuZ0hpZGVgIHdvcmsgd2l0aCB0aGUgc2hvdyBhbmQgaGlkZSBldmVudHMgdGhhdCBhcmUgdHJpZ2dlcmVkIHdoZW4gdGhlXG4gKiBkaXJlY3RpdmUgZXhwcmVzc2lvbiBpcyB0cnVlIGFuZCBmYWxzZS4gVGhpcyBzeXN0ZW0gd29ya3MgbGlrZSB0aGUgYW5pbWF0aW9uIHN5c3RlbSBwcmVzZW50IHdpdGhcbiAqIGBuZ0NsYXNzYCBleGNlcHQgdGhhdCB5b3UgbXVzdCBhbHNvIGluY2x1ZGUgdGhlIGAhaW1wb3J0YW50YCBmbGFnIHRvIG92ZXJyaWRlIHRoZSBkaXNwbGF5XG4gKiBwcm9wZXJ0eSBzbyB0aGF0IHRoZSBlbGVtZW50cyBhcmUgbm90IGFjdHVhbGx5IGhpZGRlbiBkdXJpbmcgdGhlIGFuaW1hdGlvbi5cbiAqXG4gKiBgYGBjc3NcbiAqIC8mIzQyOyBBIHdvcmtpbmcgZXhhbXBsZSBjYW4gYmUgZm91bmQgYXQgdGhlIGJvdHRvbSBvZiB0aGlzIHBhZ2UuICYjNDI7L1xuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQsIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHtcbiAqICAgdHJhbnNpdGlvbjogYWxsIDAuNXMgbGluZWFyO1xuICogfVxuICpcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkIHsgLi4uIH1cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLm5nLWhpZGUtYWRkLWFjdGl2ZSB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZS5uZy1oaWRlLXJlbW92ZS1hY3RpdmUgeyAuLi4gfVxuICogYGBgXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQsIGFzIG9mIEFuZ3VsYXJKUyB2ZXJzaW9uIDEuMywgdGhlcmUgaXMgbm8gbmVlZCB0byBjaGFuZ2UgdGhlIGRpc3BsYXkgcHJvcGVydHlcbiAqIHRvIGJsb2NrIGR1cmluZyBhbmltYXRpb24gc3RhdGVzIC0gbmdBbmltYXRlIHdpbGwgYXV0b21hdGljYWxseSBoYW5kbGUgdGhlIHN0eWxlIHRvZ2dsaW5nIGZvciB5b3UuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU2hvdyBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5L2ZhbHN5IHRoZW4gdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50IGlzIHNob3duL2hpZGRlbiByZXNwZWN0aXZlbHkuXG4gKlxuICogQGV4YW1wbGVcbiAqIEEgc2ltcGxlIGV4YW1wbGUsIGFuaW1hdGluZyB0aGUgZWxlbWVudCdzIG9wYWNpdHk6XG4gKlxuICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIiBuYW1lPVwibmctc2hvdy1zaW1wbGVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgU2hvdzogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiIGFyaWEtbGFiZWw9XCJUb2dnbGUgbmdTaG93XCI+PGJyIC8+XG4gICAgICA8ZGl2IGNsYXNzPVwiY2hlY2stZWxlbWVudCBhbmltYXRlLXNob3ctaGlkZVwiIG5nLXNob3c9XCJjaGVja2VkXCI+XG4gICAgICAgIEkgc2hvdyB1cCB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5hbmltYXRlLXNob3ctaGlkZS5uZy1oaWRlIHtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtc2hvdy1oaWRlLm5nLWhpZGUtYWRkLFxuICAgICAgLmFuaW1hdGUtc2hvdy1oaWRlLm5nLWhpZGUtcmVtb3ZlIHtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIGxpbmVhciAwLjVzO1xuICAgICAgfVxuXG4gICAgICAuY2hlY2stZWxlbWVudCB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nU2hvdycsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2hlY2tib3ggPSBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpO1xuICAgICAgICB2YXIgY2hlY2tFbGVtID0gZWxlbWVudChieS5jc3MoJy5jaGVjay1lbGVtZW50JykpO1xuXG4gICAgICAgIGV4cGVjdChjaGVja0VsZW0uaXNEaXNwbGF5ZWQoKSkudG9CZShmYWxzZSk7XG4gICAgICAgIGNoZWNrYm94LmNsaWNrKCk7XG4gICAgICAgIGV4cGVjdChjaGVja0VsZW0uaXNEaXNwbGF5ZWQoKSkudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICpcbiAqIDxociAvPlxuICogQGV4YW1wbGVcbiAqIEEgbW9yZSBjb21wbGV4IGV4YW1wbGUsIGZlYXR1cmluZyBkaWZmZXJlbnQgc2hvdy9oaWRlIGFuaW1hdGlvbnM6XG4gKlxuICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIiBuYW1lPVwibmctc2hvdy1jb21wbGV4XCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIFNob3c6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIiBhcmlhLWxhYmVsPVwiVG9nZ2xlIG5nU2hvd1wiPjxiciAvPlxuICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgZnVua3ktc2hvdy1oaWRlXCIgbmctc2hvdz1cImNoZWNrZWRcIj5cbiAgICAgICAgSSBzaG93IHVwIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgYm9keSB7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHBlcnNwZWN0aXZlOiAxMDAwcHg7XG4gICAgICB9XG5cbiAgICAgIC5mdW5reS1zaG93LWhpZGUubmctaGlkZS1hZGQge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZVooMCk7XG4gICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0O1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC41cyBlYXNlLWluLW91dDtcbiAgICAgIH1cblxuICAgICAgLmZ1bmt5LXNob3ctaGlkZS5uZy1oaWRlLWFkZC5uZy1oaWRlLWFkZC1hY3RpdmUge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZVooLTEzNWRlZyk7XG4gICAgICB9XG5cbiAgICAgIC5mdW5reS1zaG93LWhpZGUubmctaGlkZS1yZW1vdmUge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZVkoOTBkZWcpO1xuICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0O1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC41cyBlYXNlO1xuICAgICAgfVxuXG4gICAgICAuZnVua3ktc2hvdy1oaWRlLm5nLWhpZGUtcmVtb3ZlLm5nLWhpZGUtcmVtb3ZlLWFjdGl2ZSB7XG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlWSgwKTtcbiAgICAgIH1cblxuICAgICAgLmNoZWNrLWVsZW1lbnQge1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZ1Nob3cnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNoZWNrYm94ID0gZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKTtcbiAgICAgICAgdmFyIGNoZWNrRWxlbSA9IGVsZW1lbnQoYnkuY3NzKCcuY2hlY2stZWxlbWVudCcpKTtcblxuICAgICAgICBleHBlY3QoY2hlY2tFbGVtLmlzRGlzcGxheWVkKCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICBjaGVja2JveC5jbGljaygpO1xuICAgICAgICBleHBlY3QoY2hlY2tFbGVtLmlzRGlzcGxheWVkKCkpLnRvQmUodHJ1ZSk7XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cbiAqXG4gKiBAa25vd25Jc3N1ZVxuICpcbiAqICMjIyBGbGlja2VyaW5nIHdoZW4gdXNpbmcgbmdTaG93IHRvIHRvZ2dsZSBiZXR3ZWVuIGVsZW1lbnRzXG4gKlxuICogV2hlbiB1c2luZyB7QGxpbmsgbmdTaG93fSBhbmQgLyBvciB7QGxpbmsgbmdIaWRlfSB0byB0b2dnbGUgYmV0d2VlbiBlbGVtZW50cywgaXQgY2FuXG4gKiBoYXBwZW4gdGhhdCBib3RoIHRoZSBlbGVtZW50IHRvIHNob3cgYW5kIHRoZSBlbGVtZW50IHRvIGhpZGUgYXJlIHZpc2libGUgZm9yIGEgdmVyeSBzaG9ydCB0aW1lLlxuICpcbiAqIFRoaXMgdXN1YWxseSBoYXBwZW5zIHdoZW4gdGhlIHtAbGluayBuZ0FuaW1hdGUgbmdBbmltYXRlIG1vZHVsZX0gaXMgaW5jbHVkZWQsIGJ1dCBubyBhY3R1YWwgYW5pbWF0aW9uc1xuICogYXJlIGRlZmluZWQgZm9yIHtAbGluayBuZ1Nob3d9IC8ge0BsaW5rIG5nSGlkZX0uIEludGVybmV0IEV4cGxvcmVyIGlzIGFmZmVjdGVkIG1vcmUgb2Z0ZW4gdGhhblxuICogb3RoZXIgYnJvd3NlcnMuXG4gKlxuICogVGhlcmUgYXJlIHNldmVyYWwgd2F5IHRvIG1pdGlnYXRlIHRoaXMgcHJvYmxlbTpcbiAqXG4gKiAtIHtAbGluayBndWlkZS9hbmltYXRpb25zI2hvdy10by1zZWxlY3RpdmVseS1lbmFibGUtZGlzYWJsZS1hbmQtc2tpcC1hbmltYXRpb25zIERpc2FibGUgYW5pbWF0aW9ucyBvbiB0aGUgYWZmZWN0ZWQgZWxlbWVudHN9LlxuICogLSBVc2Uge0BsaW5rIG5nSWZ9IG9yIHtAbGluayBuZ1N3aXRjaH0gaW5zdGVhZCBvZiB7QGxpbmsgbmdTaG93fSAvIHtAbGluayBuZ0hpZGV9LlxuICogLSBVc2UgdGhlIHNwZWNpYWwgQ1NTIHNlbGVjdG9yIGBuZy1oaWRlLm5nLWhpZGUtYW5pbWF0ZWAgdG8gc2V0IGB7ZGlzcGxheTogbm9uZX1gIG9yIHNpbWlsYXIgb24gdGhlIGFmZmVjdGVkIGVsZW1lbnRzLlxuICogLSBVc2UgYG5nLWNsYXNzPVwieyduZy1oaWRlJzogZXhwcmVzc2lvbn1gIGluc3RlYWQgb2YgaW5zdGVhZCBvZiB7QGxpbmsgbmdTaG93fSAvIHtAbGluayBuZ0hpZGV9LlxuICogLSBEZWZpbmUgYW4gYW5pbWF0aW9uIG9uIHRoZSBhZmZlY3RlZCBlbGVtZW50cy5cbiAqL1xudmFyIG5nU2hvd0RpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbXVsdGlFbGVtZW50OiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ1Nob3csIGZ1bmN0aW9uIG5nU2hvd1dhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgIC8vIHdlJ3JlIGFkZGluZyBhIHRlbXBvcmFyeSwgYW5pbWF0aW9uLXNwZWNpZmljIGNsYXNzIGZvciBuZy1oaWRlIHNpbmNlIHRoaXMgd2F5XG4gICAgICAgIC8vIHdlIGNhbiBjb250cm9sIHdoZW4gdGhlIGVsZW1lbnQgaXMgYWN0dWFsbHkgZGlzcGxheWVkIG9uIHNjcmVlbiB3aXRob3V0IGhhdmluZ1xuICAgICAgICAvLyB0byBoYXZlIGEgZ2xvYmFsL2dyZWVkeSBDU1Mgc2VsZWN0b3IgdGhhdCBicmVha3Mgd2hlbiBvdGhlciBhbmltYXRpb25zIGFyZSBydW4uXG4gICAgICAgIC8vIFJlYWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkxMDMjaXNzdWVjb21tZW50LTU4MzM1ODQ1XG4gICAgICAgICRhbmltYXRlW3ZhbHVlID8gJ3JlbW92ZUNsYXNzJyA6ICdhZGRDbGFzcyddKGVsZW1lbnQsIE5HX0hJREVfQ0xBU1MsIHtcbiAgICAgICAgICB0ZW1wQ2xhc3NlczogTkdfSElERV9JTl9QUk9HUkVTU19DTEFTU1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dO1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdIaWRlXG4gKiBAbXVsdGlFbGVtZW50XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nSGlkZWAgZGlyZWN0aXZlIHNob3dzIG9yIGhpZGVzIHRoZSBnaXZlbiBIVE1MIGVsZW1lbnQgYmFzZWQgb24gdGhlIGV4cHJlc3Npb24gcHJvdmlkZWQgdG9cbiAqIHRoZSBgbmdIaWRlYCBhdHRyaWJ1dGUuXG4gKlxuICogVGhlIGVsZW1lbnQgaXMgc2hvd24gb3IgaGlkZGVuIGJ5IHJlbW92aW5nIG9yIGFkZGluZyB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3Mgb250byB0aGUgZWxlbWVudC5cbiAqIFRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBwcmVkZWZpbmVkIGluIEFuZ3VsYXJKUyBhbmQgc2V0cyB0aGUgZGlzcGxheSBzdHlsZSB0byBub25lICh1c2luZyBhblxuICogYCFpbXBvcnRhbnRgIGZsYWcpLiBGb3IgQ1NQIG1vZGUgcGxlYXNlIGFkZCBgYW5ndWxhci1jc3AuY3NzYCB0byB5b3VyIEhUTUwgZmlsZSAoc2VlXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ3NwIG5nQ3NwfSkuXG4gKlxuICogYGBgaHRtbFxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIHRydXRoeSAoZWxlbWVudCBpcyBoaWRkZW4pIC0tPlxuICogPGRpdiBuZy1oaWRlPVwibXlWYWx1ZVwiIGNsYXNzPVwibmctaGlkZVwiPjwvZGl2PlxuICpcbiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyBmYWxzeSAoZWxlbWVudCBpcyB2aXNpYmxlKSAtLT5cbiAqIDxkaXYgbmctaGlkZT1cIm15VmFsdWVcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFdoZW4gdGhlIGBuZ0hpZGVgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgdHJ1dGh5IHZhbHVlIHRoZW4gdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIGFkZGVkXG4gKiB0byB0aGUgY2xhc3MgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGNhdXNpbmcgaXQgdG8gYmVjb21lIGhpZGRlbi4gV2hlbiBmYWxzeSwgdGhlIGAubmctaGlkZWBcbiAqIENTUyBjbGFzcyBpcyByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQgY2F1c2luZyB0aGUgZWxlbWVudCBub3QgdG8gYXBwZWFyIGhpZGRlbi5cbiAqXG4gKiAjIyBXaHkgaXMgYCFpbXBvcnRhbnRgIHVzZWQ/XG4gKlxuICogWW91IG1heSBiZSB3b25kZXJpbmcgd2h5IGAhaW1wb3J0YW50YCBpcyB1c2VkIGZvciB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MuIFRoaXMgaXMgYmVjYXVzZSB0aGVcbiAqIGAubmctaGlkZWAgc2VsZWN0b3IgY2FuIGJlIGVhc2lseSBvdmVycmlkZGVuIGJ5IGhlYXZpZXIgc2VsZWN0b3JzLiBGb3IgZXhhbXBsZSwgc29tZXRoaW5nIGFzXG4gKiBzaW1wbGUgYXMgY2hhbmdpbmcgdGhlIGRpc3BsYXkgc3R5bGUgb24gYSBIVE1MIGxpc3QgaXRlbSB3b3VsZCBtYWtlIGhpZGRlbiBlbGVtZW50cyBhcHBlYXJcbiAqIHZpc2libGUuIFRoaXMgYWxzbyBiZWNvbWVzIGEgYmlnZ2VyIGlzc3VlIHdoZW4gZGVhbGluZyB3aXRoIENTUyBmcmFtZXdvcmtzLlxuICpcbiAqIEJ5IHVzaW5nIGAhaW1wb3J0YW50YCwgdGhlIHNob3cgYW5kIGhpZGUgYmVoYXZpb3Igd2lsbCB3b3JrIGFzIGV4cGVjdGVkIGRlc3BpdGUgYW55IGNsYXNoIGJldHdlZW5cbiAqIENTUyBzZWxlY3RvciBzcGVjaWZpY2l0eSAod2hlbiBgIWltcG9ydGFudGAgaXNuJ3QgdXNlZCB3aXRoIGFueSBjb25mbGljdGluZyBzdHlsZXMpLiBJZiBhXG4gKiBkZXZlbG9wZXIgY2hvb3NlcyB0byBvdmVycmlkZSB0aGUgc3R5bGluZyB0byBjaGFuZ2UgaG93IHRvIGhpZGUgYW4gZWxlbWVudCB0aGVuIGl0IGlzIGp1c3QgYVxuICogbWF0dGVyIG9mIHVzaW5nIGAhaW1wb3J0YW50YCBpbiB0aGVpciBvd24gQ1NTIGNvZGUuXG4gKlxuICogIyMjIE92ZXJyaWRpbmcgYC5uZy1oaWRlYFxuICpcbiAqIEJ5IGRlZmF1bHQsIHRoZSBgLm5nLWhpZGVgIGNsYXNzIHdpbGwgc3R5bGUgdGhlIGVsZW1lbnQgd2l0aCBgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50YC4gSWYgeW91XG4gKiB3aXNoIHRvIGNoYW5nZSB0aGUgaGlkZSBiZWhhdmlvciB3aXRoIGBuZ1Nob3dgL2BuZ0hpZGVgLCB5b3UgY2FuIHNpbXBseSBvdmVyd3JpdGUgdGhlIHN0eWxlcyBmb3JcbiAqIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcy4gTm90ZSB0aGF0IHRoZSBzZWxlY3RvciB0aGF0IG5lZWRzIHRvIGJlIHVzZWQgaXMgYWN0dWFsbHlcbiAqIGAubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSlgIHRvIGNvcGUgd2l0aCBleHRyYSBhbmltYXRpb24gY2xhc3NlcyB0aGF0IGNhbiBiZSBhZGRlZC5cbiAqXG4gKiBgYGBjc3NcbiAqIC5uZy1oaWRlOm5vdCgubmctaGlkZS1hbmltYXRlKSB7XG4gKiAgIC8mIzQyOyBUaGVzZSBhcmUganVzdCBhbHRlcm5hdGl2ZSB3YXlzIG9mIGhpZGluZyBhbiBlbGVtZW50ICYjNDI7L1xuICogICBkaXNwbGF5OiBibG9jayFpbXBvcnRhbnQ7XG4gKiAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAqICAgdG9wOiAtOTk5OXB4O1xuICogICBsZWZ0OiAtOTk5OXB4O1xuICogfVxuICogYGBgXG4gKlxuICogQnkgZGVmYXVsdCB5b3UgZG9uJ3QgbmVlZCB0byBvdmVycmlkZSBpbiBDU1MgYW55dGhpbmcgYW5kIHRoZSBhbmltYXRpb25zIHdpbGwgd29yayBhcm91bmQgdGhlXG4gKiBkaXNwbGF5IHN0eWxlLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwge0BsaW5rICRhbmltYXRlI2FkZENsYXNzIGFkZENsYXNzfSBgLm5nLWhpZGVgICAgICAgIHwgQWZ0ZXIgdGhlIGBuZ0hpZGVgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSB0aGUgY29udGVudHMgYXJlIHNldCB0byBoaWRkZW4uICB8XG4gKiB8IHtAbGluayAkYW5pbWF0ZSNyZW1vdmVDbGFzcyByZW1vdmVDbGFzc30gYC5uZy1oaWRlYCB8IEFmdGVyIHRoZSBgbmdIaWRlYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIG5vbiB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIGNvbnRlbnRzIGFyZSBzZXQgdG8gdmlzaWJsZS4gfFxuICpcbiAqIEFuaW1hdGlvbnMgaW4gYG5nU2hvd2AvYG5nSGlkZWAgd29yayB3aXRoIHRoZSBzaG93IGFuZCBoaWRlIGV2ZW50cyB0aGF0IGFyZSB0cmlnZ2VyZWQgd2hlbiB0aGVcbiAqIGRpcmVjdGl2ZSBleHByZXNzaW9uIGlzIHRydWUgYW5kIGZhbHNlLiBUaGlzIHN5c3RlbSB3b3JrcyBsaWtlIHRoZSBhbmltYXRpb24gc3lzdGVtIHByZXNlbnQgd2l0aFxuICogYG5nQ2xhc3NgIGV4Y2VwdCB0aGF0IHlvdSBtdXN0IGFsc28gaW5jbHVkZSB0aGUgYCFpbXBvcnRhbnRgIGZsYWcgdG8gb3ZlcnJpZGUgdGhlIGRpc3BsYXlcbiAqIHByb3BlcnR5IHNvIHRoYXQgdGhlIGVsZW1lbnRzIGFyZSBub3QgYWN0dWFsbHkgaGlkZGVuIGR1cmluZyB0aGUgYW5pbWF0aW9uLlxuICpcbiAqIGBgYGNzc1xuICogLyYjNDI7IEEgd29ya2luZyBleGFtcGxlIGNhbiBiZSBmb3VuZCBhdCB0aGUgYm90dG9tIG9mIHRoaXMgcGFnZS4gJiM0MjsvXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZCwgLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUge1xuICogICB0cmFuc2l0aW9uOiBhbGwgMC41cyBsaW5lYXI7XG4gKiB9XG4gKlxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQgeyAuLi4gfVxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQubmctaGlkZS1hZGQtYWN0aXZlIHsgLi4uIH1cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHsgLi4uIH1cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlLm5nLWhpZGUtcmVtb3ZlLWFjdGl2ZSB7IC4uLiB9XG4gKiBgYGBcbiAqXG4gKiBLZWVwIGluIG1pbmQgdGhhdCwgYXMgb2YgQW5ndWxhckpTIHZlcnNpb24gMS4zLCB0aGVyZSBpcyBubyBuZWVkIHRvIGNoYW5nZSB0aGUgZGlzcGxheSBwcm9wZXJ0eVxuICogdG8gYmxvY2sgZHVyaW5nIGFuaW1hdGlvbiBzdGF0ZXMgLSBuZ0FuaW1hdGUgd2lsbCBhdXRvbWF0aWNhbGx5IGhhbmRsZSB0aGUgc3R5bGUgdG9nZ2xpbmcgZm9yIHlvdS5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdIaWRlIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHkvZmFsc3kgdGhlbiB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgaXMgaGlkZGVuL3Nob3duIHJlc3BlY3RpdmVseS5cbiAqXG4gKiBAZXhhbXBsZVxuICogQSBzaW1wbGUgZXhhbXBsZSwgYW5pbWF0aW5nIHRoZSBlbGVtZW50J3Mgb3BhY2l0eTpcbiAqXG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIG5hbWU9XCJuZy1oaWRlLXNpbXBsZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICBIaWRlOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCIgYXJpYS1sYWJlbD1cIlRvZ2dsZSBuZ0hpZGVcIj48YnIgLz5cbiAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGFuaW1hdGUtc2hvdy1oaWRlXCIgbmctaGlkZT1cImNoZWNrZWRcIj5cbiAgICAgICAgSSBoaWRlIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmFuaW1hdGUtc2hvdy1oaWRlLm5nLWhpZGUge1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1zaG93LWhpZGUubmctaGlkZS1hZGQsXG4gICAgICAuYW5pbWF0ZS1zaG93LWhpZGUubmctaGlkZS1yZW1vdmUge1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgbGluZWFyIDAuNXM7XG4gICAgICB9XG5cbiAgICAgIC5jaGVjay1lbGVtZW50IHtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICB9XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmdIaWRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjaGVja2JveCA9IGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSk7XG4gICAgICAgIHZhciBjaGVja0VsZW0gPSBlbGVtZW50KGJ5LmNzcygnLmNoZWNrLWVsZW1lbnQnKSk7XG5cbiAgICAgICAgZXhwZWN0KGNoZWNrRWxlbS5pc0Rpc3BsYXllZCgpKS50b0JlKHRydWUpO1xuICAgICAgICBjaGVja2JveC5jbGljaygpO1xuICAgICAgICBleHBlY3QoY2hlY2tFbGVtLmlzRGlzcGxheWVkKCkpLnRvQmUoZmFsc2UpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKlxuICogPGhyIC8+XG4gKiBAZXhhbXBsZVxuICogQSBtb3JlIGNvbXBsZXggZXhhbXBsZSwgZmVhdHVyaW5nIGRpZmZlcmVudCBzaG93L2hpZGUgYW5pbWF0aW9uczpcbiAqXG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIG5hbWU9XCJuZy1oaWRlLWNvbXBsZXhcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgSGlkZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiIGFyaWEtbGFiZWw9XCJUb2dnbGUgbmdIaWRlXCI+PGJyIC8+XG4gICAgICA8ZGl2IGNsYXNzPVwiY2hlY2stZWxlbWVudCBmdW5reS1zaG93LWhpZGVcIiBuZy1oaWRlPVwiY2hlY2tlZFwiPlxuICAgICAgICBJIGhpZGUgd2hlbiB5b3VyIGNoZWNrYm94IGlzIGNoZWNrZWQuXG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICBib2R5IHtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgcGVyc3BlY3RpdmU6IDEwMDBweDtcbiAgICAgIH1cblxuICAgICAgLmZ1bmt5LXNob3ctaGlkZS5uZy1oaWRlLWFkZCB7XG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlWigwKTtcbiAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQ7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjVzIGVhc2UtaW4tb3V0O1xuICAgICAgfVxuXG4gICAgICAuZnVua3ktc2hvdy1oaWRlLm5nLWhpZGUtYWRkLm5nLWhpZGUtYWRkLWFjdGl2ZSB7XG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlWigtMTM1ZGVnKTtcbiAgICAgIH1cblxuICAgICAgLmZ1bmt5LXNob3ctaGlkZS5uZy1oaWRlLXJlbW92ZSB7XG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlWSg5MGRlZyk7XG4gICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQ7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjVzIGVhc2U7XG4gICAgICB9XG5cbiAgICAgIC5mdW5reS1zaG93LWhpZGUubmctaGlkZS1yZW1vdmUubmctaGlkZS1yZW1vdmUtYWN0aXZlIHtcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGVZKDApO1xuICAgICAgfVxuXG4gICAgICAuY2hlY2stZWxlbWVudCB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nSGlkZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2hlY2tib3ggPSBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpO1xuICAgICAgICB2YXIgY2hlY2tFbGVtID0gZWxlbWVudChieS5jc3MoJy5jaGVjay1lbGVtZW50JykpO1xuXG4gICAgICAgIGV4cGVjdChjaGVja0VsZW0uaXNEaXNwbGF5ZWQoKSkudG9CZSh0cnVlKTtcbiAgICAgICAgY2hlY2tib3guY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGNoZWNrRWxlbS5pc0Rpc3BsYXllZCgpKS50b0JlKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICpcbiAqIEBrbm93bklzc3VlXG4gKlxuICogIyMjIEZsaWNrZXJpbmcgd2hlbiB1c2luZyBuZ0hpZGUgdG8gdG9nZ2xlIGJldHdlZW4gZWxlbWVudHNcbiAqXG4gKiBXaGVuIHVzaW5nIHtAbGluayBuZ1Nob3d9IGFuZCAvIG9yIHtAbGluayBuZ0hpZGV9IHRvIHRvZ2dsZSBiZXR3ZWVuIGVsZW1lbnRzLCBpdCBjYW5cbiAqIGhhcHBlbiB0aGF0IGJvdGggdGhlIGVsZW1lbnQgdG8gc2hvdyBhbmQgdGhlIGVsZW1lbnQgdG8gaGlkZSBhcmUgdmlzaWJsZSBmb3IgYSB2ZXJ5IHNob3J0IHRpbWUuXG4gKlxuICogVGhpcyB1c3VhbGx5IGhhcHBlbnMgd2hlbiB0aGUge0BsaW5rIG5nQW5pbWF0ZSBuZ0FuaW1hdGUgbW9kdWxlfSBpcyBpbmNsdWRlZCwgYnV0IG5vIGFjdHVhbCBhbmltYXRpb25zXG4gKiBhcmUgZGVmaW5lZCBmb3Ige0BsaW5rIG5nU2hvd30gLyB7QGxpbmsgbmdIaWRlfS4gSW50ZXJuZXQgRXhwbG9yZXIgaXMgYWZmZWN0ZWQgbW9yZSBvZnRlbiB0aGFuXG4gKiBvdGhlciBicm93c2Vycy5cbiAqXG4gKiBUaGVyZSBhcmUgc2V2ZXJhbCB3YXkgdG8gbWl0aWdhdGUgdGhpcyBwcm9ibGVtOlxuICpcbiAqIC0ge0BsaW5rIGd1aWRlL2FuaW1hdGlvbnMjaG93LXRvLXNlbGVjdGl2ZWx5LWVuYWJsZS1kaXNhYmxlLWFuZC1za2lwLWFuaW1hdGlvbnMgRGlzYWJsZSBhbmltYXRpb25zIG9uIHRoZSBhZmZlY3RlZCBlbGVtZW50c30uXG4gKiAtIFVzZSB7QGxpbmsgbmdJZn0gb3Ige0BsaW5rIG5nU3dpdGNofSBpbnN0ZWFkIG9mIHtAbGluayBuZ1Nob3d9IC8ge0BsaW5rIG5nSGlkZX0uXG4gKiAtIFVzZSB0aGUgc3BlY2lhbCBDU1Mgc2VsZWN0b3IgYG5nLWhpZGUubmctaGlkZS1hbmltYXRlYCB0byBzZXQgYHtkaXNwbGF5OiBub25lfWAgb3Igc2ltaWxhciBvbiB0aGUgYWZmZWN0ZWQgZWxlbWVudHMuXG4gKiAtIFVzZSBgbmctY2xhc3M9XCJ7J25nLWhpZGUnOiBleHByZXNzaW9ufWAgaW5zdGVhZCBvZiBpbnN0ZWFkIG9mIHtAbGluayBuZ1Nob3d9IC8ge0BsaW5rIG5nSGlkZX0uXG4gKiAtIERlZmluZSBhbiBhbmltYXRpb24gb24gdGhlIGFmZmVjdGVkIGVsZW1lbnRzLlxuICovXG52YXIgbmdIaWRlRGlyZWN0aXZlID0gWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nSGlkZSwgZnVuY3Rpb24gbmdIaWRlV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgLy8gVGhlIGNvbW1lbnQgaW5zaWRlIG9mIHRoZSBuZ1Nob3dEaXJlY3RpdmUgZXhwbGFpbnMgd2h5IHdlIGFkZCBhbmRcbiAgICAgICAgLy8gcmVtb3ZlIGEgdGVtcG9yYXJ5IGNsYXNzIGZvciB0aGUgc2hvdy9oaWRlIGFuaW1hdGlvblxuICAgICAgICAkYW5pbWF0ZVt2YWx1ZSA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShlbGVtZW50LE5HX0hJREVfQ0xBU1MsIHtcbiAgICAgICAgICB0ZW1wQ2xhc3NlczogTkdfSElERV9JTl9QUk9HUkVTU19DTEFTU1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU3R5bGVcbiAqIEByZXN0cmljdCBBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ1N0eWxlYCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzZXQgQ1NTIHN0eWxlIG9uIGFuIEhUTUwgZWxlbWVudCBjb25kaXRpb25hbGx5LlxuICpcbiAqIEBrbm93bklzc3VlXG4gKiBZb3Ugc2hvdWxkIG5vdCB1c2Uge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbn0gaW4gdGhlIHZhbHVlIG9mIHRoZSBgc3R5bGVgXG4gKiBhdHRyaWJ1dGUsIHdoZW4gdXNpbmcgdGhlIGBuZ1N0eWxlYCBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudC5cbiAqIFNlZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiNrbm93bi1pc3N1ZXMgaGVyZX0gZm9yIG1vcmUgaW5mby5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdTdHlsZVxuICpcbiAqIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHdoaWNoIGV2YWxzIHRvIGFuXG4gKiBvYmplY3Qgd2hvc2Uga2V5cyBhcmUgQ1NTIHN0eWxlIG5hbWVzIGFuZCB2YWx1ZXMgYXJlIGNvcnJlc3BvbmRpbmcgdmFsdWVzIGZvciB0aG9zZSBDU1NcbiAqIGtleXMuXG4gKlxuICogU2luY2Ugc29tZSBDU1Mgc3R5bGUgbmFtZXMgYXJlIG5vdCB2YWxpZCBrZXlzIGZvciBhbiBvYmplY3QsIHRoZXkgbXVzdCBiZSBxdW90ZWQuXG4gKiBTZWUgdGhlICdiYWNrZ3JvdW5kLWNvbG9yJyBzdHlsZSBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLXN0eWxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJzZXQgY29sb3JcIiBuZy1jbGljaz1cIm15U3R5bGU9e2NvbG9yOidyZWQnfVwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwic2V0IGJhY2tncm91bmRcIiBuZy1jbGljaz1cIm15U3R5bGU9eydiYWNrZ3JvdW5kLWNvbG9yJzonYmx1ZSd9XCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJjbGVhclwiIG5nLWNsaWNrPVwibXlTdHlsZT17fVwiPlxuICAgICAgICA8YnIvPlxuICAgICAgICA8c3BhbiBuZy1zdHlsZT1cIm15U3R5bGVcIj5TYW1wbGUgVGV4dDwvc3Bhbj5cbiAgICAgICAgPHByZT5teVN0eWxlPXt7bXlTdHlsZX19PC9wcmU+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIHNwYW4ge1xuICAgICAgICAgY29sb3I6IGJsYWNrO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIGNvbG9yU3BhbiA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuJykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1zdHlsZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGNvbG9yU3Bhbi5nZXRDc3NWYWx1ZSgnY29sb3InKSkudG9CZSgncmdiYSgwLCAwLCAwLCAxKScpO1xuICAgICAgICAgZWxlbWVudChieS5jc3MoJ2lucHV0W3ZhbHVlPVxcJ3NldCBjb2xvclxcJ10nKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChjb2xvclNwYW4uZ2V0Q3NzVmFsdWUoJ2NvbG9yJykpLnRvQmUoJ3JnYmEoMjU1LCAwLCAwLCAxKScpO1xuICAgICAgICAgZWxlbWVudChieS5jc3MoJ2lucHV0W3ZhbHVlPWNsZWFyXScpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KGNvbG9yU3Bhbi5nZXRDc3NWYWx1ZSgnY29sb3InKSkudG9CZSgncmdiYSgwLCAwLCAwLCAxKScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ1N0eWxlRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihhdHRyLm5nU3R5bGUsIGZ1bmN0aW9uIG5nU3R5bGVXYXRjaEFjdGlvbihuZXdTdHlsZXMsIG9sZFN0eWxlcykge1xuICAgIGlmIChvbGRTdHlsZXMgJiYgKG5ld1N0eWxlcyAhPT0gb2xkU3R5bGVzKSkge1xuICAgICAgaWYgKCFuZXdTdHlsZXMpIHtcbiAgICAgICAgbmV3U3R5bGVzID0ge307XG4gICAgICB9XG4gICAgICBmb3JFYWNoKG9sZFN0eWxlcywgZnVuY3Rpb24odmFsLCBzdHlsZSkge1xuICAgICAgICBpZiAobmV3U3R5bGVzW3N0eWxlXSA9PSBudWxsKSB7XG4gICAgICAgICAgbmV3U3R5bGVzW3N0eWxlXSA9ICcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKG5ld1N0eWxlcykgZWxlbWVudC5jc3MobmV3U3R5bGVzKTtcbiAgfSk7XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1N3aXRjaFxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nU3dpdGNoYCBkaXJlY3RpdmUgaXMgdXNlZCB0byBjb25kaXRpb25hbGx5IHN3YXAgRE9NIHN0cnVjdHVyZSBvbiB5b3VyIHRlbXBsYXRlIGJhc2VkIG9uIGEgc2NvcGUgZXhwcmVzc2lvbi5cbiAqIEVsZW1lbnRzIHdpdGhpbiBgbmdTd2l0Y2hgIGJ1dCB3aXRob3V0IGBuZ1N3aXRjaFdoZW5gIG9yIGBuZ1N3aXRjaERlZmF1bHRgIGRpcmVjdGl2ZXMgd2lsbCBiZSBwcmVzZXJ2ZWQgYXQgdGhlIGxvY2F0aW9uXG4gKiBhcyBzcGVjaWZpZWQgaW4gdGhlIHRlbXBsYXRlLlxuICpcbiAqIFRoZSBkaXJlY3RpdmUgaXRzZWxmIHdvcmtzIHNpbWlsYXIgdG8gbmdJbmNsdWRlLCBob3dldmVyLCBpbnN0ZWFkIG9mIGRvd25sb2FkaW5nIHRlbXBsYXRlIGNvZGUgKG9yIGxvYWRpbmcgaXRcbiAqIGZyb20gdGhlIHRlbXBsYXRlIGNhY2hlKSwgYG5nU3dpdGNoYCBzaW1wbHkgY2hvb3NlcyBvbmUgb2YgdGhlIG5lc3RlZCBlbGVtZW50cyBhbmQgbWFrZXMgaXQgdmlzaWJsZSBiYXNlZCBvbiB3aGljaCBlbGVtZW50XG4gKiBtYXRjaGVzIHRoZSB2YWx1ZSBvYnRhaW5lZCBmcm9tIHRoZSBldmFsdWF0ZWQgZXhwcmVzc2lvbi4gSW4gb3RoZXIgd29yZHMsIHlvdSBkZWZpbmUgYSBjb250YWluZXIgZWxlbWVudFxuICogKHdoZXJlIHlvdSBwbGFjZSB0aGUgZGlyZWN0aXZlKSwgcGxhY2UgYW4gZXhwcmVzc2lvbiBvbiB0aGUgKipgb249XCIuLi5cImAgYXR0cmlidXRlKipcbiAqIChvciB0aGUgKipgbmctc3dpdGNoPVwiLi4uXCJgIGF0dHJpYnV0ZSoqKSwgZGVmaW5lIGFueSBpbm5lciBlbGVtZW50cyBpbnNpZGUgb2YgdGhlIGRpcmVjdGl2ZSBhbmQgcGxhY2VcbiAqIGEgd2hlbiBhdHRyaWJ1dGUgcGVyIGVsZW1lbnQuIFRoZSB3aGVuIGF0dHJpYnV0ZSBpcyB1c2VkIHRvIGluZm9ybSBuZ1N3aXRjaCB3aGljaCBlbGVtZW50IHRvIGRpc3BsYXkgd2hlbiB0aGUgb25cbiAqIGV4cHJlc3Npb24gaXMgZXZhbHVhdGVkLiBJZiBhIG1hdGNoaW5nIGV4cHJlc3Npb24gaXMgbm90IGZvdW5kIHZpYSBhIHdoZW4gYXR0cmlidXRlIHRoZW4gYW4gZWxlbWVudCB3aXRoIHRoZSBkZWZhdWx0XG4gKiBhdHRyaWJ1dGUgaXMgZGlzcGxheWVkLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiBCZSBhd2FyZSB0aGF0IHRoZSBhdHRyaWJ1dGUgdmFsdWVzIHRvIG1hdGNoIGFnYWluc3QgY2Fubm90IGJlIGV4cHJlc3Npb25zLiBUaGV5IGFyZSBpbnRlcnByZXRlZFxuICogYXMgbGl0ZXJhbCBzdHJpbmcgdmFsdWVzIHRvIG1hdGNoIGFnYWluc3QuXG4gKiBGb3IgZXhhbXBsZSwgKipgbmctc3dpdGNoLXdoZW49XCJzb21lVmFsXCJgKiogd2lsbCBtYXRjaCBhZ2FpbnN0IHRoZSBzdHJpbmcgYFwic29tZVZhbFwiYCBub3QgYWdhaW5zdCB0aGVcbiAqIHZhbHVlIG9mIHRoZSBleHByZXNzaW9uIGAkc2NvcGUuc29tZVZhbGAuXG4gKiA8L2Rpdj5cblxuICogQGFuaW1hdGlvbnNcbiAqIHwgQW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgfCBPY2N1cnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjZW50ZXIgZW50ZXJ9ICB8IGFmdGVyIHRoZSBuZ1N3aXRjaCBjb250ZW50cyBjaGFuZ2UgYW5kIHRoZSBtYXRjaGVkIGNoaWxkIGVsZW1lbnQgaXMgcGxhY2VkIGluc2lkZSB0aGUgY29udGFpbmVyIHxcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2xlYXZlIGxlYXZlfSAgfCBhZnRlciB0aGUgbmdTd2l0Y2ggY29udGVudHMgY2hhbmdlIGFuZCBqdXN0IGJlZm9yZSB0aGUgZm9ybWVyIGNvbnRlbnRzIGFyZSByZW1vdmVkIGZyb20gdGhlIERPTSB8XG4gKlxuICogQHVzYWdlXG4gKlxuICogYGBgXG4gKiA8QU5ZIG5nLXN3aXRjaD1cImV4cHJlc3Npb25cIj5cbiAqICAgPEFOWSBuZy1zd2l0Y2gtd2hlbj1cIm1hdGNoVmFsdWUxXCI+Li4uPC9BTlk+XG4gKiAgIDxBTlkgbmctc3dpdGNoLXdoZW49XCJtYXRjaFZhbHVlMlwiPi4uLjwvQU5ZPlxuICogICA8QU5ZIG5nLXN3aXRjaC1kZWZhdWx0Pi4uLjwvQU5ZPlxuICogPC9BTlk+XG4gKiBgYGBcbiAqXG4gKlxuICogQHNjb3BlXG4gKiBAcHJpb3JpdHkgMTIwMFxuICogQHBhcmFtIHsqfSBuZ1N3aXRjaHxvbiBleHByZXNzaW9uIHRvIG1hdGNoIGFnYWluc3QgPGNvZGU+bmctc3dpdGNoLXdoZW48L2NvZGU+LlxuICogT24gY2hpbGQgZWxlbWVudHMgYWRkOlxuICpcbiAqICogYG5nU3dpdGNoV2hlbmA6IHRoZSBjYXNlIHN0YXRlbWVudCB0byBtYXRjaCBhZ2FpbnN0LiBJZiBtYXRjaCB0aGVuIHRoaXNcbiAqICAgY2FzZSB3aWxsIGJlIGRpc3BsYXllZC4gSWYgdGhlIHNhbWUgbWF0Y2ggYXBwZWFycyBtdWx0aXBsZSB0aW1lcywgYWxsIHRoZVxuICogICBlbGVtZW50cyB3aWxsIGJlIGRpc3BsYXllZC4gSXQgaXMgcG9zc2libGUgdG8gYXNzb2NpYXRlIG11bHRpcGxlIHZhbHVlcyB0b1xuICogICB0aGUgc2FtZSBgbmdTd2l0Y2hXaGVuYCBieSBkZWZpbmluZyB0aGUgb3B0aW9uYWwgYXR0cmlidXRlXG4gKiAgIGBuZ1N3aXRjaFdoZW5TZXBhcmF0b3JgLiBUaGUgc2VwYXJhdG9yIHdpbGwgYmUgdXNlZCB0byBzcGxpdCB0aGUgdmFsdWUgb2ZcbiAqICAgdGhlIGBuZ1N3aXRjaFdoZW5gIGF0dHJpYnV0ZSBpbnRvIG11bHRpcGxlIHRva2VucywgYW5kIHRoZSBlbGVtZW50IHdpbGwgc2hvd1xuICogICBpZiBhbnkgb2YgdGhlIGBuZ1N3aXRjaGAgZXZhbHVhdGVzIHRvIGFueSBvZiB0aGVzZSB0b2tlbnMuXG4gKiAqIGBuZ1N3aXRjaERlZmF1bHRgOiB0aGUgZGVmYXVsdCBjYXNlIHdoZW4gbm8gb3RoZXIgY2FzZSBtYXRjaC4gSWYgdGhlcmVcbiAqICAgYXJlIG11bHRpcGxlIGRlZmF1bHQgY2FzZXMsIGFsbCBvZiB0aGVtIHdpbGwgYmUgZGlzcGxheWVkIHdoZW4gbm8gb3RoZXJcbiAqICAgY2FzZSBtYXRjaC5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgbW9kdWxlPVwic3dpdGNoRXhhbXBsZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIG5hbWU9XCJuZy1zd2l0Y2hcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cInNlbGVjdGlvblwiIG5nLW9wdGlvbnM9XCJpdGVtIGZvciBpdGVtIGluIGl0ZW1zXCI+XG4gICAgICAgIDwvc2VsZWN0PlxuICAgICAgICA8Y29kZT5zZWxlY3Rpb249e3tzZWxlY3Rpb259fTwvY29kZT5cbiAgICAgICAgPGhyLz5cbiAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3dpdGNoLWNvbnRhaW5lclwiXG4gICAgICAgICAgbmctc3dpdGNoIG9uPVwic2VsZWN0aW9uXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zd2l0Y2hcIiBuZy1zd2l0Y2gtd2hlbj1cInNldHRpbmdzfG9wdGlvbnNcIiBuZy1zd2l0Y2gtd2hlbi1zZXBhcmF0b3I9XCJ8XCI+U2V0dGluZ3MgRGl2PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zd2l0Y2hcIiBuZy1zd2l0Y2gtd2hlbj1cImhvbWVcIj5Ib21lIFNwYW48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaFwiIG5nLXN3aXRjaC1kZWZhdWx0PmRlZmF1bHQ8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ3N3aXRjaEV4YW1wbGUnLCBbJ25nQW5pbWF0ZSddKVxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS5pdGVtcyA9IFsnc2V0dGluZ3MnLCAnaG9tZScsICdvcHRpb25zJywgJ290aGVyJ107XG4gICAgICAgICAgJHNjb3BlLnNlbGVjdGlvbiA9ICRzY29wZS5pdGVtc1swXTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5hbmltYXRlLXN3aXRjaC1jb250YWluZXIge1xuICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcbiAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTtcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcbiAgICAgICAgaGVpZ2h0OjQwcHg7XG4gICAgICAgIG92ZXJmbG93OmhpZGRlbjtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtc3dpdGNoIHtcbiAgICAgICAgcGFkZGluZzoxMHB4O1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctYW5pbWF0ZSB7XG4gICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcblxuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgdG9wOjA7XG4gICAgICAgIGxlZnQ6MDtcbiAgICAgICAgcmlnaHQ6MDtcbiAgICAgICAgYm90dG9tOjA7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUsXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctZW50ZXIge1xuICAgICAgICB0b3A6LTUwcHg7XG4gICAgICB9XG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctbGVhdmUsXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAgICAgICAgdG9wOjA7XG4gICAgICB9XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciBzd2l0Y2hFbGVtID0gZWxlbWVudChieS5jc3MoJ1tuZy1zd2l0Y2hdJykpO1xuICAgICAgdmFyIHNlbGVjdCA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlbGVjdGlvbicpKTtcblxuICAgICAgaXQoJ3Nob3VsZCBzdGFydCBpbiBzZXR0aW5ncycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3Qoc3dpdGNoRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL1NldHRpbmdzIERpdi8pO1xuICAgICAgfSk7XG4gICAgICBpdCgnc2hvdWxkIGNoYW5nZSB0byBob21lJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDEpLmNsaWNrKCk7XG4gICAgICAgIGV4cGVjdChzd2l0Y2hFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvSG9tZSBTcGFuLyk7XG4gICAgICB9KTtcbiAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHRvIHNldHRpbmdzIHZpYSBcIm9wdGlvbnNcIicsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgyKS5jbGljaygpO1xuICAgICAgICBleHBlY3Qoc3dpdGNoRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL1NldHRpbmdzIERpdi8pO1xuICAgICAgfSk7XG4gICAgICBpdCgnc2hvdWxkIHNlbGVjdCBkZWZhdWx0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDMpLmNsaWNrKCk7XG4gICAgICAgIGV4cGVjdChzd2l0Y2hFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvZGVmYXVsdC8pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ1N3aXRjaERpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbigkYW5pbWF0ZSwgJGNvbXBpbGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnbmdTd2l0Y2gnLFxuXG4gICAgLy8gYXNrcyBmb3IgJHNjb3BlIHRvIGZvb2wgdGhlIEJDIGNvbnRyb2xsZXIgbW9kdWxlXG4gICAgY29udHJvbGxlcjogWyckc2NvcGUnLCBmdW5jdGlvbiBOZ1N3aXRjaENvbnRyb2xsZXIoKSB7XG4gICAgIHRoaXMuY2FzZXMgPSB7fTtcbiAgICB9XSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgbmdTd2l0Y2hDb250cm9sbGVyKSB7XG4gICAgICB2YXIgd2F0Y2hFeHByID0gYXR0ci5uZ1N3aXRjaCB8fCBhdHRyLm9uLFxuICAgICAgICAgIHNlbGVjdGVkVHJhbnNjbHVkZXMgPSBbXSxcbiAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzID0gW10sXG4gICAgICAgICAgcHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMgPSBbXSxcbiAgICAgICAgICBzZWxlY3RlZFNjb3BlcyA9IFtdO1xuXG4gICAgICB2YXIgc3BsaWNlRmFjdG9yeSA9IGZ1bmN0aW9uKGFycmF5LCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlICE9PSBmYWxzZSkgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICB9O1xuICAgICAgfTtcblxuICAgICAgc2NvcGUuJHdhdGNoKHdhdGNoRXhwciwgZnVuY3Rpb24gbmdTd2l0Y2hXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgaSwgaWk7XG5cbiAgICAgICAgLy8gU3RhcnQgd2l0aCB0aGUgbGFzdCwgaW4gY2FzZSB0aGUgYXJyYXkgaXMgbW9kaWZpZWQgZHVyaW5nIHRoZSBsb29wXG4gICAgICAgIHdoaWxlIChwcmV2aW91c0xlYXZlQW5pbWF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAkYW5pbWF0ZS5jYW5jZWwocHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMucG9wKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBzZWxlY3RlZFNjb3Blcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgdmFyIHNlbGVjdGVkID0gZ2V0QmxvY2tOb2RlcyhzZWxlY3RlZEVsZW1lbnRzW2ldLmNsb25lKTtcbiAgICAgICAgICBzZWxlY3RlZFNjb3Blc1tpXS4kZGVzdHJveSgpO1xuICAgICAgICAgIHZhciBydW5uZXIgPSBwcmV2aW91c0xlYXZlQW5pbWF0aW9uc1tpXSA9ICRhbmltYXRlLmxlYXZlKHNlbGVjdGVkKTtcbiAgICAgICAgICBydW5uZXIuZG9uZShzcGxpY2VGYWN0b3J5KHByZXZpb3VzTGVhdmVBbmltYXRpb25zLCBpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHNlbGVjdGVkU2NvcGVzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgaWYgKChzZWxlY3RlZFRyYW5zY2x1ZGVzID0gbmdTd2l0Y2hDb250cm9sbGVyLmNhc2VzWychJyArIHZhbHVlXSB8fCBuZ1N3aXRjaENvbnRyb2xsZXIuY2FzZXNbJz8nXSkpIHtcbiAgICAgICAgICBmb3JFYWNoKHNlbGVjdGVkVHJhbnNjbHVkZXMsIGZ1bmN0aW9uKHNlbGVjdGVkVHJhbnNjbHVkZSkge1xuICAgICAgICAgICAgc2VsZWN0ZWRUcmFuc2NsdWRlLnRyYW5zY2x1ZGUoZnVuY3Rpb24oY2FzZUVsZW1lbnQsIHNlbGVjdGVkU2NvcGUpIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWRTY29wZXMucHVzaChzZWxlY3RlZFNjb3BlKTtcbiAgICAgICAgICAgICAgdmFyIGFuY2hvciA9IHNlbGVjdGVkVHJhbnNjbHVkZS5lbGVtZW50O1xuICAgICAgICAgICAgICBjYXNlRWxlbWVudFtjYXNlRWxlbWVudC5sZW5ndGgrK10gPSAkY29tcGlsZS4kJGNyZWF0ZUNvbW1lbnQoJ2VuZCBuZ1N3aXRjaFdoZW4nKTtcbiAgICAgICAgICAgICAgdmFyIGJsb2NrID0geyBjbG9uZTogY2FzZUVsZW1lbnQgfTtcblxuICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzLnB1c2goYmxvY2spO1xuICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjYXNlRWxlbWVudCwgYW5jaG9yLnBhcmVudCgpLCBhbmNob3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dO1xuXG52YXIgbmdTd2l0Y2hXaGVuRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xuICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gIHByaW9yaXR5OiAxMjAwLFxuICByZXF1aXJlOiAnXm5nU3dpdGNoJyxcbiAgbXVsdGlFbGVtZW50OiB0cnVlLFxuICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwsICR0cmFuc2NsdWRlKSB7XG5cbiAgICB2YXIgY2FzZXMgPSBhdHRycy5uZ1N3aXRjaFdoZW4uc3BsaXQoYXR0cnMubmdTd2l0Y2hXaGVuU2VwYXJhdG9yKS5zb3J0KCkuZmlsdGVyKFxuICAgICAgLy8gRmlsdGVyIGR1cGxpY2F0ZSBjYXNlc1xuICAgICAgZnVuY3Rpb24oZWxlbWVudCwgaW5kZXgsIGFycmF5KSB7IHJldHVybiBhcnJheVtpbmRleCAtIDFdICE9PSBlbGVtZW50OyB9XG4gICAgKTtcblxuICAgIGZvckVhY2goY2FzZXMsIGZ1bmN0aW9uKHdoZW5DYXNlKSB7XG4gICAgICBjdHJsLmNhc2VzWychJyArIHdoZW5DYXNlXSA9IChjdHJsLmNhc2VzWychJyArIHdoZW5DYXNlXSB8fCBbXSk7XG4gICAgICBjdHJsLmNhc2VzWychJyArIHdoZW5DYXNlXS5wdXNoKHsgdHJhbnNjbHVkZTogJHRyYW5zY2x1ZGUsIGVsZW1lbnQ6IGVsZW1lbnQgfSk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG52YXIgbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xuICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gIHByaW9yaXR5OiAxMjAwLFxuICByZXF1aXJlOiAnXm5nU3dpdGNoJyxcbiAgbXVsdGlFbGVtZW50OiB0cnVlLFxuICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcbiAgICBjdHJsLmNhc2VzWyc/J10gPSAoY3RybC5jYXNlc1snPyddIHx8IFtdKTtcbiAgICBjdHJsLmNhc2VzWyc/J10ucHVzaCh7IHRyYW5zY2x1ZGU6ICR0cmFuc2NsdWRlLCBlbGVtZW50OiBlbGVtZW50IH0pO1xuICAgfVxufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdUcmFuc2NsdWRlXG4gKiBAcmVzdHJpY3QgRUFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEaXJlY3RpdmUgdGhhdCBtYXJrcyB0aGUgaW5zZXJ0aW9uIHBvaW50IGZvciB0aGUgdHJhbnNjbHVkZWQgRE9NIG9mIHRoZSBuZWFyZXN0IHBhcmVudCBkaXJlY3RpdmUgdGhhdCB1c2VzIHRyYW5zY2x1c2lvbi5cbiAqXG4gKiBZb3UgY2FuIHNwZWNpZnkgdGhhdCB5b3Ugd2FudCB0byBpbnNlcnQgYSBuYW1lZCB0cmFuc2NsdXNpb24gc2xvdCwgaW5zdGVhZCBvZiB0aGUgZGVmYXVsdCBzbG90LCBieSBwcm92aWRpbmcgdGhlIHNsb3QgbmFtZVxuICogYXMgdGhlIHZhbHVlIG9mIHRoZSBgbmctdHJhbnNjbHVkZWAgb3IgYG5nLXRyYW5zY2x1ZGUtc2xvdGAgYXR0cmlidXRlLlxuICpcbiAqIElmIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGlzIG5vdCBlbXB0eSAoaS5lLiBjb250YWlucyBvbmUgb3IgbW9yZSBET00gbm9kZXMsIGluY2x1ZGluZyB3aGl0ZXNwYWNlIHRleHQgbm9kZXMpLCBhbnkgZXhpc3RpbmdcbiAqIGNvbnRlbnQgb2YgdGhpcyBlbGVtZW50IHdpbGwgYmUgcmVtb3ZlZCBiZWZvcmUgdGhlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaXMgaW5zZXJ0ZWQuXG4gKiBJZiB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBpcyBlbXB0eSAob3Igb25seSB3aGl0ZXNwYWNlKSwgdGhlIGV4aXN0aW5nIGNvbnRlbnQgaXMgbGVmdCBpbnRhY3QuIFRoaXMgbGV0cyB5b3UgcHJvdmlkZSBmYWxsYmFja1xuICogY29udGVudCBpbiB0aGUgY2FzZSB0aGF0IG5vIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaXMgcHJvdmlkZWQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nVHJhbnNjbHVkZXxuZ1RyYW5zY2x1ZGVTbG90IHRoZSBuYW1lIG9mIHRoZSBzbG90IHRvIGluc2VydCBhdCB0aGlzIHBvaW50LiBJZiB0aGlzIGlzIG5vdCBwcm92aWRlZCwgaXMgZW1wdHlcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBpdHMgdmFsdWUgaXMgdGhlIHNhbWUgYXMgdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0aGVuIHRoZSBkZWZhdWx0IHNsb3QgaXMgdXNlZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIEJhc2ljIHRyYW5zY2x1c2lvblxuICogVGhpcyBleGFtcGxlIGRlbW9uc3RyYXRlcyBiYXNpYyB0cmFuc2NsdXNpb24gb2YgY29udGVudCBpbnRvIGEgY29tcG9uZW50IGRpcmVjdGl2ZS5cbiAqIDxleGFtcGxlIG5hbWU9XCJzaW1wbGVUcmFuc2NsdWRlRXhhbXBsZVwiIG1vZHVsZT1cInRyYW5zY2x1ZGVFeGFtcGxlXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICAgPHNjcmlwdD5cbiAqICAgICAgIGFuZ3VsYXIubW9kdWxlKCd0cmFuc2NsdWRlRXhhbXBsZScsIFtdKVxuICogICAgICAgIC5kaXJlY3RpdmUoJ3BhbmUnLCBmdW5jdGlvbigpe1xuICogICAgICAgICAgIHJldHVybiB7XG4gKiAgICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICogICAgICAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAqICAgICAgICAgICAgIHNjb3BlOiB7IHRpdGxlOidAJyB9LFxuICogICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XCI+JyArXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IGdyYXlcIj57e3RpdGxlfX08L2Rpdj4nICtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICc8bmctdHJhbnNjbHVkZT48L25nLXRyYW5zY2x1ZGU+JyArXG4gKiAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PidcbiAqICAgICAgICAgICB9O1xuICogICAgICAgfSlcbiAqICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gKiAgICAgICAgICRzY29wZS50aXRsZSA9ICdMb3JlbSBJcHN1bSc7XG4gKiAgICAgICAgICRzY29wZS50ZXh0ID0gJ05lcXVlIHBvcnJvIHF1aXNxdWFtIGVzdCBxdWkgZG9sb3JlbSBpcHN1bSBxdWlhIGRvbG9yLi4uJztcbiAqICAgICAgIH1dKTtcbiAqICAgICA8L3NjcmlwdD5cbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICAgPGlucHV0IG5nLW1vZGVsPVwidGl0bGVcIiBhcmlhLWxhYmVsPVwidGl0bGVcIj4gPGJyLz5cbiAqICAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cInRleHRcIiBhcmlhLWxhYmVsPVwidGV4dFwiPjwvdGV4dGFyZWE+IDxici8+XG4gKiAgICAgICA8cGFuZSB0aXRsZT1cInt7dGl0bGV9fVwiPjxzcGFuPnt7dGV4dH19PC9zcGFuPjwvcGFuZT5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgIGl0KCdzaG91bGQgaGF2ZSB0cmFuc2NsdWRlZCcsIGZ1bmN0aW9uKCkge1xuICogICAgICAgIHZhciB0aXRsZUVsZW1lbnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0aXRsZScpKTtcbiAqICAgICAgICB0aXRsZUVsZW1lbnQuY2xlYXIoKTtcbiAqICAgICAgICB0aXRsZUVsZW1lbnQuc2VuZEtleXMoJ1RJVExFJyk7XG4gKiAgICAgICAgdmFyIHRleHRFbGVtZW50ID0gZWxlbWVudChieS5tb2RlbCgndGV4dCcpKTtcbiAqICAgICAgICB0ZXh0RWxlbWVudC5jbGVhcigpO1xuICogICAgICAgIHRleHRFbGVtZW50LnNlbmRLZXlzKCdURVhUJyk7XG4gKiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndGl0bGUnKSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdUSVRMRScpO1xuICogICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3RleHQnKSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdURVhUJyk7XG4gKiAgICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBUcmFuc2NsdWRlIGZhbGxiYWNrIGNvbnRlbnRcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gdXNlIGBOZ1RyYW5zY2x1ZGVgIHdpdGggZmFsbGJhY2sgY29udGVudCwgdGhhdFxuICogaXMgZGlzcGxheWVkIGlmIG5vIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaXMgcHJvdmlkZWQuXG4gKlxuICogPGV4YW1wbGUgbW9kdWxlPVwidHJhbnNjbHVkZUZhbGxiYWNrQ29udGVudEV4YW1wbGVcIiBuYW1lPVwibmctdHJhbnNjbHVkZVwiPlxuICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqIDxzY3JpcHQ+XG4gKiBhbmd1bGFyLm1vZHVsZSgndHJhbnNjbHVkZUZhbGxiYWNrQ29udGVudEV4YW1wbGUnLCBbXSlcbiAqIC5kaXJlY3RpdmUoJ215QnV0dG9uJywgZnVuY3Rpb24oKXtcbiAqICAgICAgICAgICAgIHJldHVybiB7XG4gKiAgICAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gKiAgICAgICAgICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gKiAgICAgICAgICAgICAgIHNjb3BlOiB0cnVlLFxuICogICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxidXR0b24gc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXI7XCI+JyArXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bmctdHJhbnNjbHVkZT4nICtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGIgc3R5bGU9XCJjb2xvcjogcmVkO1wiPkJ1dHRvbjE8L2I+JyArXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L25nLXRyYW5zY2x1ZGU+JyArXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnPC9idXR0b24+J1xuICogICAgICAgICAgICAgfTtcbiAqICAgICAgICAgfSk7XG4gKiA8L3NjcmlwdD5cbiAqIDwhLS0gZmFsbGJhY2sgYnV0dG9uIGNvbnRlbnQgLS0+XG4gKiA8bXktYnV0dG9uIGlkPVwiZmFsbGJhY2tcIj48L215LWJ1dHRvbj5cbiAqIDwhLS0gbW9kaWZpZWQgYnV0dG9uIGNvbnRlbnQgLS0+XG4gKiA8bXktYnV0dG9uIGlkPVwibW9kaWZpZWRcIj5cbiAqICAgPGkgc3R5bGU9XCJjb2xvcjogZ3JlZW47XCI+QnV0dG9uMjwvaT5cbiAqIDwvbXktYnV0dG9uPlxuICogPC9maWxlPlxuICogPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogaXQoJ3Nob3VsZCBoYXZlIGRpZmZlcmVudCB0cmFuc2NsdWRlIGVsZW1lbnQgY29udGVudCcsIGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2ZhbGxiYWNrJykpLmdldFRleHQoKSkudG9CZSgnQnV0dG9uMScpO1xuICogICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ21vZGlmaWVkJykpLmdldFRleHQoKSkudG9CZSgnQnV0dG9uMicpO1xuICogICAgICAgIH0pO1xuICogPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgTXVsdGktc2xvdCB0cmFuc2NsdXNpb25cbiAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgdXNpbmcgbXVsdGktc2xvdCB0cmFuc2NsdXNpb24gaW4gYSBjb21wb25lbnQgZGlyZWN0aXZlLlxuICogPGV4YW1wbGUgbmFtZT1cIm11bHRpU2xvdFRyYW5zY2x1ZGVFeGFtcGxlXCIgbW9kdWxlPVwibXVsdGlTbG90VHJhbnNjbHVkZUV4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgIDxzdHlsZT5cbiAqICAgICAgLnRpdGxlLCAuZm9vdGVyIHtcbiAqICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBncmF5XG4gKiAgICAgIH1cbiAqICAgIDwvc3R5bGU+XG4gKiAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICA8aW5wdXQgbmctbW9kZWw9XCJ0aXRsZVwiIGFyaWEtbGFiZWw9XCJ0aXRsZVwiPiA8YnIvPlxuICogICAgICA8dGV4dGFyZWEgbmctbW9kZWw9XCJ0ZXh0XCIgYXJpYS1sYWJlbD1cInRleHRcIj48L3RleHRhcmVhPiA8YnIvPlxuICogICAgICA8cGFuZT5cbiAqICAgICAgICA8cGFuZS10aXRsZT48YSBuZy1ocmVmPVwie3tsaW5rfX1cIj57e3RpdGxlfX08L2E+PC9wYW5lLXRpdGxlPlxuICogICAgICAgIDxwYW5lLWJvZHk+PHA+e3t0ZXh0fX08L3A+PC9wYW5lLWJvZHk+XG4gKiAgICAgIDwvcGFuZT5cbiAqICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICAgIGFuZ3VsYXIubW9kdWxlKCdtdWx0aVNsb3RUcmFuc2NsdWRlRXhhbXBsZScsIFtdKVxuICogICAgIC5kaXJlY3RpdmUoJ3BhbmUnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgICByZXR1cm4ge1xuICogICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAqICAgICAgICAgIHRyYW5zY2x1ZGU6IHtcbiAqICAgICAgICAgICAgJ3RpdGxlJzogJz9wYW5lVGl0bGUnLFxuICogICAgICAgICAgICAnYm9keSc6ICdwYW5lQm9keScsXG4gKiAgICAgICAgICAgICdmb290ZXInOiAnP3BhbmVGb290ZXInXG4gKiAgICAgICAgICB9LFxuICogICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XCI+JyArXG4gKiAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRpdGxlXCIgbmctdHJhbnNjbHVkZT1cInRpdGxlXCI+RmFsbGJhY2sgVGl0bGU8L2Rpdj4nICtcbiAqICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IG5nLXRyYW5zY2x1ZGU9XCJib2R5XCI+PC9kaXY+JyArXG4gKiAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImZvb3RlclwiIG5nLXRyYW5zY2x1ZGU9XCJmb290ZXJcIj5GYWxsYmFjayBGb290ZXI8L2Rpdj4nICtcbiAqICAgICAgICAgICAgICAgICAgICAnPC9kaXY+J1xuICogICAgICAgIH07XG4gKiAgICB9KVxuICogICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgJHNjb3BlLnRpdGxlID0gJ0xvcmVtIElwc3VtJztcbiAqICAgICAgJHNjb3BlLmxpbmsgPSAnaHR0cHM6Ly9nb29nbGUuY29tJztcbiAqICAgICAgJHNjb3BlLnRleHQgPSAnTmVxdWUgcG9ycm8gcXVpc3F1YW0gZXN0IHF1aSBkb2xvcmVtIGlwc3VtIHF1aWEgZG9sb3IuLi4nO1xuICogICAgfV0pO1xuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICAgaXQoJ3Nob3VsZCBoYXZlIHRyYW5zY2x1ZGVkIHRoZSB0aXRsZSBhbmQgdGhlIGJvZHknLCBmdW5jdGlvbigpIHtcbiAqICAgICAgICB2YXIgdGl0bGVFbGVtZW50ID0gZWxlbWVudChieS5tb2RlbCgndGl0bGUnKSk7XG4gKiAgICAgICAgdGl0bGVFbGVtZW50LmNsZWFyKCk7XG4gKiAgICAgICAgdGl0bGVFbGVtZW50LnNlbmRLZXlzKCdUSVRMRScpO1xuICogICAgICAgIHZhciB0ZXh0RWxlbWVudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RleHQnKSk7XG4gKiAgICAgICAgdGV4dEVsZW1lbnQuY2xlYXIoKTtcbiAqICAgICAgICB0ZXh0RWxlbWVudC5zZW5kS2V5cygnVEVYVCcpO1xuICogICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLnRpdGxlJykpLmdldFRleHQoKSkudG9FcXVhbCgnVElUTEUnKTtcbiAqICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd0ZXh0JykpLmdldFRleHQoKSkudG9FcXVhbCgnVEVYVCcpO1xuICogICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmZvb3RlcicpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ0ZhbGxiYWNrIEZvb3RlcicpO1xuICogICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICovXG52YXIgbmdUcmFuc2NsdWRlTWluRXJyID0gbWluRXJyKCduZ1RyYW5zY2x1ZGUnKTtcbnZhciBuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUgPSBbJyRjb21waWxlJywgZnVuY3Rpb24oJGNvbXBpbGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBQycsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdUcmFuc2NsdWRlQ29tcGlsZSh0RWxlbWVudCkge1xuXG4gICAgICAvLyBSZW1vdmUgYW5kIGNhY2hlIGFueSBvcmlnaW5hbCBjb250ZW50IHRvIGFjdCBhcyBhIGZhbGxiYWNrXG4gICAgICB2YXIgZmFsbGJhY2tMaW5rRm4gPSAkY29tcGlsZSh0RWxlbWVudC5jb250ZW50cygpKTtcbiAgICAgIHRFbGVtZW50LmVtcHR5KCk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ1RyYW5zY2x1ZGVQb3N0TGluaygkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsIGNvbnRyb2xsZXIsICR0cmFuc2NsdWRlKSB7XG5cbiAgICAgICAgaWYgKCEkdHJhbnNjbHVkZSkge1xuICAgICAgICAgIHRocm93IG5nVHJhbnNjbHVkZU1pbkVycignb3JwaGFuJyxcbiAgICAgICAgICAnSWxsZWdhbCB1c2Ugb2YgbmdUcmFuc2NsdWRlIGRpcmVjdGl2ZSBpbiB0aGUgdGVtcGxhdGUhICcgK1xuICAgICAgICAgICdObyBwYXJlbnQgZGlyZWN0aXZlIHRoYXQgcmVxdWlyZXMgYSB0cmFuc2NsdXNpb24gZm91bmQuICcgK1xuICAgICAgICAgICdFbGVtZW50OiB7MH0nLFxuICAgICAgICAgIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgaXMgb2YgdGhlIGZvcm06IGBuZy10cmFuc2NsdWRlPVwibmctdHJhbnNjbHVkZVwiYCB0aGVuIHRyZWF0IGl0IGxpa2UgdGhlIGRlZmF1bHRcbiAgICAgICAgaWYgKCRhdHRycy5uZ1RyYW5zY2x1ZGUgPT09ICRhdHRycy4kYXR0ci5uZ1RyYW5zY2x1ZGUpIHtcbiAgICAgICAgICAkYXR0cnMubmdUcmFuc2NsdWRlID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNsb3ROYW1lID0gJGF0dHJzLm5nVHJhbnNjbHVkZSB8fCAkYXR0cnMubmdUcmFuc2NsdWRlU2xvdDtcblxuICAgICAgICAvLyBJZiB0aGUgc2xvdCBpcyByZXF1aXJlZCBhbmQgbm8gdHJhbnNjbHVzaW9uIGNvbnRlbnQgaXMgcHJvdmlkZWQgdGhlbiB0aGlzIGNhbGwgd2lsbCB0aHJvdyBhbiBlcnJvclxuICAgICAgICAkdHJhbnNjbHVkZShuZ1RyYW5zY2x1ZGVDbG9uZUF0dGFjaEZuLCBudWxsLCBzbG90TmFtZSk7XG5cbiAgICAgICAgLy8gSWYgdGhlIHNsb3QgaXMgb3B0aW9uYWwgYW5kIG5vIHRyYW5zY2x1c2lvbiBjb250ZW50IGlzIHByb3ZpZGVkIHRoZW4gdXNlIHRoZSBmYWxsYmFjayBjb250ZW50XG4gICAgICAgIGlmIChzbG90TmFtZSAmJiAhJHRyYW5zY2x1ZGUuaXNTbG90RmlsbGVkKHNsb3ROYW1lKSkge1xuICAgICAgICAgIHVzZUZhbGxiYWNrQ29udGVudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbmdUcmFuc2NsdWRlQ2xvbmVBdHRhY2hGbihjbG9uZSwgdHJhbnNjbHVkZWRTY29wZSkge1xuICAgICAgICAgIGlmIChjbG9uZS5sZW5ndGggJiYgbm90V2hpdGVzcGFjZShjbG9uZSkpIHtcbiAgICAgICAgICAgICRlbGVtZW50LmFwcGVuZChjbG9uZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVzZUZhbGxiYWNrQ29udGVudCgpO1xuICAgICAgICAgICAgLy8gVGhlcmUgaXMgbm90aGluZyBsaW5rZWQgYWdhaW5zdCB0aGUgdHJhbnNjbHVkZWQgc2NvcGUgc2luY2Ugbm8gY29udGVudCB3YXMgYXZhaWxhYmxlLFxuICAgICAgICAgICAgLy8gc28gaXQgc2hvdWxkIGJlIHNhZmUgdG8gY2xlYW4gdXAgdGhlIGdlbmVyYXRlZCBzY29wZS5cbiAgICAgICAgICAgIHRyYW5zY2x1ZGVkU2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1c2VGYWxsYmFja0NvbnRlbnQoKSB7XG4gICAgICAgICAgLy8gU2luY2UgdGhpcyBpcyB0aGUgZmFsbGJhY2sgY29udGVudCByYXRoZXIgdGhhbiB0aGUgdHJhbnNjbHVkZWQgY29udGVudCxcbiAgICAgICAgICAvLyB3ZSBsaW5rIGFnYWluc3QgdGhlIHNjb3BlIG9mIHRoaXMgZGlyZWN0aXZlIHJhdGhlciB0aGFuIHRoZSB0cmFuc2NsdWRlZCBzY29wZVxuICAgICAgICAgIGZhbGxiYWNrTGlua0ZuKCRzY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICAgICRlbGVtZW50LmFwcGVuZChjbG9uZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBub3RXaGl0ZXNwYWNlKG5vZGVzKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbm9kZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlICE9PSBOT0RFX1RZUEVfVEVYVCB8fCBub2RlLm5vZGVWYWx1ZS50cmltKCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHNjcmlwdFxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIExvYWQgdGhlIGNvbnRlbnQgb2YgYSBgPHNjcmlwdD5gIGVsZW1lbnQgaW50byB7QGxpbmsgbmcuJHRlbXBsYXRlQ2FjaGUgYCR0ZW1wbGF0ZUNhY2hlYH0sIHNvIHRoYXQgdGhlXG4gKiB0ZW1wbGF0ZSBjYW4gYmUgdXNlZCBieSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5jbHVkZSBgbmdJbmNsdWRlYH0sXG4gKiB7QGxpbmsgbmdSb3V0ZS5kaXJlY3RpdmU6bmdWaWV3IGBuZ1ZpZXdgfSwgb3Ige0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSBkaXJlY3RpdmVzfS4gVGhlIHR5cGUgb2YgdGhlXG4gKiBgPHNjcmlwdD5gIGVsZW1lbnQgbXVzdCBiZSBzcGVjaWZpZWQgYXMgYHRleHQvbmctdGVtcGxhdGVgLCBhbmQgYSBjYWNoZSBuYW1lIGZvciB0aGUgdGVtcGxhdGUgbXVzdCBiZVxuICogYXNzaWduZWQgdGhyb3VnaCB0aGUgZWxlbWVudCdzIGBpZGAsIHdoaWNoIGNhbiB0aGVuIGJlIHVzZWQgYXMgYSBkaXJlY3RpdmUncyBgdGVtcGxhdGVVcmxgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIE11c3QgYmUgc2V0IHRvIGAndGV4dC9uZy10ZW1wbGF0ZSdgLlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIENhY2hlIG5hbWUgb2YgdGhlIHRlbXBsYXRlLlxuICpcbiAqIEBleGFtcGxlXG4gIDxleGFtcGxlICBuYW1lPVwic2NyaXB0LXRhZ1wiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8c2NyaXB0IHR5cGU9XCJ0ZXh0L25nLXRlbXBsYXRlXCIgaWQ9XCIvdHBsLmh0bWxcIj5cbiAgICAgICAgQ29udGVudCBvZiB0aGUgdGVtcGxhdGUuXG4gICAgICA8L3NjcmlwdD5cblxuICAgICAgPGEgbmctY2xpY2s9XCJjdXJyZW50VHBsPScvdHBsLmh0bWwnXCIgaWQ9XCJ0cGwtbGlua1wiPkxvYWQgaW5saW5lZCB0ZW1wbGF0ZTwvYT5cbiAgICAgIDxkaXYgaWQ9XCJ0cGwtY29udGVudFwiIG5nLWluY2x1ZGUgc3JjPVwiY3VycmVudFRwbFwiPjwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICBpdCgnc2hvdWxkIGxvYWQgdGVtcGxhdGUgZGVmaW5lZCBpbnNpZGUgc2NyaXB0IHRhZycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3RwbC1saW5rJykpLmNsaWNrKCk7XG4gICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI3RwbC1jb250ZW50JykpLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBvZiB0aGUgdGVtcGxhdGUvKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG52YXIgc2NyaXB0RGlyZWN0aXZlID0gWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XG4gICAgICBpZiAoYXR0ci50eXBlID09PSAndGV4dC9uZy10ZW1wbGF0ZScpIHtcbiAgICAgICAgdmFyIHRlbXBsYXRlVXJsID0gYXR0ci5pZCxcbiAgICAgICAgICAgIHRleHQgPSBlbGVtZW50WzBdLnRleHQ7XG5cbiAgICAgICAgJHRlbXBsYXRlQ2FjaGUucHV0KHRlbXBsYXRlVXJsLCB0ZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XTtcblxuLyogZXhwb3J0ZWQgc2VsZWN0RGlyZWN0aXZlLCBvcHRpb25EaXJlY3RpdmUgKi9cblxudmFyIG5vb3BOZ01vZGVsQ29udHJvbGxlciA9IHsgJHNldFZpZXdWYWx1ZTogbm9vcCwgJHJlbmRlcjogbm9vcCB9O1xuXG5mdW5jdGlvbiBzZXRPcHRpb25TZWxlY3RlZFN0YXR1cyhvcHRpb25FbCwgdmFsdWUpIHtcbiAgb3B0aW9uRWwucHJvcCgnc2VsZWN0ZWQnLCB2YWx1ZSk7XG4gIC8qKlxuICAgKiBXaGVuIHVuc2VsZWN0aW5nIGFuIG9wdGlvbiwgc2V0dGluZyB0aGUgcHJvcGVydHkgdG8gbnVsbCAvIGZhbHNlIHNob3VsZCBiZSBlbm91Z2hcbiAgICogSG93ZXZlciwgc2NyZWVucmVhZGVycyBtaWdodCByZWFjdCB0byB0aGUgc2VsZWN0ZWQgYXR0cmlidXRlIGluc3RlYWQsIHNlZVxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xNDQxOVxuICAgKiBOb3RlOiBcInNlbGVjdGVkXCIgaXMgYSBib29sZWFuIGF0dHIgYW5kIHdpbGwgYmUgcmVtb3ZlZCB3aGVuIHRoZSBcInZhbHVlXCIgYXJnIGluIGF0dHIoKSBpcyBmYWxzZVxuICAgKiBvciBudWxsXG4gICAqL1xuICBvcHRpb25FbC5hdHRyKCdzZWxlY3RlZCcsIHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgdHlwZVxuICogQG5hbWUgIHNlbGVjdC5TZWxlY3RDb250cm9sbGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgY29udHJvbGxlciBmb3IgdGhlIHtAbGluayBuZy5zZWxlY3Qgc2VsZWN0fSBkaXJlY3RpdmUuIFRoZSBjb250cm9sbGVyIGV4cG9zZXNcbiAqIGEgZmV3IHV0aWxpdHkgbWV0aG9kcyB0aGF0IGNhbiBiZSB1c2VkIHRvIGF1Z21lbnQgdGhlIGJlaGF2aW9yIG9mIGEgcmVndWxhciBvciBhblxuICoge0BsaW5rIG5nLm5nT3B0aW9ucyBuZ09wdGlvbnN9IHNlbGVjdCBlbGVtZW50LlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgU2V0IGEgY3VzdG9tIGVycm9yIHdoZW4gdGhlIHVua25vd24gb3B0aW9uIGlzIHNlbGVjdGVkXG4gKlxuICogVGhpcyBleGFtcGxlIHNldHMgYSBjdXN0b20gZXJyb3IgXCJ1bmtub3duVmFsdWVcIiBvbiB0aGUgbmdNb2RlbENvbnRyb2xsZXJcbiAqIHdoZW4gdGhlIHNlbGVjdCBlbGVtZW50J3MgdW5rbm93biBvcHRpb24gaXMgc2VsZWN0ZWQsIGkuZS4gd2hlbiB0aGUgbW9kZWwgaXMgc2V0IHRvIGEgdmFsdWVcbiAqIHRoYXQgaXMgbm90IG1hdGNoZWQgYnkgYW55IG9wdGlvbi5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwic2VsZWN0LXVua25vd24tdmFsdWUtZXJyb3JcIiBtb2R1bGU9XCJzdGF0aWNTZWxlY3RcIj5cbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XG4gKiAgICAgPGxhYmVsIGZvcj1cInRlc3RTZWxlY3RcIj4gU2luZ2xlIHNlbGVjdDogPC9sYWJlbD48YnI+XG4gKiAgICAgPHNlbGVjdCBuYW1lPVwidGVzdFNlbGVjdFwiIG5nLW1vZGVsPVwic2VsZWN0ZWRcIiB1bmtub3duLXZhbHVlLWVycm9yPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0xXCI+T3B0aW9uIDE8L29wdGlvbj5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJvcHRpb24tMlwiPk9wdGlvbiAyPC9vcHRpb24+XG4gKiAgICAgPC9zZWxlY3Q+PGJyPlxuICogICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1pZj1cIm15Rm9ybS50ZXN0U2VsZWN0LiRlcnJvci51bmtub3duVmFsdWVcIj5cbiAqICAgICAgIEVycm9yOiBUaGUgY3VycmVudCBtb2RlbCBkb2Vzbid0IG1hdGNoIGFueSBvcHRpb248L3NwYW4+PGJyPlxuICpcbiAqICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiZm9yY2VVbmtub3duT3B0aW9uKClcIj5Gb3JjZSB1bmtub3duIG9wdGlvbjwvYnV0dG9uPjxicj5cbiAqICAgPC9mb3JtPlxuICogPC9kaXY+XG4gKiA8L2ZpbGU+XG4gKiA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgYW5ndWxhci5tb2R1bGUoJ3N0YXRpY1NlbGVjdCcsIFtdKVxuICogICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgJHNjb3BlLnNlbGVjdGVkID0gbnVsbDtcbiAqXG4gKiAgICAgICRzY29wZS5mb3JjZVVua25vd25PcHRpb24gPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICAkc2NvcGUuc2VsZWN0ZWQgPSAnbm9uc2Vuc2UnO1xuICogICAgICB9O1xuICogICB9XSlcbiAqICAgLmRpcmVjdGl2ZSgndW5rbm93blZhbHVlRXJyb3InLCBmdW5jdGlvbigpIHtcbiAqICAgICByZXR1cm4ge1xuICogICAgICAgcmVxdWlyZTogWyduZ01vZGVsJywgJ3NlbGVjdCddLFxuICogICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICogICAgICAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1swXTtcbiAqICAgICAgICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1sxXTtcbiAqXG4gKiAgICAgICAgIG5nTW9kZWxDdHJsLiR2YWxpZGF0b3JzLnVua25vd25WYWx1ZSA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICogICAgICAgICAgIGlmIChzZWxlY3RDdHJsLiRpc1Vua25vd25PcHRpb25TZWxlY3RlZCgpKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gKiAgICAgICAgICAgfVxuICpcbiAqICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAqICAgICAgICAgfTtcbiAqICAgICAgIH1cbiAqXG4gKiAgICAgfTtcbiAqICAgfSk7XG4gKiA8L2ZpbGU+XG4gKjwvZXhhbXBsZT5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBTZXQgdGhlIFwicmVxdWlyZWRcIiBlcnJvciB3aGVuIHRoZSB1bmtub3duIG9wdGlvbiBpcyBzZWxlY3RlZC5cbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGUgXCJyZXF1aXJlZFwiIGVycm9yIG9uIHRoZSBuZ01vZGVsQ29udHJvbGxlciBpcyBvbmx5IHNldCBvbiBhIHJlcXVpcmVkIHNlbGVjdFxuICogd2hlbiB0aGUgZW1wdHkgb3B0aW9uIGlzIHNlbGVjdGVkLiBUaGlzIGV4YW1wbGUgYWRkcyBhIGN1c3RvbSBkaXJlY3RpdmUgdGhhdCBhbHNvIHNldHMgdGhlXG4gKiBlcnJvciB3aGVuIHRoZSB1bmtub3duIG9wdGlvbiBpcyBzZWxlY3RlZC5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwic2VsZWN0LXVua25vd24tdmFsdWUtcmVxdWlyZWRcIiBtb2R1bGU9XCJzdGF0aWNTZWxlY3RcIj5cbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XG4gKiAgICAgPGxhYmVsIGZvcj1cInRlc3RTZWxlY3RcIj4gU2VsZWN0OiA8L2xhYmVsPjxicj5cbiAqICAgICA8c2VsZWN0IG5hbWU9XCJ0ZXN0U2VsZWN0XCIgbmctbW9kZWw9XCJzZWxlY3RlZFwiIHJlcXVpcmVkIHVua25vd24tdmFsdWUtcmVxdWlyZWQ+XG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTFcIj5PcHRpb24gMTwvb3B0aW9uPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0yXCI+T3B0aW9uIDI8L29wdGlvbj5cbiAqICAgICA8L3NlbGVjdD48YnI+XG4gKiAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLWlmPVwibXlGb3JtLnRlc3RTZWxlY3QuJGVycm9yLnJlcXVpcmVkXCI+RXJyb3I6IFBsZWFzZSBzZWxlY3QgYSB2YWx1ZTwvc3Bhbj48YnI+XG4gKlxuICogICAgIDxidXR0b24gbmctY2xpY2s9XCJmb3JjZVVua25vd25PcHRpb24oKVwiPkZvcmNlIHVua25vd24gb3B0aW9uPC9idXR0b24+PGJyPlxuICogICA8L2Zvcm0+XG4gKiA8L2Rpdj5cbiAqIDwvZmlsZT5cbiAqIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICBhbmd1bGFyLm1vZHVsZSgnc3RhdGljU2VsZWN0JywgW10pXG4gKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAkc2NvcGUuc2VsZWN0ZWQgPSBudWxsO1xuICpcbiAqICAgICAgJHNjb3BlLmZvcmNlVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgICRzY29wZS5zZWxlY3RlZCA9ICdub25zZW5zZSc7XG4gKiAgICAgIH07XG4gKiAgIH1dKVxuICogICAuZGlyZWN0aXZlKCd1bmtub3duVmFsdWVSZXF1aXJlZCcsIGZ1bmN0aW9uKCkge1xuICogICAgIHJldHVybiB7XG4gKiAgICAgICBwcmlvcml0eTogMSwgLy8gVGhpcyBkaXJlY3RpdmUgbXVzdCBydW4gYWZ0ZXIgdGhlIHJlcXVpcmVkIGRpcmVjdGl2ZSBoYXMgYWRkZWQgaXRzIHZhbGlkYXRvclxuICogICAgICAgcmVxdWlyZTogWyduZ01vZGVsJywgJ3NlbGVjdCddLFxuICogICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICogICAgICAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1swXTtcbiAqICAgICAgICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1sxXTtcbiAqXG4gKiAgICAgICAgIHZhciBvcmlnaW5hbFJlcXVpcmVkVmFsaWRhdG9yID0gbmdNb2RlbEN0cmwuJHZhbGlkYXRvcnMucmVxdWlyZWQ7XG4gKlxuICogICAgICAgICBuZ01vZGVsQ3RybC4kdmFsaWRhdG9ycy5yZXF1aXJlZCA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgIGlmIChhdHRycy5yZXF1aXJlZCAmJiBzZWxlY3RDdHJsLiRpc1Vua25vd25PcHRpb25TZWxlY3RlZCgpKSB7XG4gKiAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gKiAgICAgICAgICAgfVxuICpcbiAqICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxSZXF1aXJlZFZhbGlkYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICogICAgICAgICB9O1xuICogICAgICAgfVxuICogICAgIH07XG4gKiAgIH0pO1xuICogPC9maWxlPlxuICogPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogIGl0KCdzaG91bGQgc2hvdyB0aGUgZXJyb3IgbWVzc2FnZSB3aGVuIHRoZSB1bmtub3duIG9wdGlvbiBpcyBzZWxlY3RlZCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgZXJyb3IgPSBlbGVtZW50KGJ5LmNsYXNzTmFtZSgnZXJyb3InKSk7XG5cbiAgICAgIGV4cGVjdChlcnJvci5nZXRUZXh0KCkpLnRvQmUoJ0Vycm9yOiBQbGVhc2Ugc2VsZWN0IGEgdmFsdWUnKTtcblxuICAgICAgZWxlbWVudChieS5jc3NDb250YWluaW5nVGV4dCgnb3B0aW9uJywgJ09wdGlvbiAxJykpLmNsaWNrKCk7XG5cbiAgICAgIGV4cGVjdChlcnJvci5pc1ByZXNlbnQoKSkudG9CZShmYWxzZSk7XG5cbiAgICAgIGVsZW1lbnQoYnkudGFnTmFtZSgnYnV0dG9uJykpLmNsaWNrKCk7XG5cbiAgICAgIGV4cGVjdChlcnJvci5nZXRUZXh0KCkpLnRvQmUoJ0Vycm9yOiBQbGVhc2Ugc2VsZWN0IGEgdmFsdWUnKTtcbiAgICB9KTtcbiAqIDwvZmlsZT5cbiAqPC9leGFtcGxlPlxuICpcbiAqXG4gKi9cbnZhciBTZWxlY3RDb250cm9sbGVyID1cbiAgICAgICAgWyckZWxlbWVudCcsICckc2NvcGUnLCAvKiogQHRoaXMgKi8gZnVuY3Rpb24oJGVsZW1lbnQsICRzY29wZSkge1xuXG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIG9wdGlvbnNNYXAgPSBuZXcgTmdNYXAoKTtcblxuICBzZWxmLnNlbGVjdFZhbHVlTWFwID0ge307IC8vIEtleXMgYXJlIHRoZSBoYXNoZWQgdmFsdWVzLCB2YWx1ZXMgdGhlIG9yaWdpbmFsIHZhbHVlc1xuXG4gIC8vIElmIHRoZSBuZ01vZGVsIGRvZXNuJ3QgZ2V0IHByb3ZpZGVkIHRoZW4gcHJvdmlkZSBhIGR1bW15IG5vb3AgdmVyc2lvbiB0byBwcmV2ZW50IGVycm9yc1xuICBzZWxmLm5nTW9kZWxDdHJsID0gbm9vcE5nTW9kZWxDb250cm9sbGVyO1xuICBzZWxmLm11bHRpcGxlID0gZmFsc2U7XG5cbiAgLy8gVGhlIFwidW5rbm93blwiIG9wdGlvbiBpcyBvbmUgdGhhdCBpcyBwcmVwZW5kZWQgdG8gdGhlIGxpc3QgaWYgdGhlIHZpZXdWYWx1ZVxuICAvLyBkb2VzIG5vdCBtYXRjaCBhbnkgb2YgdGhlIG9wdGlvbnMuIFdoZW4gaXQgaXMgcmVuZGVyZWQgdGhlIHZhbHVlIG9mIHRoZSB1bmtub3duXG4gIC8vIG9wdGlvbiBpcyAnPyBYWFggPycgd2hlcmUgWFhYIGlzIHRoZSBoYXNoS2V5IG9mIHRoZSB2YWx1ZSB0aGF0IGlzIG5vdCBrbm93bi5cbiAgLy9cbiAgLy8gU3VwcG9ydDogSUUgOSBvbmx5XG4gIC8vIFdlIGNhbid0IGp1c3QganFMaXRlKCc8b3B0aW9uPicpIHNpbmNlIGpxTGl0ZSBpcyBub3Qgc21hcnQgZW5vdWdoXG4gIC8vIHRvIGNyZWF0ZSBpdCBpbiA8c2VsZWN0PiBhbmQgSUUgYmFyZnMgb3RoZXJ3aXNlLlxuICBzZWxmLnVua25vd25PcHRpb24gPSBqcUxpdGUod2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpKTtcblxuICAvLyBUaGUgZW1wdHkgb3B0aW9uIGlzIGFuIG9wdGlvbiB3aXRoIHRoZSB2YWx1ZSAnJyB0aGF0IHRoZSBhcHBsaWNhdGlvbiBkZXZlbG9wZXIgY2FuXG4gIC8vIHByb3ZpZGUgaW5zaWRlIHRoZSBzZWxlY3QuIEl0IGlzIGFsd2F5cyBzZWxlY3RhYmxlIGFuZCBpbmRpY2F0ZXMgdGhhdCBhIFwibnVsbFwiIHNlbGVjdGlvbiBoYXNcbiAgLy8gYmVlbiBtYWRlIGJ5IHRoZSB1c2VyLlxuICAvLyBJZiB0aGUgc2VsZWN0IGhhcyBhbiBlbXB0eSBvcHRpb24sIGFuZCB0aGUgbW9kZWwgb2YgdGhlIHNlbGVjdCBpcyBzZXQgdG8gXCJ1bmRlZmluZWRcIiBvciBcIm51bGxcIixcbiAgLy8gdGhlIGVtcHR5IG9wdGlvbiBpcyBzZWxlY3RlZC5cbiAgLy8gSWYgdGhlIG1vZGVsIGlzIHNldCB0byBhIGRpZmZlcmVudCB1bm1hdGNoZWQgdmFsdWUsIHRoZSB1bmtub3duIG9wdGlvbiBpcyByZW5kZXJlZCBhbmRcbiAgLy8gc2VsZWN0ZWQsIGkuZSBib3RoIGFyZSBwcmVzZW50LCBiZWNhdXNlIGEgXCJudWxsXCIgc2VsZWN0aW9uIGFuZCBhbiB1bmtub3duIHZhbHVlIGFyZSBkaWZmZXJlbnQuXG4gIHNlbGYuaGFzRW1wdHlPcHRpb24gPSBmYWxzZTtcbiAgc2VsZi5lbXB0eU9wdGlvbiA9IHVuZGVmaW5lZDtcblxuICBzZWxmLnJlbmRlclVua25vd25PcHRpb24gPSBmdW5jdGlvbih2YWwpIHtcbiAgICB2YXIgdW5rbm93blZhbCA9IHNlbGYuZ2VuZXJhdGVVbmtub3duT3B0aW9uVmFsdWUodmFsKTtcbiAgICBzZWxmLnVua25vd25PcHRpb24udmFsKHVua25vd25WYWwpO1xuICAgICRlbGVtZW50LnByZXBlbmQoc2VsZi51bmtub3duT3B0aW9uKTtcbiAgICBzZXRPcHRpb25TZWxlY3RlZFN0YXR1cyhzZWxmLnVua25vd25PcHRpb24sIHRydWUpO1xuICAgICRlbGVtZW50LnZhbCh1bmtub3duVmFsKTtcbiAgfTtcblxuICBzZWxmLnVwZGF0ZVVua25vd25PcHRpb24gPSBmdW5jdGlvbih2YWwpIHtcbiAgICB2YXIgdW5rbm93blZhbCA9IHNlbGYuZ2VuZXJhdGVVbmtub3duT3B0aW9uVmFsdWUodmFsKTtcbiAgICBzZWxmLnVua25vd25PcHRpb24udmFsKHVua25vd25WYWwpO1xuICAgIHNldE9wdGlvblNlbGVjdGVkU3RhdHVzKHNlbGYudW5rbm93bk9wdGlvbiwgdHJ1ZSk7XG4gICAgJGVsZW1lbnQudmFsKHVua25vd25WYWwpO1xuICB9O1xuXG4gIHNlbGYuZ2VuZXJhdGVVbmtub3duT3B0aW9uVmFsdWUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICByZXR1cm4gJz8gJyArIGhhc2hLZXkodmFsKSArICcgPyc7XG4gIH07XG5cbiAgc2VsZi5yZW1vdmVVbmtub3duT3B0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHNlbGYudW5rbm93bk9wdGlvbi5wYXJlbnQoKSkgc2VsZi51bmtub3duT3B0aW9uLnJlbW92ZSgpO1xuICB9O1xuXG4gIHNlbGYuc2VsZWN0RW1wdHlPcHRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2VsZi5lbXB0eU9wdGlvbikge1xuICAgICAgJGVsZW1lbnQudmFsKCcnKTtcbiAgICAgIHNldE9wdGlvblNlbGVjdGVkU3RhdHVzKHNlbGYuZW1wdHlPcHRpb24sIHRydWUpO1xuICAgIH1cbiAgfTtcblxuICBzZWxmLnVuc2VsZWN0RW1wdHlPcHRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2VsZi5oYXNFbXB0eU9wdGlvbikge1xuICAgICAgc2V0T3B0aW9uU2VsZWN0ZWRTdGF0dXMoc2VsZi5lbXB0eU9wdGlvbiwgZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgIC8vIGRpc2FibGUgdW5rbm93biBvcHRpb24gc28gdGhhdCB3ZSBkb24ndCBkbyB3b3JrIHdoZW4gdGhlIHdob2xlIHNlbGVjdCBpcyBiZWluZyBkZXN0cm95ZWRcbiAgICBzZWxmLnJlbmRlclVua25vd25PcHRpb24gPSBub29wO1xuICB9KTtcblxuICAvLyBSZWFkIHRoZSB2YWx1ZSBvZiB0aGUgc2VsZWN0IGNvbnRyb2wsIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIGNoYW5nZXMgZGVwZW5kaW5nXG4gIC8vIHVwb24gd2hldGhlciB0aGUgc2VsZWN0IGNhbiBoYXZlIG11bHRpcGxlIHZhbHVlcyBhbmQgd2hldGhlciBuZ09wdGlvbnMgaXMgYXQgd29yay5cbiAgc2VsZi5yZWFkVmFsdWUgPSBmdW5jdGlvbiByZWFkU2luZ2xlVmFsdWUoKSB7XG4gICAgdmFyIHZhbCA9ICRlbGVtZW50LnZhbCgpO1xuICAgIC8vIG5nVmFsdWUgYWRkZWQgb3B0aW9uIHZhbHVlcyBhcmUgc3RvcmVkIGluIHRoZSBzZWxlY3RWYWx1ZU1hcCwgbm9ybWFsIGludGVycG9sYXRpb25zIGFyZSBub3RcbiAgICB2YXIgcmVhbFZhbCA9IHZhbCBpbiBzZWxmLnNlbGVjdFZhbHVlTWFwID8gc2VsZi5zZWxlY3RWYWx1ZU1hcFt2YWxdIDogdmFsO1xuXG4gICAgaWYgKHNlbGYuaGFzT3B0aW9uKHJlYWxWYWwpKSB7XG4gICAgICByZXR1cm4gcmVhbFZhbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuXG4gIC8vIFdyaXRlIHRoZSB2YWx1ZSB0byB0aGUgc2VsZWN0IGNvbnRyb2wsIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIGNoYW5nZXMgZGVwZW5kaW5nXG4gIC8vIHVwb24gd2hldGhlciB0aGUgc2VsZWN0IGNhbiBoYXZlIG11bHRpcGxlIHZhbHVlcyBhbmQgd2hldGhlciBuZ09wdGlvbnMgaXMgYXQgd29yay5cbiAgc2VsZi53cml0ZVZhbHVlID0gZnVuY3Rpb24gd3JpdGVTaW5nbGVWYWx1ZSh2YWx1ZSkge1xuICAgIC8vIE1ha2Ugc3VyZSB0byByZW1vdmUgdGhlIHNlbGVjdGVkIGF0dHJpYnV0ZSBmcm9tIHRoZSBwcmV2aW91c2x5IHNlbGVjdGVkIG9wdGlvblxuICAgIC8vIE90aGVyd2lzZSwgc2NyZWVuIHJlYWRlcnMgbWlnaHQgZ2V0IGNvbmZ1c2VkXG4gICAgdmFyIGN1cnJlbnRseVNlbGVjdGVkT3B0aW9uID0gJGVsZW1lbnRbMF0ub3B0aW9uc1skZWxlbWVudFswXS5zZWxlY3RlZEluZGV4XTtcbiAgICBpZiAoY3VycmVudGx5U2VsZWN0ZWRPcHRpb24pIHNldE9wdGlvblNlbGVjdGVkU3RhdHVzKGpxTGl0ZShjdXJyZW50bHlTZWxlY3RlZE9wdGlvbiksIGZhbHNlKTtcblxuICAgIGlmIChzZWxmLmhhc09wdGlvbih2YWx1ZSkpIHtcbiAgICAgIHNlbGYucmVtb3ZlVW5rbm93bk9wdGlvbigpO1xuXG4gICAgICB2YXIgaGFzaGVkVmFsID0gaGFzaEtleSh2YWx1ZSk7XG4gICAgICAkZWxlbWVudC52YWwoaGFzaGVkVmFsIGluIHNlbGYuc2VsZWN0VmFsdWVNYXAgPyBoYXNoZWRWYWwgOiB2YWx1ZSk7XG5cbiAgICAgIC8vIFNldCBzZWxlY3RlZCBhdHRyaWJ1dGUgYW5kIHByb3BlcnR5IG9uIHNlbGVjdGVkIG9wdGlvbiBmb3Igc2NyZWVuIHJlYWRlcnNcbiAgICAgIHZhciBzZWxlY3RlZE9wdGlvbiA9ICRlbGVtZW50WzBdLm9wdGlvbnNbJGVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleF07XG4gICAgICBzZXRPcHRpb25TZWxlY3RlZFN0YXR1cyhqcUxpdGUoc2VsZWN0ZWRPcHRpb24pLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5zZWxlY3RVbmtub3duT3JFbXB0eU9wdGlvbih2YWx1ZSk7XG4gICAgfVxuICB9O1xuXG5cbiAgLy8gVGVsbCB0aGUgc2VsZWN0IGNvbnRyb2wgdGhhdCBhbiBvcHRpb24sIHdpdGggdGhlIGdpdmVuIHZhbHVlLCBoYXMgYmVlbiBhZGRlZFxuICBzZWxmLmFkZE9wdGlvbiA9IGZ1bmN0aW9uKHZhbHVlLCBlbGVtZW50KSB7XG4gICAgLy8gU2tpcCBjb21tZW50IG5vZGVzLCBhcyB0aGV5IG9ubHkgcG9sbHV0ZSB0aGUgYG9wdGlvbnNNYXBgXG4gICAgaWYgKGVsZW1lbnRbMF0ubm9kZVR5cGUgPT09IE5PREVfVFlQRV9DT01NRU5UKSByZXR1cm47XG5cbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgJ1wib3B0aW9uIHZhbHVlXCInKTtcbiAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICBzZWxmLmhhc0VtcHR5T3B0aW9uID0gdHJ1ZTtcbiAgICAgIHNlbGYuZW1wdHlPcHRpb24gPSBlbGVtZW50O1xuICAgIH1cbiAgICB2YXIgY291bnQgPSBvcHRpb25zTWFwLmdldCh2YWx1ZSkgfHwgMDtcbiAgICBvcHRpb25zTWFwLnNldCh2YWx1ZSwgY291bnQgKyAxKTtcbiAgICAvLyBPbmx5IHJlbmRlciBhdCB0aGUgZW5kIG9mIGEgZGlnZXN0LiBUaGlzIGltcHJvdmVzIHJlbmRlciBwZXJmb3JtYW5jZSB3aGVuIG1hbnkgb3B0aW9uc1xuICAgIC8vIGFyZSBhZGRlZCBkdXJpbmcgYSBkaWdlc3QgYW5kIGVuc3VyZXMgYWxsIHJlbGV2YW50IG9wdGlvbnMgYXJlIGNvcnJlY3RseSBtYXJrZWQgYXMgc2VsZWN0ZWRcbiAgICBzY2hlZHVsZVJlbmRlcigpO1xuICB9O1xuXG4gIC8vIFRlbGwgdGhlIHNlbGVjdCBjb250cm9sIHRoYXQgYW4gb3B0aW9uLCB3aXRoIHRoZSBnaXZlbiB2YWx1ZSwgaGFzIGJlZW4gcmVtb3ZlZFxuICBzZWxmLnJlbW92ZU9wdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIGNvdW50ID0gb3B0aW9uc01hcC5nZXQodmFsdWUpO1xuICAgIGlmIChjb3VudCkge1xuICAgICAgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgICAgIG9wdGlvbnNNYXAuZGVsZXRlKHZhbHVlKTtcbiAgICAgICAgaWYgKHZhbHVlID09PSAnJykge1xuICAgICAgICAgIHNlbGYuaGFzRW1wdHlPcHRpb24gPSBmYWxzZTtcbiAgICAgICAgICBzZWxmLmVtcHR5T3B0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zTWFwLnNldCh2YWx1ZSwgY291bnQgLSAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gQ2hlY2sgd2hldGhlciB0aGUgc2VsZWN0IGNvbnRyb2wgaGFzIGFuIG9wdGlvbiBtYXRjaGluZyB0aGUgZ2l2ZW4gdmFsdWVcbiAgc2VsZi5oYXNPcHRpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiAhIW9wdGlvbnNNYXAuZ2V0KHZhbHVlKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBzZWxlY3QuU2VsZWN0Q29udHJvbGxlciMkaGFzRW1wdHlPcHRpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBzZWxlY3QgZWxlbWVudCBjdXJyZW50bHkgaGFzIGFuIGVtcHR5IG9wdGlvblxuICAgKiBlbGVtZW50LCBpLmUuIGFuIG9wdGlvbiB0aGF0IHNpZ25pZmllcyB0aGF0IHRoZSBzZWxlY3QgaXMgZW1wdHkgLyB0aGUgc2VsZWN0aW9uIGlzIG51bGwuXG4gICAqXG4gICAqL1xuICBzZWxmLiRoYXNFbXB0eU9wdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzZWxmLmhhc0VtcHR5T3B0aW9uO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIHNlbGVjdC5TZWxlY3RDb250cm9sbGVyIyRpc1Vua25vd25PcHRpb25TZWxlY3RlZFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHNlbGVjdCBlbGVtZW50J3MgdW5rbm93biBvcHRpb24gaXMgc2VsZWN0ZWQuIFRoZSB1bmtub3duIG9wdGlvbiBpcyBhZGRlZFxuICAgKiBhbmQgYXV0b21hdGljYWxseSBzZWxlY3RlZCB3aGVuZXZlciB0aGUgc2VsZWN0IG1vZGVsIGRvZXNuJ3QgbWF0Y2ggYW55IG9wdGlvbi5cbiAgICpcbiAgICovXG4gIHNlbGYuJGlzVW5rbm93bk9wdGlvblNlbGVjdGVkID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gUHJlc2VuY2Ugb2YgdGhlIHVua25vd24gb3B0aW9uIG1lYW5zIGl0IGlzIHNlbGVjdGVkXG4gICAgcmV0dXJuICRlbGVtZW50WzBdLm9wdGlvbnNbMF0gPT09IHNlbGYudW5rbm93bk9wdGlvblswXTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBzZWxlY3QuU2VsZWN0Q29udHJvbGxlciMkaXNFbXB0eU9wdGlvblNlbGVjdGVkXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgc2VsZWN0IGVsZW1lbnQgaGFzIGFuIGVtcHR5IG9wdGlvbiBhbmQgdGhpcyBlbXB0eSBvcHRpb24gaXMgY3VycmVudGx5XG4gICAqIHNlbGVjdGVkLiBSZXR1cm5zIGBmYWxzZWAgaWYgdGhlIHNlbGVjdCBlbGVtZW50IGhhcyBubyBlbXB0eSBvcHRpb24gb3IgaXQgaXMgbm90IHNlbGVjdGVkLlxuICAgKlxuICAgKi9cbiAgc2VsZi4kaXNFbXB0eU9wdGlvblNlbGVjdGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNlbGYuaGFzRW1wdHlPcHRpb24gJiYgJGVsZW1lbnRbMF0ub3B0aW9uc1skZWxlbWVudFswXS5zZWxlY3RlZEluZGV4XSA9PT0gc2VsZi5lbXB0eU9wdGlvblswXTtcbiAgfTtcblxuICBzZWxmLnNlbGVjdFVua25vd25PckVtcHR5T3B0aW9uID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBzZWxmLmVtcHR5T3B0aW9uKSB7XG4gICAgICBzZWxmLnJlbW92ZVVua25vd25PcHRpb24oKTtcbiAgICAgIHNlbGYuc2VsZWN0RW1wdHlPcHRpb24oKTtcbiAgICB9IGVsc2UgaWYgKHNlbGYudW5rbm93bk9wdGlvbi5wYXJlbnQoKS5sZW5ndGgpIHtcbiAgICAgIHNlbGYudXBkYXRlVW5rbm93bk9wdGlvbih2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYucmVuZGVyVW5rbm93bk9wdGlvbih2YWx1ZSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciByZW5kZXJTY2hlZHVsZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gc2NoZWR1bGVSZW5kZXIoKSB7XG4gICAgaWYgKHJlbmRlclNjaGVkdWxlZCkgcmV0dXJuO1xuICAgIHJlbmRlclNjaGVkdWxlZCA9IHRydWU7XG4gICAgJHNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpIHtcbiAgICAgIHJlbmRlclNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgc2VsZi5uZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgdXBkYXRlU2NoZWR1bGVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIHNjaGVkdWxlVmlld1ZhbHVlVXBkYXRlKHJlbmRlckFmdGVyKSB7XG4gICAgaWYgKHVwZGF0ZVNjaGVkdWxlZCkgcmV0dXJuO1xuXG4gICAgdXBkYXRlU2NoZWR1bGVkID0gdHJ1ZTtcblxuICAgICRzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoJHNjb3BlLiQkZGVzdHJveWVkKSByZXR1cm47XG5cbiAgICAgIHVwZGF0ZVNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgc2VsZi5uZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHNlbGYucmVhZFZhbHVlKCkpO1xuICAgICAgaWYgKHJlbmRlckFmdGVyKSBzZWxmLm5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgc2VsZi5yZWdpc3Rlck9wdGlvbiA9IGZ1bmN0aW9uKG9wdGlvblNjb3BlLCBvcHRpb25FbGVtZW50LCBvcHRpb25BdHRycywgaW50ZXJwb2xhdGVWYWx1ZUZuLCBpbnRlcnBvbGF0ZVRleHRGbikge1xuXG4gICAgaWYgKG9wdGlvbkF0dHJzLiRhdHRyLm5nVmFsdWUpIHtcbiAgICAgIC8vIFRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgc2V0IGJ5IG5nVmFsdWVcbiAgICAgIHZhciBvbGRWYWwsIGhhc2hlZFZhbDtcbiAgICAgIG9wdGlvbkF0dHJzLiRvYnNlcnZlKCd2YWx1ZScsIGZ1bmN0aW9uIHZhbHVlQXR0cmlidXRlT2JzZXJ2ZUFjdGlvbihuZXdWYWwpIHtcblxuICAgICAgICB2YXIgcmVtb3ZhbDtcbiAgICAgICAgdmFyIHByZXZpb3VzbHlTZWxlY3RlZCA9IG9wdGlvbkVsZW1lbnQucHJvcCgnc2VsZWN0ZWQnKTtcblxuICAgICAgICBpZiAoaXNEZWZpbmVkKGhhc2hlZFZhbCkpIHtcbiAgICAgICAgICBzZWxmLnJlbW92ZU9wdGlvbihvbGRWYWwpO1xuICAgICAgICAgIGRlbGV0ZSBzZWxmLnNlbGVjdFZhbHVlTWFwW2hhc2hlZFZhbF07XG4gICAgICAgICAgcmVtb3ZhbCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBoYXNoZWRWYWwgPSBoYXNoS2V5KG5ld1ZhbCk7XG4gICAgICAgIG9sZFZhbCA9IG5ld1ZhbDtcbiAgICAgICAgc2VsZi5zZWxlY3RWYWx1ZU1hcFtoYXNoZWRWYWxdID0gbmV3VmFsO1xuICAgICAgICBzZWxmLmFkZE9wdGlvbihuZXdWYWwsIG9wdGlvbkVsZW1lbnQpO1xuICAgICAgICAvLyBTZXQgdGhlIGF0dHJpYnV0ZSBkaXJlY3RseSBpbnN0ZWFkIG9mIHVzaW5nIG9wdGlvbkF0dHJzLiRzZXQgLSB0aGlzIHN0b3BzIHRoZSBvYnNlcnZlclxuICAgICAgICAvLyBmcm9tIGZpcmluZyBhIHNlY29uZCB0aW1lLiBPdGhlciAkb2JzZXJ2ZXJzIG9uIHZhbHVlIHdpbGwgYWxzbyBnZXQgdGhlIHJlc3VsdCBvZiB0aGVcbiAgICAgICAgLy8gbmdWYWx1ZSBleHByZXNzaW9uLCBub3QgdGhlIGhhc2hlZCB2YWx1ZVxuICAgICAgICBvcHRpb25FbGVtZW50LmF0dHIoJ3ZhbHVlJywgaGFzaGVkVmFsKTtcblxuICAgICAgICBpZiAocmVtb3ZhbCAmJiBwcmV2aW91c2x5U2VsZWN0ZWQpIHtcbiAgICAgICAgICBzY2hlZHVsZVZpZXdWYWx1ZVVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaW50ZXJwb2xhdGVWYWx1ZUZuKSB7XG4gICAgICAvLyBUaGUgdmFsdWUgYXR0cmlidXRlIGlzIGludGVycG9sYXRlZFxuICAgICAgb3B0aW9uQXR0cnMuJG9ic2VydmUoJ3ZhbHVlJywgZnVuY3Rpb24gdmFsdWVBdHRyaWJ1dGVPYnNlcnZlQWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICAvLyBUaGlzIG1ldGhvZCBpcyBvdmVyd3JpdHRlbiBpbiBuZ09wdGlvbnMgYW5kIGhhcyBzaWRlLWVmZmVjdHMhXG4gICAgICAgIHNlbGYucmVhZFZhbHVlKCk7XG5cbiAgICAgICAgdmFyIHJlbW92YWw7XG4gICAgICAgIHZhciBwcmV2aW91c2x5U2VsZWN0ZWQgPSBvcHRpb25FbGVtZW50LnByb3AoJ3NlbGVjdGVkJyk7XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZChvbGRWYWwpKSB7XG4gICAgICAgICAgc2VsZi5yZW1vdmVPcHRpb24ob2xkVmFsKTtcbiAgICAgICAgICByZW1vdmFsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBvbGRWYWwgPSBuZXdWYWw7XG4gICAgICAgIHNlbGYuYWRkT3B0aW9uKG5ld1ZhbCwgb3B0aW9uRWxlbWVudCk7XG5cbiAgICAgICAgaWYgKHJlbW92YWwgJiYgcHJldmlvdXNseVNlbGVjdGVkKSB7XG4gICAgICAgICAgc2NoZWR1bGVWaWV3VmFsdWVVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChpbnRlcnBvbGF0ZVRleHRGbikge1xuICAgICAgLy8gVGhlIHRleHQgY29udGVudCBpcyBpbnRlcnBvbGF0ZWRcbiAgICAgIG9wdGlvblNjb3BlLiR3YXRjaChpbnRlcnBvbGF0ZVRleHRGbiwgZnVuY3Rpb24gaW50ZXJwb2xhdGVXYXRjaEFjdGlvbihuZXdWYWwsIG9sZFZhbCkge1xuICAgICAgICBvcHRpb25BdHRycy4kc2V0KCd2YWx1ZScsIG5ld1ZhbCk7XG4gICAgICAgIHZhciBwcmV2aW91c2x5U2VsZWN0ZWQgPSBvcHRpb25FbGVtZW50LnByb3AoJ3NlbGVjdGVkJyk7XG4gICAgICAgIGlmIChvbGRWYWwgIT09IG5ld1ZhbCkge1xuICAgICAgICAgIHNlbGYucmVtb3ZlT3B0aW9uKG9sZFZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5hZGRPcHRpb24obmV3VmFsLCBvcHRpb25FbGVtZW50KTtcblxuICAgICAgICBpZiAob2xkVmFsICYmIHByZXZpb3VzbHlTZWxlY3RlZCkge1xuICAgICAgICAgIHNjaGVkdWxlVmlld1ZhbHVlVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGUgdmFsdWUgYXR0cmlidXRlIGlzIHN0YXRpY1xuICAgICAgc2VsZi5hZGRPcHRpb24ob3B0aW9uQXR0cnMudmFsdWUsIG9wdGlvbkVsZW1lbnQpO1xuICAgIH1cblxuXG4gICAgb3B0aW9uQXR0cnMuJG9ic2VydmUoJ2Rpc2FibGVkJywgZnVuY3Rpb24obmV3VmFsKSB7XG5cbiAgICAgIC8vIFNpbmNlIG1vZGVsIHVwZGF0ZXMgd2lsbCBhbHNvIHNlbGVjdCBkaXNhYmxlZCBvcHRpb25zIChsaWtlIG5nT3B0aW9ucyksXG4gICAgICAvLyB3ZSBvbmx5IGhhdmUgdG8gaGFuZGxlIG9wdGlvbnMgYmVjb21pbmcgZGlzYWJsZWQsIG5vdCBlbmFibGVkXG5cbiAgICAgIGlmIChuZXdWYWwgPT09ICd0cnVlJyB8fCBuZXdWYWwgJiYgb3B0aW9uRWxlbWVudC5wcm9wKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgIGlmIChzZWxmLm11bHRpcGxlKSB7XG4gICAgICAgICAgc2NoZWR1bGVWaWV3VmFsdWVVcGRhdGUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5uZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG51bGwpO1xuICAgICAgICAgIHNlbGYubmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBvcHRpb25FbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHNlbGYucmVhZFZhbHVlKCk7XG4gICAgICB2YXIgcmVtb3ZlVmFsdWUgPSBvcHRpb25BdHRycy52YWx1ZTtcblxuICAgICAgc2VsZi5yZW1vdmVPcHRpb24ocmVtb3ZlVmFsdWUpO1xuICAgICAgc2NoZWR1bGVSZW5kZXIoKTtcblxuICAgICAgaWYgKHNlbGYubXVsdGlwbGUgJiYgY3VycmVudFZhbHVlICYmIGN1cnJlbnRWYWx1ZS5pbmRleE9mKHJlbW92ZVZhbHVlKSAhPT0gLTEgfHxcbiAgICAgICAgICBjdXJyZW50VmFsdWUgPT09IHJlbW92ZVZhbHVlXG4gICAgICApIHtcbiAgICAgICAgLy8gV2hlbiBtdWx0aXBsZSAoc2VsZWN0ZWQpIG9wdGlvbnMgYXJlIGRlc3Ryb3llZCBhdCB0aGUgc2FtZSB0aW1lLCB3ZSBkb24ndCB3YW50XG4gICAgICAgIC8vIHRvIHJ1biBhIG1vZGVsIHVwZGF0ZSBmb3IgZWFjaCBvZiB0aGVtLiBJbnN0ZWFkLCBydW4gYSBzaW5nbGUgdXBkYXRlIGluIHRoZSAkJHBvc3REaWdlc3RcbiAgICAgICAgc2NoZWR1bGVWaWV3VmFsdWVVcGRhdGUodHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBzZWxlY3RcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIVE1MIGBzZWxlY3RgIGVsZW1lbnQgd2l0aCBBbmd1bGFySlMgZGF0YS1iaW5kaW5nLlxuICpcbiAqIFRoZSBgc2VsZWN0YCBkaXJlY3RpdmUgaXMgdXNlZCB0b2dldGhlciB3aXRoIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0gdG8gcHJvdmlkZSBkYXRhLWJpbmRpbmdcbiAqIGJldHdlZW4gdGhlIHNjb3BlIGFuZCB0aGUgYDxzZWxlY3Q+YCBjb250cm9sIChpbmNsdWRpbmcgc2V0dGluZyBkZWZhdWx0IHZhbHVlcykuXG4gKiBJdCBhbHNvIGhhbmRsZXMgZHluYW1pYyBgPG9wdGlvbj5gIGVsZW1lbnRzLCB3aGljaCBjYW4gYmUgYWRkZWQgdXNpbmcgdGhlIHtAbGluayBuZ1JlcGVhdCBgbmdSZXBlYXR9YCBvclxuICoge0BsaW5rIG5nT3B0aW9ucyBgbmdPcHRpb25zYH0gZGlyZWN0aXZlcy5cbiAqXG4gKiBXaGVuIGFuIGl0ZW0gaW4gdGhlIGA8c2VsZWN0PmAgbWVudSBpcyBzZWxlY3RlZCwgdGhlIHZhbHVlIG9mIHRoZSBzZWxlY3RlZCBvcHRpb24gd2lsbCBiZSBib3VuZFxuICogdG8gdGhlIG1vZGVsIGlkZW50aWZpZWQgYnkgdGhlIGBuZ01vZGVsYCBkaXJlY3RpdmUuIFdpdGggc3RhdGljIG9yIHJlcGVhdGVkIG9wdGlvbnMsIHRoaXMgaXNcbiAqIHRoZSBjb250ZW50IG9mIHRoZSBgdmFsdWVgIGF0dHJpYnV0ZSBvciB0aGUgdGV4dENvbnRlbnQgb2YgdGhlIGA8b3B0aW9uPmAsIGlmIHRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgbWlzc2luZy5cbiAqIFZhbHVlIGFuZCB0ZXh0Q29udGVudCBjYW4gYmUgaW50ZXJwb2xhdGVkLlxuICpcbiAqIFRoZSB7QGxpbmsgc2VsZWN0LlNlbGVjdENvbnRyb2xsZXIgc2VsZWN0IGNvbnRyb2xsZXJ9IGV4cG9zZXMgdXRpbGl0eSBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgdXNlZFxuICogdG8gbWFuaXB1bGF0ZSB0aGUgc2VsZWN0J3MgYmVoYXZpb3IuXG4gKlxuICogIyMgTWF0Y2hpbmcgbW9kZWwgYW5kIG9wdGlvbiB2YWx1ZXNcbiAqXG4gKiBJbiBnZW5lcmFsLCB0aGUgbWF0Y2ggYmV0d2VlbiB0aGUgbW9kZWwgYW5kIGFuIG9wdGlvbiBpcyBldmFsdWF0ZWQgYnkgc3RyaWN0bHkgY29tcGFyaW5nIHRoZSBtb2RlbFxuICogdmFsdWUgYWdhaW5zdCB0aGUgdmFsdWUgb2YgdGhlIGF2YWlsYWJsZSBvcHRpb25zLlxuICpcbiAqIElmIHlvdSBhcmUgc2V0dGluZyB0aGUgb3B0aW9uIHZhbHVlIHdpdGggdGhlIG9wdGlvbidzIGB2YWx1ZWAgYXR0cmlidXRlLCBvciB0ZXh0Q29udGVudCwgdGhlXG4gKiB2YWx1ZSB3aWxsIGFsd2F5cyBiZSBhIGBzdHJpbmdgIHdoaWNoIG1lYW5zIHRoYXQgdGhlIG1vZGVsIHZhbHVlIG11c3QgYWxzbyBiZSBhIHN0cmluZy5cbiAqIE90aGVyd2lzZSB0aGUgYHNlbGVjdGAgZGlyZWN0aXZlIGNhbm5vdCBtYXRjaCB0aGVtIGNvcnJlY3RseS5cbiAqXG4gKiBUbyBiaW5kIHRoZSBtb2RlbCB0byBhIG5vbi1zdHJpbmcgdmFsdWUsIHlvdSBjYW4gdXNlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHN0cmF0ZWdpZXM6XG4gKiAtIHRoZSB7QGxpbmsgbmcubmdPcHRpb25zIGBuZ09wdGlvbnNgfSBkaXJlY3RpdmVcbiAqICAgKHtAbGluayBuZy5zZWxlY3QjdXNpbmctc2VsZWN0LXdpdGgtbmdvcHRpb25zLWFuZC1zZXR0aW5nLWEtZGVmYXVsdC12YWx1ZX0pXG4gKiAtIHRoZSB7QGxpbmsgbmcubmdWYWx1ZSBgbmdWYWx1ZWB9IGRpcmVjdGl2ZSwgd2hpY2ggYWxsb3dzIGFyYml0cmFyeSBleHByZXNzaW9ucyB0byBiZVxuICogICBvcHRpb24gdmFsdWVzICh7QGxpbmsgbmcuc2VsZWN0I3VzaW5nLW5ndmFsdWUtdG8tYmluZC10aGUtbW9kZWwtdG8tYW4tYXJyYXktb2Ytb2JqZWN0cyBFeGFtcGxlfSlcbiAqIC0gbW9kZWwgJHBhcnNlcnMgLyAkZm9ybWF0dGVycyB0byBjb252ZXJ0IHRoZSBzdHJpbmcgdmFsdWVcbiAqICAgKHtAbGluayBuZy5zZWxlY3QjYmluZGluZy1zZWxlY3QtdG8tYS1ub24tc3RyaW5nLXZhbHVlLXZpYS1uZ21vZGVsLXBhcnNpbmctZm9ybWF0dGluZyBFeGFtcGxlfSlcbiAqXG4gKiBJZiB0aGUgdmlld1ZhbHVlIG9mIGBuZ01vZGVsYCBkb2VzIG5vdCBtYXRjaCBhbnkgb2YgdGhlIG9wdGlvbnMsIHRoZW4gdGhlIGNvbnRyb2xcbiAqIHdpbGwgYXV0b21hdGljYWxseSBhZGQgYW4gXCJ1bmtub3duXCIgb3B0aW9uLCB3aGljaCBpdCB0aGVuIHJlbW92ZXMgd2hlbiB0aGUgbWlzbWF0Y2ggaXMgcmVzb2x2ZWQuXG4gKlxuICogT3B0aW9uYWxseSwgYSBzaW5nbGUgaGFyZC1jb2RlZCBgPG9wdGlvbj5gIGVsZW1lbnQsIHdpdGggdGhlIHZhbHVlIHNldCB0byBhbiBlbXB0eSBzdHJpbmcsIGNhblxuICogYmUgbmVzdGVkIGludG8gdGhlIGA8c2VsZWN0PmAgZWxlbWVudC4gVGhpcyBlbGVtZW50IHdpbGwgdGhlbiByZXByZXNlbnQgdGhlIGBudWxsYCBvciBcIm5vdCBzZWxlY3RlZFwiXG4gKiBvcHRpb24uIFNlZSBleGFtcGxlIGJlbG93IGZvciBkZW1vbnN0cmF0aW9uLlxuICpcbiAqICMjIENob29zaW5nIGJldHdlZW4gYG5nUmVwZWF0YCBhbmQgYG5nT3B0aW9uc2BcbiAqXG4gKiBJbiBtYW55IGNhc2VzLCBgbmdSZXBlYXRgIGNhbiBiZSB1c2VkIG9uIGA8b3B0aW9uPmAgZWxlbWVudHMgaW5zdGVhZCBvZiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nT3B0aW9uc1xuICogbmdPcHRpb25zfSB0byBhY2hpZXZlIGEgc2ltaWxhciByZXN1bHQuIEhvd2V2ZXIsIGBuZ09wdGlvbnNgIHByb3ZpZGVzIHNvbWUgYmVuZWZpdHM6XG4gKiAtIG1vcmUgZmxleGliaWxpdHkgaW4gaG93IHRoZSBgPHNlbGVjdD5gJ3MgbW9kZWwgaXMgYXNzaWduZWQgdmlhIHRoZSBgc2VsZWN0YCAqKmBhc2AqKiBwYXJ0IG9mIHRoZVxuICogY29tcHJlaGVuc2lvbiBleHByZXNzaW9uXG4gKiAtIHJlZHVjZWQgbWVtb3J5IGNvbnN1bXB0aW9uIGJ5IG5vdCBjcmVhdGluZyBhIG5ldyBzY29wZSBmb3IgZWFjaCByZXBlYXRlZCBpbnN0YW5jZVxuICogLSBpbmNyZWFzZWQgcmVuZGVyIHNwZWVkIGJ5IGNyZWF0aW5nIHRoZSBvcHRpb25zIGluIGEgZG9jdW1lbnRGcmFnbWVudCBpbnN0ZWFkIG9mIGluZGl2aWR1YWxseVxuICpcbiAqIFNwZWNpZmljYWxseSwgc2VsZWN0IHdpdGggcmVwZWF0ZWQgb3B0aW9ucyBzbG93cyBkb3duIHNpZ25pZmljYW50bHkgc3RhcnRpbmcgYXQgMjAwMCBvcHRpb25zIGluXG4gKiBDaHJvbWUgYW5kIEludGVybmV0IEV4cGxvcmVyIC8gRWRnZS5cbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBBbmd1bGFySlMgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG11bHRpcGxlIEFsbG93cyBtdWx0aXBsZSBvcHRpb25zIHRvIGJlIHNlbGVjdGVkLiBUaGUgc2VsZWN0ZWQgdmFsdWVzIHdpbGwgYmVcbiAqICAgICBib3VuZCB0byB0aGUgbW9kZWwgYXMgYW4gYXJyYXkuXG4gKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyByZXF1aXJlZCBhdHRyaWJ1dGUgYW5kIHJlcXVpcmVkIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICogdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgbmdSZXF1aXJlZCBpbnN0ZWFkIG9mIHJlcXVpcmVkXG4gKiB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgcmVxdWlyZWQgYXR0cmlidXRlLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFySlMgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIHNlbGVjdGVkIG9wdGlvbihzKSBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBzZWxlY3QgZWxlbWVudC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdPcHRpb25zIHNldHMgdGhlIG9wdGlvbnMgdGhhdCB0aGUgc2VsZWN0IGlzIHBvcHVsYXRlZCB3aXRoIGFuZCBkZWZpbmVzIHdoYXQgaXNcbiAqIHNldCBvbiB0aGUgbW9kZWwgb24gc2VsZWN0aW9uLiBTZWUge0BsaW5rIG5nT3B0aW9ucyBgbmdPcHRpb25zYH0uXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nQXR0clNpemUgc2V0cyB0aGUgc2l6ZSBvZiB0aGUgc2VsZWN0IGVsZW1lbnQgZHluYW1pY2FsbHkuIFVzZXMgdGhlXG4gKiB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiMtbmdhdHRyLWZvci1iaW5kaW5nLXRvLWFyYml0cmFyeS1hdHRyaWJ1dGVzIG5nQXR0cn0gZGlyZWN0aXZlLlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIFNpbXBsZSBgc2VsZWN0YCBlbGVtZW50cyB3aXRoIHN0YXRpYyBvcHRpb25zXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cInN0YXRpYy1zZWxlY3RcIiBtb2R1bGU9XCJzdGF0aWNTZWxlY3RcIj5cbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XG4gKiAgICAgPGxhYmVsIGZvcj1cInNpbmdsZVNlbGVjdFwiPiBTaW5nbGUgc2VsZWN0OiA8L2xhYmVsPjxicj5cbiAqICAgICA8c2VsZWN0IG5hbWU9XCJzaW5nbGVTZWxlY3RcIiBuZy1tb2RlbD1cImRhdGEuc2luZ2xlU2VsZWN0XCI+XG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTFcIj5PcHRpb24gMTwvb3B0aW9uPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0yXCI+T3B0aW9uIDI8L29wdGlvbj5cbiAqICAgICA8L3NlbGVjdD48YnI+XG4gKlxuICogICAgIDxsYWJlbCBmb3I9XCJzaW5nbGVTZWxlY3RcIj4gU2luZ2xlIHNlbGVjdCB3aXRoIFwibm90IHNlbGVjdGVkXCIgb3B0aW9uIGFuZCBkeW5hbWljIG9wdGlvbiB2YWx1ZXM6IDwvbGFiZWw+PGJyPlxuICogICAgIDxzZWxlY3QgbmFtZT1cInNpbmdsZVNlbGVjdFwiIGlkPVwic2luZ2xlU2VsZWN0XCIgbmctbW9kZWw9XCJkYXRhLnNpbmdsZVNlbGVjdFwiPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPi0tLVBsZWFzZSBzZWxlY3QtLS08L29wdGlvbj4gPCEtLSBub3Qgc2VsZWN0ZWQgLyBibGFuayBvcHRpb24gLS0+XG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwie3tkYXRhLm9wdGlvbjF9fVwiPk9wdGlvbiAxPC9vcHRpb24+IDwhLS0gaW50ZXJwb2xhdGlvbiAtLT5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJvcHRpb24tMlwiPk9wdGlvbiAyPC9vcHRpb24+XG4gKiAgICAgPC9zZWxlY3Q+PGJyPlxuICogICAgIDxidXR0b24gbmctY2xpY2s9XCJmb3JjZVVua25vd25PcHRpb24oKVwiPkZvcmNlIHVua25vd24gb3B0aW9uPC9idXR0b24+PGJyPlxuICogICAgIDx0dD5zaW5nbGVTZWxlY3QgPSB7e2RhdGEuc2luZ2xlU2VsZWN0fX08L3R0PlxuICpcbiAqICAgICA8aHI+XG4gKiAgICAgPGxhYmVsIGZvcj1cIm11bHRpcGxlU2VsZWN0XCI+IE11bHRpcGxlIHNlbGVjdDogPC9sYWJlbD48YnI+XG4gKiAgICAgPHNlbGVjdCBuYW1lPVwibXVsdGlwbGVTZWxlY3RcIiBpZD1cIm11bHRpcGxlU2VsZWN0XCIgbmctbW9kZWw9XCJkYXRhLm11bHRpcGxlU2VsZWN0XCIgbXVsdGlwbGU+XG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTFcIj5PcHRpb24gMTwvb3B0aW9uPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0yXCI+T3B0aW9uIDI8L29wdGlvbj5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJvcHRpb24tM1wiPk9wdGlvbiAzPC9vcHRpb24+XG4gKiAgICAgPC9zZWxlY3Q+PGJyPlxuICogICAgIDx0dD5tdWx0aXBsZVNlbGVjdCA9IHt7ZGF0YS5tdWx0aXBsZVNlbGVjdH19PC90dD48YnIvPlxuICogICA8L2Zvcm0+XG4gKiA8L2Rpdj5cbiAqIDwvZmlsZT5cbiAqIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICBhbmd1bGFyLm1vZHVsZSgnc3RhdGljU2VsZWN0JywgW10pXG4gKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAkc2NvcGUuZGF0YSA9IHtcbiAqICAgICAgIHNpbmdsZVNlbGVjdDogbnVsbCxcbiAqICAgICAgIG11bHRpcGxlU2VsZWN0OiBbXSxcbiAqICAgICAgIG9wdGlvbjE6ICdvcHRpb24tMSdcbiAqICAgICAgfTtcbiAqXG4gKiAgICAgICRzY29wZS5mb3JjZVVua25vd25PcHRpb24gPSBmdW5jdGlvbigpIHtcbiAqICAgICAgICAkc2NvcGUuZGF0YS5zaW5nbGVTZWxlY3QgPSAnbm9uc2Vuc2UnO1xuICogICAgICB9O1xuICogICB9XSk7XG4gKiA8L2ZpbGU+XG4gKjwvZXhhbXBsZT5cbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIFVzaW5nIGBuZ1JlcGVhdGAgdG8gZ2VuZXJhdGUgYHNlbGVjdGAgb3B0aW9uc1xuICogPGV4YW1wbGUgbmFtZT1cInNlbGVjdC1uZ3JlcGVhdFwiIG1vZHVsZT1cIm5ncmVwZWF0U2VsZWN0XCI+XG4gKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAqICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxuICogICAgIDxsYWJlbCBmb3I9XCJyZXBlYXRTZWxlY3RcIj4gUmVwZWF0IHNlbGVjdDogPC9sYWJlbD5cbiAqICAgICA8c2VsZWN0IG5hbWU9XCJyZXBlYXRTZWxlY3RcIiBpZD1cInJlcGVhdFNlbGVjdFwiIG5nLW1vZGVsPVwiZGF0YS5tb2RlbFwiPlxuICogICAgICAgPG9wdGlvbiBuZy1yZXBlYXQ9XCJvcHRpb24gaW4gZGF0YS5hdmFpbGFibGVPcHRpb25zXCIgdmFsdWU9XCJ7e29wdGlvbi5pZH19XCI+e3tvcHRpb24ubmFtZX19PC9vcHRpb24+XG4gKiAgICAgPC9zZWxlY3Q+XG4gKiAgIDwvZm9ybT5cbiAqICAgPGhyPlxuICogICA8dHQ+bW9kZWwgPSB7e2RhdGEubW9kZWx9fTwvdHQ+PGJyLz5cbiAqIDwvZGl2PlxuICogPC9maWxlPlxuICogPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogIGFuZ3VsYXIubW9kdWxlKCduZ3JlcGVhdFNlbGVjdCcsIFtdKVxuICogICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgJHNjb3BlLmRhdGEgPSB7XG4gKiAgICAgICBtb2RlbDogbnVsbCxcbiAqICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcbiAqICAgICAgICAge2lkOiAnMScsIG5hbWU6ICdPcHRpb24gQSd9LFxuICogICAgICAgICB7aWQ6ICcyJywgbmFtZTogJ09wdGlvbiBCJ30sXG4gKiAgICAgICAgIHtpZDogJzMnLCBuYW1lOiAnT3B0aW9uIEMnfVxuICogICAgICAgXVxuICogICAgICB9O1xuICogICB9XSk7XG4gKiA8L2ZpbGU+XG4gKjwvZXhhbXBsZT5cbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIFVzaW5nIGBuZ1ZhbHVlYCB0byBiaW5kIHRoZSBtb2RlbCB0byBhbiBhcnJheSBvZiBvYmplY3RzXG4gKiA8ZXhhbXBsZSBuYW1lPVwic2VsZWN0LW5ndmFsdWVcIiBtb2R1bGU9XCJuZ3ZhbHVlU2VsZWN0XCI+XG4gKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAqICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxuICogICAgIDxsYWJlbCBmb3I9XCJuZ3ZhbHVlc2VsZWN0XCI+IG5ndmFsdWUgc2VsZWN0OiA8L2xhYmVsPlxuICogICAgIDxzZWxlY3Qgc2l6ZT1cIjZcIiBuYW1lPVwibmd2YWx1ZXNlbGVjdFwiIG5nLW1vZGVsPVwiZGF0YS5tb2RlbFwiIG11bHRpcGxlPlxuICogICAgICAgPG9wdGlvbiBuZy1yZXBlYXQ9XCJvcHRpb24gaW4gZGF0YS5hdmFpbGFibGVPcHRpb25zXCIgbmctdmFsdWU9XCJvcHRpb24udmFsdWVcIj57e29wdGlvbi5uYW1lfX08L29wdGlvbj5cbiAqICAgICA8L3NlbGVjdD5cbiAqICAgPC9mb3JtPlxuICogICA8aHI+XG4gKiAgIDxwcmU+bW9kZWwgPSB7e2RhdGEubW9kZWwgfCBqc29ufX08L3ByZT48YnIvPlxuICogPC9kaXY+XG4gKiA8L2ZpbGU+XG4gKiA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgYW5ndWxhci5tb2R1bGUoJ25ndmFsdWVTZWxlY3QnLCBbXSlcbiAqICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gKiAgICAgICRzY29wZS5kYXRhID0ge1xuICogICAgICAgbW9kZWw6IG51bGwsXG4gKiAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXG4gICAgICAgICAgIHt2YWx1ZTogJ215U3RyaW5nJywgbmFtZTogJ3N0cmluZyd9LFxuICAgICAgICAgICB7dmFsdWU6IDEsIG5hbWU6ICdpbnRlZ2VyJ30sXG4gICAgICAgICAgIHt2YWx1ZTogdHJ1ZSwgbmFtZTogJ2Jvb2xlYW4nfSxcbiAgICAgICAgICAge3ZhbHVlOiBudWxsLCBuYW1lOiAnbnVsbCd9LFxuICAgICAgICAgICB7dmFsdWU6IHtwcm9wOiAndmFsdWUnfSwgbmFtZTogJ29iamVjdCd9LFxuICAgICAgICAgICB7dmFsdWU6IFsnYSddLCBuYW1lOiAnYXJyYXknfVxuICogICAgICAgXVxuICogICAgICB9O1xuICogICB9XSk7XG4gKiA8L2ZpbGU+XG4gKjwvZXhhbXBsZT5cbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIFVzaW5nIGBzZWxlY3RgIHdpdGggYG5nT3B0aW9uc2AgYW5kIHNldHRpbmcgYSBkZWZhdWx0IHZhbHVlXG4gKiBTZWUgdGhlIHtAbGluayBuZ09wdGlvbnMgbmdPcHRpb25zIGRvY3VtZW50YXRpb259IGZvciBtb3JlIGBuZ09wdGlvbnNgIHVzYWdlIGV4YW1wbGVzLlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJzZWxlY3Qtd2l0aC1kZWZhdWx0LXZhbHVlc1wiIG1vZHVsZT1cImRlZmF1bHRWYWx1ZVNlbGVjdFwiPlxuICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gKiAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cbiAqICAgICA8bGFiZWwgZm9yPVwibXlTZWxlY3RcIj5NYWtlIGEgY2hvaWNlOjwvbGFiZWw+XG4gKiAgICAgPHNlbGVjdCBuYW1lPVwibXlTZWxlY3RcIiBpZD1cIm15U2VsZWN0XCJcbiAqICAgICAgIG5nLW9wdGlvbnM9XCJvcHRpb24ubmFtZSBmb3Igb3B0aW9uIGluIGRhdGEuYXZhaWxhYmxlT3B0aW9ucyB0cmFjayBieSBvcHRpb24uaWRcIlxuICogICAgICAgbmctbW9kZWw9XCJkYXRhLnNlbGVjdGVkT3B0aW9uXCI+PC9zZWxlY3Q+XG4gKiAgIDwvZm9ybT5cbiAqICAgPGhyPlxuICogICA8dHQ+b3B0aW9uID0ge3tkYXRhLnNlbGVjdGVkT3B0aW9ufX08L3R0Pjxici8+XG4gKiA8L2Rpdj5cbiAqIDwvZmlsZT5cbiAqIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICBhbmd1bGFyLm1vZHVsZSgnZGVmYXVsdFZhbHVlU2VsZWN0JywgW10pXG4gKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAkc2NvcGUuZGF0YSA9IHtcbiAqICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcbiAqICAgICAgICAge2lkOiAnMScsIG5hbWU6ICdPcHRpb24gQSd9LFxuICogICAgICAgICB7aWQ6ICcyJywgbmFtZTogJ09wdGlvbiBCJ30sXG4gKiAgICAgICAgIHtpZDogJzMnLCBuYW1lOiAnT3B0aW9uIEMnfVxuICogICAgICAgXSxcbiAqICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICczJywgbmFtZTogJ09wdGlvbiBDJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcbiAqICAgICAgIH07XG4gKiAgIH1dKTtcbiAqIDwvZmlsZT5cbiAqPC9leGFtcGxlPlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgQmluZGluZyBgc2VsZWN0YCB0byBhIG5vbi1zdHJpbmcgdmFsdWUgdmlhIGBuZ01vZGVsYCBwYXJzaW5nIC8gZm9ybWF0dGluZ1xuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJzZWxlY3Qtd2l0aC1ub24tc3RyaW5nLW9wdGlvbnNcIiBtb2R1bGU9XCJub25TdHJpbmdTZWxlY3RcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibW9kZWwuaWRcIiBjb252ZXJ0LXRvLW51bWJlcj5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCIwXCI+WmVybzwvb3B0aW9uPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIjFcIj5PbmU8L29wdGlvbj5cbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCIyXCI+VHdvPC9vcHRpb24+XG4gKiAgICAgPC9zZWxlY3Q+XG4gKiAgICAge3sgbW9kZWwgfX1cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgICAgYW5ndWxhci5tb2R1bGUoJ25vblN0cmluZ1NlbGVjdCcsIFtdKVxuICogICAgICAgLnJ1bihmdW5jdGlvbigkcm9vdFNjb3BlKSB7XG4gKiAgICAgICAgICRyb290U2NvcGUubW9kZWwgPSB7IGlkOiAyIH07XG4gKiAgICAgICB9KVxuICogICAgICAgLmRpcmVjdGl2ZSgnY29udmVydFRvTnVtYmVyJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgIHJldHVybiB7XG4gKiAgICAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICogICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICogICAgICAgICAgICAgbmdNb2RlbC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbCkge1xuICogICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsLCAxMCk7XG4gKiAgICAgICAgICAgICB9KTtcbiAqICAgICAgICAgICAgIG5nTW9kZWwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWwpIHtcbiAqICAgICAgICAgICAgICAgcmV0dXJuICcnICsgdmFsO1xuICogICAgICAgICAgICAgfSk7XG4gKiAgICAgICAgICAgfVxuICogICAgICAgICB9O1xuICogICAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ21vZGVsLmlkJykpLiQoJ29wdGlvbjpjaGVja2VkJykuZ2V0VGV4dCgpKS50b0VxdWFsKCdUd28nKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqL1xudmFyIHNlbGVjdERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXF1aXJlOiBbJ3NlbGVjdCcsICc/bmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6IFNlbGVjdENvbnRyb2xsZXIsXG4gICAgcHJpb3JpdHk6IDEsXG4gICAgbGluazoge1xuICAgICAgcHJlOiBzZWxlY3RQcmVMaW5rLFxuICAgICAgcG9zdDogc2VsZWN0UG9zdExpbmtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gc2VsZWN0UHJlTGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcblxuICAgICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1swXTtcbiAgICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICAvLyBpZiBuZ01vZGVsIGlzIG5vdCBkZWZpbmVkLCB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nIGJ1dCBzZXQgdGhlIHJlZ2lzdGVyT3B0aW9uXG4gICAgICAvLyBmdW5jdGlvbiB0byBub29wLCBzbyBvcHRpb25zIGRvbid0IGdldCBhZGRlZCBpbnRlcm5hbGx5XG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7XG4gICAgICAgIHNlbGVjdEN0cmwucmVnaXN0ZXJPcHRpb24gPSBub29wO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cblxuICAgICAgc2VsZWN0Q3RybC5uZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsO1xuXG4gICAgICAvLyBXaGVuIHRoZSBzZWxlY3RlZCBpdGVtKHMpIGNoYW5nZXMgd2UgZGVsZWdhdGUgZ2V0dGluZyB0aGUgdmFsdWUgb2YgdGhlIHNlbGVjdCBjb250cm9sXG4gICAgICAvLyB0byB0aGUgYHJlYWRWYWx1ZWAgbWV0aG9kLCB3aGljaCBjYW4gYmUgY2hhbmdlZCBpZiB0aGUgc2VsZWN0IGNhbiBoYXZlIG11bHRpcGxlXG4gICAgICAvLyBzZWxlY3RlZCB2YWx1ZXMgb3IgaWYgdGhlIG9wdGlvbnMgYXJlIGJlaW5nIGdlbmVyYXRlZCBieSBgbmdPcHRpb25zYFxuICAgICAgZWxlbWVudC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGVjdEN0cmwucmVtb3ZlVW5rbm93bk9wdGlvbigpO1xuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShzZWxlY3RDdHJsLnJlYWRWYWx1ZSgpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gSWYgdGhlIHNlbGVjdCBhbGxvd3MgbXVsdGlwbGUgdmFsdWVzIHRoZW4gd2UgbmVlZCB0byBtb2RpZnkgaG93IHdlIHJlYWQgYW5kIHdyaXRlXG4gICAgICAvLyB2YWx1ZXMgZnJvbSBhbmQgdG8gdGhlIGNvbnRyb2w7IGFsc28gd2hhdCBpdCBtZWFucyBmb3IgdGhlIHZhbHVlIHRvIGJlIGVtcHR5IGFuZFxuICAgICAgLy8gd2UgaGF2ZSB0byBhZGQgYW4gZXh0cmEgd2F0Y2ggc2luY2UgbmdNb2RlbCBkb2Vzbid0IHdvcmsgd2VsbCB3aXRoIGFycmF5cyAtIGl0XG4gICAgICAvLyBkb2Vzbid0IHRyaWdnZXIgcmVuZGVyaW5nIGlmIG9ubHkgYW4gaXRlbSBpbiB0aGUgYXJyYXkgY2hhbmdlcy5cbiAgICAgIGlmIChhdHRyLm11bHRpcGxlKSB7XG4gICAgICAgIHNlbGVjdEN0cmwubXVsdGlwbGUgPSB0cnVlO1xuXG4gICAgICAgIC8vIFJlYWQgdmFsdWUgbm93IG5lZWRzIHRvIGNoZWNrIGVhY2ggb3B0aW9uIHRvIHNlZSBpZiBpdCBpcyBzZWxlY3RlZFxuICAgICAgICBzZWxlY3RDdHJsLnJlYWRWYWx1ZSA9IGZ1bmN0aW9uIHJlYWRNdWx0aXBsZVZhbHVlKCkge1xuICAgICAgICAgIHZhciBhcnJheSA9IFtdO1xuICAgICAgICAgIGZvckVhY2goZWxlbWVudC5maW5kKCdvcHRpb24nKSwgZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkICYmICFvcHRpb24uZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgdmFyIHZhbCA9IG9wdGlvbi52YWx1ZTtcbiAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWwgaW4gc2VsZWN0Q3RybC5zZWxlY3RWYWx1ZU1hcCA/IHNlbGVjdEN0cmwuc2VsZWN0VmFsdWVNYXBbdmFsXSA6IHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFdyaXRlIHZhbHVlIG5vdyBuZWVkcyB0byBzZXQgdGhlIHNlbGVjdGVkIHByb3BlcnR5IG9mIGVhY2ggbWF0Y2hpbmcgb3B0aW9uXG4gICAgICAgIHNlbGVjdEN0cmwud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uIHdyaXRlTXVsdGlwbGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICAgIGZvckVhY2goZWxlbWVudC5maW5kKCdvcHRpb24nKSwgZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgICAgICB2YXIgc2hvdWxkQmVTZWxlY3RlZCA9ICEhdmFsdWUgJiYgKGluY2x1ZGVzKHZhbHVlLCBvcHRpb24udmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGVzKHZhbHVlLCBzZWxlY3RDdHJsLnNlbGVjdFZhbHVlTWFwW29wdGlvbi52YWx1ZV0pKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50bHlTZWxlY3RlZCA9IG9wdGlvbi5zZWxlY3RlZDtcblxuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOS0xMSBvbmx5LCBFZGdlIDEyLTE1K1xuICAgICAgICAgICAgLy8gSW4gSUUgYW5kIEVkZ2UgYWRkaW5nIG9wdGlvbnMgdG8gdGhlIHNlbGVjdGlvbiB2aWEgc2hpZnQrY2xpY2svVVAvRE9XTlxuICAgICAgICAgICAgLy8gd2lsbCBkZS1zZWxlY3QgYWxyZWFkeSBzZWxlY3RlZCBvcHRpb25zIGlmIFwic2VsZWN0ZWRcIiBvbiB0aG9zZSBvcHRpb25zIHdhcyBzZXRcbiAgICAgICAgICAgIC8vIG1vcmUgdGhhbiBvbmNlIChpLmUuIHdoZW4gdGhlIG9wdGlvbnMgd2VyZSBhbHJlYWR5IHNlbGVjdGVkKVxuICAgICAgICAgICAgLy8gU28gd2Ugb25seSBtb2RpZnkgdGhlIHNlbGVjdGVkIHByb3BlcnR5IGlmIG5lY2Vzc2FyeS5cbiAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgYmVoYXZpb3IgY2Fubm90IGJlIHJlcGxpY2F0ZWQgdmlhIHVuaXQgdGVzdHMgYmVjYXVzZSBpdCBvbmx5IHNob3dzIGluIHRoZVxuICAgICAgICAgICAgLy8gYWN0dWFsIHVzZXIgaW50ZXJmYWNlLlxuICAgICAgICAgICAgaWYgKHNob3VsZEJlU2VsZWN0ZWQgIT09IGN1cnJlbnRseVNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgIHNldE9wdGlvblNlbGVjdGVkU3RhdHVzKGpxTGl0ZShvcHRpb24pLCBzaG91bGRCZVNlbGVjdGVkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHdlIGhhdmUgdG8gZG8gaXQgb24gZWFjaCB3YXRjaCBzaW5jZSBuZ01vZGVsIHdhdGNoZXMgcmVmZXJlbmNlLCBidXRcbiAgICAgICAgLy8gd2UgbmVlZCB0byB3b3JrIG9mIGFuIGFycmF5LCBzbyB3ZSBuZWVkIHRvIHNlZSBpZiBhbnl0aGluZyB3YXMgaW5zZXJ0ZWQvcmVtb3ZlZFxuICAgICAgICB2YXIgbGFzdFZpZXcsIGxhc3RWaWV3UmVmID0gTmFOO1xuICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gc2VsZWN0TXVsdGlwbGVXYXRjaCgpIHtcbiAgICAgICAgICBpZiAobGFzdFZpZXdSZWYgPT09IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgJiYgIWVxdWFscyhsYXN0VmlldywgbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGxhc3RWaWV3ID0gc2hhbGxvd0NvcHkobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSk7XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3RWaWV3UmVmID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSWYgd2UgYXJlIGEgbXVsdGlwbGUgc2VsZWN0IHRoZW4gdmFsdWUgaXMgbm93IGEgY29sbGVjdGlvblxuICAgICAgICAvLyBzbyB0aGUgbWVhbmluZyBvZiAkaXNFbXB0eSBjaGFuZ2VzXG4gICAgICAgIG5nTW9kZWxDdHJsLiRpc0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgfTtcblxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbGVjdFBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIC8vIGlmIG5nTW9kZWwgaXMgbm90IGRlZmluZWQsIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmdcbiAgICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuICAgICAgaWYgKCFuZ01vZGVsQ3RybCkgcmV0dXJuO1xuXG4gICAgICB2YXIgc2VsZWN0Q3RybCA9IGN0cmxzWzBdO1xuXG4gICAgICAvLyBXZSBkZWxlZ2F0ZSByZW5kZXJpbmcgdG8gdGhlIGB3cml0ZVZhbHVlYCBtZXRob2QsIHdoaWNoIGNhbiBiZSBjaGFuZ2VkXG4gICAgICAvLyBpZiB0aGUgc2VsZWN0IGNhbiBoYXZlIG11bHRpcGxlIHNlbGVjdGVkIHZhbHVlcyBvciBpZiB0aGUgb3B0aW9ucyBhcmUgYmVpbmdcbiAgICAgIC8vIGdlbmVyYXRlZCBieSBgbmdPcHRpb25zYC5cbiAgICAgIC8vIFRoaXMgbXVzdCBiZSBkb25lIGluIHRoZSBwb3N0TGluayBmbiB0byBwcmV2ZW50ICRyZW5kZXIgdG8gYmUgY2FsbGVkIGJlZm9yZVxuICAgICAgLy8gYWxsIG5vZGVzIGhhdmUgYmVlbiBsaW5rZWQgY29ycmVjdGx5LlxuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxlY3RDdHJsLndyaXRlVmFsdWUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSk7XG4gICAgICB9O1xuICAgIH1cbn07XG5cblxuLy8gVGhlIG9wdGlvbiBkaXJlY3RpdmUgaXMgcHVyZWx5IGRlc2lnbmVkIHRvIGNvbW11bmljYXRlIHRoZSBleGlzdGVuY2UgKG9yIGxhY2sgb2YpXG4vLyBvZiBkeW5hbWljYWxseSBjcmVhdGVkIChhbmQgZGVzdHJveWVkKSBvcHRpb24gZWxlbWVudHMgdG8gdGhlaXIgY29udGFpbmluZyBzZWxlY3Rcbi8vIGRpcmVjdGl2ZSB2aWEgaXRzIGNvbnRyb2xsZXIuXG52YXIgb3B0aW9uRGlyZWN0aXZlID0gWyckaW50ZXJwb2xhdGUnLCBmdW5jdGlvbigkaW50ZXJwb2xhdGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHByaW9yaXR5OiAxMDAsXG4gICAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xuICAgICAgdmFyIGludGVycG9sYXRlVmFsdWVGbiwgaW50ZXJwb2xhdGVUZXh0Rm47XG5cbiAgICAgIGlmIChpc0RlZmluZWQoYXR0ci5uZ1ZhbHVlKSkge1xuICAgICAgICAvLyBXaWxsIGJlIGhhbmRsZWQgYnkgcmVnaXN0ZXJPcHRpb25cbiAgICAgIH0gZWxzZSBpZiAoaXNEZWZpbmVkKGF0dHIudmFsdWUpKSB7XG4gICAgICAgIC8vIElmIHRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgZGVmaW5lZCwgY2hlY2sgaWYgaXQgY29udGFpbnMgYW4gaW50ZXJwb2xhdGlvblxuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlRm4gPSAkaW50ZXJwb2xhdGUoYXR0ci52YWx1ZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiB0aGUgdmFsdWUgYXR0cmlidXRlIGlzIG5vdCBkZWZpbmVkIHRoZW4gd2UgZmFsbCBiYWNrIHRvIHRoZVxuICAgICAgICAvLyB0ZXh0IGNvbnRlbnQgb2YgdGhlIG9wdGlvbiBlbGVtZW50LCB3aGljaCBtYXkgYmUgaW50ZXJwb2xhdGVkXG4gICAgICAgIGludGVycG9sYXRlVGV4dEZuID0gJGludGVycG9sYXRlKGVsZW1lbnQudGV4dCgpLCB0cnVlKTtcbiAgICAgICAgaWYgKCFpbnRlcnBvbGF0ZVRleHRGbikge1xuICAgICAgICAgIGF0dHIuJHNldCgndmFsdWUnLCBlbGVtZW50LnRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYW4gb3B0aW1pemF0aW9uIG92ZXIgdXNpbmcgXl4gc2luY2Ugd2UgZG9uJ3Qgd2FudCB0byBoYXZlIHRvIHNlYXJjaFxuICAgICAgICAvLyBhbGwgdGhlIHdheSB0byB0aGUgcm9vdCBvZiB0aGUgRE9NIGZvciBldmVyeSBzaW5nbGUgb3B0aW9uIGVsZW1lbnRcbiAgICAgICAgdmFyIHNlbGVjdEN0cmxOYW1lID0gJyRzZWxlY3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHBhcmVudCA9IGVsZW1lbnQucGFyZW50KCksXG4gICAgICAgICAgICBzZWxlY3RDdHJsID0gcGFyZW50LmRhdGEoc2VsZWN0Q3RybE5hbWUpIHx8XG4gICAgICAgICAgICAgIHBhcmVudC5wYXJlbnQoKS5kYXRhKHNlbGVjdEN0cmxOYW1lKTsgLy8gaW4gY2FzZSB3ZSBhcmUgaW4gb3B0Z3JvdXBcblxuICAgICAgICBpZiAoc2VsZWN0Q3RybCkge1xuICAgICAgICAgIHNlbGVjdEN0cmwucmVnaXN0ZXJPcHRpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGludGVycG9sYXRlVmFsdWVGbiwgaW50ZXJwb2xhdGVUZXh0Rm4pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUmVxdWlyZWRcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1JlcXVpcmVkIEFuZ3VsYXJKUyBleHByZXNzaW9uLiBJZiBpdCBldmFsdWF0ZXMgdG8gYHRydWVgLCBpdCBzZXRzIHRoZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGByZXF1aXJlZGAgYXR0cmlidXRlIHRvIHRoZSBlbGVtZW50IGFuZCBhZGRzIHRoZSBgcmVxdWlyZWRgXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYHZhbGlkYXRvcmB9LlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIG5nUmVxdWlyZWQgYWRkcyB0aGUgcmVxdWlyZWQge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYHZhbGlkYXRvcmB9IHRvIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0uXG4gKiBJdCBpcyBtb3N0IG9mdGVuIHVzZWQgZm9yIHtAbGluayBpbnB1dCBgaW5wdXRgfSBhbmQge0BsaW5rIHNlbGVjdCBgc2VsZWN0YH0gY29udHJvbHMsIGJ1dCBjYW4gYWxzbyBiZVxuICogYXBwbGllZCB0byBjdXN0b20gY29udHJvbHMuXG4gKlxuICogVGhlIGRpcmVjdGl2ZSBzZXRzIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBpZiB0aGUgQW5ndWxhckpTIGV4cHJlc3Npb24gaW5zaWRlXG4gKiBgbmdSZXF1aXJlZGAgZXZhbHVhdGVzIHRvIHRydWUuIEEgc3BlY2lhbCBkaXJlY3RpdmUgZm9yIHNldHRpbmcgYHJlcXVpcmVkYCBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3ZVxuICogY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSBgcmVxdWlyZWRgLiBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb24gZ3VpZGV9XG4gKiBmb3IgbW9yZSBpbmZvLlxuICpcbiAqIFRoZSB2YWxpZGF0b3Igd2lsbCBzZXQgdGhlIGByZXF1aXJlZGAgZXJyb3Iga2V5IHRvIHRydWUgaWYgdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlIGlzIHNldCBhbmRcbiAqIGNhbGxpbmcge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJGlzRW1wdHkgYE5nTW9kZWxDb250cm9sbGVyLiRpc0VtcHR5YH0gd2l0aCB0aGVcbiAqIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgYG5nTW9kZWwuJHZpZXdWYWx1ZWB9IHJldHVybnMgYHRydWVgLiBGb3IgZXhhbXBsZSwgdGhlXG4gKiBgJGlzRW1wdHkoKWAgaW1wbGVtZW50YXRpb24gZm9yIGBpbnB1dFt0ZXh0XWAgY2hlY2tzIHRoZSBsZW5ndGggb2YgdGhlIGAkdmlld1ZhbHVlYC4gV2hlbiBkZXZlbG9waW5nXG4gKiBjdXN0b20gY29udHJvbHMsIGAkaXNFbXB0eSgpYCBjYW4gYmUgb3ZlcndyaXR0ZW4gdG8gYWNjb3VudCBmb3IgYSAkdmlld1ZhbHVlIHRoYXQgaXMgbm90IHN0cmluZy1iYXNlZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogPGV4YW1wbGUgbmFtZT1cIm5nUmVxdWlyZWREaXJlY3RpdmVcIiBtb2R1bGU9XCJuZ1JlcXVpcmVkRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxzY3JpcHQ+XG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbmdSZXF1aXJlZEV4YW1wbGUnLCBbXSlcbiAqICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgICAgICAkc2NvcGUucmVxdWlyZWQgPSB0cnVlO1xuICogICAgICAgICB9XSk7XG4gKiAgICAgPC9zY3JpcHQ+XG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAqICAgICAgIDxmb3JtIG5hbWU9XCJmb3JtXCI+XG4gKiAgICAgICAgIDxsYWJlbCBmb3I9XCJyZXF1aXJlZFwiPlRvZ2dsZSByZXF1aXJlZDogPC9sYWJlbD5cbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwicmVxdWlyZWRcIiBpZD1cInJlcXVpcmVkXCIgLz5cbiAqICAgICAgICAgPGJyPlxuICogICAgICAgICA8bGFiZWwgZm9yPVwiaW5wdXRcIj5UaGlzIGlucHV0IG11c3QgYmUgZmlsbGVkIGlmIGByZXF1aXJlZGAgaXMgdHJ1ZTogPC9sYWJlbD5cbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtb2RlbFwiIGlkPVwiaW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1yZXF1aXJlZD1cInJlcXVpcmVkXCIgLz48YnI+XG4gKiAgICAgICAgIDxocj5cbiAqICAgICAgICAgcmVxdWlyZWQgZXJyb3Igc2V0PyA9IDxjb2RlPnt7Zm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWR9fTwvY29kZT48YnI+XG4gKiAgICAgICAgIG1vZGVsID0gPGNvZGU+e3ttb2RlbH19PC9jb2RlPlxuICogICAgICAgPC9mb3JtPlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICB2YXIgcmVxdWlyZWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2Zvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkJykpO1xuICAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygnbW9kZWwnKSk7XG4gICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5pZCgnaW5wdXQnKSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHNldCB0aGUgcmVxdWlyZWQgZXJyb3InLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChyZXF1aXJlZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuXG4gICAgICAgICBpbnB1dC5zZW5kS2V5cygnMTIzJyk7XG4gICAgICAgICBleHBlY3QocmVxdWlyZWQuZ2V0VGV4dCgpKS5ub3QudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEyMycpO1xuICAgICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciByZXF1aXJlZERpcmVjdGl2ZSA9IFsnJHBhcnNlJywgZnVuY3Rpb24oJHBhcnNlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHIsIGN0cmwpIHtcbiAgICAgIGlmICghY3RybCkgcmV0dXJuO1xuICAgICAgdmFyIHZhbHVlID0gYXR0ci5yZXF1aXJlZCB8fCAkcGFyc2UoYXR0ci5uZ1JlcXVpcmVkKShzY29wZSk7XG5cbiAgICAgIGF0dHIucmVxdWlyZWQgPSB0cnVlOyAvLyBmb3JjZSB0cnV0aHkgaW4gY2FzZSB3ZSBhcmUgb24gbm9uIGlucHV0IGVsZW1lbnRcblxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5yZXF1aXJlZCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgICAgICByZXR1cm4gIXZhbHVlIHx8ICFjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSk7XG4gICAgICB9O1xuXG4gICAgICBhdHRyLiRvYnNlcnZlKCdyZXF1aXJlZCcsIGZ1bmN0aW9uKG5ld1ZhbCkge1xuICAgICAgICBpZiAodmFsdWUgIT09IG5ld1ZhbCkge1xuICAgICAgICAgIHZhbHVlID0gbmV3VmFsO1xuICAgICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUGF0dGVyblxuICogQHJlc3RyaWN0IEFcbiAqXG4gKiBAcGFyYW0ge2V4cHJlc3Npb258UmVnRXhwfSBuZ1BhdHRlcm4gQW5ndWxhckpTIGV4cHJlc3Npb24gdGhhdCBtdXN0IGV2YWx1YXRlIHRvIGEgYFJlZ0V4cGAgb3IgYSBgU3RyaW5nYFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNhYmxlIGludG8gYSBgUmVnRXhwYCwgb3IgYSBgUmVnRXhwYCBsaXRlcmFsLiBTZWUgYWJvdmUgZm9yXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9yZSBkZXRhaWxzLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIG5nUGF0dGVybiBhZGRzIHRoZSBwYXR0ZXJuIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGB2YWxpZGF0b3JgfSB0byB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LlxuICogSXQgaXMgbW9zdCBvZnRlbiB1c2VkIGZvciB0ZXh0LWJhc2VkIHtAbGluayBpbnB1dCBgaW5wdXRgfSBjb250cm9scywgYnV0IGNhbiBhbHNvIGJlIGFwcGxpZWQgdG8gY3VzdG9tIHRleHQtYmFzZWQgY29udHJvbHMuXG4gKlxuICogVGhlIHZhbGlkYXRvciBzZXRzIHRoZSBgcGF0dGVybmAgZXJyb3Iga2V5IGlmIHRoZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlIGBuZ01vZGVsLiR2aWV3VmFsdWVgfVxuICogZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgd2hpY2ggaXMgb2J0YWluZWQgZnJvbSB0aGUgYG5nUGF0dGVybmAgYXR0cmlidXRlIHZhbHVlOlxuICogLSB0aGUgdmFsdWUgaXMgYW4gQW5ndWxhckpTIGV4cHJlc3Npb246XG4gKiAgIC0gSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXG4gKiAgIC0gSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwIGFmdGVyIHdyYXBwaW5nIGl0XG4gKiAgICAgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYG5ldyBSZWdFeHAoJ15hYmMkJylgLlxuICogLSBJZiB0aGUgdmFsdWUgaXMgYSBSZWdFeHAgbGl0ZXJhbCwgZS5nLiBgbmdQYXR0ZXJuPVwiL15cXGQrJC9cImAsIGl0IGlzIHVzZWQgZGlyZWN0bHkuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXG4gKiBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xuICogYWNjb3VudC5cbiAqIDwvZGl2PlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiAqKk5vdGU6KiogVGhpcyBkaXJlY3RpdmUgaXMgYWxzbyBhZGRlZCB3aGVuIHRoZSBwbGFpbiBgcGF0dGVybmAgYXR0cmlidXRlIGlzIHVzZWQsIHdpdGggdHdvXG4gKiBkaWZmZXJlbmNlczpcbiAqIDxvbD5cbiAqICAgPGxpPlxuICogICAgIGBuZ1BhdHRlcm5gIGRvZXMgbm90IHNldCB0aGUgYHBhdHRlcm5gIGF0dHJpYnV0ZSBhbmQgdGhlcmVmb3JlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbiBpc1xuICogICAgIG5vdCBhdmFpbGFibGUuXG4gKiAgIDwvbGk+XG4gKiAgIDxsaT5cbiAqICAgICBUaGUgYG5nUGF0dGVybmAgYXR0cmlidXRlIG11c3QgYmUgYW4gZXhwcmVzc2lvbiwgd2hpbGUgdGhlIGBwYXR0ZXJuYCB2YWx1ZSBtdXN0IGJlXG4gKiAgICAgaW50ZXJwb2xhdGVkLlxuICogICA8L2xpPlxuICogPC9vbD5cbiAqIDwvZGl2PlxuICpcbiAqIEBleGFtcGxlXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdQYXR0ZXJuRGlyZWN0aXZlXCIgbW9kdWxlPVwibmdQYXR0ZXJuRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxzY3JpcHQ+XG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbmdQYXR0ZXJuRXhhbXBsZScsIFtdKVxuICogICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgICRzY29wZS5yZWdleCA9ICdcXFxcZCsnO1xuICogICAgICAgICB9XSk7XG4gKiAgICAgPC9zY3JpcHQ+XG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAqICAgICAgIDxmb3JtIG5hbWU9XCJmb3JtXCI+XG4gKiAgICAgICAgIDxsYWJlbCBmb3I9XCJyZWdleFwiPlNldCBhIHBhdHRlcm4gKHJlZ2V4IHN0cmluZyk6IDwvbGFiZWw+XG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwicmVnZXhcIiBpZD1cInJlZ2V4XCIgLz5cbiAqICAgICAgICAgPGJyPlxuICogICAgICAgICA8bGFiZWwgZm9yPVwiaW5wdXRcIj5UaGlzIGlucHV0IGlzIHJlc3RyaWN0ZWQgYnkgdGhlIGN1cnJlbnQgcGF0dGVybjogPC9sYWJlbD5cbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtb2RlbFwiIGlkPVwiaW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1wYXR0ZXJuPVwicmVnZXhcIiAvPjxicj5cbiAqICAgICAgICAgPGhyPlxuICogICAgICAgICBpbnB1dCB2YWxpZD8gPSA8Y29kZT57e2Zvcm0uaW5wdXQuJHZhbGlkfX08L2NvZGU+PGJyPlxuICogICAgICAgICBtb2RlbCA9IDxjb2RlPnt7bW9kZWx9fTwvY29kZT5cbiAqICAgICAgIDwvZm9ybT5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIG1vZGVsID0gZWxlbWVudChieS5iaW5kaW5nKCdtb2RlbCcpKTtcbiAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5LmlkKCdpbnB1dCcpKTtcblxuICAgICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgdGhlIGlucHV0IHdpdGggdGhlIGRlZmF1bHQgcGF0dGVybicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2FhYScpO1xuICAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkubm90LnRvQ29udGFpbignYWFhJyk7XG5cbiAgICAgICAgIGlucHV0LmNsZWFyKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJzEyMycpO1xuICAgICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEyMycpO1xuICAgICAgICAgfSk7XG4gICAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqL1xudmFyIHBhdHRlcm5EaXJlY3RpdmUgPSBbJyRwYXJzZScsIGZ1bmN0aW9uKCRwYXJzZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICBjb21waWxlOiBmdW5jdGlvbih0RWxtLCB0QXR0cikge1xuICAgICAgdmFyIHBhdHRlcm5FeHA7XG4gICAgICB2YXIgcGFyc2VGbjtcblxuICAgICAgaWYgKHRBdHRyLm5nUGF0dGVybikge1xuICAgICAgICBwYXR0ZXJuRXhwID0gdEF0dHIubmdQYXR0ZXJuO1xuXG4gICAgICAgIC8vIG5nUGF0dGVybiBtaWdodCBiZSBhIHNjb3BlIGV4cHJlc3Npb24sIG9yIGFuIGlubGluZWQgcmVnZXgsIHdoaWNoIGlzIG5vdCBwYXJzYWJsZS5cbiAgICAgICAgLy8gV2UgZ2V0IHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgaGVyZSwgc28gd2UgY2FuIGNvbXBhcmUgdGhlIG9sZCBhbmQgdGhlIG5ldyB2YWx1ZVxuICAgICAgICAvLyBpbiB0aGUgb2JzZXJ2ZXIgdG8gYXZvaWQgdW5uZWNlc3NhcnkgdmFsaWRhdGlvbnNcbiAgICAgICAgaWYgKHRBdHRyLm5nUGF0dGVybi5jaGFyQXQoMCkgPT09ICcvJyAmJiBSRUdFWF9TVFJJTkdfUkVHRVhQLnRlc3QodEF0dHIubmdQYXR0ZXJuKSkge1xuICAgICAgICAgIHBhcnNlRm4gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRBdHRyLm5nUGF0dGVybjsgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJzZUZuID0gJHBhcnNlKHRBdHRyLm5nUGF0dGVybik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHIsIGN0cmwpIHtcbiAgICAgICAgaWYgKCFjdHJsKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGF0dHJWYWwgPSBhdHRyLnBhdHRlcm47XG5cbiAgICAgICAgaWYgKGF0dHIubmdQYXR0ZXJuKSB7XG4gICAgICAgICAgYXR0clZhbCA9IHBhcnNlRm4oc2NvcGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhdHRlcm5FeHAgPSBhdHRyLnBhdHRlcm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVnZXhwID0gcGFyc2VQYXR0ZXJuQXR0cihhdHRyVmFsLCBwYXR0ZXJuRXhwLCBlbG0pO1xuXG4gICAgICAgIGF0dHIuJG9ic2VydmUoJ3BhdHRlcm4nLCBmdW5jdGlvbihuZXdWYWwpIHtcbiAgICAgICAgICB2YXIgb2xkUmVnZXhwID0gcmVnZXhwO1xuXG4gICAgICAgICAgcmVnZXhwID0gcGFyc2VQYXR0ZXJuQXR0cihuZXdWYWwsIHBhdHRlcm5FeHAsIGVsbSk7XG5cbiAgICAgICAgICBpZiAoKG9sZFJlZ2V4cCAmJiBvbGRSZWdleHAudG9TdHJpbmcoKSkgIT09IChyZWdleHAgJiYgcmVnZXhwLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY3RybC4kdmFsaWRhdG9ycy5wYXR0ZXJuID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgICAgLy8gSFRNTDUgcGF0dGVybiBjb25zdHJhaW50IHZhbGlkYXRlcyB0aGUgaW5wdXQgdmFsdWUsIHNvIHdlIHZhbGlkYXRlIHRoZSB2aWV3VmFsdWVcbiAgICAgICAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpIHx8IGlzVW5kZWZpbmVkKHJlZ2V4cCkgfHwgcmVnZXhwLnRlc3Qodmlld1ZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfVxuXG4gIH07XG59XTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01heGxlbmd0aFxuICogQHJlc3RyaWN0IEFcbiAqXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTWF4bGVuZ3RoIEFuZ3VsYXJKUyBleHByZXNzaW9uIHRoYXQgbXVzdCBldmFsdWF0ZSB0byBhIGBOdW1iZXJgIG9yIGBTdHJpbmdgXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNhYmxlIGludG8gYSBgTnVtYmVyYC4gVXNlZCBhcyB2YWx1ZSBmb3IgdGhlIGBtYXhsZW5ndGhgXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIHZhbGlkYXRvcn0uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogbmdNYXhsZW5ndGggYWRkcyB0aGUgbWF4bGVuZ3RoIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGB2YWxpZGF0b3JgfSB0byB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LlxuICogSXQgaXMgbW9zdCBvZnRlbiB1c2VkIGZvciB0ZXh0LWJhc2VkIHtAbGluayBpbnB1dCBgaW5wdXRgfSBjb250cm9scywgYnV0IGNhbiBhbHNvIGJlIGFwcGxpZWQgdG8gY3VzdG9tIHRleHQtYmFzZWQgY29udHJvbHMuXG4gKlxuICogVGhlIHZhbGlkYXRvciBzZXRzIHRoZSBgbWF4bGVuZ3RoYCBlcnJvciBrZXkgaWYgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgYG5nTW9kZWwuJHZpZXdWYWx1ZWB9XG4gKiBpcyBsb25nZXIgdGhhbiB0aGUgaW50ZWdlciBvYnRhaW5lZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFySlMgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGVcbiAqIGBuZ01heGxlbmd0aGAgYXR0cmlidXRlIHZhbHVlLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiAqKk5vdGU6KiogVGhpcyBkaXJlY3RpdmUgaXMgYWxzbyBhZGRlZCB3aGVuIHRoZSBwbGFpbiBgbWF4bGVuZ3RoYCBhdHRyaWJ1dGUgaXMgdXNlZCwgd2l0aCB0d29cbiAqIGRpZmZlcmVuY2VzOlxuICogPG9sPlxuICogICA8bGk+XG4gKiAgICAgYG5nTWF4bGVuZ3RoYCBkb2VzIG5vdCBzZXQgdGhlIGBtYXhsZW5ndGhgIGF0dHJpYnV0ZSBhbmQgdGhlcmVmb3JlIEhUTUw1IGNvbnN0cmFpbnRcbiAqICAgICB2YWxpZGF0aW9uIGlzIG5vdCBhdmFpbGFibGUuXG4gKiAgIDwvbGk+XG4gKiAgIDxsaT5cbiAqICAgICBUaGUgYG5nTWF4bGVuZ3RoYCBhdHRyaWJ1dGUgbXVzdCBiZSBhbiBleHByZXNzaW9uLCB3aGlsZSB0aGUgYG1heGxlbmd0aGAgdmFsdWUgbXVzdCBiZVxuICogICAgIGludGVycG9sYXRlZC5cbiAqICAgPC9saT5cbiAqIDwvb2w+XG4gKiA8L2Rpdj5cbiAqXG4gKiBAZXhhbXBsZVxuICogPGV4YW1wbGUgbmFtZT1cIm5nTWF4bGVuZ3RoRGlyZWN0aXZlXCIgbW9kdWxlPVwibmdNYXhsZW5ndGhFeGFtcGxlXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICAgPHNjcmlwdD5cbiAqICAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ01heGxlbmd0aEV4YW1wbGUnLCBbXSlcbiAqICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgICAgICAkc2NvcGUubWF4bGVuZ3RoID0gNTtcbiAqICAgICAgICAgfV0pO1xuICogICAgIDwvc2NyaXB0PlxuICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gKiAgICAgICA8Zm9ybSBuYW1lPVwiZm9ybVwiPlxuICogICAgICAgICA8bGFiZWwgZm9yPVwibWF4bGVuZ3RoXCI+U2V0IGEgbWF4bGVuZ3RoOiA8L2xhYmVsPlxuICogICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibWF4bGVuZ3RoXCIgaWQ9XCJtYXhsZW5ndGhcIiAvPlxuICogICAgICAgICA8YnI+XG4gKiAgICAgICAgIDxsYWJlbCBmb3I9XCJpbnB1dFwiPlRoaXMgaW5wdXQgaXMgcmVzdHJpY3RlZCBieSB0aGUgY3VycmVudCBtYXhsZW5ndGg6IDwvbGFiZWw+XG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibW9kZWxcIiBpZD1cImlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbWF4bGVuZ3RoPVwibWF4bGVuZ3RoXCIgLz48YnI+XG4gKiAgICAgICAgIDxocj5cbiAqICAgICAgICAgaW5wdXQgdmFsaWQ/ID0gPGNvZGU+e3tmb3JtLmlucHV0LiR2YWxpZH19PC9jb2RlPjxicj5cbiAqICAgICAgICAgbW9kZWwgPSA8Y29kZT57e21vZGVsfX08L2NvZGU+XG4gKiAgICAgICA8L2Zvcm0+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygnbW9kZWwnKSk7XG4gICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5pZCgnaW5wdXQnKSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHRoZSBpbnB1dCB3aXRoIHRoZSBkZWZhdWx0IG1heGxlbmd0aCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2FiY2RlZicpO1xuICAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkubm90LnRvQ29udGFpbignYWJjZGVmJyk7XG5cbiAgICAgICAgIGlucHV0LmNsZWFyKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2FiY2RlJyk7XG4gICAgICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvQ29udGFpbignYWJjZGUnKTtcbiAgICAgICAgIH0pO1xuICAgICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciBtYXhsZW5ndGhEaXJlY3RpdmUgPSBbJyRwYXJzZScsIGZ1bmN0aW9uKCRwYXJzZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRyLCBjdHJsKSB7XG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcblxuICAgICAgdmFyIG1heGxlbmd0aCA9IGF0dHIubWF4bGVuZ3RoIHx8ICRwYXJzZShhdHRyLm5nTWF4bGVuZ3RoKShzY29wZSk7XG4gICAgICB2YXIgbWF4bGVuZ3RoUGFyc2VkID0gcGFyc2VMZW5ndGgobWF4bGVuZ3RoKTtcblxuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWF4bGVuZ3RoJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKG1heGxlbmd0aCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICBtYXhsZW5ndGhQYXJzZWQgPSBwYXJzZUxlbmd0aCh2YWx1ZSk7XG4gICAgICAgICAgbWF4bGVuZ3RoID0gdmFsdWU7XG4gICAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLm1heGxlbmd0aCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgICAgICByZXR1cm4gKG1heGxlbmd0aFBhcnNlZCA8IDApIHx8IGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCAodmlld1ZhbHVlLmxlbmd0aCA8PSBtYXhsZW5ndGhQYXJzZWQpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01pbmxlbmd0aFxuICogQHJlc3RyaWN0IEFcbiAqXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTWlubGVuZ3RoIEFuZ3VsYXJKUyBleHByZXNzaW9uIHRoYXQgbXVzdCBldmFsdWF0ZSB0byBhIGBOdW1iZXJgIG9yIGBTdHJpbmdgXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNhYmxlIGludG8gYSBgTnVtYmVyYC4gVXNlZCBhcyB2YWx1ZSBmb3IgdGhlIGBtaW5sZW5ndGhgXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIHZhbGlkYXRvcn0uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogbmdNaW5sZW5ndGggYWRkcyB0aGUgbWlubGVuZ3RoIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGB2YWxpZGF0b3JgfSB0byB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LlxuICogSXQgaXMgbW9zdCBvZnRlbiB1c2VkIGZvciB0ZXh0LWJhc2VkIHtAbGluayBpbnB1dCBgaW5wdXRgfSBjb250cm9scywgYnV0IGNhbiBhbHNvIGJlIGFwcGxpZWQgdG8gY3VzdG9tIHRleHQtYmFzZWQgY29udHJvbHMuXG4gKlxuICogVGhlIHZhbGlkYXRvciBzZXRzIHRoZSBgbWlubGVuZ3RoYCBlcnJvciBrZXkgaWYgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgYG5nTW9kZWwuJHZpZXdWYWx1ZWB9XG4gKiBpcyBzaG9ydGVyIHRoYW4gdGhlIGludGVnZXIgb2J0YWluZWQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhckpTIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlXG4gKiBgbmdNaW5sZW5ndGhgIGF0dHJpYnV0ZSB2YWx1ZS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICogKipOb3RlOioqIFRoaXMgZGlyZWN0aXZlIGlzIGFsc28gYWRkZWQgd2hlbiB0aGUgcGxhaW4gYG1pbmxlbmd0aGAgYXR0cmlidXRlIGlzIHVzZWQsIHdpdGggdHdvXG4gKiBkaWZmZXJlbmNlczpcbiAqIDxvbD5cbiAqICAgPGxpPlxuICogICAgIGBuZ01pbmxlbmd0aGAgZG9lcyBub3Qgc2V0IHRoZSBgbWlubGVuZ3RoYCBhdHRyaWJ1dGUgYW5kIHRoZXJlZm9yZSBIVE1MNSBjb25zdHJhaW50XG4gKiAgICAgdmFsaWRhdGlvbiBpcyBub3QgYXZhaWxhYmxlLlxuICogICA8L2xpPlxuICogICA8bGk+XG4gKiAgICAgVGhlIGBuZ01pbmxlbmd0aGAgdmFsdWUgbXVzdCBiZSBhbiBleHByZXNzaW9uLCB3aGlsZSB0aGUgYG1pbmxlbmd0aGAgdmFsdWUgbXVzdCBiZVxuICogICAgIGludGVycG9sYXRlZC5cbiAqICAgPC9saT5cbiAqIDwvb2w+XG4gKiA8L2Rpdj5cbiAqXG4gKiBAZXhhbXBsZVxuICogPGV4YW1wbGUgbmFtZT1cIm5nTWlubGVuZ3RoRGlyZWN0aXZlXCIgbW9kdWxlPVwibmdNaW5sZW5ndGhFeGFtcGxlXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICAgPHNjcmlwdD5cbiAqICAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ01pbmxlbmd0aEV4YW1wbGUnLCBbXSlcbiAqICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgICAgICAkc2NvcGUubWlubGVuZ3RoID0gMztcbiAqICAgICAgICAgfV0pO1xuICogICAgIDwvc2NyaXB0PlxuICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gKiAgICAgICA8Zm9ybSBuYW1lPVwiZm9ybVwiPlxuICogICAgICAgICA8bGFiZWwgZm9yPVwibWlubGVuZ3RoXCI+U2V0IGEgbWlubGVuZ3RoOiA8L2xhYmVsPlxuICogICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibWlubGVuZ3RoXCIgaWQ9XCJtaW5sZW5ndGhcIiAvPlxuICogICAgICAgICA8YnI+XG4gKiAgICAgICAgIDxsYWJlbCBmb3I9XCJpbnB1dFwiPlRoaXMgaW5wdXQgaXMgcmVzdHJpY3RlZCBieSB0aGUgY3VycmVudCBtaW5sZW5ndGg6IDwvbGFiZWw+XG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibW9kZWxcIiBpZD1cImlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbWlubGVuZ3RoPVwibWlubGVuZ3RoXCIgLz48YnI+XG4gKiAgICAgICAgIDxocj5cbiAqICAgICAgICAgaW5wdXQgdmFsaWQ/ID0gPGNvZGU+e3tmb3JtLmlucHV0LiR2YWxpZH19PC9jb2RlPjxicj5cbiAqICAgICAgICAgbW9kZWwgPSA8Y29kZT57e21vZGVsfX08L2NvZGU+XG4gKiAgICAgICA8L2Zvcm0+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygnbW9kZWwnKSk7XG4gICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5pZCgnaW5wdXQnKSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHRoZSBpbnB1dCB3aXRoIHRoZSBkZWZhdWx0IG1pbmxlbmd0aCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2FiJyk7XG4gICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS5ub3QudG9Db250YWluKCdhYicpO1xuXG4gICAgICAgICBpbnB1dC5zZW5kS2V5cygnYWJjJyk7XG4gICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2FiYycpO1xuICAgICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciBtaW5sZW5ndGhEaXJlY3RpdmUgPSBbJyRwYXJzZScsIGZ1bmN0aW9uKCRwYXJzZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRyLCBjdHJsKSB7XG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcblxuICAgICAgdmFyIG1pbmxlbmd0aCA9IGF0dHIubWlubGVuZ3RoIHx8ICRwYXJzZShhdHRyLm5nTWlubGVuZ3RoKShzY29wZSk7XG4gICAgICB2YXIgbWlubGVuZ3RoUGFyc2VkID0gcGFyc2VMZW5ndGgobWlubGVuZ3RoKSB8fCAtMTtcblxuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWlubGVuZ3RoJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKG1pbmxlbmd0aCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICBtaW5sZW5ndGhQYXJzZWQgPSBwYXJzZUxlbmd0aCh2YWx1ZSkgfHwgLTE7XG4gICAgICAgICAgbWlubGVuZ3RoID0gdmFsdWU7XG4gICAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICB9KTtcbiAgICAgIGN0cmwuJHZhbGlkYXRvcnMubWlubGVuZ3RoID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgdmlld1ZhbHVlLmxlbmd0aCA+PSBtaW5sZW5ndGhQYXJzZWQ7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG5cbmZ1bmN0aW9uIHBhcnNlUGF0dGVybkF0dHIocmVnZXgsIHBhdHRlcm5FeHAsIGVsbSkge1xuICBpZiAoIXJlZ2V4KSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gIGlmIChpc1N0cmluZyhyZWdleCkpIHtcbiAgICByZWdleCA9IG5ldyBSZWdFeHAoJ14nICsgcmVnZXggKyAnJCcpO1xuICB9XG5cbiAgaWYgKCFyZWdleC50ZXN0KSB7XG4gICAgdGhyb3cgbWluRXJyKCduZ1BhdHRlcm4nKSgnbm9yZWdleHAnLFxuICAgICAgJ0V4cGVjdGVkIHswfSB0byBiZSBhIFJlZ0V4cCBidXQgd2FzIHsxfS4gRWxlbWVudDogezJ9JywgcGF0dGVybkV4cCxcbiAgICAgIHJlZ2V4LCBzdGFydGluZ1RhZyhlbG0pKTtcbiAgfVxuXG4gIHJldHVybiByZWdleDtcbn1cblxuZnVuY3Rpb24gcGFyc2VMZW5ndGgodmFsKSB7XG4gIHZhciBpbnRWYWwgPSB0b0ludCh2YWwpO1xuICByZXR1cm4gaXNOdW1iZXJOYU4oaW50VmFsKSA/IC0xIDogaW50VmFsO1xufVxuXG5pZiAod2luZG93LmFuZ3VsYXIuYm9vdHN0cmFwKSB7XG4gIC8vIEFuZ3VsYXJKUyBpcyBhbHJlYWR5IGxvYWRlZCwgc28gd2UgY2FuIHJldHVybiBoZXJlLi4uXG4gIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgIGNvbnNvbGUubG9nKCdXQVJOSU5HOiBUcmllZCB0byBsb2FkIEFuZ3VsYXJKUyBtb3JlIHRoYW4gb25jZS4nKTtcbiAgfVxuICByZXR1cm47XG59XG5cbi8vIHRyeSB0byBiaW5kIHRvIGpxdWVyeSBub3cgc28gdGhhdCBvbmUgY2FuIHdyaXRlIGpxTGl0ZShmbilcbi8vIGJ1dCB3ZSB3aWxsIHJlYmluZCBvbiBib290c3RyYXAgYWdhaW4uXG5iaW5kSlF1ZXJ5KCk7XG5cbnB1Ymxpc2hFeHRlcm5hbEFQSShhbmd1bGFyKTtcblxuYW5ndWxhci5tb2R1bGUoXCJuZ0xvY2FsZVwiLCBbXSwgW1wiJHByb3ZpZGVcIiwgZnVuY3Rpb24oJHByb3ZpZGUpIHtcbnZhciBQTFVSQUxfQ0FURUdPUlkgPSB7WkVSTzogXCJ6ZXJvXCIsIE9ORTogXCJvbmVcIiwgVFdPOiBcInR3b1wiLCBGRVc6IFwiZmV3XCIsIE1BTlk6IFwibWFueVwiLCBPVEhFUjogXCJvdGhlclwifTtcbmZ1bmN0aW9uIGdldERlY2ltYWxzKG4pIHtcbiAgbiA9IG4gKyAnJztcbiAgdmFyIGkgPSBuLmluZGV4T2YoJy4nKTtcbiAgcmV0dXJuIChpID09IC0xKSA/IDAgOiBuLmxlbmd0aCAtIGkgLSAxO1xufVxuXG5mdW5jdGlvbiBnZXRWRihuLCBvcHRfcHJlY2lzaW9uKSB7XG4gIHZhciB2ID0gb3B0X3ByZWNpc2lvbjtcblxuICBpZiAodW5kZWZpbmVkID09PSB2KSB7XG4gICAgdiA9IE1hdGgubWluKGdldERlY2ltYWxzKG4pLCAzKTtcbiAgfVxuXG4gIHZhciBiYXNlID0gTWF0aC5wb3coMTAsIHYpO1xuICB2YXIgZiA9ICgobiAqIGJhc2UpIHwgMCkgJSBiYXNlO1xuICByZXR1cm4ge3Y6IHYsIGY6IGZ9O1xufVxuXG4kcHJvdmlkZS52YWx1ZShcIiRsb2NhbGVcIiwge1xuICBcIkRBVEVUSU1FX0ZPUk1BVFNcIjoge1xuICAgIFwiQU1QTVNcIjogW1xuICAgICAgXCJBTVwiLFxuICAgICAgXCJQTVwiXG4gICAgXSxcbiAgICBcIkRBWVwiOiBbXG4gICAgICBcIlN1bmRheVwiLFxuICAgICAgXCJNb25kYXlcIixcbiAgICAgIFwiVHVlc2RheVwiLFxuICAgICAgXCJXZWRuZXNkYXlcIixcbiAgICAgIFwiVGh1cnNkYXlcIixcbiAgICAgIFwiRnJpZGF5XCIsXG4gICAgICBcIlNhdHVyZGF5XCJcbiAgICBdLFxuICAgIFwiRVJBTkFNRVNcIjogW1xuICAgICAgXCJCZWZvcmUgQ2hyaXN0XCIsXG4gICAgICBcIkFubm8gRG9taW5pXCJcbiAgICBdLFxuICAgIFwiRVJBU1wiOiBbXG4gICAgICBcIkJDXCIsXG4gICAgICBcIkFEXCJcbiAgICBdLFxuICAgIFwiRklSU1REQVlPRldFRUtcIjogNixcbiAgICBcIk1PTlRIXCI6IFtcbiAgICAgIFwiSmFudWFyeVwiLFxuICAgICAgXCJGZWJydWFyeVwiLFxuICAgICAgXCJNYXJjaFwiLFxuICAgICAgXCJBcHJpbFwiLFxuICAgICAgXCJNYXlcIixcbiAgICAgIFwiSnVuZVwiLFxuICAgICAgXCJKdWx5XCIsXG4gICAgICBcIkF1Z3VzdFwiLFxuICAgICAgXCJTZXB0ZW1iZXJcIixcbiAgICAgIFwiT2N0b2JlclwiLFxuICAgICAgXCJOb3ZlbWJlclwiLFxuICAgICAgXCJEZWNlbWJlclwiXG4gICAgXSxcbiAgICBcIlNIT1JUREFZXCI6IFtcbiAgICAgIFwiU3VuXCIsXG4gICAgICBcIk1vblwiLFxuICAgICAgXCJUdWVcIixcbiAgICAgIFwiV2VkXCIsXG4gICAgICBcIlRodVwiLFxuICAgICAgXCJGcmlcIixcbiAgICAgIFwiU2F0XCJcbiAgICBdLFxuICAgIFwiU0hPUlRNT05USFwiOiBbXG4gICAgICBcIkphblwiLFxuICAgICAgXCJGZWJcIixcbiAgICAgIFwiTWFyXCIsXG4gICAgICBcIkFwclwiLFxuICAgICAgXCJNYXlcIixcbiAgICAgIFwiSnVuXCIsXG4gICAgICBcIkp1bFwiLFxuICAgICAgXCJBdWdcIixcbiAgICAgIFwiU2VwXCIsXG4gICAgICBcIk9jdFwiLFxuICAgICAgXCJOb3ZcIixcbiAgICAgIFwiRGVjXCJcbiAgICBdLFxuICAgIFwiU1RBTkRBTE9ORU1PTlRIXCI6IFtcbiAgICAgIFwiSmFudWFyeVwiLFxuICAgICAgXCJGZWJydWFyeVwiLFxuICAgICAgXCJNYXJjaFwiLFxuICAgICAgXCJBcHJpbFwiLFxuICAgICAgXCJNYXlcIixcbiAgICAgIFwiSnVuZVwiLFxuICAgICAgXCJKdWx5XCIsXG4gICAgICBcIkF1Z3VzdFwiLFxuICAgICAgXCJTZXB0ZW1iZXJcIixcbiAgICAgIFwiT2N0b2JlclwiLFxuICAgICAgXCJOb3ZlbWJlclwiLFxuICAgICAgXCJEZWNlbWJlclwiXG4gICAgXSxcbiAgICBcIldFRUtFTkRSQU5HRVwiOiBbXG4gICAgICA1LFxuICAgICAgNlxuICAgIF0sXG4gICAgXCJmdWxsRGF0ZVwiOiBcIkVFRUUsIE1NTU0gZCwgeVwiLFxuICAgIFwibG9uZ0RhdGVcIjogXCJNTU1NIGQsIHlcIixcbiAgICBcIm1lZGl1bVwiOiBcIk1NTSBkLCB5IGg6bW06c3MgYVwiLFxuICAgIFwibWVkaXVtRGF0ZVwiOiBcIk1NTSBkLCB5XCIsXG4gICAgXCJtZWRpdW1UaW1lXCI6IFwiaDptbTpzcyBhXCIsXG4gICAgXCJzaG9ydFwiOiBcIk0vZC95eSBoOm1tIGFcIixcbiAgICBcInNob3J0RGF0ZVwiOiBcIk0vZC95eVwiLFxuICAgIFwic2hvcnRUaW1lXCI6IFwiaDptbSBhXCJcbiAgfSxcbiAgXCJOVU1CRVJfRk9STUFUU1wiOiB7XG4gICAgXCJDVVJSRU5DWV9TWU1cIjogXCIkXCIsXG4gICAgXCJERUNJTUFMX1NFUFwiOiBcIi5cIixcbiAgICBcIkdST1VQX1NFUFwiOiBcIixcIixcbiAgICBcIlBBVFRFUk5TXCI6IFtcbiAgICAgIHtcbiAgICAgICAgXCJnU2l6ZVwiOiAzLFxuICAgICAgICBcImxnU2l6ZVwiOiAzLFxuICAgICAgICBcIm1heEZyYWNcIjogMyxcbiAgICAgICAgXCJtaW5GcmFjXCI6IDAsXG4gICAgICAgIFwibWluSW50XCI6IDEsXG4gICAgICAgIFwibmVnUHJlXCI6IFwiLVwiLFxuICAgICAgICBcIm5lZ1N1ZlwiOiBcIlwiLFxuICAgICAgICBcInBvc1ByZVwiOiBcIlwiLFxuICAgICAgICBcInBvc1N1ZlwiOiBcIlwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBcImdTaXplXCI6IDMsXG4gICAgICAgIFwibGdTaXplXCI6IDMsXG4gICAgICAgIFwibWF4RnJhY1wiOiAyLFxuICAgICAgICBcIm1pbkZyYWNcIjogMixcbiAgICAgICAgXCJtaW5JbnRcIjogMSxcbiAgICAgICAgXCJuZWdQcmVcIjogXCItXFx1MDBhNFwiLFxuICAgICAgICBcIm5lZ1N1ZlwiOiBcIlwiLFxuICAgICAgICBcInBvc1ByZVwiOiBcIlxcdTAwYTRcIixcbiAgICAgICAgXCJwb3NTdWZcIjogXCJcIlxuICAgICAgfVxuICAgIF1cbiAgfSxcbiAgXCJpZFwiOiBcImVuLXVzXCIsXG4gIFwibG9jYWxlSURcIjogXCJlbl9VU1wiLFxuICBcInBsdXJhbENhdFwiOiBmdW5jdGlvbihuLCBvcHRfcHJlY2lzaW9uKSB7ICB2YXIgaSA9IG4gfCAwOyAgdmFyIHZmID0gZ2V0VkYobiwgb3B0X3ByZWNpc2lvbik7ICBpZiAoaSA9PSAxICYmIHZmLnYgPT0gMCkgeyAgICByZXR1cm4gUExVUkFMX0NBVEVHT1JZLk9ORTsgIH0gIHJldHVybiBQTFVSQUxfQ0FURUdPUlkuT1RIRVI7fVxufSk7XG59XSk7XG5cbiAganFMaXRlKGZ1bmN0aW9uKCkge1xuICAgIGFuZ3VsYXJJbml0KHdpbmRvdy5kb2N1bWVudCwgYm9vdHN0cmFwKTtcbiAgfSk7XG5cbn0pKHdpbmRvdyk7XG5cbiF3aW5kb3cuYW5ndWxhci4kJGNzcCgpLm5vSW5saW5lU3R5bGUgJiYgd2luZG93LmFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5oZWFkKS5wcmVwZW5kKCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+QGNoYXJzZXQgXCJVVEYtOFwiO1tuZ1xcXFw6Y2xvYWtdLFtuZy1jbG9ha10sW2RhdGEtbmctY2xvYWtdLFt4LW5nLWNsb2FrXSwubmctY2xvYWssLngtbmctY2xvYWssLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpe2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50O31uZ1xcXFw6Zm9ybXtkaXNwbGF5OmJsb2NrO30ubmctYW5pbWF0ZS1zaGlte3Zpc2liaWxpdHk6aGlkZGVuO30ubmctYW5jaG9ye3Bvc2l0aW9uOmFic29sdXRlO308L3N0eWxlPicpO1xufSx7fV0sODc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xucmVxdWlyZSgnLi9hbmd1bGFyJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGFuZ3VsYXI7XG5cbn0se1wiLi9hbmd1bGFyXCI6ODZ9XSw4ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG5cbn0se31dLDg5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIDIyLjEuMy4zMSBBcnJheS5wcm90b3R5cGVbQEB1bnNjb3BhYmxlc11cbnZhciBVTlNDT1BBQkxFUyA9IHJlcXVpcmUoJy4vX3drcycpKCd1bnNjb3BhYmxlcycpO1xudmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5pZiAoQXJyYXlQcm90b1tVTlNDT1BBQkxFU10gPT0gdW5kZWZpbmVkKSByZXF1aXJlKCcuL19oaWRlJykoQXJyYXlQcm90bywgVU5TQ09QQUJMRVMsIHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICBBcnJheVByb3RvW1VOU0NPUEFCTEVTXVtrZXldID0gdHJ1ZTtcbn07XG5cbn0se1wiLi9faGlkZVwiOjEwNSxcIi4vX3drc1wiOjE0M31dLDkwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGFuIG9iamVjdCEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxufSx7XCIuL19pcy1vYmplY3RcIjoxMTB9XSw5MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyBmYWxzZSAtPiBBcnJheSNpbmRleE9mXG4vLyB0cnVlICAtPiBBcnJheSNpbmNsdWRlc1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpO1xudmFyIHRvQWJzb2x1dGVJbmRleCA9IHJlcXVpcmUoJy4vX3RvLWFic29sdXRlLWluZGV4Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChJU19JTkNMVURFUykge1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBlbCwgZnJvbUluZGV4KSB7XG4gICAgdmFyIE8gPSB0b0lPYmplY3QoJHRoaXMpO1xuICAgIHZhciBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgdmFyIGluZGV4ID0gdG9BYnNvbHV0ZUluZGV4KGZyb21JbmRleCwgbGVuZ3RoKTtcbiAgICB2YXIgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICBpZiAoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpIHdoaWxlIChsZW5ndGggPiBpbmRleCkge1xuICAgICAgdmFsdWUgPSBPW2luZGV4KytdO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgaWYgKHZhbHVlICE9IHZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSNpbmRleE9mIGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSBpZiAoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTykge1xuICAgICAgaWYgKE9baW5kZXhdID09PSBlbCkgcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcblxufSx7XCIuL190by1hYnNvbHV0ZS1pbmRleFwiOjEzNCxcIi4vX3RvLWlvYmplY3RcIjoxMzYsXCIuL190by1sZW5ndGhcIjoxMzd9XSw5MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG5cbn0se31dLDkzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7IHZlcnNpb246ICcyLjYuNScgfTtcbmlmICh0eXBlb2YgX19lID09ICdudW1iZXInKSBfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbn0se31dLDk0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuLCB0aGF0LCBsZW5ndGgpIHtcbiAgYUZ1bmN0aW9uKGZuKTtcbiAgaWYgKHRoYXQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZuO1xuICBzd2l0Y2ggKGxlbmd0aCkge1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiLCBjKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiAoLyogLi4uYXJncyAqLykge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxufSx7XCIuL19hLWZ1bmN0aW9uXCI6ODh9XSw5NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuXG59LHt9XSw5NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG59KTtcblxufSx7XCIuL19mYWlsc1wiOjEwMX1dLDk3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG4vLyB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0JyBpbiBvbGQgSUVcbnZhciBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuXG59LHtcIi4vX2dsb2JhbFwiOjEwMyxcIi4vX2lzLW9iamVjdFwiOjExMH1dLDk4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcbm1vZHVsZS5leHBvcnRzID0gKFxuICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuKS5zcGxpdCgnLCcpO1xuXG59LHt9XSw5OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xudmFyIGdPUFMgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpO1xudmFyIHBJRSA9IHJlcXVpcmUoJy4vX29iamVjdC1waWUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciByZXN1bHQgPSBnZXRLZXlzKGl0KTtcbiAgdmFyIGdldFN5bWJvbHMgPSBnT1BTLmY7XG4gIGlmIChnZXRTeW1ib2xzKSB7XG4gICAgdmFyIHN5bWJvbHMgPSBnZXRTeW1ib2xzKGl0KTtcbiAgICB2YXIgaXNFbnVtID0gcElFLmY7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBrZXk7XG4gICAgd2hpbGUgKHN5bWJvbHMubGVuZ3RoID4gaSkgaWYgKGlzRW51bS5jYWxsKGl0LCBrZXkgPSBzeW1ib2xzW2krK10pKSByZXN1bHQucHVzaChrZXkpO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xuXG59LHtcIi4vX29iamVjdC1nb3BzXCI6MTIzLFwiLi9fb2JqZWN0LWtleXNcIjoxMjYsXCIuL19vYmplY3QtcGllXCI6MTI3fV0sMTAwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uICh0eXBlLCBuYW1lLCBzb3VyY2UpIHtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkY7XG4gIHZhciBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HO1xuICB2YXIgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuUztcbiAgdmFyIElTX1BST1RPID0gdHlwZSAmICRleHBvcnQuUDtcbiAgdmFyIElTX0JJTkQgPSB0eXBlICYgJGV4cG9ydC5CO1xuICB2YXIgdGFyZ2V0ID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIHx8IChnbG9iYWxbbmFtZV0gPSB7fSkgOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdO1xuICB2YXIgZXhwb3J0cyA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pO1xuICB2YXIgZXhwUHJvdG8gPSBleHBvcnRzW1BST1RPVFlQRV0gfHwgKGV4cG9ydHNbUFJPVE9UWVBFXSA9IHt9KTtcbiAgdmFyIGtleSwgb3duLCBvdXQsIGV4cDtcbiAgaWYgKElTX0dMT0JBTCkgc291cmNlID0gbmFtZTtcbiAgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IChvd24gPyB0YXJnZXQgOiBzb3VyY2UpW2tleV07XG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICBleHAgPSBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHRlbmQgZ2xvYmFsXG4gICAgaWYgKHRhcmdldCkgcmVkZWZpbmUodGFyZ2V0LCBrZXksIG91dCwgdHlwZSAmICRleHBvcnQuVSk7XG4gICAgLy8gZXhwb3J0XG4gICAgaWYgKGV4cG9ydHNba2V5XSAhPSBvdXQpIGhpZGUoZXhwb3J0cywga2V5LCBleHApO1xuICAgIGlmIChJU19QUk9UTyAmJiBleHBQcm90b1trZXldICE9IG91dCkgZXhwUHJvdG9ba2V5XSA9IG91dDtcbiAgfVxufTtcbmdsb2JhbC5jb3JlID0gY29yZTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgICAvLyBnbG9iYWxcbiRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgIC8vIGJpbmRcbiRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuJGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG4kZXhwb3J0LlIgPSAxMjg7IC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDtcblxufSx7XCIuL19jb3JlXCI6OTMsXCIuL19jdHhcIjo5NCxcIi4vX2dsb2JhbFwiOjEwMyxcIi4vX2hpZGVcIjoxMDUsXCIuL19yZWRlZmluZVwiOjEzMH1dLDEwMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cbn0se31dLDEwMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCduYXRpdmUtZnVuY3Rpb24tdG8tc3RyaW5nJywgRnVuY3Rpb24udG9TdHJpbmcpO1xuXG59LHtcIi4vX3NoYXJlZFwiOjEzM31dLDEwMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZiAodHlwZW9mIF9fZyA9PSAnbnVtYmVyJykgX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbn0se31dLDEwNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgaGFzT3duUHJvcGVydHkgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuXG59LHt9XSwxMDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuXG59LHtcIi4vX2Rlc2NyaXB0b3JzXCI6OTYsXCIuL19vYmplY3QtZHBcIjoxMTgsXCIuL19wcm9wZXJ0eS1kZXNjXCI6MTI5fV0sMTA2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50O1xubW9kdWxlLmV4cG9ydHMgPSBkb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbn0se1wiLi9fZ2xvYmFsXCI6MTAzfV0sMTA3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnZGl2JyksICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xufSk7XG5cbn0se1wiLi9fZGVzY3JpcHRvcnNcIjo5NixcIi4vX2RvbS1jcmVhdGVcIjo5NyxcIi4vX2ZhaWxzXCI6MTAxfV0sMTA4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBjb2YoaXQpID09ICdTdHJpbmcnID8gaXQuc3BsaXQoJycpIDogT2JqZWN0KGl0KTtcbn07XG5cbn0se1wiLi9fY29mXCI6OTJ9XSwxMDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gNy4yLjIgSXNBcnJheShhcmd1bWVudClcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZykge1xuICByZXR1cm4gY29mKGFyZykgPT0gJ0FycmF5Jztcbn07XG5cbn0se1wiLi9fY29mXCI6OTJ9XSwxMTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cbn0se31dLDExMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG52YXIgY3JlYXRlID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpO1xudmFyIGRlc2NyaXB0b3IgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cbi8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19oaWRlJykoSXRlcmF0b3JQcm90b3R5cGUsIHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpIHtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7IG5leHQ6IGRlc2NyaXB0b3IoMSwgbmV4dCkgfSk7XG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTtcblxufSx7XCIuL19oaWRlXCI6MTA1LFwiLi9fb2JqZWN0LWNyZWF0ZVwiOjExNyxcIi4vX3Byb3BlcnR5LWRlc2NcIjoxMjksXCIuL19zZXQtdG8tc3RyaW5nLXRhZ1wiOjEzMSxcIi4vX3drc1wiOjE0M31dLDExMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgJGl0ZXJDcmVhdGUgPSByZXF1aXJlKCcuL19pdGVyLWNyZWF0ZScpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKTtcbnZhciBJVEVSQVRPUiA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpO1xudmFyIEJVR0dZID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpOyAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG52YXIgRkZfSVRFUkFUT1IgPSAnQEBpdGVyYXRvcic7XG52YXIgS0VZUyA9ICdrZXlzJztcbnZhciBWQUxVRVMgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24gKGtpbmQpIHtcbiAgICBpZiAoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pIHJldHVybiBwcm90b1traW5kXTtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHID0gTkFNRSArICcgSXRlcmF0b3InO1xuICB2YXIgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTO1xuICB2YXIgVkFMVUVTX0JVRyA9IGZhbHNlO1xuICB2YXIgcHJvdG8gPSBCYXNlLnByb3RvdHlwZTtcbiAgdmFyICRuYXRpdmUgPSBwcm90b1tJVEVSQVRPUl0gfHwgcHJvdG9bRkZfSVRFUkFUT1JdIHx8IERFRkFVTFQgJiYgcHJvdG9bREVGQVVMVF07XG4gIHZhciAkZGVmYXVsdCA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpO1xuICB2YXIgJGVudHJpZXMgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkO1xuICB2YXIgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmU7XG4gIHZhciBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuICAvLyBGaXggbmF0aXZlXG4gIGlmICgkYW55TmF0aXZlKSB7XG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UoKSkpO1xuICAgIGlmIChJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSAmJiBJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuICAgICAgaWYgKCFMSUJSQVJZICYmIHR5cGVvZiBJdGVyYXRvclByb3RvdHlwZVtJVEVSQVRPUl0gIT0gJ2Z1bmN0aW9uJykgaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmIChERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpIHtcbiAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcbiAgICAkZGVmYXVsdCA9IGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYgKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKSB7XG4gICAgaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcbiAgfVxuICAvLyBQbHVnIGZvciBsaWJyYXJ5XG4gIEl0ZXJhdG9yc1tOQU1FXSA9ICRkZWZhdWx0O1xuICBJdGVyYXRvcnNbVEFHXSA9IHJldHVyblRoaXM7XG4gIGlmIChERUZBVUxUKSB7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiBJU19TRVQgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG4gICAgfTtcbiAgICBpZiAoRk9SQ0VEKSBmb3IgKGtleSBpbiBtZXRob2RzKSB7XG4gICAgICBpZiAoIShrZXkgaW4gcHJvdG8pKSByZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuXG59LHtcIi4vX2V4cG9ydFwiOjEwMCxcIi4vX2hpZGVcIjoxMDUsXCIuL19pdGVyLWNyZWF0ZVwiOjExMSxcIi4vX2l0ZXJhdG9yc1wiOjExNCxcIi4vX2xpYnJhcnlcIjoxMTUsXCIuL19vYmplY3QtZ3BvXCI6MTI0LFwiLi9fcmVkZWZpbmVcIjoxMzAsXCIuL19zZXQtdG8tc3RyaW5nLXRhZ1wiOjEzMSxcIi4vX3drc1wiOjE0M31dLDExMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkb25lLCB2YWx1ZSkge1xuICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZSB9O1xufTtcblxufSx7fV0sMTE0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0ge307XG5cbn0se31dLDExNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZhbHNlO1xuXG59LHt9XSwxMTY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIE1FVEEgPSByZXF1aXJlKCcuL191aWQnKSgnbWV0YScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgc2V0RGVzYyA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG52YXIgaWQgPSAwO1xudmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGUgfHwgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHJ1ZTtcbn07XG52YXIgRlJFRVpFID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xufSk7XG52YXIgc2V0TWV0YSA9IGZ1bmN0aW9uIChpdCkge1xuICBzZXREZXNjKGl0LCBNRVRBLCB7IHZhbHVlOiB7XG4gICAgaTogJ08nICsgKytpZCwgLy8gb2JqZWN0IElEXG4gICAgdzoge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSB9KTtcbn07XG52YXIgZmFzdEtleSA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIC8vIHJldHVybiBwcmltaXRpdmUgd2l0aCBwcmVmaXhcbiAgaWYgKCFpc09iamVjdChpdCkpIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCcgPyBpdCA6ICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgPyAnUycgOiAnUCcpICsgaXQ7XG4gIGlmICghaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gJ0YnO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiAnRSc7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIG9iamVjdCBJRFxuICB9IHJldHVybiBpdFtNRVRBXS5pO1xufTtcbnZhciBnZXRXZWFrID0gZnVuY3Rpb24gKGl0LCBjcmVhdGUpIHtcbiAgaWYgKCFoYXMoaXQsIE1FVEEpKSB7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZiAoIWlzRXh0ZW5zaWJsZShpdCkpIHJldHVybiB0cnVlO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiBmYWxzZTtcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gaGFzaCB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9IHJldHVybiBpdFtNRVRBXS53O1xufTtcbi8vIGFkZCBtZXRhZGF0YSBvbiBmcmVlemUtZmFtaWx5IG1ldGhvZHMgY2FsbGluZ1xudmFyIG9uRnJlZXplID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQSkpIHNldE1ldGEoaXQpO1xuICByZXR1cm4gaXQ7XG59O1xudmFyIG1ldGEgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgS0VZOiBNRVRBLFxuICBORUVEOiBmYWxzZSxcbiAgZmFzdEtleTogZmFzdEtleSxcbiAgZ2V0V2VhazogZ2V0V2VhayxcbiAgb25GcmVlemU6IG9uRnJlZXplXG59O1xuXG59LHtcIi4vX2ZhaWxzXCI6MTAxLFwiLi9faGFzXCI6MTA0LFwiLi9faXMtb2JqZWN0XCI6MTEwLFwiLi9fb2JqZWN0LWRwXCI6MTE4LFwiLi9fdWlkXCI6MTQwfV0sMTE3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgZFBzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwcycpO1xudmFyIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpO1xudmFyIElFX1BST1RPID0gcmVxdWlyZSgnLi9fc2hhcmVkLWtleScpKCdJRV9QUk9UTycpO1xudmFyIEVtcHR5ID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnaWZyYW1lJyk7XG4gIHZhciBpID0gZW51bUJ1Z0tleXMubGVuZ3RoO1xuICB2YXIgbHQgPSAnPCc7XG4gIHZhciBndCA9ICc+JztcbiAgdmFyIGlmcmFtZURvY3VtZW50O1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgcmVxdWlyZSgnLi9faHRtbCcpLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDonOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcbiAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcbiAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgY3JlYXRlRGljdCA9IGlmcmFtZURvY3VtZW50LkY7XG4gIHdoaWxlIChpLS0pIGRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRV1bZW51bUJ1Z0tleXNbaV1dO1xuICByZXR1cm4gY3JlYXRlRGljdCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmIChPICE9PSBudWxsKSB7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eSgpO1xuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBudWxsO1xuICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcbiAgfSBlbHNlIHJlc3VsdCA9IGNyZWF0ZURpY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRQcyhyZXN1bHQsIFByb3BlcnRpZXMpO1xufTtcblxufSx7XCIuL19hbi1vYmplY3RcIjo5MCxcIi4vX2RvbS1jcmVhdGVcIjo5NyxcIi4vX2VudW0tYnVnLWtleXNcIjo5OCxcIi4vX2h0bWxcIjoxMDYsXCIuL19vYmplY3QtZHBzXCI6MTE5LFwiLi9fc2hhcmVkLWtleVwiOjEzMn1dLDExODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBkUCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuXG59LHtcIi4vX2FuLW9iamVjdFwiOjkwLFwiLi9fZGVzY3JpcHRvcnNcIjo5NixcIi4vX2llOC1kb20tZGVmaW5lXCI6MTA3LFwiLi9fdG8tcHJpbWl0aXZlXCI6MTM5fV0sMTE5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBkUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIga2V5cyA9IGdldEtleXMoUHJvcGVydGllcyk7XG4gIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgdmFyIGkgPSAwO1xuICB2YXIgUDtcbiAgd2hpbGUgKGxlbmd0aCA+IGkpIGRQLmYoTywgUCA9IGtleXNbaSsrXSwgUHJvcGVydGllc1tQXSk7XG4gIHJldHVybiBPO1xufTtcblxufSx7XCIuL19hbi1vYmplY3RcIjo5MCxcIi4vX2Rlc2NyaXB0b3JzXCI6OTYsXCIuL19vYmplY3QtZHBcIjoxMTgsXCIuL19vYmplY3Qta2V5c1wiOjEyNn1dLDEyMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgcElFID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpO1xudmFyIGdPUEQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG4gIE8gPSB0b0lPYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiBnT1BEKE8sIFApO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKGhhcyhPLCBQKSkgcmV0dXJuIGNyZWF0ZURlc2MoIXBJRS5mLmNhbGwoTywgUCksIE9bUF0pO1xufTtcblxufSx7XCIuL19kZXNjcmlwdG9yc1wiOjk2LFwiLi9faGFzXCI6MTA0LFwiLi9faWU4LWRvbS1kZWZpbmVcIjoxMDcsXCIuL19vYmplY3QtcGllXCI6MTI3LFwiLi9fcHJvcGVydHktZGVzY1wiOjEyOSxcIi4vX3RvLWlvYmplY3RcIjoxMzYsXCIuL190by1wcmltaXRpdmVcIjoxMzl9XSwxMjE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvd1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciBnT1BOID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mO1xudmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZ09QTihpdCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gd2luZG93TmFtZXMuc2xpY2UoKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpIHtcbiAgcmV0dXJuIHdpbmRvd05hbWVzICYmIHRvU3RyaW5nLmNhbGwoaXQpID09ICdbb2JqZWN0IFdpbmRvd10nID8gZ2V0V2luZG93TmFtZXMoaXQpIDogZ09QTih0b0lPYmplY3QoaXQpKTtcbn07XG5cbn0se1wiLi9fb2JqZWN0LWdvcG5cIjoxMjIsXCIuL190by1pb2JqZWN0XCI6MTM2fV0sMTIyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIDE5LjEuMi43IC8gMTUuMi4zLjQgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG5cbn0se1wiLi9fZW51bS1idWcta2V5c1wiOjk4LFwiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWxcIjoxMjV9XSwxMjM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcblxufSx7fV0sMTI0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcbnZhciBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIChPKSB7XG4gIE8gPSB0b09iamVjdChPKTtcbiAgaWYgKGhhcyhPLCBJRV9QUk9UTykpIHJldHVybiBPW0lFX1BST1RPXTtcbiAgaWYgKHR5cGVvZiBPLmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgTyBpbnN0YW5jZW9mIE8uY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byA6IG51bGw7XG59O1xuXG59LHtcIi4vX2hhc1wiOjEwNCxcIi4vX3NoYXJlZC1rZXlcIjoxMzIsXCIuL190by1vYmplY3RcIjoxMzh9XSwxMjU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciBhcnJheUluZGV4T2YgPSByZXF1aXJlKCcuL19hcnJheS1pbmNsdWRlcycpKGZhbHNlKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lcykge1xuICB2YXIgTyA9IHRvSU9iamVjdChvYmplY3QpO1xuICB2YXIgaSA9IDA7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGtleTtcbiAgZm9yIChrZXkgaW4gTykgaWYgKGtleSAhPSBJRV9QUk9UTykgaGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSkge1xuICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbn0se1wiLi9fYXJyYXktaW5jbHVkZXNcIjo5MSxcIi4vX2hhc1wiOjEwNCxcIi4vX3NoYXJlZC1rZXlcIjoxMzIsXCIuL190by1pb2JqZWN0XCI6MTM2fV0sMTI2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pIHtcbiAgcmV0dXJuICRrZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG5cbn0se1wiLi9fZW51bS1idWcta2V5c1wiOjk4LFwiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWxcIjoxMjV9XSwxMjc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuZXhwb3J0cy5mID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbn0se31dLDEyODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyBtb3N0IE9iamVjdCBtZXRob2RzIGJ5IEVTNiBzaG91bGQgYWNjZXB0IHByaW1pdGl2ZXNcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4vX2ZhaWxzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVksIGV4ZWMpIHtcbiAgdmFyIGZuID0gKGNvcmUuT2JqZWN0IHx8IHt9KVtLRVldIHx8IE9iamVjdFtLRVldO1xuICB2YXIgZXhwID0ge307XG4gIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24gKCkgeyBmbigxKTsgfSksICdPYmplY3QnLCBleHApO1xufTtcblxufSx7XCIuL19jb3JlXCI6OTMsXCIuL19leHBvcnRcIjoxMDAsXCIuL19mYWlsc1wiOjEwMX1dLDEyOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChiaXRtYXAsIHZhbHVlKSB7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZTogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGU6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWU6IHZhbHVlXG4gIH07XG59O1xuXG59LHt9XSwxMzA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgU1JDID0gcmVxdWlyZSgnLi9fdWlkJykoJ3NyYycpO1xudmFyICR0b1N0cmluZyA9IHJlcXVpcmUoJy4vX2Z1bmN0aW9uLXRvLXN0cmluZycpO1xudmFyIFRPX1NUUklORyA9ICd0b1N0cmluZyc7XG52YXIgVFBMID0gKCcnICsgJHRvU3RyaW5nKS5zcGxpdChUT19TVFJJTkcpO1xuXG5yZXF1aXJlKCcuL19jb3JlJykuaW5zcGVjdFNvdXJjZSA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gJHRvU3RyaW5nLmNhbGwoaXQpO1xufTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE8sIGtleSwgdmFsLCBzYWZlKSB7XG4gIHZhciBpc0Z1bmN0aW9uID0gdHlwZW9mIHZhbCA9PSAnZnVuY3Rpb24nO1xuICBpZiAoaXNGdW5jdGlvbikgaGFzKHZhbCwgJ25hbWUnKSB8fCBoaWRlKHZhbCwgJ25hbWUnLCBrZXkpO1xuICBpZiAoT1trZXldID09PSB2YWwpIHJldHVybjtcbiAgaWYgKGlzRnVuY3Rpb24pIGhhcyh2YWwsIFNSQykgfHwgaGlkZSh2YWwsIFNSQywgT1trZXldID8gJycgKyBPW2tleV0gOiBUUEwuam9pbihTdHJpbmcoa2V5KSkpO1xuICBpZiAoTyA9PT0gZ2xvYmFsKSB7XG4gICAgT1trZXldID0gdmFsO1xuICB9IGVsc2UgaWYgKCFzYWZlKSB7XG4gICAgZGVsZXRlIE9ba2V5XTtcbiAgICBoaWRlKE8sIGtleSwgdmFsKTtcbiAgfSBlbHNlIGlmIChPW2tleV0pIHtcbiAgICBPW2tleV0gPSB2YWw7XG4gIH0gZWxzZSB7XG4gICAgaGlkZShPLCBrZXksIHZhbCk7XG4gIH1cbi8vIGFkZCBmYWtlIEZ1bmN0aW9uI3RvU3RyaW5nIGZvciBjb3JyZWN0IHdvcmsgd3JhcHBlZCBtZXRob2RzIC8gY29uc3RydWN0b3JzIHdpdGggbWV0aG9kcyBsaWtlIExvRGFzaCBpc05hdGl2ZVxufSkoRnVuY3Rpb24ucHJvdG90eXBlLCBUT19TVFJJTkcsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyAmJiB0aGlzW1NSQ10gfHwgJHRvU3RyaW5nLmNhbGwodGhpcyk7XG59KTtcblxufSx7XCIuL19jb3JlXCI6OTMsXCIuL19mdW5jdGlvbi10by1zdHJpbmdcIjoxMDIsXCIuL19nbG9iYWxcIjoxMDMsXCIuL19oYXNcIjoxMDQsXCIuL19oaWRlXCI6MTA1LFwiLi9fdWlkXCI6MTQwfV0sMTMxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBkZWYgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwgdGFnLCBzdGF0KSB7XG4gIGlmIChpdCAmJiAhaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUcpKSBkZWYoaXQsIFRBRywgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWcgfSk7XG59O1xuXG59LHtcIi4vX2hhc1wiOjEwNCxcIi4vX29iamVjdC1kcFwiOjExOCxcIi4vX3drc1wiOjE0M31dLDEzMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgc2hhcmVkID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ2tleXMnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gc2hhcmVkW2tleV0gfHwgKHNoYXJlZFtrZXldID0gdWlkKGtleSkpO1xufTtcblxufSx7XCIuL19zaGFyZWRcIjoxMzMsXCIuL191aWRcIjoxNDB9XSwxMzM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXyc7XG52YXIgc3RvcmUgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoge30pO1xufSkoJ3ZlcnNpb25zJywgW10pLnB1c2goe1xuICB2ZXJzaW9uOiBjb3JlLnZlcnNpb24sXG4gIG1vZGU6IHJlcXVpcmUoJy4vX2xpYnJhcnknKSA/ICdwdXJlJyA6ICdnbG9iYWwnLFxuICBjb3B5cmlnaHQ6ICfCqSAyMDE5IERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpJ1xufSk7XG5cbn0se1wiLi9fY29yZVwiOjkzLFwiLi9fZ2xvYmFsXCI6MTAzLFwiLi9fbGlicmFyeVwiOjExNX1dLDEzNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIG1heCA9IE1hdGgubWF4O1xudmFyIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5kZXgsIGxlbmd0aCkge1xuICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xufTtcblxufSx7XCIuL190by1pbnRlZ2VyXCI6MTM1fV0sMTM1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgPSBNYXRoLmNlaWw7XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG59O1xuXG59LHt9XSwxMzY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gdG8gaW5kZXhlZCBvYmplY3QsIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKTtcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIElPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxufSx7XCIuL19kZWZpbmVkXCI6OTUsXCIuL19pb2JqZWN0XCI6MTA4fV0sMTM3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIDcuMS4xNSBUb0xlbmd0aFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBtaW4gPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuXG59LHtcIi4vX3RvLWludGVnZXJcIjoxMzV9XSwxMzg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KVxudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG5cbn0se1wiLi9fZGVmaW5lZFwiOjk1fV0sMTM5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBTKSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gaXQ7XG4gIHZhciBmbiwgdmFsO1xuICBpZiAoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICghUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xufTtcblxufSx7XCIuL19pcy1vYmplY3RcIjoxMTB9XSwxNDA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIGlkID0gMDtcbnZhciBweCA9IE1hdGgucmFuZG9tKCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07XG5cbn0se31dLDE0MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyIHdrc0V4dCA9IHJlcXVpcmUoJy4vX3drcy1leHQnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHZhciAkU3ltYm9sID0gY29yZS5TeW1ib2wgfHwgKGNvcmUuU3ltYm9sID0gTElCUkFSWSA/IHt9IDogZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG4gIGlmIChuYW1lLmNoYXJBdCgwKSAhPSAnXycgJiYgIShuYW1lIGluICRTeW1ib2wpKSBkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7IHZhbHVlOiB3a3NFeHQuZihuYW1lKSB9KTtcbn07XG5cbn0se1wiLi9fY29yZVwiOjkzLFwiLi9fZ2xvYmFsXCI6MTAzLFwiLi9fbGlicmFyeVwiOjExNSxcIi4vX29iamVjdC1kcFwiOjExOCxcIi4vX3drcy1leHRcIjoxNDJ9XSwxNDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fd2tzJyk7XG5cbn0se1wiLi9fd2tzXCI6MTQzfV0sMTQzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBzdG9yZSA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCd3a3MnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5TeW1ib2w7XG52YXIgVVNFX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcblxudmFyICRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcblxufSx7XCIuL19nbG9iYWxcIjoxMDMsXCIuL19zaGFyZWRcIjoxMzMsXCIuL191aWRcIjoxNDB9XSwxNDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKTtcbnZhciBzdGVwID0gcmVxdWlyZSgnLi9faXRlci1zdGVwJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xuXG4vLyAyMi4xLjMuNCBBcnJheS5wcm90b3R5cGUuZW50cmllcygpXG4vLyAyMi4xLjMuMTMgQXJyYXkucHJvdG90eXBlLmtleXMoKVxuLy8gMjIuMS4zLjI5IEFycmF5LnByb3RvdHlwZS52YWx1ZXMoKVxuLy8gMjIuMS4zLjMwIEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uIChpdGVyYXRlZCwga2luZCkge1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIga2luZCA9IHRoaXMuX2s7XG4gIHZhciBpbmRleCA9IHRoaXMuX2krKztcbiAgaWYgKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKSB7XG4gICAgdGhpcy5fdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc3RlcCgxKTtcbiAgfVxuICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiBzdGVwKDAsIGluZGV4KTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcblxufSx7XCIuL19hZGQtdG8tdW5zY29wYWJsZXNcIjo4OSxcIi4vX2l0ZXItZGVmaW5lXCI6MTEyLFwiLi9faXRlci1zdGVwXCI6MTEzLFwiLi9faXRlcmF0b3JzXCI6MTE0LFwiLi9fdG8taW9iamVjdFwiOjEzNn1dLDE0NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyAyMC4yLjIuMzQgTWF0aC50cnVuYyh4KVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdNYXRoJywge1xuICB0cnVuYzogZnVuY3Rpb24gdHJ1bmMoaXQpIHtcbiAgICByZXR1cm4gKGl0ID4gMCA/IE1hdGguZmxvb3IgOiBNYXRoLmNlaWwpKGl0KTtcbiAgfVxufSk7XG5cbn0se1wiLi9fZXhwb3J0XCI6MTAwfV0sMTQ2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyhPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgJGtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xuXG5yZXF1aXJlKCcuL19vYmplY3Qtc2FwJykoJ2tleXMnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBrZXlzKGl0KSB7XG4gICAgcmV0dXJuICRrZXlzKHRvT2JqZWN0KGl0KSk7XG4gIH07XG59KTtcblxufSx7XCIuL19vYmplY3Qta2V5c1wiOjEyNixcIi4vX29iamVjdC1zYXBcIjoxMjgsXCIuL190by1vYmplY3RcIjoxMzh9XSwxNDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuLy8gRUNNQVNjcmlwdCA2IHN5bWJvbHMgc2hpbVxudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKTtcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIE1FVEEgPSByZXF1aXJlKCcuL19tZXRhJykuS0VZO1xudmFyICRmYWlscyA9IHJlcXVpcmUoJy4vX2ZhaWxzJyk7XG52YXIgc2hhcmVkID0gcmVxdWlyZSgnLi9fc2hhcmVkJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4vX3VpZCcpO1xudmFyIHdrcyA9IHJlcXVpcmUoJy4vX3drcycpO1xudmFyIHdrc0V4dCA9IHJlcXVpcmUoJy4vX3drcy1leHQnKTtcbnZhciB3a3NEZWZpbmUgPSByZXF1aXJlKCcuL193a3MtZGVmaW5lJyk7XG52YXIgZW51bUtleXMgPSByZXF1aXJlKCcuL19lbnVtLWtleXMnKTtcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnLi9faXMtYXJyYXknKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbnZhciBfY3JlYXRlID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpO1xudmFyIGdPUE5FeHQgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbi1leHQnKTtcbnZhciAkR09QRCA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJyk7XG52YXIgJERQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgJGtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xudmFyIGdPUEQgPSAkR09QRC5mO1xudmFyIGRQID0gJERQLmY7XG52YXIgZ09QTiA9IGdPUE5FeHQuZjtcbnZhciAkU3ltYm9sID0gZ2xvYmFsLlN5bWJvbDtcbnZhciAkSlNPTiA9IGdsb2JhbC5KU09OO1xudmFyIF9zdHJpbmdpZnkgPSAkSlNPTiAmJiAkSlNPTi5zdHJpbmdpZnk7XG52YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG52YXIgSElEREVOID0gd2tzKCdfaGlkZGVuJyk7XG52YXIgVE9fUFJJTUlUSVZFID0gd2tzKCd0b1ByaW1pdGl2ZScpO1xudmFyIGlzRW51bSA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIFN5bWJvbFJlZ2lzdHJ5ID0gc2hhcmVkKCdzeW1ib2wtcmVnaXN0cnknKTtcbnZhciBBbGxTeW1ib2xzID0gc2hhcmVkKCdzeW1ib2xzJyk7XG52YXIgT1BTeW1ib2xzID0gc2hhcmVkKCdvcC1zeW1ib2xzJyk7XG52YXIgT2JqZWN0UHJvdG8gPSBPYmplY3RbUFJPVE9UWVBFXTtcbnZhciBVU0VfTkFUSVZFID0gdHlwZW9mICRTeW1ib2wgPT0gJ2Z1bmN0aW9uJztcbnZhciBRT2JqZWN0ID0gZ2xvYmFsLlFPYmplY3Q7XG4vLyBEb24ndCB1c2Ugc2V0dGVycyBpbiBRdCBTY3JpcHQsIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8xNzNcbnZhciBzZXR0ZXIgPSAhUU9iamVjdCB8fCAhUU9iamVjdFtQUk9UT1RZUEVdIHx8ICFRT2JqZWN0W1BST1RPVFlQRV0uZmluZENoaWxkO1xuXG4vLyBmYWxsYmFjayBmb3Igb2xkIEFuZHJvaWQsIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD02ODdcbnZhciBzZXRTeW1ib2xEZXNjID0gREVTQ1JJUFRPUlMgJiYgJGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIF9jcmVhdGUoZFAoe30sICdhJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZFAodGhpcywgJ2EnLCB7IHZhbHVlOiA3IH0pLmE7IH1cbiAgfSkpLmEgIT0gNztcbn0pID8gZnVuY3Rpb24gKGl0LCBrZXksIEQpIHtcbiAgdmFyIHByb3RvRGVzYyA9IGdPUEQoT2JqZWN0UHJvdG8sIGtleSk7XG4gIGlmIChwcm90b0Rlc2MpIGRlbGV0ZSBPYmplY3RQcm90b1trZXldO1xuICBkUChpdCwga2V5LCBEKTtcbiAgaWYgKHByb3RvRGVzYyAmJiBpdCAhPT0gT2JqZWN0UHJvdG8pIGRQKE9iamVjdFByb3RvLCBrZXksIHByb3RvRGVzYyk7XG59IDogZFA7XG5cbnZhciB3cmFwID0gZnVuY3Rpb24gKHRhZykge1xuICB2YXIgc3ltID0gQWxsU3ltYm9sc1t0YWddID0gX2NyZWF0ZSgkU3ltYm9sW1BST1RPVFlQRV0pO1xuICBzeW0uX2sgPSB0YWc7XG4gIHJldHVybiBzeW07XG59O1xuXG52YXIgaXNTeW1ib2wgPSBVU0VfTkFUSVZFICYmIHR5cGVvZiAkU3ltYm9sLml0ZXJhdG9yID09ICdzeW1ib2wnID8gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG59IDogZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCBpbnN0YW5jZW9mICRTeW1ib2w7XG59O1xuXG52YXIgJGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgRCkge1xuICBpZiAoaXQgPT09IE9iamVjdFByb3RvKSAkZGVmaW5lUHJvcGVydHkoT1BTeW1ib2xzLCBrZXksIEQpO1xuICBhbk9iamVjdChpdCk7XG4gIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEQpO1xuICBpZiAoaGFzKEFsbFN5bWJvbHMsIGtleSkpIHtcbiAgICBpZiAoIUQuZW51bWVyYWJsZSkge1xuICAgICAgaWYgKCFoYXMoaXQsIEhJRERFTikpIGRQKGl0LCBISURERU4sIGNyZWF0ZURlc2MoMSwge30pKTtcbiAgICAgIGl0W0hJRERFTl1ba2V5XSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSBpdFtISURERU5dW2tleV0gPSBmYWxzZTtcbiAgICAgIEQgPSBfY3JlYXRlKEQsIHsgZW51bWVyYWJsZTogY3JlYXRlRGVzYygwLCBmYWxzZSkgfSk7XG4gICAgfSByZXR1cm4gc2V0U3ltYm9sRGVzYyhpdCwga2V5LCBEKTtcbiAgfSByZXR1cm4gZFAoaXQsIGtleSwgRCk7XG59O1xudmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhpdCwgUCkge1xuICBhbk9iamVjdChpdCk7XG4gIHZhciBrZXlzID0gZW51bUtleXMoUCA9IHRvSU9iamVjdChQKSk7XG4gIHZhciBpID0gMDtcbiAgdmFyIGwgPSBrZXlzLmxlbmd0aDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKGwgPiBpKSAkZGVmaW5lUHJvcGVydHkoaXQsIGtleSA9IGtleXNbaSsrXSwgUFtrZXldKTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGl0LCBQKSB7XG4gIHJldHVybiBQID09PSB1bmRlZmluZWQgPyBfY3JlYXRlKGl0KSA6ICRkZWZpbmVQcm9wZXJ0aWVzKF9jcmVhdGUoaXQpLCBQKTtcbn07XG52YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoa2V5KSB7XG4gIHZhciBFID0gaXNFbnVtLmNhbGwodGhpcywga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKSk7XG4gIGlmICh0aGlzID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gRSB8fCAhaGFzKHRoaXMsIGtleSkgfHwgIWhhcyhBbGxTeW1ib2xzLCBrZXkpIHx8IGhhcyh0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtrZXldID8gRSA6IHRydWU7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSkge1xuICBpdCA9IHRvSU9iamVjdChpdCk7XG4gIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSk7XG4gIGlmIChpdCA9PT0gT2JqZWN0UHJvdG8gJiYgaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhPUFN5bWJvbHMsIGtleSkpIHJldHVybjtcbiAgdmFyIEQgPSBnT1BEKGl0LCBrZXkpO1xuICBpZiAoRCAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKSBELmVudW1lcmFibGUgPSB0cnVlO1xuICByZXR1cm4gRDtcbn07XG52YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KSB7XG4gIHZhciBuYW1lcyA9IGdPUE4odG9JT2JqZWN0KGl0KSk7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgdmFyIGkgPSAwO1xuICB2YXIga2V5O1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkge1xuICAgIGlmICghaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIGtleSAhPSBISURERU4gJiYga2V5ICE9IE1FVEEpIHJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCkge1xuICB2YXIgSVNfT1AgPSBpdCA9PT0gT2JqZWN0UHJvdG87XG4gIHZhciBuYW1lcyA9IGdPUE4oSVNfT1AgPyBPUFN5bWJvbHMgOiB0b0lPYmplY3QoaXQpKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIgaSA9IDA7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSB7XG4gICAgaWYgKGhhcyhBbGxTeW1ib2xzLCBrZXkgPSBuYW1lc1tpKytdKSAmJiAoSVNfT1AgPyBoYXMoT2JqZWN0UHJvdG8sIGtleSkgOiB0cnVlKSkgcmVzdWx0LnB1c2goQWxsU3ltYm9sc1trZXldKTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gMTkuNC4xLjEgU3ltYm9sKFtkZXNjcmlwdGlvbl0pXG5pZiAoIVVTRV9OQVRJVkUpIHtcbiAgJFN5bWJvbCA9IGZ1bmN0aW9uIFN5bWJvbCgpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mICRTeW1ib2wpIHRocm93IFR5cGVFcnJvcignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIScpO1xuICAgIHZhciB0YWcgPSB1aWQoYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpO1xuICAgIHZhciAkc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAodGhpcyA9PT0gT2JqZWN0UHJvdG8pICRzZXQuY2FsbChPUFN5bWJvbHMsIHZhbHVlKTtcbiAgICAgIGlmIChoYXModGhpcywgSElEREVOKSAmJiBoYXModGhpc1tISURERU5dLCB0YWcpKSB0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuICAgICAgc2V0U3ltYm9sRGVzYyh0aGlzLCB0YWcsIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbiAgICB9O1xuICAgIGlmIChERVNDUklQVE9SUyAmJiBzZXR0ZXIpIHNldFN5bWJvbERlc2MoT2JqZWN0UHJvdG8sIHRhZywgeyBjb25maWd1cmFibGU6IHRydWUsIHNldDogJHNldCB9KTtcbiAgICByZXR1cm4gd3JhcCh0YWcpO1xuICB9O1xuICByZWRlZmluZSgkU3ltYm9sW1BST1RPVFlQRV0sICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9rO1xuICB9KTtcblxuICAkR09QRC5mID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgJERQLmYgPSAkZGVmaW5lUHJvcGVydHk7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1nb3BuJykuZiA9IGdPUE5FeHQuZiA9ICRnZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICByZXF1aXJlKCcuL19vYmplY3QtcGllJykuZiA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKS5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICBpZiAoREVTQ1JJUFRPUlMgJiYgIXJlcXVpcmUoJy4vX2xpYnJhcnknKSkge1xuICAgIHJlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuICB9XG5cbiAgd2tzRXh0LmYgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiB3cmFwKHdrcyhuYW1lKSk7XG4gIH07XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHsgU3ltYm9sOiAkU3ltYm9sIH0pO1xuXG5mb3IgKHZhciBlczZTeW1ib2xzID0gKFxuICAvLyAxOS40LjIuMiwgMTkuNC4yLjMsIDE5LjQuMi40LCAxOS40LjIuNiwgMTkuNC4yLjgsIDE5LjQuMi45LCAxOS40LjIuMTAsIDE5LjQuMi4xMSwgMTkuNC4yLjEyLCAxOS40LjIuMTMsIDE5LjQuMi4xNFxuICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG4pLnNwbGl0KCcsJyksIGogPSAwOyBlczZTeW1ib2xzLmxlbmd0aCA+IGo7KXdrcyhlczZTeW1ib2xzW2orK10pO1xuXG5mb3IgKHZhciB3ZWxsS25vd25TeW1ib2xzID0gJGtleXMod2tzLnN0b3JlKSwgayA9IDA7IHdlbGxLbm93blN5bWJvbHMubGVuZ3RoID4gazspIHdrc0RlZmluZSh3ZWxsS25vd25TeW1ib2xzW2srK10pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnU3ltYm9sJywge1xuICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcbiAgJ2Zvcic6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG4gICAgICA/IFN5bWJvbFJlZ2lzdHJ5W2tleV1cbiAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcbiAgfSxcbiAgLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvcihzeW0pXG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKHN5bSkge1xuICAgIGlmICghaXNTeW1ib2woc3ltKSkgdGhyb3cgVHlwZUVycm9yKHN5bSArICcgaXMgbm90IGEgc3ltYm9sIScpO1xuICAgIGZvciAodmFyIGtleSBpbiBTeW1ib2xSZWdpc3RyeSkgaWYgKFN5bWJvbFJlZ2lzdHJ5W2tleV0gPT09IHN5bSkgcmV0dXJuIGtleTtcbiAgfSxcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbiAoKSB7IHNldHRlciA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24gKCkgeyBzZXR0ZXIgPSBmYWxzZTsgfVxufSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdPYmplY3QnLCB7XG4gIC8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiAgY3JlYXRlOiAkY3JlYXRlLFxuICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiAkZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcbn0pO1xuXG4vLyAyNC4zLjIgSlNPTi5zdHJpbmdpZnkodmFsdWUgWywgcmVwbGFjZXIgWywgc3BhY2VdXSlcbiRKU09OICYmICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogKCFVU0VfTkFUSVZFIHx8ICRmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBTID0gJFN5bWJvbCgpO1xuICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcbiAgLy8gVjggdGhyb3dzIG9uIGJveGVkIHN5bWJvbHNcbiAgcmV0dXJuIF9zdHJpbmdpZnkoW1NdKSAhPSAnW251bGxdJyB8fCBfc3RyaW5naWZ5KHsgYTogUyB9KSAhPSAne30nIHx8IF9zdHJpbmdpZnkoT2JqZWN0KFMpKSAhPSAne30nO1xufSkpLCAnSlNPTicsIHtcbiAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpIHtcbiAgICB2YXIgYXJncyA9IFtpdF07XG4gICAgdmFyIGkgPSAxO1xuICAgIHZhciByZXBsYWNlciwgJHJlcGxhY2VyO1xuICAgIHdoaWxlIChhcmd1bWVudHMubGVuZ3RoID4gaSkgYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICAkcmVwbGFjZXIgPSByZXBsYWNlciA9IGFyZ3NbMV07XG4gICAgaWYgKCFpc09iamVjdChyZXBsYWNlcikgJiYgaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpIHJldHVybjsgLy8gSUU4IHJldHVybnMgc3RyaW5nIG9uIHVuZGVmaW5lZFxuICAgIGlmICghaXNBcnJheShyZXBsYWNlcikpIHJlcGxhY2VyID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgJHJlcGxhY2VyID09ICdmdW5jdGlvbicpIHZhbHVlID0gJHJlcGxhY2VyLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICBpZiAoIWlzU3ltYm9sKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgYXJnc1sxXSA9IHJlcGxhY2VyO1xuICAgIHJldHVybiBfc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmdzKTtcbiAgfVxufSk7XG5cbi8vIDE5LjQuMy40IFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV0oaGludClcbiRTeW1ib2xbUFJPVE9UWVBFXVtUT19QUklNSVRJVkVdIHx8IHJlcXVpcmUoJy4vX2hpZGUnKSgkU3ltYm9sW1BST1RPVFlQRV0sIFRPX1BSSU1JVElWRSwgJFN5bWJvbFtQUk9UT1RZUEVdLnZhbHVlT2YpO1xuLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoJFN5bWJvbCwgJ1N5bWJvbCcpO1xuLy8gMjAuMi4xLjkgTWF0aFtAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoTWF0aCwgJ01hdGgnLCB0cnVlKTtcbi8vIDI0LjMuMyBKU09OW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhnbG9iYWwuSlNPTiwgJ0pTT04nLCB0cnVlKTtcblxufSx7XCIuL19hbi1vYmplY3RcIjo5MCxcIi4vX2Rlc2NyaXB0b3JzXCI6OTYsXCIuL19lbnVtLWtleXNcIjo5OSxcIi4vX2V4cG9ydFwiOjEwMCxcIi4vX2ZhaWxzXCI6MTAxLFwiLi9fZ2xvYmFsXCI6MTAzLFwiLi9faGFzXCI6MTA0LFwiLi9faGlkZVwiOjEwNSxcIi4vX2lzLWFycmF5XCI6MTA5LFwiLi9faXMtb2JqZWN0XCI6MTEwLFwiLi9fbGlicmFyeVwiOjExNSxcIi4vX21ldGFcIjoxMTYsXCIuL19vYmplY3QtY3JlYXRlXCI6MTE3LFwiLi9fb2JqZWN0LWRwXCI6MTE4LFwiLi9fb2JqZWN0LWdvcGRcIjoxMjAsXCIuL19vYmplY3QtZ29wblwiOjEyMixcIi4vX29iamVjdC1nb3BuLWV4dFwiOjEyMSxcIi4vX29iamVjdC1nb3BzXCI6MTIzLFwiLi9fb2JqZWN0LWtleXNcIjoxMjYsXCIuL19vYmplY3QtcGllXCI6MTI3LFwiLi9fcHJvcGVydHktZGVzY1wiOjEyOSxcIi4vX3JlZGVmaW5lXCI6MTMwLFwiLi9fc2V0LXRvLXN0cmluZy10YWdcIjoxMzEsXCIuL19zaGFyZWRcIjoxMzMsXCIuL190by1pb2JqZWN0XCI6MTM2LFwiLi9fdG8tcHJpbWl0aXZlXCI6MTM5LFwiLi9fdWlkXCI6MTQwLFwiLi9fd2tzXCI6MTQzLFwiLi9fd2tzLWRlZmluZVwiOjE0MSxcIi4vX3drcy1leHRcIjoxNDJ9XSwxNDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xucmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdhc3luY0l0ZXJhdG9yJyk7XG5cbn0se1wiLi9fd2tzLWRlZmluZVwiOjE0MX1dLDE0OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgJGl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vZXM2LmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG52YXIgd2tzID0gcmVxdWlyZSgnLi9fd2tzJyk7XG52YXIgSVRFUkFUT1IgPSB3a3MoJ2l0ZXJhdG9yJyk7XG52YXIgVE9fU1RSSU5HX1RBRyA9IHdrcygndG9TdHJpbmdUYWcnKTtcbnZhciBBcnJheVZhbHVlcyA9IEl0ZXJhdG9ycy5BcnJheTtcblxudmFyIERPTUl0ZXJhYmxlcyA9IHtcbiAgQ1NTUnVsZUxpc3Q6IHRydWUsIC8vIFRPRE86IE5vdCBzcGVjIGNvbXBsaWFudCwgc2hvdWxkIGJlIGZhbHNlLlxuICBDU1NTdHlsZURlY2xhcmF0aW9uOiBmYWxzZSxcbiAgQ1NTVmFsdWVMaXN0OiBmYWxzZSxcbiAgQ2xpZW50UmVjdExpc3Q6IGZhbHNlLFxuICBET01SZWN0TGlzdDogZmFsc2UsXG4gIERPTVN0cmluZ0xpc3Q6IGZhbHNlLFxuICBET01Ub2tlbkxpc3Q6IHRydWUsXG4gIERhdGFUcmFuc2Zlckl0ZW1MaXN0OiBmYWxzZSxcbiAgRmlsZUxpc3Q6IGZhbHNlLFxuICBIVE1MQWxsQ29sbGVjdGlvbjogZmFsc2UsXG4gIEhUTUxDb2xsZWN0aW9uOiBmYWxzZSxcbiAgSFRNTEZvcm1FbGVtZW50OiBmYWxzZSxcbiAgSFRNTFNlbGVjdEVsZW1lbnQ6IGZhbHNlLFxuICBNZWRpYUxpc3Q6IHRydWUsIC8vIFRPRE86IE5vdCBzcGVjIGNvbXBsaWFudCwgc2hvdWxkIGJlIGZhbHNlLlxuICBNaW1lVHlwZUFycmF5OiBmYWxzZSxcbiAgTmFtZWROb2RlTWFwOiBmYWxzZSxcbiAgTm9kZUxpc3Q6IHRydWUsXG4gIFBhaW50UmVxdWVzdExpc3Q6IGZhbHNlLFxuICBQbHVnaW46IGZhbHNlLFxuICBQbHVnaW5BcnJheTogZmFsc2UsXG4gIFNWR0xlbmd0aExpc3Q6IGZhbHNlLFxuICBTVkdOdW1iZXJMaXN0OiBmYWxzZSxcbiAgU1ZHUGF0aFNlZ0xpc3Q6IGZhbHNlLFxuICBTVkdQb2ludExpc3Q6IGZhbHNlLFxuICBTVkdTdHJpbmdMaXN0OiBmYWxzZSxcbiAgU1ZHVHJhbnNmb3JtTGlzdDogZmFsc2UsXG4gIFNvdXJjZUJ1ZmZlckxpc3Q6IGZhbHNlLFxuICBTdHlsZVNoZWV0TGlzdDogdHJ1ZSwgLy8gVE9ETzogTm90IHNwZWMgY29tcGxpYW50LCBzaG91bGQgYmUgZmFsc2UuXG4gIFRleHRUcmFja0N1ZUxpc3Q6IGZhbHNlLFxuICBUZXh0VHJhY2tMaXN0OiBmYWxzZSxcbiAgVG91Y2hMaXN0OiBmYWxzZVxufTtcblxuZm9yICh2YXIgY29sbGVjdGlvbnMgPSBnZXRLZXlzKERPTUl0ZXJhYmxlcyksIGkgPSAwOyBpIDwgY29sbGVjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgdmFyIE5BTUUgPSBjb2xsZWN0aW9uc1tpXTtcbiAgdmFyIGV4cGxpY2l0ID0gRE9NSXRlcmFibGVzW05BTUVdO1xuICB2YXIgQ29sbGVjdGlvbiA9IGdsb2JhbFtOQU1FXTtcbiAgdmFyIHByb3RvID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcbiAgdmFyIGtleTtcbiAgaWYgKHByb3RvKSB7XG4gICAgaWYgKCFwcm90b1tJVEVSQVRPUl0pIGhpZGUocHJvdG8sIElURVJBVE9SLCBBcnJheVZhbHVlcyk7XG4gICAgaWYgKCFwcm90b1tUT19TVFJJTkdfVEFHXSkgaGlkZShwcm90bywgVE9fU1RSSU5HX1RBRywgTkFNRSk7XG4gICAgSXRlcmF0b3JzW05BTUVdID0gQXJyYXlWYWx1ZXM7XG4gICAgaWYgKGV4cGxpY2l0KSBmb3IgKGtleSBpbiAkaXRlcmF0b3JzKSBpZiAoIXByb3RvW2tleV0pIHJlZGVmaW5lKHByb3RvLCBrZXksICRpdGVyYXRvcnNba2V5XSwgdHJ1ZSk7XG4gIH1cbn1cblxufSx7XCIuL19nbG9iYWxcIjoxMDMsXCIuL19oaWRlXCI6MTA1LFwiLi9faXRlcmF0b3JzXCI6MTE0LFwiLi9fb2JqZWN0LWtleXNcIjoxMjYsXCIuL19yZWRlZmluZVwiOjEzMCxcIi4vX3drc1wiOjE0MyxcIi4vZXM2LmFycmF5Lml0ZXJhdG9yXCI6MTQ0fV0sMTUwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgX2FuZ3VsYXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJhbmd1bGFyXCIpKTtcblxucmVxdWlyZShcIkB1aXJvdXRlci9hbmd1bGFyanNcIik7XG5cbnJlcXVpcmUoXCJhbmd1bGFyLXRyYW5zbGF0ZVwiKTtcblxucmVxdWlyZShcImFuZ3VsYXItc2FuaXRpemVcIik7XG5cbnJlcXVpcmUoXCJhbmd1bGFyLXRyYW5zbGF0ZS1sb2FkZXItc3RhdGljLWZpbGVzXCIpO1xuXG5yZXF1aXJlKFwiYW5ndWxhci10cmFuc2xhdGUtc3RvcmFnZS1sb2NhbFwiKTtcblxucmVxdWlyZShcImFuZ3VsYXItdHJhbnNsYXRlLXN0b3JhZ2UtY29va2llXCIpO1xuXG5yZXF1aXJlKFwiYW5ndWxhci1jb29raWVzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5fYW5ndWxhci5kZWZhdWx0Lm1vZHVsZSgnY29yZScsIFsndGVtcGxhdGVzJywgJ3VpLnJvdXRlcicsICdzZWFyY2hQYWdlJywgJ3NoYXJlZCcsICdob21lJywgJ25nQ29va2llcycsICdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJywgJ3RyYW5zbGF0ZScsICduZ1Nhbml0aXplJ10pO1xuXG5fYW5ndWxhci5kZWZhdWx0Lm1vZHVsZSgnaG9tZScsIFtdKTtcblxuX2FuZ3VsYXIuZGVmYXVsdC5tb2R1bGUoJ3NlYXJjaFBhZ2UnLCBbXSk7XG5cbl9hbmd1bGFyLmRlZmF1bHQubW9kdWxlKCdzaGFyZWQnLCBbXSk7XG5cbl9hbmd1bGFyLmRlZmF1bHQubW9kdWxlKCd0cmFuc2xhdGUnLCBbXSk7XG5cbn0se1wiQHVpcm91dGVyL2FuZ3VsYXJqc1wiOjIsXCJhbmd1bGFyXCI6ODcsXCJhbmd1bGFyLWNvb2tpZXNcIjo3OSxcImFuZ3VsYXItc2FuaXRpemVcIjo4MSxcImFuZ3VsYXItdHJhbnNsYXRlXCI6ODUsXCJhbmd1bGFyLXRyYW5zbGF0ZS1sb2FkZXItc3RhdGljLWZpbGVzXCI6ODIsXCJhbmd1bGFyLXRyYW5zbGF0ZS1zdG9yYWdlLWNvb2tpZVwiOjgzLFwiYW5ndWxhci10cmFuc2xhdGUtc3RvcmFnZS1sb2NhbFwiOjg0fV0sMTUxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzPXtcbiAgICBcIkJVVFRPTl9MQU5HX0VOXCI6IFwiRW5nbGlzY2hcIixcbiAgICBcIkJVVFRPTl9MQU5HX0RFXCI6IFwiRGV1dHNjaFwiLFxuICAgIFwiQlVUVE9OX0xBTkdfRVNcIjogXCJTcGFuaXNjaFwiLFxuICAgIFwiVE9UQUxfUkVTVUxUU1wiOiBcIkVyZ2Vibmlzc2UgaW5zZ2VzYW10XCJcbn1cblxufSx7fV0sMTUyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzPXtcbiAgICBcIkJVVFRPTl9MQU5HX0VOXCI6IFwiRW5nbGlzaFwiLFxuICAgIFwiQlVUVE9OX0xBTkdfREVcIjogXCJHZXJtYW5cIixcbiAgICBcIkJVVFRPTl9MQU5HX0VTXCI6IFwiU3BhbmlzaFwiLFxuICAgIFwiVE9UQUxfUkVTVUxUU1wiOiBcIlRvdGFsIHJlc3VsdHNcIlxufVxuXG59LHt9XSwxNTM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xubW9kdWxlLmV4cG9ydHM9e1xuICAgIFwiQlVUVE9OX0xBTkdfRU5cIjogXCJJbmdsZXNcIixcbiAgICBcIkJVVFRPTl9MQU5HX0RFXCI6IFwiQWxlbW5cIixcbiAgICBcIkJVVFRPTl9MQU5HX0VTXCI6IFwiRXNwYW5vbFwiLFxuICAgIFwiVE9UQUxfUkVTVUxUU1wiOiBcIlJlc3VsdGFkb3MgdG90YWxlc1wiXG59XG5cblxufSx7fV0sMTU0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5tb2NrRG9jdW1lbnRzID0gdm9pZCAwO1xudmFyIG1vY2tEb2N1bWVudHMgPSBbe1xuICBjYXRlZ29yeTogJ0pvdXJuYWxzJyxcbiAgdmFsdWU6IHtcbiAgICBoZWFkbGluZTogJ0pvdXJuYWxzIGhhcHBlbmQnLFxuICAgIHRleHQ6ICdMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LiBDcmFzIHVsdHJpY2llcyBpcHN1bSB2ZWwgdG9ydG9yIGFsaXF1YW0gZWxlaWZlbmQuIFNlZCBub24gdmVsaXQgcmhvbmN1cyBxdWFtIHZvbHV0cGF0IGdyYXZpZGEgdGluY2lkdW50IG5lYyBsZWN0dXMuIE51bGxhbSB0cmlzdGlxdWUgZXJhdCBhIGxhY3VzIHNvbGxpY2l0dWRpbiwgY29tbW9kbyB0ZW1wdXMgZWxpdCB2aXZlcnJhLiBWZXN0aWJ1bHVtIGltcGVyZGlldCBuZXF1ZSBuZWMgdG9ydG9yIG1vbGxpcywgYXQgc2NlbGVyaXNxdWUgbmlzaSB2YXJpdXMuIFZpdmFtdXMgbGlndWxhIG1hZ25hLCBwb3J0YSBldCBmZWxpcyBub24sIGNvbnZhbGxpcyBmYWNpbGlzaXMgZXN0LiBNb3JiaSB1dCBudW5jIGxpYmVyby4gVml2YW11cyBwb3N1ZXJlIGF1Y3RvciBzZW0sIHF1aXMgbW9sZXN0aWUgbWFzc2EgbGFvcmVldCB2aXRhZS4gRG9uZWMgbmVjIGxpYmVybyB2aXRhZSB0dXJwaXMgYWxpcXVldCBzY2VsZXJpc3F1ZSBhYyBhYyBkdWkuIFByYWVzZW50IG1ldHVzIHR1cnBpcywgZWxlbWVudHVtIGV1IHB1cnVzIGZhdWNpYnVzLCBpbXBlcmRpZXQgcGVsbGVudGVzcXVlIG5pc2kuIER1aXMgbWF4aW11cyBsaWJlcm8gZGljdHVtIG1pIHZ1bHB1dGF0ZSwgaW4gaWFjdWxpcyBuZXF1ZSBjb21tb2RvLicsXG4gICAgdmlld3M6IDkwMTMyXG4gIH1cbn0sIHtcbiAgY2F0ZWdvcnk6ICdKb3VybmFscycsXG4gIHZhbHVlOiB7XG4gICAgaGVhZGxpbmU6ICdXaGVyZSBKb3VybmFscyBJIGdldCBzb21lPycsXG4gICAgdGV4dDogJ1NlZCB1dCBwZXJzcGljaWF0aXMgdW5kZSBvbW5pcyBpc3RlIG5hdHVzIGVycm9yIHNpdCB2b2x1cHRhdGVtIGFjY3VzYW50aXVtIGRvbG9yZW1xdWUgbGF1ZGFudGl1bSwgdG90YW0gcmVtIGFwZXJpYW0sIGVhcXVlIGlwc2EgcXVhZSBhYiBpbGxvIGludmVudG9yZSB2ZXJpdGF0aXMgZXQgcXVhc2kgYXJjaGl0ZWN0byBiZWF0YWUgdml0YWUgZGljdGEgc3VudCBleHBsaWNhYm8uIE5lbW8gZW5pbSBpcHNhbSB2b2x1cHRhdGVtIHF1aWEgdm9sdXB0YXMgc2l0IGFzcGVybmF0dXIgYXV0IG9kaXQgYXV0IGZ1Z2l0LCBzZWQgcXVpYSBjb25zZXF1dW50dXIgbWFnbmkgZG9sb3JlcyBlb3MgcXVpIHJhdGlvbmUgdm9sdXB0YXRlbSBzZXF1aSBuZXNjaXVudC4gTmVxdWUgcG9ycm8gcXVpc3F1YW0gZXN0LCBxdWkgZG9sb3JlbSBpcHN1bSBxdWlhIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciwgYWRpcGlzY2kgdmVsaXQsIHNlZCBxdWlhIG5vbiBudW1xdWFtIGVpdXMgbW9kaSB0ZW1wb3JhIGluY2lkdW50IHV0IGxhYm9yZSBldCBkb2xvcmUgbWFnbmFtIGFsaXF1YW0gcXVhZXJhdCB2b2x1cHRhdGVtLiBVdCBlbmltIGFkIG1pbmltYSB2ZW5pYW0sIHF1aXMgbm9zdHJ1bSBleGVyY2l0YXRpb25lbSB1bGxhbSBjb3Jwb3JpcyBzdXNjaXBpdCBsYWJvcmlvc2FtLCBuaXNpIHV0IGFsaXF1aWQgZXggZWEgY29tbW9kaSBjb25zZXF1YXR1cj8gUXUgdmVsIGV1bSBpdXJlIHJlcHJlaGVuZGVyaXQgcXVpIGluIGVhIHZvbHVwdGF0ZSB2ZWxpdCBjb25zZXF1YXR1ciwgdmVsIGlsbHVtIHF1aSBkb2xvcmVtIGV1bSBmdWdpYXQgcXVvIHZvbHVwdGFzIG51bGxhIHBhcmlhdHVyPycsXG4gICAgdmlld3M6IDEwMFxuICB9XG59LCB7XG4gIGNhdGVnb3J5OiAnTmV3cycsXG4gIHZhbHVlOiB7XG4gICAgaGVhZGxpbmU6ICdTb21ldGhpbmcgTmV3cycsXG4gICAgdGV4dDogJ0V0aWFtIHNpdCBhbWV0IG1hbGVzdWFkYSBkb2xvci4gU3VzcGVuZGlzc2UgZXUgZGlnbmlzc2ltIG1hdXJpcy4gQWxpcXVhbSB1dCBsZW8gZGlnbmlzc2ltLCBwb3N1ZXJlIG51bmMgbm9uLCB1bGxhbWNvcnBlciBuZXF1ZS4gSW50ZXJkdW0gZXQgbWFsZXN1YWRhIGZhbWVzIGFjIGFudGUgaXBzdW0gcHJpbWlzIGluIGZhdWNpYnVzLiBDcmFzIG5lYyBvZGlvIGluIG1hc3NhIGZlcm1lbnR1bSBwZWxsZW50ZXNxdWUgdmVoaWN1bGEgZWdldCBvZGlvLiBPcmNpIHZhcml1cyBuYXRvcXVlIHBlbmF0aWJ1cyBldCBtYWduaXMgZGlzIHBhcnR1cmllbnQgbW9udGVzLCBuYXNjZXR1ciByaWRpY3VsdXMgbXVzLiBNYXVyaXMgbGlndWxhIHR1cnBpcywgdmVoaWN1bGEgaWQganVzdG8gbm9uLCBsYW9yZWV0IG1heGltdXMgYXVndWUuIE5hbSB2ZWwgZXggdWxsYW1jb3JwZXIsIHBvc3VlcmUgbWFnbmEgZXUsIGNvbnNlcXVhdCBvcmNpLiBTdXNwZW5kaXNzZSBhY2N1bXNhbiBsaWd1bGEgYXVndWUsIGNvbnZhbGxpcyBwb3N1ZXJlIGxpYmVybyBzb2RhbGVzIGFjLiBWaXZhbXVzIGVnZXQgaXBzdW0gaW4gdmVsaXQgZ3JhdmlkYSBmYXVjaWJ1cyBjb25zZWN0ZXR1ciBpZCBkb2xvci4gRXRpYW0gZXQgZHVpIHNlZCBsZW8gY29uZ3VlIHRyaXN0aXF1ZS4gQ3VyYWJpdHVyIG5vbiBsb2JvcnRpcyBuaWJoLCBzaXQgYW1ldCBmcmluZ2lsbGEgbmlzbC4gTWFlY2VuYXMgZXQgc2VtIHV0IGxvcmVtIGNvbnNlcXVhdCBhbGlxdWFtIGluIHV0IGxlY3R1cy4gSW4gZ3JhdmlkYSBxdWFtIGRvbG9yLCBlZ2V0IHBvcnRhIGxvcmVtIHZ1bHB1dGF0ZSBhdC4nLFxuICAgIHZpZXdzOiA5MzJcbiAgfVxufSwge1xuICBjYXRlZ29yeTogJ1RheGVzJyxcbiAgdmFsdWU6IHtcbiAgICBoZWFkbGluZTogJ1RheGVzIGhhcHBlbmQnLFxuICAgIHRleHQ6ICdNYWVjZW5hcyBtYWxlc3VhZGEgYXQgaXBzdW0gdWx0cmljZXMgZWxlbWVudHVtLiBTZWQgZG9sb3Igb2RpbywgbW9sbGlzIG5lYyBsaWd1bGEgc29kYWxlcywgc2VtcGVyIHNvbGxpY2l0dWRpbiBsaWJlcm8uIFBoYXNlbGx1cyB2ZW5lbmF0aXMsIG51bGxhIHNlZCBpbnRlcmR1bSBhdWN0b3IsIG9yY2kgbWV0dXMgY29uZ3VlIGR1aSwgZXQgZmV1Z2lhdCBleCBlbmltIHNlZCBudW5jLiBEb25lYyBtYWxlc3VhZGEsIGxlbyBxdWlzIGNvbnNlcXVhdCBlZmZpY2l0dXIsIG51bGxhIHZlbGl0IGNvbmRpbWVudHVtIGVuaW0sIHNlZCB0cmlzdGlxdWUgc2FwaWVuIG51bmMgcnV0cnVtIG51bmMuIEluIHF1aXMgb2RpbyBhYyBpcHN1bSBmZXVnaWF0IHZpdmVycmEuIEV0aWFtIG9kaW8gZXN0LCB0cmlzdGlxdWUgZWdldCBwaGFyZXRyYSBzZWQsIHRpbmNpZHVudCBlZ2V0IHB1cnVzLiBOdWxsYW0gbm9uIGVmZmljaXR1ciBudWxsYS4gU3VzcGVuZGlzc2UgZGlhbSBlcmF0LCBzZW1wZXIgc2VkIHJob25jdXMgdml0YWUsIGxhY2luaWEgaW4gb2Rpby4nLFxuICAgIHZpZXdzOiAzMlxuICB9XG59LCB7XG4gIGNhdGVnb3J5OiAnSm91cm5hbHMnLFxuICB2YWx1ZToge1xuICAgIGhlYWRsaW5lOiAnV2hlcmUgSm91cm5hbHMgSSBnZXQgc29tZT8nLFxuICAgIHRleHQ6ICdUaGVyZSBhcmUgbWFueSB2YXJpYXRpb25zIG9mIHBhc3NhZ2VzIG9mIExvcmVtIElwc3VtIGF2YWlsYWJsZSwgYnV0IHRoZSBtYWpvcml0eSBoYXZlIHN1ZmZlcmVkIGFsdGVyYXRpb24gaW4gc29tZSBmb3JtLCBieSBpbmplY3RlZCBodW1vdXIsIG9yIHJhbmRvbWlzZWQgd29yZHMgd2hpY2ggZG9uXFwndCBsb29rIGV2ZW4gc2xpZ2h0bHkgYmVsaWV2YWJsZS4gSWYgeW91IGFyZSBnb2luZyB0byB1c2UgYSBwYXNzYWdlIG9mIExvcmVtIElwc3VtLCB5b3UgbmVlZCB0byBiZSBzdXJlIHRoZXJlIGlzblxcJ3QgYW55dGhpbmcgZW1iYXJyYXNzaW5nIGhpZGRlbiBpbiB0aGUgbWlkZGxlIG9mIHRleHQuIEFsbCB0aGUgTG9yZW0gSXBzdW0gZ2VuZXJhdG9ycyBvbiB0aGUgSW50ZXJuZXQgdGVuZCB0byByZXBlYXQgcHJlZGVmaW5lZCBjaHVua3MgYXMgbmVjZXNzYXJ5LCBtYWtpbmcgdGhpcyB0aGUgZmlyc3QgdHJ1ZSBnZW5lcmF0b3Igb24gdGhlIEludGVybmV0LiBJdCB1c2VzIGEgZGljdGlvbmFyeSBvZiBvdmVyIDIwMCBMYXRpbiB3b3JkcywgY29tYmluZWQgd2l0aCBhIGhhbmRmdWwgb2YgbW9kZWwgc2VudGVuY2Ugc3RydWN0dXJlcywgdG8gZ2VuZXJhdGUgTG9yZW0gSXBzdW0gd2hpY2ggbG9va3MgcmVhc29uYWJsZS4gVGhlIGdlbmVyYXRlZCBMb3JlbSBJcHN1bSBpcyB0aGVyZWZvcmUgYWx3YXlzIGZyZWUgZnJvbSByZXBldGl0aW9uLCBpbmplY3RlZCBodW1vdXIsIG9yIG5vbi1jaGFyYWN0ZXJpc3RpYyB3b3JkcyBldGMuJyxcbiAgICB2aWV3czogMTBcbiAgfVxufSwge1xuICBjYXRlZ29yeTogJ1RheGVzJyxcbiAgdmFsdWU6IHtcbiAgICBoZWFkbGluZTogJ1RheGVzIGhhcHBlbmQnLFxuICAgIHRleHQ6ICdWZXN0aWJ1bHVtIGFjIG1hbGVzdWFkYSBuZXF1ZSwgYXQgcG9ydGEgbmlzaS4gTmFtIHVybmEgc2FwaWVuLCBlZ2VzdGFzIHZlbCBlcm9zIG5lYywgZWZmaWNpdHVyIGN1cnN1cyBxdWFtLiBEdWlzIHNlZCBtYXVyaXMgZWdlc3RhcywgY29udmFsbGlzIGZlbGlzIHNlZCwgaGVuZHJlcml0IGV4LiBOdWxsYW0gZnJpbmdpbGxhIGZpbmlidXMgbWksIGVnZXQgZXVpc21vZCBmZWxpcyBldWlzbW9kIGEuIE51bGxhbSBibGFuZGl0IGVnZXQganVzdG8gbmVjIGN1cnN1cy4gU3VzcGVuZGlzc2Ugb3JjaSB0b3J0b3IsIGdyYXZpZGEgYWMgY29udmFsbGlzIG5lYywgbW9sbGlzIGVnZXQgZG9sb3IuIFNlZCBub24gbGVvIGV1IG51bmMgZWdlc3RhcyBmZXJtZW50dW0gYSB2ZWwgYXJjdS4gU2VkIHZvbHV0cGF0IGEgbmliaCBldSB2ZXN0aWJ1bHVtLicsXG4gICAgdmlld3M6IDkwXG4gIH1cbn0sIHtcbiAgY2F0ZWdvcnk6ICdOZXdzJyxcbiAgdmFsdWU6IHtcbiAgICBoZWFkbGluZTogJ05ld3MgaGFwcGVuZCcsXG4gICAgdGV4dDogJ051bGxhbSBjb25kaW1lbnR1bSBhYyByaXN1cyBxdWlzIHZ1bHB1dGF0ZS4gRnVzY2UgYXQgbG9yZW0gcXVpcyBsZWN0dXMgbWFsZXN1YWRhIHNlbXBlciBlZ2V0IHNlZCBtYXNzYS4gRHVpcyB1dCBlc3QgYW50ZS4gSW4gaWQgdHVycGlzIGEgbWkgZnJpbmdpbGxhIGNvbnZhbGxpcyBxdWlzIHZlbCBzYXBpZW4uIFBlbGxlbnRlc3F1ZSBoYWJpdGFudCBtb3JiaSB0cmlzdGlxdWUgc2VuZWN0dXMgZXQgbmV0dXMgZXQgbWFsZXN1YWRhIGZhbWVzIGFjIHR1cnBpcyBlZ2VzdGFzLiBBZW5lYW4gbmliaCBzZW0sIGRpY3R1bSBldCB0ZW1wb3IgdmVsLCByaG9uY3VzIHV0IGlwc3VtLiBWZXN0aWJ1bHVtIHNpdCBhbWV0IGVuaW0gYXJjdS4gQ3JhcyBzYXBpZW4gbmVxdWUsIHB1bHZpbmFyIGV1IGVnZXN0YXMgYXQsIG1vbGVzdGllIG5vbiBlbmltLicsXG4gICAgdmlld3M6IDEzMlxuICB9XG59LCB7XG4gIGNhdGVnb3J5OiAnVG9waWNzJyxcbiAgdmFsdWU6IHtcbiAgICBoZWFkbGluZTogJ1RvcGljcyBoYXBwZW5kJyxcbiAgICB0ZXh0OiAnUGVsbGVudGVzcXVlIGFjIG5pc2kgdWx0cmljaWVzLCBhY2N1bXNhbiBpcHN1bSB2ZWwsIHZvbHV0cGF0IG1ldHVzLiBQZWxsZW50ZXNxdWUgZWxlbWVudHVtIHZlbGl0IHF1YW0sIHZpdGFlIHNlbXBlciBtYWduYSB2ZW5lbmF0aXMgYS4gRnVzY2UgbnVsbGEgbG9yZW0sIG1vbGxpcyBzaXQgYW1ldCBpYWN1bGlzIGV0LCBtYXR0aXMgaWQgbWkuIE1vcmJpIGVuaW0gdmVsaXQsIGRpZ25pc3NpbSBzZW1wZXIgZGlnbmlzc2ltIG5lYywgdGluY2lkdW50IHZlbCBqdXN0by4gTWFlY2VuYXMgYmliZW5kdW0gZWZmaWNpdHVyIGVyb3MsIGZldWdpYXQgdm9sdXRwYXQgbGFjdXMgc29kYWxlcyB2aXRhZS4gUHJvaW4gZmF1Y2lidXMgbmlzbCBub24gbmlzbCBjb25zZWN0ZXR1ciBhbGlxdWFtLiBNYXVyaXMgcGxhY2VyYXQgbGVvIGxhb3JlZXQsIHRlbXBvciB0dXJwaXMgc2NlbGVyaXNxdWUsIGlhY3VsaXMgbGVvLiBWZXN0aWJ1bHVtIHF1aXMgaXBzdW0gYXQgdGVsbHVzIGFjY3Vtc2FuIGFsaXF1ZXQgdml0YWUgZXUgbGVvLiBQcm9pbiByaG9uY3VzIGRvbG9yIGZhdWNpYnVzLCBlbGVtZW50dW0ganVzdG8gbmVjLCBzb2RhbGVzIGRpYW0uIEludGVnZXIgZXUgdmVsaXQgY29uZGltZW50dW0sIGlhY3VsaXMgbG9yZW0gc2VkLCB0cmlzdGlxdWUgcXVhbS4gTnVsbGFtIHVsdHJpY2llcyBzYWdpdHRpcyBuZXF1ZSBlbGVpZmVuZCBmYWNpbGlzaXMuIFByb2luIHF1aXMgbGFvcmVldCBhdWd1ZSwgbmVjIG1vbGVzdGllIHJpc3VzLiBOYW0gcXVpcyBiaWJlbmR1bSBpcHN1bSwgcXVpcyBzb2xsaWNpdHVkaW4gbWFzc2EuJyxcbiAgICB2aWV3czogNzAxXG4gIH1cbn0sIHtcbiAgY2F0ZWdvcnk6ICdUb3BpY3MnLFxuICB2YWx1ZToge1xuICAgIGhlYWRsaW5lOiAnVG9waWNzIGhhcHBlbmQnLFxuICAgIHRleHQ6ICdPbiB0aGUgb3RoZXIgaGFuZCwgd2UgZGVub3VuY2Ugd2l0aCByaWdodGVvdXMgaW5kaWduYXRpb24gYW5kIGRpc2xpa2UgbWVuIHdobyBhcmUgc28gYmVndWlsZWQgYW5kIGRlbW9yYWxpemVkIGJ5IHRoZSBjaGFybXMgb2YgcGxlYXN1cmUgb2YgdGhlIG1vbWVudCwgc28gYmxpbmRlZCBieSBkZXNpcmUsIHRoYXQgdGhleSBjYW5ub3QgZm9yZXNlZSB0aGUgcGFpbiBhbmQgdHJvdWJsZSB0aGF0IGFyZSBib3VuZCB0byBlbnN1ZTsgYW5kIGVxdWFsIGJsYW1lIGJlbG9uZ3MgdG8gdGhvc2Ugd2hvIGZhaWwgaW4gdGhlaXIgZHV0eSB0aHJvdWdoIHdlYWtuZXNzIG9mIHdpbGwsIHdoaWNoIGlzIHRoZSBzYW1lIGFzIHNheWluZyB0aHJvdWdoIHNocmlua2luZyBmcm9tIHRvaWwgYW5kIHBhaW4uIFRoZXNlIGNhc2VzIGFyZSBwZXJmZWN0bHkgc2ltcGxlIGFuZCBlYXN5IHRvIGRpc3Rpbmd1aXNoLiBJbiBhIGZyZWUgaG91ciwgd2hlbiBvdXIgcG93ZXIgb2YgY2hvaWNlIGlzIHVudHJhbW1lbGxlZCBhbmQgd2hlbiBub3RoaW5nIHByZXZlbnRzIG91ciBiZWluZyBhYmxlIHRvIGRvIHdoYXQgd2UgbGlrZSBiZXN0LCBldmVyeSBwbGVhc3VyZSBpcyB0byBiZSB3ZWxjb21lZCBhbmQgZXZlcnkgcGFpbiBhdm9pZGVkLiBCdXQgaW4gY2VydGFpbiBjaXJjdW1zdGFuY2VzIGFuZCBvd2luZyB0byB0aGUgY2xhaW1zIG9mIGR1dHkgb3IgdGhlIG9ibGlnYXRpb25zIG9mIGJ1c2luZXNzIGl0IHdpbGwgZnJlcXVlbnRseSBvY2N1ciB0aGF0IHBsZWFzdXJlcyBoYXZlIHRvIGJlIHJlcHVkaWF0ZWQgYW5kIGFubm95YW5jZXMgYWNjZXB0ZWQuIFRoZSB3aXNlIG1hbiB0aGVyZWZvcmUgYWx3YXlzIGhvbGRzJyxcbiAgICB2aWV3czogOTAxMzJcbiAgfVxufSwge1xuICBjYXRlZ29yeTogJ05ld3MnLFxuICB2YWx1ZToge1xuICAgIGhlYWRsaW5lOiAnTmV3cyBoYXBwZW5kJyxcbiAgICB0ZXh0OiAnQWxpcXVhbSBjb25zZWN0ZXR1ciBhdWd1ZSB0dXJwaXMsIHZlbCB0cmlzdGlxdWUgaXBzdW0gdGluY2lkdW50IGFjLiBVdCBhIGRpZ25pc3NpbSBlc3QuIEFlbmVhbiBhdCBwb3N1ZXJlIHR1cnBpcy4gRHVpcyBxdWlzIGx1Y3R1cyBwdXJ1cy4gQWVuZWFuIGVmZmljaXR1ciB2ZXN0aWJ1bHVtIHRvcnRvciB2ZWwgaGVuZHJlcml0LiBNb3JiaSBzaXQgYW1ldCBwaGFyZXRyYSBpcHN1bSwgYXQgZWxlaWZlbmQgZXJhdC4gU2VkIGxhY2luaWEgbWV0dXMgc2FwaWVuLCB2ZWwgY29uc2VxdWF0IGp1c3RvIGZyaW5naWxsYSBldC4gU3VzcGVuZGlzc2UgYWMgdmVsaXQgZXQgcXVhbSBmYWNpbGlzaXMgdm9sdXRwYXQuIENyYXMgYXQgb2RpbyB0ZWxsdXMuIE1hdXJpcyBxdWFtIGxlY3R1cywgYmliZW5kdW0gc2VkIGxhY2luaWEgc2VkLCB1bHRyaWNlcyBuZWMgZG9sb3IuIERvbmVjIHV0IGV4IGVnZXQgZG9sb3IgbGFjaW5pYSBsYWNpbmlhIHF1aXMgZXUgbmlzbC4gUHJvaW4gbHVjdHVzIG1heGltdXMgdmVzdGlidWx1bS4gUXVpc3F1ZSBhIGZlbGlzIG5lYyBudW5jIGVnZXN0YXMgcGVsbGVudGVzcXVlIGluIG5vbiBxdWFtLiBOYW0gbGFjaW5pYSByaG9uY3VzIHZlbGl0IHNlZCBpbnRlcmR1bS4gU3VzcGVuZGlzc2UgbnVuYyB1cm5hLCB0cmlzdGlxdWUgaWQgc2VtIGEsIGNvbmRpbWVudHVtIGxhb3JlZXQgcmlzdXMuJyxcbiAgICB2aWV3czogMTMyXG4gIH1cbn0sIHtcbiAgY2F0ZWdvcnk6ICdUb3BpY3MnLFxuICB2YWx1ZToge1xuICAgIGhlYWRsaW5lOiAnVG9waWNzIGhhcHBlbmQnLFxuICAgIHRleHQ6ICdPbiB0aGUgb3RoZXIgaGFuZCwgd2UgZGVub3VuY2Ugd2l0aCByaWdodGVvdXMgaW5kaWduYXRpb24gYW5kIGRpc2xpa2UgbWVuIHdobyBhcmUgc28gYmVndWlsZWQgYW5kIGRlbW9yYWxpemVkIGJ5IHRoZSBjaGFybXMgb2YgcGxlYXN1cmUgb2YgdGhlIG1vbWVudCwgc28gYmxpbmRlZCBieSBkZXNpcmUsIHRoYXQgdGhleSBjYW5ub3QgZm9yZXNlZSB0aGUgcGFpbiBhbmQgdHJvdWJsZSB0aGF0IGFyZSBib3VuZCB0byBlbnN1ZTsgYW5kIGVxdWFsIGJsYW1lIGJlbG9uZ3MgdG8gdGhvc2Ugd2hvIGZhaWwgaW4gdGhlaXIgZHV0eSB0aHJvdWdoIHdlYWtuZXNzIG9mIHdpbGwsIHdoaWNoIGlzIHRoZSBzYW1lIGFzIHNheWluZyB0aHJvdWdoIHNocmlua2luZyBmcm9tIHRvaWwgYW5kIHBhaW4uIFRoZXNlIGNhc2VzIGFyZSBwZXJmZWN0bHkgc2ltcGxlIGFuZCBlYXN5IHRvIGRpc3Rpbmd1aXNoLiBJbiBhIGZyZWUgaG91ciwgd2hlbiBvdXIgcG93ZXIgb2YgY2hvaWNlIGlzIHVudHJhbW1lbGxlZCBhbmQgd2hlbiBub3RoaW5nIHByZXZlbnRzIG91ciBiZWluZyBhYmxlIHRvIGRvIHdoYXQgd2UgbGlrZSBiZXN0LCBldmVyeSBwbGVhc3VyZSBpcyB0byBiZSB3ZWxjb21lZCBhbmQgZXZlcnkgcGFpbiBhdm9pZGVkLiBCdXQgaW4gY2VydGFpbiBjaXJjdW1zdGFuY2VzIGFuZCBvd2luZyB0byB0aGUgY2xhaW1zIG9mIGR1dHkgb3IgdGhlIG9ibGlnYXRpb25zIG9mIGJ1c2luZXNzIGl0IHdpbGwgZnJlcXVlbnRseSBvY2N1ciB0aGF0IHBsZWFzdXJlcyBoYXZlIHRvIGJlIHJlcHVkaWF0ZWQgYW5kIGF0ZXJzIHRvIHRoaXMgcHJpbmNpcGxlIG9mIHNlbGVjdGlvbjogaGUgcmVqZWN0cyBwbGVhc3UnLFxuICAgIHZpZXdzOiA3MDFcbiAgfVxufSwge1xuICBjYXRlZ29yeTogJ1RvcGljcycsXG4gIHZhbHVlOiB7XG4gICAgaGVhZGxpbmU6ICdTb21ldGhpbmcgVG9waWNzJyxcbiAgICB0ZXh0OiAnRG9uZWMgdXQgZWxlbWVudHVtIGVyYXQsIGF0IHVsbGFtY29ycGVyIGVzdC4gVXQgdHJpc3RpcXVlLCBtYXVyaXMgaW4gaW50ZXJkdW0gY29uc2VjdGV0dXIsIG5lcXVlIGxlbyB2aXZlcnJhIGxlbywgbm9uIHNhZ2l0dGlzIGVuaW0gbGVvIHZpdGFlIHVybmEuIENyYXMgZXJvcyB0dXJwaXMsIGRpZ25pc3NpbSBhdCBzY2VsZXJpc3F1ZSBub24sIGZyaW5naWxsYSBzZWQgb2Rpby4gTW9yYmkgdHJpc3RpcXVlLCBqdXN0byBzaXQgYW1ldCBzb2RhbGVzIHZlc3RpYnVsdW0sIGp1c3RvIGVsaXQgZGFwaWJ1cyB0ZWxsdXMsIGVnZXQgc2FnaXR0aXMgb2RpbyBsaWJlcm8gbm9uIGFyY3UuIE51bmMgY29udmFsbGlzIGlwc3VtIGEgbWF4aW11cyBmZXJtZW50dW0uIE5hbSB0aW5jaWR1bnQgY3Vyc3VzIHVsdHJpY2VzLiBJbiBhYyBjdXJzdXMgcmlzdXMuJyxcbiAgICB2aWV3czogOTAxMzJcbiAgfVxufSwge1xuICBjYXRlZ29yeTogJ05ld3MnLFxuICB2YWx1ZToge1xuICAgIGhlYWRsaW5lOiAnTmV3cyBoYXBwZW5kJyxcbiAgICB0ZXh0OiAnU2VkIGlhY3VsaXMsIGxlY3R1cyB2aXRhZSBtb2xsaXMgY29uc2VjdGV0dXIsIG5pYmggbGliZXJvIGludGVyZHVtIGlwc3VtLCBldSBwdWx2aW5hciBhcmN1IGxlbyBldSByaXN1cy4gUHJvaW4gcHVsdmluYXIgZXJvcyBzY2VsZXJpc3F1ZSBsb3JlbSBkaWduaXNzaW0sIHByZXRpdW0gYmxhbmRpdCBuaXNpIHZvbHV0cGF0LiBFdGlhbSBzaXQgYW1ldCBlbGl0IHZpdGFlIGxlY3R1cyBlbGVtZW50dW0gbGFvcmVldC4gTW9yYmkgcG9zdWVyZSBleCBlcm9zLCBub24gdWx0cmljZXMgcHVydXMgY29uZGltZW50dW0gc2FnaXR0aXMuIER1aXMgZWdldCBhdWN0b3Igb3JjaS4gTW9yYmkgdWx0cmljZXMgbG9ib3J0aXMgbmVxdWUgZXQgaWFjdWxpcy4gSW4gbm9uIGZlbGlzIGFsaXF1ZXQsIGZpbmlidXMgbWkgdmVsLCB1bHRyaWNpZXMgZGlhbS4gVXQgaWQgaGVuZHJlcml0IHVybmEuIE5hbSBpYWN1bGlzIGRvbG9yIG5vbiBlbGl0IHNvZGFsZXMgc29kYWxlcy4gUGVsbGVudGVzcXVlIGNvbnZhbGxpcywgbG9yZW0gc2l0IGFtZXQgc2FnaXR0aXMgdWx0cmljZXMsIHJpc3VzIGVyb3MgYmxhbmRpdCBsYWN1cywgdm9sdXRwYXQgdmVzdGlidWx1bSBmZWxpcyBuaWJoIGVnZXQgZW5pbS4gRXRpYW0gcG9ydGEgbWF4aW11cyBsaWd1bGEgc2l0IGFtZXQgZXVpc21vZC4gTnVsbGFtIGFsaXF1YW0gYmliZW5kdW0gbGVvLiBQZWxsZW50ZXNxdWUgdGVtcHVzIGFyY3UgdmVsIG9kaW8gbWF4aW11cyBydXRydW0uIEV0aWFtIGlkIGNvbnZhbGxpcyBsaWJlcm8uIFZlc3RpYnVsdW0gYW50ZSBpcHN1bSBwcmltaXMgaW4gZmF1Y2lidXMgb3JjaSBsdWN0dXMgZXQgdWx0cmljZXMgcG9zdWVyZSBjdWJpbGlhIEN1cmFlOyBEb25lYyBuaXNsIG51bGxhLCBsYWNpbmlhIHZlbCBzYWdpdHRpcyBuZWMsIHB1bHZpbmFyIGZpbmlidXMgYXVndWUuJyxcbiAgICB2aWV3czogMTMyXG4gIH1cbn0sIHtcbiAgY2F0ZWdvcnk6ICdUb3BpY3MnLFxuICB2YWx1ZToge1xuICAgIGhlYWRsaW5lOiAnVG9waWNzIGhhcHBlbmQnLFxuICAgIHRleHQ6ICdVdCBuaXNsIGp1c3RvLCBzYWdpdHRpcyBhYyB1cm5hIG5vbiwgY29udmFsbGlzIGdyYXZpZGEgdG9ydG9yLiBGdXNjZSBpbiB0cmlzdGlxdWUgbGliZXJvLiBTZWQgcG9ydGEgY29tbW9kbyBuaXNsLCBhYyBwZWxsZW50ZXNxdWUgbWV0dXMgcGVsbGVudGVzcXVlIGEuIEluIHZlbCB1cm5hIHZlbGl0LiBEb25lYyBmYXVjaWJ1cyBtb2xlc3RpZSBudWxsYSwgdmVsIHVsdHJpY2VzIGlwc3VtIGVmZmljaXR1ciBldS4gTW9yYmkgdmFyaXVzIHR1cnBpcyBhYyBlbmltIHVsbGFtY29ycGVyIHVsdHJpY2VzLiBOYW0gb3JuYXJlIGFyY3Ugc2VkIHNvbGxpY2l0dWRpbiBmYWNpbGlzaXMuIFByYWVzZW50IHZlbGl0IGVuaW0sIGx1Y3R1cyB1dCBzZW1wZXIgYSwgdWxsYW1jb3JwZXIgc2VkIGp1c3RvLiBDcmFzIGxpZ3VsYSBxdWFtLCBhbGlxdWV0IHNpdCBhbWV0IGJpYmVuZHVtIGEsIGZlcm1lbnR1bSBldSBhbnRlLiBEb25lYyBzdXNjaXBpdCBlbGVpZmVuZCBtZXR1cywgZXQgbHVjdHVzIGVsaXQgY3Vyc3VzIGFjLiBBZW5lYW4gaW50ZXJkdW0gbnVuYyBhYyBpbXBlcmRpZXQgbW9sZXN0aWUuIFZpdmFtdXMgdm9sdXRwYXQgdG9ydG9yIGN1cnN1cyBtYWduYSB2ZXN0aWJ1bHVtIHRpbmNpZHVudC4gQ3VyYWJpdHVyIHRpbmNpZHVudCwgZHVpIHV0IGN1cnN1cyBtYWxlc3VhZGEsIGRpYW0gbWkgZWZmaWNpdHVyIHRvcnRvciwgc2l0IGFtZXQgZGljdHVtIGF1Z3VlIGR1aSB2ZWwgbWF1cmlzLicsXG4gICAgdmlld3M6IDcwMVxuICB9XG59LCB7XG4gIGNhdGVnb3J5OiAnVG9waWNzJyxcbiAgdmFsdWU6IHtcbiAgICBoZWFkbGluZTogJ1NvbWV0aGluZyBUb3BpY3MnLFxuICAgIHRleHQ6ICdTb21ldGhpbmcgcmVhbGx5IGltcG9ydGFudCBoYXBwZW5lZCBzb21ld2hlcmUgdG9kYXkgU29tZXRoaW5nIHJlYWxseSBpbXBvcnRhbnQgaGFwcGVuZWQgc29tZXdoZXJlIHRvZGF5IFNvbWV0aGluZyByZWFsbHkgaW1wb3J0YW50IGhhcHBlbmVkIHNvbWV3aGVyZSB0b2RheScsXG4gICAgdmlld3M6IDkwMTMyXG4gIH1cbn1dO1xuZXhwb3J0cy5tb2NrRG9jdW1lbnRzID0gbW9ja0RvY3VtZW50cztcblxufSx7fV0sMTU1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2FuZ3VsYXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJhbmd1bGFyXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0gX2FuZ3VsYXIuZGVmYXVsdC5tb2R1bGUoJ2NvcmUnKS5kaXJlY3RpdmUoJ3N3dEFwcCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0ZW1wbGF0ZVVybDogJ2FwcC5odG1sJyxcbiAgICByZXN0cmljdDogJ0UnXG4gIH07XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5cbn0se1wiYW5ndWxhclwiOjg3fV0sMTU2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiLi9yb3V0ZXNcIik7XG5cbnJlcXVpcmUoXCIuL2FwcERpcmVjdGl2ZVwiKTtcblxufSx7XCIuL2FwcERpcmVjdGl2ZVwiOjE1NSxcIi4vcm91dGVzXCI6MTU3fV0sMTU3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiLi9yb3V0ZXNcIik7XG5cbn0se1wiLi9yb3V0ZXNcIjoxNTh9XSwxNTg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfYW5ndWxhciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImFuZ3VsYXJcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX2RlZmF1bHQgPSBfYW5ndWxhci5kZWZhdWx0Lm1vZHVsZSgnY29yZScpLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZSh7XG4gICAgbmFtZTogJ2hvbWUnLFxuICAgIHVybDogJy8nLFxuICAgIHRlbXBsYXRlVXJsOiAnaG9tZVJvdXRlLmh0bWwnXG4gIH0pLnN0YXRlKHtcbiAgICBuYW1lOiAnc2VhcmNoJyxcbiAgICB1cmw6ICcvc2VhcmNoP3F1ZXJ5JyxcbiAgICB0ZW1wbGF0ZVVybDogJ3NlYXJjaFJvdXRlLmh0bWwnXG4gIH0pO1xuICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG59XSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuXG59LHtcImFuZ3VsYXJcIjo4N31dLDE1OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9hbmd1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiYW5ndWxhclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9IF9hbmd1bGFyLmRlZmF1bHQubW9kdWxlKCdob21lJykuZGlyZWN0aXZlKCdzd3RIb21lJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHRlbXBsYXRlVXJsOiAnaG9tZS5odG1sJyxcbiAgICByZXN0cmljdDogJ0UnXG4gIH07XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5cbn0se1wiYW5ndWxhclwiOjg3fV0sMTYwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiLi9ob21lLmRpcmVjdGl2ZVwiKTtcblxucmVxdWlyZShcIi4vcG9wdWxhckRvY3VtZW50c1wiKTtcblxufSx7XCIuL2hvbWUuZGlyZWN0aXZlXCI6MTU5LFwiLi9wb3B1bGFyRG9jdW1lbnRzXCI6MTYyfV0sMTYxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2FuZ3VsYXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJhbmd1bGFyXCIpKTtcblxudmFyIF9kb2N1bWVudHMgPSByZXF1aXJlKFwiLi4vLi4vYXNzZXRzL2RvY3VtZW50c1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0gX2FuZ3VsYXIuZGVmYXVsdC5tb2R1bGUoJ2hvbWUnKS5jb250cm9sbGVyKCdQb3B1bGFyRG9jdW1lbnRzQ29udHJvbGxlcicsIGZ1bmN0aW9uIFBvcHVsYXJEb2N1bWVudHMoKSB7XG4gIHRoaXMuZG9jdW1lbnRzID0gX2RvY3VtZW50cy5tb2NrRG9jdW1lbnRzO1xufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuXG59LHtcIi4uLy4uL2Fzc2V0cy9kb2N1bWVudHNcIjoxNTQsXCJhbmd1bGFyXCI6ODd9XSwxNjI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnJlcXVpcmUoXCIuL3BvcHVsYXJEb2N1bWVudHMuZGlyZWN0aXZlXCIpO1xuXG5yZXF1aXJlKFwiLi9Qb3B1bGFyRG9jdW1lbnRzLmNvbnRyb2xsZXJcIik7XG5cbn0se1wiLi9Qb3B1bGFyRG9jdW1lbnRzLmNvbnRyb2xsZXJcIjoxNjEsXCIuL3BvcHVsYXJEb2N1bWVudHMuZGlyZWN0aXZlXCI6MTYzfV0sMTYzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2FuZ3VsYXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJhbmd1bGFyXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0gX2FuZ3VsYXIuZGVmYXVsdC5tb2R1bGUoJ2hvbWUnKS5kaXJlY3RpdmUoJ3N3dFBvcHVsYXJEb2N1bWVudHMnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgdGVtcGxhdGVVcmw6ICdwb3B1bGFyRG9jdW1lbnRzLmh0bWwnLFxuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgY29udHJvbGxlcjogJ1BvcHVsYXJEb2N1bWVudHNDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdwb3B1bGFyJ1xuICB9O1xufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuXG59LHtcImFuZ3VsYXJcIjo4N31dLDE2NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxucmVxdWlyZShcIi4vYXBwLm1vZHVsZVwiKTtcblxucmVxdWlyZShcIi4vY29yZVwiKTtcblxucmVxdWlyZShcIi4vc2hhcmVkXCIpO1xuXG5yZXF1aXJlKFwiLi9zZWFyY2hQYWdlXCIpO1xuXG5yZXF1aXJlKFwiLi9ob21lXCIpO1xuXG5yZXF1aXJlKFwiLi90cmFuc2xhdGVcIik7XG5cbn0se1wiLi9hcHAubW9kdWxlXCI6MTUwLFwiLi9jb3JlXCI6MTU2LFwiLi9ob21lXCI6MTYwLFwiLi9zZWFyY2hQYWdlXCI6MTY4LFwiLi9zaGFyZWRcIjoxODUsXCIuL3RyYW5zbGF0ZVwiOjE5Mn1dLDE2NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9hbmd1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiYW5ndWxhclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9IF9hbmd1bGFyLmRlZmF1bHQubW9kdWxlKCdzZWFyY2hQYWdlJykuY29udHJvbGxlcignRmlsdGVyUGFuZWxDb250cm9sbGVyJywgWydmaWx0ZXJQYW5lbFNlcnZpY2UnLCBmdW5jdGlvbiBGaWx0ZXJQYW5lbENvbnRyb2xsZXIoZmlsdGVyUGFuZWxTZXJ2aWNlKSB7XG4gIHRoaXMuZmlsdGVyZWRBcnRpY2xlcyA9IGZpbHRlclBhbmVsU2VydmljZS5nZXRGaWx0ZXJlZEFydGljbGVzKCk7XG59XSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuXG59LHtcImFuZ3VsYXJcIjo4N31dLDE2NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9hbmd1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiYW5ndWxhclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9IF9hbmd1bGFyLmRlZmF1bHQubW9kdWxlKCdzZWFyY2hQYWdlJykuZGlyZWN0aXZlKCdzd3RGaWx0ZXJQYW5lbCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICBjb250cm9sbGVyOiAnRmlsdGVyUGFuZWxDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdmaWx0ZXInLFxuICAgIHRlbXBsYXRlVXJsOiAnZmlsdGVyUGFuZWwuaHRtbCdcbiAgfTtcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcblxufSx7XCJhbmd1bGFyXCI6ODd9XSwxNjc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnJlcXVpcmUoXCIuL2ZpbHRlclBhbmVsRGlyZWN0aXZlXCIpO1xuXG5yZXF1aXJlKFwiLi9GaWx0ZXJQYW5lbENvbnRyb2xsZXJcIik7XG5cbn0se1wiLi9GaWx0ZXJQYW5lbENvbnRyb2xsZXJcIjoxNjUsXCIuL2ZpbHRlclBhbmVsRGlyZWN0aXZlXCI6MTY2fV0sMTY4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiLi9zZWFyY2hSZXN1bHRzXCIpO1xuXG5yZXF1aXJlKFwiLi9maWx0ZXJQYW5lbFwiKTtcblxucmVxdWlyZShcIi4vc2VhcmNoUGFnZURpcmVjdGl2ZVwiKTtcblxucmVxdWlyZShcIi4vc2VhcmNoUGFnZUNvbnRyb2xsZXJcIik7XG5cbn0se1wiLi9maWx0ZXJQYW5lbFwiOjE2NyxcIi4vc2VhcmNoUGFnZUNvbnRyb2xsZXJcIjoxNjksXCIuL3NlYXJjaFBhZ2VEaXJlY3RpdmVcIjoxNzAsXCIuL3NlYXJjaFJlc3VsdHNcIjoxNzJ9XSwxNjk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfYW5ndWxhciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImFuZ3VsYXJcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX2RlZmF1bHQgPSBfYW5ndWxhci5kZWZhdWx0Lm1vZHVsZSgnc2VhcmNoUGFnZScpLmNvbnRyb2xsZXIoJ1NlYXJjaFBhZ2VDb250cm9sbGVyJywgWyckdHJhbnNsYXRlJywgZnVuY3Rpb24gKCR0cmFuc2xhdGUpIHt9XSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuXG59LHtcImFuZ3VsYXJcIjo4N31dLDE3MDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9hbmd1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiYW5ndWxhclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9IF9hbmd1bGFyLmRlZmF1bHQubW9kdWxlKCdzZWFyY2hQYWdlJykuZGlyZWN0aXZlKCdzd3RTZWFyY2hQYWdlJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHRlbXBsYXRlVXJsOiAnc2VhcmNoUGFnZS5odG1sJyxcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGNvbnRyb2xsZXI6ICdTZWFyY2hQYWdlQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnc2VhcmNoUGFnZUN0cmwnXG4gIH07XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5cbn0se1wiYW5ndWxhclwiOjg3fV0sMTcxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3JcIik7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvZXM2LnN5bWJvbFwiKTtcblxucmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlXCIpO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL2VzNi5tYXRoLnRydW5jXCIpO1xuXG52YXIgX2FuZ3VsYXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJhbmd1bGFyXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbnZhciBfZGVmYXVsdCA9IF9hbmd1bGFyLmRlZmF1bHQubW9kdWxlKCdzZWFyY2hQYWdlJykuY29udHJvbGxlcignU2VhcmNoUmVzdWx0c0NvbnRyb2xsZXInLCBbJyRzdGF0ZScsICdkb2N1bWVudFNlcnZpY2UnLCBmdW5jdGlvbiBTZWFyY2hSZXN1bHRzQ29udHJvbGxlcigkc3RhdGUsIGRvY3VtZW50U2VydmljZSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciBxdWVyeSA9ICRzdGF0ZS5wYXJhbXMucXVlcnk7XG4gIHRoaXMucmVzdWx0cyA9IFtdO1xuICB2YXIgcmVzdWx0c1BlclBhZ2UgPSA4O1xuICBkb2N1bWVudFNlcnZpY2Uuc2VhcmNoRG9jdW1lbnRzKHF1ZXJ5KS50aGVuKGZ1bmN0aW9uIChkb2N1bWVudHMpIHtcbiAgICBfdGhpcy5wYWdpbmF0ZWREb2N1bWVudHMgPSBkb2N1bWVudHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGl0ZW0sIGluZHgpIHtcbiAgICAgIHZhciBjdXJyZW50Q2h1bmsgPSBNYXRoLnRydW5jKGluZHggLyByZXN1bHRzUGVyUGFnZSk7XG5cbiAgICAgIGlmICghYWNjW2N1cnJlbnRDaHVua10pIHtcbiAgICAgICAgYWNjLnB1c2goW10pO1xuICAgICAgfVxuXG4gICAgICBhY2NbY3VycmVudENodW5rXS5wdXNoKGl0ZW0pO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBbXSk7XG5cbiAgICB2YXIgX3RoaXMkcGFnaW5hdGVkRG9jdW1lID0gX3NsaWNlZFRvQXJyYXkoX3RoaXMucGFnaW5hdGVkRG9jdW1lbnRzLCAxKTtcblxuICAgIF90aGlzLnJlc3VsdHMgPSBfdGhpcyRwYWdpbmF0ZWREb2N1bWVbMF07XG5cbiAgICBfdGhpcy5jaGFuZ2VQYWdlID0gZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICAgIF90aGlzLnJlc3VsdHMgPSBfdGhpcy5wYWdpbmF0ZWREb2N1bWVudHNbcGFnZV07XG4gICAgfTtcbiAgfSk7XG59XSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuXG59LHtcImFuZ3VsYXJcIjo4NyxcImNvcmUtanMvbW9kdWxlcy9lczYubWF0aC50cnVuY1wiOjE0NSxcImNvcmUtanMvbW9kdWxlcy9lczYuc3ltYm9sXCI6MTQ3LFwiY29yZS1qcy9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3JcIjoxNDgsXCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZVwiOjE0OX1dLDE3MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxucmVxdWlyZShcIi4vc2VhcmNoUmVzdWx0c0RpcmVjdGl2ZVwiKTtcblxucmVxdWlyZShcIi4vU2VhcmNoUmVzdWx0c0NvbnRyb2xsZXJcIik7XG5cbn0se1wiLi9TZWFyY2hSZXN1bHRzQ29udHJvbGxlclwiOjE3MSxcIi4vc2VhcmNoUmVzdWx0c0RpcmVjdGl2ZVwiOjE3M31dLDE3MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9hbmd1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiYW5ndWxhclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9IF9hbmd1bGFyLmRlZmF1bHQubW9kdWxlKCdzZWFyY2hQYWdlJykuZGlyZWN0aXZlKCdzd3RTZWFyY2hSZXN1bHRzJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIGNvbnRyb2xsZXI6ICdTZWFyY2hSZXN1bHRzQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnc2VhcmNoJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3NlYXJjaFJlc3VsdHMuaHRtbCdcbiAgfTtcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcblxufSx7XCJhbmd1bGFyXCI6ODd9XSwxNzQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfYW5ndWxhciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImFuZ3VsYXJcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX2RlZmF1bHQgPSBfYW5ndWxhci5kZWZhdWx0Lm1vZHVsZSgnc2hhcmVkJykuZGlyZWN0aXZlKCdzd3REb2N1bWVudCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRlbXBsYXRlVXJsOiAnZG9jdW1lbnQuaHRtbCcsXG4gICAgc2NvcGU6IHtcbiAgICAgIHNob3dIZWFkbGluZTogJ0BoZWFkbGluZScsXG4gICAgICBkb2N1bWVudDogJzwnXG4gICAgfVxuICB9O1xufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuXG59LHtcImFuZ3VsYXJcIjo4N31dLDE3NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxucmVxdWlyZShcIi4vZG9jdW1lbnREaXJlY3RpdmVcIik7XG5cbn0se1wiLi9kb2N1bWVudERpcmVjdGl2ZVwiOjE3NH1dLDE3NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9hbmd1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiYW5ndWxhclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBzaGFyZWRNb2R1bGUgPSBfYW5ndWxhci5kZWZhdWx0Lm1vZHVsZSgnc2hhcmVkJyk7XG5cbnNoYXJlZE1vZHVsZS5jb250cm9sbGVyKCdGb290ZXJDb250cm9sbGVyJywgZnVuY3Rpb24gKCkge1xuICB0aGlzLnRleHQgPSAnMjAxOSc7XG59KTtcbnZhciBfZGVmYXVsdCA9IHNoYXJlZE1vZHVsZTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuXG59LHtcImFuZ3VsYXJcIjo4N31dLDE3NzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9hbmd1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiYW5ndWxhclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9IF9hbmd1bGFyLmRlZmF1bHQubW9kdWxlKCdzaGFyZWQnKS5kaXJlY3RpdmUoJ3N3dEZvb3RlcicsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRlbXBsYXRlVXJsOiAnZm9vdGVyLmh0bWwnXG4gIH07XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5cbn0se1wiYW5ndWxhclwiOjg3fV0sMTc4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiLi9mb290ZXIuY29udHJvbGxlclwiKTtcblxucmVxdWlyZShcIi4vZm9vdGVyLmRpcmVjdGl2ZVwiKTtcblxufSx7XCIuL2Zvb3Rlci5jb250cm9sbGVyXCI6MTc2LFwiLi9mb290ZXIuZGlyZWN0aXZlXCI6MTc3fV0sMTc5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2FuZ3VsYXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJhbmd1bGFyXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0gX2FuZ3VsYXIuZGVmYXVsdC5tb2R1bGUoJ3NoYXJlZCcpLmNvbnRyb2xsZXIoJ0hhbWJ1cmdlck1lbnVDb250cm9sbGVyJywgZnVuY3Rpb24gSGFtYnVyZ2VyTWVudUNvbnRyb2xsZXIoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuXG4gIHRoaXMudG9nZ2xlTWVudSA9IGZ1bmN0aW9uICgpIHtcbiAgICBfdGhpcy5pc0FjdGl2ZSA9ICFfdGhpcy5pc0FjdGl2ZTtcbiAgfTtcblxuICB0aGlzLm5hdkxpc3QgPSBbe1xuICAgIHRleHQ6ICdIb21lJyxcbiAgICBzdGF0ZTogJ2hvbWUnXG4gIH1dO1xufSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuXG59LHtcImFuZ3VsYXJcIjo4N31dLDE4MDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9hbmd1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiYW5ndWxhclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9IF9hbmd1bGFyLmRlZmF1bHQubW9kdWxlKCdzaGFyZWQnKS5kaXJlY3RpdmUoJ3N3dEhhbWJ1cmdlck1lbnUnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICB0ZW1wbGF0ZVVybDogJ2hhbWJ1cmdlck1lbnUuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ0hhbWJ1cmdlck1lbnVDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdoYW1idXJnZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoJHNjb3BlLCBpRWxlbSkge1xuICAgICAgZnVuY3Rpb24gY2xvc2VNZW51KCkge1xuICAgICAgICBpZiAoISRzY29wZS5oYW1idXJnZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuaGFtYnVyZ2VyLnRvZ2dsZU1lbnUoKTtcbiAgICAgICAgJHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTWVudSk7XG4gICAgICBpRWxlbS5vbignY2xpY2snLCBzdG9wUHJvcGFnYXRpb24pO1xuICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VNZW51KTtcbiAgICAgICAgaUVsZW0ub2ZmKCdjbGljaycsIHN0b3BQcm9wYWdhdGlvbik7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5cbn0se1wiYW5ndWxhclwiOjg3fV0sMTgxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiLi9oYW1idXJnZXJNZW51RGlyZWN0aXZlXCIpO1xuXG5yZXF1aXJlKFwiLi9IYW1idXJnZXJNZW51Q29udHJvbGxlclwiKTtcblxufSx7XCIuL0hhbWJ1cmdlck1lbnVDb250cm9sbGVyXCI6MTc5LFwiLi9oYW1idXJnZXJNZW51RGlyZWN0aXZlXCI6MTgwfV0sMTgyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2FuZ3VsYXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJhbmd1bGFyXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIHNoYXJlZE1vZHVsZSA9IF9hbmd1bGFyLmRlZmF1bHQubW9kdWxlKCdzaGFyZWQnKTtcblxuc2hhcmVkTW9kdWxlLmNvbnRyb2xsZXIoJ0hlYWRlckNvbnRyb2xsZXInLCBmdW5jdGlvbiBIZWFkZXJDb250cm9sbGVyKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHRoaXMubWVudUFjdGl2ZSA9IGZhbHNlO1xuXG4gIHRoaXMudG9nZ2xlTWVudSA9IGZ1bmN0aW9uICgpIHtcbiAgICBfdGhpcy5tZW51QWN0aXZlID0gIV90aGlzLm1lbnVBY3RpdmU7XG4gIH07XG59KTtcbnZhciBfZGVmYXVsdCA9IHNoYXJlZE1vZHVsZTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuXG59LHtcImFuZ3VsYXJcIjo4N31dLDE4MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9hbmd1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiYW5ndWxhclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBfZGVmYXVsdCA9IF9hbmd1bGFyLmRlZmF1bHQubW9kdWxlKCdzaGFyZWQnKS5kaXJlY3RpdmUoJ3N3dEhlYWRlcicsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRlbXBsYXRlVXJsOiAnaGVhZGVyLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6ICdIZWFkZXJDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdoZWFkZXInXG4gIH07XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5cbn0se1wiYW5ndWxhclwiOjg3fV0sMTg0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiLi9oZWFkZXIuY29udHJvbGxlclwiKTtcblxucmVxdWlyZShcIi4vaGVhZGVyLmRpcmVjdGl2ZVwiKTtcblxucmVxdWlyZShcIi4vaGFtYnVyZ2VyTWVudVwiKTtcblxufSx7XCIuL2hhbWJ1cmdlck1lbnVcIjoxODEsXCIuL2hlYWRlci5jb250cm9sbGVyXCI6MTgyLFwiLi9oZWFkZXIuZGlyZWN0aXZlXCI6MTgzfV0sMTg1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiLi9kb2N1bWVudFwiKTtcblxucmVxdWlyZShcIi4vc2VydmljZXNcIik7XG5cbnJlcXVpcmUoXCIuL2hlYWRlclwiKTtcblxucmVxdWlyZShcIi4vZm9vdGVyXCIpO1xuXG5yZXF1aXJlKFwiLi9zZWFyY2hiYXJcIik7XG5cbn0se1wiLi9kb2N1bWVudFwiOjE3NSxcIi4vZm9vdGVyXCI6MTc4LFwiLi9oZWFkZXJcIjoxODQsXCIuL3NlYXJjaGJhclwiOjE4NixcIi4vc2VydmljZXNcIjoxOTF9XSwxODY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnJlcXVpcmUoXCIuL3NlYXJjaGJhckNvbnRyb2xsZXJcIik7XG5cbnJlcXVpcmUoXCIuL3NlYXJjaGJhckRpcmVjdGl2ZVwiKTtcblxufSx7XCIuL3NlYXJjaGJhckNvbnRyb2xsZXJcIjoxODcsXCIuL3NlYXJjaGJhckRpcmVjdGl2ZVwiOjE4OH1dLDE4NzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9hbmd1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiYW5ndWxhclwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBzaGFyZWRNb2R1bGUgPSBfYW5ndWxhci5kZWZhdWx0Lm1vZHVsZSgnc2hhcmVkJyk7XG5cbnNoYXJlZE1vZHVsZS5jb250cm9sbGVyKCdTZWFyY2hiYXJDb250cm9sbGVyJywgWyckc3RhdGUnLCBmdW5jdGlvbiBTZWFyY2hiYXJDb250cm9sbGVyKCRzdGF0ZSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHRoaXMuaW5wdXQgPSAkc3RhdGUucGFyYW1zLnF1ZXJ5IHx8ICcnO1xuXG4gIHRoaXMuc3VibWl0Rm9ybSA9IGZ1bmN0aW9uICgkZXZlbnQpIHtcbiAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAkc3RhdGUuZ28oJ3NlYXJjaCcsIHtcbiAgICAgIHF1ZXJ5OiBfdGhpcy5pbnB1dFxuICAgIH0pO1xuICB9O1xufV0pO1xudmFyIF9kZWZhdWx0ID0gc2hhcmVkTW9kdWxlO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5cbn0se1wiYW5ndWxhclwiOjg3fV0sMTg4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2FuZ3VsYXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJhbmd1bGFyXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0gX2FuZ3VsYXIuZGVmYXVsdC5tb2R1bGUoJ3NoYXJlZCcpLmRpcmVjdGl2ZSgnc3d0U2VhcmNoYmFyJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgdGVtcGxhdGVVcmw6ICdzZWFyY2hiYXIuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ1NlYXJjaGJhckNvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ3NlYXJjaGJhcidcbiAgfTtcbn0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcblxufSx7XCJhbmd1bGFyXCI6ODd9XSwxODk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfYW5ndWxhciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImFuZ3VsYXJcIikpO1xuXG52YXIgX2RvY3VtZW50cyA9IHJlcXVpcmUoXCIuLi8uLi9hc3NldHMvZG9jdW1lbnRzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX2RlZmF1bHQgPSBfYW5ndWxhci5kZWZhdWx0Lm1vZHVsZSgnc2hhcmVkJykuc2VydmljZSgnZG9jdW1lbnRTZXJ2aWNlJywgWyckcScsIGZ1bmN0aW9uIGRvY3VtZW50U2VydmljZSgkcSkge1xuICB2YXIgZG9jdW1lbnRzID0gW107XG5cbiAgZnVuY3Rpb24gZ2V0RG9jdW1lbnRzKCkge1xuICAgIHJldHVybiAkcS5yZXNvbHZlKF9kb2N1bWVudHMubW9ja0RvY3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBzZWFyY2hEb2N1bWVudHMocXVlcnkpIHtcbiAgICByZXR1cm4gJHEucmVzb2x2ZShfZG9jdW1lbnRzLm1vY2tEb2N1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBkb2N1bWVudHM6IGRvY3VtZW50cyxcbiAgICBnZXREb2N1bWVudHM6IGdldERvY3VtZW50cyxcbiAgICBzZWFyY2hEb2N1bWVudHM6IHNlYXJjaERvY3VtZW50c1xuICB9O1xufV0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcblxufSx7XCIuLi8uLi9hc3NldHMvZG9jdW1lbnRzXCI6MTU0LFwiYW5ndWxhclwiOjg3fV0sMTkwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG5yZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvclwiKTtcblxucmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lczYub2JqZWN0LmtleXNcIik7XG5cbnJlcXVpcmUoXCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZVwiKTtcblxudmFyIF9hbmd1bGFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiYW5ndWxhclwiKSk7XG5cbnZhciBfZG9jdW1lbnRzID0gcmVxdWlyZShcIi4uLy4uL2Fzc2V0cy9kb2N1bWVudHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBmaWx0ZXJQYW5lbE1vZHVsZSA9IF9hbmd1bGFyLmRlZmF1bHQubW9kdWxlKCdzZWFyY2hQYWdlJyk7XG5cbmZpbHRlclBhbmVsTW9kdWxlLnNlcnZpY2UoJ2ZpbHRlclBhbmVsU2VydmljZScsIGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZ2V0RmlsdGVyZWRBcnRpY2xlcygpIHtcbiAgICB2YXIgZmlsdGVyZWRBcnRpY2xlcyA9IFtdO1xuICAgIHZhciBjYWNoZSA9IHt9O1xuXG4gICAgX2RvY3VtZW50cy5tb2NrRG9jdW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgIHZhciBjYXRlZ29yeSA9IGVsZW0uY2F0ZWdvcnk7XG5cbiAgICAgIGlmIChjYWNoZVtjYXRlZ29yeV0pIHtcbiAgICAgICAgY2FjaGVbY2F0ZWdvcnldLnB1c2goZWxlbS52YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWNoZVtjYXRlZ29yeV0gPSBbZWxlbS52YWx1ZV07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3Qua2V5cyhjYWNoZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBmaWx0ZXJlZEFydGljbGVzLnB1c2goe1xuICAgICAgICBmaWx0ZXJlZENhdGVnb3J5TmFtZToga2V5LFxuICAgICAgICBmaWx0ZXJlZEdyb3VwOiBjYWNoZVtrZXldXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZmlsdGVyZWRBcnRpY2xlcztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0RmlsdGVyZWRBcnRpY2xlczogZ2V0RmlsdGVyZWRBcnRpY2xlc1xuICB9O1xufSk7XG52YXIgX2RlZmF1bHQgPSBmaWx0ZXJQYW5lbE1vZHVsZTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuXG59LHtcIi4uLy4uL2Fzc2V0cy9kb2N1bWVudHNcIjoxNTQsXCJhbmd1bGFyXCI6ODcsXCJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yXCI6MTQ0LFwiY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3Qua2V5c1wiOjE0NixcImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlXCI6MTQ5fV0sMTkxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiLi9kb2N1bWVudFNlcnZpY2VcIik7XG5cbnJlcXVpcmUoXCIuL2ZpbHRlclBhbmVsU2VydmljZVwiKTtcblxufSx7XCIuL2RvY3VtZW50U2VydmljZVwiOjE4OSxcIi4vZmlsdGVyUGFuZWxTZXJ2aWNlXCI6MTkwfV0sMTkyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiLi90cmFuc2xhdGVDb25maWdcIik7XG5cbnJlcXVpcmUoXCIuL3RyYW5zbGF0ZUNvbnRyb2xsZXJcIik7XG5cbnJlcXVpcmUoXCIuL3RyYW5zbGF0ZURpcmVjdGl2ZVwiKTtcblxufSx7XCIuL3RyYW5zbGF0ZUNvbmZpZ1wiOjE5MyxcIi4vdHJhbnNsYXRlQ29udHJvbGxlclwiOjE5NCxcIi4vdHJhbnNsYXRlRGlyZWN0aXZlXCI6MTk1fV0sMTkzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2FuZ3VsYXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJhbmd1bGFyXCIpKTtcblxudmFyIF9kZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL2Fzc2V0cy9kYXRhL2RlLmpzb25cIikpO1xuXG52YXIgX2VuID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vYXNzZXRzL2RhdGEvZW4uanNvblwiKSk7XG5cbnZhciBfZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9hc3NldHMvZGF0YS9lcy5qc29uXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0gX2FuZ3VsYXIuZGVmYXVsdC5tb2R1bGUoJ3RyYW5zbGF0ZScpLmNvbmZpZyhbJyR0cmFuc2xhdGVQcm92aWRlcicsIGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcbiAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZW4nLCBfZW4uZGVmYXVsdCk7XG4gICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2RlJywgX2RlLmRlZmF1bHQpO1xuICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlcycsIF9lcy5kZWZhdWx0KTtcbiAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZUNvb2tpZVN0b3JhZ2UoKTtcbiAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZUxvY2FsU3RvcmFnZSgpO1xuICAkdHJhbnNsYXRlUHJvdmlkZXIucHJlZmVycmVkTGFuZ3VhZ2UoJ2VuJyk7XG4gICR0cmFuc2xhdGVQcm92aWRlci5yZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cyhbJ2VuJywgJ2RlJywgJ2VzJ10sIHtcbiAgICAnZW4tKic6ICdlbicsXG4gICAgJ2RlLSonOiAnZGUnLFxuICAgICdlcy0qJzogJ2VzJ1xuICB9KTtcbiAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVN0YXRpY0ZpbGVzTG9hZGVyKHtcbiAgICBwcmVmaXg6ICdkYXRhLycsXG4gICAgc3VmZml4OiAnLmpzb24nXG4gIH0pO1xuICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KCdzYW5pdGl6ZScpO1xufV0pO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcblxufSx7XCIuLi9hc3NldHMvZGF0YS9kZS5qc29uXCI6MTUxLFwiLi4vYXNzZXRzL2RhdGEvZW4uanNvblwiOjE1MixcIi4uL2Fzc2V0cy9kYXRhL2VzLmpzb25cIjoxNTMsXCJhbmd1bGFyXCI6ODd9XSwxOTQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfYW5ndWxhciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImFuZ3VsYXJcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgX2RlZmF1bHQgPSBfYW5ndWxhci5kZWZhdWx0Lm1vZHVsZSgndHJhbnNsYXRlJykuY29udHJvbGxlcignVHJhbnNsYXRlQ29udHJvbGxlcicsIFsnJHRyYW5zbGF0ZScsIGZ1bmN0aW9uICgkdHJhbnNsYXRlKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgdGhpcy5zZWxlY3RlZExhbmd1YWdlID0gJHRyYW5zbGF0ZS51c2UoKTtcblxuICB0aGlzLmNoYW5nZUxhbmd1YWdlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICR0cmFuc2xhdGUudXNlKGtleSk7XG4gICAgX3RoaXMuc2VsZWN0ZWRMYW5ndWFnZSA9IGtleTtcbiAgfTtcbn1dKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5cbn0se1wiYW5ndWxhclwiOjg3fV0sMTk1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2FuZ3VsYXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJhbmd1bGFyXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIF9kZWZhdWx0ID0gX2FuZ3VsYXIuZGVmYXVsdC5tb2R1bGUoJ3RyYW5zbGF0ZScpLmRpcmVjdGl2ZSgnc3d0VHJhbnNsYXRlJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHRlbXBsYXRlVXJsOiAndHJhbnNsYXRlLmh0bWwnLFxuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgY29udHJvbGxlcjogJ1RyYW5zbGF0ZUNvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ3RyYW5zbGF0ZUN0cmwnXG4gIH07XG59KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5cbn0se1wiYW5ndWxhclwiOjg3fV19LHt9LFs3NywxNjQsMV0pO1xuIl19
